<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="x-ua-compatible" content="IE=edge">
  <meta name="referrer" content="no-referrer" />
  <meta name="generator" content="diffoscope" />
  <link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAADdgAAA3YBfdWCzAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAM8SURBVFiF7dZdaJZlGAfw3/O+e9XNjy3XllZzWImBxIpifqTgsmUHBSIeBNFBdRh0UHQ0xGdb66CFBIERZEFRQRRUw0HkQkLMYQSBdpCFWdgSP6jpNn2393k68Nn2bj3vXtb6UOh/cl/39b/u67mem/913zf/4z9GUDw5xNI8n5WIzW9m/QF2YluJmI8203mALzEvLWAerRs4Pz6vSIkZSlsYk0/GkaB0zEgyDgWMlijyWsJuS2fkQwu8pqpMTA0ypeiShG71Bp0rU8Q+A47MWEDgvHZbZl/Av4SpIgxVYB3IqwZDmoUuYkzosDaNchpAoFqkSmgjGPWzLieF1k3JHVsjvCJQHBYaSy9g1E3m+QImQiK9SbNGqJDzuiDZ0lggQJCsyelDq8BB47sbCWTsnvhG3kqcLL833eqF4hk1EOoTOjZjnnaRdq2l6KtMAyl4/g23bKJrun+Mt9uOq7nvqOVbebWYy9Adc1fM/R/3CO780dONbIeFPHsPw+ULeM5ZHTbXHfUtXpxOZzgT5z02UGsZThRzF/ilht9G+fr4zfbfccIxXIa7uVTup69i7LJXaEEqF3on1d9ludBLpVLOVoT1lky9QYtwQ6p3WAVqSyUslWwSbRrkPJrMtgn0iBVk7BPJ4sGE24EPQKW3jLgdzWKLBTbg0yTuZeGkDsp2gcUGDesHGQ/gK5G8nLMigWiCe3jCrnTRiJ9EYjm1ImsUEq5l8hScPXbpsVtlKhfan+pv0yD0ZqmU5XegGBmnDIo/pylj8oYLOP3Eab/v5Zmi6EtZ3vv1FU/2r7LioYSL2dNybbdiMdptFU57++20Vqh+iq/Tap1WpaWY611wmyWyUzxZDbIWTvEV1Ildn5agfBumoUMTtoisFvhebAAHZWxX0ChwTuScvHdVeVykToysMyJ7ittwbmj31J+6IrRDp5XTfBt1WJ+WYnZdMB0F3xlUgD5uDVj2Sa+a4SrzH+FeyHHmw17V112waBOZgP4WczkLZsILar1fpIliMU4XZoK/poE0XHl+N8v6QcGAUbVymnDIZVnzrTXqGzmnhKLxZX/niyiDjIJgwg4Se1GR/Y8idGPysh6fr0i1i/AHMWHgrwUJgNAAAAAASUVORK5CYII=" />
  <title>/srv/diffoscope/bin/diffoscope --no-progress tmp/nucliadb-2.6.0.post136-py3-none-any.whl.zip tmp/nucliadb-2.7.0.post138-py3-none-any.whl.zip --html versions/n/nucliadb/2.6.0.post136-2.7.0.post138/index.html --text versions/n/nucliadb/2.6.0.post136-2.7.0.post138/diff.txt --markdown versions/n/nucliadb/2.6.0.post136-2.7.0.post138/diff.md</title>
<style>
body.diffoscope {
  background: white;
  color: black;
}
.diffoscope .footer {
  font-size: small;
}
.diffoscope .difference {
  border: outset #888 1px;
  background: #E8E8E8;
  background: rgba(0,0,0,.1);
  padding: 0.5em;
  margin: 0.5em 0;
}
.diffoscope .difference table {
  table-layout: fixed;
  width: 100%;
  border: 0;
}
.diffoscope .difference th,
.diffoscope .difference td {
  border: 0;
}
.diffoscope table.diff {
  border: 0;
  border-collapse:collapse;
  font-size:0.75em;
  font-family: 'Lucida Console', monospace;
  word-break: break-word;
}
.diffoscope table.diff tr:hover td {
  background: #FFFF00;
}
.diffoscope .line {
  color:#8080a0
}
.diffoscope th {
  background: black;
  color: white
}
.diffoscope .diffunmodified td {
  background: #D0D0E0
}
.diffoscope .diffhunk td {
  background: #A0A0A0
}
.diffoscope .diffadded td {
  background: #CCFFCC
}
.diffoscope .diffdeleted td {
  background: #FFCCCC
}
.diffoscope .diffchanged td {
  background: #FFFFA0
}
.diffoscope ins, del {
  background: #E0C880;
  text-decoration: none
}
.diffoscope .dp {
  color: #B08080
}
.diffoscope .comment {
  font-style: italic;
}
.diffoscope .comment.multiline {
  font-style: normal;
  font-family: monospace;
  white-space: pre;
}
.diffoscope .source {
  font-weight: bold;
}
.diffoscope .error {
  border: solid black 1px;
  background: red;
  color: white;
  padding: 0.2em;
}
.diffoscope .anchor {
  margin-left: 0.5em;
  font-size: 80%;
  color: #333;
  text-decoration: none;
  display: none;
}
.diffoscope .diffheader:hover .anchor {
  display: inline;
}
.diffoscope .diffcontrol, .diffoscope .diffcontrol-nochildren {
  float: left;
  margin-right: 0.3em;
  cursor: pointer;
  display: none; /* currently, only available in html-dir output where jquery is enabled */
}
.diffoscope .colines {
  width: 3em;
}
.diffoscope .coldiff {
  width: 99%;
}
.diffoscope .diffsize {
  float: right;
}
.diffoscope table.diff tr.ondemand td, .diffoscope div.ondemand-details {
  background: #f99;
  text-align: center;
  padding: 0.5em 0;
}
.diffoscope table.diff tr.ondemand:hover td, .diffoscope div.ondemand-details:hover {
  background: #faa;
  cursor: pointer;
}
</style>
</head>
<body class="diffoscope">
<div class="difference">
  <div class="diffheader">
  <div class="diffcontrol diffcontrol-double">⊟</div>
  <div><span class="diffsize">90.2 KB</span></div>
  <div><span class="source">tmp/nucliadb-2.6.0.post136-py3-none-any.whl.zip</span> vs.</div>
  <div id="top"><span class="source">tmp/nucliadb-2.7.0.post138-py3-none-any.whl.zip</span>
    <a class="anchor" href="#top">¶</a>
  </div>
  </div>
  <div class="difference">
    <div class="diffheader">
    <div class="diffcontrol">⊟</div>
    <div><span class="diffsize">44.1 KB</span></div>
    <div id="zipinfo---"><span class="source">zipinfo {}</span>
      <a class="anchor" href="#zipinfo---">¶</a>
    </div>
    </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 260 lines modified</td><td colspan="2">Offset 1, 260 lines modified</td></tr>
<tr class="diffchanged"><td class="diffline">1 </td><td class="diffpresent">Zip<span class="dp">·</span>file<span class="dp">·</span>size:<span class="dp">·</span>44<del>801</del>7<span class="dp">·</span>bytes,<span class="dp">·</span>number<span class="dp">·</span>of<span class="dp">·</span>entries:<span class="dp">·</span>258</td><td class="diffline">1 </td><td class="diffpresent">Zip<span class="dp">·</span>file<span class="dp">·</span>size:<span class="dp">·</span>44<ins>655</ins>7<span class="dp">·</span>bytes,<span class="dp">·</span>number<span class="dp">·</span>of<span class="dp">·</span>entries:<span class="dp">·</span>258</td></tr>
<tr class="diffchanged"><td class="diffline">2 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>891<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/__init__.py</td><td class="diffline">2 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>891<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/__init__.py</td></tr>
<tr class="diffchanged"><td class="diffline">3 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1027<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/app.py</td><td class="diffline">3 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1027<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/app.py</td></tr>
<tr class="diffchanged"><td class="diffline">4 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>4556<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/config.py</td><td class="diffline">4 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>4556<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/config.py</td></tr>
<tr class="diffchanged"><td class="diffline">5 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>2785<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/logging.py</td><td class="diffline">5 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>2785<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/logging.py</td></tr>
<tr class="diffchanged"><td class="diffline">6 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1393<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/purge.py</td><td class="diffline">6 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1393<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/purge.py</td></tr>
<tr class="diffchanged"><td class="diffline">7 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/py.typed</td><td class="diffline">7 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/py.typed</td></tr>
<tr class="diffchanged"><td class="diffline">8 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>3268<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/run.py</td><td class="diffline">8 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>3268<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/run.py</td></tr>
<tr class="diffchanged"><td class="diffline">9 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1945<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/settings.py</td><td class="diffline">9 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1945<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/settings.py</td></tr>
<tr class="diffchanged"><td class="diffline">10 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1011<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/__init__.py</td><td class="diffline">10 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1011<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/__init__.py</td></tr>
<tr class="diffchanged"><td class="diffline">11 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>6<del>8</del>3<del>1</del><span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/app.py</td><td class="diffline">11 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>6<ins>3</ins>3<ins>8</ins><span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/app.py</td></tr>
<tr class="diffchanged"><td class="diffline">12 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>995<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/cache.py</td><td class="diffline">12 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>995<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/cache.py</td></tr>
<tr class="diffchanged"><td class="diffline">13 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>6874<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/chitchat.py</td><td class="diffline">13 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>6874<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/chitchat.py</td></tr>
<tr class="diffchanged"><td class="diffline">14 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>2425<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/partitions.py</td><td class="diffline">14 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>2425<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/partitions.py</td></tr>
<tr class="diffchanged"><td class="diffline">15 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>14757<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/processing.py</td><td class="diffline">15 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>14757<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/processing.py</td></tr>
<tr class="diffchanged"><td class="diffline">16 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>5463<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/purge.py</td><td class="diffline">16 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>5463<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/purge.py</td></tr>
<tr class="diffchanged"><td class="diffline">17 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>17721<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/serialize.py</td><td class="diffline">17 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>17721<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/serialize.py</td></tr>
<tr class="diffchanged"><td class="diffline">18 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>3021<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/settings.py</td><td class="diffline">18 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>3021<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/settings.py</td></tr>
<tr class="diffchanged"><td class="diffline">19 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>4<del>583</del><span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/utils.py</td><td class="diffline">19 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>4<ins>255</ins><span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/utils.py</td></tr>
<tr class="diffchanged"><td class="diffline">20 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1087<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/consumer/__init__.py</td><td class="diffline">20 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1087<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/consumer/__init__.py</td></tr>
<tr class="diffchanged"><td class="diffline">21 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>16928<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/consumer/pull.py</td><td class="diffline">21 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>16928<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/consumer/pull.py</td></tr>
<tr class="diffchanged"><td class="diffline">22 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>6425<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/consumer/service.py</td><td class="diffline">22 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>6425<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/consumer/service.py</td></tr>
<tr class="diffchanged"><td class="diffline">23 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>835<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/fields/__init__.py</td><td class="diffline">23 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>835<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/fields/__init__.py</td></tr>
<tr class="diffchanged"><td class="diffline">24 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>20415<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/fields/base.py</td><td class="diffline">24 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>20415<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/fields/base.py</td></tr>
<tr class="diffchanged"><td class="diffline">25 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>6823<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/fields/conversation.py</td><td class="diffline">25 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>6823<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/fields/conversation.py</td></tr>
<tr class="diffchanged"><td class="diffline">26 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1223<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/fields/date.py</td><td class="diffline">26 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1223<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/fields/date.py</td></tr>
<tr class="diffchanged"><td class="diffline">27 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1205<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/fields/exceptions.py</td><td class="diffline">27 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1205<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/fields/exceptions.py</td></tr>
<tr class="diffchanged"><td class="diffline">28 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>5159<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/fields/file.py</td><td class="diffline">28 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>5159<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/fields/file.py</td></tr>
<tr class="diffchanged"><td class="diffline">29 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1523<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/fields/generic.py</td><td class="diffline">29 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1523<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/fields/generic.py</td></tr>
<tr class="diffchanged"><td class="diffline">30 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1235<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/fields/keywordset.py</td><td class="diffline">30 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1235<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/fields/keywordset.py</td></tr>
<tr class="diffchanged"><td class="diffline">31 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>2250<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/fields/layout.py</td><td class="diffline">31 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>2250<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/fields/layout.py</td></tr>
<tr class="diffchanged"><td class="diffline">32 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>4084<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/fields/link.py</td><td class="diffline">32 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>4084<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/fields/link.py</td></tr>
<tr class="diffchanged"><td class="diffline">33 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1319<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/fields/text.py</td><td class="diffline">33 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1319<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/fields/text.py</td></tr>
<tr class="diffchanged"><td class="diffline">34 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>835<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/maindb/__init__.py</td><td class="diffline">34 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>835<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/maindb/__init__.py</td></tr>
<tr class="diffchanged"><td class="diffline">35 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>3088<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/maindb/driver.py</td><td class="diffline">35 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>3088<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/maindb/driver.py</td></tr>
<tr class="diffchanged"><td class="diffline">36 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>877<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/maindb/exceptions.py</td><td class="diffline">36 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>877<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/maindb/exceptions.py</td></tr>
<tr class="diffchanged"><td class="diffline">37 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>980<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/maindb/keys.py</td><td class="diffline">37 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>980<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/maindb/keys.py</td></tr>
<tr class="diffchanged"><td class="diffline">38 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>7607<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/maindb/local.py</td><td class="diffline">38 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>7607<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/maindb/local.py</td></tr>
<tr class="diffchanged"><td class="diffline">39 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>6115<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/maindb/pg.py</td><td class="diffline">39 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>6115<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/maindb/pg.py</td></tr>
<tr class="diffchanged"><td class="diffline">40 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>6807<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/maindb/redis.py</td><td class="diffline">40 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>6807<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/maindb/redis.py</td></tr>
<tr class="diffchanged"><td class="diffline">41 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>6974<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/maindb/tikv.py</td><td class="diffline">41 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>6974<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/maindb/tikv.py</td></tr>
<tr class="diffchanged"><td class="diffline">42 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>3628<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/orm/__init__.py</td><td class="diffline">42 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>3628<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/orm/__init__.py</td></tr>
<tr class="diffchanged"><td class="diffline">43 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>7137<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/orm/abc.py</td><td class="diffline">43 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>7137<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/orm/abc.py</td></tr>
<tr class="diffchanged"><td class="diffline">44 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>20650<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/orm/brain.py</td><td class="diffline">44 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>20650<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/orm/brain.py</td></tr>
<tr class="diffchanged"><td class="diffline">45 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>15071<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/orm/entities.py</td><td class="diffline">45 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>15071<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/orm/entities.py</td></tr>
<tr class="diffchanged"><td class="diffline">46 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1362<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/orm/exceptions.py</td><td class="diffline">46 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1362<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/orm/exceptions.py</td></tr>
<tr class="diffchanged"><td class="diffline">47 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>12586<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/orm/grpc_node_binding.py</td><td class="diffline">47 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>12586<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/orm/grpc_node_binding.py</td></tr>
<tr class="diffchanged"><td class="diffline">48 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>5009<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/orm/grpc_node_dummy.py</td><td class="diffline">48 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>5009<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/orm/grpc_node_dummy.py</td></tr>
<tr class="diffchanged"><td class="diffline">49 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>21289<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/orm/knowledgebox.py</td><td class="diffline">49 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>21289<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/orm/knowledgebox.py</td></tr>
<tr class="diffchanged"><td class="diffline">50 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1730<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/orm/labels.py</td><td class="diffline">50 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1730<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/orm/labels.py</td></tr>
<tr class="diffchanged"><td class="diffline">51 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>4291<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/orm/local_node.py</td><td class="diffline">51 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>4291<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/orm/local_node.py</td></tr>
<tr class="diffchanged"><td class="diffline">52 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>2864<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/orm/local_shard.py</td><td class="diffline">52 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>2864<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/orm/local_shard.py</td></tr>
<tr class="diffchanged"><td class="diffline">53 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>212</del>15<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/orm/node.py</td><td class="diffline">53 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>198</ins>15<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/orm/node.py</td></tr>
<tr class="diffchanged"><td class="diffline">54 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>4293<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/orm/nodes_manager.py</td><td class="diffline">54 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>4293<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/orm/nodes_manager.py</td></tr>
<tr class="diffchanged"><td class="diffline">55 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>26056<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/orm/processor.py</td><td class="diffline">55 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>26056<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/orm/processor.py</td></tr>
<tr class="diffchanged"><td class="diffline">56 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>49605<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/orm/resource.py</td><td class="diffline">56 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>49605<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/orm/resource.py</td></tr>
<tr class="diffchanged"><td class="diffline">57 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>5087<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/orm/shard.py</td><td class="diffline">57 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>5087<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/orm/shard.py</td></tr>
<tr class="diffchanged"><td class="diffline">58 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1739<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/orm/synonyms.py</td><td class="diffline">58 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1739<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/orm/synonyms.py</td></tr>
<tr class="diffchanged"><td class="diffline">59 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>3340<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/orm/utils.py</td><td class="diffline">59 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>3340<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/orm/utils.py</td></tr>
<tr class="diffchanged"><td class="diffline">60 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>3134</del><span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/service/__init__.py</td><td class="diffline">60 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>2817</ins><span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/service/__init__.py</td></tr>
<tr class="diffchanged"><td class="diffline">61 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>835<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/service/exceptions.py</td><td class="diffline">61 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>835<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/service/exceptions.py</td></tr>
<tr class="diffchanged"><td class="diffline">62 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>35999<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/service/writer.py</td><td class="diffline">62 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>35999<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/service/writer.py</td></tr>
<tr class="diffchanged"><td class="diffline">63 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>835<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/tests/__init__.py</td><td class="diffline">63 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>835<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/tests/__init__.py</td></tr>
<tr class="diffchanged"><td class="diffline">64 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1096<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/tests/conftest.py</td><td class="diffline">64 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1096<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/tests/conftest.py</td></tr>
<tr class="diffchanged"><td class="diffline">65 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>24774<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/tests/fixtures.py</td><td class="diffline">65 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>24774<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/tests/fixtures.py</td></tr>
<tr class="diffchanged"><td class="diffline">66 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>7549<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/tests/tikv.py</td><td class="diffline">66 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>7549<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/tests/tikv.py</td></tr>
<tr class="diffchanged"><td class="diffline">67 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>42967<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/ingest/tests/vectors.py</td><td class="diffline">67 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>42967<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/ingest/tests/vectors.py</td></tr>
<tr class="diffchanged"><td class="diffline">68 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>835<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/models/__init__.py</td><td class="diffline">68 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>835<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/models/__init__.py</td></tr>
<tr class="diffchanged"><td class="diffline">69 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1587<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/models/responses.py</td><td class="diffline">69 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1587<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/models/responses.py</td></tr>
<tr class="diffchanged"><td class="diffline">70 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>914<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/one/__init__.py</td><td class="diffline">70 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>914<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/one/__init__.py</td></tr>
<tr class="diffchanged"><td class="diffline">71 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>3<del>595</del><span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/one/app.py</td><td class="diffline">71 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>3<ins>257</ins><span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/one/app.py</td></tr>
<tr class="diffchanged"><td class="diffline">72 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>2130<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/one/lifecycle.py</td><td class="diffline">72 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>2130<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/one/lifecycle.py</td></tr>
<tr class="diffchanged"><td class="diffline">73 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>835<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/one/tests/__init__.py</td><td class="diffline">73 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>835<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/one/tests/__init__.py</td></tr>
<tr class="diffchanged"><td class="diffline">74 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1164<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/one/tests/conftest.py</td><td class="diffline">74 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1164<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/one/tests/conftest.py</td></tr>
<tr class="diffchanged"><td class="diffline">75 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>3591<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/one/tests/fixtures.py</td><td class="diffline">75 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>3591<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/one/tests/fixtures.py</td></tr>
<tr class="diffchanged"><td class="diffline">76 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>2561<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/one/tests/test_basic.py</td><td class="diffline">76 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>2561<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/one/tests/test_basic.py</td></tr>
<tr class="diffchanged"><td class="diffline">77 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>2492<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/one/tests/test_delete_field.py</td><td class="diffline">77 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>2492<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/one/tests/test_delete_field.py</td></tr>
<tr class="diffchanged"><td class="diffline">78 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>6087<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/one/tests/test_fieldmetadata.py</td><td class="diffline">78 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>6087<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/one/tests/test_fieldmetadata.py</td></tr>
<tr class="diffchanged"><td class="diffline">79 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>4594<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/one/tests/test_services.py</td><td class="diffline">79 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>4594<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/one/tests/test_services.py</td></tr>
<tr class="diffchanged"><td class="diffline">80 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>4067<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/one/tests/test_upload_download.py</td><td class="diffline">80 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>4067<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/one/tests/test_upload_download.py</td></tr>
<tr class="diffchanged"><td class="diffline">81 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1328<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/reader/__init__.py</td><td class="diffline">81 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1328<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/reader/__init__.py</td></tr>
<tr class="diffchanged"><td class="diffline">82 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>4120</del><span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/reader/app.py</td><td class="diffline">82 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>3603</ins><span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/reader/app.py</td></tr>
<tr class="diffchanged"><td class="diffline">83 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1<del>835</del><span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/reader/lifecycle.py</td><td class="diffline">83 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1<ins>741</ins><span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/reader/lifecycle.py</td></tr>
<tr class="diffchanged"><td class="diffline">84 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>2186<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/reader/openapi.py</td><td class="diffline">84 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>2186<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/reader/openapi.py</td></tr>
<tr class="diffchanged"><td class="diffline">85 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1010<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/reader/run.py</td><td class="diffline">85 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1010<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/reader/run.py</td></tr>
<tr class="diffchanged"><td class="diffline">86 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>872<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/reader/api/__init__.py</td><td class="diffline">86 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>872<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/reader/api/__init__.py</td></tr>
<tr class="diffchanged"><td class="diffline">87 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>2433<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/reader/api/models.py</td><td class="diffline">87 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>2433<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/reader/api/models.py</td></tr>
<tr class="diffchanged"><td class="diffline">88 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>995<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/reader/api/v1/__init__.py</td><td class="diffline">88 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>995<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/reader/api/v1/__init__.py</td></tr>
<tr class="diffchanged"><td class="diffline">89 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>9671<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/reader/api/v1/download.py</td><td class="diffline">89 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>9671<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/reader/api/v1/download.py</td></tr>
<tr class="diffchanged"><td class="diffline">90 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>3570<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/reader/api/v1/knowledgebox.py</td><td class="diffline">90 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>3570<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/reader/api/v1/knowledgebox.py</td></tr>
<tr class="diffchanged"><td class="diffline">91 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>10697<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/reader/api/v1/resource.py</td><td class="diffline">91 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>10697<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/reader/api/v1/resource.py</td></tr>
<tr class="diffchanged"><td class="diffline">92 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1011<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/reader/api/v1/router.py</td><td class="diffline">92 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1011<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/reader/api/v1/router.py</td></tr>
<tr class="diffchanged"><td class="diffline">93 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>10552<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/reader/api/v1/services.py</td><td class="diffline">93 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>10552<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/reader/api/v1/services.py</td></tr>
<tr class="diffchanged"><td class="diffline">94 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>835<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/reader/tests/__init__.py</td><td class="diffline">94 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>835<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/reader/tests/__init__.py</td></tr>
<tr class="diffchanged"><td class="diffline">95 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1101<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/reader/tests/conftest.py</td><td class="diffline">95 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1101<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/reader/tests/conftest.py</td></tr>
<tr class="diffchanged"><td class="diffline">96 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>4564<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/reader/tests/fixtures.py</td><td class="diffline">96 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>4564<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/reader/tests/fixtures.py</td></tr>
<tr class="diffchanged"><td class="diffline">97 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>2749<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/reader/tests/test_list_resources.py</td><td class="diffline">97 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>2749<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/reader/tests/test_list_resources.py</td></tr>
<tr class="diffchanged"><td class="diffline">98 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>9139<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/reader/tests/test_reader_file_download.py</td><td class="diffline">98 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>9139<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/reader/tests/test_reader_file_download.py</td></tr>
<tr class="diffchanged"><td class="diffline">99 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>11359<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/reader/tests/test_reader_resource.py</td><td class="diffline">99 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>11359<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/reader/tests/test_reader_resource.py</td></tr>
<tr class="diffchanged"><td class="diffline">100 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>6535<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/reader/tests/test_reader_resource_field.py</td><td class="diffline">100 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>6535<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/reader/tests/test_reader_resource_field.py</td></tr>
<tr class="diffchanged"><td class="diffline">101 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1535<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/search/__init__.py</td><td class="diffline">101 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1535<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/search/__init__.py</td></tr>
<tr class="diffchanged"><td class="diffline">102 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>5326</del><span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/search/app.py</td><td class="diffline">102 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>4809</ins><span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/search/app.py</td></tr>
<tr class="diffchanged"><td class="diffline">103 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1848<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/search/chitchat.py</td><td class="diffline">103 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1848<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/search/chitchat.py</td></tr>
<tr class="diffchanged"><td class="diffline">104 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>3<del>1</del>8<del>0</del><span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/search/lifecycle.py</td><td class="diffline">104 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>3<ins>0</ins>8<ins>7</ins><span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/search/lifecycle.py</td></tr>
<tr class="diffchanged"><td class="diffline">105 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>2206<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/search/openapi.py</td><td class="diffline">105 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>2206<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/search/openapi.py</td></tr>
<tr class="diffchanged"><td class="diffline">106 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>8240<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/search/predict.py</td><td class="diffline">106 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>8240<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/search/predict.py</td></tr>
<tr class="diffchanged"><td class="diffline">107 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1011<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/search/run.py</td><td class="diffline">107 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1011<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/search/run.py</td></tr>
<tr class="diffchanged"><td class="diffline">108 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1162<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/search/settings.py</td><td class="diffline">108 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1162<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/search/settings.py</td></tr>
<tr class="diffchanged"><td class="diffline">109 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1238<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/search/utilities.py</td><td class="diffline">109 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1238<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/search/utilities.py</td></tr>
<tr class="diffchanged"><td class="diffline">110 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>835<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/search/api/__init__.py</td><td class="diffline">110 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>835<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/search/api/__init__.py</td></tr>
<tr class="diffchanged"><td class="diffline">111 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1077<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/search/api/v1/__init__.py</td><td class="diffline">111 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1077<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/search/api/v1/__init__.py</td></tr>
<tr class="diffchanged"><td class="diffline">112 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>7419<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/search/api/v1/chat.py</td><td class="diffline">112 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>7419<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/search/api/v1/chat.py</td></tr>
<tr class="diffchanged"><td class="diffline">113 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1831<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/search/api/v1/feedback.py</td><td class="diffline">113 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1831<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/search/api/v1/feedback.py</td></tr>
<tr class="diffchanged"><td class="diffline">114 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>9831<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/search/api/v1/find.py</td><td class="diffline">114 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>9831<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/search/api/v1/find.py</td></tr>
<tr class="diffchanged"><td class="diffline">115 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>6957<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/search/api/v1/knowledgebox.py</td><td class="diffline">115 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>6957<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/search/api/v1/knowledgebox.py</td></tr>
<tr class="diffchanged"><td class="diffline">116 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>4640<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/search/api/v1/resource.py</td><td class="diffline">116 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>4640<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/search/api/v1/resource.py</td></tr>
<tr class="diffchanged"><td class="diffline">117 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>980<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/search/api/v1/router.py</td><td class="diffline">117 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>980<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/search/api/v1/router.py</td></tr>
<tr class="diffchanged"><td class="diffline">118 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>11574<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/search/api/v1/search.py</td><td class="diffline">118 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>11574<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/search/api/v1/search.py</td></tr>
<tr class="diffchanged"><td class="diffline">119 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>4231<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/search/api/v1/suggest.py</td><td class="diffline">119 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>4231<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/search/api/v1/suggest.py</td></tr>
<tr class="diffchanged"><td class="diffline">120 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>833<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/search/requesters/__init__.py</td><td class="diffline">120 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>833<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/search/requesters/__init__.py</td></tr>
<tr class="diffchanged"><td class="diffline">121 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>5892<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/search/requesters/utils.py</td><td class="diffline">121 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>5892<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/search/requesters/utils.py</td></tr>
<tr class="diffchanged"><td class="diffline">122 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>835<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/search/search/__init__.py</td><td class="diffline">122 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>835<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/search/search/__init__.py</td></tr>
<tr class="diffchanged"><td class="diffline">123 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>11833<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/search/search/fetch.py</td><td class="diffline">123 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>11833<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/search/search/fetch.py</td></tr>
<tr class="diffchanged"><td class="diffline">124 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>14238<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/search/search/find_merge.py</td><td class="diffline">124 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>14238<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/search/search/find_merge.py</td></tr>
<tr class="diffchanged"><td class="diffline">125 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>18361<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/search/search/merge.py</td><td class="diffline">125 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>18361<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/search/search/merge.py</td></tr>
<tr class="diffchanged"><td class="diffline">126 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>947<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/search/search/metrics.py</td><td class="diffline">126 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>947<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/search/search/metrics.py</td></tr>
<tr class="diffchanged"><td class="diffline">127 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>9896<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<del>1</del>:<del>12</del><span class="dp">·</span>nucliadb/search/search/query.py</td><td class="diffline">127 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span>2.0<span class="dp">·</span>unx<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>9896<span class="dp">·</span>b-<span class="dp">·</span>defN<span class="dp">·</span>23-Apr-06<span class="dp">·</span>1<ins>9</ins>:<ins>29</ins><span class="dp">·</span>nucliadb/search/search/query.py</td></tr>
<tr class="error"><td colspan="4">
Max diff block lines reached; -1/45176 bytes (-0.00%) of diff not shown.
</td></tr></table>  </div>
  <div class="difference">
    <div class="diffheader">
    <div class="diffcontrol">⊟</div>
    <div><span class="diffsize">902 B</span></div>
    <div id="zipnote---"><span class="source">zipnote {}</span>
      <a class="anchor" href="#zipnote---">¶</a>
    </div>
    </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 750, 26 lines modified</td><td colspan="2">Offset 750, 26 lines modified</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">750 </td><td class="diffpresent">Filename:<span class="dp">·</span>nucliadb/writer/tus/storage.py</td><td class="diffline">750 </td><td class="diffpresent">Filename:<span class="dp">·</span>nucliadb/writer/tus/storage.py</td></tr>
<tr class="diffunmodified"><td class="diffline">751 </td><td class="diffpresent">Comment:<span class="dp">·</span></td><td class="diffline">751 </td><td class="diffpresent">Comment:<span class="dp">·</span></td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">752 </td><td class="diffpresent">Filename:<span class="dp">·</span>nucliadb/writer/tus/utils.py</td><td class="diffline">752 </td><td class="diffpresent">Filename:<span class="dp">·</span>nucliadb/writer/tus/utils.py</td></tr>
<tr class="diffunmodified"><td class="diffline">753 </td><td class="diffpresent">Comment:<span class="dp">·</span></td><td class="diffline">753 </td><td class="diffpresent">Comment:<span class="dp">·</span></td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">754 </td><td class="diffpresent">Filename:<span class="dp">·</span>nucliadb-2.<del>6</del>.0.post13<del>6</del>.dist-info/METADATA</td><td class="diffline">754 </td><td class="diffpresent">Filename:<span class="dp">·</span>nucliadb-2.<ins>7</ins>.0.post13<ins>8</ins>.dist-info/METADATA</td></tr>
<tr class="diffunmodified"><td class="diffline">755 </td><td class="diffpresent">Comment:<span class="dp">·</span></td><td class="diffline">755 </td><td class="diffpresent">Comment:<span class="dp">·</span></td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">756 </td><td class="diffpresent">Filename:<span class="dp">·</span>nucliadb-2.<del>6</del>.0.post13<del>6</del>.dist-info/WHEEL</td><td class="diffline">756 </td><td class="diffpresent">Filename:<span class="dp">·</span>nucliadb-2.<ins>7</ins>.0.post13<ins>8</ins>.dist-info/WHEEL</td></tr>
<tr class="diffunmodified"><td class="diffline">757 </td><td class="diffpresent">Comment:<span class="dp">·</span></td><td class="diffline">757 </td><td class="diffpresent">Comment:<span class="dp">·</span></td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">758 </td><td class="diffpresent">Filename:<span class="dp">·</span>nucliadb-2.<del>6</del>.0.post13<del>6</del>.dist-info/entry_points.txt</td><td class="diffline">758 </td><td class="diffpresent">Filename:<span class="dp">·</span>nucliadb-2.<ins>7</ins>.0.post13<ins>8</ins>.dist-info/entry_points.txt</td></tr>
<tr class="diffunmodified"><td class="diffline">759 </td><td class="diffpresent">Comment:<span class="dp">·</span></td><td class="diffline">759 </td><td class="diffpresent">Comment:<span class="dp">·</span></td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">760 </td><td class="diffpresent">Filename:<span class="dp">·</span>nucliadb-2.<del>6</del>.0.post13<del>6</del>.dist-info/top_level.txt</td><td class="diffline">760 </td><td class="diffpresent">Filename:<span class="dp">·</span>nucliadb-2.<ins>7</ins>.0.post13<ins>8</ins>.dist-info/top_level.txt</td></tr>
<tr class="diffunmodified"><td class="diffline">761 </td><td class="diffpresent">Comment:<span class="dp">·</span></td><td class="diffline">761 </td><td class="diffpresent">Comment:<span class="dp">·</span></td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">762 </td><td class="diffpresent">Filename:<span class="dp">·</span>nucliadb-2.<del>6</del>.0.post13<del>6</del>.dist-info/zip-safe</td><td class="diffline">762 </td><td class="diffpresent">Filename:<span class="dp">·</span>nucliadb-2.<ins>7</ins>.0.post13<ins>8</ins>.dist-info/zip-safe</td></tr>
<tr class="diffunmodified"><td class="diffline">763 </td><td class="diffpresent">Comment:<span class="dp">·</span></td><td class="diffline">763 </td><td class="diffpresent">Comment:<span class="dp">·</span></td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">764 </td><td class="diffpresent">Filename:<span class="dp">·</span>nucliadb-2.<del>6</del>.0.post13<del>6</del>.dist-info/RECORD</td><td class="diffline">764 </td><td class="diffpresent">Filename:<span class="dp">·</span>nucliadb-2.<ins>7</ins>.0.post13<ins>8</ins>.dist-info/RECORD</td></tr>
<tr class="diffunmodified"><td class="diffline">765 </td><td class="diffpresent">Comment:<span class="dp">·</span></td><td class="diffline">765 </td><td class="diffpresent">Comment:<span class="dp">·</span></td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">766 </td><td class="diffpresent">Zip<span class="dp">·</span>file<span class="dp">·</span>comment:<span class="dp">·</span></td><td class="diffline">766 </td><td class="diffpresent">Zip<span class="dp">·</span>file<span class="dp">·</span>comment:<span class="dp">·</span></td></tr>
</table>  </div>
  <div class="difference">
    <div class="diffheader">
    <div class="diffcontrol">⊟</div>
    <div><span class="diffsize">1.95 KB</span></div>
    <div id="nucliadb-ingest-app.py"><span class="source">nucliadb/ingest/app.py</span>
      <a class="anchor" href="#nucliadb-ingest-app.py">¶</a>
    </div>
    </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 19, 28 lines modified</td><td colspan="2">Offset 19, 23 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent">#</td><td class="diffline">19 </td><td class="diffpresent">#</td></tr>
<tr class="diffunmodified"><td class="diffline">20 </td><td class="diffpresent">import<span class="dp">·</span>asyncio</td><td class="diffline">20 </td><td class="diffpresent">import<span class="dp">·</span>asyncio</td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent">import<span class="dp">·</span>logging</td><td class="diffline">21 </td><td class="diffpresent">import<span class="dp">·</span>logging</td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent">import<span class="dp">·</span>sys</td><td class="diffline">22 </td><td class="diffpresent">import<span class="dp">·</span>sys</td></tr>
<tr class="diffunmodified"><td class="diffline">23 </td><td class="diffpresent">from<span class="dp">·</span>typing<span class="dp">·</span>import<span class="dp">·</span>Awaitable,<span class="dp">·</span>Callable,<span class="dp">·</span>Optional,<span class="dp">·</span>Union</td><td class="diffline">23 </td><td class="diffpresent">from<span class="dp">·</span>typing<span class="dp">·</span>import<span class="dp">·</span>Awaitable,<span class="dp">·</span>Callable,<span class="dp">·</span>Optional,<span class="dp">·</span>Union</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">24 </td><td class="diffpresent">import<span class="dp">·</span>pkg_resources</td><td class="diffline">24 </td><td class="diffpresent">import<span class="dp">·</span>pkg_resources</td></tr>
<tr class="diffdeleted"><td class="diffline">25 </td><td class="diffpresent">from<span class="dp">·</span>opentelemetry.instrumentation.aiohttp_client<span class="dp">·</span>import<span class="dp">·</span>(<span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>type:<span class="dp">·</span>ignore</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>AioHttpClientInstrumentor,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">27 </td><td class="diffpresent">)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">28 </td><td class="diffpresent">from<span class="dp">·</span>opentelemetry.propagate<span class="dp">·</span>import<span class="dp">·</span>set_global_textmap</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">29 </td><td class="diffpresent">from<span class="dp">·</span>opentelemetry.propagators.b3<span class="dp">·</span>import<span class="dp">·</span>B3MultiFormat</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">30 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest<span class="dp">·</span>import<span class="dp">·</span>SERVICE_NAME,<span class="dp">·</span>logger,<span class="dp">·</span>logger_activity</td><td class="diffline">25 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest<span class="dp">·</span>import<span class="dp">·</span>SERVICE_NAME,<span class="dp">·</span>logger,<span class="dp">·</span>logger_activity</td></tr>
<tr class="diffunmodified"><td class="diffline">31 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest.chitchat<span class="dp">·</span>import<span class="dp">·</span>start_chitchat</td><td class="diffline">26 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest.chitchat<span class="dp">·</span>import<span class="dp">·</span>start_chitchat</td></tr>
<tr class="diffunmodified"><td class="diffline">32 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest.consumer<span class="dp">·</span>import<span class="dp">·</span>start_consumer</td><td class="diffline">27 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest.consumer<span class="dp">·</span>import<span class="dp">·</span>start_consumer</td></tr>
<tr class="diffunmodified"><td class="diffline">33 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest.partitions<span class="dp">·</span>import<span class="dp">·</span>assign_partitions</td><td class="diffline">28 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest.partitions<span class="dp">·</span>import<span class="dp">·</span>assign_partitions</td></tr>
<tr class="diffunmodified"><td class="diffline">34 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest.service<span class="dp">·</span>import<span class="dp">·</span>start_grpc</td><td class="diffline">29 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest.service<span class="dp">·</span>import<span class="dp">·</span>start_grpc</td></tr>
<tr class="diffunmodified"><td class="diffline">35 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest.settings<span class="dp">·</span>import<span class="dp">·</span>settings</td><td class="diffline">30 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest.settings<span class="dp">·</span>import<span class="dp">·</span>settings</td></tr>
<tr class="diffunmodified"><td class="diffline">36 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry<span class="dp">·</span>import<span class="dp">·</span>errors</td><td class="diffline">31 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry<span class="dp">·</span>import<span class="dp">·</span>errors</td></tr>
<tr class="diffchanged"><td class="diffline">37 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry.utils<span class="dp">·</span>import<span class="dp">·</span><del>get_tele</del><del>m</del>et<del>ry,<span class="dp">·</span>in</del><del>it</del>_telemetry</td><td class="diffline">32 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry.utils<span class="dp">·</span>import<span class="dp">·</span><ins>s</ins>et<ins>up</ins>_telemetry</td></tr>
<tr class="diffunmodified"><td class="diffline">38 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.fastapi.run<span class="dp">·</span>import<span class="dp">·</span>serve_metrics</td><td class="diffline">33 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.fastapi.run<span class="dp">·</span>import<span class="dp">·</span>serve_metrics</td></tr>
<tr class="diffunmodified"><td class="diffline">39 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.indexing<span class="dp">·</span>import<span class="dp">·</span>IndexingUtility</td><td class="diffline">34 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.indexing<span class="dp">·</span>import<span class="dp">·</span>IndexingUtility</td></tr>
<tr class="diffunmodified"><td class="diffline">40 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.run<span class="dp">·</span>import<span class="dp">·</span>run_until_exit</td><td class="diffline">35 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.run<span class="dp">·</span>import<span class="dp">·</span>run_until_exit</td></tr>
<tr class="diffunmodified"><td class="diffline">41 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.settings<span class="dp">·</span>import<span class="dp">·</span>(</td><td class="diffline">36 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.settings<span class="dp">·</span>import<span class="dp">·</span>(</td></tr>
<tr class="diffunmodified"><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>indexing_settings,</td><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>indexing_settings,</td></tr>
<tr class="diffunmodified"><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>running_settings,</td><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>running_settings,</td></tr>
<tr class="diffunmodified"><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>transaction_settings,</td><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>transaction_settings,</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 102, 19 lines modified</td><td colspan="2">Offset 97, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">102 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>indexing_utility<span class="dp">·</span>=<span class="dp">·</span>get_indexing()</td><td class="diffline">97 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>indexing_utility<span class="dp">·</span>=<span class="dp">·</span>get_indexing()</td></tr>
<tr class="diffunmodified"><td class="diffline">103 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>indexing_utility:</td><td class="diffline">98 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>indexing_utility:</td></tr>
<tr class="diffunmodified"><td class="diffline">104 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>indexing_utility.finalize()</td><td class="diffline">99 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>indexing_utility.finalize()</td></tr>
<tr class="diffunmodified"><td class="diffline">105 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>clean_utility(Utility.INDEXING)</td><td class="diffline">100 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>clean_utility(Utility.INDEXING)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">106 </td><td class="diffpresent">async<span class="dp">·</span>def<span class="dp">·</span>initialize()<span class="dp">·</span>-&gt;<span class="dp">·</span>list[Callable[[],<span class="dp">·</span>Awaitable[None]]]:</td><td class="diffline">101 </td><td class="diffpresent">async<span class="dp">·</span>def<span class="dp">·</span>initialize()<span class="dp">·</span>-&gt;<span class="dp">·</span>list[Callable[[],<span class="dp">·</span>Awaitable[None]]]:</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">102 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>setup_telemetry(SERVICE_NAME)</td></tr>
<tr class="diffdeleted"><td class="diffline">107 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tracer_provider<span class="dp">·</span>=<span class="dp">·</span>get_telemetry(SERVICE_NAME)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">108 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>tracer_provider<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None:<span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>pragma:<span class="dp">·</span>no<span class="dp">·</span>cover</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">109 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>set_global_textmap(B3MultiFormat())</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">110 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>init_telemetry(tracer_provider)<span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>To<span class="dp">·</span>start<span class="dp">·</span>asyncio<span class="dp">·</span>task</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">111 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>AioHttpClientInstrumentor().instrument(tracer_provider=tracer_provider)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">112 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>chitchat<span class="dp">·</span>=<span class="dp">·</span>await<span class="dp">·</span>start_chitchat(SERVICE_NAME)</td><td class="diffline">103 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>chitchat<span class="dp">·</span>=<span class="dp">·</span>await<span class="dp">·</span>start_chitchat(SERVICE_NAME)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">113 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>start_transaction_utility(SERVICE_NAME)</td><td class="diffline">104 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>start_transaction_utility(SERVICE_NAME)</td></tr>
<tr class="diffunmodified"><td class="diffline">114 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>start_indexing_utility(SERVICE_NAME)</td><td class="diffline">105 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>start_indexing_utility(SERVICE_NAME)</td></tr>
<tr class="diffunmodified"><td class="diffline">115 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>start_audit_utility(SERVICE_NAME)</td><td class="diffline">106 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>start_audit_utility(SERVICE_NAME)</td></tr>
<tr class="diffunmodified"><td class="diffline">116 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics_server<span class="dp">·</span>=<span class="dp">·</span>await<span class="dp">·</span>serve_metrics()</td><td class="diffline">107 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics_server<span class="dp">·</span>=<span class="dp">·</span>await<span class="dp">·</span>serve_metrics()</td></tr>
</table>  </div>
  <div class="difference">
    <div class="diffheader">
    <div class="diffcontrol">⊟</div>
    <div><span class="diffsize">1.99 KB</span></div>
    <div id="nucliadb-ingest-utils.py"><span class="source">nucliadb/ingest/utils.py</span>
      <a class="anchor" href="#nucliadb-ingest-utils.py">¶</a>
    </div>
    </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 15, 22 lines modified</td><td colspan="2">Offset 15, 20 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">15 </td><td class="diffpresent">#<span class="dp">·</span>GNU<span class="dp">·</span>Affero<span class="dp">·</span>General<span class="dp">·</span>Public<span class="dp">·</span>License<span class="dp">·</span>for<span class="dp">·</span>more<span class="dp">·</span>details.</td><td class="diffline">15 </td><td class="diffpresent">#<span class="dp">·</span>GNU<span class="dp">·</span>Affero<span class="dp">·</span>General<span class="dp">·</span>Public<span class="dp">·</span>License<span class="dp">·</span>for<span class="dp">·</span>more<span class="dp">·</span>details.</td></tr>
<tr class="diffunmodified"><td class="diffline">16 </td><td class="diffpresent">#</td><td class="diffline">16 </td><td class="diffpresent">#</td></tr>
<tr class="diffunmodified"><td class="diffline">17 </td><td class="diffpresent">#<span class="dp">·</span>You<span class="dp">·</span>should<span class="dp">·</span>have<span class="dp">·</span>received<span class="dp">·</span>a<span class="dp">·</span>copy<span class="dp">·</span>of<span class="dp">·</span>the<span class="dp">·</span>GNU<span class="dp">·</span>Affero<span class="dp">·</span>General<span class="dp">·</span>Public<span class="dp">·</span>License</td><td class="diffline">17 </td><td class="diffpresent">#<span class="dp">·</span>You<span class="dp">·</span>should<span class="dp">·</span>have<span class="dp">·</span>received<span class="dp">·</span>a<span class="dp">·</span>copy<span class="dp">·</span>of<span class="dp">·</span>the<span class="dp">·</span>GNU<span class="dp">·</span>Affero<span class="dp">·</span>General<span class="dp">·</span>Public<span class="dp">·</span>License</td></tr>
<tr class="diffunmodified"><td class="diffline">18 </td><td class="diffpresent">#<span class="dp">·</span>along<span class="dp">·</span>with<span class="dp">·</span>this<span class="dp">·</span>program.<span class="dp">·</span>If<span class="dp">·</span>not,<span class="dp">·</span>see<span class="dp">·</span>&lt;http://www.gnu.org/licenses/&gt;.</td><td class="diffline">18 </td><td class="diffpresent">#<span class="dp">·</span>along<span class="dp">·</span>with<span class="dp">·</span>this<span class="dp">·</span>program.<span class="dp">·</span>If<span class="dp">·</span>not,<span class="dp">·</span>see<span class="dp">·</span>&lt;http://www.gnu.org/licenses/&gt;.</td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent">#</td><td class="diffline">19 </td><td class="diffpresent">#</td></tr>
<tr class="diffunmodified"><td class="diffline">20 </td><td class="diffpresent">from<span class="dp">·</span>typing<span class="dp">·</span>import<span class="dp">·</span>Optional</td><td class="diffline">20 </td><td class="diffpresent">from<span class="dp">·</span>typing<span class="dp">·</span>import<span class="dp">·</span>Optional</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">21 </td><td class="diffpresent">from<span class="dp">·</span>grpc<span class="dp">·</span>import<span class="dp">·</span>aio</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_protos.writer_pb2_grpc<span class="dp">·</span>import<span class="dp">·</span>WriterStub</td><td class="diffline">21 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_protos.writer_pb2_grpc<span class="dp">·</span>import<span class="dp">·</span>WriterStub</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">23 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest.chitchat<span class="dp">·</span>import<span class="dp">·</span>ChitchatNucliaDB<span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>type:<span class="dp">·</span>ignore</td><td class="diffline">22 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest.chitchat<span class="dp">·</span>import<span class="dp">·</span>ChitchatNucliaDB<span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>type:<span class="dp">·</span>ignore</td></tr>
<tr class="diffunmodified"><td class="diffline">24 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest.maindb.driver<span class="dp">·</span>import<span class="dp">·</span>Driver</td><td class="diffline">23 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest.maindb.driver<span class="dp">·</span>import<span class="dp">·</span>Driver</td></tr>
<tr class="diffunmodified"><td class="diffline">25 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest.settings<span class="dp">·</span>import<span class="dp">·</span>settings</td><td class="diffline">24 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest.settings<span class="dp">·</span>import<span class="dp">·</span>settings</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">25 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.grpc<span class="dp">·</span>import<span class="dp">·</span>get_traced_grpc_channel</td></tr>
<tr class="diffdeleted"><td class="diffline">26 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry.grpc<span class="dp">·</span>import<span class="dp">·</span>OpenTelemetryGRPC</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">27 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry.utils<span class="dp">·</span>import<span class="dp">·</span>get_telemetry,<span class="dp">·</span>init_telemetry</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">28 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.settings<span class="dp">·</span>import<span class="dp">·</span>nucliadb_settings</td><td class="diffline">26 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.settings<span class="dp">·</span>import<span class="dp">·</span>nucliadb_settings</td></tr>
<tr class="diffunmodified"><td class="diffline">29 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.store<span class="dp">·</span>import<span class="dp">·</span>MAIN</td><td class="diffline">27 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.store<span class="dp">·</span>import<span class="dp">·</span>MAIN</td></tr>
<tr class="diffunmodified"><td class="diffline">30 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.utilities<span class="dp">·</span>import<span class="dp">·</span>Utility,<span class="dp">·</span>clean_utility,<span class="dp">·</span>get_utility,<span class="dp">·</span>set_utility</td><td class="diffline">28 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.utilities<span class="dp">·</span>import<span class="dp">·</span>Utility,<span class="dp">·</span>clean_utility,<span class="dp">·</span>get_utility,<span class="dp">·</span>set_utility</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">31 </td><td class="diffpresent">try:</td><td class="diffline">29 </td><td class="diffpresent">try:</td></tr>
<tr class="diffunmodified"><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>from<span class="dp">·</span>nucliadb.ingest.maindb.redis<span class="dp">·</span>import<span class="dp">·</span>RedisDriver</td><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>from<span class="dp">·</span>nucliadb.ingest.maindb.redis<span class="dp">·</span>import<span class="dp">·</span>RedisDriver</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffhunk"><td colspan="2">Offset 106, 22 lines modified</td><td colspan="2">Offset 104, 17 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">106 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>actual_service<span class="dp">·</span>=<span class="dp">·</span>get_utility(Utility.INGEST)</td><td class="diffline">104 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>actual_service<span class="dp">·</span>=<span class="dp">·</span>get_utility(Utility.INGEST)</td></tr>
<tr class="diffunmodified"><td class="diffline">107 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>actual_service<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None:</td><td class="diffline">105 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>actual_service<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None:</td></tr>
<tr class="diffunmodified"><td class="diffline">108 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return</td><td class="diffline">106 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">109 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>nucliadb_settings.nucliadb_ingest<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None:</td><td class="diffline">107 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>nucliadb_settings.nucliadb_ingest<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None:</td></tr>
<tr class="diffunmodified"><td class="diffline">110 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>Its<span class="dp">·</span>distributed<span class="dp">·</span>lets<span class="dp">·</span>create<span class="dp">·</span>a<span class="dp">·</span>GRPC<span class="dp">·</span>client</td><td class="diffline">108 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>Its<span class="dp">·</span>distributed<span class="dp">·</span>lets<span class="dp">·</span>create<span class="dp">·</span>a<span class="dp">·</span>GRPC<span class="dp">·</span>client</td></tr>
<tr class="diffunmodified"><td class="diffline">111 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>We<span class="dp">·</span>want<span class="dp">·</span>Jaeger<span class="dp">·</span>telemetry<span class="dp">·</span>enabled</td><td class="diffline">109 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>We<span class="dp">·</span>want<span class="dp">·</span>Jaeger<span class="dp">·</span>telemetry<span class="dp">·</span>enabled</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">110 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>channel<span class="dp">·</span>=<span class="dp">·</span>get_traced_grpc_channel(</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">111 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>nucliadb_settings.nucliadb_ingest,<span class="dp">·</span>service_name<span class="dp">·</span>or<span class="dp">·</span>&quot;ingest&quot;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">112 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffdeleted"><td class="diffline">112 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>provider<span class="dp">·</span>=<span class="dp">·</span>get_telemetry(service_name)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">113 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>provider<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">114 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>init_telemetry(provider)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">115 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>otgrpc<span class="dp">·</span>=<span class="dp">·</span>OpenTelemetryGRPC(f&quot;{service_name}_ingest&quot;,<span class="dp">·</span>provider)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">116 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>channel<span class="dp">·</span>=<span class="dp">·</span>otgrpc.init_client(nucliadb_settings.nucliadb_ingest)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">117 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">118 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>channel<span class="dp">·</span>=<span class="dp">·</span>aio.insecure_channel(nucliadb_settings.nucliadb_ingest)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">119 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>set_utility(Utility.CHANNEL,<span class="dp">·</span>channel)</td><td class="diffline">113 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>set_utility(Utility.CHANNEL,<span class="dp">·</span>channel)</td></tr>
<tr class="diffunmodified"><td class="diffline">120 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>set_utility(Utility.INGEST,<span class="dp">·</span>WriterStub(channel))</td><td class="diffline">114 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>set_utility(Utility.INGEST,<span class="dp">·</span>WriterStub(channel))</td></tr>
<tr class="diffunmodified"><td class="diffline">121 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else:</td><td class="diffline">115 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else:</td></tr>
<tr class="diffunmodified"><td class="diffline">122 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>Its<span class="dp">·</span>not<span class="dp">·</span>distributed<span class="dp">·</span>create<span class="dp">·</span>a<span class="dp">·</span>ingest</td><td class="diffline">116 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>Its<span class="dp">·</span>not<span class="dp">·</span>distributed<span class="dp">·</span>create<span class="dp">·</span>a<span class="dp">·</span>ingest</td></tr>
<tr class="diffunmodified"><td class="diffline">123 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>from<span class="dp">·</span>nucliadb.ingest.service.writer<span class="dp">·</span>import<span class="dp">·</span>WriterServicer</td><td class="diffline">117 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>from<span class="dp">·</span>nucliadb.ingest.service.writer<span class="dp">·</span>import<span class="dp">·</span>WriterServicer</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">124 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>service<span class="dp">·</span>=<span class="dp">·</span>WriterServicer()</td><td class="diffline">118 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>service<span class="dp">·</span>=<span class="dp">·</span>WriterServicer()</td></tr>
</table>  </div>
  <div class="difference">
    <div class="diffheader">
    <div class="diffcontrol">⊟</div>
    <div><span class="diffsize">5.75 KB</span></div>
    <div id="nucliadb-ingest-orm-node.py"><span class="source">nucliadb/ingest/orm/node.py</span>
      <a class="anchor" href="#nucliadb-ingest-orm-node.py">¶</a>
    </div>
    </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 47, 16 lines modified</td><td colspan="2">Offset 47, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>DummyReaderStub,</td><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>DummyReaderStub,</td></tr>
<tr class="diffunmodified"><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>DummySidecarStub,</td><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>DummySidecarStub,</td></tr>
<tr class="diffunmodified"><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>DummyWriterStub,</td><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>DummyWriterStub,</td></tr>
<tr class="diffunmodified"><td class="diffline">50 </td><td class="diffpresent">)</td><td class="diffline">50 </td><td class="diffpresent">)</td></tr>
<tr class="diffunmodified"><td class="diffline">51 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest.orm.shard<span class="dp">·</span>import<span class="dp">·</span>Shard</td><td class="diffline">51 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest.orm.shard<span class="dp">·</span>import<span class="dp">·</span>Shard</td></tr>
<tr class="diffunmodified"><td class="diffline">52 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest.settings<span class="dp">·</span>import<span class="dp">·</span>settings</td><td class="diffline">52 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest.settings<span class="dp">·</span>import<span class="dp">·</span>settings</td></tr>
<tr class="diffunmodified"><td class="diffline">53 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry<span class="dp">·</span>import<span class="dp">·</span>errors</td><td class="diffline">53 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry<span class="dp">·</span>import<span class="dp">·</span>errors</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">54 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.grpc<span class="dp">·</span>import<span class="dp">·</span>get_traced_grpc_channel</td></tr>
<tr class="diffdeleted"><td class="diffline">54 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry.grpc<span class="dp">·</span>import<span class="dp">·</span>OpenTelemetryGRPC</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">55 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry.utils<span class="dp">·</span>import<span class="dp">·</span>get_telemetry</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">56 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.keys<span class="dp">·</span>import<span class="dp">·</span>KB_SHARDS</td><td class="diffline">55 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.keys<span class="dp">·</span>import<span class="dp">·</span>KB_SHARDS</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">57 </td><td class="diffpresent">READ_CONNECTIONS<span class="dp">·</span>=<span class="dp">·</span>LRU(50)</td><td class="diffline">56 </td><td class="diffpresent">READ_CONNECTIONS<span class="dp">·</span>=<span class="dp">·</span>LRU(50)</td></tr>
<tr class="diffunmodified"><td class="diffline">58 </td><td class="diffpresent">WRITE_CONNECTIONS<span class="dp">·</span>=<span class="dp">·</span>LRU(50)</td><td class="diffline">57 </td><td class="diffpresent">WRITE_CONNECTIONS<span class="dp">·</span>=<span class="dp">·</span>LRU(50)</td></tr>
<tr class="diffunmodified"><td class="diffline">59 </td><td class="diffpresent">SIDECAR_CONNECTIONS<span class="dp">·</span>=<span class="dp">·</span>LRU(50)</td><td class="diffline">58 </td><td class="diffpresent">SIDECAR_CONNECTIONS<span class="dp">·</span>=<span class="dp">·</span>LRU(50)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffhunk"><td colspan="2">Offset 388, 38 lines modified</td><td colspan="2">Offset 387, 35 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">388 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>load_score=node.load_score,</td><td class="diffline">387 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>load_score=node.load_score,</td></tr>
<tr class="diffunmodified"><td class="diffline">389 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>shard_count=node.shard_count,</td><td class="diffline">388 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>shard_count=node.shard_count,</td></tr>
<tr class="diffunmodified"><td class="diffline">390 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dummy=node.dummy,</td><td class="diffline">389 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dummy=node.dummy,</td></tr>
<tr class="diffunmodified"><td class="diffline">391 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">390 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td class="diffline">392 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>members.append(member)</td><td class="diffline">391 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>members.append(member)</td></tr>
<tr class="diffunmodified"><td class="diffline">393 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>members</td><td class="diffline">392 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>members</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">393 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>_get_service_address(self,<span class="dp">·</span>port_map:<span class="dp">·</span>Dict[int,<span class="dp">·</span>int])<span class="dp">·</span>-&gt;<span class="dp">·</span>str:</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">394 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hostname<span class="dp">·</span>=<span class="dp">·</span>self.address.split(&quot;:&quot;)[0]</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">395 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>settings.node_sidecar_port<span class="dp">·</span>is<span class="dp">·</span>None:</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">396 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>For<span class="dp">·</span>testing<span class="dp">·</span>proposes<span class="dp">·</span>we<span class="dp">·</span>need<span class="dp">·</span>to<span class="dp">·</span>be<span class="dp">·</span>able<span class="dp">·</span>to<span class="dp">·</span>have<span class="dp">·</span>a<span class="dp">·</span>writing<span class="dp">·</span>port</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">397 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sidecar_port<span class="dp">·</span>=<span class="dp">·</span>port_map[hostname]</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">398 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>grpc_address<span class="dp">·</span>=<span class="dp">·</span>f&quot;localhost:{sidecar_port}&quot;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">399 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else:</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">400 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>grpc_address<span class="dp">·</span>=<span class="dp">·</span>f&quot;{hostname}:{settings.node_sidecar_port}&quot;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">401 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>grpc_address</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">394 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>@property</td><td class="diffline">402 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>@property</td></tr>
<tr class="diffunmodified"><td class="diffline">395 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>sidecar(self)<span class="dp">·</span>-&gt;<span class="dp">·</span>NodeSidecarStub:</td><td class="diffline">403 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>sidecar(self)<span class="dp">·</span>-&gt;<span class="dp">·</span>NodeSidecarStub:</td></tr>
<tr class="diffunmodified"><td class="diffline">396 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(</td><td class="diffline">404 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(</td></tr>
<tr class="diffunmodified"><td class="diffline">397 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self._sidecar<span class="dp">·</span>is<span class="dp">·</span>None</td><td class="diffline">405 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self._sidecar<span class="dp">·</span>is<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">398 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>and<span class="dp">·</span>self.address<span class="dp">·</span>not<span class="dp">·</span>in<span class="dp">·</span>SIDECAR_CONNECTIONS</td><td class="diffline">406 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>and<span class="dp">·</span>self.address<span class="dp">·</span>not<span class="dp">·</span>in<span class="dp">·</span>SIDECAR_CONNECTIONS</td></tr>
<tr class="diffunmodified"><td class="diffline">399 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>and<span class="dp">·</span>self.dummy<span class="dp">·</span>is<span class="dp">·</span>False</td><td class="diffline">407 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>and<span class="dp">·</span>self.dummy<span class="dp">·</span>is<span class="dp">·</span>False</td></tr>
<tr class="diffunmodified"><td class="diffline">400 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td><td class="diffline">408 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">409 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>grpc_address<span class="dp">·</span>=<span class="dp">·</span>self._get_service_address(settings.sidecar_port_map)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">410 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>channel<span class="dp">·</span>=<span class="dp">·</span>get_traced_grpc_channel(</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">411 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>grpc_address,<span class="dp">·</span>SERVICE_NAME,<span class="dp">·</span>variant=&quot;_sidecar&quot;</td></tr>
<tr class="diffdeleted"><td class="diffline">401 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hostname<span class="dp">·</span>=<span class="dp">·</span>self.address.split(&quot;:&quot;)[0]</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">402 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>settings.node_sidecar_port<span class="dp">·</span>is<span class="dp">·</span>None:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">403 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>For<span class="dp">·</span>testing<span class="dp">·</span>proposes<span class="dp">·</span>we<span class="dp">·</span>need<span class="dp">·</span>to<span class="dp">·</span>be<span class="dp">·</span>able<span class="dp">·</span>to<span class="dp">·</span>have<span class="dp">·</span>a<span class="dp">·</span>writing<span class="dp">·</span>port</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">404 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sidecar_port<span class="dp">·</span>=<span class="dp">·</span>settings.sidecar_port_map[hostname]</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">405 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>grpc_address<span class="dp">·</span>=<span class="dp">·</span>f&quot;localhost:{sidecar_port}&quot;</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">406 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">407 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>grpc_address<span class="dp">·</span>=<span class="dp">·</span>f&quot;{hostname}:{settings.node_sidecar_port}&quot;</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">408 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tracer_provider<span class="dp">·</span>=<span class="dp">·</span>get_telemetry(SERVICE_NAME)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">409 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>tracer_provider<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None:<span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>pragma:<span class="dp">·</span>no<span class="dp">·</span>cover</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">410 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>telemetry_grpc<span class="dp">·</span>=<span class="dp">·</span>OpenTelemetryGRPC(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">411 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>f&quot;{SERVICE_NAME}_grpc_sidecar&quot;,<span class="dp">·</span>tracer_provider</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">412 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></del>)</td><td class="diffline">412 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffdeleted"><td class="diffline">413 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>channel<span class="dp">·</span>=<span class="dp">·</span>telemetry_grpc.init_client(grpc_address)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">414 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">415 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>channel<span class="dp">·</span>=<span class="dp">·</span>aio.insecure_channel(grpc_address)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">416 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>SIDECAR_CONNECTIONS[self.address]<span class="dp">·</span>=<span class="dp">·</span>NodeSidecarStub(channel)</td><td class="diffline">413 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>SIDECAR_CONNECTIONS[self.address]<span class="dp">·</span>=<span class="dp">·</span>NodeSidecarStub(channel)</td></tr>
<tr class="diffunmodified"><td class="diffline">417 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(</td><td class="diffline">414 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(</td></tr>
<tr class="diffunmodified"><td class="diffline">418 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self._sidecar<span class="dp">·</span>is<span class="dp">·</span>None</td><td class="diffline">415 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self._sidecar<span class="dp">·</span>is<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">419 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>and<span class="dp">·</span>self.address<span class="dp">·</span>not<span class="dp">·</span>in<span class="dp">·</span>SIDECAR_CONNECTIONS</td><td class="diffline">416 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>and<span class="dp">·</span>self.address<span class="dp">·</span>not<span class="dp">·</span>in<span class="dp">·</span>SIDECAR_CONNECTIONS</td></tr>
<tr class="diffunmodified"><td class="diffline">420 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>and<span class="dp">·</span>self.dummy<span class="dp">·</span>is<span class="dp">·</span>True</td><td class="diffline">417 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>and<span class="dp">·</span>self.dummy<span class="dp">·</span>is<span class="dp">·</span>True</td></tr>
<tr class="diffunmodified"><td class="diffline">421 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td><td class="diffline">418 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td></tr>
<tr class="diffunmodified"><td class="diffline">422 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>SIDECAR_CONNECTIONS[self.address]<span class="dp">·</span>=<span class="dp">·</span>DummySidecarStub()</td><td class="diffline">419 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>SIDECAR_CONNECTIONS[self.address]<span class="dp">·</span>=<span class="dp">·</span>DummySidecarStub()</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 430, 31 lines modified</td><td colspan="2">Offset 426, 18 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">430 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>@property</td><td class="diffline">426 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>@property</td></tr>
<tr class="diffunmodified"><td class="diffline">431 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>writer(self)<span class="dp">·</span>-&gt;<span class="dp">·</span>NodeWriterStub:</td><td class="diffline">427 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>writer(self)<span class="dp">·</span>-&gt;<span class="dp">·</span>NodeWriterStub:</td></tr>
<tr class="diffunmodified"><td class="diffline">432 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(</td><td class="diffline">428 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(</td></tr>
<tr class="diffunmodified"><td class="diffline">433 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self._writer<span class="dp">·</span>is<span class="dp">·</span>None</td><td class="diffline">429 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self._writer<span class="dp">·</span>is<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">434 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>and<span class="dp">·</span>self.address<span class="dp">·</span>not<span class="dp">·</span>in<span class="dp">·</span>WRITE_CONNECTIONS</td><td class="diffline">430 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>and<span class="dp">·</span>self.address<span class="dp">·</span>not<span class="dp">·</span>in<span class="dp">·</span>WRITE_CONNECTIONS</td></tr>
<tr class="diffunmodified"><td class="diffline">435 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>and<span class="dp">·</span>self.dummy<span class="dp">·</span>is<span class="dp">·</span>False</td><td class="diffline">431 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>and<span class="dp">·</span>self.dummy<span class="dp">·</span>is<span class="dp">·</span>False</td></tr>
<tr class="diffunmodified"><td class="diffline">436 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td><td class="diffline">432 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">433 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>grpc_address<span class="dp">·</span>=<span class="dp">·</span>self._get_service_address(settings.writer_port_map)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">434 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>channel<span class="dp">·</span>=<span class="dp">·</span>get_traced_grpc_channel(</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">435 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>grpc_address,<span class="dp">·</span>SERVICE_NAME,<span class="dp">·</span>variant=&quot;_writer&quot;</td></tr>
<tr class="diffdeleted"><td class="diffline">437 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hostname<span class="dp">·</span>=<span class="dp">·</span>self.address.split(&quot;:&quot;)[0]</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">438 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>settings.node_writer_port<span class="dp">·</span>is<span class="dp">·</span>None:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">439 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>For<span class="dp">·</span>testing<span class="dp">·</span>proposes<span class="dp">·</span>we<span class="dp">·</span>need<span class="dp">·</span>to<span class="dp">·</span>be<span class="dp">·</span>able<span class="dp">·</span>to<span class="dp">·</span>have<span class="dp">·</span>a<span class="dp">·</span>writing<span class="dp">·</span>port</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">440 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>writer_port<span class="dp">·</span>=<span class="dp">·</span>settings.writer_port_map[hostname]</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">441 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>grpc_address<span class="dp">·</span>=<span class="dp">·</span>f&quot;localhost:{writer_port}&quot;</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">442 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">443 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>grpc_address<span class="dp">·</span>=<span class="dp">·</span>f&quot;{hostname}:{settings.node_writer_port}&quot;</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">444 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tracer_provider<span class="dp">·</span>=<span class="dp">·</span>get_telemetry(SERVICE_NAME)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">445 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>tracer_provider<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None:<span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>pragma:<span class="dp">·</span>no<span class="dp">·</span>cover</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">446 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>telemetry_grpc<span class="dp">·</span>=<span class="dp">·</span>OpenTelemetryGRPC(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">447 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>f&quot;{SERVICE_NAME}_grpc_writer&quot;,<span class="dp">·</span>tracer_provider</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">448 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></del>)</td><td class="diffline">436 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffdeleted"><td class="diffline">449 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>channel<span class="dp">·</span>=<span class="dp">·</span>telemetry_grpc.init_client(grpc_address)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">450 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">451 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>channel<span class="dp">·</span>=<span class="dp">·</span>aio.insecure_channel(grpc_address)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">452 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>WRITE_CONNECTIONS[self.address]<span class="dp">·</span>=<span class="dp">·</span>NodeWriterStub(channel)</td><td class="diffline">437 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>WRITE_CONNECTIONS[self.address]<span class="dp">·</span>=<span class="dp">·</span>NodeWriterStub(channel)</td></tr>
<tr class="diffunmodified"><td class="diffline">453 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(</td><td class="diffline">438 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(</td></tr>
<tr class="diffunmodified"><td class="diffline">454 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self._writer<span class="dp">·</span>is<span class="dp">·</span>None</td><td class="diffline">439 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self._writer<span class="dp">·</span>is<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">455 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>and<span class="dp">·</span>self.address<span class="dp">·</span>not<span class="dp">·</span>in<span class="dp">·</span>WRITE_CONNECTIONS</td><td class="diffline">440 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>and<span class="dp">·</span>self.address<span class="dp">·</span>not<span class="dp">·</span>in<span class="dp">·</span>WRITE_CONNECTIONS</td></tr>
<tr class="diffunmodified"><td class="diffline">456 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>and<span class="dp">·</span>self.dummy<span class="dp">·</span>is<span class="dp">·</span>True</td><td class="diffline">441 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>and<span class="dp">·</span>self.dummy<span class="dp">·</span>is<span class="dp">·</span>True</td></tr>
<tr class="diffunmodified"><td class="diffline">457 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td><td class="diffline">442 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td></tr>
<tr class="diffunmodified"><td class="diffline">458 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>WRITE_CONNECTIONS[self.address]<span class="dp">·</span>=<span class="dp">·</span>DummyWriterStub()</td><td class="diffline">443 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>WRITE_CONNECTIONS[self.address]<span class="dp">·</span>=<span class="dp">·</span>DummyWriterStub()</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 465, 31 lines modified</td><td colspan="2">Offset 448, 18 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">465 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>@property</td><td class="diffline">448 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>@property</td></tr>
<tr class="diffunmodified"><td class="diffline">466 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>reader(self)<span class="dp">·</span>-&gt;<span class="dp">·</span>NodeReaderStub:</td><td class="diffline">449 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>reader(self)<span class="dp">·</span>-&gt;<span class="dp">·</span>NodeReaderStub:</td></tr>
<tr class="diffunmodified"><td class="diffline">467 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(</td><td class="diffline">450 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(</td></tr>
<tr class="diffunmodified"><td class="diffline">468 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self._reader<span class="dp">·</span>is<span class="dp">·</span>None</td><td class="diffline">451 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self._reader<span class="dp">·</span>is<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">469 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>and<span class="dp">·</span>self.address<span class="dp">·</span>not<span class="dp">·</span>in<span class="dp">·</span>READ_CONNECTIONS</td><td class="diffline">452 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>and<span class="dp">·</span>self.address<span class="dp">·</span>not<span class="dp">·</span>in<span class="dp">·</span>READ_CONNECTIONS</td></tr>
<tr class="diffunmodified"><td class="diffline">470 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>and<span class="dp">·</span>self.dummy<span class="dp">·</span>is<span class="dp">·</span>False</td><td class="diffline">453 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>and<span class="dp">·</span>self.dummy<span class="dp">·</span>is<span class="dp">·</span>False</td></tr>
<tr class="diffunmodified"><td class="diffline">471 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td><td class="diffline">454 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">455 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>grpc_address<span class="dp">·</span>=<span class="dp">·</span>self._get_service_address(settings.reader_port_map)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">456 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>channel<span class="dp">·</span>=<span class="dp">·</span>get_traced_grpc_channel(</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">457 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>grpc_address,<span class="dp">·</span>SERVICE_NAME,<span class="dp">·</span>variant=&quot;_reader&quot;</td></tr>
<tr class="diffdeleted"><td class="diffline">472 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hostname<span class="dp">·</span>=<span class="dp">·</span>self.address.split(&quot;:&quot;)[0]</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">473 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>settings.node_reader_port<span class="dp">·</span>is<span class="dp">·</span>None:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">474 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>For<span class="dp">·</span>testing<span class="dp">·</span>proposes<span class="dp">·</span>we<span class="dp">·</span>need<span class="dp">·</span>to<span class="dp">·</span>be<span class="dp">·</span>able<span class="dp">·</span>to<span class="dp">·</span>have<span class="dp">·</span>a<span class="dp">·</span>writing<span class="dp">·</span>port</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">475 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reader_port<span class="dp">·</span>=<span class="dp">·</span>settings.reader_port_map[hostname]</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">476 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>grpc_address<span class="dp">·</span>=<span class="dp">·</span>f&quot;localhost:{reader_port}&quot;</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">477 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">478 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>grpc_address<span class="dp">·</span>=<span class="dp">·</span>f&quot;{hostname}:{settings.node_reader_port}&quot;</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">479 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tracer_provider<span class="dp">·</span>=<span class="dp">·</span>get_telemetry(SERVICE_NAME)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">480 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>tracer_provider<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None:<span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>pragma:<span class="dp">·</span>no<span class="dp">·</span>cover</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">481 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>telemetry_grpc<span class="dp">·</span>=<span class="dp">·</span>OpenTelemetryGRPC(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">482 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>f&quot;{SERVICE_NAME}_grpc_reader&quot;,<span class="dp">·</span>tracer_provider</td><td colspan="2"> </td></tr>
<tr class="error"><td colspan="4">
Max diff block lines reached; 214/5833 bytes (3.67%) of diff not shown.
</td></tr></table>  </div>
  <div class="difference">
    <div class="diffheader">
    <div class="diffcontrol">⊟</div>
    <div><span class="diffsize">1.95 KB</span></div>
    <div id="nucliadb-ingest-service-__init__.py"><span class="source">nucliadb/ingest/service/__init__.py</span>
      <a class="anchor" href="#nucliadb-ingest-service-__init__.py">¶</a>
    </div>
    </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 24, 16 lines modified</td><td colspan="2">Offset 24, 16 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">24 </td><td class="diffpresent">from<span class="dp">·</span>grpc_health.v1<span class="dp">·</span>import<span class="dp">·</span>health,<span class="dp">·</span>health_pb2,<span class="dp">·</span>health_pb2_grpc<span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>type:<span class="dp">·</span>ignore</td><td class="diffline">24 </td><td class="diffpresent">from<span class="dp">·</span>grpc_health.v1<span class="dp">·</span>import<span class="dp">·</span>health,<span class="dp">·</span>health_pb2,<span class="dp">·</span>health_pb2_grpc<span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>type:<span class="dp">·</span>ignore</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">25 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest<span class="dp">·</span>import<span class="dp">·</span>logger</td><td class="diffline">25 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest<span class="dp">·</span>import<span class="dp">·</span>logger</td></tr>
<tr class="diffunmodified"><td class="diffline">26 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest.orm<span class="dp">·</span>import<span class="dp">·</span>NODES</td><td class="diffline">26 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest.orm<span class="dp">·</span>import<span class="dp">·</span>NODES</td></tr>
<tr class="diffunmodified"><td class="diffline">27 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest.service.writer<span class="dp">·</span>import<span class="dp">·</span>WriterServicer</td><td class="diffline">27 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest.service.writer<span class="dp">·</span>import<span class="dp">·</span>WriterServicer</td></tr>
<tr class="diffunmodified"><td class="diffline">28 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest.settings<span class="dp">·</span>import<span class="dp">·</span>DriverConfig,<span class="dp">·</span>settings</td><td class="diffline">28 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest.settings<span class="dp">·</span>import<span class="dp">·</span>DriverConfig,<span class="dp">·</span>settings</td></tr>
<tr class="diffunmodified"><td class="diffline">29 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_protos<span class="dp">·</span>import<span class="dp">·</span>writer_pb2_grpc</td><td class="diffline">29 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_protos<span class="dp">·</span>import<span class="dp">·</span>writer_pb2_grpc</td></tr>
<tr class="diffdeleted"><td class="diffline">30 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry.grpc<span class="dp">·</span>import<span class="dp">·</span>OpenTelemetryGRPC</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">31 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry.utils<span class="dp">·</span>import<span class="dp">·</span><del>get_tele</del><del>m</del>et<del>ry,<span class="dp">·</span>in</del><del>it</del>_telemetry</td><td class="diffline">30 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry.utils<span class="dp">·</span>import<span class="dp">·</span><ins>s</ins>et<ins>up</ins>_telemetry</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">31 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.grpc<span class="dp">·</span>import<span class="dp">·</span>get_traced_grpc_server</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">32 </td><td class="diffpresent">async<span class="dp">·</span>def<span class="dp">·</span>health_check(health_servicer):</td><td class="diffline">32 </td><td class="diffpresent">async<span class="dp">·</span>def<span class="dp">·</span>health_check(health_servicer):</td></tr>
<tr class="diffunmodified"><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>while<span class="dp">·</span>True:</td><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>while<span class="dp">·</span>True:</td></tr>
<tr class="diffunmodified"><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>len(NODES)<span class="dp">·</span>==<span class="dp">·</span>0<span class="dp">·</span>and<span class="dp">·</span>settings.driver<span class="dp">·</span>!=<span class="dp">·</span>DriverConfig.local:</td><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>len(NODES)<span class="dp">·</span>==<span class="dp">·</span>0<span class="dp">·</span>and<span class="dp">·</span>settings.driver<span class="dp">·</span>!=<span class="dp">·</span>DriverConfig.local:</td></tr>
<tr class="diffunmodified"><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>health_servicer.set(&quot;&quot;,<span class="dp">·</span>health_pb2.HealthCheckResponse.NOT_SERVING)</td><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>health_servicer.set(&quot;&quot;,<span class="dp">·</span>health_pb2.HealthCheckResponse.NOT_SERVING)</td></tr>
<tr class="diffunmodified"><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else:</td><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else:</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 47, 27 lines modified</td><td colspan="2">Offset 47, 19 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td></tr>
<tr class="diffunmodified"><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return</td><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">49 </td><td class="diffpresent">async<span class="dp">·</span>def<span class="dp">·</span>start_grpc(service_name:<span class="dp">·</span>Optional[str]<span class="dp">·</span>=<span class="dp">·</span>None):</td><td class="diffline">49 </td><td class="diffpresent">async<span class="dp">·</span>def<span class="dp">·</span>start_grpc(service_name:<span class="dp">·</span>Optional[str]<span class="dp">·</span>=<span class="dp">·</span>None):</td></tr>
<tr class="diffunmodified"><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>aio.init_grpc_aio()</td><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>aio.init_grpc_aio()</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>setup_telemetry(service_name<span class="dp">·</span>or<span class="dp">·</span>&quot;ingest&quot;)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>server<span class="dp">·</span>=<span class="dp">·</span>get_traced_grpc_server(</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>service_name<span class="dp">·</span>or<span class="dp">·</span>&quot;ingest&quot;,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>max_receive_message=settings.max_receive_message_length,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffdeleted"><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tracer_provider<span class="dp">·</span>=<span class="dp">·</span>get_telemetry(service_name)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>tracer_provider<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None:<span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>pragma:<span class="dp">·</span>no<span class="dp">·</span>cover</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>init_telemetry(tracer_provider)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>otgrpc<span class="dp">·</span>=<span class="dp">·</span>OpenTelemetryGRPC(f&quot;{service_name}_grpc&quot;,<span class="dp">·</span>tracer_provider)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>server<span class="dp">·</span>=<span class="dp">·</span>otgrpc.init_server()</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>options<span class="dp">·</span>=<span class="dp">·</span>[</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;grpc.max_receive_message_length&quot;,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>settings.max_receive_message_length<span class="dp">·</span>*<span class="dp">·</span>1024<span class="dp">·</span>*<span class="dp">·</span>1024,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">61 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>),</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">62 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>]</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">63 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>server<span class="dp">·</span>=<span class="dp">·</span>aio.server(options=options)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">64 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>servicer<span class="dp">·</span>=<span class="dp">·</span>WriterServicer()</td><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>servicer<span class="dp">·</span>=<span class="dp">·</span>WriterServicer()</td></tr>
<tr class="diffunmodified"><td class="diffline">65 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>servicer.initialize()</td><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>servicer.initialize()</td></tr>
<tr class="diffunmodified"><td class="diffline">66 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>health_servicer<span class="dp">·</span>=<span class="dp">·</span>health.aio.HealthServicer()<span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>type:<span class="dp">·</span>ignore</td><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>health_servicer<span class="dp">·</span>=<span class="dp">·</span>health.aio.HealthServicer()<span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>type:<span class="dp">·</span>ignore</td></tr>
<tr class="diffunmodified"><td class="diffline">67 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>server.add_insecure_port(f&quot;0.0.0.0:{settings.grpc_port}&quot;)</td><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>server.add_insecure_port(f&quot;0.0.0.0:{settings.grpc_port}&quot;)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">68 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>writer_pb2_grpc.add_WriterServicer_to_server(servicer,<span class="dp">·</span>server)</td><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>writer_pb2_grpc.add_WriterServicer_to_server(servicer,<span class="dp">·</span>server)</td></tr>
</table>  </div>
  <div class="difference">
    <div class="diffheader">
    <div class="diffcontrol">⊟</div>
    <div><span class="diffsize">2.31 KB</span></div>
    <div id="nucliadb-one-app.py"><span class="source">nucliadb/one/app.py</span>
      <a class="anchor" href="#nucliadb-one-app.py">¶</a>
    </div>
    </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 15, 45 lines modified</td><td colspan="2">Offset 15, 41 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">15 </td><td class="diffpresent">#<span class="dp">·</span>GNU<span class="dp">·</span>Affero<span class="dp">·</span>General<span class="dp">·</span>Public<span class="dp">·</span>License<span class="dp">·</span>for<span class="dp">·</span>more<span class="dp">·</span>details.</td><td class="diffline">15 </td><td class="diffpresent">#<span class="dp">·</span>GNU<span class="dp">·</span>Affero<span class="dp">·</span>General<span class="dp">·</span>Public<span class="dp">·</span>License<span class="dp">·</span>for<span class="dp">·</span>more<span class="dp">·</span>details.</td></tr>
<tr class="diffunmodified"><td class="diffline">16 </td><td class="diffpresent">#</td><td class="diffline">16 </td><td class="diffpresent">#</td></tr>
<tr class="diffunmodified"><td class="diffline">17 </td><td class="diffpresent">#<span class="dp">·</span>You<span class="dp">·</span>should<span class="dp">·</span>have<span class="dp">·</span>received<span class="dp">·</span>a<span class="dp">·</span>copy<span class="dp">·</span>of<span class="dp">·</span>the<span class="dp">·</span>GNU<span class="dp">·</span>Affero<span class="dp">·</span>General<span class="dp">·</span>Public<span class="dp">·</span>License</td><td class="diffline">17 </td><td class="diffpresent">#<span class="dp">·</span>You<span class="dp">·</span>should<span class="dp">·</span>have<span class="dp">·</span>received<span class="dp">·</span>a<span class="dp">·</span>copy<span class="dp">·</span>of<span class="dp">·</span>the<span class="dp">·</span>GNU<span class="dp">·</span>Affero<span class="dp">·</span>General<span class="dp">·</span>Public<span class="dp">·</span>License</td></tr>
<tr class="diffunmodified"><td class="diffline">18 </td><td class="diffpresent">#<span class="dp">·</span>along<span class="dp">·</span>with<span class="dp">·</span>this<span class="dp">·</span>program.<span class="dp">·</span>If<span class="dp">·</span>not,<span class="dp">·</span>see<span class="dp">·</span>&lt;http://www.gnu.org/licenses/&gt;.</td><td class="diffline">18 </td><td class="diffpresent">#<span class="dp">·</span>along<span class="dp">·</span>with<span class="dp">·</span>this<span class="dp">·</span>program.<span class="dp">·</span>If<span class="dp">·</span>not,<span class="dp">·</span>see<span class="dp">·</span>&lt;http://www.gnu.org/licenses/&gt;.</td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent">#</td><td class="diffline">19 </td><td class="diffpresent">#</td></tr>
<tr class="diffunmodified"><td class="diffline">20 </td><td class="diffpresent">import<span class="dp">·</span>pkg_resources</td><td class="diffline">20 </td><td class="diffpresent">import<span class="dp">·</span>pkg_resources</td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent">from<span class="dp">·</span>fastapi<span class="dp">·</span>import<span class="dp">·</span>FastAPI</td><td class="diffline">21 </td><td class="diffpresent">from<span class="dp">·</span>fastapi<span class="dp">·</span>import<span class="dp">·</span>FastAPI</td></tr>
<tr class="diffdeleted"><td class="diffline">22 </td><td class="diffpresent">from<span class="dp">·</span>opentelemetry.instrumentation.fastapi<span class="dp">·</span>import<span class="dp">·</span>FastAPIInstrumentor</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">23 </td><td class="diffpresent">from<span class="dp">·</span>opentelemetry.propagate<span class="dp">·</span>import<span class="dp">·</span>set_global_textmap</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">24 </td><td class="diffpresent">from<span class="dp">·</span>opentelemetry.propagators.b3<span class="dp">·</span>import<span class="dp">·</span>B3MultiFormat</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">25 </td><td class="diffpresent">from<span class="dp">·</span>starlette.middleware<span class="dp">·</span>import<span class="dp">·</span>Middleware</td><td class="diffline">22 </td><td class="diffpresent">from<span class="dp">·</span>starlette.middleware<span class="dp">·</span>import<span class="dp">·</span>Middleware</td></tr>
<tr class="diffunmodified"><td class="diffline">26 </td><td class="diffpresent">from<span class="dp">·</span>starlette.middleware.authentication<span class="dp">·</span>import<span class="dp">·</span>AuthenticationMiddleware</td><td class="diffline">23 </td><td class="diffpresent">from<span class="dp">·</span>starlette.middleware.authentication<span class="dp">·</span>import<span class="dp">·</span>AuthenticationMiddleware</td></tr>
<tr class="diffunmodified"><td class="diffline">27 </td><td class="diffpresent">from<span class="dp">·</span>starlette.middleware.cors<span class="dp">·</span>import<span class="dp">·</span>CORSMiddleware</td><td class="diffline">24 </td><td class="diffpresent">from<span class="dp">·</span>starlette.middleware.cors<span class="dp">·</span>import<span class="dp">·</span>CORSMiddleware</td></tr>
<tr class="diffunmodified"><td class="diffline">28 </td><td class="diffpresent">from<span class="dp">·</span>starlette.responses<span class="dp">·</span>import<span class="dp">·</span>HTMLResponse</td><td class="diffline">25 </td><td class="diffpresent">from<span class="dp">·</span>starlette.responses<span class="dp">·</span>import<span class="dp">·</span>HTMLResponse</td></tr>
<tr class="diffunmodified"><td class="diffline">29 </td><td class="diffpresent">from<span class="dp">·</span>starlette.routing<span class="dp">·</span>import<span class="dp">·</span>Mount</td><td class="diffline">26 </td><td class="diffpresent">from<span class="dp">·</span>starlette.routing<span class="dp">·</span>import<span class="dp">·</span>Mount</td></tr>
<tr class="diffdeleted"><td class="diffline">30 </td><td class="diffpresent">from<span class="dp">·</span>starlette_prometheus<span class="dp">·</span>import<span class="dp">·</span>PrometheusMiddleware</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">31 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.one.lifecycle<span class="dp">·</span>import<span class="dp">·</span>finalize,<span class="dp">·</span>initialize</td><td class="diffline">27 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.one.lifecycle<span class="dp">·</span>import<span class="dp">·</span>finalize,<span class="dp">·</span>initialize</td></tr>
<tr class="diffunmodified"><td class="diffline">32 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.reader<span class="dp">·</span>import<span class="dp">·</span>API_PREFIX</td><td class="diffline">28 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.reader<span class="dp">·</span>import<span class="dp">·</span>API_PREFIX</td></tr>
<tr class="diffunmodified"><td class="diffline">33 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.reader.api.v1.router<span class="dp">·</span>import<span class="dp">·</span>api<span class="dp">·</span>as<span class="dp">·</span>api_reader_v1</td><td class="diffline">29 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.reader.api.v1.router<span class="dp">·</span>import<span class="dp">·</span>api<span class="dp">·</span>as<span class="dp">·</span>api_reader_v1</td></tr>
<tr class="diffunmodified"><td class="diffline">34 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.search.api.v1.router<span class="dp">·</span>import<span class="dp">·</span>api<span class="dp">·</span>as<span class="dp">·</span>api_search_v1</td><td class="diffline">30 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.search.api.v1.router<span class="dp">·</span>import<span class="dp">·</span>api<span class="dp">·</span>as<span class="dp">·</span>api_search_v1</td></tr>
<tr class="diffunmodified"><td class="diffline">35 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.train.api.v1.router<span class="dp">·</span>import<span class="dp">·</span>api<span class="dp">·</span>as<span class="dp">·</span>api_train_v1</td><td class="diffline">31 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.train.api.v1.router<span class="dp">·</span>import<span class="dp">·</span>api<span class="dp">·</span>as<span class="dp">·</span>api_train_v1</td></tr>
<tr class="diffunmodified"><td class="diffline">36 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.writer.api.v1.router<span class="dp">·</span>import<span class="dp">·</span>api<span class="dp">·</span>as<span class="dp">·</span>api_writer_v1</td><td class="diffline">32 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.writer.api.v1.router<span class="dp">·</span>import<span class="dp">·</span>api<span class="dp">·</span>as<span class="dp">·</span>api_writer_v1</td></tr>
<tr class="diffunmodified"><td class="diffline">37 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry<span class="dp">·</span>import<span class="dp">·</span>errors</td><td class="diffline">33 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry<span class="dp">·</span>import<span class="dp">·</span>errors</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">34 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry.fastapi<span class="dp">·</span>import<span class="dp">·</span>instrument_app</td></tr>
<tr class="diffunmodified"><td class="diffline">38 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.authentication<span class="dp">·</span>import<span class="dp">·</span>STFAuthenticationBackend</td><td class="diffline">35 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.authentication<span class="dp">·</span>import<span class="dp">·</span>STFAuthenticationBackend</td></tr>
<tr class="diffunmodified"><td class="diffline">39 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.fastapi<span class="dp">·</span>import<span class="dp">·</span>metrics</td><td class="diffline">36 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.fastapi<span class="dp">·</span>import<span class="dp">·</span>metrics</td></tr>
<tr class="diffunmodified"><td class="diffline">40 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.fastapi.openapi<span class="dp">·</span>import<span class="dp">·</span>extend_openapi</td><td class="diffline">37 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.fastapi.openapi<span class="dp">·</span>import<span class="dp">·</span>extend_openapi</td></tr>
<tr class="diffunmodified"><td class="diffline">41 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.fastapi.versioning<span class="dp">·</span>import<span class="dp">·</span>VersionedFastAPI</td><td class="diffline">38 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.fastapi.versioning<span class="dp">·</span>import<span class="dp">·</span>VersionedFastAPI</td></tr>
<tr class="diffunmodified"><td class="diffline">42 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.settings<span class="dp">·</span>import<span class="dp">·</span>http_settings,<span class="dp">·</span>running_settings</td><td class="diffline">39 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.settings<span class="dp">·</span>import<span class="dp">·</span>http_settings,<span class="dp">·</span>running_settings</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">43 </td><td class="diffpresent">middleware<span class="dp">·</span>=<span class="dp">·</span>[</td><td class="diffline">40 </td><td class="diffpresent">middleware<span class="dp">·</span>=<span class="dp">·</span>[</td></tr>
<tr class="diffunmodified"><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Middleware(</td><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Middleware(</td></tr>
<tr class="diffunmodified"><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>CORSMiddleware,</td><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>CORSMiddleware,</td></tr>
<tr class="diffunmodified"><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>allow_origins=http_settings.cors_origins,</td><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>allow_origins=http_settings.cors_origins,</td></tr>
<tr class="diffunmodified"><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>allow_methods=[&quot;*&quot;],</td><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>allow_methods=[&quot;*&quot;],</td></tr>
<tr class="diffunmodified"><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>allow_headers=[&quot;*&quot;],</td><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>allow_headers=[&quot;*&quot;],</td></tr>
<tr class="diffunmodified"><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>),</td><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>),</td></tr>
<tr class="diffdeleted"><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Middleware(PrometheusMiddleware),</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Middleware(</td><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Middleware(</td></tr>
<tr class="diffunmodified"><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>AuthenticationMiddleware,</td><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>AuthenticationMiddleware,</td></tr>
<tr class="diffunmodified"><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>backend=STFAuthenticationBackend(),</td><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>backend=STFAuthenticationBackend(),</td></tr>
<tr class="diffunmodified"><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>),</td><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>),</td></tr>
<tr class="diffunmodified"><td class="diffline">55 </td><td class="diffpresent">]</td><td class="diffline">51 </td><td class="diffpresent">]</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffhunk"><td colspan="2">Offset 97, 12 lines modified</td><td colspan="2">Offset 93, 8 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">97 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>HTMLResponse(&quot;NucliaDB<span class="dp">·</span>One<span class="dp">·</span>Service&quot;)</td><td class="diffline">93 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>HTMLResponse(&quot;NucliaDB<span class="dp">·</span>One<span class="dp">·</span>Service&quot;)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">98 </td><td class="diffpresent">#<span class="dp">·</span>Use<span class="dp">·</span>raw<span class="dp">·</span>starlette<span class="dp">·</span>routes<span class="dp">·</span>to<span class="dp">·</span>avoid<span class="dp">·</span>unnecessary<span class="dp">·</span>overhead</td><td class="diffline">94 </td><td class="diffpresent">#<span class="dp">·</span>Use<span class="dp">·</span>raw<span class="dp">·</span>starlette<span class="dp">·</span>routes<span class="dp">·</span>to<span class="dp">·</span>avoid<span class="dp">·</span>unnecessary<span class="dp">·</span>overhead</td></tr>
<tr class="diffunmodified"><td class="diffline">99 </td><td class="diffpresent">application.add_route(&quot;/&quot;,<span class="dp">·</span>homepage)</td><td class="diffline">95 </td><td class="diffpresent">application.add_route(&quot;/&quot;,<span class="dp">·</span>homepage)</td></tr>
<tr class="diffunmodified"><td class="diffline">100 </td><td class="diffpresent">application.add_route(&quot;/metrics&quot;,<span class="dp">·</span>metrics.metrics)</td><td class="diffline">96 </td><td class="diffpresent">application.add_route(&quot;/metrics&quot;,<span class="dp">·</span>metrics.metrics)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">97 </td><td class="diffpresent">instrument_app(application,<span class="dp">·</span>excluded_urls=[&quot;/&quot;],<span class="dp">·</span>metrics=True)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">101 </td><td class="diffpresent">#<span class="dp">·</span>Enable<span class="dp">·</span>forwarding<span class="dp">·</span>of<span class="dp">·</span>B3<span class="dp">·</span>headers<span class="dp">·</span>to<span class="dp">·</span>responses<span class="dp">·</span>and<span class="dp">·</span>external<span class="dp">·</span>requests</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">102 </td><td class="diffpresent">#<span class="dp">·</span>to<span class="dp">·</span>both<span class="dp">·</span>inner<span class="dp">·</span>applications</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">103 </td><td class="diffpresent">set_global_textmap(B3MultiFormat())</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">104 </td><td class="diffpresent">FastAPIInstrumentor.instrument_app(application)</td><td colspan="2"> </td></tr>
</table>  </div>
  <div class="difference">
    <div class="diffheader">
    <div class="diffcontrol">⊟</div>
    <div><span class="diffsize">2.26 KB</span></div>
    <div id="nucliadb-reader-app.py"><span class="source">nucliadb/reader/app.py</span>
      <a class="anchor" href="#nucliadb-reader-app.py">¶</a>
    </div>
    </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 16, 25 lines modified</td><td colspan="2">Offset 16, 19 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">16 </td><td class="diffpresent">#</td><td class="diffline">16 </td><td class="diffpresent">#</td></tr>
<tr class="diffunmodified"><td class="diffline">17 </td><td class="diffpresent">#<span class="dp">·</span>You<span class="dp">·</span>should<span class="dp">·</span>have<span class="dp">·</span>received<span class="dp">·</span>a<span class="dp">·</span>copy<span class="dp">·</span>of<span class="dp">·</span>the<span class="dp">·</span>GNU<span class="dp">·</span>Affero<span class="dp">·</span>General<span class="dp">·</span>Public<span class="dp">·</span>License</td><td class="diffline">17 </td><td class="diffpresent">#<span class="dp">·</span>You<span class="dp">·</span>should<span class="dp">·</span>have<span class="dp">·</span>received<span class="dp">·</span>a<span class="dp">·</span>copy<span class="dp">·</span>of<span class="dp">·</span>the<span class="dp">·</span>GNU<span class="dp">·</span>Affero<span class="dp">·</span>General<span class="dp">·</span>Public<span class="dp">·</span>License</td></tr>
<tr class="diffunmodified"><td class="diffline">18 </td><td class="diffpresent">#<span class="dp">·</span>along<span class="dp">·</span>with<span class="dp">·</span>this<span class="dp">·</span>program.<span class="dp">·</span>If<span class="dp">·</span>not,<span class="dp">·</span>see<span class="dp">·</span>&lt;http://www.gnu.org/licenses/&gt;.</td><td class="diffline">18 </td><td class="diffpresent">#<span class="dp">·</span>along<span class="dp">·</span>with<span class="dp">·</span>this<span class="dp">·</span>program.<span class="dp">·</span>If<span class="dp">·</span>not,<span class="dp">·</span>see<span class="dp">·</span>&lt;http://www.gnu.org/licenses/&gt;.</td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent">#</td><td class="diffline">19 </td><td class="diffpresent">#</td></tr>
<tr class="diffunmodified"><td class="diffline">20 </td><td class="diffpresent">import<span class="dp">·</span>pkg_resources</td><td class="diffline">20 </td><td class="diffpresent">import<span class="dp">·</span>pkg_resources</td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent">from<span class="dp">·</span>fastapi<span class="dp">·</span>import<span class="dp">·</span>FastAPI</td><td class="diffline">21 </td><td class="diffpresent">from<span class="dp">·</span>fastapi<span class="dp">·</span>import<span class="dp">·</span>FastAPI</td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent">from<span class="dp">·</span>fastapi.responses<span class="dp">·</span>import<span class="dp">·</span>JSONResponse</td><td class="diffline">22 </td><td class="diffpresent">from<span class="dp">·</span>fastapi.responses<span class="dp">·</span>import<span class="dp">·</span>JSONResponse</td></tr>
<tr class="diffdeleted"><td class="diffline">23 </td><td class="diffpresent">from<span class="dp">·</span>opentelemetry.instrumentation.aiohttp_client<span class="dp">·</span>import<span class="dp">·</span>(<span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>type:<span class="dp">·</span>ignore</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>AioHttpClientInstrumentor,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">25 </td><td class="diffpresent">)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">26 </td><td class="diffpresent">from<span class="dp">·</span>opentelemetry.propagate<span class="dp">·</span>import<span class="dp">·</span>set_global_textmap</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">27 </td><td class="diffpresent">from<span class="dp">·</span>opentelemetry.propagators.b3<span class="dp">·</span>import<span class="dp">·</span>B3MultiFormat</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">28 </td><td class="diffpresent">from<span class="dp">·</span>starlette.middleware<span class="dp">·</span>import<span class="dp">·</span>Middleware</td><td class="diffline">23 </td><td class="diffpresent">from<span class="dp">·</span>starlette.middleware<span class="dp">·</span>import<span class="dp">·</span>Middleware</td></tr>
<tr class="diffunmodified"><td class="diffline">29 </td><td class="diffpresent">from<span class="dp">·</span>starlette.middleware.authentication<span class="dp">·</span>import<span class="dp">·</span>AuthenticationMiddleware</td><td class="diffline">24 </td><td class="diffpresent">from<span class="dp">·</span>starlette.middleware.authentication<span class="dp">·</span>import<span class="dp">·</span>AuthenticationMiddleware</td></tr>
<tr class="diffunmodified"><td class="diffline">30 </td><td class="diffpresent">from<span class="dp">·</span>starlette.middleware.cors<span class="dp">·</span>import<span class="dp">·</span>CORSMiddleware</td><td class="diffline">25 </td><td class="diffpresent">from<span class="dp">·</span>starlette.middleware.cors<span class="dp">·</span>import<span class="dp">·</span>CORSMiddleware</td></tr>
<tr class="diffunmodified"><td class="diffline">31 </td><td class="diffpresent">from<span class="dp">·</span>starlette.requests<span class="dp">·</span>import<span class="dp">·</span>ClientDisconnect,<span class="dp">·</span>Request</td><td class="diffline">26 </td><td class="diffpresent">from<span class="dp">·</span>starlette.requests<span class="dp">·</span>import<span class="dp">·</span>ClientDisconnect,<span class="dp">·</span>Request</td></tr>
<tr class="diffunmodified"><td class="diffline">32 </td><td class="diffpresent">from<span class="dp">·</span>starlette.responses<span class="dp">·</span>import<span class="dp">·</span>HTMLResponse</td><td class="diffline">27 </td><td class="diffpresent">from<span class="dp">·</span>starlette.responses<span class="dp">·</span>import<span class="dp">·</span>HTMLResponse</td></tr>
<tr class="diffdeleted"><td class="diffline">33 </td><td class="diffpresent">from<span class="dp">·</span>starlette_prometheus<span class="dp">·</span>import<span class="dp">·</span>PrometheusMiddleware</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">34 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.reader<span class="dp">·</span>import<span class="dp">·</span>API_PREFIX,<span class="dp">·</span>SERVICE_NAME</td><td class="diffline">28 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.reader<span class="dp">·</span>import<span class="dp">·</span>API_PREFIX,<span class="dp">·</span>SERVICE_NAME</td></tr>
<tr class="diffunmodified"><td class="diffline">35 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.reader.api.v1.router<span class="dp">·</span>import<span class="dp">·</span>api<span class="dp">·</span>as<span class="dp">·</span>api_v1</td><td class="diffline">29 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.reader.api.v1.router<span class="dp">·</span>import<span class="dp">·</span>api<span class="dp">·</span>as<span class="dp">·</span>api_v1</td></tr>
<tr class="diffunmodified"><td class="diffline">36 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.reader.lifecycle<span class="dp">·</span>import<span class="dp">·</span>finalize,<span class="dp">·</span>initialize</td><td class="diffline">30 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.reader.lifecycle<span class="dp">·</span>import<span class="dp">·</span>finalize,<span class="dp">·</span>initialize</td></tr>
<tr class="diffunmodified"><td class="diffline">37 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry<span class="dp">·</span>import<span class="dp">·</span>errors</td><td class="diffline">31 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry<span class="dp">·</span>import<span class="dp">·</span>errors</td></tr>
<tr class="diffunmodified"><td class="diffline">38 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry.fastapi<span class="dp">·</span>import<span class="dp">·</span>instrument_app</td><td class="diffline">32 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry.fastapi<span class="dp">·</span>import<span class="dp">·</span>instrument_app</td></tr>
<tr class="diffunmodified"><td class="diffline">39 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry.utils<span class="dp">·</span>import<span class="dp">·</span>get_telemetry</td><td class="diffline">33 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry.utils<span class="dp">·</span>import<span class="dp">·</span>get_telemetry</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 46, 15 lines modified</td><td colspan="2">Offset 40, 14 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">46 </td><td class="diffpresent">middleware<span class="dp">·</span>=<span class="dp">·</span>[</td><td class="diffline">40 </td><td class="diffpresent">middleware<span class="dp">·</span>=<span class="dp">·</span>[</td></tr>
<tr class="diffunmodified"><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Middleware(</td><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Middleware(</td></tr>
<tr class="diffunmodified"><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>CORSMiddleware,</td><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>CORSMiddleware,</td></tr>
<tr class="diffunmodified"><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>allow_origins=http_settings.cors_origins,</td><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>allow_origins=http_settings.cors_origins,</td></tr>
<tr class="diffunmodified"><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>allow_methods=[&quot;*&quot;],</td><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>allow_methods=[&quot;*&quot;],</td></tr>
<tr class="diffunmodified"><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>allow_headers=[&quot;*&quot;],</td><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>allow_headers=[&quot;*&quot;],</td></tr>
<tr class="diffunmodified"><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>),</td><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>),</td></tr>
<tr class="diffdeleted"><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Middleware(PrometheusMiddleware),</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Middleware(</td><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Middleware(</td></tr>
<tr class="diffunmodified"><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>AuthenticationMiddleware,</td><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>AuthenticationMiddleware,</td></tr>
<tr class="diffunmodified"><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>backend=STFAuthenticationBackend(),</td><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>backend=STFAuthenticationBackend(),</td></tr>
<tr class="diffunmodified"><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>),</td><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>),</td></tr>
<tr class="diffunmodified"><td class="diffline">58 </td><td class="diffpresent">]</td><td class="diffline">51 </td><td class="diffpresent">]</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">59 </td><td class="diffpresent">errors.setup_error_handling(pkg_resources.get_distribution(&quot;nucliadb&quot;).version)</td><td class="diffline">52 </td><td class="diffpresent">errors.setup_error_handling(pkg_resources.get_distribution(&quot;nucliadb&quot;).version)</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 109, 13 lines modified</td><td colspan="2">Offset 102, 13 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">109 </td><td class="diffpresent">async<span class="dp">·</span>def<span class="dp">·</span>homepage(request:<span class="dp">·</span>Request)<span class="dp">·</span>-&gt;<span class="dp">·</span>HTMLResponse:</td><td class="diffline">102 </td><td class="diffpresent">async<span class="dp">·</span>def<span class="dp">·</span>homepage(request:<span class="dp">·</span>Request)<span class="dp">·</span>-&gt;<span class="dp">·</span>HTMLResponse:</td></tr>
<tr class="diffunmodified"><td class="diffline">110 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>HTMLResponse(&quot;NucliaDB<span class="dp">·</span>Reader<span class="dp">·</span>Service&quot;)</td><td class="diffline">103 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>HTMLResponse(&quot;NucliaDB<span class="dp">·</span>Reader<span class="dp">·</span>Service&quot;)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">111 </td><td class="diffpresent">#<span class="dp">·</span>Use<span class="dp">·</span>raw<span class="dp">·</span>starlette<span class="dp">·</span>routes<span class="dp">·</span>to<span class="dp">·</span>avoid<span class="dp">·</span>unnecessary<span class="dp">·</span>overhead</td><td class="diffline">104 </td><td class="diffpresent">#<span class="dp">·</span>Use<span class="dp">·</span>raw<span class="dp">·</span>starlette<span class="dp">·</span>routes<span class="dp">·</span>to<span class="dp">·</span>avoid<span class="dp">·</span>unnecessary<span class="dp">·</span>overhead</td></tr>
<tr class="diffunmodified"><td class="diffline">112 </td><td class="diffpresent">application.add_route(&quot;/&quot;,<span class="dp">·</span>homepage)</td><td class="diffline">105 </td><td class="diffpresent">application.add_route(&quot;/&quot;,<span class="dp">·</span>homepage)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">113 </td><td class="diffpresent">#<span class="dp">·</span>Enable<span class="dp">·</span>forwarding<span class="dp">·</span>of<span class="dp">·</span>B3<span class="dp">·</span>headers<span class="dp">·</span>to<span class="dp">·</span>responses<span class="dp">·</span>and<span class="dp">·</span>external<span class="dp">·</span>requests</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">114 </td><td class="diffpresent"><del>#<span class="dp">·</span>to</del><del><span class="dp">·</span>bo</del>t<del>h<span class="dp">·</span>in</del>n<del>e</del><del>r<span class="dp">·</span></del>app<del>lication</del><del>s</del></td><td class="diffline">106 </td><td class="diffpresent"><ins>ins</ins>t<ins>rume</ins>n<ins>t_</ins>app<ins>(</ins></td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">107 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>application,</td></tr>
<tr class="diffchanged"><td class="diffline">115 </td><td class="diffpresent">tracer_provider<del><span class="dp">·</span></del>=<del><span class="dp">·</span></del>get_telemetry(SERVICE_NAME)</td><td class="diffline">108 </td><td class="diffpresent"><ins><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></ins>tracer_provider=get_telemetry(SERVICE_NAME)<ins>,</ins></td></tr>
<tr class="diffdeleted"><td class="diffline">116 </td><td class="diffpresent">set_global_textmap(B3MultiFormat())</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">117 </td><td class="diffpresent">instrument_app(application,<span class="dp">·</span>tracer_provider=tracer_provider,<span class="dp">·</span>excluded_urls=[&quot;/&quot;])</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">118 </td><td class="diffpresent"><del>AioHttpClientIns</del><del>trum</del>e<del>ntor().in</del><del>str</del>u<del>ment(tra</del><del>c</del>e<del>r</del>_<del>p</del>r<del>ovid</del><del>er</del>=<del>tracer_pro</del><del>vider)</del></td><td class="diffline">109 </td><td class="diffpresent"><ins><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></ins>e<ins>xcl</ins>u<ins>d</ins>e<ins>d</ins>_<ins>u</ins>r<ins>ls</ins>=<ins>[&quot;/&quot;],</ins></td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">110 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics=True,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">111 </td><td class="diffpresent">)</td></tr>
</table>  </div>
  <div class="difference">
    <div class="diffheader">
    <div class="diffcontrol">⊟</div>
    <div><span class="diffsize">1.02 KB</span></div>
    <div id="nucliadb-reader-lifecycle.py"><span class="source">nucliadb/reader/lifecycle.py</span>
      <a class="anchor" href="#nucliadb-reader-lifecycle.py">¶</a>
    </div>
    </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 18, 23 lines modified</td><td colspan="2">Offset 18, 21 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">18 </td><td class="diffpresent">#<span class="dp">·</span>along<span class="dp">·</span>with<span class="dp">·</span>this<span class="dp">·</span>program.<span class="dp">·</span>If<span class="dp">·</span>not,<span class="dp">·</span>see<span class="dp">·</span>&lt;http://www.gnu.org/licenses/&gt;.</td><td class="diffline">18 </td><td class="diffpresent">#<span class="dp">·</span>along<span class="dp">·</span>with<span class="dp">·</span>this<span class="dp">·</span>program.<span class="dp">·</span>If<span class="dp">·</span>not,<span class="dp">·</span>see<span class="dp">·</span>&lt;http://www.gnu.org/licenses/&gt;.</td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent">#</td><td class="diffline">19 </td><td class="diffpresent">#</td></tr>
<tr class="diffunmodified"><td class="diffline">20 </td><td class="diffpresent">import<span class="dp">·</span>logging</td><td class="diffline">20 </td><td class="diffpresent">import<span class="dp">·</span>logging</td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent">import<span class="dp">·</span>sys</td><td class="diffline">21 </td><td class="diffpresent">import<span class="dp">·</span>sys</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest.utils<span class="dp">·</span>import<span class="dp">·</span>start_ingest,<span class="dp">·</span>stop_ingest</td><td class="diffline">22 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest.utils<span class="dp">·</span>import<span class="dp">·</span>start_ingest,<span class="dp">·</span>stop_ingest</td></tr>
<tr class="diffunmodified"><td class="diffline">23 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.reader<span class="dp">·</span>import<span class="dp">·</span>SERVICE_NAME,<span class="dp">·</span>logger</td><td class="diffline">23 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.reader<span class="dp">·</span>import<span class="dp">·</span>SERVICE_NAME,<span class="dp">·</span>logger</td></tr>
<tr class="diffchanged"><td class="diffline">24 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry.utils<span class="dp">·</span>import<span class="dp">·</span>clean_telemetry,<span class="dp">·</span><del>get_tele</del><del>m</del>et<del>ry,<span class="dp">·</span>in</del><del>it</del>_telemetry</td><td class="diffline">24 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry.utils<span class="dp">·</span>import<span class="dp">·</span>clean_telemetry,<span class="dp">·</span><ins>s</ins>et<ins>up</ins>_telemetry</td></tr>
<tr class="diffunmodified"><td class="diffline">25 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.settings<span class="dp">·</span>import<span class="dp">·</span>running_settings</td><td class="diffline">25 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.settings<span class="dp">·</span>import<span class="dp">·</span>running_settings</td></tr>
<tr class="diffunmodified"><td class="diffline">26 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.utilities<span class="dp">·</span>import<span class="dp">·</span>start_audit_utility,<span class="dp">·</span>stop_audit_utility</td><td class="diffline">26 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.utilities<span class="dp">·</span>import<span class="dp">·</span>start_audit_utility,<span class="dp">·</span>stop_audit_utility</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">27 </td><td class="diffpresent">async<span class="dp">·</span>def<span class="dp">·</span>initialize()<span class="dp">·</span>-&gt;<span class="dp">·</span>None:</td><td class="diffline">27 </td><td class="diffpresent">async<span class="dp">·</span>def<span class="dp">·</span>initialize()<span class="dp">·</span>-&gt;<span class="dp">·</span>None:</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">28 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>setup_telemetry(SERVICE_NAME)</td></tr>
<tr class="diffdeleted"><td class="diffline">28 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tracer_provider<span class="dp">·</span>=<span class="dp">·</span>get_telemetry(SERVICE_NAME)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>tracer_provider:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>init_telemetry(tracer_provider)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>start_ingest(SERVICE_NAME)</td><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>start_ingest(SERVICE_NAME)</td></tr>
<tr class="diffunmodified"><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>start_audit_utility(SERVICE_NAME)</td><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>start_audit_utility(SERVICE_NAME)</td></tr>
<tr class="diffunmodified"><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>logging.basicConfig(</td><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>logging.basicConfig(</td></tr>
<tr class="diffunmodified"><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>level=logging.INFO,</td><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>level=logging.INFO,</td></tr>
<tr class="diffunmodified"><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>format=&quot;[%(asctime)s.%(msecs)02d]<span class="dp">·</span>[%(levelname)s]<span class="dp">·</span>-<span class="dp">·</span>%(name)s<span class="dp">·</span>-<span class="dp">·</span>%(message)s&quot;,</td><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>format=&quot;[%(asctime)s.%(msecs)02d]<span class="dp">·</span>[%(levelname)s]<span class="dp">·</span>-<span class="dp">·</span>%(name)s<span class="dp">·</span>-<span class="dp">·</span>%(message)s&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>datefmt=&quot;%Y-%m-%d<span class="dp">·</span>%H:%M:%S&quot;,</td><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>datefmt=&quot;%Y-%m-%d<span class="dp">·</span>%H:%M:%S&quot;,</td></tr>
</table>  </div>
  <div class="difference">
    <div class="diffheader">
    <div class="diffcontrol">⊟</div>
    <div><span class="diffsize">2.15 KB</span></div>
    <div id="nucliadb-search-app.py"><span class="source">nucliadb/search/app.py</span>
      <a class="anchor" href="#nucliadb-search-app.py">¶</a>
    </div>
    </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 18, 25 lines modified</td><td colspan="2">Offset 18, 19 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">18 </td><td class="diffpresent">#<span class="dp">·</span>along<span class="dp">·</span>with<span class="dp">·</span>this<span class="dp">·</span>program.<span class="dp">·</span>If<span class="dp">·</span>not,<span class="dp">·</span>see<span class="dp">·</span>&lt;http://www.gnu.org/licenses/&gt;.</td><td class="diffline">18 </td><td class="diffpresent">#<span class="dp">·</span>along<span class="dp">·</span>with<span class="dp">·</span>this<span class="dp">·</span>program.<span class="dp">·</span>If<span class="dp">·</span>not,<span class="dp">·</span>see<span class="dp">·</span>&lt;http://www.gnu.org/licenses/&gt;.</td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent">#</td><td class="diffline">19 </td><td class="diffpresent">#</td></tr>
<tr class="diffunmodified"><td class="diffline">20 </td><td class="diffpresent">import<span class="dp">·</span>logging</td><td class="diffline">20 </td><td class="diffpresent">import<span class="dp">·</span>logging</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent">import<span class="dp">·</span>pkg_resources</td><td class="diffline">21 </td><td class="diffpresent">import<span class="dp">·</span>pkg_resources</td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent">from<span class="dp">·</span>fastapi<span class="dp">·</span>import<span class="dp">·</span>FastAPI</td><td class="diffline">22 </td><td class="diffpresent">from<span class="dp">·</span>fastapi<span class="dp">·</span>import<span class="dp">·</span>FastAPI</td></tr>
<tr class="diffunmodified"><td class="diffline">23 </td><td class="diffpresent">from<span class="dp">·</span>fastapi.responses<span class="dp">·</span>import<span class="dp">·</span>JSONResponse</td><td class="diffline">23 </td><td class="diffpresent">from<span class="dp">·</span>fastapi.responses<span class="dp">·</span>import<span class="dp">·</span>JSONResponse</td></tr>
<tr class="diffdeleted"><td class="diffline">24 </td><td class="diffpresent">from<span class="dp">·</span>opentelemetry.instrumentation.aiohttp_client<span class="dp">·</span>import<span class="dp">·</span>(<span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>type:<span class="dp">·</span>ignore</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>AioHttpClientInstrumentor,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">26 </td><td class="diffpresent">)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">27 </td><td class="diffpresent">from<span class="dp">·</span>opentelemetry.propagate<span class="dp">·</span>import<span class="dp">·</span>set_global_textmap</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">28 </td><td class="diffpresent">from<span class="dp">·</span>opentelemetry.propagators.b3<span class="dp">·</span>import<span class="dp">·</span>B3MultiFormat</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">29 </td><td class="diffpresent">from<span class="dp">·</span>starlette.middleware<span class="dp">·</span>import<span class="dp">·</span>Middleware</td><td class="diffline">24 </td><td class="diffpresent">from<span class="dp">·</span>starlette.middleware<span class="dp">·</span>import<span class="dp">·</span>Middleware</td></tr>
<tr class="diffunmodified"><td class="diffline">30 </td><td class="diffpresent">from<span class="dp">·</span>starlette.middleware.authentication<span class="dp">·</span>import<span class="dp">·</span>AuthenticationMiddleware</td><td class="diffline">25 </td><td class="diffpresent">from<span class="dp">·</span>starlette.middleware.authentication<span class="dp">·</span>import<span class="dp">·</span>AuthenticationMiddleware</td></tr>
<tr class="diffunmodified"><td class="diffline">31 </td><td class="diffpresent">from<span class="dp">·</span>starlette.middleware.cors<span class="dp">·</span>import<span class="dp">·</span>CORSMiddleware</td><td class="diffline">26 </td><td class="diffpresent">from<span class="dp">·</span>starlette.middleware.cors<span class="dp">·</span>import<span class="dp">·</span>CORSMiddleware</td></tr>
<tr class="diffunmodified"><td class="diffline">32 </td><td class="diffpresent">from<span class="dp">·</span>starlette.requests<span class="dp">·</span>import<span class="dp">·</span>ClientDisconnect,<span class="dp">·</span>Request</td><td class="diffline">27 </td><td class="diffpresent">from<span class="dp">·</span>starlette.requests<span class="dp">·</span>import<span class="dp">·</span>ClientDisconnect,<span class="dp">·</span>Request</td></tr>
<tr class="diffunmodified"><td class="diffline">33 </td><td class="diffpresent">from<span class="dp">·</span>starlette.responses<span class="dp">·</span>import<span class="dp">·</span>HTMLResponse</td><td class="diffline">28 </td><td class="diffpresent">from<span class="dp">·</span>starlette.responses<span class="dp">·</span>import<span class="dp">·</span>HTMLResponse</td></tr>
<tr class="diffdeleted"><td class="diffline">34 </td><td class="diffpresent">from<span class="dp">·</span>starlette_prometheus<span class="dp">·</span>import<span class="dp">·</span>PrometheusMiddleware</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">35 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest.orm<span class="dp">·</span>import<span class="dp">·</span>NODES</td><td class="diffline">29 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest.orm<span class="dp">·</span>import<span class="dp">·</span>NODES</td></tr>
<tr class="diffunmodified"><td class="diffline">36 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.search<span class="dp">·</span>import<span class="dp">·</span>API_PREFIX,<span class="dp">·</span>SERVICE_NAME</td><td class="diffline">30 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.search<span class="dp">·</span>import<span class="dp">·</span>API_PREFIX,<span class="dp">·</span>SERVICE_NAME</td></tr>
<tr class="diffunmodified"><td class="diffline">37 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.search.api.v1.router<span class="dp">·</span>import<span class="dp">·</span>api<span class="dp">·</span>as<span class="dp">·</span>api_v1</td><td class="diffline">31 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.search.api.v1.router<span class="dp">·</span>import<span class="dp">·</span>api<span class="dp">·</span>as<span class="dp">·</span>api_v1</td></tr>
<tr class="diffunmodified"><td class="diffline">38 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.search.lifecycle<span class="dp">·</span>import<span class="dp">·</span>finalize,<span class="dp">·</span>initialize</td><td class="diffline">32 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.search.lifecycle<span class="dp">·</span>import<span class="dp">·</span>finalize,<span class="dp">·</span>initialize</td></tr>
<tr class="diffunmodified"><td class="diffline">39 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.search.settings<span class="dp">·</span>import<span class="dp">·</span>settings</td><td class="diffline">33 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.search.settings<span class="dp">·</span>import<span class="dp">·</span>settings</td></tr>
<tr class="diffunmodified"><td class="diffline">40 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry<span class="dp">·</span>import<span class="dp">·</span>errors</td><td class="diffline">34 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry<span class="dp">·</span>import<span class="dp">·</span>errors</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 54, 15 lines modified</td><td colspan="2">Offset 48, 14 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">54 </td><td class="diffpresent">middleware<span class="dp">·</span>=<span class="dp">·</span>[</td><td class="diffline">48 </td><td class="diffpresent">middleware<span class="dp">·</span>=<span class="dp">·</span>[</td></tr>
<tr class="diffunmodified"><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Middleware(</td><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Middleware(</td></tr>
<tr class="diffunmodified"><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>CORSMiddleware,</td><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>CORSMiddleware,</td></tr>
<tr class="diffunmodified"><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>allow_origins=http_settings.cors_origins,</td><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>allow_origins=http_settings.cors_origins,</td></tr>
<tr class="diffunmodified"><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>allow_methods=[&quot;*&quot;],</td><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>allow_methods=[&quot;*&quot;],</td></tr>
<tr class="diffunmodified"><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>allow_headers=[&quot;*&quot;],</td><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>allow_headers=[&quot;*&quot;],</td></tr>
<tr class="diffunmodified"><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>),</td><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>),</td></tr>
<tr class="diffdeleted"><td class="diffline">61 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Middleware(PrometheusMiddleware),</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">62 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Middleware(</td><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Middleware(</td></tr>
<tr class="diffunmodified"><td class="diffline">63 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>AuthenticationMiddleware,</td><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>AuthenticationMiddleware,</td></tr>
<tr class="diffunmodified"><td class="diffline">64 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>backend=STFAuthenticationBackend(),</td><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>backend=STFAuthenticationBackend(),</td></tr>
<tr class="diffunmodified"><td class="diffline">65 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>),</td><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>),</td></tr>
<tr class="diffunmodified"><td class="diffline">66 </td><td class="diffpresent">]</td><td class="diffline">59 </td><td class="diffpresent">]</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffhunk"><td colspan="2">Offset 152, 13 lines modified</td><td colspan="2">Offset 145, 13 lines modified</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">152 </td><td class="diffpresent">#<span class="dp">·</span>Use<span class="dp">·</span>raw<span class="dp">·</span>starlette<span class="dp">·</span>routes<span class="dp">·</span>to<span class="dp">·</span>avoid<span class="dp">·</span>unnecessary<span class="dp">·</span>overhead</td><td class="diffline">145 </td><td class="diffpresent">#<span class="dp">·</span>Use<span class="dp">·</span>raw<span class="dp">·</span>starlette<span class="dp">·</span>routes<span class="dp">·</span>to<span class="dp">·</span>avoid<span class="dp">·</span>unnecessary<span class="dp">·</span>overhead</td></tr>
<tr class="diffunmodified"><td class="diffline">153 </td><td class="diffpresent">application.add_route(&quot;/&quot;,<span class="dp">·</span>homepage)</td><td class="diffline">146 </td><td class="diffpresent">application.add_route(&quot;/&quot;,<span class="dp">·</span>homepage)</td></tr>
<tr class="diffunmodified"><td class="diffline">154 </td><td class="diffpresent">application.add_route(&quot;/chitchat/members&quot;,<span class="dp">·</span>chitchat_members)</td><td class="diffline">147 </td><td class="diffpresent">application.add_route(&quot;/chitchat/members&quot;,<span class="dp">·</span>chitchat_members)</td></tr>
<tr class="diffunmodified"><td class="diffline">155 </td><td class="diffpresent">application.add_route(&quot;/health/alive&quot;,<span class="dp">·</span>alive)</td><td class="diffline">148 </td><td class="diffpresent">application.add_route(&quot;/health/alive&quot;,<span class="dp">·</span>alive)</td></tr>
<tr class="diffunmodified"><td class="diffline">156 </td><td class="diffpresent">application.add_route(&quot;/health/ready&quot;,<span class="dp">·</span>ready)</td><td class="diffline">149 </td><td class="diffpresent">application.add_route(&quot;/health/ready&quot;,<span class="dp">·</span>ready)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">157 </td><td class="diffpresent">#<span class="dp">·</span>Enable<span class="dp">·</span>forwarding<span class="dp">·</span>of<span class="dp">·</span>B3<span class="dp">·</span>headers<span class="dp">·</span>to<span class="dp">·</span>responses<span class="dp">·</span>and<span class="dp">·</span>external<span class="dp">·</span>requests</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">158 </td><td class="diffpresent"><del>#<span class="dp">·</span>to</del><del><span class="dp">·</span>bo</del>t<del>h<span class="dp">·</span>in</del>n<del>e</del><del>r<span class="dp">·</span></del>app<del>lication</del><del>s</del></td><td class="diffline">150 </td><td class="diffpresent"><ins>ins</ins>t<ins>rume</ins>n<ins>t_</ins>app<ins>(</ins></td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">151 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>application,</td></tr>
<tr class="diffchanged"><td class="diffline">159 </td><td class="diffpresent">tracer_provider<del><span class="dp">·</span></del>=<del><span class="dp">·</span></del>get_telemetry(SERVICE_NAME)</td><td class="diffline">152 </td><td class="diffpresent"><ins><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></ins>tracer_provider=get_telemetry(SERVICE_NAME)<ins>,</ins></td></tr>
<tr class="diffdeleted"><td class="diffline">160 </td><td class="diffpresent">set_global_textmap(B3MultiFormat())</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">161 </td><td class="diffpresent">instrument_app(application,<span class="dp">·</span>tracer_provider=tracer_provider,<span class="dp">·</span>excluded_urls=[&quot;/&quot;])</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">162 </td><td class="diffpresent"><del>AioHttpClientIns</del><del>trum</del>e<del>ntor().in</del><del>str</del>u<del>ment(tra</del><del>c</del>e<del>r</del>_<del>p</del>r<del>ovid</del><del>er</del>=<del>tracer_pro</del><del>vider)</del></td><td class="diffline">153 </td><td class="diffpresent"><ins><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></ins>e<ins>xcl</ins>u<ins>d</ins>e<ins>d</ins>_<ins>u</ins>r<ins>ls</ins>=<ins>[&quot;/&quot;],</ins></td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">154 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics=True,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">155 </td><td class="diffpresent">)</td></tr>
</table>  </div>
  <div class="difference">
    <div class="diffheader">
    <div class="diffcontrol">⊟</div>
    <div><span class="diffsize">1.43 KB</span></div>
    <div id="nucliadb-search-lifecycle.py"><span class="source">nucliadb/search/lifecycle.py</span>
      <a class="anchor" href="#nucliadb-search-lifecycle.py">¶</a>
    </div>
    </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 23, 15 lines modified</td><td colspan="2">Offset 23, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">23 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest<span class="dp">·</span>import<span class="dp">·</span>logger<span class="dp">·</span>as<span class="dp">·</span>ingest_logger</td><td class="diffline">23 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest<span class="dp">·</span>import<span class="dp">·</span>logger<span class="dp">·</span>as<span class="dp">·</span>ingest_logger</td></tr>
<tr class="diffunmodified"><td class="diffline">24 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest.orm.nodes_manager<span class="dp">·</span>import<span class="dp">·</span>NodesManager</td><td class="diffline">24 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest.orm.nodes_manager<span class="dp">·</span>import<span class="dp">·</span>NodesManager</td></tr>
<tr class="diffunmodified"><td class="diffline">25 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest.utils<span class="dp">·</span>import<span class="dp">·</span>get_driver<span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>type:<span class="dp">·</span>ignore</td><td class="diffline">25 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest.utils<span class="dp">·</span>import<span class="dp">·</span>get_driver<span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>type:<span class="dp">·</span>ignore</td></tr>
<tr class="diffunmodified"><td class="diffline">26 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest.utils<span class="dp">·</span>import<span class="dp">·</span>start_ingest,<span class="dp">·</span>stop_ingest</td><td class="diffline">26 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest.utils<span class="dp">·</span>import<span class="dp">·</span>start_ingest,<span class="dp">·</span>stop_ingest</td></tr>
<tr class="diffunmodified"><td class="diffline">27 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.search<span class="dp">·</span>import<span class="dp">·</span>SERVICE_NAME,<span class="dp">·</span>logger</td><td class="diffline">27 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.search<span class="dp">·</span>import<span class="dp">·</span>SERVICE_NAME,<span class="dp">·</span>logger</td></tr>
<tr class="diffunmodified"><td class="diffline">28 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.search.chitchat<span class="dp">·</span>import<span class="dp">·</span>start_chitchat,<span class="dp">·</span>stop_chitchat</td><td class="diffline">28 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.search.chitchat<span class="dp">·</span>import<span class="dp">·</span>start_chitchat,<span class="dp">·</span>stop_chitchat</td></tr>
<tr class="diffunmodified"><td class="diffline">29 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.search.predict<span class="dp">·</span>import<span class="dp">·</span>PredictEngine</td><td class="diffline">29 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.search.predict<span class="dp">·</span>import<span class="dp">·</span>PredictEngine</td></tr>
<tr class="diffchanged"><td class="diffline">30 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry.utils<span class="dp">·</span>import<span class="dp">·</span>clean_telemetry,<span class="dp">·</span><del>get_tele</del><del>m</del>et<del>ry,<span class="dp">·</span>in</del><del>it</del>_telemetry</td><td class="diffline">30 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry.utils<span class="dp">·</span>import<span class="dp">·</span>clean_telemetry,<span class="dp">·</span><ins>s</ins>et<ins>up</ins>_telemetry</td></tr>
<tr class="diffunmodified"><td class="diffline">31 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.settings<span class="dp">·</span>import<span class="dp">·</span>nuclia_settings,<span class="dp">·</span>running_settings</td><td class="diffline">31 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.settings<span class="dp">·</span>import<span class="dp">·</span>nuclia_settings,<span class="dp">·</span>running_settings</td></tr>
<tr class="diffunmodified"><td class="diffline">32 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.utilities<span class="dp">·</span>import<span class="dp">·</span>(</td><td class="diffline">32 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.utilities<span class="dp">·</span>import<span class="dp">·</span>(</td></tr>
<tr class="diffunmodified"><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Utility,</td><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Utility,</td></tr>
<tr class="diffunmodified"><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>clean_utility,</td><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>clean_utility,</td></tr>
<tr class="diffunmodified"><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>finalize_utilities,</td><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>finalize_utilities,</td></tr>
<tr class="diffunmodified"><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>get_cache,</td><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>get_cache,</td></tr>
<tr class="diffunmodified"><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>get_utility,</td><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>get_utility,</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 39, 17 lines modified</td><td colspan="2">Offset 39, 16 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>start_audit_utility,</td><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>start_audit_utility,</td></tr>
<tr class="diffunmodified"><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>stop_audit_utility,</td><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>stop_audit_utility,</td></tr>
<tr class="diffunmodified"><td class="diffline">41 </td><td class="diffpresent">)</td><td class="diffline">41 </td><td class="diffpresent">)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">42 </td><td class="diffpresent">async<span class="dp">·</span>def<span class="dp">·</span>initialize()<span class="dp">·</span>-&gt;<span class="dp">·</span>None:</td><td class="diffline">42 </td><td class="diffpresent">async<span class="dp">·</span>def<span class="dp">·</span>initialize()<span class="dp">·</span>-&gt;<span class="dp">·</span>None:</td></tr>
<tr class="diffunmodified"><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>ingest_logger.setLevel(logging.getLevelName(running_settings.log_level.upper()))</td><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>ingest_logger.setLevel(logging.getLevelName(running_settings.log_level.upper()))</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>setup_telemetry(SERVICE_NAME)</td></tr>
<tr class="diffdeleted"><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tracer_provider<span class="dp">·</span>=<span class="dp">·</span>get_telemetry(SERVICE_NAME)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>tracer_provider:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>init_telemetry(tracer_provider)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>start_ingest(SERVICE_NAME)</td><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>start_ingest(SERVICE_NAME)</td></tr>
<tr class="diffunmodified"><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>predict_util<span class="dp">·</span>=<span class="dp">·</span>PredictEngine(</td><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>predict_util<span class="dp">·</span>=<span class="dp">·</span>PredictEngine(</td></tr>
<tr class="diffunmodified"><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>nuclia_settings.nuclia_inner_predict_url,</td><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>nuclia_settings.nuclia_inner_predict_url,</td></tr>
<tr class="diffunmodified"><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>nuclia_settings.nuclia_public_url,</td><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>nuclia_settings.nuclia_public_url,</td></tr>
<tr class="diffunmodified"><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>nuclia_settings.nuclia_service_account,</td><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>nuclia_settings.nuclia_service_account,</td></tr>
<tr class="diffunmodified"><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>nuclia_settings.nuclia_zone,</td><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>nuclia_settings.nuclia_zone,</td></tr>
</table>  </div>
  <div class="difference">
    <div class="diffheader">
    <div class="diffcontrol">⊟</div>
    <div><span class="diffsize">2.17 KB</span></div>
    <div id="nucliadb-train-app.py"><span class="source">nucliadb/train/app.py</span>
      <a class="anchor" href="#nucliadb-train-app.py">¶</a>
    </div>
    </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 16, 25 lines modified</td><td colspan="2">Offset 16, 19 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">16 </td><td class="diffpresent">#</td><td class="diffline">16 </td><td class="diffpresent">#</td></tr>
<tr class="diffunmodified"><td class="diffline">17 </td><td class="diffpresent">#<span class="dp">·</span>You<span class="dp">·</span>should<span class="dp">·</span>have<span class="dp">·</span>received<span class="dp">·</span>a<span class="dp">·</span>copy<span class="dp">·</span>of<span class="dp">·</span>the<span class="dp">·</span>GNU<span class="dp">·</span>Affero<span class="dp">·</span>General<span class="dp">·</span>Public<span class="dp">·</span>License</td><td class="diffline">17 </td><td class="diffpresent">#<span class="dp">·</span>You<span class="dp">·</span>should<span class="dp">·</span>have<span class="dp">·</span>received<span class="dp">·</span>a<span class="dp">·</span>copy<span class="dp">·</span>of<span class="dp">·</span>the<span class="dp">·</span>GNU<span class="dp">·</span>Affero<span class="dp">·</span>General<span class="dp">·</span>Public<span class="dp">·</span>License</td></tr>
<tr class="diffunmodified"><td class="diffline">18 </td><td class="diffpresent">#<span class="dp">·</span>along<span class="dp">·</span>with<span class="dp">·</span>this<span class="dp">·</span>program.<span class="dp">·</span>If<span class="dp">·</span>not,<span class="dp">·</span>see<span class="dp">·</span>&lt;http://www.gnu.org/licenses/&gt;.</td><td class="diffline">18 </td><td class="diffpresent">#<span class="dp">·</span>along<span class="dp">·</span>with<span class="dp">·</span>this<span class="dp">·</span>program.<span class="dp">·</span>If<span class="dp">·</span>not,<span class="dp">·</span>see<span class="dp">·</span>&lt;http://www.gnu.org/licenses/&gt;.</td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent">#</td><td class="diffline">19 </td><td class="diffpresent">#</td></tr>
<tr class="diffunmodified"><td class="diffline">20 </td><td class="diffpresent">import<span class="dp">·</span>pkg_resources</td><td class="diffline">20 </td><td class="diffpresent">import<span class="dp">·</span>pkg_resources</td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent">from<span class="dp">·</span>fastapi<span class="dp">·</span>import<span class="dp">·</span>FastAPI</td><td class="diffline">21 </td><td class="diffpresent">from<span class="dp">·</span>fastapi<span class="dp">·</span>import<span class="dp">·</span>FastAPI</td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent">from<span class="dp">·</span>fastapi.responses<span class="dp">·</span>import<span class="dp">·</span>JSONResponse</td><td class="diffline">22 </td><td class="diffpresent">from<span class="dp">·</span>fastapi.responses<span class="dp">·</span>import<span class="dp">·</span>JSONResponse</td></tr>
<tr class="diffdeleted"><td class="diffline">23 </td><td class="diffpresent">from<span class="dp">·</span>opentelemetry.instrumentation.aiohttp_client<span class="dp">·</span>import<span class="dp">·</span>(<span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>type:<span class="dp">·</span>ignore</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>AioHttpClientInstrumentor,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">25 </td><td class="diffpresent">)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">26 </td><td class="diffpresent">from<span class="dp">·</span>opentelemetry.propagate<span class="dp">·</span>import<span class="dp">·</span>set_global_textmap</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">27 </td><td class="diffpresent">from<span class="dp">·</span>opentelemetry.propagators.b3<span class="dp">·</span>import<span class="dp">·</span>B3MultiFormat</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">28 </td><td class="diffpresent">from<span class="dp">·</span>starlette.middleware<span class="dp">·</span>import<span class="dp">·</span>Middleware</td><td class="diffline">23 </td><td class="diffpresent">from<span class="dp">·</span>starlette.middleware<span class="dp">·</span>import<span class="dp">·</span>Middleware</td></tr>
<tr class="diffunmodified"><td class="diffline">29 </td><td class="diffpresent">from<span class="dp">·</span>starlette.middleware.authentication<span class="dp">·</span>import<span class="dp">·</span>AuthenticationMiddleware</td><td class="diffline">24 </td><td class="diffpresent">from<span class="dp">·</span>starlette.middleware.authentication<span class="dp">·</span>import<span class="dp">·</span>AuthenticationMiddleware</td></tr>
<tr class="diffunmodified"><td class="diffline">30 </td><td class="diffpresent">from<span class="dp">·</span>starlette.middleware.cors<span class="dp">·</span>import<span class="dp">·</span>CORSMiddleware</td><td class="diffline">25 </td><td class="diffpresent">from<span class="dp">·</span>starlette.middleware.cors<span class="dp">·</span>import<span class="dp">·</span>CORSMiddleware</td></tr>
<tr class="diffunmodified"><td class="diffline">31 </td><td class="diffpresent">from<span class="dp">·</span>starlette.requests<span class="dp">·</span>import<span class="dp">·</span>ClientDisconnect,<span class="dp">·</span>Request</td><td class="diffline">26 </td><td class="diffpresent">from<span class="dp">·</span>starlette.requests<span class="dp">·</span>import<span class="dp">·</span>ClientDisconnect,<span class="dp">·</span>Request</td></tr>
<tr class="diffunmodified"><td class="diffline">32 </td><td class="diffpresent">from<span class="dp">·</span>starlette.responses<span class="dp">·</span>import<span class="dp">·</span>HTMLResponse</td><td class="diffline">27 </td><td class="diffpresent">from<span class="dp">·</span>starlette.responses<span class="dp">·</span>import<span class="dp">·</span>HTMLResponse</td></tr>
<tr class="diffdeleted"><td class="diffline">33 </td><td class="diffpresent">from<span class="dp">·</span>starlette_prometheus<span class="dp">·</span>import<span class="dp">·</span>PrometheusMiddleware</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">34 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.train<span class="dp">·</span>import<span class="dp">·</span>API_PREFIX,<span class="dp">·</span>SERVICE_NAME</td><td class="diffline">28 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.train<span class="dp">·</span>import<span class="dp">·</span>API_PREFIX,<span class="dp">·</span>SERVICE_NAME</td></tr>
<tr class="diffunmodified"><td class="diffline">35 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.train.api.v1.router<span class="dp">·</span>import<span class="dp">·</span>api</td><td class="diffline">29 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.train.api.v1.router<span class="dp">·</span>import<span class="dp">·</span>api</td></tr>
<tr class="diffunmodified"><td class="diffline">36 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.train.lifecycle<span class="dp">·</span>import<span class="dp">·</span>finalize,<span class="dp">·</span>initialize</td><td class="diffline">30 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.train.lifecycle<span class="dp">·</span>import<span class="dp">·</span>finalize,<span class="dp">·</span>initialize</td></tr>
<tr class="diffunmodified"><td class="diffline">37 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry<span class="dp">·</span>import<span class="dp">·</span>errors</td><td class="diffline">31 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry<span class="dp">·</span>import<span class="dp">·</span>errors</td></tr>
<tr class="diffunmodified"><td class="diffline">38 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry.fastapi<span class="dp">·</span>import<span class="dp">·</span>instrument_app</td><td class="diffline">32 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry.fastapi<span class="dp">·</span>import<span class="dp">·</span>instrument_app</td></tr>
<tr class="diffunmodified"><td class="diffline">39 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry.utils<span class="dp">·</span>import<span class="dp">·</span>get_telemetry</td><td class="diffline">33 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry.utils<span class="dp">·</span>import<span class="dp">·</span>get_telemetry</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 46, 15 lines modified</td><td colspan="2">Offset 40, 14 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">46 </td><td class="diffpresent">middleware<span class="dp">·</span>=<span class="dp">·</span>[</td><td class="diffline">40 </td><td class="diffpresent">middleware<span class="dp">·</span>=<span class="dp">·</span>[</td></tr>
<tr class="diffunmodified"><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Middleware(</td><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Middleware(</td></tr>
<tr class="diffunmodified"><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>CORSMiddleware,</td><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>CORSMiddleware,</td></tr>
<tr class="diffunmodified"><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>allow_origins=http_settings.cors_origins,</td><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>allow_origins=http_settings.cors_origins,</td></tr>
<tr class="diffunmodified"><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>allow_methods=[&quot;*&quot;],</td><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>allow_methods=[&quot;*&quot;],</td></tr>
<tr class="diffunmodified"><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>allow_headers=[&quot;*&quot;],</td><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>allow_headers=[&quot;*&quot;],</td></tr>
<tr class="diffunmodified"><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>),</td><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>),</td></tr>
<tr class="diffdeleted"><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Middleware(PrometheusMiddleware),</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Middleware(</td><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Middleware(</td></tr>
<tr class="diffunmodified"><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>AuthenticationMiddleware,</td><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>AuthenticationMiddleware,</td></tr>
<tr class="diffunmodified"><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>backend=STFAuthenticationBackend(),</td><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>backend=STFAuthenticationBackend(),</td></tr>
<tr class="diffunmodified"><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>),</td><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>),</td></tr>
<tr class="diffunmodified"><td class="diffline">58 </td><td class="diffpresent">]</td><td class="diffline">51 </td><td class="diffpresent">]</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffhunk"><td colspan="2">Offset 111, 13 lines modified</td><td colspan="2">Offset 104, 13 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">111 </td><td class="diffpresent">async<span class="dp">·</span>def<span class="dp">·</span>homepage(request:<span class="dp">·</span>Request)<span class="dp">·</span>-&gt;<span class="dp">·</span>HTMLResponse:</td><td class="diffline">104 </td><td class="diffpresent">async<span class="dp">·</span>def<span class="dp">·</span>homepage(request:<span class="dp">·</span>Request)<span class="dp">·</span>-&gt;<span class="dp">·</span>HTMLResponse:</td></tr>
<tr class="diffunmodified"><td class="diffline">112 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>HTMLResponse(&quot;NucliaDB<span class="dp">·</span>Train<span class="dp">·</span>Service&quot;)</td><td class="diffline">105 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>HTMLResponse(&quot;NucliaDB<span class="dp">·</span>Train<span class="dp">·</span>Service&quot;)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">113 </td><td class="diffpresent">#<span class="dp">·</span>Use<span class="dp">·</span>raw<span class="dp">·</span>starlette<span class="dp">·</span>routes<span class="dp">·</span>to<span class="dp">·</span>avoid<span class="dp">·</span>unnecessary<span class="dp">·</span>overhead</td><td class="diffline">106 </td><td class="diffpresent">#<span class="dp">·</span>Use<span class="dp">·</span>raw<span class="dp">·</span>starlette<span class="dp">·</span>routes<span class="dp">·</span>to<span class="dp">·</span>avoid<span class="dp">·</span>unnecessary<span class="dp">·</span>overhead</td></tr>
<tr class="diffunmodified"><td class="diffline">114 </td><td class="diffpresent">application.add_route(&quot;/&quot;,<span class="dp">·</span>homepage)</td><td class="diffline">107 </td><td class="diffpresent">application.add_route(&quot;/&quot;,<span class="dp">·</span>homepage)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">115 </td><td class="diffpresent">#<span class="dp">·</span>Enable<span class="dp">·</span>forwarding<span class="dp">·</span>of<span class="dp">·</span>B3<span class="dp">·</span>headers<span class="dp">·</span>to<span class="dp">·</span>responses<span class="dp">·</span>and<span class="dp">·</span>external<span class="dp">·</span>requests</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">116 </td><td class="diffpresent"><del>#<span class="dp">·</span>to</del><del><span class="dp">·</span>bo</del>t<del>h<span class="dp">·</span>in</del>n<del>e</del><del>r<span class="dp">·</span></del>app<del>lication</del><del>s</del></td><td class="diffline">108 </td><td class="diffpresent"><ins>ins</ins>t<ins>rume</ins>n<ins>t_</ins>app<ins>(</ins></td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">109 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>application,</td></tr>
<tr class="diffchanged"><td class="diffline">117 </td><td class="diffpresent">tracer_provider<del><span class="dp">·</span></del>=<del><span class="dp">·</span></del>get_telemetry(SERVICE_NAME)</td><td class="diffline">110 </td><td class="diffpresent"><ins><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></ins>tracer_provider=get_telemetry(SERVICE_NAME)<ins>,</ins></td></tr>
<tr class="diffdeleted"><td class="diffline">118 </td><td class="diffpresent">set_global_textmap(B3MultiFormat())</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">119 </td><td class="diffpresent">instrument_app(application,<span class="dp">·</span>tracer_provider=tracer_provider,<span class="dp">·</span>excluded_urls=[&quot;/&quot;])</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">120 </td><td class="diffpresent"><del>AioHttpClientIns</del><del>trum</del>e<del>ntor().in</del><del>str</del>u<del>ment(tra</del><del>c</del>e<del>r</del>_<del>p</del>r<del>ovid</del><del>er</del>=<del>tracer_pro</del><del>vider)</del></td><td class="diffline">111 </td><td class="diffpresent"><ins><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></ins>e<ins>xcl</ins>u<ins>d</ins>e<ins>d</ins>_<ins>u</ins>r<ins>ls</ins>=<ins>[&quot;/&quot;],</ins></td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">112 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics=True,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">113 </td><td class="diffpresent">)</td></tr>
</table>  </div>
  <div class="difference">
    <div class="diffheader">
    <div class="diffcontrol">⊟</div>
    <div><span class="diffsize">1.32 KB</span></div>
    <div id="nucliadb-train-lifecycle.py"><span class="source">nucliadb/train/lifecycle.py</span>
      <a class="anchor" href="#nucliadb-train-lifecycle.py">¶</a>
    </div>
    </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 16, 35 lines modified</td><td colspan="2">Offset 16, 29 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">16 </td><td class="diffpresent">#</td><td class="diffline">16 </td><td class="diffpresent">#</td></tr>
<tr class="diffunmodified"><td class="diffline">17 </td><td class="diffpresent">#<span class="dp">·</span>You<span class="dp">·</span>should<span class="dp">·</span>have<span class="dp">·</span>received<span class="dp">·</span>a<span class="dp">·</span>copy<span class="dp">·</span>of<span class="dp">·</span>the<span class="dp">·</span>GNU<span class="dp">·</span>Affero<span class="dp">·</span>General<span class="dp">·</span>Public<span class="dp">·</span>License</td><td class="diffline">17 </td><td class="diffpresent">#<span class="dp">·</span>You<span class="dp">·</span>should<span class="dp">·</span>have<span class="dp">·</span>received<span class="dp">·</span>a<span class="dp">·</span>copy<span class="dp">·</span>of<span class="dp">·</span>the<span class="dp">·</span>GNU<span class="dp">·</span>Affero<span class="dp">·</span>General<span class="dp">·</span>Public<span class="dp">·</span>License</td></tr>
<tr class="diffunmodified"><td class="diffline">18 </td><td class="diffpresent">#<span class="dp">·</span>along<span class="dp">·</span>with<span class="dp">·</span>this<span class="dp">·</span>program.<span class="dp">·</span>If<span class="dp">·</span>not,<span class="dp">·</span>see<span class="dp">·</span>&lt;http://www.gnu.org/licenses/&gt;.</td><td class="diffline">18 </td><td class="diffpresent">#<span class="dp">·</span>along<span class="dp">·</span>with<span class="dp">·</span>this<span class="dp">·</span>program.<span class="dp">·</span>If<span class="dp">·</span>not,<span class="dp">·</span>see<span class="dp">·</span>&lt;http://www.gnu.org/licenses/&gt;.</td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent">#</td><td class="diffline">19 </td><td class="diffpresent">#</td></tr>
<tr class="diffunmodified"><td class="diffline">20 </td><td class="diffpresent">import<span class="dp">·</span>logging</td><td class="diffline">20 </td><td class="diffpresent">import<span class="dp">·</span>logging</td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent">import<span class="dp">·</span>sys</td><td class="diffline">21 </td><td class="diffpresent">import<span class="dp">·</span>sys</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">22 </td><td class="diffpresent">from<span class="dp">·</span>opentelemetry.propagate<span class="dp">·</span>import<span class="dp">·</span>set_global_textmap</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">23 </td><td class="diffpresent">from<span class="dp">·</span>opentelemetry.propagators.b3<span class="dp">·</span>import<span class="dp">·</span>B3MultiFormat</td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">24 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.train<span class="dp">·</span>import<span class="dp">·</span>SERVICE_NAME,<span class="dp">·</span>logger</td><td class="diffline">22 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.train<span class="dp">·</span>import<span class="dp">·</span>SERVICE_NAME,<span class="dp">·</span>logger</td></tr>
<tr class="diffunmodified"><td class="diffline">25 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.train.chitchat<span class="dp">·</span>import<span class="dp">·</span>start_chitchat,<span class="dp">·</span>stop_chitchat</td><td class="diffline">23 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.train.chitchat<span class="dp">·</span>import<span class="dp">·</span>start_chitchat,<span class="dp">·</span>stop_chitchat</td></tr>
<tr class="diffunmodified"><td class="diffline">26 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.train.utils<span class="dp">·</span>import<span class="dp">·</span>(</td><td class="diffline">24 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.train.utils<span class="dp">·</span>import<span class="dp">·</span>(</td></tr>
<tr class="diffunmodified"><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>start_nodes_manager,</td><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>start_nodes_manager,</td></tr>
<tr class="diffunmodified"><td class="diffline">28 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>start_train_grpc,</td><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>start_train_grpc,</td></tr>
<tr class="diffunmodified"><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>stop_nodes_manager,</td><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>stop_nodes_manager,</td></tr>
<tr class="diffunmodified"><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>stop_train_grpc,</td><td class="diffline">28 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>stop_train_grpc,</td></tr>
<tr class="diffunmodified"><td class="diffline">31 </td><td class="diffpresent">)</td><td class="diffline">29 </td><td class="diffpresent">)</td></tr>
<tr class="diffchanged"><td class="diffline">32 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry.utils<span class="dp">·</span>import<span class="dp">·</span>clean_telemetry,<span class="dp">·</span><del>get_tele</del><del>m</del>et<del>ry,<span class="dp">·</span>in</del><del>it</del>_telemetry</td><td class="diffline">30 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry.utils<span class="dp">·</span>import<span class="dp">·</span>clean_telemetry,<span class="dp">·</span><ins>s</ins>et<ins>up</ins>_telemetry</td></tr>
<tr class="diffunmodified"><td class="diffline">33 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.settings<span class="dp">·</span>import<span class="dp">·</span>running_settings</td><td class="diffline">31 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.settings<span class="dp">·</span>import<span class="dp">·</span>running_settings</td></tr>
<tr class="diffunmodified"><td class="diffline">34 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.utilities<span class="dp">·</span>import<span class="dp">·</span>start_audit_utility,<span class="dp">·</span>stop_audit_utility</td><td class="diffline">32 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.utilities<span class="dp">·</span>import<span class="dp">·</span>start_audit_utility,<span class="dp">·</span>stop_audit_utility</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">35 </td><td class="diffpresent">async<span class="dp">·</span>def<span class="dp">·</span>initialize()<span class="dp">·</span>-&gt;<span class="dp">·</span>None:</td><td class="diffline">33 </td><td class="diffpresent">async<span class="dp">·</span>def<span class="dp">·</span>initialize()<span class="dp">·</span>-&gt;<span class="dp">·</span>None:</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>setup_telemetry(SERVICE_NAME)</td></tr>
<tr class="diffdeleted"><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tracer_provider<span class="dp">·</span>=<span class="dp">·</span>get_telemetry(SERVICE_NAME)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>tracer_provider:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>set_global_textmap(B3MultiFormat())</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>init_telemetry(tracer_provider)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>start_chitchat(SERVICE_NAME)</td><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>start_chitchat(SERVICE_NAME)</td></tr>
<tr class="diffunmodified"><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>start_nodes_manager()</td><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>start_nodes_manager()</td></tr>
<tr class="diffunmodified"><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>start_train_grpc(SERVICE_NAME)</td><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>start_train_grpc(SERVICE_NAME)</td></tr>
<tr class="diffunmodified"><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>start_audit_utility(SERVICE_NAME)</td><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>start_audit_utility(SERVICE_NAME)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>logging.basicConfig(</td><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>logging.basicConfig(</td></tr>
</table>  </div>
  <div class="difference">
    <div class="diffheader">
    <div class="diffcontrol">⊟</div>
    <div><span class="diffsize">1.6 KB</span></div>
    <div id="nucliadb-train-utils.py"><span class="source">nucliadb/train/utils.py</span>
      <a class="anchor" href="#nucliadb-train-utils.py">¶</a>
    </div>
    </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 22, 16 lines modified</td><td colspan="2">Offset 22, 16 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent">from<span class="dp">·</span>grpc<span class="dp">·</span>import<span class="dp">·</span>aio<span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>type:<span class="dp">·</span>ignore</td><td class="diffline">22 </td><td class="diffpresent">from<span class="dp">·</span>grpc<span class="dp">·</span>import<span class="dp">·</span>aio<span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>type:<span class="dp">·</span>ignore</td></tr>
<tr class="diffunmodified"><td class="diffline">23 </td><td class="diffpresent">from<span class="dp">·</span>grpc_health.v1<span class="dp">·</span>import<span class="dp">·</span>health,<span class="dp">·</span>health_pb2_grpc</td><td class="diffline">23 </td><td class="diffpresent">from<span class="dp">·</span>grpc_health.v1<span class="dp">·</span>import<span class="dp">·</span>health,<span class="dp">·</span>health_pb2_grpc</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">24 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest.utils<span class="dp">·</span>import<span class="dp">·</span>get_driver</td><td class="diffline">24 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest.utils<span class="dp">·</span>import<span class="dp">·</span>get_driver</td></tr>
<tr class="diffunmodified"><td class="diffline">25 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.train.nodes<span class="dp">·</span>import<span class="dp">·</span>TrainNodesManager<span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>type:<span class="dp">·</span>ignore</td><td class="diffline">25 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.train.nodes<span class="dp">·</span>import<span class="dp">·</span>TrainNodesManager<span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>type:<span class="dp">·</span>ignore</td></tr>
<tr class="diffunmodified"><td class="diffline">26 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.train.settings<span class="dp">·</span>import<span class="dp">·</span>settings</td><td class="diffline">26 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.train.settings<span class="dp">·</span>import<span class="dp">·</span>settings</td></tr>
<tr class="diffunmodified"><td class="diffline">27 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_protos<span class="dp">·</span>import<span class="dp">·</span>train_pb2_grpc</td><td class="diffline">27 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_protos<span class="dp">·</span>import<span class="dp">·</span>train_pb2_grpc</td></tr>
<tr class="diffdeleted"><td class="diffline">28 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry.grpc<span class="dp">·</span>import<span class="dp">·</span>OpenTelemetryGRPC</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">29 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry.utils<span class="dp">·</span>import<span class="dp">·</span><del>get_tele</del><del>m</del>et<del>ry,<span class="dp">·</span>in</del><del>it</del>_telemetry</td><td class="diffline">28 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry.utils<span class="dp">·</span>import<span class="dp">·</span><ins>s</ins>et<ins>up</ins>_telemetry</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">29 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.grpc<span class="dp">·</span>import<span class="dp">·</span>get_traced_grpc_server</td></tr>
<tr class="diffunmodified"><td class="diffline">30 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.utilities<span class="dp">·</span>import<span class="dp">·</span>(</td><td class="diffline">30 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.utilities<span class="dp">·</span>import<span class="dp">·</span>(</td></tr>
<tr class="diffunmodified"><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Utility,</td><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Utility,</td></tr>
<tr class="diffunmodified"><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>clean_utility,</td><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>clean_utility,</td></tr>
<tr class="diffunmodified"><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>get_cache,</td><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>get_cache,</td></tr>
<tr class="diffunmodified"><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>get_storage,</td><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>get_storage,</td></tr>
<tr class="diffunmodified"><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>get_utility,</td><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>get_utility,</td></tr>
<tr class="diffunmodified"><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>set_utility,</td><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>set_utility,</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 41, 22 lines modified</td><td colspan="2">Offset 41, 16 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">41 </td><td class="diffpresent">async<span class="dp">·</span>def<span class="dp">·</span>start_train_grpc(service_name:<span class="dp">·</span>Optional[str]<span class="dp">·</span>=<span class="dp">·</span>None):</td><td class="diffline">41 </td><td class="diffpresent">async<span class="dp">·</span>def<span class="dp">·</span>start_train_grpc(service_name:<span class="dp">·</span>Optional[str]<span class="dp">·</span>=<span class="dp">·</span>None):</td></tr>
<tr class="diffunmodified"><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>actual_service<span class="dp">·</span>=<span class="dp">·</span>get_utility(Utility.TRAIN)</td><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>actual_service<span class="dp">·</span>=<span class="dp">·</span>get_utility(Utility.TRAIN)</td></tr>
<tr class="diffunmodified"><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>actual_service<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None:</td><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>actual_service<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None:</td></tr>
<tr class="diffunmodified"><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return</td><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>aio.init_grpc_aio()</td><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>aio.init_grpc_aio()</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>setup_telemetry(service_name<span class="dp">·</span>or<span class="dp">·</span>&quot;train&quot;)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>server<span class="dp">·</span>=<span class="dp">·</span>get_traced_grpc_server(service_name<span class="dp">·</span>or<span class="dp">·</span>&quot;train&quot;)</td></tr>
<tr class="diffdeleted"><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tracer_provider<span class="dp">·</span>=<span class="dp">·</span>get_telemetry(service_name)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>tracer_provider<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None:<span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>pragma:<span class="dp">·</span>no<span class="dp">·</span>cover</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>init_telemetry(tracer_provider)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>otgrpc<span class="dp">·</span>=<span class="dp">·</span>OpenTelemetryGRPC(f&quot;{service_name}_grpc&quot;,<span class="dp">·</span>tracer_provider)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>server<span class="dp">·</span>=<span class="dp">·</span>otgrpc.init_server()</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>server<span class="dp">·</span>=<span class="dp">·</span>aio.server()</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>from<span class="dp">·</span>nucliadb.train.servicer<span class="dp">·</span>import<span class="dp">·</span>TrainServicer</td><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>from<span class="dp">·</span>nucliadb.train.servicer<span class="dp">·</span>import<span class="dp">·</span>TrainServicer</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>servicer<span class="dp">·</span>=<span class="dp">·</span>TrainServicer()</td><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>servicer<span class="dp">·</span>=<span class="dp">·</span>TrainServicer()</td></tr>
<tr class="diffunmodified"><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>servicer.initialize()</td><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>servicer.initialize()</td></tr>
<tr class="diffunmodified"><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>health_servicer<span class="dp">·</span>=<span class="dp">·</span>health.aio.HealthServicer()<span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>type:<span class="dp">·</span>ignore</td><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>health_servicer<span class="dp">·</span>=<span class="dp">·</span>health.aio.HealthServicer()<span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>type:<span class="dp">·</span>ignore</td></tr>
<tr class="diffunmodified"><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>server.add_insecure_port(f&quot;0.0.0.0:{settings.grpc_port}&quot;)</td><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>server.add_insecure_port(f&quot;0.0.0.0:{settings.grpc_port}&quot;)</td></tr>
</table>  </div>
  <div class="difference">
    <div class="diffheader">
    <div class="diffcontrol">⊟</div>
    <div><span class="diffsize">2.16 KB</span></div>
    <div id="nucliadb-writer-app.py"><span class="source">nucliadb/writer/app.py</span>
      <a class="anchor" href="#nucliadb-writer-app.py">¶</a>
    </div>
    </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 16, 25 lines modified</td><td colspan="2">Offset 16, 19 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">16 </td><td class="diffpresent">#</td><td class="diffline">16 </td><td class="diffpresent">#</td></tr>
<tr class="diffunmodified"><td class="diffline">17 </td><td class="diffpresent">#<span class="dp">·</span>You<span class="dp">·</span>should<span class="dp">·</span>have<span class="dp">·</span>received<span class="dp">·</span>a<span class="dp">·</span>copy<span class="dp">·</span>of<span class="dp">·</span>the<span class="dp">·</span>GNU<span class="dp">·</span>Affero<span class="dp">·</span>General<span class="dp">·</span>Public<span class="dp">·</span>License</td><td class="diffline">17 </td><td class="diffpresent">#<span class="dp">·</span>You<span class="dp">·</span>should<span class="dp">·</span>have<span class="dp">·</span>received<span class="dp">·</span>a<span class="dp">·</span>copy<span class="dp">·</span>of<span class="dp">·</span>the<span class="dp">·</span>GNU<span class="dp">·</span>Affero<span class="dp">·</span>General<span class="dp">·</span>Public<span class="dp">·</span>License</td></tr>
<tr class="diffunmodified"><td class="diffline">18 </td><td class="diffpresent">#<span class="dp">·</span>along<span class="dp">·</span>with<span class="dp">·</span>this<span class="dp">·</span>program.<span class="dp">·</span>If<span class="dp">·</span>not,<span class="dp">·</span>see<span class="dp">·</span>&lt;http://www.gnu.org/licenses/&gt;.</td><td class="diffline">18 </td><td class="diffpresent">#<span class="dp">·</span>along<span class="dp">·</span>with<span class="dp">·</span>this<span class="dp">·</span>program.<span class="dp">·</span>If<span class="dp">·</span>not,<span class="dp">·</span>see<span class="dp">·</span>&lt;http://www.gnu.org/licenses/&gt;.</td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent">#</td><td class="diffline">19 </td><td class="diffpresent">#</td></tr>
<tr class="diffunmodified"><td class="diffline">20 </td><td class="diffpresent">import<span class="dp">·</span>pkg_resources</td><td class="diffline">20 </td><td class="diffpresent">import<span class="dp">·</span>pkg_resources</td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent">from<span class="dp">·</span>fastapi<span class="dp">·</span>import<span class="dp">·</span>FastAPI</td><td class="diffline">21 </td><td class="diffpresent">from<span class="dp">·</span>fastapi<span class="dp">·</span>import<span class="dp">·</span>FastAPI</td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent">from<span class="dp">·</span>fastapi.responses<span class="dp">·</span>import<span class="dp">·</span>JSONResponse</td><td class="diffline">22 </td><td class="diffpresent">from<span class="dp">·</span>fastapi.responses<span class="dp">·</span>import<span class="dp">·</span>JSONResponse</td></tr>
<tr class="diffdeleted"><td class="diffline">23 </td><td class="diffpresent">from<span class="dp">·</span>opentelemetry.instrumentation.aiohttp_client<span class="dp">·</span>import<span class="dp">·</span>(<span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>type:<span class="dp">·</span>ignore</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>AioHttpClientInstrumentor,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">25 </td><td class="diffpresent">)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">26 </td><td class="diffpresent">from<span class="dp">·</span>opentelemetry.propagate<span class="dp">·</span>import<span class="dp">·</span>set_global_textmap</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">27 </td><td class="diffpresent">from<span class="dp">·</span>opentelemetry.propagators.b3<span class="dp">·</span>import<span class="dp">·</span>B3MultiFormat</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">28 </td><td class="diffpresent">from<span class="dp">·</span>starlette.middleware<span class="dp">·</span>import<span class="dp">·</span>Middleware</td><td class="diffline">23 </td><td class="diffpresent">from<span class="dp">·</span>starlette.middleware<span class="dp">·</span>import<span class="dp">·</span>Middleware</td></tr>
<tr class="diffunmodified"><td class="diffline">29 </td><td class="diffpresent">from<span class="dp">·</span>starlette.middleware.authentication<span class="dp">·</span>import<span class="dp">·</span>AuthenticationMiddleware</td><td class="diffline">24 </td><td class="diffpresent">from<span class="dp">·</span>starlette.middleware.authentication<span class="dp">·</span>import<span class="dp">·</span>AuthenticationMiddleware</td></tr>
<tr class="diffunmodified"><td class="diffline">30 </td><td class="diffpresent">from<span class="dp">·</span>starlette.middleware.cors<span class="dp">·</span>import<span class="dp">·</span>CORSMiddleware</td><td class="diffline">25 </td><td class="diffpresent">from<span class="dp">·</span>starlette.middleware.cors<span class="dp">·</span>import<span class="dp">·</span>CORSMiddleware</td></tr>
<tr class="diffunmodified"><td class="diffline">31 </td><td class="diffpresent">from<span class="dp">·</span>starlette.requests<span class="dp">·</span>import<span class="dp">·</span>ClientDisconnect,<span class="dp">·</span>Request</td><td class="diffline">26 </td><td class="diffpresent">from<span class="dp">·</span>starlette.requests<span class="dp">·</span>import<span class="dp">·</span>ClientDisconnect,<span class="dp">·</span>Request</td></tr>
<tr class="diffunmodified"><td class="diffline">32 </td><td class="diffpresent">from<span class="dp">·</span>starlette.responses<span class="dp">·</span>import<span class="dp">·</span>HTMLResponse</td><td class="diffline">27 </td><td class="diffpresent">from<span class="dp">·</span>starlette.responses<span class="dp">·</span>import<span class="dp">·</span>HTMLResponse</td></tr>
<tr class="diffdeleted"><td class="diffline">33 </td><td class="diffpresent">from<span class="dp">·</span>starlette_prometheus<span class="dp">·</span>import<span class="dp">·</span>PrometheusMiddleware</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">34 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.writer<span class="dp">·</span>import<span class="dp">·</span>API_PREFIX,<span class="dp">·</span>SERVICE_NAME</td><td class="diffline">28 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.writer<span class="dp">·</span>import<span class="dp">·</span>API_PREFIX,<span class="dp">·</span>SERVICE_NAME</td></tr>
<tr class="diffunmodified"><td class="diffline">35 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.writer.api.v1.router<span class="dp">·</span>import<span class="dp">·</span>api<span class="dp">·</span>as<span class="dp">·</span>api_v1</td><td class="diffline">29 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.writer.api.v1.router<span class="dp">·</span>import<span class="dp">·</span>api<span class="dp">·</span>as<span class="dp">·</span>api_v1</td></tr>
<tr class="diffunmodified"><td class="diffline">36 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.writer.lifecycle<span class="dp">·</span>import<span class="dp">·</span>finalize,<span class="dp">·</span>initialize</td><td class="diffline">30 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.writer.lifecycle<span class="dp">·</span>import<span class="dp">·</span>finalize,<span class="dp">·</span>initialize</td></tr>
<tr class="diffunmodified"><td class="diffline">37 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry<span class="dp">·</span>import<span class="dp">·</span>errors</td><td class="diffline">31 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry<span class="dp">·</span>import<span class="dp">·</span>errors</td></tr>
<tr class="diffunmodified"><td class="diffline">38 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry.fastapi<span class="dp">·</span>import<span class="dp">·</span>instrument_app</td><td class="diffline">32 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry.fastapi<span class="dp">·</span>import<span class="dp">·</span>instrument_app</td></tr>
<tr class="diffunmodified"><td class="diffline">39 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry.utils<span class="dp">·</span>import<span class="dp">·</span>get_telemetry</td><td class="diffline">33 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry.utils<span class="dp">·</span>import<span class="dp">·</span>get_telemetry</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 46, 15 lines modified</td><td colspan="2">Offset 40, 14 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">46 </td><td class="diffpresent">middleware<span class="dp">·</span>=<span class="dp">·</span>[</td><td class="diffline">40 </td><td class="diffpresent">middleware<span class="dp">·</span>=<span class="dp">·</span>[</td></tr>
<tr class="diffunmodified"><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Middleware(</td><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Middleware(</td></tr>
<tr class="diffunmodified"><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>CORSMiddleware,</td><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>CORSMiddleware,</td></tr>
<tr class="diffunmodified"><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>allow_origins=http_settings.cors_origins,</td><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>allow_origins=http_settings.cors_origins,</td></tr>
<tr class="diffunmodified"><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>allow_methods=[&quot;*&quot;],</td><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>allow_methods=[&quot;*&quot;],</td></tr>
<tr class="diffunmodified"><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>allow_headers=[&quot;*&quot;],</td><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>allow_headers=[&quot;*&quot;],</td></tr>
<tr class="diffunmodified"><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>),</td><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>),</td></tr>
<tr class="diffdeleted"><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Middleware(PrometheusMiddleware),</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Middleware(</td><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Middleware(</td></tr>
<tr class="diffunmodified"><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>AuthenticationMiddleware,</td><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>AuthenticationMiddleware,</td></tr>
<tr class="diffunmodified"><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>backend=STFAuthenticationBackend(),</td><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>backend=STFAuthenticationBackend(),</td></tr>
<tr class="diffunmodified"><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>),</td><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>),</td></tr>
<tr class="diffunmodified"><td class="diffline">58 </td><td class="diffpresent">]</td><td class="diffline">51 </td><td class="diffpresent">]</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffhunk"><td colspan="2">Offset 109, 13 lines modified</td><td colspan="2">Offset 102, 13 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">109 </td><td class="diffpresent">async<span class="dp">·</span>def<span class="dp">·</span>homepage(request):</td><td class="diffline">102 </td><td class="diffpresent">async<span class="dp">·</span>def<span class="dp">·</span>homepage(request):</td></tr>
<tr class="diffunmodified"><td class="diffline">110 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>HTMLResponse(&quot;NucliaDB<span class="dp">·</span>Writer<span class="dp">·</span>Service&quot;)</td><td class="diffline">103 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>HTMLResponse(&quot;NucliaDB<span class="dp">·</span>Writer<span class="dp">·</span>Service&quot;)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">111 </td><td class="diffpresent">#<span class="dp">·</span>Use<span class="dp">·</span>raw<span class="dp">·</span>starlette<span class="dp">·</span>routes<span class="dp">·</span>to<span class="dp">·</span>avoid<span class="dp">·</span>unnecessary<span class="dp">·</span>overhead</td><td class="diffline">104 </td><td class="diffpresent">#<span class="dp">·</span>Use<span class="dp">·</span>raw<span class="dp">·</span>starlette<span class="dp">·</span>routes<span class="dp">·</span>to<span class="dp">·</span>avoid<span class="dp">·</span>unnecessary<span class="dp">·</span>overhead</td></tr>
<tr class="diffunmodified"><td class="diffline">112 </td><td class="diffpresent">application.add_route(&quot;/&quot;,<span class="dp">·</span>homepage)</td><td class="diffline">105 </td><td class="diffpresent">application.add_route(&quot;/&quot;,<span class="dp">·</span>homepage)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">113 </td><td class="diffpresent">#<span class="dp">·</span>Enable<span class="dp">·</span>forwarding<span class="dp">·</span>of<span class="dp">·</span>B3<span class="dp">·</span>headers<span class="dp">·</span>to<span class="dp">·</span>responses<span class="dp">·</span>and<span class="dp">·</span>external<span class="dp">·</span>requests</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">114 </td><td class="diffpresent"><del>#<span class="dp">·</span>to</del><del><span class="dp">·</span>bo</del>t<del>h<span class="dp">·</span>in</del>n<del>e</del><del>r<span class="dp">·</span></del>app<del>lication</del><del>s</del></td><td class="diffline">106 </td><td class="diffpresent"><ins>ins</ins>t<ins>rume</ins>n<ins>t_</ins>app<ins>(</ins></td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">107 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>application,</td></tr>
<tr class="diffchanged"><td class="diffline">115 </td><td class="diffpresent">tracer_provider<del><span class="dp">·</span></del>=<del><span class="dp">·</span></del>get_telemetry(SERVICE_NAME)</td><td class="diffline">108 </td><td class="diffpresent"><ins><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></ins>tracer_provider=get_telemetry(SERVICE_NAME)<ins>,</ins></td></tr>
<tr class="diffdeleted"><td class="diffline">116 </td><td class="diffpresent">set_global_textmap(B3MultiFormat())</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">117 </td><td class="diffpresent">instrument_app(application,<span class="dp">·</span>tracer_provider=tracer_provider,<span class="dp">·</span>excluded_urls=[&quot;/&quot;])</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">118 </td><td class="diffpresent"><del>AioHttpClientIns</del><del>trum</del>e<del>ntor().in</del><del>str</del>u<del>ment(tra</del><del>c</del>e<del>r</del>_<del>p</del>r<del>ovid</del><del>er</del>=<del>tracer_pro</del><del>vider)</del></td><td class="diffline">109 </td><td class="diffpresent"><ins><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></ins>e<ins>xcl</ins>u<ins>d</ins>e<ins>d</ins>_<ins>u</ins>r<ins>ls</ins>=<ins>[&quot;/&quot;],</ins></td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">110 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics=True,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">111 </td><td class="diffpresent">)</td></tr>
</table>  </div>
  <div class="difference">
    <div class="diffheader">
    <div class="diffcontrol">⊟</div>
    <div><span class="diffsize">1.34 KB</span></div>
    <div id="nucliadb-writer-lifecycle.py"><span class="source">nucliadb/writer/lifecycle.py</span>
      <a class="anchor" href="#nucliadb-writer-lifecycle.py">¶</a>
    </div>
    </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 22, 30 lines modified</td><td colspan="2">Offset 22, 28 lines modified</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest.processing<span class="dp">·</span>import<span class="dp">·</span>ProcessingEngine</td><td class="diffline">22 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest.processing<span class="dp">·</span>import<span class="dp">·</span>ProcessingEngine</td></tr>
<tr class="diffunmodified"><td class="diffline">23 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest.utils<span class="dp">·</span>import<span class="dp">·</span>start_ingest,<span class="dp">·</span>stop_ingest</td><td class="diffline">23 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.ingest.utils<span class="dp">·</span>import<span class="dp">·</span>start_ingest,<span class="dp">·</span>stop_ingest</td></tr>
<tr class="diffunmodified"><td class="diffline">24 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.writer<span class="dp">·</span>import<span class="dp">·</span>SERVICE_NAME,<span class="dp">·</span>logger</td><td class="diffline">24 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.writer<span class="dp">·</span>import<span class="dp">·</span>SERVICE_NAME,<span class="dp">·</span>logger</td></tr>
<tr class="diffunmodified"><td class="diffline">25 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.writer.tus<span class="dp">·</span>import<span class="dp">·</span>finalize<span class="dp">·</span>as<span class="dp">·</span>storage_finalize</td><td class="diffline">25 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.writer.tus<span class="dp">·</span>import<span class="dp">·</span>finalize<span class="dp">·</span>as<span class="dp">·</span>storage_finalize</td></tr>
<tr class="diffunmodified"><td class="diffline">26 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.writer.tus<span class="dp">·</span>import<span class="dp">·</span>initialize<span class="dp">·</span>as<span class="dp">·</span>storage_initialize</td><td class="diffline">26 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.writer.tus<span class="dp">·</span>import<span class="dp">·</span>initialize<span class="dp">·</span>as<span class="dp">·</span>storage_initialize</td></tr>
<tr class="diffunmodified"><td class="diffline">27 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.writer.utilities<span class="dp">·</span>import<span class="dp">·</span>get_processing</td><td class="diffline">27 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb.writer.utilities<span class="dp">·</span>import<span class="dp">·</span>get_processing</td></tr>
<tr class="diffchanged"><td class="diffline">28 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry.utils<span class="dp">·</span>import<span class="dp">·</span>clean_telemetry,<span class="dp">·</span><del>get_tele</del><del>m</del>et<del>ry,<span class="dp">·</span>in</del><del>it</del>_telemetry</td><td class="diffline">28 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_telemetry.utils<span class="dp">·</span>import<span class="dp">·</span>clean_telemetry,<span class="dp">·</span><ins>s</ins>et<ins>up</ins>_telemetry</td></tr>
<tr class="diffunmodified"><td class="diffline">29 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.partition<span class="dp">·</span>import<span class="dp">·</span>PartitionUtility</td><td class="diffline">29 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.partition<span class="dp">·</span>import<span class="dp">·</span>PartitionUtility</td></tr>
<tr class="diffunmodified"><td class="diffline">30 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.settings<span class="dp">·</span>import<span class="dp">·</span>(</td><td class="diffline">30 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.settings<span class="dp">·</span>import<span class="dp">·</span>(</td></tr>
<tr class="diffunmodified"><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>nuclia_settings,</td><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>nuclia_settings,</td></tr>
<tr class="diffunmodified"><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>running_settings,</td><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>running_settings,</td></tr>
<tr class="diffunmodified"><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>storage_settings,</td><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>storage_settings,</td></tr>
<tr class="diffunmodified"><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>transaction_settings,</td><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>transaction_settings,</td></tr>
<tr class="diffunmodified"><td class="diffline">35 </td><td class="diffpresent">)</td><td class="diffline">35 </td><td class="diffpresent">)</td></tr>
<tr class="diffunmodified"><td class="diffline">36 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.transaction<span class="dp">·</span>import<span class="dp">·</span>LocalTransactionUtility,<span class="dp">·</span>TransactionUtility</td><td class="diffline">36 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.transaction<span class="dp">·</span>import<span class="dp">·</span>LocalTransactionUtility,<span class="dp">·</span>TransactionUtility</td></tr>
<tr class="diffunmodified"><td class="diffline">37 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.utilities<span class="dp">·</span>import<span class="dp">·</span>Utility,<span class="dp">·</span>get_transaction,<span class="dp">·</span>set_utility</td><td class="diffline">37 </td><td class="diffpresent">from<span class="dp">·</span>nucliadb_utils.utilities<span class="dp">·</span>import<span class="dp">·</span>Utility,<span class="dp">·</span>get_transaction,<span class="dp">·</span>set_utility</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">38 </td><td class="diffpresent">async<span class="dp">·</span>def<span class="dp">·</span>initialize():</td><td class="diffline">38 </td><td class="diffpresent">async<span class="dp">·</span>def<span class="dp">·</span>initialize():</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>setup_telemetry(SERVICE_NAME)</td></tr>
<tr class="diffdeleted"><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tracer_provider<span class="dp">·</span>=<span class="dp">·</span>get_telemetry(SERVICE_NAME)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>tracer_provider:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>init_telemetry(tracer_provider)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>start_ingest(SERVICE_NAME)</td><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>start_ingest(SERVICE_NAME)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>processing_engine<span class="dp">·</span>=<span class="dp">·</span>ProcessingEngine(</td><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>processing_engine<span class="dp">·</span>=<span class="dp">·</span>ProcessingEngine(</td></tr>
<tr class="diffunmodified"><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>nuclia_service_account=nuclia_settings.nuclia_service_account,</td><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>nuclia_service_account=nuclia_settings.nuclia_service_account,</td></tr>
<tr class="diffunmodified"><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>nuclia_zone=nuclia_settings.nuclia_zone,</td><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>nuclia_zone=nuclia_settings.nuclia_zone,</td></tr>
<tr class="diffunmodified"><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>onprem=nuclia_settings.onprem,</td><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>onprem=nuclia_settings.onprem,</td></tr>
</table>  </div>
  <div class="difference">
    <div class="diffheader">
    <div class="diffcontrol diffcontrol-double">⊟</div>
    <div><span class="diffsize">1.49 KB</span></div>
    <div><span class="source">nucliadb-2.6.0.post136.dist-info/METADATA</span> vs.</div>
    <div id="nucliadb--.-.-.post---.dist-info-METADATA"><span class="source">nucliadb-2.7.0.post138.dist-info/METADATA</span>
      <a class="anchor" href="#nucliadb--.-.-.post---.dist-info-METADATA">¶</a>
    </div>
    </div>
    <div class="comment">Files 2% similar despite different names
    </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 10 lines modified</td><td colspan="2">Offset 1, 10 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">1 </td><td class="diffpresent">Metadata-Version:<span class="dp">·</span>2.1</td><td class="diffline">1 </td><td class="diffpresent">Metadata-Version:<span class="dp">·</span>2.1</td></tr>
<tr class="diffunmodified"><td class="diffline">2 </td><td class="diffpresent">Name:<span class="dp">·</span>nucliadb</td><td class="diffline">2 </td><td class="diffpresent">Name:<span class="dp">·</span>nucliadb</td></tr>
<tr class="diffchanged"><td class="diffline">3 </td><td class="diffpresent">Version:<span class="dp">·</span>2.<del>6</del>.0.post13<del>6</del></td><td class="diffline">3 </td><td class="diffpresent">Version:<span class="dp">·</span>2.<ins>7</ins>.0.post13<ins>8</ins></td></tr>
<tr class="diffunmodified"><td class="diffline">4 </td><td class="diffpresent">Summary:<span class="dp">·</span>UNKNOWN</td><td class="diffline">4 </td><td class="diffpresent">Summary:<span class="dp">·</span>UNKNOWN</td></tr>
<tr class="diffunmodified"><td class="diffline">5 </td><td class="diffpresent">Home-page:<span class="dp">·</span>https://nucliadb.com</td><td class="diffline">5 </td><td class="diffpresent">Home-page:<span class="dp">·</span>https://nucliadb.com</td></tr>
<tr class="diffunmodified"><td class="diffline">6 </td><td class="diffpresent">Author:<span class="dp">·</span>NucliaDB<span class="dp">·</span>Community</td><td class="diffline">6 </td><td class="diffpresent">Author:<span class="dp">·</span>NucliaDB<span class="dp">·</span>Community</td></tr>
<tr class="diffunmodified"><td class="diffline">7 </td><td class="diffpresent">Author-email:<span class="dp">·</span>nucliadb@nuclia.com</td><td class="diffline">7 </td><td class="diffpresent">Author-email:<span class="dp">·</span>nucliadb@nuclia.com</td></tr>
<tr class="diffunmodified"><td class="diffline">8 </td><td class="diffpresent">License:<span class="dp">·</span>BSD</td><td class="diffline">8 </td><td class="diffpresent">License:<span class="dp">·</span>BSD</td></tr>
<tr class="diffunmodified"><td class="diffline">9 </td><td class="diffpresent">Project-URL:<span class="dp">·</span>Nuclia,<span class="dp">·</span>https://nuclia.com</td><td class="diffline">9 </td><td class="diffpresent">Project-URL:<span class="dp">·</span>Nuclia,<span class="dp">·</span>https://nuclia.com</td></tr>
<tr class="diffunmodified"><td class="diffline">10 </td><td class="diffpresent">Project-URL:<span class="dp">·</span>Github,<span class="dp">·</span>https://github.com/nuclia/nucliadb</td><td class="diffline">10 </td><td class="diffpresent">Project-URL:<span class="dp">·</span>Github,<span class="dp">·</span>https://github.com/nuclia/nucliadb</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 53, 18 lines modified</td><td colspan="2">Offset 53, 18 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">53 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>pyjwt<span class="dp">·</span>(&gt;=2.4.0)</td><td class="diffline">53 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>pyjwt<span class="dp">·</span>(&gt;=2.4.0)</td></tr>
<tr class="diffunmodified"><td class="diffline">54 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>mmh3<span class="dp">·</span>(&gt;=3.0.0)</td><td class="diffline">54 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>mmh3<span class="dp">·</span>(&gt;=3.0.0)</td></tr>
<tr class="diffunmodified"><td class="diffline">55 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>httpx<span class="dp">·</span>(&gt;=0.23.0)</td><td class="diffline">55 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>httpx<span class="dp">·</span>(&gt;=0.23.0)</td></tr>
<tr class="diffunmodified"><td class="diffline">56 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>types-pkg-resources<span class="dp">·</span>(&gt;=0.1.3)</td><td class="diffline">56 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>types-pkg-resources<span class="dp">·</span>(&gt;=0.1.3)</td></tr>
<tr class="diffunmodified"><td class="diffline">57 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>grpc-stubs<span class="dp">·</span>(&gt;=1.24.7)</td><td class="diffline">57 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>grpc-stubs<span class="dp">·</span>(&gt;=1.24.7)</td></tr>
<tr class="diffunmodified"><td class="diffline">58 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>aiodns<span class="dp">·</span>(&gt;=3.0.0)</td><td class="diffline">58 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>aiodns<span class="dp">·</span>(&gt;=3.0.0)</td></tr>
<tr class="diffunmodified"><td class="diffline">59 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>types-orjson</td><td class="diffline">59 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>types-orjson</td></tr>
<tr class="diffchanged"><td class="diffline">60 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>nucliadb-telemetry<span class="dp">·</span>(&gt;=1.<del>5</del>.0)</td><td class="diffline">60 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>nucliadb-telemetry<span class="dp">·</span>(&gt;=1.<ins>7</ins>.0)</td></tr>
<tr class="diffchanged"><td class="diffline">61 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>nucliadb-utils[cache,fastapi,storages]<span class="dp">·</span>(==2.<del>6</del>.0-post13<del>6</del>)</td><td class="diffline">61 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>nucliadb-utils[cache,fastapi,storages]<span class="dp">·</span>(==2.<ins>7</ins>.0-post13<ins>8</ins>)</td></tr>
<tr class="diffchanged"><td class="diffline">62 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>nucliadb-protos<span class="dp">·</span>(==2.<del>6</del>.0-post13<del>6</del>)</td><td class="diffline">62 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>nucliadb-protos<span class="dp">·</span>(==2.<ins>7</ins>.0-post13<ins>8</ins>)</td></tr>
<tr class="diffchanged"><td class="diffline">63 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>nucliadb-models<span class="dp">·</span>(==2.<del>6</del>.0-post13<del>6</del>)</td><td class="diffline">63 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>nucliadb-models<span class="dp">·</span>(==2.<ins>7</ins>.0-post13<ins>8</ins>)</td></tr>
<tr class="diffunmodified"><td class="diffline">64 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>tikv-client<span class="dp">·</span>(&gt;=0.0.3)</td><td class="diffline">64 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>tikv-client<span class="dp">·</span>(&gt;=0.0.3)</td></tr>
<tr class="diffunmodified"><td class="diffline">65 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>starlette-prometheus<span class="dp">·</span>(&gt;=0.9.0)</td><td class="diffline">65 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>starlette-prometheus<span class="dp">·</span>(&gt;=0.9.0)</td></tr>
<tr class="diffunmodified"><td class="diffline">66 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>prometheus-client<span class="dp">·</span>(&gt;=0.12.0)</td><td class="diffline">66 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>prometheus-client<span class="dp">·</span>(&gt;=0.12.0)</td></tr>
<tr class="diffunmodified"><td class="diffline">67 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>opentelemetry-instrumentation-aiohttp-client<span class="dp">·</span>(&gt;=0.30b1)</td><td class="diffline">67 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>opentelemetry-instrumentation-aiohttp-client<span class="dp">·</span>(&gt;=0.30b1)</td></tr>
<tr class="diffunmodified"><td class="diffline">68 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>opentelemetry-semantic-conventions<span class="dp">·</span>(&gt;=0.30b1)</td><td class="diffline">68 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>opentelemetry-semantic-conventions<span class="dp">·</span>(&gt;=0.30b1)</td></tr>
<tr class="diffunmodified"><td class="diffline">69 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>opentelemetry-instrumentation-fastapi<span class="dp">·</span>(&gt;=0.30b1)</td><td class="diffline">69 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>opentelemetry-instrumentation-fastapi<span class="dp">·</span>(&gt;=0.30b1)</td></tr>
<tr class="diffunmodified"><td class="diffline">70 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>opentelemetry-propagator-b3</td><td class="diffline">70 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>opentelemetry-propagator-b3</td></tr>
</table>  </div>
  <div class="difference">
    <div class="diffheader">
    <div class="diffcontrol diffcontrol-double">⊟</div>
    <div><span class="diffsize">137 B</span></div>
    <div><span class="source">nucliadb-2.6.0.post136.dist-info/entry_points.txt</span> vs.</div>
    <div id="nucliadb--.-.-.post---.dist-info-entry_points.txt"><span class="source">nucliadb-2.7.0.post138.dist-info/entry_points.txt</span>
      <a class="anchor" href="#nucliadb--.-.-.post---.dist-info-entry_points.txt">¶</a>
    </div>
    </div>
    <div class="comment">Files identical despite different names
    </div>
  </div>
  <div class="difference">
    <div class="diffheader">
    <div class="diffcontrol diffcontrol-double">⊟</div>
    <div><span class="diffsize">14.1 KB</span></div>
    <div><span class="source">nucliadb-2.6.0.post136.dist-info/RECORD</span> vs.</div>
    <div id="nucliadb--.-.-.post---.dist-info-RECORD"><span class="source">nucliadb-2.7.0.post138.dist-info/RECORD</span>
      <a class="anchor" href="#nucliadb--.-.-.post---.dist-info-RECORD">¶</a>
    </div>
    </div>
    <div class="comment">Files 2% similar despite different names
    </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 3, 23 lines modified</td><td colspan="2">Offset 3, 23 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">3 </td><td class="diffpresent">nucliadb/config.py,sha256=rGPZTX_Ni6BG4g4qAp-bbr7XmUaRBbmFaegOysFBbGs,4556</td><td class="diffline">3 </td><td class="diffpresent">nucliadb/config.py,sha256=rGPZTX_Ni6BG4g4qAp-bbr7XmUaRBbmFaegOysFBbGs,4556</td></tr>
<tr class="diffunmodified"><td class="diffline">4 </td><td class="diffpresent">nucliadb/logging.py,sha256=moPKHbTi0EIAREiScI-eyjo3hvGRt02eqi-IrrMdUv0,2785</td><td class="diffline">4 </td><td class="diffpresent">nucliadb/logging.py,sha256=moPKHbTi0EIAREiScI-eyjo3hvGRt02eqi-IrrMdUv0,2785</td></tr>
<tr class="diffunmodified"><td class="diffline">5 </td><td class="diffpresent">nucliadb/purge.py,sha256=y5uFOK3YQU9XgehSSjYiEZCiB0F8qukgI18Hgw2Dy-o,1393</td><td class="diffline">5 </td><td class="diffpresent">nucliadb/purge.py,sha256=y5uFOK3YQU9XgehSSjYiEZCiB0F8qukgI18Hgw2Dy-o,1393</td></tr>
<tr class="diffunmodified"><td class="diffline">6 </td><td class="diffpresent">nucliadb/py.typed,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0</td><td class="diffline">6 </td><td class="diffpresent">nucliadb/py.typed,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0</td></tr>
<tr class="diffunmodified"><td class="diffline">7 </td><td class="diffpresent">nucliadb/run.py,sha256=6mD0gMbBgl5VgVc8Ic3LxUHgzT9lkZRhql-xNC41J9w,3268</td><td class="diffline">7 </td><td class="diffpresent">nucliadb/run.py,sha256=6mD0gMbBgl5VgVc8Ic3LxUHgzT9lkZRhql-xNC41J9w,3268</td></tr>
<tr class="diffunmodified"><td class="diffline">8 </td><td class="diffpresent">nucliadb/settings.py,sha256=GP2hJAYSLXO3mUopKrH4rgwOgX4M1n-_gHLd6UvI-60,1945</td><td class="diffline">8 </td><td class="diffpresent">nucliadb/settings.py,sha256=GP2hJAYSLXO3mUopKrH4rgwOgX4M1n-_gHLd6UvI-60,1945</td></tr>
<tr class="diffunmodified"><td class="diffline">9 </td><td class="diffpresent">nucliadb/ingest/__init__.py,sha256=fsw3C38VP50km3R-nHL775LNGPpJ4JxqXJ2Ib1f5SqE,1011</td><td class="diffline">9 </td><td class="diffpresent">nucliadb/ingest/__init__.py,sha256=fsw3C38VP50km3R-nHL775LNGPpJ4JxqXJ2Ib1f5SqE,1011</td></tr>
<tr class="diffchanged"><td class="diffline">10 </td><td class="diffpresent">nucliadb/ingest/app.py,sha256=<del>GxNTIzSOEwxJslOh-zhu24_u96QoY3XAefwlxu-xx7k</del>,6<del>8</del>3<del>1</del></td><td class="diffline">10 </td><td class="diffpresent">nucliadb/ingest/app.py,sha256=<ins>IVgLbLUMnM-2wTWdUg4BeI3htrY0ZFsDFVEn2wokvPw</ins>,6<ins>3</ins>3<ins>8</ins></td></tr>
<tr class="diffunmodified"><td class="diffline">11 </td><td class="diffpresent">nucliadb/ingest/cache.py,sha256=XPmNNa6KP7P5Mp0Iivl3vIFFMz9rOs9POpHkzj9wpwU,995</td><td class="diffline">11 </td><td class="diffpresent">nucliadb/ingest/cache.py,sha256=XPmNNa6KP7P5Mp0Iivl3vIFFMz9rOs9POpHkzj9wpwU,995</td></tr>
<tr class="diffunmodified"><td class="diffline">12 </td><td class="diffpresent">nucliadb/ingest/chitchat.py,sha256=Nj9W6XwWwjjn3ufFo2D8-t2CLiz5AKwNERwvhCPcaMY,6874</td><td class="diffline">12 </td><td class="diffpresent">nucliadb/ingest/chitchat.py,sha256=Nj9W6XwWwjjn3ufFo2D8-t2CLiz5AKwNERwvhCPcaMY,6874</td></tr>
<tr class="diffunmodified"><td class="diffline">13 </td><td class="diffpresent">nucliadb/ingest/partitions.py,sha256=a3fXq3DwRiDjcQNBcUtDTra8prIf-r5_z0B69ll_pag,2425</td><td class="diffline">13 </td><td class="diffpresent">nucliadb/ingest/partitions.py,sha256=a3fXq3DwRiDjcQNBcUtDTra8prIf-r5_z0B69ll_pag,2425</td></tr>
<tr class="diffunmodified"><td class="diffline">14 </td><td class="diffpresent">nucliadb/ingest/processing.py,sha256=FicanxeoCPeXyD4ohb7HqaR0r6jRQdy7w5e_GGRcD3k,14757</td><td class="diffline">14 </td><td class="diffpresent">nucliadb/ingest/processing.py,sha256=FicanxeoCPeXyD4ohb7HqaR0r6jRQdy7w5e_GGRcD3k,14757</td></tr>
<tr class="diffunmodified"><td class="diffline">15 </td><td class="diffpresent">nucliadb/ingest/purge.py,sha256=vCtIr2LZph6AcMpXaRxYhk2Dvmw_Sf7sXvUKDG46c40,5463</td><td class="diffline">15 </td><td class="diffpresent">nucliadb/ingest/purge.py,sha256=vCtIr2LZph6AcMpXaRxYhk2Dvmw_Sf7sXvUKDG46c40,5463</td></tr>
<tr class="diffunmodified"><td class="diffline">16 </td><td class="diffpresent">nucliadb/ingest/serialize.py,sha256=IEWub60ECe9jBJxq561xxN3DlTYXfWGR9btTiwLRPL4,17721</td><td class="diffline">16 </td><td class="diffpresent">nucliadb/ingest/serialize.py,sha256=IEWub60ECe9jBJxq561xxN3DlTYXfWGR9btTiwLRPL4,17721</td></tr>
<tr class="diffunmodified"><td class="diffline">17 </td><td class="diffpresent">nucliadb/ingest/settings.py,sha256=f66dhC_ILiaAqwyhbphDdloiF2Ar7PsUWnRByqx2Nfs,3021</td><td class="diffline">17 </td><td class="diffpresent">nucliadb/ingest/settings.py,sha256=f66dhC_ILiaAqwyhbphDdloiF2Ar7PsUWnRByqx2Nfs,3021</td></tr>
<tr class="diffchanged"><td class="diffline">18 </td><td class="diffpresent">nucliadb/ingest/utils.py,sha256=<del>_yv</del>f<del>6</del><del>WmU</del>f<del>TBt</del>z<del>qbJNOwDcYzqLk-qwUrg</del>d<del>l2jqO39L7</del>4,4<del>583</del></td><td class="diffline">18 </td><td class="diffpresent">nucliadb/ingest/utils.py,sha256=<ins>KhR</ins>f<ins>OpR</ins>f<ins>jyS</ins>z<ins>w</ins><ins>Gsa45Ey_usmCwD0kph6</ins>d<ins>g0HEbOAQR</ins>4,4<ins>255</ins></td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent">nucliadb/ingest/consumer/__init__.py,sha256=7Bi0uZMbpYNrqPpWGATaWYd5wn_k5cfVSS_FGYmJspc,1087</td><td class="diffline">19 </td><td class="diffpresent">nucliadb/ingest/consumer/__init__.py,sha256=7Bi0uZMbpYNrqPpWGATaWYd5wn_k5cfVSS_FGYmJspc,1087</td></tr>
<tr class="diffunmodified"><td class="diffline">20 </td><td class="diffpresent">nucliadb/ingest/consumer/pull.py,sha256=DNTrjbjwcTzZoYSMA-MGeetcVtz8yFMe3v9lh2WV6hQ,16928</td><td class="diffline">20 </td><td class="diffpresent">nucliadb/ingest/consumer/pull.py,sha256=DNTrjbjwcTzZoYSMA-MGeetcVtz8yFMe3v9lh2WV6hQ,16928</td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent">nucliadb/ingest/consumer/service.py,sha256=fEG7rwIuikUdZ3UkGnE3k35nqpzzud1r9J2LhCBHbmM,6425</td><td class="diffline">21 </td><td class="diffpresent">nucliadb/ingest/consumer/service.py,sha256=fEG7rwIuikUdZ3UkGnE3k35nqpzzud1r9J2LhCBHbmM,6425</td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent">nucliadb/ingest/fields/__init__.py,sha256=cp15ZcFnHvpcu_5-aK2A4uUyvuZVV_MJn4bIXMa20ks,835</td><td class="diffline">22 </td><td class="diffpresent">nucliadb/ingest/fields/__init__.py,sha256=cp15ZcFnHvpcu_5-aK2A4uUyvuZVV_MJn4bIXMa20ks,835</td></tr>
<tr class="diffunmodified"><td class="diffline">23 </td><td class="diffpresent">nucliadb/ingest/fields/base.py,sha256=fEh3CSXkgWXkhsGBcUYx18a7iBD6xBXJq-4GSGWEnUU,20415</td><td class="diffline">23 </td><td class="diffpresent">nucliadb/ingest/fields/base.py,sha256=fEh3CSXkgWXkhsGBcUYx18a7iBD6xBXJq-4GSGWEnUU,20415</td></tr>
<tr class="diffunmodified"><td class="diffline">24 </td><td class="diffpresent">nucliadb/ingest/fields/conversation.py,sha256=v5h5GrdvKW_hB2DYloyV0qlzIK1QF3CX4nI0GCp9M90,6823</td><td class="diffline">24 </td><td class="diffpresent">nucliadb/ingest/fields/conversation.py,sha256=v5h5GrdvKW_hB2DYloyV0qlzIK1QF3CX4nI0GCp9M90,6823</td></tr>
<tr class="diffunmodified"><td class="diffline">25 </td><td class="diffpresent">nucliadb/ingest/fields/date.py,sha256=jXMWfdCv87oVySDQORXhMZ1Zvpw_aOpcrYAfUSnL3uA,1223</td><td class="diffline">25 </td><td class="diffpresent">nucliadb/ingest/fields/date.py,sha256=jXMWfdCv87oVySDQORXhMZ1Zvpw_aOpcrYAfUSnL3uA,1223</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 45, 45 lines modified</td><td colspan="2">Offset 45, 45 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">45 </td><td class="diffpresent">nucliadb/ingest/orm/exceptions.py,sha256=f4ihB27Bi4l5LKXDpXJt4H4mQCD4r7npK_aA20e2W8Q,1362</td><td class="diffline">45 </td><td class="diffpresent">nucliadb/ingest/orm/exceptions.py,sha256=f4ihB27Bi4l5LKXDpXJt4H4mQCD4r7npK_aA20e2W8Q,1362</td></tr>
<tr class="diffunmodified"><td class="diffline">46 </td><td class="diffpresent">nucliadb/ingest/orm/grpc_node_binding.py,sha256=Fw16RI6Jr96WgudPGpI93j6EDBomwIm1l12z3Qt-W_w,12586</td><td class="diffline">46 </td><td class="diffpresent">nucliadb/ingest/orm/grpc_node_binding.py,sha256=Fw16RI6Jr96WgudPGpI93j6EDBomwIm1l12z3Qt-W_w,12586</td></tr>
<tr class="diffunmodified"><td class="diffline">47 </td><td class="diffpresent">nucliadb/ingest/orm/grpc_node_dummy.py,sha256=Pz6EB8fd2lw1pG447LrvSJQ8y_6XsiAJIvbc7jViHY4,5009</td><td class="diffline">47 </td><td class="diffpresent">nucliadb/ingest/orm/grpc_node_dummy.py,sha256=Pz6EB8fd2lw1pG447LrvSJQ8y_6XsiAJIvbc7jViHY4,5009</td></tr>
<tr class="diffunmodified"><td class="diffline">48 </td><td class="diffpresent">nucliadb/ingest/orm/knowledgebox.py,sha256=IEAUkTEzi8xb0Des2QULZJnvV6iX-Q1s113bd_JKmPw,21289</td><td class="diffline">48 </td><td class="diffpresent">nucliadb/ingest/orm/knowledgebox.py,sha256=IEAUkTEzi8xb0Des2QULZJnvV6iX-Q1s113bd_JKmPw,21289</td></tr>
<tr class="diffunmodified"><td class="diffline">49 </td><td class="diffpresent">nucliadb/ingest/orm/labels.py,sha256=2caUR5M5L3_tw2Sp9XyevO-yXdNpGUUxrR0vpQnTsmo,1730</td><td class="diffline">49 </td><td class="diffpresent">nucliadb/ingest/orm/labels.py,sha256=2caUR5M5L3_tw2Sp9XyevO-yXdNpGUUxrR0vpQnTsmo,1730</td></tr>
<tr class="diffunmodified"><td class="diffline">50 </td><td class="diffpresent">nucliadb/ingest/orm/local_node.py,sha256=-YukxuAPEr8AsXJsGfqNl9E25wuHs4ljrwG1TXrizLU,4291</td><td class="diffline">50 </td><td class="diffpresent">nucliadb/ingest/orm/local_node.py,sha256=-YukxuAPEr8AsXJsGfqNl9E25wuHs4ljrwG1TXrizLU,4291</td></tr>
<tr class="diffunmodified"><td class="diffline">51 </td><td class="diffpresent">nucliadb/ingest/orm/local_shard.py,sha256=VHykQW3U9brM_lo4kd96EIbeGESDPh0gKbpPdGtTVw0,2864</td><td class="diffline">51 </td><td class="diffpresent">nucliadb/ingest/orm/local_shard.py,sha256=VHykQW3U9brM_lo4kd96EIbeGESDPh0gKbpPdGtTVw0,2864</td></tr>
<tr class="diffchanged"><td class="diffline">52 </td><td class="diffpresent">nucliadb/ingest/orm/node.py,sha256=<del>jAl_wxqv7KJb3lQ1Fa9MeppVDMx5</del>B<del>xbm-US0DU-DjhU</del>,<del>212</del>15</td><td class="diffline">52 </td><td class="diffpresent">nucliadb/ingest/orm/node.py,sha256=<ins>u8MmPGWLfMD9CBzgJB7fnabwUT9l</ins>B<ins>_vgLXwgv7Y1WZs</ins>,<ins>198</ins>15</td></tr>
<tr class="diffunmodified"><td class="diffline">53 </td><td class="diffpresent">nucliadb/ingest/orm/nodes_manager.py,sha256=9z28W_U4KG86GzLIr2_FXCf-IG2uNCDulEV4WfNYt94,4293</td><td class="diffline">53 </td><td class="diffpresent">nucliadb/ingest/orm/nodes_manager.py,sha256=9z28W_U4KG86GzLIr2_FXCf-IG2uNCDulEV4WfNYt94,4293</td></tr>
<tr class="diffunmodified"><td class="diffline">54 </td><td class="diffpresent">nucliadb/ingest/orm/processor.py,sha256=4IXNvwQlYoSeCTfOKkEpiJQGCU8P1YcrnfqH0dLyrBo,26056</td><td class="diffline">54 </td><td class="diffpresent">nucliadb/ingest/orm/processor.py,sha256=4IXNvwQlYoSeCTfOKkEpiJQGCU8P1YcrnfqH0dLyrBo,26056</td></tr>
<tr class="diffunmodified"><td class="diffline">55 </td><td class="diffpresent">nucliadb/ingest/orm/resource.py,sha256=tSlgS2oU1_QQLr7Rz5baHUr1Pgb1wa9sPjQVqwbowBo,49605</td><td class="diffline">55 </td><td class="diffpresent">nucliadb/ingest/orm/resource.py,sha256=tSlgS2oU1_QQLr7Rz5baHUr1Pgb1wa9sPjQVqwbowBo,49605</td></tr>
<tr class="diffunmodified"><td class="diffline">56 </td><td class="diffpresent">nucliadb/ingest/orm/shard.py,sha256=75Dnb0LjzUWUgG1HLWvAsNpBTUaHDEqK_LJw8mVKIR0,5087</td><td class="diffline">56 </td><td class="diffpresent">nucliadb/ingest/orm/shard.py,sha256=75Dnb0LjzUWUgG1HLWvAsNpBTUaHDEqK_LJw8mVKIR0,5087</td></tr>
<tr class="diffunmodified"><td class="diffline">57 </td><td class="diffpresent">nucliadb/ingest/orm/synonyms.py,sha256=BuqS8XxLLVP124zPLGISgrmQg94LdalaTHeOVp_6dIY,1739</td><td class="diffline">57 </td><td class="diffpresent">nucliadb/ingest/orm/synonyms.py,sha256=BuqS8XxLLVP124zPLGISgrmQg94LdalaTHeOVp_6dIY,1739</td></tr>
<tr class="diffunmodified"><td class="diffline">58 </td><td class="diffpresent">nucliadb/ingest/orm/utils.py,sha256=9vTugcLweai69WWinatWm1RTyukJEDDte3qXNLqS7pI,3340</td><td class="diffline">58 </td><td class="diffpresent">nucliadb/ingest/orm/utils.py,sha256=9vTugcLweai69WWinatWm1RTyukJEDDte3qXNLqS7pI,3340</td></tr>
<tr class="diffchanged"><td class="diffline">59 </td><td class="diffpresent">nucliadb/ingest/service/__init__.py,sha256=<del>Ep7P6B4jAgVOnoFuTR2jfsNA_sgsCJ7R401jMsteX9Y</del>,<del>3134</del></td><td class="diffline">59 </td><td class="diffpresent">nucliadb/ingest/service/__init__.py,sha256=<ins>79pKu4eNXDmflkf2qLhY5uxUUHl5UiyA3RBVBHmLDRI</ins>,<ins>2817</ins></td></tr>
<tr class="diffunmodified"><td class="diffline">60 </td><td class="diffpresent">nucliadb/ingest/service/exceptions.py,sha256=cp15ZcFnHvpcu_5-aK2A4uUyvuZVV_MJn4bIXMa20ks,835</td><td class="diffline">60 </td><td class="diffpresent">nucliadb/ingest/service/exceptions.py,sha256=cp15ZcFnHvpcu_5-aK2A4uUyvuZVV_MJn4bIXMa20ks,835</td></tr>
<tr class="diffunmodified"><td class="diffline">61 </td><td class="diffpresent">nucliadb/ingest/service/writer.py,sha256=MBlbdD_tHvQXM0IvsXnLwDePMTQoHc53yVAxDpVT58E,35999</td><td class="diffline">61 </td><td class="diffpresent">nucliadb/ingest/service/writer.py,sha256=MBlbdD_tHvQXM0IvsXnLwDePMTQoHc53yVAxDpVT58E,35999</td></tr>
<tr class="diffunmodified"><td class="diffline">62 </td><td class="diffpresent">nucliadb/ingest/tests/__init__.py,sha256=cp15ZcFnHvpcu_5-aK2A4uUyvuZVV_MJn4bIXMa20ks,835</td><td class="diffline">62 </td><td class="diffpresent">nucliadb/ingest/tests/__init__.py,sha256=cp15ZcFnHvpcu_5-aK2A4uUyvuZVV_MJn4bIXMa20ks,835</td></tr>
<tr class="diffunmodified"><td class="diffline">63 </td><td class="diffpresent">nucliadb/ingest/tests/conftest.py,sha256=vu6f6UsfajjAZwBcbecc7xvRZpr7Yqj7qxalHYtgRtE,1096</td><td class="diffline">63 </td><td class="diffpresent">nucliadb/ingest/tests/conftest.py,sha256=vu6f6UsfajjAZwBcbecc7xvRZpr7Yqj7qxalHYtgRtE,1096</td></tr>
<tr class="diffunmodified"><td class="diffline">64 </td><td class="diffpresent">nucliadb/ingest/tests/fixtures.py,sha256=ECt9PGsg2UihZFJiXLMkmTOBY-J2vr-2U9hIsl3pojo,24774</td><td class="diffline">64 </td><td class="diffpresent">nucliadb/ingest/tests/fixtures.py,sha256=ECt9PGsg2UihZFJiXLMkmTOBY-J2vr-2U9hIsl3pojo,24774</td></tr>
<tr class="diffunmodified"><td class="diffline">65 </td><td class="diffpresent">nucliadb/ingest/tests/tikv.py,sha256=MGwBL9ezcOOR8JwttouQ8Qj6534d742i2A3TAumdrM4,7549</td><td class="diffline">65 </td><td class="diffpresent">nucliadb/ingest/tests/tikv.py,sha256=MGwBL9ezcOOR8JwttouQ8Qj6534d742i2A3TAumdrM4,7549</td></tr>
<tr class="diffunmodified"><td class="diffline">66 </td><td class="diffpresent">nucliadb/ingest/tests/vectors.py,sha256=C04U7O6d7UxBfS3GVGeaMsYjlKIQQze7-gaOFvvfeyM,42967</td><td class="diffline">66 </td><td class="diffpresent">nucliadb/ingest/tests/vectors.py,sha256=C04U7O6d7UxBfS3GVGeaMsYjlKIQQze7-gaOFvvfeyM,42967</td></tr>
<tr class="diffunmodified"><td class="diffline">67 </td><td class="diffpresent">nucliadb/models/__init__.py,sha256=cp15ZcFnHvpcu_5-aK2A4uUyvuZVV_MJn4bIXMa20ks,835</td><td class="diffline">67 </td><td class="diffpresent">nucliadb/models/__init__.py,sha256=cp15ZcFnHvpcu_5-aK2A4uUyvuZVV_MJn4bIXMa20ks,835</td></tr>
<tr class="diffunmodified"><td class="diffline">68 </td><td class="diffpresent">nucliadb/models/responses.py,sha256=ySnO1-NLZoeK-ud3d1YcmmBeznsG7m2pyX2KdKzSTRQ,1587</td><td class="diffline">68 </td><td class="diffpresent">nucliadb/models/responses.py,sha256=ySnO1-NLZoeK-ud3d1YcmmBeznsG7m2pyX2KdKzSTRQ,1587</td></tr>
<tr class="diffunmodified"><td class="diffline">69 </td><td class="diffpresent">nucliadb/one/__init__.py,sha256=M4YAQYYehaKJpZUa__l6DGhK2VGRejMAn33tXZuVwA0,914</td><td class="diffline">69 </td><td class="diffpresent">nucliadb/one/__init__.py,sha256=M4YAQYYehaKJpZUa__l6DGhK2VGRejMAn33tXZuVwA0,914</td></tr>
<tr class="diffchanged"><td class="diffline">70 </td><td class="diffpresent">nucliadb/one/app.py,sha256=<del>bNuN7sObaFgjocBlsMCsfHPZVUSWxxda195N5LN39No</del>,3<del>595</del></td><td class="diffline">70 </td><td class="diffpresent">nucliadb/one/app.py,sha256=<ins>nfadTifdFPOQRJszgdd5OkACOMn3bK9jBGVvTlussIM</ins>,3<ins>257</ins></td></tr>
<tr class="diffunmodified"><td class="diffline">71 </td><td class="diffpresent">nucliadb/one/lifecycle.py,sha256=W8_2rR6R_Vi8PzXQaWyQPzD4Qfr6_J2odLxdUKMwtKU,2130</td><td class="diffline">71 </td><td class="diffpresent">nucliadb/one/lifecycle.py,sha256=W8_2rR6R_Vi8PzXQaWyQPzD4Qfr6_J2odLxdUKMwtKU,2130</td></tr>
<tr class="diffunmodified"><td class="diffline">72 </td><td class="diffpresent">nucliadb/one/tests/__init__.py,sha256=cp15ZcFnHvpcu_5-aK2A4uUyvuZVV_MJn4bIXMa20ks,835</td><td class="diffline">72 </td><td class="diffpresent">nucliadb/one/tests/__init__.py,sha256=cp15ZcFnHvpcu_5-aK2A4uUyvuZVV_MJn4bIXMa20ks,835</td></tr>
<tr class="diffunmodified"><td class="diffline">73 </td><td class="diffpresent">nucliadb/one/tests/conftest.py,sha256=qmJ2toIbFRAEyoHbv68-xl2XQjBuT0e3CuZ5ert21xs,1164</td><td class="diffline">73 </td><td class="diffpresent">nucliadb/one/tests/conftest.py,sha256=qmJ2toIbFRAEyoHbv68-xl2XQjBuT0e3CuZ5ert21xs,1164</td></tr>
<tr class="diffunmodified"><td class="diffline">74 </td><td class="diffpresent">nucliadb/one/tests/fixtures.py,sha256=6gxRa4_vJng0zK0tEJ8fpPzxdY1hbSWi6ew_6RGBtzY,3591</td><td class="diffline">74 </td><td class="diffpresent">nucliadb/one/tests/fixtures.py,sha256=6gxRa4_vJng0zK0tEJ8fpPzxdY1hbSWi6ew_6RGBtzY,3591</td></tr>
<tr class="diffunmodified"><td class="diffline">75 </td><td class="diffpresent">nucliadb/one/tests/test_basic.py,sha256=tLBcofx01zABlnetZHD9QxZ7ysGmiT6QRJtYEOOjKBg,2561</td><td class="diffline">75 </td><td class="diffpresent">nucliadb/one/tests/test_basic.py,sha256=tLBcofx01zABlnetZHD9QxZ7ysGmiT6QRJtYEOOjKBg,2561</td></tr>
<tr class="diffunmodified"><td class="diffline">76 </td><td class="diffpresent">nucliadb/one/tests/test_delete_field.py,sha256=qXa2fgG-RYNBPneqQtX9HdroDSn2qR0ZULXQPQ9fClU,2492</td><td class="diffline">76 </td><td class="diffpresent">nucliadb/one/tests/test_delete_field.py,sha256=qXa2fgG-RYNBPneqQtX9HdroDSn2qR0ZULXQPQ9fClU,2492</td></tr>
<tr class="diffunmodified"><td class="diffline">77 </td><td class="diffpresent">nucliadb/one/tests/test_fieldmetadata.py,sha256=-V5K3mJfBLcEAx4jLjskYIZlKChOL90eEM8WLFzPTeE,6087</td><td class="diffline">77 </td><td class="diffpresent">nucliadb/one/tests/test_fieldmetadata.py,sha256=-V5K3mJfBLcEAx4jLjskYIZlKChOL90eEM8WLFzPTeE,6087</td></tr>
<tr class="diffunmodified"><td class="diffline">78 </td><td class="diffpresent">nucliadb/one/tests/test_services.py,sha256=XVXqcP62323FLNyJinemnmG5cGBWPNHX0FRJmX1G4mw,4594</td><td class="diffline">78 </td><td class="diffpresent">nucliadb/one/tests/test_services.py,sha256=XVXqcP62323FLNyJinemnmG5cGBWPNHX0FRJmX1G4mw,4594</td></tr>
<tr class="diffunmodified"><td class="diffline">79 </td><td class="diffpresent">nucliadb/one/tests/test_upload_download.py,sha256=h8hRtbdGuUZuTB7dHTZsakzu7Y1C0dkTIAJpwEtQjHs,4067</td><td class="diffline">79 </td><td class="diffpresent">nucliadb/one/tests/test_upload_download.py,sha256=h8hRtbdGuUZuTB7dHTZsakzu7Y1C0dkTIAJpwEtQjHs,4067</td></tr>
<tr class="diffunmodified"><td class="diffline">80 </td><td class="diffpresent">nucliadb/reader/__init__.py,sha256=TxsAOWhRnz9l8DuFy-Qfv0I5HrzrysaxtAzogg6FQB8,1328</td><td class="diffline">80 </td><td class="diffpresent">nucliadb/reader/__init__.py,sha256=TxsAOWhRnz9l8DuFy-Qfv0I5HrzrysaxtAzogg6FQB8,1328</td></tr>
<tr class="diffdeleted"><td class="diffline">81 </td><td class="diffpresent">nucliadb/reader/app.py,sha256=IwgA4C1HDIQkq3tX4fDydjSifEwvQkLSHlCmJRSRRuA,4120</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">82 </td><td class="diffpresent">nucliadb/reader/<del>lifecy</del><del>cle</del>.py,sha256=<del>REUi_vDd_ZlbOf-DDsm45S4li2PGiTWcHz7XutfcoPs</del>,<del>1835</del></td><td class="diffline">81 </td><td class="diffpresent">nucliadb/reader/<ins>app</ins>.py,sha256=<ins>YMCbnKvWQ8Y6eJ3fSuyNGng6HgCyqtBQsdqSK-yizuk</ins>,<ins>3603</ins></td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">82 </td><td class="diffpresent">nucliadb/reader/lifecycle.py,sha256=JG61NwYBuMG5g6TUkNFPwPCUfoTFZahrxI1FR--7BJU,1741</td></tr>
<tr class="diffunmodified"><td class="diffline">83 </td><td class="diffpresent">nucliadb/reader/openapi.py,sha256=lb-QDOMxESUUjvtMEa6yHqqEng4zo21o9EM2uCVhl0g,2186</td><td class="diffline">83 </td><td class="diffpresent">nucliadb/reader/openapi.py,sha256=lb-QDOMxESUUjvtMEa6yHqqEng4zo21o9EM2uCVhl0g,2186</td></tr>
<tr class="diffunmodified"><td class="diffline">84 </td><td class="diffpresent">nucliadb/reader/run.py,sha256=LrCe0y_aouGAV8rStM1-DfV7UGXHJ7iaHqH8CggtG5k,1010</td><td class="diffline">84 </td><td class="diffpresent">nucliadb/reader/run.py,sha256=LrCe0y_aouGAV8rStM1-DfV7UGXHJ7iaHqH8CggtG5k,1010</td></tr>
<tr class="diffunmodified"><td class="diffline">85 </td><td class="diffpresent">nucliadb/reader/api/__init__.py,sha256=c-UD29C0FVzQDGEvslebDCKtvnyEcAbiDd-3Q_QgGN4,872</td><td class="diffline">85 </td><td class="diffpresent">nucliadb/reader/api/__init__.py,sha256=c-UD29C0FVzQDGEvslebDCKtvnyEcAbiDd-3Q_QgGN4,872</td></tr>
<tr class="diffunmodified"><td class="diffline">86 </td><td class="diffpresent">nucliadb/reader/api/models.py,sha256=gB9QIhKhVFIaGOj-F9XVVr_TDGtg3oiU3WBGVVAsecA,2433</td><td class="diffline">86 </td><td class="diffpresent">nucliadb/reader/api/models.py,sha256=gB9QIhKhVFIaGOj-F9XVVr_TDGtg3oiU3WBGVVAsecA,2433</td></tr>
<tr class="diffunmodified"><td class="diffline">87 </td><td class="diffpresent">nucliadb/reader/api/v1/__init__.py,sha256=3NX3_gljl2HAMiTHMgHWwc-qIR9bYKr0ggl37mGUQjc,995</td><td class="diffline">87 </td><td class="diffpresent">nucliadb/reader/api/v1/__init__.py,sha256=3NX3_gljl2HAMiTHMgHWwc-qIR9bYKr0ggl37mGUQjc,995</td></tr>
<tr class="diffunmodified"><td class="diffline">88 </td><td class="diffpresent">nucliadb/reader/api/v1/download.py,sha256=hN79ozkYIlLAHKqu5yk4xsiAduiJq_ax82z3fFAdKek,9671</td><td class="diffline">88 </td><td class="diffpresent">nucliadb/reader/api/v1/download.py,sha256=hN79ozkYIlLAHKqu5yk4xsiAduiJq_ax82z3fFAdKek,9671</td></tr>
<tr class="diffunmodified"><td class="diffline">89 </td><td class="diffpresent">nucliadb/reader/api/v1/knowledgebox.py,sha256=nDN0jxI85cisQx_7R6JJwrHamc9_2Lyzfck0ZPYVzy4,3570</td><td class="diffline">89 </td><td class="diffpresent">nucliadb/reader/api/v1/knowledgebox.py,sha256=nDN0jxI85cisQx_7R6JJwrHamc9_2Lyzfck0ZPYVzy4,3570</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 94, 17 lines modified</td><td colspan="2">Offset 94, 17 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">94 </td><td class="diffpresent">nucliadb/reader/tests/conftest.py,sha256=j1YLBho3wV890KL-aH-WJ5MCh-fei6P2t7kYMPto5yo,1101</td><td class="diffline">94 </td><td class="diffpresent">nucliadb/reader/tests/conftest.py,sha256=j1YLBho3wV890KL-aH-WJ5MCh-fei6P2t7kYMPto5yo,1101</td></tr>
<tr class="diffunmodified"><td class="diffline">95 </td><td class="diffpresent">nucliadb/reader/tests/fixtures.py,sha256=DT8F5Df9Jea80xM8oX74B1WPARoEslzmIA5lLuYBcPg,4564</td><td class="diffline">95 </td><td class="diffpresent">nucliadb/reader/tests/fixtures.py,sha256=DT8F5Df9Jea80xM8oX74B1WPARoEslzmIA5lLuYBcPg,4564</td></tr>
<tr class="diffunmodified"><td class="diffline">96 </td><td class="diffpresent">nucliadb/reader/tests/test_list_resources.py,sha256=zHJLCn3Pi8unt-NGBTftND-2ByVpLd2nDgpfG_qp1JU,2749</td><td class="diffline">96 </td><td class="diffpresent">nucliadb/reader/tests/test_list_resources.py,sha256=zHJLCn3Pi8unt-NGBTftND-2ByVpLd2nDgpfG_qp1JU,2749</td></tr>
<tr class="diffunmodified"><td class="diffline">97 </td><td class="diffpresent">nucliadb/reader/tests/test_reader_file_download.py,sha256=sDjBEXyZsa-EUlXHmJmBe6W8e-4OMVrDaQY_qlxzL7o,9139</td><td class="diffline">97 </td><td class="diffpresent">nucliadb/reader/tests/test_reader_file_download.py,sha256=sDjBEXyZsa-EUlXHmJmBe6W8e-4OMVrDaQY_qlxzL7o,9139</td></tr>
<tr class="diffunmodified"><td class="diffline">98 </td><td class="diffpresent">nucliadb/reader/tests/test_reader_resource.py,sha256=hFP7WZYBqisGKY4iqNGJx1QlTR3HLHUhCAxRXF95DzA,11359</td><td class="diffline">98 </td><td class="diffpresent">nucliadb/reader/tests/test_reader_resource.py,sha256=hFP7WZYBqisGKY4iqNGJx1QlTR3HLHUhCAxRXF95DzA,11359</td></tr>
<tr class="diffunmodified"><td class="diffline">99 </td><td class="diffpresent">nucliadb/reader/tests/test_reader_resource_field.py,sha256=YQ-U2mEGhs_rPGxcWPZmWLSEoCxBo3AVDtLZCtZrGb8,6535</td><td class="diffline">99 </td><td class="diffpresent">nucliadb/reader/tests/test_reader_resource_field.py,sha256=YQ-U2mEGhs_rPGxcWPZmWLSEoCxBo3AVDtLZCtZrGb8,6535</td></tr>
<tr class="diffunmodified"><td class="diffline">100 </td><td class="diffpresent">nucliadb/search/__init__.py,sha256=fwzdF6p7p9uDCtE38gTUxrRVIdbEDVQTAXWUMVKgSBM,1535</td><td class="diffline">100 </td><td class="diffpresent">nucliadb/search/__init__.py,sha256=fwzdF6p7p9uDCtE38gTUxrRVIdbEDVQTAXWUMVKgSBM,1535</td></tr>
<tr class="diffchanged"><td class="diffline">101 </td><td class="diffpresent">nucliadb/search/app.py,sha256=3n<del>t</del>O<del>oDysXSqCJJ</del>W<del>6w</del><del>C9Uwl</del>S<del>dO</del>6<del>guRfypOt2</del>_<del>Ktp</del><del>cSF8</del>,<del>5326</del></td><td class="diffline">101 </td><td class="diffpresent">nucliadb/search/app.py,sha256=<ins>Ncgw</ins>3<ins>K</ins>n<ins>0</ins>O<ins>tmfbxd4vuy</ins>W<ins>DRdWp</ins>S<ins>h3</ins>6<ins>dEc9irReH</ins>_<ins>kQQg</ins>,<ins>4809</ins></td></tr>
<tr class="diffunmodified"><td class="diffline">102 </td><td class="diffpresent">nucliadb/search/chitchat.py,sha256=K2emuucKhI5MP5tGlBJfT-F2ChiEXTEz85deUrjgZJM,1848</td><td class="diffline">102 </td><td class="diffpresent">nucliadb/search/chitchat.py,sha256=K2emuucKhI5MP5tGlBJfT-F2ChiEXTEz85deUrjgZJM,1848</td></tr>
<tr class="diffchanged"><td class="diffline">103 </td><td class="diffpresent">nucliadb/search/lifecycle.py,sha256=<del>h3BOG3wQ5TMOeBovxygJca6_MRT2qmtJORJMgF6M5y4</del>,3<del>1</del>8<del>0</del></td><td class="diffline">103 </td><td class="diffpresent">nucliadb/search/lifecycle.py,sha256=<ins>QLpDCs6IE1O1H57cwKjaRw27mIlyQpdQpvlQWWXuxfE</ins>,3<ins>0</ins>8<ins>7</ins></td></tr>
<tr class="diffunmodified"><td class="diffline">104 </td><td class="diffpresent">nucliadb/search/openapi.py,sha256=VI3-DrfuX38IwRTC62QMs5mYe5v7v5KQ1BsiNT2sPH8,2206</td><td class="diffline">104 </td><td class="diffpresent">nucliadb/search/openapi.py,sha256=VI3-DrfuX38IwRTC62QMs5mYe5v7v5KQ1BsiNT2sPH8,2206</td></tr>
<tr class="diffunmodified"><td class="diffline">105 </td><td class="diffpresent">nucliadb/search/predict.py,sha256=z3g8UYD9gg1AlYtSa7NaM6GQsjEjx5H_gWAls1avw2c,8240</td><td class="diffline">105 </td><td class="diffpresent">nucliadb/search/predict.py,sha256=z3g8UYD9gg1AlYtSa7NaM6GQsjEjx5H_gWAls1avw2c,8240</td></tr>
<tr class="diffunmodified"><td class="diffline">106 </td><td class="diffpresent">nucliadb/search/run.py,sha256=a687h4JWXwYOkNPFbBzJYMS16Z0Wiu2mkikbL9ujoiA,1011</td><td class="diffline">106 </td><td class="diffpresent">nucliadb/search/run.py,sha256=a687h4JWXwYOkNPFbBzJYMS16Z0Wiu2mkikbL9ujoiA,1011</td></tr>
<tr class="diffunmodified"><td class="diffline">107 </td><td class="diffpresent">nucliadb/search/settings.py,sha256=Qk268YnWKOJxkTA0SM9BVw7aHHXdPPHv8WfzhE2VWIE,1162</td><td class="diffline">107 </td><td class="diffpresent">nucliadb/search/settings.py,sha256=Qk268YnWKOJxkTA0SM9BVw7aHHXdPPHv8WfzhE2VWIE,1162</td></tr>
<tr class="diffunmodified"><td class="diffline">108 </td><td class="diffpresent">nucliadb/search/utilities.py,sha256=tlh048ZoFv-pUSjePiE-f_9J4nEqsJstQmhwS6Ke7Yw,1238</td><td class="diffline">108 </td><td class="diffpresent">nucliadb/search/utilities.py,sha256=tlh048ZoFv-pUSjePiE-f_9J4nEqsJstQmhwS6Ke7Yw,1238</td></tr>
<tr class="diffunmodified"><td class="diffline">109 </td><td class="diffpresent">nucliadb/search/api/__init__.py,sha256=cp15ZcFnHvpcu_5-aK2A4uUyvuZVV_MJn4bIXMa20ks,835</td><td class="diffline">109 </td><td class="diffpresent">nucliadb/search/api/__init__.py,sha256=cp15ZcFnHvpcu_5-aK2A4uUyvuZVV_MJn4bIXMa20ks,835</td></tr>
<tr class="diffunmodified"><td class="diffline">110 </td><td class="diffpresent">nucliadb/search/api/v1/__init__.py,sha256=yljyGyrWNKsGuVewTnxB6CmDKGgdsu7dfkS67mZcUUA,1077</td><td class="diffline">110 </td><td class="diffpresent">nucliadb/search/api/v1/__init__.py,sha256=yljyGyrWNKsGuVewTnxB6CmDKGgdsu7dfkS67mZcUUA,1077</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 160, 26 lines modified</td><td colspan="2">Offset 160, 26 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">160 </td><td class="diffpresent">nucliadb/tests/test_vectorset.py,sha256=WrEAnCwN1LBF6_Hou-wpZPIa_xB20UGIxz6KyJzkmZI,8758</td><td class="diffline">160 </td><td class="diffpresent">nucliadb/tests/test_vectorset.py,sha256=WrEAnCwN1LBF6_Hou-wpZPIa_xB20UGIxz6KyJzkmZI,8758</td></tr>
<tr class="diffunmodified"><td class="diffline">161 </td><td class="diffpresent">nucliadb/tests/knowledgeboxes/__init__.py,sha256=u4paaCDL4YOUPUW5iZOzP72yMkdqTA_dMr6hRQEnf5k,919</td><td class="diffline">161 </td><td class="diffpresent">nucliadb/tests/knowledgeboxes/__init__.py,sha256=u4paaCDL4YOUPUW5iZOzP72yMkdqTA_dMr6hRQEnf5k,919</td></tr>
<tr class="diffunmodified"><td class="diffline">162 </td><td class="diffpresent">nucliadb/tests/knowledgeboxes/philosophy_books.py,sha256=vM9VT08CCCyVDKNS5-Rgx2ULnSdr7r1Z4Dk8sTIb0XE,7049</td><td class="diffline">162 </td><td class="diffpresent">nucliadb/tests/knowledgeboxes/philosophy_books.py,sha256=vM9VT08CCCyVDKNS5-Rgx2ULnSdr7r1Z4Dk8sTIb0XE,7049</td></tr>
<tr class="diffunmodified"><td class="diffline">163 </td><td class="diffpresent">nucliadb/tests/knowledgeboxes/ten_dummy_resources.py,sha256=yZwn6YVCm3EshQj2WoetWfuDEGDV3VMFXM9pTr443W4,3131</td><td class="diffline">163 </td><td class="diffpresent">nucliadb/tests/knowledgeboxes/ten_dummy_resources.py,sha256=yZwn6YVCm3EshQj2WoetWfuDEGDV3VMFXM9pTr443W4,3131</td></tr>
<tr class="diffunmodified"><td class="diffline">164 </td><td class="diffpresent">nucliadb/tests/utils/__init__.py,sha256=GXLlp1h9RKQF8He0gEGdKGIwTgn6SE5ilkQhZz807JU,2492</td><td class="diffline">164 </td><td class="diffpresent">nucliadb/tests/utils/__init__.py,sha256=GXLlp1h9RKQF8He0gEGdKGIwTgn6SE5ilkQhZz807JU,2492</td></tr>
<tr class="diffunmodified"><td class="diffline">165 </td><td class="diffpresent">nucliadb/tests/utils/entities.py,sha256=IPTHEsYY6tryoxZhpz3dpkklw0AQm4_shk0Osj8Bnwk,2533</td><td class="diffline">165 </td><td class="diffpresent">nucliadb/tests/utils/entities.py,sha256=IPTHEsYY6tryoxZhpz3dpkklw0AQm4_shk0Osj8Bnwk,2533</td></tr>
<tr class="diffunmodified"><td class="diffline">166 </td><td class="diffpresent">nucliadb/train/__init__.py,sha256=qdZ6DeuwED8iIl32NVyDYWTy544FyHCZUQnQGnms604,1325</td><td class="diffline">166 </td><td class="diffpresent">nucliadb/train/__init__.py,sha256=qdZ6DeuwED8iIl32NVyDYWTy544FyHCZUQnQGnms604,1325</td></tr>
<tr class="diffchanged"><td class="diffline">167 </td><td class="diffpresent">nucliadb/train/app.py,sha256=<del>Zj4KEVqDsSxkncl_qKciRDXdqGRdqiVKEjq2Z</del>J<del>u7znw</del>,<del>4104</del></td><td class="diffline">167 </td><td class="diffpresent">nucliadb/train/app.py,sha256=<ins>-IWzmfWxAXZ9VMRluYD2yG5cJa_gPeTkqphQC</ins>J<ins>7d9Sc</ins>,<ins>3587</ins></td></tr>
<tr class="diffunmodified"><td class="diffline">168 </td><td class="diffpresent">nucliadb/train/chitchat.py,sha256=VzVwlASRjnbNSegoI22QrMlPjvKatq_Eg9W8vPqtoFs,1846</td><td class="diffline">168 </td><td class="diffpresent">nucliadb/train/chitchat.py,sha256=VzVwlASRjnbNSegoI22QrMlPjvKatq_Eg9W8vPqtoFs,1846</td></tr>
<tr class="diffunmodified"><td class="diffline">169 </td><td class="diffpresent">nucliadb/train/generator.py,sha256=7zCKxjW5kqLN-YB_PWptGz6iz8tiR42ladpjEg1Sp7s,3836</td><td class="diffline">169 </td><td class="diffpresent">nucliadb/train/generator.py,sha256=7zCKxjW5kqLN-YB_PWptGz6iz8tiR42ladpjEg1Sp7s,3836</td></tr>
<tr class="diffchanged"><td class="diffline">170 </td><td class="diffpresent">nucliadb/train/lifecycle.py,sha256=<del>8OGBKJM70hIQ4eeI16SevDt97d4SvI9KzmL894d9k_k</del>,2<del>261</del></td><td class="diffline">170 </td><td class="diffpresent">nucliadb/train/lifecycle.py,sha256=<ins>moOC-8Fd2xaz6yLpTD2Lff2iS1wx9-Vh2YCrfOvNqmw</ins>,2<ins>012</ins></td></tr>
<tr class="diffunmodified"><td class="diffline">171 </td><td class="diffpresent">nucliadb/train/models.py,sha256=BmgmMjDsu_1Ih5JDAqo6whhume90q0ASJcDP9dkMQm8,1198</td><td class="diffline">171 </td><td class="diffpresent">nucliadb/train/models.py,sha256=BmgmMjDsu_1Ih5JDAqo6whhume90q0ASJcDP9dkMQm8,1198</td></tr>
<tr class="diffunmodified"><td class="diffline">172 </td><td class="diffpresent">nucliadb/train/nodes.py,sha256=IYGAbj6dmhOq49M4ozy5ztpxkbwMWKFDTY4IX_2nI9c,8043</td><td class="diffline">172 </td><td class="diffpresent">nucliadb/train/nodes.py,sha256=IYGAbj6dmhOq49M4ozy5ztpxkbwMWKFDTY4IX_2nI9c,8043</td></tr>
<tr class="diffunmodified"><td class="diffline">173 </td><td class="diffpresent">nucliadb/train/run.py,sha256=TQ1bXBjMgLHgc7wV7gN9p09HQQPT6oiO8jmsG3S2p38,1009</td><td class="diffline">173 </td><td class="diffpresent">nucliadb/train/run.py,sha256=TQ1bXBjMgLHgc7wV7gN9p09HQQPT6oiO8jmsG3S2p38,1009</td></tr>
<tr class="diffunmodified"><td class="diffline">174 </td><td class="diffpresent">nucliadb/train/servicer.py,sha256=eCWU3MBbdFzpevAvGmgVsWTU1eJ0jVmslkZeyn9tWzc,5755</td><td class="diffline">174 </td><td class="diffpresent">nucliadb/train/servicer.py,sha256=eCWU3MBbdFzpevAvGmgVsWTU1eJ0jVmslkZeyn9tWzc,5755</td></tr>
<tr class="diffunmodified"><td class="diffline">175 </td><td class="diffpresent">nucliadb/train/settings.py,sha256=JUcKRHpz1NumdMUS_z-c_2jOf0ro6xud9mV8L8-KiYU,1612</td><td class="diffline">175 </td><td class="diffpresent">nucliadb/train/settings.py,sha256=JUcKRHpz1NumdMUS_z-c_2jOf0ro6xud9mV8L8-KiYU,1612</td></tr>
<tr class="diffunmodified"><td class="diffline">176 </td><td class="diffpresent">nucliadb/train/upload.py,sha256=R5FGrwmle3QHX01LIw4kNnVmC2LhmDTY227P1boJj3Q,3600</td><td class="diffline">176 </td><td class="diffpresent">nucliadb/train/upload.py,sha256=R5FGrwmle3QHX01LIw4kNnVmC2LhmDTY227P1boJj3Q,3600</td></tr>
<tr class="diffunmodified"><td class="diffline">177 </td><td class="diffpresent">nucliadb/train/uploader.py,sha256=pipcnZ_b8GF-39j-Rgpk1Jy8W-XOPyKvdZk5iOLrs8I,6531</td><td class="diffline">177 </td><td class="diffpresent">nucliadb/train/uploader.py,sha256=pipcnZ_b8GF-39j-Rgpk1Jy8W-XOPyKvdZk5iOLrs8I,6531</td></tr>
<tr class="diffchanged"><td class="diffline">178 </td><td class="diffpresent">nucliadb/train/utils.py,sha256=<del>_tKikxMiFKFdNJ1JoIPuYbphzr2jwTmvbT</del>6<del>--</del>g<del>fUHs</del>4,3<del>285</del></td><td class="diffline">178 </td><td class="diffpresent">nucliadb/train/utils.py,sha256=<ins>xrqQr5BLHUf5rkNv2hKB7ebP1kkMnmxy29</ins>6<ins>g1</ins>g<ins>ETfH</ins>4,3<ins>077</ins></td></tr>
<tr class="diffunmodified"><td class="diffline">179 </td><td class="diffpresent">nucliadb/train/api/__init__.py,sha256=cp15ZcFnHvpcu_5-aK2A4uUyvuZVV_MJn4bIXMa20ks,835</td><td class="diffline">179 </td><td class="diffpresent">nucliadb/train/api/__init__.py,sha256=cp15ZcFnHvpcu_5-aK2A4uUyvuZVV_MJn4bIXMa20ks,835</td></tr>
<tr class="diffunmodified"><td class="diffline">180 </td><td class="diffpresent">nucliadb/train/api/models.py,sha256=YFKrXktdiE6yAa4TSHSYXzUZjADjssi4VHVn0Vf0m_0,958</td><td class="diffline">180 </td><td class="diffpresent">nucliadb/train/api/models.py,sha256=YFKrXktdiE6yAa4TSHSYXzUZjADjssi4VHVn0Vf0m_0,958</td></tr>
<tr class="diffunmodified"><td class="diffline">181 </td><td class="diffpresent">nucliadb/train/api/utils.py,sha256=zYbDiKJSsPP8tC7O2T8bfKkb_RTCxrq9JIcnLOSZixQ,1479</td><td class="diffline">181 </td><td class="diffpresent">nucliadb/train/api/utils.py,sha256=zYbDiKJSsPP8tC7O2T8bfKkb_RTCxrq9JIcnLOSZixQ,1479</td></tr>
<tr class="diffunmodified"><td class="diffline">182 </td><td class="diffpresent">nucliadb/train/api/v1/__init__.py,sha256=P4vCIv93r_Cq1WFDDNjy_Wg7zBkzx0S4euXwfPy1LA4,928</td><td class="diffline">182 </td><td class="diffpresent">nucliadb/train/api/v1/__init__.py,sha256=P4vCIv93r_Cq1WFDDNjy_Wg7zBkzx0S4euXwfPy1LA4,928</td></tr>
<tr class="diffunmodified"><td class="diffline">183 </td><td class="diffpresent">nucliadb/train/api/v1/check.py,sha256=r1r4r8KiF7CZs-cEiWZQ-ZlvV4hRmqySjMRjmW82wk0,2066</td><td class="diffline">183 </td><td class="diffpresent">nucliadb/train/api/v1/check.py,sha256=r1r4r8KiF7CZs-cEiWZQ-ZlvV4hRmqySjMRjmW82wk0,2066</td></tr>
<tr class="diffunmodified"><td class="diffline">184 </td><td class="diffpresent">nucliadb/train/api/v1/router.py,sha256=ukdxn5q1oMar6NSPobgJczWsSxLCHw6DYKlb3zwCiSo,910</td><td class="diffline">184 </td><td class="diffpresent">nucliadb/train/api/v1/router.py,sha256=ukdxn5q1oMar6NSPobgJczWsSxLCHw6DYKlb3zwCiSo,910</td></tr>
<tr class="diffunmodified"><td class="diffline">185 </td><td class="diffpresent">nucliadb/train/api/v1/shards.py,sha256=EDV7fJkF-Elzpt0MSm-KxagzpAYks64Fr9NGW1vFdpM,1905</td><td class="diffline">185 </td><td class="diffpresent">nucliadb/train/api/v1/shards.py,sha256=EDV7fJkF-Elzpt0MSm-KxagzpAYks64Fr9NGW1vFdpM,1905</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 202, 17 lines modified</td><td colspan="2">Offset 202, 17 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">202 </td><td class="diffpresent">nucliadb/train/tests/test_list_paragraphs.py,sha256=fvDh-vvgTj-XonTS8t9CDq0eDGgNl8iWw3E9OBmGK7c,2944</td><td class="diffline">202 </td><td class="diffpresent">nucliadb/train/tests/test_list_paragraphs.py,sha256=fvDh-vvgTj-XonTS8t9CDq0eDGgNl8iWw3E9OBmGK7c,2944</td></tr>
<tr class="diffunmodified"><td class="diffline">203 </td><td class="diffpresent">nucliadb/train/tests/test_list_resources.py,sha256=QkrsRzRHAWHyJHEtSsrr0xOtrALtiUasSvoPHcjHsCc,1423</td><td class="diffline">203 </td><td class="diffpresent">nucliadb/train/tests/test_list_resources.py,sha256=QkrsRzRHAWHyJHEtSsrr0xOtrALtiUasSvoPHcjHsCc,1423</td></tr>
<tr class="diffunmodified"><td class="diffline">204 </td><td class="diffpresent">nucliadb/train/tests/test_list_sentences.py,sha256=YqofeZgXeUX4KJVOJiaiU1mx2G5qhkAIMa_FXrSxJck,2863</td><td class="diffline">204 </td><td class="diffpresent">nucliadb/train/tests/test_list_sentences.py,sha256=YqofeZgXeUX4KJVOJiaiU1mx2G5qhkAIMa_FXrSxJck,2863</td></tr>
<tr class="diffunmodified"><td class="diffline">205 </td><td class="diffpresent">nucliadb/train/tests/test_paragraph_classification.py,sha256=uj5KSsZCYXlrTOT-gUpFypcsGpVR3cNiXhF2nyhiHX0,8129</td><td class="diffline">205 </td><td class="diffpresent">nucliadb/train/tests/test_paragraph_classification.py,sha256=uj5KSsZCYXlrTOT-gUpFypcsGpVR3cNiXhF2nyhiHX0,8129</td></tr>
<tr class="diffunmodified"><td class="diffline">206 </td><td class="diffpresent">nucliadb/train/tests/test_sentence_classification.py,sha256=Pj5qW4orGk3x_D48S-DmWLsYSEaSOzq7uZexvfVxiFg,8349</td><td class="diffline">206 </td><td class="diffpresent">nucliadb/train/tests/test_sentence_classification.py,sha256=Pj5qW4orGk3x_D48S-DmWLsYSEaSOzq7uZexvfVxiFg,8349</td></tr>
<tr class="diffunmodified"><td class="diffline">207 </td><td class="diffpresent">nucliadb/train/tests/test_token_classification.py,sha256=yGsIWuHxp49WynzKAeLTxkoG-Z0TEiReqoPlITQeCHU,10122</td><td class="diffline">207 </td><td class="diffpresent">nucliadb/train/tests/test_token_classification.py,sha256=yGsIWuHxp49WynzKAeLTxkoG-Z0TEiReqoPlITQeCHU,10122</td></tr>
<tr class="diffunmodified"><td class="diffline">208 </td><td class="diffpresent">nucliadb/writer/__init__.py,sha256=HkfMuQR3CbbPU3g-A85Ibt8iwSTTADhLc0-pi3F3hvk,1328</td><td class="diffline">208 </td><td class="diffpresent">nucliadb/writer/__init__.py,sha256=HkfMuQR3CbbPU3g-A85Ibt8iwSTTADhLc0-pi3F3hvk,1328</td></tr>
<tr class="diffchanged"><td class="diffline">209 </td><td class="diffpresent">nucliadb/writer/app.py,sha256=<del>FhiObmuq6D4Dx_0k9UW-Bs3MVz0TLVP5ZErM5me9avI</del>,<del>4095</del></td><td class="diffline">209 </td><td class="diffpresent">nucliadb/writer/app.py,sha256=<ins>kmnWWVhfN_oe3lWRpDQhd4hkobeKm-bQxjyn6lG_NAk</ins>,<ins>3578</ins></td></tr>
<tr class="diffunmodified"><td class="diffline">210 </td><td class="diffpresent">nucliadb/writer/exceptions.py,sha256=2dMvuoF68v3BZuyzaBEsbG6gusQqwLFcn47qm1zNdTc,972</td><td class="diffline">210 </td><td class="diffpresent">nucliadb/writer/exceptions.py,sha256=2dMvuoF68v3BZuyzaBEsbG6gusQqwLFcn47qm1zNdTc,972</td></tr>
<tr class="diffchanged"><td class="diffline">211 </td><td class="diffpresent">nucliadb/writer/lifecycle.py,sha256=<del>9q-CGmgUaHaRZeR_YULt-va6mA1z_ZLMwaoSv4AU</del>A<del>2w</del>,3<del>959</del></td><td class="diffline">211 </td><td class="diffpresent">nucliadb/writer/lifecycle.py,sha256=<ins>uoYf2XXAOpCTWHm5mWgc3tejXX-9i8NPRCR0WaeL</ins>A<ins>4M</ins>,3<ins>865</ins></td></tr>
<tr class="diffunmodified"><td class="diffline">212 </td><td class="diffpresent">nucliadb/writer/openapi.py,sha256=bpH-pzxdDRb9Dy0OcaB1U0ziuvIG416akVr-Dwz3ywM,2186</td><td class="diffline">212 </td><td class="diffpresent">nucliadb/writer/openapi.py,sha256=bpH-pzxdDRb9Dy0OcaB1U0ziuvIG416akVr-Dwz3ywM,2186</td></tr>
<tr class="error"><td colspan="4">
Max diff block lines reached; 2143/14309 bytes (14.98%) of diff not shown.
</td></tr></table>  </div>
</div>
<div class="footer">
Generated by
<a href="https://diffoscope.org" rel="noopener noreferrer" target="_blank">
diffoscope</a> 238
</div>
</body>
</html>

