--- tmp/halig-0.1.7.tar.gz
+++ tmp/halig-0.1.8.tar.gz
├── filetype from file(1)
│ @@ -1 +1 @@
│ -gzip compressed data, was "halig-0.1.7.tar", last modified: Tue Apr  4 12:52:37 2023, max compression
│ +gzip compressed data, was "halig-0.1.8.tar", last modified: Thu Apr  6 15:38:12 2023, max compression
│   --- halig-0.1.7.tar
├── +++ halig-0.1.8.tar
│ ├── file list
│ │ @@ -1,23 +1,26 @@
│ │ --rw-r--r--   0        0        0    34670 2023-03-31 07:27:12.162734 halig-0.1.7/LICENSE
│ │ --rw-r--r--   0        0        0     1306 2023-04-04 12:48:47.830417 halig-0.1.7/README.md
│ │ --rw-r--r--   0        0        0        0 2023-04-04 12:01:02.993899 halig-0.1.7/halig/__init__.py
│ │ --rw-r--r--   0        0        0        0 2023-03-31 15:57:58.424915 halig-0.1.7/halig/commands/__init__.py
│ │ --rw-r--r--   0        0        0      292 2023-04-03 10:08:17.490684 halig-0.1.7/halig/commands/base.py
│ │ --rw-r--r--   0        0        0     2767 2023-04-03 09:44:52.171380 halig-0.1.7/halig/commands/edit.py
│ │ --rw-r--r--   0        0        0     1076 2023-04-03 10:06:57.010967 halig-0.1.7/halig/commands/notebooks.py
│ │ --rw-r--r--   0        0        0     1199 2023-04-03 10:06:57.006967 halig-0.1.7/halig/commands/show.py
│ │ --rw-r--r--   0        0        0     1284 2023-04-01 10:09:18.788569 halig-0.1.7/halig/encryption.py
│ │ --rw-r--r--   0        0        0     2478 2023-04-04 12:23:17.900715 halig-0.1.7/halig/main.py
│ │ --rw-r--r--   0        0        0     1114 2023-03-31 15:59:20.788724 halig-0.1.7/halig/settings.py
│ │ --rw-r--r--   0        0        0      122 2023-04-03 08:32:14.235215 halig-0.1.7/halig/utils.py
│ │ --rw-r--r--   0        0        0     2467 2023-04-04 12:52:37.989689 halig-0.1.7/pyproject.toml
│ │ --rw-r--r--   0        0        0        0 2023-03-31 07:27:12.166734 halig-0.1.7/tests/__init__.py
│ │ --rw-r--r--   0        0        0        0 2023-04-01 10:11:11.307829 halig-0.1.7/tests/commands/__init__.py
│ │ --rw-r--r--   0        0        0     1645 2023-04-04 12:11:25.943270 halig-0.1.7/tests/commands/conftest.py
│ │ --rw-r--r--   0        0        0     1168 2023-04-04 12:11:25.939270 halig-0.1.7/tests/commands/test_edit.py
│ │ --rw-r--r--   0        0        0     1563 2023-04-03 08:07:50.529804 halig-0.1.7/tests/commands/test_notebooks.py
│ │ --rw-r--r--   0        0        0     1141 2023-04-04 12:11:25.935270 halig-0.1.7/tests/commands/test_show.py
│ │ --rw-r--r--   0        0        0     2820 2023-04-04 12:11:25.959270 halig-0.1.7/tests/conftest.py
│ │ --rw-r--r--   0        0        0     1784 2023-03-31 15:58:50.044795 halig-0.1.7/tests/test_encryption.py
│ │ --rw-r--r--   0        0        0     1541 2023-03-31 15:58:50.044795 halig-0.1.7/tests/test_settings.py
│ │ --rw-r--r--   0        0        0     3270 1970-01-01 00:00:00.000000 halig-0.1.7/PKG-INFO
│ │ +-rw-r--r--   0        0        0    34670 2023-03-31 07:27:12.162734 halig-0.1.8/LICENSE
│ │ +-rw-r--r--   0        0        0     1248 2023-04-06 15:13:32.030268 halig-0.1.8/README.md
│ │ +-rw-r--r--   0        0        0        0 2023-04-04 12:01:02.993899 halig-0.1.8/halig/__init__.py
│ │ +-rw-r--r--   0        0        0       22 2023-04-06 15:36:09.269377 halig-0.1.8/halig/__version__.py
│ │ +-rw-r--r--   0        0        0        0 2023-03-31 15:57:58.424915 halig-0.1.8/halig/commands/__init__.py
│ │ +-rw-r--r--   0        0        0      292 2023-04-03 10:08:17.490684 halig-0.1.8/halig/commands/base.py
│ │ +-rw-r--r--   0        0        0     2767 2023-04-03 09:44:52.171380 halig-0.1.8/halig/commands/edit.py
│ │ +-rw-r--r--   0        0        0     1076 2023-04-03 10:06:57.010967 halig-0.1.8/halig/commands/notebooks.py
│ │ +-rw-r--r--   0        0        0     1199 2023-04-03 10:06:57.006967 halig-0.1.8/halig/commands/show.py
│ │ +-rw-r--r--   0        0        0     1391 2023-04-04 15:42:27.181944 halig-0.1.8/halig/encryption.py
│ │ +-rw-r--r--   0        0        0     1354 2023-04-06 15:36:28.509315 halig-0.1.8/halig/literals.py
│ │ +-rw-r--r--   0        0        0     1973 2023-04-06 15:36:09.253377 halig-0.1.8/halig/main.py
│ │ +-rw-r--r--   0        0        0     1855 2023-04-05 12:05:04.488420 halig-0.1.8/halig/settings.py
│ │ +-rw-r--r--   0        0        0      733 2023-04-06 15:16:31.893718 halig-0.1.8/halig/utils.py
│ │ +-rw-r--r--   0        0        0     2623 2023-04-06 15:38:12.012982 halig-0.1.8/pyproject.toml
│ │ +-rw-r--r--   0        0        0        0 2023-03-31 07:27:12.166734 halig-0.1.8/tests/__init__.py
│ │ +-rw-r--r--   0        0        0        0 2023-04-01 10:11:11.307829 halig-0.1.8/tests/commands/__init__.py
│ │ +-rw-r--r--   0        0        0     1645 2023-04-04 12:11:25.943270 halig-0.1.8/tests/commands/conftest.py
│ │ +-rw-r--r--   0        0        0     1168 2023-04-04 12:11:25.939270 halig-0.1.8/tests/commands/test_edit.py
│ │ +-rw-r--r--   0        0        0     1563 2023-04-03 08:07:50.529804 halig-0.1.8/tests/commands/test_notebooks.py
│ │ +-rw-r--r--   0        0        0     1141 2023-04-04 12:11:25.935270 halig-0.1.8/tests/commands/test_show.py
│ │ +-rw-r--r--   0        0        0     2820 2023-04-04 12:11:25.959270 halig-0.1.8/tests/conftest.py
│ │ +-rw-r--r--   0        0        0     1784 2023-03-31 15:58:50.044795 halig-0.1.8/tests/test_encryption.py
│ │ +-rw-r--r--   0        0        0     1541 2023-03-31 15:58:50.044795 halig-0.1.8/tests/test_settings.py
│ │ +-rw-r--r--   0        0        0     1482 2023-04-06 15:29:55.766728 halig-0.1.8/tests/test_utils.py
│ │ +-rw-r--r--   0        0        0     3349 1970-01-01 00:00:00.000000 halig-0.1.8/PKG-INFO
│ │   --- halig-0.1.7/LICENSE
│ ├── +++ halig-0.1.8/LICENSE
│ │┄ Files identical despite different names
│ │   --- halig-0.1.7/README.md
│ ├── +++ halig-0.1.8/README.md
│ │┄ Files 14% similar despite different names
│ │ @@ -10,18 +10,17 @@
│ │  `halig` opens, using your favorite `$EDITOR`, an in-memory copy of a file and upon save-and-exit,
│ │  it encrypts the new contents into an [age](https://github.com/FiloSottile/age) file that
│ │  you can store, _relatively_ safe, anywhere.
│ │  
│ │  ## Install
│ │  
│ │  ```shell
│ │ -pip install halig
│ │ +pipx install halig # or pip
│ │  ```
│ │  
│ │ -PS: I recommend using [pipx](https://pypa.github.io/pipx/) instead
│ │  
│ │  ## Setup TLDR
│ │  
│ │  ```shell
│ │  set -e
│ │  ssh-keygen -t ed25519
│ │  mkdir -p "${XDG_CONFIG_HOME:-$HOME/.config}/halig"
│ │ @@ -35,9 +34,8 @@
│ │  
│ │  ## Usage TLDR
│ │  
│ │  ```shell
│ │  halig edit some_notebook     # edit today's note relative to <notebooks_root_path>/some_notebook
│ │  halig edit some_notebook/foo # edit  <notebooks_root_path>/some_notebook/foo.age
│ │  halig notebooks              # list current notebooks
│ │ -
│ │  ```
│ │   --- halig-0.1.7/halig/commands/edit.py
│ ├── +++ halig-0.1.8/halig/commands/edit.py
│ │┄ Files identical despite different names
│ │   --- halig-0.1.7/halig/commands/notebooks.py
│ ├── +++ halig-0.1.8/halig/commands/notebooks.py
│ │┄ Files identical despite different names
│ │   --- halig-0.1.7/halig/commands/show.py
│ ├── +++ halig-0.1.8/halig/commands/show.py
│ │┄ Files identical despite different names
│ │   --- halig-0.1.7/halig/encryption.py
│ ├── +++ halig-0.1.8/halig/encryption.py
│ │┄ Files 12% similar despite different names
│ │ @@ -2,14 +2,20 @@
│ │  from pyrage import encrypt as rage_encrypt
│ │  from pyrage import ssh, x25519
│ │  
│ │  from halig.settings import Settings
│ │  
│ │  
│ │  class Encryptor:
│ │ +    """Encryption utility class
│ │ +
│ │ +    Attributes:
│ │ +        settings (Settings): a Settings instance
│ │ +    """
│ │ +
│ │      def __init__(self, settings: Settings):
│ │          self.settings = settings
│ │  
│ │          # load identity
│ │          with settings.identity_path.open("r") as f:
│ │              identity_contents = f.read()
│ │          if identity_contents.startswith("-----BEGIN OPENSSH PRIVATE KEY-----"):
│ │   --- halig-0.1.7/halig/settings.py
│ ├── +++ halig-0.1.8/halig/settings.py
│ │┄ Files 17% similar despite different names
│ │ @@ -1,17 +1,30 @@
│ │  import os
│ │  from functools import lru_cache
│ │  from pathlib import Path
│ │  
│ │  import yaml
│ │ -from pydantic import BaseSettings, FilePath
│ │ +from pydantic import BaseSettings, DirectoryPath, FilePath
│ │  
│ │  
│ │  class Settings(BaseSettings):
│ │ -    notebooks_root_path: Path
│ │ +    """Settings model. It mainly stores paths that are interesting to the project.
│ │ +     All the path-attributes described below have a validity check upon instantiation,
│ │ +     meaning that they should exist and be readable and/or writable
│ │ +
│ │ +    Attributes:
│ │ +        notebooks_root_path (DirectoryPath): a *valid* path to a directory that
│ │ +            may contain notes or other notebooks
│ │ +        identity_path (FilePath): a *valid* path to an identity file, which usually
│ │ +            is understood as a private key. Defaults to `~/.ssh/id_ed25519`
│ │ +        recipient_path (FilePath): a *valid* path to a recipient file, which usually
│ │ +            is understood as a public key. Defaults to `~/.ssh/id_ed25519.pub`
│ │ +    """
│ │ +
│ │ +    notebooks_root_path: DirectoryPath
│ │      identity_path: FilePath = Path("~/.ssh/id_ed25519").expanduser()
│ │      recipient_path: FilePath = Path("~/.ssh/id_ed25519.pub").expanduser()
│ │  
│ │      class Config:
│ │          env_prefix = "halig_"
│ │   --- halig-0.1.7/pyproject.toml
│ ├── +++ halig-0.1.8/pyproject.toml
│ │┄ Files 6% similar despite different names
│ │ @@ -8,15 +8,15 @@
│ │      "rich>=13.3.3",
│ │      "pydantic>=1.10.7",
│ │      "pyyaml>=6.0",
│ │      "pyrage>=1.0.3",
│ │      "pendulum>=2.1.2",
│ │  ]
│ │  name = "halig"
│ │ -version = "0.1.7"
│ │ +dynamic = []
│ │  description = "age-encrypted, file-based, note-taking CLI app"
│ │  readme = "README.md"
│ │  keywords = [
│ │      "cli",
│ │      "notes",
│ │      "age",
│ │      "rage",
│ │ @@ -31,14 +31,15 @@
│ │      "Operating System :: POSIX :: Linux",
│ │      "Programming Language :: Python :: 3.10",
│ │      "Programming Language :: Python :: 3.11",
│ │      "Topic :: Terminals",
│ │      "Topic :: Utilities",
│ │      "Typing :: Typed",
│ │  ]
│ │ +version = "0.1.8"
│ │  
│ │  [project.license]
│ │  text = "GPL-3.0-or-later"
│ │  
│ │  [project.urls]
│ │  Homepage = "https://git.roboces.dev/catalin/halig"
│ │  Repository = "https://git.roboces.dev/catalin/halig"
│ │ @@ -63,14 +64,22 @@
│ │  linting = [
│ │      "black>=23.3.0",
│ │      "ruff>=0.0.260",
│ │      "pyright>=1.1.301",
│ │      "mypy>=1.1.1",
│ │      "types-PyYAML>=6.0.12.9",
│ │  ]
│ │ +docs = [
│ │ +    "mkdocs-material>=9.1.5",
│ │ +    "mkdocstrings[python]>=0.20.0",
│ │ +]
│ │ +
│ │ +[tool.pdm.version]
│ │ +source = "file"
│ │ +path = "halig/__version__.py"
│ │  
│ │  [tool.pdm.build]
│ │  excludes = [
│ │      "**/.pytest_cache/**",
│ │  ]
│ │  includes = []
│ │   --- halig-0.1.7/tests/commands/conftest.py
│ ├── +++ halig-0.1.8/tests/commands/conftest.py
│ │┄ Files identical despite different names
│ │   --- halig-0.1.7/tests/commands/test_edit.py
│ ├── +++ halig-0.1.8/tests/commands/test_edit.py
│ │┄ Files identical despite different names
│ │   --- halig-0.1.7/tests/commands/test_notebooks.py
│ ├── +++ halig-0.1.8/tests/commands/test_notebooks.py
│ │┄ Files identical despite different names
│ │   --- halig-0.1.7/tests/commands/test_show.py
│ ├── +++ halig-0.1.8/tests/commands/test_show.py
│ │┄ Files identical despite different names
│ │   --- halig-0.1.7/tests/conftest.py
│ ├── +++ halig-0.1.8/tests/conftest.py
│ │┄ Files identical despite different names
│ │   --- halig-0.1.7/tests/test_encryption.py
│ ├── +++ halig-0.1.8/tests/test_encryption.py
│ │┄ Files identical despite different names
│ │   --- halig-0.1.7/tests/test_settings.py
│ ├── +++ halig-0.1.8/tests/test_settings.py
│ │┄ Files identical despite different names
│ │   --- halig-0.1.7/PKG-INFO
│ ├── +++ halig-0.1.8/PKG-INFO
│ │┄ Files 4% similar despite different names
│ │ @@ -1,10 +1,10 @@
│ │  Metadata-Version: 2.1
│ │  Name: halig
│ │ -Version: 0.1.7
│ │ +Version: 0.1.8
│ │  Summary: age-encrypted, file-based, note-taking CLI app
│ │  Keywords: cli notes age rage encryption notebook
│ │  Author-Email: cătălin <185504a9@duck.com>
│ │  License: GPL-3.0-or-later
│ │  Classifier: Development Status :: 4 - Beta
│ │  Classifier: Environment :: Console
│ │  Classifier: License :: OSI Approved :: GNU General Public License v3 or later (GPLv3+)
│ │ @@ -36,16 +36,19 @@
│ │  Requires-Dist: pytest-mock>=3.10.0; extra == "testing"
│ │  Requires-Dist: mock>=5.0.1; extra == "testing"
│ │  Requires-Dist: black>=23.3.0; extra == "linting"
│ │  Requires-Dist: ruff>=0.0.260; extra == "linting"
│ │  Requires-Dist: pyright>=1.1.301; extra == "linting"
│ │  Requires-Dist: mypy>=1.1.1; extra == "linting"
│ │  Requires-Dist: types-PyYAML>=6.0.12.9; extra == "linting"
│ │ +Requires-Dist: mkdocs-material>=9.1.5; extra == "docs"
│ │ +Requires-Dist: mkdocstrings[python]>=0.20.0; extra == "docs"
│ │  Provides-Extra: testing
│ │  Provides-Extra: linting
│ │ +Provides-Extra: docs
│ │  Description-Content-Type: text/markdown
│ │  
│ │  # halig
│ │  
│ │  ![PyPI](https://img.shields.io/pypi/v/halig?logo=python)
│ │  ![PyPI - License](https://img.shields.io/pypi/l/halig)
│ │  ![PyPI - Python Version](https://img.shields.io/pypi/pyversions/halig)
│ │ @@ -56,18 +59,17 @@
│ │  `halig` opens, using your favorite `$EDITOR`, an in-memory copy of a file and upon save-and-exit,
│ │  it encrypts the new contents into an [age](https://github.com/FiloSottile/age) file that
│ │  you can store, _relatively_ safe, anywhere.
│ │  
│ │  ## Install
│ │  
│ │  ```shell
│ │ -pip install halig
│ │ +pipx install halig # or pip
│ │  ```
│ │  
│ │ -PS: I recommend using [pipx](https://pypa.github.io/pipx/) instead
│ │  
│ │  ## Setup TLDR
│ │  
│ │  ```shell
│ │  set -e
│ │  ssh-keygen -t ed25519
│ │  mkdir -p "${XDG_CONFIG_HOME:-$HOME/.config}/halig"
│ │ @@ -81,9 +83,8 @@
│ │  
│ │  ## Usage TLDR
│ │  
│ │  ```shell
│ │  halig edit some_notebook     # edit today's note relative to <notebooks_root_path>/some_notebook
│ │  halig edit some_notebook/foo # edit  <notebooks_root_path>/some_notebook/foo.age
│ │  halig notebooks              # list current notebooks
│ │ -
│ │  ```
