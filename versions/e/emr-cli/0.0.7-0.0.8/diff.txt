--- tmp/emr_cli-0.0.7.tar.gz
+++ tmp/emr_cli-0.0.8.tar.gz
â”œâ”€â”€ filetype from file(1)
â”‚ @@ -1 +1 @@
â”‚ -gzip compressed data, was "emr_cli-0.0.7.tar", max compression
â”‚ +gzip compressed data, was "emr_cli-0.0.8.tar", max compression
â”‚   --- emr_cli-0.0.7.tar
â”œâ”€â”€ +++ emr_cli-0.0.8.tar
â”‚ â”œâ”€â”€ file list
â”‚ â”‚ @@ -1,23 +1,23 @@
â”‚ â”‚ --rw-r--r--   0        0        0    10173 2023-03-31 22:59:51.144074 emr_cli-0.0.7/LICENSE
â”‚ â”‚ --rw-r--r--   0        0        0     4755 2023-03-31 22:59:51.144074 emr_cli-0.0.7/README.md
â”‚ â”‚ --rw-r--r--   0        0        0      593 2023-03-31 23:00:11.475900 emr_cli-0.0.7/pyproject.toml
â”‚ â”‚ --rw-r--r--   0        0        0      976 2023-03-31 22:59:51.144074 emr_cli-0.0.7/src/emr_cli/config.py
â”‚ â”‚ --rw-r--r--   0        0        0     1286 2023-03-31 22:59:51.144074 emr_cli-0.0.7/src/emr_cli/deployments/__init__.py
â”‚ â”‚ --rw-r--r--   0        0        0     2474 2023-03-31 22:59:51.144074 emr_cli-0.0.7/src/emr_cli/deployments/emr_ec2.py
â”‚ â”‚ --rw-r--r--   0        0        0    10637 2023-03-31 22:59:51.144074 emr_cli-0.0.7/src/emr_cli/deployments/emr_serverless.py
â”‚ â”‚ --rw-r--r--   0        0        0     6732 2023-03-31 22:59:51.144074 emr_cli-0.0.7/src/emr_cli/emr_cli.py
â”‚ â”‚ --rw-r--r--   0        0        0     1564 2023-03-31 22:59:51.144074 emr_cli-0.0.7/src/emr_cli/packaging/detector.py
â”‚ â”‚ --rw-r--r--   0        0        0     1905 2023-03-31 22:59:51.144074 emr_cli-0.0.7/src/emr_cli/packaging/python_files_project.py
â”‚ â”‚ --rw-r--r--   0        0        0     3877 2023-03-31 22:59:51.144074 emr_cli-0.0.7/src/emr_cli/packaging/python_poetry_project.py
â”‚ â”‚ --rw-r--r--   0        0        0     3704 2023-03-31 22:59:51.144074 emr_cli-0.0.7/src/emr_cli/packaging/python_project.py
â”‚ â”‚ --rw-r--r--   0        0        0      856 2023-03-31 22:59:51.144074 emr_cli-0.0.7/src/emr_cli/packaging/simple_project.py
â”‚ â”‚ --rw-r--r--   0        0        0     1101 2023-03-31 22:59:51.144074 emr_cli-0.0.7/src/emr_cli/templates/poetry/README.md
â”‚ â”‚ --rw-r--r--   0        0        0      413 2023-03-31 22:59:51.144074 emr_cli-0.0.7/src/emr_cli/templates/poetry/pyproject.toml
â”‚ â”‚ --rw-r--r--   0        0        0        6 2023-03-31 22:59:51.144074 emr_cli-0.0.7/src/emr_cli/templates/pyspark/.dockerignore
â”‚ â”‚ --rw-r--r--   0        0        0       12 2023-03-31 22:59:51.144074 emr_cli-0.0.7/src/emr_cli/templates/pyspark/.gitignore
â”‚ â”‚ --rw-r--r--   0        0        0     2680 2023-03-31 22:59:51.144074 emr_cli-0.0.7/src/emr_cli/templates/pyspark/Dockerfile
â”‚ â”‚ --rw-r--r--   0        0        0      458 2023-03-31 22:59:51.144074 emr_cli-0.0.7/src/emr_cli/templates/pyspark/entrypoint.py
â”‚ â”‚ --rw-r--r--   0        0        0     3369 2023-03-31 22:59:51.144074 emr_cli-0.0.7/src/emr_cli/templates/pyspark/jobs/extreme_weather.py
â”‚ â”‚ --rw-r--r--   0        0        0      175 2023-03-31 22:59:51.144074 emr_cli-0.0.7/src/emr_cli/templates/pyspark/pyproject.toml
â”‚ â”‚ --rw-r--r--   0        0        0     2619 2023-03-31 22:59:51.144074 emr_cli-0.0.7/src/emr_cli/utils/__init__.py
â”‚ â”‚ --rw-r--r--   0        0        0     5543 1970-01-01 00:00:00.000000 emr_cli-0.0.7/PKG-INFO
â”‚ â”‚ +-rw-r--r--   0        0        0    10173 2023-04-06 23:53:41.013939 emr_cli-0.0.8/LICENSE
â”‚ â”‚ +-rw-r--r--   0        0        0     4755 2023-04-06 23:53:41.013939 emr_cli-0.0.8/README.md
â”‚ â”‚ +-rw-r--r--   0        0        0      593 2023-04-06 23:53:59.558425 emr_cli-0.0.8/pyproject.toml
â”‚ â”‚ +-rw-r--r--   0        0        0      976 2023-04-06 23:53:41.013939 emr_cli-0.0.8/src/emr_cli/config.py
â”‚ â”‚ +-rw-r--r--   0        0        0     1286 2023-04-06 23:53:41.013939 emr_cli-0.0.8/src/emr_cli/deployments/__init__.py
â”‚ â”‚ +-rw-r--r--   0        0        0     5650 2023-04-06 23:53:41.017939 emr_cli-0.0.8/src/emr_cli/deployments/emr_ec2.py
â”‚ â”‚ +-rw-r--r--   0        0        0    10964 2023-04-06 23:53:41.017939 emr_cli-0.0.8/src/emr_cli/deployments/emr_serverless.py
â”‚ â”‚ +-rw-r--r--   0        0        0     6940 2023-04-06 23:53:41.017939 emr_cli-0.0.8/src/emr_cli/emr_cli.py
â”‚ â”‚ +-rw-r--r--   0        0        0     1564 2023-04-06 23:53:41.017939 emr_cli-0.0.8/src/emr_cli/packaging/detector.py
â”‚ â”‚ +-rw-r--r--   0        0        0     1905 2023-04-06 23:53:41.017939 emr_cli-0.0.8/src/emr_cli/packaging/python_files_project.py
â”‚ â”‚ +-rw-r--r--   0        0        0     3877 2023-04-06 23:53:41.017939 emr_cli-0.0.8/src/emr_cli/packaging/python_poetry_project.py
â”‚ â”‚ +-rw-r--r--   0        0        0     3704 2023-04-06 23:53:41.017939 emr_cli-0.0.8/src/emr_cli/packaging/python_project.py
â”‚ â”‚ +-rw-r--r--   0        0        0      856 2023-04-06 23:53:41.017939 emr_cli-0.0.8/src/emr_cli/packaging/simple_project.py
â”‚ â”‚ +-rw-r--r--   0        0        0     1101 2023-04-06 23:53:41.017939 emr_cli-0.0.8/src/emr_cli/templates/poetry/README.md
â”‚ â”‚ +-rw-r--r--   0        0        0      413 2023-04-06 23:53:41.017939 emr_cli-0.0.8/src/emr_cli/templates/poetry/pyproject.toml
â”‚ â”‚ +-rw-r--r--   0        0        0        6 2023-04-06 23:53:41.017939 emr_cli-0.0.8/src/emr_cli/templates/pyspark/.dockerignore
â”‚ â”‚ +-rw-r--r--   0        0        0       12 2023-04-06 23:53:41.017939 emr_cli-0.0.8/src/emr_cli/templates/pyspark/.gitignore
â”‚ â”‚ +-rw-r--r--   0        0        0     2680 2023-04-06 23:53:41.017939 emr_cli-0.0.8/src/emr_cli/templates/pyspark/Dockerfile
â”‚ â”‚ +-rw-r--r--   0        0        0      458 2023-04-06 23:53:41.017939 emr_cli-0.0.8/src/emr_cli/templates/pyspark/entrypoint.py
â”‚ â”‚ +-rw-r--r--   0        0        0     3369 2023-04-06 23:53:41.017939 emr_cli-0.0.8/src/emr_cli/templates/pyspark/jobs/extreme_weather.py
â”‚ â”‚ +-rw-r--r--   0        0        0      175 2023-04-06 23:53:41.017939 emr_cli-0.0.8/src/emr_cli/templates/pyspark/pyproject.toml
â”‚ â”‚ +-rw-r--r--   0        0        0     2619 2023-04-06 23:53:41.017939 emr_cli-0.0.8/src/emr_cli/utils/__init__.py
â”‚ â”‚ +-rw-r--r--   0        0        0     5543 1970-01-01 00:00:00.000000 emr_cli-0.0.8/PKG-INFO
â”‚ â”‚   --- emr_cli-0.0.7/LICENSE
â”‚ â”œâ”€â”€ +++ emr_cli-0.0.8/LICENSE
â”‚ â”‚â”„ Files identical despite different names
â”‚ â”‚   --- emr_cli-0.0.7/README.md
â”‚ â”œâ”€â”€ +++ emr_cli-0.0.8/README.md
â”‚ â”‚â”„ Files identical despite different names
â”‚ â”‚   --- emr_cli-0.0.7/pyproject.toml
â”‚ â”œâ”€â”€ +++ emr_cli-0.0.8/pyproject.toml
â”‚ â”‚â”„ Files 1% similar despite different names
â”‚ â”‚ @@ -1,10 +1,10 @@
â”‚ â”‚  [tool.poetry]
â”‚ â”‚  name = "emr-cli"
â”‚ â”‚ -version = "v0.0.7"
â”‚ â”‚ +version = "v0.0.8"
â”‚ â”‚  description = "A command-line interface for packaging, deploying, and running your EMR Serverless Spark jobs."
â”‚ â”‚  authors = ["Amazon EMR <emr-developer-advocates@amazon.com>"]
â”‚ â”‚  license = "Apache-2.0"
â”‚ â”‚  readme = "README.md"
â”‚ â”‚  
â”‚ â”‚  [tool.poetry.dependencies]
â”‚ â”‚  python = "^3.7"
â”‚ â”‚   --- emr_cli-0.0.7/src/emr_cli/config.py
â”‚ â”œâ”€â”€ +++ emr_cli-0.0.8/src/emr_cli/config.py
â”‚ â”‚â”„ Files identical despite different names
â”‚ â”‚   --- emr_cli-0.0.7/src/emr_cli/deployments/__init__.py
â”‚ â”œâ”€â”€ +++ emr_cli-0.0.8/src/emr_cli/deployments/__init__.py
â”‚ â”‚â”„ Files identical despite different names
â”‚ â”‚   --- emr_cli-0.0.7/src/emr_cli/deployments/emr_serverless.py
â”‚ â”œâ”€â”€ +++ emr_cli-0.0.8/src/emr_cli/deployments/emr_serverless.py
â”‚ â”‚â”„ Files 3% similar despite different names
â”‚ â”‚ @@ -219,15 +219,23 @@
â”‚ â”‚  
â”‚ â”‚      def run_job(
â”‚ â”‚          self,
â”‚ â”‚          job_name: str,
â”‚ â”‚          job_args: Optional[List[str]] = None,
â”‚ â”‚          spark_submit_opts: Optional[str] = None,
â”‚ â”‚          wait: bool = True,
â”‚ â”‚ +        show_logs: bool = False,
â”‚ â”‚      ):
â”‚ â”‚ +        if show_logs:
â”‚ â”‚ +            raise RuntimeError(
â”‚ â”‚ +                "--show-stdout is not compatible with EMR Serverless (yet).\n"
â”‚ â”‚ +                + "Please ðŸ‘ this GitHub issue to voice your support: "
â”‚ â”‚ +                + "https://github.com/awslabs/amazon-emr-cli/issues/11"
â”‚ â”‚ +            )
â”‚ â”‚ +
â”‚ â”‚          jobDriver = {
â”‚ â”‚              "sparkSubmit": {
â”‚ â”‚                  "entryPoint": self.dp.entrypoint_uri(),
â”‚ â”‚              }
â”‚ â”‚          }
â”‚ â”‚          spark_submit_parameters = self.dp.spark_submit_parameters().params_for(
â”‚ â”‚              "emr_serverless"
â”‚ â”‚ â”œâ”€â”€ encoding
â”‚ â”‚ â”‚ @@ -1 +1 @@
â”‚ â”‚ â”‚ -us-ascii
â”‚ â”‚ â”‚ +utf-8
â”‚ â”‚   --- emr_cli-0.0.7/src/emr_cli/emr_cli.py
â”‚ â”œâ”€â”€ +++ emr_cli-0.0.8/src/emr_cli/emr_cli.py
â”‚ â”‚â”„ Files 2% similar despite different names
â”‚ â”‚ @@ -1,7 +1,8 @@
â”‚ â”‚ +from sys import is_finalizing
â”‚ â”‚  import click
â”‚ â”‚  from emr_cli.config import ConfigReader, ConfigWriter
â”‚ â”‚  from emr_cli.deployments.emr_ec2 import EMREC2
â”‚ â”‚  from emr_cli.packaging.detector import ProjectDetector
â”‚ â”‚  from emr_cli.utils import console_log
â”‚ â”‚  
â”‚ â”‚  from .deployments.emr_serverless import Bootstrap, EMRServerless
â”‚ â”‚ @@ -149,29 +150,35 @@
â”‚ â”‚  @click.option(
â”‚ â”‚      "--entry-point",
â”‚ â”‚      type=click.Path(exists=True, dir_okay=False, allow_dash=False),
â”‚ â”‚      help="Python or Jar file for the main entrypoint",
â”‚ â”‚  )
â”‚ â”‚  @click.option("--job-role", help="IAM Role ARN to use for the job execution")
â”‚ â”‚  @click.option("--wait", default=False, is_flag=True, help="Wait for job to finish")
â”‚ â”‚ -@click.option("--s3-code-uri", help="Where to copy code artifacts to")
â”‚ â”‚ +@click.option("--s3-code-uri", help="Where to copy/run code artifacts to/from")
â”‚ â”‚  @click.option("--job-name", help="The name of the job", default="emr-cli job")
â”‚ â”‚  @click.option(
â”‚ â”‚      "--job-args",
â”‚ â”‚      help="Comma-delimited string of arguments to be passed to Spark job",
â”‚ â”‚      default=None,
â”‚ â”‚  )
â”‚ â”‚  @click.option(
â”‚ â”‚      "--spark-submit-opts",
â”‚ â”‚      help="String of spark-submit options",
â”‚ â”‚      default=None,
â”‚ â”‚  )
â”‚ â”‚  @click.option(
â”‚ â”‚      "--build",
â”‚ â”‚ -    help="Do not package and deploy the job assets",
â”‚ â”‚ +    help="Package and deploy job artifacts",
â”‚ â”‚ +    default=False,
â”‚ â”‚ +    is_flag=True,
â”‚ â”‚ +)
â”‚ â”‚ +@click.option(
â”‚ â”‚ +    "--show-stdout",
â”‚ â”‚ +    help="Show the stdout of the job after it's finished",
â”‚ â”‚      default=False,
â”‚ â”‚      is_flag=True,
â”‚ â”‚  )
â”‚ â”‚  @click.pass_obj
â”‚ â”‚  def run(
â”‚ â”‚      project,
â”‚ â”‚      application_id,
â”‚ â”‚ @@ -180,14 +187,15 @@
â”‚ â”‚      job_role,
â”‚ â”‚      wait,
â”‚ â”‚      s3_code_uri,
â”‚ â”‚      job_name,
â”‚ â”‚      job_args,
â”‚ â”‚      spark_submit_opts,
â”‚ â”‚      build,
â”‚ â”‚ +    show_stdout,
â”‚ â”‚  ):
â”‚ â”‚      """
â”‚ â”‚      Run a project on EMR, optionally build and deploy
â”‚ â”‚      """
â”‚ â”‚      # Either a cluster or applciation ID must be specified
â”‚ â”‚      if cluster_id is None and application_id is None:
â”‚ â”‚          raise click.BadArgumentUsage(
â”‚ â”‚ @@ -212,22 +220,22 @@
â”‚ â”‚              raise click.BadArgumentUsage(
â”‚ â”‚                  "--entry-point and --job-role are required if --application-id is used."
â”‚ â”‚              )
â”‚ â”‚  
â”‚ â”‚          if job_args:
â”‚ â”‚              job_args = job_args.split(",")
â”‚ â”‚          emrs = EMRServerless(application_id, job_role, p)
â”‚ â”‚ -        emrs.run_job(job_name, job_args, spark_submit_opts, wait)
â”‚ â”‚ +        emrs.run_job(job_name, job_args, spark_submit_opts, wait, show_stdout)
â”‚ â”‚  
â”‚ â”‚      # cluster_id indicates EMR on EC2 job
â”‚ â”‚      if cluster_id is not None:
â”‚ â”‚          if job_args:
â”‚ â”‚              job_args = job_args.split(",")
â”‚ â”‚          emr = EMREC2(cluster_id, p)
â”‚ â”‚ -        emr.run_job(job_name, job_args, wait)
â”‚ â”‚ +        emr.run_job(job_name, job_args, wait, show_stdout)
â”‚ â”‚  
â”‚ â”‚  
â”‚ â”‚  cli.add_command(package)
â”‚ â”‚  cli.add_command(deploy)
â”‚ â”‚  cli.add_command(run)
â”‚ â”‚  cli.add_command(init)
â”‚ â”‚  cli.add_command(bootstrap)
â”‚ â”‚   --- emr_cli-0.0.7/src/emr_cli/packaging/detector.py
â”‚ â”œâ”€â”€ +++ emr_cli-0.0.8/src/emr_cli/packaging/detector.py
â”‚ â”‚â”„ Files identical despite different names
â”‚ â”‚   --- emr_cli-0.0.7/src/emr_cli/packaging/python_files_project.py
â”‚ â”œâ”€â”€ +++ emr_cli-0.0.8/src/emr_cli/packaging/python_files_project.py
â”‚ â”‚â”„ Files identical despite different names
â”‚ â”‚   --- emr_cli-0.0.7/src/emr_cli/packaging/python_poetry_project.py
â”‚ â”œâ”€â”€ +++ emr_cli-0.0.8/src/emr_cli/packaging/python_poetry_project.py
â”‚ â”‚â”„ Files identical despite different names
â”‚ â”‚   --- emr_cli-0.0.7/src/emr_cli/packaging/python_project.py
â”‚ â”œâ”€â”€ +++ emr_cli-0.0.8/src/emr_cli/packaging/python_project.py
â”‚ â”‚â”„ Files identical despite different names
â”‚ â”‚   --- emr_cli-0.0.7/src/emr_cli/packaging/simple_project.py
â”‚ â”œâ”€â”€ +++ emr_cli-0.0.8/src/emr_cli/packaging/simple_project.py
â”‚ â”‚â”„ Files identical despite different names
â”‚ â”‚   --- emr_cli-0.0.7/src/emr_cli/templates/poetry/README.md
â”‚ â”œâ”€â”€ +++ emr_cli-0.0.8/src/emr_cli/templates/poetry/README.md
â”‚ â”‚â”„ Files identical despite different names
â”‚ â”‚   --- emr_cli-0.0.7/src/emr_cli/templates/pyspark/Dockerfile
â”‚ â”œâ”€â”€ +++ emr_cli-0.0.8/src/emr_cli/templates/pyspark/Dockerfile
â”‚ â”‚â”„ Files identical despite different names
â”‚ â”‚   --- emr_cli-0.0.7/src/emr_cli/templates/pyspark/jobs/extreme_weather.py
â”‚ â”œâ”€â”€ +++ emr_cli-0.0.8/src/emr_cli/templates/pyspark/jobs/extreme_weather.py
â”‚ â”‚â”„ Files identical despite different names
â”‚ â”‚   --- emr_cli-0.0.7/src/emr_cli/utils/__init__.py
â”‚ â”œâ”€â”€ +++ emr_cli-0.0.8/src/emr_cli/utils/__init__.py
â”‚ â”‚â”„ Files identical despite different names
â”‚ â”‚   --- emr_cli-0.0.7/PKG-INFO
â”‚ â”œâ”€â”€ +++ emr_cli-0.0.8/PKG-INFO
â”‚ â”‚â”„ Files 1% similar despite different names
â”‚ â”‚ @@ -1,10 +1,10 @@
â”‚ â”‚  Metadata-Version: 2.1
â”‚ â”‚  Name: emr-cli
â”‚ â”‚ -Version: 0.0.7
â”‚ â”‚ +Version: 0.0.8
â”‚ â”‚  Summary: A command-line interface for packaging, deploying, and running your EMR Serverless Spark jobs.
â”‚ â”‚  License: Apache-2.0
â”‚ â”‚  Author: Amazon EMR
â”‚ â”‚  Author-email: emr-developer-advocates@amazon.com
â”‚ â”‚  Requires-Python: >=3.7,<4.0
â”‚ â”‚  Classifier: License :: OSI Approved :: Apache Software License
â”‚ â”‚  Classifier: Programming Language :: Python :: 3
