# Comparing `tmp/odoo14_addon_storage_backend-14.0.2.0.3-py3-none-any.whl.zip` & `tmp/odoo14_addon_storage_backend-14.0.2.0.4-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,27 +1,27 @@
-Zip file size: 29213 bytes, number of entries: 25
--rw-r--r--  2.0 unx     2868 b- defN 23-Mar-02 10:16 odoo/addons/storage_backend/README.rst
--rw-r--r--  2.0 unx       46 b- defN 23-Mar-02 10:16 odoo/addons/storage_backend/__init__.py
--rw-r--r--  2.0 unx      734 b- defN 23-Mar-02 10:16 odoo/addons/storage_backend/__manifest__.py
--rw-r--r--  2.0 unx       60 b- defN 23-Mar-02 10:16 odoo/addons/storage_backend/components/__init__.py
--rw-r--r--  2.0 unx     2313 b- defN 23-Mar-02 10:16 odoo/addons/storage_backend/components/base_adapter.py
--rw-r--r--  2.0 unx     2234 b- defN 23-Mar-02 10:16 odoo/addons/storage_backend/components/filesystem_adapter.py
--rw-r--r--  2.0 unx      256 b- defN 23-Mar-02 10:16 odoo/addons/storage_backend/data/data.xml
--rw-r--r--  2.0 unx     4571 b- defN 23-Mar-02 10:16 odoo/addons/storage_backend/i18n/storage_backend.pot
--rw-r--r--  2.0 unx       30 b- defN 23-Mar-02 10:16 odoo/addons/storage_backend/models/__init__.py
--rw-r--r--  2.0 unx     5805 b- defN 23-Mar-02 10:16 odoo/addons/storage_backend/models/storage_backend.py
--rw-r--r--  2.0 unx      366 b- defN 23-Mar-02 10:16 odoo/addons/storage_backend/readme/CONTRIBUTORS.rst
--rw-r--r--  2.0 unx        0 b- defN 23-Mar-02 10:16 odoo/addons/storage_backend/readme/DESCRIPTION.rst
--rw-r--r--  2.0 unx        0 b- defN 23-Mar-02 10:16 odoo/addons/storage_backend/readme/HISTORY.rst
--rw-r--r--  2.0 unx        0 b- defN 23-Mar-02 10:16 odoo/addons/storage_backend/readme/USAGE.rst
--rw-r--r--  2.0 unx      174 b- defN 23-Mar-02 10:16 odoo/addons/storage_backend/security/ir.model.access.csv
--rw-r--r--  2.0 unx     9455 b- defN 23-Mar-02 10:16 odoo/addons/storage_backend/static/description/icon.png
--rw-r--r--  2.0 unx    12645 b- defN 23-Mar-02 10:16 odoo/addons/storage_backend/static/description/index.html
--rw-r--r--  2.0 unx       51 b- defN 23-Mar-02 10:16 odoo/addons/storage_backend/tests/__init__.py
--rw-r--r--  2.0 unx     2213 b- defN 23-Mar-02 10:16 odoo/addons/storage_backend/tests/common.py
--rw-r--r--  2.0 unx     1962 b- defN 23-Mar-02 10:16 odoo/addons/storage_backend/tests/test_filesystem.py
--rw-r--r--  2.0 unx     3218 b- defN 23-Mar-02 10:16 odoo/addons/storage_backend/views/backend_storage_view.xml
--rw-r--r--  2.0 unx     3581 b- defN 23-Mar-02 10:16 odoo14_addon_storage_backend-14.0.2.0.3.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-Mar-02 10:16 odoo14_addon_storage_backend-14.0.2.0.3.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 23-Mar-02 10:16 odoo14_addon_storage_backend-14.0.2.0.3.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     2611 b- defN 23-Mar-02 10:16 odoo14_addon_storage_backend-14.0.2.0.3.dist-info/RECORD
-25 files, 55290 bytes uncompressed, 24761 bytes compressed:  55.2%
+Zip file size: 29436 bytes, number of entries: 25
+-rw-r--r--  2.0 unx     2868 b- defN 23-Apr-06 10:03 odoo/addons/storage_backend/README.rst
+-rw-r--r--  2.0 unx       46 b- defN 23-Apr-06 10:03 odoo/addons/storage_backend/__init__.py
+-rw-r--r--  2.0 unx      734 b- defN 23-Apr-06 10:03 odoo/addons/storage_backend/__manifest__.py
+-rw-r--r--  2.0 unx       60 b- defN 23-Apr-06 10:03 odoo/addons/storage_backend/components/__init__.py
+-rw-r--r--  2.0 unx     2313 b- defN 23-Apr-06 10:03 odoo/addons/storage_backend/components/base_adapter.py
+-rw-r--r--  2.0 unx     2664 b- defN 23-Apr-06 10:03 odoo/addons/storage_backend/components/filesystem_adapter.py
+-rw-r--r--  2.0 unx      256 b- defN 23-Apr-06 10:03 odoo/addons/storage_backend/data/data.xml
+-rw-r--r--  2.0 unx     4571 b- defN 23-Apr-06 10:03 odoo/addons/storage_backend/i18n/storage_backend.pot
+-rw-r--r--  2.0 unx       30 b- defN 23-Apr-06 10:03 odoo/addons/storage_backend/models/__init__.py
+-rw-r--r--  2.0 unx     5805 b- defN 23-Apr-06 10:03 odoo/addons/storage_backend/models/storage_backend.py
+-rw-r--r--  2.0 unx      366 b- defN 23-Apr-06 10:03 odoo/addons/storage_backend/readme/CONTRIBUTORS.rst
+-rw-r--r--  2.0 unx        0 b- defN 23-Apr-06 10:03 odoo/addons/storage_backend/readme/DESCRIPTION.rst
+-rw-r--r--  2.0 unx        0 b- defN 23-Apr-06 10:03 odoo/addons/storage_backend/readme/HISTORY.rst
+-rw-r--r--  2.0 unx        0 b- defN 23-Apr-06 10:03 odoo/addons/storage_backend/readme/USAGE.rst
+-rw-r--r--  2.0 unx      174 b- defN 23-Apr-06 10:03 odoo/addons/storage_backend/security/ir.model.access.csv
+-rw-r--r--  2.0 unx     9455 b- defN 23-Apr-06 10:03 odoo/addons/storage_backend/static/description/icon.png
+-rw-r--r--  2.0 unx    12645 b- defN 23-Apr-06 10:03 odoo/addons/storage_backend/static/description/index.html
+-rw-r--r--  2.0 unx       51 b- defN 23-Apr-06 10:03 odoo/addons/storage_backend/tests/__init__.py
+-rw-r--r--  2.0 unx     2639 b- defN 23-Apr-06 10:03 odoo/addons/storage_backend/tests/common.py
+-rw-r--r--  2.0 unx     2330 b- defN 23-Apr-06 10:03 odoo/addons/storage_backend/tests/test_filesystem.py
+-rw-r--r--  2.0 unx     3218 b- defN 23-Apr-06 10:03 odoo/addons/storage_backend/views/backend_storage_view.xml
+-rw-r--r--  2.0 unx     3581 b- defN 23-Apr-06 10:03 odoo14_addon_storage_backend-14.0.2.0.4.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Apr-06 10:03 odoo14_addon_storage_backend-14.0.2.0.4.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 23-Apr-06 10:03 odoo14_addon_storage_backend-14.0.2.0.4.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     2611 b- defN 23-Apr-06 10:03 odoo14_addon_storage_backend-14.0.2.0.4.dist-info/RECORD
+25 files, 56514 bytes uncompressed, 24984 bytes compressed:  55.8%
```

## zipnote {}

```diff
@@ -57,20 +57,20 @@
 
 Filename: odoo/addons/storage_backend/tests/test_filesystem.py
 Comment: 
 
 Filename: odoo/addons/storage_backend/views/backend_storage_view.xml
 Comment: 
 
-Filename: odoo14_addon_storage_backend-14.0.2.0.3.dist-info/METADATA
+Filename: odoo14_addon_storage_backend-14.0.2.0.4.dist-info/METADATA
 Comment: 
 
-Filename: odoo14_addon_storage_backend-14.0.2.0.3.dist-info/WHEEL
+Filename: odoo14_addon_storage_backend-14.0.2.0.4.dist-info/WHEEL
 Comment: 
 
-Filename: odoo14_addon_storage_backend-14.0.2.0.3.dist-info/top_level.txt
+Filename: odoo14_addon_storage_backend-14.0.2.0.4.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo14_addon_storage_backend-14.0.2.0.3.dist-info/RECORD
+Filename: odoo14_addon_storage_backend-14.0.2.0.4.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/storage_backend/__manifest__.py

```diff
@@ -1,15 +1,15 @@
 # Copyright 2017 Akretion (http://www.akretion.com).
 # @author Sébastien BEAU <sebastien.beau@akretion.com>
 # License LGPL-3.0 or later (http://www.gnu.org/licenses/lgpl).
 
 {
     "name": "Storage Bakend",
     "summary": "Implement the concept of Storage with amazon S3, sftp...",
-    "version": "14.0.2.0.3",
+    "version": "14.0.2.0.4",
     "category": "Storage",
     "website": "https://github.com/OCA/storage",
     "author": " Akretion, Odoo Community Association (OCA)",
     "license": "LGPL-3",
     "development_status": "Production/Stable",
     "installable": True,
     "depends": ["base", "component", "server_environment"],
```

## odoo/addons/storage_backend/components/filesystem_adapter.py

```diff
@@ -1,13 +1,14 @@
 # Copyright 2017 Akretion (http://www.akretion.com).
 # @author Sébastien BEAU <sebastien.beau@akretion.com>
 # License LGPL-3.0 or later (http://www.gnu.org/licenses/lgpl).
 
 import logging
 import os
+import shutil
 
 from odoo import _
 from odoo.exceptions import AccessError
 
 from odoo.addons.component.core import Component
 
 _logger = logging.getLogger(__name__)
@@ -59,7 +60,17 @@
 
     def delete(self, relative_path):
         full_path = self._fullpath(relative_path)
         try:
             os.remove(full_path)
         except FileNotFoundError:
             _logger.warning("File not found in %s", full_path)
+
+    def move_files(self, files, destination_path):
+        result = []
+        for file_path in files:
+            if not os.path.exists(destination_path):
+                os.makedirs(destination_path)
+            filename = os.path.basename(file_path)
+            destination_file = os.path.join(destination_path, filename)
+            result.append(shutil.move(file_path, destination_file))
+        return result
```

## odoo/addons/storage_backend/tests/common.py

```diff
@@ -49,14 +49,27 @@
         expected_filepaths,
     ):
         with mock.patch(adapter_dotted_path + ".list") as mocked:
             mocked.return_value = mocked_filepaths
             res = backend.find_files(pattern)
             self.assertEqual(sorted(res), sorted(expected_filepaths))
 
+    def _test_move_files(
+        self,
+        backend,
+        adapter_dotted_path,
+        filename,
+        destination_path,
+        expected_filepaths,
+    ):
+        with mock.patch(adapter_dotted_path + ".move_files") as mocked:
+            mocked.return_value = expected_filepaths
+            res = backend.move_files(filename, destination_path)
+            self.assertEqual(sorted(res), sorted(expected_filepaths))
+
 
 class CommonCase(SavepointComponentCase):
     @classmethod
     def setUpClass(cls):
         super().setUpClass()
         cls.env = cls.env(context=dict(cls.env.context, tracking_disable=True))
         cls.backend = cls.env.ref("storage_backend.default_storage_backend")
```

## odoo/addons/storage_backend/tests/test_filesystem.py

```diff
@@ -1,10 +1,11 @@
 # Copyright 2017 Akretion (http://www.akretion.com).
 # @author Sébastien BEAU <sebastien.beau@akretion.com>
 # License LGPL-3.0 or later (http://www.gnu.org/licenses/lgpl).
+import os
 
 from odoo.exceptions import AccessError
 
 from .common import BackendStorageTestMixin, CommonCase
 
 ADAPTER_PATH = (
     "odoo.addons.storage_backend.components.filesystem_adapter.FileSystemStorageBackend"
@@ -25,14 +26,23 @@
         backend = self.backend.sudo()
         base_dir = backend._get_adapter()._basedir()
         expected = [base_dir + "/" + path for path in good_filepaths]
         self._test_find_files(
             backend, ADAPTER_PATH, mocked_filepaths, r".*\.good$", expected
         )
 
+    def test_move_files(self):
+        backend = self.backend.sudo()
+        base_dir = backend._get_adapter()._basedir()
+        expected = [base_dir + "/" + self.filename]
+        destination_path = os.path.join(base_dir, "destination")
+        self._test_move_files(
+            backend, ADAPTER_PATH, self.filename, destination_path, expected
+        )
+
 
 class FileSystemDemoUserAccessCase(CommonCase):
     @classmethod
     def setUpClass(cls):
         super().setUpClass()
         cls.backend = cls.backend.with_user(cls.demo_user)
```

## Comparing `odoo14_addon_storage_backend-14.0.2.0.3.dist-info/METADATA` & `odoo14_addon_storage_backend-14.0.2.0.4.dist-info/METADATA`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: odoo14-addon-storage-backend
-Version: 14.0.2.0.3
+Version: 14.0.2.0.4
 Summary: Implement the concept of Storage with amazon S3, sftp...
 Home-page: https://github.com/OCA/storage
 Author: Akretion, Odoo Community Association (OCA)
 Author-email: support@odoo-community.org
 License: LGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
```

## Comparing `odoo14_addon_storage_backend-14.0.2.0.3.dist-info/RECORD` & `odoo14_addon_storage_backend-14.0.2.0.4.dist-info/RECORD`

 * *Files 5% similar despite different names*

```diff
@@ -1,25 +1,25 @@
 odoo/addons/storage_backend/README.rst,sha256=DW0eQFPiDMA2FD6UN0AcLhWZsqL1_7AqLznELKeaOZU,2868
 odoo/addons/storage_backend/__init__.py,sha256=SoGdvLzfb39JMhyc2xSWCIBthMtJoxhNsZS19XwE-UQ,46
-odoo/addons/storage_backend/__manifest__.py,sha256=F4ie_eWhRmIiH5C9vM-fVq1miT6YGr6itWLiN3ryTIg,734
+odoo/addons/storage_backend/__manifest__.py,sha256=3jMf-DuBMiAl-UrqJ3Dk20mZD5870qeyxhjNSjjFOSs,734
 odoo/addons/storage_backend/components/__init__.py,sha256=QItGOCgjFW2KCjlNTpGxGt7ylj3b18qrMIjg1KLyIL8,60
 odoo/addons/storage_backend/components/base_adapter.py,sha256=S3PtA_MSsA2FkBm6z_cbxz3IGnBh_mw2bo-wvqWgOUE,2313
-odoo/addons/storage_backend/components/filesystem_adapter.py,sha256=X3FjEQYMEoEPbqlnh32gBSZ_EwqdW4RNdnY83-UYVFg,2234
+odoo/addons/storage_backend/components/filesystem_adapter.py,sha256=9iKekiBSDuwchUwG6rViJTJ8G_UoqbWBBKsxb4z8PL4,2664
 odoo/addons/storage_backend/data/data.xml,sha256=jyfXftLJT7xXn-XO8VclcaZoySJW6PsgB69C4kQ9bG8,256
 odoo/addons/storage_backend/i18n/storage_backend.pot,sha256=6jbgUXpUfq2dvYxUlTNW0VMo0VUZu7bz5xqVTKwhWKg,4571
 odoo/addons/storage_backend/models/__init__.py,sha256=WLh-zAgW5JsgfFhrKKtn0jtVLH8SftYTsLB4gwychGE,30
 odoo/addons/storage_backend/models/storage_backend.py,sha256=W6WP1fHGvhC4rPPiB2qlKT4wn4_NIoGqGDSdBaFO-48,5805
 odoo/addons/storage_backend/readme/CONTRIBUTORS.rst,sha256=Ur0c_0zFX8lzFfDlwLJ0sSmR1XN5oI350XIe_Ct_HUo,366
 odoo/addons/storage_backend/readme/DESCRIPTION.rst,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 odoo/addons/storage_backend/readme/HISTORY.rst,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 odoo/addons/storage_backend/readme/USAGE.rst,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 odoo/addons/storage_backend/security/ir.model.access.csv,sha256=pDi83Vxo3soNAx93kt0MCv8hcOLMTLGzvB_Lq3yFJOE,174
 odoo/addons/storage_backend/static/description/icon.png,sha256=6xBPJauaFOF0KDHfHgQopSc28kKvxMaeoQFQWZtfZDo,9455
 odoo/addons/storage_backend/static/description/index.html,sha256=tD66k8untcx5FcSn5fPqR_tUjUL7ab4RNV5oBXpaprY,12645
 odoo/addons/storage_backend/tests/__init__.py,sha256=dYRUpZbwiB60Vl3tSe3CeHgkOKFxgxx_tJs3I-xquIQ,51
-odoo/addons/storage_backend/tests/common.py,sha256=Z2kHVQPVH_9zBiRJcn-FtGb9XHP-gY6lR-n7bkLhf8c,2213
-odoo/addons/storage_backend/tests/test_filesystem.py,sha256=DvlFSGC40qW-0-oYiv_NNClRx1hUDZSboFoLNLhLX3k,1962
+odoo/addons/storage_backend/tests/common.py,sha256=tFfMaUfhepaN8J_Ed72Lsix1Qxs-9r-J4vB3czn2tPY,2639
+odoo/addons/storage_backend/tests/test_filesystem.py,sha256=wibi927nYsythpp0vJE-uEFURxF-S1bOgcAODzqH8Y4,2330
 odoo/addons/storage_backend/views/backend_storage_view.xml,sha256=0_Y1fUxoMkR6I4PWrPsVLP0DFTiaeSby0-jnLgrN2Mo,3218
-odoo14_addon_storage_backend-14.0.2.0.3.dist-info/METADATA,sha256=ASe4dtsGJIb9Y8u37Mit1ZwW1DJSLgIHCnIres0_xKc,3581
-odoo14_addon_storage_backend-14.0.2.0.3.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
-odoo14_addon_storage_backend-14.0.2.0.3.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo14_addon_storage_backend-14.0.2.0.3.dist-info/RECORD,,
+odoo14_addon_storage_backend-14.0.2.0.4.dist-info/METADATA,sha256=XcVSy8-OA8bajSYJqAnIr_g59KSOnOSvjgFZwFGVDI0,3581
+odoo14_addon_storage_backend-14.0.2.0.4.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
+odoo14_addon_storage_backend-14.0.2.0.4.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo14_addon_storage_backend-14.0.2.0.4.dist-info/RECORD,,
```

