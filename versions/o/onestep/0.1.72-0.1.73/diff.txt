--- tmp/onestep-0.1.72.tar.gz
+++ tmp/onestep-0.1.73.tar.gz
├── filetype from file(1)
│ @@ -1 +1 @@
│ -gzip compressed data, was "onestep-0.1.72.tar", max compression
│ +gzip compressed data, was "onestep-0.1.73.tar", max compression
│   --- onestep-0.1.72.tar
├── +++ onestep-0.1.73.tar
│ ├── file list
│ │ @@ -1,22 +1,22 @@
│ │ --rw-r--r--   0        0        0     1362 2023-04-04 09:21:50.007297 onestep-0.1.72/README.md
│ │ --rw-r--r--   0        0        0      704 2023-04-04 09:21:50.007297 onestep-0.1.72/pyproject.toml
│ │ --rw-r--r--   0        0        0     1369 2023-04-04 09:21:50.007297 onestep-0.1.72/src/onestep/__init__.py
│ │ --rw-r--r--   0        0        0      221 2023-04-04 09:21:50.007297 onestep-0.1.72/src/onestep/broker/__init__.py
│ │ --rw-r--r--   0        0        0     4310 2023-04-04 09:21:50.007297 onestep-0.1.72/src/onestep/broker/base.py
│ │ --rw-r--r--   0        0        0      957 2023-04-04 09:21:50.007297 onestep-0.1.72/src/onestep/broker/cron.py
│ │ --rw-r--r--   0        0        0      151 2023-04-04 09:21:50.007297 onestep-0.1.72/src/onestep/broker/memory.py
│ │ --rw-r--r--   0        0        0     1997 2023-04-04 09:21:50.007297 onestep-0.1.72/src/onestep/broker/rabbitmq.py
│ │ --rw-r--r--   0        0        0     2144 2023-04-04 09:21:50.007297 onestep-0.1.72/src/onestep/broker/webhook.py
│ │ --rw-r--r--   0        0        0      715 2023-04-04 09:21:50.011297 onestep-0.1.72/src/onestep/exception.py
│ │ --rw-r--r--   0        0        0     3163 2023-04-04 09:21:50.011297 onestep-0.1.72/src/onestep/message.py
│ │ --rw-r--r--   0        0        0      286 2023-04-04 09:21:50.011297 onestep-0.1.72/src/onestep/middleware/__init__.py
│ │ --rw-r--r--   0        0        0      521 2023-04-04 09:21:50.011297 onestep-0.1.72/src/onestep/middleware/base.py
│ │ --rw-r--r--   0        0        0     2438 2023-04-04 09:21:50.011297 onestep-0.1.72/src/onestep/middleware/config.py
│ │ --rw-r--r--   0        0        0     6350 2023-04-04 09:21:50.011297 onestep-0.1.72/src/onestep/onestep.py
│ │ --rw-r--r--   0        0        0     1904 2023-04-04 09:21:50.011297 onestep-0.1.72/src/onestep/retry.py
│ │ --rw-r--r--   0        0        0      293 2023-04-04 09:21:50.011297 onestep-0.1.72/src/onestep/signal.py
│ │ --rw-r--r--   0        0        0      618 2023-04-04 09:21:50.011297 onestep-0.1.72/src/onestep/state.py
│ │ --rw-r--r--   0        0        0       36 2023-04-04 09:21:50.011297 onestep-0.1.72/src/onestep/store/__init__.py
│ │ --rw-r--r--   0        0        0     4170 2023-04-04 09:21:50.011297 onestep-0.1.72/src/onestep/store/rabbitmq.py
│ │ --rw-r--r--   0        0        0     3517 2023-04-04 09:21:50.011297 onestep-0.1.72/src/onestep/worker.py
│ │ --rw-r--r--   0        0        0     1993 1970-01-01 00:00:00.000000 onestep-0.1.72/PKG-INFO
│ │ +-rw-r--r--   0        0        0     1362 2023-04-07 10:01:22.261018 onestep-0.1.73/README.md
│ │ +-rw-r--r--   0        0        0      704 2023-04-07 10:01:22.265018 onestep-0.1.73/pyproject.toml
│ │ +-rw-r--r--   0        0        0     1374 2023-04-07 10:01:22.265018 onestep-0.1.73/src/onestep/__init__.py
│ │ +-rw-r--r--   0        0        0      221 2023-04-07 10:01:22.265018 onestep-0.1.73/src/onestep/broker/__init__.py
│ │ +-rw-r--r--   0        0        0     4310 2023-04-07 10:01:22.265018 onestep-0.1.73/src/onestep/broker/base.py
│ │ +-rw-r--r--   0        0        0      957 2023-04-07 10:01:22.265018 onestep-0.1.73/src/onestep/broker/cron.py
│ │ +-rw-r--r--   0        0        0      151 2023-04-07 10:01:22.265018 onestep-0.1.73/src/onestep/broker/memory.py
│ │ +-rw-r--r--   0        0        0     1997 2023-04-07 10:01:22.265018 onestep-0.1.73/src/onestep/broker/rabbitmq.py
│ │ +-rw-r--r--   0        0        0     2144 2023-04-07 10:01:22.265018 onestep-0.1.73/src/onestep/broker/webhook.py
│ │ +-rw-r--r--   0        0        0      610 2023-04-07 10:01:22.265018 onestep-0.1.73/src/onestep/exception.py
│ │ +-rw-r--r--   0        0        0     3163 2023-04-07 10:01:22.265018 onestep-0.1.73/src/onestep/message.py
│ │ +-rw-r--r--   0        0        0      286 2023-04-07 10:01:22.265018 onestep-0.1.73/src/onestep/middleware/__init__.py
│ │ +-rw-r--r--   0        0        0      521 2023-04-07 10:01:22.265018 onestep-0.1.73/src/onestep/middleware/base.py
│ │ +-rw-r--r--   0        0        0     2438 2023-04-07 10:01:22.265018 onestep-0.1.73/src/onestep/middleware/config.py
│ │ +-rw-r--r--   0        0        0     6350 2023-04-07 10:01:22.265018 onestep-0.1.73/src/onestep/onestep.py
│ │ +-rw-r--r--   0        0        0     2699 2023-04-07 10:01:22.265018 onestep-0.1.73/src/onestep/retry.py
│ │ +-rw-r--r--   0        0        0      293 2023-04-07 10:01:22.265018 onestep-0.1.73/src/onestep/signal.py
│ │ +-rw-r--r--   0        0        0      618 2023-04-07 10:01:22.265018 onestep-0.1.73/src/onestep/state.py
│ │ +-rw-r--r--   0        0        0       36 2023-04-07 10:01:22.265018 onestep-0.1.73/src/onestep/store/__init__.py
│ │ +-rw-r--r--   0        0        0     4170 2023-04-07 10:01:22.265018 onestep-0.1.73/src/onestep/store/rabbitmq.py
│ │ +-rw-r--r--   0        0        0     3517 2023-04-07 10:01:22.265018 onestep-0.1.73/src/onestep/worker.py
│ │ +-rw-r--r--   0        0        0     1993 1970-01-01 00:00:00.000000 onestep-0.1.73/PKG-INFO
│ │   --- onestep-0.1.72/README.md
│ ├── +++ onestep-0.1.73/README.md
│ │┄ Files identical despite different names
│ │   --- onestep-0.1.72/pyproject.toml
│ ├── +++ onestep-0.1.73/pyproject.toml
│ │┄ Files 17% similar despite different names
│ │ @@ -1,10 +1,10 @@
│ │  [tool.poetry]
│ │  name = "onestep"
│ │ -version = "0.1.72"
│ │ +version = "0.1.73"
│ │  description = ""
│ │  authors = ["miclon <jcnd@163.com>"]
│ │  readme = "README.md"
│ │  packages = [
│ │      { include = 'onestep', from = 'src' }
│ │  ]
│ │   --- onestep-0.1.72/src/onestep/__init__.py
│ ├── +++ onestep-0.1.73/src/onestep/__init__.py
│ │┄ Files 14% similar despite different names
│ │ @@ -1,11 +1,11 @@
│ │  from .onestep import step
│ │  from .retry import (
│ │ -    BaseRetry, BaseErrorCallback,
│ │ -    NeverRetry, AlwaysRetry, TimesRetry, RetryIfException, NackErrorCallBack, LocalAndQueueRetry
│ │ +    BaseRetry, BaseErrorCallback, NackErrorCallBack,
│ │ +    NeverRetry, AlwaysRetry, TimesRetry, RetryIfException, AdvancedRetry
│ │  )
│ │  from .broker import (
│ │      BaseBroker, BaseConsumer, BaseLocalBroker, BaseLocalConsumer,
│ │      MemoryBroker, RabbitMQBroker, WebHookBroker, CronBroker
│ │  )
│ │  from .middleware import (
│ │      BaseMiddleware, BaseConfigMiddleware,
│ │ @@ -28,21 +28,21 @@
│ │      'MemoryBroker',
│ │      'RabbitMQBroker',
│ │      'WebHookBroker',
│ │      'CronBroker',
│ │  
│ │      # retry
│ │      'BaseRetry',
│ │ -    'BaseErrorCallback',
│ │      'NeverRetry',
│ │      'AlwaysRetry',
│ │      'TimesRetry',
│ │      'RetryIfException',
│ │ -    'LocalAndQueueRetry',
│ │ -    #
│ │ +    'AdvancedRetry',
│ │ +    # error callback
│ │ +    'BaseErrorCallback',
│ │      'NackErrorCallBack',
│ │  
│ │      # middleware
│ │      'BaseMiddleware',
│ │      'BaseConfigMiddleware',
│ │      'NacosPublishConfigMiddleware',
│ │      'NacosConsumeConfigMiddleware',
│ │   --- onestep-0.1.72/src/onestep/broker/base.py
│ ├── +++ onestep-0.1.73/src/onestep/broker/base.py
│ │┄ Files identical despite different names
│ │   --- onestep-0.1.72/src/onestep/broker/cron.py
│ ├── +++ onestep-0.1.73/src/onestep/broker/cron.py
│ │┄ Files identical despite different names
│ │   --- onestep-0.1.72/src/onestep/broker/rabbitmq.py
│ ├── +++ onestep-0.1.73/src/onestep/broker/rabbitmq.py
│ │┄ Files identical despite different names
│ │   --- onestep-0.1.72/src/onestep/broker/webhook.py
│ ├── +++ onestep-0.1.73/src/onestep/broker/webhook.py
│ │┄ Files identical despite different names
│ │   --- onestep-0.1.72/src/onestep/exception.py
│ ├── +++ onestep-0.1.73/src/onestep/exception.py
│ │┄ Files 18% similar despite different names
│ │ @@ -9,16 +9,14 @@
│ │          self.kwargs = kwargs
│ │  
│ │  
│ │  class RetryViaQueue(RetryException):
│ │      """消息重试-通过重试队列
│ │  
│ │      抛出此异常，消息将被重新放入队列，等待下次消费。
│ │ -
│ │ -    具体实现是触发`broker`中`nack`方法，`requeue`参数为True，将消息重新放入队列
│ │      """
│ │  
│ │  
│ │  class RetryViaLocal(RetryException):
│ │      """消息重试-本地
│ │  
│ │      不经过队列，直接在本地重试，直到达到重试次数。
│ │   --- onestep-0.1.72/src/onestep/message.py
│ ├── +++ onestep-0.1.73/src/onestep/message.py
│ │┄ Files identical despite different names
│ │   --- onestep-0.1.72/src/onestep/middleware/base.py
│ ├── +++ onestep-0.1.73/src/onestep/middleware/base.py
│ │┄ Files identical despite different names
│ │   --- onestep-0.1.72/src/onestep/middleware/config.py
│ ├── +++ onestep-0.1.73/src/onestep/middleware/config.py
│ │┄ Files identical despite different names
│ │   --- onestep-0.1.72/src/onestep/onestep.py
│ ├── +++ onestep-0.1.73/src/onestep/onestep.py
│ │┄ Files identical despite different names
│ │   --- onestep-0.1.72/src/onestep/state.py
│ ├── +++ onestep-0.1.73/src/onestep/state.py
│ │┄ Files identical despite different names
│ │   --- onestep-0.1.72/src/onestep/store/rabbitmq.py
│ ├── +++ onestep-0.1.73/src/onestep/store/rabbitmq.py
│ │┄ Files identical despite different names
│ │   --- onestep-0.1.72/src/onestep/worker.py
│ ├── +++ onestep-0.1.73/src/onestep/worker.py
│ │┄ Files identical despite different names
│ │   --- onestep-0.1.72/PKG-INFO
│ ├── +++ onestep-0.1.73/PKG-INFO
│ │┄ Files 1% similar despite different names
│ │ @@ -1,10 +1,10 @@
│ │  Metadata-Version: 2.1
│ │  Name: onestep
│ │ -Version: 0.1.72
│ │ +Version: 0.1.73
│ │  Summary: 
│ │  Author: miclon
│ │  Author-email: jcnd@163.com
│ │  Requires-Python: >=3.8,<4.0
│ │  Classifier: Programming Language :: Python :: 3
│ │  Classifier: Programming Language :: Python :: 3.8
│ │  Classifier: Programming Language :: Python :: 3.9
