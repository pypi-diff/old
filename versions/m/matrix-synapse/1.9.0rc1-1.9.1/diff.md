# Comparing `tmp/matrix-synapse-1.9.0rc1.tar.gz` & `tmp/matrix-synapse-1.9.1.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "dist/matrix-synapse-1.9.0rc1.tar", last modified: Wed Jan 22 14:55:44 2020, max compression
+gzip compressed data, was "dist/matrix-synapse-1.9.1.tar", last modified: Tue Jan 28 13:38:15 2020, max compression
```

## Comparing `matrix-synapse-1.9.0rc1.tar` & `matrix-synapse-1.9.1.tar`

### file list

```diff
@@ -1,1162 +1,1162 @@
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:44.824946 matrix-synapse-1.9.0rc1/
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1611 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/AUTHORS.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)   308718 2020-01-22 14:47:26.000000 matrix-synapse-1.9.0rc1/CHANGES.md
--rw-r--r--   0 brendan   (1000) brendan   (1000)     8886 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/CONTRIBUTING.md
--rw-r--r--   0 brendan   (1000) brendan   (1000)    17627 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/INSTALL.md
--rw-r--r--   0 brendan   (1000) brendan   (1000)    10174 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/LICENSE
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1164 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/MANIFEST.in
--rw-r--r--   0 brendan   (1000) brendan   (1000)    20905 2020-01-22 14:55:44.824946 matrix-synapse-1.9.0rc1/PKG-INFO
--rw-r--r--   0 brendan   (1000) brendan   (1000)    16839 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/README.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)    28600 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/UPGRADE.rst
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:42.168374 matrix-synapse-1.9.0rc1/changelog.d/
--rw-r--r--   0 brendan   (1000) brendan   (1000)       12 2019-11-20 15:07:02.000000 matrix-synapse-1.9.0rc1/changelog.d/.gitignore
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:42.195040 matrix-synapse-1.9.0rc1/demo/
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1013 2019-12-17 14:57:44.000000 matrix-synapse-1.9.0rc1/demo/README
--rwxr-xr-x   0 brendan   (1000) brendan   (1000)      273 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/demo/clean.sh
--rwxr-xr-x   0 brendan   (1000) brendan   (1000)     4236 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/demo/start.sh
--rwxr-xr-x   0 brendan   (1000) brendan   (1000)      252 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/demo/stop.sh
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1510 2019-12-17 14:57:44.000000 matrix-synapse-1.9.0rc1/demo/webserver.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:42.288370 matrix-synapse-1.9.0rc1/docs/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      605 2019-11-20 15:07:02.000000 matrix-synapse-1.9.0rc1/docs/.sample_config_header.yaml
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4707 2019-11-20 15:07:02.000000 matrix-synapse-1.9.0rc1/docs/ACME.md
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1104 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/docs/CAPTCHA_SETUP.md
--rw-r--r--   0 brendan   (1000) brendan   (1000)    15848 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/docs/MSC1711_certificates_FAQ.md
--rw-r--r--   0 brendan   (1000) brendan   (1000)      379 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/docs/README.md
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:42.318369 matrix-synapse-1.9.0rc1/docs/admin_api/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      999 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/docs/admin_api/README.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1084 2019-11-20 15:07:02.000000 matrix-synapse-1.9.0rc1/docs/admin_api/account_validity.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      309 2019-11-20 15:07:02.000000 matrix-synapse-1.9.0rc1/docs/admin_api/delete_group.md
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2061 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/docs/admin_api/media_admin_api.md
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2044 2019-11-20 15:07:02.000000 matrix-synapse-1.9.0rc1/docs/admin_api/purge_history_api.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      462 2019-11-20 15:07:02.000000 matrix-synapse-1.9.0rc1/docs/admin_api/purge_remote_media.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      311 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/docs/admin_api/purge_room.md
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2025 2019-11-20 15:07:02.000000 matrix-synapse-1.9.0rc1/docs/admin_api/register_api.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4746 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/docs/admin_api/rooms.md
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1109 2019-11-20 15:07:02.000000 matrix-synapse-1.9.0rc1/docs/admin_api/server_notices.md
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2608 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/docs/admin_api/shutdown_room.md
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4867 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/docs/admin_api/user_admin_api.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      500 2019-11-20 15:07:02.000000 matrix-synapse-1.9.0rc1/docs/admin_api/version_api.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2900 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/docs/ancient_architecture_notes.md
--rw-r--r--   0 brendan   (1000) brendan   (1000)      963 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/docs/application_services.md
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3583 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/docs/architecture.md
--rw-r--r--   0 brendan   (1000) brendan   (1000)     5767 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/docs/code_style.md
--rw-r--r--   0 brendan   (1000) brendan   (1000)     7251 2019-11-20 15:07:02.000000 matrix-synapse-1.9.0rc1/docs/consent_tracking.md
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:42.318369 matrix-synapse-1.9.0rc1/docs/dev/
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1664 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/docs/dev/saml.md
--rw-r--r--   0 brendan   (1000) brendan   (1000)     7917 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/docs/federate.md
--rw-r--r--   0 brendan   (1000) brendan   (1000)    18012 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/docs/log_contexts.md
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1345 2019-11-20 15:07:02.000000 matrix-synapse-1.9.0rc1/docs/manhole.md
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1312 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/docs/media_repository.md
--rw-r--r--   0 brendan   (1000) brendan   (1000)     7910 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/docs/message_retention_policies.md
--rw-r--r--   0 brendan   (1000) brendan   (1000)    15669 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/docs/metrics-howto.md
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3507 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/docs/opentracing.md
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4649 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/docs/password_auth_providers.md
--rw-r--r--   0 brendan   (1000) brendan   (1000)     5526 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/docs/postgres.md
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:42.028379 matrix-synapse-1.9.0rc1/docs/privacy_policy_templates/
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:42.318369 matrix-synapse-1.9.0rc1/docs/privacy_policy_templates/en/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      724 2019-11-20 15:07:02.000000 matrix-synapse-1.9.0rc1/docs/privacy_policy_templates/en/1.0.html
--rw-r--r--   0 brendan   (1000) brendan   (1000)      154 2019-11-20 15:07:02.000000 matrix-synapse-1.9.0rc1/docs/privacy_policy_templates/en/success.html
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1534 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/docs/replication.md
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4036 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/docs/reverse_proxy.md
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2235 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/docs/room_and_user_statistics.md
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4227 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/docs/saml_mapping_providers.md
--rw-r--r--   0 brendan   (1000) brendan   (1000)    60299 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/docs/sample_config.yaml
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1122 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/docs/sample_log_config.yaml
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2421 2019-11-20 15:07:02.000000 matrix-synapse-1.9.0rc1/docs/server_notices.md
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:42.355034 matrix-synapse-1.9.0rc1/docs/sphinx/
--rw-r--r--   0 brendan   (1000) brendan   (1000)       51 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/README.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)     8623 2019-12-17 14:57:44.000000 matrix-synapse-1.9.0rc1/docs/sphinx/conf.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)      419 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/index.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)       58 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/modules.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      139 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.api.auth.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      154 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.api.constants.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      154 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.api.dbobjects.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      145 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.api.errors.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      163 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.api.event_stream.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      169 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.api.events.factory.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      160 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.api.events.room.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      275 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.api.events.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      172 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.api.handlers.events.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      175 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.api.handlers.factory.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      184 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.api.handlers.federation.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      178 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.api.handlers.register.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      166 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.api.handlers.room.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      384 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.api.handlers.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      151 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.api.notifier.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      172 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.api.register_events.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      160 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.api.room_events.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      423 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.api.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      145 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.api.server.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      148 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.api.storage.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      145 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.api.stream.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      166 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.api.streams.event.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      250 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.api.streams.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      157 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.app.homeserver.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      223 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.app.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      156 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.db.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      169 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.federation.handler.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      175 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.federation.messaging.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      175 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.federation.pdu_codec.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      181 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.federation.persistence.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      181 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.federation.replication.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      408 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.federation.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      175 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.federation.transport.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      163 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.federation.units.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      318 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.persistence.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      172 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.persistence.service.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      169 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.persistence.tables.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      187 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.persistence.transactions.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      142 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.rest.base.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      148 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.rest.events.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      154 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.rest.register.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      142 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.rest.room.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      290 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.rest.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      373 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      133 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.server.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      130 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.state.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      145 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.util.async.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      151 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.util.dbutils.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      142 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.util.http.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      157 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.util.lockutils.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      154 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.util.logutils.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      322 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.util.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)      163 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/docs/sphinx/synapse.util.stringutils.rst
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2169 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/docs/structured_logging.md
--rw-r--r--   0 brendan   (1000) brendan   (1000)     9455 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/docs/tcp_replication.md
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4956 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/docs/turn-howto.md
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4695 2019-11-20 15:07:02.000000 matrix-synapse-1.9.0rc1/docs/url_previews.md
--rw-r--r--   0 brendan   (1000) brendan   (1000)      683 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/docs/user_directory.md
--rw-r--r--   0 brendan   (1000) brendan   (1000)    11816 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/docs/workers.md
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:42.361700 matrix-synapse-1.9.0rc1/matrix_synapse.egg-info/
--rw-r--r--   0 brendan   (1000) brendan   (1000)    20905 2020-01-22 14:55:41.000000 matrix-synapse-1.9.0rc1/matrix_synapse.egg-info/PKG-INFO
--rw-r--r--   0 brendan   (1000) brendan   (1000)    40934 2020-01-22 14:55:41.000000 matrix-synapse-1.9.0rc1/matrix_synapse.egg-info/SOURCES.txt
--rw-r--r--   0 brendan   (1000) brendan   (1000)        1 2020-01-22 14:55:41.000000 matrix-synapse-1.9.0rc1/matrix_synapse.egg-info/dependency_links.txt
--rw-r--r--   0 brendan   (1000) brendan   (1000)        1 2019-05-13 15:16:59.000000 matrix-synapse-1.9.0rc1/matrix_synapse.egg-info/not-zip-safe
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1116 2020-01-22 14:55:41.000000 matrix-synapse-1.9.0rc1/matrix_synapse.egg-info/requires.txt
--rw-r--r--   0 brendan   (1000) brendan   (1000)       16 2020-01-22 14:55:41.000000 matrix-synapse-1.9.0rc1/matrix_synapse.egg-info/top_level.txt
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1203 2019-12-17 14:57:44.000000 matrix-synapse-1.9.0rc1/pyproject.toml
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:42.365034 matrix-synapse-1.9.0rc1/scripts/
--rwxr-xr-x   0 brendan   (1000) brendan   (1000)     2627 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/scripts/export_signing_key
--rwxr-xr-x   0 brendan   (1000) brendan   (1000)     2319 2019-12-17 14:57:44.000000 matrix-synapse-1.9.0rc1/scripts/generate_config
--rwxr-xr-x   0 brendan   (1000) brendan   (1000)     1292 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/scripts/generate_log_config
--rwxr-xr-x   0 brendan   (1000) brendan   (1000)     1195 2019-12-17 14:57:44.000000 matrix-synapse-1.9.0rc1/scripts/generate_signing_key.py
--rwxr-xr-x   0 brendan   (1000) brendan   (1000)     2062 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/scripts/hash_password
--rwxr-xr-x   0 brendan   (1000) brendan   (1000)     3732 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/scripts/move_remote_media_to_new_store.py
--rwxr-xr-x   0 brendan   (1000) brendan   (1000)      768 2019-11-20 15:07:02.000000 matrix-synapse-1.9.0rc1/scripts/register_new_matrix_user
--rwxr-xr-x   0 brendan   (1000) brendan   (1000)    34463 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/scripts/synapse_port_db
--rwxr-xr-x   0 brendan   (1000) brendan   (1000)     1827 2019-11-20 15:07:02.000000 matrix-synapse-1.9.0rc1/scripts/sync_room_to_group.pl
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:42.375033 matrix-synapse-1.9.0rc1/scripts-dev/
--rwxr-xr-x   0 brendan   (1000) brendan   (1000)     4907 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/scripts-dev/build_debian_packages
--rwxr-xr-x   0 brendan   (1000) brendan   (1000)     1144 2019-12-17 14:57:44.000000 matrix-synapse-1.9.0rc1/scripts-dev/check-newsfragment
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2232 2019-12-17 14:57:44.000000 matrix-synapse-1.9.0rc1/scripts-dev/check_signature.py
--rwxr-xr-x   0 brendan   (1000) brendan   (1000)      327 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/scripts-dev/config-lint.sh
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3510 2019-12-17 14:57:44.000000 matrix-synapse-1.9.0rc1/scripts-dev/convert_server_keys.py
--rwxr-xr-x   0 brendan   (1000) brendan   (1000)      377 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/scripts-dev/database-save.sh
--rwxr-xr-x   0 brendan   (1000) brendan   (1000)     6602 2019-12-17 14:57:44.000000 matrix-synapse-1.9.0rc1/scripts-dev/definitions.py
--rwxr-xr-x   0 brendan   (1000) brendan   (1000)      572 2019-11-20 15:07:02.000000 matrix-synapse-1.9.0rc1/scripts-dev/dump_macaroon.py
--rwxr-xr-x   0 brendan   (1000) brendan   (1000)     9491 2019-12-17 14:57:44.000000 matrix-synapse-1.9.0rc1/scripts-dev/federation_client.py
--rwxr-xr-x   0 brendan   (1000) brendan   (1000)      980 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/scripts-dev/generate_sample_config
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2809 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/scripts-dev/hash_history.py
--rwxr-xr-x   0 brendan   (1000) brendan   (1000)      394 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/scripts-dev/lint.sh
--rwxr-xr-x   0 brendan   (1000) brendan   (1000)     1257 2019-12-17 14:57:44.000000 matrix-synapse-1.9.0rc1/scripts-dev/list_url_patterns.py
--rwxr-xr-x   0 brendan   (1000) brendan   (1000)     5090 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/scripts-dev/make_full_schema.sh
--rwxr-xr-x   0 brendan   (1000) brendan   (1000)      298 2019-11-20 15:07:02.000000 matrix-synapse-1.9.0rc1/scripts-dev/next_github_number.sh
--rw-r--r--   0 brendan   (1000) brendan   (1000)       43 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/scripts-dev/sphinx_api_docs.sh
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1726 2019-12-17 14:57:44.000000 matrix-synapse-1.9.0rc1/scripts-dev/tail-synapse.py
--rwxr-xr-x   0 brendan   (1000) brendan   (1000)     3131 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/scripts-dev/update_database
--rw-r--r--   0 brendan   (1000) brendan   (1000)      605 2020-01-22 14:55:44.828279 matrix-synapse-1.9.0rc1/setup.cfg
--rwxr-xr-x   0 brendan   (1000) brendan   (1000)     4227 2019-12-17 14:57:44.000000 matrix-synapse-1.9.0rc1/setup.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:42.745020 matrix-synapse-1.9.0rc1/synapse/
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1459 2020-01-22 14:02:27.000000 matrix-synapse-1.9.0rc1/synapse/__init__.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:42.751687 matrix-synapse-1.9.0rc1/synapse/_scripts/
--rw-r--r--   0 brendan   (1000) brendan   (1000)        0 2019-11-20 15:07:02.000000 matrix-synapse-1.9.0rc1/synapse/_scripts/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     6060 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/_scripts/register_new_matrix_user.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:42.785019 matrix-synapse-1.9.0rc1/synapse/api/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      607 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/synapse/api/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    28815 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/api/auth.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4170 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/api/constants.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    17971 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/api/errors.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    14600 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/api/filtering.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3493 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/api/ratelimiting.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2963 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/api/room_versions.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2378 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/api/urls.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:42.825017 matrix-synapse-1.9.0rc1/synapse/app/
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1757 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/app/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    14618 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/app/_base.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     8713 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/app/admin_cmd.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     6143 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/app/appservice.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     8063 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/app/client_reader.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     7727 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/app/event_creator.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     6990 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/app/federation_reader.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    11358 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/app/federation_sender.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     9370 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/app/frontend_proxy.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    22435 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/app/homeserver.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     6377 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/app/media_repository.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     8064 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/app/pusher.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    18059 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/app/synchrotron.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     8591 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/app/user_dir.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:42.825017 matrix-synapse-1.9.0rc1/synapse/appservice/
--rw-r--r--   0 brendan   (1000) brendan   (1000)    10200 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/appservice/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     7908 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/appservice/api.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    10304 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/appservice/scheduler.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:42.895015 matrix-synapse-1.9.0rc1/synapse/config/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      841 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/config/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1170 2019-11-20 15:07:03.000000 matrix-synapse-1.9.0rc1/synapse/config/__main__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    24759 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/config/_base.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4055 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/config/_base.pyi
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1502 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/config/api.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     6802 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/config/appservice.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2134 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/config/captcha.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1887 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/config/cas.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4524 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/config/consent_config.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     5777 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/config/database.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    18407 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/config/emailconfig.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1271 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/config/groups.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2610 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/config/homeserver.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1687 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/config/jwt_config.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    17627 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/config/key.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     7922 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/config/logger.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3984 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/config/metrics.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1801 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/config/password.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2431 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/config/password_auth_providers.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2719 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/config/push.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     6740 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/config/ratelimiting.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    15303 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/config/registration.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    13075 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/config/repository.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     7800 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/config/room_directory.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    13110 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/config/saml2_config.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    42826 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/config/server.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3085 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/config/server_notices_config.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1181 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/config/spam_checker.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2049 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/config/stats.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1657 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/config/third_party_event_rules.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    20420 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/config/tls.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3313 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/config/tracer.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2135 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/config/user_directory.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2161 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/config/voip.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3303 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/config/workers.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:42.905014 matrix-synapse-1.9.0rc1/synapse/crypto/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      607 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/synapse/crypto/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     8597 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/crypto/context_factory.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     5618 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/crypto/event_signing.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    32820 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/crypto/keyring.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    23828 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/event_auth.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:42.925014 matrix-synapse-1.9.0rc1/synapse/events/
--rw-r--r--   0 brendan   (1000) brendan   (1000)    13777 2019-12-17 14:57:44.000000 matrix-synapse-1.9.0rc1/synapse/events/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     8901 2019-12-17 14:57:44.000000 matrix-synapse-1.9.0rc1/synapse/events/builder.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    13191 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/events/snapshot.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4135 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/events/spamcheck.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3817 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/events/third_party_rules.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    13164 2019-12-17 14:57:44.000000 matrix-synapse-1.9.0rc1/synapse/events/utils.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     8284 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/events/validator.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:42.958346 matrix-synapse-1.9.0rc1/synapse/federation/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      673 2019-11-20 15:07:03.000000 matrix-synapse-1.9.0rc1/synapse/federation/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    13852 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/federation/federation_base.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    33069 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/federation/federation_client.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    34206 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/federation/federation_server.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2114 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/federation/persistence.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    18211 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/federation/send_queue.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:42.965012 matrix-synapse-1.9.0rc1/synapse/federation/sender/
--rw-r--r--   0 brendan   (1000) brendan   (1000)    19271 2020-01-22 14:01:31.000000 matrix-synapse-1.9.0rc1/synapse/federation/sender/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    15081 2020-01-22 14:01:31.000000 matrix-synapse-1.9.0rc1/synapse/federation/sender/per_destination_queue.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     5831 2020-01-22 14:01:31.000000 matrix-synapse-1.9.0rc1/synapse/federation/sender/transaction_manager.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:42.968345 matrix-synapse-1.9.0rc1/synapse/federation/transport/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      967 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/federation/transport/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    31815 2020-01-22 14:01:31.000000 matrix-synapse-1.9.0rc1/synapse/federation/transport/client.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    53083 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/federation/transport/server.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3165 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/federation/units.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:42.971679 matrix-synapse-1.9.0rc1/synapse/groups/
--rw-r--r--   0 brendan   (1000) brendan   (1000)        0 2019-11-20 15:07:03.000000 matrix-synapse-1.9.0rc1/synapse/groups/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     8134 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/groups/attestations.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    33245 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/groups/groups_server.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.085008 matrix-synapse-1.9.0rc1/synapse/handlers/
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1843 2019-11-20 15:07:03.000000 matrix-synapse-1.9.0rc1/synapse/handlers/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     7630 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/handlers/_base.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1911 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/handlers/account_data.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    10364 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/handlers/account_validity.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3776 2019-12-17 14:57:44.000000 matrix-synapse-1.9.0rc1/synapse/handlers/acme.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3921 2019-12-17 14:57:44.000000 matrix-synapse-1.9.0rc1/synapse/handlers/acme_issuing_service.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    10729 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/handlers/admin.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    11709 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/handlers/appservice.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    37043 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/handlers/auth.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     8901 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/handlers/deactivate_account.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    26968 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/handlers/device.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     5121 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/handlers/devicemessage.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    16403 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/handlers/directory.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    47260 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/handlers/e2e_keys.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    16255 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/handlers/e2e_room_keys.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     6389 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/handlers/events.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)   110686 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/handlers/federation.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    19945 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/handlers/groups_local.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    36657 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/handlers/identity.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    16725 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/handlers/initial_sync.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    43768 2020-01-22 14:01:31.000000 matrix-synapse-1.9.0rc1/synapse/handlers/message.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    15679 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/handlers/pagination.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    49152 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/handlers/presence.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    14588 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/handlers/profile.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2270 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/handlers/read_marker.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     5493 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/handlers/receipts.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    26082 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/handlers/register.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    39003 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/handlers/room.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    17766 2020-01-22 14:01:31.000000 matrix-synapse-1.9.0rc1/synapse/handlers/room_list.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    38158 2020-01-22 14:01:31.000000 matrix-synapse-1.9.0rc1/synapse/handlers/room_member.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2859 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/handlers/room_member_worker.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    14790 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/handlers/saml_handler.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    17127 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/handlers/search.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2292 2019-12-17 14:57:44.000000 matrix-synapse-1.9.0rc1/synapse/handlers/set_password.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2353 2019-12-17 14:57:44.000000 matrix-synapse-1.9.0rc1/synapse/handlers/state_deltas.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    12388 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/handlers/stats.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    80885 2020-01-22 14:01:31.000000 matrix-synapse-1.9.0rc1/synapse/handlers/sync.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    11315 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/handlers/typing.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.085008 matrix-synapse-1.9.0rc1/synapse/handlers/ui_auth/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      826 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/handlers/ui_auth/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     8348 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/handlers/ui_auth/checkers.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    16235 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/handlers/user_directory.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.111674 matrix-synapse-1.9.0rc1/synapse/http/
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2138 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/http/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1975 2019-12-17 14:57:44.000000 matrix-synapse-1.9.0rc1/synapse/http/additional_resource.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    23030 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/http/client.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     7223 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/http/connectproxyclient.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2422 2019-12-17 14:57:44.000000 matrix-synapse-1.9.0rc1/synapse/http/endpoint.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.118340 matrix-synapse-1.9.0rc1/synapse/http/federation/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      602 2019-11-20 15:07:03.000000 matrix-synapse-1.9.0rc1/synapse/http/federation/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    11189 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/http/federation/matrix_federation_agent.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     5814 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/http/federation/srv_resolver.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    10584 2020-01-22 14:01:31.000000 matrix-synapse-1.9.0rc1/synapse/http/federation/well_known_resolver.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    34711 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/http/matrixfederationclient.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     6930 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/http/proxyagent.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     7597 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/http/request_metrics.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    19481 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/http/server.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     9864 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/http/servlet.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    13103 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/http/site.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.128340 matrix-synapse-1.9.0rc1/synapse/logging/
--rw-r--r--   0 brendan   (1000) brendan   (1000)        0 2019-12-17 14:57:44.000000 matrix-synapse-1.9.0rc1/synapse/logging/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    12350 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/logging/_structured.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    11372 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/logging/_terse_json.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    24751 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/logging/context.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1860 2019-12-17 14:57:44.000000 matrix-synapse-1.9.0rc1/synapse/logging/formatter.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    25308 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/logging/opentracing.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4979 2019-12-17 14:57:44.000000 matrix-synapse-1.9.0rc1/synapse/logging/scopecontextmanager.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     5502 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/logging/utils.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.128340 matrix-synapse-1.9.0rc1/synapse/metrics/
--rw-r--r--   0 brendan   (1000) brendan   (1000)    14666 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/metrics/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     8368 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/metrics/_exposition.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     8336 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/metrics/background_process_metrics.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.138339 matrix-synapse-1.9.0rc1/synapse/module_api/
--rw-r--r--   0 brendan   (1000) brendan   (1000)     7869 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/module_api/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)      772 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/module_api/errors.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    20811 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/notifier.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.155006 matrix-synapse-1.9.0rc1/synapse/push/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      736 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/synapse/push/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1655 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/synapse/push/action_generator.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    11836 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/synapse/push/baserules.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    18307 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/push/bulk_push_rule_evaluator.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3200 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/synapse/push/clientformat.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    12255 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/push/emailpusher.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    16238 2020-01-22 14:01:31.000000 matrix-synapse-1.9.0rc1/synapse/push/httppusher.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    25860 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/push/mailer.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     7633 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/synapse/push/presentable_names.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     7499 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/push/push_rule_evaluator.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2349 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/push/push_tools.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3121 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/push/pusher.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    10714 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/push/pusherpool.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)      774 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/synapse/push/rulekinds.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     6999 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/python_dependencies.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.155006 matrix-synapse-1.9.0rc1/synapse/replication/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      602 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/synapse/replication/__init__.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.171671 matrix-synapse-1.9.0rc1/synapse/replication/http/
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1303 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/replication/http/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     8809 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/replication/http/_base.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2190 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/replication/http/devices.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     7520 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/replication/http/federation.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2273 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/replication/http/login.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     6697 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/replication/http/membership.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4847 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/replication/http/register.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4337 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/replication/http/send_event.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.171671 matrix-synapse-1.9.0rc1/synapse/replication/slave/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      602 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/synapse/replication/slave/__init__.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.205004 matrix-synapse-1.9.0rc1/synapse/replication/slave/storage/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      602 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/synapse/replication/slave/storage/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3066 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/replication/slave/storage/_base.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1211 2019-11-20 15:07:03.000000 matrix-synapse-1.9.0rc1/synapse/replication/slave/storage/_slaved_id_tracker.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2949 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/replication/slave/storage/account_data.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)      909 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/replication/slave/storage/appservice.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1792 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/replication/slave/storage/client_ips.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2787 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/replication/slave/storage/deviceinbox.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3524 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/replication/slave/storage/devices.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)      793 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/replication/slave/storage/directory.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     5981 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/replication/slave/storage/events.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1074 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/replication/slave/storage/filtering.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2180 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/replication/slave/storage/groups.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)      821 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/replication/slave/storage/keys.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2541 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/replication/slave/storage/presence.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)      817 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/replication/slave/storage/profile.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2226 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/replication/slave/storage/push_rule.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1632 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/replication/slave/storage/pushers.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3045 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/replication/slave/storage/receipts.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)      811 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/replication/slave/storage/registration.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1653 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/replication/slave/storage/room.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)      796 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/replication/slave/storage/transactions.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.228336 matrix-synapse-1.9.0rc1/synapse/replication/tcp/
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1250 2019-11-20 15:07:03.000000 matrix-synapse-1.9.0rc1/synapse/replication/tcp/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     8889 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/replication/tcp/client.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    11622 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/replication/tcp/commands.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    28885 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/replication/tcp/protocol.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    12836 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/replication/tcp/resource.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.238336 matrix-synapse-1.9.0rc1/synapse/replication/tcp/streams/
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1726 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/replication/tcp/streams/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    14295 2020-01-22 14:01:31.000000 matrix-synapse-1.9.0rc1/synapse/replication/tcp/streams/_base.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4363 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/replication/tcp/streams/events.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1451 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/replication/tcp/streams/federation.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:42.031712 matrix-synapse-1.9.0rc1/synapse/res/
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.268335 matrix-synapse-1.9.0rc1/synapse/res/templates/
--rw-r--r--   0 brendan   (1000) brendan   (1000)       69 2019-11-20 15:07:03.000000 matrix-synapse-1.9.0rc1/synapse/res/templates/account_renewed.html
--rw-r--r--   0 brendan   (1000) brendan   (1000)      311 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/res/templates/add_threepid.html
--rw-r--r--   0 brendan   (1000) brendan   (1000)      230 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/res/templates/add_threepid.txt
--rw-r--r--   0 brendan   (1000) brendan   (1000)      169 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/res/templates/add_threepid_failure.html
--rw-r--r--   0 brendan   (1000) brendan   (1000)      147 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/res/templates/add_threepid_success.html
--rw-r--r--   0 brendan   (1000) brendan   (1000)       48 2019-11-20 15:07:03.000000 matrix-synapse-1.9.0rc1/synapse/res/templates/invalid_token.html
--rw-r--r--   0 brendan   (1000) brendan   (1000)      124 2019-11-20 15:07:03.000000 matrix-synapse-1.9.0rc1/synapse/res/templates/mail-Vector.css
--rw-r--r--   0 brendan   (1000) brendan   (1000)       63 2019-11-20 15:07:03.000000 matrix-synapse-1.9.0rc1/synapse/res/templates/mail-expiry.css
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2252 2019-11-20 15:07:03.000000 matrix-synapse-1.9.0rc1/synapse/res/templates/mail.css
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2085 2019-11-20 15:07:03.000000 matrix-synapse-1.9.0rc1/synapse/res/templates/notice_expiry.html
--rw-r--r--   0 brendan   (1000) brendan   (1000)      294 2019-11-20 15:07:03.000000 matrix-synapse-1.9.0rc1/synapse/res/templates/notice_expiry.txt
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2271 2019-11-20 15:07:03.000000 matrix-synapse-1.9.0rc1/synapse/res/templates/notif.html
--rw-r--r--   0 brendan   (1000) brendan   (1000)      565 2019-11-20 15:07:03.000000 matrix-synapse-1.9.0rc1/synapse/res/templates/notif.txt
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2796 2019-11-20 15:07:03.000000 matrix-synapse-1.9.0rc1/synapse/res/templates/notif_mail.html
--rw-r--r--   0 brendan   (1000) brendan   (1000)      188 2019-11-20 15:07:03.000000 matrix-synapse-1.9.0rc1/synapse/res/templates/notif_mail.txt
--rw-r--r--   0 brendan   (1000) brendan   (1000)      367 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/res/templates/password_reset.html
--rw-r--r--   0 brendan   (1000) brendan   (1000)      269 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/res/templates/password_reset.txt
--rw-r--r--   0 brendan   (1000) brendan   (1000)      160 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/res/templates/password_reset_failure.html
--rw-r--r--   0 brendan   (1000) brendan   (1000)      170 2019-11-20 15:07:03.000000 matrix-synapse-1.9.0rc1/synapse/res/templates/password_reset_success.html
--rw-r--r--   0 brendan   (1000) brendan   (1000)      334 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/res/templates/registration.html
--rw-r--r--   0 brendan   (1000) brendan   (1000)      241 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/res/templates/registration.txt
--rw-r--r--   0 brendan   (1000) brendan   (1000)      117 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/res/templates/registration_failure.html
--rw-r--r--   0 brendan   (1000) brendan   (1000)      147 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/res/templates/registration_success.html
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1104 2019-11-20 15:07:03.000000 matrix-synapse-1.9.0rc1/synapse/res/templates/room.html
--rw-r--r--   0 brendan   (1000) brendan   (1000)      210 2019-11-20 15:07:03.000000 matrix-synapse-1.9.0rc1/synapse/res/templates/room.txt
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.268335 matrix-synapse-1.9.0rc1/synapse/rest/
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4199 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/rest/__init__.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.295000 matrix-synapse-1.9.0rc1/synapse/rest/admin/
--rw-r--r--   0 brendan   (1000) brendan   (1000)     7997 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/rest/admin/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2822 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/rest/admin/_base.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1599 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/rest/admin/groups.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     5206 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/rest/admin/media.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1623 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/rest/admin/purge_room_servlet.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     8554 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/rest/admin/rooms.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3123 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/rest/admin/server_notice_servlet.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    20993 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/rest/admin/users.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.301667 matrix-synapse-1.9.0rc1/synapse/rest/client/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      608 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/synapse/rest/client/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4390 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/synapse/rest/client/transactions.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.311667 matrix-synapse-1.9.0rc1/synapse/rest/client/v1/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      607 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/synapse/rest/client/v1/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     6266 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/rest/client/v1/directory.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3443 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/rest/client/v1/events.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1781 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/rest/client/v1/initial_sync.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    24640 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/rest/client/v1/login.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2681 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/rest/client/v1/logout.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3188 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/rest/client/v1/presence.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     5264 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/rest/client/v1/profile.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    11163 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/rest/client/v1/push_rule.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     6090 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/rest/client/v1/pusher.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    33078 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/rest/client/v1/room.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2545 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/rest/client/v1/voip.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.344999 matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      607 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3020 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/_base.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    29623 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/account.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4395 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/account_data.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3397 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/account_validity.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     8222 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/auth.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2068 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/capabilities.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4838 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/devices.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3300 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/filter.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    23910 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/groups.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    10104 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/keys.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3280 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/notifications.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3013 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/openid.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2157 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/read_marker.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1824 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/receipts.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    28244 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/register.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    12375 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/relations.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2367 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/report_event.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    14221 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/room_keys.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2468 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/room_upgrade_rest_servlet.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2291 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/sendtodevice.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    15831 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/sync.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3022 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/tags.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3579 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/thirdparty.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1219 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/tokenrefresh.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2578 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/user_directory.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3498 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/rest/client/versions.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.344999 matrix-synapse-1.9.0rc1/synapse/rest/consent/
--rw-r--r--   0 brendan   (1000) brendan   (1000)        0 2019-11-20 15:07:03.000000 matrix-synapse-1.9.0rc1/synapse/rest/consent/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     7956 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/synapse/rest/consent/consent_resource.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.344999 matrix-synapse-1.9.0rc1/synapse/rest/key/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      608 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/synapse/rest/key/__init__.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.358332 matrix-synapse-1.9.0rc1/synapse/rest/key/v2/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      926 2019-11-20 15:07:03.000000 matrix-synapse-1.9.0rc1/synapse/rest/key/v2/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4026 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/synapse/rest/key/v2/local_key_resource.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     8843 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/rest/key/v2/remote_key_resource.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.358332 matrix-synapse-1.9.0rc1/synapse/rest/media/
--rw-r--r--   0 brendan   (1000) brendan   (1000)        0 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/synapse/rest/media/__init__.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.381664 matrix-synapse-1.9.0rc1/synapse/rest/media/v1/
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1518 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/synapse/rest/media/v1/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    12788 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/rest/media/v1/_base.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1407 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/synapse/rest/media/v1/config_resource.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2302 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/synapse/rest/media/v1/download_resource.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     6942 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/synapse/rest/media/v1/filepath.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    27539 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/rest/media/v1/media_repository.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     8832 2020-01-22 14:01:31.000000 matrix-synapse-1.9.0rc1/synapse/rest/media/v1/media_storage.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    27391 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/rest/media/v1/preview_url_resource.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4724 2020-01-22 14:01:31.000000 matrix-synapse-1.9.0rc1/synapse/rest/media/v1/storage_provider.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    13077 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/rest/media/v1/thumbnail_resource.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     5144 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/rest/media/v1/thumbnailer.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3317 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/rest/media/v1/upload_resource.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.381664 matrix-synapse-1.9.0rc1/synapse/rest/saml2/
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1068 2019-11-20 15:07:03.000000 matrix-synapse-1.9.0rc1/synapse/rest/saml2/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1161 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/synapse/rest/saml2/metadata_resource.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1075 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/synapse/rest/saml2/response_resource.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2097 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/rest/well_known.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1205 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/synapse/secrets.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    19113 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/server.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3623 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/server.pyi
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.388331 matrix-synapse-1.9.0rc1/synapse/server_notices/
--rw-r--r--   0 brendan   (1000) brendan   (1000)        0 2019-11-20 15:07:03.000000 matrix-synapse-1.9.0rc1/synapse/server_notices/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4622 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/server_notices/consent_server_notices.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     8571 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/server_notices/resource_limits_server_notices.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     5727 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/server_notices/server_notices_manager.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1996 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/synapse/server_notices/server_notices_sender.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1388 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/synapse/server_notices/worker_server_notices_sender.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.394997 matrix-synapse-1.9.0rc1/synapse/spam_checker_api/
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1771 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/spam_checker_api/__init__.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.418329 matrix-synapse-1.9.0rc1/synapse/state/
--rw-r--r--   0 brendan   (1000) brendan   (1000)    25297 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/state/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    11254 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/state/v1.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    19082 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/state/v2.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.418329 matrix-synapse-1.9.0rc1/synapse/static/
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:42.035045 matrix-synapse-1.9.0rc1/synapse/static/client/
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.424996 matrix-synapse-1.9.0rc1/synapse/static/client/login/
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1640 2019-11-20 15:07:03.000000 matrix-synapse-1.9.0rc1/synapse/static/client/login/index.html
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.428329 matrix-synapse-1.9.0rc1/synapse/static/client/login/js/
--rw-r--r--   0 brendan   (1000) brendan   (1000)    84320 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/synapse/static/client/login/js/jquery-2.1.3.min.js
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4042 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/static/client/login/js/login.js
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1849 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/synapse/static/client/login/spinner.gif
--rw-r--r--   0 brendan   (1000) brendan   (1000)      876 2019-11-20 15:07:03.000000 matrix-synapse-1.9.0rc1/synapse/static/client/login/style.css
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.434996 matrix-synapse-1.9.0rc1/synapse/static/client/register/
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1263 2019-11-20 15:07:03.000000 matrix-synapse-1.9.0rc1/synapse/static/client/register/index.html
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.434996 matrix-synapse-1.9.0rc1/synapse/static/client/register/js/
--rw-r--r--   0 brendan   (1000) brendan   (1000)    84320 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/synapse/static/client/register/js/jquery-2.1.3.min.js
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3568 2019-11-19 17:34:38.000000 matrix-synapse-1.9.0rc1/synapse/static/client/register/js/register.js
--rw-r--r--   0 brendan   (1000) brendan   (1000)       81 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/synapse/static/client/register/register_config.sample.js
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1020 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/synapse/static/client/register/style.css
--rw-r--r--   0 brendan   (1000) brendan   (1000)    10168 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/synapse/static/index.html
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.474994 matrix-synapse-1.9.0rc1/synapse/storage/
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2166 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4304 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/storage/_base.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    16775 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/background_updates.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.484994 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3134 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/__init__.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.568324 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/
--rw-r--r--   0 brendan   (1000) brendan   (1000)    21044 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    14911 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/account_data.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    13313 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/appservice.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     5965 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/cache.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    22490 2020-01-22 14:01:31.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/client_ips.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    17534 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/deviceinbox.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    40714 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/devices.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     5548 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/directory.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    16343 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/e2e_room_keys.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    29855 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/end_to_end_keys.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    21590 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/event_federation.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    36515 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/event_push_actions.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    75224 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/events.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    21937 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/events_bg_updates.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    33746 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/events_worker.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2768 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/filtering.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    41271 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/group_server.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     8370 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/keys.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    12565 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/media_repository.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    13415 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/monthly_active_users.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)      998 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/openid.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     5450 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/presence.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     6238 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/profile.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    24676 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/push_rule.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    12342 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/pusher.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    18612 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/receipts.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    55404 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/registration.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1348 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/rejections.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    12923 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/relations.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    44171 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/room.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    45532 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/roommember.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:42.038379 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:42.038379 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.568324 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/12/
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1895 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/12/v12.sql
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.568324 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/13/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      759 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/13/v13.sql
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.568324 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/14/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      881 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/14/v14.sql
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.568324 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/15/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      998 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/15/appservice_txns.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)       78 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/15/presence_indices.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      991 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/15/v15.sql
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.571657 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/16/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      174 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/16/events_order_index.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      114 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/16/remote_media_cache_index.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      265 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/16/remove_duplicates.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      157 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/16/room_alias_index.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2003 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/16/unique_constraints.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1519 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/16/users.sql
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.591657 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/17/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      725 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/17/drop_indexes.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1052 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/17/server_keys.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      310 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/17/user_threepids.sql
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.594990 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/18/
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1361 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/18/server_keys_bigger_ints.sql
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.598323 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/19/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      710 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/19/event_index.sql
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.598323 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/20/
--rw-r--r--   0 brendan   (1000) brendan   (1000)       10 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/20/dummy.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2906 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/20/pushers.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.608322 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/21/
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1555 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/21/end_to_end_keys.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1252 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/21/receipts.sql
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.618322 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/22/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      945 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/22/receipts_index.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      546 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/22/user_threepids_unique.sql
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.621656 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/24/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      710 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/24/stats_reporting.sql
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.631655 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/25/
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2444 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/25/fts.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)      881 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/25/guest_access.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      899 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/25/history_visibility.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1401 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/25/tags.sql
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.638321 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/26/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      684 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/26/account_data.sql
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.654988 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/27/
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1509 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/27/account_data.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      913 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/27/forgotten_memberships.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1857 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/27/ts.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.654988 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/28/
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1111 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/28/event_push_actions.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      912 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/28/events_room_stream.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      895 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/28/public_roms_index.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      927 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/28/receipts_user_id_index.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      746 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/28/upgrade_times.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      923 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/28/users_is_guest.sql
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.654988 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/29/
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1542 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/29/push_actions.sql
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.664987 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/30/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      645 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/30/alias_creator.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2427 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/30/as_users.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)      948 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/30/deleted_pushers.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1044 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/30/presence_stream.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      956 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/30/public_rooms.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1314 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/30/push_rule_stream.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1078 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/30/threepid_guest_access_tokens.sql
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.664987 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/31/
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1435 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/31/invites.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1266 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/31/local_media_repository_url_cache.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2774 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/31/pushers.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)      950 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/31/pushers_index.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2022 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/31/search_update.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.664987 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/32/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      645 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/32/events.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      241 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/32/openid.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      767 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/32/pusher_throttle.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1583 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/32/remove_indices.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      812 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/32/reports.sql
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.668321 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/33/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      702 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/33/access_tokens_device_index.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      761 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/33/devices.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      796 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/33/devices_for_e2e_keys.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      817 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/33/devices_for_e2e_keys_clear_unknown_device.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1837 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/33/event_fields.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)      994 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/33/remote_media_ts.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)      697 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/33/user_ips_index.sql
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.668321 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/34/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      908 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/34/appservice_stream.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1436 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/34/cache_stream.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)      934 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/34/device_inbox.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1078 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/34/push_display_name_rename.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1068 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/34/received_txn_purge.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.668321 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/35/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      704 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/35/contains_url.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1318 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/35/device_outbox.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      768 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/35/device_stream_id.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      699 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/35/event_push_actions_index.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1070 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/35/public_room_list_change_stream.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1309 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/35/stream_order_to_extrem.sql
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.668321 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/36/
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1055 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/36/readd_public_rooms.sql
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.668321 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/37/
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2642 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/37/remove_auth_idx.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2157 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/37/user_threepids.sql
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.668321 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/38/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      775 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/38/postgres_fts_gist.sql
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.671654 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/39/
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1083 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/39/appservice_room_list.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      676 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/39/device_federation_stream_idx.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      711 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/39/event_push_index.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      907 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/39/federation_out_position.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      825 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/39/membership_profile.sql
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.671654 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/40/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      701 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/40/current_state_idx.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      925 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/40/device_inbox.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2188 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/40/device_list_streams.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1443 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/40/event_push_summary.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1205 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/40/pushers.sql
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.671654 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/41/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      707 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/41/device_list_stream_idx.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      692 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/41/device_outbound_index.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      709 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/41/event_search_event_id_idx.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      796 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/41/ratelimit.sql
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.671654 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/42/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      955 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/42/current_state_delta.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1302 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/42/device_list_last_id.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      703 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/42/event_auth_state_only.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2604 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/42/user_dir.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.674987 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/43/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      783 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/43/blocked_rooms.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      731 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/43/quarantine_media.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      663 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/43/url_cache.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1386 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/43/user_share.sql
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.674987 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/44/
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1828 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/44/expire_url_cache.sql
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.674987 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/45/
--rw-r--r--   0 brendan   (1000) brendan   (1000)     5265 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/45/group_server.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1075 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/45/profile_cache.sql
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.684986 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/46/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      692 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/46/drop_refresh_tokens.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1300 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/46/drop_unique_deleted_pushers.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1158 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/46/group_server.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1072 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/46/local_media_repository_url_idx.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1366 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/46/user_dir_null_room_ids.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1083 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/46/user_dir_typos.sql
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.698319 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/47/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      664 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/47/last_access_media.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      703 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/47/postgres_fts_gin.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1086 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/47/push_actions_staging.sql
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.714985 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/48/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      720 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/48/add_user_consent.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      702 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/48/add_user_ips_last_seen_index.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      951 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/48/deactivated_users.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2134 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/48/group_unique_indexes.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)      911 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/48/groups_joinable.sql
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.718319 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/49/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      826 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/49/add_user_consent_server_notice_sent.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      915 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/49/add_user_daily_visits.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      707 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/49/add_user_ips_last_seen_only_index.sql
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.721652 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/50/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      697 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/50/add_creation_ts_users_index.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      785 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/50/erasure_store.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3060 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/50/make_event_content_nullable.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.724985 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/51/
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1345 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/51/e2e_room_keys.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1173 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/51/monthly_active_users.sql
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.738318 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/52/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      841 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/52/add_event_to_state_group_index.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1439 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/52/device_list_streams_unique_idx.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1859 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/52/e2e_room_keys.sql
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.758317 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/53/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      770 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/53/add_user_type_to_users.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      635 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/53/drop_sent_transactions.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      653 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/53/event_format_version.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1409 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/53/user_dir_populate.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1291 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/53/user_ips_index.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2037 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/53/user_share.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1038 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/53/user_threepid_id.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1021 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/53/users_in_public_rooms.sql
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.791649 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/54/
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1247 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/54/account_validity_with_renewal.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      973 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/54/add_validity_to_server_keys.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1070 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/54/delete_forward_extremities.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1189 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/54/drop_legacy_tables.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      631 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/54/drop_presence_list.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1154 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/54/relations.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2513 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/54/stats.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1203 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/54/stats2.sql
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.791649 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/55/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      780 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/55/access_token_expiry.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1112 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/55/track_threepid_validations.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      784 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/55/users_alter_deactivated.sql
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.831648 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      867 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/add_spans_to_device_lists.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1033 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/current_state_events_membership.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1092 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/current_state_events_membership_mk2.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      934 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/delete_keys_from_deleted_backups.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      943 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/destinations_failure_ts.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      806 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/destinations_retry_interval_type.sql.postgres
--rw-r--r--   0 brendan   (1000) brendan   (1000)      902 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/device_stream_id_insert.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1021 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/devices_last_seen.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      783 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/drop_unused_event_tables.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      788 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/event_expiry.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1269 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/event_labels.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      712 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/event_labels_background_update.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      811 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/fix_room_keys_index.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      768 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/hidden_devices.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1449 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/hidden_devices_fix.sql.sqlite
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2927 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/nuke_empty_communities_from_db.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      723 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/public_room_list_idx.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      690 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/redaction_censor.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      884 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/redaction_censor2.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1093 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/redaction_censor3_fix_update.sql.postgres
--rw-r--r--   0 brendan   (1000) brendan   (1000)      660 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/redaction_censor4.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      806 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/remove_tombstoned_rooms_from_directory.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      712 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/room_key_etag.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      804 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/room_membership_idx.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1241 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/room_retention.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2091 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/signing_keys.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1051 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/signing_keys_nonunique_signatures.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4845 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/stats_separated.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1543 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/unique_user_filter_index.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)      873 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/user_external_ids.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      760 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/users_in_public_rooms_idx.sql
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.831648 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/57/
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4107 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/57/local_current_membership.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.831648 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/full_schemas/
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.834981 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/full_schemas/16/
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1142 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/full_schemas/16/application_services.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2212 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/full_schemas/16/event_edges.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1212 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/full_schemas/16/event_signatures.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3631 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/full_schemas/16/im.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1033 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/full_schemas/16/keys.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3017 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/full_schemas/16/media_repository.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1166 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/full_schemas/16/presence.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      729 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/full_schemas/16/profiles.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2076 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/full_schemas/16/push.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      837 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/full_schemas/16/redactions.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      961 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/full_schemas/16/room_aliases.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1337 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/full_schemas/16/state.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1544 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/full_schemas/16/transactions.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1263 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/full_schemas/16/users.sql
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.834981 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/full_schemas/54/
--rw-r--r--   0 brendan   (1000) brendan   (1000)    40286 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/full_schemas/54/full.sql.postgres
--rw-r--r--   0 brendan   (1000) brendan   (1000)    29961 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/full_schemas/54/full.sql.sqlite
--rw-r--r--   0 brendan   (1000) brendan   (1000)      589 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/full_schemas/54/stream_positions.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      415 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/full_schemas/README.md
--rw-r--r--   0 brendan   (1000) brendan   (1000)    26936 2020-01-22 14:01:31.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/search.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3322 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/signatures.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    12345 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/state.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4631 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/state_deltas.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    31664 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/stats.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    34577 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/stream.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     9298 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/tags.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     9291 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/transactions.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    31499 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/user_directory.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3028 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/user_erasure_store.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.834981 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/state/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      707 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/state/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    14857 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/state/bg_updates.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:42.041712 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/state/schema/
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:42.041712 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/state/schema/delta/
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.844981 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/state/schema/delta/23/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      648 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/state/schema/delta/23/drop_state_index.sql
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.844981 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/state/schema/delta/30/
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1307 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/state/schema/delta/30/state_stream.sql
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.848314 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/state/schema/delta/32/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      747 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/state/schema/delta/32/remove_state_indices.sql
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.848314 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/state/schema/delta/35/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      753 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/state/schema/delta/35/add_state_index.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      851 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/state/schema/delta/35/state.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      709 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/state/schema/delta/35/state_dedupe.sql
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.848314 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/state/schema/delta/47/
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1168 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/state/schema/delta/47/state_group_seq.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.848314 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/state/schema/delta/56/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      720 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/state/schema/delta/56/state_group_room_idx.sql
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:42.041712 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/state/schema/full_schemas/
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.848314 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/state/schema/full_schemas/54/
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1257 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/state/schema/full_schemas/54/full.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)      728 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/state/schema/full_schemas/54/sequence.sql.postgres
--rw-r--r--   0 brendan   (1000) brendan   (1000)    24115 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/storage/data_stores/state/store.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    55810 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/database.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.861647 matrix-synapse-1.9.0rc1/synapse/storage/engines/
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1374 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/synapse/storage/engines/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)      663 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/synapse/storage/engines/_base.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4895 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/engines/postgres.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4442 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/engines/sqlite.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)      900 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/keys.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    27244 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/storage/persist_events.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    19296 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/storage/prepare_database.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2110 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/presence.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3990 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/storage/purge_events.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)      745 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/push_rule.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3266 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/relations.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1433 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/roommember.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.861647 matrix-synapse-1.9.0rc1/synapse/storage/schema/
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:42.041712 matrix-synapse-1.9.0rc1/synapse/storage/schema/delta/
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.874980 matrix-synapse-1.9.0rc1/synapse/storage/schema/delta/25/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      867 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/synapse/storage/schema/delta/25/00background_updates.sql
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.874980 matrix-synapse-1.9.0rc1/synapse/storage/schema/delta/35/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      655 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/schema/delta/35/00background_updates_add_col.sql
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:42.041712 matrix-synapse-1.9.0rc1/synapse/storage/schema/full_schemas/
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.874980 matrix-synapse-1.9.0rc1/synapse/storage/schema/full_schemas/54/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      190 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/schema/full_schemas/54/full.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1234 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/synapse/storage/schema/schema_version.sql
--rw-r--r--   0 brendan   (1000) brendan   (1000)    19238 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/storage/state.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.881646 matrix-synapse-1.9.0rc1/synapse/storage/util/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      607 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/synapse/storage/util/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     6523 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/storage/util/id_generators.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.888313 matrix-synapse-1.9.0rc1/synapse/streams/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      607 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/synapse/streams/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3593 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/streams/config.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3126 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/streams/events.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    16137 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/types.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:43.994975 matrix-synapse-1.9.0rc1/synapse/util/
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4505 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/util/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    16645 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/util/async_helpers.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:44.028308 matrix-synapse-1.9.0rc1/synapse/util/caches/
--rw-r--r--   0 brendan   (1000) brendan   (1000)     5301 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/util/caches/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    25503 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/util/caches/descriptors.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4979 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/synapse/util/caches/dictionary_cache.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     5346 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/synapse/util/caches/expiringcache.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     8219 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/synapse/util/caches/lrucache.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     5587 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/synapse/util/caches/response_cache.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     5197 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/synapse/util/caches/stream_change_cache.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2859 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/util/caches/treecache.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4731 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/util/caches/ttlcache.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4664 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/synapse/util/distributor.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     5128 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/synapse/util/file_consumer.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1916 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/synapse/util/frozenutils.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1069 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/util/hash.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4061 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/util/httpresourcetree.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1632 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/util/iterutils.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3323 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/synapse/util/jsonobject.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1142 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/synapse/util/logcontext.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)      768 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/synapse/util/logformatter.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     6207 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/synapse/util/manhole.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4663 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/util/metrics.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1925 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/synapse/util/module_loader.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1462 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/synapse/util/msisdn.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     8468 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/util/patch_inline_callbacks.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     6366 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/synapse/util/ratelimitutils.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     8722 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/util/retryutils.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1233 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/util/rlimit.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3224 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/synapse/util/stringutils.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1656 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/synapse/util/threepids.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3369 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/util/versionstring.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2920 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/synapse/util/wheel_timer.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    15510 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synapse/visibility.py
--rwxr-xr-x   0 brendan   (1000) brendan   (1000)    11590 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synctl
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:44.028308 matrix-synapse-1.9.0rc1/synmark/
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2152 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synmark/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2495 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synmark/__main__.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:44.031641 matrix-synapse-1.9.0rc1/synmark/suites/
--rw-r--r--   0 brendan   (1000) brendan   (1000)       85 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synmark/suites/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3372 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/synmark/suites/logging.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:44.118304 matrix-synapse-1.9.0rc1/tests/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      835 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/__init__.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:44.128304 matrix-synapse-1.9.0rc1/tests/api/
--rw-r--r--   0 brendan   (1000) brendan   (1000)        0 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/tests/api/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    16906 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/api/test_auth.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    18330 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/api/test_filtering.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1277 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/api/test_ratelimiting.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:44.138304 matrix-synapse-1.9.0rc1/tests/app/
--rw-r--r--   0 brendan   (1000) brendan   (1000)        0 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/app/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2954 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/app/test_frontend_proxy.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3736 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/app/test_openid_listener.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:44.151636 matrix-synapse-1.9.0rc1/tests/appservice/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      608 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/tests/appservice/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     7196 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/appservice/test_appservice.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    10094 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/appservice/test_scheduler.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:44.178302 matrix-synapse-1.9.0rc1/tests/config/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      602 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/tests/config/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1705 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/config/test_database.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2136 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/config/test_generate.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     5014 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/config/test_load.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1494 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/tests/config/test_ratelimiting.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4835 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/config/test_room_directory.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4275 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/config/test_server.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    10779 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/config/test_tls.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:44.188302 matrix-synapse-1.9.0rc1/tests/crypto/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      607 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/tests/crypto/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3430 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/tests/crypto/test_event_signing.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    23281 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/crypto/test_keyring.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:44.194968 matrix-synapse-1.9.0rc1/tests/events/
--rw-r--r--   0 brendan   (1000) brendan   (1000)        0 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/tests/events/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     7454 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/tests/events/test_utils.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:44.201635 matrix-synapse-1.9.0rc1/tests/federation/
--rw-r--r--   0 brendan   (1000) brendan   (1000)        0 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/federation/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     5001 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/federation/test_complexity.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     5128 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/federation/test_federation_sender.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3940 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/federation/test_federation_server.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:44.201635 matrix-synapse-1.9.0rc1/tests/federation/transport/
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2002 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/federation/transport/test_server.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:44.261633 matrix-synapse-1.9.0rc1/tests/handlers/
--rw-r--r--   0 brendan   (1000) brendan   (1000)        0 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/tests/handlers/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     8421 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/tests/handlers/test_admin.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     5576 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/handlers/test_appservice.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     7939 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/tests/handlers/test_auth.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     6664 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/handlers/test_device.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     6760 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/tests/handlers/test_directory.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    20660 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/handlers/test_e2e_keys.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    18154 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/handlers/test_e2e_room_keys.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     7746 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/handlers/test_federation.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    21643 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/handlers/test_presence.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4761 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/tests/handlers/test_profile.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    12828 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/handlers/test_register.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    25526 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/handlers/test_stats.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2544 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/tests/handlers/test_sync.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    11949 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/handlers/test_typing.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    13836 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/handlers/test_user_directory.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:44.274965 matrix-synapse-1.9.0rc1/tests/http/
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4237 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/http/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1115 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/http/ca.crt
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1679 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/http/ca.key
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:44.298298 matrix-synapse-1.9.0rc1/tests/http/federation/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      602 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/http/federation/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    45071 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/http/federation/test_matrix_federation_agent.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     6825 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/http/federation/test_srv_resolver.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1679 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/http/server.key
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1862 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/tests/http/test_endpoint.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    16225 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/tests/http/test_fedclient.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    11798 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/http/test_proxyagent.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:44.308297 matrix-synapse-1.9.0rc1/tests/logging/
--rw-r--r--   0 brendan   (1000) brendan   (1000)        0 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/logging/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     6952 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/logging/test_structured.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     7321 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/logging/test_terse_json.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:44.308297 matrix-synapse-1.9.0rc1/tests/push/
--rw-r--r--   0 brendan   (1000) brendan   (1000)        0 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/push/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     6842 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/push/test_email.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     5592 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/push/test_http.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:44.308297 matrix-synapse-1.9.0rc1/tests/replication/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      602 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/tests/replication/__init__.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:44.314964 matrix-synapse-1.9.0rc1/tests/replication/slave/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      602 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/tests/replication/slave/__init__.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:44.328297 matrix-synapse-1.9.0rc1/tests/replication/slave/storage/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      602 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/tests/replication/slave/storage/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3577 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/replication/slave/storage/_base.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1403 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/replication/slave/storage/test_account_data.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    12930 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/tests/replication/slave/storage/test_events.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1201 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/replication/slave/storage/test_receipts.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:44.334963 matrix-synapse-1.9.0rc1/tests/replication/tcp/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      602 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/replication/tcp/__init__.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:44.354962 matrix-synapse-1.9.0rc1/tests/replication/tcp/streams/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      602 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/replication/tcp/streams/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2766 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/tests/replication/tcp/streams/_base.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1745 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/replication/tcp/streams/test_receipts.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:44.364962 matrix-synapse-1.9.0rc1/tests/rest/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      608 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/tests/rest/__init__.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:44.381628 matrix-synapse-1.9.0rc1/tests/rest/admin/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      602 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/rest/admin/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    39164 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/tests/rest/admin/test_admin.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    16992 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/tests/rest/admin/test_user.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:44.401628 matrix-synapse-1.9.0rc1/tests/rest/client/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      608 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/tests/rest/client/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4190 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/tests/rest/client/test_consent.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3857 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/rest/client/test_ephemeral_message.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2077 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/tests/rest/client/test_identity.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     8180 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/rest/client/test_redactions.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    11134 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/rest/client/test_retention.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4966 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/tests/rest/client/test_transactions.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2501 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/rest/client/third_party_rules.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:44.454959 matrix-synapse-1.9.0rc1/tests/rest/client/v1/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      607 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/tests/rest/client/v1/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     5465 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/rest/client/v1/test_directory.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     5612 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/tests/rest/client/v1/test_events.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     9521 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/tests/rest/client/v1/test_login.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2373 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/rest/client/v1/test_presence.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    12172 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/rest/client/v1/test_profile.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    64204 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/rest/client/v1/test_rooms.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     5099 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/rest/client/v1/test_typing.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     6555 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/rest/client/v1/utils.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:44.474958 matrix-synapse-1.9.0rc1/tests/rest/client/v2_alpha/
--rw-r--r--   0 brendan   (1000) brendan   (1000)        0 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/rest/client/v2_alpha/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    10627 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/tests/rest/client/v2_alpha/test_account.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3982 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/rest/client/v2_alpha/test_auth.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3059 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/tests/rest/client/v2_alpha/test_capabilities.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4145 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/rest/client/v2_alpha/test_filter.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    23067 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/rest/client/v2_alpha/test_register.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    25159 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/tests/rest/client/v2_alpha/test_relations.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    11031 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/tests/rest/client/v2_alpha/test_sync.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:44.478291 matrix-synapse-1.9.0rc1/tests/rest/key/
--rw-r--r--   0 brendan   (1000) brendan   (1000)        0 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/rest/key/__init__.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:44.478291 matrix-synapse-1.9.0rc1/tests/rest/key/v2/
--rw-r--r--   0 brendan   (1000) brendan   (1000)        0 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/rest/key/v2/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     9973 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/rest/key/v2/test_remote_key_resource.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:44.488291 matrix-synapse-1.9.0rc1/tests/rest/media/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      602 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/rest/media/__init__.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:44.524957 matrix-synapse-1.9.0rc1/tests/rest/media/v1/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      602 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/rest/media/v1/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1450 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/tests/rest/media/v1/test_base.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     9367 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/tests/rest/media/v1/test_media_storage.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    17031 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/rest/media/v1/test_url_preview.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1783 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/rest/test_well_known.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:44.531623 matrix-synapse-1.9.0rc1/tests/scripts/
--rw-r--r--   0 brendan   (1000) brendan   (1000)        0 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/scripts/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4504 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/scripts/test_new_matrix_user.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    14540 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/server.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:44.571622 matrix-synapse-1.9.0rc1/tests/server_notices/
--rw-r--r--   0 brendan   (1000) brendan   (1000)        0 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/server_notices/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3684 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/server_notices/test_consent.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    11266 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/server_notices/test_resource_limits_server_notices.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:44.571622 matrix-synapse-1.9.0rc1/tests/state/
--rw-r--r--   0 brendan   (1000) brendan   (1000)        0 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/state/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    19556 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/state/test_v2.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:44.671618 matrix-synapse-1.9.0rc1/tests/storage/
--rw-r--r--   0 brendan   (1000) brendan   (1000)        0 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/tests/storage/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    10707 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/storage/test__base.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    18533 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/storage/test_appservice.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3105 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/storage/test_background_update.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     6410 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/storage/test_base.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    14701 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/storage/test_cleanup_extrems.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    14208 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/storage/test_client_ips.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     6238 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/storage/test_devices.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2285 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/storage/test_directory.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2659 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/storage/test_e2e_room_keys.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3620 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/storage/test_end_to_end_keys.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3806 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/storage/test_event_federation.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3234 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/tests/storage/test_event_metrics.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     6617 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/storage/test_event_push_actions.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4273 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/storage/test_keys.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    11646 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/storage/test_monthly_active_users.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1732 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/storage/test_profile.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3972 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/storage/test_purge.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    13291 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/storage/test_redaction.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4216 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/storage/test_registration.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3769 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/storage/test_room.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     5873 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/tests/storage/test_roommember.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    17664 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/storage/test_state.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2163 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/storage/test_transactions.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2567 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/storage/test_user_directory.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2072 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/test_distributor.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4419 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/test_event_auth.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     5110 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/test_federation.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     7468 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/test_mau.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4148 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/test_metrics.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1817 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/test_phone_home.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    10305 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/tests/test_preview.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     9761 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/tests/test_server.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    22931 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/test_state.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4678 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/test_terms_auth.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1789 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/test_test_utils.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3725 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/test_types.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:44.671618 matrix-synapse-1.9.0rc1/tests/test_utils/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      648 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/test_utils/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1767 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/tests/test_utils/logging_setup.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    11775 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/test_visibility.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    22240 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/tests/unittest.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:44.774948 matrix-synapse-1.9.0rc1/tests/util/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      607 2019-04-17 16:54:24.000000 matrix-synapse-1.9.0rc1/tests/util/__init__.py
-drwxr-xr-x   0 brendan   (1000) brendan   (1000)        0 2020-01-22 14:55:44.804947 matrix-synapse-1.9.0rc1/tests/util/caches/
--rw-r--r--   0 brendan   (1000) brendan   (1000)      608 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/util/caches/__init__.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    14499 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/util/caches/test_descriptors.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2886 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/util/caches/test_ttlcache.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3756 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/tests/util/test_async_utils.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3075 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/util/test_dict_cache.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2691 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/util/test_expiring_cache.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     5055 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/util/test_file_consumer.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1350 2020-01-22 13:48:11.000000 matrix-synapse-1.9.0rc1/tests/util/test_itertools.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3490 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/tests/util/test_linearizer.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     7132 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/util/test_logcontext.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     1156 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/tests/util/test_logformatter.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     7582 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/util/test_lrucache.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     3428 2019-12-17 14:57:45.000000 matrix-synapse-1.9.0rc1/tests/util/test_ratelimitutils.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     4097 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/util/test_retryutils.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2579 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/util/test_rwlock.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     8183 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/util/test_stream_change_cache.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2946 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/util/test_treecache.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)     2575 2019-11-20 15:07:04.000000 matrix-synapse-1.9.0rc1/tests/util/test_wheel_timer.py
--rw-r--r--   0 brendan   (1000) brendan   (1000)    21226 2020-01-22 13:48:00.000000 matrix-synapse-1.9.0rc1/tests/utils.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/
+-rw-r--r--   0 erikj     (1000) docker     (131)     1611 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/AUTHORS.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)   309239 2020-01-28 13:37:28.000000 matrix-synapse-1.9.1/CHANGES.md
+-rw-r--r--   0 erikj     (1000) docker     (131)     8886 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/CONTRIBUTING.md
+-rw-r--r--   0 erikj     (1000) docker     (131)    17627 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/INSTALL.md
+-rw-r--r--   0 erikj     (1000) docker     (131)    10174 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/LICENSE
+-rw-r--r--   0 erikj     (1000) docker     (131)     1164 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/MANIFEST.in
+-rw-r--r--   0 erikj     (1000) docker     (131)    20902 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/PKG-INFO
+-rw-r--r--   0 erikj     (1000) docker     (131)    16839 2020-01-09 13:25:34.000000 matrix-synapse-1.9.1/README.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)    28600 2020-01-28 10:21:29.000000 matrix-synapse-1.9.1/UPGRADE.rst
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/changelog.d/
+-rw-r--r--   0 erikj     (1000) docker     (131)       12 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/changelog.d/.gitignore
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/demo/
+-rw-r--r--   0 erikj     (1000) docker     (131)     1013 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/demo/README
+-rwxr-xr-x   0 erikj     (1000) docker     (131)      273 2019-06-28 17:47:51.000000 matrix-synapse-1.9.1/demo/clean.sh
+-rwxr-xr-x   0 erikj     (1000) docker     (131)     4236 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/demo/start.sh
+-rwxr-xr-x   0 erikj     (1000) docker     (131)      252 2019-06-28 17:47:51.000000 matrix-synapse-1.9.1/demo/stop.sh
+-rw-r--r--   0 erikj     (1000) docker     (131)     1510 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/demo/webserver.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/docs/
+-rw-r--r--   0 erikj     (1000) docker     (131)      605 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/docs/.sample_config_header.yaml
+-rw-r--r--   0 erikj     (1000) docker     (131)     4707 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/docs/ACME.md
+-rw-r--r--   0 erikj     (1000) docker     (131)     1104 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/docs/CAPTCHA_SETUP.md
+-rw-r--r--   0 erikj     (1000) docker     (131)    15848 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/docs/MSC1711_certificates_FAQ.md
+-rw-r--r--   0 erikj     (1000) docker     (131)      379 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/docs/README.md
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/docs/admin_api/
+-rw-r--r--   0 erikj     (1000) docker     (131)      999 2019-10-09 15:51:21.000000 matrix-synapse-1.9.1/docs/admin_api/README.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)     1084 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/docs/admin_api/account_validity.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      309 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/docs/admin_api/delete_group.md
+-rw-r--r--   0 erikj     (1000) docker     (131)     2061 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/docs/admin_api/media_admin_api.md
+-rw-r--r--   0 erikj     (1000) docker     (131)     2044 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/docs/admin_api/purge_history_api.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      462 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/docs/admin_api/purge_remote_media.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      311 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/docs/admin_api/purge_room.md
+-rw-r--r--   0 erikj     (1000) docker     (131)     2025 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/docs/admin_api/register_api.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)     4758 2020-01-27 14:07:23.000000 matrix-synapse-1.9.1/docs/admin_api/rooms.md
+-rw-r--r--   0 erikj     (1000) docker     (131)     1109 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/docs/admin_api/server_notices.md
+-rw-r--r--   0 erikj     (1000) docker     (131)     2608 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/docs/admin_api/shutdown_room.md
+-rw-r--r--   0 erikj     (1000) docker     (131)     4867 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/docs/admin_api/user_admin_api.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      500 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/docs/admin_api/version_api.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)     2900 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/docs/ancient_architecture_notes.md
+-rw-r--r--   0 erikj     (1000) docker     (131)      963 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/docs/application_services.md
+-rw-r--r--   0 erikj     (1000) docker     (131)     3583 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/docs/architecture.md
+-rw-r--r--   0 erikj     (1000) docker     (131)     5767 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/docs/code_style.md
+-rw-r--r--   0 erikj     (1000) docker     (131)     7251 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/consent_tracking.md
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/docs/dev/
+-rw-r--r--   0 erikj     (1000) docker     (131)     1664 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/docs/dev/saml.md
+-rw-r--r--   0 erikj     (1000) docker     (131)     7917 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/docs/federate.md
+-rw-r--r--   0 erikj     (1000) docker     (131)    18012 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/docs/log_contexts.md
+-rw-r--r--   0 erikj     (1000) docker     (131)     1345 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/manhole.md
+-rw-r--r--   0 erikj     (1000) docker     (131)     1312 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/docs/media_repository.md
+-rw-r--r--   0 erikj     (1000) docker     (131)     7910 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/docs/message_retention_policies.md
+-rw-r--r--   0 erikj     (1000) docker     (131)    15669 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/docs/metrics-howto.md
+-rw-r--r--   0 erikj     (1000) docker     (131)     3507 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/docs/opentracing.md
+-rw-r--r--   0 erikj     (1000) docker     (131)     4649 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/docs/password_auth_providers.md
+-rw-r--r--   0 erikj     (1000) docker     (131)     5526 2020-01-28 10:21:29.000000 matrix-synapse-1.9.1/docs/postgres.md
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/docs/privacy_policy_templates/
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/docs/privacy_policy_templates/en/
+-rw-r--r--   0 erikj     (1000) docker     (131)      724 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/privacy_policy_templates/en/1.0.html
+-rw-r--r--   0 erikj     (1000) docker     (131)      154 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/privacy_policy_templates/en/success.html
+-rw-r--r--   0 erikj     (1000) docker     (131)     1534 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/docs/replication.md
+-rw-r--r--   0 erikj     (1000) docker     (131)     4036 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/docs/reverse_proxy.md
+-rw-r--r--   0 erikj     (1000) docker     (131)     2235 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/docs/room_and_user_statistics.md
+-rw-r--r--   0 erikj     (1000) docker     (131)     4227 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/docs/saml_mapping_providers.md
+-rw-r--r--   0 erikj     (1000) docker     (131)    60299 2020-01-28 12:14:42.000000 matrix-synapse-1.9.1/docs/sample_config.yaml
+-rw-r--r--   0 erikj     (1000) docker     (131)     1122 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/docs/sample_log_config.yaml
+-rw-r--r--   0 erikj     (1000) docker     (131)     2421 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/docs/server_notices.md
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/docs/sphinx/
+-rw-r--r--   0 erikj     (1000) docker     (131)       51 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/README.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)     8623 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/docs/sphinx/conf.py
+-rw-r--r--   0 erikj     (1000) docker     (131)      419 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/index.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)       58 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/modules.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      139 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.api.auth.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      154 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.api.constants.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      154 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.api.dbobjects.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      145 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.api.errors.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      163 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.api.event_stream.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      169 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.api.events.factory.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      160 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.api.events.room.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      275 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.api.events.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      172 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.api.handlers.events.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      175 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.api.handlers.factory.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      184 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.api.handlers.federation.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      178 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.api.handlers.register.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      166 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.api.handlers.room.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      384 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.api.handlers.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      151 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.api.notifier.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      172 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.api.register_events.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      160 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.api.room_events.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      423 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.api.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      145 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.api.server.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      148 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.api.storage.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      145 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.api.stream.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      166 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.api.streams.event.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      250 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.api.streams.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      157 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.app.homeserver.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      223 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.app.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      156 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.db.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      169 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.federation.handler.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      175 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.federation.messaging.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      175 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.federation.pdu_codec.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      181 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.federation.persistence.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      181 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.federation.replication.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      408 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.federation.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      175 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.federation.transport.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      163 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.federation.units.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      318 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.persistence.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      172 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.persistence.service.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      169 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.persistence.tables.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      187 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.persistence.transactions.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      142 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.rest.base.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      148 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.rest.events.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      154 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.rest.register.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      142 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.rest.room.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      290 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.rest.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      373 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      133 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.server.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      130 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.state.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      145 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.util.async.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      151 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.util.dbutils.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      142 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.util.http.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      157 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.util.lockutils.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      154 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.util.logutils.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      322 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.util.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)      163 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/sphinx/synapse.util.stringutils.rst
+-rw-r--r--   0 erikj     (1000) docker     (131)     2169 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/docs/structured_logging.md
+-rw-r--r--   0 erikj     (1000) docker     (131)     9455 2020-01-27 14:07:23.000000 matrix-synapse-1.9.1/docs/tcp_replication.md
+-rw-r--r--   0 erikj     (1000) docker     (131)     4956 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/docs/turn-howto.md
+-rw-r--r--   0 erikj     (1000) docker     (131)     4695 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/docs/url_previews.md
+-rw-r--r--   0 erikj     (1000) docker     (131)      683 2019-12-18 10:47:07.000000 matrix-synapse-1.9.1/docs/user_directory.md
+-rw-r--r--   0 erikj     (1000) docker     (131)    11816 2020-01-28 13:37:28.000000 matrix-synapse-1.9.1/docs/workers.md
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/matrix_synapse.egg-info/
+-rw-r--r--   0 erikj     (1000) docker     (131)    20902 2020-01-28 13:38:14.000000 matrix-synapse-1.9.1/matrix_synapse.egg-info/PKG-INFO
+-rw-r--r--   0 erikj     (1000) docker     (131)    40934 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/matrix_synapse.egg-info/SOURCES.txt
+-rw-r--r--   0 erikj     (1000) docker     (131)        1 2020-01-28 13:38:14.000000 matrix-synapse-1.9.1/matrix_synapse.egg-info/dependency_links.txt
+-rw-r--r--   0 erikj     (1000) docker     (131)        1 2019-06-04 12:41:11.000000 matrix-synapse-1.9.1/matrix_synapse.egg-info/not-zip-safe
+-rw-r--r--   0 erikj     (1000) docker     (131)     1116 2020-01-28 13:38:14.000000 matrix-synapse-1.9.1/matrix_synapse.egg-info/requires.txt
+-rw-r--r--   0 erikj     (1000) docker     (131)       16 2020-01-28 13:38:14.000000 matrix-synapse-1.9.1/matrix_synapse.egg-info/top_level.txt
+-rw-r--r--   0 erikj     (1000) docker     (131)     1203 2019-07-30 13:34:56.000000 matrix-synapse-1.9.1/pyproject.toml
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/scripts/
+-rwxr-xr-x   0 erikj     (1000) docker     (131)     2627 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/scripts/export_signing_key
+-rwxr-xr-x   0 erikj     (1000) docker     (131)     2319 2019-07-15 13:07:58.000000 matrix-synapse-1.9.1/scripts/generate_config
+-rwxr-xr-x   0 erikj     (1000) docker     (131)     1292 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/scripts/generate_log_config
+-rwxr-xr-x   0 erikj     (1000) docker     (131)     1195 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/scripts/generate_signing_key.py
+-rwxr-xr-x   0 erikj     (1000) docker     (131)     2062 2020-01-27 14:07:23.000000 matrix-synapse-1.9.1/scripts/hash_password
+-rwxr-xr-x   0 erikj     (1000) docker     (131)     3732 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/scripts/move_remote_media_to_new_store.py
+-rwxr-xr-x   0 erikj     (1000) docker     (131)      768 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/scripts/register_new_matrix_user
+-rwxr-xr-x   0 erikj     (1000) docker     (131)    34463 2020-01-27 14:07:23.000000 matrix-synapse-1.9.1/scripts/synapse_port_db
+-rwxr-xr-x   0 erikj     (1000) docker     (131)     1827 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/scripts/sync_room_to_group.pl
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/scripts-dev/
+-rwxr-xr-x   0 erikj     (1000) docker     (131)     4907 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/scripts-dev/build_debian_packages
+-rwxr-xr-x   0 erikj     (1000) docker     (131)     1144 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/scripts-dev/check-newsfragment
+-rw-r--r--   0 erikj     (1000) docker     (131)     2232 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/scripts-dev/check_signature.py
+-rwxr-xr-x   0 erikj     (1000) docker     (131)      327 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/scripts-dev/config-lint.sh
+-rw-r--r--   0 erikj     (1000) docker     (131)     3510 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/scripts-dev/convert_server_keys.py
+-rwxr-xr-x   0 erikj     (1000) docker     (131)      377 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/scripts-dev/database-save.sh
+-rwxr-xr-x   0 erikj     (1000) docker     (131)     6602 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/scripts-dev/definitions.py
+-rwxr-xr-x   0 erikj     (1000) docker     (131)      572 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/scripts-dev/dump_macaroon.py
+-rwxr-xr-x   0 erikj     (1000) docker     (131)     9491 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/scripts-dev/federation_client.py
+-rwxr-xr-x   0 erikj     (1000) docker     (131)      980 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/scripts-dev/generate_sample_config
+-rw-r--r--   0 erikj     (1000) docker     (131)     2809 2019-12-18 10:47:07.000000 matrix-synapse-1.9.1/scripts-dev/hash_history.py
+-rwxr-xr-x   0 erikj     (1000) docker     (131)      394 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/scripts-dev/lint.sh
+-rwxr-xr-x   0 erikj     (1000) docker     (131)     1257 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/scripts-dev/list_url_patterns.py
+-rwxr-xr-x   0 erikj     (1000) docker     (131)     5090 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/scripts-dev/make_full_schema.sh
+-rwxr-xr-x   0 erikj     (1000) docker     (131)      298 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/scripts-dev/next_github_number.sh
+-rw-r--r--   0 erikj     (1000) docker     (131)       43 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/scripts-dev/sphinx_api_docs.sh
+-rw-r--r--   0 erikj     (1000) docker     (131)     1726 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/scripts-dev/tail-synapse.py
+-rwxr-xr-x   0 erikj     (1000) docker     (131)     3131 2020-01-27 14:07:23.000000 matrix-synapse-1.9.1/scripts-dev/update_database
+-rw-r--r--   0 erikj     (1000) docker     (131)      605 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/setup.cfg
+-rwxr-xr-x   0 erikj     (1000) docker     (131)     4227 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/setup.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/
+-rw-r--r--   0 erikj     (1000) docker     (131)     1456 2020-01-28 13:37:28.000000 matrix-synapse-1.9.1/synapse/__init__.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/_scripts/
+-rw-r--r--   0 erikj     (1000) docker     (131)        0 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/synapse/_scripts/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     6060 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/_scripts/register_new_matrix_user.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/api/
+-rw-r--r--   0 erikj     (1000) docker     (131)      607 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/synapse/api/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    28815 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/api/auth.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     4170 2019-12-18 10:47:07.000000 matrix-synapse-1.9.1/synapse/api/constants.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    17971 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/api/errors.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    14600 2020-01-27 14:07:23.000000 matrix-synapse-1.9.1/synapse/api/filtering.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3493 2020-01-27 14:07:23.000000 matrix-synapse-1.9.1/synapse/api/ratelimiting.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2963 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/api/room_versions.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2378 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/api/urls.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/app/
+-rw-r--r--   0 erikj     (1000) docker     (131)     1757 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/app/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    14618 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/app/_base.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     8713 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/app/admin_cmd.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     6143 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/app/appservice.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     8063 2020-01-27 14:07:23.000000 matrix-synapse-1.9.1/synapse/app/client_reader.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     7727 2020-01-27 14:07:23.000000 matrix-synapse-1.9.1/synapse/app/event_creator.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     6990 2020-01-27 14:07:23.000000 matrix-synapse-1.9.1/synapse/app/federation_reader.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    11358 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/app/federation_sender.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     9370 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/app/frontend_proxy.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    22435 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/app/homeserver.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     6377 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/app/media_repository.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     8064 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/app/pusher.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    18059 2020-01-27 14:07:23.000000 matrix-synapse-1.9.1/synapse/app/synchrotron.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     8591 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/app/user_dir.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/appservice/
+-rw-r--r--   0 erikj     (1000) docker     (131)    10200 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/appservice/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     7908 2019-12-18 10:47:07.000000 matrix-synapse-1.9.1/synapse/appservice/api.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    10304 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/synapse/appservice/scheduler.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/config/
+-rw-r--r--   0 erikj     (1000) docker     (131)      841 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/synapse/config/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1170 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/synapse/config/__main__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    24759 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/config/_base.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     4055 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/config/_base.pyi
+-rw-r--r--   0 erikj     (1000) docker     (131)     1502 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/config/api.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     6802 2019-12-18 10:47:07.000000 matrix-synapse-1.9.1/synapse/config/appservice.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2134 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/config/captcha.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1887 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/config/cas.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     4524 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/config/consent_config.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     5777 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/config/database.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    18407 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/config/emailconfig.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1271 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/config/groups.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2610 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/config/homeserver.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1687 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/config/jwt_config.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    17627 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/config/key.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     7922 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/config/logger.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3984 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/config/metrics.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1801 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/config/password.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2431 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/config/password_auth_providers.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2719 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/config/push.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     6740 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/config/ratelimiting.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    15303 2020-01-27 14:07:23.000000 matrix-synapse-1.9.1/synapse/config/registration.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    13075 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/config/repository.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     7800 2019-12-18 10:47:07.000000 matrix-synapse-1.9.1/synapse/config/room_directory.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    13110 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/config/saml2_config.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    42826 2020-01-27 14:07:23.000000 matrix-synapse-1.9.1/synapse/config/server.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3085 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/config/server_notices_config.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1181 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/config/spam_checker.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2049 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/config/stats.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1657 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/config/third_party_event_rules.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    20420 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/config/tls.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3313 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/config/tracer.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2135 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/config/user_directory.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2161 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/config/voip.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3303 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/config/workers.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/crypto/
+-rw-r--r--   0 erikj     (1000) docker     (131)      607 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/synapse/crypto/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     8597 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/synapse/crypto/context_factory.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     5618 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/crypto/event_signing.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    32820 2020-01-22 17:13:50.000000 matrix-synapse-1.9.1/synapse/crypto/keyring.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    23828 2020-01-27 14:07:23.000000 matrix-synapse-1.9.1/synapse/event_auth.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/events/
+-rw-r--r--   0 erikj     (1000) docker     (131)    13777 2020-01-28 13:37:28.000000 matrix-synapse-1.9.1/synapse/events/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     8901 2019-08-21 09:31:37.000000 matrix-synapse-1.9.1/synapse/events/builder.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    13191 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/events/snapshot.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     4135 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/events/spamcheck.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3817 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/events/third_party_rules.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    13164 2019-08-21 09:31:37.000000 matrix-synapse-1.9.1/synapse/events/utils.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     8284 2020-01-23 10:59:19.000000 matrix-synapse-1.9.1/synapse/events/validator.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/federation/
+-rw-r--r--   0 erikj     (1000) docker     (131)      673 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/synapse/federation/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    13852 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/federation/federation_base.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    33069 2020-01-28 13:37:28.000000 matrix-synapse-1.9.1/synapse/federation/federation_client.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    34206 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/federation/federation_server.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2114 2019-12-18 10:47:07.000000 matrix-synapse-1.9.1/synapse/federation/persistence.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    18211 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/federation/send_queue.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/federation/sender/
+-rw-r--r--   0 erikj     (1000) docker     (131)    19271 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/federation/sender/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    15081 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/federation/sender/per_destination_queue.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     5831 2020-01-27 11:45:30.000000 matrix-synapse-1.9.1/synapse/federation/sender/transaction_manager.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/federation/transport/
+-rw-r--r--   0 erikj     (1000) docker     (131)      967 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/federation/transport/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    31815 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/federation/transport/client.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    53083 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/federation/transport/server.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3165 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/synapse/federation/units.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/groups/
+-rw-r--r--   0 erikj     (1000) docker     (131)        0 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/synapse/groups/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     8134 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/groups/attestations.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    33245 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/groups/groups_server.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/handlers/
+-rw-r--r--   0 erikj     (1000) docker     (131)     1843 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/synapse/handlers/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     7630 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/handlers/_base.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1911 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/handlers/account_data.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    10364 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/handlers/account_validity.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3776 2019-08-21 09:31:37.000000 matrix-synapse-1.9.1/synapse/handlers/acme.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3921 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/synapse/handlers/acme_issuing_service.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    10729 2020-01-28 13:37:28.000000 matrix-synapse-1.9.1/synapse/handlers/admin.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    11709 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/handlers/appservice.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    37043 2019-12-18 10:47:07.000000 matrix-synapse-1.9.1/synapse/handlers/auth.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     8901 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/handlers/deactivate_account.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    26968 2020-01-24 15:54:06.000000 matrix-synapse-1.9.1/synapse/handlers/device.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     5121 2020-01-28 10:27:42.000000 matrix-synapse-1.9.1/synapse/handlers/devicemessage.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    16403 2020-01-24 10:02:49.000000 matrix-synapse-1.9.1/synapse/handlers/directory.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    47260 2020-01-27 12:00:45.000000 matrix-synapse-1.9.1/synapse/handlers/e2e_keys.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    16255 2019-12-18 10:47:07.000000 matrix-synapse-1.9.1/synapse/handlers/e2e_room_keys.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     6389 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/handlers/events.py
+-rw-r--r--   0 erikj     (1000) docker     (131)   110686 2020-01-28 13:37:28.000000 matrix-synapse-1.9.1/synapse/handlers/federation.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    19945 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/handlers/groups_local.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    36657 2020-01-28 13:37:28.000000 matrix-synapse-1.9.1/synapse/handlers/identity.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    16725 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/handlers/initial_sync.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    43768 2020-01-17 11:20:33.000000 matrix-synapse-1.9.1/synapse/handlers/message.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    15679 2020-01-27 14:07:23.000000 matrix-synapse-1.9.1/synapse/handlers/pagination.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    49152 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/handlers/presence.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    14588 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/handlers/profile.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2270 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/handlers/read_marker.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     5493 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/handlers/receipts.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    26082 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/handlers/register.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    39003 2020-01-28 13:37:28.000000 matrix-synapse-1.9.1/synapse/handlers/room.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    17766 2020-01-08 16:55:48.000000 matrix-synapse-1.9.1/synapse/handlers/room_list.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    38158 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/handlers/room_member.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2859 2019-12-18 10:47:07.000000 matrix-synapse-1.9.1/synapse/handlers/room_member_worker.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    14790 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/handlers/saml_handler.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    17127 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/handlers/search.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2292 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/synapse/handlers/set_password.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2353 2020-01-06 14:43:22.000000 matrix-synapse-1.9.1/synapse/handlers/state_deltas.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    12388 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/handlers/stats.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    80885 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/handlers/sync.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    11315 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/handlers/typing.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/handlers/ui_auth/
+-rw-r--r--   0 erikj     (1000) docker     (131)      826 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/synapse/handlers/ui_auth/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     8348 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/handlers/ui_auth/checkers.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    16235 2020-01-06 14:43:26.000000 matrix-synapse-1.9.1/synapse/handlers/user_directory.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/http/
+-rw-r--r--   0 erikj     (1000) docker     (131)     2138 2019-10-10 12:15:24.000000 matrix-synapse-1.9.1/synapse/http/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1975 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/synapse/http/additional_resource.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    23030 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/http/client.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     7223 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/http/connectproxyclient.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2422 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/synapse/http/endpoint.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/http/federation/
+-rw-r--r--   0 erikj     (1000) docker     (131)      602 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/synapse/http/federation/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    11189 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/synapse/http/federation/matrix_federation_agent.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     5814 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/http/federation/srv_resolver.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    10584 2020-01-08 16:55:48.000000 matrix-synapse-1.9.1/synapse/http/federation/well_known_resolver.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    34711 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/http/matrixfederationclient.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     6930 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/http/proxyagent.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     7597 2020-01-16 11:10:05.000000 matrix-synapse-1.9.1/synapse/http/request_metrics.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    19481 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/http/server.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     9864 2019-12-18 10:47:07.000000 matrix-synapse-1.9.1/synapse/http/servlet.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    13103 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/http/site.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/logging/
+-rw-r--r--   0 erikj     (1000) docker     (131)        0 2019-07-30 13:34:56.000000 matrix-synapse-1.9.1/synapse/logging/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    12350 2019-12-18 10:47:07.000000 matrix-synapse-1.9.1/synapse/logging/_structured.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    11372 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/logging/_terse_json.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    24751 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/logging/context.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1860 2019-07-30 13:34:56.000000 matrix-synapse-1.9.1/synapse/logging/formatter.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    25308 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/logging/opentracing.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     4979 2019-08-21 09:31:37.000000 matrix-synapse-1.9.1/synapse/logging/scopecontextmanager.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     5502 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/logging/utils.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/metrics/
+-rw-r--r--   0 erikj     (1000) docker     (131)    14666 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/metrics/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     8368 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/metrics/_exposition.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     8336 2019-12-10 11:56:28.000000 matrix-synapse-1.9.1/synapse/metrics/background_process_metrics.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/module_api/
+-rw-r--r--   0 erikj     (1000) docker     (131)     7869 2020-01-23 15:18:15.000000 matrix-synapse-1.9.1/synapse/module_api/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)      772 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/module_api/errors.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    20811 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/notifier.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/push/
+-rw-r--r--   0 erikj     (1000) docker     (131)      736 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/synapse/push/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1655 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/synapse/push/action_generator.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    11836 2019-09-24 13:40:30.000000 matrix-synapse-1.9.1/synapse/push/baserules.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    18307 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/push/bulk_push_rule_evaluator.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3200 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/synapse/push/clientformat.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    12255 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/push/emailpusher.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    16238 2020-01-08 16:55:48.000000 matrix-synapse-1.9.1/synapse/push/httppusher.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    25860 2019-12-18 10:47:07.000000 matrix-synapse-1.9.1/synapse/push/mailer.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     7633 2019-10-23 16:16:50.000000 matrix-synapse-1.9.1/synapse/push/presentable_names.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     7499 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/push/push_rule_evaluator.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2349 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/push/push_tools.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3121 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/push/pusher.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    10714 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/push/pusherpool.py
+-rw-r--r--   0 erikj     (1000) docker     (131)      774 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/synapse/push/rulekinds.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     6999 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/python_dependencies.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/replication/
+-rw-r--r--   0 erikj     (1000) docker     (131)      602 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/synapse/replication/__init__.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/replication/http/
+-rw-r--r--   0 erikj     (1000) docker     (131)     1303 2019-12-18 10:47:07.000000 matrix-synapse-1.9.1/synapse/replication/http/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     8809 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/replication/http/_base.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2190 2019-12-18 10:47:07.000000 matrix-synapse-1.9.1/synapse/replication/http/devices.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     7520 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/replication/http/federation.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2273 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/replication/http/login.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     6697 2019-12-18 10:47:07.000000 matrix-synapse-1.9.1/synapse/replication/http/membership.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     4847 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/replication/http/register.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     4337 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/replication/http/send_event.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/replication/slave/
+-rw-r--r--   0 erikj     (1000) docker     (131)      602 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/synapse/replication/slave/__init__.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/replication/slave/storage/
+-rw-r--r--   0 erikj     (1000) docker     (131)      602 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/synapse/replication/slave/storage/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3066 2020-01-27 14:07:23.000000 matrix-synapse-1.9.1/synapse/replication/slave/storage/_base.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1211 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/synapse/replication/slave/storage/_slaved_id_tracker.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2949 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/replication/slave/storage/account_data.py
+-rw-r--r--   0 erikj     (1000) docker     (131)      909 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/replication/slave/storage/appservice.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1792 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/replication/slave/storage/client_ips.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2787 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/replication/slave/storage/deviceinbox.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3524 2020-01-28 10:27:42.000000 matrix-synapse-1.9.1/synapse/replication/slave/storage/devices.py
+-rw-r--r--   0 erikj     (1000) docker     (131)      793 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/replication/slave/storage/directory.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     5981 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/replication/slave/storage/events.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1074 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/replication/slave/storage/filtering.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2180 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/replication/slave/storage/groups.py
+-rw-r--r--   0 erikj     (1000) docker     (131)      821 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/replication/slave/storage/keys.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2541 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/replication/slave/storage/presence.py
+-rw-r--r--   0 erikj     (1000) docker     (131)      817 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/replication/slave/storage/profile.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2226 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/replication/slave/storage/push_rule.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1632 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/replication/slave/storage/pushers.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3045 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/replication/slave/storage/receipts.py
+-rw-r--r--   0 erikj     (1000) docker     (131)      811 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/replication/slave/storage/registration.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1653 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/replication/slave/storage/room.py
+-rw-r--r--   0 erikj     (1000) docker     (131)      796 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/replication/slave/storage/transactions.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/replication/tcp/
+-rw-r--r--   0 erikj     (1000) docker     (131)     1250 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/synapse/replication/tcp/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     8889 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/replication/tcp/client.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    11622 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/replication/tcp/commands.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    28885 2020-01-28 13:37:28.000000 matrix-synapse-1.9.1/synapse/replication/tcp/protocol.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    12836 2020-01-28 13:37:28.000000 matrix-synapse-1.9.1/synapse/replication/tcp/resource.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/replication/tcp/streams/
+-rw-r--r--   0 erikj     (1000) docker     (131)     1726 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/replication/tcp/streams/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    14295 2020-01-27 14:07:23.000000 matrix-synapse-1.9.1/synapse/replication/tcp/streams/_base.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     4363 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/replication/tcp/streams/events.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1451 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/replication/tcp/streams/federation.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/res/
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/res/templates/
+-rw-r--r--   0 erikj     (1000) docker     (131)       69 2019-08-29 10:18:53.000000 matrix-synapse-1.9.1/synapse/res/templates/account_renewed.html
+-rw-r--r--   0 erikj     (1000) docker     (131)      311 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/synapse/res/templates/add_threepid.html
+-rw-r--r--   0 erikj     (1000) docker     (131)      230 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/synapse/res/templates/add_threepid.txt
+-rw-r--r--   0 erikj     (1000) docker     (131)      169 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/synapse/res/templates/add_threepid_failure.html
+-rw-r--r--   0 erikj     (1000) docker     (131)      147 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/synapse/res/templates/add_threepid_success.html
+-rw-r--r--   0 erikj     (1000) docker     (131)       48 2019-08-29 10:18:53.000000 matrix-synapse-1.9.1/synapse/res/templates/invalid_token.html
+-rw-r--r--   0 erikj     (1000) docker     (131)      124 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/synapse/res/templates/mail-Vector.css
+-rw-r--r--   0 erikj     (1000) docker     (131)       63 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/synapse/res/templates/mail-expiry.css
+-rw-r--r--   0 erikj     (1000) docker     (131)     2252 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/synapse/res/templates/mail.css
+-rw-r--r--   0 erikj     (1000) docker     (131)     2085 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/synapse/res/templates/notice_expiry.html
+-rw-r--r--   0 erikj     (1000) docker     (131)      294 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/synapse/res/templates/notice_expiry.txt
+-rw-r--r--   0 erikj     (1000) docker     (131)     2271 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/synapse/res/templates/notif.html
+-rw-r--r--   0 erikj     (1000) docker     (131)      565 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/synapse/res/templates/notif.txt
+-rw-r--r--   0 erikj     (1000) docker     (131)     2796 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/synapse/res/templates/notif_mail.html
+-rw-r--r--   0 erikj     (1000) docker     (131)      188 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/synapse/res/templates/notif_mail.txt
+-rw-r--r--   0 erikj     (1000) docker     (131)      367 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/synapse/res/templates/password_reset.html
+-rw-r--r--   0 erikj     (1000) docker     (131)      269 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/synapse/res/templates/password_reset.txt
+-rw-r--r--   0 erikj     (1000) docker     (131)      160 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/synapse/res/templates/password_reset_failure.html
+-rw-r--r--   0 erikj     (1000) docker     (131)      170 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/synapse/res/templates/password_reset_success.html
+-rw-r--r--   0 erikj     (1000) docker     (131)      334 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/synapse/res/templates/registration.html
+-rw-r--r--   0 erikj     (1000) docker     (131)      241 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/synapse/res/templates/registration.txt
+-rw-r--r--   0 erikj     (1000) docker     (131)      117 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/synapse/res/templates/registration_failure.html
+-rw-r--r--   0 erikj     (1000) docker     (131)      147 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/synapse/res/templates/registration_success.html
+-rw-r--r--   0 erikj     (1000) docker     (131)     1104 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/synapse/res/templates/room.html
+-rw-r--r--   0 erikj     (1000) docker     (131)      210 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/synapse/res/templates/room.txt
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/rest/
+-rw-r--r--   0 erikj     (1000) docker     (131)     4199 2019-10-10 15:10:04.000000 matrix-synapse-1.9.1/synapse/rest/__init__.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/rest/admin/
+-rw-r--r--   0 erikj     (1000) docker     (131)     7997 2020-01-27 14:07:23.000000 matrix-synapse-1.9.1/synapse/rest/admin/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2822 2020-01-27 14:07:23.000000 matrix-synapse-1.9.1/synapse/rest/admin/_base.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1599 2019-12-18 10:47:07.000000 matrix-synapse-1.9.1/synapse/rest/admin/groups.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     5206 2020-01-27 14:07:23.000000 matrix-synapse-1.9.1/synapse/rest/admin/media.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1623 2019-10-31 11:22:16.000000 matrix-synapse-1.9.1/synapse/rest/admin/purge_room_servlet.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     8554 2020-01-27 14:07:23.000000 matrix-synapse-1.9.1/synapse/rest/admin/rooms.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3123 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/rest/admin/server_notice_servlet.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    20993 2020-01-28 13:37:28.000000 matrix-synapse-1.9.1/synapse/rest/admin/users.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/rest/client/
+-rw-r--r--   0 erikj     (1000) docker     (131)      608 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/synapse/rest/client/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     4390 2019-07-30 13:34:56.000000 matrix-synapse-1.9.1/synapse/rest/client/transactions.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/rest/client/v1/
+-rw-r--r--   0 erikj     (1000) docker     (131)      607 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/synapse/rest/client/v1/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     6266 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/rest/client/v1/directory.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3443 2020-01-27 14:07:23.000000 matrix-synapse-1.9.1/synapse/rest/client/v1/events.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1781 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/rest/client/v1/initial_sync.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    24640 2020-01-27 14:07:23.000000 matrix-synapse-1.9.1/synapse/rest/client/v1/login.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2681 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/rest/client/v1/logout.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3188 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/rest/client/v1/presence.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     5264 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/rest/client/v1/profile.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    11163 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/rest/client/v1/push_rule.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     6090 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/rest/client/v1/pusher.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    33078 2020-01-27 14:07:23.000000 matrix-synapse-1.9.1/synapse/rest/client/v1/room.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2545 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/rest/client/v1/voip.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/
+-rw-r--r--   0 erikj     (1000) docker     (131)      607 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3020 2020-01-27 14:07:23.000000 matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/_base.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    29623 2020-01-28 13:37:28.000000 matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/account.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     4395 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/account_data.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3397 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/account_validity.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     8222 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/auth.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2068 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/capabilities.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     4838 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/devices.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3300 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/filter.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    23910 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/groups.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    10104 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/keys.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3280 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/notifications.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3013 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/openid.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2157 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/read_marker.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1824 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/receipts.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    28244 2020-01-28 13:37:28.000000 matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/register.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    12375 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/relations.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2367 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/report_event.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    14221 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/room_keys.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2468 2020-01-28 13:37:28.000000 matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/room_upgrade_rest_servlet.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2291 2020-01-27 14:07:23.000000 matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/sendtodevice.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    15831 2020-01-06 16:07:21.000000 matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/sync.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3022 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/tags.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3579 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/thirdparty.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1219 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/tokenrefresh.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2578 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/user_directory.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3498 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/rest/client/versions.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/rest/consent/
+-rw-r--r--   0 erikj     (1000) docker     (131)        0 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/synapse/rest/consent/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     7956 2019-07-17 09:56:18.000000 matrix-synapse-1.9.1/synapse/rest/consent/consent_resource.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/rest/key/
+-rw-r--r--   0 erikj     (1000) docker     (131)      608 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/synapse/rest/key/__init__.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/rest/key/v2/
+-rw-r--r--   0 erikj     (1000) docker     (131)      926 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/synapse/rest/key/v2/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     4026 2019-08-21 09:39:53.000000 matrix-synapse-1.9.1/synapse/rest/key/v2/local_key_resource.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     8843 2020-01-27 14:07:23.000000 matrix-synapse-1.9.1/synapse/rest/key/v2/remote_key_resource.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/rest/media/
+-rw-r--r--   0 erikj     (1000) docker     (131)        0 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/synapse/rest/media/__init__.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/rest/media/v1/
+-rw-r--r--   0 erikj     (1000) docker     (131)     1518 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/synapse/rest/media/v1/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    12788 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/rest/media/v1/_base.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1407 2019-07-17 09:56:18.000000 matrix-synapse-1.9.1/synapse/rest/media/v1/config_resource.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2302 2019-10-11 10:40:22.000000 matrix-synapse-1.9.1/synapse/rest/media/v1/download_resource.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     6942 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/synapse/rest/media/v1/filepath.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    27539 2020-01-27 14:07:23.000000 matrix-synapse-1.9.1/synapse/rest/media/v1/media_repository.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     8832 2020-01-28 13:37:28.000000 matrix-synapse-1.9.1/synapse/rest/media/v1/media_storage.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    27391 2020-01-27 14:07:23.000000 matrix-synapse-1.9.1/synapse/rest/media/v1/preview_url_resource.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     4724 2020-01-28 13:37:28.000000 matrix-synapse-1.9.1/synapse/rest/media/v1/storage_provider.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    13077 2020-01-27 14:07:23.000000 matrix-synapse-1.9.1/synapse/rest/media/v1/thumbnail_resource.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     5144 2019-12-18 10:47:07.000000 matrix-synapse-1.9.1/synapse/rest/media/v1/thumbnailer.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3317 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/rest/media/v1/upload_resource.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/rest/saml2/
+-rw-r--r--   0 erikj     (1000) docker     (131)     1068 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/synapse/rest/saml2/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1161 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/synapse/rest/saml2/metadata_resource.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1075 2019-07-17 09:56:18.000000 matrix-synapse-1.9.1/synapse/rest/saml2/response_resource.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2097 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/synapse/rest/well_known.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1205 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/synapse/secrets.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    19113 2020-01-28 12:13:37.000000 matrix-synapse-1.9.1/synapse/server.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3623 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/server.pyi
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/server_notices/
+-rw-r--r--   0 erikj     (1000) docker     (131)        0 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/synapse/server_notices/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     4622 2019-12-18 10:47:07.000000 matrix-synapse-1.9.1/synapse/server_notices/consent_server_notices.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     8571 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/server_notices/resource_limits_server_notices.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     5727 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/server_notices/server_notices_manager.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1996 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/synapse/server_notices/server_notices_sender.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1388 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/synapse/server_notices/worker_server_notices_sender.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/spam_checker_api/
+-rw-r--r--   0 erikj     (1000) docker     (131)     1771 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/spam_checker_api/__init__.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/state/
+-rw-r--r--   0 erikj     (1000) docker     (131)    25297 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/state/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    11254 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/state/v1.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    19082 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/state/v2.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/static/
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/static/client/
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/static/client/login/
+-rw-r--r--   0 erikj     (1000) docker     (131)     1640 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/synapse/static/client/login/index.html
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/static/client/login/js/
+-rw-r--r--   0 erikj     (1000) docker     (131)    84320 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/synapse/static/client/login/js/jquery-2.1.3.min.js
+-rw-r--r--   0 erikj     (1000) docker     (131)     4042 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/synapse/static/client/login/js/login.js
+-rw-r--r--   0 erikj     (1000) docker     (131)     1849 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/synapse/static/client/login/spinner.gif
+-rw-r--r--   0 erikj     (1000) docker     (131)      876 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/synapse/static/client/login/style.css
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/static/client/register/
+-rw-r--r--   0 erikj     (1000) docker     (131)     1263 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/synapse/static/client/register/index.html
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/static/client/register/js/
+-rw-r--r--   0 erikj     (1000) docker     (131)    84320 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/synapse/static/client/register/js/jquery-2.1.3.min.js
+-rw-r--r--   0 erikj     (1000) docker     (131)     3568 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/synapse/static/client/register/js/register.js
+-rw-r--r--   0 erikj     (1000) docker     (131)       81 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/synapse/static/client/register/register_config.sample.js
+-rw-r--r--   0 erikj     (1000) docker     (131)     1020 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/synapse/static/client/register/style.css
+-rw-r--r--   0 erikj     (1000) docker     (131)    10168 2019-08-21 09:31:37.000000 matrix-synapse-1.9.1/synapse/static/index.html
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/
+-rw-r--r--   0 erikj     (1000) docker     (131)     2166 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/storage/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     4304 2020-01-27 14:07:23.000000 matrix-synapse-1.9.1/synapse/storage/_base.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    16775 2020-01-16 09:23:38.000000 matrix-synapse-1.9.1/synapse/storage/background_updates.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/
+-rw-r--r--   0 erikj     (1000) docker     (131)     3134 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/__init__.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/
+-rw-r--r--   0 erikj     (1000) docker     (131)    21044 2020-01-16 09:23:38.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    14911 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/account_data.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    13313 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/appservice.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     5965 2020-01-28 13:37:28.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/cache.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    22490 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/client_ips.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    17534 2020-01-10 11:03:41.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/deviceinbox.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    40714 2020-01-28 10:27:42.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/devices.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     5548 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/directory.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    16343 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/e2e_room_keys.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    29855 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/end_to_end_keys.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    21590 2020-01-16 09:23:38.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/event_federation.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    36515 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/event_push_actions.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    75224 2020-01-28 13:37:28.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/events.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    21937 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/events_bg_updates.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    33746 2020-01-28 13:37:28.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/events_worker.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2768 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/filtering.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    41271 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/group_server.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     8370 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/keys.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    12565 2020-01-08 13:18:48.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/media_repository.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    13699 2020-01-28 13:37:28.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/monthly_active_users.py
+-rw-r--r--   0 erikj     (1000) docker     (131)      998 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/openid.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     5450 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/presence.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     6238 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/profile.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    24676 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/push_rule.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    12342 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/pusher.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    18612 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/receipts.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    55404 2020-01-28 13:37:29.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/registration.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1348 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/rejections.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    12923 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/relations.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    44171 2020-01-28 13:37:29.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/room.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    45532 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/roommember.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/12/
+-rw-r--r--   0 erikj     (1000) docker     (131)     1895 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/12/v12.sql
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/13/
+-rw-r--r--   0 erikj     (1000) docker     (131)      759 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/13/v13.sql
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/14/
+-rw-r--r--   0 erikj     (1000) docker     (131)      881 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/14/v14.sql
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/15/
+-rw-r--r--   0 erikj     (1000) docker     (131)      998 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/15/appservice_txns.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)       78 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/15/presence_indices.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      991 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/15/v15.sql
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/16/
+-rw-r--r--   0 erikj     (1000) docker     (131)      174 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/16/events_order_index.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      114 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/16/remote_media_cache_index.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      265 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/16/remove_duplicates.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      157 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/16/room_alias_index.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     2003 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/16/unique_constraints.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1519 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/16/users.sql
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/17/
+-rw-r--r--   0 erikj     (1000) docker     (131)      725 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/17/drop_indexes.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1052 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/17/server_keys.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      310 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/17/user_threepids.sql
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/18/
+-rw-r--r--   0 erikj     (1000) docker     (131)     1361 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/18/server_keys_bigger_ints.sql
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/19/
+-rw-r--r--   0 erikj     (1000) docker     (131)      710 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/19/event_index.sql
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/20/
+-rw-r--r--   0 erikj     (1000) docker     (131)       10 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/20/dummy.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     2906 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/20/pushers.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/21/
+-rw-r--r--   0 erikj     (1000) docker     (131)     1555 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/21/end_to_end_keys.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1252 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/21/receipts.sql
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/22/
+-rw-r--r--   0 erikj     (1000) docker     (131)      945 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/22/receipts_index.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      546 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/22/user_threepids_unique.sql
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/24/
+-rw-r--r--   0 erikj     (1000) docker     (131)      710 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/24/stats_reporting.sql
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/25/
+-rw-r--r--   0 erikj     (1000) docker     (131)     2444 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/25/fts.py
+-rw-r--r--   0 erikj     (1000) docker     (131)      881 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/25/guest_access.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      899 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/25/history_visibility.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1401 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/25/tags.sql
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/26/
+-rw-r--r--   0 erikj     (1000) docker     (131)      684 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/26/account_data.sql
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/27/
+-rw-r--r--   0 erikj     (1000) docker     (131)     1509 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/27/account_data.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      913 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/27/forgotten_memberships.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1857 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/27/ts.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/28/
+-rw-r--r--   0 erikj     (1000) docker     (131)     1111 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/28/event_push_actions.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      912 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/28/events_room_stream.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      895 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/28/public_roms_index.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      927 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/28/receipts_user_id_index.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      746 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/28/upgrade_times.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      923 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/28/users_is_guest.sql
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/29/
+-rw-r--r--   0 erikj     (1000) docker     (131)     1542 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/29/push_actions.sql
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/30/
+-rw-r--r--   0 erikj     (1000) docker     (131)      645 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/30/alias_creator.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     2427 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/30/as_users.py
+-rw-r--r--   0 erikj     (1000) docker     (131)      948 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/30/deleted_pushers.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1044 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/30/presence_stream.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      956 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/30/public_rooms.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1314 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/30/push_rule_stream.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1078 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/30/threepid_guest_access_tokens.sql
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/31/
+-rw-r--r--   0 erikj     (1000) docker     (131)     1435 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/31/invites.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1266 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/31/local_media_repository_url_cache.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     2774 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/31/pushers.py
+-rw-r--r--   0 erikj     (1000) docker     (131)      950 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/31/pushers_index.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     2022 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/31/search_update.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/32/
+-rw-r--r--   0 erikj     (1000) docker     (131)      645 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/32/events.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      241 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/32/openid.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      767 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/32/pusher_throttle.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1583 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/32/remove_indices.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      812 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/32/reports.sql
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/33/
+-rw-r--r--   0 erikj     (1000) docker     (131)      702 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/33/access_tokens_device_index.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      761 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/33/devices.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      796 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/33/devices_for_e2e_keys.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      817 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/33/devices_for_e2e_keys_clear_unknown_device.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1837 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/33/event_fields.py
+-rw-r--r--   0 erikj     (1000) docker     (131)      994 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/33/remote_media_ts.py
+-rw-r--r--   0 erikj     (1000) docker     (131)      697 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/33/user_ips_index.sql
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/34/
+-rw-r--r--   0 erikj     (1000) docker     (131)      908 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/34/appservice_stream.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1436 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/34/cache_stream.py
+-rw-r--r--   0 erikj     (1000) docker     (131)      934 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/34/device_inbox.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1078 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/34/push_display_name_rename.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1068 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/34/received_txn_purge.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/35/
+-rw-r--r--   0 erikj     (1000) docker     (131)      704 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/35/contains_url.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1318 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/35/device_outbox.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      768 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/35/device_stream_id.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      699 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/35/event_push_actions_index.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1070 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/35/public_room_list_change_stream.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1309 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/35/stream_order_to_extrem.sql
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/36/
+-rw-r--r--   0 erikj     (1000) docker     (131)     1055 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/36/readd_public_rooms.sql
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/37/
+-rw-r--r--   0 erikj     (1000) docker     (131)     2642 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/37/remove_auth_idx.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2157 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/37/user_threepids.sql
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/38/
+-rw-r--r--   0 erikj     (1000) docker     (131)      775 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/38/postgres_fts_gist.sql
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/39/
+-rw-r--r--   0 erikj     (1000) docker     (131)     1083 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/39/appservice_room_list.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      676 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/39/device_federation_stream_idx.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      711 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/39/event_push_index.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      907 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/39/federation_out_position.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      825 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/39/membership_profile.sql
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/40/
+-rw-r--r--   0 erikj     (1000) docker     (131)      701 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/40/current_state_idx.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      925 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/40/device_inbox.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     2188 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/40/device_list_streams.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1443 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/40/event_push_summary.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1205 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/40/pushers.sql
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/41/
+-rw-r--r--   0 erikj     (1000) docker     (131)      707 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/41/device_list_stream_idx.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      692 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/41/device_outbound_index.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      709 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/41/event_search_event_id_idx.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      796 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/41/ratelimit.sql
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/42/
+-rw-r--r--   0 erikj     (1000) docker     (131)      955 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/42/current_state_delta.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1302 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/42/device_list_last_id.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      703 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/42/event_auth_state_only.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     2604 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/42/user_dir.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/43/
+-rw-r--r--   0 erikj     (1000) docker     (131)      783 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/43/blocked_rooms.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      731 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/43/quarantine_media.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      663 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/43/url_cache.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1386 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/43/user_share.sql
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/44/
+-rw-r--r--   0 erikj     (1000) docker     (131)     1828 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/44/expire_url_cache.sql
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/45/
+-rw-r--r--   0 erikj     (1000) docker     (131)     5265 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/45/group_server.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1075 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/45/profile_cache.sql
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/46/
+-rw-r--r--   0 erikj     (1000) docker     (131)      692 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/46/drop_refresh_tokens.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1300 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/46/drop_unique_deleted_pushers.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1158 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/46/group_server.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1072 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/46/local_media_repository_url_idx.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1366 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/46/user_dir_null_room_ids.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1083 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/46/user_dir_typos.sql
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/47/
+-rw-r--r--   0 erikj     (1000) docker     (131)      664 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/47/last_access_media.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      703 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/47/postgres_fts_gin.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1086 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/47/push_actions_staging.sql
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/48/
+-rw-r--r--   0 erikj     (1000) docker     (131)      720 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/48/add_user_consent.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      702 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/48/add_user_ips_last_seen_index.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      951 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/48/deactivated_users.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     2134 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/48/group_unique_indexes.py
+-rw-r--r--   0 erikj     (1000) docker     (131)      911 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/48/groups_joinable.sql
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/49/
+-rw-r--r--   0 erikj     (1000) docker     (131)      826 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/49/add_user_consent_server_notice_sent.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      915 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/49/add_user_daily_visits.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      707 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/49/add_user_ips_last_seen_only_index.sql
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/50/
+-rw-r--r--   0 erikj     (1000) docker     (131)      697 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/50/add_creation_ts_users_index.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      785 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/50/erasure_store.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     3060 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/50/make_event_content_nullable.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/51/
+-rw-r--r--   0 erikj     (1000) docker     (131)     1345 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/51/e2e_room_keys.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1173 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/51/monthly_active_users.sql
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/52/
+-rw-r--r--   0 erikj     (1000) docker     (131)      841 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/52/add_event_to_state_group_index.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1439 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/52/device_list_streams_unique_idx.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1859 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/52/e2e_room_keys.sql
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/53/
+-rw-r--r--   0 erikj     (1000) docker     (131)      770 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/53/add_user_type_to_users.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      635 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/53/drop_sent_transactions.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      653 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/53/event_format_version.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1409 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/53/user_dir_populate.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1291 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/53/user_ips_index.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     2037 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/53/user_share.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1038 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/53/user_threepid_id.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1021 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/53/users_in_public_rooms.sql
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/54/
+-rw-r--r--   0 erikj     (1000) docker     (131)     1247 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/54/account_validity_with_renewal.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      973 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/54/add_validity_to_server_keys.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1070 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/54/delete_forward_extremities.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1189 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/54/drop_legacy_tables.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      631 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/54/drop_presence_list.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1154 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/54/relations.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     2513 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/54/stats.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1203 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/54/stats2.sql
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/55/
+-rw-r--r--   0 erikj     (1000) docker     (131)      780 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/55/access_token_expiry.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1112 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/55/track_threepid_validations.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      784 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/55/users_alter_deactivated.sql
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/
+-rw-r--r--   0 erikj     (1000) docker     (131)      867 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/add_spans_to_device_lists.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1033 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/current_state_events_membership.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1092 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/current_state_events_membership_mk2.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      934 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/delete_keys_from_deleted_backups.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      943 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/destinations_failure_ts.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      806 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/destinations_retry_interval_type.sql.postgres
+-rw-r--r--   0 erikj     (1000) docker     (131)      902 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/device_stream_id_insert.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1021 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/devices_last_seen.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      783 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/drop_unused_event_tables.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      788 2019-12-18 10:47:07.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/event_expiry.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1269 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/event_labels.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      712 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/event_labels_background_update.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      811 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/fix_room_keys_index.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      768 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/hidden_devices.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1449 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/hidden_devices_fix.sql.sqlite
+-rw-r--r--   0 erikj     (1000) docker     (131)     2927 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/nuke_empty_communities_from_db.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      723 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/public_room_list_idx.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      690 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/redaction_censor.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      884 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/redaction_censor2.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1093 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/redaction_censor3_fix_update.sql.postgres
+-rw-r--r--   0 erikj     (1000) docker     (131)      660 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/redaction_censor4.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      806 2020-01-16 09:23:38.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/remove_tombstoned_rooms_from_directory.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      712 2019-12-18 10:47:07.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/room_key_etag.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      804 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/room_membership_idx.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1241 2019-12-18 10:47:07.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/room_retention.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     2091 2019-12-18 10:47:07.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/signing_keys.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1051 2019-12-18 10:47:07.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/signing_keys_nonunique_signatures.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     4845 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/stats_separated.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1543 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/unique_user_filter_index.py
+-rw-r--r--   0 erikj     (1000) docker     (131)      873 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/user_external_ids.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      760 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/users_in_public_rooms_idx.sql
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/57/
+-rw-r--r--   0 erikj     (1000) docker     (131)     4107 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/57/local_current_membership.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/full_schemas/
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/full_schemas/16/
+-rw-r--r--   0 erikj     (1000) docker     (131)     1142 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/full_schemas/16/application_services.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     2212 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/full_schemas/16/event_edges.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1212 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/full_schemas/16/event_signatures.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     3631 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/full_schemas/16/im.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1033 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/full_schemas/16/keys.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     3017 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/full_schemas/16/media_repository.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1166 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/full_schemas/16/presence.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      729 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/full_schemas/16/profiles.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     2076 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/full_schemas/16/push.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      837 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/full_schemas/16/redactions.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      961 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/full_schemas/16/room_aliases.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1337 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/full_schemas/16/state.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1544 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/full_schemas/16/transactions.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1263 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/full_schemas/16/users.sql
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/full_schemas/54/
+-rw-r--r--   0 erikj     (1000) docker     (131)    40286 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/full_schemas/54/full.sql.postgres
+-rw-r--r--   0 erikj     (1000) docker     (131)    29961 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/full_schemas/54/full.sql.sqlite
+-rw-r--r--   0 erikj     (1000) docker     (131)      589 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/full_schemas/54/stream_positions.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      415 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/full_schemas/README.md
+-rw-r--r--   0 erikj     (1000) docker     (131)    26936 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/search.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3322 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/signatures.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    12345 2020-01-28 13:37:29.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/state.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     4631 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/state_deltas.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    31664 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/stats.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    34577 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/stream.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     9298 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/tags.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     9291 2020-01-14 16:08:30.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/transactions.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    31499 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/user_directory.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3028 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/main/user_erasure_store.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/state/
+-rw-r--r--   0 erikj     (1000) docker     (131)      707 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/state/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    14857 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/state/bg_updates.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/state/schema/
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/state/schema/delta/
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/state/schema/delta/23/
+-rw-r--r--   0 erikj     (1000) docker     (131)      648 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/state/schema/delta/23/drop_state_index.sql
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/state/schema/delta/30/
+-rw-r--r--   0 erikj     (1000) docker     (131)     1307 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/state/schema/delta/30/state_stream.sql
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/state/schema/delta/32/
+-rw-r--r--   0 erikj     (1000) docker     (131)      747 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/state/schema/delta/32/remove_state_indices.sql
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/state/schema/delta/35/
+-rw-r--r--   0 erikj     (1000) docker     (131)      753 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/state/schema/delta/35/add_state_index.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      851 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/state/schema/delta/35/state.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      709 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/state/schema/delta/35/state_dedupe.sql
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/state/schema/delta/47/
+-rw-r--r--   0 erikj     (1000) docker     (131)     1168 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/state/schema/delta/47/state_group_seq.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/state/schema/delta/56/
+-rw-r--r--   0 erikj     (1000) docker     (131)      720 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/state/schema/delta/56/state_group_room_idx.sql
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/state/schema/full_schemas/
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/state/schema/full_schemas/54/
+-rw-r--r--   0 erikj     (1000) docker     (131)     1257 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/state/schema/full_schemas/54/full.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)      728 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/state/schema/full_schemas/54/sequence.sql.postgres
+-rw-r--r--   0 erikj     (1000) docker     (131)    24115 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/storage/data_stores/state/store.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    55810 2020-01-23 13:59:15.000000 matrix-synapse-1.9.1/synapse/storage/database.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/engines/
+-rw-r--r--   0 erikj     (1000) docker     (131)     1374 2019-10-25 15:03:57.000000 matrix-synapse-1.9.1/synapse/storage/engines/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)      663 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/synapse/storage/engines/_base.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     4895 2020-01-28 10:21:29.000000 matrix-synapse-1.9.1/synapse/storage/engines/postgres.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     4442 2020-01-28 10:21:29.000000 matrix-synapse-1.9.1/synapse/storage/engines/sqlite.py
+-rw-r--r--   0 erikj     (1000) docker     (131)      900 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/keys.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    27244 2020-01-28 11:58:40.000000 matrix-synapse-1.9.1/synapse/storage/persist_events.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    19296 2020-01-28 10:21:29.000000 matrix-synapse-1.9.1/synapse/storage/prepare_database.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2110 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/presence.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3990 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/storage/purge_events.py
+-rw-r--r--   0 erikj     (1000) docker     (131)      745 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/push_rule.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3266 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/relations.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1433 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/roommember.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/schema/
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/schema/delta/
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/schema/delta/25/
+-rw-r--r--   0 erikj     (1000) docker     (131)      867 2019-10-21 10:43:29.000000 matrix-synapse-1.9.1/synapse/storage/schema/delta/25/00background_updates.sql
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/schema/delta/35/
+-rw-r--r--   0 erikj     (1000) docker     (131)      655 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/schema/delta/35/00background_updates_add_col.sql
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/schema/full_schemas/
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/schema/full_schemas/54/
+-rw-r--r--   0 erikj     (1000) docker     (131)      190 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/schema/full_schemas/54/full.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)     1234 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/synapse/storage/schema/schema_version.sql
+-rw-r--r--   0 erikj     (1000) docker     (131)    19238 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/storage/state.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/storage/util/
+-rw-r--r--   0 erikj     (1000) docker     (131)      607 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/synapse/storage/util/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     6523 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/storage/util/id_generators.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/streams/
+-rw-r--r--   0 erikj     (1000) docker     (131)      607 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/synapse/streams/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3593 2019-12-18 10:47:07.000000 matrix-synapse-1.9.1/synapse/streams/config.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3126 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/synapse/streams/events.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    16137 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/types.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/util/
+-rw-r--r--   0 erikj     (1000) docker     (131)     4505 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/util/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    16645 2020-01-09 13:25:34.000000 matrix-synapse-1.9.1/synapse/util/async_helpers.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synapse/util/caches/
+-rw-r--r--   0 erikj     (1000) docker     (131)     5301 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/util/caches/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    25503 2020-01-21 16:47:54.000000 matrix-synapse-1.9.1/synapse/util/caches/descriptors.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     4979 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/synapse/util/caches/dictionary_cache.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     5346 2020-01-14 10:39:48.000000 matrix-synapse-1.9.1/synapse/util/caches/expiringcache.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     8219 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/synapse/util/caches/lrucache.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     5587 2019-10-29 11:56:40.000000 matrix-synapse-1.9.1/synapse/util/caches/response_cache.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     5197 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/synapse/util/caches/stream_change_cache.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2859 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/util/caches/treecache.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     4731 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/synapse/util/caches/ttlcache.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     4664 2019-07-30 13:34:56.000000 matrix-synapse-1.9.1/synapse/util/distributor.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     5128 2019-07-30 13:34:56.000000 matrix-synapse-1.9.1/synapse/util/file_consumer.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1916 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/synapse/util/frozenutils.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1069 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/synapse/util/hash.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     4061 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/util/httpresourcetree.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1632 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/util/iterutils.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3323 2019-09-05 13:02:22.000000 matrix-synapse-1.9.1/synapse/util/jsonobject.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1142 2019-07-30 13:34:56.000000 matrix-synapse-1.9.1/synapse/util/logcontext.py
+-rw-r--r--   0 erikj     (1000) docker     (131)      768 2019-07-30 13:34:56.000000 matrix-synapse-1.9.1/synapse/util/logformatter.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     6207 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/synapse/util/manhole.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     4663 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synapse/util/metrics.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1925 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/synapse/util/module_loader.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1462 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/synapse/util/msisdn.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     8468 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/util/patch_inline_callbacks.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     6366 2019-07-30 13:34:56.000000 matrix-synapse-1.9.1/synapse/util/ratelimitutils.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     8722 2020-01-15 16:18:12.000000 matrix-synapse-1.9.1/synapse/util/retryutils.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1233 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/util/rlimit.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3224 2020-01-28 13:37:29.000000 matrix-synapse-1.9.1/synapse/util/stringutils.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1656 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/synapse/util/threepids.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3369 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/synapse/util/versionstring.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2920 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/synapse/util/wheel_timer.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    15510 2020-01-09 13:25:34.000000 matrix-synapse-1.9.1/synapse/visibility.py
+-rwxr-xr-x   0 erikj     (1000) docker     (131)    11590 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/synctl
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synmark/
+-rw-r--r--   0 erikj     (1000) docker     (131)     2152 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/synmark/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2495 2019-12-18 10:47:07.000000 matrix-synapse-1.9.1/synmark/__main__.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/synmark/suites/
+-rw-r--r--   0 erikj     (1000) docker     (131)       85 2019-12-18 10:47:07.000000 matrix-synapse-1.9.1/synmark/suites/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3372 2019-12-18 10:47:07.000000 matrix-synapse-1.9.1/synmark/suites/logging.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/tests/
+-rw-r--r--   0 erikj     (1000) docker     (131)      835 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/tests/__init__.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/tests/api/
+-rw-r--r--   0 erikj     (1000) docker     (131)        0 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/tests/api/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    16906 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/tests/api/test_auth.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    18330 2019-12-18 10:47:07.000000 matrix-synapse-1.9.1/tests/api/test_filtering.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1277 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/tests/api/test_ratelimiting.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/tests/app/
+-rw-r--r--   0 erikj     (1000) docker     (131)        0 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/tests/app/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2954 2019-12-04 15:02:04.000000 matrix-synapse-1.9.1/tests/app/test_frontend_proxy.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3736 2020-01-08 13:53:22.000000 matrix-synapse-1.9.1/tests/app/test_openid_listener.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/tests/appservice/
+-rw-r--r--   0 erikj     (1000) docker     (131)      608 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/tests/appservice/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     7196 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/tests/appservice/test_appservice.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    10094 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/tests/appservice/test_scheduler.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/tests/config/
+-rw-r--r--   0 erikj     (1000) docker     (131)      602 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/tests/config/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1705 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/tests/config/test_database.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2136 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/tests/config/test_generate.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     5014 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/tests/config/test_load.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1494 2019-07-30 13:34:56.000000 matrix-synapse-1.9.1/tests/config/test_ratelimiting.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     4835 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/tests/config/test_room_directory.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     4275 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/tests/config/test_server.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    10779 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/tests/config/test_tls.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/tests/crypto/
+-rw-r--r--   0 erikj     (1000) docker     (131)      607 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/tests/crypto/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3430 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/tests/crypto/test_event_signing.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    23281 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/tests/crypto/test_keyring.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/tests/events/
+-rw-r--r--   0 erikj     (1000) docker     (131)        0 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/tests/events/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     7454 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/tests/events/test_utils.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/tests/federation/
+-rw-r--r--   0 erikj     (1000) docker     (131)        0 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/tests/federation/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     5001 2019-12-18 10:47:07.000000 matrix-synapse-1.9.1/tests/federation/test_complexity.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     5128 2019-12-18 10:47:07.000000 matrix-synapse-1.9.1/tests/federation/test_federation_sender.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3940 2019-12-18 10:47:07.000000 matrix-synapse-1.9.1/tests/federation/test_federation_server.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/tests/federation/transport/
+-rw-r--r--   0 erikj     (1000) docker     (131)     2002 2019-12-18 10:47:07.000000 matrix-synapse-1.9.1/tests/federation/transport/test_server.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/tests/handlers/
+-rw-r--r--   0 erikj     (1000) docker     (131)        0 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/tests/handlers/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     8421 2019-10-21 12:49:53.000000 matrix-synapse-1.9.1/tests/handlers/test_admin.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     5576 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/tests/handlers/test_appservice.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     7939 2019-07-30 13:34:56.000000 matrix-synapse-1.9.1/tests/handlers/test_auth.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     6664 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/tests/handlers/test_device.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     6760 2020-01-06 15:31:56.000000 matrix-synapse-1.9.1/tests/handlers/test_directory.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    20660 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/tests/handlers/test_e2e_keys.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    18154 2019-12-18 10:47:07.000000 matrix-synapse-1.9.1/tests/handlers/test_e2e_room_keys.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     7746 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/tests/handlers/test_federation.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    21643 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/tests/handlers/test_presence.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     4761 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/tests/handlers/test_profile.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    12828 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/tests/handlers/test_register.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    25526 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/tests/handlers/test_stats.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2544 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/tests/handlers/test_sync.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    11949 2020-01-27 12:00:08.000000 matrix-synapse-1.9.1/tests/handlers/test_typing.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    13836 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/tests/handlers/test_user_directory.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/tests/http/
+-rw-r--r--   0 erikj     (1000) docker     (131)     4237 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/tests/http/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1115 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/tests/http/ca.crt
+-rw-r--r--   0 erikj     (1000) docker     (131)     1679 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/tests/http/ca.key
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/tests/http/federation/
+-rw-r--r--   0 erikj     (1000) docker     (131)      602 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/tests/http/federation/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    45071 2020-01-08 13:50:57.000000 matrix-synapse-1.9.1/tests/http/federation/test_matrix_federation_agent.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     6825 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/tests/http/federation/test_srv_resolver.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1679 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/tests/http/server.key
+-rw-r--r--   0 erikj     (1000) docker     (131)     1862 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/tests/http/test_endpoint.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    16225 2019-08-21 09:31:37.000000 matrix-synapse-1.9.1/tests/http/test_fedclient.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    11798 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/tests/http/test_proxyagent.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/tests/logging/
+-rw-r--r--   0 erikj     (1000) docker     (131)        0 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/tests/logging/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     6952 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/tests/logging/test_structured.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     7321 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/tests/logging/test_terse_json.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/tests/push/
+-rw-r--r--   0 erikj     (1000) docker     (131)        0 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/tests/push/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     6842 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/tests/push/test_email.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     5592 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/tests/push/test_http.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/tests/replication/
+-rw-r--r--   0 erikj     (1000) docker     (131)      602 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/tests/replication/__init__.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/tests/replication/slave/
+-rw-r--r--   0 erikj     (1000) docker     (131)      602 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/tests/replication/slave/__init__.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/tests/replication/slave/storage/
+-rw-r--r--   0 erikj     (1000) docker     (131)      602 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/tests/replication/slave/storage/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3577 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/tests/replication/slave/storage/_base.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1403 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/tests/replication/slave/storage/test_account_data.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    12930 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/tests/replication/slave/storage/test_events.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1201 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/tests/replication/slave/storage/test_receipts.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/tests/replication/tcp/
+-rw-r--r--   0 erikj     (1000) docker     (131)      602 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/tests/replication/tcp/__init__.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/tests/replication/tcp/streams/
+-rw-r--r--   0 erikj     (1000) docker     (131)      602 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/tests/replication/tcp/streams/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2766 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/tests/replication/tcp/streams/_base.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1745 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/tests/replication/tcp/streams/test_receipts.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/tests/rest/
+-rw-r--r--   0 erikj     (1000) docker     (131)      608 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/tests/rest/__init__.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/tests/rest/admin/
+-rw-r--r--   0 erikj     (1000) docker     (131)      602 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/tests/rest/admin/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    39164 2020-01-27 14:07:23.000000 matrix-synapse-1.9.1/tests/rest/admin/test_admin.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    16992 2020-01-27 14:07:23.000000 matrix-synapse-1.9.1/tests/rest/admin/test_user.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/tests/rest/client/
+-rw-r--r--   0 erikj     (1000) docker     (131)      608 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/tests/rest/client/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     4190 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/tests/rest/client/test_consent.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3857 2019-12-18 10:47:07.000000 matrix-synapse-1.9.1/tests/rest/client/test_ephemeral_message.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2077 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/tests/rest/client/test_identity.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     8180 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/tests/rest/client/test_redactions.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    11134 2019-12-18 10:47:07.000000 matrix-synapse-1.9.1/tests/rest/client/test_retention.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     4966 2019-08-21 09:31:37.000000 matrix-synapse-1.9.1/tests/rest/client/test_transactions.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2501 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/tests/rest/client/third_party_rules.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/tests/rest/client/v1/
+-rw-r--r--   0 erikj     (1000) docker     (131)      607 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/tests/rest/client/v1/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     5465 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/tests/rest/client/v1/test_directory.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     5612 2020-01-27 14:07:23.000000 matrix-synapse-1.9.1/tests/rest/client/v1/test_events.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     9521 2019-11-06 10:53:10.000000 matrix-synapse-1.9.1/tests/rest/client/v1/test_login.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2373 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/tests/rest/client/v1/test_presence.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    12172 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/tests/rest/client/v1/test_profile.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    64204 2020-01-09 13:25:34.000000 matrix-synapse-1.9.1/tests/rest/client/v1/test_rooms.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     5099 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/tests/rest/client/v1/test_typing.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     6555 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/tests/rest/client/v1/utils.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/tests/rest/client/v2_alpha/
+-rw-r--r--   0 erikj     (1000) docker     (131)        0 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/tests/rest/client/v2_alpha/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    10627 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/tests/rest/client/v2_alpha/test_account.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3982 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/tests/rest/client/v2_alpha/test_auth.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3059 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/tests/rest/client/v2_alpha/test_capabilities.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     4145 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/tests/rest/client/v2_alpha/test_filter.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    23067 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/tests/rest/client/v2_alpha/test_register.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    25159 2019-07-30 13:34:56.000000 matrix-synapse-1.9.1/tests/rest/client/v2_alpha/test_relations.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    11031 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/tests/rest/client/v2_alpha/test_sync.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/tests/rest/key/
+-rw-r--r--   0 erikj     (1000) docker     (131)        0 2020-01-16 09:23:38.000000 matrix-synapse-1.9.1/tests/rest/key/__init__.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/tests/rest/key/v2/
+-rw-r--r--   0 erikj     (1000) docker     (131)        0 2020-01-16 09:23:38.000000 matrix-synapse-1.9.1/tests/rest/key/v2/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     9973 2020-01-16 09:23:38.000000 matrix-synapse-1.9.1/tests/rest/key/v2/test_remote_key_resource.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/tests/rest/media/
+-rw-r--r--   0 erikj     (1000) docker     (131)      602 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/tests/rest/media/__init__.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/tests/rest/media/v1/
+-rw-r--r--   0 erikj     (1000) docker     (131)      602 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/tests/rest/media/v1/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1450 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/tests/rest/media/v1/test_base.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     9367 2020-01-27 14:07:23.000000 matrix-synapse-1.9.1/tests/rest/media/v1/test_media_storage.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    17031 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/tests/rest/media/v1/test_url_preview.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1783 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/tests/rest/test_well_known.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/tests/scripts/
+-rw-r--r--   0 erikj     (1000) docker     (131)        0 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/tests/scripts/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     4504 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/tests/scripts/test_new_matrix_user.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    14540 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/tests/server.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/tests/server_notices/
+-rw-r--r--   0 erikj     (1000) docker     (131)        0 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/tests/server_notices/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3684 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/tests/server_notices/test_consent.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    11266 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/tests/server_notices/test_resource_limits_server_notices.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/tests/state/
+-rw-r--r--   0 erikj     (1000) docker     (131)        0 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/tests/state/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    19556 2020-01-09 13:25:34.000000 matrix-synapse-1.9.1/tests/state/test_v2.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/tests/storage/
+-rw-r--r--   0 erikj     (1000) docker     (131)        0 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/tests/storage/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    10707 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/tests/storage/test__base.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    18533 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/tests/storage/test_appservice.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3105 2020-01-16 09:23:38.000000 matrix-synapse-1.9.1/tests/storage/test_background_update.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     6410 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/tests/storage/test_base.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    14701 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/tests/storage/test_cleanup_extrems.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    14208 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/tests/storage/test_client_ips.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     6238 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/tests/storage/test_devices.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2285 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/tests/storage/test_directory.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2659 2019-12-18 10:47:07.000000 matrix-synapse-1.9.1/tests/storage/test_e2e_room_keys.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3620 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/tests/storage/test_end_to_end_keys.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3806 2020-01-16 09:23:38.000000 matrix-synapse-1.9.1/tests/storage/test_event_federation.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3234 2019-07-30 13:34:56.000000 matrix-synapse-1.9.1/tests/storage/test_event_metrics.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     6617 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/tests/storage/test_event_push_actions.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     4273 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/tests/storage/test_keys.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    11646 2019-12-20 10:54:38.000000 matrix-synapse-1.9.1/tests/storage/test_monthly_active_users.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1732 2019-12-18 10:47:07.000000 matrix-synapse-1.9.1/tests/storage/test_profile.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3972 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/tests/storage/test_purge.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    13291 2020-01-28 13:37:29.000000 matrix-synapse-1.9.1/tests/storage/test_redaction.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     4216 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/tests/storage/test_registration.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3769 2020-01-28 13:37:29.000000 matrix-synapse-1.9.1/tests/storage/test_room.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     5873 2020-01-28 11:09:31.000000 matrix-synapse-1.9.1/tests/storage/test_roommember.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    17664 2020-01-28 13:37:29.000000 matrix-synapse-1.9.1/tests/storage/test_state.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2163 2019-10-09 15:51:21.000000 matrix-synapse-1.9.1/tests/storage/test_transactions.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2567 2019-12-18 10:47:07.000000 matrix-synapse-1.9.1/tests/storage/test_user_directory.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2072 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/tests/test_distributor.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     4419 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/tests/test_event_auth.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     5110 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/tests/test_federation.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     7468 2020-01-28 13:04:02.000000 matrix-synapse-1.9.1/tests/test_mau.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     4148 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/tests/test_metrics.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1817 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/tests/test_phone_home.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    10305 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/tests/test_preview.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     9761 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/tests/test_server.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    22931 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/tests/test_state.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     4678 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/tests/test_terms_auth.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1789 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/tests/test_test_utils.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3725 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/tests/test_types.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/tests/test_utils/
+-rw-r--r--   0 erikj     (1000) docker     (131)      648 2019-07-12 15:58:15.000000 matrix-synapse-1.9.1/tests/test_utils/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1767 2019-07-30 13:34:56.000000 matrix-synapse-1.9.1/tests/test_utils/logging_setup.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    11775 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/tests/test_visibility.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    22240 2020-01-27 14:07:23.000000 matrix-synapse-1.9.1/tests/unittest.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/tests/util/
+-rw-r--r--   0 erikj     (1000) docker     (131)      607 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/tests/util/__init__.py
+drwxr-xr-x   0 erikj     (1000) docker     (131)        0 2020-01-28 13:38:15.000000 matrix-synapse-1.9.1/tests/util/caches/
+-rw-r--r--   0 erikj     (1000) docker     (131)      608 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/tests/util/caches/__init__.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    14499 2019-12-13 10:55:32.000000 matrix-synapse-1.9.1/tests/util/caches/test_descriptors.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2886 2019-10-08 13:27:26.000000 matrix-synapse-1.9.1/tests/util/caches/test_ttlcache.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3756 2019-07-30 13:34:56.000000 matrix-synapse-1.9.1/tests/util/test_async_utils.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3075 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/tests/util/test_dict_cache.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2691 2019-08-09 12:43:28.000000 matrix-synapse-1.9.1/tests/util/test_expiring_cache.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     5055 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/tests/util/test_file_consumer.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1350 2020-01-23 14:59:44.000000 matrix-synapse-1.9.1/tests/util/test_itertools.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3490 2019-07-30 13:34:56.000000 matrix-synapse-1.9.1/tests/util/test_linearizer.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     7132 2020-01-09 13:25:35.000000 matrix-synapse-1.9.1/tests/util/test_logcontext.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     1156 2019-07-30 13:34:56.000000 matrix-synapse-1.9.1/tests/util/test_logformatter.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     7582 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/tests/util/test_lrucache.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     3428 2019-07-30 13:34:56.000000 matrix-synapse-1.9.1/tests/util/test_ratelimitutils.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     4097 2020-01-14 10:26:02.000000 matrix-synapse-1.9.1/tests/util/test_retryutils.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2579 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/tests/util/test_rwlock.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     8183 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/tests/util/test_stream_change_cache.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2946 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/tests/util/test_treecache.py
+-rw-r--r--   0 erikj     (1000) docker     (131)     2575 2019-04-15 11:48:32.000000 matrix-synapse-1.9.1/tests/util/test_wheel_timer.py
+-rw-r--r--   0 erikj     (1000) docker     (131)    21226 2020-01-28 13:37:29.000000 matrix-synapse-1.9.1/tests/utils.py
```

### filetype from file(1)

```diff
@@ -1 +1 @@
-POSIX tar archive
+POSIX tar archive (GNU)
```

### Comparing `matrix-synapse-1.9.0rc1/AUTHORS.rst` & `matrix-synapse-1.9.1/AUTHORS.rst`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/CHANGES.md` & `matrix-synapse-1.9.1/CHANGES.md`

 * *Files 0% similar despite different names*

```diff
@@ -1,19295 +1,19328 @@
-00000000: 5379 6e61 7073 6520 312e 392e 3072 6331  Synapse 1.9.0rc1
-00000010: 2028 3230 3230 2d30 312d 3232 290a 3d3d   (2020-01-22).==
+00000000: 5379 6e61 7073 6520 312e 392e 3120 2832  Synapse 1.9.1 (2
+00000010: 3032 302d 3031 2d32 3829 0a3d 3d3d 3d3d  020-01-28).=====
 00000020: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00000030: 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a2a 2a57  ===========..**W
-00000040: 4152 4e49 4e47 2a2a 3a20 4173 206f 6620  ARNING**: As of 
-00000050: 7468 6973 2072 656c 6561 7365 2c20 5379  this release, Sy
-00000060: 6e61 7073 6520 6e6f 206c 6f6e 6765 7220  napse no longer 
-00000070: 7375 7070 6f72 7473 2076 6572 7369 6f6e  supports version
-00000080: 7320 6f66 2053 514c 6974 6520 6265 666f  s of SQLite befo
-00000090: 7265 2033 2e31 312c 2061 6e64 2077 696c  re 3.11, and wil
-000000a0: 6c20 7265 6675 7365 2074 6f20 7374 6172  l refuse to star
-000000b0: 7420 7768 656e 2063 6f6e 6669 6775 7265  t when configure
-000000c0: 6420 746f 2075 7365 2061 6e20 6f6c 6465  d to use an olde
-000000d0: 7220 7665 7273 696f 6e2e 2041 646d 696e  r version. Admin
-000000e0: 6973 7472 6174 6f72 7320 6172 6520 7265  istrators are re
-000000f0: 636f 6d6d 656e 6465 6420 746f 206d 6967  commended to mig
-00000100: 7261 7465 2074 6865 6972 2064 6174 6162  rate their datab
-00000110: 6173 6520 746f 2050 6f73 7467 7265 7320  ase to Postgres 
-00000120: 2873 6565 2069 6e73 7472 7563 7469 6f6e  (see instruction
-00000130: 7320 5b68 6572 655d 2864 6f63 732f 706f  s [here](docs/po
-00000140: 7374 6772 6573 2e6d 6429 292e 0a0a 4966  stgres.md))...If
-00000150: 2079 6f75 7220 5379 6e61 7073 6520 6465   your Synapse de
-00000160: 706c 6f79 6d65 6e74 2075 7365 7320 776f  ployment uses wo
-00000170: 726b 6572 732c 206e 6f74 6520 7468 6174  rkers, note that
-00000180: 2074 6865 2072 6576 6572 7365 2d70 726f   the reverse-pro
-00000190: 7879 2063 6f6e 6669 6775 7261 7469 6f6e  xy configuration
-000001a0: 7320 666f 7220 7468 6520 6073 796e 6170  s for the `synap
-000001b0: 7365 2e61 7070 2e6d 6564 6961 5f72 6570  se.app.media_rep
-000001c0: 6f73 6974 6f72 7960 2c20 6073 796e 6170  ository`, `synap
-000001d0: 7365 2e61 7070 2e66 6564 6572 6174 696f  se.app.federatio
-000001e0: 6e5f 7265 6164 6572 6020 616e 6420 6073  n_reader` and `s
-000001f0: 796e 6170 7365 2e61 7070 2e65 7665 6e74  ynapse.app.event
-00000200: 5f63 7265 6174 6f72 6020 6861 7665 2063  _creator` have c
-00000210: 6861 6e67 6564 2c20 7769 7468 2074 6865  hanged, with the
-00000220: 2061 6464 6974 696f 6e20 6f66 2061 2066   addition of a f
-00000230: 6577 2070 6174 6873 2028 7365 6520 7468  ew paths (see th
-00000240: 6520 7570 6461 7465 6420 636f 6e66 6967  e updated config
-00000250: 7572 6174 696f 6e73 205b 6865 7265 5d28  urations [here](
-00000260: 646f 6373 2f77 6f72 6b65 7273 2e6d 6423  docs/workers.md#
-00000270: 6176 6169 6c61 626c 652d 776f 726b 6572  available-worker
-00000280: 2d61 7070 6c69 6361 7469 6f6e 7329 292e  -applications)).
-00000290: 0a0a 4665 6174 7572 6573 0a2d 2d2d 2d2d  ..Features.-----
-000002a0: 2d2d 2d0a 0a2d 2041 6c6c 6f77 2061 646d  ---..- Allow adm
-000002b0: 696e 2074 6f20 6372 6561 7465 206f 7220  in to create or 
-000002c0: 6d6f 6469 6679 2061 2075 7365 722e 2043  modify a user. C
-000002d0: 6f6e 7472 6962 7574 6564 2062 7920 4177  ontributed by Aw
-000002e0: 6573 6f6d 6520 5465 6368 6e6f 6c6f 6769  esome Technologi
-000002f0: 6573 2049 6e6e 6f76 6174 696f 6e73 6c61  es Innovationsla
-00000300: 626f 7220 476d 6248 2e20 285b 5c23 3537  bor GmbH. ([\#57
-00000310: 3432 5d28 6874 7470 733a 2f2f 6769 7468  42](https://gith
-00000320: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00000330: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00000340: 2f35 3734 3229 290a 2d20 4164 6420 6e65  /5742)).- Add ne
-00000350: 7720 7175 6172 616e 7469 6e65 206d 6564  w quarantine med
-00000360: 6961 2061 646d 696e 2041 5049 7320 746f  ia admin APIs to
-00000370: 2071 7561 7261 6e74 696e 6520 6279 206d   quarantine by m
-00000380: 6564 6961 2049 4420 6f72 2062 7920 7573  edia ID or by us
-00000390: 6572 2077 686f 2075 706c 6f61 6465 6420  er who uploaded 
-000003a0: 7468 6520 6d65 6469 612e 2028 5b5c 2336  the media. ([\#6
-000003b0: 3638 315d 2868 7474 7073 3a2f 2f67 6974  681](https://git
-000003c0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-000003d0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-000003e0: 732f 3636 3831 292c 205b 5c23 3637 3536  s/6681), [\#6756
-000003f0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00000400: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00000410: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
-00000420: 3735 3629 290a 2d20 4164 6420 606f 7267  756)).- Add `org
-00000430: 2e6d 6174 7269 782e 6532 655f 6372 6f73  .matrix.e2e_cros
-00000440: 735f 7369 676e 696e 6760 2074 6f20 6075  s_signing` to `u
-00000450: 6e73 7461 626c 655f 6665 6174 7572 6573  nstable_features
-00000460: 6020 696e 2060 2f76 6572 7369 6f6e 7360  ` in `/versions`
-00000470: 2061 7320 7065 7220 5b4d 5343 3137 3536   as per [MSC1756
-00000480: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00000490: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-000004a0: 6d61 7472 6978 2d64 6f63 2f70 756c 6c2f  matrix-doc/pull/
-000004b0: 3137 3536 292e 2028 5b5c 2336 3731 325d  1756). ([\#6712]
-000004c0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-000004d0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-000004e0: 796e 6170 7365 2f69 7373 7565 732f 3637  ynapse/issues/67
-000004f0: 3132 2929 0a2d 2041 6464 2061 206e 6577  12)).- Add a new
-00000500: 2061 646d 696e 2041 5049 2074 6f20 6c69   admin API to li
-00000510: 7374 2061 6e64 2066 696c 7465 7220 726f  st and filter ro
-00000520: 6f6d 7320 6f6e 2074 6865 2073 6572 7665  oms on the serve
-00000530: 722e 2028 5b5c 2336 3732 305d 2868 7474  r. ([\#6720](htt
-00000540: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00000550: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-00000560: 7365 2f69 7373 7565 732f 3637 3230 2929  se/issues/6720))
-00000570: 0a0a 0a42 7567 6669 7865 730a 2d2d 2d2d  ...Bugfixes.----
-00000580: 2d2d 2d2d 0a0a 2d20 436f 7272 6563 746c  ----..- Correctl
-00000590: 7920 7072 6f78 7920 4854 5450 2065 7272  y proxy HTTP err
-000005a0: 6f72 7320 6475 6520 746f 2041 5049 2063  ors due to API c
-000005b0: 616c 6c73 2074 6f20 7265 6d6f 7465 2067  alls to remote g
-000005c0: 726f 7570 2073 6572 7665 7273 2e20 285b  roup servers. ([
-000005d0: 5c23 3636 3534 5d28 6874 7470 733a 2f2f  \#6654](https://
-000005e0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-000005f0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00000600: 7375 6573 2f36 3635 3429 290a 2d20 4669  sues/6654)).- Fi
-00000610: 7820 6d65 6469 6120 7265 706f 2061 646d  x media repo adm
-00000620: 696e 2041 5049 7320 7768 656e 2075 7369  in APIs when usi
-00000630: 6e67 2061 206d 6564 6961 2077 6f72 6b65  ng a media worke
-00000640: 722e 2028 5b5c 2336 3636 345d 2868 7474  r. ([\#6664](htt
-00000650: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00000660: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-00000670: 7365 2f69 7373 7565 732f 3636 3634 2929  se/issues/6664))
-00000680: 0a2d 2046 6978 2022 4352 4954 4943 414c  .- Fix "CRITICAL
-00000690: 2220 6572 726f 7273 2062 6569 6e67 206c  " errors being l
-000006a0: 6f67 6765 6420 7768 656e 2061 2072 6571  ogged when a req
-000006b0: 7565 7374 2069 7320 7265 6365 6976 6564  uest is received
-000006c0: 2066 6f72 2061 2075 7269 2063 6f6e 7461   for a uri conta
-000006d0: 696e 696e 6720 6e6f 6e2d 6173 6369 6920  ining non-ascii 
-000006e0: 6368 6172 6163 7465 7273 2e20 285b 5c23  characters. ([\#
-000006f0: 3636 3832 5d28 6874 7470 733a 2f2f 6769  6682](https://gi
-00000700: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-00000710: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-00000720: 6573 2f36 3638 3229 290a 2d20 4669 7820  es/6682)).- Fix 
-00000730: 6120 6275 6720 7768 6572 6520 7765 2077  a bug where we w
-00000740: 6f75 6c64 2061 7373 6967 6e20 6120 6e75  ould assign a nu
-00000750: 6d65 7269 6320 7573 6572 2049 4420 6966  meric user ID if
-00000760: 2073 6f6d 6562 6f64 7920 7472 6965 6420   somebody tried 
-00000770: 7265 6769 7374 6572 696e 6720 7769 7468  registering with
-00000780: 2061 6e20 656d 7074 7920 7573 6572 6e61   an empty userna
-00000790: 6d65 2e20 285b 5c23 3636 3930 5d28 6874  me. ([\#6690](ht
-000007a0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-000007b0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-000007c0: 7073 652f 6973 7375 6573 2f36 3639 3029  pse/issues/6690)
-000007d0: 290a 2d20 4669 7820 6070 7572 6765 5f72  ).- Fix `purge_r
-000007e0: 6f6f 6d60 2061 646d 696e 2041 5049 2e20  oom` admin API. 
-000007f0: 285b 5c23 3637 3131 5d28 6874 7470 733a  ([\#6711](https:
-00000800: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00000810: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00000820: 6973 7375 6573 2f36 3731 3129 290a 2d20  issues/6711)).- 
-00000830: 4669 7820 6120 6275 6720 6361 7573 696e  Fix a bug causin
-00000840: 6720 5379 6e61 7073 6520 746f 206e 6f74  g Synapse to not
-00000850: 2061 6c77 6179 7320 7075 7267 6520 7175   always purge qu
-00000860: 6965 7420 726f 6f6d 7320 7769 7468 2061  iet rooms with a
-00000870: 206c 6f77 2060 6d61 785f 6c69 6665 7469   low `max_lifeti
-00000880: 6d65 6020 696e 2074 6865 6972 206d 6573  me` in their mes
-00000890: 7361 6765 2072 6574 656e 7469 6f6e 2070  sage retention p
-000008a0: 6f6c 6963 6965 7320 7768 656e 2072 756e  olicies when run
-000008b0: 6e69 6e67 2074 6865 2061 7574 6f6d 6174  ning the automat
-000008c0: 6564 2070 7572 6765 206a 6f62 732e 2028  ed purge jobs. (
-000008d0: 5b5c 2336 3731 345d 2868 7474 7073 3a2f  [\#6714](https:/
-000008e0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-000008f0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00000900: 7373 7565 732f 3637 3134 2929 0a2d 2046  ssues/6714)).- F
-00000910: 6978 2074 6865 2060 7379 6e61 7073 655f  ix the `synapse_
-00000920: 706f 7274 5f64 6260 206e 6f74 2063 6f72  port_db` not cor
-00000930: 7265 6374 6c79 2072 756e 6e69 6e67 2062  rectly running b
-00000940: 6163 6b67 726f 756e 6420 7570 6461 7465  ackground update
-00000950: 732e 2054 6861 6e6b 7320 4074 6164 7a69  s. Thanks @tadzi
-00000960: 6b20 666f 7220 7265 706f 7274 696e 672e  k for reporting.
-00000970: 2028 5b5c 2336 3731 385d 2868 7474 7073   ([\#6718](https
-00000980: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00000990: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-000009a0: 2f69 7373 7565 732f 3637 3138 2929 0a2d  /issues/6718)).-
-000009b0: 2046 6978 2063 6861 6e67 696e 6720 7061   Fix changing pa
-000009c0: 7373 776f 7264 2076 6961 2075 7365 7220  ssword via user 
-000009d0: 6164 6d69 6e20 4150 492e 2028 5b5c 2336  admin API. ([\#6
-000009e0: 3733 305d 2868 7474 7073 3a2f 2f67 6974  730](https://git
-000009f0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-00000a00: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-00000a10: 732f 3637 3330 2929 0a2d 2046 6978 2060  s/6730)).- Fix `
-00000a20: 2f65 7665 6e74 732f 3a65 7665 6e74 5f69  /events/:event_i
-00000a30: 6460 2064 6570 7265 6361 7465 6420 4150  d` deprecated AP
-00000a40: 492e 2028 5b5c 2336 3733 315d 2868 7474  I. ([\#6731](htt
-00000a50: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00000a60: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-00000a70: 7365 2f69 7373 7565 732f 3637 3331 2929  se/issues/6731))
-00000a80: 0a2d 2046 6978 206d 6f6e 7468 6c79 2061  .- Fix monthly a
-00000a90: 6374 6976 6520 7573 6572 206c 696d 6974  ctive user limit
-00000aa0: 696e 6720 7375 7070 6f72 7420 666f 7220  ing support for 
-00000ab0: 776f 726b 6572 206d 6f64 652c 2066 6978  worker mode, fix
-00000ac0: 6573 205b 2334 3633 395d 2868 7474 7073  es [#4639](https
-00000ad0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00000ae0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00000af0: 2f69 7373 7565 732f 3436 3339 292e 2028  /issues/4639). (
-00000b00: 5b5c 2336 3734 325d 2868 7474 7073 3a2f  [\#6742](https:/
-00000b10: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00000b20: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00000b30: 7373 7565 732f 3637 3432 2929 0a2d 2046  ssues/6742)).- F
-00000b40: 6978 2062 7567 2077 6865 6e20 7365 7474  ix bug when sett
-00000b50: 696e 6720 6061 6363 6f75 6e74 5f76 616c  ing `account_val
-00000b60: 6964 6974 7960 2074 6f20 616e 2065 6d70  idity` to an emp
-00000b70: 7479 2062 6c6f 636b 2069 6e20 7468 6520  ty block in the 
-00000b80: 636f 6e66 6967 2e20 5468 616e 6b73 2074  config. Thanks t
-00000b90: 6f20 4053 6f72 756e 6f6d 6520 666f 7220  o @Sorunome for 
-00000ba0: 7265 706f 7274 696e 672e 2028 5b5c 2336  reporting. ([\#6
-00000bb0: 3734 375d 2868 7474 7073 3a2f 2f67 6974  747](https://git
-00000bc0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-00000bd0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-00000be0: 732f 3637 3437 2929 0a2d 2046 6978 2060  s/6747)).- Fix `
-00000bf0: 4174 7472 6962 7574 6545 7272 6f72 3a20  AttributeError: 
-00000c00: 274e 6f6e 6554 7970 6527 206f 626a 6563  'NoneType' objec
-00000c10: 7420 6861 7320 6e6f 2061 7474 7269 6275  t has no attribu
-00000c20: 7465 2027 6765 7427 6020 696e 2060 6861  te 'get'` in `ha
-00000c30: 7368 5f70 6173 7377 6f72 6460 2077 6865  sh_password` whe
-00000c40: 6e20 636f 6e66 6967 7572 6174 696f 6e20  n configuration 
-00000c50: 6861 7320 616e 2065 6d70 7479 2060 7061  has an empty `pa
-00000c60: 7373 776f 7264 5f63 6f6e 6669 6760 2e20  ssword_config`. 
-00000c70: 436f 6e74 7269 6275 7465 6420 6279 2040  Contributed by @
-00000c80: 6976 696c 6174 612e 2028 5b5c 2336 3735  ivilata. ([\#675
-00000c90: 335d 2868 7474 7073 3a2f 2f67 6974 6875  3](https://githu
-00000ca0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-00000cb0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-00000cc0: 3637 3533 2929 0a2d 2046 6978 2074 6865  6753)).- Fix the
-00000cd0: 2060 646f 636b 6572 2d63 6f6d 706f 7365   `docker-compose
-00000ce0: 2e79 616d 6c60 206f 7665 7272 6964 696e  .yaml` overridin
-00000cf0: 6720 7468 6520 656e 7469 7265 2060 2f65  g the entire `/e
-00000d00: 7463 6020 666f 6c64 6572 206f 6620 7468  tc` folder of th
-00000d10: 6520 636f 6e74 6169 6e65 722e 2043 6f6e  e container. Con
-00000d20: 7472 6962 7574 6564 2062 7920 4661 6269  tributed by Fabi
-00000d30: 616e 204d 6579 6572 2e20 285b 5c23 3636  an Meyer. ([\#66
-00000d40: 3536 5d28 6874 7470 733a 2f2f 6769 7468  56](https://gith
-00000d50: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00000d60: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00000d70: 2f36 3635 3629 290a 0a0a 496d 7072 6f76  /6656))...Improv
-00000d80: 6564 2044 6f63 756d 656e 7461 7469 6f6e  ed Documentation
-00000d90: 0a2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  .---------------
-00000da0: 2d2d 2d2d 2d2d 2d0a 0a2d 2046 6978 2061  -------..- Fix a
-00000db0: 2074 7970 6f20 696e 2074 6865 2063 6f6e   typo in the con
-00000dc0: 6669 6775 7261 7469 6f6e 2065 7861 6d70  figuration examp
-00000dd0: 6c65 2066 6f72 2070 7572 6765 206a 6f62  le for purge job
-00000de0: 7320 696e 2074 6865 2073 616d 706c 6520  s in the sample 
-00000df0: 636f 6e66 6967 7572 6174 696f 6e20 6669  configuration fi
-00000e00: 6c65 2e20 285b 5c23 3636 3231 5d28 6874  le. ([\#6621](ht
-00000e10: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00000e20: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00000e30: 7073 652f 6973 7375 6573 2f36 3632 3129  pse/issues/6621)
-00000e40: 290a 2d20 4164 6420 636f 6d70 6c65 7465  ).- Add complete
-00000e50: 2064 6f63 756d 656e 7461 7469 6f6e 206f   documentation o
-00000e60: 6620 7468 6520 6d65 7373 6167 6520 7265  f the message re
-00000e70: 7465 6e74 696f 6e20 706f 6c69 6369 6573  tention policies
-00000e80: 2073 7570 706f 7274 2e20 285b 5c23 3636   support. ([\#66
-00000e90: 3234 5d28 6874 7470 733a 2f2f 6769 7468  24](https://gith
-00000ea0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00000eb0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00000ec0: 2f36 3632 3429 2c20 5b5c 2336 3636 355d  /6624), [\#6665]
-00000ed0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00000ee0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00000ef0: 796e 6170 7365 2f69 7373 7565 732f 3636  ynapse/issues/66
-00000f00: 3635 2929 0a2d 2041 6464 2073 6f6d 6520  65)).- Add some 
-00000f10: 6865 6c70 6675 6c20 7469 7073 2061 626f  helpful tips abo
-00000f20: 7574 2063 6861 6e67 656c 6f67 2065 6e74  ut changelog ent
-00000f30: 7269 6573 2074 6f20 7468 6520 4769 7448  ries to the GitH
-00000f40: 7562 2070 756c 6c20 7265 7175 6573 7420  ub pull request 
-00000f50: 7465 6d70 6c61 7465 2e20 285b 5c23 3636  template. ([\#66
-00000f60: 3633 5d28 6874 7470 733a 2f2f 6769 7468  63](https://gith
-00000f70: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00000f80: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00000f90: 2f36 3636 3329 290a 2d20 436c 6172 6966  /6663)).- Clarif
-00000fa0: 7920 7468 6520 6061 6363 6f75 6e74 5f76  y the `account_v
-00000fb0: 616c 6964 6974 7960 2061 6e64 2060 656d  alidity` and `em
-00000fc0: 6169 6c60 2073 6563 7469 6f6e 7320 6f66  ail` sections of
-00000fd0: 2074 6865 2073 616d 706c 6520 636f 6e66   the sample conf
-00000fe0: 6967 7572 6174 696f 6e2e 2028 5b5c 2336  iguration. ([\#6
-00000ff0: 3638 355d 2868 7474 7073 3a2f 2f67 6974  685](https://git
-00001000: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-00001010: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-00001020: 732f 3636 3835 2929 0a2d 2041 6464 206d  s/6685)).- Add m
-00001030: 6f72 6520 656e 6470 6f69 6e74 7320 746f  ore endpoints to
-00001040: 2074 6865 2064 6f63 756d 656e 7461 7469   the documentati
-00001050: 6f6e 2066 6f72 2053 796e 6170 7365 2077  on for Synapse w
-00001060: 6f72 6b65 7273 2e20 285b 5c23 3636 3938  orkers. ([\#6698
-00001070: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00001080: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00001090: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
-000010a0: 3639 3829 290a 0a0a 4465 7072 6563 6174  698))...Deprecat
-000010b0: 696f 6e73 2061 6e64 2052 656d 6f76 616c  ions and Removal
-000010c0: 730a 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  s.--------------
-000010d0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a 0a2d 2053  -----------..- S
-000010e0: 796e 6170 7365 206e 6f20 6c6f 6e67 6572  ynapse no longer
-000010f0: 2073 7570 706f 7274 7320 7665 7273 696f   supports versio
-00001100: 6e73 206f 6620 5351 4c69 7465 2062 6566  ns of SQLite bef
-00001110: 6f72 6520 332e 3131 2c20 616e 6420 7769  ore 3.11, and wi
-00001120: 6c6c 2072 6566 7573 6520 746f 2073 7461  ll refuse to sta
-00001130: 7274 2077 6865 6e20 636f 6e66 6967 7572  rt when configur
-00001140: 6564 2074 6f20 7573 6520 616e 206f 6c64  ed to use an old
-00001150: 6572 2076 6572 7369 6f6e 2e20 4164 6d69  er version. Admi
-00001160: 6e69 7374 7261 746f 7273 2061 7265 2072  nistrators are r
-00001170: 6563 6f6d 6d65 6e64 6564 2074 6f20 6d69  ecommended to mi
-00001180: 6772 6174 6520 7468 6569 7220 6461 7461  grate their data
-00001190: 6261 7365 2074 6f20 506f 7374 6772 6573  base to Postgres
-000011a0: 2028 7365 6520 696e 7374 7275 6374 696f   (see instructio
-000011b0: 6e73 205b 6865 7265 5d28 646f 6373 2f70  ns [here](docs/p
-000011c0: 6f73 7467 7265 732e 6d64 2929 2e20 285b  ostgres.md)). ([
-000011d0: 5c23 3636 3735 5d28 6874 7470 733a 2f2f  \#6675](https://
-000011e0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-000011f0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00001200: 7375 6573 2f36 3637 3529 290a 0a0a 496e  sues/6675))...In
-00001210: 7465 726e 616c 2043 6861 6e67 6573 0a2d  ternal Changes.-
-00001220: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a  ---------------.
-00001230: 0a2d 2041 6464 2060 6c6f 6361 6c5f 6375  .- Add `local_cu
-00001240: 7272 656e 745f 6d65 6d62 6572 7368 6970  rrent_membership
-00001250: 6020 7461 626c 6520 666f 7220 7472 6163  ` table for trac
-00001260: 6b69 6e67 206c 6f63 616c 2075 7365 7220  king local user 
-00001270: 6d65 6d62 6572 7368 6970 2073 7461 7465  membership state
-00001280: 2069 6e20 726f 6f6d 732e 2028 5b5c 2336   in rooms. ([\#6
-00001290: 3635 355d 2868 7474 7073 3a2f 2f67 6974  655](https://git
-000012a0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-000012b0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-000012c0: 732f 3636 3535 292c 205b 5c23 3637 3238  s/6655), [\#6728
-000012d0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-000012e0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-000012f0: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
-00001300: 3732 3829 290a 2d20 506f 7274 2060 7379  728)).- Port `sy
-00001310: 6e61 7073 652e 7265 706c 6963 6174 696f  napse.replicatio
-00001320: 6e2e 7463 7060 2074 6f20 6173 796e 632f  n.tcp` to async/
-00001330: 6177 6169 742e 2028 5b5c 2336 3636 365d  await. ([\#6666]
-00001340: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00001350: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00001360: 796e 6170 7365 2f69 7373 7565 732f 3636  ynapse/issues/66
-00001370: 3636 2929 0a2d 2046 6978 7570 2060 7379  66)).- Fixup `sy
-00001380: 6e61 7073 652e 7265 706c 6963 6174 696f  napse.replicatio
-00001390: 6e60 2074 6f20 7061 7373 206d 7970 7920  n` to pass mypy 
-000013a0: 6368 6563 6b73 2e20 285b 5c23 3636 3637  checks. ([\#6667
-000013b0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-000013c0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-000013d0: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
-000013e0: 3636 3729 290a 2d20 416c 6c6f 7720 6061  667)).- Allow `a
-000013f0: 6464 6974 696f 6e61 6c5f 7265 736f 7572  dditional_resour
-00001400: 6365 7360 2074 6f20 696d 706c 656d 656e  ces` to implemen
-00001410: 7420 6049 5265 736f 7572 6365 6020 6469  t `IResource` di
-00001420: 7265 6374 6c79 2e20 285b 5c23 3636 3836  rectly. ([\#6686
-00001430: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00001440: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00001450: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
-00001460: 3638 3629 290a 2d20 416c 6c6f 7720 5245  686)).- Allow RE
-00001470: 5354 2065 6e64 706f 696e 7420 696d 706c  ST endpoint impl
-00001480: 656d 656e 7461 7469 6f6e 7320 746f 2072  ementations to r
-00001490: 6169 7365 2061 2060 5265 6469 7265 6374  aise a `Redirect
-000014a0: 4578 6365 7074 696f 6e60 2c20 7768 6963  Exception`, whic
-000014b0: 6820 7769 6c6c 2072 6564 6972 6563 7420  h will redirect 
-000014c0: 7468 6520 7573 6572 2773 2062 726f 7773  the user's brows
-000014d0: 6572 2074 6f20 6120 6769 7665 6e20 6c6f  er to a given lo
-000014e0: 6361 7469 6f6e 2e20 285b 5c23 3636 3837  cation. ([\#6687
-000014f0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00001500: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00001510: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
-00001520: 3638 3729 290a 2d20 5570 6461 7465 7320  687)).- Updates 
-00001530: 616e 6420 6578 7465 6e73 696f 6e73 2074  and extensions t
-00001540: 6f20 7468 6520 6d6f 6475 6c65 2041 5049  o the module API
-00001550: 2e20 285b 5c23 3636 3838 5d28 6874 7470  . ([\#6688](http
-00001560: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00001570: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00001580: 652f 6973 7375 6573 2f36 3638 3829 290a  e/issues/6688)).
-00001590: 2d20 5570 6461 7465 7320 746f 2074 6865  - Updates to the
-000015a0: 2053 414d 4c20 6d61 7070 696e 6720 7072   SAML mapping pr
-000015b0: 6f76 6964 6572 2041 5049 2e20 285b 5c23  ovider API. ([\#
-000015c0: 3636 3839 5d28 6874 7470 733a 2f2f 6769  6689](https://gi
-000015d0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-000015e0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-000015f0: 6573 2f36 3638 3929 2c20 5b5c 2336 3732  es/6689), [\#672
-00001600: 335d 2868 7474 7073 3a2f 2f67 6974 6875  3](https://githu
-00001610: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-00001620: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-00001630: 3637 3233 2929 0a2d 2052 656d 6f76 6520  6723)).- Remove 
-00001640: 7265 6475 6e64 616e 7420 6052 6567 6973  redundant `Regis
-00001650: 7472 6174 696f 6e45 7272 6f72 6020 636c  trationError` cl
-00001660: 6173 732e 2028 5b5c 2336 3639 315d 2868  ass. ([\#6691](h
-00001670: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00001680: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00001690: 6170 7365 2f69 7373 7565 732f 3636 3931  apse/issues/6691
-000016a0: 2929 0a2d 2044 6f6e 2774 2062 6c6f 636b  )).- Don't block
-000016b0: 2070 726f 6365 7373 696e 6720 6f66 2069   processing of i
-000016c0: 6e63 6f6d 696e 6720 4544 5573 2062 6568  ncoming EDUs beh
-000016d0: 696e 6420 7072 6f63 6573 7369 6e67 2050  ind processing P
-000016e0: 4455 7320 696e 2074 6865 2073 616d 6520  DUs in the same 
-000016f0: 7472 616e 7361 6374 696f 6e2e 2028 5b5c  transaction. ([\
-00001700: 2336 3639 375d 2868 7474 7073 3a2f 2f67  #6697](https://g
-00001710: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-00001720: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-00001730: 7565 732f 3636 3937 2929 0a2d 2052 656d  ues/6697)).- Rem
-00001740: 6f76 6520 6475 706c 6963 6174 6520 6368  ove duplicate ch
-00001750: 6563 6b20 666f 7220 7468 6520 6073 6573  eck for the `ses
-00001760: 7369 6f6e 6020 7175 6572 7920 7061 7261  sion` query para
-00001770: 6d65 7465 7220 6f6e 2074 6865 2060 2f61  meter on the `/a
-00001780: 7574 682f 7878 782f 6661 6c6c 6261 636b  uth/xxx/fallback
-00001790: 2f77 6562 6020 436c 6965 6e74 2d53 6572  /web` Client-Ser
-000017a0: 7665 7220 656e 6470 6f69 6e74 2e20 285b  ver endpoint. ([
-000017b0: 5c23 3637 3032 5d28 6874 7470 733a 2f2f  \#6702](https://
-000017c0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-000017d0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-000017e0: 7375 6573 2f36 3730 3229 290a 2d20 4174  sues/6702)).- At
-000017f0: 7465 6d70 7420 746f 2072 6574 7279 2073  tempt to retry s
-00001800: 656e 6469 6e67 2061 2074 7261 6e73 6163  ending a transac
-00001810: 7469 6f6e 2077 6865 6e20 7765 2064 6574  tion when we det
-00001820: 6563 7420 6120 7265 6d6f 7465 2073 6572  ect a remote ser
-00001830: 7665 7220 6861 7320 636f 6d65 2062 6163  ver has come bac
-00001840: 6b20 6f6e 6c69 6e65 2c20 7261 7468 6572  k online, rather
-00001850: 2074 6861 6e20 7761 6974 696e 6720 666f   than waiting fo
-00001860: 7220 6120 7472 616e 7361 6374 696f 6e20  r a transaction 
-00001870: 746f 2062 6520 7472 6967 6765 7265 6420  to be triggered 
-00001880: 6279 206e 6577 2064 6174 612e 2028 5b5c  by new data. ([\
-00001890: 2336 3730 365d 2868 7474 7073 3a2f 2f67  #6706](https://g
-000018a0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-000018b0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-000018c0: 7565 732f 3637 3036 2929 0a2d 2041 6464  ues/6706)).- Add
-000018d0: 2060 5374 6174 654d 6170 6020 7479 7065   `StateMap` type
-000018e0: 2061 6c69 6173 2074 6f20 7369 6d70 6c69   alias to simpli
-000018f0: 6679 2074 7970 6573 2e20 285b 5c23 3637  fy types. ([\#67
-00001900: 3135 5d28 6874 7470 733a 2f2f 6769 7468  15](https://gith
-00001910: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00001920: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00001930: 2f36 3731 3529 290a 2d20 4164 6420 6120  /6715)).- Add a 
-00001940: 6044 656c 7461 5374 6174 6560 2074 6f20  `DeltaState` to 
-00001950: 7472 6163 6b20 6368 616e 6765 7320 746f  track changes to
-00001960: 2062 6520 6d61 6465 2074 6f20 6375 7272   be made to curr
-00001970: 656e 7420 7374 6174 6520 6475 7269 6e67  ent state during
-00001980: 2065 7665 6e74 2070 6572 7369 7374 656e   event persisten
-00001990: 6365 2e20 285b 5c23 3637 3136 5d28 6874  ce. ([\#6716](ht
-000019a0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-000019b0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-000019c0: 7073 652f 6973 7375 6573 2f36 3731 3629  pse/issues/6716)
-000019d0: 290a 2d20 4164 6420 6d6f 7265 206c 6f67  ).- Add more log
-000019e0: 6769 6e67 2061 726f 756e 6420 6d65 7373  ging around mess
-000019f0: 6167 6520 7265 7465 6e74 696f 6e20 706f  age retention po
-00001a00: 6c69 6369 6573 2073 7570 706f 7274 2e20  licies support. 
-00001a10: 285b 5c23 3637 3137 5d28 6874 7470 733a  ([\#6717](https:
-00001a20: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00001a30: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00001a40: 6973 7375 6573 2f36 3731 3729 290a 2d20  issues/6717)).- 
-00001a50: 5768 656e 2070 726f 6365 7373 696e 6720  When processing 
-00001a60: 6120 5341 4d4c 2072 6573 706f 6e73 652c  a SAML response,
-00001a70: 206c 6f67 2074 6865 2061 7373 6572 7469   log the asserti
-00001a80: 6f6e 7320 666f 7220 6561 7369 6572 2063  ons for easier c
-00001a90: 6f6e 6669 6775 7261 7469 6f6e 2e20 285b  onfiguration. ([
-00001aa0: 5c23 3637 3234 5d28 6874 7470 733a 2f2f  \#6724](https://
-00001ab0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-00001ac0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00001ad0: 7375 6573 2f36 3732 3429 290a 2d20 4669  sues/6724)).- Fi
-00001ae0: 7875 7020 6073 796e 6170 7365 2e72 6573  xup `synapse.res
-00001af0: 7460 2074 6f20 7061 7373 206d 7970 792e  t` to pass mypy.
-00001b00: 2028 5b5c 2336 3733 325d 2868 7474 7073   ([\#6732](https
-00001b10: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00001b20: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00001b30: 2f69 7373 7565 732f 3637 3332 292c 205b  /issues/6732), [
-00001b40: 5c23 3637 3634 5d28 6874 7470 733a 2f2f  \#6764](https://
-00001b50: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-00001b60: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00001b70: 7375 6573 2f36 3736 3429 290a 2d20 4669  sues/6764)).- Fi
-00001b80: 7875 7020 6073 796e 6170 7365 2e61 7069  xup `synapse.api
-00001b90: 6020 746f 2070 6173 7320 6d79 7079 2e20  ` to pass mypy. 
-00001ba0: 285b 5c23 3637 3333 5d28 6874 7470 733a  ([\#6733](https:
-00001bb0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00001bc0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00001bd0: 6973 7375 6573 2f36 3733 3329 290a 2d20  issues/6733)).- 
-00001be0: 416c 6c6f 7720 7374 7265 616d 696e 6720  Allow streaming 
-00001bf0: 6361 6368 6520 2769 6e76 616c 6964 6174  cache 'invalidat
-00001c00: 6520 616c 6c27 2074 6f20 776f 726b 6572  e all' to worker
-00001c10: 732e 2028 5b5c 2336 3734 395d 2868 7474  s. ([\#6749](htt
-00001c20: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00001c30: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-00001c40: 7365 2f69 7373 7565 732f 3637 3439 2929  se/issues/6749))
-00001c50: 0a2d 2052 656d 6f76 6520 756e 7573 6564  .- Remove unused
-00001c60: 2043 4920 646f 636b 6572 2063 6f6d 706f   CI docker compo
-00001c70: 7365 2066 696c 6573 2e20 285b 5c23 3637  se files. ([\#67
-00001c80: 3534 5d28 6874 7470 733a 2f2f 6769 7468  54](https://gith
-00001c90: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00001ca0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00001cb0: 2f36 3735 3429 290a 0a0a 5379 6e61 7073  /6754))...Synaps
-00001cc0: 6520 312e 382e 3020 2832 3032 302d 3031  e 1.8.0 (2020-01
-00001cd0: 2d30 3929 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d  -09).===========
-00001ce0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a  ===============.
-00001cf0: 0a2a 2a57 4152 4e49 4e47 2a2a 3a20 4173  .**WARNING**: As
-00001d00: 206f 6620 7468 6973 2072 656c 6561 7365   of this release
-00001d10: 2053 796e 6170 7365 2077 696c 6c20 7265   Synapse will re
-00001d20: 6675 7365 2074 6f20 7374 6172 7420 6966  fuse to start if
-00001d30: 2074 6865 2060 6c6f 675f 6669 6c65 6020   the `log_file` 
-00001d40: 636f 6e66 6967 206f 7074 696f 6e20 6973  config option is
-00001d50: 2073 7065 6369 6669 6564 2e20 5375 7070   specified. Supp
-00001d60: 6f72 7420 666f 7220 7468 6520 6f70 7469  ort for the opti
-00001d70: 6f6e 2077 6173 2072 656d 6f76 6564 2069  on was removed i
-00001d80: 6e20 7631 2e33 2e30 2e0a 0a0a 4275 6766  n v1.3.0....Bugf
-00001d90: 6978 6573 0a2d 2d2d 2d2d 2d2d 2d0a 0a2d  ixes.--------..-
-00001da0: 2046 6978 2060 4745 5460 2072 6571 7565   Fix `GET` reque
-00001db0: 7374 206f 6e20 602f 5f73 796e 6170 7365  st on `/_synapse
-00001dc0: 2f61 646d 696e 2f76 322f 7573 6572 7360  /admin/v2/users`
-00001dd0: 2065 6e64 706f 696e 742e 2043 6f6e 7472   endpoint. Contr
-00001de0: 6962 7574 6564 2062 7920 4177 6573 6f6d  ibuted by Awesom
-00001df0: 6520 5465 6368 6e6f 6c6f 6769 6573 2049  e Technologies I
-00001e00: 6e6e 6f76 6174 696f 6e73 6c61 626f 7220  nnovationslabor 
-00001e10: 476d 6248 2e20 285b 5c23 3635 3633 5d28  GmbH. ([\#6563](
-00001e20: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00001e30: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-00001e40: 6e61 7073 652f 6973 7375 6573 2f36 3536  napse/issues/656
-00001e50: 3329 290a 2d20 4669 7820 696e 636f 7272  3)).- Fix incorr
-00001e60: 6563 7420 7369 676e 696e 6720 6f66 2072  ect signing of r
-00001e70: 6573 706f 6e73 6573 2066 726f 6d20 7468  esponses from th
-00001e80: 6520 6b65 7920 7365 7276 6572 2069 6d70  e key server imp
-00001e90: 6c65 6d65 6e74 6174 696f 6e2e 2028 5b5c  lementation. ([\
-00001ea0: 2336 3635 375d 2868 7474 7073 3a2f 2f67  #6657](https://g
-00001eb0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-00001ec0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-00001ed0: 7565 732f 3636 3537 2929 0a0a 0a53 796e  ues/6657))...Syn
-00001ee0: 6170 7365 2031 2e38 2e30 7263 3120 2832  apse 1.8.0rc1 (2
-00001ef0: 3032 302d 3031 2d30 3729 0a3d 3d3d 3d3d  020-01-07).=====
-00001f00: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00001f10: 3d3d 3d3d 3d3d 3d3d 0a0a 4665 6174 7572  ========..Featur
-00001f20: 6573 0a2d 2d2d 2d2d 2d2d 2d0a 0a2d 2041  es.--------..- A
-00001f30: 6464 2076 3220 4150 4973 2066 6f72 2074  dd v2 APIs for t
-00001f40: 6865 2060 7365 6e64 5f6a 6f69 6e60 2061  he `send_join` a
-00001f50: 6e64 2060 7365 6e64 5f6c 6561 7665 6020  nd `send_leave` 
-00001f60: 6665 6465 7261 7469 6f6e 2065 6e64 706f  federation endpo
-00001f70: 696e 7473 2028 6173 2064 6573 6372 6962  ints (as describ
-00001f80: 6564 2069 6e20 5b4d 5343 3138 3032 5d28  ed in [MSC1802](
-00001f90: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00001fa0: 6f6d 2f6d 6174 7269 782d 6f72 672f 6d61  om/matrix-org/ma
-00001fb0: 7472 6978 2d64 6f63 2f70 756c 6c2f 3138  trix-doc/pull/18
-00001fc0: 3032 2929 2e20 285b 5c23 3633 3439 5d28  02)). ([\#6349](
-00001fd0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00001fe0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-00001ff0: 6e61 7073 652f 6973 7375 6573 2f36 3334  napse/issues/634
-00002000: 3929 290a 2d20 4164 6420 6120 6465 7665  9)).- Add a deve
-00002010: 6c6f 7020 7363 7269 7074 2074 6f20 6765  lop script to ge
-00002020: 6e65 7261 7465 2066 756c 6c20 5351 4c20  nerate full SQL 
-00002030: 7363 6865 6d61 732e 2028 5b5c 2336 3339  schemas. ([\#639
-00002040: 345d 2868 7474 7073 3a2f 2f67 6974 6875  4](https://githu
-00002050: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-00002060: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-00002070: 3633 3934 2929 0a2d 2041 6464 2063 7573  6394)).- Add cus
-00002080: 746f 6d20 5341 4d4c 2075 7365 726e 616d  tom SAML usernam
-00002090: 6520 6d61 7070 696e 6720 6675 6e63 7469  e mapping functi
-000020a0: 6f6e 616c 6974 7920 7468 726f 7567 6820  onality through 
-000020b0: 616e 2065 7874 6572 6e61 6c20 7072 6f76  an external prov
-000020c0: 6964 6572 2070 6c75 6769 6e2e 2028 5b5c  ider plugin. ([\
-000020d0: 2336 3431 315d 2868 7474 7073 3a2f 2f67  #6411](https://g
-000020e0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-000020f0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-00002100: 7565 732f 3634 3131 2929 0a2d 2041 7574  ues/6411)).- Aut
-00002110: 6f6d 6174 6963 616c 6c79 2064 656c 6574  omatically delet
-00002120: 6520 656d 7074 7920 6772 6f75 7073 2f63  e empty groups/c
-00002130: 6f6d 6d75 6e69 7469 6573 2e20 285b 5c23  ommunities. ([\#
-00002140: 3634 3533 5d28 6874 7470 733a 2f2f 6769  6453](https://gi
-00002150: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-00002160: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-00002170: 6573 2f36 3435 3329 290a 2d20 4164 6420  es/6453)).- Add 
-00002180: 6f70 7469 6f6e 2060 6c69 6d69 745f 7072  option `limit_pr
-00002190: 6f66 696c 655f 7265 7175 6573 7473 5f74  ofile_requests_t
-000021a0: 6f5f 7573 6572 735f 7768 6f5f 7368 6172  o_users_who_shar
-000021b0: 655f 726f 6f6d 7360 2074 6f20 7072 6576  e_rooms` to prev
-000021c0: 656e 7420 7265 7175 6972 656d 656e 7420  ent requirement 
-000021d0: 6f66 2061 206c 6f63 616c 2075 7365 7220  of a local user 
-000021e0: 7368 6172 696e 6720 6120 726f 6f6d 2077  sharing a room w
-000021f0: 6974 6820 616e 6f74 6865 7220 7573 6572  ith another user
-00002200: 2074 6f20 7175 6572 7920 7468 6569 7220   to query their 
-00002210: 7072 6f66 696c 6520 696e 666f 726d 6174  profile informat
-00002220: 696f 6e2e 2028 5b5c 2336 3532 335d 2868  ion. ([\#6523](h
-00002230: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00002240: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00002250: 6170 7365 2f69 7373 7565 732f 3635 3233  apse/issues/6523
-00002260: 2929 0a2d 2041 6464 2061 6e20 6065 7870  )).- Add an `exp
-00002270: 6f72 745f 7369 676e 696e 675f 6b65 7960  ort_signing_key`
-00002280: 2073 6372 6970 7420 746f 2065 7874 7261   script to extra
-00002290: 6374 2074 6865 2070 7562 6c69 6320 7061  ct the public pa
-000022a0: 7274 206f 6620 7369 676e 696e 6720 6b65  rt of signing ke
-000022b0: 7973 2077 6865 6e20 726f 7461 7469 6e67  ys when rotating
-000022c0: 2074 6865 6d2e 2028 5b5c 2336 3534 365d   them. ([\#6546]
-000022d0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-000022e0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-000022f0: 796e 6170 7365 2f69 7373 7565 732f 3635  ynapse/issues/65
-00002300: 3436 2929 0a2d 2041 6464 2065 7870 6572  46)).- Add exper
-00002310: 696d 656e 7461 6c20 636f 6e66 6967 206f  imental config o
-00002320: 7074 696f 6e20 746f 2073 7065 6369 6679  ption to specify
-00002330: 206d 756c 7469 706c 6520 6461 7461 6261   multiple databa
-00002340: 7365 732e 2028 5b5c 2336 3538 305d 2868  ses. ([\#6580](h
+00000030: 3d3d 3d3d 3d0a 0a42 7567 6669 7865 730a  =====..Bugfixes.
+00000040: 2d2d 2d2d 2d2d 2d2d 0a0a 2d20 4669 7820  --------..- Fix 
+00000050: 6275 6720 7768 6572 6520 7365 7474 696e  bug where settin
+00000060: 6720 606d 6175 5f6c 696d 6974 5f72 6573  g `mau_limit_res
+00000070: 6572 7665 645f 7468 7265 6570 6964 7360  erved_threepids`
+00000080: 2063 6f6e 6669 6720 776f 756c 6420 6361   config would ca
+00000090: 7573 6520 5379 6e61 7073 6520 746f 2072  use Synapse to r
+000000a0: 6566 7573 6520 746f 2073 7461 7274 2e20  efuse to start. 
+000000b0: 285b 5c23 3637 3933 5d28 6874 7470 733a  ([\#6793](https:
+000000c0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+000000d0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+000000e0: 6973 7375 6573 2f36 3739 3329 290a 0a0a  issues/6793))...
+000000f0: 5379 6e61 7073 6520 312e 392e 3020 2832  Synapse 1.9.0 (2
+00000100: 3032 302d 3031 2d32 3329 0a3d 3d3d 3d3d  020-01-23).=====
+00000110: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00000120: 3d3d 3d3d 3d0a 0a2a 2a57 4152 4e49 4e47  =====..**WARNING
+00000130: 2a2a 3a20 4173 206f 6620 7468 6973 2072  **: As of this r
+00000140: 656c 6561 7365 2c20 5379 6e61 7073 6520  elease, Synapse 
+00000150: 6e6f 206c 6f6e 6765 7220 7375 7070 6f72  no longer suppor
+00000160: 7473 2076 6572 7369 6f6e 7320 6f66 2053  ts versions of S
+00000170: 514c 6974 6520 6265 666f 7265 2033 2e31  QLite before 3.1
+00000180: 312c 2061 6e64 2077 696c 6c20 7265 6675  1, and will refu
+00000190: 7365 2074 6f20 7374 6172 7420 7768 656e  se to start when
+000001a0: 2063 6f6e 6669 6775 7265 6420 746f 2075   configured to u
+000001b0: 7365 2061 6e20 6f6c 6465 7220 7665 7273  se an older vers
+000001c0: 696f 6e2e 2041 646d 696e 6973 7472 6174  ion. Administrat
+000001d0: 6f72 7320 6172 6520 7265 636f 6d6d 656e  ors are recommen
+000001e0: 6465 6420 746f 206d 6967 7261 7465 2074  ded to migrate t
+000001f0: 6865 6972 2064 6174 6162 6173 6520 746f  heir database to
+00000200: 2050 6f73 7467 7265 7320 2873 6565 2069   Postgres (see i
+00000210: 6e73 7472 7563 7469 6f6e 7320 5b68 6572  nstructions [her
+00000220: 655d 2864 6f63 732f 706f 7374 6772 6573  e](docs/postgres
+00000230: 2e6d 6429 292e 0a0a 4966 2079 6f75 7220  .md))...If your 
+00000240: 5379 6e61 7073 6520 6465 706c 6f79 6d65  Synapse deployme
+00000250: 6e74 2075 7365 7320 776f 726b 6572 732c  nt uses workers,
+00000260: 206e 6f74 6520 7468 6174 2074 6865 2072   note that the r
+00000270: 6576 6572 7365 2d70 726f 7879 2063 6f6e  everse-proxy con
+00000280: 6669 6775 7261 7469 6f6e 7320 666f 7220  figurations for 
+00000290: 7468 6520 6073 796e 6170 7365 2e61 7070  the `synapse.app
+000002a0: 2e6d 6564 6961 5f72 6570 6f73 6974 6f72  .media_repositor
+000002b0: 7960 2c20 6073 796e 6170 7365 2e61 7070  y`, `synapse.app
+000002c0: 2e66 6564 6572 6174 696f 6e5f 7265 6164  .federation_read
+000002d0: 6572 6020 616e 6420 6073 796e 6170 7365  er` and `synapse
+000002e0: 2e61 7070 2e65 7665 6e74 5f63 7265 6174  .app.event_creat
+000002f0: 6f72 6020 776f 726b 6572 7320 6861 7665  or` workers have
+00000300: 2063 6861 6e67 6564 2c20 7769 7468 2074   changed, with t
+00000310: 6865 2061 6464 6974 696f 6e20 6f66 2061  he addition of a
+00000320: 2066 6577 2070 6174 6873 2028 7365 6520   few paths (see 
+00000330: 7468 6520 7570 6461 7465 6420 636f 6e66  the updated conf
+00000340: 6967 7572 6174 696f 6e73 205b 6865 7265  igurations [here
+00000350: 5d28 646f 6373 2f77 6f72 6b65 7273 2e6d  ](docs/workers.m
+00000360: 6423 6176 6169 6c61 626c 652d 776f 726b  d#available-work
+00000370: 6572 2d61 7070 6c69 6361 7469 6f6e 7329  er-applications)
+00000380: 292e 2045 7869 7374 696e 6720 636f 6e66  ). Existing conf
+00000390: 6967 7572 6174 696f 6e73 2077 696c 6c20  igurations will 
+000003a0: 636f 6e74 696e 7565 2074 6f20 776f 726b  continue to work
+000003b0: 2e0a 0a0a 496d 7072 6f76 6564 2044 6f63  ....Improved Doc
+000003c0: 756d 656e 7461 7469 6f6e 0a2d 2d2d 2d2d  umentation.-----
+000003d0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+000003e0: 2d0a 0a2d 2046 6978 2065 6e64 706f 696e  -..- Fix endpoin
+000003f0: 7420 646f 6375 6d65 6e74 6174 696f 6e20  t documentation 
+00000400: 666f 7220 7468 6520 4c69 7374 2052 6f6f  for the List Roo
+00000410: 6d73 2061 646d 696e 2041 5049 2e20 285b  ms admin API. ([
+00000420: 5c23 3637 3730 5d28 6874 7470 733a 2f2f  \#6770](https://
+00000430: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00000440: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00000450: 7375 6573 2f36 3737 3029 290a 0a0a 5379  sues/6770))...Sy
+00000460: 6e61 7073 6520 312e 392e 3072 6331 2028  napse 1.9.0rc1 (
+00000470: 3230 3230 2d30 312d 3232 290a 3d3d 3d3d  2020-01-22).====
+00000480: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00000490: 3d3d 3d3d 3d3d 3d3d 3d0a 0a46 6561 7475  =========..Featu
+000004a0: 7265 730a 2d2d 2d2d 2d2d 2d2d 0a0a 2d20  res.--------..- 
+000004b0: 416c 6c6f 7720 6164 6d69 6e20 746f 2063  Allow admin to c
+000004c0: 7265 6174 6520 6f72 206d 6f64 6966 7920  reate or modify 
+000004d0: 6120 7573 6572 2e20 436f 6e74 7269 6275  a user. Contribu
+000004e0: 7465 6420 6279 2041 7765 736f 6d65 2054  ted by Awesome T
+000004f0: 6563 686e 6f6c 6f67 6965 7320 496e 6e6f  echnologies Inno
+00000500: 7661 7469 6f6e 736c 6162 6f72 2047 6d62  vationslabor Gmb
+00000510: 482e 2028 5b5c 2335 3734 325d 2868 7474  H. ([\#5742](htt
+00000520: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00000530: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00000540: 7365 2f69 7373 7565 732f 3537 3432 2929  se/issues/5742))
+00000550: 0a2d 2041 6464 206e 6577 2071 7561 7261  .- Add new quara
+00000560: 6e74 696e 6520 6d65 6469 6120 6164 6d69  ntine media admi
+00000570: 6e20 4150 4973 2074 6f20 7175 6172 616e  n APIs to quaran
+00000580: 7469 6e65 2062 7920 6d65 6469 6120 4944  tine by media ID
+00000590: 206f 7220 6279 2075 7365 7220 7768 6f20   or by user who 
+000005a0: 7570 6c6f 6164 6564 2074 6865 206d 6564  uploaded the med
+000005b0: 6961 2e20 285b 5c23 3636 3831 5d28 6874  ia. ([\#6681](ht
+000005c0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+000005d0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+000005e0: 7073 652f 6973 7375 6573 2f36 3638 3129  pse/issues/6681)
+000005f0: 2c20 5b5c 2336 3735 365d 2868 7474 7073  , [\#6756](https
+00000600: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00000610: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00000620: 2f69 7373 7565 732f 3637 3536 2929 0a2d  /issues/6756)).-
+00000630: 2041 6464 2060 6f72 672e 6d61 7472 6978   Add `org.matrix
+00000640: 2e65 3265 5f63 726f 7373 5f73 6967 6e69  .e2e_cross_signi
+00000650: 6e67 6020 746f 2060 756e 7374 6162 6c65  ng` to `unstable
+00000660: 5f66 6561 7475 7265 7360 2069 6e20 602f  _features` in `/
+00000670: 7665 7273 696f 6e73 6020 6173 2070 6572  versions` as per
+00000680: 205b 4d53 4331 3735 365d 2868 7474 7073   [MSC1756](https
+00000690: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+000006a0: 7472 6978 2d6f 7267 2f6d 6174 7269 782d  trix-org/matrix-
+000006b0: 646f 632f 7075 6c6c 2f31 3735 3629 2e20  doc/pull/1756). 
+000006c0: 285b 5c23 3637 3132 5d28 6874 7470 733a  ([\#6712](https:
+000006d0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+000006e0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+000006f0: 6973 7375 6573 2f36 3731 3229 290a 2d20  issues/6712)).- 
+00000700: 4164 6420 6120 6e65 7720 6164 6d69 6e20  Add a new admin 
+00000710: 4150 4920 746f 206c 6973 7420 616e 6420  API to list and 
+00000720: 6669 6c74 6572 2072 6f6f 6d73 206f 6e20  filter rooms on 
+00000730: 7468 6520 7365 7276 6572 2e20 285b 5c23  the server. ([\#
+00000740: 3637 3230 5d28 6874 7470 733a 2f2f 6769  6720](https://gi
+00000750: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+00000760: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+00000770: 6573 2f36 3732 3029 290a 0a0a 4275 6766  es/6720))...Bugf
+00000780: 6978 6573 0a2d 2d2d 2d2d 2d2d 2d0a 0a2d  ixes.--------..-
+00000790: 2043 6f72 7265 6374 6c79 2070 726f 7879   Correctly proxy
+000007a0: 2048 5454 5020 6572 726f 7273 2064 7565   HTTP errors due
+000007b0: 2074 6f20 4150 4920 6361 6c6c 7320 746f   to API calls to
+000007c0: 2072 656d 6f74 6520 6772 6f75 7020 7365   remote group se
+000007d0: 7276 6572 732e 2028 5b5c 2336 3635 345d  rvers. ([\#6654]
+000007e0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+000007f0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+00000800: 796e 6170 7365 2f69 7373 7565 732f 3636  ynapse/issues/66
+00000810: 3534 2929 0a2d 2046 6978 206d 6564 6961  54)).- Fix media
+00000820: 2072 6570 6f20 6164 6d69 6e20 4150 4973   repo admin APIs
+00000830: 2077 6865 6e20 7573 696e 6720 6120 6d65   when using a me
+00000840: 6469 6120 776f 726b 6572 2e20 285b 5c23  dia worker. ([\#
+00000850: 3636 3634 5d28 6874 7470 733a 2f2f 6769  6664](https://gi
+00000860: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+00000870: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+00000880: 6573 2f36 3636 3429 290a 2d20 4669 7820  es/6664)).- Fix 
+00000890: 2243 5249 5449 4341 4c22 2065 7272 6f72  "CRITICAL" error
+000008a0: 7320 6265 696e 6720 6c6f 6767 6564 2077  s being logged w
+000008b0: 6865 6e20 6120 7265 7175 6573 7420 6973  hen a request is
+000008c0: 2072 6563 6569 7665 6420 666f 7220 6120   received for a 
+000008d0: 7572 6920 636f 6e74 6169 6e69 6e67 206e  uri containing n
+000008e0: 6f6e 2d61 7363 6969 2063 6861 7261 6374  on-ascii charact
+000008f0: 6572 732e 2028 5b5c 2336 3638 325d 2868  ers. ([\#6682](h
+00000900: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00000910: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+00000920: 6170 7365 2f69 7373 7565 732f 3636 3832  apse/issues/6682
+00000930: 2929 0a2d 2046 6978 2061 2062 7567 2077  )).- Fix a bug w
+00000940: 6865 7265 2077 6520 776f 756c 6420 6173  here we would as
+00000950: 7369 676e 2061 206e 756d 6572 6963 2075  sign a numeric u
+00000960: 7365 7220 4944 2069 6620 736f 6d65 626f  ser ID if somebo
+00000970: 6479 2074 7269 6564 2072 6567 6973 7465  dy tried registe
+00000980: 7269 6e67 2077 6974 6820 616e 2065 6d70  ring with an emp
+00000990: 7479 2075 7365 726e 616d 652e 2028 5b5c  ty username. ([\
+000009a0: 2336 3639 305d 2868 7474 7073 3a2f 2f67  #6690](https://g
+000009b0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+000009c0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+000009d0: 7565 732f 3636 3930 2929 0a2d 2046 6978  ues/6690)).- Fix
+000009e0: 2060 7075 7267 655f 726f 6f6d 6020 6164   `purge_room` ad
+000009f0: 6d69 6e20 4150 492e 2028 5b5c 2336 3731  min API. ([\#671
+00000a00: 315d 2868 7474 7073 3a2f 2f67 6974 6875  1](https://githu
+00000a10: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00000a20: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00000a30: 3637 3131 2929 0a2d 2046 6978 2061 2062  6711)).- Fix a b
+00000a40: 7567 2063 6175 7369 6e67 2053 796e 6170  ug causing Synap
+00000a50: 7365 2074 6f20 6e6f 7420 616c 7761 7973  se to not always
+00000a60: 2070 7572 6765 2071 7569 6574 2072 6f6f   purge quiet roo
+00000a70: 6d73 2077 6974 6820 6120 6c6f 7720 606d  ms with a low `m
+00000a80: 6178 5f6c 6966 6574 696d 6560 2069 6e20  ax_lifetime` in 
+00000a90: 7468 6569 7220 6d65 7373 6167 6520 7265  their message re
+00000aa0: 7465 6e74 696f 6e20 706f 6c69 6369 6573  tention policies
+00000ab0: 2077 6865 6e20 7275 6e6e 696e 6720 7468   when running th
+00000ac0: 6520 6175 746f 6d61 7465 6420 7075 7267  e automated purg
+00000ad0: 6520 6a6f 6273 2e20 285b 5c23 3637 3134  e jobs. ([\#6714
+00000ae0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00000af0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00000b00: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
+00000b10: 3731 3429 290a 2d20 4669 7820 7468 6520  714)).- Fix the 
+00000b20: 6073 796e 6170 7365 5f70 6f72 745f 6462  `synapse_port_db
+00000b30: 6020 6e6f 7420 636f 7272 6563 746c 7920  ` not correctly 
+00000b40: 7275 6e6e 696e 6720 6261 636b 6772 6f75  running backgrou
+00000b50: 6e64 2075 7064 6174 6573 2e20 5468 616e  nd updates. Than
+00000b60: 6b73 2040 7461 647a 696b 2066 6f72 2072  ks @tadzik for r
+00000b70: 6570 6f72 7469 6e67 2e20 285b 5c23 3637  eporting. ([\#67
+00000b80: 3138 5d28 6874 7470 733a 2f2f 6769 7468  18](https://gith
+00000b90: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00000ba0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00000bb0: 2f36 3731 3829 290a 2d20 4669 7820 6368  /6718)).- Fix ch
+00000bc0: 616e 6769 6e67 2070 6173 7377 6f72 6420  anging password 
+00000bd0: 7669 6120 7573 6572 2061 646d 696e 2041  via user admin A
+00000be0: 5049 2e20 285b 5c23 3637 3330 5d28 6874  PI. ([\#6730](ht
+00000bf0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00000c00: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+00000c10: 7073 652f 6973 7375 6573 2f36 3733 3029  pse/issues/6730)
+00000c20: 290a 2d20 4669 7820 602f 6576 656e 7473  ).- Fix `/events
+00000c30: 2f3a 6576 656e 745f 6964 6020 6465 7072  /:event_id` depr
+00000c40: 6563 6174 6564 2041 5049 2e20 285b 5c23  ecated API. ([\#
+00000c50: 3637 3331 5d28 6874 7470 733a 2f2f 6769  6731](https://gi
+00000c60: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+00000c70: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+00000c80: 6573 2f36 3733 3129 290a 2d20 4669 7820  es/6731)).- Fix 
+00000c90: 6d6f 6e74 686c 7920 6163 7469 7665 2075  monthly active u
+00000ca0: 7365 7220 6c69 6d69 7469 6e67 2073 7570  ser limiting sup
+00000cb0: 706f 7274 2066 6f72 2077 6f72 6b65 7220  port for worker 
+00000cc0: 6d6f 6465 2c20 6669 7865 7320 5b23 3436  mode, fixes [#46
+00000cd0: 3339 5d28 6874 7470 733a 2f2f 6769 7468  39](https://gith
+00000ce0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00000cf0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00000d00: 2f34 3633 3929 2e20 285b 5c23 3637 3432  /4639). ([\#6742
+00000d10: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00000d20: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00000d30: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
+00000d40: 3734 3229 290a 2d20 4669 7820 6275 6720  742)).- Fix bug 
+00000d50: 7768 656e 2073 6574 7469 6e67 2060 6163  when setting `ac
+00000d60: 636f 756e 745f 7661 6c69 6469 7479 6020  count_validity` 
+00000d70: 746f 2061 6e20 656d 7074 7920 626c 6f63  to an empty bloc
+00000d80: 6b20 696e 2074 6865 2063 6f6e 6669 672e  k in the config.
+00000d90: 2054 6861 6e6b 7320 746f 2040 536f 7275   Thanks to @Soru
+00000da0: 6e6f 6d65 2066 6f72 2072 6570 6f72 7469  nome for reporti
+00000db0: 6e67 2e20 285b 5c23 3637 3437 5d28 6874  ng. ([\#6747](ht
+00000dc0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00000dd0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+00000de0: 7073 652f 6973 7375 6573 2f36 3734 3729  pse/issues/6747)
+00000df0: 290a 2d20 4669 7820 6041 7474 7269 6275  ).- Fix `Attribu
+00000e00: 7465 4572 726f 723a 2027 4e6f 6e65 5479  teError: 'NoneTy
+00000e10: 7065 2720 6f62 6a65 6374 2068 6173 206e  pe' object has n
+00000e20: 6f20 6174 7472 6962 7574 6520 2767 6574  o attribute 'get
+00000e30: 2760 2069 6e20 6068 6173 685f 7061 7373  '` in `hash_pass
+00000e40: 776f 7264 6020 7768 656e 2063 6f6e 6669  word` when confi
+00000e50: 6775 7261 7469 6f6e 2068 6173 2061 6e20  guration has an 
+00000e60: 656d 7074 7920 6070 6173 7377 6f72 645f  empty `password_
+00000e70: 636f 6e66 6967 602e 2043 6f6e 7472 6962  config`. Contrib
+00000e80: 7574 6564 2062 7920 4069 7669 6c61 7461  uted by @ivilata
+00000e90: 2e20 285b 5c23 3637 3533 5d28 6874 7470  . ([\#6753](http
+00000ea0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+00000eb0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+00000ec0: 652f 6973 7375 6573 2f36 3735 3329 290a  e/issues/6753)).
+00000ed0: 2d20 4669 7820 7468 6520 6064 6f63 6b65  - Fix the `docke
+00000ee0: 722d 636f 6d70 6f73 652e 7961 6d6c 6020  r-compose.yaml` 
+00000ef0: 6f76 6572 7269 6469 6e67 2074 6865 2065  overriding the e
+00000f00: 6e74 6972 6520 602f 6574 6360 2066 6f6c  ntire `/etc` fol
+00000f10: 6465 7220 6f66 2074 6865 2063 6f6e 7461  der of the conta
+00000f20: 696e 6572 2e20 436f 6e74 7269 6275 7465  iner. Contribute
+00000f30: 6420 6279 2046 6162 6961 6e20 4d65 7965  d by Fabian Meye
+00000f40: 722e 2028 5b5c 2336 3635 365d 2868 7474  r. ([\#6656](htt
+00000f50: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00000f60: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00000f70: 7365 2f69 7373 7565 732f 3636 3536 2929  se/issues/6656))
+00000f80: 0a0a 0a49 6d70 726f 7665 6420 446f 6375  ...Improved Docu
+00000f90: 6d65 6e74 6174 696f 6e0a 2d2d 2d2d 2d2d  mentation.------
+00000fa0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00000fb0: 0a0a 2d20 4669 7820 6120 7479 706f 2069  ..- Fix a typo i
+00000fc0: 6e20 7468 6520 636f 6e66 6967 7572 6174  n the configurat
+00000fd0: 696f 6e20 6578 616d 706c 6520 666f 7220  ion example for 
+00000fe0: 7075 7267 6520 6a6f 6273 2069 6e20 7468  purge jobs in th
+00000ff0: 6520 7361 6d70 6c65 2063 6f6e 6669 6775  e sample configu
+00001000: 7261 7469 6f6e 2066 696c 652e 2028 5b5c  ration file. ([\
+00001010: 2336 3632 315d 2868 7474 7073 3a2f 2f67  #6621](https://g
+00001020: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00001030: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00001040: 7565 732f 3636 3231 2929 0a2d 2041 6464  ues/6621)).- Add
+00001050: 2063 6f6d 706c 6574 6520 646f 6375 6d65   complete docume
+00001060: 6e74 6174 696f 6e20 6f66 2074 6865 206d  ntation of the m
+00001070: 6573 7361 6765 2072 6574 656e 7469 6f6e  essage retention
+00001080: 2070 6f6c 6963 6965 7320 7375 7070 6f72   policies suppor
+00001090: 742e 2028 5b5c 2336 3632 345d 2868 7474  t. ([\#6624](htt
+000010a0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+000010b0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+000010c0: 7365 2f69 7373 7565 732f 3636 3234 292c  se/issues/6624),
+000010d0: 205b 5c23 3636 3635 5d28 6874 7470 733a   [\#6665](https:
+000010e0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+000010f0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00001100: 6973 7375 6573 2f36 3636 3529 290a 2d20  issues/6665)).- 
+00001110: 4164 6420 736f 6d65 2068 656c 7066 756c  Add some helpful
+00001120: 2074 6970 7320 6162 6f75 7420 6368 616e   tips about chan
+00001130: 6765 6c6f 6720 656e 7472 6965 7320 746f  gelog entries to
+00001140: 2074 6865 2047 6974 4875 6220 7075 6c6c   the GitHub pull
+00001150: 2072 6571 7565 7374 2074 656d 706c 6174   request templat
+00001160: 652e 2028 5b5c 2336 3636 335d 2868 7474  e. ([\#6663](htt
+00001170: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00001180: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00001190: 7365 2f69 7373 7565 732f 3636 3633 2929  se/issues/6663))
+000011a0: 0a2d 2043 6c61 7269 6679 2074 6865 2060  .- Clarify the `
+000011b0: 6163 636f 756e 745f 7661 6c69 6469 7479  account_validity
+000011c0: 6020 616e 6420 6065 6d61 696c 6020 7365  ` and `email` se
+000011d0: 6374 696f 6e73 206f 6620 7468 6520 7361  ctions of the sa
+000011e0: 6d70 6c65 2063 6f6e 6669 6775 7261 7469  mple configurati
+000011f0: 6f6e 2e20 285b 5c23 3636 3835 5d28 6874  on. ([\#6685](ht
+00001200: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00001210: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+00001220: 7073 652f 6973 7375 6573 2f36 3638 3529  pse/issues/6685)
+00001230: 290a 2d20 4164 6420 6d6f 7265 2065 6e64  ).- Add more end
+00001240: 706f 696e 7473 2074 6f20 7468 6520 646f  points to the do
+00001250: 6375 6d65 6e74 6174 696f 6e20 666f 7220  cumentation for 
+00001260: 5379 6e61 7073 6520 776f 726b 6572 732e  Synapse workers.
+00001270: 2028 5b5c 2336 3639 385d 2868 7474 7073   ([\#6698](https
+00001280: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00001290: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+000012a0: 2f69 7373 7565 732f 3636 3938 2929 0a0a  /issues/6698))..
+000012b0: 0a44 6570 7265 6361 7469 6f6e 7320 616e  .Deprecations an
+000012c0: 6420 5265 6d6f 7661 6c73 0a2d 2d2d 2d2d  d Removals.-----
+000012d0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+000012e0: 2d2d 2d2d 0a0a 2d20 5379 6e61 7073 6520  ----..- Synapse 
+000012f0: 6e6f 206c 6f6e 6765 7220 7375 7070 6f72  no longer suppor
+00001300: 7473 2076 6572 7369 6f6e 7320 6f66 2053  ts versions of S
+00001310: 514c 6974 6520 6265 666f 7265 2033 2e31  QLite before 3.1
+00001320: 312c 2061 6e64 2077 696c 6c20 7265 6675  1, and will refu
+00001330: 7365 2074 6f20 7374 6172 7420 7768 656e  se to start when
+00001340: 2063 6f6e 6669 6775 7265 6420 746f 2075   configured to u
+00001350: 7365 2061 6e20 6f6c 6465 7220 7665 7273  se an older vers
+00001360: 696f 6e2e 2041 646d 696e 6973 7472 6174  ion. Administrat
+00001370: 6f72 7320 6172 6520 7265 636f 6d6d 656e  ors are recommen
+00001380: 6465 6420 746f 206d 6967 7261 7465 2074  ded to migrate t
+00001390: 6865 6972 2064 6174 6162 6173 6520 746f  heir database to
+000013a0: 2050 6f73 7467 7265 7320 2873 6565 2069   Postgres (see i
+000013b0: 6e73 7472 7563 7469 6f6e 7320 5b68 6572  nstructions [her
+000013c0: 655d 2864 6f63 732f 706f 7374 6772 6573  e](docs/postgres
+000013d0: 2e6d 6429 292e 2028 5b5c 2336 3637 355d  .md)). ([\#6675]
+000013e0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+000013f0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+00001400: 796e 6170 7365 2f69 7373 7565 732f 3636  ynapse/issues/66
+00001410: 3735 2929 0a0a 0a49 6e74 6572 6e61 6c20  75))...Internal 
+00001420: 4368 616e 6765 730a 2d2d 2d2d 2d2d 2d2d  Changes.--------
+00001430: 2d2d 2d2d 2d2d 2d2d 0a0a 2d20 4164 6420  --------..- Add 
+00001440: 606c 6f63 616c 5f63 7572 7265 6e74 5f6d  `local_current_m
+00001450: 656d 6265 7273 6869 7060 2074 6162 6c65  embership` table
+00001460: 2066 6f72 2074 7261 636b 696e 6720 6c6f   for tracking lo
+00001470: 6361 6c20 7573 6572 206d 656d 6265 7273  cal user members
+00001480: 6869 7020 7374 6174 6520 696e 2072 6f6f  hip state in roo
+00001490: 6d73 2e20 285b 5c23 3636 3535 5d28 6874  ms. ([\#6655](ht
+000014a0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+000014b0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+000014c0: 7073 652f 6973 7375 6573 2f36 3635 3529  pse/issues/6655)
+000014d0: 2c20 5b5c 2336 3732 385d 2868 7474 7073  , [\#6728](https
+000014e0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+000014f0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00001500: 2f69 7373 7565 732f 3637 3238 2929 0a2d  /issues/6728)).-
+00001510: 2050 6f72 7420 6073 796e 6170 7365 2e72   Port `synapse.r
+00001520: 6570 6c69 6361 7469 6f6e 2e74 6370 6020  eplication.tcp` 
+00001530: 746f 2061 7379 6e63 2f61 7761 6974 2e20  to async/await. 
+00001540: 285b 5c23 3636 3636 5d28 6874 7470 733a  ([\#6666](https:
+00001550: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00001560: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00001570: 6973 7375 6573 2f36 3636 3629 290a 2d20  issues/6666)).- 
+00001580: 4669 7875 7020 6073 796e 6170 7365 2e72  Fixup `synapse.r
+00001590: 6570 6c69 6361 7469 6f6e 6020 746f 2070  eplication` to p
+000015a0: 6173 7320 6d79 7079 2063 6865 636b 732e  ass mypy checks.
+000015b0: 2028 5b5c 2336 3636 375d 2868 7474 7073   ([\#6667](https
+000015c0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+000015d0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+000015e0: 2f69 7373 7565 732f 3636 3637 2929 0a2d  /issues/6667)).-
+000015f0: 2041 6c6c 6f77 2060 6164 6469 7469 6f6e   Allow `addition
+00001600: 616c 5f72 6573 6f75 7263 6573 6020 746f  al_resources` to
+00001610: 2069 6d70 6c65 6d65 6e74 2060 4952 6573   implement `IRes
+00001620: 6f75 7263 6560 2064 6972 6563 746c 792e  ource` directly.
+00001630: 2028 5b5c 2336 3638 365d 2868 7474 7073   ([\#6686](https
+00001640: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00001650: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00001660: 2f69 7373 7565 732f 3636 3836 2929 0a2d  /issues/6686)).-
+00001670: 2041 6c6c 6f77 2052 4553 5420 656e 6470   Allow REST endp
+00001680: 6f69 6e74 2069 6d70 6c65 6d65 6e74 6174  oint implementat
+00001690: 696f 6e73 2074 6f20 7261 6973 6520 6120  ions to raise a 
+000016a0: 6052 6564 6972 6563 7445 7863 6570 7469  `RedirectExcepti
+000016b0: 6f6e 602c 2077 6869 6368 2077 696c 6c20  on`, which will 
+000016c0: 7265 6469 7265 6374 2074 6865 2075 7365  redirect the use
+000016d0: 7227 7320 6272 6f77 7365 7220 746f 2061  r's browser to a
+000016e0: 2067 6976 656e 206c 6f63 6174 696f 6e2e   given location.
+000016f0: 2028 5b5c 2336 3638 375d 2868 7474 7073   ([\#6687](https
+00001700: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00001710: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00001720: 2f69 7373 7565 732f 3636 3837 2929 0a2d  /issues/6687)).-
+00001730: 2055 7064 6174 6573 2061 6e64 2065 7874   Updates and ext
+00001740: 656e 7369 6f6e 7320 746f 2074 6865 206d  ensions to the m
+00001750: 6f64 756c 6520 4150 492e 2028 5b5c 2336  odule API. ([\#6
+00001760: 3638 385d 2868 7474 7073 3a2f 2f67 6974  688](https://git
+00001770: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00001780: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+00001790: 732f 3636 3838 2929 0a2d 2055 7064 6174  s/6688)).- Updat
+000017a0: 6573 2074 6f20 7468 6520 5341 4d4c 206d  es to the SAML m
+000017b0: 6170 7069 6e67 2070 726f 7669 6465 7220  apping provider 
+000017c0: 4150 492e 2028 5b5c 2336 3638 395d 2868  API. ([\#6689](h
+000017d0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+000017e0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+000017f0: 6170 7365 2f69 7373 7565 732f 3636 3839  apse/issues/6689
+00001800: 292c 205b 5c23 3637 3233 5d28 6874 7470  ), [\#6723](http
+00001810: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+00001820: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+00001830: 652f 6973 7375 6573 2f36 3732 3329 290a  e/issues/6723)).
+00001840: 2d20 5265 6d6f 7665 2072 6564 756e 6461  - Remove redunda
+00001850: 6e74 2060 5265 6769 7374 7261 7469 6f6e  nt `Registration
+00001860: 4572 726f 7260 2063 6c61 7373 2e20 285b  Error` class. ([
+00001870: 5c23 3636 3931 5d28 6874 7470 733a 2f2f  \#6691](https://
+00001880: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00001890: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+000018a0: 7375 6573 2f36 3639 3129 290a 2d20 446f  sues/6691)).- Do
+000018b0: 6e27 7420 626c 6f63 6b20 7072 6f63 6573  n't block proces
+000018c0: 7369 6e67 206f 6620 696e 636f 6d69 6e67  sing of incoming
+000018d0: 2045 4455 7320 6265 6869 6e64 2070 726f   EDUs behind pro
+000018e0: 6365 7373 696e 6720 5044 5573 2069 6e20  cessing PDUs in 
+000018f0: 7468 6520 7361 6d65 2074 7261 6e73 6163  the same transac
+00001900: 7469 6f6e 2e20 285b 5c23 3636 3937 5d28  tion. ([\#6697](
+00001910: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00001920: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00001930: 6e61 7073 652f 6973 7375 6573 2f36 3639  napse/issues/669
+00001940: 3729 290a 2d20 5265 6d6f 7665 2064 7570  7)).- Remove dup
+00001950: 6c69 6361 7465 2063 6865 636b 2066 6f72  licate check for
+00001960: 2074 6865 2060 7365 7373 696f 6e60 2071   the `session` q
+00001970: 7565 7279 2070 6172 616d 6574 6572 206f  uery parameter o
+00001980: 6e20 7468 6520 602f 6175 7468 2f78 7878  n the `/auth/xxx
+00001990: 2f66 616c 6c62 6163 6b2f 7765 6260 2043  /fallback/web` C
+000019a0: 6c69 656e 742d 5365 7276 6572 2065 6e64  lient-Server end
+000019b0: 706f 696e 742e 2028 5b5c 2336 3730 325d  point. ([\#6702]
+000019c0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+000019d0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+000019e0: 796e 6170 7365 2f69 7373 7565 732f 3637  ynapse/issues/67
+000019f0: 3032 2929 0a2d 2041 7474 656d 7074 2074  02)).- Attempt t
+00001a00: 6f20 7265 7472 7920 7365 6e64 696e 6720  o retry sending 
+00001a10: 6120 7472 616e 7361 6374 696f 6e20 7768  a transaction wh
+00001a20: 656e 2077 6520 6465 7465 6374 2061 2072  en we detect a r
+00001a30: 656d 6f74 6520 7365 7276 6572 2068 6173  emote server has
+00001a40: 2063 6f6d 6520 6261 636b 206f 6e6c 696e   come back onlin
+00001a50: 652c 2072 6174 6865 7220 7468 616e 2077  e, rather than w
+00001a60: 6169 7469 6e67 2066 6f72 2061 2074 7261  aiting for a tra
+00001a70: 6e73 6163 7469 6f6e 2074 6f20 6265 2074  nsaction to be t
+00001a80: 7269 6767 6572 6564 2062 7920 6e65 7720  riggered by new 
+00001a90: 6461 7461 2e20 285b 5c23 3637 3036 5d28  data. ([\#6706](
+00001aa0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00001ab0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00001ac0: 6e61 7073 652f 6973 7375 6573 2f36 3730  napse/issues/670
+00001ad0: 3629 290a 2d20 4164 6420 6053 7461 7465  6)).- Add `State
+00001ae0: 4d61 7060 2074 7970 6520 616c 6961 7320  Map` type alias 
+00001af0: 746f 2073 696d 706c 6966 7920 7479 7065  to simplify type
+00001b00: 732e 2028 5b5c 2336 3731 355d 2868 7474  s. ([\#6715](htt
+00001b10: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00001b20: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00001b30: 7365 2f69 7373 7565 732f 3637 3135 2929  se/issues/6715))
+00001b40: 0a2d 2041 6464 2061 2060 4465 6c74 6153  .- Add a `DeltaS
+00001b50: 7461 7465 6020 746f 2074 7261 636b 2063  tate` to track c
+00001b60: 6861 6e67 6573 2074 6f20 6265 206d 6164  hanges to be mad
+00001b70: 6520 746f 2063 7572 7265 6e74 2073 7461  e to current sta
+00001b80: 7465 2064 7572 696e 6720 6576 656e 7420  te during event 
+00001b90: 7065 7273 6973 7465 6e63 652e 2028 5b5c  persistence. ([\
+00001ba0: 2336 3731 365d 2868 7474 7073 3a2f 2f67  #6716](https://g
+00001bb0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00001bc0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00001bd0: 7565 732f 3637 3136 2929 0a2d 2041 6464  ues/6716)).- Add
+00001be0: 206d 6f72 6520 6c6f 6767 696e 6720 6172   more logging ar
+00001bf0: 6f75 6e64 206d 6573 7361 6765 2072 6574  ound message ret
+00001c00: 656e 7469 6f6e 2070 6f6c 6963 6965 7320  ention policies 
+00001c10: 7375 7070 6f72 742e 2028 5b5c 2336 3731  support. ([\#671
+00001c20: 375d 2868 7474 7073 3a2f 2f67 6974 6875  7](https://githu
+00001c30: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00001c40: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00001c50: 3637 3137 2929 0a2d 2057 6865 6e20 7072  6717)).- When pr
+00001c60: 6f63 6573 7369 6e67 2061 2053 414d 4c20  ocessing a SAML 
+00001c70: 7265 7370 6f6e 7365 2c20 6c6f 6720 7468  response, log th
+00001c80: 6520 6173 7365 7274 696f 6e73 2066 6f72  e assertions for
+00001c90: 2065 6173 6965 7220 636f 6e66 6967 7572   easier configur
+00001ca0: 6174 696f 6e2e 2028 5b5c 2336 3732 345d  ation. ([\#6724]
+00001cb0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00001cc0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+00001cd0: 796e 6170 7365 2f69 7373 7565 732f 3637  ynapse/issues/67
+00001ce0: 3234 2929 0a2d 2046 6978 7570 2060 7379  24)).- Fixup `sy
+00001cf0: 6e61 7073 652e 7265 7374 6020 746f 2070  napse.rest` to p
+00001d00: 6173 7320 6d79 7079 2e20 285b 5c23 3637  ass mypy. ([\#67
+00001d10: 3332 5d28 6874 7470 733a 2f2f 6769 7468  32](https://gith
+00001d20: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00001d30: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00001d40: 2f36 3733 3229 2c20 5b5c 2336 3736 345d  /6732), [\#6764]
+00001d50: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00001d60: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+00001d70: 796e 6170 7365 2f69 7373 7565 732f 3637  ynapse/issues/67
+00001d80: 3634 2929 0a2d 2046 6978 7570 2060 7379  64)).- Fixup `sy
+00001d90: 6e61 7073 652e 6170 6960 2074 6f20 7061  napse.api` to pa
+00001da0: 7373 206d 7970 792e 2028 5b5c 2336 3733  ss mypy. ([\#673
+00001db0: 335d 2868 7474 7073 3a2f 2f67 6974 6875  3](https://githu
+00001dc0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00001dd0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00001de0: 3637 3333 2929 0a2d 2041 6c6c 6f77 2073  6733)).- Allow s
+00001df0: 7472 6561 6d69 6e67 2063 6163 6865 2027  treaming cache '
+00001e00: 696e 7661 6c69 6461 7465 2061 6c6c 2720  invalidate all' 
+00001e10: 746f 2077 6f72 6b65 7273 2e20 285b 5c23  to workers. ([\#
+00001e20: 3637 3439 5d28 6874 7470 733a 2f2f 6769  6749](https://gi
+00001e30: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+00001e40: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+00001e50: 6573 2f36 3734 3929 290a 2d20 5265 6d6f  es/6749)).- Remo
+00001e60: 7665 2075 6e75 7365 6420 4349 2064 6f63  ve unused CI doc
+00001e70: 6b65 7220 636f 6d70 6f73 6520 6669 6c65  ker compose file
+00001e80: 732e 2028 5b5c 2336 3735 345d 2868 7474  s. ([\#6754](htt
+00001e90: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00001ea0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00001eb0: 7365 2f69 7373 7565 732f 3637 3534 2929  se/issues/6754))
+00001ec0: 0a0a 0a53 796e 6170 7365 2031 2e38 2e30  ...Synapse 1.8.0
+00001ed0: 2028 3230 3230 2d30 312d 3039 290a 3d3d   (2020-01-09).==
+00001ee0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00001ef0: 3d3d 3d3d 3d3d 3d3d 0a0a 2a2a 5741 524e  ========..**WARN
+00001f00: 494e 472a 2a3a 2041 7320 6f66 2074 6869  ING**: As of thi
+00001f10: 7320 7265 6c65 6173 6520 5379 6e61 7073  s release Synaps
+00001f20: 6520 7769 6c6c 2072 6566 7573 6520 746f  e will refuse to
+00001f30: 2073 7461 7274 2069 6620 7468 6520 606c   start if the `l
+00001f40: 6f67 5f66 696c 6560 2063 6f6e 6669 6720  og_file` config 
+00001f50: 6f70 7469 6f6e 2069 7320 7370 6563 6966  option is specif
+00001f60: 6965 642e 2053 7570 706f 7274 2066 6f72  ied. Support for
+00001f70: 2074 6865 206f 7074 696f 6e20 7761 7320   the option was 
+00001f80: 7265 6d6f 7665 6420 696e 2076 312e 332e  removed in v1.3.
+00001f90: 302e 0a0a 0a42 7567 6669 7865 730a 2d2d  0....Bugfixes.--
+00001fa0: 2d2d 2d2d 2d2d 0a0a 2d20 4669 7820 6047  ------..- Fix `G
+00001fb0: 4554 6020 7265 7175 6573 7420 6f6e 2060  ET` request on `
+00001fc0: 2f5f 7379 6e61 7073 652f 6164 6d69 6e2f  /_synapse/admin/
+00001fd0: 7632 2f75 7365 7273 6020 656e 6470 6f69  v2/users` endpoi
+00001fe0: 6e74 2e20 436f 6e74 7269 6275 7465 6420  nt. Contributed 
+00001ff0: 6279 2041 7765 736f 6d65 2054 6563 686e  by Awesome Techn
+00002000: 6f6c 6f67 6965 7320 496e 6e6f 7661 7469  ologies Innovati
+00002010: 6f6e 736c 6162 6f72 2047 6d62 482e 2028  onslabor GmbH. (
+00002020: 5b5c 2336 3536 335d 2868 7474 7073 3a2f  [\#6563](https:/
+00002030: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+00002040: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00002050: 7373 7565 732f 3635 3633 2929 0a2d 2046  ssues/6563)).- F
+00002060: 6978 2069 6e63 6f72 7265 6374 2073 6967  ix incorrect sig
+00002070: 6e69 6e67 206f 6620 7265 7370 6f6e 7365  ning of response
+00002080: 7320 6672 6f6d 2074 6865 206b 6579 2073  s from the key s
+00002090: 6572 7665 7220 696d 706c 656d 656e 7461  erver implementa
+000020a0: 7469 6f6e 2e20 285b 5c23 3636 3537 5d28  tion. ([\#6657](
+000020b0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+000020c0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+000020d0: 6e61 7073 652f 6973 7375 6573 2f36 3635  napse/issues/665
+000020e0: 3729 290a 0a0a 5379 6e61 7073 6520 312e  7))...Synapse 1.
+000020f0: 382e 3072 6331 2028 3230 3230 2d30 312d  8.0rc1 (2020-01-
+00002100: 3037 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  07).============
+00002110: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00002120: 3d0a 0a46 6561 7475 7265 730a 2d2d 2d2d  =..Features.----
+00002130: 2d2d 2d2d 0a0a 2d20 4164 6420 7632 2041  ----..- Add v2 A
+00002140: 5049 7320 666f 7220 7468 6520 6073 656e  PIs for the `sen
+00002150: 645f 6a6f 696e 6020 616e 6420 6073 656e  d_join` and `sen
+00002160: 645f 6c65 6176 6560 2066 6564 6572 6174  d_leave` federat
+00002170: 696f 6e20 656e 6470 6f69 6e74 7320 2861  ion endpoints (a
+00002180: 7320 6465 7363 7269 6265 6420 696e 205b  s described in [
+00002190: 4d53 4331 3830 325d 2868 7474 7073 3a2f  MSC1802](https:/
+000021a0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+000021b0: 6978 2d6f 7267 2f6d 6174 7269 782d 646f  ix-org/matrix-do
+000021c0: 632f 7075 6c6c 2f31 3830 3229 292e 2028  c/pull/1802)). (
+000021d0: 5b5c 2336 3334 395d 2868 7474 7073 3a2f  [\#6349](https:/
+000021e0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+000021f0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00002200: 7373 7565 732f 3633 3439 2929 0a2d 2041  ssues/6349)).- A
+00002210: 6464 2061 2064 6576 656c 6f70 2073 6372  dd a develop scr
+00002220: 6970 7420 746f 2067 656e 6572 6174 6520  ipt to generate 
+00002230: 6675 6c6c 2053 514c 2073 6368 656d 6173  full SQL schemas
+00002240: 2e20 285b 5c23 3633 3934 5d28 6874 7470  . ([\#6394](http
+00002250: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+00002260: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+00002270: 652f 6973 7375 6573 2f36 3339 3429 290a  e/issues/6394)).
+00002280: 2d20 4164 6420 6375 7374 6f6d 2053 414d  - Add custom SAM
+00002290: 4c20 7573 6572 6e61 6d65 206d 6170 7069  L username mappi
+000022a0: 6e67 2066 756e 6374 696f 6e61 6c69 7479  ng functionality
+000022b0: 2074 6872 6f75 6768 2061 6e20 6578 7465   through an exte
+000022c0: 726e 616c 2070 726f 7669 6465 7220 706c  rnal provider pl
+000022d0: 7567 696e 2e20 285b 5c23 3634 3131 5d28  ugin. ([\#6411](
+000022e0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+000022f0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00002300: 6e61 7073 652f 6973 7375 6573 2f36 3431  napse/issues/641
+00002310: 3129 290a 2d20 4175 746f 6d61 7469 6361  1)).- Automatica
+00002320: 6c6c 7920 6465 6c65 7465 2065 6d70 7479  lly delete empty
+00002330: 2067 726f 7570 732f 636f 6d6d 756e 6974   groups/communit
+00002340: 6965 732e 2028 5b5c 2336 3435 335d 2868  ies. ([\#6453](h
 00002350: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
 00002360: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00002370: 6170 7365 2f69 7373 7565 732f 3635 3830  apse/issues/6580
-00002380: 2929 0a2d 2052 6169 7365 2061 6e20 6572  )).- Raise an er
-00002390: 726f 7220 6966 2073 6f6d 656f 6e65 2074  ror if someone t
-000023a0: 7269 6573 2074 6f20 7573 6520 7468 6520  ries to use the 
-000023b0: 606c 6f67 5f66 696c 6560 2063 6f6e 6669  `log_file` confi
-000023c0: 6720 6f70 7469 6f6e 2e20 285b 5c23 3636  g option. ([\#66
-000023d0: 3236 5d28 6874 7470 733a 2f2f 6769 7468  26](https://gith
-000023e0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-000023f0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00002400: 2f36 3632 3629 290a 0a0a 4275 6766 6978  /6626))...Bugfix
-00002410: 6573 0a2d 2d2d 2d2d 2d2d 2d0a 0a2d 2050  es.--------..- P
-00002420: 7265 7665 6e74 2072 6564 6163 7465 6420  revent redacted 
-00002430: 6576 656e 7473 2066 726f 6d20 6265 696e  events from bein
-00002440: 6720 7265 7475 726e 6564 2064 7572 696e  g returned durin
-00002450: 6720 6d65 7373 6167 6520 7365 6172 6368  g message search
-00002460: 2e20 285b 5c23 3633 3737 5d28 6874 7470  . ([\#6377](http
-00002470: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00002480: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00002490: 652f 6973 7375 6573 2f36 3337 3729 2c20  e/issues/6377), 
-000024a0: 5b5c 2336 3532 325d 2868 7474 7073 3a2f  [\#6522](https:/
-000024b0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-000024c0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-000024d0: 7373 7565 732f 3635 3232 2929 0a2d 2050  ssues/6522)).- P
-000024e0: 7265 7665 6e74 2065 7272 6f72 206f 6e20  revent error on 
-000024f0: 7472 7969 6e67 2074 6f20 7365 6172 6368  trying to search
-00002500: 2061 2075 7067 7261 6465 6420 726f 6f6d   a upgraded room
-00002510: 2077 6865 6e20 7468 6520 7365 7276 6572   when the server
-00002520: 2069 7320 6e6f 7420 696e 2074 6865 2070   is not in the p
-00002530: 7265 6465 6365 7373 6f72 2072 6f6f 6d2e  redecessor room.
-00002540: 2028 5b5c 2336 3338 355d 2868 7474 7073   ([\#6385](https
-00002550: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00002560: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00002570: 2f69 7373 7565 732f 3633 3835 2929 0a2d  /issues/6385)).-
-00002580: 2049 6d70 726f 7665 2070 6572 666f 726d   Improve perform
-00002590: 616e 6365 206f 6620 6c6f 6f6b 696e 6720  ance of looking 
-000025a0: 7570 2063 726f 7373 2d73 6967 6e69 6e67  up cross-signing
-000025b0: 206b 6579 732e 2028 5b5c 2336 3438 365d   keys. ([\#6486]
-000025c0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-000025d0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-000025e0: 796e 6170 7365 2f69 7373 7565 732f 3634  ynapse/issues/64
-000025f0: 3836 2929 0a2d 2046 6978 2072 6163 6520  86)).- Fix race 
-00002600: 7768 6963 6820 6f63 6361 7369 6f6e 616c  which occasional
-00002610: 6c79 2063 6175 7365 6420 6465 6c65 7465  ly caused delete
-00002620: 6420 6465 7669 6365 7320 746f 2072 6561  d devices to rea
-00002630: 7070 6561 722e 2028 5b5c 2336 3531 345d  ppear. ([\#6514]
-00002640: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00002650: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00002660: 796e 6170 7365 2f69 7373 7565 732f 3635  ynapse/issues/65
-00002670: 3134 2929 0a2d 2046 6978 206d 6973 7369  14)).- Fix missi
-00002680: 6e67 2072 6f77 2069 6e20 6064 6576 6963  ng row in `devic
-00002690: 655f 6d61 785f 7374 7265 616d 5f69 6460  e_max_stream_id`
-000026a0: 2074 6861 7420 636f 756c 6420 6361 7573   that could caus
-000026b0: 6520 756e 6162 6c65 2074 6f20 6465 6372  e unable to decr
-000026c0: 7970 7420 6572 726f 7273 2061 6674 6572  ypt errors after
-000026d0: 2073 6572 7665 7220 7265 7374 6172 742e   server restart.
-000026e0: 2028 5b5c 2336 3535 355d 2868 7474 7073   ([\#6555](https
-000026f0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00002700: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00002710: 2f69 7373 7565 732f 3635 3535 2929 0a2d  /issues/6555)).-
-00002720: 2046 6978 2061 2062 7567 2077 6869 6368   Fix a bug which
-00002730: 206d 6561 6e74 2074 6861 7420 7765 2064   meant that we d
-00002740: 6964 206e 6f74 2073 656e 6420 7379 7374  id not send syst
-00002750: 656d 6420 6e6f 7469 6669 6361 7469 6f6e  emd notification
-00002760: 7320 6f6e 2073 7461 7274 7570 2069 6620  s on startup if 
-00002770: 6163 6d65 2077 6173 2065 6e61 626c 6564  acme was enabled
-00002780: 2e20 285b 5c23 3635 3731 5d28 6874 7470  . ([\#6571](http
-00002790: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-000027a0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-000027b0: 652f 6973 7375 6573 2f36 3537 3129 290a  e/issues/6571)).
-000027c0: 2d20 4669 7820 6578 6365 7074 696f 6e20  - Fix exception 
-000027d0: 7768 656e 2066 6574 6368 696e 6720 7468  when fetching th
-000027e0: 6520 606d 6174 7269 782e 6f72 673a 6564  e `matrix.org:ed
-000027f0: 3235 3531 393a 6175 746f 6020 6b65 792e  25519:auto` key.
-00002800: 2028 5b5c 2336 3632 355d 2868 7474 7073   ([\#6625](https
-00002810: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00002820: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00002830: 2f69 7373 7565 732f 3636 3235 2929 0a2d  /issues/6625)).-
-00002840: 2046 6978 2062 7567 2077 6865 7265 2061   Fix bug where a
-00002850: 206d 6f64 6572 6174 6f72 2075 7067 7261   moderator upgra
-00002860: 6465 6420 6120 726f 6f6d 2061 6e64 2062  ded a room and b
-00002870: 6563 616d 6520 616e 2061 646d 696e 2069  ecame an admin i
-00002880: 6e20 7468 6520 6e65 7720 726f 6f6d 2e20  n the new room. 
-00002890: 285b 5c23 3636 3333 5d28 6874 7470 733a  ([\#6633](https:
-000028a0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-000028b0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-000028c0: 6973 7375 6573 2f36 3633 3329 290a 2d20  issues/6633)).- 
-000028d0: 4669 7820 616e 2065 7272 6f72 2077 6869  Fix an error whi
-000028e0: 6368 2077 6173 2074 6872 6f77 6e20 6279  ch was thrown by
-000028f0: 2074 6865 2060 5072 6573 656e 6365 4861   the `PresenceHa
-00002900: 6e64 6c65 7260 2060 5f6f 6e5f 7368 7574  ndler` `_on_shut
-00002910: 646f 776e 6020 6861 6e64 6c65 722e 2028  down` handler. (
-00002920: 5b5c 2336 3634 305d 2868 7474 7073 3a2f  [\#6640](https:/
-00002930: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00002940: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00002950: 7373 7565 732f 3636 3430 2929 0a2d 2046  ssues/6640)).- F
-00002960: 6978 2065 7863 6570 7469 6f6e 7320 696e  ix exceptions in
-00002970: 2074 6865 2073 796e 6368 726f 7472 6f6e   the synchrotron
-00002980: 2077 6f72 6b65 7220 6c6f 6720 7768 656e   worker log when
-00002990: 2065 7665 6e74 7320 6172 6520 7265 6a65   events are reje
-000029a0: 6374 6564 2e20 285b 5c23 3636 3435 5d28  cted. ([\#6645](
-000029b0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-000029c0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-000029d0: 6e61 7073 652f 6973 7375 6573 2f36 3634  napse/issues/664
-000029e0: 3529 290a 2d20 456e 7375 7265 2074 6861  5)).- Ensure tha
-000029f0: 7420 7570 6772 6164 6564 2072 6f6f 6d73  t upgraded rooms
-00002a00: 2061 7265 2072 656d 6f76 6564 2066 726f   are removed fro
-00002a10: 6d20 7468 6520 6469 7265 6374 6f72 792e  m the directory.
-00002a20: 2028 5b5c 2336 3634 385d 2868 7474 7073   ([\#6648](https
-00002a30: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00002a40: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00002a50: 2f69 7373 7565 732f 3636 3438 2929 0a2d  /issues/6648)).-
-00002a60: 2046 6978 2061 2062 7567 2063 6175 7369   Fix a bug causi
-00002a70: 6e67 2053 796e 6170 7365 206e 6f74 2074  ng Synapse not t
-00002a80: 6f20 6665 7463 6820 6d69 7373 696e 6720  o fetch missing 
-00002a90: 6576 656e 7473 2077 6865 6e20 6974 2062  events when it b
-00002aa0: 656c 6965 7665 7320 6974 2068 6173 2065  elieves it has e
-00002ab0: 7665 7279 2065 7665 6e74 2069 6e20 7468  very event in th
-00002ac0: 6520 726f 6f6d 2e20 285b 5c23 3636 3532  e room. ([\#6652
-00002ad0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00002ae0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00002af0: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
-00002b00: 3635 3229 290a 0a0a 496d 7072 6f76 6564  652))...Improved
-00002b10: 2044 6f63 756d 656e 7461 7469 6f6e 0a2d   Documentation.-
-00002b20: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00002b30: 2d2d 2d2d 2d0a 0a2d 2044 6f63 756d 656e  -----..- Documen
-00002b40: 7420 7468 6520 526f 6f6d 2053 6875 7464  t the Room Shutd
-00002b50: 6f77 6e20 4164 6d69 6e20 4150 492e 2028  own Admin API. (
-00002b60: 5b5c 2336 3534 315d 2868 7474 7073 3a2f  [\#6541](https:/
-00002b70: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00002b80: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00002b90: 7373 7565 732f 3635 3431 2929 0a2d 2052  ssues/6541)).- R
-00002ba0: 6577 6f72 6420 7365 6374 696f 6e73 206f  eword sections o
-00002bb0: 6620 5b64 6f63 732f 6665 6465 7261 7465  f [docs/federate
-00002bc0: 2e6d 645d 2864 6f63 732f 6665 6465 7261  .md](docs/federa
-00002bd0: 7465 2e6d 6429 2074 6861 7420 6578 706c  te.md) that expl
-00002be0: 6169 6e65 6420 6465 6c65 6761 7469 6f6e  ained delegation
-00002bf0: 2061 7420 7469 6d65 206f 6620 5379 6e61   at time of Syna
-00002c00: 7073 6520 312e 3020 7472 616e 7369 7469  pse 1.0 transiti
-00002c10: 6f6e 2e20 285b 5c23 3636 3031 5d28 6874  on. ([\#6601](ht
-00002c20: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00002c30: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00002c40: 7073 652f 6973 7375 6573 2f36 3630 3129  pse/issues/6601)
-00002c50: 290a 2d20 4164 6465 6420 7468 6520 7365  ).- Added the se
-00002c60: 6374 696f 6e20 2743 6f6e 6669 6775 7261  ction 'Configura
-00002c70: 7469 6f6e 2720 696e 205b 646f 6373 2f74  tion' in [docs/t
-00002c80: 7572 6e2d 686f 7774 6f2e 6d64 5d28 646f  urn-howto.md](do
-00002c90: 6373 2f74 7572 6e2d 686f 7774 6f2e 6d64  cs/turn-howto.md
-00002ca0: 292e 2028 5b5c 2336 3631 345d 2868 7474  ). ([\#6614](htt
-00002cb0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00002cc0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-00002cd0: 7365 2f69 7373 7565 732f 3636 3134 2929  se/issues/6614))
-00002ce0: 0a0a 0a44 6570 7265 6361 7469 6f6e 7320  ...Deprecations 
-00002cf0: 616e 6420 5265 6d6f 7661 6c73 0a2d 2d2d  and Removals.---
-00002d00: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00002d10: 2d2d 2d2d 2d2d 0a0a 2d20 5265 6d6f 7665  ------..- Remove
-00002d20: 2072 6564 756e 6461 6e74 2063 6f64 6520   redundant code 
-00002d30: 6672 6f6d 2065 7665 6e74 2061 7574 686f  from event autho
-00002d40: 7269 7361 7469 6f6e 2069 6d70 6c65 6d65  risation impleme
-00002d50: 6e74 6174 696f 6e2e 2028 5b5c 2336 3530  ntation. ([\#650
-00002d60: 325d 2868 7474 7073 3a2f 2f67 6974 6875  2](https://githu
-00002d70: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-00002d80: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-00002d90: 3635 3032 2929 0a2d 2052 656d 6f76 6520  6502)).- Remove 
-00002da0: 756e 7573 6564 2c20 756e 646f 6375 6d65  unused, undocume
-00002db0: 6e74 6564 2060 2f5f 6d61 7472 6978 2f63  nted `/_matrix/c
-00002dc0: 6f6e 7465 6e74 6020 4150 492e 2028 5b5c  ontent` API. ([\
-00002dd0: 2336 3632 385d 2868 7474 7073 3a2f 2f67  #6628](https://g
-00002de0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-00002df0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-00002e00: 7565 732f 3636 3238 2929 0a0a 0a49 6e74  ues/6628))...Int
-00002e10: 6572 6e61 6c20 4368 616e 6765 730a 2d2d  ernal Changes.--
-00002e20: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 0a0a  --------------..
-00002e30: 2d20 4164 6420 2a65 7870 6572 696d 656e  - Add *experimen
-00002e40: 7461 6c2a 2073 7570 706f 7274 2066 6f72  tal* support for
-00002e50: 206d 756c 7469 706c 6520 7068 7973 6963   multiple physic
-00002e60: 616c 2064 6174 6162 6173 6573 2061 6e64  al databases and
-00002e70: 2073 706c 6974 206f 7574 2073 7461 7465   split out state
-00002e80: 2073 746f 7261 6765 2074 6f20 7365 7061   storage to sepa
-00002e90: 7261 7465 2064 6174 6120 7374 6f72 652e  rate data store.
-00002ea0: 2028 5b5c 2336 3234 355d 2868 7474 7073   ([\#6245](https
-00002eb0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00002ec0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00002ed0: 2f69 7373 7565 732f 3632 3435 292c 205b  /issues/6245), [
-00002ee0: 5c23 3635 3130 5d28 6874 7470 733a 2f2f  \#6510](https://
-00002ef0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-00002f00: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00002f10: 7375 6573 2f36 3531 3029 2c20 5b5c 2336  sues/6510), [\#6
-00002f20: 3531 315d 2868 7474 7073 3a2f 2f67 6974  511](https://git
-00002f30: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-00002f40: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-00002f50: 732f 3635 3131 292c 205b 5c23 3635 3133  s/6511), [\#6513
-00002f60: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00002f70: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00002f80: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
-00002f90: 3531 3329 2c20 5b5c 2336 3536 345d 2868  513), [\#6564](h
-00002fa0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00002fb0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00002fc0: 6170 7365 2f69 7373 7565 732f 3635 3634  apse/issues/6564
-00002fd0: 292c 205b 5c23 3635 3635 5d28 6874 7470  ), [\#6565](http
-00002fe0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00002ff0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00003000: 652f 6973 7375 6573 2f36 3536 3529 290a  e/issues/6565)).
-00003010: 2d20 506f 7274 2073 6563 7469 6f6e 7320  - Port sections 
-00003020: 6f66 2063 6f64 6520 6261 7365 2074 6f20  of code base to 
-00003030: 6173 796e 632f 6177 6169 742e 2028 5b5c  async/await. ([\
-00003040: 2336 3439 365d 2868 7474 7073 3a2f 2f67  #6496](https://g
-00003050: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-00003060: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-00003070: 7565 732f 3634 3936 292c 205b 5c23 3635  ues/6496), [\#65
-00003080: 3034 5d28 6874 7470 733a 2f2f 6769 7468  04](https://gith
-00003090: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-000030a0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-000030b0: 2f36 3530 3429 2c20 5b5c 2336 3530 355d  /6504), [\#6505]
-000030c0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-000030d0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-000030e0: 796e 6170 7365 2f69 7373 7565 732f 3635  ynapse/issues/65
-000030f0: 3035 292c 205b 5c23 3635 3137 5d28 6874  05), [\#6517](ht
-00003100: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00003110: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00003120: 7073 652f 6973 7375 6573 2f36 3531 3729  pse/issues/6517)
-00003130: 2c20 5b5c 2336 3535 395d 2868 7474 7073  , [\#6559](https
-00003140: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00003150: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00003160: 2f69 7373 7565 732f 3635 3539 292c 205b  /issues/6559), [
-00003170: 5c23 3636 3437 5d28 6874 7470 733a 2f2f  \#6647](https://
-00003180: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-00003190: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-000031a0: 7375 6573 2f36 3634 3729 2c20 5b5c 2336  sues/6647), [\#6
-000031b0: 3635 335d 2868 7474 7073 3a2f 2f67 6974  653](https://git
-000031c0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-000031d0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-000031e0: 732f 3636 3533 2929 0a2d 2052 656d 6f76  s/6653)).- Remov
-000031f0: 6520 6053 6e61 7073 686f 7443 6163 6865  e `SnapshotCache
-00003200: 6020 696e 2066 6176 6f75 7220 6f66 2060  ` in favour of `
-00003210: 5265 7370 6f6e 7365 4361 6368 6560 2e20  ResponseCache`. 
-00003220: 285b 5c23 3635 3036 5d28 6874 7470 733a  ([\#6506](https:
-00003230: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00003240: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00003250: 6973 7375 6573 2f36 3530 3629 290a 2d20  issues/6506)).- 
-00003260: 5369 6c65 6e63 6520 6d79 7079 2065 7272  Silence mypy err
-00003270: 6f72 7320 666f 7220 6669 6c65 7320 6f75  ors for files ou
-00003280: 7473 6964 6520 7468 6f73 6520 7370 6563  tside those spec
-00003290: 6966 6965 642e 2028 5b5c 2336 3531 325d  ified. ([\#6512]
-000032a0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-000032b0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-000032c0: 796e 6170 7365 2f69 7373 7565 732f 3635  ynapse/issues/65
-000032d0: 3132 2929 0a2d 2043 6c65 616e 2075 7020  12)).- Clean up 
-000032e0: 736f 6d65 206c 6f67 6769 6e67 2077 6865  some logging whe
-000032f0: 6e20 6861 6e64 6c69 6e67 2069 6e63 6f6d  n handling incom
-00003300: 696e 6720 6576 656e 7473 206f 7665 7220  ing events over 
-00003310: 6665 6465 7261 7469 6f6e 2e20 285b 5c23  federation. ([\#
-00003320: 3635 3135 5d28 6874 7470 733a 2f2f 6769  6515](https://gi
-00003330: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-00003340: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-00003350: 6573 2f36 3531 3529 290a 2d20 5465 7374  es/6515)).- Test
-00003360: 206d 6f72 6520 666f 6c64 6572 7320 6167   more folders ag
-00003370: 6169 6e73 7420 6d79 7079 2e20 285b 5c23  ainst mypy. ([\#
-00003380: 3635 3334 5d28 6874 7470 733a 2f2f 6769  6534](https://gi
-00003390: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-000033a0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-000033b0: 6573 2f36 3533 3429 290a 2d20 5570 6461  es/6534)).- Upda
-000033c0: 7465 2060 6d79 7079 6020 746f 206e 6577  te `mypy` to new
-000033d0: 2076 6572 7369 6f6e 2e20 285b 5c23 3635   version. ([\#65
-000033e0: 3337 5d28 6874 7470 733a 2f2f 6769 7468  37](https://gith
-000033f0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00003400: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00003410: 2f36 3533 3729 290a 2d20 4164 6a75 7374  /6537)).- Adjust
-00003420: 2074 6865 2073 7974 6573 7420 626c 6163   the sytest blac
-00003430: 6b6c 6973 7420 666f 7220 776f 726b 6572  klist for worker
-00003440: 206d 6f64 652e 2028 5b5c 2336 3533 385d   mode. ([\#6538]
-00003450: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00003460: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00003470: 796e 6170 7365 2f69 7373 7565 732f 3635  ynapse/issues/65
-00003480: 3338 2929 0a2d 2052 656d 6f76 6520 756e  38)).- Remove un
-00003490: 7573 6564 2060 6765 745f 7061 6769 6e61  used `get_pagina
-000034a0: 7469 6f6e 5f72 6f77 7360 206d 6574 686f  tion_rows` metho
-000034b0: 6473 2066 726f 6d20 6045 7665 6e74 536f  ds from `EventSo
-000034c0: 7572 6365 6020 636c 6173 7365 732e 2028  urce` classes. (
-000034d0: 5b5c 2336 3535 375d 2868 7474 7073 3a2f  [\#6557](https:/
-000034e0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-000034f0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00003500: 7373 7565 732f 3635 3537 2929 0a2d 2043  ssues/6557)).- C
-00003510: 6c65 616e 2075 7020 6c6f 6773 2066 726f  lean up logs fro
-00003520: 6d20 7468 6520 7075 7368 206e 6f74 6966  m the push notif
-00003530: 6965 7220 6174 2073 7461 7274 7570 2e20  ier at startup. 
-00003540: 285b 5c23 3635 3538 5d28 6874 7470 733a  ([\#6558](https:
-00003550: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00003560: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00003570: 6973 7375 6573 2f36 3535 3829 290a 2d20  issues/6558)).- 
-00003580: 496d 7072 6f76 6520 6469 6167 6e6f 7374  Improve diagnost
-00003590: 6963 7320 6f6e 2064 6174 6162 6173 6520  ics on database 
-000035a0: 7570 6772 6164 6520 6661 696c 7572 652e  upgrade failure.
-000035b0: 2028 5b5c 2336 3537 305d 2868 7474 7073   ([\#6570](https
-000035c0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-000035d0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-000035e0: 2f69 7373 7565 732f 3635 3730 2929 0a2d  /issues/6570)).-
-000035f0: 2052 6564 7563 6520 7468 6520 7265 636f   Reduce the reco
-00003600: 6e6e 6563 7420 7469 6d65 2077 6865 6e20  nnect time when 
-00003610: 776f 726b 6572 2072 6570 6c69 6361 7469  worker replicati
-00003620: 6f6e 2066 6169 6c73 2c20 746f 206d 616b  on fails, to mak
-00003630: 6520 6974 2065 6173 6965 7220 746f 2063  e it easier to c
-00003640: 6174 6368 2075 702e 2028 5b5c 2336 3631  atch up. ([\#661
-00003650: 375d 2868 7474 7073 3a2f 2f67 6974 6875  7](https://githu
-00003660: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-00003670: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-00003680: 3636 3137 2929 0a2d 2053 696d 706c 6966  6617)).- Simplif
-00003690: 7920 6874 7470 2068 616e 646c 696e 6720  y http handling 
-000036a0: 6279 2072 656d 6f76 696e 6720 7265 6475  by removing redu
-000036b0: 6e64 616e 7420 6053 796e 6170 7365 5265  ndant `SynapseRe
-000036c0: 7175 6573 7446 6163 746f 7279 602e 2028  questFactory`. (
-000036d0: 5b5c 2336 3631 395d 2868 7474 7073 3a2f  [\#6619](https:/
-000036e0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-000036f0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00003700: 7373 7565 732f 3636 3139 2929 0a2d 2041  ssues/6619)).- A
-00003710: 6464 2061 2077 6f72 6b61 726f 756e 6420  dd a workaround 
-00003720: 666f 7220 7379 6e61 7073 6520 7261 6973  for synapse rais
-00003730: 696e 6720 6578 6365 7074 696f 6e73 2077  ing exceptions w
-00003740: 6865 6e20 6665 7463 6869 6e67 2074 6865  hen fetching the
-00003750: 206e 6f74 6172 7927 7320 6f77 6e20 6b65   notary's own ke
-00003760: 7920 6672 6f6d 2074 6865 206e 6f74 6172  y from the notar
-00003770: 792e 2028 5b5c 2336 3632 305d 2868 7474  y. ([\#6620](htt
-00003780: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00003790: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-000037a0: 7365 2f69 7373 7565 732f 3636 3230 2929  se/issues/6620))
-000037b0: 0a2d 2041 7574 6f6d 6174 6520 6765 6e65  .- Automate gene
-000037c0: 7261 7469 6f6e 206f 6620 7468 6520 7361  ration of the sa
-000037d0: 6d70 6c65 206c 6f67 2063 6f6e 6669 672e  mple log config.
-000037e0: 2028 5b5c 2336 3632 375d 2868 7474 7073   ([\#6627](https
-000037f0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00003800: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00003810: 2f69 7373 7565 732f 3636 3237 2929 0a2d  /issues/6627)).-
-00003820: 2053 696d 706c 6966 7920 6576 656e 7420   Simplify event 
-00003830: 6372 6561 7469 6f6e 2063 6f64 6520 6279  creation code by
-00003840: 2072 656d 6f76 696e 6720 7265 6475 6e64   removing redund
-00003850: 616e 7420 7175 6572 6965 7320 6f6e 2074  ant queries on t
-00003860: 6865 2060 6576 656e 745f 7265 6665 7265  he `event_refere
-00003870: 6e63 655f 6861 7368 6573 6020 7461 626c  nce_hashes` tabl
-00003880: 652e 2028 5b5c 2336 3632 395d 2868 7474  e. ([\#6629](htt
-00003890: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-000038a0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-000038b0: 7365 2f69 7373 7565 732f 3636 3239 2929  se/issues/6629))
-000038c0: 0a2d 2046 6978 2065 7272 6f72 7320 7768  .- Fix errors wh
-000038d0: 656e 2060 6672 6f7a 656e 5f64 6963 7473  en `frozen_dicts
-000038e0: 6020 6172 6520 656e 6162 6c65 642e 2028  ` are enabled. (
-000038f0: 5b5c 2336 3634 325d 2868 7474 7073 3a2f  [\#6642](https:/
-00003900: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00003910: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00003920: 7373 7565 732f 3636 3432 2929 0a0a 0a53  ssues/6642))...S
-00003930: 796e 6170 7365 2031 2e37 2e33 2028 3230  ynapse 1.7.3 (20
-00003940: 3139 2d31 322d 3331 290a 3d3d 3d3d 3d3d  19-12-31).======
-00003950: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00003960: 3d3d 3d3d 0a0a 5468 6973 2072 656c 6561  ====..This relea
-00003970: 7365 2066 6978 6573 2061 206c 6f6e 672d  se fixes a long-
-00003980: 7374 616e 6469 6e67 2062 7567 2069 6e20  standing bug in 
-00003990: 7468 6520 7374 6174 6520 7265 736f 6c75  the state resolu
-000039a0: 7469 6f6e 2061 6c67 6f72 6974 686d 2e0a  tion algorithm..
-000039b0: 0a42 7567 6669 7865 730a 2d2d 2d2d 2d2d  .Bugfixes.------
-000039c0: 2d2d 0a0a 2d20 4669 7820 6578 6365 7074  --..- Fix except
-000039d0: 696f 6e73 2063 6175 7365 6420 6279 2073  ions caused by s
-000039e0: 7461 7465 2072 6573 6f6c 7574 696f 6e20  tate resolution 
-000039f0: 6368 6f6b 696e 6720 6f6e 206d 616c 666f  choking on malfo
-00003a00: 726d 6564 2065 7665 6e74 732e 2028 5b5c  rmed events. ([\
-00003a10: 2336 3630 385d 2868 7474 7073 3a2f 2f67  #6608](https://g
-00003a20: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-00003a30: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-00003a40: 7565 732f 3636 3038 2929 0a0a 0a53 796e  ues/6608))...Syn
-00003a50: 6170 7365 2031 2e37 2e32 2028 3230 3139  apse 1.7.2 (2019
-00003a60: 2d31 322d 3230 290a 3d3d 3d3d 3d3d 3d3d  -12-20).========
-00003a70: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00003a80: 3d3d 0a0a 5468 6973 2072 656c 6561 7365  ==..This release
-00003a90: 2066 6978 6573 2073 6f6d 6520 7265 6772   fixes some regr
-00003aa0: 6573 7369 6f6e 7320 696e 7472 6f64 7563  essions introduc
-00003ab0: 6564 2069 6e20 5379 6e61 7073 6520 312e  ed in Synapse 1.
-00003ac0: 372e 3020 616e 6420 312e 372e 312e 0a0a  7.0 and 1.7.1...
-00003ad0: 4275 6766 6978 6573 0a2d 2d2d 2d2d 2d2d  Bugfixes.-------
-00003ae0: 2d0a 0a2d 2046 6978 2061 2072 6567 7265  -..- Fix a regre
-00003af0: 7373 696f 6e20 696e 7472 6f64 7563 6564  ssion introduced
-00003b00: 2069 6e20 5379 6e61 7073 6520 312e 372e   in Synapse 1.7.
-00003b10: 3120 7768 6963 6820 6361 7573 6564 2065  1 which caused e
-00003b20: 7272 6f72 7320 7768 656e 2061 7474 656d  rrors when attem
-00003b30: 7074 696e 6720 746f 2062 6163 6b66 696c  pting to backfil
-00003b40: 6c20 726f 6f6d 7320 6f76 6572 2066 6564  l rooms over fed
-00003b50: 6572 6174 696f 6e2e 2028 5b5c 2336 3537  eration. ([\#657
-00003b60: 365d 2868 7474 7073 3a2f 2f67 6974 6875  6](https://githu
-00003b70: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-00003b80: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-00003b90: 3635 3736 2929 0a2d 2046 6978 2061 2062  6576)).- Fix a b
-00003ba0: 7567 2069 6e74 726f 6475 6365 6420 696e  ug introduced in
-00003bb0: 2053 796e 6170 7365 2031 2e37 2e30 2077   Synapse 1.7.0 w
-00003bc0: 6869 6368 2063 6175 7365 6420 616e 2065  hich caused an e
-00003bd0: 7272 6f72 206f 6e20 7374 6172 7475 7020  rror on startup 
-00003be0: 7768 656e 2075 7067 7261 6469 6e67 2066  when upgrading f
-00003bf0: 726f 6d20 7665 7273 696f 6e73 2062 6566  rom versions bef
-00003c00: 6f72 6520 312e 332e 302e 2028 5b5c 2336  ore 1.3.0. ([\#6
-00003c10: 3537 385d 2868 7474 7073 3a2f 2f67 6974  578](https://git
-00003c20: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-00003c30: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-00003c40: 732f 3635 3738 2929 0a0a 0a53 796e 6170  s/6578))...Synap
-00003c50: 7365 2031 2e37 2e31 2028 3230 3139 2d31  se 1.7.1 (2019-1
-00003c60: 322d 3138 290a 3d3d 3d3d 3d3d 3d3d 3d3d  2-18).==========
-00003c70: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00003c80: 0a0a 5468 6973 2072 656c 6561 7365 2069  ..This release i
-00003c90: 6e63 6c75 6465 7320 7365 7665 7261 6c20  ncludes several 
-00003ca0: 7365 6375 7269 7479 2066 6978 6573 2061  security fixes a
-00003cb0: 7320 7765 6c6c 2061 7320 6120 6669 7820  s well as a fix 
-00003cc0: 746f 2061 2062 7567 2065 7870 6f73 6564  to a bug exposed
-00003cd0: 2062 7920 7468 6520 7365 6375 7269 7479   by the security
-00003ce0: 2066 6978 6573 2e20 4164 6d69 6e69 7374   fixes. Administ
-00003cf0: 7261 746f 7273 2061 7265 2065 6e63 6f75  rators are encou
-00003d00: 7261 6765 6420 746f 2075 7067 7261 6465  raged to upgrade
-00003d10: 2061 7320 736f 6f6e 2061 7320 706f 7373   as soon as poss
-00003d20: 6962 6c65 2e0a 0a53 6563 7572 6974 7920  ible...Security 
-00003d30: 7570 6461 7465 730a 2d2d 2d2d 2d2d 2d2d  updates.--------
-00003d40: 2d2d 2d2d 2d2d 2d2d 0a0a 2d20 4669 7820  --------..- Fix 
-00003d50: 6120 6275 6720 7768 6963 6820 636f 756c  a bug which coul
-00003d60: 6420 6361 7573 6520 726f 6f6d 2065 7665  d cause room eve
-00003d70: 6e74 7320 746f 2062 6520 696e 636f 7272  nts to be incorr
-00003d80: 6563 746c 7920 6175 7468 6f72 697a 6564  ectly authorized
-00003d90: 2075 7369 6e67 2065 7665 6e74 7320 6672   using events fr
-00003da0: 6f6d 2061 2064 6966 6665 7265 6e74 2072  om a different r
-00003db0: 6f6f 6d2e 2028 5b5c 2336 3530 315d 2868  oom. ([\#6501](h
-00003dc0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00003dd0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00003de0: 6170 7365 2f69 7373 7565 732f 3635 3031  apse/issues/6501
-00003df0: 292c 205b 5c23 3635 3033 5d28 6874 7470  ), [\#6503](http
-00003e00: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00003e10: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00003e20: 652f 6973 7375 6573 2f36 3530 3329 2c20  e/issues/6503), 
-00003e30: 5b5c 2336 3532 315d 2868 7474 7073 3a2f  [\#6521](https:/
-00003e40: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00003e50: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00003e60: 7373 7565 732f 3635 3231 292c 205b 5c23  ssues/6521), [\#
-00003e70: 3635 3234 5d28 6874 7470 733a 2f2f 6769  6524](https://gi
-00003e80: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-00003e90: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-00003ea0: 6573 2f36 3532 3429 2c20 5b5c 2336 3533  es/6524), [\#653
-00003eb0: 305d 2868 7474 7073 3a2f 2f67 6974 6875  0](https://githu
-00003ec0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-00003ed0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-00003ee0: 3635 3330 292c 205b 5c23 3635 3331 5d28  6530), [\#6531](
-00003ef0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00003f00: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-00003f10: 6e61 7073 652f 6973 7375 6573 2f36 3533  napse/issues/653
-00003f20: 3129 290a 2d20 4669 7820 6120 6275 6720  1)).- Fix a bug 
-00003f30: 6361 7573 696e 6720 7265 7370 6f6e 7365  causing response
-00003f40: 7320 746f 2074 6865 2060 2f63 6f6e 7465  s to the `/conte
-00003f50: 7874 6020 636c 6965 6e74 2065 6e64 706f  xt` client endpo
-00003f60: 696e 7420 746f 206e 6f74 2075 7365 2074  int to not use t
-00003f70: 6865 2070 7275 6e65 6420 7665 7273 696f  he pruned versio
-00003f80: 6e20 6f66 2074 6865 2065 7665 6e74 2e20  n of the event. 
-00003f90: 285b 5c23 3635 3533 5d28 6874 7470 733a  ([\#6553](https:
-00003fa0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00003fb0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00003fc0: 6973 7375 6573 2f36 3535 3329 290a 2d20  issues/6553)).- 
-00003fd0: 4669 7820 6120 6361 7573 6520 6f66 2073  Fix a cause of s
-00003fe0: 7461 7465 2072 6573 6574 7320 696e 2072  tate resets in r
-00003ff0: 6f6f 6d20 7665 7273 696f 6e73 2032 206f  oom versions 2 o
-00004000: 6e77 6172 6473 2e20 285b 5c23 3635 3536  nwards. ([\#6556
-00004010: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00004020: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00004030: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
-00004040: 3535 3629 2c20 5b5c 2336 3536 305d 2868  556), [\#6560](h
-00004050: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00004060: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00004070: 6170 7365 2f69 7373 7565 732f 3635 3630  apse/issues/6560
-00004080: 2929 0a0a 4275 6766 6978 6573 0a2d 2d2d  ))..Bugfixes.---
-00004090: 2d2d 2d2d 2d0a 0a2d 2046 6978 2061 2062  -----..- Fix a b
-000040a0: 7567 2077 6869 6368 2063 6f75 6c64 2063  ug which could c
-000040b0: 6175 7365 2074 6865 2066 6564 6572 6174  ause the federat
-000040c0: 696f 6e20 7365 7276 6572 2074 6f20 696e  ion server to in
-000040d0: 636f 7272 6563 746c 7920 7265 7475 726e  correctly return
-000040e0: 2065 7272 6f72 7320 7768 656e 2068 616e   errors when han
-000040f0: 646c 696e 6720 6365 7274 6169 6e20 6f62  dling certain ob
-00004100: 7363 7572 6520 6576 656e 7420 6772 6170  scure event grap
-00004110: 6873 2e20 285b 5c23 3635 3236 5d28 6874  hs. ([\#6526](ht
-00004120: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00004130: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00004140: 7073 652f 6973 7375 6573 2f36 3532 3629  pse/issues/6526)
-00004150: 2c20 5b5c 2336 3532 375d 2868 7474 7073  , [\#6527](https
-00004160: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00004170: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00004180: 2f69 7373 7565 732f 3635 3237 2929 0a0a  /issues/6527))..
-00004190: 5379 6e61 7073 6520 312e 372e 3020 2832  Synapse 1.7.0 (2
-000041a0: 3031 392d 3132 2d31 3329 0a3d 3d3d 3d3d  019-12-13).=====
-000041b0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000041c0: 3d3d 3d3d 3d0a 0a54 6869 7320 7265 6c65  =====..This rele
-000041d0: 6173 6520 6368 616e 6765 7320 7468 6520  ase changes the 
-000041e0: 6465 6661 756c 7420 7365 7474 696e 6773  default settings
-000041f0: 2073 6f20 7468 6174 206f 6e6c 7920 6c6f   so that only lo
-00004200: 6361 6c20 6175 7468 656e 7469 6361 7465  cal authenticate
-00004210: 6420 7573 6572 7320 6361 6e20 7175 6572  d users can quer
-00004220: 7920 7468 6520 7365 7276 6572 2773 2072  y the server's r
-00004230: 6f6f 6d20 6469 7265 6374 6f72 792e 2053  oom directory. S
-00004240: 6565 2074 6865 205b 7570 6772 6164 6520  ee the [upgrade 
-00004250: 6e6f 7465 735d 2855 5047 5241 4445 2e72  notes](UPGRADE.r
-00004260: 7374 2375 7067 7261 6469 6e67 2d74 6f2d  st#upgrading-to-
-00004270: 7631 3730 2920 666f 7220 6465 7461 696c  v170) for detail
-00004280: 732e 0a0a 5375 7070 6f72 7420 666f 7220  s...Support for 
-00004290: 5351 4c69 7465 2076 6572 7369 6f6e 7320  SQLite versions 
-000042a0: 6265 666f 7265 2033 2e31 3120 6973 206e  before 3.11 is n
-000042b0: 6f77 2064 6570 7265 6361 7465 642e 2041  ow deprecated. A
-000042c0: 2066 7574 7572 6520 7265 6c65 6173 6520   future release 
-000042d0: 7769 6c6c 2072 6566 7573 6520 746f 2073  will refuse to s
-000042e0: 7461 7274 2069 6620 7573 6564 2077 6974  tart if used wit
-000042f0: 6820 616e 2053 514c 6974 6520 7665 7273  h an SQLite vers
-00004300: 696f 6e20 6265 666f 7265 2033 2e31 312e  ion before 3.11.
-00004310: 0a0a 4164 6d69 6e69 7374 7261 746f 7273  ..Administrators
-00004320: 2061 7265 2072 656d 696e 6465 6420 7468   are reminded th
-00004330: 6174 2053 514c 6974 6520 7368 6f75 6c64  at SQLite should
-00004340: 206e 6f74 2062 6520 7573 6564 2066 6f72   not be used for
-00004350: 2070 726f 6475 6374 696f 6e20 696e 7374   production inst
-00004360: 616e 6365 732e 2049 6e73 7472 7563 7469  ances. Instructi
-00004370: 6f6e 7320 666f 7220 6d69 6772 6174 696e  ons for migratin
-00004380: 6720 746f 2050 6f73 7467 7265 7320 6172  g to Postgres ar
-00004390: 6520 6176 6169 6c61 626c 6520 5b68 6572  e available [her
-000043a0: 655d 2864 6f63 732f 706f 7374 6772 6573  e](docs/postgres
-000043b0: 2e6d 6429 2e20 4120 6675 7475 7265 2072  .md). A future r
-000043c0: 656c 6561 7365 206f 6620 7379 6e61 7073  elease of synaps
-000043d0: 6520 7769 6c6c 2c20 6279 2064 6566 6175  e will, by defau
-000043e0: 6c74 2c20 6469 7361 626c 6520 6665 6465  lt, disable fede
-000043f0: 7261 7469 6f6e 2066 6f72 2073 6572 7665  ration for serve
-00004400: 7273 2075 7369 6e67 2053 514c 6974 652e  rs using SQLite.
-00004410: 0a0a 4e6f 2073 6967 6e69 6669 6361 6e74  ..No significant
-00004420: 2063 6861 6e67 6573 2073 696e 6365 2031   changes since 1
-00004430: 2e37 2e30 7263 322e 0a0a 0a53 796e 6170  .7.0rc2....Synap
-00004440: 7365 2031 2e37 2e30 7263 3220 2832 3031  se 1.7.0rc2 (201
-00004450: 392d 3132 2d31 3129 0a3d 3d3d 3d3d 3d3d  9-12-11).=======
-00004460: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00004470: 3d3d 3d3d 3d3d 0a0a 4275 6766 6978 6573  ======..Bugfixes
-00004480: 0a2d 2d2d 2d2d 2d2d 2d0a 0a2d 2046 6978  .--------..- Fix
-00004490: 2069 6e63 6f72 7265 6374 2065 7272 6f72   incorrect error
-000044a0: 206d 6573 7361 6765 2066 6f72 2069 6e76   message for inv
-000044b0: 616c 6964 2072 6571 7565 7374 7320 7768  alid requests wh
-000044c0: 656e 2073 6574 7469 6e67 2075 7365 7227  en setting user'
-000044d0: 7320 6176 6174 6172 2055 524c 2e20 285b  s avatar URL. ([
-000044e0: 5c23 3634 3937 5d28 6874 7470 733a 2f2f  \#6497](https://
-000044f0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-00004500: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00004510: 7375 6573 2f36 3439 3729 290a 2d20 4669  sues/6497)).- Fi
-00004520: 7820 7375 7070 6f72 7420 666f 7220 5351  x support for SQ
-00004530: 4c69 7465 2033 2e37 2e20 285b 5c23 3634  Lite 3.7. ([\#64
-00004540: 3939 5d28 6874 7470 733a 2f2f 6769 7468  99](https://gith
-00004550: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00004560: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00004570: 2f36 3439 3929 290a 2d20 4669 7820 7265  /6499)).- Fix re
-00004580: 6772 6573 7369 6f6e 2077 6865 7265 2073  gression where s
-00004590: 656e 6469 6e67 2065 6d61 696c 2070 7573  ending email pus
-000045a0: 6820 776f 756c 6420 6e6f 7420 776f 726b  h would not work
-000045b0: 2077 6865 6e20 7573 696e 6720 6120 7075   when using a pu
-000045c0: 7368 6572 2077 6f72 6b65 722e 2028 5b5c  sher worker. ([\
-000045d0: 2336 3530 375d 2868 7474 7073 3a2f 2f67  #6507](https://g
-000045e0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-000045f0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-00004600: 7565 732f 3635 3037 292c 205b 5c23 3635  ues/6507), [\#65
-00004610: 3039 5d28 6874 7470 733a 2f2f 6769 7468  09](https://gith
-00004620: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00004630: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00004640: 2f36 3530 3929 290a 0a0a 5379 6e61 7073  /6509))...Synaps
-00004650: 6520 312e 372e 3072 6331 2028 3230 3139  e 1.7.0rc1 (2019
-00004660: 2d31 322d 3039 290a 3d3d 3d3d 3d3d 3d3d  -12-09).========
-00004670: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00004680: 3d3d 3d3d 3d0a 0a46 6561 7475 7265 730a  =====..Features.
-00004690: 2d2d 2d2d 2d2d 2d2d 0a0a 2d20 496d 706c  --------..- Impl
-000046a0: 656d 656e 7420 7065 722d 726f 6f6d 206d  ement per-room m
-000046b0: 6573 7361 6765 2072 6574 656e 7469 6f6e  essage retention
-000046c0: 2070 6f6c 6963 6965 732e 2028 5b5c 2335   policies. ([\#5
-000046d0: 3831 355d 2868 7474 7073 3a2f 2f67 6974  815](https://git
-000046e0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-000046f0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-00004700: 732f 3538 3135 292c 205b 5c23 3634 3336  s/5815), [\#6436
-00004710: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00004720: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00004730: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
-00004740: 3433 3629 290a 2d20 4164 6420 6574 6167  436)).- Add etag
-00004750: 2061 6e64 2063 6f75 6e74 2066 6965 6c64   and count field
-00004760: 7320 746f 206b 6579 2062 6163 6b75 7020  s to key backup 
-00004770: 656e 6470 6f69 6e74 7320 746f 2068 656c  endpoints to hel
-00004780: 7020 636c 6965 6e74 7320 6775 6573 7320  p clients guess 
-00004790: 6966 2074 6865 7265 2061 7265 206e 6577  if there are new
-000047a0: 206b 6579 732e 2028 5b5c 2335 3835 385d   keys. ([\#5858]
-000047b0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-000047c0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-000047d0: 796e 6170 7365 2f69 7373 7565 732f 3538  ynapse/issues/58
-000047e0: 3538 2929 0a2d 2041 6464 2060 2f61 646d  58)).- Add `/adm
-000047f0: 696e 2f76 322f 7573 6572 7360 2065 6e64  in/v2/users` end
-00004800: 706f 696e 7420 7769 7468 2070 6167 696e  point with pagin
-00004810: 6174 696f 6e2e 2043 6f6e 7472 6962 7574  ation. Contribut
-00004820: 6564 2062 7920 4177 6573 6f6d 6520 5465  ed by Awesome Te
-00004830: 6368 6e6f 6c6f 6769 6573 2049 6e6e 6f76  chnologies Innov
-00004840: 6174 696f 6e73 6c61 626f 7220 476d 6248  ationslabor GmbH
-00004850: 2e20 285b 5c23 3539 3235 5d28 6874 7470  . ([\#5925](http
-00004860: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00004870: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00004880: 652f 6973 7375 6573 2f35 3932 3529 290a  e/issues/5925)).
-00004890: 2d20 5265 7175 6972 6520 5573 6572 2d49  - Require User-I
-000048a0: 6e74 6572 6163 7469 7665 2041 7574 6865  nteractive Authe
-000048b0: 6e74 6963 6174 696f 6e20 666f 7220 602f  ntication for `/
-000048c0: 6163 636f 756e 742f 3370 6964 2f61 6464  account/3pid/add
-000048d0: 602c 206d 6561 6e69 6e67 2074 6865 2075  `, meaning the u
-000048e0: 7365 7227 7320 7061 7373 776f 7264 2077  ser's password w
-000048f0: 696c 6c20 6265 2072 6571 7569 7265 6420  ill be required 
-00004900: 746f 2061 6464 2061 2074 6869 7264 2d70  to add a third-p
-00004910: 6172 7479 2049 4420 746f 2074 6865 6972  arty ID to their
-00004920: 2061 6363 6f75 6e74 2e20 285b 5c23 3631   account. ([\#61
-00004930: 3139 5d28 6874 7470 733a 2f2f 6769 7468  19](https://gith
-00004940: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00004950: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00004960: 2f36 3131 3929 290a 2d20 496d 706c 656d  /6119)).- Implem
-00004970: 656e 7420 7468 6520 602f 5f6d 6174 7269  ent the `/_matri
-00004980: 782f 6665 6465 7261 7469 6f6e 2f75 6e73  x/federation/uns
-00004990: 7461 626c 652f 6e65 742e 6174 6c65 6173  table/net.atleas
-000049a0: 7466 6f72 6e6f 772f 7374 6174 652f 3c63  tfornow/state/<c
-000049b0: 6f6e 7465 7874 3e60 2041 5049 2061 7320  ontext>` API as 
-000049c0: 6472 6166 7465 6420 696e 204d 5343 3233  drafted in MSC23
-000049d0: 3134 2e20 285b 5c23 3631 3736 5d28 6874  14. ([\#6176](ht
-000049e0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-000049f0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00004a00: 7073 652f 6973 7375 6573 2f36 3137 3629  pse/issues/6176)
-00004a10: 290a 2d20 436f 6e66 6967 7572 6520 7072  ).- Configure pr
-00004a20: 6976 6163 792d 7072 6573 6572 7669 6e67  ivacy-preserving
-00004a30: 2073 6574 7469 6e67 7320 6279 2064 6566   settings by def
-00004a40: 6175 6c74 2066 6f72 2074 6865 2072 6f6f  ault for the roo
-00004a50: 6d20 6469 7265 6374 6f72 792e 2028 5b5c  m directory. ([\
-00004a60: 2336 3335 355d 2868 7474 7073 3a2f 2f67  #6355](https://g
-00004a70: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-00004a80: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-00004a90: 7565 732f 3633 3535 2929 0a2d 2041 6464  ues/6355)).- Add
-00004aa0: 2065 7068 656d 6572 616c 206d 6573 7361   ephemeral messa
-00004ab0: 6765 7320 7375 7070 6f72 7420 6279 2070  ges support by p
-00004ac0: 6172 7469 616c 6c79 2069 6d70 6c65 6d65  artially impleme
-00004ad0: 6e74 696e 6720 5b4d 5343 3232 3238 5d28  nting [MSC2228](
-00004ae0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00004af0: 6f6d 2f6d 6174 7269 782d 6f72 672f 6d61  om/matrix-org/ma
-00004b00: 7472 6978 2d64 6f63 2f70 756c 6c2f 3232  trix-doc/pull/22
-00004b10: 3238 292e 2028 5b5c 2336 3430 395d 2868  28). ([\#6409](h
-00004b20: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00004b30: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00004b40: 6170 7365 2f69 7373 7565 732f 3634 3039  apse/issues/6409
-00004b50: 2929 0a2d 2041 6464 2073 7570 706f 7274  )).- Add support
-00004b60: 2066 6f72 205b 4d53 4320 3233 3637 5d28   for [MSC 2367](
-00004b70: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00004b80: 6f6d 2f6d 6174 7269 782d 6f72 672f 6d61  om/matrix-org/ma
-00004b90: 7472 6978 2d64 6f63 2f70 756c 6c2f 3233  trix-doc/pull/23
-00004ba0: 3637 292c 2077 6869 6368 2061 6c6c 6f77  67), which allow
-00004bb0: 7320 7370 6563 6966 7969 6e67 2061 2072  s specifying a r
-00004bc0: 6561 736f 6e20 6f6e 2061 6c6c 206d 656d  eason on all mem
-00004bd0: 6265 7273 6869 7020 6576 656e 7473 2e20  bership events. 
-00004be0: 285b 5c23 3634 3334 5d28 6874 7470 733a  ([\#6434](https:
-00004bf0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00004c00: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00004c10: 6973 7375 6573 2f36 3433 3429 290a 0a0a  issues/6434))...
-00004c20: 4275 6766 6978 6573 0a2d 2d2d 2d2d 2d2d  Bugfixes.-------
-00004c30: 2d0a 0a2d 2054 7261 6e73 6665 7220 6e6f  -..- Transfer no
-00004c40: 6e2d 7374 616e 6461 7264 2070 6f77 6572  n-standard power
-00004c50: 206c 6576 656c 7320 6f6e 2072 6f6f 6d20   levels on room 
-00004c60: 7570 6772 6164 652e 2028 5b5c 2336 3233  upgrade. ([\#623
-00004c70: 375d 2868 7474 7073 3a2f 2f67 6974 6875  7](https://githu
-00004c80: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-00004c90: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-00004ca0: 3632 3337 2929 0a2d 2046 6978 2065 7272  6237)).- Fix err
-00004cb0: 6f72 2066 726f 6d20 7468 6520 5069 6c6c  or from the Pill
-00004cc0: 6f77 206c 6962 7261 7279 2077 6865 6e20  ow library when 
-00004cd0: 7570 6c6f 6164 696e 6720 5247 4241 2069  uploading RGBA i
-00004ce0: 6d61 6765 732e 2028 5b5c 2336 3234 315d  mages. ([\#6241]
-00004cf0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00004d00: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00004d10: 796e 6170 7365 2f69 7373 7565 732f 3632  ynapse/issues/62
-00004d20: 3431 2929 0a2d 2043 6f72 7265 6374 6c79  41)).- Correctly
-00004d30: 2061 7070 6c79 2074 6865 2065 7665 6e74   apply the event
-00004d40: 2066 696c 7465 7220 746f 2074 6865 2060   filter to the `
-00004d50: 7374 6174 6560 2c20 6065 7665 6e74 735f  state`, `events_
-00004d60: 6265 666f 7265 6020 616e 6420 6065 7665  before` and `eve
-00004d70: 6e74 735f 6166 7465 7260 2066 6965 6c64  nts_after` field
-00004d80: 7320 696e 2074 6865 2072 6573 706f 6e73  s in the respons
-00004d90: 6520 746f 2060 2f63 6f6e 7465 7874 6020  e to `/context` 
-00004da0: 7265 7175 6573 7473 2e20 285b 5c23 3633  requests. ([\#63
-00004db0: 3239 5d28 6874 7470 733a 2f2f 6769 7468  29](https://gith
-00004dc0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00004dd0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00004de0: 2f36 3332 3929 290a 2d20 4669 7820 6361  /6329)).- Fix ca
-00004df0: 6368 696e 6720 6465 7669 6365 7320 666f  ching devices fo
-00004e00: 7220 7265 6d6f 7465 2075 7365 7273 2077  r remote users w
-00004e10: 6865 6e20 7573 696e 6720 776f 726b 6572  hen using worker
-00004e20: 732c 2073 6f20 7468 6174 2077 6520 646f  s, so that we do
-00004e30: 6e27 7420 6174 7465 6d70 7420 746f 2072  n't attempt to r
-00004e40: 6566 6574 6368 2028 616e 6420 706f 7465  efetch (and pote
-00004e50: 6e74 6961 6c6c 7920 6661 696c 2920 6561  ntially fail) ea
-00004e60: 6368 2074 696d 6520 6120 7573 6572 2072  ch time a user r
-00004e70: 6571 7565 7374 7320 6465 7669 6365 732e  equests devices.
-00004e80: 2028 5b5c 2336 3333 325d 2868 7474 7073   ([\#6332](https
-00004e90: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00004ea0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00004eb0: 2f69 7373 7565 732f 3633 3332 2929 0a2d  /issues/6332)).-
-00004ec0: 2050 7265 7665 6e74 2061 6363 6f75 6e74   Prevent account
-00004ed0: 2064 6174 6120 7379 6e63 7320 6765 7474   data syncs gett
-00004ee0: 696e 6720 6c6f 7374 2061 6372 6f73 7320  ing lost across 
-00004ef0: 5443 5020 7265 706c 6963 6174 696f 6e2e  TCP replication.
-00004f00: 2028 5b5c 2336 3333 335d 2868 7474 7073   ([\#6333](https
-00004f10: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00004f20: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00004f30: 2f69 7373 7565 732f 3633 3333 2929 0a2d  /issues/6333)).-
-00004f40: 2046 6978 2062 7567 3a20 5479 7065 4572   Fix bug: TypeEr
-00004f50: 726f 7220 696e 2060 7265 6769 7374 6572  ror in `register
-00004f60: 5f75 7365 7228 2960 2077 6869 6c65 2075  _user()` while u
-00004f70: 7369 6e67 204c 4441 5020 6175 7468 206d  sing LDAP auth m
-00004f80: 6f64 756c 652e 2028 5b5c 2336 3430 365d  odule. ([\#6406]
-00004f90: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00004fa0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00004fb0: 796e 6170 7365 2f69 7373 7565 732f 3634  ynapse/issues/64
-00004fc0: 3036 2929 0a2d 2046 6978 2061 6e20 696e  06)).- Fix an in
-00004fd0: 7465 726d 6974 7465 6e74 2065 7863 6570  termittent excep
-00004fe0: 7469 6f6e 2077 6865 6e20 6861 6e64 6c69  tion when handli
-00004ff0: 6e67 2072 6561 642d 7265 6365 6970 7473  ng read-receipts
-00005000: 2e20 285b 5c23 3634 3038 5d28 6874 7470  . ([\#6408](http
-00005010: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00005020: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00005030: 652f 6973 7375 6573 2f36 3430 3829 290a  e/issues/6408)).
-00005040: 2d20 4669 7820 6272 6f6b 656e 2067 7565  - Fix broken gue
-00005050: 7374 2072 6567 6973 7472 6174 696f 6e20  st registration 
-00005060: 7768 656e 2074 6865 7265 2061 7265 2065  when there are e
-00005070: 7869 7374 696e 6720 626c 6f63 6b73 206f  xisting blocks o
-00005080: 6620 6e75 6d65 7269 6320 7573 6572 2049  f numeric user I
-00005090: 4473 2e20 285b 5c23 3634 3230 5d28 6874  Ds. ([\#6420](ht
-000050a0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-000050b0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-000050c0: 7073 652f 6973 7375 6573 2f36 3432 3029  pse/issues/6420)
-000050d0: 290a 2d20 4669 7820 7374 6172 7475 7020  ).- Fix startup 
-000050e0: 6572 726f 7220 7768 656e 2068 7474 7020  error when http 
-000050f0: 7072 6f78 7920 6973 2064 6566 696e 6564  proxy is defined
-00005100: 2e20 285b 5c23 3634 3231 5d28 6874 7470  . ([\#6421](http
-00005110: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00005120: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00005130: 652f 6973 7375 6573 2f36 3432 3129 290a  e/issues/6421)).
-00005140: 2d20 4669 7820 6572 726f 7220 7768 656e  - Fix error when
-00005150: 2075 7369 6e67 2073 796e 6170 7365 5f70   using synapse_p
-00005160: 6f72 745f 6462 206f 6e20 6120 7661 6e69  ort_db on a vani
-00005170: 6c6c 6120 7379 6e61 7073 6520 6462 2e20  lla synapse db. 
-00005180: 285b 5c23 3634 3439 5d28 6874 7470 733a  ([\#6449](https:
-00005190: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-000051a0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-000051b0: 6973 7375 6573 2f36 3434 3929 290a 2d20  issues/6449)).- 
-000051c0: 4669 7820 7570 6c6f 6164 696e 6720 6d75  Fix uploading mu
-000051d0: 6c74 6970 6c65 2063 726f 7373 2073 6967  ltiple cross sig
-000051e0: 6e69 6e67 2073 6967 6e61 7475 7265 7320  ning signatures 
-000051f0: 666f 7220 7468 6520 7361 6d65 2075 7365  for the same use
-00005200: 722e 2028 5b5c 2336 3435 315d 2868 7474  r. ([\#6451](htt
-00005210: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00005220: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-00005230: 7365 2f69 7373 7565 732f 3634 3531 2929  se/issues/6451))
-00005240: 0a2d 2046 6978 2062 7567 2077 6869 6368  .- Fix bug which
-00005250: 206c 6561 6420 746f 2065 7863 6570 7469   lead to excepti
-00005260: 6f6e 7320 6265 696e 6720 7468 726f 776e  ons being thrown
-00005270: 2069 6e20 6120 6c6f 6f70 2077 6865 6e20   in a loop when 
-00005280: 6120 6372 6f73 732d 7369 676e 6564 2064  a cross-signed d
-00005290: 6576 6963 6520 6973 2064 656c 6574 6564  evice is deleted
-000052a0: 2e20 285b 5c23 3634 3632 5d28 6874 7470  . ([\#6462](http
-000052b0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-000052c0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-000052d0: 652f 6973 7375 6573 2f36 3436 3229 290a  e/issues/6462)).
-000052e0: 2d20 4669 7820 6073 796e 6170 7365 5f70  - Fix `synapse_p
-000052f0: 6f72 745f 6462 6020 6e6f 7420 6578 6974  ort_db` not exit
-00005300: 696e 6720 7769 7468 2061 2030 2063 6f64  ing with a 0 cod
-00005310: 6520 6966 2073 6f6d 6574 6869 6e67 2077  e if something w
-00005320: 656e 7420 7772 6f6e 6720 6475 7269 6e67  ent wrong during
-00005330: 2074 6865 2070 6f72 7420 7072 6f63 6573   the port proces
-00005340: 732e 2028 5b5c 2336 3437 305d 2868 7474  s. ([\#6470](htt
-00005350: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00005360: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-00005370: 7365 2f69 7373 7565 732f 3634 3730 2929  se/issues/6470))
-00005380: 0a2d 2049 6d70 726f 7665 2073 616e 6974  .- Improve sanit
-00005390: 792d 6368 6563 6b69 6e67 2077 6865 6e20  y-checking when 
-000053a0: 7265 6365 6976 696e 6720 6576 656e 7473  receiving events
-000053b0: 206f 7665 7220 6665 6465 7261 7469 6f6e   over federation
-000053c0: 2e20 285b 5c23 3634 3732 5d28 6874 7470  . ([\#6472](http
-000053d0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-000053e0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-000053f0: 652f 6973 7375 6573 2f36 3437 3229 290a  e/issues/6472)).
-00005400: 2d20 4669 7820 696e 6163 6375 7261 7465  - Fix inaccurate
-00005410: 2070 6572 2d62 6c6f 636b 2050 726f 6d65   per-block Prome
-00005420: 7468 6575 7320 6d65 7472 6963 732e 2028  theus metrics. (
-00005430: 5b5c 2336 3439 315d 2868 7474 7073 3a2f  [\#6491](https:/
-00005440: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00005450: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00005460: 7373 7565 732f 3634 3931 2929 0a2d 2046  ssues/6491)).- F
-00005470: 6978 2073 6d61 6c6c 2070 6572 666f 726d  ix small perform
-00005480: 616e 6365 2072 6567 7265 7373 696f 6e20  ance regression 
-00005490: 666f 7220 7365 6e64 696e 6720 696e 7669  for sending invi
-000054a0: 7465 732e 2028 5b5c 2336 3439 335d 2868  tes. ([\#6493](h
-000054b0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-000054c0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-000054d0: 6170 7365 2f69 7373 7565 732f 3634 3933  apse/issues/6493
-000054e0: 2929 0a2d 2042 6163 6b20 6f75 7420 6372  )).- Back out cr
-000054f0: 6f73 732d 7369 676e 696e 6720 636f 6465  oss-signing code
-00005500: 2061 6464 6564 2069 6e20 5379 6e61 7073   added in Synaps
-00005510: 6520 312e 352e 302c 2077 6869 6368 2063  e 1.5.0, which c
-00005520: 6175 7365 6420 6120 7065 7266 6f72 6d61  aused a performa
-00005530: 6e63 6520 7265 6772 6573 7369 6f6e 2e20  nce regression. 
-00005540: 285b 5c23 3634 3934 5d28 6874 7470 733a  ([\#6494](https:
-00005550: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00005560: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00005570: 6973 7375 6573 2f36 3439 3429 290a 0a0a  issues/6494))...
-00005580: 496d 7072 6f76 6564 2044 6f63 756d 656e  Improved Documen
-00005590: 7461 7469 6f6e 0a2d 2d2d 2d2d 2d2d 2d2d  tation.---------
-000055a0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a 0a2d  -------------..-
-000055b0: 2055 7064 6174 6520 646f 6375 6d65 6e74   Update document
-000055c0: 6174 696f 6e20 616e 6420 7661 7269 6162  ation and variab
-000055d0: 6c65 7320 696e 2075 7365 7220 636f 6e74  les in user cont
-000055e0: 7269 6275 7465 6420 7379 7374 656d 6420  ributed systemd 
-000055f0: 7265 6665 7265 6e63 6520 6669 6c65 2e20  reference file. 
-00005600: 285b 5c23 3633 3639 5d28 6874 7470 733a  ([\#6369](https:
-00005610: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00005620: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00005630: 6973 7375 6573 2f36 3336 3929 2c20 5b5c  issues/6369), [\
-00005640: 2336 3439 305d 2868 7474 7073 3a2f 2f67  #6490](https://g
-00005650: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-00005660: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-00005670: 7565 732f 3634 3930 2929 0a2d 2046 6978  ues/6490)).- Fix
-00005680: 206c 696e 6b20 696e 2074 6865 2075 7365   link in the use
-00005690: 7220 6469 7265 6374 6f72 7920 646f 6375  r directory docu
-000056a0: 6d65 6e74 6174 696f 6e2e 2028 5b5c 2336  mentation. ([\#6
-000056b0: 3338 385d 2868 7474 7073 3a2f 2f67 6974  388](https://git
-000056c0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-000056d0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-000056e0: 732f 3633 3838 2929 0a2d 2041 6464 2062  s/6388)).- Add b
-000056f0: 7569 6c64 2069 6e73 7472 7563 7469 6f6e  uild instruction
-00005700: 7320 746f 2074 6865 2064 6f63 6b65 7220  s to the docker 
-00005710: 7265 6164 6d65 2e20 285b 5c23 3633 3930  readme. ([\#6390
-00005720: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00005730: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00005740: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
-00005750: 3339 3029 290a 2d20 5377 6974 6368 2055  390)).- Switch U
-00005760: 6275 6e74 7520 7061 636b 6167 6520 696e  buntu package in
-00005770: 7374 616c 6c20 7265 636f 6d6d 656e 6461  stall recommenda
-00005780: 7469 6f6e 2074 6f20 7573 6520 7079 7468  tion to use pyth
-00005790: 6f6e 3320 7061 636b 6167 6573 2069 6e20  on3 packages in 
-000057a0: 494e 5354 414c 4c2e 6d64 2e20 285b 5c23  INSTALL.md. ([\#
-000057b0: 3634 3433 5d28 6874 7470 733a 2f2f 6769  6443](https://gi
-000057c0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-000057d0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-000057e0: 6573 2f36 3434 3329 290a 2d20 5772 6974  es/6443)).- Writ
-000057f0: 6520 736f 6d65 2064 6f63 7320 666f 7220  e some docs for 
-00005800: 7468 6520 7175 6172 616e 7469 6e65 5f6d  the quarantine_m
-00005810: 6564 6961 2061 7069 2e20 285b 5c23 3634  edia api. ([\#64
-00005820: 3538 5d28 6874 7470 733a 2f2f 6769 7468  58](https://gith
-00005830: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00005840: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00005850: 2f36 3435 3829 290a 2d20 436f 6e76 6572  /6458)).- Conver
-00005860: 7420 434f 4e54 5249 4255 5449 4e47 2e72  t CONTRIBUTING.r
-00005870: 7374 2074 6f20 6d61 726b 646f 776e 2028  st to markdown (
-00005880: 616d 6f6e 6720 6f74 6865 7220 736d 616c  among other smal
-00005890: 6c20 6669 7865 7329 2e20 285b 5c23 3634  l fixes). ([\#64
-000058a0: 3631 5d28 6874 7470 733a 2f2f 6769 7468  61](https://gith
-000058b0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-000058c0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-000058d0: 2f36 3436 3129 290a 0a0a 4465 7072 6563  /6461))...Deprec
-000058e0: 6174 696f 6e73 2061 6e64 2052 656d 6f76  ations and Remov
-000058f0: 616c 730a 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  als.------------
-00005900: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a 0a2d  -------------..-
-00005910: 2052 656d 6f76 6520 6164 6d69 6e2f 7631   Remove admin/v1
-00005920: 2f75 7365 7273 5f70 6167 696e 6174 6520  /users_paginate 
-00005930: 656e 6470 6f69 6e74 2e20 436f 6e74 7269  endpoint. Contri
-00005940: 6275 7465 6420 6279 2041 7765 736f 6d65  buted by Awesome
-00005950: 2054 6563 686e 6f6c 6f67 6965 7320 496e   Technologies In
-00005960: 6e6f 7661 7469 6f6e 736c 6162 6f72 2047  novationslabor G
-00005970: 6d62 482e 2028 5b5c 2335 3932 355d 2868  mbH. ([\#5925](h
-00005980: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00005990: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-000059a0: 6170 7365 2f69 7373 7565 732f 3539 3235  apse/issues/5925
-000059b0: 2929 0a2d 2052 656d 6f76 6520 6661 6c6c  )).- Remove fall
-000059c0: 6261 636b 2066 6f72 2066 6564 6572 6174  back for federat
-000059d0: 696f 6e20 7769 7468 206f 6c64 2073 6572  ion with old ser
-000059e0: 7665 7273 2077 6869 6368 206c 6163 6b20  vers which lack 
-000059f0: 7468 6520 2f66 6564 6572 6174 696f 6e2f  the /federation/
-00005a00: 7631 2f73 7461 7465 5f69 6473 2041 5049  v1/state_ids API
-00005a10: 2e20 285b 5c23 3634 3838 5d28 6874 7470  . ([\#6488](http
-00005a20: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00005a30: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00005a40: 652f 6973 7375 6573 2f36 3438 3829 290a  e/issues/6488)).
-00005a50: 0a0a 496e 7465 726e 616c 2043 6861 6e67  ..Internal Chang
-00005a60: 6573 0a2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  es.-------------
-00005a70: 2d2d 2d0a 0a2d 2041 6464 2062 656e 6368  ---..- Add bench
-00005a80: 6d61 726b 7320 666f 7220 7374 7275 6374  marks for struct
-00005a90: 7572 6564 206c 6f67 6769 6e67 2061 6e64  ured logging and
-00005aa0: 2069 6d70 726f 7665 206f 7574 7075 7420   improve output 
-00005ab0: 7065 7266 6f72 6d61 6e63 652e 2028 5b5c  performance. ([\
-00005ac0: 2336 3236 365d 2868 7474 7073 3a2f 2f67  #6266](https://g
-00005ad0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-00005ae0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-00005af0: 7565 732f 3632 3636 2929 0a2d 2049 6d70  ues/6266)).- Imp
-00005b00: 726f 7665 2074 6865 2070 6572 666f 726d  rove the perform
-00005b10: 616e 6365 206f 6620 6f75 7470 7574 7469  ance of outputti
-00005b20: 6e67 2073 7472 7563 7475 7265 6420 6c6f  ng structured lo
-00005b30: 6767 696e 672e 2028 5b5c 2336 3332 325d  gging. ([\#6322]
-00005b40: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00005b50: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00005b60: 796e 6170 7365 2f69 7373 7565 732f 3633  ynapse/issues/63
-00005b70: 3232 2929 0a2d 2052 6566 6163 746f 7220  22)).- Refactor 
-00005b80: 736f 6d65 2063 6f64 6520 696e 2074 6865  some code in the
-00005b90: 2065 7665 6e74 2061 7574 6865 6e74 6963   event authentic
-00005ba0: 6174 696f 6e20 7061 7468 2066 6f72 2063  ation path for c
-00005bb0: 6c61 7269 7479 2e20 285b 5c23 3633 3433  larity. ([\#6343
-00005bc0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00005bd0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00005be0: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
-00005bf0: 3334 3329 2c20 5b5c 2336 3436 385d 2868  343), [\#6468](h
-00005c00: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00005c10: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00005c20: 6170 7365 2f69 7373 7565 732f 3634 3638  apse/issues/6468
-00005c30: 292c 205b 5c23 3634 3830 5d28 6874 7470  ), [\#6480](http
-00005c40: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00005c50: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00005c60: 652f 6973 7375 6573 2f36 3438 3029 290a  e/issues/6480)).
-00005c70: 2d20 436c 6561 6e20 7570 2073 6f6d 6520  - Clean up some 
-00005c80: 756e 6e65 6365 7373 6172 7920 7175 6f74  unnecessary quot
-00005c90: 6174 696f 6e20 6d61 726b 7320 6172 6f75  ation marks arou
-00005ca0: 6e64 2074 6865 2063 6f64 6562 6173 652e  nd the codebase.
-00005cb0: 2028 5b5c 2336 3336 325d 2868 7474 7073   ([\#6362](https
-00005cc0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00005cd0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00005ce0: 2f69 7373 7565 732f 3633 3632 2929 0a2d  /issues/6362)).-
-00005cf0: 2043 6f6d 706c 6169 6e20 6f6e 2073 7461   Complain on sta
-00005d00: 7274 7570 2069 6e73 7465 6164 206f 6620  rtup instead of 
-00005d10: 3530 3027 696e 6720 6475 7269 6e67 2072  500'ing during r
-00005d20: 756e 7469 6d65 2077 6865 6e20 6070 7562  untime when `pub
-00005d30: 6c69 635f 6261 7365 7572 6c60 2069 736e  lic_baseurl` isn
-00005d40: 2774 2073 6574 2077 6865 6e20 6e65 6365  't set when nece
-00005d50: 7373 6172 792e 2028 5b5c 2336 3337 395d  ssary. ([\#6379]
-00005d60: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00005d70: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00005d80: 796e 6170 7365 2f69 7373 7565 732f 3633  ynapse/issues/63
-00005d90: 3739 2929 0a2d 2041 6464 2061 2074 6573  79)).- Add a tes
-00005da0: 7420 7363 656e 6172 696f 2074 6f20 6d61  t scenario to ma
-00005db0: 6b65 2073 7572 6520 726f 6f6d 2068 6973  ke sure room his
-00005dc0: 746f 7279 2070 7572 6765 7320 646f 6e27  tory purges don'
-00005dd0: 7420 6272 6561 6b20 602f 6d65 7373 6167  t break `/messag
-00005de0: 6573 6020 696e 2074 6865 2066 7574 7572  es` in the futur
-00005df0: 652e 2028 5b5c 2336 3339 325d 2868 7474  e. ([\#6392](htt
-00005e00: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00005e10: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-00005e20: 7365 2f69 7373 7565 732f 3633 3932 2929  se/issues/6392))
-00005e30: 0a2d 2043 6c61 7269 6669 6361 7469 6f6e  .- Clarification
-00005e40: 7320 666f 7220 7468 6520 656d 6169 6c20  s for the email 
-00005e50: 636f 6e66 6967 7572 6174 696f 6e20 7365  configuration se
-00005e60: 7474 696e 6773 2e20 285b 5c23 3634 3233  ttings. ([\#6423
-00005e70: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00005e80: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00005e90: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
-00005ea0: 3432 3329 290a 2d20 4164 6420 6d6f 7265  423)).- Add more
-00005eb0: 2074 6573 7473 2074 6f20 7468 6520 626c   tests to the bl
-00005ec0: 6163 6b6c 6973 7420 7768 656e 2072 756e  acklist when run
-00005ed0: 6e69 6e67 2069 6e20 776f 726b 6572 206d  ning in worker m
-00005ee0: 6f64 652e 2028 5b5c 2336 3432 395d 2868  ode. ([\#6429](h
-00005ef0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00005f00: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00005f10: 6170 7365 2f69 7373 7565 732f 3634 3239  apse/issues/6429
-00005f20: 2929 0a2d 2052 6566 6163 746f 7220 6461  )).- Refactor da
-00005f30: 7461 2073 746f 7265 206c 6179 6572 2074  ta store layer t
-00005f40: 6f20 7375 7070 6f72 7420 6d75 6c74 6970  o support multip
-00005f50: 6c65 2064 6174 6162 6173 6573 2069 6e20  le databases in 
-00005f60: 7468 6520 6675 7475 7265 2e20 285b 5c23  the future. ([\#
-00005f70: 3634 3534 5d28 6874 7470 733a 2f2f 6769  6454](https://gi
-00005f80: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-00005f90: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-00005fa0: 6573 2f36 3435 3429 2c20 5b5c 2336 3436  es/6454), [\#646
-00005fb0: 345d 2868 7474 7073 3a2f 2f67 6974 6875  4](https://githu
-00005fc0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-00005fd0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-00005fe0: 3634 3634 292c 205b 5c23 3634 3639 5d28  6464), [\#6469](
-00005ff0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00006000: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-00006010: 6e61 7073 652f 6973 7375 6573 2f36 3436  napse/issues/646
-00006020: 3929 2c20 5b5c 2336 3438 375d 2868 7474  9), [\#6487](htt
-00006030: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00006040: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-00006050: 7365 2f69 7373 7565 732f 3634 3837 2929  se/issues/6487))
-00006060: 0a2d 2050 6f72 7420 7379 6e61 7073 652e  .- Port synapse.
-00006070: 7265 7374 2e63 6c69 656e 742e 7631 2074  rest.client.v1 t
-00006080: 6f20 6173 796e 632f 6177 6169 742e 2028  o async/await. (
-00006090: 5b5c 2336 3438 325d 2868 7474 7073 3a2f  [\#6482](https:/
-000060a0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-000060b0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-000060c0: 7373 7565 732f 3634 3832 2929 0a2d 2050  ssues/6482)).- P
-000060d0: 6f72 7420 7379 6e61 7073 652e 7265 7374  ort synapse.rest
-000060e0: 2e63 6c69 656e 742e 7632 5f61 6c70 6861  .client.v2_alpha
-000060f0: 2074 6f20 6173 796e 632f 6177 6169 742e   to async/await.
-00006100: 2028 5b5c 2336 3438 335d 2868 7474 7073   ([\#6483](https
-00006110: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00006120: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00006130: 2f69 7373 7565 732f 3634 3833 2929 0a2d  /issues/6483)).-
-00006140: 2050 6f72 7420 5379 6e63 4861 6e64 6c65   Port SyncHandle
-00006150: 7220 746f 2061 7379 6e63 2f61 7761 6974  r to async/await
-00006160: 2e20 285b 5c23 3634 3834 5d28 6874 7470  . ([\#6484](http
-00006170: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00006180: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00006190: 652f 6973 7375 6573 2f36 3438 3429 290a  e/issues/6484)).
-000061a0: 0a53 796e 6170 7365 2031 2e36 2e31 2028  .Synapse 1.6.1 (
-000061b0: 3230 3139 2d31 312d 3238 290a 3d3d 3d3d  2019-11-28).====
-000061c0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000061d0: 3d3d 3d3d 3d3d 0a0a 5365 6375 7269 7479  ======..Security
-000061e0: 2075 7064 6174 6573 0a2d 2d2d 2d2d 2d2d   updates.-------
-000061f0: 2d2d 2d2d 2d2d 2d2d 2d0a 0a54 6869 7320  ---------..This 
-00006200: 7265 6c65 6173 6520 696e 636c 7564 6573  release includes
-00006210: 2061 2073 6563 7572 6974 7920 6669 7820   a security fix 
-00006220: 285b 5c23 3634 3236 5d28 6874 7470 733a  ([\#6426](https:
-00006230: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00006240: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00006250: 6973 7375 6573 2f36 3432 3629 2c20 6265  issues/6426), be
-00006260: 6c6f 7729 2e20 4164 6d69 6e69 7374 7261  low). Administra
-00006270: 746f 7273 2061 7265 2065 6e63 6f75 7261  tors are encoura
-00006280: 6765 6420 746f 2075 7067 7261 6465 2061  ged to upgrade a
-00006290: 7320 736f 6f6e 2061 7320 706f 7373 6962  s soon as possib
-000062a0: 6c65 2e0a 0a42 7567 6669 7865 730a 2d2d  le...Bugfixes.--
-000062b0: 2d2d 2d2d 2d2d 0a0a 2d20 436c 6561 6e20  ------..- Clean 
-000062c0: 7570 206c 6f63 616c 2074 6872 6565 7069  up local threepi
-000062d0: 6473 2066 726f 6d20 7573 6572 206f 6e20  ds from user on 
-000062e0: 6163 636f 756e 7420 6465 6163 7469 7661  account deactiva
-000062f0: 7469 6f6e 2e20 285b 5c23 3634 3236 5d28  tion. ([\#6426](
-00006300: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00006310: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-00006320: 6e61 7073 652f 6973 7375 6573 2f36 3432  napse/issues/642
-00006330: 3629 290a 2d20 4669 7820 7374 6172 7475  6)).- Fix startu
-00006340: 7020 6572 726f 7220 7768 656e 2068 7474  p error when htt
-00006350: 7020 7072 6f78 7920 6973 2064 6566 696e  p proxy is defin
-00006360: 6564 2e20 285b 5c23 3634 3231 5d28 6874  ed. ([\#6421](ht
-00006370: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00006380: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00006390: 7073 652f 6973 7375 6573 2f36 3432 3129  pse/issues/6421)
-000063a0: 290a 0a0a 5379 6e61 7073 6520 312e 362e  )...Synapse 1.6.
-000063b0: 3020 2832 3031 392d 3131 2d32 3629 0a3d  0 (2019-11-26).=
-000063c0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000063d0: 3d3d 3d3d 3d3d 3d3d 3d0a 0a42 7567 6669  =========..Bugfi
-000063e0: 7865 730a 2d2d 2d2d 2d2d 2d2d 0a0a 2d20  xes.--------..- 
-000063f0: 4669 7820 7068 6f6e 6520 686f 6d65 2073  Fix phone home s
-00006400: 7461 7473 2072 6570 6f72 7469 6e67 2e20  tats reporting. 
-00006410: 285b 5c23 3634 3138 5d28 6874 7470 733a  ([\#6418](https:
-00006420: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00006430: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00006440: 6973 7375 6573 2f36 3431 3829 290a 0a0a  issues/6418))...
-00006450: 5379 6e61 7073 6520 312e 362e 3072 6332  Synapse 1.6.0rc2
-00006460: 2028 3230 3139 2d31 312d 3235 290a 3d3d   (2019-11-25).==
-00006470: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00006480: 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a42 7567  ===========..Bug
-00006490: 6669 7865 730a 2d2d 2d2d 2d2d 2d2d 0a0a  fixes.--------..
-000064a0: 2d20 4669 7820 6120 6275 6720 7768 6963  - Fix a bug whic
-000064b0: 6820 636f 756c 6420 6361 7573 6520 7468  h could cause th
-000064c0: 6520 6261 636b 6772 6f75 6e64 2064 6174  e background dat
-000064d0: 6162 6173 6520 7570 6461 7465 2068 616e  abase update han
-000064e0: 6465 7220 666f 7220 6576 656e 7420 6c61  der for event la
-000064f0: 6265 6c73 2074 6f20 6765 7420 7374 7563  bels to get stuc
-00006500: 6b20 696e 2061 206c 6f6f 7020 7261 6973  k in a loop rais
-00006510: 696e 6720 6578 6365 7074 696f 6e73 2e20  ing exceptions. 
-00006520: 285b 5c23 3634 3037 5d28 6874 7470 733a  ([\#6407](https:
-00006530: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00006540: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00006550: 6973 7375 6573 2f36 3430 3729 290a 0a0a  issues/6407))...
-00006560: 5379 6e61 7073 6520 312e 362e 3072 6331  Synapse 1.6.0rc1
-00006570: 2028 3230 3139 2d31 312d 3230 290a 3d3d   (2019-11-20).==
-00006580: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00006590: 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a46 6561  ===========..Fea
-000065a0: 7475 7265 730a 2d2d 2d2d 2d2d 2d2d 0a0a  tures.--------..
-000065b0: 2d20 4164 6420 6665 6465 7261 7469 6f6e  - Add federation
-000065c0: 2073 7570 706f 7274 2066 6f72 2063 726f   support for cro
-000065d0: 7373 2d73 6967 6e69 6e67 2e20 285b 5c23  ss-signing. ([\#
-000065e0: 3537 3237 5d28 6874 7470 733a 2f2f 6769  5727](https://gi
-000065f0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-00006600: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-00006610: 6573 2f35 3732 3729 290a 2d20 496e 6372  es/5727)).- Incr
-00006620: 6561 7365 2064 6566 6175 6c74 2072 6f6f  ease default roo
-00006630: 6d20 7665 7273 696f 6e20 6672 6f6d 2034  m version from 4
-00006640: 2074 6f20 352c 2074 6865 7265 6279 2065   to 5, thereby e
-00006650: 6e66 6f72 6369 6e67 2073 6572 7665 7220  nforcing server 
-00006660: 6b65 7920 7661 6c69 6469 7479 2070 6572  key validity per
-00006670: 696f 6420 6368 6563 6b73 2e20 285b 5c23  iod checks. ([\#
-00006680: 3632 3230 5d28 6874 7470 733a 2f2f 6769  6220](https://gi
-00006690: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-000066a0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-000066b0: 6573 2f36 3232 3029 290a 2d20 4164 6420  es/6220)).- Add 
-000066c0: 7375 7070 6f72 7420 666f 7220 6f75 7462  support for outb
-000066d0: 6f75 6e64 2068 7474 7020 7072 6f78 7969  ound http proxyi
-000066e0: 6e67 2076 6961 2068 7474 705f 7072 6f78  ng via http_prox
-000066f0: 792f 4854 5450 535f 5052 4f58 5920 656e  y/HTTPS_PROXY en
-00006700: 7620 7661 7273 2e20 285b 5c23 3632 3338  v vars. ([\#6238
-00006710: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00006720: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00006730: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
-00006740: 3233 3829 290a 2d20 496d 706c 656d 656e  238)).- Implemen
-00006750: 7420 6c61 6265 6c2d 6261 7365 6420 6669  t label-based fi
-00006760: 6c74 6572 696e 6720 6f6e 2060 2f73 796e  ltering on `/syn
-00006770: 6360 2061 6e64 2060 2f6d 6573 7361 6765  c` and `/message
-00006780: 7360 2028 5b4d 5343 3233 3236 5d28 6874  s` ([MSC2326](ht
-00006790: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-000067a0: 2f6d 6174 7269 782d 6f72 672f 6d61 7472  /matrix-org/matr
-000067b0: 6978 2d64 6f63 2f70 756c 6c2f 3233 3236  ix-doc/pull/2326
-000067c0: 2929 2e20 285b 5c23 3633 3031 5d28 6874  )). ([\#6301](ht
-000067d0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-000067e0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-000067f0: 7073 652f 6973 7375 6573 2f36 3330 3129  pse/issues/6301)
-00006800: 2c20 5b5c 2336 3331 305d 2868 7474 7073  , [\#6310](https
-00006810: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00006820: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00006830: 2f69 7373 7565 732f 3633 3130 292c 205b  /issues/6310), [
-00006840: 5c23 3633 3430 5d28 6874 7470 733a 2f2f  \#6340](https://
-00006850: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-00006860: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00006870: 7375 6573 2f36 3334 3029 290a 0a0a 4275  sues/6340))...Bu
-00006880: 6766 6978 6573 0a2d 2d2d 2d2d 2d2d 2d0a  gfixes.--------.
-00006890: 0a2d 2046 6978 204c 7275 4361 6368 6520  .- Fix LruCache 
-000068a0: 6361 6c6c 6261 636b 2064 6564 7570 6c69  callback dedupli
-000068b0: 6361 7469 6f6e 2066 6f72 2050 7974 686f  cation for Pytho
-000068c0: 6e20 332e 382e 2043 6f6e 7472 6962 7574  n 3.8. Contribut
-000068d0: 6564 2062 7920 4056 3032 3436 302e 2028  ed by @V02460. (
-000068e0: 5b5c 2336 3231 335d 2868 7474 7073 3a2f  [\#6213](https:/
-000068f0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00006900: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00006910: 7373 7565 732f 3632 3133 2929 0a2d 2052  ssues/6213)).- R
-00006920: 656d 6f76 6520 6120 726f 6f6d 2066 726f  emove a room fro
-00006930: 6d20 6120 7365 7276 6572 2773 2070 7562  m a server's pub
-00006940: 6c69 6320 726f 6f6d 7320 6c69 7374 206f  lic rooms list o
-00006950: 6e20 726f 6f6d 2075 7067 7261 6465 2e20  n room upgrade. 
-00006960: 285b 5c23 3632 3332 5d28 6874 7470 733a  ([\#6232](https:
-00006970: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00006980: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00006990: 6973 7375 6573 2f36 3233 3229 2c20 5b5c  issues/6232), [\
-000069a0: 2336 3233 355d 2868 7474 7073 3a2f 2f67  #6235](https://g
-000069b0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-000069c0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-000069d0: 7565 732f 3632 3335 2929 0a2d 2044 656c  ues/6235)).- Del
-000069e0: 6574 6520 6b65 7973 2066 726f 6d20 6b65  ete keys from ke
-000069f0: 7920 6261 636b 7570 2077 6865 6e20 6465  y backup when de
-00006a00: 6c65 7469 6e67 2062 6163 6b75 7020 7665  leting backup ve
-00006a10: 7273 696f 6e73 2e20 285b 5c23 3632 3533  rsions. ([\#6253
-00006a20: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00006a30: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00006a40: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
-00006a50: 3235 3329 290a 2d20 4d61 6b65 206e 6f74  253)).- Make not
-00006a60: 6966 6963 6174 696f 6e20 6f66 2063 726f  ification of cro
-00006a70: 7373 2d73 6967 6e69 6e67 2073 6967 6e61  ss-signing signa
-00006a80: 7475 7265 7320 776f 726b 2077 6974 6820  tures work with 
-00006a90: 776f 726b 6572 732e 2028 5b5c 2336 3235  workers. ([\#625
-00006aa0: 345d 2868 7474 7073 3a2f 2f67 6974 6875  4](https://githu
-00006ab0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-00006ac0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-00006ad0: 3632 3534 2929 0a2d 2046 6978 2065 7863  6254)).- Fix exc
-00006ae0: 6570 7469 6f6e 2077 6865 6e20 7265 6d6f  eption when remo
-00006af0: 7465 2073 6572 7665 7273 2061 7474 656d  te servers attem
-00006b00: 7074 2074 6f20 6a6f 696e 2061 2072 6f6f  pt to join a roo
-00006b10: 6d20 7468 6174 2074 6865 7927 7265 206e  m that they're n
-00006b20: 6f74 2061 6c6c 6f77 6564 2074 6f20 6a6f  ot allowed to jo
-00006b30: 696e 2e20 285b 5c23 3632 3738 5d28 6874  in. ([\#6278](ht
-00006b40: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00006b50: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00006b60: 7073 652f 6973 7375 6573 2f36 3237 3829  pse/issues/6278)
-00006b70: 290a 2d20 5072 6576 656e 7420 6572 726f  ).- Prevent erro
-00006b80: 7273 2066 726f 6d20 6170 7065 6172 696e  rs from appearin
-00006b90: 6720 6f6e 2053 796e 6170 7365 2073 7461  g on Synapse sta
-00006ba0: 7274 7570 2069 6620 6067 6974 6020 6973  rtup if `git` is
-00006bb0: 206e 6f74 2069 6e73 7461 6c6c 6564 2e20   not installed. 
-00006bc0: 285b 5c23 3632 3834 5d28 6874 7470 733a  ([\#6284](https:
-00006bd0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00006be0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00006bf0: 6973 7375 6573 2f36 3238 3429 290a 2d20  issues/6284)).- 
-00006c00: 4170 7073 6572 7669 6365 2072 6571 7565  Appservice reque
-00006c10: 7374 7320 7769 6c6c 206e 6f20 6c6f 6e67  sts will no long
-00006c20: 6572 2063 6f6e 7461 696e 2061 2064 6f75  er contain a dou
-00006c30: 626c 6520 736c 6173 6820 7072 6566 6978  ble slash prefix
-00006c40: 2077 6865 6e20 7468 6520 6170 7073 6572   when the appser
-00006c50: 7669 6365 2075 726c 2070 726f 7669 6465  vice url provide
-00006c60: 6420 656e 6473 2069 6e20 6120 736c 6173  d ends in a slas
-00006c70: 682e 2028 5b5c 2336 3330 365d 2868 7474  h. ([\#6306](htt
-00006c80: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00006c90: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-00006ca0: 7365 2f69 7373 7565 732f 3633 3036 2929  se/issues/6306))
-00006cb0: 0a2d 2046 6978 2060 2f70 7572 6765 5f72  .- Fix `/purge_r
-00006cc0: 6f6f 6d60 2061 646d 696e 2041 5049 2e20  oom` admin API. 
-00006cd0: 285b 5c23 3633 3037 5d28 6874 7470 733a  ([\#6307](https:
-00006ce0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00006cf0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00006d00: 6973 7375 6573 2f36 3330 3729 290a 2d20  issues/6307)).- 
-00006d10: 4669 7820 7468 6520 6068 6964 6465 6e60  Fix the `hidden`
-00006d20: 2066 6965 6c64 2069 6e20 7468 6520 6064   field in the `d
-00006d30: 6576 6963 6573 6020 7461 626c 6520 666f  evices` table fo
-00006d40: 7220 5351 4c69 7465 2076 6572 7369 6f6e  r SQLite version
-00006d50: 7320 7072 696f 7220 746f 2033 2e32 332e  s prior to 3.23.
-00006d60: 302e 2028 5b5c 2336 3331 335d 2868 7474  0. ([\#6313](htt
-00006d70: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00006d80: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-00006d90: 7365 2f69 7373 7565 732f 3633 3133 2929  se/issues/6313))
-00006da0: 0a2d 2046 6978 2062 7567 2077 6869 6368  .- Fix bug which
-00006db0: 2063 6173 7565 6420 7265 6a65 6374 6564   casued rejected
-00006dc0: 2065 7665 6e74 7320 746f 2062 6520 7065   events to be pe
-00006dd0: 7273 6973 7465 6420 7769 7468 2074 6865  rsisted with the
-00006de0: 2077 726f 6e67 2072 6f6f 6d20 7374 6174   wrong room stat
-00006df0: 652e 2028 5b5c 2336 3332 305d 2868 7474  e. ([\#6320](htt
-00006e00: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00006e10: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-00006e20: 7365 2f69 7373 7565 732f 3633 3230 2929  se/issues/6320))
-00006e30: 0a2d 2046 6978 2062 7567 2077 6865 7265  .- Fix bug where
-00006e40: 2060 7263 5f6c 6f67 696e 6020 7261 7465   `rc_login` rate
-00006e50: 6c69 6d69 7469 6e67 2077 6f75 6c64 2070  limiting would p
-00006e60: 7265 6d61 7475 7265 6c79 206b 6963 6b20  rematurely kick 
-00006e70: 696e 2e20 285b 5c23 3633 3335 5d28 6874  in. ([\#6335](ht
-00006e80: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00006e90: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00006ea0: 7073 652f 6973 7375 6573 2f36 3333 3529  pse/issues/6335)
-00006eb0: 290a 2d20 5072 6576 656e 7420 7468 6520  ).- Prevent the 
-00006ec0: 7365 7276 6572 2074 616b 696e 6720 6120  server taking a 
-00006ed0: 6c6f 6e67 2074 696d 6520 746f 2073 7461  long time to sta
-00006ee0: 7274 2075 7020 7768 656e 2067 7565 7374  rt up when guest
-00006ef0: 2072 6567 6973 7472 6174 696f 6e20 6973   registration is
-00006f00: 2065 6e61 626c 6564 2e20 285b 5c23 3633   enabled. ([\#63
-00006f10: 3338 5d28 6874 7470 733a 2f2f 6769 7468  38](https://gith
-00006f20: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00006f30: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00006f40: 2f36 3333 3829 290a 2d20 4669 7820 6275  /6338)).- Fix bu
-00006f50: 6720 7768 6572 6520 7570 6772 6164 696e  g where upgradin
-00006f60: 6720 6120 6775 6573 7420 6163 636f 756e  g a guest accoun
-00006f70: 7420 746f 2061 2066 756c 6c20 7573 6572  t to a full user
-00006f80: 2077 6f75 6c64 2066 6169 6c20 7768 656e   would fail when
-00006f90: 2061 6363 6f75 6e74 2076 616c 6964 6974   account validit
-00006fa0: 7920 6973 2065 6e61 626c 6564 2e20 285b  y is enabled. ([
-00006fb0: 5c23 3633 3539 5d28 6874 7470 733a 2f2f  \#6359](https://
-00006fc0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-00006fd0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00006fe0: 7375 6573 2f36 3335 3929 290a 2d20 4669  sues/6359)).- Fi
-00006ff0: 7820 6074 6f5f 6465 7669 6365 6020 7374  x `to_device` st
-00007000: 7265 616d 2049 4420 6765 7474 696e 6720  ream ID getting 
-00007010: 7265 7365 7420 6576 6572 7920 7469 6d65  reset every time
-00007020: 2053 796e 6170 7365 2072 6573 7461 7274   Synapse restart
-00007030: 732c 2077 6869 6368 2068 6164 2074 6865  s, which had the
-00007040: 2070 6f74 656e 7469 616c 2074 6f20 6361   potential to ca
-00007050: 7573 6520 756e 6162 6c65 2074 6f20 6465  use unable to de
-00007060: 6372 7970 7420 6572 726f 7273 2e20 285b  crypt errors. ([
-00007070: 5c23 3633 3633 5d28 6874 7470 733a 2f2f  \#6363](https://
-00007080: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-00007090: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-000070a0: 7375 6573 2f36 3336 3329 290a 2d20 4669  sues/6363)).- Fi
-000070b0: 7820 7065 726d 6973 7369 6f6e 2064 656e  x permission den
-000070c0: 6965 6420 6572 726f 7220 7768 656e 2074  ied error when t
-000070d0: 7279 696e 6720 746f 2067 656e 6572 6174  rying to generat
-000070e0: 6520 6120 636f 6e66 6967 2066 696c 6520  e a config file 
-000070f0: 7769 7468 2074 6865 2064 6f63 6b65 7220  with the docker 
-00007100: 696d 6167 652e 2028 5b5c 2336 3338 395d  image. ([\#6389]
-00007110: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00007120: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00007130: 796e 6170 7365 2f69 7373 7565 732f 3633  ynapse/issues/63
-00007140: 3839 2929 0a0a 0a49 6d70 726f 7665 6420  89))...Improved 
-00007150: 446f 6375 6d65 6e74 6174 696f 6e0a 2d2d  Documentation.--
-00007160: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00007170: 2d2d 2d2d 0a0a 2d20 436f 6e74 7269 6275  ----..- Contribu
-00007180: 746f 7220 646f 6375 6d65 6e74 6174 696f  tor documentatio
-00007190: 6e20 6e6f 7720 6d65 6e74 696f 6e73 2073  n now mentions s
-000071a0: 6372 6970 7420 746f 2072 756e 206c 696e  cript to run lin
-000071b0: 7465 7273 2e20 285b 5c23 3631 3634 5d28  ters. ([\#6164](
-000071c0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-000071d0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-000071e0: 6e61 7073 652f 6973 7375 6573 2f36 3136  napse/issues/616
-000071f0: 3429 290a 2d20 4d6f 6469 6679 2043 4150  4)).- Modify CAP
-00007200: 5443 4841 5f53 4554 5550 2e6d 6420 746f  TCHA_SETUP.md to
-00007210: 2075 7064 6174 6520 7468 6520 7465 726d   update the term
-00007220: 7320 6070 7269 7661 7465 206b 6579 6020  s `private key` 
-00007230: 616e 6420 6070 7562 6c69 6320 6b65 7960  and `public key`
-00007240: 2074 6f20 6073 6563 7265 7420 6b65 7960   to `secret key`
-00007250: 2061 6e64 2060 7369 7465 206b 6579 6020   and `site key` 
-00007260: 7265 7370 6563 7469 7665 6c79 2e20 436f  respectively. Co
-00007270: 6e74 7269 6275 7465 6420 6279 2059 6173  ntributed by Yas
-00007280: 6820 4a69 706b 6174 652e 2028 5b5c 2336  h Jipkate. ([\#6
-00007290: 3235 375d 2868 7474 7073 3a2f 2f67 6974  257](https://git
-000072a0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-000072b0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-000072c0: 732f 3632 3537 2929 0a2d 2055 7064 6174  s/6257)).- Updat
-000072d0: 6520 6049 4e53 5441 4c4c 2e6d 6460 2045  e `INSTALL.md` E
-000072e0: 6d61 696c 2073 6563 7469 6f6e 2074 6f20  mail section to 
-000072f0: 7461 6c6b 2061 626f 7574 2060 6163 636f  talk about `acco
-00007300: 756e 745f 7468 7265 6570 6964 5f64 656c  unt_threepid_del
-00007310: 6567 6174 6573 602e 2028 5b5c 2336 3237  egates`. ([\#627
-00007320: 325d 2868 7474 7073 3a2f 2f67 6974 6875  2](https://githu
-00007330: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-00007340: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-00007350: 3632 3732 2929 0a2d 2046 6978 2061 2073  6272)).- Fix a s
-00007360: 6d61 6c6c 2074 7970 6f20 696e 2060 6163  mall typo in `ac
-00007370: 636f 756e 745f 7468 7265 6570 6964 5f64  count_threepid_d
-00007380: 656c 6567 6174 6573 6020 636f 6e66 6967  elegates` config
-00007390: 7572 6174 696f 6e20 6f70 7469 6f6e 2e20  uration option. 
-000073a0: 285b 5c23 3632 3733 5d28 6874 7470 733a  ([\#6273](https:
-000073b0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-000073c0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-000073d0: 6973 7375 6573 2f36 3237 3329 290a 0a0a  issues/6273))...
-000073e0: 496e 7465 726e 616c 2043 6861 6e67 6573  Internal Changes
-000073f0: 0a2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  .---------------
-00007400: 2d0a 0a2d 2041 6464 2061 2043 4920 6a6f  -..- Add a CI jo
-00007410: 6220 746f 2074 6573 7420 7468 6520 6073  b to test the `s
-00007420: 796e 6170 7365 5f70 6f72 745f 6462 6020  ynapse_port_db` 
-00007430: 7363 7269 7074 2e20 285b 5c23 3631 3430  script. ([\#6140
-00007440: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00007450: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00007460: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
-00007470: 3134 3029 2c20 5b5c 2336 3237 365d 2868  140), [\#6276](h
-00007480: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00007490: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-000074a0: 6170 7365 2f69 7373 7565 732f 3632 3736  apse/issues/6276
-000074b0: 2929 0a2d 2043 6f6e 7665 7274 2045 7665  )).- Convert Eve
-000074c0: 6e74 436f 6e74 6578 7420 746f 2061 6e20  ntContext to an 
-000074d0: 6174 7472 732e 2028 5b5c 2336 3231 385d  attrs. ([\#6218]
-000074e0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-000074f0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00007500: 796e 6170 7365 2f69 7373 7565 732f 3632  ynapse/issues/62
-00007510: 3138 2929 0a2d 204d 6f76 6520 6070 6572  18)).- Move `per
-00007520: 7369 7374 5f65 7665 6e74 7360 206f 7574  sist_events` out
-00007530: 2066 726f 6d20 6d61 696e 2064 6174 6120   from main data 
-00007540: 7374 6f72 652e 2028 5b5c 2336 3234 305d  store. ([\#6240]
-00007550: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00007560: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00007570: 796e 6170 7365 2f69 7373 7565 732f 3632  ynapse/issues/62
-00007580: 3430 292c 205b 5c23 3633 3030 5d28 6874  40), [\#6300](ht
-00007590: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-000075a0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-000075b0: 7073 652f 6973 7375 6573 2f36 3330 3029  pse/issues/6300)
-000075c0: 290a 2d20 5265 6475 6365 2076 6572 626f  ).- Reduce verbo
-000075d0: 7369 7479 206f 6620 7573 6572 2f72 6f6f  sity of user/roo
-000075e0: 6d20 7374 6174 732e 2028 5b5c 2336 3235  m stats. ([\#625
-000075f0: 305d 2868 7474 7073 3a2f 2f67 6974 6875  0](https://githu
-00007600: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-00007610: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-00007620: 3632 3530 2929 0a2d 2052 6564 7563 6520  6250)).- Reduce 
-00007630: 696d 7061 6374 206f 6620 6465 6275 6720  impact of debug 
-00007640: 6c6f 6767 696e 672e 2028 5b5c 2336 3235  logging. ([\#625
-00007650: 315d 2868 7474 7073 3a2f 2f67 6974 6875  1](https://githu
-00007660: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-00007670: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-00007680: 3632 3531 2929 0a2d 2045 7870 6f73 6520  6251)).- Expose 
-00007690: 736f 6d65 2068 6f6d 6573 6572 7665 7220  some homeserver 
-000076a0: 6675 6e63 7469 6f6e 616c 6974 7920 746f  functionality to
-000076b0: 2073 7061 6d20 6368 6563 6b65 7273 2e20   spam checkers. 
-000076c0: 285b 5c23 3632 3539 5d28 6874 7470 733a  ([\#6259](https:
-000076d0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-000076e0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-000076f0: 6973 7375 6573 2f36 3235 3929 290a 2d20  issues/6259)).- 
-00007700: 4368 616e 6765 2063 6163 6865 2064 6573  Change cache des
-00007710: 6372 6970 746f 7273 2074 6f20 616c 7761  criptors to alwa
-00007720: 7973 2072 6574 7572 6e20 6465 6665 7272  ys return deferr
-00007730: 6564 732e 2028 5b5c 2336 3236 335d 2868  eds. ([\#6263](h
-00007740: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00007750: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00007760: 6170 7365 2f69 7373 7565 732f 3632 3633  apse/issues/6263
-00007770: 292c 205b 5c23 3632 3931 5d28 6874 7470  ), [\#6291](http
-00007780: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00007790: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-000077a0: 652f 6973 7375 6573 2f36 3239 3129 290a  e/issues/6291)).
-000077b0: 2d20 4669 7820 696e 636f 7272 6563 7420  - Fix incorrect 
-000077c0: 636f 6d6d 656e 7420 7265 6761 7264 696e  comment regardin
-000077d0: 6720 7468 6520 6675 6e63 7469 6f6e 616c  g the functional
-000077e0: 6974 7920 6f66 2061 6e20 6069 6660 2073  ity of an `if` s
-000077f0: 7461 7465 6d65 6e74 2e20 285b 5c23 3632  tatement. ([\#62
-00007800: 3639 5d28 6874 7470 733a 2f2f 6769 7468  69](https://gith
-00007810: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00007820: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00007830: 2f36 3236 3929 290a 2d20 5570 6461 7465  /6269)).- Update
-00007840: 2043 4920 746f 2072 756e 2060 6973 6f72   CI to run `isor
-00007850: 7460 206f 7665 7220 7468 6520 6073 6372  t` over the `scr
-00007860: 6970 7473 6020 616e 6420 6073 6372 6970  ipts` and `scrip
-00007870: 7473 2d64 6576 6020 6469 7265 6374 6f72  ts-dev` director
-00007880: 6965 732e 2028 5b5c 2336 3237 305d 2868  ies. ([\#6270](h
-00007890: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-000078a0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-000078b0: 6170 7365 2f69 7373 7565 732f 3632 3730  apse/issues/6270
-000078c0: 2929 0a2d 2052 6570 6c61 6365 2065 7665  )).- Replace eve
-000078d0: 7279 2069 6e73 7461 6e63 6520 6f66 2060  ry instance of `
-000078e0: 6c6f 6767 6572 2e77 6172 6e60 206d 6574  logger.warn` met
-000078f0: 686f 6420 7769 7468 2060 6c6f 6767 6572  hod with `logger
-00007900: 2e77 6172 6e69 6e67 6020 6173 2074 6865  .warning` as the
-00007910: 2066 6f72 6d65 7220 6973 2064 6570 7265   former is depre
-00007920: 6361 7465 642e 2028 5b5c 2336 3237 315d  cated. ([\#6271]
-00007930: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00007940: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00007950: 796e 6170 7365 2f69 7373 7565 732f 3632  ynapse/issues/62
-00007960: 3731 292c 205b 5c23 3633 3134 5d28 6874  71), [\#6314](ht
-00007970: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00007980: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00007990: 7073 652f 6973 7375 6573 2f36 3331 3429  pse/issues/6314)
-000079a0: 290a 2d20 506f 7274 2072 6570 6c69 6361  ).- Port replica
-000079b0: 7469 6f6e 2068 7474 7020 7365 7276 6572  tion http server
-000079c0: 2065 6e64 706f 696e 7473 2074 6f20 6173   endpoints to as
-000079d0: 796e 632f 6177 6169 742e 2028 5b5c 2336  ync/await. ([\#6
-000079e0: 3237 345d 2868 7474 7073 3a2f 2f67 6974  274](https://git
-000079f0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-00007a00: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-00007a10: 732f 3632 3734 2929 0a2d 2050 6f72 7420  s/6274)).- Port 
-00007a20: 726f 6f6d 2072 6573 7420 6861 6e64 6c65  room rest handle
-00007a30: 7273 2074 6f20 6173 796e 632f 6177 6169  rs to async/awai
-00007a40: 742e 2028 5b5c 2336 3237 355d 2868 7474  t. ([\#6275](htt
-00007a50: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00007a60: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-00007a70: 7365 2f69 7373 7565 732f 3632 3735 2929  se/issues/6275))
-00007a80: 0a2d 2052 656d 6f76 6520 7265 6475 6e64  .- Remove redund
-00007a90: 616e 7420 434c 4920 7061 7261 6d65 7465  ant CLI paramete
-00007aa0: 7273 206f 6e20 4349 2773 2060 666c 616b  rs on CI's `flak
-00007ab0: 6538 6020 7374 6570 2e20 285b 5c23 3632  e8` step. ([\#62
-00007ac0: 3737 5d28 6874 7470 733a 2f2f 6769 7468  77](https://gith
-00007ad0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00007ae0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00007af0: 2f36 3237 3729 290a 2d20 506f 7274 2060  /6277)).- Port `
-00007b00: 6665 6465 7261 7469 6f6e 5f73 6572 7665  federation_serve
-00007b10: 722e 7079 6020 746f 2061 7379 6e63 2f61  r.py` to async/a
-00007b20: 7761 6974 2e20 285b 5c23 3632 3739 5d28  wait. ([\#6279](
-00007b30: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00007b40: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-00007b50: 6e61 7073 652f 6973 7375 6573 2f36 3237  napse/issues/627
-00007b60: 3929 290a 2d20 506f 7274 2072 6563 6569  9)).- Port recei
-00007b70: 7074 2061 6e64 2072 6561 6420 6d61 726b  pt and read mark
-00007b80: 6572 7320 746f 2061 7379 6e63 2f77 6169  ers to async/wai
-00007b90: 742e 2028 5b5c 2336 3238 305d 2868 7474  t. ([\#6280](htt
-00007ba0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00007bb0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-00007bc0: 7365 2f69 7373 7565 732f 3632 3830 2929  se/issues/6280))
-00007bd0: 0a2d 2053 706c 6974 206f 7574 2073 7461  .- Split out sta
-00007be0: 7465 2073 746f 7261 6765 2069 6e74 6f20  te storage into 
-00007bf0: 7365 7061 7261 7465 2064 6174 6120 7374  separate data st
-00007c00: 6f72 652e 2028 5b5c 2336 3239 345d 2868  ore. ([\#6294](h
-00007c10: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00007c20: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00007c30: 6170 7365 2f69 7373 7565 732f 3632 3934  apse/issues/6294
-00007c40: 292c 205b 5c23 3632 3935 5d28 6874 7470  ), [\#6295](http
-00007c50: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00007c60: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00007c70: 652f 6973 7375 6573 2f36 3239 3529 290a  e/issues/6295)).
-00007c80: 2d20 5265 6661 6374 6f72 2045 7665 6e74  - Refactor Event
-00007c90: 436f 6e74 6578 7420 666f 7220 636c 6172  Context for clar
-00007ca0: 6974 792e 2028 5b5c 2336 3239 385d 2868  ity. ([\#6298](h
-00007cb0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00007cc0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00007cd0: 6170 7365 2f69 7373 7565 732f 3632 3938  apse/issues/6298
-00007ce0: 2929 0a2d 2055 7064 6174 6520 7468 6520  )).- Update the 
-00007cf0: 7665 7273 696f 6e20 6f66 2062 6c61 636b  version of black
-00007d00: 2075 7365 6420 746f 2031 392e 3130 6230   used to 19.10b0
-00007d10: 2e20 285b 5c23 3633 3034 5d28 6874 7470  . ([\#6304](http
-00007d20: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00007d30: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00007d40: 652f 6973 7375 6573 2f36 3330 3429 290a  e/issues/6304)).
-00007d50: 2d20 4164 6420 736f 6d65 2064 6f63 756d  - Add some docum
-00007d60: 656e 7461 7469 6f6e 2061 626f 7574 2077  entation about w
-00007d70: 6f72 6b65 7220 7265 706c 6963 6174 696f  orker replicatio
-00007d80: 6e2e 2028 5b5c 2336 3330 355d 2868 7474  n. ([\#6305](htt
-00007d90: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00007da0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-00007db0: 7365 2f69 7373 7565 732f 3633 3035 2929  se/issues/6305))
-00007dc0: 0a2d 204d 6f76 6520 6164 6d69 6e20 656e  .- Move admin en
-00007dd0: 6470 6f69 6e74 7320 696e 746f 2073 6570  dpoints into sep
-00007de0: 6172 6174 6520 6669 6c65 732e 2043 6f6e  arate files. Con
-00007df0: 7472 6962 7574 6564 2062 7920 4177 6573  tributed by Awes
-00007e00: 6f6d 6520 5465 6368 6e6f 6c6f 6769 6573  ome Technologies
-00007e10: 2049 6e6e 6f76 6174 696f 6e73 6c61 626f   Innovationslabo
-00007e20: 7220 476d 6248 2e20 285b 5c23 3633 3038  r GmbH. ([\#6308
-00007e30: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00007e40: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00007e50: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
-00007e60: 3330 3829 290a 2d20 446f 6375 6d65 6e74  308)).- Document
-00007e70: 2074 6865 2075 7365 206f 6620 606c 696e   the use of `lin
-00007e80: 742e 7368 6020 666f 7220 636f 6465 2073  t.sh` for code s
-00007e90: 7479 6c65 2065 6e66 6f72 6365 6d65 6e74  tyle enforcement
-00007ea0: 2026 2065 7874 656e 6420 6974 2074 6f20   & extend it to 
-00007eb0: 7275 6e20 6f6e 2073 7065 6369 6669 6564  run on specified
-00007ec0: 2070 6174 6873 206f 6e6c 792e 2028 5b5c   paths only. ([\
-00007ed0: 2336 3331 325d 2868 7474 7073 3a2f 2f67  #6312](https://g
-00007ee0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-00007ef0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-00007f00: 7565 732f 3633 3132 2929 0a2d 2041 6464  ues/6312)).- Add
-00007f10: 206f 7074 696f 6e61 6c20 7079 7468 6f6e   optional python
-00007f20: 2064 6570 656e 6465 6e63 6965 7320 616e   dependencies an
-00007f30: 6420 6465 7065 6e64 616e 7420 6269 6e61  d dependant bina
-00007f40: 7279 206c 6962 7261 7269 6573 2074 6f20  ry libraries to 
-00007f50: 736e 6170 6372 6166 7420 7061 636b 6167  snapcraft packag
-00007f60: 696e 672e 2028 5b5c 2336 3331 375d 2868  ing. ([\#6317](h
-00007f70: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00007f80: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00007f90: 6170 7365 2f69 7373 7565 732f 3633 3137  apse/issues/6317
-00007fa0: 2929 0a2d 2052 656d 6f76 6520 7468 6520  )).- Remove the 
-00007fb0: 6465 7065 6e64 656e 6379 206f 6e20 7073  dependency on ps
-00007fc0: 7574 696c 2061 6e64 2072 6570 6c61 6365  util and replace
-00007fd0: 2066 756e 6374 696f 6e61 6c69 7479 2077   functionality w
-00007fe0: 6974 6820 7468 6520 7374 646c 6962 2060  ith the stdlib `
-00007ff0: 7265 736f 7572 6365 6020 6d6f 6475 6c65  resource` module
-00008000: 2e20 285b 5c23 3633 3138 5d28 6874 7470  . ([\#6318](http
-00008010: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00008020: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00008030: 652f 6973 7375 6573 2f36 3331 3829 2c20  e/issues/6318), 
-00008040: 5b5c 2336 3333 365d 2868 7474 7073 3a2f  [\#6336](https:/
-00008050: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00008060: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00008070: 7373 7565 732f 3633 3336 2929 0a2d 2049  ssues/6336)).- I
-00008080: 6d70 726f 7665 2064 6f63 756d 656e 7461  mprove documenta
-00008090: 7469 6f6e 2066 6f72 2045 7665 6e74 436f  tion for EventCo
-000080a0: 6e74 6578 7420 6669 656c 6473 2e20 285b  ntext fields. ([
-000080b0: 5c23 3633 3139 5d28 6874 7470 733a 2f2f  \#6319](https://
-000080c0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-000080d0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-000080e0: 7375 6573 2f36 3331 3929 290a 2d20 4164  sues/6319)).- Ad
-000080f0: 6420 736f 6d65 2063 6865 636b 7320 7468  d some checks th
-00008100: 6174 2077 6520 6172 656e 2774 2075 7369  at we aren't usi
-00008110: 6e67 2073 7461 7465 2066 726f 6d20 7265  ng state from re
-00008120: 6a65 6374 6564 2065 7665 6e74 732e 2028  jected events. (
-00008130: 5b5c 2336 3333 305d 2868 7474 7073 3a2f  [\#6330](https:/
-00008140: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00008150: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00008160: 7373 7565 732f 3633 3330 2929 0a2d 2041  ssues/6330)).- A
-00008170: 6464 2063 6f6e 7469 6e75 6f75 7320 696e  dd continuous in
-00008180: 7465 6772 6174 696f 6e20 666f 7220 7079  tegration for py
-00008190: 7468 6f6e 2033 2e38 2e20 285b 5c23 3633  thon 3.8. ([\#63
-000081a0: 3431 5d28 6874 7470 733a 2f2f 6769 7468  41](https://gith
-000081b0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-000081c0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-000081d0: 2f36 3334 3129 290a 2d20 436f 7272 6563  /6341)).- Correc
-000081e0: 7420 7370 6163 696e 672f 6361 7365 206f  t spacing/case o
-000081f0: 6620 7661 7269 6f75 7320 696e 7374 616e  f various instan
-00008200: 6365 7320 6f66 2074 6865 2077 6f72 6420  ces of the word 
-00008210: 2268 6f6d 6573 6572 7665 7222 2e20 285b  "homeserver". ([
-00008220: 5c23 3633 3537 5d28 6874 7470 733a 2f2f  \#6357](https://
-00008230: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-00008240: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00008250: 7375 6573 2f36 3335 3729 290a 2d20 5465  sues/6357)).- Te
-00008260: 6d70 6f72 6172 696c 7920 626c 6163 6b6c  mporarily blackl
-00008270: 6973 7420 7468 6520 6661 696c 696e 6720  ist the failing 
-00008280: 756e 6974 2074 6573 7420 5075 7267 6552  unit test PurgeR
-00008290: 6f6f 6d54 6573 7443 6173 652e 7465 7374  oomTestCase.test
-000082a0: 5f70 7572 6765 5f72 6f6f 6d2e 2028 5b5c  _purge_room. ([\
-000082b0: 2336 3336 315d 2868 7474 7073 3a2f 2f67  #6361](https://g
-000082c0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-000082d0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-000082e0: 7565 732f 3633 3631 2929 0a0a 0a53 796e  ues/6361))...Syn
-000082f0: 6170 7365 2031 2e35 2e31 2028 3230 3139  apse 1.5.1 (2019
-00008300: 2d31 312d 3036 290a 3d3d 3d3d 3d3d 3d3d  -11-06).========
-00008310: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00008320: 3d3d 0a0a 4665 6174 7572 6573 0a2d 2d2d  ==..Features.---
-00008330: 2d2d 2d2d 2d0a 0a2d 204c 696d 6974 2074  -----..- Limit t
-00008340: 6865 206c 656e 6774 6820 6f66 2064 6174  he length of dat
-00008350: 6120 7265 7475 726e 6564 2062 7920 7572  a returned by ur
-00008360: 6c20 7072 6576 6965 7773 2c20 746f 2070  l previews, to p
-00008370: 7265 7665 6e74 2044 6f53 2061 7474 6163  revent DoS attac
-00008380: 6b73 2e20 285b 5c23 3633 3331 5d28 6874  ks. ([\#6331](ht
-00008390: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-000083a0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-000083b0: 7073 652f 6973 7375 6573 2f36 3333 3129  pse/issues/6331)
-000083c0: 2c20 5b5c 2336 3333 345d 2868 7474 7073  , [\#6334](https
-000083d0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-000083e0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-000083f0: 2f69 7373 7565 732f 3633 3334 2929 0a0a  /issues/6334))..
-00008400: 0a53 796e 6170 7365 2031 2e35 2e30 2028  .Synapse 1.5.0 (
-00008410: 3230 3139 2d31 302d 3239 290a 3d3d 3d3d  2019-10-29).====
-00008420: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00008430: 3d3d 3d3d 3d3d 0a0a 5365 6375 7269 7479  ======..Security
-00008440: 2075 7064 6174 6573 0a2d 2d2d 2d2d 2d2d   updates.-------
-00008450: 2d2d 2d2d 2d2d 2d2d 2d0a 0a54 6869 7320  ---------..This 
-00008460: 7265 6c65 6173 6520 696e 636c 7564 6573  release includes
-00008470: 2061 2073 6563 7572 6974 7920 6669 7820   a security fix 
-00008480: 285b 5c23 3632 3632 5d28 6874 7470 733a  ([\#6262](https:
-00008490: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-000084a0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-000084b0: 6973 7375 6573 2f36 3236 3229 2c20 6265  issues/6262), be
-000084c0: 6c6f 7729 2e20 4164 6d69 6e69 7374 7261  low). Administra
-000084d0: 746f 7273 2061 7265 2065 6e63 6f75 7261  tors are encoura
-000084e0: 6765 6420 746f 2075 7067 7261 6465 2061  ged to upgrade a
-000084f0: 7320 736f 6f6e 2061 7320 706f 7373 6962  s soon as possib
-00008500: 6c65 2e0a 0a42 7567 6669 7865 730a 2d2d  le...Bugfixes.--
-00008510: 2d2d 2d2d 2d2d 0a0a 2d20 4669 7820 6275  ------..- Fix bu
-00008520: 6720 7768 6572 6520 726f 6f6d 2064 6972  g where room dir
-00008530: 6563 746f 7279 2073 6561 7263 6820 7761  ectory search wa
-00008540: 7320 6361 7365 2073 656e 7369 7469 7665  s case sensitive
-00008550: 2e20 285b 5c23 3632 3638 5d28 6874 7470  . ([\#6268](http
-00008560: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00008570: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00008580: 652f 6973 7375 6573 2f36 3236 3829 290a  e/issues/6268)).
-00008590: 0a0a 5379 6e61 7073 6520 312e 352e 3072  ..Synapse 1.5.0r
-000085a0: 6332 2028 3230 3139 2d31 302d 3238 290a  c2 (2019-10-28).
-000085b0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000085c0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a42  =============..B
-000085d0: 7567 6669 7865 730a 2d2d 2d2d 2d2d 2d2d  ugfixes.--------
-000085e0: 0a0a 2d20 5570 6461 7465 206c 6973 7420  ..- Update list 
-000085f0: 6f66 2062 6f6f 6c65 616e 2063 6f6c 756d  of boolean colum
-00008600: 6e73 2069 6e20 6073 796e 6170 7365 5f70  ns in `synapse_p
-00008610: 6f72 745f 6462 602e 2028 5b5c 2336 3234  ort_db`. ([\#624
-00008620: 375d 2868 7474 7073 3a2f 2f67 6974 6875  7](https://githu
-00008630: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-00008640: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-00008650: 3632 3437 2929 0a2d 2046 6978 202f 6b65  6247)).- Fix /ke
-00008660: 7973 2f71 7565 7279 2041 5049 206f 6e20  ys/query API on 
-00008670: 776f 726b 6572 732e 2028 5b5c 2336 3235  workers. ([\#625
-00008680: 365d 2868 7474 7073 3a2f 2f67 6974 6875  6](https://githu
-00008690: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-000086a0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-000086b0: 3632 3536 2929 0a2d 2049 6d70 726f 7665  6256)).- Improve
-000086c0: 2073 6967 6e61 7475 7265 2063 6865 636b   signature check
-000086d0: 696e 6720 6f6e 2073 6f6d 6520 6665 6465  ing on some fede
-000086e0: 7261 7469 6f6e 2041 5049 732e 2028 5b5c  ration APIs. ([\
-000086f0: 2336 3236 325d 2868 7474 7073 3a2f 2f67  #6262](https://g
-00008700: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-00008710: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-00008720: 7565 732f 3632 3632 2929 0a0a 0a49 6e74  ues/6262))...Int
-00008730: 6572 6e61 6c20 4368 616e 6765 730a 2d2d  ernal Changes.--
-00008740: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 0a0a  --------------..
-00008750: 2d20 4d6f 7665 2073 6368 656d 6120 6465  - Move schema de
-00008760: 6c74 6120 6669 6c65 7320 746f 2074 6865  lta files to the
-00008770: 2063 6f72 7265 6374 2064 6174 6120 7374   correct data st
-00008780: 6f72 652e 2028 5b5c 2336 3234 385d 2868  ore. ([\#6248](h
-00008790: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-000087a0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-000087b0: 6170 7365 2f69 7373 7565 732f 3632 3438  apse/issues/6248
-000087c0: 2929 0a2d 2053 6d61 6c6c 2070 6572 666f  )).- Small perfo
-000087d0: 726d 616e 6365 2069 6d70 726f 7665 6d65  rmance improveme
-000087e0: 6e74 2062 7920 7265 6d6f 7669 6e67 2072  nt by removing r
-000087f0: 6570 6561 7465 6420 636f 6e66 6967 206c  epeated config l
-00008800: 6f6f 6b75 7073 2069 6e20 726f 6f6d 2073  ookups in room s
-00008810: 7461 7473 2063 616c 6375 6c61 7469 6f6e  tats calculation
-00008820: 2e20 285b 5c23 3632 3535 5d28 6874 7470  . ([\#6255](http
+00002370: 6170 7365 2f69 7373 7565 732f 3634 3533  apse/issues/6453
+00002380: 2929 0a2d 2041 6464 206f 7074 696f 6e20  )).- Add option 
+00002390: 606c 696d 6974 5f70 726f 6669 6c65 5f72  `limit_profile_r
+000023a0: 6571 7565 7374 735f 746f 5f75 7365 7273  equests_to_users
+000023b0: 5f77 686f 5f73 6861 7265 5f72 6f6f 6d73  _who_share_rooms
+000023c0: 6020 746f 2070 7265 7665 6e74 2072 6571  ` to prevent req
+000023d0: 7569 7265 6d65 6e74 206f 6620 6120 6c6f  uirement of a lo
+000023e0: 6361 6c20 7573 6572 2073 6861 7269 6e67  cal user sharing
+000023f0: 2061 2072 6f6f 6d20 7769 7468 2061 6e6f   a room with ano
+00002400: 7468 6572 2075 7365 7220 746f 2071 7565  ther user to que
+00002410: 7279 2074 6865 6972 2070 726f 6669 6c65  ry their profile
+00002420: 2069 6e66 6f72 6d61 7469 6f6e 2e20 285b   information. ([
+00002430: 5c23 3635 3233 5d28 6874 7470 733a 2f2f  \#6523](https://
+00002440: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00002450: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00002460: 7375 6573 2f36 3532 3329 290a 2d20 4164  sues/6523)).- Ad
+00002470: 6420 616e 2060 6578 706f 7274 5f73 6967  d an `export_sig
+00002480: 6e69 6e67 5f6b 6579 6020 7363 7269 7074  ning_key` script
+00002490: 2074 6f20 6578 7472 6163 7420 7468 6520   to extract the 
+000024a0: 7075 626c 6963 2070 6172 7420 6f66 2073  public part of s
+000024b0: 6967 6e69 6e67 206b 6579 7320 7768 656e  igning keys when
+000024c0: 2072 6f74 6174 696e 6720 7468 656d 2e20   rotating them. 
+000024d0: 285b 5c23 3635 3436 5d28 6874 7470 733a  ([\#6546](https:
+000024e0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+000024f0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00002500: 6973 7375 6573 2f36 3534 3629 290a 2d20  issues/6546)).- 
+00002510: 4164 6420 6578 7065 7269 6d65 6e74 616c  Add experimental
+00002520: 2063 6f6e 6669 6720 6f70 7469 6f6e 2074   config option t
+00002530: 6f20 7370 6563 6966 7920 6d75 6c74 6970  o specify multip
+00002540: 6c65 2064 6174 6162 6173 6573 2e20 285b  le databases. ([
+00002550: 5c23 3635 3830 5d28 6874 7470 733a 2f2f  \#6580](https://
+00002560: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00002570: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00002580: 7375 6573 2f36 3538 3029 290a 2d20 5261  sues/6580)).- Ra
+00002590: 6973 6520 616e 2065 7272 6f72 2069 6620  ise an error if 
+000025a0: 736f 6d65 6f6e 6520 7472 6965 7320 746f  someone tries to
+000025b0: 2075 7365 2074 6865 2060 6c6f 675f 6669   use the `log_fi
+000025c0: 6c65 6020 636f 6e66 6967 206f 7074 696f  le` config optio
+000025d0: 6e2e 2028 5b5c 2336 3632 365d 2868 7474  n. ([\#6626](htt
+000025e0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+000025f0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00002600: 7365 2f69 7373 7565 732f 3636 3236 2929  se/issues/6626))
+00002610: 0a0a 0a42 7567 6669 7865 730a 2d2d 2d2d  ...Bugfixes.----
+00002620: 2d2d 2d2d 0a0a 2d20 5072 6576 656e 7420  ----..- Prevent 
+00002630: 7265 6461 6374 6564 2065 7665 6e74 7320  redacted events 
+00002640: 6672 6f6d 2062 6569 6e67 2072 6574 7572  from being retur
+00002650: 6e65 6420 6475 7269 6e67 206d 6573 7361  ned during messa
+00002660: 6765 2073 6561 7263 682e 2028 5b5c 2336  ge search. ([\#6
+00002670: 3337 375d 2868 7474 7073 3a2f 2f67 6974  377](https://git
+00002680: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00002690: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+000026a0: 732f 3633 3737 292c 205b 5c23 3635 3232  s/6377), [\#6522
+000026b0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+000026c0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+000026d0: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
+000026e0: 3532 3229 290a 2d20 5072 6576 656e 7420  522)).- Prevent 
+000026f0: 6572 726f 7220 6f6e 2074 7279 696e 6720  error on trying 
+00002700: 746f 2073 6561 7263 6820 6120 7570 6772  to search a upgr
+00002710: 6164 6564 2072 6f6f 6d20 7768 656e 2074  aded room when t
+00002720: 6865 2073 6572 7665 7220 6973 206e 6f74  he server is not
+00002730: 2069 6e20 7468 6520 7072 6564 6563 6573   in the predeces
+00002740: 736f 7220 726f 6f6d 2e20 285b 5c23 3633  sor room. ([\#63
+00002750: 3835 5d28 6874 7470 733a 2f2f 6769 7468  85](https://gith
+00002760: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00002770: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00002780: 2f36 3338 3529 290a 2d20 496d 7072 6f76  /6385)).- Improv
+00002790: 6520 7065 7266 6f72 6d61 6e63 6520 6f66  e performance of
+000027a0: 206c 6f6f 6b69 6e67 2075 7020 6372 6f73   looking up cros
+000027b0: 732d 7369 676e 696e 6720 6b65 7973 2e20  s-signing keys. 
+000027c0: 285b 5c23 3634 3836 5d28 6874 7470 733a  ([\#6486](https:
+000027d0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+000027e0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+000027f0: 6973 7375 6573 2f36 3438 3629 290a 2d20  issues/6486)).- 
+00002800: 4669 7820 7261 6365 2077 6869 6368 206f  Fix race which o
+00002810: 6363 6173 696f 6e61 6c6c 7920 6361 7573  ccasionally caus
+00002820: 6564 2064 656c 6574 6564 2064 6576 6963  ed deleted devic
+00002830: 6573 2074 6f20 7265 6170 7065 6172 2e20  es to reappear. 
+00002840: 285b 5c23 3635 3134 5d28 6874 7470 733a  ([\#6514](https:
+00002850: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00002860: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00002870: 6973 7375 6573 2f36 3531 3429 290a 2d20  issues/6514)).- 
+00002880: 4669 7820 6d69 7373 696e 6720 726f 7720  Fix missing row 
+00002890: 696e 2060 6465 7669 6365 5f6d 6178 5f73  in `device_max_s
+000028a0: 7472 6561 6d5f 6964 6020 7468 6174 2063  tream_id` that c
+000028b0: 6f75 6c64 2063 6175 7365 2075 6e61 626c  ould cause unabl
+000028c0: 6520 746f 2064 6563 7279 7074 2065 7272  e to decrypt err
+000028d0: 6f72 7320 6166 7465 7220 7365 7276 6572  ors after server
+000028e0: 2072 6573 7461 7274 2e20 285b 5c23 3635   restart. ([\#65
+000028f0: 3535 5d28 6874 7470 733a 2f2f 6769 7468  55](https://gith
+00002900: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00002910: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00002920: 2f36 3535 3529 290a 2d20 4669 7820 6120  /6555)).- Fix a 
+00002930: 6275 6720 7768 6963 6820 6d65 616e 7420  bug which meant 
+00002940: 7468 6174 2077 6520 6469 6420 6e6f 7420  that we did not 
+00002950: 7365 6e64 2073 7973 7465 6d64 206e 6f74  send systemd not
+00002960: 6966 6963 6174 696f 6e73 206f 6e20 7374  ifications on st
+00002970: 6172 7475 7020 6966 2061 636d 6520 7761  artup if acme wa
+00002980: 7320 656e 6162 6c65 642e 2028 5b5c 2336  s enabled. ([\#6
+00002990: 3537 315d 2868 7474 7073 3a2f 2f67 6974  571](https://git
+000029a0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+000029b0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+000029c0: 732f 3635 3731 2929 0a2d 2046 6978 2065  s/6571)).- Fix e
+000029d0: 7863 6570 7469 6f6e 2077 6865 6e20 6665  xception when fe
+000029e0: 7463 6869 6e67 2074 6865 2060 6d61 7472  tching the `matr
+000029f0: 6978 2e6f 7267 3a65 6432 3535 3139 3a61  ix.org:ed25519:a
+00002a00: 7574 6f60 206b 6579 2e20 285b 5c23 3636  uto` key. ([\#66
+00002a10: 3235 5d28 6874 7470 733a 2f2f 6769 7468  25](https://gith
+00002a20: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00002a30: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00002a40: 2f36 3632 3529 290a 2d20 4669 7820 6275  /6625)).- Fix bu
+00002a50: 6720 7768 6572 6520 6120 6d6f 6465 7261  g where a modera
+00002a60: 746f 7220 7570 6772 6164 6564 2061 2072  tor upgraded a r
+00002a70: 6f6f 6d20 616e 6420 6265 6361 6d65 2061  oom and became a
+00002a80: 6e20 6164 6d69 6e20 696e 2074 6865 206e  n admin in the n
+00002a90: 6577 2072 6f6f 6d2e 2028 5b5c 2336 3633  ew room. ([\#663
+00002aa0: 335d 2868 7474 7073 3a2f 2f67 6974 6875  3](https://githu
+00002ab0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00002ac0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00002ad0: 3636 3333 2929 0a2d 2046 6978 2061 6e20  6633)).- Fix an 
+00002ae0: 6572 726f 7220 7768 6963 6820 7761 7320  error which was 
+00002af0: 7468 726f 776e 2062 7920 7468 6520 6050  thrown by the `P
+00002b00: 7265 7365 6e63 6548 616e 646c 6572 6020  resenceHandler` 
+00002b10: 605f 6f6e 5f73 6875 7464 6f77 6e60 2068  `_on_shutdown` h
+00002b20: 616e 646c 6572 2e20 285b 5c23 3636 3430  andler. ([\#6640
+00002b30: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00002b40: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00002b50: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
+00002b60: 3634 3029 290a 2d20 4669 7820 6578 6365  640)).- Fix exce
+00002b70: 7074 696f 6e73 2069 6e20 7468 6520 7379  ptions in the sy
+00002b80: 6e63 6872 6f74 726f 6e20 776f 726b 6572  nchrotron worker
+00002b90: 206c 6f67 2077 6865 6e20 6576 656e 7473   log when events
+00002ba0: 2061 7265 2072 656a 6563 7465 642e 2028   are rejected. (
+00002bb0: 5b5c 2336 3634 355d 2868 7474 7073 3a2f  [\#6645](https:/
+00002bc0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+00002bd0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00002be0: 7373 7565 732f 3636 3435 2929 0a2d 2045  ssues/6645)).- E
+00002bf0: 6e73 7572 6520 7468 6174 2075 7067 7261  nsure that upgra
+00002c00: 6465 6420 726f 6f6d 7320 6172 6520 7265  ded rooms are re
+00002c10: 6d6f 7665 6420 6672 6f6d 2074 6865 2064  moved from the d
+00002c20: 6972 6563 746f 7279 2e20 285b 5c23 3636  irectory. ([\#66
+00002c30: 3438 5d28 6874 7470 733a 2f2f 6769 7468  48](https://gith
+00002c40: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00002c50: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00002c60: 2f36 3634 3829 290a 2d20 4669 7820 6120  /6648)).- Fix a 
+00002c70: 6275 6720 6361 7573 696e 6720 5379 6e61  bug causing Syna
+00002c80: 7073 6520 6e6f 7420 746f 2066 6574 6368  pse not to fetch
+00002c90: 206d 6973 7369 6e67 2065 7665 6e74 7320   missing events 
+00002ca0: 7768 656e 2069 7420 6265 6c69 6576 6573  when it believes
+00002cb0: 2069 7420 6861 7320 6576 6572 7920 6576   it has every ev
+00002cc0: 656e 7420 696e 2074 6865 2072 6f6f 6d2e  ent in the room.
+00002cd0: 2028 5b5c 2336 3635 325d 2868 7474 7073   ([\#6652](https
+00002ce0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00002cf0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00002d00: 2f69 7373 7565 732f 3636 3532 2929 0a0a  /issues/6652))..
+00002d10: 0a49 6d70 726f 7665 6420 446f 6375 6d65  .Improved Docume
+00002d20: 6e74 6174 696f 6e0a 2d2d 2d2d 2d2d 2d2d  ntation.--------
+00002d30: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 0a0a  --------------..
+00002d40: 2d20 446f 6375 6d65 6e74 2074 6865 2052  - Document the R
+00002d50: 6f6f 6d20 5368 7574 646f 776e 2041 646d  oom Shutdown Adm
+00002d60: 696e 2041 5049 2e20 285b 5c23 3635 3431  in API. ([\#6541
+00002d70: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00002d80: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00002d90: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
+00002da0: 3534 3129 290a 2d20 5265 776f 7264 2073  541)).- Reword s
+00002db0: 6563 7469 6f6e 7320 6f66 205b 646f 6373  ections of [docs
+00002dc0: 2f66 6564 6572 6174 652e 6d64 5d28 646f  /federate.md](do
+00002dd0: 6373 2f66 6564 6572 6174 652e 6d64 2920  cs/federate.md) 
+00002de0: 7468 6174 2065 7870 6c61 696e 6564 2064  that explained d
+00002df0: 656c 6567 6174 696f 6e20 6174 2074 696d  elegation at tim
+00002e00: 6520 6f66 2053 796e 6170 7365 2031 2e30  e of Synapse 1.0
+00002e10: 2074 7261 6e73 6974 696f 6e2e 2028 5b5c   transition. ([\
+00002e20: 2336 3630 315d 2868 7474 7073 3a2f 2f67  #6601](https://g
+00002e30: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00002e40: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00002e50: 7565 732f 3636 3031 2929 0a2d 2041 6464  ues/6601)).- Add
+00002e60: 6564 2074 6865 2073 6563 7469 6f6e 2027  ed the section '
+00002e70: 436f 6e66 6967 7572 6174 696f 6e27 2069  Configuration' i
+00002e80: 6e20 5b64 6f63 732f 7475 726e 2d68 6f77  n [docs/turn-how
+00002e90: 746f 2e6d 645d 2864 6f63 732f 7475 726e  to.md](docs/turn
+00002ea0: 2d68 6f77 746f 2e6d 6429 2e20 285b 5c23  -howto.md). ([\#
+00002eb0: 3636 3134 5d28 6874 7470 733a 2f2f 6769  6614](https://gi
+00002ec0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+00002ed0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+00002ee0: 6573 2f36 3631 3429 290a 0a0a 4465 7072  es/6614))...Depr
+00002ef0: 6563 6174 696f 6e73 2061 6e64 2052 656d  ecations and Rem
+00002f00: 6f76 616c 730a 2d2d 2d2d 2d2d 2d2d 2d2d  ovals.----------
+00002f10: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a  ---------------.
+00002f20: 0a2d 2052 656d 6f76 6520 7265 6475 6e64  .- Remove redund
+00002f30: 616e 7420 636f 6465 2066 726f 6d20 6576  ant code from ev
+00002f40: 656e 7420 6175 7468 6f72 6973 6174 696f  ent authorisatio
+00002f50: 6e20 696d 706c 656d 656e 7461 7469 6f6e  n implementation
+00002f60: 2e20 285b 5c23 3635 3032 5d28 6874 7470  . ([\#6502](http
+00002f70: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+00002f80: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+00002f90: 652f 6973 7375 6573 2f36 3530 3229 290a  e/issues/6502)).
+00002fa0: 2d20 5265 6d6f 7665 2075 6e75 7365 642c  - Remove unused,
+00002fb0: 2075 6e64 6f63 756d 656e 7465 6420 602f   undocumented `/
+00002fc0: 5f6d 6174 7269 782f 636f 6e74 656e 7460  _matrix/content`
+00002fd0: 2041 5049 2e20 285b 5c23 3636 3238 5d28   API. ([\#6628](
+00002fe0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00002ff0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00003000: 6e61 7073 652f 6973 7375 6573 2f36 3632  napse/issues/662
+00003010: 3829 290a 0a0a 496e 7465 726e 616c 2043  8))...Internal C
+00003020: 6861 6e67 6573 0a2d 2d2d 2d2d 2d2d 2d2d  hanges.---------
+00003030: 2d2d 2d2d 2d2d 2d0a 0a2d 2041 6464 202a  -------..- Add *
+00003040: 6578 7065 7269 6d65 6e74 616c 2a20 7375  experimental* su
+00003050: 7070 6f72 7420 666f 7220 6d75 6c74 6970  pport for multip
+00003060: 6c65 2070 6879 7369 6361 6c20 6461 7461  le physical data
+00003070: 6261 7365 7320 616e 6420 7370 6c69 7420  bases and split 
+00003080: 6f75 7420 7374 6174 6520 7374 6f72 6167  out state storag
+00003090: 6520 746f 2073 6570 6172 6174 6520 6461  e to separate da
+000030a0: 7461 2073 746f 7265 2e20 285b 5c23 3632  ta store. ([\#62
+000030b0: 3435 5d28 6874 7470 733a 2f2f 6769 7468  45](https://gith
+000030c0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+000030d0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+000030e0: 2f36 3234 3529 2c20 5b5c 2336 3531 305d  /6245), [\#6510]
+000030f0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00003100: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+00003110: 796e 6170 7365 2f69 7373 7565 732f 3635  ynapse/issues/65
+00003120: 3130 292c 205b 5c23 3635 3131 5d28 6874  10), [\#6511](ht
+00003130: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00003140: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+00003150: 7073 652f 6973 7375 6573 2f36 3531 3129  pse/issues/6511)
+00003160: 2c20 5b5c 2336 3531 335d 2868 7474 7073  , [\#6513](https
+00003170: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00003180: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00003190: 2f69 7373 7565 732f 3635 3133 292c 205b  /issues/6513), [
+000031a0: 5c23 3635 3634 5d28 6874 7470 733a 2f2f  \#6564](https://
+000031b0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+000031c0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+000031d0: 7375 6573 2f36 3536 3429 2c20 5b5c 2336  sues/6564), [\#6
+000031e0: 3536 355d 2868 7474 7073 3a2f 2f67 6974  565](https://git
+000031f0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00003200: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+00003210: 732f 3635 3635 2929 0a2d 2050 6f72 7420  s/6565)).- Port 
+00003220: 7365 6374 696f 6e73 206f 6620 636f 6465  sections of code
+00003230: 2062 6173 6520 746f 2061 7379 6e63 2f61   base to async/a
+00003240: 7761 6974 2e20 285b 5c23 3634 3936 5d28  wait. ([\#6496](
+00003250: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00003260: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00003270: 6e61 7073 652f 6973 7375 6573 2f36 3439  napse/issues/649
+00003280: 3629 2c20 5b5c 2336 3530 345d 2868 7474  6), [\#6504](htt
+00003290: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+000032a0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+000032b0: 7365 2f69 7373 7565 732f 3635 3034 292c  se/issues/6504),
+000032c0: 205b 5c23 3635 3035 5d28 6874 7470 733a   [\#6505](https:
+000032d0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+000032e0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+000032f0: 6973 7375 6573 2f36 3530 3529 2c20 5b5c  issues/6505), [\
+00003300: 2336 3531 375d 2868 7474 7073 3a2f 2f67  #6517](https://g
+00003310: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00003320: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00003330: 7565 732f 3635 3137 292c 205b 5c23 3635  ues/6517), [\#65
+00003340: 3539 5d28 6874 7470 733a 2f2f 6769 7468  59](https://gith
+00003350: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00003360: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00003370: 2f36 3535 3929 2c20 5b5c 2336 3634 375d  /6559), [\#6647]
+00003380: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00003390: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+000033a0: 796e 6170 7365 2f69 7373 7565 732f 3636  ynapse/issues/66
+000033b0: 3437 292c 205b 5c23 3636 3533 5d28 6874  47), [\#6653](ht
+000033c0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+000033d0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+000033e0: 7073 652f 6973 7375 6573 2f36 3635 3329  pse/issues/6653)
+000033f0: 290a 2d20 5265 6d6f 7665 2060 536e 6170  ).- Remove `Snap
+00003400: 7368 6f74 4361 6368 6560 2069 6e20 6661  shotCache` in fa
+00003410: 766f 7572 206f 6620 6052 6573 706f 6e73  vour of `Respons
+00003420: 6543 6163 6865 602e 2028 5b5c 2336 3530  eCache`. ([\#650
+00003430: 365d 2868 7474 7073 3a2f 2f67 6974 6875  6](https://githu
+00003440: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00003450: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00003460: 3635 3036 2929 0a2d 2053 696c 656e 6365  6506)).- Silence
+00003470: 206d 7970 7920 6572 726f 7273 2066 6f72   mypy errors for
+00003480: 2066 696c 6573 206f 7574 7369 6465 2074   files outside t
+00003490: 686f 7365 2073 7065 6369 6669 6564 2e20  hose specified. 
+000034a0: 285b 5c23 3635 3132 5d28 6874 7470 733a  ([\#6512](https:
+000034b0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+000034c0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+000034d0: 6973 7375 6573 2f36 3531 3229 290a 2d20  issues/6512)).- 
+000034e0: 436c 6561 6e20 7570 2073 6f6d 6520 6c6f  Clean up some lo
+000034f0: 6767 696e 6720 7768 656e 2068 616e 646c  gging when handl
+00003500: 696e 6720 696e 636f 6d69 6e67 2065 7665  ing incoming eve
+00003510: 6e74 7320 6f76 6572 2066 6564 6572 6174  nts over federat
+00003520: 696f 6e2e 2028 5b5c 2336 3531 355d 2868  ion. ([\#6515](h
+00003530: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00003540: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+00003550: 6170 7365 2f69 7373 7565 732f 3635 3135  apse/issues/6515
+00003560: 2929 0a2d 2054 6573 7420 6d6f 7265 2066  )).- Test more f
+00003570: 6f6c 6465 7273 2061 6761 696e 7374 206d  olders against m
+00003580: 7970 792e 2028 5b5c 2336 3533 345d 2868  ypy. ([\#6534](h
+00003590: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+000035a0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+000035b0: 6170 7365 2f69 7373 7565 732f 3635 3334  apse/issues/6534
+000035c0: 2929 0a2d 2055 7064 6174 6520 606d 7970  )).- Update `myp
+000035d0: 7960 2074 6f20 6e65 7720 7665 7273 696f  y` to new versio
+000035e0: 6e2e 2028 5b5c 2336 3533 375d 2868 7474  n. ([\#6537](htt
+000035f0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00003600: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00003610: 7365 2f69 7373 7565 732f 3635 3337 2929  se/issues/6537))
+00003620: 0a2d 2041 646a 7573 7420 7468 6520 7379  .- Adjust the sy
+00003630: 7465 7374 2062 6c61 636b 6c69 7374 2066  test blacklist f
+00003640: 6f72 2077 6f72 6b65 7220 6d6f 6465 2e20  or worker mode. 
+00003650: 285b 5c23 3635 3338 5d28 6874 7470 733a  ([\#6538](https:
+00003660: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00003670: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00003680: 6973 7375 6573 2f36 3533 3829 290a 2d20  issues/6538)).- 
+00003690: 5265 6d6f 7665 2075 6e75 7365 6420 6067  Remove unused `g
+000036a0: 6574 5f70 6167 696e 6174 696f 6e5f 726f  et_pagination_ro
+000036b0: 7773 6020 6d65 7468 6f64 7320 6672 6f6d  ws` methods from
+000036c0: 2060 4576 656e 7453 6f75 7263 6560 2063   `EventSource` c
+000036d0: 6c61 7373 6573 2e20 285b 5c23 3635 3537  lasses. ([\#6557
+000036e0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+000036f0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00003700: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
+00003710: 3535 3729 290a 2d20 436c 6561 6e20 7570  557)).- Clean up
+00003720: 206c 6f67 7320 6672 6f6d 2074 6865 2070   logs from the p
+00003730: 7573 6820 6e6f 7469 6669 6572 2061 7420  ush notifier at 
+00003740: 7374 6172 7475 702e 2028 5b5c 2336 3535  startup. ([\#655
+00003750: 385d 2868 7474 7073 3a2f 2f67 6974 6875  8](https://githu
+00003760: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00003770: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00003780: 3635 3538 2929 0a2d 2049 6d70 726f 7665  6558)).- Improve
+00003790: 2064 6961 676e 6f73 7469 6373 206f 6e20   diagnostics on 
+000037a0: 6461 7461 6261 7365 2075 7067 7261 6465  database upgrade
+000037b0: 2066 6169 6c75 7265 2e20 285b 5c23 3635   failure. ([\#65
+000037c0: 3730 5d28 6874 7470 733a 2f2f 6769 7468  70](https://gith
+000037d0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+000037e0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+000037f0: 2f36 3537 3029 290a 2d20 5265 6475 6365  /6570)).- Reduce
+00003800: 2074 6865 2072 6563 6f6e 6e65 6374 2074   the reconnect t
+00003810: 696d 6520 7768 656e 2077 6f72 6b65 7220  ime when worker 
+00003820: 7265 706c 6963 6174 696f 6e20 6661 696c  replication fail
+00003830: 732c 2074 6f20 6d61 6b65 2069 7420 6561  s, to make it ea
+00003840: 7369 6572 2074 6f20 6361 7463 6820 7570  sier to catch up
+00003850: 2e20 285b 5c23 3636 3137 5d28 6874 7470  . ([\#6617](http
+00003860: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+00003870: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+00003880: 652f 6973 7375 6573 2f36 3631 3729 290a  e/issues/6617)).
+00003890: 2d20 5369 6d70 6c69 6679 2068 7474 7020  - Simplify http 
+000038a0: 6861 6e64 6c69 6e67 2062 7920 7265 6d6f  handling by remo
+000038b0: 7669 6e67 2072 6564 756e 6461 6e74 2060  ving redundant `
+000038c0: 5379 6e61 7073 6552 6571 7565 7374 4661  SynapseRequestFa
+000038d0: 6374 6f72 7960 2e20 285b 5c23 3636 3139  ctory`. ([\#6619
+000038e0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+000038f0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00003900: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
+00003910: 3631 3929 290a 2d20 4164 6420 6120 776f  619)).- Add a wo
+00003920: 726b 6172 6f75 6e64 2066 6f72 2073 796e  rkaround for syn
+00003930: 6170 7365 2072 6169 7369 6e67 2065 7863  apse raising exc
+00003940: 6570 7469 6f6e 7320 7768 656e 2066 6574  eptions when fet
+00003950: 6368 696e 6720 7468 6520 6e6f 7461 7279  ching the notary
+00003960: 2773 206f 776e 206b 6579 2066 726f 6d20  's own key from 
+00003970: 7468 6520 6e6f 7461 7279 2e20 285b 5c23  the notary. ([\#
+00003980: 3636 3230 5d28 6874 7470 733a 2f2f 6769  6620](https://gi
+00003990: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+000039a0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+000039b0: 6573 2f36 3632 3029 290a 2d20 4175 746f  es/6620)).- Auto
+000039c0: 6d61 7465 2067 656e 6572 6174 696f 6e20  mate generation 
+000039d0: 6f66 2074 6865 2073 616d 706c 6520 6c6f  of the sample lo
+000039e0: 6720 636f 6e66 6967 2e20 285b 5c23 3636  g config. ([\#66
+000039f0: 3237 5d28 6874 7470 733a 2f2f 6769 7468  27](https://gith
+00003a00: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00003a10: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00003a20: 2f36 3632 3729 290a 2d20 5369 6d70 6c69  /6627)).- Simpli
+00003a30: 6679 2065 7665 6e74 2063 7265 6174 696f  fy event creatio
+00003a40: 6e20 636f 6465 2062 7920 7265 6d6f 7669  n code by removi
+00003a50: 6e67 2072 6564 756e 6461 6e74 2071 7565  ng redundant que
+00003a60: 7269 6573 206f 6e20 7468 6520 6065 7665  ries on the `eve
+00003a70: 6e74 5f72 6566 6572 656e 6365 5f68 6173  nt_reference_has
+00003a80: 6865 7360 2074 6162 6c65 2e20 285b 5c23  hes` table. ([\#
+00003a90: 3636 3239 5d28 6874 7470 733a 2f2f 6769  6629](https://gi
+00003aa0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+00003ab0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+00003ac0: 6573 2f36 3632 3929 290a 2d20 4669 7820  es/6629)).- Fix 
+00003ad0: 6572 726f 7273 2077 6865 6e20 6066 726f  errors when `fro
+00003ae0: 7a65 6e5f 6469 6374 7360 2061 7265 2065  zen_dicts` are e
+00003af0: 6e61 626c 6564 2e20 285b 5c23 3636 3432  nabled. ([\#6642
+00003b00: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00003b10: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00003b20: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
+00003b30: 3634 3229 290a 0a0a 5379 6e61 7073 6520  642))...Synapse 
+00003b40: 312e 372e 3320 2832 3031 392d 3132 2d33  1.7.3 (2019-12-3
+00003b50: 3129 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  1).=============
+00003b60: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a54  =============..T
+00003b70: 6869 7320 7265 6c65 6173 6520 6669 7865  his release fixe
+00003b80: 7320 6120 6c6f 6e67 2d73 7461 6e64 696e  s a long-standin
+00003b90: 6720 6275 6720 696e 2074 6865 2073 7461  g bug in the sta
+00003ba0: 7465 2072 6573 6f6c 7574 696f 6e20 616c  te resolution al
+00003bb0: 676f 7269 7468 6d2e 0a0a 4275 6766 6978  gorithm...Bugfix
+00003bc0: 6573 0a2d 2d2d 2d2d 2d2d 2d0a 0a2d 2046  es.--------..- F
+00003bd0: 6978 2065 7863 6570 7469 6f6e 7320 6361  ix exceptions ca
+00003be0: 7573 6564 2062 7920 7374 6174 6520 7265  used by state re
+00003bf0: 736f 6c75 7469 6f6e 2063 686f 6b69 6e67  solution choking
+00003c00: 206f 6e20 6d61 6c66 6f72 6d65 6420 6576   on malformed ev
+00003c10: 656e 7473 2e20 285b 5c23 3636 3038 5d28  ents. ([\#6608](
+00003c20: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00003c30: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00003c40: 6e61 7073 652f 6973 7375 6573 2f36 3630  napse/issues/660
+00003c50: 3829 290a 0a0a 5379 6e61 7073 6520 312e  8))...Synapse 1.
+00003c60: 372e 3220 2832 3031 392d 3132 2d32 3029  7.2 (2019-12-20)
+00003c70: 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  .===============
+00003c80: 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a54 6869  ===========..Thi
+00003c90: 7320 7265 6c65 6173 6520 6669 7865 7320  s release fixes 
+00003ca0: 736f 6d65 2072 6567 7265 7373 696f 6e73  some regressions
+00003cb0: 2069 6e74 726f 6475 6365 6420 696e 2053   introduced in S
+00003cc0: 796e 6170 7365 2031 2e37 2e30 2061 6e64  ynapse 1.7.0 and
+00003cd0: 2031 2e37 2e31 2e0a 0a42 7567 6669 7865   1.7.1...Bugfixe
+00003ce0: 730a 2d2d 2d2d 2d2d 2d2d 0a0a 2d20 4669  s.--------..- Fi
+00003cf0: 7820 6120 7265 6772 6573 7369 6f6e 2069  x a regression i
+00003d00: 6e74 726f 6475 6365 6420 696e 2053 796e  ntroduced in Syn
+00003d10: 6170 7365 2031 2e37 2e31 2077 6869 6368  apse 1.7.1 which
+00003d20: 2063 6175 7365 6420 6572 726f 7273 2077   caused errors w
+00003d30: 6865 6e20 6174 7465 6d70 7469 6e67 2074  hen attempting t
+00003d40: 6f20 6261 636b 6669 6c6c 2072 6f6f 6d73  o backfill rooms
+00003d50: 206f 7665 7220 6665 6465 7261 7469 6f6e   over federation
+00003d60: 2e20 285b 5c23 3635 3736 5d28 6874 7470  . ([\#6576](http
+00003d70: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+00003d80: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+00003d90: 652f 6973 7375 6573 2f36 3537 3629 290a  e/issues/6576)).
+00003da0: 2d20 4669 7820 6120 6275 6720 696e 7472  - Fix a bug intr
+00003db0: 6f64 7563 6564 2069 6e20 5379 6e61 7073  oduced in Synaps
+00003dc0: 6520 312e 372e 3020 7768 6963 6820 6361  e 1.7.0 which ca
+00003dd0: 7573 6564 2061 6e20 6572 726f 7220 6f6e  used an error on
+00003de0: 2073 7461 7274 7570 2077 6865 6e20 7570   startup when up
+00003df0: 6772 6164 696e 6720 6672 6f6d 2076 6572  grading from ver
+00003e00: 7369 6f6e 7320 6265 666f 7265 2031 2e33  sions before 1.3
+00003e10: 2e30 2e20 285b 5c23 3635 3738 5d28 6874  .0. ([\#6578](ht
+00003e20: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00003e30: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+00003e40: 7073 652f 6973 7375 6573 2f36 3537 3829  pse/issues/6578)
+00003e50: 290a 0a0a 5379 6e61 7073 6520 312e 372e  )...Synapse 1.7.
+00003e60: 3120 2832 3031 392d 3132 2d31 3829 0a3d  1 (2019-12-18).=
+00003e70: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00003e80: 3d3d 3d3d 3d3d 3d3d 3d0a 0a54 6869 7320  =========..This 
+00003e90: 7265 6c65 6173 6520 696e 636c 7564 6573  release includes
+00003ea0: 2073 6576 6572 616c 2073 6563 7572 6974   several securit
+00003eb0: 7920 6669 7865 7320 6173 2077 656c 6c20  y fixes as well 
+00003ec0: 6173 2061 2066 6978 2074 6f20 6120 6275  as a fix to a bu
+00003ed0: 6720 6578 706f 7365 6420 6279 2074 6865  g exposed by the
+00003ee0: 2073 6563 7572 6974 7920 6669 7865 732e   security fixes.
+00003ef0: 2041 646d 696e 6973 7472 6174 6f72 7320   Administrators 
+00003f00: 6172 6520 656e 636f 7572 6167 6564 2074  are encouraged t
+00003f10: 6f20 7570 6772 6164 6520 6173 2073 6f6f  o upgrade as soo
+00003f20: 6e20 6173 2070 6f73 7369 626c 652e 0a0a  n as possible...
+00003f30: 5365 6375 7269 7479 2075 7064 6174 6573  Security updates
+00003f40: 0a2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  .---------------
+00003f50: 2d0a 0a2d 2046 6978 2061 2062 7567 2077  -..- Fix a bug w
+00003f60: 6869 6368 2063 6f75 6c64 2063 6175 7365  hich could cause
+00003f70: 2072 6f6f 6d20 6576 656e 7473 2074 6f20   room events to 
+00003f80: 6265 2069 6e63 6f72 7265 6374 6c79 2061  be incorrectly a
+00003f90: 7574 686f 7269 7a65 6420 7573 696e 6720  uthorized using 
+00003fa0: 6576 656e 7473 2066 726f 6d20 6120 6469  events from a di
+00003fb0: 6666 6572 656e 7420 726f 6f6d 2e20 285b  fferent room. ([
+00003fc0: 5c23 3635 3031 5d28 6874 7470 733a 2f2f  \#6501](https://
+00003fd0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00003fe0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00003ff0: 7375 6573 2f36 3530 3129 2c20 5b5c 2336  sues/6501), [\#6
+00004000: 3530 335d 2868 7474 7073 3a2f 2f67 6974  503](https://git
+00004010: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00004020: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+00004030: 732f 3635 3033 292c 205b 5c23 3635 3231  s/6503), [\#6521
+00004040: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00004050: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00004060: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
+00004070: 3532 3129 2c20 5b5c 2336 3532 345d 2868  521), [\#6524](h
+00004080: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00004090: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+000040a0: 6170 7365 2f69 7373 7565 732f 3635 3234  apse/issues/6524
+000040b0: 292c 205b 5c23 3635 3330 5d28 6874 7470  ), [\#6530](http
+000040c0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+000040d0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+000040e0: 652f 6973 7375 6573 2f36 3533 3029 2c20  e/issues/6530), 
+000040f0: 5b5c 2336 3533 315d 2868 7474 7073 3a2f  [\#6531](https:/
+00004100: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+00004110: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00004120: 7373 7565 732f 3635 3331 2929 0a2d 2046  ssues/6531)).- F
+00004130: 6978 2061 2062 7567 2063 6175 7369 6e67  ix a bug causing
+00004140: 2072 6573 706f 6e73 6573 2074 6f20 7468   responses to th
+00004150: 6520 602f 636f 6e74 6578 7460 2063 6c69  e `/context` cli
+00004160: 656e 7420 656e 6470 6f69 6e74 2074 6f20  ent endpoint to 
+00004170: 6e6f 7420 7573 6520 7468 6520 7072 756e  not use the prun
+00004180: 6564 2076 6572 7369 6f6e 206f 6620 7468  ed version of th
+00004190: 6520 6576 656e 742e 2028 5b5c 2336 3535  e event. ([\#655
+000041a0: 335d 2868 7474 7073 3a2f 2f67 6974 6875  3](https://githu
+000041b0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+000041c0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+000041d0: 3635 3533 2929 0a2d 2046 6978 2061 2063  6553)).- Fix a c
+000041e0: 6175 7365 206f 6620 7374 6174 6520 7265  ause of state re
+000041f0: 7365 7473 2069 6e20 726f 6f6d 2076 6572  sets in room ver
+00004200: 7369 6f6e 7320 3220 6f6e 7761 7264 732e  sions 2 onwards.
+00004210: 2028 5b5c 2336 3535 365d 2868 7474 7073   ([\#6556](https
+00004220: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00004230: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00004240: 2f69 7373 7565 732f 3635 3536 292c 205b  /issues/6556), [
+00004250: 5c23 3635 3630 5d28 6874 7470 733a 2f2f  \#6560](https://
+00004260: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00004270: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00004280: 7375 6573 2f36 3536 3029 290a 0a42 7567  sues/6560))..Bug
+00004290: 6669 7865 730a 2d2d 2d2d 2d2d 2d2d 0a0a  fixes.--------..
+000042a0: 2d20 4669 7820 6120 6275 6720 7768 6963  - Fix a bug whic
+000042b0: 6820 636f 756c 6420 6361 7573 6520 7468  h could cause th
+000042c0: 6520 6665 6465 7261 7469 6f6e 2073 6572  e federation ser
+000042d0: 7665 7220 746f 2069 6e63 6f72 7265 6374  ver to incorrect
+000042e0: 6c79 2072 6574 7572 6e20 6572 726f 7273  ly return errors
+000042f0: 2077 6865 6e20 6861 6e64 6c69 6e67 2063   when handling c
+00004300: 6572 7461 696e 206f 6273 6375 7265 2065  ertain obscure e
+00004310: 7665 6e74 2067 7261 7068 732e 2028 5b5c  vent graphs. ([\
+00004320: 2336 3532 365d 2868 7474 7073 3a2f 2f67  #6526](https://g
+00004330: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00004340: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00004350: 7565 732f 3635 3236 292c 205b 5c23 3635  ues/6526), [\#65
+00004360: 3237 5d28 6874 7470 733a 2f2f 6769 7468  27](https://gith
+00004370: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00004380: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00004390: 2f36 3532 3729 290a 0a53 796e 6170 7365  /6527))..Synapse
+000043a0: 2031 2e37 2e30 2028 3230 3139 2d31 322d   1.7.0 (2019-12-
+000043b0: 3133 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  13).============
+000043c0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a  ==============..
+000043d0: 5468 6973 2072 656c 6561 7365 2063 6861  This release cha
+000043e0: 6e67 6573 2074 6865 2064 6566 6175 6c74  nges the default
+000043f0: 2073 6574 7469 6e67 7320 736f 2074 6861   settings so tha
+00004400: 7420 6f6e 6c79 206c 6f63 616c 2061 7574  t only local aut
+00004410: 6865 6e74 6963 6174 6564 2075 7365 7273  henticated users
+00004420: 2063 616e 2071 7565 7279 2074 6865 2073   can query the s
+00004430: 6572 7665 7227 7320 726f 6f6d 2064 6972  erver's room dir
+00004440: 6563 746f 7279 2e20 5365 6520 7468 6520  ectory. See the 
+00004450: 5b75 7067 7261 6465 206e 6f74 6573 5d28  [upgrade notes](
+00004460: 5550 4752 4144 452e 7273 7423 7570 6772  UPGRADE.rst#upgr
+00004470: 6164 696e 672d 746f 2d76 3137 3029 2066  ading-to-v170) f
+00004480: 6f72 2064 6574 6169 6c73 2e0a 0a53 7570  or details...Sup
+00004490: 706f 7274 2066 6f72 2053 514c 6974 6520  port for SQLite 
+000044a0: 7665 7273 696f 6e73 2062 6566 6f72 6520  versions before 
+000044b0: 332e 3131 2069 7320 6e6f 7720 6465 7072  3.11 is now depr
+000044c0: 6563 6174 6564 2e20 4120 6675 7475 7265  ecated. A future
+000044d0: 2072 656c 6561 7365 2077 696c 6c20 7265   release will re
+000044e0: 6675 7365 2074 6f20 7374 6172 7420 6966  fuse to start if
+000044f0: 2075 7365 6420 7769 7468 2061 6e20 5351   used with an SQ
+00004500: 4c69 7465 2076 6572 7369 6f6e 2062 6566  Lite version bef
+00004510: 6f72 6520 332e 3131 2e0a 0a41 646d 696e  ore 3.11...Admin
+00004520: 6973 7472 6174 6f72 7320 6172 6520 7265  istrators are re
+00004530: 6d69 6e64 6564 2074 6861 7420 5351 4c69  minded that SQLi
+00004540: 7465 2073 686f 756c 6420 6e6f 7420 6265  te should not be
+00004550: 2075 7365 6420 666f 7220 7072 6f64 7563   used for produc
+00004560: 7469 6f6e 2069 6e73 7461 6e63 6573 2e20  tion instances. 
+00004570: 496e 7374 7275 6374 696f 6e73 2066 6f72  Instructions for
+00004580: 206d 6967 7261 7469 6e67 2074 6f20 506f   migrating to Po
+00004590: 7374 6772 6573 2061 7265 2061 7661 696c  stgres are avail
+000045a0: 6162 6c65 205b 6865 7265 5d28 646f 6373  able [here](docs
+000045b0: 2f70 6f73 7467 7265 732e 6d64 292e 2041  /postgres.md). A
+000045c0: 2066 7574 7572 6520 7265 6c65 6173 6520   future release 
+000045d0: 6f66 2073 796e 6170 7365 2077 696c 6c2c  of synapse will,
+000045e0: 2062 7920 6465 6661 756c 742c 2064 6973   by default, dis
+000045f0: 6162 6c65 2066 6564 6572 6174 696f 6e20  able federation 
+00004600: 666f 7220 7365 7276 6572 7320 7573 696e  for servers usin
+00004610: 6720 5351 4c69 7465 2e0a 0a4e 6f20 7369  g SQLite...No si
+00004620: 676e 6966 6963 616e 7420 6368 616e 6765  gnificant change
+00004630: 7320 7369 6e63 6520 312e 372e 3072 6332  s since 1.7.0rc2
+00004640: 2e0a 0a0a 5379 6e61 7073 6520 312e 372e  ....Synapse 1.7.
+00004650: 3072 6332 2028 3230 3139 2d31 322d 3131  0rc2 (2019-12-11
+00004660: 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ).==============
+00004670: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a  ===============.
+00004680: 0a42 7567 6669 7865 730a 2d2d 2d2d 2d2d  .Bugfixes.------
+00004690: 2d2d 0a0a 2d20 4669 7820 696e 636f 7272  --..- Fix incorr
+000046a0: 6563 7420 6572 726f 7220 6d65 7373 6167  ect error messag
+000046b0: 6520 666f 7220 696e 7661 6c69 6420 7265  e for invalid re
+000046c0: 7175 6573 7473 2077 6865 6e20 7365 7474  quests when sett
+000046d0: 696e 6720 7573 6572 2773 2061 7661 7461  ing user's avata
+000046e0: 7220 5552 4c2e 2028 5b5c 2336 3439 375d  r URL. ([\#6497]
+000046f0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00004700: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+00004710: 796e 6170 7365 2f69 7373 7565 732f 3634  ynapse/issues/64
+00004720: 3937 2929 0a2d 2046 6978 2073 7570 706f  97)).- Fix suppo
+00004730: 7274 2066 6f72 2053 514c 6974 6520 332e  rt for SQLite 3.
+00004740: 372e 2028 5b5c 2336 3439 395d 2868 7474  7. ([\#6499](htt
+00004750: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00004760: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00004770: 7365 2f69 7373 7565 732f 3634 3939 2929  se/issues/6499))
+00004780: 0a2d 2046 6978 2072 6567 7265 7373 696f  .- Fix regressio
+00004790: 6e20 7768 6572 6520 7365 6e64 696e 6720  n where sending 
+000047a0: 656d 6169 6c20 7075 7368 2077 6f75 6c64  email push would
+000047b0: 206e 6f74 2077 6f72 6b20 7768 656e 2075   not work when u
+000047c0: 7369 6e67 2061 2070 7573 6865 7220 776f  sing a pusher wo
+000047d0: 726b 6572 2e20 285b 5c23 3635 3037 5d28  rker. ([\#6507](
+000047e0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+000047f0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00004800: 6e61 7073 652f 6973 7375 6573 2f36 3530  napse/issues/650
+00004810: 3729 2c20 5b5c 2336 3530 395d 2868 7474  7), [\#6509](htt
+00004820: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00004830: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00004840: 7365 2f69 7373 7565 732f 3635 3039 2929  se/issues/6509))
+00004850: 0a0a 0a53 796e 6170 7365 2031 2e37 2e30  ...Synapse 1.7.0
+00004860: 7263 3120 2832 3031 392d 3132 2d30 3929  rc1 (2019-12-09)
+00004870: 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  .===============
+00004880: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a  ==============..
+00004890: 4665 6174 7572 6573 0a2d 2d2d 2d2d 2d2d  Features.-------
+000048a0: 2d0a 0a2d 2049 6d70 6c65 6d65 6e74 2070  -..- Implement p
+000048b0: 6572 2d72 6f6f 6d20 6d65 7373 6167 6520  er-room message 
+000048c0: 7265 7465 6e74 696f 6e20 706f 6c69 6369  retention polici
+000048d0: 6573 2e20 285b 5c23 3538 3135 5d28 6874  es. ([\#5815](ht
+000048e0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+000048f0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+00004900: 7073 652f 6973 7375 6573 2f35 3831 3529  pse/issues/5815)
+00004910: 2c20 5b5c 2336 3433 365d 2868 7474 7073  , [\#6436](https
+00004920: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00004930: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00004940: 2f69 7373 7565 732f 3634 3336 2929 0a2d  /issues/6436)).-
+00004950: 2041 6464 2065 7461 6720 616e 6420 636f   Add etag and co
+00004960: 756e 7420 6669 656c 6473 2074 6f20 6b65  unt fields to ke
+00004970: 7920 6261 636b 7570 2065 6e64 706f 696e  y backup endpoin
+00004980: 7473 2074 6f20 6865 6c70 2063 6c69 656e  ts to help clien
+00004990: 7473 2067 7565 7373 2069 6620 7468 6572  ts guess if ther
+000049a0: 6520 6172 6520 6e65 7720 6b65 7973 2e20  e are new keys. 
+000049b0: 285b 5c23 3538 3538 5d28 6874 7470 733a  ([\#5858](https:
+000049c0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+000049d0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+000049e0: 6973 7375 6573 2f35 3835 3829 290a 2d20  issues/5858)).- 
+000049f0: 4164 6420 602f 6164 6d69 6e2f 7632 2f75  Add `/admin/v2/u
+00004a00: 7365 7273 6020 656e 6470 6f69 6e74 2077  sers` endpoint w
+00004a10: 6974 6820 7061 6769 6e61 7469 6f6e 2e20  ith pagination. 
+00004a20: 436f 6e74 7269 6275 7465 6420 6279 2041  Contributed by A
+00004a30: 7765 736f 6d65 2054 6563 686e 6f6c 6f67  wesome Technolog
+00004a40: 6965 7320 496e 6e6f 7661 7469 6f6e 736c  ies Innovationsl
+00004a50: 6162 6f72 2047 6d62 482e 2028 5b5c 2335  abor GmbH. ([\#5
+00004a60: 3932 355d 2868 7474 7073 3a2f 2f67 6974  925](https://git
+00004a70: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00004a80: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+00004a90: 732f 3539 3235 2929 0a2d 2052 6571 7569  s/5925)).- Requi
+00004aa0: 7265 2055 7365 722d 496e 7465 7261 6374  re User-Interact
+00004ab0: 6976 6520 4175 7468 656e 7469 6361 7469  ive Authenticati
+00004ac0: 6f6e 2066 6f72 2060 2f61 6363 6f75 6e74  on for `/account
+00004ad0: 2f33 7069 642f 6164 6460 2c20 6d65 616e  /3pid/add`, mean
+00004ae0: 696e 6720 7468 6520 7573 6572 2773 2070  ing the user's p
+00004af0: 6173 7377 6f72 6420 7769 6c6c 2062 6520  assword will be 
+00004b00: 7265 7175 6972 6564 2074 6f20 6164 6420  required to add 
+00004b10: 6120 7468 6972 642d 7061 7274 7920 4944  a third-party ID
+00004b20: 2074 6f20 7468 6569 7220 6163 636f 756e   to their accoun
+00004b30: 742e 2028 5b5c 2336 3131 395d 2868 7474  t. ([\#6119](htt
+00004b40: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00004b50: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00004b60: 7365 2f69 7373 7565 732f 3631 3139 2929  se/issues/6119))
+00004b70: 0a2d 2049 6d70 6c65 6d65 6e74 2074 6865  .- Implement the
+00004b80: 2060 2f5f 6d61 7472 6978 2f66 6564 6572   `/_matrix/feder
+00004b90: 6174 696f 6e2f 756e 7374 6162 6c65 2f6e  ation/unstable/n
+00004ba0: 6574 2e61 746c 6561 7374 666f 726e 6f77  et.atleastfornow
+00004bb0: 2f73 7461 7465 2f3c 636f 6e74 6578 743e  /state/<context>
+00004bc0: 6020 4150 4920 6173 2064 7261 6674 6564  ` API as drafted
+00004bd0: 2069 6e20 4d53 4332 3331 342e 2028 5b5c   in MSC2314. ([\
+00004be0: 2336 3137 365d 2868 7474 7073 3a2f 2f67  #6176](https://g
+00004bf0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00004c00: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00004c10: 7565 732f 3631 3736 2929 0a2d 2043 6f6e  ues/6176)).- Con
+00004c20: 6669 6775 7265 2070 7269 7661 6379 2d70  figure privacy-p
+00004c30: 7265 7365 7276 696e 6720 7365 7474 696e  reserving settin
+00004c40: 6773 2062 7920 6465 6661 756c 7420 666f  gs by default fo
+00004c50: 7220 7468 6520 726f 6f6d 2064 6972 6563  r the room direc
+00004c60: 746f 7279 2e20 285b 5c23 3633 3535 5d28  tory. ([\#6355](
+00004c70: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00004c80: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00004c90: 6e61 7073 652f 6973 7375 6573 2f36 3335  napse/issues/635
+00004ca0: 3529 290a 2d20 4164 6420 6570 6865 6d65  5)).- Add epheme
+00004cb0: 7261 6c20 6d65 7373 6167 6573 2073 7570  ral messages sup
+00004cc0: 706f 7274 2062 7920 7061 7274 6961 6c6c  port by partiall
+00004cd0: 7920 696d 706c 656d 656e 7469 6e67 205b  y implementing [
+00004ce0: 4d53 4332 3232 385d 2868 7474 7073 3a2f  MSC2228](https:/
+00004cf0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+00004d00: 6978 2d6f 7267 2f6d 6174 7269 782d 646f  ix-org/matrix-do
+00004d10: 632f 7075 6c6c 2f32 3232 3829 2e20 285b  c/pull/2228). ([
+00004d20: 5c23 3634 3039 5d28 6874 7470 733a 2f2f  \#6409](https://
+00004d30: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00004d40: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00004d50: 7375 6573 2f36 3430 3929 290a 2d20 4164  sues/6409)).- Ad
+00004d60: 6420 7375 7070 6f72 7420 666f 7220 5b4d  d support for [M
+00004d70: 5343 2032 3336 375d 2868 7474 7073 3a2f  SC 2367](https:/
+00004d80: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+00004d90: 6978 2d6f 7267 2f6d 6174 7269 782d 646f  ix-org/matrix-do
+00004da0: 632f 7075 6c6c 2f32 3336 3729 2c20 7768  c/pull/2367), wh
+00004db0: 6963 6820 616c 6c6f 7773 2073 7065 6369  ich allows speci
+00004dc0: 6679 696e 6720 6120 7265 6173 6f6e 206f  fying a reason o
+00004dd0: 6e20 616c 6c20 6d65 6d62 6572 7368 6970  n all membership
+00004de0: 2065 7665 6e74 732e 2028 5b5c 2336 3433   events. ([\#643
+00004df0: 345d 2868 7474 7073 3a2f 2f67 6974 6875  4](https://githu
+00004e00: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00004e10: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00004e20: 3634 3334 2929 0a0a 0a42 7567 6669 7865  6434))...Bugfixe
+00004e30: 730a 2d2d 2d2d 2d2d 2d2d 0a0a 2d20 5472  s.--------..- Tr
+00004e40: 616e 7366 6572 206e 6f6e 2d73 7461 6e64  ansfer non-stand
+00004e50: 6172 6420 706f 7765 7220 6c65 7665 6c73  ard power levels
+00004e60: 206f 6e20 726f 6f6d 2075 7067 7261 6465   on room upgrade
+00004e70: 2e20 285b 5c23 3632 3337 5d28 6874 7470  . ([\#6237](http
+00004e80: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+00004e90: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+00004ea0: 652f 6973 7375 6573 2f36 3233 3729 290a  e/issues/6237)).
+00004eb0: 2d20 4669 7820 6572 726f 7220 6672 6f6d  - Fix error from
+00004ec0: 2074 6865 2050 696c 6c6f 7720 6c69 6272   the Pillow libr
+00004ed0: 6172 7920 7768 656e 2075 706c 6f61 6469  ary when uploadi
+00004ee0: 6e67 2052 4742 4120 696d 6167 6573 2e20  ng RGBA images. 
+00004ef0: 285b 5c23 3632 3431 5d28 6874 7470 733a  ([\#6241](https:
+00004f00: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00004f10: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00004f20: 6973 7375 6573 2f36 3234 3129 290a 2d20  issues/6241)).- 
+00004f30: 436f 7272 6563 746c 7920 6170 706c 7920  Correctly apply 
+00004f40: 7468 6520 6576 656e 7420 6669 6c74 6572  the event filter
+00004f50: 2074 6f20 7468 6520 6073 7461 7465 602c   to the `state`,
+00004f60: 2060 6576 656e 7473 5f62 6566 6f72 6560   `events_before`
+00004f70: 2061 6e64 2060 6576 656e 7473 5f61 6674   and `events_aft
+00004f80: 6572 6020 6669 656c 6473 2069 6e20 7468  er` fields in th
+00004f90: 6520 7265 7370 6f6e 7365 2074 6f20 602f  e response to `/
+00004fa0: 636f 6e74 6578 7460 2072 6571 7565 7374  context` request
+00004fb0: 732e 2028 5b5c 2336 3332 395d 2868 7474  s. ([\#6329](htt
+00004fc0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00004fd0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00004fe0: 7365 2f69 7373 7565 732f 3633 3239 2929  se/issues/6329))
+00004ff0: 0a2d 2046 6978 2063 6163 6869 6e67 2064  .- Fix caching d
+00005000: 6576 6963 6573 2066 6f72 2072 656d 6f74  evices for remot
+00005010: 6520 7573 6572 7320 7768 656e 2075 7369  e users when usi
+00005020: 6e67 2077 6f72 6b65 7273 2c20 736f 2074  ng workers, so t
+00005030: 6861 7420 7765 2064 6f6e 2774 2061 7474  hat we don't att
+00005040: 656d 7074 2074 6f20 7265 6665 7463 6820  empt to refetch 
+00005050: 2861 6e64 2070 6f74 656e 7469 616c 6c79  (and potentially
+00005060: 2066 6169 6c29 2065 6163 6820 7469 6d65   fail) each time
+00005070: 2061 2075 7365 7220 7265 7175 6573 7473   a user requests
+00005080: 2064 6576 6963 6573 2e20 285b 5c23 3633   devices. ([\#63
+00005090: 3332 5d28 6874 7470 733a 2f2f 6769 7468  32](https://gith
+000050a0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+000050b0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+000050c0: 2f36 3333 3229 290a 2d20 5072 6576 656e  /6332)).- Preven
+000050d0: 7420 6163 636f 756e 7420 6461 7461 2073  t account data s
+000050e0: 796e 6373 2067 6574 7469 6e67 206c 6f73  yncs getting los
+000050f0: 7420 6163 726f 7373 2054 4350 2072 6570  t across TCP rep
+00005100: 6c69 6361 7469 6f6e 2e20 285b 5c23 3633  lication. ([\#63
+00005110: 3333 5d28 6874 7470 733a 2f2f 6769 7468  33](https://gith
+00005120: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00005130: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00005140: 2f36 3333 3329 290a 2d20 4669 7820 6275  /6333)).- Fix bu
+00005150: 673a 2054 7970 6545 7272 6f72 2069 6e20  g: TypeError in 
+00005160: 6072 6567 6973 7465 725f 7573 6572 2829  `register_user()
+00005170: 6020 7768 696c 6520 7573 696e 6720 4c44  ` while using LD
+00005180: 4150 2061 7574 6820 6d6f 6475 6c65 2e20  AP auth module. 
+00005190: 285b 5c23 3634 3036 5d28 6874 7470 733a  ([\#6406](https:
+000051a0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+000051b0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+000051c0: 6973 7375 6573 2f36 3430 3629 290a 2d20  issues/6406)).- 
+000051d0: 4669 7820 616e 2069 6e74 6572 6d69 7474  Fix an intermitt
+000051e0: 656e 7420 6578 6365 7074 696f 6e20 7768  ent exception wh
+000051f0: 656e 2068 616e 646c 696e 6720 7265 6164  en handling read
+00005200: 2d72 6563 6569 7074 732e 2028 5b5c 2336  -receipts. ([\#6
+00005210: 3430 385d 2868 7474 7073 3a2f 2f67 6974  408](https://git
+00005220: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00005230: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+00005240: 732f 3634 3038 2929 0a2d 2046 6978 2062  s/6408)).- Fix b
+00005250: 726f 6b65 6e20 6775 6573 7420 7265 6769  roken guest regi
+00005260: 7374 7261 7469 6f6e 2077 6865 6e20 7468  stration when th
+00005270: 6572 6520 6172 6520 6578 6973 7469 6e67  ere are existing
+00005280: 2062 6c6f 636b 7320 6f66 206e 756d 6572   blocks of numer
+00005290: 6963 2075 7365 7220 4944 732e 2028 5b5c  ic user IDs. ([\
+000052a0: 2336 3432 305d 2868 7474 7073 3a2f 2f67  #6420](https://g
+000052b0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+000052c0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+000052d0: 7565 732f 3634 3230 2929 0a2d 2046 6978  ues/6420)).- Fix
+000052e0: 2073 7461 7274 7570 2065 7272 6f72 2077   startup error w
+000052f0: 6865 6e20 6874 7470 2070 726f 7879 2069  hen http proxy i
+00005300: 7320 6465 6669 6e65 642e 2028 5b5c 2336  s defined. ([\#6
+00005310: 3432 315d 2868 7474 7073 3a2f 2f67 6974  421](https://git
+00005320: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00005330: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+00005340: 732f 3634 3231 2929 0a2d 2046 6978 2065  s/6421)).- Fix e
+00005350: 7272 6f72 2077 6865 6e20 7573 696e 6720  rror when using 
+00005360: 7379 6e61 7073 655f 706f 7274 5f64 6220  synapse_port_db 
+00005370: 6f6e 2061 2076 616e 696c 6c61 2073 796e  on a vanilla syn
+00005380: 6170 7365 2064 622e 2028 5b5c 2336 3434  apse db. ([\#644
+00005390: 395d 2868 7474 7073 3a2f 2f67 6974 6875  9](https://githu
+000053a0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+000053b0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+000053c0: 3634 3439 2929 0a2d 2046 6978 2075 706c  6449)).- Fix upl
+000053d0: 6f61 6469 6e67 206d 756c 7469 706c 6520  oading multiple 
+000053e0: 6372 6f73 7320 7369 676e 696e 6720 7369  cross signing si
+000053f0: 676e 6174 7572 6573 2066 6f72 2074 6865  gnatures for the
+00005400: 2073 616d 6520 7573 6572 2e20 285b 5c23   same user. ([\#
+00005410: 3634 3531 5d28 6874 7470 733a 2f2f 6769  6451](https://gi
+00005420: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+00005430: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+00005440: 6573 2f36 3435 3129 290a 2d20 4669 7820  es/6451)).- Fix 
+00005450: 6275 6720 7768 6963 6820 6c65 6164 2074  bug which lead t
+00005460: 6f20 6578 6365 7074 696f 6e73 2062 6569  o exceptions bei
+00005470: 6e67 2074 6872 6f77 6e20 696e 2061 206c  ng thrown in a l
+00005480: 6f6f 7020 7768 656e 2061 2063 726f 7373  oop when a cross
+00005490: 2d73 6967 6e65 6420 6465 7669 6365 2069  -signed device i
+000054a0: 7320 6465 6c65 7465 642e 2028 5b5c 2336  s deleted. ([\#6
+000054b0: 3436 325d 2868 7474 7073 3a2f 2f67 6974  462](https://git
+000054c0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+000054d0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+000054e0: 732f 3634 3632 2929 0a2d 2046 6978 2060  s/6462)).- Fix `
+000054f0: 7379 6e61 7073 655f 706f 7274 5f64 6260  synapse_port_db`
+00005500: 206e 6f74 2065 7869 7469 6e67 2077 6974   not exiting wit
+00005510: 6820 6120 3020 636f 6465 2069 6620 736f  h a 0 code if so
+00005520: 6d65 7468 696e 6720 7765 6e74 2077 726f  mething went wro
+00005530: 6e67 2064 7572 696e 6720 7468 6520 706f  ng during the po
+00005540: 7274 2070 726f 6365 7373 2e20 285b 5c23  rt process. ([\#
+00005550: 3634 3730 5d28 6874 7470 733a 2f2f 6769  6470](https://gi
+00005560: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+00005570: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+00005580: 6573 2f36 3437 3029 290a 2d20 496d 7072  es/6470)).- Impr
+00005590: 6f76 6520 7361 6e69 7479 2d63 6865 636b  ove sanity-check
+000055a0: 696e 6720 7768 656e 2072 6563 6569 7669  ing when receivi
+000055b0: 6e67 2065 7665 6e74 7320 6f76 6572 2066  ng events over f
+000055c0: 6564 6572 6174 696f 6e2e 2028 5b5c 2336  ederation. ([\#6
+000055d0: 3437 325d 2868 7474 7073 3a2f 2f67 6974  472](https://git
+000055e0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+000055f0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+00005600: 732f 3634 3732 2929 0a2d 2046 6978 2069  s/6472)).- Fix i
+00005610: 6e61 6363 7572 6174 6520 7065 722d 626c  naccurate per-bl
+00005620: 6f63 6b20 5072 6f6d 6574 6865 7573 206d  ock Prometheus m
+00005630: 6574 7269 6373 2e20 285b 5c23 3634 3931  etrics. ([\#6491
+00005640: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00005650: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00005660: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
+00005670: 3439 3129 290a 2d20 4669 7820 736d 616c  491)).- Fix smal
+00005680: 6c20 7065 7266 6f72 6d61 6e63 6520 7265  l performance re
+00005690: 6772 6573 7369 6f6e 2066 6f72 2073 656e  gression for sen
+000056a0: 6469 6e67 2069 6e76 6974 6573 2e20 285b  ding invites. ([
+000056b0: 5c23 3634 3933 5d28 6874 7470 733a 2f2f  \#6493](https://
+000056c0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+000056d0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+000056e0: 7375 6573 2f36 3439 3329 290a 2d20 4261  sues/6493)).- Ba
+000056f0: 636b 206f 7574 2063 726f 7373 2d73 6967  ck out cross-sig
+00005700: 6e69 6e67 2063 6f64 6520 6164 6465 6420  ning code added 
+00005710: 696e 2053 796e 6170 7365 2031 2e35 2e30  in Synapse 1.5.0
+00005720: 2c20 7768 6963 6820 6361 7573 6564 2061  , which caused a
+00005730: 2070 6572 666f 726d 616e 6365 2072 6567   performance reg
+00005740: 7265 7373 696f 6e2e 2028 5b5c 2336 3439  ression. ([\#649
+00005750: 345d 2868 7474 7073 3a2f 2f67 6974 6875  4](https://githu
+00005760: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00005770: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00005780: 3634 3934 2929 0a0a 0a49 6d70 726f 7665  6494))...Improve
+00005790: 6420 446f 6375 6d65 6e74 6174 696f 6e0a  d Documentation.
+000057a0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+000057b0: 2d2d 2d2d 2d2d 0a0a 2d20 5570 6461 7465  ------..- Update
+000057c0: 2064 6f63 756d 656e 7461 7469 6f6e 2061   documentation a
+000057d0: 6e64 2076 6172 6961 626c 6573 2069 6e20  nd variables in 
+000057e0: 7573 6572 2063 6f6e 7472 6962 7574 6564  user contributed
+000057f0: 2073 7973 7465 6d64 2072 6566 6572 656e   systemd referen
+00005800: 6365 2066 696c 652e 2028 5b5c 2336 3336  ce file. ([\#636
+00005810: 395d 2868 7474 7073 3a2f 2f67 6974 6875  9](https://githu
+00005820: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00005830: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00005840: 3633 3639 292c 205b 5c23 3634 3930 5d28  6369), [\#6490](
+00005850: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00005860: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00005870: 6e61 7073 652f 6973 7375 6573 2f36 3439  napse/issues/649
+00005880: 3029 290a 2d20 4669 7820 6c69 6e6b 2069  0)).- Fix link i
+00005890: 6e20 7468 6520 7573 6572 2064 6972 6563  n the user direc
+000058a0: 746f 7279 2064 6f63 756d 656e 7461 7469  tory documentati
+000058b0: 6f6e 2e20 285b 5c23 3633 3838 5d28 6874  on. ([\#6388](ht
+000058c0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+000058d0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+000058e0: 7073 652f 6973 7375 6573 2f36 3338 3829  pse/issues/6388)
+000058f0: 290a 2d20 4164 6420 6275 696c 6420 696e  ).- Add build in
+00005900: 7374 7275 6374 696f 6e73 2074 6f20 7468  structions to th
+00005910: 6520 646f 636b 6572 2072 6561 646d 652e  e docker readme.
+00005920: 2028 5b5c 2336 3339 305d 2868 7474 7073   ([\#6390](https
+00005930: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00005940: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00005950: 2f69 7373 7565 732f 3633 3930 2929 0a2d  /issues/6390)).-
+00005960: 2053 7769 7463 6820 5562 756e 7475 2070   Switch Ubuntu p
+00005970: 6163 6b61 6765 2069 6e73 7461 6c6c 2072  ackage install r
+00005980: 6563 6f6d 6d65 6e64 6174 696f 6e20 746f  ecommendation to
+00005990: 2075 7365 2070 7974 686f 6e33 2070 6163   use python3 pac
+000059a0: 6b61 6765 7320 696e 2049 4e53 5441 4c4c  kages in INSTALL
+000059b0: 2e6d 642e 2028 5b5c 2336 3434 335d 2868  .md. ([\#6443](h
+000059c0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+000059d0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+000059e0: 6170 7365 2f69 7373 7565 732f 3634 3433  apse/issues/6443
+000059f0: 2929 0a2d 2057 7269 7465 2073 6f6d 6520  )).- Write some 
+00005a00: 646f 6373 2066 6f72 2074 6865 2071 7561  docs for the qua
+00005a10: 7261 6e74 696e 655f 6d65 6469 6120 6170  rantine_media ap
+00005a20: 692e 2028 5b5c 2336 3435 385d 2868 7474  i. ([\#6458](htt
+00005a30: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00005a40: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00005a50: 7365 2f69 7373 7565 732f 3634 3538 2929  se/issues/6458))
+00005a60: 0a2d 2043 6f6e 7665 7274 2043 4f4e 5452  .- Convert CONTR
+00005a70: 4942 5554 494e 472e 7273 7420 746f 206d  IBUTING.rst to m
+00005a80: 6172 6b64 6f77 6e20 2861 6d6f 6e67 206f  arkdown (among o
+00005a90: 7468 6572 2073 6d61 6c6c 2066 6978 6573  ther small fixes
+00005aa0: 292e 2028 5b5c 2336 3436 315d 2868 7474  ). ([\#6461](htt
+00005ab0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00005ac0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00005ad0: 7365 2f69 7373 7565 732f 3634 3631 2929  se/issues/6461))
+00005ae0: 0a0a 0a44 6570 7265 6361 7469 6f6e 7320  ...Deprecations 
+00005af0: 616e 6420 5265 6d6f 7661 6c73 0a2d 2d2d  and Removals.---
+00005b00: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00005b10: 2d2d 2d2d 2d2d 0a0a 2d20 5265 6d6f 7665  ------..- Remove
+00005b20: 2061 646d 696e 2f76 312f 7573 6572 735f   admin/v1/users_
+00005b30: 7061 6769 6e61 7465 2065 6e64 706f 696e  paginate endpoin
+00005b40: 742e 2043 6f6e 7472 6962 7574 6564 2062  t. Contributed b
+00005b50: 7920 4177 6573 6f6d 6520 5465 6368 6e6f  y Awesome Techno
+00005b60: 6c6f 6769 6573 2049 6e6e 6f76 6174 696f  logies Innovatio
+00005b70: 6e73 6c61 626f 7220 476d 6248 2e20 285b  nslabor GmbH. ([
+00005b80: 5c23 3539 3235 5d28 6874 7470 733a 2f2f  \#5925](https://
+00005b90: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00005ba0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00005bb0: 7375 6573 2f35 3932 3529 290a 2d20 5265  sues/5925)).- Re
+00005bc0: 6d6f 7665 2066 616c 6c62 6163 6b20 666f  move fallback fo
+00005bd0: 7220 6665 6465 7261 7469 6f6e 2077 6974  r federation wit
+00005be0: 6820 6f6c 6420 7365 7276 6572 7320 7768  h old servers wh
+00005bf0: 6963 6820 6c61 636b 2074 6865 202f 6665  ich lack the /fe
+00005c00: 6465 7261 7469 6f6e 2f76 312f 7374 6174  deration/v1/stat
+00005c10: 655f 6964 7320 4150 492e 2028 5b5c 2336  e_ids API. ([\#6
+00005c20: 3438 385d 2868 7474 7073 3a2f 2f67 6974  488](https://git
+00005c30: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00005c40: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+00005c50: 732f 3634 3838 2929 0a0a 0a49 6e74 6572  s/6488))...Inter
+00005c60: 6e61 6c20 4368 616e 6765 730a 2d2d 2d2d  nal Changes.----
+00005c70: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 0a0a 2d20  ------------..- 
+00005c80: 4164 6420 6265 6e63 686d 6172 6b73 2066  Add benchmarks f
+00005c90: 6f72 2073 7472 7563 7475 7265 6420 6c6f  or structured lo
+00005ca0: 6767 696e 6720 616e 6420 696d 7072 6f76  gging and improv
+00005cb0: 6520 6f75 7470 7574 2070 6572 666f 726d  e output perform
+00005cc0: 616e 6365 2e20 285b 5c23 3632 3636 5d28  ance. ([\#6266](
+00005cd0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00005ce0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00005cf0: 6e61 7073 652f 6973 7375 6573 2f36 3236  napse/issues/626
+00005d00: 3629 290a 2d20 496d 7072 6f76 6520 7468  6)).- Improve th
+00005d10: 6520 7065 7266 6f72 6d61 6e63 6520 6f66  e performance of
+00005d20: 206f 7574 7075 7474 696e 6720 7374 7275   outputting stru
+00005d30: 6374 7572 6564 206c 6f67 6769 6e67 2e20  ctured logging. 
+00005d40: 285b 5c23 3633 3232 5d28 6874 7470 733a  ([\#6322](https:
+00005d50: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00005d60: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00005d70: 6973 7375 6573 2f36 3332 3229 290a 2d20  issues/6322)).- 
+00005d80: 5265 6661 6374 6f72 2073 6f6d 6520 636f  Refactor some co
+00005d90: 6465 2069 6e20 7468 6520 6576 656e 7420  de in the event 
+00005da0: 6175 7468 656e 7469 6361 7469 6f6e 2070  authentication p
+00005db0: 6174 6820 666f 7220 636c 6172 6974 792e  ath for clarity.
+00005dc0: 2028 5b5c 2336 3334 335d 2868 7474 7073   ([\#6343](https
+00005dd0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00005de0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00005df0: 2f69 7373 7565 732f 3633 3433 292c 205b  /issues/6343), [
+00005e00: 5c23 3634 3638 5d28 6874 7470 733a 2f2f  \#6468](https://
+00005e10: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00005e20: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00005e30: 7375 6573 2f36 3436 3829 2c20 5b5c 2336  sues/6468), [\#6
+00005e40: 3438 305d 2868 7474 7073 3a2f 2f67 6974  480](https://git
+00005e50: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00005e60: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+00005e70: 732f 3634 3830 2929 0a2d 2043 6c65 616e  s/6480)).- Clean
+00005e80: 2075 7020 736f 6d65 2075 6e6e 6563 6573   up some unneces
+00005e90: 7361 7279 2071 756f 7461 7469 6f6e 206d  sary quotation m
+00005ea0: 6172 6b73 2061 726f 756e 6420 7468 6520  arks around the 
+00005eb0: 636f 6465 6261 7365 2e20 285b 5c23 3633  codebase. ([\#63
+00005ec0: 3632 5d28 6874 7470 733a 2f2f 6769 7468  62](https://gith
+00005ed0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00005ee0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00005ef0: 2f36 3336 3229 290a 2d20 436f 6d70 6c61  /6362)).- Compla
+00005f00: 696e 206f 6e20 7374 6172 7475 7020 696e  in on startup in
+00005f10: 7374 6561 6420 6f66 2035 3030 2769 6e67  stead of 500'ing
+00005f20: 2064 7572 696e 6720 7275 6e74 696d 6520   during runtime 
+00005f30: 7768 656e 2060 7075 626c 6963 5f62 6173  when `public_bas
+00005f40: 6575 726c 6020 6973 6e27 7420 7365 7420  eurl` isn't set 
+00005f50: 7768 656e 206e 6563 6573 7361 7279 2e20  when necessary. 
+00005f60: 285b 5c23 3633 3739 5d28 6874 7470 733a  ([\#6379](https:
+00005f70: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00005f80: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00005f90: 6973 7375 6573 2f36 3337 3929 290a 2d20  issues/6379)).- 
+00005fa0: 4164 6420 6120 7465 7374 2073 6365 6e61  Add a test scena
+00005fb0: 7269 6f20 746f 206d 616b 6520 7375 7265  rio to make sure
+00005fc0: 2072 6f6f 6d20 6869 7374 6f72 7920 7075   room history pu
+00005fd0: 7267 6573 2064 6f6e 2774 2062 7265 616b  rges don't break
+00005fe0: 2060 2f6d 6573 7361 6765 7360 2069 6e20   `/messages` in 
+00005ff0: 7468 6520 6675 7475 7265 2e20 285b 5c23  the future. ([\#
+00006000: 3633 3932 5d28 6874 7470 733a 2f2f 6769  6392](https://gi
+00006010: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+00006020: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+00006030: 6573 2f36 3339 3229 290a 2d20 436c 6172  es/6392)).- Clar
+00006040: 6966 6963 6174 696f 6e73 2066 6f72 2074  ifications for t
+00006050: 6865 2065 6d61 696c 2063 6f6e 6669 6775  he email configu
+00006060: 7261 7469 6f6e 2073 6574 7469 6e67 732e  ration settings.
+00006070: 2028 5b5c 2336 3432 335d 2868 7474 7073   ([\#6423](https
+00006080: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00006090: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+000060a0: 2f69 7373 7565 732f 3634 3233 2929 0a2d  /issues/6423)).-
+000060b0: 2041 6464 206d 6f72 6520 7465 7374 7320   Add more tests 
+000060c0: 746f 2074 6865 2062 6c61 636b 6c69 7374  to the blacklist
+000060d0: 2077 6865 6e20 7275 6e6e 696e 6720 696e   when running in
+000060e0: 2077 6f72 6b65 7220 6d6f 6465 2e20 285b   worker mode. ([
+000060f0: 5c23 3634 3239 5d28 6874 7470 733a 2f2f  \#6429](https://
+00006100: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00006110: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00006120: 7375 6573 2f36 3432 3929 290a 2d20 5265  sues/6429)).- Re
+00006130: 6661 6374 6f72 2064 6174 6120 7374 6f72  factor data stor
+00006140: 6520 6c61 7965 7220 746f 2073 7570 706f  e layer to suppo
+00006150: 7274 206d 756c 7469 706c 6520 6461 7461  rt multiple data
+00006160: 6261 7365 7320 696e 2074 6865 2066 7574  bases in the fut
+00006170: 7572 652e 2028 5b5c 2336 3435 345d 2868  ure. ([\#6454](h
+00006180: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00006190: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+000061a0: 6170 7365 2f69 7373 7565 732f 3634 3534  apse/issues/6454
+000061b0: 292c 205b 5c23 3634 3634 5d28 6874 7470  ), [\#6464](http
+000061c0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+000061d0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+000061e0: 652f 6973 7375 6573 2f36 3436 3429 2c20  e/issues/6464), 
+000061f0: 5b5c 2336 3436 395d 2868 7474 7073 3a2f  [\#6469](https:/
+00006200: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+00006210: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00006220: 7373 7565 732f 3634 3639 292c 205b 5c23  ssues/6469), [\#
+00006230: 3634 3837 5d28 6874 7470 733a 2f2f 6769  6487](https://gi
+00006240: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+00006250: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+00006260: 6573 2f36 3438 3729 290a 2d20 506f 7274  es/6487)).- Port
+00006270: 2073 796e 6170 7365 2e72 6573 742e 636c   synapse.rest.cl
+00006280: 6965 6e74 2e76 3120 746f 2061 7379 6e63  ient.v1 to async
+00006290: 2f61 7761 6974 2e20 285b 5c23 3634 3832  /await. ([\#6482
+000062a0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+000062b0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+000062c0: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
+000062d0: 3438 3229 290a 2d20 506f 7274 2073 796e  482)).- Port syn
+000062e0: 6170 7365 2e72 6573 742e 636c 6965 6e74  apse.rest.client
+000062f0: 2e76 325f 616c 7068 6120 746f 2061 7379  .v2_alpha to asy
+00006300: 6e63 2f61 7761 6974 2e20 285b 5c23 3634  nc/await. ([\#64
+00006310: 3833 5d28 6874 7470 733a 2f2f 6769 7468  83](https://gith
+00006320: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00006330: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00006340: 2f36 3438 3329 290a 2d20 506f 7274 2053  /6483)).- Port S
+00006350: 796e 6348 616e 646c 6572 2074 6f20 6173  yncHandler to as
+00006360: 796e 632f 6177 6169 742e 2028 5b5c 2336  ync/await. ([\#6
+00006370: 3438 345d 2868 7474 7073 3a2f 2f67 6974  484](https://git
+00006380: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00006390: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+000063a0: 732f 3634 3834 2929 0a0a 5379 6e61 7073  s/6484))..Synaps
+000063b0: 6520 312e 362e 3120 2832 3031 392d 3131  e 1.6.1 (2019-11
+000063c0: 2d32 3829 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d  -28).===========
+000063d0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a  ===============.
+000063e0: 0a53 6563 7572 6974 7920 7570 6461 7465  .Security update
+000063f0: 730a 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  s.--------------
+00006400: 2d2d 0a0a 5468 6973 2072 656c 6561 7365  --..This release
+00006410: 2069 6e63 6c75 6465 7320 6120 7365 6375   includes a secu
+00006420: 7269 7479 2066 6978 2028 5b5c 2336 3432  rity fix ([\#642
+00006430: 365d 2868 7474 7073 3a2f 2f67 6974 6875  6](https://githu
+00006440: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00006450: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00006460: 3634 3236 292c 2062 656c 6f77 292e 2041  6426), below). A
+00006470: 646d 696e 6973 7472 6174 6f72 7320 6172  dministrators ar
+00006480: 6520 656e 636f 7572 6167 6564 2074 6f20  e encouraged to 
+00006490: 7570 6772 6164 6520 6173 2073 6f6f 6e20  upgrade as soon 
+000064a0: 6173 2070 6f73 7369 626c 652e 0a0a 4275  as possible...Bu
+000064b0: 6766 6978 6573 0a2d 2d2d 2d2d 2d2d 2d0a  gfixes.--------.
+000064c0: 0a2d 2043 6c65 616e 2075 7020 6c6f 6361  .- Clean up loca
+000064d0: 6c20 7468 7265 6570 6964 7320 6672 6f6d  l threepids from
+000064e0: 2075 7365 7220 6f6e 2061 6363 6f75 6e74   user on account
+000064f0: 2064 6561 6374 6976 6174 696f 6e2e 2028   deactivation. (
+00006500: 5b5c 2336 3432 365d 2868 7474 7073 3a2f  [\#6426](https:/
+00006510: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+00006520: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00006530: 7373 7565 732f 3634 3236 2929 0a2d 2046  ssues/6426)).- F
+00006540: 6978 2073 7461 7274 7570 2065 7272 6f72  ix startup error
+00006550: 2077 6865 6e20 6874 7470 2070 726f 7879   when http proxy
+00006560: 2069 7320 6465 6669 6e65 642e 2028 5b5c   is defined. ([\
+00006570: 2336 3432 315d 2868 7474 7073 3a2f 2f67  #6421](https://g
+00006580: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00006590: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+000065a0: 7565 732f 3634 3231 2929 0a0a 0a53 796e  ues/6421))...Syn
+000065b0: 6170 7365 2031 2e36 2e30 2028 3230 3139  apse 1.6.0 (2019
+000065c0: 2d31 312d 3236 290a 3d3d 3d3d 3d3d 3d3d  -11-26).========
+000065d0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000065e0: 3d3d 0a0a 4275 6766 6978 6573 0a2d 2d2d  ==..Bugfixes.---
+000065f0: 2d2d 2d2d 2d0a 0a2d 2046 6978 2070 686f  -----..- Fix pho
+00006600: 6e65 2068 6f6d 6520 7374 6174 7320 7265  ne home stats re
+00006610: 706f 7274 696e 672e 2028 5b5c 2336 3431  porting. ([\#641
+00006620: 385d 2868 7474 7073 3a2f 2f67 6974 6875  8](https://githu
+00006630: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00006640: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00006650: 3634 3138 2929 0a0a 0a53 796e 6170 7365  6418))...Synapse
+00006660: 2031 2e36 2e30 7263 3220 2832 3031 392d   1.6.0rc2 (2019-
+00006670: 3131 2d32 3529 0a3d 3d3d 3d3d 3d3d 3d3d  11-25).=========
+00006680: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00006690: 3d3d 3d3d 0a0a 4275 6766 6978 6573 0a2d  ====..Bugfixes.-
+000066a0: 2d2d 2d2d 2d2d 2d0a 0a2d 2046 6978 2061  -------..- Fix a
+000066b0: 2062 7567 2077 6869 6368 2063 6f75 6c64   bug which could
+000066c0: 2063 6175 7365 2074 6865 2062 6163 6b67   cause the backg
+000066d0: 726f 756e 6420 6461 7461 6261 7365 2075  round database u
+000066e0: 7064 6174 6520 6861 6e64 6572 2066 6f72  pdate hander for
+000066f0: 2065 7665 6e74 206c 6162 656c 7320 746f   event labels to
+00006700: 2067 6574 2073 7475 636b 2069 6e20 6120   get stuck in a 
+00006710: 6c6f 6f70 2072 6169 7369 6e67 2065 7863  loop raising exc
+00006720: 6570 7469 6f6e 732e 2028 5b5c 2336 3430  eptions. ([\#640
+00006730: 375d 2868 7474 7073 3a2f 2f67 6974 6875  7](https://githu
+00006740: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00006750: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00006760: 3634 3037 2929 0a0a 0a53 796e 6170 7365  6407))...Synapse
+00006770: 2031 2e36 2e30 7263 3120 2832 3031 392d   1.6.0rc1 (2019-
+00006780: 3131 2d32 3029 0a3d 3d3d 3d3d 3d3d 3d3d  11-20).=========
+00006790: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000067a0: 3d3d 3d3d 0a0a 4665 6174 7572 6573 0a2d  ====..Features.-
+000067b0: 2d2d 2d2d 2d2d 2d0a 0a2d 2041 6464 2066  -------..- Add f
+000067c0: 6564 6572 6174 696f 6e20 7375 7070 6f72  ederation suppor
+000067d0: 7420 666f 7220 6372 6f73 732d 7369 676e  t for cross-sign
+000067e0: 696e 672e 2028 5b5c 2335 3732 375d 2868  ing. ([\#5727](h
+000067f0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00006800: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+00006810: 6170 7365 2f69 7373 7565 732f 3537 3237  apse/issues/5727
+00006820: 2929 0a2d 2049 6e63 7265 6173 6520 6465  )).- Increase de
+00006830: 6661 756c 7420 726f 6f6d 2076 6572 7369  fault room versi
+00006840: 6f6e 2066 726f 6d20 3420 746f 2035 2c20  on from 4 to 5, 
+00006850: 7468 6572 6562 7920 656e 666f 7263 696e  thereby enforcin
+00006860: 6720 7365 7276 6572 206b 6579 2076 616c  g server key val
+00006870: 6964 6974 7920 7065 7269 6f64 2063 6865  idity period che
+00006880: 636b 732e 2028 5b5c 2336 3232 305d 2868  cks. ([\#6220](h
+00006890: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+000068a0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+000068b0: 6170 7365 2f69 7373 7565 732f 3632 3230  apse/issues/6220
+000068c0: 2929 0a2d 2041 6464 2073 7570 706f 7274  )).- Add support
+000068d0: 2066 6f72 206f 7574 626f 756e 6420 6874   for outbound ht
+000068e0: 7470 2070 726f 7879 696e 6720 7669 6120  tp proxying via 
+000068f0: 6874 7470 5f70 726f 7879 2f48 5454 5053  http_proxy/HTTPS
+00006900: 5f50 524f 5859 2065 6e76 2076 6172 732e  _PROXY env vars.
+00006910: 2028 5b5c 2336 3233 385d 2868 7474 7073   ([\#6238](https
+00006920: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00006930: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00006940: 2f69 7373 7565 732f 3632 3338 2929 0a2d  /issues/6238)).-
+00006950: 2049 6d70 6c65 6d65 6e74 206c 6162 656c   Implement label
+00006960: 2d62 6173 6564 2066 696c 7465 7269 6e67  -based filtering
+00006970: 206f 6e20 602f 7379 6e63 6020 616e 6420   on `/sync` and 
+00006980: 602f 6d65 7373 6167 6573 6020 285b 4d53  `/messages` ([MS
+00006990: 4332 3332 365d 2868 7474 7073 3a2f 2f67  C2326](https://g
+000069a0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+000069b0: 2d6f 7267 2f6d 6174 7269 782d 646f 632f  -org/matrix-doc/
+000069c0: 7075 6c6c 2f32 3332 3629 292e 2028 5b5c  pull/2326)). ([\
+000069d0: 2336 3330 315d 2868 7474 7073 3a2f 2f67  #6301](https://g
+000069e0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+000069f0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00006a00: 7565 732f 3633 3031 292c 205b 5c23 3633  ues/6301), [\#63
+00006a10: 3130 5d28 6874 7470 733a 2f2f 6769 7468  10](https://gith
+00006a20: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00006a30: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00006a40: 2f36 3331 3029 2c20 5b5c 2336 3334 305d  /6310), [\#6340]
+00006a50: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00006a60: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+00006a70: 796e 6170 7365 2f69 7373 7565 732f 3633  ynapse/issues/63
+00006a80: 3430 2929 0a0a 0a42 7567 6669 7865 730a  40))...Bugfixes.
+00006a90: 2d2d 2d2d 2d2d 2d2d 0a0a 2d20 4669 7820  --------..- Fix 
+00006aa0: 4c72 7543 6163 6865 2063 616c 6c62 6163  LruCache callbac
+00006ab0: 6b20 6465 6475 706c 6963 6174 696f 6e20  k deduplication 
+00006ac0: 666f 7220 5079 7468 6f6e 2033 2e38 2e20  for Python 3.8. 
+00006ad0: 436f 6e74 7269 6275 7465 6420 6279 2040  Contributed by @
+00006ae0: 5630 3234 3630 2e20 285b 5c23 3632 3133  V02460. ([\#6213
+00006af0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00006b00: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00006b10: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
+00006b20: 3231 3329 290a 2d20 5265 6d6f 7665 2061  213)).- Remove a
+00006b30: 2072 6f6f 6d20 6672 6f6d 2061 2073 6572   room from a ser
+00006b40: 7665 7227 7320 7075 626c 6963 2072 6f6f  ver's public roo
+00006b50: 6d73 206c 6973 7420 6f6e 2072 6f6f 6d20  ms list on room 
+00006b60: 7570 6772 6164 652e 2028 5b5c 2336 3233  upgrade. ([\#623
+00006b70: 325d 2868 7474 7073 3a2f 2f67 6974 6875  2](https://githu
+00006b80: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00006b90: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00006ba0: 3632 3332 292c 205b 5c23 3632 3335 5d28  6232), [\#6235](
+00006bb0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00006bc0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00006bd0: 6e61 7073 652f 6973 7375 6573 2f36 3233  napse/issues/623
+00006be0: 3529 290a 2d20 4465 6c65 7465 206b 6579  5)).- Delete key
+00006bf0: 7320 6672 6f6d 206b 6579 2062 6163 6b75  s from key backu
+00006c00: 7020 7768 656e 2064 656c 6574 696e 6720  p when deleting 
+00006c10: 6261 636b 7570 2076 6572 7369 6f6e 732e  backup versions.
+00006c20: 2028 5b5c 2336 3235 335d 2868 7474 7073   ([\#6253](https
+00006c30: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00006c40: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00006c50: 2f69 7373 7565 732f 3632 3533 2929 0a2d  /issues/6253)).-
+00006c60: 204d 616b 6520 6e6f 7469 6669 6361 7469   Make notificati
+00006c70: 6f6e 206f 6620 6372 6f73 732d 7369 676e  on of cross-sign
+00006c80: 696e 6720 7369 676e 6174 7572 6573 2077  ing signatures w
+00006c90: 6f72 6b20 7769 7468 2077 6f72 6b65 7273  ork with workers
+00006ca0: 2e20 285b 5c23 3632 3534 5d28 6874 7470  . ([\#6254](http
+00006cb0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+00006cc0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+00006cd0: 652f 6973 7375 6573 2f36 3235 3429 290a  e/issues/6254)).
+00006ce0: 2d20 4669 7820 6578 6365 7074 696f 6e20  - Fix exception 
+00006cf0: 7768 656e 2072 656d 6f74 6520 7365 7276  when remote serv
+00006d00: 6572 7320 6174 7465 6d70 7420 746f 206a  ers attempt to j
+00006d10: 6f69 6e20 6120 726f 6f6d 2074 6861 7420  oin a room that 
+00006d20: 7468 6579 2772 6520 6e6f 7420 616c 6c6f  they're not allo
+00006d30: 7765 6420 746f 206a 6f69 6e2e 2028 5b5c  wed to join. ([\
+00006d40: 2336 3237 385d 2868 7474 7073 3a2f 2f67  #6278](https://g
+00006d50: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00006d60: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00006d70: 7565 732f 3632 3738 2929 0a2d 2050 7265  ues/6278)).- Pre
+00006d80: 7665 6e74 2065 7272 6f72 7320 6672 6f6d  vent errors from
+00006d90: 2061 7070 6561 7269 6e67 206f 6e20 5379   appearing on Sy
+00006da0: 6e61 7073 6520 7374 6172 7475 7020 6966  napse startup if
+00006db0: 2060 6769 7460 2069 7320 6e6f 7420 696e   `git` is not in
+00006dc0: 7374 616c 6c65 642e 2028 5b5c 2336 3238  stalled. ([\#628
+00006dd0: 345d 2868 7474 7073 3a2f 2f67 6974 6875  4](https://githu
+00006de0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00006df0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00006e00: 3632 3834 2929 0a2d 2041 7070 7365 7276  6284)).- Appserv
+00006e10: 6963 6520 7265 7175 6573 7473 2077 696c  ice requests wil
+00006e20: 6c20 6e6f 206c 6f6e 6765 7220 636f 6e74  l no longer cont
+00006e30: 6169 6e20 6120 646f 7562 6c65 2073 6c61  ain a double sla
+00006e40: 7368 2070 7265 6669 7820 7768 656e 2074  sh prefix when t
+00006e50: 6865 2061 7070 7365 7276 6963 6520 7572  he appservice ur
+00006e60: 6c20 7072 6f76 6964 6564 2065 6e64 7320  l provided ends 
+00006e70: 696e 2061 2073 6c61 7368 2e20 285b 5c23  in a slash. ([\#
+00006e80: 3633 3036 5d28 6874 7470 733a 2f2f 6769  6306](https://gi
+00006e90: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+00006ea0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+00006eb0: 6573 2f36 3330 3629 290a 2d20 4669 7820  es/6306)).- Fix 
+00006ec0: 602f 7075 7267 655f 726f 6f6d 6020 6164  `/purge_room` ad
+00006ed0: 6d69 6e20 4150 492e 2028 5b5c 2336 3330  min API. ([\#630
+00006ee0: 375d 2868 7474 7073 3a2f 2f67 6974 6875  7](https://githu
+00006ef0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00006f00: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00006f10: 3633 3037 2929 0a2d 2046 6978 2074 6865  6307)).- Fix the
+00006f20: 2060 6869 6464 656e 6020 6669 656c 6420   `hidden` field 
+00006f30: 696e 2074 6865 2060 6465 7669 6365 7360  in the `devices`
+00006f40: 2074 6162 6c65 2066 6f72 2053 514c 6974   table for SQLit
+00006f50: 6520 7665 7273 696f 6e73 2070 7269 6f72  e versions prior
+00006f60: 2074 6f20 332e 3233 2e30 2e20 285b 5c23   to 3.23.0. ([\#
+00006f70: 3633 3133 5d28 6874 7470 733a 2f2f 6769  6313](https://gi
+00006f80: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+00006f90: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+00006fa0: 6573 2f36 3331 3329 290a 2d20 4669 7820  es/6313)).- Fix 
+00006fb0: 6275 6720 7768 6963 6820 6361 7375 6564  bug which casued
+00006fc0: 2072 656a 6563 7465 6420 6576 656e 7473   rejected events
+00006fd0: 2074 6f20 6265 2070 6572 7369 7374 6564   to be persisted
+00006fe0: 2077 6974 6820 7468 6520 7772 6f6e 6720   with the wrong 
+00006ff0: 726f 6f6d 2073 7461 7465 2e20 285b 5c23  room state. ([\#
+00007000: 3633 3230 5d28 6874 7470 733a 2f2f 6769  6320](https://gi
+00007010: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+00007020: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+00007030: 6573 2f36 3332 3029 290a 2d20 4669 7820  es/6320)).- Fix 
+00007040: 6275 6720 7768 6572 6520 6072 635f 6c6f  bug where `rc_lo
+00007050: 6769 6e60 2072 6174 656c 696d 6974 696e  gin` ratelimitin
+00007060: 6720 776f 756c 6420 7072 656d 6174 7572  g would prematur
+00007070: 656c 7920 6b69 636b 2069 6e2e 2028 5b5c  ely kick in. ([\
+00007080: 2336 3333 355d 2868 7474 7073 3a2f 2f67  #6335](https://g
+00007090: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+000070a0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+000070b0: 7565 732f 3633 3335 2929 0a2d 2050 7265  ues/6335)).- Pre
+000070c0: 7665 6e74 2074 6865 2073 6572 7665 7220  vent the server 
+000070d0: 7461 6b69 6e67 2061 206c 6f6e 6720 7469  taking a long ti
+000070e0: 6d65 2074 6f20 7374 6172 7420 7570 2077  me to start up w
+000070f0: 6865 6e20 6775 6573 7420 7265 6769 7374  hen guest regist
+00007100: 7261 7469 6f6e 2069 7320 656e 6162 6c65  ration is enable
+00007110: 642e 2028 5b5c 2336 3333 385d 2868 7474  d. ([\#6338](htt
+00007120: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00007130: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00007140: 7365 2f69 7373 7565 732f 3633 3338 2929  se/issues/6338))
+00007150: 0a2d 2046 6978 2062 7567 2077 6865 7265  .- Fix bug where
+00007160: 2075 7067 7261 6469 6e67 2061 2067 7565   upgrading a gue
+00007170: 7374 2061 6363 6f75 6e74 2074 6f20 6120  st account to a 
+00007180: 6675 6c6c 2075 7365 7220 776f 756c 6420  full user would 
+00007190: 6661 696c 2077 6865 6e20 6163 636f 756e  fail when accoun
+000071a0: 7420 7661 6c69 6469 7479 2069 7320 656e  t validity is en
+000071b0: 6162 6c65 642e 2028 5b5c 2336 3335 395d  abled. ([\#6359]
+000071c0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+000071d0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+000071e0: 796e 6170 7365 2f69 7373 7565 732f 3633  ynapse/issues/63
+000071f0: 3539 2929 0a2d 2046 6978 2060 746f 5f64  59)).- Fix `to_d
+00007200: 6576 6963 6560 2073 7472 6561 6d20 4944  evice` stream ID
+00007210: 2067 6574 7469 6e67 2072 6573 6574 2065   getting reset e
+00007220: 7665 7279 2074 696d 6520 5379 6e61 7073  very time Synaps
+00007230: 6520 7265 7374 6172 7473 2c20 7768 6963  e restarts, whic
+00007240: 6820 6861 6420 7468 6520 706f 7465 6e74  h had the potent
+00007250: 6961 6c20 746f 2063 6175 7365 2075 6e61  ial to cause una
+00007260: 626c 6520 746f 2064 6563 7279 7074 2065  ble to decrypt e
+00007270: 7272 6f72 732e 2028 5b5c 2336 3336 335d  rrors. ([\#6363]
+00007280: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00007290: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+000072a0: 796e 6170 7365 2f69 7373 7565 732f 3633  ynapse/issues/63
+000072b0: 3633 2929 0a2d 2046 6978 2070 6572 6d69  63)).- Fix permi
+000072c0: 7373 696f 6e20 6465 6e69 6564 2065 7272  ssion denied err
+000072d0: 6f72 2077 6865 6e20 7472 7969 6e67 2074  or when trying t
+000072e0: 6f20 6765 6e65 7261 7465 2061 2063 6f6e  o generate a con
+000072f0: 6669 6720 6669 6c65 2077 6974 6820 7468  fig file with th
+00007300: 6520 646f 636b 6572 2069 6d61 6765 2e20  e docker image. 
+00007310: 285b 5c23 3633 3839 5d28 6874 7470 733a  ([\#6389](https:
+00007320: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00007330: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00007340: 6973 7375 6573 2f36 3338 3929 290a 0a0a  issues/6389))...
+00007350: 496d 7072 6f76 6564 2044 6f63 756d 656e  Improved Documen
+00007360: 7461 7469 6f6e 0a2d 2d2d 2d2d 2d2d 2d2d  tation.---------
+00007370: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a 0a2d  -------------..-
+00007380: 2043 6f6e 7472 6962 7574 6f72 2064 6f63   Contributor doc
+00007390: 756d 656e 7461 7469 6f6e 206e 6f77 206d  umentation now m
+000073a0: 656e 7469 6f6e 7320 7363 7269 7074 2074  entions script t
+000073b0: 6f20 7275 6e20 6c69 6e74 6572 732e 2028  o run linters. (
+000073c0: 5b5c 2336 3136 345d 2868 7474 7073 3a2f  [\#6164](https:/
+000073d0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+000073e0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+000073f0: 7373 7565 732f 3631 3634 2929 0a2d 204d  ssues/6164)).- M
+00007400: 6f64 6966 7920 4341 5054 4348 415f 5345  odify CAPTCHA_SE
+00007410: 5455 502e 6d64 2074 6f20 7570 6461 7465  TUP.md to update
+00007420: 2074 6865 2074 6572 6d73 2060 7072 6976   the terms `priv
+00007430: 6174 6520 6b65 7960 2061 6e64 2060 7075  ate key` and `pu
+00007440: 626c 6963 206b 6579 6020 746f 2060 7365  blic key` to `se
+00007450: 6372 6574 206b 6579 6020 616e 6420 6073  cret key` and `s
+00007460: 6974 6520 6b65 7960 2072 6573 7065 6374  ite key` respect
+00007470: 6976 656c 792e 2043 6f6e 7472 6962 7574  ively. Contribut
+00007480: 6564 2062 7920 5961 7368 204a 6970 6b61  ed by Yash Jipka
+00007490: 7465 2e20 285b 5c23 3632 3537 5d28 6874  te. ([\#6257](ht
+000074a0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+000074b0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+000074c0: 7073 652f 6973 7375 6573 2f36 3235 3729  pse/issues/6257)
+000074d0: 290a 2d20 5570 6461 7465 2060 494e 5354  ).- Update `INST
+000074e0: 414c 4c2e 6d64 6020 456d 6169 6c20 7365  ALL.md` Email se
+000074f0: 6374 696f 6e20 746f 2074 616c 6b20 6162  ction to talk ab
+00007500: 6f75 7420 6061 6363 6f75 6e74 5f74 6872  out `account_thr
+00007510: 6565 7069 645f 6465 6c65 6761 7465 7360  eepid_delegates`
+00007520: 2e20 285b 5c23 3632 3732 5d28 6874 7470  . ([\#6272](http
+00007530: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+00007540: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+00007550: 652f 6973 7375 6573 2f36 3237 3229 290a  e/issues/6272)).
+00007560: 2d20 4669 7820 6120 736d 616c 6c20 7479  - Fix a small ty
+00007570: 706f 2069 6e20 6061 6363 6f75 6e74 5f74  po in `account_t
+00007580: 6872 6565 7069 645f 6465 6c65 6761 7465  hreepid_delegate
+00007590: 7360 2063 6f6e 6669 6775 7261 7469 6f6e  s` configuration
+000075a0: 206f 7074 696f 6e2e 2028 5b5c 2336 3237   option. ([\#627
+000075b0: 335d 2868 7474 7073 3a2f 2f67 6974 6875  3](https://githu
+000075c0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+000075d0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+000075e0: 3632 3733 2929 0a0a 0a49 6e74 6572 6e61  6273))...Interna
+000075f0: 6c20 4368 616e 6765 730a 2d2d 2d2d 2d2d  l Changes.------
+00007600: 2d2d 2d2d 2d2d 2d2d 2d2d 0a0a 2d20 4164  ----------..- Ad
+00007610: 6420 6120 4349 206a 6f62 2074 6f20 7465  d a CI job to te
+00007620: 7374 2074 6865 2060 7379 6e61 7073 655f  st the `synapse_
+00007630: 706f 7274 5f64 6260 2073 6372 6970 742e  port_db` script.
+00007640: 2028 5b5c 2336 3134 305d 2868 7474 7073   ([\#6140](https
+00007650: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00007660: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00007670: 2f69 7373 7565 732f 3631 3430 292c 205b  /issues/6140), [
+00007680: 5c23 3632 3736 5d28 6874 7470 733a 2f2f  \#6276](https://
+00007690: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+000076a0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+000076b0: 7375 6573 2f36 3237 3629 290a 2d20 436f  sues/6276)).- Co
+000076c0: 6e76 6572 7420 4576 656e 7443 6f6e 7465  nvert EventConte
+000076d0: 7874 2074 6f20 616e 2061 7474 7273 2e20  xt to an attrs. 
+000076e0: 285b 5c23 3632 3138 5d28 6874 7470 733a  ([\#6218](https:
+000076f0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00007700: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00007710: 6973 7375 6573 2f36 3231 3829 290a 2d20  issues/6218)).- 
+00007720: 4d6f 7665 2060 7065 7273 6973 745f 6576  Move `persist_ev
+00007730: 656e 7473 6020 6f75 7420 6672 6f6d 206d  ents` out from m
+00007740: 6169 6e20 6461 7461 2073 746f 7265 2e20  ain data store. 
+00007750: 285b 5c23 3632 3430 5d28 6874 7470 733a  ([\#6240](https:
+00007760: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00007770: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00007780: 6973 7375 6573 2f36 3234 3029 2c20 5b5c  issues/6240), [\
+00007790: 2336 3330 305d 2868 7474 7073 3a2f 2f67  #6300](https://g
+000077a0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+000077b0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+000077c0: 7565 732f 3633 3030 2929 0a2d 2052 6564  ues/6300)).- Red
+000077d0: 7563 6520 7665 7262 6f73 6974 7920 6f66  uce verbosity of
+000077e0: 2075 7365 722f 726f 6f6d 2073 7461 7473   user/room stats
+000077f0: 2e20 285b 5c23 3632 3530 5d28 6874 7470  . ([\#6250](http
+00007800: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+00007810: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+00007820: 652f 6973 7375 6573 2f36 3235 3029 290a  e/issues/6250)).
+00007830: 2d20 5265 6475 6365 2069 6d70 6163 7420  - Reduce impact 
+00007840: 6f66 2064 6562 7567 206c 6f67 6769 6e67  of debug logging
+00007850: 2e20 285b 5c23 3632 3531 5d28 6874 7470  . ([\#6251](http
+00007860: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+00007870: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+00007880: 652f 6973 7375 6573 2f36 3235 3129 290a  e/issues/6251)).
+00007890: 2d20 4578 706f 7365 2073 6f6d 6520 686f  - Expose some ho
+000078a0: 6d65 7365 7276 6572 2066 756e 6374 696f  meserver functio
+000078b0: 6e61 6c69 7479 2074 6f20 7370 616d 2063  nality to spam c
+000078c0: 6865 636b 6572 732e 2028 5b5c 2336 3235  heckers. ([\#625
+000078d0: 395d 2868 7474 7073 3a2f 2f67 6974 6875  9](https://githu
+000078e0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+000078f0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00007900: 3632 3539 2929 0a2d 2043 6861 6e67 6520  6259)).- Change 
+00007910: 6361 6368 6520 6465 7363 7269 7074 6f72  cache descriptor
+00007920: 7320 746f 2061 6c77 6179 7320 7265 7475  s to always retu
+00007930: 726e 2064 6566 6572 7265 6473 2e20 285b  rn deferreds. ([
+00007940: 5c23 3632 3633 5d28 6874 7470 733a 2f2f  \#6263](https://
+00007950: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00007960: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00007970: 7375 6573 2f36 3236 3329 2c20 5b5c 2336  sues/6263), [\#6
+00007980: 3239 315d 2868 7474 7073 3a2f 2f67 6974  291](https://git
+00007990: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+000079a0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+000079b0: 732f 3632 3931 2929 0a2d 2046 6978 2069  s/6291)).- Fix i
+000079c0: 6e63 6f72 7265 6374 2063 6f6d 6d65 6e74  ncorrect comment
+000079d0: 2072 6567 6172 6469 6e67 2074 6865 2066   regarding the f
+000079e0: 756e 6374 696f 6e61 6c69 7479 206f 6620  unctionality of 
+000079f0: 616e 2060 6966 6020 7374 6174 656d 656e  an `if` statemen
+00007a00: 742e 2028 5b5c 2336 3236 395d 2868 7474  t. ([\#6269](htt
+00007a10: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00007a20: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00007a30: 7365 2f69 7373 7565 732f 3632 3639 2929  se/issues/6269))
+00007a40: 0a2d 2055 7064 6174 6520 4349 2074 6f20  .- Update CI to 
+00007a50: 7275 6e20 6069 736f 7274 6020 6f76 6572  run `isort` over
+00007a60: 2074 6865 2060 7363 7269 7074 7360 2061   the `scripts` a
+00007a70: 6e64 2060 7363 7269 7074 732d 6465 7660  nd `scripts-dev`
+00007a80: 2064 6972 6563 746f 7269 6573 2e20 285b   directories. ([
+00007a90: 5c23 3632 3730 5d28 6874 7470 733a 2f2f  \#6270](https://
+00007aa0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00007ab0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00007ac0: 7375 6573 2f36 3237 3029 290a 2d20 5265  sues/6270)).- Re
+00007ad0: 706c 6163 6520 6576 6572 7920 696e 7374  place every inst
+00007ae0: 616e 6365 206f 6620 606c 6f67 6765 722e  ance of `logger.
+00007af0: 7761 726e 6020 6d65 7468 6f64 2077 6974  warn` method wit
+00007b00: 6820 606c 6f67 6765 722e 7761 726e 696e  h `logger.warnin
+00007b10: 6760 2061 7320 7468 6520 666f 726d 6572  g` as the former
+00007b20: 2069 7320 6465 7072 6563 6174 6564 2e20   is deprecated. 
+00007b30: 285b 5c23 3632 3731 5d28 6874 7470 733a  ([\#6271](https:
+00007b40: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00007b50: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00007b60: 6973 7375 6573 2f36 3237 3129 2c20 5b5c  issues/6271), [\
+00007b70: 2336 3331 345d 2868 7474 7073 3a2f 2f67  #6314](https://g
+00007b80: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00007b90: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00007ba0: 7565 732f 3633 3134 2929 0a2d 2050 6f72  ues/6314)).- Por
+00007bb0: 7420 7265 706c 6963 6174 696f 6e20 6874  t replication ht
+00007bc0: 7470 2073 6572 7665 7220 656e 6470 6f69  tp server endpoi
+00007bd0: 6e74 7320 746f 2061 7379 6e63 2f61 7761  nts to async/awa
+00007be0: 6974 2e20 285b 5c23 3632 3734 5d28 6874  it. ([\#6274](ht
+00007bf0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00007c00: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+00007c10: 7073 652f 6973 7375 6573 2f36 3237 3429  pse/issues/6274)
+00007c20: 290a 2d20 506f 7274 2072 6f6f 6d20 7265  ).- Port room re
+00007c30: 7374 2068 616e 646c 6572 7320 746f 2061  st handlers to a
+00007c40: 7379 6e63 2f61 7761 6974 2e20 285b 5c23  sync/await. ([\#
+00007c50: 3632 3735 5d28 6874 7470 733a 2f2f 6769  6275](https://gi
+00007c60: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+00007c70: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+00007c80: 6573 2f36 3237 3529 290a 2d20 5265 6d6f  es/6275)).- Remo
+00007c90: 7665 2072 6564 756e 6461 6e74 2043 4c49  ve redundant CLI
+00007ca0: 2070 6172 616d 6574 6572 7320 6f6e 2043   parameters on C
+00007cb0: 4927 7320 6066 6c61 6b65 3860 2073 7465  I's `flake8` ste
+00007cc0: 702e 2028 5b5c 2336 3237 375d 2868 7474  p. ([\#6277](htt
+00007cd0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00007ce0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00007cf0: 7365 2f69 7373 7565 732f 3632 3737 2929  se/issues/6277))
+00007d00: 0a2d 2050 6f72 7420 6066 6564 6572 6174  .- Port `federat
+00007d10: 696f 6e5f 7365 7276 6572 2e70 7960 2074  ion_server.py` t
+00007d20: 6f20 6173 796e 632f 6177 6169 742e 2028  o async/await. (
+00007d30: 5b5c 2336 3237 395d 2868 7474 7073 3a2f  [\#6279](https:/
+00007d40: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+00007d50: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00007d60: 7373 7565 732f 3632 3739 2929 0a2d 2050  ssues/6279)).- P
+00007d70: 6f72 7420 7265 6365 6970 7420 616e 6420  ort receipt and 
+00007d80: 7265 6164 206d 6172 6b65 7273 2074 6f20  read markers to 
+00007d90: 6173 796e 632f 7761 6974 2e20 285b 5c23  async/wait. ([\#
+00007da0: 3632 3830 5d28 6874 7470 733a 2f2f 6769  6280](https://gi
+00007db0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+00007dc0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+00007dd0: 6573 2f36 3238 3029 290a 2d20 5370 6c69  es/6280)).- Spli
+00007de0: 7420 6f75 7420 7374 6174 6520 7374 6f72  t out state stor
+00007df0: 6167 6520 696e 746f 2073 6570 6172 6174  age into separat
+00007e00: 6520 6461 7461 2073 746f 7265 2e20 285b  e data store. ([
+00007e10: 5c23 3632 3934 5d28 6874 7470 733a 2f2f  \#6294](https://
+00007e20: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00007e30: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00007e40: 7375 6573 2f36 3239 3429 2c20 5b5c 2336  sues/6294), [\#6
+00007e50: 3239 355d 2868 7474 7073 3a2f 2f67 6974  295](https://git
+00007e60: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00007e70: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+00007e80: 732f 3632 3935 2929 0a2d 2052 6566 6163  s/6295)).- Refac
+00007e90: 746f 7220 4576 656e 7443 6f6e 7465 7874  tor EventContext
+00007ea0: 2066 6f72 2063 6c61 7269 7479 2e20 285b   for clarity. ([
+00007eb0: 5c23 3632 3938 5d28 6874 7470 733a 2f2f  \#6298](https://
+00007ec0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00007ed0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00007ee0: 7375 6573 2f36 3239 3829 290a 2d20 5570  sues/6298)).- Up
+00007ef0: 6461 7465 2074 6865 2076 6572 7369 6f6e  date the version
+00007f00: 206f 6620 626c 6163 6b20 7573 6564 2074   of black used t
+00007f10: 6f20 3139 2e31 3062 302e 2028 5b5c 2336  o 19.10b0. ([\#6
+00007f20: 3330 345d 2868 7474 7073 3a2f 2f67 6974  304](https://git
+00007f30: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00007f40: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+00007f50: 732f 3633 3034 2929 0a2d 2041 6464 2073  s/6304)).- Add s
+00007f60: 6f6d 6520 646f 6375 6d65 6e74 6174 696f  ome documentatio
+00007f70: 6e20 6162 6f75 7420 776f 726b 6572 2072  n about worker r
+00007f80: 6570 6c69 6361 7469 6f6e 2e20 285b 5c23  eplication. ([\#
+00007f90: 3633 3035 5d28 6874 7470 733a 2f2f 6769  6305](https://gi
+00007fa0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+00007fb0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+00007fc0: 6573 2f36 3330 3529 290a 2d20 4d6f 7665  es/6305)).- Move
+00007fd0: 2061 646d 696e 2065 6e64 706f 696e 7473   admin endpoints
+00007fe0: 2069 6e74 6f20 7365 7061 7261 7465 2066   into separate f
+00007ff0: 696c 6573 2e20 436f 6e74 7269 6275 7465  iles. Contribute
+00008000: 6420 6279 2041 7765 736f 6d65 2054 6563  d by Awesome Tec
+00008010: 686e 6f6c 6f67 6965 7320 496e 6e6f 7661  hnologies Innova
+00008020: 7469 6f6e 736c 6162 6f72 2047 6d62 482e  tionslabor GmbH.
+00008030: 2028 5b5c 2336 3330 385d 2868 7474 7073   ([\#6308](https
+00008040: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00008050: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00008060: 2f69 7373 7565 732f 3633 3038 2929 0a2d  /issues/6308)).-
+00008070: 2044 6f63 756d 656e 7420 7468 6520 7573   Document the us
+00008080: 6520 6f66 2060 6c69 6e74 2e73 6860 2066  e of `lint.sh` f
+00008090: 6f72 2063 6f64 6520 7374 796c 6520 656e  or code style en
+000080a0: 666f 7263 656d 656e 7420 2620 6578 7465  forcement & exte
+000080b0: 6e64 2069 7420 746f 2072 756e 206f 6e20  nd it to run on 
+000080c0: 7370 6563 6966 6965 6420 7061 7468 7320  specified paths 
+000080d0: 6f6e 6c79 2e20 285b 5c23 3633 3132 5d28  only. ([\#6312](
+000080e0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+000080f0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00008100: 6e61 7073 652f 6973 7375 6573 2f36 3331  napse/issues/631
+00008110: 3229 290a 2d20 4164 6420 6f70 7469 6f6e  2)).- Add option
+00008120: 616c 2070 7974 686f 6e20 6465 7065 6e64  al python depend
+00008130: 656e 6369 6573 2061 6e64 2064 6570 656e  encies and depen
+00008140: 6461 6e74 2062 696e 6172 7920 6c69 6272  dant binary libr
+00008150: 6172 6965 7320 746f 2073 6e61 7063 7261  aries to snapcra
+00008160: 6674 2070 6163 6b61 6769 6e67 2e20 285b  ft packaging. ([
+00008170: 5c23 3633 3137 5d28 6874 7470 733a 2f2f  \#6317](https://
+00008180: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00008190: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+000081a0: 7375 6573 2f36 3331 3729 290a 2d20 5265  sues/6317)).- Re
+000081b0: 6d6f 7665 2074 6865 2064 6570 656e 6465  move the depende
+000081c0: 6e63 7920 6f6e 2070 7375 7469 6c20 616e  ncy on psutil an
+000081d0: 6420 7265 706c 6163 6520 6675 6e63 7469  d replace functi
+000081e0: 6f6e 616c 6974 7920 7769 7468 2074 6865  onality with the
+000081f0: 2073 7464 6c69 6220 6072 6573 6f75 7263   stdlib `resourc
+00008200: 6560 206d 6f64 756c 652e 2028 5b5c 2336  e` module. ([\#6
+00008210: 3331 385d 2868 7474 7073 3a2f 2f67 6974  318](https://git
+00008220: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00008230: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+00008240: 732f 3633 3138 292c 205b 5c23 3633 3336  s/6318), [\#6336
+00008250: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00008260: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00008270: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
+00008280: 3333 3629 290a 2d20 496d 7072 6f76 6520  336)).- Improve 
+00008290: 646f 6375 6d65 6e74 6174 696f 6e20 666f  documentation fo
+000082a0: 7220 4576 656e 7443 6f6e 7465 7874 2066  r EventContext f
+000082b0: 6965 6c64 732e 2028 5b5c 2336 3331 395d  ields. ([\#6319]
+000082c0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+000082d0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+000082e0: 796e 6170 7365 2f69 7373 7565 732f 3633  ynapse/issues/63
+000082f0: 3139 2929 0a2d 2041 6464 2073 6f6d 6520  19)).- Add some 
+00008300: 6368 6563 6b73 2074 6861 7420 7765 2061  checks that we a
+00008310: 7265 6e27 7420 7573 696e 6720 7374 6174  ren't using stat
+00008320: 6520 6672 6f6d 2072 656a 6563 7465 6420  e from rejected 
+00008330: 6576 656e 7473 2e20 285b 5c23 3633 3330  events. ([\#6330
+00008340: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00008350: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00008360: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
+00008370: 3333 3029 290a 2d20 4164 6420 636f 6e74  330)).- Add cont
+00008380: 696e 756f 7573 2069 6e74 6567 7261 7469  inuous integrati
+00008390: 6f6e 2066 6f72 2070 7974 686f 6e20 332e  on for python 3.
+000083a0: 382e 2028 5b5c 2336 3334 315d 2868 7474  8. ([\#6341](htt
+000083b0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+000083c0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+000083d0: 7365 2f69 7373 7565 732f 3633 3431 2929  se/issues/6341))
+000083e0: 0a2d 2043 6f72 7265 6374 2073 7061 6369  .- Correct spaci
+000083f0: 6e67 2f63 6173 6520 6f66 2076 6172 696f  ng/case of vario
+00008400: 7573 2069 6e73 7461 6e63 6573 206f 6620  us instances of 
+00008410: 7468 6520 776f 7264 2022 686f 6d65 7365  the word "homese
+00008420: 7276 6572 222e 2028 5b5c 2336 3335 375d  rver". ([\#6357]
+00008430: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00008440: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+00008450: 796e 6170 7365 2f69 7373 7565 732f 3633  ynapse/issues/63
+00008460: 3537 2929 0a2d 2054 656d 706f 7261 7269  57)).- Temporari
+00008470: 6c79 2062 6c61 636b 6c69 7374 2074 6865  ly blacklist the
+00008480: 2066 6169 6c69 6e67 2075 6e69 7420 7465   failing unit te
+00008490: 7374 2050 7572 6765 526f 6f6d 5465 7374  st PurgeRoomTest
+000084a0: 4361 7365 2e74 6573 745f 7075 7267 655f  Case.test_purge_
+000084b0: 726f 6f6d 2e20 285b 5c23 3633 3631 5d28  room. ([\#6361](
+000084c0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+000084d0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+000084e0: 6e61 7073 652f 6973 7375 6573 2f36 3336  napse/issues/636
+000084f0: 3129 290a 0a0a 5379 6e61 7073 6520 312e  1))...Synapse 1.
+00008500: 352e 3120 2832 3031 392d 3131 2d30 3629  5.1 (2019-11-06)
+00008510: 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  .===============
+00008520: 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a46 6561  ===========..Fea
+00008530: 7475 7265 730a 2d2d 2d2d 2d2d 2d2d 0a0a  tures.--------..
+00008540: 2d20 4c69 6d69 7420 7468 6520 6c65 6e67  - Limit the leng
+00008550: 7468 206f 6620 6461 7461 2072 6574 7572  th of data retur
+00008560: 6e65 6420 6279 2075 726c 2070 7265 7669  ned by url previ
+00008570: 6577 732c 2074 6f20 7072 6576 656e 7420  ews, to prevent 
+00008580: 446f 5320 6174 7461 636b 732e 2028 5b5c  DoS attacks. ([\
+00008590: 2336 3333 315d 2868 7474 7073 3a2f 2f67  #6331](https://g
+000085a0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+000085b0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+000085c0: 7565 732f 3633 3331 292c 205b 5c23 3633  ues/6331), [\#63
+000085d0: 3334 5d28 6874 7470 733a 2f2f 6769 7468  34](https://gith
+000085e0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+000085f0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00008600: 2f36 3333 3429 290a 0a0a 5379 6e61 7073  /6334))...Synaps
+00008610: 6520 312e 352e 3020 2832 3031 392d 3130  e 1.5.0 (2019-10
+00008620: 2d32 3929 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d  -29).===========
+00008630: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a  ===============.
+00008640: 0a53 6563 7572 6974 7920 7570 6461 7465  .Security update
+00008650: 730a 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  s.--------------
+00008660: 2d2d 0a0a 5468 6973 2072 656c 6561 7365  --..This release
+00008670: 2069 6e63 6c75 6465 7320 6120 7365 6375   includes a secu
+00008680: 7269 7479 2066 6978 2028 5b5c 2336 3236  rity fix ([\#626
+00008690: 325d 2868 7474 7073 3a2f 2f67 6974 6875  2](https://githu
+000086a0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+000086b0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+000086c0: 3632 3632 292c 2062 656c 6f77 292e 2041  6262), below). A
+000086d0: 646d 696e 6973 7472 6174 6f72 7320 6172  dministrators ar
+000086e0: 6520 656e 636f 7572 6167 6564 2074 6f20  e encouraged to 
+000086f0: 7570 6772 6164 6520 6173 2073 6f6f 6e20  upgrade as soon 
+00008700: 6173 2070 6f73 7369 626c 652e 0a0a 4275  as possible...Bu
+00008710: 6766 6978 6573 0a2d 2d2d 2d2d 2d2d 2d0a  gfixes.--------.
+00008720: 0a2d 2046 6978 2062 7567 2077 6865 7265  .- Fix bug where
+00008730: 2072 6f6f 6d20 6469 7265 6374 6f72 7920   room directory 
+00008740: 7365 6172 6368 2077 6173 2063 6173 6520  search was case 
+00008750: 7365 6e73 6974 6976 652e 2028 5b5c 2336  sensitive. ([\#6
+00008760: 3236 385d 2868 7474 7073 3a2f 2f67 6974  268](https://git
+00008770: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00008780: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+00008790: 732f 3632 3638 2929 0a0a 0a53 796e 6170  s/6268))...Synap
+000087a0: 7365 2031 2e35 2e30 7263 3220 2832 3031  se 1.5.0rc2 (201
+000087b0: 392d 3130 2d32 3829 0a3d 3d3d 3d3d 3d3d  9-10-28).=======
+000087c0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000087d0: 3d3d 3d3d 3d3d 0a0a 4275 6766 6978 6573  ======..Bugfixes
+000087e0: 0a2d 2d2d 2d2d 2d2d 2d0a 0a2d 2055 7064  .--------..- Upd
+000087f0: 6174 6520 6c69 7374 206f 6620 626f 6f6c  ate list of bool
+00008800: 6561 6e20 636f 6c75 6d6e 7320 696e 2060  ean columns in `
+00008810: 7379 6e61 7073 655f 706f 7274 5f64 6260  synapse_port_db`
+00008820: 2e20 285b 5c23 3632 3437 5d28 6874 7470  . ([\#6247](http
 00008830: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
 00008840: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00008850: 652f 6973 7375 6573 2f36 3235 3529 290a  e/issues/6255)).
-00008860: 0a0a 5379 6e61 7073 6520 312e 352e 3072  ..Synapse 1.5.0r
-00008870: 6331 2028 3230 3139 2d31 302d 3234 290a  c1 (2019-10-24).
-00008880: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00008890: 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 4665 6174  ==========..Feat
-000088a0: 7572 6573 0a2d 2d2d 2d2d 2d2d 2d0a 0a2d  ures.--------..-
-000088b0: 2049 6d70 726f 7665 2071 7561 6c69 7479   Improve quality
-000088c0: 206f 6620 7468 756d 626e 6169 6c73 2066   of thumbnails f
-000088d0: 6f72 2031 2d62 6974 2f38 2d62 6974 2063  or 1-bit/8-bit c
-000088e0: 6f6c 6f72 2070 616c 6574 7465 2069 6d61  olor palette ima
-000088f0: 6765 732e 2028 5b5c 2332 3134 325d 2868  ges. ([\#2142](h
-00008900: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00008910: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00008920: 6170 7365 2f69 7373 7565 732f 3231 3432  apse/issues/2142
-00008930: 2929 0a2d 2041 6464 2061 6269 6c69 7479  )).- Add ability
-00008940: 2074 6f20 7570 6c6f 6164 2063 726f 7373   to upload cross
-00008950: 2d73 6967 6e69 6e67 2073 6967 6e61 7475  -signing signatu
-00008960: 7265 732e 2028 5b5c 2335 3732 365d 2868  res. ([\#5726](h
-00008970: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00008980: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00008990: 6170 7365 2f69 7373 7565 732f 3537 3236  apse/issues/5726
-000089a0: 2929 0a2d 2041 6c6c 6f77 2075 706c 6f61  )).- Allow uploa
-000089b0: 6469 6e67 206f 6620 6372 6f73 732d 7369  ding of cross-si
-000089c0: 676e 696e 6720 6b65 7973 2e20 285b 5c23  gning keys. ([\#
-000089d0: 3537 3639 5d28 6874 7470 733a 2f2f 6769  5769](https://gi
-000089e0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-000089f0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-00008a00: 6573 2f35 3736 3929 290a 2d20 4341 5320  es/5769)).- CAS 
-00008a10: 6c6f 6769 6e20 6e6f 7720 7072 6f76 6964  login now provid
-00008a20: 6573 2061 2064 6566 6175 6c74 2064 6973  es a default dis
-00008a30: 706c 6179 206e 616d 6520 666f 7220 7573  play name for us
-00008a40: 6572 7320 6966 2061 2060 6469 7370 6c61  ers if a `displa
-00008a50: 796e 616d 655f 6174 7472 6962 7574 6560  yname_attribute`
-00008a60: 2069 7320 7365 7420 696e 2074 6865 2063   is set in the c
-00008a70: 6f6e 6669 6775 7261 7469 6f6e 2066 696c  onfiguration fil
-00008a80: 652e 2028 5b5c 2336 3131 345d 2868 7474  e. ([\#6114](htt
-00008a90: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00008aa0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-00008ab0: 7365 2f69 7373 7565 732f 3631 3134 2929  se/issues/6114))
-00008ac0: 0a2d 2052 656a 6563 7420 616c 6c20 7065  .- Reject all pe
-00008ad0: 6e64 696e 6720 696e 7669 7465 7320 666f  nding invites fo
-00008ae0: 7220 6120 7573 6572 2064 7572 696e 6720  r a user during 
-00008af0: 6465 6163 7469 7661 7469 6f6e 2e20 285b  deactivation. ([
-00008b00: 5c23 3631 3235 5d28 6874 7470 733a 2f2f  \#6125](https://
+00008850: 652f 6973 7375 6573 2f36 3234 3729 290a  e/issues/6247)).
+00008860: 2d20 4669 7820 2f6b 6579 732f 7175 6572  - Fix /keys/quer
+00008870: 7920 4150 4920 6f6e 2077 6f72 6b65 7273  y API on workers
+00008880: 2e20 285b 5c23 3632 3536 5d28 6874 7470  . ([\#6256](http
+00008890: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+000088a0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+000088b0: 652f 6973 7375 6573 2f36 3235 3629 290a  e/issues/6256)).
+000088c0: 2d20 496d 7072 6f76 6520 7369 676e 6174  - Improve signat
+000088d0: 7572 6520 6368 6563 6b69 6e67 206f 6e20  ure checking on 
+000088e0: 736f 6d65 2066 6564 6572 6174 696f 6e20  some federation 
+000088f0: 4150 4973 2e20 285b 5c23 3632 3632 5d28  APIs. ([\#6262](
+00008900: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00008910: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00008920: 6e61 7073 652f 6973 7375 6573 2f36 3236  napse/issues/626
+00008930: 3229 290a 0a0a 496e 7465 726e 616c 2043  2))...Internal C
+00008940: 6861 6e67 6573 0a2d 2d2d 2d2d 2d2d 2d2d  hanges.---------
+00008950: 2d2d 2d2d 2d2d 2d0a 0a2d 204d 6f76 6520  -------..- Move 
+00008960: 7363 6865 6d61 2064 656c 7461 2066 696c  schema delta fil
+00008970: 6573 2074 6f20 7468 6520 636f 7272 6563  es to the correc
+00008980: 7420 6461 7461 2073 746f 7265 2e20 285b  t data store. ([
+00008990: 5c23 3632 3438 5d28 6874 7470 733a 2f2f  \#6248](https://
+000089a0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+000089b0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+000089c0: 7375 6573 2f36 3234 3829 290a 2d20 536d  sues/6248)).- Sm
+000089d0: 616c 6c20 7065 7266 6f72 6d61 6e63 6520  all performance 
+000089e0: 696d 7072 6f76 656d 656e 7420 6279 2072  improvement by r
+000089f0: 656d 6f76 696e 6720 7265 7065 6174 6564  emoving repeated
+00008a00: 2063 6f6e 6669 6720 6c6f 6f6b 7570 7320   config lookups 
+00008a10: 696e 2072 6f6f 6d20 7374 6174 7320 6361  in room stats ca
+00008a20: 6c63 756c 6174 696f 6e2e 2028 5b5c 2336  lculation. ([\#6
+00008a30: 3235 355d 2868 7474 7073 3a2f 2f67 6974  255](https://git
+00008a40: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00008a50: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+00008a60: 732f 3632 3535 2929 0a0a 0a53 796e 6170  s/6255))...Synap
+00008a70: 7365 2031 2e35 2e30 7263 3120 2832 3031  se 1.5.0rc1 (201
+00008a80: 392d 3130 2d32 3429 0a3d 3d3d 3d3d 3d3d  9-10-24).=======
+00008a90: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00008aa0: 3d3d 3d0a 0a46 6561 7475 7265 730a 2d2d  ===..Features.--
+00008ab0: 2d2d 2d2d 2d2d 0a0a 2d20 496d 7072 6f76  ------..- Improv
+00008ac0: 6520 7175 616c 6974 7920 6f66 2074 6875  e quality of thu
+00008ad0: 6d62 6e61 696c 7320 666f 7220 312d 6269  mbnails for 1-bi
+00008ae0: 742f 382d 6269 7420 636f 6c6f 7220 7061  t/8-bit color pa
+00008af0: 6c65 7474 6520 696d 6167 6573 2e20 285b  lette images. ([
+00008b00: 5c23 3231 3432 5d28 6874 7470 733a 2f2f  \#2142](https://
 00008b10: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
 00008b20: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00008b30: 7375 6573 2f36 3132 3529 290a 2d20 4164  sues/6125)).- Ad
-00008b40: 6420 636f 6e66 6967 206f 7074 696f 6e20  d config option 
-00008b50: 746f 2073 7570 7072 6573 7320 636c 6965  to suppress clie
-00008b60: 6e74 2073 6964 6520 7265 736f 7572 6365  nt side resource
-00008b70: 206c 696d 6974 2061 6c65 7274 696e 672e   limit alerting.
-00008b80: 2028 5b5c 2336 3137 335d 2868 7474 7073   ([\#6173](https
-00008b90: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00008ba0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00008bb0: 2f69 7373 7565 732f 3631 3733 2929 0a0a  /issues/6173))..
-00008bc0: 0a42 7567 6669 7865 730a 2d2d 2d2d 2d2d  .Bugfixes.------
-00008bd0: 2d2d 0a0a 2d20 5265 7475 726e 2061 6e20  --..- Return an 
-00008be0: 4854 5450 2034 3034 2069 6e73 7465 6164  HTTP 404 instead
-00008bf0: 206f 6620 3430 3020 7768 656e 2072 6571   of 400 when req
-00008c00: 7565 7374 696e 6720 6120 6669 6c74 6572  uesting a filter
-00008c10: 2062 7920 4944 2074 6861 7420 6973 2075   by ID that is u
-00008c20: 6e6b 6e6f 776e 2074 6f20 7468 6520 7365  nknown to the se
-00008c30: 7276 6572 2e20 5468 616e 6b73 2074 6f20  rver. Thanks to 
-00008c40: 406b 726f 6d62 656c 2066 6f72 2063 6f6e  @krombel for con
-00008c50: 7472 6962 7574 696e 6720 7468 6973 2120  tributing this! 
-00008c60: 285b 5c23 3233 3830 5d28 6874 7470 733a  ([\#2380](https:
-00008c70: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00008c80: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00008c90: 6973 7375 6573 2f32 3338 3029 290a 2d20  issues/2380)).- 
-00008ca0: 4669 7820 6120 6275 6720 7768 6572 6520  Fix a bug where 
-00008cb0: 7573 6572 7320 636f 756c 6420 6265 2069  users could be i
-00008cc0: 6e76 6974 6564 2074 7769 6365 2074 6f20  nvited twice to 
-00008cd0: 7468 6520 7361 6d65 2067 726f 7570 2e20  the same group. 
-00008ce0: 285b 5c23 3334 3336 5d28 6874 7470 733a  ([\#3436](https:
-00008cf0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00008d00: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00008d10: 6973 7375 6573 2f33 3433 3629 290a 2d20  issues/3436)).- 
-00008d20: 4669 7820 602f 6372 6561 7465 526f 6f6d  Fix `/createRoom
-00008d30: 6020 6661 696c 696e 6720 7769 7468 2062  ` failing with b
-00008d40: 6164 6c79 2d66 6f72 6d61 7474 6564 204d  adly-formatted M
-00008d50: 5849 4473 2069 6e20 7468 6520 696e 7669  XIDs in the invi
-00008d60: 7465 6520 6c69 7374 2e20 5468 616e 6b73  tee list. Thanks
-00008d70: 2074 6f20 4077 656e 6572 3239 3121 2028   to @wener291! (
-00008d80: 5b5c 2334 3038 385d 2868 7474 7073 3a2f  [\#4088](https:/
-00008d90: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00008da0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00008db0: 7373 7565 732f 3430 3838 2929 0a2d 204d  ssues/4088)).- M
-00008dc0: 616b 6520 7468 6520 6073 796e 6170 7365  ake the `synapse
-00008dd0: 5f70 6f72 745f 6462 6020 7363 7269 7074  _port_db` script
-00008de0: 2063 7265 6174 6520 7468 6520 7269 6768   create the righ
-00008df0: 7420 696e 6465 7865 7320 6f6e 2061 206e  t indexes on a n
-00008e00: 6577 2050 6f73 7467 7265 5351 4c20 6461  ew PostgreSQL da
-00008e10: 7461 6261 7365 2e20 285b 5c23 3631 3032  tabase. ([\#6102
-00008e20: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00008e30: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00008e40: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
-00008e50: 3130 3229 2c20 5b5c 2336 3137 385d 2868  102), [\#6178](h
-00008e60: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00008e70: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00008e80: 6170 7365 2f69 7373 7565 732f 3631 3738  apse/issues/6178
-00008e90: 292c 205b 5c23 3632 3433 5d28 6874 7470  ), [\#6243](http
-00008ea0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00008eb0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00008ec0: 652f 6973 7375 6573 2f36 3234 3329 290a  e/issues/6243)).
-00008ed0: 2d20 4669 7820 6275 6720 7768 656e 2075  - Fix bug when u
-00008ee0: 706c 6f61 6469 6e67 2061 206c 6172 6765  ploading a large
-00008ef0: 2066 696c 653a 2053 796e 6170 7365 2072   file: Synapse r
-00008f00: 6573 706f 6e64 7320 7769 7468 2060 4d5f  esponds with `M_
-00008f10: 554e 4b4e 4f57 4e60 2077 6869 6c65 2069  UNKNOWN` while i
-00008f20: 7420 7368 6f75 6c64 2062 6520 604d 5f54  t should be `M_T
-00008f30: 4f4f 5f4c 4152 4745 6020 6163 636f 7264  OO_LARGE` accord
-00008f40: 696e 6720 746f 2073 7065 632e 2043 6f6e  ing to spec. Con
-00008f50: 7472 6962 7574 6564 2062 7920 416e 7368  tributed by Ansh
-00008f60: 756c 2041 6e67 6172 6961 2e20 285b 5c23  ul Angaria. ([\#
-00008f70: 3631 3039 5d28 6874 7470 733a 2f2f 6769  6109](https://gi
-00008f80: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-00008f90: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-00008fa0: 6573 2f36 3130 3929 290a 2d20 4669 7820  es/6109)).- Fix 
-00008fb0: 7573 6572 2070 7573 6820 7275 6c65 7320  user push rules 
-00008fc0: 6265 696e 6720 6465 6c65 7465 6420 6672  being deleted fr
-00008fd0: 6f6d 2061 2072 6f6f 6d20 7768 656e 2069  om a room when i
-00008fe0: 7420 6973 2075 7067 7261 6465 642e 2028  t is upgraded. (
-00008ff0: 5b5c 2336 3134 345d 2868 7474 7073 3a2f  [\#6144](https:/
-00009000: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00009010: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00009020: 7373 7565 732f 3631 3434 2929 0a2d 2044  ssues/6144)).- D
-00009030: 6f6e 2774 2035 3030 2077 6865 6e20 7472  on't 500 when tr
-00009040: 7969 6e67 2074 6f20 6578 6368 616e 6765  ying to exchange
-00009050: 2061 2072 6576 6f6b 6564 2033 5049 4420   a revoked 3PID 
-00009060: 696e 7669 7465 2e20 285b 5c23 3631 3437  invite. ([\#6147
-00009070: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00009080: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00009090: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
-000090a0: 3134 3729 290a 2d20 4669 7820 7472 616e  147)).- Fix tran
-000090b0: 7366 6572 7269 6e67 206e 6f74 6966 6963  sferring notific
-000090c0: 6174 696f 6e73 2061 6e64 2074 6167 7320  ations and tags 
-000090d0: 7768 656e 206a 6f69 6e69 6e67 2061 6e20  when joining an 
-000090e0: 7570 6772 6164 6564 2072 6f6f 6d20 7468  upgraded room th
-000090f0: 6174 2069 7320 6e65 7720 746f 2079 6f75  at is new to you
-00009100: 7220 7365 7276 6572 2e20 285b 5c23 3631  r server. ([\#61
-00009110: 3535 5d28 6874 7470 733a 2f2f 6769 7468  55](https://gith
-00009120: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00009130: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00009140: 2f36 3135 3529 290a 2d20 4669 7820 6275  /6155)).- Fix bu
-00009150: 6720 7768 6572 6520 6775 6573 7420 6163  g where guest ac
-00009160: 636f 756e 7420 7265 6769 7374 7261 7469  count registrati
-00009170: 6f6e 2063 616e 2077 6564 6765 2061 6674  on can wedge aft
-00009180: 6572 2072 6573 7461 7274 2e20 285b 5c23  er restart. ([\#
-00009190: 3631 3631 5d28 6874 7470 733a 2f2f 6769  6161](https://gi
-000091a0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-000091b0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-000091c0: 6573 2f36 3136 3129 290a 2d20 4669 7820  es/6161)).- Fix 
-000091d0: 6d6f 6e74 686c 7920 6163 7469 7665 2075  monthly active u
-000091e0: 7365 7220 7265 6170 696e 6720 7768 656e  ser reaping when
-000091f0: 2072 6573 6572 7665 6420 7573 6572 7320   reserved users 
-00009200: 6172 6520 7370 6563 6966 6965 642e 2028  are specified. (
-00009210: 5b5c 2336 3136 385d 2868 7474 7073 3a2f  [\#6168](https:/
-00009220: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00009230: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00009240: 7373 7565 732f 3631 3638 2929 0a2d 2046  ssues/6168)).- F
-00009250: 6978 2060 2f66 6564 6572 6174 696f 6e2f  ix `/federation/
-00009260: 7631 2f73 7461 7465 6020 656e 6470 6f69  v1/state` endpoi
-00009270: 6e74 206e 6f74 2073 7570 706f 7274 696e  nt not supportin
-00009280: 6720 6e65 7765 7220 726f 6f6d 2076 6572  g newer room ver
-00009290: 7369 6f6e 732e 2028 5b5c 2336 3137 305d  sions. ([\#6170]
-000092a0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-000092b0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-000092c0: 796e 6170 7365 2f69 7373 7565 732f 3631  ynapse/issues/61
-000092d0: 3730 2929 0a2d 2046 6978 2062 7567 2077  70)).- Fix bug w
-000092e0: 6865 7265 2077 6520 7765 7265 2075 7064  here we were upd
-000092f0: 6174 696e 6720 6365 6e73 6f72 6564 2065  ating censored e
-00009300: 7665 6e74 7320 6173 2062 7974 6573 2072  vents as bytes r
-00009310: 6174 6865 7220 7468 616e 2074 6578 742c  ather than text,
-00009320: 206f 6363 6169 736f 6e61 6c6c 7920 6361   occaisonally ca
-00009330: 7573 696e 6720 696e 7661 6c69 6420 4a53  using invalid JS
-00009340: 4f4e 2062 6569 6e67 2069 6e73 6572 7465  ON being inserte
-00009350: 6420 6272 6561 6b69 6e67 2041 5049 7320  d breaking APIs 
-00009360: 7468 6174 2061 7474 656d 7074 6564 2074  that attempted t
-00009370: 6f20 6665 7463 6820 7375 6368 2065 7665  o fetch such eve
-00009380: 6e74 732e 2028 5b5c 2336 3138 365d 2868  nts. ([\#6186](h
-00009390: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-000093a0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-000093b0: 6170 7365 2f69 7373 7565 732f 3631 3836  apse/issues/6186
-000093c0: 2929 0a2d 2046 6978 206f 6363 6173 696f  )).- Fix occasio
-000093d0: 6e61 6c20 6d69 7373 6564 2075 7064 6174  nal missed updat
-000093e0: 6573 2069 6e20 7468 6520 726f 6f6d 2061  es in the room a
-000093f0: 6e64 2075 7365 7220 6469 7265 6374 6f72  nd user director
-00009400: 6965 732e 2028 5b5c 2336 3138 375d 2868  ies. ([\#6187](h
-00009410: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00009420: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00009430: 6170 7365 2f69 7373 7565 732f 3631 3837  apse/issues/6187
-00009440: 2929 0a2d 2046 6978 2074 7261 6369 6e67  )).- Fix tracing
-00009450: 206f 6620 6e6f 6e2d 4a53 4f4e 2041 5049   of non-JSON API
-00009460: 732c 2060 2f6d 6564 6961 602c 2060 2f6b  s, `/media`, `/k
-00009470: 6579 6020 6574 632e 2028 5b5c 2336 3139  ey` etc. ([\#619
-00009480: 355d 2868 7474 7073 3a2f 2f67 6974 6875  5](https://githu
-00009490: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-000094a0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-000094b0: 3631 3935 2929 0a2d 2046 6978 2062 7567  6195)).- Fix bug
-000094c0: 2077 6865 7265 2070 7265 7365 6e63 6520   where presence 
-000094d0: 776f 756c 6420 6e6f 7420 6765 7420 7469  would not get ti
-000094e0: 6d65 6420 6f75 7420 636f 7272 6563 746c  med out correctl
-000094f0: 7920 6966 2061 2073 796e 6368 726f 7472  y if a synchrotr
-00009500: 6f6e 2077 6f72 6b65 7220 6973 2075 7365  on worker is use
-00009510: 6420 616e 6420 7265 7374 6172 7465 642e  d and restarted.
-00009520: 2028 5b5c 2336 3231 325d 2868 7474 7073   ([\#6212](https
-00009530: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00009540: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00009550: 2f69 7373 7565 732f 3632 3132 2929 0a2d  /issues/6212)).-
-00009560: 2073 796e 6170 7365 5f70 6f72 745f 6462   synapse_port_db
-00009570: 3a20 4164 6420 3220 6164 6469 7469 6f6e  : Add 2 addition
-00009580: 616c 2042 4f4f 4c45 414e 5f43 4f4c 554d  al BOOLEAN_COLUM
-00009590: 4e53 2074 6f20 6265 2061 626c 6520 746f  NS to be able to
-000095a0: 2063 6f6e 7665 7274 2066 726f 6d20 6461   convert from da
-000095b0: 7461 6261 7365 2073 6368 656d 6120 7635  tabase schema v5
-000095c0: 362e 2028 5b5c 2336 3231 365d 2868 7474  6. ([\#6216](htt
-000095d0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-000095e0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-000095f0: 7365 2f69 7373 7565 732f 3632 3136 2929  se/issues/6216))
-00009600: 0a2d 2046 6978 2061 2062 7567 2077 6865  .- Fix a bug whe
-00009610: 7265 2074 6865 2053 796e 6170 7365 2064  re the Synapse d
-00009620: 656d 6f20 7363 7269 7074 2062 6c61 636b  emo script black
-00009630: 6c69 7374 6564 2060 3a3a 3160 2028 6970  listed `::1` (ip
-00009640: 7636 206c 6f63 616c 686f 7374 2920 6672  v6 localhost) fr
-00009650: 6f6d 2072 6563 6569 7669 6e67 2066 6564  om receiving fed
-00009660: 6572 6174 696f 6e20 7472 6166 6669 632e  eration traffic.
-00009670: 2028 5b5c 2336 3232 395d 2868 7474 7073   ([\#6229](https
-00009680: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00009690: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-000096a0: 2f69 7373 7565 732f 3632 3239 2929 0a0a  /issues/6229))..
-000096b0: 0a55 7064 6174 6573 2074 6f20 7468 6520  .Updates to the 
-000096c0: 446f 636b 6572 2069 6d61 6765 0a2d 2d2d  Docker image.---
-000096d0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-000096e0: 2d2d 2d2d 2d2d 2d2d 0a0a 2d20 4669 7820  --------..- Fix 
-000096f0: 6c6f 6767 696e 6720 6765 7474 696e 6720  logging getting 
-00009700: 6c6f 7374 2066 6f72 2074 6865 2064 6f63  lost for the doc
-00009710: 6b65 7220 696d 6167 652e 2028 5b5c 2336  ker image. ([\#6
-00009720: 3139 375d 2868 7474 7073 3a2f 2f67 6974  197](https://git
-00009730: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-00009740: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-00009750: 732f 3631 3937 2929 0a0a 0a49 6e74 6572  s/6197))...Inter
-00009760: 6e61 6c20 4368 616e 6765 730a 2d2d 2d2d  nal Changes.----
-00009770: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 0a0a 2d20  ------------..- 
-00009780: 5570 6461 7465 2060 7573 6572 5f66 696c  Update `user_fil
-00009790: 7465 7273 6020 7461 626c 6520 746f 2068  ters` table to h
-000097a0: 6176 6520 6120 756e 6971 7565 2069 6e64  ave a unique ind
-000097b0: 6578 2c20 616e 6420 6e6f 6e2d 6e75 6c6c  ex, and non-null
-000097c0: 2063 6f6c 756d 6e73 2e20 5468 616e 6b73   columns. Thanks
-000097d0: 2074 6f20 4070 696b 2066 6f72 2063 6f6e   to @pik for con
-000097e0: 7472 6962 7574 696e 6720 7468 6973 2e20  tributing this. 
-000097f0: 285b 5c23 3131 3732 5d28 6874 7470 733a  ([\#1172](https:
-00009800: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00009810: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00009820: 6973 7375 6573 2f31 3137 3229 2c20 5b5c  issues/1172), [\
-00009830: 2336 3137 355d 2868 7474 7073 3a2f 2f67  #6175](https://g
-00009840: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-00009850: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-00009860: 7565 732f 3631 3735 292c 205b 5c23 3631  ues/6175), [\#61
-00009870: 3834 5d28 6874 7470 733a 2f2f 6769 7468  84](https://gith
-00009880: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00009890: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-000098a0: 2f36 3138 3429 290a 2d20 416c 6c6f 7720  /6184)).- Allow 
-000098b0: 6465 7669 6365 7320 746f 2062 6520 6d61  devices to be ma
-000098c0: 726b 6564 2061 7320 6869 6464 656e 2c20  rked as hidden, 
-000098d0: 666f 7220 7573 6520 6279 2066 6561 7475  for use by featu
-000098e0: 7265 7320 7375 6368 2061 7320 6372 6f73  res such as cros
-000098f0: 732d 7369 676e 696e 672e 0a20 2054 6869  s-signing..  Thi
-00009900: 7320 6164 6473 2061 206e 6577 2066 6965  s adds a new fie
-00009910: 6c64 2077 6974 6820 6120 6465 6661 756c  ld with a defaul
-00009920: 7420 7661 6c75 6520 746f 2074 6865 2064  t value to the d
-00009930: 6576 6963 6573 2066 6965 6c64 2069 6e20  evices field in 
-00009940: 7468 6520 6461 7461 6261 7365 2c0a 2020  the database,.  
-00009950: 616e 6420 736f 2074 6865 2064 6174 6162  and so the datab
-00009960: 6173 6520 7570 6772 6164 6520 6d61 7920  ase upgrade may 
-00009970: 7461 6b65 2061 206c 6f6e 6720 7469 6d65  take a long time
-00009980: 2064 6570 656e 6469 6e67 206f 6e20 686f   depending on ho
-00009990: 7720 6d61 6e79 2064 6576 6963 6573 0a20  w many devices. 
-000099a0: 2061 7265 2069 6e20 7468 6520 6461 7461   are in the data
-000099b0: 6261 7365 2e20 285b 5c23 3537 3539 5d28  base. ([\#5759](
-000099c0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-000099d0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-000099e0: 6e61 7073 652f 6973 7375 6573 2f35 3735  napse/issues/575
-000099f0: 3929 290a 2d20 4d6f 7665 206c 6f6f 6b75  9)).- Move looku
-00009a00: 702d 7265 6c61 7465 6420 6675 6e63 7469  p-related functi
-00009a10: 6f6e 7320 6672 6f6d 2052 6f6f 6d4d 656d  ons from RoomMem
-00009a20: 6265 7248 616e 646c 6572 2074 6f20 4964  berHandler to Id
-00009a30: 656e 7469 7479 4861 6e64 6c65 722e 2028  entityHandler. (
-00009a40: 5b5c 2335 3937 385d 2868 7474 7073 3a2f  [\#5978](https:/
-00009a50: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00009a60: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00009a70: 7373 7565 732f 3539 3738 2929 0a2d 2049  ssues/5978)).- I
-00009a80: 6d70 726f 7665 2070 6572 666f 726d 616e  mprove performan
-00009a90: 6365 206f 6620 7468 6520 7075 626c 6963  ce of the public
-00009aa0: 2072 6f6f 6d20 6c69 7374 2064 6972 6563   room list direc
-00009ab0: 746f 7279 2e20 285b 5c23 3630 3139 5d28  tory. ([\#6019](
-00009ac0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00009ad0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-00009ae0: 6e61 7073 652f 6973 7375 6573 2f36 3031  napse/issues/601
-00009af0: 3929 2c20 5b5c 2336 3135 325d 2868 7474  9), [\#6152](htt
-00009b00: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00009b10: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-00009b20: 7365 2f69 7373 7565 732f 3631 3532 292c  se/issues/6152),
-00009b30: 205b 5c23 3631 3533 5d28 6874 7470 733a   [\#6153](https:
-00009b40: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00009b50: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00009b60: 6973 7375 6573 2f36 3135 3329 2c20 5b5c  issues/6153), [\
-00009b70: 2336 3135 345d 2868 7474 7073 3a2f 2f67  #6154](https://g
-00009b80: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-00009b90: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-00009ba0: 7565 732f 3631 3534 2929 0a2d 2045 6469  ues/6154)).- Edi
-00009bb0: 7420 6865 6164 6572 2064 6963 7473 2064  t header dicts d
-00009bc0: 6f63 7374 7269 6e67 7320 696e 2060 5369  ocstrings in `Si
-00009bd0: 6d70 6c65 4874 7470 436c 6965 6e74 6020  mpleHttpClient` 
-00009be0: 746f 206e 6f74 6520 7468 6174 2060 7374  to note that `st
-00009bf0: 7260 206f 7220 6062 7974 6573 6020 6361  r` or `bytes` ca
-00009c00: 6e20 6265 2070 6173 7365 6420 6173 2068  n be passed as h
-00009c10: 6561 6465 7220 6b65 7973 2e20 285b 5c23  eader keys. ([\#
-00009c20: 3630 3737 5d28 6874 7470 733a 2f2f 6769  6077](https://gi
-00009c30: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-00009c40: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-00009c50: 6573 2f36 3037 3729 290a 2d20 4164 6420  es/6077)).- Add 
-00009c60: 736e 6170 6372 6166 7420 7061 636b 6167  snapcraft packag
-00009c70: 696e 6720 696e 666f 726d 6174 696f 6e2e  ing information.
-00009c80: 2043 6f6e 7472 6962 7574 6564 2062 7920   Contributed by 
-00009c90: 4064 6576 6563 302e 2028 5b5c 2336 3038  @devec0. ([\#608
-00009ca0: 345d 2868 7474 7073 3a2f 2f67 6974 6875  4](https://githu
-00009cb0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-00009cc0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-00009cd0: 3630 3834 292c 205b 5c23 3631 3931 5d28  6084), [\#6191](
-00009ce0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00009cf0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-00009d00: 6e61 7073 652f 6973 7375 6573 2f36 3139  napse/issues/619
-00009d10: 3129 290a 2d20 4b69 6c6c 206f 6666 2068  1)).- Kill off h
-00009d20: 616c 662d 696d 706c 656d 656e 7465 6420  alf-implemented 
-00009d30: 7061 7373 776f 7264 2d72 6573 6574 2076  password-reset v
-00009d40: 6961 2073 6d73 2e20 285b 5c23 3631 3031  ia sms. ([\#6101
-00009d50: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00009d60: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00009d70: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
-00009d80: 3130 3129 290a 2d20 5265 6d6f 7665 2060  101)).- Remove `
-00009d90: 6765 745f 7573 6572 5f62 795f 7265 7160  get_user_by_req`
-00009da0: 206f 7065 6e74 7261 6369 6e67 2073 7061   opentracing spa
-00009db0: 6e20 616e 6420 6164 6420 736f 6d65 2074  n and add some t
-00009dc0: 6167 732e 2028 5b5c 2336 3130 385d 2868  ags. ([\#6108](h
-00009dd0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00009de0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00009df0: 6170 7365 2f69 7373 7565 732f 3631 3038  apse/issues/6108
-00009e00: 2929 0a2d 2044 726f 7020 736f 6d65 2075  )).- Drop some u
-00009e10: 6e75 7365 6420 6461 7461 6261 7365 2074  nused database t
-00009e20: 6162 6c65 732e 2028 5b5c 2336 3131 355d  ables. ([\#6115]
-00009e30: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00009e40: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00009e50: 796e 6170 7365 2f69 7373 7565 732f 3631  ynapse/issues/61
-00009e60: 3135 2929 0a2d 2041 6464 2065 6e76 2076  15)).- Add env v
-00009e70: 6172 2074 6f20 7475 726e 206f 6e20 7472  ar to turn on tr
-00009e80: 6163 6b69 6e67 206f 6620 6c6f 6720 636f  acking of log co
-00009e90: 6e74 6578 7420 6368 616e 6765 732e 2028  ntext changes. (
-00009ea0: 5b5c 2336 3132 375d 2868 7474 7073 3a2f  [\#6127](https:/
-00009eb0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00009ec0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00009ed0: 7373 7565 732f 3631 3237 2929 0a2d 2052  ssues/6127)).- R
-00009ee0: 6566 6163 746f 7220 636f 6e66 6967 7572  efactor configur
-00009ef0: 6174 696f 6e20 6c6f 6164 696e 6720 746f  ation loading to
-00009f00: 2061 6c6c 6f77 2062 6574 7465 7220 7479   allow better ty
-00009f10: 7065 6368 6563 6b69 6e67 2e20 285b 5c23  pechecking. ([\#
-00009f20: 3631 3337 5d28 6874 7470 733a 2f2f 6769  6137](https://gi
-00009f30: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-00009f40: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-00009f50: 6573 2f36 3133 3729 290a 2d20 4c6f 6720  es/6137)).- Log 
-00009f60: 7265 7370 6f6e 6465 7220 7768 656e 2072  responder when r
-00009f70: 6573 706f 6e64 696e 6720 746f 206d 6564  esponding to med
-00009f80: 6961 2072 6571 7565 7374 2e20 285b 5c23  ia request. ([\#
-00009f90: 3631 3339 5d28 6874 7470 733a 2f2f 6769  6139](https://gi
-00009fa0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-00009fb0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-00009fc0: 6573 2f36 3133 3929 290a 2d20 496d 7072  es/6139)).- Impr
-00009fd0: 6f76 6520 7065 7266 6f72 6d61 6e63 6520  ove performance 
-00009fe0: 6f66 2060 6669 6e64 5f6e 6578 745f 6765  of `find_next_ge
-00009ff0: 6e65 7261 7465 645f 7573 6572 5f69 6460  nerated_user_id`
-0000a000: 2044 4220 7175 6572 792e 2028 5b5c 2336   DB query. ([\#6
-0000a010: 3134 385d 2868 7474 7073 3a2f 2f67 6974  148](https://git
-0000a020: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-0000a030: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-0000a040: 732f 3631 3438 2929 0a2d 2045 7870 616e  s/6148)).- Expan
-0000a050: 6420 7479 7065 2d63 6865 636b 696e 6720  d type-checking 
-0000a060: 6f6e 206d 6f64 756c 6573 2069 6d70 6f72  on modules impor
-0000a070: 7465 6420 6279 2060 7379 6e61 7073 652e  ted by `synapse.
-0000a080: 636f 6e66 6967 602e 2028 5b5c 2336 3135  config`. ([\#615
-0000a090: 305d 2868 7474 7073 3a2f 2f67 6974 6875  0](https://githu
-0000a0a0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-0000a0b0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-0000a0c0: 3631 3530 2929 0a2d 2055 7365 2050 6f73  6150)).- Use Pos
-0000a0d0: 7467 7265 7320 414e 5920 666f 7220 7365  tgres ANY for se
-0000a0e0: 6c65 6374 696e 6720 6d61 6e79 2076 616c  lecting many val
-0000a0f0: 7565 732e 2028 5b5c 2336 3135 365d 2868  ues. ([\#6156](h
-0000a100: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0000a110: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-0000a120: 6170 7365 2f69 7373 7565 732f 3631 3536  apse/issues/6156
-0000a130: 2929 0a2d 2041 6464 206d 6f72 6520 6361  )).- Add more ca
-0000a140: 6368 696e 6720 746f 2060 5f67 6574 5f6a  ching to `_get_j
-0000a150: 6f69 6e65 645f 7573 6572 735f 6672 6f6d  oined_users_from
-0000a160: 5f63 6f6e 7465 7874 6020 4442 2071 7565  _context` DB que
-0000a170: 7279 2e20 285b 5c23 3631 3539 5d28 6874  ry. ([\#6159](ht
-0000a180: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0000a190: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-0000a1a0: 7073 652f 6973 7375 6573 2f36 3135 3929  pse/issues/6159)
-0000a1b0: 290a 2d20 4164 6420 736f 6d65 206d 6574  ).- Add some met
-0000a1c0: 7269 6373 206f 6e20 7468 6520 6665 6465  rics on the fede
-0000a1d0: 7261 7469 6f6e 2073 656e 6465 722e 2028  ration sender. (
-0000a1e0: 5b5c 2336 3136 305d 2868 7474 7073 3a2f  [\#6160](https:/
-0000a1f0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-0000a200: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-0000a210: 7373 7565 732f 3631 3630 2929 0a2d 2041  ssues/6160)).- A
-0000a220: 6464 2073 6f6d 6520 6c6f 6767 696e 6720  dd some logging 
-0000a230: 746f 2074 6865 2072 6f6f 6d73 2073 7461  to the rooms sta
-0000a240: 7473 2075 7064 6174 6573 2c20 746f 2074  ts updates, to t
-0000a250: 7279 2074 6f20 7472 6163 6b20 646f 776e  ry to track down
-0000a260: 2061 2066 6c61 6b79 2074 6573 742e 2028   a flaky test. (
-0000a270: 5b5c 2336 3136 375d 2868 7474 7073 3a2f  [\#6167](https:/
-0000a280: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-0000a290: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-0000a2a0: 7373 7565 732f 3631 3637 2929 0a2d 2052  ssues/6167)).- R
-0000a2b0: 656d 6f76 6520 756e 7573 6564 2060 7469  emove unused `ti
-0000a2c0: 6d65 6f75 7460 2070 6172 616d 6574 6572  meout` parameter
-0000a2d0: 2066 726f 6d20 605f 6765 745f 7075 626c   from `_get_publ
-0000a2e0: 6963 5f72 6f6f 6d5f 6c69 7374 602e 2028  ic_room_list`. (
-0000a2f0: 5b5c 2336 3137 395d 2868 7474 7073 3a2f  [\#6179](https:/
-0000a300: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-0000a310: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-0000a320: 7373 7565 732f 3631 3739 2929 0a2d 2052  ssues/6179)).- R
-0000a330: 656a 6563 7420 2861 6363 6964 656e 7461  eject (accidenta
-0000a340: 6c29 2061 7474 656d 7074 7320 746f 2069  l) attempts to i
-0000a350: 6e73 6572 7420 6279 7465 7320 696e 746f  nsert bytes into
-0000a360: 2070 6f73 7467 7265 7320 7461 626c 6573   postgres tables
-0000a370: 2e20 285b 5c23 3631 3836 5d28 6874 7470  . ([\#6186](http
-0000a380: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-0000a390: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-0000a3a0: 652f 6973 7375 6573 2f36 3138 3629 290a  e/issues/6186)).
-0000a3b0: 2d20 4d61 6b65 2060 7665 7273 696f 6e60  - Make `version`
-0000a3c0: 206f 7074 696f 6e61 6c20 696e 2062 6f64   optional in bod
-0000a3d0: 7920 6f66 2060 5055 5420 2f72 6f6f 6d5f  y of `PUT /room_
-0000a3e0: 6b65 7973 2f76 6572 7369 6f6e 2f7b 7665  keys/version/{ve
-0000a3f0: 7273 696f 6e7d 602c 2073 696e 6365 2069  rsion}`, since i
-0000a400: 7427 7320 7265 6475 6e64 616e 742e 2028  t's redundant. (
-0000a410: 5b5c 2336 3138 395d 2868 7474 7073 3a2f  [\#6189](https:/
-0000a420: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-0000a430: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-0000a440: 7373 7565 732f 3631 3839 2929 0a2d 204d  ssues/6189)).- M
-0000a450: 616b 6520 7374 6f72 6167 6520 6c61 7965  ake storage laye
-0000a460: 7220 7265 7370 6f6e 7369 626c 6520 666f  r responsible fo
-0000a470: 7220 6164 6469 6e67 2064 6576 6963 6520  r adding device 
-0000a480: 6e61 6d65 7320 746f 206b 6579 2c20 7261  names to key, ra
-0000a490: 7468 6572 2074 6861 6e20 7468 6520 6861  ther than the ha
-0000a4a0: 6e64 6c65 722e 2028 5b5c 2336 3139 335d  ndler. ([\#6193]
-0000a4b0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0000a4c0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-0000a4d0: 796e 6170 7365 2f69 7373 7565 732f 3631  ynapse/issues/61
-0000a4e0: 3933 2929 0a2d 2050 6f72 7420 6073 796e  93)).- Port `syn
-0000a4f0: 6170 7365 2e72 6573 742e 6164 6d69 6e60  apse.rest.admin`
-0000a500: 206d 6f64 756c 6520 746f 2075 7365 2061   module to use a
-0000a510: 7379 6e63 2f61 7761 6974 2e20 285b 5c23  sync/await. ([\#
-0000a520: 3631 3936 5d28 6874 7470 733a 2f2f 6769  6196](https://gi
-0000a530: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-0000a540: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-0000a550: 6573 2f36 3139 3629 290a 2d20 456e 666f  es/6196)).- Enfo
-0000a560: 7263 6520 7468 6174 2061 6c6c 2062 6f6f  rce that all boo
-0000a570: 6c65 616e 2063 6f6e 6669 6775 7261 7469  lean configurati
-0000a580: 6f6e 2076 616c 7565 7320 6172 6520 6c6f  on values are lo
-0000a590: 7765 7263 6173 6520 696e 2043 492e 2028  wercase in CI. (
-0000a5a0: 5b5c 2336 3230 335d 2868 7474 7073 3a2f  [\#6203](https:/
-0000a5b0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-0000a5c0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-0000a5d0: 7373 7565 732f 3632 3033 2929 0a2d 2052  ssues/6203)).- R
-0000a5e0: 656d 6f76 6520 736f 6d65 2075 6e75 7365  emove some unuse
-0000a5f0: 6420 6576 656e 742d 6175 7468 2063 6f64  d event-auth cod
-0000a600: 652e 2028 5b5c 2336 3231 345d 2868 7474  e. ([\#6214](htt
-0000a610: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-0000a620: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-0000a630: 7365 2f69 7373 7565 732f 3632 3134 2929  se/issues/6214))
-0000a640: 0a2d 2052 656d 6f76 6520 6041 7574 682e  .- Remove `Auth.
-0000a650: 6368 6563 6b60 206d 6574 686f 642e 2028  check` method. (
-0000a660: 5b5c 2336 3231 375d 2868 7474 7073 3a2f  [\#6217](https:/
-0000a670: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-0000a680: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-0000a690: 7373 7565 732f 3632 3137 2929 0a2d 2052  ssues/6217)).- R
-0000a6a0: 656d 6f76 6520 6066 6f72 6d61 745f 7461  emove `format_ta
-0000a6b0: 702e 7079 6020 7363 7269 7074 2069 6e20  p.py` script in 
-0000a6c0: 6661 766f 7572 206f 6620 6120 7065 726c  favour of a perl
-0000a6d0: 2072 6569 6d70 6c65 6d65 6e74 6174 696f   reimplementatio
-0000a6e0: 6e20 696e 2053 7974 6573 7427 7320 7265  n in Sytest's re
-0000a6f0: 706f 2e20 285b 5c23 3632 3139 5d28 6874  po. ([\#6219](ht
-0000a700: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0000a710: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-0000a720: 7073 652f 6973 7375 6573 2f36 3231 3929  pse/issues/6219)
-0000a730: 290a 2d20 5265 6661 6374 6f72 2073 746f  ).- Refactor sto
-0000a740: 7261 6765 206c 6179 6572 2069 6e20 7072  rage layer in pr
-0000a750: 6570 6172 6174 696f 6e20 746f 2073 7570  eparation to sup
-0000a760: 706f 7274 2068 6176 696e 6720 6d75 6c74  port having mult
-0000a770: 6970 6c65 2064 6174 6162 6173 6573 2e20  iple databases. 
-0000a780: 285b 5c23 3632 3331 5d28 6874 7470 733a  ([\#6231](https:
-0000a790: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-0000a7a0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-0000a7b0: 6973 7375 6573 2f36 3233 3129 290a 2d20  issues/6231)).- 
-0000a7c0: 5265 6d6f 7665 2073 6f6d 6520 6578 7472  Remove some extr
-0000a7d0: 6120 7175 6f74 6174 696f 6e20 6d61 726b  a quotation mark
-0000a7e0: 7320 6163 726f 7373 2074 6865 2063 6f64  s across the cod
-0000a7f0: 6562 6173 652e 2028 5b5c 2336 3233 365d  ebase. ([\#6236]
-0000a800: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0000a810: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-0000a820: 796e 6170 7365 2f69 7373 7565 732f 3632  ynapse/issues/62
-0000a830: 3336 2929 0a0a 0a53 796e 6170 7365 2031  36))...Synapse 1
-0000a840: 2e34 2e31 2028 3230 3139 2d31 302d 3138  .4.1 (2019-10-18
-0000a850: 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ).==============
-0000a860: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 4e6f  ============..No
-0000a870: 2063 6861 6e67 6573 2073 696e 6365 2031   changes since 1
-0000a880: 2e34 2e31 7263 312e 0a0a 0a53 796e 6170  .4.1rc1....Synap
-0000a890: 7365 2031 2e34 2e31 7263 3120 2832 3031  se 1.4.1rc1 (201
-0000a8a0: 392d 3130 2d31 3729 0a3d 3d3d 3d3d 3d3d  9-10-17).=======
-0000a8b0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0000a8c0: 3d3d 3d3d 3d3d 0a0a 4275 6766 6978 6573  ======..Bugfixes
-0000a8d0: 0a2d 2d2d 2d2d 2d2d 2d0a 0a2d 2046 6978  .--------..- Fix
-0000a8e0: 2062 7567 2077 6865 7265 2072 6564 6163   bug where redac
-0000a8f0: 7465 6420 6576 656e 7473 2077 6572 6520  ted events were 
-0000a900: 736f 6d65 7469 6d65 7320 696e 636f 7272  sometimes incorr
-0000a910: 6563 746c 7920 6365 6e73 6f72 6564 2069  ectly censored i
-0000a920: 6e20 7468 6520 6461 7461 6261 7365 2c20  n the database, 
-0000a930: 6272 6561 6b69 6e67 2041 5049 7320 7468  breaking APIs th
-0000a940: 6174 2061 7474 656d 7074 6564 2074 6f20  at attempted to 
-0000a950: 6665 7463 6820 7375 6368 2065 7665 6e74  fetch such event
-0000a960: 732e 2028 5b5c 2336 3138 355d 2868 7474  s. ([\#6185](htt
-0000a970: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-0000a980: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-0000a990: 7365 2f69 7373 7565 732f 3631 3835 292c  se/issues/6185),
-0000a9a0: 205b 3562 3065 3939 3438 5d28 6874 7470   [5b0e9948](http
-0000a9b0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-0000a9c0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-0000a9d0: 652f 636f 6d6d 6974 2f35 6230 6539 3934  e/commit/5b0e994
-0000a9e0: 3865 6161 6538 3031 3634 3365 3539 3462  8eaae801643e594b
-0000a9f0: 3561 6263 3865 6534 6231 3062 6431 3934  5abc8ee4b10bd194
-0000aa00: 6529 290a 0a53 796e 6170 7365 2031 2e34  e))..Synapse 1.4
-0000aa10: 2e30 2028 3230 3139 2d31 302d 3033 290a  .0 (2019-10-03).
-0000aa20: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0000aa30: 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 4275 6766  ==========..Bugf
-0000aa40: 6978 6573 0a2d 2d2d 2d2d 2d2d 2d0a 0a2d  ixes.--------..-
-0000aa50: 2052 6564 6163 7420 6063 6c69 656e 745f   Redact `client_
-0000aa60: 7365 6372 6574 6020 696e 2073 6572 7665  secret` in serve
-0000aa70: 7220 6c6f 6773 2e20 285b 5c23 3631 3538  r logs. ([\#6158
-0000aa80: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0000aa90: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-0000aaa0: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
-0000aab0: 3135 3829 290a 0a0a 5379 6e61 7073 6520  158))...Synapse 
-0000aac0: 312e 342e 3072 6332 2028 3230 3139 2d31  1.4.0rc2 (2019-1
-0000aad0: 302d 3032 290a 3d3d 3d3d 3d3d 3d3d 3d3d  0-02).==========
-0000aae0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0000aaf0: 3d3d 3d0a 0a42 7567 6669 7865 730a 2d2d  ===..Bugfixes.--
-0000ab00: 2d2d 2d2d 2d2d 0a0a 2d20 4669 7820 6275  ------..- Fix bu
-0000ab10: 6720 696e 2062 6163 6b67 726f 756e 6420  g in background 
-0000ab20: 7570 6461 7465 2074 6861 7420 6164 6473  update that adds
-0000ab30: 206c 6173 7420 7365 656e 2069 6e66 6f72   last seen infor
-0000ab40: 6d61 7469 6f6e 2074 6f20 7468 6520 6064  mation to the `d
-0000ab50: 6576 6963 6573 6020 7461 626c 652c 2061  evices` table, a
-0000ab60: 6e64 2069 6d70 726f 7665 2069 7473 2070  nd improve its p
-0000ab70: 6572 666f 726d 616e 6365 206f 6e20 506f  erformance on Po
-0000ab80: 7374 6772 6573 2e20 285b 5c23 3631 3335  stgres. ([\#6135
-0000ab90: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0000aba0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-0000abb0: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
-0000abc0: 3133 3529 290a 2d20 4669 7820 6261 6420  135)).- Fix bad 
-0000abd0: 7065 7266 6f72 6d61 6e63 6520 6f66 2063  performance of c
-0000abe0: 656e 736f 7269 6e67 2072 6564 6163 7469  ensoring redacti
-0000abf0: 6f6e 7320 6261 636b 6772 6f75 6e64 2074  ons background t
-0000ac00: 6173 6b2e 2028 5b5c 2336 3134 315d 2868  ask. ([\#6141](h
-0000ac10: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0000ac20: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-0000ac30: 6170 7365 2f69 7373 7565 732f 3631 3431  apse/issues/6141
-0000ac40: 2929 0a2d 2046 6978 2066 6574 6368 696e  )).- Fix fetchin
-0000ac50: 6720 6365 6e73 6f72 6564 2072 6564 6163  g censored redac
-0000ac60: 7469 6f6e 7320 6672 6f6d 2044 422c 2077  tions from DB, w
-0000ac70: 6869 6368 2063 6175 7365 6420 4150 4973  hich caused APIs
-0000ac80: 206c 696b 6520 696e 6974 6961 6c20 7379   like initial sy
-0000ac90: 6e63 2074 6f20 6661 696c 2069 6620 6974  nc to fail if it
-0000aca0: 2074 7269 6564 2074 6f20 696e 636c 7564   tried to includ
-0000acb0: 6520 7468 6520 6365 6e73 6f72 6564 2072  e the censored r
-0000acc0: 6564 6163 7469 6f6e 2e20 285b 5c23 3631  edaction. ([\#61
-0000acd0: 3435 5d28 6874 7470 733a 2f2f 6769 7468  45](https://gith
-0000ace0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-0000acf0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-0000ad00: 2f36 3134 3529 290a 2d20 4669 7820 6578  /6145)).- Fix ex
-0000ad10: 6365 7074 696f 6e73 2077 6865 6e20 7374  ceptions when st
-0000ad20: 6f72 696e 6720 6c61 7267 6520 7265 7472  oring large retr
-0000ad30: 7920 696e 7465 7276 616c 7320 666f 7220  y intervals for 
-0000ad40: 646f 776e 2072 656d 6f74 6520 7365 7276  down remote serv
-0000ad50: 6572 732e 2028 5b5c 2336 3134 365d 2868  ers. ([\#6146](h
-0000ad60: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0000ad70: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-0000ad80: 6170 7365 2f69 7373 7565 732f 3631 3436  apse/issues/6146
-0000ad90: 2929 0a0a 0a49 6e74 6572 6e61 6c20 4368  ))...Internal Ch
-0000ada0: 616e 6765 730a 2d2d 2d2d 2d2d 2d2d 2d2d  anges.----------
-0000adb0: 2d2d 2d2d 2d2d 0a0a 2d20 4669 7820 7570  ------..- Fix up
-0000adc0: 2073 616d 706c 6520 636f 6e66 6967 2065   sample config e
-0000add0: 6e74 7279 2066 6f72 2060 7265 6461 6374  ntry for `redact
-0000ade0: 696f 6e5f 7265 7465 6e74 696f 6e5f 7065  ion_retention_pe
-0000adf0: 7269 6f64 6020 6f70 7469 6f6e 2e20 285b  riod` option. ([
-0000ae00: 5c23 3631 3137 5d28 6874 7470 733a 2f2f  \#6117](https://
-0000ae10: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-0000ae20: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-0000ae30: 7375 6573 2f36 3131 3729 290a 0a0a 5379  sues/6117))...Sy
-0000ae40: 6e61 7073 6520 312e 342e 3072 6331 2028  napse 1.4.0rc1 (
-0000ae50: 3230 3139 2d30 392d 3236 290a 3d3d 3d3d  2019-09-26).====
-0000ae60: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0000ae70: 3d3d 3d3d 3d3d 3d3d 3d0a 0a4e 6f74 6520  =========..Note 
-0000ae80: 7468 6174 2074 6869 7320 7265 6c65 6173  that this releas
-0000ae90: 6520 696e 636c 7564 6573 2073 6967 6e69  e includes signi
-0000aea0: 6669 6361 6e74 2063 6861 6e67 6573 2061  ficant changes a
-0000aeb0: 726f 756e 6420 3370 6964 0a76 6572 6966  round 3pid.verif
-0000aec0: 6963 6174 696f 6e2e 2041 646d 696e 6973  ication. Adminis
-0000aed0: 7472 6174 6f72 7320 6172 6520 7265 6d69  trators are remi
-0000aee0: 6e64 6564 2074 6f20 7265 7669 6577 2074  nded to review t
-0000aef0: 6865 205b 7570 6772 6164 6520 6e6f 7465  he [upgrade note
-0000af00: 735d 2855 5047 5241 4445 2e72 7374 2375  s](UPGRADE.rst#u
-0000af10: 7067 7261 6469 6e67 2d74 6f2d 7631 3430  pgrading-to-v140
-0000af20: 292e 0a0a 4665 6174 7572 6573 0a2d 2d2d  )...Features.---
-0000af30: 2d2d 2d2d 2d0a 0a2d 2043 6861 6e67 6573  -----..- Changes
-0000af40: 2074 6f20 3370 6964 2076 6572 6966 6963   to 3pid verific
-0000af50: 6174 696f 6e3a 0a20 202d 2041 6464 2074  ation:.  - Add t
-0000af60: 6865 2061 6269 6c69 7479 2074 6f20 7365  he ability to se
-0000af70: 6e64 2072 6567 6973 7472 6174 696f 6e20  nd registration 
-0000af80: 656d 6169 6c73 2066 726f 6d20 7468 6520  emails from the 
-0000af90: 686f 6d65 7365 7276 6572 2072 6174 6865  homeserver rathe
-0000afa0: 7220 7468 616e 2064 656c 6567 6174 696e  r than delegatin
-0000afb0: 6720 746f 2061 6e20 6964 656e 7469 7479  g to an identity
-0000afc0: 2073 6572 7665 722e 2028 5b5c 2335 3833   server. ([\#583
-0000afd0: 355d 2868 7474 7073 3a2f 2f67 6974 6875  5](https://githu
-0000afe0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-0000aff0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-0000b000: 3538 3335 292c 205b 5c23 3539 3430 5d28  5835), [\#5940](
-0000b010: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-0000b020: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-0000b030: 6e61 7073 652f 6973 7375 6573 2f35 3934  napse/issues/594
-0000b040: 3029 2c20 5b5c 2335 3939 335d 2868 7474  0), [\#5993](htt
-0000b050: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-0000b060: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-0000b070: 7365 2f69 7373 7565 732f 3539 3933 292c  se/issues/5993),
-0000b080: 205b 5c23 3539 3934 5d28 6874 7470 733a   [\#5994](https:
-0000b090: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-0000b0a0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-0000b0b0: 6973 7375 6573 2f35 3939 3429 2c20 5b5c  issues/5994), [\
-0000b0c0: 2335 3836 385d 2868 7474 7073 3a2f 2f67  #5868](https://g
-0000b0d0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-0000b0e0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-0000b0f0: 7565 732f 3538 3638 2929 0a20 202d 2052  ues/5868)).  - R
-0000b100: 6570 6c61 6365 2060 7472 7573 745f 6964  eplace `trust_id
-0000b110: 656e 7469 7479 5f73 6572 7665 725f 666f  entity_server_fo
-0000b120: 725f 7061 7373 776f 7264 5f72 6573 6574  r_password_reset
-0000b130: 7360 2063 6f6e 6669 6720 6f70 7469 6f6e  s` config option
-0000b140: 2077 6974 6820 6061 6363 6f75 6e74 5f74   with `account_t
-0000b150: 6872 6565 7069 645f 6465 6c65 6761 7465  hreepid_delegate
-0000b160: 7360 2c20 616e 6420 6d61 6b65 2074 6865  s`, and make the
-0000b170: 2060 6964 5f73 6572 7665 7260 2070 6172   `id_server` par
-0000b180: 616d 6574 6574 6572 206f 7074 696f 6e61  ameteter optiona
-0000b190: 6c20 6f6e 2060 2a2f 7265 7175 6573 7454  l on `*/requestT
-0000b1a0: 6f6b 656e 6020 656e 6470 6f69 6e74 732c  oken` endpoints,
-0000b1b0: 2061 7320 7065 7220 5b4d 5343 3232 3633   as per [MSC2263
-0000b1c0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0000b1d0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-0000b1e0: 6d61 7472 6978 2d64 6f63 2f70 756c 6c2f  matrix-doc/pull/
-0000b1f0: 3232 3633 292e 2028 5b5c 2335 3837 365d  2263). ([\#5876]
-0000b200: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0000b210: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-0000b220: 796e 6170 7365 2f69 7373 7565 732f 3538  ynapse/issues/58
-0000b230: 3736 292c 205b 5c23 3539 3639 5d28 6874  76), [\#5969](ht
-0000b240: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0000b250: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-0000b260: 7073 652f 6973 7375 6573 2f35 3936 3929  pse/issues/5969)
-0000b270: 2c20 5b5c 2336 3032 385d 2868 7474 7073  , [\#6028](https
-0000b280: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-0000b290: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-0000b2a0: 2f69 7373 7565 732f 3630 3238 2929 0a20  /issues/6028)). 
-0000b2b0: 202d 2053 7769 7463 6820 746f 2075 7369   - Switch to usi
-0000b2c0: 6e67 2074 6865 2076 3220 4964 656e 7469  ng the v2 Identi
-0000b2d0: 7479 2053 6572 7669 6365 2060 2f6c 6f6f  ty Service `/loo
-0000b2e0: 6b75 7060 2041 5049 2077 6865 7265 2061  kup` API where a
-0000b2f0: 7661 696c 6162 6c65 2c20 7769 7468 2066  vailable, with f
-0000b300: 616c 6c62 6163 6b20 746f 2076 312e 2028  allback to v1. (
-0000b310: 496d 706c 656d 656e 7473 205b 4d53 4332  Implements [MSC2
-0000b320: 3133 345d 2868 7474 7073 3a2f 2f67 6974  134](https://git
-0000b330: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-0000b340: 7267 2f6d 6174 7269 782d 646f 632f 7075  rg/matrix-doc/pu
-0000b350: 6c6c 2f32 3133 3429 2070 6c75 7320 6069  ll/2134) plus `i
-0000b360: 645f 6163 6365 7373 5f74 6f6b 656e 2061  d_access_token a
-0000b370: 7574 6865 6e74 6963 6174 696f 6e60 2066  uthentication` f
-0000b380: 6f72 2076 3220 4964 656e 7469 7479 2053  or v2 Identity S
-0000b390: 6572 7669 6365 2041 5049 7320 6672 6f6d  ervice APIs from
-0000b3a0: 205b 4d53 4332 3134 305d 2868 7474 7073   [MSC2140](https
-0000b3b0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-0000b3c0: 7472 6978 2d6f 7267 2f6d 6174 7269 782d  trix-org/matrix-
-0000b3d0: 646f 632f 7075 6c6c 2f32 3134 3029 292e  doc/pull/2140)).
-0000b3e0: 2028 5b5c 2335 3839 375d 2868 7474 7073   ([\#5897](https
-0000b3f0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-0000b400: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-0000b410: 2f69 7373 7565 732f 3538 3937 2929 0a20  /issues/5897)). 
-0000b420: 202d 2052 656d 6f76 6520 6062 696e 645f   - Remove `bind_
-0000b430: 656d 6169 6c60 2061 6e64 2060 6269 6e64  email` and `bind
-0000b440: 5f6d 7369 7364 6e60 2070 6172 616d 6574  _msisdn` paramet
-0000b450: 6572 7320 6672 6f6d 2060 2f72 6567 6973  ers from `/regis
-0000b460: 7465 7260 2061 6c61 205b 4d53 4332 3134  ter` ala [MSC214
-0000b470: 305d 2868 7474 7073 3a2f 2f67 6974 6875  0](https://githu
-0000b480: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-0000b490: 2f6d 6174 7269 782d 646f 632f 7075 6c6c  /matrix-doc/pull
-0000b4a0: 2f32 3134 3029 2e20 285b 5c23 3539 3634  /2140). ([\#5964
-0000b4b0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0000b4c0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-0000b4d0: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
-0000b4e0: 3936 3429 290a 2020 2d20 4164 6420 606d  964)).  - Add `m
-0000b4f0: 2e69 645f 6163 6365 7373 5f74 6f6b 656e  .id_access_token
-0000b500: 6020 746f 2060 756e 7374 6162 6c65 5f66  ` to `unstable_f
-0000b510: 6561 7475 7265 7360 2069 6e20 602f 7665  eatures` in `/ve
-0000b520: 7273 696f 6e73 6020 6173 2070 6572 205b  rsions` as per [
-0000b530: 4d53 4332 3236 345d 2868 7474 7073 3a2f  MSC2264](https:/
-0000b540: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-0000b550: 6978 2d6f 7267 2f6d 6174 7269 782d 646f  ix-org/matrix-do
-0000b560: 632f 7075 6c6c 2f32 3236 3429 2e20 285b  c/pull/2264). ([
-0000b570: 5c23 3539 3734 5d28 6874 7470 733a 2f2f  \#5974](https://
-0000b580: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-0000b590: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-0000b5a0: 7375 6573 2f35 3937 3429 290a 2020 2d20  sues/5974)).  - 
-0000b5b0: 5573 6520 7468 6520 7632 2049 6465 6e74  Use the v2 Ident
-0000b5c0: 6974 7920 5365 7276 6963 6520 4150 4920  ity Service API 
-0000b5d0: 666f 7220 3350 4944 2069 6e76 6974 6573  for 3PID invites
-0000b5e0: 2e20 285b 5c23 3539 3739 5d28 6874 7470  . ([\#5979](http
-0000b5f0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-0000b600: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-0000b610: 652f 6973 7375 6573 2f35 3937 3929 290a  e/issues/5979)).
-0000b620: 2020 2d20 4164 6420 6050 4f53 5420 2f5f    - Add `POST /_
-0000b630: 6d61 7472 6978 2f63 6c69 656e 742f 756e  matrix/client/un
-0000b640: 7374 6162 6c65 2f61 6363 6f75 6e74 2f33  stable/account/3
-0000b650: 7069 642f 756e 6269 6e64 6020 656e 6470  pid/unbind` endp
-0000b660: 6f69 6e74 2066 726f 6d20 5b4d 5343 3231  oint from [MSC21
-0000b670: 3430 5d28 6874 7470 733a 2f2f 6769 7468  40](https://gith
-0000b680: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-0000b690: 672f 6d61 7472 6978 2d64 6f63 2f70 756c  g/matrix-doc/pul
-0000b6a0: 6c2f 3231 3430 2920 666f 7220 756e 6269  l/2140) for unbi
-0000b6b0: 6e64 696e 6720 6120 3350 4944 2066 726f  nding a 3PID fro
-0000b6c0: 6d20 616e 2069 6465 6e74 6974 7920 7365  m an identity se
-0000b6d0: 7276 6572 2077 6974 686f 7574 2072 656d  rver without rem
-0000b6e0: 6f76 696e 6720 6974 2066 726f 6d20 7468  oving it from th
-0000b6f0: 6520 686f 6d65 7365 7276 6572 2075 7365  e homeserver use
-0000b700: 7220 6163 636f 756e 742e 2028 5b5c 2335  r account. ([\#5
-0000b710: 3938 305d 2868 7474 7073 3a2f 2f67 6974  980](https://git
-0000b720: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-0000b730: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-0000b740: 732f 3539 3830 292c 205b 5c23 3630 3632  s/5980), [\#6062
-0000b750: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0000b760: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-0000b770: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
-0000b780: 3036 3229 290a 2020 2d20 5573 6520 6061  062)).  - Use `a
-0000b790: 6363 6f75 6e74 5f74 6872 6565 7069 645f  ccount_threepid_
-0000b7a0: 6465 6c65 6761 7465 2e65 6d61 696c 6020  delegate.email` 
-0000b7b0: 616e 6420 6061 6363 6f75 6e74 5f74 6872  and `account_thr
-0000b7c0: 6565 7069 645f 6465 6c65 6761 7465 2e6d  eepid_delegate.m
-0000b7d0: 7369 7364 6e60 2066 6f72 2076 616c 6964  sisdn` for valid
-0000b7e0: 6174 696e 6720 7468 7265 6570 6964 2073  ating threepid s
-0000b7f0: 6573 7369 6f6e 732e 2028 5b5c 2336 3031  essions. ([\#601
-0000b800: 315d 2868 7474 7073 3a2f 2f67 6974 6875  1](https://githu
-0000b810: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-0000b820: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-0000b830: 3630 3131 2929 0a20 202d 2041 6c6c 6f77  6011)).  - Allow
-0000b840: 2068 6f6d 6573 6572 7665 7220 746f 2068   homeserver to h
-0000b850: 616e 646c 6520 6f72 2064 656c 6567 6174  andle or delegat
-0000b860: 6520 656d 6169 6c20 7661 6c69 6461 7469  e email validati
-0000b870: 6f6e 2077 6865 6e20 6164 6469 6e67 2061  on when adding a
-0000b880: 6e20 656d 6169 6c20 746f 2061 2075 7365  n email to a use
-0000b890: 7227 7320 6163 636f 756e 742e 2028 5b5c  r's account. ([\
-0000b8a0: 2336 3034 325d 2868 7474 7073 3a2f 2f67  #6042](https://g
-0000b8b0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-0000b8c0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-0000b8d0: 7565 732f 3630 3432 2929 0a20 202d 2049  ues/6042)).  - I
-0000b8e0: 6d70 6c65 6d65 6e74 206e 6577 2043 6c69  mplement new Cli
-0000b8f0: 656e 7420 5365 7276 6572 2041 5049 2065  ent Server API e
-0000b900: 6e64 706f 696e 7473 2060 2f61 6363 6f75  ndpoints `/accou
-0000b910: 6e74 2f33 7069 642f 6164 6460 2061 6e64  nt/3pid/add` and
-0000b920: 2060 2f61 6363 6f75 6e74 2f33 7069 642f   `/account/3pid/
-0000b930: 6269 6e64 6020 6173 2070 6572 205b 4d53  bind` as per [MS
-0000b940: 4332 3239 305d 2868 7474 7073 3a2f 2f67  C2290](https://g
-0000b950: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-0000b960: 2d6f 7267 2f6d 6174 7269 782d 646f 632f  -org/matrix-doc/
-0000b970: 7075 6c6c 2f32 3239 3029 2e20 285b 5c23  pull/2290). ([\#
-0000b980: 3630 3433 5d28 6874 7470 733a 2f2f 6769  6043](https://gi
-0000b990: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-0000b9a0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-0000b9b0: 6573 2f36 3034 3329 290a 2020 2d20 4164  es/6043)).  - Ad
-0000b9c0: 6420 616e 2075 6e73 7461 626c 6520 6665  d an unstable fe
-0000b9d0: 6174 7572 6520 666c 6167 2066 6f72 2073  ature flag for s
-0000b9e0: 6570 6172 6174 6520 6164 642f 6269 6e64  eparate add/bind
-0000b9f0: 2033 7069 6420 4150 4973 2e20 285b 5c23   3pid APIs. ([\#
-0000ba00: 3630 3434 5d28 6874 7470 733a 2f2f 6769  6044](https://gi
-0000ba10: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-0000ba20: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-0000ba30: 6573 2f36 3034 3429 290a 2020 2d20 5265  es/6044)).  - Re
-0000ba40: 6d6f 7665 2060 6269 6e64 6020 7061 7261  move `bind` para
-0000ba50: 6d65 7465 7220 6672 6f6d 2043 6c69 656e  meter from Clien
-0000ba60: 7420 5365 7276 6572 2050 4f53 5420 602f  t Server POST `/
-0000ba70: 6163 636f 756e 7460 2065 6e64 706f 696e  account` endpoin
-0000ba80: 7420 6173 2070 6572 205b 4d53 4332 3239  t as per [MSC229
-0000ba90: 305d 2868 7474 7073 3a2f 2f67 6974 6875  0](https://githu
-0000baa0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-0000bab0: 2f6d 6174 7269 782d 646f 632f 7075 6c6c  /matrix-doc/pull
-0000bac0: 2f32 3239 302f 292e 2028 5b5c 2336 3036  /2290/). ([\#606
-0000bad0: 375d 2868 7474 7073 3a2f 2f67 6974 6875  7](https://githu
-0000bae0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-0000baf0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-0000bb00: 3630 3637 2929 0a20 202d 2041 6464 2060  6067)).  - Add `
-0000bb10: 504f 5354 202f 6164 645f 7468 7265 6570  POST /add_threep
-0000bb20: 6964 2f6d 7369 7364 6e2f 7375 626d 6974  id/msisdn/submit
-0000bb30: 5f74 6f6b 656e 6020 656e 6470 6f69 6e74  _token` endpoint
-0000bb40: 2066 6f72 2070 726f 7879 696e 6720 7375   for proxying su
-0000bb50: 626d 6974 546f 6b65 6e20 6f6e 2061 6e20  bmitToken on an 
-0000bb60: 6061 6363 6f75 6e74 5f74 6872 6565 7069  `account_threepi
-0000bb70: 645f 6861 6e64 6c65 7260 2e20 285b 5c23  d_handler`. ([\#
-0000bb80: 3630 3738 5d28 6874 7470 733a 2f2f 6769  6078](https://gi
-0000bb90: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-0000bba0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-0000bbb0: 6573 2f36 3037 3829 290a 2020 2d20 4164  es/6078)).  - Ad
-0000bbc0: 6420 6073 7562 6d69 745f 7572 6c60 2072  d `submit_url` r
-0000bbd0: 6573 706f 6e73 6520 7061 7261 6d65 7465  esponse paramete
-0000bbe0: 7220 746f 2060 2a2f 6d73 6973 646e 2f72  r to `*/msisdn/r
-0000bbf0: 6571 7565 7374 546f 6b65 6e60 2065 6e64  equestToken` end
-0000bc00: 706f 696e 7473 2e20 285b 5c23 3630 3739  points. ([\#6079
-0000bc10: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0000bc20: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-0000bc30: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
-0000bc40: 3037 3929 290a 2020 2d20 4164 6420 606d  079)).  - Add `m
-0000bc50: 2e72 6571 7569 7265 5f69 6465 6e74 6974  .require_identit
-0000bc60: 795f 7365 7276 6572 6020 666c 6167 2074  y_server` flag t
-0000bc70: 6f20 2f76 6572 7369 6f6e 2773 2075 6e73  o /version's uns
-0000bc80: 7461 626c 655f 6665 6174 7572 6573 2e20  table_features. 
-0000bc90: 285b 5c23 3539 3732 5d28 6874 7470 733a  ([\#5972](https:
-0000bca0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-0000bcb0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-0000bcc0: 6973 7375 6573 2f35 3937 3229 290a 2d20  issues/5972)).- 
-0000bcd0: 456e 6861 6e63 656d 656e 7473 2074 6f20  Enhancements to 
-0000bce0: 4f70 656e 5472 6163 696e 6720 7375 7070  OpenTracing supp
-0000bcf0: 6f72 743a 0a20 202d 204d 616b 6520 4f70  ort:.  - Make Op
-0000bd00: 656e 5472 6163 696e 6720 776f 726b 2069  enTracing work i
-0000bd10: 6e20 776f 726b 6572 206d 6f64 652e 2028  n worker mode. (
-0000bd20: 5b5c 2335 3737 315d 2868 7474 7073 3a2f  [\#5771](https:/
-0000bd30: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-0000bd40: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-0000bd50: 7373 7565 732f 3537 3731 2929 0a20 202d  ssues/5771)).  -
-0000bd60: 2050 6173 7320 4f70 656e 5472 6163 696e   Pass OpenTracin
-0000bd70: 6720 636f 6e74 6578 7473 2062 6574 7765  g contexts betwe
-0000bd80: 656e 2073 6572 7665 7273 2077 6865 6e20  en servers when 
-0000bd90: 7472 616e 736d 6974 7469 6e67 2045 4455  transmitting EDU
-0000bda0: 732e 2028 5b5c 2335 3835 325d 2868 7474  s. ([\#5852](htt
-0000bdb0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-0000bdc0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-0000bdd0: 7365 2f69 7373 7565 732f 3538 3532 2929  se/issues/5852))
-0000bde0: 0a20 202d 204f 7065 6e54 7261 6369 6e67  .  - OpenTracing
-0000bdf0: 2066 6f72 2064 6576 6963 6520 6c69 7374   for device list
-0000be00: 2075 7064 6174 6573 2e20 285b 5c23 3538   updates. ([\#58
-0000be10: 3533 5d28 6874 7470 733a 2f2f 6769 7468  53](https://gith
-0000be20: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-0000be30: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-0000be40: 2f35 3835 3329 290a 2020 2d20 4164 6420  /5853)).  - Add 
-0000be50: 6120 7461 6720 7265 636f 7264 696e 6720  a tag recording 
-0000be60: 6120 7265 7175 6573 7427 7320 6175 7468  a request's auth
-0000be70: 656e 7469 6361 7465 6420 656e 7469 7479  enticated entity
-0000be80: 2061 6e64 2063 6f72 7265 7370 6f6e 6469   and correspondi
-0000be90: 6e67 2073 6572 766c 6574 2069 6e20 4f70  ng servlet in Op
-0000bea0: 656e 5472 6163 696e 672e 2028 5b5c 2335  enTracing. ([\#5
-0000beb0: 3835 365d 2868 7474 7073 3a2f 2f67 6974  856](https://git
-0000bec0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-0000bed0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-0000bee0: 732f 3538 3536 2929 0a20 202d 2041 6464  s/5856)).  - Add
-0000bef0: 206d 696e 696d 756d 204f 7065 6e54 7261   minimum OpenTra
-0000bf00: 6369 6e67 2066 6f72 2063 6c69 656e 7420  cing for client 
-0000bf10: 7365 7276 6c65 7473 2e20 285b 5c23 3539  servlets. ([\#59
-0000bf20: 3833 5d28 6874 7470 733a 2f2f 6769 7468  83](https://gith
-0000bf30: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-0000bf40: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-0000bf50: 2f35 3938 3329 290a 2020 2d20 4368 6563  /5983)).  - Chec
-0000bf60: 6b20 6174 2073 6574 7570 2074 6861 7420  k at setup that 
-0000bf70: 4f70 656e 5472 6163 696e 6720 6973 2069  OpenTracing is i
-0000bf80: 6e73 7461 6c6c 6564 2069 6620 6974 2773  nstalled if it's
-0000bf90: 2065 6e61 626c 6564 2069 6e20 7468 6520   enabled in the 
-0000bfa0: 636f 6e66 6967 2e20 285b 5c23 3539 3835  config. ([\#5985
-0000bfb0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0000bfc0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-0000bfd0: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
-0000bfe0: 3938 3529 290a 2020 2d20 5472 6163 6520  985)).  - Trace 
-0000bff0: 7265 706c 6963 6174 696f 6e20 7365 6e64  replication send
-0000c000: 2074 696d 6573 2e20 285b 5c23 3539 3836   times. ([\#5986
-0000c010: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0000c020: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-0000c030: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
-0000c040: 3938 3629 290a 2020 2d20 496e 636c 7564  986)).  - Includ
-0000c050: 6520 6d69 7373 696e 6720 4f70 656e 5472  e missing OpenTr
-0000c060: 6163 696e 6720 636f 6e74 6578 7473 2069  acing contexts i
-0000c070: 6e20 6f75 7462 6f75 7420 7265 706c 6963  n outbout replic
-0000c080: 6174 696f 6e20 7265 7175 6573 7473 2e20  ation requests. 
-0000c090: 285b 5c23 3539 3832 5d28 6874 7470 733a  ([\#5982](https:
-0000c0a0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-0000c0b0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-0000c0c0: 6973 7375 6573 2f35 3938 3229 290a 2020  issues/5982)).  
-0000c0d0: 2d20 4669 7820 7365 6e64 696e 6720 6f66  - Fix sending of
-0000c0e0: 2045 4455 7320 7768 656e 204f 7065 6e54   EDUs when OpenT
-0000c0f0: 7261 6369 6e67 2069 7320 656e 6162 6c65  racing is enable
-0000c100: 6420 7769 7468 2061 6e20 656d 7074 7920  d with an empty 
-0000c110: 7768 6974 656c 6973 742e 2028 5b5c 2335  whitelist. ([\#5
-0000c120: 3938 345d 2868 7474 7073 3a2f 2f67 6974  984](https://git
-0000c130: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-0000c140: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-0000c150: 732f 3539 3834 2929 0a20 202d 2046 6978  s/5984)).  - Fix
-0000c160: 2069 6e76 616c 6964 2072 6566 6572 656e   invalid referen
-0000c170: 6365 7320 746f 204e 6f6e 6520 7768 696c  ces to None whil
-0000c180: 6520 4f70 656e 5472 6163 696e 6720 6966  e OpenTracing if
-0000c190: 2074 6865 206c 6f67 2063 6f6e 7465 7874   the log context
-0000c1a0: 2073 6c69 7073 2e20 285b 5c23 3539 3838   slips. ([\#5988
-0000c1b0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0000c1c0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-0000c1d0: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
-0000c1e0: 3938 3829 2c20 5b5c 2335 3939 315d 2868  988), [\#5991](h
-0000c1f0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0000c200: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-0000c210: 6170 7365 2f69 7373 7565 732f 3539 3931  apse/issues/5991
-0000c220: 2929 0a20 202d 204f 7065 6e54 7261 6369  )).  - OpenTraci
-0000c230: 6e67 2066 6f72 2072 6f6f 6d20 616e 6420  ng for room and 
-0000c240: 6532 6520 6b65 7973 2e20 285b 5c23 3538  e2e keys. ([\#58
-0000c250: 3535 5d28 6874 7470 733a 2f2f 6769 7468  55](https://gith
-0000c260: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-0000c270: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-0000c280: 2f35 3835 3529 290a 2020 2d20 4164 6420  /5855)).  - Add 
-0000c290: 4f70 656e 5472 6163 696e 6720 7370 616e  OpenTracing span
-0000c2a0: 206f 7665 7220 4854 5450 2070 7573 6820   over HTTP push 
-0000c2b0: 7072 6f63 6573 7369 6e67 2e20 285b 5c23  processing. ([\#
-0000c2c0: 3630 3033 5d28 6874 7470 733a 2f2f 6769  6003](https://gi
-0000c2d0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-0000c2e0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-0000c2f0: 6573 2f36 3030 3329 290a 2d20 4164 6420  es/6003)).- Add 
-0000c300: 616e 2061 646d 696e 2041 5049 2074 6f20  an admin API to 
-0000c310: 7075 7267 6520 6f6c 6420 726f 6f6d 7320  purge old rooms 
-0000c320: 6672 6f6d 2074 6865 2064 6174 6162 6173  from the databas
-0000c330: 652e 2028 5b5c 2335 3834 355d 2868 7474  e. ([\#5845](htt
-0000c340: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-0000c350: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-0000c360: 7365 2f69 7373 7565 732f 3538 3435 2929  se/issues/5845))
-0000c370: 0a2d 2052 6574 7279 2077 656c 6c2d 6b6e  .- Retry well-kn
-0000c380: 6f77 6e20 6c6f 6f6b 7570 7320 6966 2077  own lookups if w
-0000c390: 6520 6861 7665 2072 6563 656e 746c 7920  e have recently 
-0000c3a0: 7365 656e 2061 2076 616c 6964 2077 656c  seen a valid wel
-0000c3b0: 6c2d 6b6e 6f77 6e20 7265 636f 7264 2066  l-known record f
-0000c3c0: 6f72 2074 6865 2073 6572 7665 722e 2028  or the server. (
-0000c3d0: 5b5c 2335 3835 305d 2868 7474 7073 3a2f  [\#5850](https:/
-0000c3e0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-0000c3f0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-0000c400: 7373 7565 732f 3538 3530 2929 0a2d 2041  ssues/5850)).- A
-0000c410: 6464 2073 7570 706f 7274 2066 6f72 2066  dd support for f
-0000c420: 696c 7465 7265 6420 726f 6f6d 2d64 6972  iltered room-dir
-0000c430: 6563 746f 7279 2073 6561 7263 6820 7265  ectory search re
-0000c440: 7175 6573 7473 206f 7665 7220 6665 6465  quests over fede
-0000c450: 7261 7469 6f6e 2028 5b4d 5343 3231 3937  ration ([MSC2197
-0000c460: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0000c470: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-0000c480: 6d61 7472 6978 2d64 6f63 2f70 756c 6c2f  matrix-doc/pull/
-0000c490: 3231 3937 292c 2069 6e20 6f72 6465 7220  2197), in order 
-0000c4a0: 746f 2061 6c6c 6f77 2075 7063 6f6d 696e  to allow upcomin
-0000c4b0: 6720 726f 6f6d 2064 6972 6563 746f 7279  g room directory
-0000c4c0: 2071 7565 7279 2070 6572 666f 726d 616e   query performan
-0000c4d0: 6365 2069 6d70 726f 7665 6d65 6e74 732e  ce improvements.
-0000c4e0: 2028 5b5c 2335 3835 395d 2868 7474 7073   ([\#5859](https
-0000c4f0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-0000c500: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-0000c510: 2f69 7373 7565 732f 3538 3539 2929 0a2d  /issues/5859)).-
-0000c520: 2043 6f72 7265 6374 6c79 2072 6574 7279   Correctly retry
-0000c530: 2061 6c6c 2068 6f73 7473 2072 6574 7572   all hosts retur
-0000c540: 6e65 6420 6672 6f6d 2053 5256 2077 6865  ned from SRV whe
-0000c550: 6e20 7765 2066 6169 6c20 746f 2063 6f6e  n we fail to con
-0000c560: 6e65 6374 2e20 285b 5c23 3538 3634 5d28  nect. ([\#5864](
-0000c570: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-0000c580: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-0000c590: 6e61 7073 652f 6973 7375 6573 2f35 3836  napse/issues/586
-0000c5a0: 3429 290a 2d20 4164 6420 6164 6d69 6e20  4)).- Add admin 
-0000c5b0: 4150 4920 656e 6470 6f69 6e74 2066 6f72  API endpoint for
-0000c5c0: 2073 6574 7469 6e67 2077 6865 7468 6572   setting whether
-0000c5d0: 206f 7220 6e6f 7420 6120 7573 6572 2069   or not a user i
-0000c5e0: 7320 6120 7365 7276 6572 2061 646d 696e  s a server admin
-0000c5f0: 6973 7472 6174 6f72 2e20 285b 5c23 3538  istrator. ([\#58
-0000c600: 3738 5d28 6874 7470 733a 2f2f 6769 7468  78](https://gith
-0000c610: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-0000c620: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-0000c630: 2f35 3837 3829 290a 2d20 456e 6162 6c65  /5878)).- Enable
-0000c640: 2063 6c65 616e 696e 6720 7570 2065 7874   cleaning up ext
-0000c650: 7265 6d69 7469 6573 2077 6974 6820 6475  remities with du
-0000c660: 6d6d 7920 6576 656e 7473 2062 7920 6465  mmy events by de
-0000c670: 6661 756c 7420 746f 2070 7265 7665 6e74  fault to prevent
-0000c680: 2075 6e64 7565 2062 7569 6c64 2075 7020   undue build up 
-0000c690: 6f66 2066 6f72 7761 7264 2065 7874 7265  of forward extre
-0000c6a0: 6d69 7469 6573 2e20 285b 5c23 3538 3834  mities. ([\#5884
-0000c6b0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0000c6c0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-0000c6d0: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
-0000c6e0: 3838 3429 290a 2d20 4164 6420 636f 6e66  884)).- Add conf
-0000c6f0: 6967 206f 7074 696f 6e20 746f 2073 6967  ig option to sig
-0000c700: 6e20 7265 6d6f 7465 206b 6579 2071 7565  n remote key que
-0000c710: 7279 2072 6573 706f 6e73 6573 2077 6974  ry responses wit
-0000c720: 6820 6120 7365 7061 7261 7465 206b 6579  h a separate key
-0000c730: 2e20 285b 5c23 3538 3935 5d28 6874 7470  . ([\#5895](http
-0000c740: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-0000c750: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-0000c760: 652f 6973 7375 6573 2f35 3839 3529 290a  e/issues/5895)).
-0000c770: 2d20 4164 6420 7375 7070 6f72 7420 666f  - Add support fo
-0000c780: 7220 636f 6e66 6967 2074 656d 706c 6174  r config templat
-0000c790: 696e 672e 2028 5b5c 2335 3930 305d 2868  ing. ([\#5900](h
-0000c7a0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0000c7b0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-0000c7c0: 6170 7365 2f69 7373 7565 732f 3539 3030  apse/issues/5900
-0000c7d0: 2929 0a2d 2055 7365 7273 2077 6974 6820  )).- Users with 
-0000c7e0: 7468 6520 7479 7065 206f 6620 2273 7570  the type of "sup
-0000c7f0: 706f 7274 2220 6f72 2022 626f 7422 2061  port" or "bot" a
-0000c800: 7265 206e 6f20 6c6f 6e67 6572 2072 6571  re no longer req
-0000c810: 7569 7265 6420 746f 2063 6f6e 7365 6e74  uired to consent
-0000c820: 2e20 285b 5c23 3539 3032 5d28 6874 7470  . ([\#5902](http
-0000c830: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-0000c840: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-0000c850: 652f 6973 7375 6573 2f35 3930 3229 290a  e/issues/5902)).
-0000c860: 2d20 4c65 7420 7379 6e63 746c 2061 6363  - Let synctl acc
-0000c870: 6570 7420 6120 6469 7265 6374 6f72 7920  ept a directory 
-0000c880: 6f66 2063 6f6e 6669 6720 6669 6c65 732e  of config files.
-0000c890: 2028 5b5c 2335 3930 345d 2868 7474 7073   ([\#5904](https
-0000c8a0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-0000c8b0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-0000c8c0: 2f69 7373 7565 732f 3539 3034 2929 0a2d  /issues/5904)).-
-0000c8d0: 2049 6e63 7265 6173 6520 6d61 7820 6469   Increase max di
-0000c8e0: 7370 6c61 7920 6e61 6d65 2073 697a 6520  splay name size 
-0000c8f0: 746f 2032 3536 2e20 285b 5c23 3539 3036  to 256. ([\#5906
-0000c900: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0000c910: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-0000c920: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
-0000c930: 3930 3629 290a 2d20 4164 6420 6164 6d69  906)).- Add admi
-0000c940: 6e20 4150 4920 656e 6470 6f69 6e74 2066  n API endpoint f
-0000c950: 6f72 2067 6574 7469 6e67 2077 6865 7468  or getting wheth
-0000c960: 6572 206f 7220 6e6f 7420 6120 7573 6572  er or not a user
-0000c970: 2069 7320 6120 7365 7276 6572 2061 646d   is a server adm
-0000c980: 696e 6973 7472 6174 6f72 2e20 285b 5c23  inistrator. ([\#
-0000c990: 3539 3134 5d28 6874 7470 733a 2f2f 6769  5914](https://gi
-0000c9a0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-0000c9b0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-0000c9c0: 6573 2f35 3931 3429 290a 2d20 5265 6461  es/5914)).- Reda
-0000c9d0: 6374 2065 7665 6e74 7320 696e 2074 6865  ct events in the
-0000c9e0: 2064 6174 6162 6173 6520 7468 6174 2068   database that h
-0000c9f0: 6176 6520 6265 656e 2072 6564 6163 7465  ave been redacte
-0000ca00: 6420 666f 7220 6120 7765 656b 2e20 285b  d for a week. ([
-0000ca10: 5c23 3539 3334 5d28 6874 7470 733a 2f2f  \#5934](https://
-0000ca20: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-0000ca30: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-0000ca40: 7375 6573 2f35 3933 3429 290a 2d20 4e65  sues/5934)).- Ne
-0000ca50: 7720 7072 6f6d 6574 6865 7573 206d 6574  w prometheus met
-0000ca60: 7269 6373 3a0a 2020 2d20 6073 796e 6170  rics:.  - `synap
-0000ca70: 7365 5f66 6564 6572 6174 696f 6e5f 6b6e  se_federation_kn
-0000ca80: 6f77 6e5f 7365 7276 6572 7360 3a20 7265  own_servers`: re
-0000ca90: 7072 6573 656e 7473 2074 6865 2074 6f74  presents the tot
-0000caa0: 616c 206e 756d 6265 7220 6f66 2073 6572  al number of ser
-0000cab0: 7665 7273 2079 6f75 7220 7365 7276 6572  vers your server
-0000cac0: 206b 6e6f 7773 2061 626f 7574 2028 692e   knows about (i.
-0000cad0: 652e 2069 7320 696e 2072 6f6f 6d73 2077  e. is in rooms w
-0000cae0: 6974 6829 2c20 696e 636c 7564 696e 6720  ith), including 
-0000caf0: 6974 7365 6c66 2e20 456e 6162 6c65 2062  itself. Enable b
-0000cb00: 7920 7365 7474 696e 6720 606d 6574 7269  y setting `metri
-0000cb10: 6373 5f66 6c61 6773 2e6b 6e6f 776e 5f73  cs_flags.known_s
-0000cb20: 6572 7665 7273 6020 746f 2054 7275 6520  ervers` to True 
-0000cb30: 696e 2074 6865 2063 6f6e 6669 6775 7261  in the configura
-0000cb40: 7469 6f6e 2e28 5b5c 2335 3938 315d 2868  tion.([\#5981](h
-0000cb50: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0000cb60: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-0000cb70: 6170 7365 2f69 7373 7565 732f 3539 3831  apse/issues/5981
-0000cb80: 2929 0a20 202d 2060 7379 6e61 7073 655f  )).  - `synapse_
-0000cb90: 6275 696c 645f 696e 666f 603a 2065 7870  build_info`: exp
-0000cba0: 6f73 6573 2074 6865 2050 7974 686f 6e20  oses the Python 
-0000cbb0: 7665 7273 696f 6e2c 204f 5320 7665 7273  version, OS vers
-0000cbc0: 696f 6e2c 2061 6e64 2053 796e 6170 7365  ion, and Synapse
-0000cbd0: 2076 6572 7369 6f6e 206f 6620 7468 6520   version of the 
-0000cbe0: 7275 6e6e 696e 6720 7365 7276 6572 2e20  running server. 
-0000cbf0: 285b 5c23 3630 3035 5d28 6874 7470 733a  ([\#6005](https:
-0000cc00: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-0000cc10: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-0000cc20: 6973 7375 6573 2f36 3030 3529 290a 2d20  issues/6005)).- 
-0000cc30: 4769 7665 2061 7070 726f 7072 6961 7465  Give appropriate
-0000cc40: 2065 7869 7420 636f 6465 7320 7768 656e   exit codes when
-0000cc50: 2073 796e 6374 6c20 6661 696c 732e 2028   synctl fails. (
-0000cc60: 5b5c 2335 3939 325d 2868 7474 7073 3a2f  [\#5992](https:/
-0000cc70: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-0000cc80: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-0000cc90: 7373 7565 732f 3539 3932 2929 0a2d 2041  ssues/5992)).- A
-0000cca0: 7070 6c79 2074 6865 2066 6564 6572 6174  pply the federat
-0000ccb0: 696f 6e20 626c 6163 6b6c 6973 7420 746f  ion blacklist to
-0000ccc0: 2072 6571 7565 7374 7320 746f 2069 6465   requests to ide
-0000ccd0: 6e74 6974 7920 7365 7276 6572 732e 2028  ntity servers. (
-0000cce0: 5b5c 2336 3030 305d 2868 7474 7073 3a2f  [\#6000](https:/
-0000ccf0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-0000cd00: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-0000cd10: 7373 7565 732f 3630 3030 2929 0a2d 2041  ssues/6000)).- A
-0000cd20: 6464 2060 7265 706f 7274 5f73 7461 7473  dd `report_stats
-0000cd30: 5f65 6e64 706f 696e 7460 206f 7074 696f  _endpoint` optio
-0000cd40: 6e20 746f 2063 6f6e 6669 6775 7265 2077  n to configure w
-0000cd50: 6865 7265 2073 7461 7473 2061 7265 2072  here stats are r
-0000cd60: 6570 6f72 7465 6420 746f 2c20 6966 2065  eported to, if e
-0000cd70: 6e61 626c 6564 2e20 436f 6e74 7269 6275  nabled. Contribu
-0000cd80: 7465 6420 6279 2040 536f 7275 6e6f 6d65  ted by @Sorunome
-0000cd90: 2e20 285b 5c23 3630 3132 5d28 6874 7470  . ([\#6012](http
-0000cda0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-0000cdb0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-0000cdc0: 652f 6973 7375 6573 2f36 3031 3229 290a  e/issues/6012)).
-0000cdd0: 2d20 4164 6420 636f 6e66 6967 206f 7074  - Add config opt
-0000cde0: 696f 6e20 746f 2069 6e63 7265 6173 6520  ion to increase 
-0000cdf0: 7261 7465 6c69 6d69 7473 2066 6f72 2072  ratelimits for r
-0000ce00: 6f6f 6d20 6164 6d69 6e73 2072 6564 6163  oom admins redac
-0000ce10: 7469 6e67 206d 6573 7361 6765 732e 2028  ting messages. (
-0000ce20: 5b5c 2336 3031 355d 2868 7474 7073 3a2f  [\#6015](https:/
-0000ce30: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-0000ce40: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-0000ce50: 7373 7565 732f 3630 3135 2929 0a2d 2053  ssues/6015)).- S
-0000ce60: 746f 7020 7365 6e64 696e 6720 6665 6465  top sending fede
-0000ce70: 7261 7469 6f6e 2074 7261 6e73 6163 7469  ration transacti
-0000ce80: 6f6e 7320 746f 2073 6572 7665 7273 2077  ons to servers w
-0000ce90: 6869 6368 2068 6176 6520 6265 656e 2064  hich have been d
-0000cea0: 6f77 6e20 666f 7220 6120 6c6f 6e67 2074  own for a long t
-0000ceb0: 696d 652e 2028 5b5c 2336 3032 365d 2868  ime. ([\#6026](h
-0000cec0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0000ced0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-0000cee0: 6170 7365 2f69 7373 7565 732f 3630 3236  apse/issues/6026
-0000cef0: 2929 0a2d 204d 616b 6520 7468 6520 7072  )).- Make the pr
-0000cf00: 6f63 6573 7320 666f 7220 6d61 7070 696e  ocess for mappin
-0000cf10: 6720 5341 4d4c 3220 7573 6572 7320 746f  g SAML2 users to
-0000cf20: 206d 6174 7269 7820 4944 7320 6d6f 7265   matrix IDs more
-0000cf30: 2066 6c65 7869 626c 652e 2028 5b5c 2336   flexible. ([\#6
-0000cf40: 3033 375d 2868 7474 7073 3a2f 2f67 6974  037](https://git
-0000cf50: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-0000cf60: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-0000cf70: 732f 3630 3337 2929 0a2d 2052 6574 7572  s/6037)).- Retur
-0000cf80: 6e20 6120 636c 6561 7265 7220 6572 726f  n a clearer erro
-0000cf90: 7220 6d65 7373 6167 6520 7768 656e 2061  r message when a
-0000cfa0: 2074 696d 656f 7574 206f 6363 7572 7320   timeout occurs 
-0000cfb0: 7768 656e 2061 7474 656d 7074 696e 6720  when attempting 
-0000cfc0: 746f 2063 6f6e 7461 6374 2061 6e20 6964  to contact an id
-0000cfd0: 656e 7469 7479 2073 6572 7665 722e 2028  entity server. (
-0000cfe0: 5b5c 2336 3037 335d 2868 7474 7073 3a2f  [\#6073](https:/
-0000cff0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-0000d000: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-0000d010: 7373 7565 732f 3630 3733 2929 0a2d 2050  ssues/6073)).- P
-0000d020: 7265 7665 6e74 2070 6173 7377 6f72 6420  revent password 
-0000d030: 7265 7365 7427 7320 7375 626d 6974 5f74  reset's submit_t
-0000d040: 6f6b 656e 2065 6e64 706f 696e 7420 6672  oken endpoint fr
-0000d050: 6f6d 2061 6363 6570 7469 6e67 2074 7261  om accepting tra
-0000d060: 696c 696e 6720 736c 6173 6865 732e 2028  iling slashes. (
-0000d070: 5b5c 2336 3037 345d 2868 7474 7073 3a2f  [\#6074](https:/
-0000d080: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-0000d090: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-0000d0a0: 7373 7565 732f 3630 3734 2929 0a2d 2052  ssues/6074)).- R
-0000d0b0: 6574 7572 6e20 3430 3320 6f6e 2060 2f72  eturn 403 on `/r
-0000d0c0: 6567 6973 7465 722f 6176 6169 6c61 626c  egister/availabl
-0000d0d0: 6560 2069 6620 7265 6769 7374 7261 7469  e` if registrati
-0000d0e0: 6f6e 2068 6173 2062 6565 6e20 6469 7361  on has been disa
-0000d0f0: 626c 6564 2e20 285b 5c23 3630 3832 5d28  bled. ([\#6082](
-0000d100: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-0000d110: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-0000d120: 6e61 7073 652f 6973 7375 6573 2f36 3038  napse/issues/608
-0000d130: 3229 290a 2d20 4578 706c 6963 6974 6c79  2)).- Explicitly
-0000d140: 206c 6f67 2077 6865 6e20 6120 686f 6d65   log when a home
-0000d150: 7365 7276 6572 2064 6f65 7320 6e6f 7420  server does not 
-0000d160: 6861 7665 2074 6865 2060 7472 7573 7465  have the `truste
-0000d170: 645f 6b65 795f 7365 7276 6572 7360 2063  d_key_servers` c
-0000d180: 6f6e 6669 6720 6669 656c 6420 636f 6e66  onfig field conf
-0000d190: 6967 7572 6564 2e20 285b 5c23 3630 3930  igured. ([\#6090
-0000d1a0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0000d1b0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-0000d1c0: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
-0000d1d0: 3039 3029 290a 2d20 4164 6420 7375 7070  090)).- Add supp
-0000d1e0: 6f72 7420 666f 7220 7072 756e 696e 6720  ort for pruning 
-0000d1f0: 6f6c 6420 726f 7773 2069 6e20 6075 7365  old rows in `use
-0000d200: 725f 6970 7360 2074 6162 6c65 2e20 285b  r_ips` table. ([
-0000d210: 5c23 3630 3938 5d28 6874 7470 733a 2f2f  \#6098](https://
-0000d220: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-0000d230: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-0000d240: 7375 6573 2f36 3039 3829 290a 0a42 7567  sues/6098))..Bug
-0000d250: 6669 7865 730a 2d2d 2d2d 2d2d 2d2d 0a0a  fixes.--------..
-0000d260: 2d20 446f 6e27 7420 6372 6561 7465 2062  - Don't create b
-0000d270: 726f 6b65 6e20 726f 6f6d 2077 6865 6e20  roken room when 
-0000d280: 6070 6f77 6572 5f6c 6576 656c 5f63 6f6e  `power_level_con
-0000d290: 7465 6e74 5f6f 7665 7272 6964 652e 7573  tent_override.us
-0000d2a0: 6572 7360 2064 6f65 7320 6e6f 7420 636f  ers` does not co
-0000d2b0: 6e74 6169 6e20 6063 7265 6174 6f72 5f69  ntain `creator_i
-0000d2c0: 6460 2e20 285b 5c23 3536 3333 5d28 6874  d`. ([\#5633](ht
-0000d2d0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0000d2e0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-0000d2f0: 7073 652f 6973 7375 6573 2f35 3633 3329  pse/issues/5633)
-0000d300: 290a 2d20 4669 7820 6461 7461 6261 7365  ).- Fix database
-0000d310: 2069 6e64 6578 2073 6f20 7468 6174 2064   index so that d
-0000d320: 6966 6665 7265 6e74 2062 6163 6b75 7020  ifferent backup 
-0000d330: 7665 7273 696f 6e73 2063 616e 2068 6176  versions can hav
-0000d340: 6520 7468 6520 7361 6d65 2073 6573 7369  e the same sessi
-0000d350: 6f6e 732e 2028 5b5c 2335 3835 375d 2868  ons. ([\#5857](h
-0000d360: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0000d370: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-0000d380: 6170 7365 2f69 7373 7565 732f 3538 3537  apse/issues/5857
-0000d390: 2929 0a2d 2046 6978 2053 796e 6170 7365  )).- Fix Synapse
-0000d3a0: 206c 6f6f 6b69 6e67 2066 6f72 2063 6f6e   looking for con
-0000d3b0: 6669 6720 6f70 7469 6f6e 7320 6070 6173  fig options `pas
-0000d3c0: 7377 6f72 645f 7265 7365 745f 6661 696c  sword_reset_fail
-0000d3d0: 7572 655f 7465 6d70 6c61 7465 6020 616e  ure_template` an
-0000d3e0: 6420 6070 6173 7377 6f72 645f 7265 7365  d `password_rese
-0000d3f0: 745f 7375 6363 6573 735f 7465 6d70 6c61  t_success_templa
-0000d400: 7465 602c 2077 6865 6e20 7468 6579 2061  te`, when they a
-0000d410: 7265 2061 6374 7561 6c6c 7920 6070 6173  re actually `pas
-0000d420: 7377 6f72 645f 7265 7365 745f 7465 6d70  sword_reset_temp
-0000d430: 6c61 7465 5f66 6169 6c75 7265 5f68 746d  late_failure_htm
-0000d440: 6c60 2c20 6070 6173 7377 6f72 645f 7265  l`, `password_re
-0000d450: 7365 745f 7465 6d70 6c61 7465 5f73 7563  set_template_suc
-0000d460: 6365 7373 5f68 746d 6c60 2e20 285b 5c23  cess_html`. ([\#
-0000d470: 3538 3633 5d28 6874 7470 733a 2f2f 6769  5863](https://gi
-0000d480: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-0000d490: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-0000d4a0: 6573 2f35 3836 3329 290a 2d20 4669 7820  es/5863)).- Fix 
-0000d4b0: 7374 6163 6b20 6f76 6572 666c 6f77 2077  stack overflow w
-0000d4c0: 6865 6e20 7265 636f 7665 7269 6e67 2061  hen recovering a
-0000d4d0: 6e20 6170 7073 6572 7669 6365 2077 6869  n appservice whi
-0000d4e0: 6368 2068 6164 2061 6e20 6f75 7461 6765  ch had an outage
-0000d4f0: 2e20 285b 5c23 3538 3835 5d28 6874 7470  . ([\#5885](http
-0000d500: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-0000d510: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-0000d520: 652f 6973 7375 6573 2f35 3838 3529 290a  e/issues/5885)).
-0000d530: 2d20 4669 7820 6572 726f 7220 6d65 7373  - Fix error mess
-0000d540: 6167 6520 7768 6963 6820 7265 6665 7272  age which referr
-0000d550: 6564 2074 6f20 6070 7562 6c69 635f 6261  ed to `public_ba
-0000d560: 7365 5f75 726c 6020 696e 7374 6561 6420  se_url` instead 
-0000d570: 6f66 2060 7075 626c 6963 5f62 6173 6575  of `public_baseu
-0000d580: 726c 602e 2054 6861 6e6b 7320 746f 2040  rl`. Thanks to @
-0000d590: 6161 726f 6e72 6169 6d69 7374 2066 6f72  aaronraimist for
-0000d5a0: 2074 6865 2066 6978 2120 285b 5c23 3539   the fix! ([\#59
-0000d5b0: 3039 5d28 6874 7470 733a 2f2f 6769 7468  09](https://gith
-0000d5c0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-0000d5d0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-0000d5e0: 2f35 3930 3929 290a 2d20 4669 7820 3430  /5909)).- Fix 40
-0000d5f0: 3420 666f 7220 7468 756d 626e 6169 6c20  4 for thumbnail 
-0000d600: 646f 776e 6c6f 6164 2077 6865 6e20 6064  download when `d
-0000d610: 796e 616d 6963 5f74 6875 6d62 6e61 696c  ynamic_thumbnail
-0000d620: 7360 2069 7320 6066 616c 7365 6020 616e  s` is `false` an
-0000d630: 6420 7468 6520 7468 756d 626e 6169 6c20  d the thumbnail 
-0000d640: 7761 7320 6479 6e61 6d69 6361 6c6c 7920  was dynamically 
-0000d650: 6765 6e65 7261 7465 642e 2046 6978 2072  generated. Fix r
-0000d660: 6570 6f72 7465 6420 6279 2072 6b66 672e  eported by rkfg.
-0000d670: 2028 5b5c 2335 3931 355d 2868 7474 7073   ([\#5915](https
-0000d680: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-0000d690: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-0000d6a0: 2f69 7373 7565 732f 3539 3135 2929 0a2d  /issues/5915)).-
-0000d6b0: 2046 6978 2061 2063 6163 6865 2d69 6e76   Fix a cache-inv
-0000d6c0: 616c 6964 6174 696f 6e20 6275 6720 666f  alidation bug fo
-0000d6d0: 7220 776f 726b 6572 2d62 6173 6564 2064  r worker-based d
-0000d6e0: 6570 6c6f 796d 656e 7473 2e20 285b 5c23  eployments. ([\#
-0000d6f0: 3539 3230 5d28 6874 7470 733a 2f2f 6769  5920](https://gi
-0000d700: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-0000d710: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-0000d720: 6573 2f35 3932 3029 290a 2d20 4669 7820  es/5920)).- Fix 
-0000d730: 6164 6d69 6e20 4150 4920 666f 7220 6c69  admin API for li
-0000d740: 7374 696e 6720 6d65 6469 6120 696e 2061  sting media in a
-0000d750: 2072 6f6f 6d20 6e6f 7420 6265 696e 6720   room not being 
-0000d760: 6176 6169 6c61 626c 6520 7769 7468 2061  available with a
-0000d770: 6e20 6578 7465 726e 616c 206d 6564 6961  n external media
-0000d780: 2072 6570 6f2e 2028 5b5c 2335 3936 365d   repo. ([\#5966]
-0000d790: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0000d7a0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-0000d7b0: 796e 6170 7365 2f69 7373 7565 732f 3539  ynapse/issues/59
-0000d7c0: 3636 2929 0a2d 2046 6978 206c 6973 7420  66)).- Fix list 
-0000d7d0: 6d65 6469 6120 6164 6d69 6e20 4150 4920  media admin API 
-0000d7e0: 616c 7761 7973 2072 6574 7572 6e69 6e67  always returning
-0000d7f0: 2061 6e20 6572 726f 722e 2028 5b5c 2335   an error. ([\#5
-0000d800: 3936 375d 2868 7474 7073 3a2f 2f67 6974  967](https://git
-0000d810: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-0000d820: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-0000d830: 732f 3539 3637 2929 0a2d 2046 6978 2072  s/5967)).- Fix r
-0000d840: 6f6f 6d20 616e 6420 7573 6572 2073 7461  oom and user sta
-0000d850: 7473 2074 7261 636b 696e 672e 2028 5b5c  ts tracking. ([\
-0000d860: 2335 3937 315d 2868 7474 7073 3a2f 2f67  #5971](https://g
-0000d870: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-0000d880: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-0000d890: 7565 732f 3539 3731 292c 205b 5c23 3539  ues/5971), [\#59
-0000d8a0: 3938 5d28 6874 7470 733a 2f2f 6769 7468  98](https://gith
-0000d8b0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-0000d8c0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-0000d8d0: 2f35 3939 3829 2c20 5b5c 2336 3032 395d  /5998), [\#6029]
-0000d8e0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0000d8f0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-0000d900: 796e 6170 7365 2f69 7373 7565 732f 3630  ynapse/issues/60
-0000d910: 3239 2929 0a2d 2052 6574 7572 6e20 6120  29)).- Return a 
-0000d920: 604d 5f4d 4953 5349 4e47 5f50 4152 414d  `M_MISSING_PARAM
-0000d930: 6020 6966 2060 7369 6460 2069 7320 6e6f  ` if `sid` is no
-0000d940: 7420 7072 6f76 6964 6564 2074 6f20 602f  t provided to `/
-0000d950: 6163 636f 756e 742f 3370 6964 602e 2028  account/3pid`. (
-0000d960: 5b5c 2335 3939 355d 2868 7474 7073 3a2f  [\#5995](https:/
-0000d970: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-0000d980: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-0000d990: 7373 7565 732f 3539 3935 2929 0a2d 2060  ssues/5995)).- `
-0000d9a0: 6665 6465 7261 7469 6f6e 5f63 6572 7469  federation_certi
-0000d9b0: 6669 6361 7465 5f76 6572 6966 6963 6174  ficate_verificat
-0000d9c0: 696f 6e5f 7768 6974 656c 6973 7460 206e  ion_whitelist` n
-0000d9d0: 6f77 2077 696c 6c20 6e6f 7420 6361 7573  ow will not caus
-0000d9e0: 6520 6054 7970 6545 7272 6f72 7360 2074  e `TypeErrors` t
-0000d9f0: 6f20 6265 2072 6169 7365 6420 2861 2072  o be raised (a r
-0000da00: 6567 7265 7373 696f 6e20 696e 2031 2e33  egression in 1.3
-0000da10: 292e 2041 6464 6974 696f 6e61 6c6c 792c  ). Additionally,
-0000da20: 2069 7420 6e6f 7720 7375 7070 6f72 7473   it now supports
-0000da30: 2069 6e74 6572 6e61 7469 6f6e 616c 6973   internationalis
-0000da40: 6564 2064 6f6d 6169 6e20 6e61 6d65 7320  ed domain names 
-0000da50: 696e 2074 6865 6972 206e 6f6e 2d63 616e  in their non-can
-0000da60: 6f6e 6963 616c 2072 6570 7265 7365 6e74  onical represent
-0000da70: 6174 696f 6e2e 2028 5b5c 2335 3939 365d  ation. ([\#5996]
-0000da80: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0000da90: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-0000daa0: 796e 6170 7365 2f69 7373 7565 732f 3539  ynapse/issues/59
-0000dab0: 3936 2929 0a2d 204f 6e6c 7920 636f 756e  96)).- Only coun
-0000dac0: 7420 7265 616c 2075 7365 7273 2077 6865  t real users whe
-0000dad0: 6e20 6368 6563 6b69 6e67 2066 6f72 2061  n checking for a
-0000dae0: 7574 6f2d 6372 6561 7469 6f6e 206f 6620  uto-creation of 
-0000daf0: 6175 746f 2d6a 6f69 6e20 726f 6f6d 2e20  auto-join room. 
-0000db00: 285b 5c23 3630 3034 5d28 6874 7470 733a  ([\#6004](https:
-0000db10: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-0000db20: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-0000db30: 6973 7375 6573 2f36 3030 3429 290a 2d20  issues/6004)).- 
-0000db40: 456e 7375 7265 2073 7570 706f 7274 2075  Ensure support u
-0000db50: 7365 7273 2063 616e 2062 6520 7265 6769  sers can be regi
-0000db60: 7374 6572 6564 2065 7665 6e20 6966 204d  stered even if M
-0000db70: 4155 206c 696d 6974 2069 7320 7265 6163  AU limit is reac
-0000db80: 6865 642e 2028 5b5c 2336 3032 305d 2868  hed. ([\#6020](h
-0000db90: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0000dba0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-0000dbb0: 6170 7365 2f69 7373 7565 732f 3630 3230  apse/issues/6020
-0000dbc0: 2929 0a2d 2046 6978 2062 7567 2077 6865  )).- Fix bug whe
-0000dbd0: 7265 206c 6f67 696e 2065 7272 6f72 2077  re login error w
-0000dbe0: 6173 2073 686f 776e 2069 6e63 6f72 7265  as shown incorre
-0000dbf0: 6374 6c79 206f 6e20 5353 4f20 6661 6c6c  ctly on SSO fall
-0000dc00: 6261 636b 206c 6f67 696e 2e20 285b 5c23  back login. ([\#
-0000dc10: 3630 3234 5d28 6874 7470 733a 2f2f 6769  6024](https://gi
-0000dc20: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-0000dc30: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-0000dc40: 6573 2f36 3032 3429 290a 2d20 4669 7820  es/6024)).- Fix 
-0000dc50: 6275 6720 696e 2063 616c 6375 6c61 7469  bug in calculati
-0000dc60: 6e67 2074 6865 2066 6564 6572 6174 696f  ng the federatio
-0000dc70: 6e20 7265 7472 7920 6261 636b 6f66 6620  n retry backoff 
-0000dc80: 7065 7269 6f64 2e20 285b 5c23 3630 3235  period. ([\#6025
-0000dc90: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0000dca0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-0000dcb0: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
-0000dcc0: 3032 3529 290a 2d20 5072 6576 656e 7420  025)).- Prevent 
-0000dcd0: 6578 6365 7074 696f 6e73 2062 6569 6e67  exceptions being
-0000dce0: 206c 6f67 6765 6420 7768 656e 2065 7874   logged when ext
-0000dcf0: 7265 6d69 7479 2d63 6c65 616e 7570 2065  remity-cleanup e
-0000dd00: 7665 6e74 7320 6661 696c 2064 7565 2074  vents fail due t
-0000dd10: 6f20 6c61 636b 206f 6620 7573 6572 2063  o lack of user c
-0000dd20: 6f6e 7365 6e74 2074 6f20 7468 6520 7465  onsent to the te
-0000dd30: 726d 7320 6f66 2073 6572 7669 6365 2e20  rms of service. 
-0000dd40: 285b 5c23 3630 3533 5d28 6874 7470 733a  ([\#6053](https:
-0000dd50: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-0000dd60: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-0000dd70: 6973 7375 6573 2f36 3035 3329 290a 2d20  issues/6053)).- 
-0000dd80: 5265 6d6f 7665 2050 4f53 5420 6d65 7468  Remove POST meth
-0000dd90: 6f64 2066 726f 6d20 7061 7373 776f 7264  od from password
-0000dda0: 2d72 6573 6574 2060 7375 626d 6974 5f74  -reset `submit_t
-0000ddb0: 6f6b 656e 6020 656e 6470 6f69 6e74 2075  oken` endpoint u
-0000ddc0: 6e74 696c 2077 6520 696d 706c 656d 656e  ntil we implemen
-0000ddd0: 7420 6073 7562 6d69 745f 7572 6c60 2066  t `submit_url` f
-0000dde0: 756e 6374 696f 6e61 6c69 7479 2e20 285b  unctionality. ([
-0000ddf0: 5c23 3630 3536 5d28 6874 7470 733a 2f2f  \#6056](https://
-0000de00: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-0000de10: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-0000de20: 7375 6573 2f36 3035 3629 290a 2d20 4669  sues/6056)).- Fi
-0000de30: 7820 6c6f 6763 6f6e 7465 7874 2073 7061  x logcontext spa
-0000de40: 6d20 6f6e 206e 6f6e 2d4c 696e 7578 2070  m on non-Linux p
-0000de50: 6c61 7466 6f72 6d73 2e20 285b 5c23 3630  latforms. ([\#60
-0000de60: 3539 5d28 6874 7470 733a 2f2f 6769 7468  59](https://gith
-0000de70: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-0000de80: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-0000de90: 2f36 3035 3929 290a 2d20 456e 7375 7265  /6059)).- Ensure
-0000dea0: 2071 7565 7279 2070 6172 616d 6574 6572   query parameter
-0000deb0: 7320 696e 2065 6d61 696c 2076 616c 6964  s in email valid
-0000dec0: 6174 696f 6e20 6c69 6e6b 7320 6172 6520  ation links are 
-0000ded0: 5552 4c2d 656e 636f 6465 642e 2028 5b5c  URL-encoded. ([\
-0000dee0: 2336 3036 335d 2868 7474 7073 3a2f 2f67  #6063](https://g
-0000def0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-0000df00: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-0000df10: 7565 732f 3630 3633 2929 0a2d 2046 6978  ues/6063)).- Fix
-0000df20: 2061 2062 7567 2077 6869 6368 2063 6175   a bug which cau
-0000df30: 7365 6420 5341 4d4c 2061 7474 7269 6275  sed SAML attribu
-0000df40: 7465 206d 6170 7320 746f 2062 6520 6f76  te maps to be ov
-0000df50: 6572 7269 6464 656e 2062 7920 6465 6661  erridden by defa
-0000df60: 756c 7473 2e20 285b 5c23 3630 3639 5d28  ults. ([\#6069](
-0000df70: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-0000df80: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-0000df90: 6e61 7073 652f 6973 7375 6573 2f36 3036  napse/issues/606
-0000dfa0: 3929 290a 2d20 4669 7820 7468 6520 6c6f  9)).- Fix the lo
-0000dfb0: 6767 6564 206e 756d 6265 7220 6f66 2075  gged number of u
-0000dfc0: 7064 6174 6564 2069 7465 6d73 2066 6f72  pdated items for
-0000dfd0: 2074 6865 2060 7573 6572 735f 7365 745f   the `users_set_
-0000dfe0: 6465 6163 7469 7661 7465 645f 666c 6167  deactivated_flag
-0000dff0: 6020 6261 636b 6772 6f75 6e64 2075 7064  ` background upd
-0000e000: 6174 652e 2028 5b5c 2336 3039 325d 2868  ate. ([\#6092](h
-0000e010: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0000e020: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-0000e030: 6170 7365 2f69 7373 7565 732f 3630 3932  apse/issues/6092
-0000e040: 2929 0a2d 2041 6464 2060 7369 6460 2074  )).- Add `sid` t
-0000e050: 6f20 606e 6578 745f 6c69 6e6b 6020 666f  o `next_link` fo
-0000e060: 7220 656d 6169 6c20 7661 6c69 6461 7469  r email validati
-0000e070: 6f6e 2e20 285b 5c23 3630 3937 5d28 6874  on. ([\#6097](ht
-0000e080: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0000e090: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-0000e0a0: 7073 652f 6973 7375 6573 2f36 3039 3729  pse/issues/6097)
-0000e0b0: 290a 2d20 5468 7265 6570 6964 2076 616c  ).- Threepid val
-0000e0c0: 6964 6974 7920 6368 6563 6b73 206f 6e20  idity checks on 
-0000e0d0: 6d73 6973 646e 7320 7368 6f75 6c64 206e  msisdns should n
-0000e0e0: 6f74 2062 6520 6465 7065 6e64 656e 7420  ot be dependent 
-0000e0f0: 6f6e 2060 7468 7265 6570 6964 5f62 6568  on `threepid_beh
-0000e100: 6176 696f 7572 5f65 6d61 696c 602e 2028  aviour_email`. (
-0000e110: 5b5c 2336 3130 345d 2868 7474 7073 3a2f  [\#6104](https:/
-0000e120: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-0000e130: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-0000e140: 7373 7565 732f 3631 3034 2929 0a2d 2045  ssues/6104)).- E
-0000e150: 6e73 7572 6520 7468 6174 2073 6572 7665  nsure that serve
-0000e160: 7273 2077 6869 6368 2061 7265 206e 6f74  rs which are not
-0000e170: 2063 6f6e 6669 6775 7265 6420 746f 2073   configured to s
-0000e180: 7570 706f 7274 2065 6d61 696c 2061 6464  upport email add
-0000e190: 7265 7373 2076 6572 6966 6963 6174 696f  ress verificatio
-0000e1a0: 6e20 646f 206e 6f74 206f 6666 6572 2069  n do not offer i
-0000e1b0: 7420 696e 2074 6865 2072 6567 6973 7472  t in the registr
-0000e1c0: 6174 696f 6e20 666c 6f77 732e 2028 5b5c  ation flows. ([\
-0000e1d0: 2336 3130 375d 2868 7474 7073 3a2f 2f67  #6107](https://g
-0000e1e0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-0000e1f0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-0000e200: 7565 732f 3631 3037 2929 0a0a 0a55 7064  ues/6107))...Upd
-0000e210: 6174 6573 2074 6f20 7468 6520 446f 636b  ates to the Dock
-0000e220: 6572 2069 6d61 6765 0a2d 2d2d 2d2d 2d2d  er image.-------
-0000e230: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-0000e240: 2d2d 2d2d 0a0a 2d20 4176 6f69 6420 6368  ----..- Avoid ch
-0000e250: 616e 6769 6e67 2060 5549 442f 4749 4460  anging `UID/GID`
-0000e260: 2069 6620 7468 6579 2061 7265 2061 6c72   if they are alr
-0000e270: 6561 6479 2063 6f72 7265 6374 2e20 285b  eady correct. ([
-0000e280: 5c23 3539 3730 5d28 6874 7470 733a 2f2f  \#5970](https://
-0000e290: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-0000e2a0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-0000e2b0: 7375 6573 2f35 3937 3029 290a 2d20 5072  sues/5970)).- Pr
-0000e2c0: 6f76 6964 6520 6053 594e 4150 5345 5f57  ovide `SYNAPSE_W
-0000e2d0: 4f52 4b45 5260 2065 6e76 7661 7220 746f  ORKER` envvar to
-0000e2e0: 2073 7065 6369 6679 2070 7974 686f 6e20   specify python 
-0000e2f0: 6d6f 6475 6c65 2e20 285b 5c23 3630 3538  module. ([\#6058
-0000e300: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0000e310: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-0000e320: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
-0000e330: 3035 3829 290a 0a0a 496d 7072 6f76 6564  058))...Improved
-0000e340: 2044 6f63 756d 656e 7461 7469 6f6e 0a2d   Documentation.-
-0000e350: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-0000e360: 2d2d 2d2d 2d0a 0a2d 2043 6f6e 7665 7274  -----..- Convert
-0000e370: 2064 6f63 756d 656e 7461 7469 6f6e 2074   documentation t
-0000e380: 6f20 6d61 726b 646f 776e 2028 6672 6f6d  o markdown (from
-0000e390: 2072 7374 2920 285b 5c23 3538 3439 5d28   rst) ([\#5849](
-0000e3a0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-0000e3b0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-0000e3c0: 6e61 7073 652f 6973 7375 6573 2f35 3834  napse/issues/584
-0000e3d0: 3929 290a 2d20 5570 6461 7465 2060 494e  9)).- Update `IN
-0000e3e0: 5354 414c 4c2e 6d64 6020 746f 2073 6179  STALL.md` to say
-0000e3f0: 2074 6861 7420 5079 7468 6f6e 2032 2069   that Python 2 i
-0000e400: 7320 6e6f 206c 6f6e 6765 7220 7375 7070  s no longer supp
-0000e410: 6f72 7465 642e 2028 5b5c 2335 3935 335d  orted. ([\#5953]
-0000e420: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0000e430: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-0000e440: 796e 6170 7365 2f69 7373 7565 732f 3539  ynapse/issues/59
-0000e450: 3533 2929 0a2d 2041 6464 2064 6576 656c  53)).- Add devel
-0000e460: 6f70 6572 2064 6f63 756d 656e 7461 7469  oper documentati
-0000e470: 6f6e 2066 6f72 2075 7369 6e67 2053 414d  on for using SAM
-0000e480: 4c32 2e20 285b 5c23 3630 3332 5d28 6874  L2. ([\#6032](ht
-0000e490: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0000e4a0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-0000e4b0: 7073 652f 6973 7375 6573 2f36 3033 3229  pse/issues/6032)
-0000e4c0: 290a 2d20 4164 6420 736f 6d65 206e 6f74  ).- Add some not
-0000e4d0: 6573 206f 6e20 726f 6c6c 696e 6720 6261  es on rolling ba
-0000e4e0: 636b 2074 6f20 7631 2e33 2e31 2e20 285b  ck to v1.3.1. ([
-0000e4f0: 5c23 3630 3439 5d28 6874 7470 733a 2f2f  \#6049](https://
-0000e500: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-0000e510: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-0000e520: 7375 6573 2f36 3034 3929 290a 2d20 5570  sues/6049)).- Up
-0000e530: 6461 7465 2074 6865 2075 7067 7261 6465  date the upgrade
-0000e540: 206e 6f74 6573 2e20 285b 5c23 3630 3530   notes. ([\#6050
-0000e550: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0000e560: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-0000e570: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
-0000e580: 3035 3029 290a 0a0a 4465 7072 6563 6174  050))...Deprecat
-0000e590: 696f 6e73 2061 6e64 2052 656d 6f76 616c  ions and Removal
-0000e5a0: 730a 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  s.--------------
-0000e5b0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a 0a2d 2052  -----------..- R
-0000e5c0: 656d 6f76 6520 7368 6172 6564 2d73 6563  emove shared-sec
-0000e5d0: 7265 7420 7265 6769 7374 7261 7469 6f6e  ret registration
-0000e5e0: 2066 726f 6d20 602f 5f6d 6174 7269 782f   from `/_matrix/
-0000e5f0: 636c 6965 6e74 2f72 302f 7265 6769 7374  client/r0/regist
-0000e600: 6572 6020 656e 6470 6f69 6e74 2e20 436f  er` endpoint. Co
-0000e610: 6e74 7269 6275 7465 6420 6279 2041 7765  ntributed by Awe
-0000e620: 736f 6d65 2054 6563 686e 6f6c 6f67 6965  some Technologie
-0000e630: 7320 496e 6e6f 7661 7469 6f6e 736c 6162  s Innovationslab
-0000e640: 6f72 2047 6d62 482e 2028 5b5c 2335 3837  or GmbH. ([\#587
-0000e650: 375d 2868 7474 7073 3a2f 2f67 6974 6875  7](https://githu
-0000e660: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-0000e670: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-0000e680: 3538 3737 2929 0a2d 2044 6570 7265 6361  5877)).- Depreca
-0000e690: 7465 2074 6865 2060 7472 7573 7465 645f  te the `trusted_
-0000e6a0: 7468 6972 645f 7061 7274 795f 6964 5f73  third_party_id_s
-0000e6b0: 6572 7665 7273 6020 6f70 7469 6f6e 2e20  ervers` option. 
-0000e6c0: 285b 5c23 3538 3735 5d28 6874 7470 733a  ([\#5875](https:
-0000e6d0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-0000e6e0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-0000e6f0: 6973 7375 6573 2f35 3837 3529 290a 0a0a  issues/5875))...
-0000e700: 496e 7465 726e 616c 2043 6861 6e67 6573  Internal Changes
-0000e710: 0a2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  .---------------
-0000e720: 2d0a 0a2d 204c 6179 2074 6865 2067 726f  -..- Lay the gro
-0000e730: 756e 6477 6f72 6b20 666f 7220 7374 7275  undwork for stru
-0000e740: 6374 7572 6564 206c 6f67 6769 6e67 206f  ctured logging o
-0000e750: 7574 7075 742e 2028 5b5c 2335 3638 305d  utput. ([\#5680]
-0000e760: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0000e770: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-0000e780: 796e 6170 7365 2f69 7373 7565 732f 3536  ynapse/issues/56
-0000e790: 3830 2929 0a2d 2052 6574 7279 2077 656c  80)).- Retry wel
-0000e7a0: 6c2d 6b6e 6f77 6e20 6c6f 6f6b 7570 2062  l-known lookup b
-0000e7b0: 6566 6f72 6520 7468 6520 6361 6368 6520  efore the cache 
-0000e7c0: 6578 7069 7265 732c 2067 6976 696e 6720  expires, giving 
-0000e7d0: 6120 6772 6163 6520 7065 7269 6f64 2077  a grace period w
-0000e7e0: 6865 7265 2074 6865 2072 656d 6f74 6520  here the remote 
-0000e7f0: 7765 6c6c 2d6b 6e6f 776e 2063 616e 2062  well-known can b
-0000e800: 6520 646f 776e 2062 7574 2077 6520 7374  e down but we st
-0000e810: 696c 6c20 7573 6520 7468 6520 6f6c 6420  ill use the old 
-0000e820: 7265 7375 6c74 2e20 285b 5c23 3538 3434  result. ([\#5844
-0000e830: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0000e840: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-0000e850: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
-0000e860: 3834 3429 290a 2d20 5265 6d6f 7665 206c  844)).- Remove l
-0000e870: 6f67 206c 696e 6520 666f 7220 6465 6275  og line for debu
-0000e880: 6767 696e 6720 6973 7375 6520 2335 3430  gging issue #540
-0000e890: 372e 2028 5b5c 2335 3836 305d 2868 7474  7. ([\#5860](htt
-0000e8a0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-0000e8b0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-0000e8c0: 7365 2f69 7373 7565 732f 3538 3630 2929  se/issues/5860))
-0000e8d0: 0a2d 2052 6566 6163 746f 7220 7468 6520  .- Refactor the 
-0000e8e0: 4170 7073 6572 7669 6365 2073 6368 6564  Appservice sched
-0000e8f0: 756c 6572 2063 6f64 652e 2028 5b5c 2335  uler code. ([\#5
-0000e900: 3838 365d 2868 7474 7073 3a2f 2f67 6974  886](https://git
-0000e910: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-0000e920: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-0000e930: 732f 3538 3836 2929 0a2d 2043 6f6d 7061  s/5886)).- Compa
-0000e940: 7469 6269 6c69 7479 2077 6974 6820 7632  tibility with v2
-0000e950: 2049 6465 6e74 6974 7920 5365 7276 6963   Identity Servic
-0000e960: 6520 4150 4973 206f 7468 6572 2074 6861  e APIs other tha
-0000e970: 6e20 2f6c 6f6f 6b75 702e 2028 5b5c 2335  n /lookup. ([\#5
-0000e980: 3839 325d 2868 7474 7073 3a2f 2f67 6974  892](https://git
-0000e990: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-0000e9a0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-0000e9b0: 732f 3538 3932 292c 205b 5c23 3630 3133  s/5892), [\#6013
-0000e9c0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0000e9d0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-0000e9e0: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
-0000e9f0: 3031 3329 290a 2d20 5374 6f70 2070 6f70  013)).- Stop pop
-0000ea00: 756c 6174 696e 6720 736f 6d65 2075 6e75  ulating some unu
-0000ea10: 7365 6420 7461 626c 6573 2e20 285b 5c23  sed tables. ([\#
-0000ea20: 3538 3933 5d28 6874 7470 733a 2f2f 6769  5893](https://gi
-0000ea30: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-0000ea40: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-0000ea50: 6573 2f35 3839 3329 2c20 5b5c 2336 3034  es/5893), [\#604
-0000ea60: 375d 2868 7474 7073 3a2f 2f67 6974 6875  7](https://githu
-0000ea70: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-0000ea80: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-0000ea90: 3630 3437 2929 0a2d 2041 6464 206d 6973  6047)).- Add mis
-0000eaa0: 7369 6e67 2069 6e64 6578 206f 6e20 6075  sing index on `u
-0000eab0: 7365 7273 5f69 6e5f 7075 626c 6963 5f72  sers_in_public_r
-0000eac0: 6f6f 6d73 6020 746f 2069 6d70 726f 7665  ooms` to improve
-0000ead0: 2074 6865 2070 6572 666f 726d 616e 6365   the performance
-0000eae0: 206f 6620 6469 7265 6374 6f72 7920 7175   of directory qu
-0000eaf0: 6572 6965 732e 2028 5b5c 2335 3839 345d  eries. ([\#5894]
-0000eb00: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0000eb10: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-0000eb20: 796e 6170 7365 2f69 7373 7565 732f 3538  ynapse/issues/58
-0000eb30: 3934 2929 0a2d 2049 6d70 726f 7665 2074  94)).- Improve t
-0000eb40: 6865 206c 6f67 6769 6e67 2077 6865 6e20  he logging when 
-0000eb50: 7765 2068 6176 6520 616e 2065 7272 6f72  we have an error
-0000eb60: 2077 6865 6e20 6665 7463 6869 6e67 2073   when fetching s
-0000eb70: 6967 6e69 6e67 206b 6579 732e 2028 5b5c  igning keys. ([\
-0000eb80: 2335 3839 365d 2868 7474 7073 3a2f 2f67  #5896](https://g
-0000eb90: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-0000eba0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-0000ebb0: 7565 732f 3538 3936 2929 0a2d 2041 6464  ues/5896)).- Add
-0000ebc0: 2073 7570 706f 7274 2066 6f72 2064 6174   support for dat
-0000ebd0: 6162 6173 6520 656e 6769 6e65 2d73 7065  abase engine-spe
-0000ebe0: 6369 6669 6320 7363 6865 6d61 2064 656c  cific schema del
-0000ebf0: 7461 732c 2062 6173 6564 206f 6e20 6669  tas, based on fi
-0000ec00: 6c65 2065 7874 656e 7369 6f6e 2e20 285b  le extension. ([
-0000ec10: 5c23 3539 3131 5d28 6874 7470 733a 2f2f  \#5911](https://
-0000ec20: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-0000ec30: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-0000ec40: 7375 6573 2f35 3931 3129 290a 2d20 5570  sues/5911)).- Up
-0000ec50: 6461 7465 2042 7569 6c64 6b69 7465 2070  date Buildkite p
-0000ec60: 6970 656c 696e 6520 746f 2075 7365 2070  ipeline to use p
-0000ec70: 6c75 6769 6e73 2069 6e73 7465 6164 206f  lugins instead o
-0000ec80: 6620 6275 696c 646b 6974 652d 6167 656e  f buildkite-agen
-0000ec90: 7420 636f 6d6d 616e 6473 2e20 285b 5c23  t commands. ([\#
-0000eca0: 3539 3232 5d28 6874 7470 733a 2f2f 6769  5922](https://gi
-0000ecb0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-0000ecc0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-0000ecd0: 6573 2f35 3932 3229 290a 2d20 4164 6420  es/5922)).- Add 
-0000ece0: 6c69 6e6b 2069 6e20 7361 6d70 6c65 2063  link in sample c
-0000ecf0: 6f6e 6669 6720 746f 2074 6865 206c 6f67  onfig to the log
-0000ed00: 6769 6e67 2063 6f6e 6669 6720 7363 6865  ging config sche
-0000ed10: 6d61 2e20 285b 5c23 3539 3236 5d28 6874  ma. ([\#5926](ht
-0000ed20: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0000ed30: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-0000ed40: 7073 652f 6973 7375 6573 2f35 3932 3629  pse/issues/5926)
-0000ed50: 290a 2d20 5265 6d6f 7665 2075 6e6e 6563  ).- Remove unnec
-0000ed60: 6573 7361 7279 2070 6172 656e 7468 6573  essary parenthes
-0000ed70: 6573 2069 6e20 7265 7475 726e 2073 7461  es in return sta
-0000ed80: 7465 6d65 6e74 732e 2028 5b5c 2335 3933  tements. ([\#593
-0000ed90: 315d 2868 7474 7073 3a2f 2f67 6974 6875  1](https://githu
-0000eda0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-0000edb0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-0000edc0: 3539 3331 2929 0a2d 2052 656d 6f76 6520  5931)).- Remove 
-0000edd0: 756e 7573 6564 2060 6a65 6e6b 696e 732f  unused `jenkins/
-0000ede0: 7072 6570 6172 655f 7379 7465 7374 2e73  prepare_sytest.s
-0000edf0: 6860 2066 696c 652e 2028 5b5c 2335 3933  h` file. ([\#593
-0000ee00: 385d 2868 7474 7073 3a2f 2f67 6974 6875  8](https://githu
-0000ee10: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-0000ee20: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-0000ee30: 3539 3338 2929 0a2d 204d 6f76 6520 4275  5938)).- Move Bu
-0000ee40: 696c 646b 6974 6520 7069 7065 6c69 6e65  ildkite pipeline
-0000ee50: 2063 6f6e 6669 6720 746f 2074 6865 2070   config to the p
-0000ee60: 6970 656c 696e 6573 2072 6570 6f2e 2028  ipelines repo. (
-0000ee70: 5b5c 2335 3934 335d 2868 7474 7073 3a2f  [\#5943](https:/
-0000ee80: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-0000ee90: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-0000eea0: 7373 7565 732f 3539 3433 2929 0a2d 2052  ssues/5943)).- R
-0000eeb0: 656d 6f76 6520 756e 6e65 6365 7373 6172  emove unnecessar
-0000eec0: 7920 7265 7475 726e 2073 7461 7465 6d65  y return stateme
-0000eed0: 6e74 7320 696e 2074 6865 2063 6f64 6562  nts in the codeb
-0000eee0: 6173 6520 7768 6963 6820 7765 7265 2074  ase which were t
-0000eef0: 6865 2072 6573 756c 7420 6f66 2061 2072  he result of a r
-0000ef00: 6567 6578 2072 756e 2e20 285b 5c23 3539  egex run. ([\#59
-0000ef10: 3632 5d28 6874 7470 733a 2f2f 6769 7468  62](https://gith
-0000ef20: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-0000ef30: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-0000ef40: 2f35 3936 3229 290a 2d20 5265 6d6f 7665  /5962)).- Remove
-0000ef50: 206c 6566 742d 6f76 6572 206d 6574 686f   left-over metho
-0000ef60: 6473 2066 726f 6d20 7631 2072 6567 6973  ds from v1 regis
-0000ef70: 7472 6174 696f 6e20 4150 492e 2028 5b5c  tration API. ([\
-0000ef80: 2335 3936 335d 2868 7474 7073 3a2f 2f67  #5963](https://g
-0000ef90: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-0000efa0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-0000efb0: 7565 732f 3539 3633 2929 0a2d 2043 6c65  ues/5963)).- Cle
-0000efc0: 616e 7570 2065 7665 6e74 2061 7574 6820  anup event auth 
-0000efd0: 7479 7065 2069 6e69 7469 616c 6973 6174  type initialisat
-0000efe0: 696f 6e2e 2028 5b5c 2335 3937 355d 2868  ion. ([\#5975](h
-0000eff0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0000f000: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-0000f010: 6170 7365 2f69 7373 7565 732f 3539 3735  apse/issues/5975
-0000f020: 2929 0a2d 2043 6c65 616e 2075 7020 6465  )).- Clean up de
-0000f030: 7065 6e64 656e 6379 2063 6865 636b 696e  pendency checkin
-0000f040: 6720 6174 2073 6574 7570 2e20 285b 5c23  g at setup. ([\#
-0000f050: 3539 3839 5d28 6874 7470 733a 2f2f 6769  5989](https://gi
-0000f060: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-0000f070: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-0000f080: 6573 2f35 3938 3929 290a 2d20 5570 6461  es/5989)).- Upda
-0000f090: 7465 204f 7065 6e54 7261 6369 6e67 2064  te OpenTracing d
-0000f0a0: 6f63 7320 746f 2075 7365 2074 6865 2075  ocs to use the u
-0000f0b0: 6e69 6669 6564 2060 7472 6163 6560 206d  nified `trace` m
-0000f0c0: 6574 686f 642e 2028 5b5c 2335 3737 365d  ethod. ([\#5776]
-0000f0d0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0000f0e0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-0000f0f0: 796e 6170 7365 2f69 7373 7565 732f 3537  ynapse/issues/57
-0000f100: 3736 2929 0a2d 2053 6d61 6c6c 2072 6566  76)).- Small ref
-0000f110: 6163 746f 7220 6f66 2066 756e 6374 696f  actor of functio
-0000f120: 6e20 6172 6775 6d65 6e74 7320 616e 6420  n arguments and 
-0000f130: 646f 6373 7472 696e 6773 2069 6e60 2052  docstrings in` R
-0000f140: 6f6f 6d4d 656d 6265 7248 616e 646c 6572  oomMemberHandler
-0000f150: 602e 2028 5b5c 2336 3030 395d 2868 7474  `. ([\#6009](htt
-0000f160: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-0000f170: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-0000f180: 7365 2f69 7373 7565 732f 3630 3039 2929  se/issues/6009))
-0000f190: 0a2d 2052 656d 6f76 6520 756e 7573 6564  .- Remove unused
-0000f1a0: 2060 6f72 6967 696e 6020 6172 6775 6d65   `origin` argume
-0000f1b0: 6e74 206f 6e20 6046 6564 6572 6174 696f  nt on `Federatio
-0000f1c0: 6e48 616e 646c 6572 2e61 6464 5f64 6973  nHandler.add_dis
-0000f1d0: 706c 6179 5f6e 616d 655f 746f 5f74 6869  play_name_to_thi
-0000f1e0: 7264 5f70 6172 7479 5f69 6e76 6974 6560  rd_party_invite`
-0000f1f0: 2e20 285b 5c23 3630 3130 5d28 6874 7470  . ([\#6010](http
-0000f200: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-0000f210: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-0000f220: 652f 6973 7375 6573 2f36 3031 3029 290a  e/issues/6010)).
-0000f230: 2d20 4164 6420 6120 6066 6169 6c75 7265  - Add a `failure
-0000f240: 5f74 7360 2063 6f6c 756d 6e20 746f 2074  _ts` column to t
-0000f250: 6865 2060 6465 7374 696e 6174 696f 6e73  he `destinations
-0000f260: 6020 6461 7461 6261 7365 2074 6162 6c65  ` database table
-0000f270: 2e20 285b 5c23 3630 3136 5d28 6874 7470  . ([\#6016](http
-0000f280: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-0000f290: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-0000f2a0: 652f 6973 7375 6573 2f36 3031 3629 2c20  e/issues/6016), 
-0000f2b0: 5b5c 2336 3037 325d 2868 7474 7073 3a2f  [\#6072](https:/
-0000f2c0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-0000f2d0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-0000f2e0: 7373 7565 732f 3630 3732 2929 0a2d 2043  ssues/6072)).- C
-0000f2f0: 6c65 616e 2075 7020 736f 6d65 2063 6f64  lean up some cod
-0000f300: 6520 696e 2074 6865 2072 6574 7279 206c  e in the retry l
-0000f310: 6f67 6963 2e20 285b 5c23 3630 3137 5d28  ogic. ([\#6017](
-0000f320: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-0000f330: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-0000f340: 6e61 7073 652f 6973 7375 6573 2f36 3031  napse/issues/601
-0000f350: 3729 290a 2d20 4669 7820 7468 6520 7374  7)).- Fix the st
-0000f360: 7275 6374 7572 6564 206c 6f67 6769 6e67  ructured logging
-0000f370: 2074 6573 7473 2073 746f 6d70 696e 6720   tests stomping 
-0000f380: 6f6e 2074 6865 2067 6c6f 6261 6c20 6c6f  on the global lo
-0000f390: 6720 636f 6e66 6967 7572 6174 696f 6e20  g configuration 
-0000f3a0: 666f 7220 7375 6273 6571 7565 6e74 2074  for subsequent t
-0000f3b0: 6573 7473 2e20 285b 5c23 3630 3233 5d28  ests. ([\#6023](
-0000f3c0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-0000f3d0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-0000f3e0: 6e61 7073 652f 6973 7375 6573 2f36 3032  napse/issues/602
-0000f3f0: 3329 290a 2d20 436c 6561 6e20 7570 2074  3)).- Clean up t
-0000f400: 6865 2073 616d 706c 6520 636f 6e66 6967  he sample config
-0000f410: 2066 6f72 2053 414d 4c20 6175 7468 656e   for SAML authen
-0000f420: 7469 6361 7469 6f6e 2e20 285b 5c23 3630  tication. ([\#60
-0000f430: 3634 5d28 6874 7470 733a 2f2f 6769 7468  64](https://gith
-0000f440: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-0000f450: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-0000f460: 2f36 3036 3429 290a 2d20 4368 616e 6765  /6064)).- Change
-0000f470: 206d 6169 6c65 7220 6c6f 6767 696e 6720   mailer logging 
-0000f480: 746f 2072 6566 6c65 6374 2053 796e 6170  to reflect Synap
-0000f490: 7365 2064 6f65 736e 2774 206a 7573 7420  se doesn't just 
-0000f4a0: 646f 2063 6861 7420 6e6f 7469 6669 6361  do chat notifica
-0000f4b0: 7469 6f6e 7320 6279 2065 6d61 696c 206e  tions by email n
-0000f4c0: 6f77 2e20 285b 5c23 3630 3735 5d28 6874  ow. ([\#6075](ht
-0000f4d0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0000f4e0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-0000f4f0: 7073 652f 6973 7375 6573 2f36 3037 3529  pse/issues/6075)
-0000f500: 290a 2d20 4d6f 7665 206c 6173 742d 7365  ).- Move last-se
-0000f510: 656e 2069 6e66 6f20 696e 746f 2064 6576  en info into dev
-0000f520: 6963 6573 2074 6162 6c65 2e20 285b 5c23  ices table. ([\#
-0000f530: 3630 3839 5d28 6874 7470 733a 2f2f 6769  6089](https://gi
-0000f540: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-0000f550: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-0000f560: 6573 2f36 3038 3929 290a 2d20 5265 6d6f  es/6089)).- Remo
-0000f570: 7665 2075 6e75 7365 6420 7061 7261 6d65  ve unused parame
-0000f580: 7465 7220 746f 2060 6765 745f 7573 6572  ter to `get_user
-0000f590: 5f69 645f 6279 5f74 6872 6565 7069 6460  _id_by_threepid`
-0000f5a0: 2e20 285b 5c23 3630 3939 5d28 6874 7470  . ([\#6099](http
-0000f5b0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-0000f5c0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-0000f5d0: 652f 6973 7375 6573 2f36 3039 3929 290a  e/issues/6099)).
-0000f5e0: 2d20 5265 6661 6374 6f72 2074 6865 2075  - Refactor the u
-0000f5f0: 7365 722d 696e 7465 7261 6374 6976 6520  ser-interactive 
-0000f600: 6175 7468 2068 616e 646c 696e 672e 2028  auth handling. (
-0000f610: 5b5c 2336 3130 355d 2868 7474 7073 3a2f  [\#6105](https:/
-0000f620: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-0000f630: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-0000f640: 7373 7565 732f 3631 3035 2929 0a2d 2052  ssues/6105)).- R
-0000f650: 6566 6163 746f 7220 636f 6465 2066 6f72  efactor code for
-0000f660: 2063 616c 6375 6c61 7469 6e67 2072 6567   calculating reg
-0000f670: 6973 7472 6174 696f 6e20 666c 6f77 732e  istration flows.
-0000f680: 2028 5b5c 2336 3130 365d 2868 7474 7073   ([\#6106](https
-0000f690: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-0000f6a0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-0000f6b0: 2f69 7373 7565 732f 3631 3036 2929 0a0a  /issues/6106))..
-0000f6c0: 0a53 796e 6170 7365 2031 2e33 2e31 2028  .Synapse 1.3.1 (
-0000f6d0: 3230 3139 2d30 382d 3137 290a 3d3d 3d3d  2019-08-17).====
-0000f6e0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0000f6f0: 3d3d 3d3d 3d3d 0a0a 4665 6174 7572 6573  ======..Features
-0000f700: 0a2d 2d2d 2d2d 2d2d 2d0a 0a2d 2044 726f  .--------..- Dro
-0000f710: 7020 6861 7264 2064 6570 656e 6465 6e63  p hard dependenc
-0000f720: 7920 6f6e 2060 7364 6e6f 7469 6679 6020  y on `sdnotify` 
-0000f730: 7079 7468 6f6e 2070 6163 6b61 6765 2e20  python package. 
-0000f740: 285b 5c23 3538 3731 5d28 6874 7470 733a  ([\#5871](https:
-0000f750: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-0000f760: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-0000f770: 6973 7375 6573 2f35 3837 3129 290a 0a0a  issues/5871))...
-0000f780: 4275 6766 6978 6573 0a2d 2d2d 2d2d 2d2d  Bugfixes.-------
-0000f790: 2d0a 0a2d 2046 6978 2073 7461 7274 7570  -..- Fix startup
-0000f7a0: 2069 7373 7565 2028 6861 6e67 206f 6e20   issue (hang on 
-0000f7b0: 4143 4d45 2070 726f 7669 7369 6f6e 696e  ACME provisionin
-0000f7c0: 6729 2064 7565 2074 6f20 6f72 6465 7269  g) due to orderi
-0000f7d0: 6e67 206f 6620 5477 6973 7465 6420 7265  ng of Twisted re
-0000f7e0: 6163 746f 7220 7374 6172 7475 702e 2054  actor startup. T
-0000f7f0: 6861 6e6b 7320 746f 2040 6368 7269 736d  hanks to @chrism
-0000f800: 6f6f 7320 666f 7220 7375 7070 6c79 696e  oos for supplyin
-0000f810: 6720 7468 6520 6669 782e 2028 5b5c 2335  g the fix. ([\#5
-0000f820: 3836 375d 2868 7474 7073 3a2f 2f67 6974  867](https://git
-0000f830: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-0000f840: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-0000f850: 732f 3538 3637 2929 0a0a 0a53 796e 6170  s/5867))...Synap
-0000f860: 7365 2031 2e33 2e30 2028 3230 3139 2d30  se 1.3.0 (2019-0
-0000f870: 382d 3135 290a 3d3d 3d3d 3d3d 3d3d 3d3d  8-15).==========
-0000f880: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0000f890: 0a0a 4275 6766 6978 6573 0a2d 2d2d 2d2d  ..Bugfixes.-----
-0000f8a0: 2d2d 2d0a 0a2d 2046 6978 2035 3030 2049  ---..- Fix 500 I
-0000f8b0: 6e74 6572 6e61 6c20 5365 7276 6572 2045  nternal Server E
-0000f8c0: 7272 6f72 206f 6e20 6070 7562 6c69 6352  rror on `publicR
-0000f8d0: 6f6f 6d73 6020 7768 656e 2074 6865 2070  ooms` when the p
-0000f8e0: 7562 6c69 6320 726f 6f6d 206c 6973 7420  ublic room list 
-0000f8f0: 7761 730a 2020 6361 6368 6564 2e20 285b  was.  cached. ([
-0000f900: 5c23 3538 3531 5d28 6874 7470 733a 2f2f  \#5851](https://
-0000f910: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-0000f920: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-0000f930: 7375 6573 2f35 3835 3129 290a 0a0a 5379  sues/5851))...Sy
-0000f940: 6e61 7073 6520 312e 332e 3072 6331 2028  napse 1.3.0rc1 (
-0000f950: 3230 3139 2d30 382d 3133 290a 3d3d 3d3d  2019-08-13).====
-0000f960: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0000f970: 3d3d 3d3d 3d3d 0a0a 4665 6174 7572 6573  ======..Features
-0000f980: 0a2d 2d2d 2d2d 2d2d 2d0a 0a2d 2055 7365  .--------..- Use
-0000f990: 2060 4d5f 5553 4552 5f44 4541 4354 4956   `M_USER_DEACTIV
-0000f9a0: 4154 4544 6020 696e 7374 6561 6420 6f66  ATED` instead of
-0000f9b0: 2060 4d5f 554e 4b4e 4f57 4e60 2066 6f72   `M_UNKNOWN` for
-0000f9c0: 2065 7272 636f 6465 2077 6865 6e20 6120   errcode when a 
-0000f9d0: 6465 6163 7469 7661 7465 6420 7573 6572  deactivated user
-0000f9e0: 2061 7474 656d 7074 7320 746f 206c 6f67   attempts to log
-0000f9f0: 696e 2e20 285b 5c23 3536 3836 5d28 6874  in. ([\#5686](ht
-0000fa00: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0000fa10: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-0000fa20: 7073 652f 6973 7375 6573 2f35 3638 3629  pse/issues/5686)
-0000fa30: 290a 2d20 4164 6420 7364 5f6e 6f74 6966  ).- Add sd_notif
-0000fa40: 7920 686f 6f6b 7320 746f 2065 6173 6520  y hooks to ease 
-0000fa50: 7379 7374 656d 6420 696e 7465 6772 6174  systemd integrat
-0000fa60: 696f 6e20 616e 6420 616c 6c6f 7773 2075  ion and allows u
-0000fa70: 7361 6765 206f 6620 5479 7065 3d4e 6f74  sage of Type=Not
-0000fa80: 6966 792e 2028 5b5c 2335 3733 325d 2868  ify. ([\#5732](h
-0000fa90: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0000faa0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-0000fab0: 6170 7365 2f69 7373 7565 732f 3537 3332  apse/issues/5732
-0000fac0: 2929 0a2d 2053 796e 6170 7365 2077 696c  )).- Synapse wil
-0000fad0: 6c20 6e6f 206c 6f6e 6765 7220 7365 7276  l no longer serv
-0000fae0: 6520 616e 7920 6d65 6469 6120 7265 706f  e any media repo
-0000faf0: 2061 646d 696e 2065 6e64 706f 696e 7473   admin endpoints
-0000fb00: 2077 6865 6e20 6065 6e61 626c 655f 6d65   when `enable_me
-0000fb10: 6469 615f 7265 706f 6020 6973 2073 6574  dia_repo` is set
-0000fb20: 2074 6f20 4661 6c73 6520 696e 2074 6865   to False in the
-0000fb30: 2063 6f6e 6669 6775 7261 7469 6f6e 2e20   configuration. 
-0000fb40: 4966 2061 206d 6564 6961 2072 6570 6f20  If a media repo 
-0000fb50: 776f 726b 6572 2069 7320 7573 6564 2c20  worker is used, 
-0000fb60: 7468 6520 6164 6d69 6e20 4150 4973 2072  the admin APIs r
-0000fb70: 656c 6174 696e 6720 746f 2074 6865 206d  elating to the m
-0000fb80: 6564 6961 2072 6570 6f20 7769 6c6c 2062  edia repo will b
-0000fb90: 6520 7365 7276 6564 2066 726f 6d20 6974  e served from it
-0000fba0: 2069 6e73 7465 6164 2e20 285b 5c23 3537   instead. ([\#57
-0000fbb0: 3534 5d28 6874 7470 733a 2f2f 6769 7468  54](https://gith
-0000fbc0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-0000fbd0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-0000fbe0: 2f35 3735 3429 2c20 5b5c 2335 3834 385d  /5754), [\#5848]
-0000fbf0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0000fc00: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-0000fc10: 796e 6170 7365 2f69 7373 7565 732f 3538  ynapse/issues/58
-0000fc20: 3438 2929 0a2d 2053 796e 6170 7365 2063  48)).- Synapse c
-0000fc30: 616e 206e 6f77 2062 6520 636f 6e66 6967  an now be config
-0000fc40: 7572 6564 2074 6f20 6e6f 7420 6a6f 696e  ured to not join
-0000fc50: 2072 656d 6f74 6520 726f 6f6d 7320 6f66   remote rooms of
-0000fc60: 2061 2067 6976 656e 2022 636f 6d70 6c65   a given "comple
-0000fc70: 7869 7479 2220 2863 7572 7265 6e74 6c79  xity" (currently
-0000fc80: 2c20 7374 6174 6520 6576 656e 7473 2920  , state events) 
-0000fc90: 6f76 6572 2066 6564 6572 6174 696f 6e2e  over federation.
-0000fca0: 2054 6869 7320 6f70 7469 6f6e 2063 616e   This option can
-0000fcb0: 2062 6520 7573 6564 2074 6f20 7072 6576   be used to prev
-0000fcc0: 656e 7420 6164 7665 7273 6520 7065 7266  ent adverse perf
-0000fcd0: 6f72 6d61 6e63 6520 6f6e 2072 6573 6f75  ormance on resou
-0000fce0: 7263 652d 636f 6e73 7472 6169 6e65 6420  rce-constrained 
-0000fcf0: 686f 6d65 7365 7276 6572 732e 2028 5b5c  homeservers. ([\
-0000fd00: 2335 3738 335d 2868 7474 7073 3a2f 2f67  #5783](https://g
-0000fd10: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-0000fd20: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-0000fd30: 7565 732f 3537 3833 2929 0a2d 2041 6c6c  ues/5783)).- All
-0000fd40: 6f77 2064 6566 696e 696e 6720 4854 4d4c  ow defining HTML
-0000fd50: 2074 656d 706c 6174 6573 2074 6f20 7365   templates to se
-0000fd60: 7276 6520 7468 6520 7573 6572 206f 6e20  rve the user on 
-0000fd70: 6163 636f 756e 7420 7265 6e65 7761 6c20  account renewal 
-0000fd80: 6174 7465 6d70 7420 7768 656e 2075 7369  attempt when usi
-0000fd90: 6e67 2074 6865 2061 6363 6f75 6e74 2076  ng the account v
-0000fda0: 616c 6964 6974 7920 6665 6174 7572 652e  alidity feature.
-0000fdb0: 2028 5b5c 2335 3830 375d 2868 7474 7073   ([\#5807](https
-0000fdc0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-0000fdd0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-0000fde0: 2f69 7373 7565 732f 3538 3037 2929 0a0a  /issues/5807))..
-0000fdf0: 0a42 7567 6669 7865 730a 2d2d 2d2d 2d2d  .Bugfixes.------
-0000fe00: 2d2d 0a0a 2d20 4669 7820 5549 5349 7320  --..- Fix UISIs 
-0000fe10: 6475 7269 6e67 2068 6f6d 6573 6572 7665  during homeserve
-0000fe20: 7220 6f75 7461 6765 2e20 285b 5c23 3536  r outage. ([\#56
-0000fe30: 3933 5d28 6874 7470 733a 2f2f 6769 7468  93](https://gith
-0000fe40: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-0000fe50: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-0000fe60: 2f35 3639 3329 2c20 5b5c 2335 3738 395d  /5693), [\#5789]
-0000fe70: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0000fe80: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-0000fe90: 796e 6170 7365 2f69 7373 7565 732f 3537  ynapse/issues/57
-0000fea0: 3839 2929 0a2d 2046 6978 2073 7461 636b  89)).- Fix stack
-0000feb0: 206f 7665 7266 6c6f 7720 696e 2073 6572   overflow in ser
-0000fec0: 7665 7220 6b65 7920 6c6f 6f6b 7570 2063  ver key lookup c
-0000fed0: 6f64 652e 2028 5b5c 2335 3732 345d 2868  ode. ([\#5724](h
-0000fee0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0000fef0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-0000ff00: 6170 7365 2f69 7373 7565 732f 3537 3234  apse/issues/5724
-0000ff10: 2929 0a2d 2073 7461 7274 2e73 6820 6e6f  )).- start.sh no
-0000ff20: 206c 6f6e 6765 7220 7573 6573 2064 6570   longer uses dep
-0000ff30: 7265 6361 7465 6420 636c 6920 6f70 7469  recated cli opti
-0000ff40: 6f6e 2e20 285b 5c23 3537 3235 5d28 6874  on. ([\#5725](ht
-0000ff50: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0000ff60: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-0000ff70: 7073 652f 6973 7375 6573 2f35 3732 3529  pse/issues/5725)
-0000ff80: 290a 2d20 4c6f 6720 7768 656e 2077 6520  ).- Log when we 
-0000ff90: 7265 6365 6976 6520 616e 2065 7665 6e74  receive an event
-0000ffa0: 2072 6563 6569 7074 2066 726f 6d20 616e   receipt from an
-0000ffb0: 2075 6e65 7870 6563 7465 6420 6f72 6967   unexpected orig
-0000ffc0: 696e 2e20 285b 5c23 3537 3433 5d28 6874  in. ([\#5743](ht
-0000ffd0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0000ffe0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-0000fff0: 7073 652f 6973 7375 6573 2f35 3734 3329  pse/issues/5743)
-00010000: 290a 2d20 4669 7820 6465 6269 616e 2070  ).- Fix debian p
-00010010: 6163 6b61 6769 6e67 2073 6372 6970 7473  ackaging scripts
-00010020: 2074 6f20 636f 7272 6563 746c 7920 6275   to correctly bu
-00010030: 696c 6420 7369 6420 7061 636b 6167 6573  ild sid packages
-00010040: 2e20 285b 5c23 3537 3735 5d28 6874 7470  . ([\#5775](http
-00010050: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00010060: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00010070: 652f 6973 7375 6573 2f35 3737 3529 290a  e/issues/5775)).
-00010080: 2d20 436f 7272 6563 746c 7920 6861 6e64  - Correctly hand
-00010090: 6c65 2072 6564 6163 7469 6f6e 7320 6f66  le redactions of
-000100a0: 2072 6564 6163 7469 6f6e 732e 2028 5b5c   redactions. ([\
-000100b0: 2335 3738 385d 2868 7474 7073 3a2f 2f67  #5788](https://g
-000100c0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-000100d0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-000100e0: 7565 732f 3537 3838 2929 0a2d 2052 6574  ues/5788)).- Ret
-000100f0: 7572 6e20 3430 3420 696e 7374 6561 6420  urn 404 instead 
-00010100: 6f66 2034 3033 2077 6865 6e20 6163 6365  of 403 when acce
-00010110: 7373 696e 6720 2f72 6f6f 6d73 2f7b 726f  ssing /rooms/{ro
-00010120: 6f6d 4964 7d2f 6576 656e 742f 7b65 7665  omId}/event/{eve
-00010130: 6e74 4964 7d20 666f 7220 616e 2065 7665  ntId} for an eve
-00010140: 6e74 2077 6974 686f 7574 2074 6865 2061  nt without the a
-00010150: 7070 726f 7072 6961 7465 2070 6572 6d69  ppropriate permi
-00010160: 7373 696f 6e73 2e20 285b 5c23 3537 3938  ssions. ([\#5798
-00010170: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00010180: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00010190: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
-000101a0: 3739 3829 290a 2d20 4669 7820 6368 6563  798)).- Fix chec
-000101b0: 6b20 7468 6174 2074 6f6d 6273 746f 6e65  k that tombstone
-000101c0: 2069 7320 6120 7374 6174 6520 6576 656e   is a state even
-000101d0: 7420 696e 2070 7573 6820 7275 6c65 732e  t in push rules.
-000101e0: 2028 5b5c 2335 3830 345d 2868 7474 7073   ([\#5804](https
-000101f0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00010200: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00010210: 2f69 7373 7565 732f 3538 3034 2929 0a2d  /issues/5804)).-
-00010220: 2046 6978 2065 7272 6f72 2077 6865 6e20   Fix error when 
-00010230: 7472 7969 6e67 2074 6f20 6c6f 6769 6e20  trying to login 
-00010240: 6173 2061 2064 6561 6374 6976 6174 6564  as a deactivated
-00010250: 2075 7365 7220 7768 656e 2075 7369 6e67   user when using
-00010260: 2061 2077 6f72 6b65 7220 746f 2068 616e   a worker to han
-00010270: 646c 6520 6c6f 6769 6e2e 2028 5b5c 2335  dle login. ([\#5
-00010280: 3830 365d 2868 7474 7073 3a2f 2f67 6974  806](https://git
-00010290: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-000102a0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-000102b0: 732f 3538 3036 2929 0a2d 2046 6978 2062  s/5806)).- Fix b
-000102c0: 7567 2077 6865 7265 2075 7365 7220 602f  ug where user `/
-000102d0: 7379 6e63 6020 7374 7265 616d 2063 6f75  sync` stream cou
-000102e0: 6c64 2067 6574 2077 6564 6765 6420 696e  ld get wedged in
-000102f0: 2072 6172 6520 6369 7263 756d 7374 616e   rare circumstan
-00010300: 6365 732e 2028 5b5c 2335 3832 355d 2868  ces. ([\#5825](h
-00010310: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00010320: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00010330: 6170 7365 2f69 7373 7565 732f 3538 3235  apse/issues/5825
-00010340: 2929 0a2d 2054 6865 2070 7572 6765 5f72  )).- The purge_r
-00010350: 656d 6f74 655f 6d65 6469 612e 7368 2073  emote_media.sh s
-00010360: 6372 6970 7420 7761 7320 6669 7865 642e  cript was fixed.
-00010370: 2028 5b5c 2335 3833 395d 2868 7474 7073   ([\#5839](https
+00008b30: 7375 6573 2f32 3134 3229 290a 2d20 4164  sues/2142)).- Ad
+00008b40: 6420 6162 696c 6974 7920 746f 2075 706c  d ability to upl
+00008b50: 6f61 6420 6372 6f73 732d 7369 676e 696e  oad cross-signin
+00008b60: 6720 7369 676e 6174 7572 6573 2e20 285b  g signatures. ([
+00008b70: 5c23 3537 3236 5d28 6874 7470 733a 2f2f  \#5726](https://
+00008b80: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00008b90: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00008ba0: 7375 6573 2f35 3732 3629 290a 2d20 416c  sues/5726)).- Al
+00008bb0: 6c6f 7720 7570 6c6f 6164 696e 6720 6f66  low uploading of
+00008bc0: 2063 726f 7373 2d73 6967 6e69 6e67 206b   cross-signing k
+00008bd0: 6579 732e 2028 5b5c 2335 3736 395d 2868  eys. ([\#5769](h
+00008be0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00008bf0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+00008c00: 6170 7365 2f69 7373 7565 732f 3537 3639  apse/issues/5769
+00008c10: 2929 0a2d 2043 4153 206c 6f67 696e 206e  )).- CAS login n
+00008c20: 6f77 2070 726f 7669 6465 7320 6120 6465  ow provides a de
+00008c30: 6661 756c 7420 6469 7370 6c61 7920 6e61  fault display na
+00008c40: 6d65 2066 6f72 2075 7365 7273 2069 6620  me for users if 
+00008c50: 6120 6064 6973 706c 6179 6e61 6d65 5f61  a `displayname_a
+00008c60: 7474 7269 6275 7465 6020 6973 2073 6574  ttribute` is set
+00008c70: 2069 6e20 7468 6520 636f 6e66 6967 7572   in the configur
+00008c80: 6174 696f 6e20 6669 6c65 2e20 285b 5c23  ation file. ([\#
+00008c90: 3631 3134 5d28 6874 7470 733a 2f2f 6769  6114](https://gi
+00008ca0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+00008cb0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+00008cc0: 6573 2f36 3131 3429 290a 2d20 5265 6a65  es/6114)).- Reje
+00008cd0: 6374 2061 6c6c 2070 656e 6469 6e67 2069  ct all pending i
+00008ce0: 6e76 6974 6573 2066 6f72 2061 2075 7365  nvites for a use
+00008cf0: 7220 6475 7269 6e67 2064 6561 6374 6976  r during deactiv
+00008d00: 6174 696f 6e2e 2028 5b5c 2336 3132 355d  ation. ([\#6125]
+00008d10: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00008d20: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+00008d30: 796e 6170 7365 2f69 7373 7565 732f 3631  ynapse/issues/61
+00008d40: 3235 2929 0a2d 2041 6464 2063 6f6e 6669  25)).- Add confi
+00008d50: 6720 6f70 7469 6f6e 2074 6f20 7375 7070  g option to supp
+00008d60: 7265 7373 2063 6c69 656e 7420 7369 6465  ress client side
+00008d70: 2072 6573 6f75 7263 6520 6c69 6d69 7420   resource limit 
+00008d80: 616c 6572 7469 6e67 2e20 285b 5c23 3631  alerting. ([\#61
+00008d90: 3733 5d28 6874 7470 733a 2f2f 6769 7468  73](https://gith
+00008da0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00008db0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00008dc0: 2f36 3137 3329 290a 0a0a 4275 6766 6978  /6173))...Bugfix
+00008dd0: 6573 0a2d 2d2d 2d2d 2d2d 2d0a 0a2d 2052  es.--------..- R
+00008de0: 6574 7572 6e20 616e 2048 5454 5020 3430  eturn an HTTP 40
+00008df0: 3420 696e 7374 6561 6420 6f66 2034 3030  4 instead of 400
+00008e00: 2077 6865 6e20 7265 7175 6573 7469 6e67   when requesting
+00008e10: 2061 2066 696c 7465 7220 6279 2049 4420   a filter by ID 
+00008e20: 7468 6174 2069 7320 756e 6b6e 6f77 6e20  that is unknown 
+00008e30: 746f 2074 6865 2073 6572 7665 722e 2054  to the server. T
+00008e40: 6861 6e6b 7320 746f 2040 6b72 6f6d 6265  hanks to @krombe
+00008e50: 6c20 666f 7220 636f 6e74 7269 6275 7469  l for contributi
+00008e60: 6e67 2074 6869 7321 2028 5b5c 2332 3338  ng this! ([\#238
+00008e70: 305d 2868 7474 7073 3a2f 2f67 6974 6875  0](https://githu
+00008e80: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00008e90: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00008ea0: 3233 3830 2929 0a2d 2046 6978 2061 2062  2380)).- Fix a b
+00008eb0: 7567 2077 6865 7265 2075 7365 7273 2063  ug where users c
+00008ec0: 6f75 6c64 2062 6520 696e 7669 7465 6420  ould be invited 
+00008ed0: 7477 6963 6520 746f 2074 6865 2073 616d  twice to the sam
+00008ee0: 6520 6772 6f75 702e 2028 5b5c 2333 3433  e group. ([\#343
+00008ef0: 365d 2868 7474 7073 3a2f 2f67 6974 6875  6](https://githu
+00008f00: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00008f10: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00008f20: 3334 3336 2929 0a2d 2046 6978 2060 2f63  3436)).- Fix `/c
+00008f30: 7265 6174 6552 6f6f 6d60 2066 6169 6c69  reateRoom` faili
+00008f40: 6e67 2077 6974 6820 6261 646c 792d 666f  ng with badly-fo
+00008f50: 726d 6174 7465 6420 4d58 4944 7320 696e  rmatted MXIDs in
+00008f60: 2074 6865 2069 6e76 6974 6565 206c 6973   the invitee lis
+00008f70: 742e 2054 6861 6e6b 7320 746f 2040 7765  t. Thanks to @we
+00008f80: 6e65 7232 3931 2120 285b 5c23 3430 3838  ner291! ([\#4088
+00008f90: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00008fa0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00008fb0: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
+00008fc0: 3038 3829 290a 2d20 4d61 6b65 2074 6865  088)).- Make the
+00008fd0: 2060 7379 6e61 7073 655f 706f 7274 5f64   `synapse_port_d
+00008fe0: 6260 2073 6372 6970 7420 6372 6561 7465  b` script create
+00008ff0: 2074 6865 2072 6967 6874 2069 6e64 6578   the right index
+00009000: 6573 206f 6e20 6120 6e65 7720 506f 7374  es on a new Post
+00009010: 6772 6553 514c 2064 6174 6162 6173 652e  greSQL database.
+00009020: 2028 5b5c 2336 3130 325d 2868 7474 7073   ([\#6102](https
+00009030: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00009040: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00009050: 2f69 7373 7565 732f 3631 3032 292c 205b  /issues/6102), [
+00009060: 5c23 3631 3738 5d28 6874 7470 733a 2f2f  \#6178](https://
+00009070: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00009080: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00009090: 7375 6573 2f36 3137 3829 2c20 5b5c 2336  sues/6178), [\#6
+000090a0: 3234 335d 2868 7474 7073 3a2f 2f67 6974  243](https://git
+000090b0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+000090c0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+000090d0: 732f 3632 3433 2929 0a2d 2046 6978 2062  s/6243)).- Fix b
+000090e0: 7567 2077 6865 6e20 7570 6c6f 6164 696e  ug when uploadin
+000090f0: 6720 6120 6c61 7267 6520 6669 6c65 3a20  g a large file: 
+00009100: 5379 6e61 7073 6520 7265 7370 6f6e 6473  Synapse responds
+00009110: 2077 6974 6820 604d 5f55 4e4b 4e4f 574e   with `M_UNKNOWN
+00009120: 6020 7768 696c 6520 6974 2073 686f 756c  ` while it shoul
+00009130: 6420 6265 2060 4d5f 544f 4f5f 4c41 5247  d be `M_TOO_LARG
+00009140: 4560 2061 6363 6f72 6469 6e67 2074 6f20  E` according to 
+00009150: 7370 6563 2e20 436f 6e74 7269 6275 7465  spec. Contribute
+00009160: 6420 6279 2041 6e73 6875 6c20 416e 6761  d by Anshul Anga
+00009170: 7269 612e 2028 5b5c 2336 3130 395d 2868  ria. ([\#6109](h
+00009180: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00009190: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+000091a0: 6170 7365 2f69 7373 7565 732f 3631 3039  apse/issues/6109
+000091b0: 2929 0a2d 2046 6978 2075 7365 7220 7075  )).- Fix user pu
+000091c0: 7368 2072 756c 6573 2062 6569 6e67 2064  sh rules being d
+000091d0: 656c 6574 6564 2066 726f 6d20 6120 726f  eleted from a ro
+000091e0: 6f6d 2077 6865 6e20 6974 2069 7320 7570  om when it is up
+000091f0: 6772 6164 6564 2e20 285b 5c23 3631 3434  graded. ([\#6144
+00009200: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00009210: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00009220: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
+00009230: 3134 3429 290a 2d20 446f 6e27 7420 3530  144)).- Don't 50
+00009240: 3020 7768 656e 2074 7279 696e 6720 746f  0 when trying to
+00009250: 2065 7863 6861 6e67 6520 6120 7265 766f   exchange a revo
+00009260: 6b65 6420 3350 4944 2069 6e76 6974 652e  ked 3PID invite.
+00009270: 2028 5b5c 2336 3134 375d 2868 7474 7073   ([\#6147](https
+00009280: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00009290: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+000092a0: 2f69 7373 7565 732f 3631 3437 2929 0a2d  /issues/6147)).-
+000092b0: 2046 6978 2074 7261 6e73 6665 7272 696e   Fix transferrin
+000092c0: 6720 6e6f 7469 6669 6361 7469 6f6e 7320  g notifications 
+000092d0: 616e 6420 7461 6773 2077 6865 6e20 6a6f  and tags when jo
+000092e0: 696e 696e 6720 616e 2075 7067 7261 6465  ining an upgrade
+000092f0: 6420 726f 6f6d 2074 6861 7420 6973 206e  d room that is n
+00009300: 6577 2074 6f20 796f 7572 2073 6572 7665  ew to your serve
+00009310: 722e 2028 5b5c 2336 3135 355d 2868 7474  r. ([\#6155](htt
+00009320: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00009330: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00009340: 7365 2f69 7373 7565 732f 3631 3535 2929  se/issues/6155))
+00009350: 0a2d 2046 6978 2062 7567 2077 6865 7265  .- Fix bug where
+00009360: 2067 7565 7374 2061 6363 6f75 6e74 2072   guest account r
+00009370: 6567 6973 7472 6174 696f 6e20 6361 6e20  egistration can 
+00009380: 7765 6467 6520 6166 7465 7220 7265 7374  wedge after rest
+00009390: 6172 742e 2028 5b5c 2336 3136 315d 2868  art. ([\#6161](h
+000093a0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+000093b0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+000093c0: 6170 7365 2f69 7373 7565 732f 3631 3631  apse/issues/6161
+000093d0: 2929 0a2d 2046 6978 206d 6f6e 7468 6c79  )).- Fix monthly
+000093e0: 2061 6374 6976 6520 7573 6572 2072 6561   active user rea
+000093f0: 7069 6e67 2077 6865 6e20 7265 7365 7276  ping when reserv
+00009400: 6564 2075 7365 7273 2061 7265 2073 7065  ed users are spe
+00009410: 6369 6669 6564 2e20 285b 5c23 3631 3638  cified. ([\#6168
+00009420: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00009430: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00009440: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
+00009450: 3136 3829 290a 2d20 4669 7820 602f 6665  168)).- Fix `/fe
+00009460: 6465 7261 7469 6f6e 2f76 312f 7374 6174  deration/v1/stat
+00009470: 6560 2065 6e64 706f 696e 7420 6e6f 7420  e` endpoint not 
+00009480: 7375 7070 6f72 7469 6e67 206e 6577 6572  supporting newer
+00009490: 2072 6f6f 6d20 7665 7273 696f 6e73 2e20   room versions. 
+000094a0: 285b 5c23 3631 3730 5d28 6874 7470 733a  ([\#6170](https:
+000094b0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+000094c0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+000094d0: 6973 7375 6573 2f36 3137 3029 290a 2d20  issues/6170)).- 
+000094e0: 4669 7820 6275 6720 7768 6572 6520 7765  Fix bug where we
+000094f0: 2077 6572 6520 7570 6461 7469 6e67 2063   were updating c
+00009500: 656e 736f 7265 6420 6576 656e 7473 2061  ensored events a
+00009510: 7320 6279 7465 7320 7261 7468 6572 2074  s bytes rather t
+00009520: 6861 6e20 7465 7874 2c20 6f63 6361 6973  han text, occais
+00009530: 6f6e 616c 6c79 2063 6175 7369 6e67 2069  onally causing i
+00009540: 6e76 616c 6964 204a 534f 4e20 6265 696e  nvalid JSON bein
+00009550: 6720 696e 7365 7274 6564 2062 7265 616b  g inserted break
+00009560: 696e 6720 4150 4973 2074 6861 7420 6174  ing APIs that at
+00009570: 7465 6d70 7465 6420 746f 2066 6574 6368  tempted to fetch
+00009580: 2073 7563 6820 6576 656e 7473 2e20 285b   such events. ([
+00009590: 5c23 3631 3836 5d28 6874 7470 733a 2f2f  \#6186](https://
+000095a0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+000095b0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+000095c0: 7375 6573 2f36 3138 3629 290a 2d20 4669  sues/6186)).- Fi
+000095d0: 7820 6f63 6361 7369 6f6e 616c 206d 6973  x occasional mis
+000095e0: 7365 6420 7570 6461 7465 7320 696e 2074  sed updates in t
+000095f0: 6865 2072 6f6f 6d20 616e 6420 7573 6572  he room and user
+00009600: 2064 6972 6563 746f 7269 6573 2e20 285b   directories. ([
+00009610: 5c23 3631 3837 5d28 6874 7470 733a 2f2f  \#6187](https://
+00009620: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00009630: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00009640: 7375 6573 2f36 3138 3729 290a 2d20 4669  sues/6187)).- Fi
+00009650: 7820 7472 6163 696e 6720 6f66 206e 6f6e  x tracing of non
+00009660: 2d4a 534f 4e20 4150 4973 2c20 602f 6d65  -JSON APIs, `/me
+00009670: 6469 6160 2c20 602f 6b65 7960 2065 7463  dia`, `/key` etc
+00009680: 2e20 285b 5c23 3631 3935 5d28 6874 7470  . ([\#6195](http
+00009690: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+000096a0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+000096b0: 652f 6973 7375 6573 2f36 3139 3529 290a  e/issues/6195)).
+000096c0: 2d20 4669 7820 6275 6720 7768 6572 6520  - Fix bug where 
+000096d0: 7072 6573 656e 6365 2077 6f75 6c64 206e  presence would n
+000096e0: 6f74 2067 6574 2074 696d 6564 206f 7574  ot get timed out
+000096f0: 2063 6f72 7265 6374 6c79 2069 6620 6120   correctly if a 
+00009700: 7379 6e63 6872 6f74 726f 6e20 776f 726b  synchrotron work
+00009710: 6572 2069 7320 7573 6564 2061 6e64 2072  er is used and r
+00009720: 6573 7461 7274 6564 2e20 285b 5c23 3632  estarted. ([\#62
+00009730: 3132 5d28 6874 7470 733a 2f2f 6769 7468  12](https://gith
+00009740: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00009750: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00009760: 2f36 3231 3229 290a 2d20 7379 6e61 7073  /6212)).- synaps
+00009770: 655f 706f 7274 5f64 623a 2041 6464 2032  e_port_db: Add 2
+00009780: 2061 6464 6974 696f 6e61 6c20 424f 4f4c   additional BOOL
+00009790: 4541 4e5f 434f 4c55 4d4e 5320 746f 2062  EAN_COLUMNS to b
+000097a0: 6520 6162 6c65 2074 6f20 636f 6e76 6572  e able to conver
+000097b0: 7420 6672 6f6d 2064 6174 6162 6173 6520  t from database 
+000097c0: 7363 6865 6d61 2076 3536 2e20 285b 5c23  schema v56. ([\#
+000097d0: 3632 3136 5d28 6874 7470 733a 2f2f 6769  6216](https://gi
+000097e0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+000097f0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+00009800: 6573 2f36 3231 3629 290a 2d20 4669 7820  es/6216)).- Fix 
+00009810: 6120 6275 6720 7768 6572 6520 7468 6520  a bug where the 
+00009820: 5379 6e61 7073 6520 6465 6d6f 2073 6372  Synapse demo scr
+00009830: 6970 7420 626c 6163 6b6c 6973 7465 6420  ipt blacklisted 
+00009840: 603a 3a31 6020 2869 7076 3620 6c6f 6361  `::1` (ipv6 loca
+00009850: 6c68 6f73 7429 2066 726f 6d20 7265 6365  lhost) from rece
+00009860: 6976 696e 6720 6665 6465 7261 7469 6f6e  iving federation
+00009870: 2074 7261 6666 6963 2e20 285b 5c23 3632   traffic. ([\#62
+00009880: 3239 5d28 6874 7470 733a 2f2f 6769 7468  29](https://gith
+00009890: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+000098a0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+000098b0: 2f36 3232 3929 290a 0a0a 5570 6461 7465  /6229))...Update
+000098c0: 7320 746f 2074 6865 2044 6f63 6b65 7220  s to the Docker 
+000098d0: 696d 6167 650a 2d2d 2d2d 2d2d 2d2d 2d2d  image.----------
+000098e0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+000098f0: 2d0a 0a2d 2046 6978 206c 6f67 6769 6e67  -..- Fix logging
+00009900: 2067 6574 7469 6e67 206c 6f73 7420 666f   getting lost fo
+00009910: 7220 7468 6520 646f 636b 6572 2069 6d61  r the docker ima
+00009920: 6765 2e20 285b 5c23 3631 3937 5d28 6874  ge. ([\#6197](ht
+00009930: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00009940: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+00009950: 7073 652f 6973 7375 6573 2f36 3139 3729  pse/issues/6197)
+00009960: 290a 0a0a 496e 7465 726e 616c 2043 6861  )...Internal Cha
+00009970: 6e67 6573 0a2d 2d2d 2d2d 2d2d 2d2d 2d2d  nges.-----------
+00009980: 2d2d 2d2d 2d0a 0a2d 2055 7064 6174 6520  -----..- Update 
+00009990: 6075 7365 725f 6669 6c74 6572 7360 2074  `user_filters` t
+000099a0: 6162 6c65 2074 6f20 6861 7665 2061 2075  able to have a u
+000099b0: 6e69 7175 6520 696e 6465 782c 2061 6e64  nique index, and
+000099c0: 206e 6f6e 2d6e 756c 6c20 636f 6c75 6d6e   non-null column
+000099d0: 732e 2054 6861 6e6b 7320 746f 2040 7069  s. Thanks to @pi
+000099e0: 6b20 666f 7220 636f 6e74 7269 6275 7469  k for contributi
+000099f0: 6e67 2074 6869 732e 2028 5b5c 2331 3137  ng this. ([\#117
+00009a00: 325d 2868 7474 7073 3a2f 2f67 6974 6875  2](https://githu
+00009a10: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00009a20: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00009a30: 3131 3732 292c 205b 5c23 3631 3735 5d28  1172), [\#6175](
+00009a40: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00009a50: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00009a60: 6e61 7073 652f 6973 7375 6573 2f36 3137  napse/issues/617
+00009a70: 3529 2c20 5b5c 2336 3138 345d 2868 7474  5), [\#6184](htt
+00009a80: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00009a90: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00009aa0: 7365 2f69 7373 7565 732f 3631 3834 2929  se/issues/6184))
+00009ab0: 0a2d 2041 6c6c 6f77 2064 6576 6963 6573  .- Allow devices
+00009ac0: 2074 6f20 6265 206d 6172 6b65 6420 6173   to be marked as
+00009ad0: 2068 6964 6465 6e2c 2066 6f72 2075 7365   hidden, for use
+00009ae0: 2062 7920 6665 6174 7572 6573 2073 7563   by features suc
+00009af0: 6820 6173 2063 726f 7373 2d73 6967 6e69  h as cross-signi
+00009b00: 6e67 2e0a 2020 5468 6973 2061 6464 7320  ng..  This adds 
+00009b10: 6120 6e65 7720 6669 656c 6420 7769 7468  a new field with
+00009b20: 2061 2064 6566 6175 6c74 2076 616c 7565   a default value
+00009b30: 2074 6f20 7468 6520 6465 7669 6365 7320   to the devices 
+00009b40: 6669 656c 6420 696e 2074 6865 2064 6174  field in the dat
+00009b50: 6162 6173 652c 0a20 2061 6e64 2073 6f20  abase,.  and so 
+00009b60: 7468 6520 6461 7461 6261 7365 2075 7067  the database upg
+00009b70: 7261 6465 206d 6179 2074 616b 6520 6120  rade may take a 
+00009b80: 6c6f 6e67 2074 696d 6520 6465 7065 6e64  long time depend
+00009b90: 696e 6720 6f6e 2068 6f77 206d 616e 7920  ing on how many 
+00009ba0: 6465 7669 6365 730a 2020 6172 6520 696e  devices.  are in
+00009bb0: 2074 6865 2064 6174 6162 6173 652e 2028   the database. (
+00009bc0: 5b5c 2335 3735 395d 2868 7474 7073 3a2f  [\#5759](https:/
+00009bd0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+00009be0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00009bf0: 7373 7565 732f 3537 3539 2929 0a2d 204d  ssues/5759)).- M
+00009c00: 6f76 6520 6c6f 6f6b 7570 2d72 656c 6174  ove lookup-relat
+00009c10: 6564 2066 756e 6374 696f 6e73 2066 726f  ed functions fro
+00009c20: 6d20 526f 6f6d 4d65 6d62 6572 4861 6e64  m RoomMemberHand
+00009c30: 6c65 7220 746f 2049 6465 6e74 6974 7948  ler to IdentityH
+00009c40: 616e 646c 6572 2e20 285b 5c23 3539 3738  andler. ([\#5978
+00009c50: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00009c60: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00009c70: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
+00009c80: 3937 3829 290a 2d20 496d 7072 6f76 6520  978)).- Improve 
+00009c90: 7065 7266 6f72 6d61 6e63 6520 6f66 2074  performance of t
+00009ca0: 6865 2070 7562 6c69 6320 726f 6f6d 206c  he public room l
+00009cb0: 6973 7420 6469 7265 6374 6f72 792e 2028  ist directory. (
+00009cc0: 5b5c 2336 3031 395d 2868 7474 7073 3a2f  [\#6019](https:/
+00009cd0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+00009ce0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00009cf0: 7373 7565 732f 3630 3139 292c 205b 5c23  ssues/6019), [\#
+00009d00: 3631 3532 5d28 6874 7470 733a 2f2f 6769  6152](https://gi
+00009d10: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+00009d20: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+00009d30: 6573 2f36 3135 3229 2c20 5b5c 2336 3135  es/6152), [\#615
+00009d40: 335d 2868 7474 7073 3a2f 2f67 6974 6875  3](https://githu
+00009d50: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00009d60: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00009d70: 3631 3533 292c 205b 5c23 3631 3534 5d28  6153), [\#6154](
+00009d80: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00009d90: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00009da0: 6e61 7073 652f 6973 7375 6573 2f36 3135  napse/issues/615
+00009db0: 3429 290a 2d20 4564 6974 2068 6561 6465  4)).- Edit heade
+00009dc0: 7220 6469 6374 7320 646f 6373 7472 696e  r dicts docstrin
+00009dd0: 6773 2069 6e20 6053 696d 706c 6548 7474  gs in `SimpleHtt
+00009de0: 7043 6c69 656e 7460 2074 6f20 6e6f 7465  pClient` to note
+00009df0: 2074 6861 7420 6073 7472 6020 6f72 2060   that `str` or `
+00009e00: 6279 7465 7360 2063 616e 2062 6520 7061  bytes` can be pa
+00009e10: 7373 6564 2061 7320 6865 6164 6572 206b  ssed as header k
+00009e20: 6579 732e 2028 5b5c 2336 3037 375d 2868  eys. ([\#6077](h
+00009e30: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00009e40: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+00009e50: 6170 7365 2f69 7373 7565 732f 3630 3737  apse/issues/6077
+00009e60: 2929 0a2d 2041 6464 2073 6e61 7063 7261  )).- Add snapcra
+00009e70: 6674 2070 6163 6b61 6769 6e67 2069 6e66  ft packaging inf
+00009e80: 6f72 6d61 7469 6f6e 2e20 436f 6e74 7269  ormation. Contri
+00009e90: 6275 7465 6420 6279 2040 6465 7665 6330  buted by @devec0
+00009ea0: 2e20 285b 5c23 3630 3834 5d28 6874 7470  . ([\#6084](http
+00009eb0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+00009ec0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+00009ed0: 652f 6973 7375 6573 2f36 3038 3429 2c20  e/issues/6084), 
+00009ee0: 5b5c 2336 3139 315d 2868 7474 7073 3a2f  [\#6191](https:/
+00009ef0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+00009f00: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00009f10: 7373 7565 732f 3631 3931 2929 0a2d 204b  ssues/6191)).- K
+00009f20: 696c 6c20 6f66 6620 6861 6c66 2d69 6d70  ill off half-imp
+00009f30: 6c65 6d65 6e74 6564 2070 6173 7377 6f72  lemented passwor
+00009f40: 642d 7265 7365 7420 7669 6120 736d 732e  d-reset via sms.
+00009f50: 2028 5b5c 2336 3130 315d 2868 7474 7073   ([\#6101](https
+00009f60: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00009f70: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00009f80: 2f69 7373 7565 732f 3631 3031 2929 0a2d  /issues/6101)).-
+00009f90: 2052 656d 6f76 6520 6067 6574 5f75 7365   Remove `get_use
+00009fa0: 725f 6279 5f72 6571 6020 6f70 656e 7472  r_by_req` opentr
+00009fb0: 6163 696e 6720 7370 616e 2061 6e64 2061  acing span and a
+00009fc0: 6464 2073 6f6d 6520 7461 6773 2e20 285b  dd some tags. ([
+00009fd0: 5c23 3631 3038 5d28 6874 7470 733a 2f2f  \#6108](https://
+00009fe0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00009ff0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+0000a000: 7375 6573 2f36 3130 3829 290a 2d20 4472  sues/6108)).- Dr
+0000a010: 6f70 2073 6f6d 6520 756e 7573 6564 2064  op some unused d
+0000a020: 6174 6162 6173 6520 7461 626c 6573 2e20  atabase tables. 
+0000a030: 285b 5c23 3631 3135 5d28 6874 7470 733a  ([\#6115](https:
+0000a040: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+0000a050: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+0000a060: 6973 7375 6573 2f36 3131 3529 290a 2d20  issues/6115)).- 
+0000a070: 4164 6420 656e 7620 7661 7220 746f 2074  Add env var to t
+0000a080: 7572 6e20 6f6e 2074 7261 636b 696e 6720  urn on tracking 
+0000a090: 6f66 206c 6f67 2063 6f6e 7465 7874 2063  of log context c
+0000a0a0: 6861 6e67 6573 2e20 285b 5c23 3631 3237  hanges. ([\#6127
+0000a0b0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0000a0c0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+0000a0d0: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
+0000a0e0: 3132 3729 290a 2d20 5265 6661 6374 6f72  127)).- Refactor
+0000a0f0: 2063 6f6e 6669 6775 7261 7469 6f6e 206c   configuration l
+0000a100: 6f61 6469 6e67 2074 6f20 616c 6c6f 7720  oading to allow 
+0000a110: 6265 7474 6572 2074 7970 6563 6865 636b  better typecheck
+0000a120: 696e 672e 2028 5b5c 2336 3133 375d 2868  ing. ([\#6137](h
+0000a130: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0000a140: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+0000a150: 6170 7365 2f69 7373 7565 732f 3631 3337  apse/issues/6137
+0000a160: 2929 0a2d 204c 6f67 2072 6573 706f 6e64  )).- Log respond
+0000a170: 6572 2077 6865 6e20 7265 7370 6f6e 6469  er when respondi
+0000a180: 6e67 2074 6f20 6d65 6469 6120 7265 7175  ng to media requ
+0000a190: 6573 742e 2028 5b5c 2336 3133 395d 2868  est. ([\#6139](h
+0000a1a0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0000a1b0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+0000a1c0: 6170 7365 2f69 7373 7565 732f 3631 3339  apse/issues/6139
+0000a1d0: 2929 0a2d 2049 6d70 726f 7665 2070 6572  )).- Improve per
+0000a1e0: 666f 726d 616e 6365 206f 6620 6066 696e  formance of `fin
+0000a1f0: 645f 6e65 7874 5f67 656e 6572 6174 6564  d_next_generated
+0000a200: 5f75 7365 725f 6964 6020 4442 2071 7565  _user_id` DB que
+0000a210: 7279 2e20 285b 5c23 3631 3438 5d28 6874  ry. ([\#6148](ht
+0000a220: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+0000a230: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+0000a240: 7073 652f 6973 7375 6573 2f36 3134 3829  pse/issues/6148)
+0000a250: 290a 2d20 4578 7061 6e64 2074 7970 652d  ).- Expand type-
+0000a260: 6368 6563 6b69 6e67 206f 6e20 6d6f 6475  checking on modu
+0000a270: 6c65 7320 696d 706f 7274 6564 2062 7920  les imported by 
+0000a280: 6073 796e 6170 7365 2e63 6f6e 6669 6760  `synapse.config`
+0000a290: 2e20 285b 5c23 3631 3530 5d28 6874 7470  . ([\#6150](http
+0000a2a0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+0000a2b0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+0000a2c0: 652f 6973 7375 6573 2f36 3135 3029 290a  e/issues/6150)).
+0000a2d0: 2d20 5573 6520 506f 7374 6772 6573 2041  - Use Postgres A
+0000a2e0: 4e59 2066 6f72 2073 656c 6563 7469 6e67  NY for selecting
+0000a2f0: 206d 616e 7920 7661 6c75 6573 2e20 285b   many values. ([
+0000a300: 5c23 3631 3536 5d28 6874 7470 733a 2f2f  \#6156](https://
+0000a310: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+0000a320: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+0000a330: 7375 6573 2f36 3135 3629 290a 2d20 4164  sues/6156)).- Ad
+0000a340: 6420 6d6f 7265 2063 6163 6869 6e67 2074  d more caching t
+0000a350: 6f20 605f 6765 745f 6a6f 696e 6564 5f75  o `_get_joined_u
+0000a360: 7365 7273 5f66 726f 6d5f 636f 6e74 6578  sers_from_contex
+0000a370: 7460 2044 4220 7175 6572 792e 2028 5b5c  t` DB query. ([\
+0000a380: 2336 3135 395d 2868 7474 7073 3a2f 2f67  #6159](https://g
+0000a390: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+0000a3a0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+0000a3b0: 7565 732f 3631 3539 2929 0a2d 2041 6464  ues/6159)).- Add
+0000a3c0: 2073 6f6d 6520 6d65 7472 6963 7320 6f6e   some metrics on
+0000a3d0: 2074 6865 2066 6564 6572 6174 696f 6e20   the federation 
+0000a3e0: 7365 6e64 6572 2e20 285b 5c23 3631 3630  sender. ([\#6160
+0000a3f0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0000a400: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+0000a410: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
+0000a420: 3136 3029 290a 2d20 4164 6420 736f 6d65  160)).- Add some
+0000a430: 206c 6f67 6769 6e67 2074 6f20 7468 6520   logging to the 
+0000a440: 726f 6f6d 7320 7374 6174 7320 7570 6461  rooms stats upda
+0000a450: 7465 732c 2074 6f20 7472 7920 746f 2074  tes, to try to t
+0000a460: 7261 636b 2064 6f77 6e20 6120 666c 616b  rack down a flak
+0000a470: 7920 7465 7374 2e20 285b 5c23 3631 3637  y test. ([\#6167
+0000a480: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0000a490: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+0000a4a0: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
+0000a4b0: 3136 3729 290a 2d20 5265 6d6f 7665 2075  167)).- Remove u
+0000a4c0: 6e75 7365 6420 6074 696d 656f 7574 6020  nused `timeout` 
+0000a4d0: 7061 7261 6d65 7465 7220 6672 6f6d 2060  parameter from `
+0000a4e0: 5f67 6574 5f70 7562 6c69 635f 726f 6f6d  _get_public_room
+0000a4f0: 5f6c 6973 7460 2e20 285b 5c23 3631 3739  _list`. ([\#6179
+0000a500: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0000a510: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+0000a520: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
+0000a530: 3137 3929 290a 2d20 5265 6a65 6374 2028  179)).- Reject (
+0000a540: 6163 6369 6465 6e74 616c 2920 6174 7465  accidental) atte
+0000a550: 6d70 7473 2074 6f20 696e 7365 7274 2062  mpts to insert b
+0000a560: 7974 6573 2069 6e74 6f20 706f 7374 6772  ytes into postgr
+0000a570: 6573 2074 6162 6c65 732e 2028 5b5c 2336  es tables. ([\#6
+0000a580: 3138 365d 2868 7474 7073 3a2f 2f67 6974  186](https://git
+0000a590: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+0000a5a0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+0000a5b0: 732f 3631 3836 2929 0a2d 204d 616b 6520  s/6186)).- Make 
+0000a5c0: 6076 6572 7369 6f6e 6020 6f70 7469 6f6e  `version` option
+0000a5d0: 616c 2069 6e20 626f 6479 206f 6620 6050  al in body of `P
+0000a5e0: 5554 202f 726f 6f6d 5f6b 6579 732f 7665  UT /room_keys/ve
+0000a5f0: 7273 696f 6e2f 7b76 6572 7369 6f6e 7d60  rsion/{version}`
+0000a600: 2c20 7369 6e63 6520 6974 2773 2072 6564  , since it's red
+0000a610: 756e 6461 6e74 2e20 285b 5c23 3631 3839  undant. ([\#6189
+0000a620: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0000a630: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+0000a640: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
+0000a650: 3138 3929 290a 2d20 4d61 6b65 2073 746f  189)).- Make sto
+0000a660: 7261 6765 206c 6179 6572 2072 6573 706f  rage layer respo
+0000a670: 6e73 6962 6c65 2066 6f72 2061 6464 696e  nsible for addin
+0000a680: 6720 6465 7669 6365 206e 616d 6573 2074  g device names t
+0000a690: 6f20 6b65 792c 2072 6174 6865 7220 7468  o key, rather th
+0000a6a0: 616e 2074 6865 2068 616e 646c 6572 2e20  an the handler. 
+0000a6b0: 285b 5c23 3631 3933 5d28 6874 7470 733a  ([\#6193](https:
+0000a6c0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+0000a6d0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+0000a6e0: 6973 7375 6573 2f36 3139 3329 290a 2d20  issues/6193)).- 
+0000a6f0: 506f 7274 2060 7379 6e61 7073 652e 7265  Port `synapse.re
+0000a700: 7374 2e61 646d 696e 6020 6d6f 6475 6c65  st.admin` module
+0000a710: 2074 6f20 7573 6520 6173 796e 632f 6177   to use async/aw
+0000a720: 6169 742e 2028 5b5c 2336 3139 365d 2868  ait. ([\#6196](h
+0000a730: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0000a740: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+0000a750: 6170 7365 2f69 7373 7565 732f 3631 3936  apse/issues/6196
+0000a760: 2929 0a2d 2045 6e66 6f72 6365 2074 6861  )).- Enforce tha
+0000a770: 7420 616c 6c20 626f 6f6c 6561 6e20 636f  t all boolean co
+0000a780: 6e66 6967 7572 6174 696f 6e20 7661 6c75  nfiguration valu
+0000a790: 6573 2061 7265 206c 6f77 6572 6361 7365  es are lowercase
+0000a7a0: 2069 6e20 4349 2e20 285b 5c23 3632 3033   in CI. ([\#6203
+0000a7b0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0000a7c0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+0000a7d0: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
+0000a7e0: 3230 3329 290a 2d20 5265 6d6f 7665 2073  203)).- Remove s
+0000a7f0: 6f6d 6520 756e 7573 6564 2065 7665 6e74  ome unused event
+0000a800: 2d61 7574 6820 636f 6465 2e20 285b 5c23  -auth code. ([\#
+0000a810: 3632 3134 5d28 6874 7470 733a 2f2f 6769  6214](https://gi
+0000a820: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+0000a830: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+0000a840: 6573 2f36 3231 3429 290a 2d20 5265 6d6f  es/6214)).- Remo
+0000a850: 7665 2060 4175 7468 2e63 6865 636b 6020  ve `Auth.check` 
+0000a860: 6d65 7468 6f64 2e20 285b 5c23 3632 3137  method. ([\#6217
+0000a870: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0000a880: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+0000a890: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
+0000a8a0: 3231 3729 290a 2d20 5265 6d6f 7665 2060  217)).- Remove `
+0000a8b0: 666f 726d 6174 5f74 6170 2e70 7960 2073  format_tap.py` s
+0000a8c0: 6372 6970 7420 696e 2066 6176 6f75 7220  cript in favour 
+0000a8d0: 6f66 2061 2070 6572 6c20 7265 696d 706c  of a perl reimpl
+0000a8e0: 656d 656e 7461 7469 6f6e 2069 6e20 5379  ementation in Sy
+0000a8f0: 7465 7374 2773 2072 6570 6f2e 2028 5b5c  test's repo. ([\
+0000a900: 2336 3231 395d 2868 7474 7073 3a2f 2f67  #6219](https://g
+0000a910: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+0000a920: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+0000a930: 7565 732f 3632 3139 2929 0a2d 2052 6566  ues/6219)).- Ref
+0000a940: 6163 746f 7220 7374 6f72 6167 6520 6c61  actor storage la
+0000a950: 7965 7220 696e 2070 7265 7061 7261 7469  yer in preparati
+0000a960: 6f6e 2074 6f20 7375 7070 6f72 7420 6861  on to support ha
+0000a970: 7669 6e67 206d 756c 7469 706c 6520 6461  ving multiple da
+0000a980: 7461 6261 7365 732e 2028 5b5c 2336 3233  tabases. ([\#623
+0000a990: 315d 2868 7474 7073 3a2f 2f67 6974 6875  1](https://githu
+0000a9a0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+0000a9b0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+0000a9c0: 3632 3331 2929 0a2d 2052 656d 6f76 6520  6231)).- Remove 
+0000a9d0: 736f 6d65 2065 7874 7261 2071 756f 7461  some extra quota
+0000a9e0: 7469 6f6e 206d 6172 6b73 2061 6372 6f73  tion marks acros
+0000a9f0: 7320 7468 6520 636f 6465 6261 7365 2e20  s the codebase. 
+0000aa00: 285b 5c23 3632 3336 5d28 6874 7470 733a  ([\#6236](https:
+0000aa10: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+0000aa20: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+0000aa30: 6973 7375 6573 2f36 3233 3629 290a 0a0a  issues/6236))...
+0000aa40: 5379 6e61 7073 6520 312e 342e 3120 2832  Synapse 1.4.1 (2
+0000aa50: 3031 392d 3130 2d31 3829 0a3d 3d3d 3d3d  019-10-18).=====
+0000aa60: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0000aa70: 3d3d 3d3d 3d0a 0a4e 6f20 6368 616e 6765  =====..No change
+0000aa80: 7320 7369 6e63 6520 312e 342e 3172 6331  s since 1.4.1rc1
+0000aa90: 2e0a 0a0a 5379 6e61 7073 6520 312e 342e  ....Synapse 1.4.
+0000aaa0: 3172 6331 2028 3230 3139 2d31 302d 3137  1rc1 (2019-10-17
+0000aab0: 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ).==============
+0000aac0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a  ===============.
+0000aad0: 0a42 7567 6669 7865 730a 2d2d 2d2d 2d2d  .Bugfixes.------
+0000aae0: 2d2d 0a0a 2d20 4669 7820 6275 6720 7768  --..- Fix bug wh
+0000aaf0: 6572 6520 7265 6461 6374 6564 2065 7665  ere redacted eve
+0000ab00: 6e74 7320 7765 7265 2073 6f6d 6574 696d  nts were sometim
+0000ab10: 6573 2069 6e63 6f72 7265 6374 6c79 2063  es incorrectly c
+0000ab20: 656e 736f 7265 6420 696e 2074 6865 2064  ensored in the d
+0000ab30: 6174 6162 6173 652c 2062 7265 616b 696e  atabase, breakin
+0000ab40: 6720 4150 4973 2074 6861 7420 6174 7465  g APIs that atte
+0000ab50: 6d70 7465 6420 746f 2066 6574 6368 2073  mpted to fetch s
+0000ab60: 7563 6820 6576 656e 7473 2e20 285b 5c23  uch events. ([\#
+0000ab70: 3631 3835 5d28 6874 7470 733a 2f2f 6769  6185](https://gi
+0000ab80: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+0000ab90: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+0000aba0: 6573 2f36 3138 3529 2c20 5b35 6230 6539  es/6185), [5b0e9
+0000abb0: 3934 385d 2868 7474 7073 3a2f 2f67 6974  948](https://git
+0000abc0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+0000abd0: 7267 2f73 796e 6170 7365 2f63 6f6d 6d69  rg/synapse/commi
+0000abe0: 742f 3562 3065 3939 3438 6561 6165 3830  t/5b0e9948eaae80
+0000abf0: 3136 3433 6535 3934 6235 6162 6338 6565  1643e594b5abc8ee
+0000ac00: 3462 3130 6264 3139 3465 2929 0a0a 5379  4b10bd194e))..Sy
+0000ac10: 6e61 7073 6520 312e 342e 3020 2832 3031  napse 1.4.0 (201
+0000ac20: 392d 3130 2d30 3329 0a3d 3d3d 3d3d 3d3d  9-10-03).=======
+0000ac30: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0000ac40: 3d3d 3d0a 0a42 7567 6669 7865 730a 2d2d  ===..Bugfixes.--
+0000ac50: 2d2d 2d2d 2d2d 0a0a 2d20 5265 6461 6374  ------..- Redact
+0000ac60: 2060 636c 6965 6e74 5f73 6563 7265 7460   `client_secret`
+0000ac70: 2069 6e20 7365 7276 6572 206c 6f67 732e   in server logs.
+0000ac80: 2028 5b5c 2336 3135 385d 2868 7474 7073   ([\#6158](https
+0000ac90: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+0000aca0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+0000acb0: 2f69 7373 7565 732f 3631 3538 2929 0a0a  /issues/6158))..
+0000acc0: 0a53 796e 6170 7365 2031 2e34 2e30 7263  .Synapse 1.4.0rc
+0000acd0: 3220 2832 3031 392d 3130 2d30 3229 0a3d  2 (2019-10-02).=
+0000ace0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0000acf0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 4275  ============..Bu
+0000ad00: 6766 6978 6573 0a2d 2d2d 2d2d 2d2d 2d0a  gfixes.--------.
+0000ad10: 0a2d 2046 6978 2062 7567 2069 6e20 6261  .- Fix bug in ba
+0000ad20: 636b 6772 6f75 6e64 2075 7064 6174 6520  ckground update 
+0000ad30: 7468 6174 2061 6464 7320 6c61 7374 2073  that adds last s
+0000ad40: 6565 6e20 696e 666f 726d 6174 696f 6e20  een information 
+0000ad50: 746f 2074 6865 2060 6465 7669 6365 7360  to the `devices`
+0000ad60: 2074 6162 6c65 2c20 616e 6420 696d 7072   table, and impr
+0000ad70: 6f76 6520 6974 7320 7065 7266 6f72 6d61  ove its performa
+0000ad80: 6e63 6520 6f6e 2050 6f73 7467 7265 732e  nce on Postgres.
+0000ad90: 2028 5b5c 2336 3133 355d 2868 7474 7073   ([\#6135](https
+0000ada0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+0000adb0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+0000adc0: 2f69 7373 7565 732f 3631 3335 2929 0a2d  /issues/6135)).-
+0000add0: 2046 6978 2062 6164 2070 6572 666f 726d   Fix bad perform
+0000ade0: 616e 6365 206f 6620 6365 6e73 6f72 696e  ance of censorin
+0000adf0: 6720 7265 6461 6374 696f 6e73 2062 6163  g redactions bac
+0000ae00: 6b67 726f 756e 6420 7461 736b 2e20 285b  kground task. ([
+0000ae10: 5c23 3631 3431 5d28 6874 7470 733a 2f2f  \#6141](https://
+0000ae20: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+0000ae30: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+0000ae40: 7375 6573 2f36 3134 3129 290a 2d20 4669  sues/6141)).- Fi
+0000ae50: 7820 6665 7463 6869 6e67 2063 656e 736f  x fetching censo
+0000ae60: 7265 6420 7265 6461 6374 696f 6e73 2066  red redactions f
+0000ae70: 726f 6d20 4442 2c20 7768 6963 6820 6361  rom DB, which ca
+0000ae80: 7573 6564 2041 5049 7320 6c69 6b65 2069  used APIs like i
+0000ae90: 6e69 7469 616c 2073 796e 6320 746f 2066  nitial sync to f
+0000aea0: 6169 6c20 6966 2069 7420 7472 6965 6420  ail if it tried 
+0000aeb0: 746f 2069 6e63 6c75 6465 2074 6865 2063  to include the c
+0000aec0: 656e 736f 7265 6420 7265 6461 6374 696f  ensored redactio
+0000aed0: 6e2e 2028 5b5c 2336 3134 355d 2868 7474  n. ([\#6145](htt
+0000aee0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0000aef0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+0000af00: 7365 2f69 7373 7565 732f 3631 3435 2929  se/issues/6145))
+0000af10: 0a2d 2046 6978 2065 7863 6570 7469 6f6e  .- Fix exception
+0000af20: 7320 7768 656e 2073 746f 7269 6e67 206c  s when storing l
+0000af30: 6172 6765 2072 6574 7279 2069 6e74 6572  arge retry inter
+0000af40: 7661 6c73 2066 6f72 2064 6f77 6e20 7265  vals for down re
+0000af50: 6d6f 7465 2073 6572 7665 7273 2e20 285b  mote servers. ([
+0000af60: 5c23 3631 3436 5d28 6874 7470 733a 2f2f  \#6146](https://
+0000af70: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+0000af80: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+0000af90: 7375 6573 2f36 3134 3629 290a 0a0a 496e  sues/6146))...In
+0000afa0: 7465 726e 616c 2043 6861 6e67 6573 0a2d  ternal Changes.-
+0000afb0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a  ---------------.
+0000afc0: 0a2d 2046 6978 2075 7020 7361 6d70 6c65  .- Fix up sample
+0000afd0: 2063 6f6e 6669 6720 656e 7472 7920 666f   config entry fo
+0000afe0: 7220 6072 6564 6163 7469 6f6e 5f72 6574  r `redaction_ret
+0000aff0: 656e 7469 6f6e 5f70 6572 696f 6460 206f  ention_period` o
+0000b000: 7074 696f 6e2e 2028 5b5c 2336 3131 375d  ption. ([\#6117]
+0000b010: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+0000b020: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+0000b030: 796e 6170 7365 2f69 7373 7565 732f 3631  ynapse/issues/61
+0000b040: 3137 2929 0a0a 0a53 796e 6170 7365 2031  17))...Synapse 1
+0000b050: 2e34 2e30 7263 3120 2832 3031 392d 3039  .4.0rc1 (2019-09
+0000b060: 2d32 3629 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d  -26).===========
+0000b070: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0000b080: 3d3d 0a0a 4e6f 7465 2074 6861 7420 7468  ==..Note that th
+0000b090: 6973 2072 656c 6561 7365 2069 6e63 6c75  is release inclu
+0000b0a0: 6465 7320 7369 676e 6966 6963 616e 7420  des significant 
+0000b0b0: 6368 616e 6765 7320 6172 6f75 6e64 2033  changes around 3
+0000b0c0: 7069 640a 7665 7269 6669 6361 7469 6f6e  pid.verification
+0000b0d0: 2e20 4164 6d69 6e69 7374 7261 746f 7273  . Administrators
+0000b0e0: 2061 7265 2072 656d 696e 6465 6420 746f   are reminded to
+0000b0f0: 2072 6576 6965 7720 7468 6520 5b75 7067   review the [upg
+0000b100: 7261 6465 206e 6f74 6573 5d28 5550 4752  rade notes](UPGR
+0000b110: 4144 452e 7273 7423 7570 6772 6164 696e  ADE.rst#upgradin
+0000b120: 672d 746f 2d76 3134 3029 2e0a 0a46 6561  g-to-v140)...Fea
+0000b130: 7475 7265 730a 2d2d 2d2d 2d2d 2d2d 0a0a  tures.--------..
+0000b140: 2d20 4368 616e 6765 7320 746f 2033 7069  - Changes to 3pi
+0000b150: 6420 7665 7269 6669 6361 7469 6f6e 3a0a  d verification:.
+0000b160: 2020 2d20 4164 6420 7468 6520 6162 696c    - Add the abil
+0000b170: 6974 7920 746f 2073 656e 6420 7265 6769  ity to send regi
+0000b180: 7374 7261 7469 6f6e 2065 6d61 696c 7320  stration emails 
+0000b190: 6672 6f6d 2074 6865 2068 6f6d 6573 6572  from the homeser
+0000b1a0: 7665 7220 7261 7468 6572 2074 6861 6e20  ver rather than 
+0000b1b0: 6465 6c65 6761 7469 6e67 2074 6f20 616e  delegating to an
+0000b1c0: 2069 6465 6e74 6974 7920 7365 7276 6572   identity server
+0000b1d0: 2e20 285b 5c23 3538 3335 5d28 6874 7470  . ([\#5835](http
+0000b1e0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+0000b1f0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+0000b200: 652f 6973 7375 6573 2f35 3833 3529 2c20  e/issues/5835), 
+0000b210: 5b5c 2335 3934 305d 2868 7474 7073 3a2f  [\#5940](https:/
+0000b220: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+0000b230: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+0000b240: 7373 7565 732f 3539 3430 292c 205b 5c23  ssues/5940), [\#
+0000b250: 3539 3933 5d28 6874 7470 733a 2f2f 6769  5993](https://gi
+0000b260: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+0000b270: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+0000b280: 6573 2f35 3939 3329 2c20 5b5c 2335 3939  es/5993), [\#599
+0000b290: 345d 2868 7474 7073 3a2f 2f67 6974 6875  4](https://githu
+0000b2a0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+0000b2b0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+0000b2c0: 3539 3934 292c 205b 5c23 3538 3638 5d28  5994), [\#5868](
+0000b2d0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0000b2e0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+0000b2f0: 6e61 7073 652f 6973 7375 6573 2f35 3836  napse/issues/586
+0000b300: 3829 290a 2020 2d20 5265 706c 6163 6520  8)).  - Replace 
+0000b310: 6074 7275 7374 5f69 6465 6e74 6974 795f  `trust_identity_
+0000b320: 7365 7276 6572 5f66 6f72 5f70 6173 7377  server_for_passw
+0000b330: 6f72 645f 7265 7365 7473 6020 636f 6e66  ord_resets` conf
+0000b340: 6967 206f 7074 696f 6e20 7769 7468 2060  ig option with `
+0000b350: 6163 636f 756e 745f 7468 7265 6570 6964  account_threepid
+0000b360: 5f64 656c 6567 6174 6573 602c 2061 6e64  _delegates`, and
+0000b370: 206d 616b 6520 7468 6520 6069 645f 7365   make the `id_se
+0000b380: 7276 6572 6020 7061 7261 6d65 7465 7465  rver` parametete
+0000b390: 7220 6f70 7469 6f6e 616c 206f 6e20 602a  r optional on `*
+0000b3a0: 2f72 6571 7565 7374 546f 6b65 6e60 2065  /requestToken` e
+0000b3b0: 6e64 706f 696e 7473 2c20 6173 2070 6572  ndpoints, as per
+0000b3c0: 205b 4d53 4332 3236 335d 2868 7474 7073   [MSC2263](https
+0000b3d0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+0000b3e0: 7472 6978 2d6f 7267 2f6d 6174 7269 782d  trix-org/matrix-
+0000b3f0: 646f 632f 7075 6c6c 2f32 3236 3329 2e20  doc/pull/2263). 
+0000b400: 285b 5c23 3538 3736 5d28 6874 7470 733a  ([\#5876](https:
+0000b410: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+0000b420: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+0000b430: 6973 7375 6573 2f35 3837 3629 2c20 5b5c  issues/5876), [\
+0000b440: 2335 3936 395d 2868 7474 7073 3a2f 2f67  #5969](https://g
+0000b450: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+0000b460: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+0000b470: 7565 732f 3539 3639 292c 205b 5c23 3630  ues/5969), [\#60
+0000b480: 3238 5d28 6874 7470 733a 2f2f 6769 7468  28](https://gith
+0000b490: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+0000b4a0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+0000b4b0: 2f36 3032 3829 290a 2020 2d20 5377 6974  /6028)).  - Swit
+0000b4c0: 6368 2074 6f20 7573 696e 6720 7468 6520  ch to using the 
+0000b4d0: 7632 2049 6465 6e74 6974 7920 5365 7276  v2 Identity Serv
+0000b4e0: 6963 6520 602f 6c6f 6f6b 7570 6020 4150  ice `/lookup` AP
+0000b4f0: 4920 7768 6572 6520 6176 6169 6c61 626c  I where availabl
+0000b500: 652c 2077 6974 6820 6661 6c6c 6261 636b  e, with fallback
+0000b510: 2074 6f20 7631 2e20 2849 6d70 6c65 6d65   to v1. (Impleme
+0000b520: 6e74 7320 5b4d 5343 3231 3334 5d28 6874  nts [MSC2134](ht
+0000b530: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+0000b540: 2f6d 6174 7269 782d 6f72 672f 6d61 7472  /matrix-org/matr
+0000b550: 6978 2d64 6f63 2f70 756c 6c2f 3231 3334  ix-doc/pull/2134
+0000b560: 2920 706c 7573 2060 6964 5f61 6363 6573  ) plus `id_acces
+0000b570: 735f 746f 6b65 6e20 6175 7468 656e 7469  s_token authenti
+0000b580: 6361 7469 6f6e 6020 666f 7220 7632 2049  cation` for v2 I
+0000b590: 6465 6e74 6974 7920 5365 7276 6963 6520  dentity Service 
+0000b5a0: 4150 4973 2066 726f 6d20 5b4d 5343 3231  APIs from [MSC21
+0000b5b0: 3430 5d28 6874 7470 733a 2f2f 6769 7468  40](https://gith
+0000b5c0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+0000b5d0: 672f 6d61 7472 6978 2d64 6f63 2f70 756c  g/matrix-doc/pul
+0000b5e0: 6c2f 3231 3430 2929 2e20 285b 5c23 3538  l/2140)). ([\#58
+0000b5f0: 3937 5d28 6874 7470 733a 2f2f 6769 7468  97](https://gith
+0000b600: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+0000b610: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+0000b620: 2f35 3839 3729 290a 2020 2d20 5265 6d6f  /5897)).  - Remo
+0000b630: 7665 2060 6269 6e64 5f65 6d61 696c 6020  ve `bind_email` 
+0000b640: 616e 6420 6062 696e 645f 6d73 6973 646e  and `bind_msisdn
+0000b650: 6020 7061 7261 6d65 7465 7273 2066 726f  ` parameters fro
+0000b660: 6d20 602f 7265 6769 7374 6572 6020 616c  m `/register` al
+0000b670: 6120 5b4d 5343 3231 3430 5d28 6874 7470  a [MSC2140](http
+0000b680: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+0000b690: 6174 7269 782d 6f72 672f 6d61 7472 6978  atrix-org/matrix
+0000b6a0: 2d64 6f63 2f70 756c 6c2f 3231 3430 292e  -doc/pull/2140).
+0000b6b0: 2028 5b5c 2335 3936 345d 2868 7474 7073   ([\#5964](https
+0000b6c0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+0000b6d0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+0000b6e0: 2f69 7373 7565 732f 3539 3634 2929 0a20  /issues/5964)). 
+0000b6f0: 202d 2041 6464 2060 6d2e 6964 5f61 6363   - Add `m.id_acc
+0000b700: 6573 735f 746f 6b65 6e60 2074 6f20 6075  ess_token` to `u
+0000b710: 6e73 7461 626c 655f 6665 6174 7572 6573  nstable_features
+0000b720: 6020 696e 2060 2f76 6572 7369 6f6e 7360  ` in `/versions`
+0000b730: 2061 7320 7065 7220 5b4d 5343 3232 3634   as per [MSC2264
+0000b740: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0000b750: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+0000b760: 6d61 7472 6978 2d64 6f63 2f70 756c 6c2f  matrix-doc/pull/
+0000b770: 3232 3634 292e 2028 5b5c 2335 3937 345d  2264). ([\#5974]
+0000b780: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+0000b790: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+0000b7a0: 796e 6170 7365 2f69 7373 7565 732f 3539  ynapse/issues/59
+0000b7b0: 3734 2929 0a20 202d 2055 7365 2074 6865  74)).  - Use the
+0000b7c0: 2076 3220 4964 656e 7469 7479 2053 6572   v2 Identity Ser
+0000b7d0: 7669 6365 2041 5049 2066 6f72 2033 5049  vice API for 3PI
+0000b7e0: 4420 696e 7669 7465 732e 2028 5b5c 2335  D invites. ([\#5
+0000b7f0: 3937 395d 2868 7474 7073 3a2f 2f67 6974  979](https://git
+0000b800: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+0000b810: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+0000b820: 732f 3539 3739 2929 0a20 202d 2041 6464  s/5979)).  - Add
+0000b830: 2060 504f 5354 202f 5f6d 6174 7269 782f   `POST /_matrix/
+0000b840: 636c 6965 6e74 2f75 6e73 7461 626c 652f  client/unstable/
+0000b850: 6163 636f 756e 742f 3370 6964 2f75 6e62  account/3pid/unb
+0000b860: 696e 6460 2065 6e64 706f 696e 7420 6672  ind` endpoint fr
+0000b870: 6f6d 205b 4d53 4332 3134 305d 2868 7474  om [MSC2140](htt
+0000b880: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0000b890: 6d61 7472 6978 2d6f 7267 2f6d 6174 7269  matrix-org/matri
+0000b8a0: 782d 646f 632f 7075 6c6c 2f32 3134 3029  x-doc/pull/2140)
+0000b8b0: 2066 6f72 2075 6e62 696e 6469 6e67 2061   for unbinding a
+0000b8c0: 2033 5049 4420 6672 6f6d 2061 6e20 6964   3PID from an id
+0000b8d0: 656e 7469 7479 2073 6572 7665 7220 7769  entity server wi
+0000b8e0: 7468 6f75 7420 7265 6d6f 7669 6e67 2069  thout removing i
+0000b8f0: 7420 6672 6f6d 2074 6865 2068 6f6d 6573  t from the homes
+0000b900: 6572 7665 7220 7573 6572 2061 6363 6f75  erver user accou
+0000b910: 6e74 2e20 285b 5c23 3539 3830 5d28 6874  nt. ([\#5980](ht
+0000b920: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+0000b930: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+0000b940: 7073 652f 6973 7375 6573 2f35 3938 3029  pse/issues/5980)
+0000b950: 2c20 5b5c 2336 3036 325d 2868 7474 7073  , [\#6062](https
+0000b960: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+0000b970: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+0000b980: 2f69 7373 7565 732f 3630 3632 2929 0a20  /issues/6062)). 
+0000b990: 202d 2055 7365 2060 6163 636f 756e 745f   - Use `account_
+0000b9a0: 7468 7265 6570 6964 5f64 656c 6567 6174  threepid_delegat
+0000b9b0: 652e 656d 6169 6c60 2061 6e64 2060 6163  e.email` and `ac
+0000b9c0: 636f 756e 745f 7468 7265 6570 6964 5f64  count_threepid_d
+0000b9d0: 656c 6567 6174 652e 6d73 6973 646e 6020  elegate.msisdn` 
+0000b9e0: 666f 7220 7661 6c69 6461 7469 6e67 2074  for validating t
+0000b9f0: 6872 6565 7069 6420 7365 7373 696f 6e73  hreepid sessions
+0000ba00: 2e20 285b 5c23 3630 3131 5d28 6874 7470  . ([\#6011](http
+0000ba10: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+0000ba20: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+0000ba30: 652f 6973 7375 6573 2f36 3031 3129 290a  e/issues/6011)).
+0000ba40: 2020 2d20 416c 6c6f 7720 686f 6d65 7365    - Allow homese
+0000ba50: 7276 6572 2074 6f20 6861 6e64 6c65 206f  rver to handle o
+0000ba60: 7220 6465 6c65 6761 7465 2065 6d61 696c  r delegate email
+0000ba70: 2076 616c 6964 6174 696f 6e20 7768 656e   validation when
+0000ba80: 2061 6464 696e 6720 616e 2065 6d61 696c   adding an email
+0000ba90: 2074 6f20 6120 7573 6572 2773 2061 6363   to a user's acc
+0000baa0: 6f75 6e74 2e20 285b 5c23 3630 3432 5d28  ount. ([\#6042](
+0000bab0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0000bac0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+0000bad0: 6e61 7073 652f 6973 7375 6573 2f36 3034  napse/issues/604
+0000bae0: 3229 290a 2020 2d20 496d 706c 656d 656e  2)).  - Implemen
+0000baf0: 7420 6e65 7720 436c 6965 6e74 2053 6572  t new Client Ser
+0000bb00: 7665 7220 4150 4920 656e 6470 6f69 6e74  ver API endpoint
+0000bb10: 7320 602f 6163 636f 756e 742f 3370 6964  s `/account/3pid
+0000bb20: 2f61 6464 6020 616e 6420 602f 6163 636f  /add` and `/acco
+0000bb30: 756e 742f 3370 6964 2f62 696e 6460 2061  unt/3pid/bind` a
+0000bb40: 7320 7065 7220 5b4d 5343 3232 3930 5d28  s per [MSC2290](
+0000bb50: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0000bb60: 6f6d 2f6d 6174 7269 782d 6f72 672f 6d61  om/matrix-org/ma
+0000bb70: 7472 6978 2d64 6f63 2f70 756c 6c2f 3232  trix-doc/pull/22
+0000bb80: 3930 292e 2028 5b5c 2336 3034 335d 2868  90). ([\#6043](h
+0000bb90: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0000bba0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+0000bbb0: 6170 7365 2f69 7373 7565 732f 3630 3433  apse/issues/6043
+0000bbc0: 2929 0a20 202d 2041 6464 2061 6e20 756e  )).  - Add an un
+0000bbd0: 7374 6162 6c65 2066 6561 7475 7265 2066  stable feature f
+0000bbe0: 6c61 6720 666f 7220 7365 7061 7261 7465  lag for separate
+0000bbf0: 2061 6464 2f62 696e 6420 3370 6964 2041   add/bind 3pid A
+0000bc00: 5049 732e 2028 5b5c 2336 3034 345d 2868  PIs. ([\#6044](h
+0000bc10: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0000bc20: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+0000bc30: 6170 7365 2f69 7373 7565 732f 3630 3434  apse/issues/6044
+0000bc40: 2929 0a20 202d 2052 656d 6f76 6520 6062  )).  - Remove `b
+0000bc50: 696e 6460 2070 6172 616d 6574 6572 2066  ind` parameter f
+0000bc60: 726f 6d20 436c 6965 6e74 2053 6572 7665  rom Client Serve
+0000bc70: 7220 504f 5354 2060 2f61 6363 6f75 6e74  r POST `/account
+0000bc80: 6020 656e 6470 6f69 6e74 2061 7320 7065  ` endpoint as pe
+0000bc90: 7220 5b4d 5343 3232 3930 5d28 6874 7470  r [MSC2290](http
+0000bca0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+0000bcb0: 6174 7269 782d 6f72 672f 6d61 7472 6978  atrix-org/matrix
+0000bcc0: 2d64 6f63 2f70 756c 6c2f 3232 3930 2f29  -doc/pull/2290/)
+0000bcd0: 2e20 285b 5c23 3630 3637 5d28 6874 7470  . ([\#6067](http
+0000bce0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+0000bcf0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+0000bd00: 652f 6973 7375 6573 2f36 3036 3729 290a  e/issues/6067)).
+0000bd10: 2020 2d20 4164 6420 6050 4f53 5420 2f61    - Add `POST /a
+0000bd20: 6464 5f74 6872 6565 7069 642f 6d73 6973  dd_threepid/msis
+0000bd30: 646e 2f73 7562 6d69 745f 746f 6b65 6e60  dn/submit_token`
+0000bd40: 2065 6e64 706f 696e 7420 666f 7220 7072   endpoint for pr
+0000bd50: 6f78 7969 6e67 2073 7562 6d69 7454 6f6b  oxying submitTok
+0000bd60: 656e 206f 6e20 616e 2060 6163 636f 756e  en on an `accoun
+0000bd70: 745f 7468 7265 6570 6964 5f68 616e 646c  t_threepid_handl
+0000bd80: 6572 602e 2028 5b5c 2336 3037 385d 2868  er`. ([\#6078](h
+0000bd90: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0000bda0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+0000bdb0: 6170 7365 2f69 7373 7565 732f 3630 3738  apse/issues/6078
+0000bdc0: 2929 0a20 202d 2041 6464 2060 7375 626d  )).  - Add `subm
+0000bdd0: 6974 5f75 726c 6020 7265 7370 6f6e 7365  it_url` response
+0000bde0: 2070 6172 616d 6574 6572 2074 6f20 602a   parameter to `*
+0000bdf0: 2f6d 7369 7364 6e2f 7265 7175 6573 7454  /msisdn/requestT
+0000be00: 6f6b 656e 6020 656e 6470 6f69 6e74 732e  oken` endpoints.
+0000be10: 2028 5b5c 2336 3037 395d 2868 7474 7073   ([\#6079](https
+0000be20: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+0000be30: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+0000be40: 2f69 7373 7565 732f 3630 3739 2929 0a20  /issues/6079)). 
+0000be50: 202d 2041 6464 2060 6d2e 7265 7175 6972   - Add `m.requir
+0000be60: 655f 6964 656e 7469 7479 5f73 6572 7665  e_identity_serve
+0000be70: 7260 2066 6c61 6720 746f 202f 7665 7273  r` flag to /vers
+0000be80: 696f 6e27 7320 756e 7374 6162 6c65 5f66  ion's unstable_f
+0000be90: 6561 7475 7265 732e 2028 5b5c 2335 3937  eatures. ([\#597
+0000bea0: 325d 2868 7474 7073 3a2f 2f67 6974 6875  2](https://githu
+0000beb0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+0000bec0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+0000bed0: 3539 3732 2929 0a2d 2045 6e68 616e 6365  5972)).- Enhance
+0000bee0: 6d65 6e74 7320 746f 204f 7065 6e54 7261  ments to OpenTra
+0000bef0: 6369 6e67 2073 7570 706f 7274 3a0a 2020  cing support:.  
+0000bf00: 2d20 4d61 6b65 204f 7065 6e54 7261 6369  - Make OpenTraci
+0000bf10: 6e67 2077 6f72 6b20 696e 2077 6f72 6b65  ng work in worke
+0000bf20: 7220 6d6f 6465 2e20 285b 5c23 3537 3731  r mode. ([\#5771
+0000bf30: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0000bf40: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+0000bf50: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
+0000bf60: 3737 3129 290a 2020 2d20 5061 7373 204f  771)).  - Pass O
+0000bf70: 7065 6e54 7261 6369 6e67 2063 6f6e 7465  penTracing conte
+0000bf80: 7874 7320 6265 7477 6565 6e20 7365 7276  xts between serv
+0000bf90: 6572 7320 7768 656e 2074 7261 6e73 6d69  ers when transmi
+0000bfa0: 7474 696e 6720 4544 5573 2e20 285b 5c23  tting EDUs. ([\#
+0000bfb0: 3538 3532 5d28 6874 7470 733a 2f2f 6769  5852](https://gi
+0000bfc0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+0000bfd0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+0000bfe0: 6573 2f35 3835 3229 290a 2020 2d20 4f70  es/5852)).  - Op
+0000bff0: 656e 5472 6163 696e 6720 666f 7220 6465  enTracing for de
+0000c000: 7669 6365 206c 6973 7420 7570 6461 7465  vice list update
+0000c010: 732e 2028 5b5c 2335 3835 335d 2868 7474  s. ([\#5853](htt
+0000c020: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0000c030: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+0000c040: 7365 2f69 7373 7565 732f 3538 3533 2929  se/issues/5853))
+0000c050: 0a20 202d 2041 6464 2061 2074 6167 2072  .  - Add a tag r
+0000c060: 6563 6f72 6469 6e67 2061 2072 6571 7565  ecording a reque
+0000c070: 7374 2773 2061 7574 6865 6e74 6963 6174  st's authenticat
+0000c080: 6564 2065 6e74 6974 7920 616e 6420 636f  ed entity and co
+0000c090: 7272 6573 706f 6e64 696e 6720 7365 7276  rresponding serv
+0000c0a0: 6c65 7420 696e 204f 7065 6e54 7261 6369  let in OpenTraci
+0000c0b0: 6e67 2e20 285b 5c23 3538 3536 5d28 6874  ng. ([\#5856](ht
+0000c0c0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+0000c0d0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+0000c0e0: 7073 652f 6973 7375 6573 2f35 3835 3629  pse/issues/5856)
+0000c0f0: 290a 2020 2d20 4164 6420 6d69 6e69 6d75  ).  - Add minimu
+0000c100: 6d20 4f70 656e 5472 6163 696e 6720 666f  m OpenTracing fo
+0000c110: 7220 636c 6965 6e74 2073 6572 766c 6574  r client servlet
+0000c120: 732e 2028 5b5c 2335 3938 335d 2868 7474  s. ([\#5983](htt
+0000c130: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0000c140: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+0000c150: 7365 2f69 7373 7565 732f 3539 3833 2929  se/issues/5983))
+0000c160: 0a20 202d 2043 6865 636b 2061 7420 7365  .  - Check at se
+0000c170: 7475 7020 7468 6174 204f 7065 6e54 7261  tup that OpenTra
+0000c180: 6369 6e67 2069 7320 696e 7374 616c 6c65  cing is installe
+0000c190: 6420 6966 2069 7427 7320 656e 6162 6c65  d if it's enable
+0000c1a0: 6420 696e 2074 6865 2063 6f6e 6669 672e  d in the config.
+0000c1b0: 2028 5b5c 2335 3938 355d 2868 7474 7073   ([\#5985](https
+0000c1c0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+0000c1d0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+0000c1e0: 2f69 7373 7565 732f 3539 3835 2929 0a20  /issues/5985)). 
+0000c1f0: 202d 2054 7261 6365 2072 6570 6c69 6361   - Trace replica
+0000c200: 7469 6f6e 2073 656e 6420 7469 6d65 732e  tion send times.
+0000c210: 2028 5b5c 2335 3938 365d 2868 7474 7073   ([\#5986](https
+0000c220: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+0000c230: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+0000c240: 2f69 7373 7565 732f 3539 3836 2929 0a20  /issues/5986)). 
+0000c250: 202d 2049 6e63 6c75 6465 206d 6973 7369   - Include missi
+0000c260: 6e67 204f 7065 6e54 7261 6369 6e67 2063  ng OpenTracing c
+0000c270: 6f6e 7465 7874 7320 696e 206f 7574 626f  ontexts in outbo
+0000c280: 7574 2072 6570 6c69 6361 7469 6f6e 2072  ut replication r
+0000c290: 6571 7565 7374 732e 2028 5b5c 2335 3938  equests. ([\#598
+0000c2a0: 325d 2868 7474 7073 3a2f 2f67 6974 6875  2](https://githu
+0000c2b0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+0000c2c0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+0000c2d0: 3539 3832 2929 0a20 202d 2046 6978 2073  5982)).  - Fix s
+0000c2e0: 656e 6469 6e67 206f 6620 4544 5573 2077  ending of EDUs w
+0000c2f0: 6865 6e20 4f70 656e 5472 6163 696e 6720  hen OpenTracing 
+0000c300: 6973 2065 6e61 626c 6564 2077 6974 6820  is enabled with 
+0000c310: 616e 2065 6d70 7479 2077 6869 7465 6c69  an empty whiteli
+0000c320: 7374 2e20 285b 5c23 3539 3834 5d28 6874  st. ([\#5984](ht
+0000c330: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+0000c340: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+0000c350: 7073 652f 6973 7375 6573 2f35 3938 3429  pse/issues/5984)
+0000c360: 290a 2020 2d20 4669 7820 696e 7661 6c69  ).  - Fix invali
+0000c370: 6420 7265 6665 7265 6e63 6573 2074 6f20  d references to 
+0000c380: 4e6f 6e65 2077 6869 6c65 204f 7065 6e54  None while OpenT
+0000c390: 7261 6369 6e67 2069 6620 7468 6520 6c6f  racing if the lo
+0000c3a0: 6720 636f 6e74 6578 7420 736c 6970 732e  g context slips.
+0000c3b0: 2028 5b5c 2335 3938 385d 2868 7474 7073   ([\#5988](https
+0000c3c0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+0000c3d0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+0000c3e0: 2f69 7373 7565 732f 3539 3838 292c 205b  /issues/5988), [
+0000c3f0: 5c23 3539 3931 5d28 6874 7470 733a 2f2f  \#5991](https://
+0000c400: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+0000c410: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+0000c420: 7375 6573 2f35 3939 3129 290a 2020 2d20  sues/5991)).  - 
+0000c430: 4f70 656e 5472 6163 696e 6720 666f 7220  OpenTracing for 
+0000c440: 726f 6f6d 2061 6e64 2065 3265 206b 6579  room and e2e key
+0000c450: 732e 2028 5b5c 2335 3835 355d 2868 7474  s. ([\#5855](htt
+0000c460: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0000c470: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+0000c480: 7365 2f69 7373 7565 732f 3538 3535 2929  se/issues/5855))
+0000c490: 0a20 202d 2041 6464 204f 7065 6e54 7261  .  - Add OpenTra
+0000c4a0: 6369 6e67 2073 7061 6e20 6f76 6572 2048  cing span over H
+0000c4b0: 5454 5020 7075 7368 2070 726f 6365 7373  TTP push process
+0000c4c0: 696e 672e 2028 5b5c 2336 3030 335d 2868  ing. ([\#6003](h
+0000c4d0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0000c4e0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+0000c4f0: 6170 7365 2f69 7373 7565 732f 3630 3033  apse/issues/6003
+0000c500: 2929 0a2d 2041 6464 2061 6e20 6164 6d69  )).- Add an admi
+0000c510: 6e20 4150 4920 746f 2070 7572 6765 206f  n API to purge o
+0000c520: 6c64 2072 6f6f 6d73 2066 726f 6d20 7468  ld rooms from th
+0000c530: 6520 6461 7461 6261 7365 2e20 285b 5c23  e database. ([\#
+0000c540: 3538 3435 5d28 6874 7470 733a 2f2f 6769  5845](https://gi
+0000c550: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+0000c560: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+0000c570: 6573 2f35 3834 3529 290a 2d20 5265 7472  es/5845)).- Retr
+0000c580: 7920 7765 6c6c 2d6b 6e6f 776e 206c 6f6f  y well-known loo
+0000c590: 6b75 7073 2069 6620 7765 2068 6176 6520  kups if we have 
+0000c5a0: 7265 6365 6e74 6c79 2073 6565 6e20 6120  recently seen a 
+0000c5b0: 7661 6c69 6420 7765 6c6c 2d6b 6e6f 776e  valid well-known
+0000c5c0: 2072 6563 6f72 6420 666f 7220 7468 6520   record for the 
+0000c5d0: 7365 7276 6572 2e20 285b 5c23 3538 3530  server. ([\#5850
+0000c5e0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0000c5f0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+0000c600: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
+0000c610: 3835 3029 290a 2d20 4164 6420 7375 7070  850)).- Add supp
+0000c620: 6f72 7420 666f 7220 6669 6c74 6572 6564  ort for filtered
+0000c630: 2072 6f6f 6d2d 6469 7265 6374 6f72 7920   room-directory 
+0000c640: 7365 6172 6368 2072 6571 7565 7374 7320  search requests 
+0000c650: 6f76 6572 2066 6564 6572 6174 696f 6e20  over federation 
+0000c660: 285b 4d53 4332 3139 375d 2868 7474 7073  ([MSC2197](https
+0000c670: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+0000c680: 7472 6978 2d6f 7267 2f6d 6174 7269 782d  trix-org/matrix-
+0000c690: 646f 632f 7075 6c6c 2f32 3139 3729 2c20  doc/pull/2197), 
+0000c6a0: 696e 206f 7264 6572 2074 6f20 616c 6c6f  in order to allo
+0000c6b0: 7720 7570 636f 6d69 6e67 2072 6f6f 6d20  w upcoming room 
+0000c6c0: 6469 7265 6374 6f72 7920 7175 6572 7920  directory query 
+0000c6d0: 7065 7266 6f72 6d61 6e63 6520 696d 7072  performance impr
+0000c6e0: 6f76 656d 656e 7473 2e20 285b 5c23 3538  ovements. ([\#58
+0000c6f0: 3539 5d28 6874 7470 733a 2f2f 6769 7468  59](https://gith
+0000c700: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+0000c710: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+0000c720: 2f35 3835 3929 290a 2d20 436f 7272 6563  /5859)).- Correc
+0000c730: 746c 7920 7265 7472 7920 616c 6c20 686f  tly retry all ho
+0000c740: 7374 7320 7265 7475 726e 6564 2066 726f  sts returned fro
+0000c750: 6d20 5352 5620 7768 656e 2077 6520 6661  m SRV when we fa
+0000c760: 696c 2074 6f20 636f 6e6e 6563 742e 2028  il to connect. (
+0000c770: 5b5c 2335 3836 345d 2868 7474 7073 3a2f  [\#5864](https:/
+0000c780: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+0000c790: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+0000c7a0: 7373 7565 732f 3538 3634 2929 0a2d 2041  ssues/5864)).- A
+0000c7b0: 6464 2061 646d 696e 2041 5049 2065 6e64  dd admin API end
+0000c7c0: 706f 696e 7420 666f 7220 7365 7474 696e  point for settin
+0000c7d0: 6720 7768 6574 6865 7220 6f72 206e 6f74  g whether or not
+0000c7e0: 2061 2075 7365 7220 6973 2061 2073 6572   a user is a ser
+0000c7f0: 7665 7220 6164 6d69 6e69 7374 7261 746f  ver administrato
+0000c800: 722e 2028 5b5c 2335 3837 385d 2868 7474  r. ([\#5878](htt
+0000c810: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0000c820: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+0000c830: 7365 2f69 7373 7565 732f 3538 3738 2929  se/issues/5878))
+0000c840: 0a2d 2045 6e61 626c 6520 636c 6561 6e69  .- Enable cleani
+0000c850: 6e67 2075 7020 6578 7472 656d 6974 6965  ng up extremitie
+0000c860: 7320 7769 7468 2064 756d 6d79 2065 7665  s with dummy eve
+0000c870: 6e74 7320 6279 2064 6566 6175 6c74 2074  nts by default t
+0000c880: 6f20 7072 6576 656e 7420 756e 6475 6520  o prevent undue 
+0000c890: 6275 696c 6420 7570 206f 6620 666f 7277  build up of forw
+0000c8a0: 6172 6420 6578 7472 656d 6974 6965 732e  ard extremities.
+0000c8b0: 2028 5b5c 2335 3838 345d 2868 7474 7073   ([\#5884](https
+0000c8c0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+0000c8d0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+0000c8e0: 2f69 7373 7565 732f 3538 3834 2929 0a2d  /issues/5884)).-
+0000c8f0: 2041 6464 2063 6f6e 6669 6720 6f70 7469   Add config opti
+0000c900: 6f6e 2074 6f20 7369 676e 2072 656d 6f74  on to sign remot
+0000c910: 6520 6b65 7920 7175 6572 7920 7265 7370  e key query resp
+0000c920: 6f6e 7365 7320 7769 7468 2061 2073 6570  onses with a sep
+0000c930: 6172 6174 6520 6b65 792e 2028 5b5c 2335  arate key. ([\#5
+0000c940: 3839 355d 2868 7474 7073 3a2f 2f67 6974  895](https://git
+0000c950: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+0000c960: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+0000c970: 732f 3538 3935 2929 0a2d 2041 6464 2073  s/5895)).- Add s
+0000c980: 7570 706f 7274 2066 6f72 2063 6f6e 6669  upport for confi
+0000c990: 6720 7465 6d70 6c61 7469 6e67 2e20 285b  g templating. ([
+0000c9a0: 5c23 3539 3030 5d28 6874 7470 733a 2f2f  \#5900](https://
+0000c9b0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+0000c9c0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+0000c9d0: 7375 6573 2f35 3930 3029 290a 2d20 5573  sues/5900)).- Us
+0000c9e0: 6572 7320 7769 7468 2074 6865 2074 7970  ers with the typ
+0000c9f0: 6520 6f66 2022 7375 7070 6f72 7422 206f  e of "support" o
+0000ca00: 7220 2262 6f74 2220 6172 6520 6e6f 206c  r "bot" are no l
+0000ca10: 6f6e 6765 7220 7265 7175 6972 6564 2074  onger required t
+0000ca20: 6f20 636f 6e73 656e 742e 2028 5b5c 2335  o consent. ([\#5
+0000ca30: 3930 325d 2868 7474 7073 3a2f 2f67 6974  902](https://git
+0000ca40: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+0000ca50: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+0000ca60: 732f 3539 3032 2929 0a2d 204c 6574 2073  s/5902)).- Let s
+0000ca70: 796e 6374 6c20 6163 6365 7074 2061 2064  ynctl accept a d
+0000ca80: 6972 6563 746f 7279 206f 6620 636f 6e66  irectory of conf
+0000ca90: 6967 2066 696c 6573 2e20 285b 5c23 3539  ig files. ([\#59
+0000caa0: 3034 5d28 6874 7470 733a 2f2f 6769 7468  04](https://gith
+0000cab0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+0000cac0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+0000cad0: 2f35 3930 3429 290a 2d20 496e 6372 6561  /5904)).- Increa
+0000cae0: 7365 206d 6178 2064 6973 706c 6179 206e  se max display n
+0000caf0: 616d 6520 7369 7a65 2074 6f20 3235 362e  ame size to 256.
+0000cb00: 2028 5b5c 2335 3930 365d 2868 7474 7073   ([\#5906](https
+0000cb10: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+0000cb20: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+0000cb30: 2f69 7373 7565 732f 3539 3036 2929 0a2d  /issues/5906)).-
+0000cb40: 2041 6464 2061 646d 696e 2041 5049 2065   Add admin API e
+0000cb50: 6e64 706f 696e 7420 666f 7220 6765 7474  ndpoint for gett
+0000cb60: 696e 6720 7768 6574 6865 7220 6f72 206e  ing whether or n
+0000cb70: 6f74 2061 2075 7365 7220 6973 2061 2073  ot a user is a s
+0000cb80: 6572 7665 7220 6164 6d69 6e69 7374 7261  erver administra
+0000cb90: 746f 722e 2028 5b5c 2335 3931 345d 2868  tor. ([\#5914](h
+0000cba0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0000cbb0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+0000cbc0: 6170 7365 2f69 7373 7565 732f 3539 3134  apse/issues/5914
+0000cbd0: 2929 0a2d 2052 6564 6163 7420 6576 656e  )).- Redact even
+0000cbe0: 7473 2069 6e20 7468 6520 6461 7461 6261  ts in the databa
+0000cbf0: 7365 2074 6861 7420 6861 7665 2062 6565  se that have bee
+0000cc00: 6e20 7265 6461 6374 6564 2066 6f72 2061  n redacted for a
+0000cc10: 2077 6565 6b2e 2028 5b5c 2335 3933 345d   week. ([\#5934]
+0000cc20: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+0000cc30: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+0000cc40: 796e 6170 7365 2f69 7373 7565 732f 3539  ynapse/issues/59
+0000cc50: 3334 2929 0a2d 204e 6577 2070 726f 6d65  34)).- New prome
+0000cc60: 7468 6575 7320 6d65 7472 6963 733a 0a20  theus metrics:. 
+0000cc70: 202d 2060 7379 6e61 7073 655f 6665 6465   - `synapse_fede
+0000cc80: 7261 7469 6f6e 5f6b 6e6f 776e 5f73 6572  ration_known_ser
+0000cc90: 7665 7273 603a 2072 6570 7265 7365 6e74  vers`: represent
+0000cca0: 7320 7468 6520 746f 7461 6c20 6e75 6d62  s the total numb
+0000ccb0: 6572 206f 6620 7365 7276 6572 7320 796f  er of servers yo
+0000ccc0: 7572 2073 6572 7665 7220 6b6e 6f77 7320  ur server knows 
+0000ccd0: 6162 6f75 7420 2869 2e65 2e20 6973 2069  about (i.e. is i
+0000cce0: 6e20 726f 6f6d 7320 7769 7468 292c 2069  n rooms with), i
+0000ccf0: 6e63 6c75 6469 6e67 2069 7473 656c 662e  ncluding itself.
+0000cd00: 2045 6e61 626c 6520 6279 2073 6574 7469   Enable by setti
+0000cd10: 6e67 2060 6d65 7472 6963 735f 666c 6167  ng `metrics_flag
+0000cd20: 732e 6b6e 6f77 6e5f 7365 7276 6572 7360  s.known_servers`
+0000cd30: 2074 6f20 5472 7565 2069 6e20 7468 6520   to True in the 
+0000cd40: 636f 6e66 6967 7572 6174 696f 6e2e 285b  configuration.([
+0000cd50: 5c23 3539 3831 5d28 6874 7470 733a 2f2f  \#5981](https://
+0000cd60: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+0000cd70: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+0000cd80: 7375 6573 2f35 3938 3129 290a 2020 2d20  sues/5981)).  - 
+0000cd90: 6073 796e 6170 7365 5f62 7569 6c64 5f69  `synapse_build_i
+0000cda0: 6e66 6f60 3a20 6578 706f 7365 7320 7468  nfo`: exposes th
+0000cdb0: 6520 5079 7468 6f6e 2076 6572 7369 6f6e  e Python version
+0000cdc0: 2c20 4f53 2076 6572 7369 6f6e 2c20 616e  , OS version, an
+0000cdd0: 6420 5379 6e61 7073 6520 7665 7273 696f  d Synapse versio
+0000cde0: 6e20 6f66 2074 6865 2072 756e 6e69 6e67  n of the running
+0000cdf0: 2073 6572 7665 722e 2028 5b5c 2336 3030   server. ([\#600
+0000ce00: 355d 2868 7474 7073 3a2f 2f67 6974 6875  5](https://githu
+0000ce10: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+0000ce20: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+0000ce30: 3630 3035 2929 0a2d 2047 6976 6520 6170  6005)).- Give ap
+0000ce40: 7072 6f70 7269 6174 6520 6578 6974 2063  propriate exit c
+0000ce50: 6f64 6573 2077 6865 6e20 7379 6e63 746c  odes when synctl
+0000ce60: 2066 6169 6c73 2e20 285b 5c23 3539 3932   fails. ([\#5992
+0000ce70: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0000ce80: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+0000ce90: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
+0000cea0: 3939 3229 290a 2d20 4170 706c 7920 7468  992)).- Apply th
+0000ceb0: 6520 6665 6465 7261 7469 6f6e 2062 6c61  e federation bla
+0000cec0: 636b 6c69 7374 2074 6f20 7265 7175 6573  cklist to reques
+0000ced0: 7473 2074 6f20 6964 656e 7469 7479 2073  ts to identity s
+0000cee0: 6572 7665 7273 2e20 285b 5c23 3630 3030  ervers. ([\#6000
+0000cef0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0000cf00: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+0000cf10: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
+0000cf20: 3030 3029 290a 2d20 4164 6420 6072 6570  000)).- Add `rep
+0000cf30: 6f72 745f 7374 6174 735f 656e 6470 6f69  ort_stats_endpoi
+0000cf40: 6e74 6020 6f70 7469 6f6e 2074 6f20 636f  nt` option to co
+0000cf50: 6e66 6967 7572 6520 7768 6572 6520 7374  nfigure where st
+0000cf60: 6174 7320 6172 6520 7265 706f 7274 6564  ats are reported
+0000cf70: 2074 6f2c 2069 6620 656e 6162 6c65 642e   to, if enabled.
+0000cf80: 2043 6f6e 7472 6962 7574 6564 2062 7920   Contributed by 
+0000cf90: 4053 6f72 756e 6f6d 652e 2028 5b5c 2336  @Sorunome. ([\#6
+0000cfa0: 3031 325d 2868 7474 7073 3a2f 2f67 6974  012](https://git
+0000cfb0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+0000cfc0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+0000cfd0: 732f 3630 3132 2929 0a2d 2041 6464 2063  s/6012)).- Add c
+0000cfe0: 6f6e 6669 6720 6f70 7469 6f6e 2074 6f20  onfig option to 
+0000cff0: 696e 6372 6561 7365 2072 6174 656c 696d  increase ratelim
+0000d000: 6974 7320 666f 7220 726f 6f6d 2061 646d  its for room adm
+0000d010: 696e 7320 7265 6461 6374 696e 6720 6d65  ins redacting me
+0000d020: 7373 6167 6573 2e20 285b 5c23 3630 3135  ssages. ([\#6015
+0000d030: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0000d040: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+0000d050: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
+0000d060: 3031 3529 290a 2d20 5374 6f70 2073 656e  015)).- Stop sen
+0000d070: 6469 6e67 2066 6564 6572 6174 696f 6e20  ding federation 
+0000d080: 7472 616e 7361 6374 696f 6e73 2074 6f20  transactions to 
+0000d090: 7365 7276 6572 7320 7768 6963 6820 6861  servers which ha
+0000d0a0: 7665 2062 6565 6e20 646f 776e 2066 6f72  ve been down for
+0000d0b0: 2061 206c 6f6e 6720 7469 6d65 2e20 285b   a long time. ([
+0000d0c0: 5c23 3630 3236 5d28 6874 7470 733a 2f2f  \#6026](https://
+0000d0d0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+0000d0e0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+0000d0f0: 7375 6573 2f36 3032 3629 290a 2d20 4d61  sues/6026)).- Ma
+0000d100: 6b65 2074 6865 2070 726f 6365 7373 2066  ke the process f
+0000d110: 6f72 206d 6170 7069 6e67 2053 414d 4c32  or mapping SAML2
+0000d120: 2075 7365 7273 2074 6f20 6d61 7472 6978   users to matrix
+0000d130: 2049 4473 206d 6f72 6520 666c 6578 6962   IDs more flexib
+0000d140: 6c65 2e20 285b 5c23 3630 3337 5d28 6874  le. ([\#6037](ht
+0000d150: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+0000d160: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+0000d170: 7073 652f 6973 7375 6573 2f36 3033 3729  pse/issues/6037)
+0000d180: 290a 2d20 5265 7475 726e 2061 2063 6c65  ).- Return a cle
+0000d190: 6172 6572 2065 7272 6f72 206d 6573 7361  arer error messa
+0000d1a0: 6765 2077 6865 6e20 6120 7469 6d65 6f75  ge when a timeou
+0000d1b0: 7420 6f63 6375 7273 2077 6865 6e20 6174  t occurs when at
+0000d1c0: 7465 6d70 7469 6e67 2074 6f20 636f 6e74  tempting to cont
+0000d1d0: 6163 7420 616e 2069 6465 6e74 6974 7920  act an identity 
+0000d1e0: 7365 7276 6572 2e20 285b 5c23 3630 3733  server. ([\#6073
+0000d1f0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0000d200: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+0000d210: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
+0000d220: 3037 3329 290a 2d20 5072 6576 656e 7420  073)).- Prevent 
+0000d230: 7061 7373 776f 7264 2072 6573 6574 2773  password reset's
+0000d240: 2073 7562 6d69 745f 746f 6b65 6e20 656e   submit_token en
+0000d250: 6470 6f69 6e74 2066 726f 6d20 6163 6365  dpoint from acce
+0000d260: 7074 696e 6720 7472 6169 6c69 6e67 2073  pting trailing s
+0000d270: 6c61 7368 6573 2e20 285b 5c23 3630 3734  lashes. ([\#6074
+0000d280: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0000d290: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+0000d2a0: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
+0000d2b0: 3037 3429 290a 2d20 5265 7475 726e 2034  074)).- Return 4
+0000d2c0: 3033 206f 6e20 602f 7265 6769 7374 6572  03 on `/register
+0000d2d0: 2f61 7661 696c 6162 6c65 6020 6966 2072  /available` if r
+0000d2e0: 6567 6973 7472 6174 696f 6e20 6861 7320  egistration has 
+0000d2f0: 6265 656e 2064 6973 6162 6c65 642e 2028  been disabled. (
+0000d300: 5b5c 2336 3038 325d 2868 7474 7073 3a2f  [\#6082](https:/
+0000d310: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+0000d320: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+0000d330: 7373 7565 732f 3630 3832 2929 0a2d 2045  ssues/6082)).- E
+0000d340: 7870 6c69 6369 746c 7920 6c6f 6720 7768  xplicitly log wh
+0000d350: 656e 2061 2068 6f6d 6573 6572 7665 7220  en a homeserver 
+0000d360: 646f 6573 206e 6f74 2068 6176 6520 7468  does not have th
+0000d370: 6520 6074 7275 7374 6564 5f6b 6579 5f73  e `trusted_key_s
+0000d380: 6572 7665 7273 6020 636f 6e66 6967 2066  ervers` config f
+0000d390: 6965 6c64 2063 6f6e 6669 6775 7265 642e  ield configured.
+0000d3a0: 2028 5b5c 2336 3039 305d 2868 7474 7073   ([\#6090](https
+0000d3b0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+0000d3c0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+0000d3d0: 2f69 7373 7565 732f 3630 3930 2929 0a2d  /issues/6090)).-
+0000d3e0: 2041 6464 2073 7570 706f 7274 2066 6f72   Add support for
+0000d3f0: 2070 7275 6e69 6e67 206f 6c64 2072 6f77   pruning old row
+0000d400: 7320 696e 2060 7573 6572 5f69 7073 6020  s in `user_ips` 
+0000d410: 7461 626c 652e 2028 5b5c 2336 3039 385d  table. ([\#6098]
+0000d420: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+0000d430: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+0000d440: 796e 6170 7365 2f69 7373 7565 732f 3630  ynapse/issues/60
+0000d450: 3938 2929 0a0a 4275 6766 6978 6573 0a2d  98))..Bugfixes.-
+0000d460: 2d2d 2d2d 2d2d 2d0a 0a2d 2044 6f6e 2774  -------..- Don't
+0000d470: 2063 7265 6174 6520 6272 6f6b 656e 2072   create broken r
+0000d480: 6f6f 6d20 7768 656e 2060 706f 7765 725f  oom when `power_
+0000d490: 6c65 7665 6c5f 636f 6e74 656e 745f 6f76  level_content_ov
+0000d4a0: 6572 7269 6465 2e75 7365 7273 6020 646f  erride.users` do
+0000d4b0: 6573 206e 6f74 2063 6f6e 7461 696e 2060  es not contain `
+0000d4c0: 6372 6561 746f 725f 6964 602e 2028 5b5c  creator_id`. ([\
+0000d4d0: 2335 3633 335d 2868 7474 7073 3a2f 2f67  #5633](https://g
+0000d4e0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+0000d4f0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+0000d500: 7565 732f 3536 3333 2929 0a2d 2046 6978  ues/5633)).- Fix
+0000d510: 2064 6174 6162 6173 6520 696e 6465 7820   database index 
+0000d520: 736f 2074 6861 7420 6469 6666 6572 656e  so that differen
+0000d530: 7420 6261 636b 7570 2076 6572 7369 6f6e  t backup version
+0000d540: 7320 6361 6e20 6861 7665 2074 6865 2073  s can have the s
+0000d550: 616d 6520 7365 7373 696f 6e73 2e20 285b  ame sessions. ([
+0000d560: 5c23 3538 3537 5d28 6874 7470 733a 2f2f  \#5857](https://
+0000d570: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+0000d580: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+0000d590: 7375 6573 2f35 3835 3729 290a 2d20 4669  sues/5857)).- Fi
+0000d5a0: 7820 5379 6e61 7073 6520 6c6f 6f6b 696e  x Synapse lookin
+0000d5b0: 6720 666f 7220 636f 6e66 6967 206f 7074  g for config opt
+0000d5c0: 696f 6e73 2060 7061 7373 776f 7264 5f72  ions `password_r
+0000d5d0: 6573 6574 5f66 6169 6c75 7265 5f74 656d  eset_failure_tem
+0000d5e0: 706c 6174 6560 2061 6e64 2060 7061 7373  plate` and `pass
+0000d5f0: 776f 7264 5f72 6573 6574 5f73 7563 6365  word_reset_succe
+0000d600: 7373 5f74 656d 706c 6174 6560 2c20 7768  ss_template`, wh
+0000d610: 656e 2074 6865 7920 6172 6520 6163 7475  en they are actu
+0000d620: 616c 6c79 2060 7061 7373 776f 7264 5f72  ally `password_r
+0000d630: 6573 6574 5f74 656d 706c 6174 655f 6661  eset_template_fa
+0000d640: 696c 7572 655f 6874 6d6c 602c 2060 7061  ilure_html`, `pa
+0000d650: 7373 776f 7264 5f72 6573 6574 5f74 656d  ssword_reset_tem
+0000d660: 706c 6174 655f 7375 6363 6573 735f 6874  plate_success_ht
+0000d670: 6d6c 602e 2028 5b5c 2335 3836 335d 2868  ml`. ([\#5863](h
+0000d680: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0000d690: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+0000d6a0: 6170 7365 2f69 7373 7565 732f 3538 3633  apse/issues/5863
+0000d6b0: 2929 0a2d 2046 6978 2073 7461 636b 206f  )).- Fix stack o
+0000d6c0: 7665 7266 6c6f 7720 7768 656e 2072 6563  verflow when rec
+0000d6d0: 6f76 6572 696e 6720 616e 2061 7070 7365  overing an appse
+0000d6e0: 7276 6963 6520 7768 6963 6820 6861 6420  rvice which had 
+0000d6f0: 616e 206f 7574 6167 652e 2028 5b5c 2335  an outage. ([\#5
+0000d700: 3838 355d 2868 7474 7073 3a2f 2f67 6974  885](https://git
+0000d710: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+0000d720: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+0000d730: 732f 3538 3835 2929 0a2d 2046 6978 2065  s/5885)).- Fix e
+0000d740: 7272 6f72 206d 6573 7361 6765 2077 6869  rror message whi
+0000d750: 6368 2072 6566 6572 7265 6420 746f 2060  ch referred to `
+0000d760: 7075 626c 6963 5f62 6173 655f 7572 6c60  public_base_url`
+0000d770: 2069 6e73 7465 6164 206f 6620 6070 7562   instead of `pub
+0000d780: 6c69 635f 6261 7365 7572 6c60 2e20 5468  lic_baseurl`. Th
+0000d790: 616e 6b73 2074 6f20 4061 6172 6f6e 7261  anks to @aaronra
+0000d7a0: 696d 6973 7420 666f 7220 7468 6520 6669  imist for the fi
+0000d7b0: 7821 2028 5b5c 2335 3930 395d 2868 7474  x! ([\#5909](htt
+0000d7c0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0000d7d0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+0000d7e0: 7365 2f69 7373 7565 732f 3539 3039 2929  se/issues/5909))
+0000d7f0: 0a2d 2046 6978 2034 3034 2066 6f72 2074  .- Fix 404 for t
+0000d800: 6875 6d62 6e61 696c 2064 6f77 6e6c 6f61  humbnail downloa
+0000d810: 6420 7768 656e 2060 6479 6e61 6d69 635f  d when `dynamic_
+0000d820: 7468 756d 626e 6169 6c73 6020 6973 2060  thumbnails` is `
+0000d830: 6661 6c73 6560 2061 6e64 2074 6865 2074  false` and the t
+0000d840: 6875 6d62 6e61 696c 2077 6173 2064 796e  humbnail was dyn
+0000d850: 616d 6963 616c 6c79 2067 656e 6572 6174  amically generat
+0000d860: 6564 2e20 4669 7820 7265 706f 7274 6564  ed. Fix reported
+0000d870: 2062 7920 726b 6667 2e20 285b 5c23 3539   by rkfg. ([\#59
+0000d880: 3135 5d28 6874 7470 733a 2f2f 6769 7468  15](https://gith
+0000d890: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+0000d8a0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+0000d8b0: 2f35 3931 3529 290a 2d20 4669 7820 6120  /5915)).- Fix a 
+0000d8c0: 6361 6368 652d 696e 7661 6c69 6461 7469  cache-invalidati
+0000d8d0: 6f6e 2062 7567 2066 6f72 2077 6f72 6b65  on bug for worke
+0000d8e0: 722d 6261 7365 6420 6465 706c 6f79 6d65  r-based deployme
+0000d8f0: 6e74 732e 2028 5b5c 2335 3932 305d 2868  nts. ([\#5920](h
+0000d900: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0000d910: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+0000d920: 6170 7365 2f69 7373 7565 732f 3539 3230  apse/issues/5920
+0000d930: 2929 0a2d 2046 6978 2061 646d 696e 2041  )).- Fix admin A
+0000d940: 5049 2066 6f72 206c 6973 7469 6e67 206d  PI for listing m
+0000d950: 6564 6961 2069 6e20 6120 726f 6f6d 206e  edia in a room n
+0000d960: 6f74 2062 6569 6e67 2061 7661 696c 6162  ot being availab
+0000d970: 6c65 2077 6974 6820 616e 2065 7874 6572  le with an exter
+0000d980: 6e61 6c20 6d65 6469 6120 7265 706f 2e20  nal media repo. 
+0000d990: 285b 5c23 3539 3636 5d28 6874 7470 733a  ([\#5966](https:
+0000d9a0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+0000d9b0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+0000d9c0: 6973 7375 6573 2f35 3936 3629 290a 2d20  issues/5966)).- 
+0000d9d0: 4669 7820 6c69 7374 206d 6564 6961 2061  Fix list media a
+0000d9e0: 646d 696e 2041 5049 2061 6c77 6179 7320  dmin API always 
+0000d9f0: 7265 7475 726e 696e 6720 616e 2065 7272  returning an err
+0000da00: 6f72 2e20 285b 5c23 3539 3637 5d28 6874  or. ([\#5967](ht
+0000da10: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+0000da20: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+0000da30: 7073 652f 6973 7375 6573 2f35 3936 3729  pse/issues/5967)
+0000da40: 290a 2d20 4669 7820 726f 6f6d 2061 6e64  ).- Fix room and
+0000da50: 2075 7365 7220 7374 6174 7320 7472 6163   user stats trac
+0000da60: 6b69 6e67 2e20 285b 5c23 3539 3731 5d28  king. ([\#5971](
+0000da70: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0000da80: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+0000da90: 6e61 7073 652f 6973 7375 6573 2f35 3937  napse/issues/597
+0000daa0: 3129 2c20 5b5c 2335 3939 385d 2868 7474  1), [\#5998](htt
+0000dab0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0000dac0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+0000dad0: 7365 2f69 7373 7565 732f 3539 3938 292c  se/issues/5998),
+0000dae0: 205b 5c23 3630 3239 5d28 6874 7470 733a   [\#6029](https:
+0000daf0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+0000db00: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+0000db10: 6973 7375 6573 2f36 3032 3929 290a 2d20  issues/6029)).- 
+0000db20: 5265 7475 726e 2061 2060 4d5f 4d49 5353  Return a `M_MISS
+0000db30: 494e 475f 5041 5241 4d60 2069 6620 6073  ING_PARAM` if `s
+0000db40: 6964 6020 6973 206e 6f74 2070 726f 7669  id` is not provi
+0000db50: 6465 6420 746f 2060 2f61 6363 6f75 6e74  ded to `/account
+0000db60: 2f33 7069 6460 2e20 285b 5c23 3539 3935  /3pid`. ([\#5995
+0000db70: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0000db80: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+0000db90: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
+0000dba0: 3939 3529 290a 2d20 6066 6564 6572 6174  995)).- `federat
+0000dbb0: 696f 6e5f 6365 7274 6966 6963 6174 655f  ion_certificate_
+0000dbc0: 7665 7269 6669 6361 7469 6f6e 5f77 6869  verification_whi
+0000dbd0: 7465 6c69 7374 6020 6e6f 7720 7769 6c6c  telist` now will
+0000dbe0: 206e 6f74 2063 6175 7365 2060 5479 7065   not cause `Type
+0000dbf0: 4572 726f 7273 6020 746f 2062 6520 7261  Errors` to be ra
+0000dc00: 6973 6564 2028 6120 7265 6772 6573 7369  ised (a regressi
+0000dc10: 6f6e 2069 6e20 312e 3329 2e20 4164 6469  on in 1.3). Addi
+0000dc20: 7469 6f6e 616c 6c79 2c20 6974 206e 6f77  tionally, it now
+0000dc30: 2073 7570 706f 7274 7320 696e 7465 726e   supports intern
+0000dc40: 6174 696f 6e61 6c69 7365 6420 646f 6d61  ationalised doma
+0000dc50: 696e 206e 616d 6573 2069 6e20 7468 6569  in names in thei
+0000dc60: 7220 6e6f 6e2d 6361 6e6f 6e69 6361 6c20  r non-canonical 
+0000dc70: 7265 7072 6573 656e 7461 7469 6f6e 2e20  representation. 
+0000dc80: 285b 5c23 3539 3936 5d28 6874 7470 733a  ([\#5996](https:
+0000dc90: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+0000dca0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+0000dcb0: 6973 7375 6573 2f35 3939 3629 290a 2d20  issues/5996)).- 
+0000dcc0: 4f6e 6c79 2063 6f75 6e74 2072 6561 6c20  Only count real 
+0000dcd0: 7573 6572 7320 7768 656e 2063 6865 636b  users when check
+0000dce0: 696e 6720 666f 7220 6175 746f 2d63 7265  ing for auto-cre
+0000dcf0: 6174 696f 6e20 6f66 2061 7574 6f2d 6a6f  ation of auto-jo
+0000dd00: 696e 2072 6f6f 6d2e 2028 5b5c 2336 3030  in room. ([\#600
+0000dd10: 345d 2868 7474 7073 3a2f 2f67 6974 6875  4](https://githu
+0000dd20: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+0000dd30: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+0000dd40: 3630 3034 2929 0a2d 2045 6e73 7572 6520  6004)).- Ensure 
+0000dd50: 7375 7070 6f72 7420 7573 6572 7320 6361  support users ca
+0000dd60: 6e20 6265 2072 6567 6973 7465 7265 6420  n be registered 
+0000dd70: 6576 656e 2069 6620 4d41 5520 6c69 6d69  even if MAU limi
+0000dd80: 7420 6973 2072 6561 6368 6564 2e20 285b  t is reached. ([
+0000dd90: 5c23 3630 3230 5d28 6874 7470 733a 2f2f  \#6020](https://
+0000dda0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+0000ddb0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+0000ddc0: 7375 6573 2f36 3032 3029 290a 2d20 4669  sues/6020)).- Fi
+0000ddd0: 7820 6275 6720 7768 6572 6520 6c6f 6769  x bug where logi
+0000dde0: 6e20 6572 726f 7220 7761 7320 7368 6f77  n error was show
+0000ddf0: 6e20 696e 636f 7272 6563 746c 7920 6f6e  n incorrectly on
+0000de00: 2053 534f 2066 616c 6c62 6163 6b20 6c6f   SSO fallback lo
+0000de10: 6769 6e2e 2028 5b5c 2336 3032 345d 2868  gin. ([\#6024](h
+0000de20: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0000de30: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+0000de40: 6170 7365 2f69 7373 7565 732f 3630 3234  apse/issues/6024
+0000de50: 2929 0a2d 2046 6978 2062 7567 2069 6e20  )).- Fix bug in 
+0000de60: 6361 6c63 756c 6174 696e 6720 7468 6520  calculating the 
+0000de70: 6665 6465 7261 7469 6f6e 2072 6574 7279  federation retry
+0000de80: 2062 6163 6b6f 6666 2070 6572 696f 642e   backoff period.
+0000de90: 2028 5b5c 2336 3032 355d 2868 7474 7073   ([\#6025](https
+0000dea0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+0000deb0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+0000dec0: 2f69 7373 7565 732f 3630 3235 2929 0a2d  /issues/6025)).-
+0000ded0: 2050 7265 7665 6e74 2065 7863 6570 7469   Prevent excepti
+0000dee0: 6f6e 7320 6265 696e 6720 6c6f 6767 6564  ons being logged
+0000def0: 2077 6865 6e20 6578 7472 656d 6974 792d   when extremity-
+0000df00: 636c 6561 6e75 7020 6576 656e 7473 2066  cleanup events f
+0000df10: 6169 6c20 6475 6520 746f 206c 6163 6b20  ail due to lack 
+0000df20: 6f66 2075 7365 7220 636f 6e73 656e 7420  of user consent 
+0000df30: 746f 2074 6865 2074 6572 6d73 206f 6620  to the terms of 
+0000df40: 7365 7276 6963 652e 2028 5b5c 2336 3035  service. ([\#605
+0000df50: 335d 2868 7474 7073 3a2f 2f67 6974 6875  3](https://githu
+0000df60: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+0000df70: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+0000df80: 3630 3533 2929 0a2d 2052 656d 6f76 6520  6053)).- Remove 
+0000df90: 504f 5354 206d 6574 686f 6420 6672 6f6d  POST method from
+0000dfa0: 2070 6173 7377 6f72 642d 7265 7365 7420   password-reset 
+0000dfb0: 6073 7562 6d69 745f 746f 6b65 6e60 2065  `submit_token` e
+0000dfc0: 6e64 706f 696e 7420 756e 7469 6c20 7765  ndpoint until we
+0000dfd0: 2069 6d70 6c65 6d65 6e74 2060 7375 626d   implement `subm
+0000dfe0: 6974 5f75 726c 6020 6675 6e63 7469 6f6e  it_url` function
+0000dff0: 616c 6974 792e 2028 5b5c 2336 3035 365d  ality. ([\#6056]
+0000e000: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+0000e010: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+0000e020: 796e 6170 7365 2f69 7373 7565 732f 3630  ynapse/issues/60
+0000e030: 3536 2929 0a2d 2046 6978 206c 6f67 636f  56)).- Fix logco
+0000e040: 6e74 6578 7420 7370 616d 206f 6e20 6e6f  ntext spam on no
+0000e050: 6e2d 4c69 6e75 7820 706c 6174 666f 726d  n-Linux platform
+0000e060: 732e 2028 5b5c 2336 3035 395d 2868 7474  s. ([\#6059](htt
+0000e070: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0000e080: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+0000e090: 7365 2f69 7373 7565 732f 3630 3539 2929  se/issues/6059))
+0000e0a0: 0a2d 2045 6e73 7572 6520 7175 6572 7920  .- Ensure query 
+0000e0b0: 7061 7261 6d65 7465 7273 2069 6e20 656d  parameters in em
+0000e0c0: 6169 6c20 7661 6c69 6461 7469 6f6e 206c  ail validation l
+0000e0d0: 696e 6b73 2061 7265 2055 524c 2d65 6e63  inks are URL-enc
+0000e0e0: 6f64 6564 2e20 285b 5c23 3630 3633 5d28  oded. ([\#6063](
+0000e0f0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0000e100: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+0000e110: 6e61 7073 652f 6973 7375 6573 2f36 3036  napse/issues/606
+0000e120: 3329 290a 2d20 4669 7820 6120 6275 6720  3)).- Fix a bug 
+0000e130: 7768 6963 6820 6361 7573 6564 2053 414d  which caused SAM
+0000e140: 4c20 6174 7472 6962 7574 6520 6d61 7073  L attribute maps
+0000e150: 2074 6f20 6265 206f 7665 7272 6964 6465   to be overridde
+0000e160: 6e20 6279 2064 6566 6175 6c74 732e 2028  n by defaults. (
+0000e170: 5b5c 2336 3036 395d 2868 7474 7073 3a2f  [\#6069](https:/
+0000e180: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+0000e190: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+0000e1a0: 7373 7565 732f 3630 3639 2929 0a2d 2046  ssues/6069)).- F
+0000e1b0: 6978 2074 6865 206c 6f67 6765 6420 6e75  ix the logged nu
+0000e1c0: 6d62 6572 206f 6620 7570 6461 7465 6420  mber of updated 
+0000e1d0: 6974 656d 7320 666f 7220 7468 6520 6075  items for the `u
+0000e1e0: 7365 7273 5f73 6574 5f64 6561 6374 6976  sers_set_deactiv
+0000e1f0: 6174 6564 5f66 6c61 6760 2062 6163 6b67  ated_flag` backg
+0000e200: 726f 756e 6420 7570 6461 7465 2e20 285b  round update. ([
+0000e210: 5c23 3630 3932 5d28 6874 7470 733a 2f2f  \#6092](https://
+0000e220: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+0000e230: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+0000e240: 7375 6573 2f36 3039 3229 290a 2d20 4164  sues/6092)).- Ad
+0000e250: 6420 6073 6964 6020 746f 2060 6e65 7874  d `sid` to `next
+0000e260: 5f6c 696e 6b60 2066 6f72 2065 6d61 696c  _link` for email
+0000e270: 2076 616c 6964 6174 696f 6e2e 2028 5b5c   validation. ([\
+0000e280: 2336 3039 375d 2868 7474 7073 3a2f 2f67  #6097](https://g
+0000e290: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+0000e2a0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+0000e2b0: 7565 732f 3630 3937 2929 0a2d 2054 6872  ues/6097)).- Thr
+0000e2c0: 6565 7069 6420 7661 6c69 6469 7479 2063  eepid validity c
+0000e2d0: 6865 636b 7320 6f6e 206d 7369 7364 6e73  hecks on msisdns
+0000e2e0: 2073 686f 756c 6420 6e6f 7420 6265 2064   should not be d
+0000e2f0: 6570 656e 6465 6e74 206f 6e20 6074 6872  ependent on `thr
+0000e300: 6565 7069 645f 6265 6861 7669 6f75 725f  eepid_behaviour_
+0000e310: 656d 6169 6c60 2e20 285b 5c23 3631 3034  email`. ([\#6104
+0000e320: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0000e330: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+0000e340: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
+0000e350: 3130 3429 290a 2d20 456e 7375 7265 2074  104)).- Ensure t
+0000e360: 6861 7420 7365 7276 6572 7320 7768 6963  hat servers whic
+0000e370: 6820 6172 6520 6e6f 7420 636f 6e66 6967  h are not config
+0000e380: 7572 6564 2074 6f20 7375 7070 6f72 7420  ured to support 
+0000e390: 656d 6169 6c20 6164 6472 6573 7320 7665  email address ve
+0000e3a0: 7269 6669 6361 7469 6f6e 2064 6f20 6e6f  rification do no
+0000e3b0: 7420 6f66 6665 7220 6974 2069 6e20 7468  t offer it in th
+0000e3c0: 6520 7265 6769 7374 7261 7469 6f6e 2066  e registration f
+0000e3d0: 6c6f 7773 2e20 285b 5c23 3631 3037 5d28  lows. ([\#6107](
+0000e3e0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0000e3f0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+0000e400: 6e61 7073 652f 6973 7375 6573 2f36 3130  napse/issues/610
+0000e410: 3729 290a 0a0a 5570 6461 7465 7320 746f  7))...Updates to
+0000e420: 2074 6865 2044 6f63 6b65 7220 696d 6167   the Docker imag
+0000e430: 650a 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  e.--------------
+0000e440: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a 0a2d  -------------..-
+0000e450: 2041 766f 6964 2063 6861 6e67 696e 6720   Avoid changing 
+0000e460: 6055 4944 2f47 4944 6020 6966 2074 6865  `UID/GID` if the
+0000e470: 7920 6172 6520 616c 7265 6164 7920 636f  y are already co
+0000e480: 7272 6563 742e 2028 5b5c 2335 3937 305d  rrect. ([\#5970]
+0000e490: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+0000e4a0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+0000e4b0: 796e 6170 7365 2f69 7373 7565 732f 3539  ynapse/issues/59
+0000e4c0: 3730 2929 0a2d 2050 726f 7669 6465 2060  70)).- Provide `
+0000e4d0: 5359 4e41 5053 455f 574f 524b 4552 6020  SYNAPSE_WORKER` 
+0000e4e0: 656e 7676 6172 2074 6f20 7370 6563 6966  envvar to specif
+0000e4f0: 7920 7079 7468 6f6e 206d 6f64 756c 652e  y python module.
+0000e500: 2028 5b5c 2336 3035 385d 2868 7474 7073   ([\#6058](https
+0000e510: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+0000e520: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+0000e530: 2f69 7373 7565 732f 3630 3538 2929 0a0a  /issues/6058))..
+0000e540: 0a49 6d70 726f 7665 6420 446f 6375 6d65  .Improved Docume
+0000e550: 6e74 6174 696f 6e0a 2d2d 2d2d 2d2d 2d2d  ntation.--------
+0000e560: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 0a0a  --------------..
+0000e570: 2d20 436f 6e76 6572 7420 646f 6375 6d65  - Convert docume
+0000e580: 6e74 6174 696f 6e20 746f 206d 6172 6b64  ntation to markd
+0000e590: 6f77 6e20 2866 726f 6d20 7273 7429 2028  own (from rst) (
+0000e5a0: 5b5c 2335 3834 395d 2868 7474 7073 3a2f  [\#5849](https:/
+0000e5b0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+0000e5c0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+0000e5d0: 7373 7565 732f 3538 3439 2929 0a2d 2055  ssues/5849)).- U
+0000e5e0: 7064 6174 6520 6049 4e53 5441 4c4c 2e6d  pdate `INSTALL.m
+0000e5f0: 6460 2074 6f20 7361 7920 7468 6174 2050  d` to say that P
+0000e600: 7974 686f 6e20 3220 6973 206e 6f20 6c6f  ython 2 is no lo
+0000e610: 6e67 6572 2073 7570 706f 7274 6564 2e20  nger supported. 
+0000e620: 285b 5c23 3539 3533 5d28 6874 7470 733a  ([\#5953](https:
+0000e630: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+0000e640: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+0000e650: 6973 7375 6573 2f35 3935 3329 290a 2d20  issues/5953)).- 
+0000e660: 4164 6420 6465 7665 6c6f 7065 7220 646f  Add developer do
+0000e670: 6375 6d65 6e74 6174 696f 6e20 666f 7220  cumentation for 
+0000e680: 7573 696e 6720 5341 4d4c 322e 2028 5b5c  using SAML2. ([\
+0000e690: 2336 3033 325d 2868 7474 7073 3a2f 2f67  #6032](https://g
+0000e6a0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+0000e6b0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+0000e6c0: 7565 732f 3630 3332 2929 0a2d 2041 6464  ues/6032)).- Add
+0000e6d0: 2073 6f6d 6520 6e6f 7465 7320 6f6e 2072   some notes on r
+0000e6e0: 6f6c 6c69 6e67 2062 6163 6b20 746f 2076  olling back to v
+0000e6f0: 312e 332e 312e 2028 5b5c 2336 3034 395d  1.3.1. ([\#6049]
+0000e700: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+0000e710: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+0000e720: 796e 6170 7365 2f69 7373 7565 732f 3630  ynapse/issues/60
+0000e730: 3439 2929 0a2d 2055 7064 6174 6520 7468  49)).- Update th
+0000e740: 6520 7570 6772 6164 6520 6e6f 7465 732e  e upgrade notes.
+0000e750: 2028 5b5c 2336 3035 305d 2868 7474 7073   ([\#6050](https
+0000e760: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+0000e770: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+0000e780: 2f69 7373 7565 732f 3630 3530 2929 0a0a  /issues/6050))..
+0000e790: 0a44 6570 7265 6361 7469 6f6e 7320 616e  .Deprecations an
+0000e7a0: 6420 5265 6d6f 7661 6c73 0a2d 2d2d 2d2d  d Removals.-----
+0000e7b0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+0000e7c0: 2d2d 2d2d 0a0a 2d20 5265 6d6f 7665 2073  ----..- Remove s
+0000e7d0: 6861 7265 642d 7365 6372 6574 2072 6567  hared-secret reg
+0000e7e0: 6973 7472 6174 696f 6e20 6672 6f6d 2060  istration from `
+0000e7f0: 2f5f 6d61 7472 6978 2f63 6c69 656e 742f  /_matrix/client/
+0000e800: 7230 2f72 6567 6973 7465 7260 2065 6e64  r0/register` end
+0000e810: 706f 696e 742e 2043 6f6e 7472 6962 7574  point. Contribut
+0000e820: 6564 2062 7920 4177 6573 6f6d 6520 5465  ed by Awesome Te
+0000e830: 6368 6e6f 6c6f 6769 6573 2049 6e6e 6f76  chnologies Innov
+0000e840: 6174 696f 6e73 6c61 626f 7220 476d 6248  ationslabor GmbH
+0000e850: 2e20 285b 5c23 3538 3737 5d28 6874 7470  . ([\#5877](http
+0000e860: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+0000e870: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+0000e880: 652f 6973 7375 6573 2f35 3837 3729 290a  e/issues/5877)).
+0000e890: 2d20 4465 7072 6563 6174 6520 7468 6520  - Deprecate the 
+0000e8a0: 6074 7275 7374 6564 5f74 6869 7264 5f70  `trusted_third_p
+0000e8b0: 6172 7479 5f69 645f 7365 7276 6572 7360  arty_id_servers`
+0000e8c0: 206f 7074 696f 6e2e 2028 5b5c 2335 3837   option. ([\#587
+0000e8d0: 355d 2868 7474 7073 3a2f 2f67 6974 6875  5](https://githu
+0000e8e0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+0000e8f0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+0000e900: 3538 3735 2929 0a0a 0a49 6e74 6572 6e61  5875))...Interna
+0000e910: 6c20 4368 616e 6765 730a 2d2d 2d2d 2d2d  l Changes.------
+0000e920: 2d2d 2d2d 2d2d 2d2d 2d2d 0a0a 2d20 4c61  ----------..- La
+0000e930: 7920 7468 6520 6772 6f75 6e64 776f 726b  y the groundwork
+0000e940: 2066 6f72 2073 7472 7563 7475 7265 6420   for structured 
+0000e950: 6c6f 6767 696e 6720 6f75 7470 7574 2e20  logging output. 
+0000e960: 285b 5c23 3536 3830 5d28 6874 7470 733a  ([\#5680](https:
+0000e970: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+0000e980: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+0000e990: 6973 7375 6573 2f35 3638 3029 290a 2d20  issues/5680)).- 
+0000e9a0: 5265 7472 7920 7765 6c6c 2d6b 6e6f 776e  Retry well-known
+0000e9b0: 206c 6f6f 6b75 7020 6265 666f 7265 2074   lookup before t
+0000e9c0: 6865 2063 6163 6865 2065 7870 6972 6573  he cache expires
+0000e9d0: 2c20 6769 7669 6e67 2061 2067 7261 6365  , giving a grace
+0000e9e0: 2070 6572 696f 6420 7768 6572 6520 7468   period where th
+0000e9f0: 6520 7265 6d6f 7465 2077 656c 6c2d 6b6e  e remote well-kn
+0000ea00: 6f77 6e20 6361 6e20 6265 2064 6f77 6e20  own can be down 
+0000ea10: 6275 7420 7765 2073 7469 6c6c 2075 7365  but we still use
+0000ea20: 2074 6865 206f 6c64 2072 6573 756c 742e   the old result.
+0000ea30: 2028 5b5c 2335 3834 345d 2868 7474 7073   ([\#5844](https
+0000ea40: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+0000ea50: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+0000ea60: 2f69 7373 7565 732f 3538 3434 2929 0a2d  /issues/5844)).-
+0000ea70: 2052 656d 6f76 6520 6c6f 6720 6c69 6e65   Remove log line
+0000ea80: 2066 6f72 2064 6562 7567 6769 6e67 2069   for debugging i
+0000ea90: 7373 7565 2023 3534 3037 2e20 285b 5c23  ssue #5407. ([\#
+0000eaa0: 3538 3630 5d28 6874 7470 733a 2f2f 6769  5860](https://gi
+0000eab0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+0000eac0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+0000ead0: 6573 2f35 3836 3029 290a 2d20 5265 6661  es/5860)).- Refa
+0000eae0: 6374 6f72 2074 6865 2041 7070 7365 7276  ctor the Appserv
+0000eaf0: 6963 6520 7363 6865 6475 6c65 7220 636f  ice scheduler co
+0000eb00: 6465 2e20 285b 5c23 3538 3836 5d28 6874  de. ([\#5886](ht
+0000eb10: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+0000eb20: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+0000eb30: 7073 652f 6973 7375 6573 2f35 3838 3629  pse/issues/5886)
+0000eb40: 290a 2d20 436f 6d70 6174 6962 696c 6974  ).- Compatibilit
+0000eb50: 7920 7769 7468 2076 3220 4964 656e 7469  y with v2 Identi
+0000eb60: 7479 2053 6572 7669 6365 2041 5049 7320  ty Service APIs 
+0000eb70: 6f74 6865 7220 7468 616e 202f 6c6f 6f6b  other than /look
+0000eb80: 7570 2e20 285b 5c23 3538 3932 5d28 6874  up. ([\#5892](ht
+0000eb90: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+0000eba0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+0000ebb0: 7073 652f 6973 7375 6573 2f35 3839 3229  pse/issues/5892)
+0000ebc0: 2c20 5b5c 2336 3031 335d 2868 7474 7073  , [\#6013](https
+0000ebd0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+0000ebe0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+0000ebf0: 2f69 7373 7565 732f 3630 3133 2929 0a2d  /issues/6013)).-
+0000ec00: 2053 746f 7020 706f 7075 6c61 7469 6e67   Stop populating
+0000ec10: 2073 6f6d 6520 756e 7573 6564 2074 6162   some unused tab
+0000ec20: 6c65 732e 2028 5b5c 2335 3839 335d 2868  les. ([\#5893](h
+0000ec30: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0000ec40: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+0000ec50: 6170 7365 2f69 7373 7565 732f 3538 3933  apse/issues/5893
+0000ec60: 292c 205b 5c23 3630 3437 5d28 6874 7470  ), [\#6047](http
+0000ec70: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+0000ec80: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+0000ec90: 652f 6973 7375 6573 2f36 3034 3729 290a  e/issues/6047)).
+0000eca0: 2d20 4164 6420 6d69 7373 696e 6720 696e  - Add missing in
+0000ecb0: 6465 7820 6f6e 2060 7573 6572 735f 696e  dex on `users_in
+0000ecc0: 5f70 7562 6c69 635f 726f 6f6d 7360 2074  _public_rooms` t
+0000ecd0: 6f20 696d 7072 6f76 6520 7468 6520 7065  o improve the pe
+0000ece0: 7266 6f72 6d61 6e63 6520 6f66 2064 6972  rformance of dir
+0000ecf0: 6563 746f 7279 2071 7565 7269 6573 2e20  ectory queries. 
+0000ed00: 285b 5c23 3538 3934 5d28 6874 7470 733a  ([\#5894](https:
+0000ed10: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+0000ed20: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+0000ed30: 6973 7375 6573 2f35 3839 3429 290a 2d20  issues/5894)).- 
+0000ed40: 496d 7072 6f76 6520 7468 6520 6c6f 6767  Improve the logg
+0000ed50: 696e 6720 7768 656e 2077 6520 6861 7665  ing when we have
+0000ed60: 2061 6e20 6572 726f 7220 7768 656e 2066   an error when f
+0000ed70: 6574 6368 696e 6720 7369 676e 696e 6720  etching signing 
+0000ed80: 6b65 7973 2e20 285b 5c23 3538 3936 5d28  keys. ([\#5896](
+0000ed90: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0000eda0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+0000edb0: 6e61 7073 652f 6973 7375 6573 2f35 3839  napse/issues/589
+0000edc0: 3629 290a 2d20 4164 6420 7375 7070 6f72  6)).- Add suppor
+0000edd0: 7420 666f 7220 6461 7461 6261 7365 2065  t for database e
+0000ede0: 6e67 696e 652d 7370 6563 6966 6963 2073  ngine-specific s
+0000edf0: 6368 656d 6120 6465 6c74 6173 2c20 6261  chema deltas, ba
+0000ee00: 7365 6420 6f6e 2066 696c 6520 6578 7465  sed on file exte
+0000ee10: 6e73 696f 6e2e 2028 5b5c 2335 3931 315d  nsion. ([\#5911]
+0000ee20: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+0000ee30: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+0000ee40: 796e 6170 7365 2f69 7373 7565 732f 3539  ynapse/issues/59
+0000ee50: 3131 2929 0a2d 2055 7064 6174 6520 4275  11)).- Update Bu
+0000ee60: 696c 646b 6974 6520 7069 7065 6c69 6e65  ildkite pipeline
+0000ee70: 2074 6f20 7573 6520 706c 7567 696e 7320   to use plugins 
+0000ee80: 696e 7374 6561 6420 6f66 2062 7569 6c64  instead of build
+0000ee90: 6b69 7465 2d61 6765 6e74 2063 6f6d 6d61  kite-agent comma
+0000eea0: 6e64 732e 2028 5b5c 2335 3932 325d 2868  nds. ([\#5922](h
+0000eeb0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0000eec0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+0000eed0: 6170 7365 2f69 7373 7565 732f 3539 3232  apse/issues/5922
+0000eee0: 2929 0a2d 2041 6464 206c 696e 6b20 696e  )).- Add link in
+0000eef0: 2073 616d 706c 6520 636f 6e66 6967 2074   sample config t
+0000ef00: 6f20 7468 6520 6c6f 6767 696e 6720 636f  o the logging co
+0000ef10: 6e66 6967 2073 6368 656d 612e 2028 5b5c  nfig schema. ([\
+0000ef20: 2335 3932 365d 2868 7474 7073 3a2f 2f67  #5926](https://g
+0000ef30: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+0000ef40: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+0000ef50: 7565 732f 3539 3236 2929 0a2d 2052 656d  ues/5926)).- Rem
+0000ef60: 6f76 6520 756e 6e65 6365 7373 6172 7920  ove unnecessary 
+0000ef70: 7061 7265 6e74 6865 7365 7320 696e 2072  parentheses in r
+0000ef80: 6574 7572 6e20 7374 6174 656d 656e 7473  eturn statements
+0000ef90: 2e20 285b 5c23 3539 3331 5d28 6874 7470  . ([\#5931](http
+0000efa0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+0000efb0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+0000efc0: 652f 6973 7375 6573 2f35 3933 3129 290a  e/issues/5931)).
+0000efd0: 2d20 5265 6d6f 7665 2075 6e75 7365 6420  - Remove unused 
+0000efe0: 606a 656e 6b69 6e73 2f70 7265 7061 7265  `jenkins/prepare
+0000eff0: 5f73 7974 6573 742e 7368 6020 6669 6c65  _sytest.sh` file
+0000f000: 2e20 285b 5c23 3539 3338 5d28 6874 7470  . ([\#5938](http
+0000f010: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+0000f020: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+0000f030: 652f 6973 7375 6573 2f35 3933 3829 290a  e/issues/5938)).
+0000f040: 2d20 4d6f 7665 2042 7569 6c64 6b69 7465  - Move Buildkite
+0000f050: 2070 6970 656c 696e 6520 636f 6e66 6967   pipeline config
+0000f060: 2074 6f20 7468 6520 7069 7065 6c69 6e65   to the pipeline
+0000f070: 7320 7265 706f 2e20 285b 5c23 3539 3433  s repo. ([\#5943
+0000f080: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0000f090: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+0000f0a0: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
+0000f0b0: 3934 3329 290a 2d20 5265 6d6f 7665 2075  943)).- Remove u
+0000f0c0: 6e6e 6563 6573 7361 7279 2072 6574 7572  nnecessary retur
+0000f0d0: 6e20 7374 6174 656d 656e 7473 2069 6e20  n statements in 
+0000f0e0: 7468 6520 636f 6465 6261 7365 2077 6869  the codebase whi
+0000f0f0: 6368 2077 6572 6520 7468 6520 7265 7375  ch were the resu
+0000f100: 6c74 206f 6620 6120 7265 6765 7820 7275  lt of a regex ru
+0000f110: 6e2e 2028 5b5c 2335 3936 325d 2868 7474  n. ([\#5962](htt
+0000f120: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0000f130: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+0000f140: 7365 2f69 7373 7565 732f 3539 3632 2929  se/issues/5962))
+0000f150: 0a2d 2052 656d 6f76 6520 6c65 6674 2d6f  .- Remove left-o
+0000f160: 7665 7220 6d65 7468 6f64 7320 6672 6f6d  ver methods from
+0000f170: 2076 3120 7265 6769 7374 7261 7469 6f6e   v1 registration
+0000f180: 2041 5049 2e20 285b 5c23 3539 3633 5d28   API. ([\#5963](
+0000f190: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0000f1a0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+0000f1b0: 6e61 7073 652f 6973 7375 6573 2f35 3936  napse/issues/596
+0000f1c0: 3329 290a 2d20 436c 6561 6e75 7020 6576  3)).- Cleanup ev
+0000f1d0: 656e 7420 6175 7468 2074 7970 6520 696e  ent auth type in
+0000f1e0: 6974 6961 6c69 7361 7469 6f6e 2e20 285b  itialisation. ([
+0000f1f0: 5c23 3539 3735 5d28 6874 7470 733a 2f2f  \#5975](https://
+0000f200: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+0000f210: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+0000f220: 7375 6573 2f35 3937 3529 290a 2d20 436c  sues/5975)).- Cl
+0000f230: 6561 6e20 7570 2064 6570 656e 6465 6e63  ean up dependenc
+0000f240: 7920 6368 6563 6b69 6e67 2061 7420 7365  y checking at se
+0000f250: 7475 702e 2028 5b5c 2335 3938 395d 2868  tup. ([\#5989](h
+0000f260: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0000f270: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+0000f280: 6170 7365 2f69 7373 7565 732f 3539 3839  apse/issues/5989
+0000f290: 2929 0a2d 2055 7064 6174 6520 4f70 656e  )).- Update Open
+0000f2a0: 5472 6163 696e 6720 646f 6373 2074 6f20  Tracing docs to 
+0000f2b0: 7573 6520 7468 6520 756e 6966 6965 6420  use the unified 
+0000f2c0: 6074 7261 6365 6020 6d65 7468 6f64 2e20  `trace` method. 
+0000f2d0: 285b 5c23 3537 3736 5d28 6874 7470 733a  ([\#5776](https:
+0000f2e0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+0000f2f0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+0000f300: 6973 7375 6573 2f35 3737 3629 290a 2d20  issues/5776)).- 
+0000f310: 536d 616c 6c20 7265 6661 6374 6f72 206f  Small refactor o
+0000f320: 6620 6675 6e63 7469 6f6e 2061 7267 756d  f function argum
+0000f330: 656e 7473 2061 6e64 2064 6f63 7374 7269  ents and docstri
+0000f340: 6e67 7320 696e 6020 526f 6f6d 4d65 6d62  ngs in` RoomMemb
+0000f350: 6572 4861 6e64 6c65 7260 2e20 285b 5c23  erHandler`. ([\#
+0000f360: 3630 3039 5d28 6874 7470 733a 2f2f 6769  6009](https://gi
+0000f370: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+0000f380: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+0000f390: 6573 2f36 3030 3929 290a 2d20 5265 6d6f  es/6009)).- Remo
+0000f3a0: 7665 2075 6e75 7365 6420 606f 7269 6769  ve unused `origi
+0000f3b0: 6e60 2061 7267 756d 656e 7420 6f6e 2060  n` argument on `
+0000f3c0: 4665 6465 7261 7469 6f6e 4861 6e64 6c65  FederationHandle
+0000f3d0: 722e 6164 645f 6469 7370 6c61 795f 6e61  r.add_display_na
+0000f3e0: 6d65 5f74 6f5f 7468 6972 645f 7061 7274  me_to_third_part
+0000f3f0: 795f 696e 7669 7465 602e 2028 5b5c 2336  y_invite`. ([\#6
+0000f400: 3031 305d 2868 7474 7073 3a2f 2f67 6974  010](https://git
+0000f410: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+0000f420: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+0000f430: 732f 3630 3130 2929 0a2d 2041 6464 2061  s/6010)).- Add a
+0000f440: 2060 6661 696c 7572 655f 7473 6020 636f   `failure_ts` co
+0000f450: 6c75 6d6e 2074 6f20 7468 6520 6064 6573  lumn to the `des
+0000f460: 7469 6e61 7469 6f6e 7360 2064 6174 6162  tinations` datab
+0000f470: 6173 6520 7461 626c 652e 2028 5b5c 2336  ase table. ([\#6
+0000f480: 3031 365d 2868 7474 7073 3a2f 2f67 6974  016](https://git
+0000f490: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+0000f4a0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+0000f4b0: 732f 3630 3136 292c 205b 5c23 3630 3732  s/6016), [\#6072
+0000f4c0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0000f4d0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+0000f4e0: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
+0000f4f0: 3037 3229 290a 2d20 436c 6561 6e20 7570  072)).- Clean up
+0000f500: 2073 6f6d 6520 636f 6465 2069 6e20 7468   some code in th
+0000f510: 6520 7265 7472 7920 6c6f 6769 632e 2028  e retry logic. (
+0000f520: 5b5c 2336 3031 375d 2868 7474 7073 3a2f  [\#6017](https:/
+0000f530: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+0000f540: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+0000f550: 7373 7565 732f 3630 3137 2929 0a2d 2046  ssues/6017)).- F
+0000f560: 6978 2074 6865 2073 7472 7563 7475 7265  ix the structure
+0000f570: 6420 6c6f 6767 696e 6720 7465 7374 7320  d logging tests 
+0000f580: 7374 6f6d 7069 6e67 206f 6e20 7468 6520  stomping on the 
+0000f590: 676c 6f62 616c 206c 6f67 2063 6f6e 6669  global log confi
+0000f5a0: 6775 7261 7469 6f6e 2066 6f72 2073 7562  guration for sub
+0000f5b0: 7365 7175 656e 7420 7465 7374 732e 2028  sequent tests. (
+0000f5c0: 5b5c 2336 3032 335d 2868 7474 7073 3a2f  [\#6023](https:/
+0000f5d0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+0000f5e0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+0000f5f0: 7373 7565 732f 3630 3233 2929 0a2d 2043  ssues/6023)).- C
+0000f600: 6c65 616e 2075 7020 7468 6520 7361 6d70  lean up the samp
+0000f610: 6c65 2063 6f6e 6669 6720 666f 7220 5341  le config for SA
+0000f620: 4d4c 2061 7574 6865 6e74 6963 6174 696f  ML authenticatio
+0000f630: 6e2e 2028 5b5c 2336 3036 345d 2868 7474  n. ([\#6064](htt
+0000f640: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0000f650: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+0000f660: 7365 2f69 7373 7565 732f 3630 3634 2929  se/issues/6064))
+0000f670: 0a2d 2043 6861 6e67 6520 6d61 696c 6572  .- Change mailer
+0000f680: 206c 6f67 6769 6e67 2074 6f20 7265 666c   logging to refl
+0000f690: 6563 7420 5379 6e61 7073 6520 646f 6573  ect Synapse does
+0000f6a0: 6e27 7420 6a75 7374 2064 6f20 6368 6174  n't just do chat
+0000f6b0: 206e 6f74 6966 6963 6174 696f 6e73 2062   notifications b
+0000f6c0: 7920 656d 6169 6c20 6e6f 772e 2028 5b5c  y email now. ([\
+0000f6d0: 2336 3037 355d 2868 7474 7073 3a2f 2f67  #6075](https://g
+0000f6e0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+0000f6f0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+0000f700: 7565 732f 3630 3735 2929 0a2d 204d 6f76  ues/6075)).- Mov
+0000f710: 6520 6c61 7374 2d73 6565 6e20 696e 666f  e last-seen info
+0000f720: 2069 6e74 6f20 6465 7669 6365 7320 7461   into devices ta
+0000f730: 626c 652e 2028 5b5c 2336 3038 395d 2868  ble. ([\#6089](h
+0000f740: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0000f750: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+0000f760: 6170 7365 2f69 7373 7565 732f 3630 3839  apse/issues/6089
+0000f770: 2929 0a2d 2052 656d 6f76 6520 756e 7573  )).- Remove unus
+0000f780: 6564 2070 6172 616d 6574 6572 2074 6f20  ed parameter to 
+0000f790: 6067 6574 5f75 7365 725f 6964 5f62 795f  `get_user_id_by_
+0000f7a0: 7468 7265 6570 6964 602e 2028 5b5c 2336  threepid`. ([\#6
+0000f7b0: 3039 395d 2868 7474 7073 3a2f 2f67 6974  099](https://git
+0000f7c0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+0000f7d0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+0000f7e0: 732f 3630 3939 2929 0a2d 2052 6566 6163  s/6099)).- Refac
+0000f7f0: 746f 7220 7468 6520 7573 6572 2d69 6e74  tor the user-int
+0000f800: 6572 6163 7469 7665 2061 7574 6820 6861  eractive auth ha
+0000f810: 6e64 6c69 6e67 2e20 285b 5c23 3631 3035  ndling. ([\#6105
+0000f820: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0000f830: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+0000f840: 7379 6e61 7073 652f 6973 7375 6573 2f36  synapse/issues/6
+0000f850: 3130 3529 290a 2d20 5265 6661 6374 6f72  105)).- Refactor
+0000f860: 2063 6f64 6520 666f 7220 6361 6c63 756c   code for calcul
+0000f870: 6174 696e 6720 7265 6769 7374 7261 7469  ating registrati
+0000f880: 6f6e 2066 6c6f 7773 2e20 285b 5c23 3631  on flows. ([\#61
+0000f890: 3036 5d28 6874 7470 733a 2f2f 6769 7468  06](https://gith
+0000f8a0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+0000f8b0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+0000f8c0: 2f36 3130 3629 290a 0a0a 5379 6e61 7073  /6106))...Synaps
+0000f8d0: 6520 312e 332e 3120 2832 3031 392d 3038  e 1.3.1 (2019-08
+0000f8e0: 2d31 3729 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d  -17).===========
+0000f8f0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a  ===============.
+0000f900: 0a46 6561 7475 7265 730a 2d2d 2d2d 2d2d  .Features.------
+0000f910: 2d2d 0a0a 2d20 4472 6f70 2068 6172 6420  --..- Drop hard 
+0000f920: 6465 7065 6e64 656e 6379 206f 6e20 6073  dependency on `s
+0000f930: 646e 6f74 6966 7960 2070 7974 686f 6e20  dnotify` python 
+0000f940: 7061 636b 6167 652e 2028 5b5c 2335 3837  package. ([\#587
+0000f950: 315d 2868 7474 7073 3a2f 2f67 6974 6875  1](https://githu
+0000f960: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+0000f970: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+0000f980: 3538 3731 2929 0a0a 0a42 7567 6669 7865  5871))...Bugfixe
+0000f990: 730a 2d2d 2d2d 2d2d 2d2d 0a0a 2d20 4669  s.--------..- Fi
+0000f9a0: 7820 7374 6172 7475 7020 6973 7375 6520  x startup issue 
+0000f9b0: 2868 616e 6720 6f6e 2041 434d 4520 7072  (hang on ACME pr
+0000f9c0: 6f76 6973 696f 6e69 6e67 2920 6475 6520  ovisioning) due 
+0000f9d0: 746f 206f 7264 6572 696e 6720 6f66 2054  to ordering of T
+0000f9e0: 7769 7374 6564 2072 6561 6374 6f72 2073  wisted reactor s
+0000f9f0: 7461 7274 7570 2e20 5468 616e 6b73 2074  tartup. Thanks t
+0000fa00: 6f20 4063 6872 6973 6d6f 6f73 2066 6f72  o @chrismoos for
+0000fa10: 2073 7570 706c 7969 6e67 2074 6865 2066   supplying the f
+0000fa20: 6978 2e20 285b 5c23 3538 3637 5d28 6874  ix. ([\#5867](ht
+0000fa30: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+0000fa40: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+0000fa50: 7073 652f 6973 7375 6573 2f35 3836 3729  pse/issues/5867)
+0000fa60: 290a 0a0a 5379 6e61 7073 6520 312e 332e  )...Synapse 1.3.
+0000fa70: 3020 2832 3031 392d 3038 2d31 3529 0a3d  0 (2019-08-15).=
+0000fa80: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0000fa90: 3d3d 3d3d 3d3d 3d3d 3d0a 0a42 7567 6669  =========..Bugfi
+0000faa0: 7865 730a 2d2d 2d2d 2d2d 2d2d 0a0a 2d20  xes.--------..- 
+0000fab0: 4669 7820 3530 3020 496e 7465 726e 616c  Fix 500 Internal
+0000fac0: 2053 6572 7665 7220 4572 726f 7220 6f6e   Server Error on
+0000fad0: 2060 7075 626c 6963 526f 6f6d 7360 2077   `publicRooms` w
+0000fae0: 6865 6e20 7468 6520 7075 626c 6963 2072  hen the public r
+0000faf0: 6f6f 6d20 6c69 7374 2077 6173 0a20 2063  oom list was.  c
+0000fb00: 6163 6865 642e 2028 5b5c 2335 3835 315d  ached. ([\#5851]
+0000fb10: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+0000fb20: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+0000fb30: 796e 6170 7365 2f69 7373 7565 732f 3538  ynapse/issues/58
+0000fb40: 3531 2929 0a0a 0a53 796e 6170 7365 2031  51))...Synapse 1
+0000fb50: 2e33 2e30 7263 3120 2832 3031 392d 3038  .3.0rc1 (2019-08
+0000fb60: 2d31 3329 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d  -13).===========
+0000fb70: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a  ===============.
+0000fb80: 0a46 6561 7475 7265 730a 2d2d 2d2d 2d2d  .Features.------
+0000fb90: 2d2d 0a0a 2d20 5573 6520 604d 5f55 5345  --..- Use `M_USE
+0000fba0: 525f 4445 4143 5449 5641 5445 4460 2069  R_DEACTIVATED` i
+0000fbb0: 6e73 7465 6164 206f 6620 604d 5f55 4e4b  nstead of `M_UNK
+0000fbc0: 4e4f 574e 6020 666f 7220 6572 7263 6f64  NOWN` for errcod
+0000fbd0: 6520 7768 656e 2061 2064 6561 6374 6976  e when a deactiv
+0000fbe0: 6174 6564 2075 7365 7220 6174 7465 6d70  ated user attemp
+0000fbf0: 7473 2074 6f20 6c6f 6769 6e2e 2028 5b5c  ts to login. ([\
+0000fc00: 2335 3638 365d 2868 7474 7073 3a2f 2f67  #5686](https://g
+0000fc10: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+0000fc20: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+0000fc30: 7565 732f 3536 3836 2929 0a2d 2041 6464  ues/5686)).- Add
+0000fc40: 2073 645f 6e6f 7469 6679 2068 6f6f 6b73   sd_notify hooks
+0000fc50: 2074 6f20 6561 7365 2073 7973 7465 6d64   to ease systemd
+0000fc60: 2069 6e74 6567 7261 7469 6f6e 2061 6e64   integration and
+0000fc70: 2061 6c6c 6f77 7320 7573 6167 6520 6f66   allows usage of
+0000fc80: 2054 7970 653d 4e6f 7469 6679 2e20 285b   Type=Notify. ([
+0000fc90: 5c23 3537 3332 5d28 6874 7470 733a 2f2f  \#5732](https://
+0000fca0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+0000fcb0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+0000fcc0: 7375 6573 2f35 3733 3229 290a 2d20 5379  sues/5732)).- Sy
+0000fcd0: 6e61 7073 6520 7769 6c6c 206e 6f20 6c6f  napse will no lo
+0000fce0: 6e67 6572 2073 6572 7665 2061 6e79 206d  nger serve any m
+0000fcf0: 6564 6961 2072 6570 6f20 6164 6d69 6e20  edia repo admin 
+0000fd00: 656e 6470 6f69 6e74 7320 7768 656e 2060  endpoints when `
+0000fd10: 656e 6162 6c65 5f6d 6564 6961 5f72 6570  enable_media_rep
+0000fd20: 6f60 2069 7320 7365 7420 746f 2046 616c  o` is set to Fal
+0000fd30: 7365 2069 6e20 7468 6520 636f 6e66 6967  se in the config
+0000fd40: 7572 6174 696f 6e2e 2049 6620 6120 6d65  uration. If a me
+0000fd50: 6469 6120 7265 706f 2077 6f72 6b65 7220  dia repo worker 
+0000fd60: 6973 2075 7365 642c 2074 6865 2061 646d  is used, the adm
+0000fd70: 696e 2041 5049 7320 7265 6c61 7469 6e67  in APIs relating
+0000fd80: 2074 6f20 7468 6520 6d65 6469 6120 7265   to the media re
+0000fd90: 706f 2077 696c 6c20 6265 2073 6572 7665  po will be serve
+0000fda0: 6420 6672 6f6d 2069 7420 696e 7374 6561  d from it instea
+0000fdb0: 642e 2028 5b5c 2335 3735 345d 2868 7474  d. ([\#5754](htt
+0000fdc0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0000fdd0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+0000fde0: 7365 2f69 7373 7565 732f 3537 3534 292c  se/issues/5754),
+0000fdf0: 205b 5c23 3538 3438 5d28 6874 7470 733a   [\#5848](https:
+0000fe00: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+0000fe10: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+0000fe20: 6973 7375 6573 2f35 3834 3829 290a 2d20  issues/5848)).- 
+0000fe30: 5379 6e61 7073 6520 6361 6e20 6e6f 7720  Synapse can now 
+0000fe40: 6265 2063 6f6e 6669 6775 7265 6420 746f  be configured to
+0000fe50: 206e 6f74 206a 6f69 6e20 7265 6d6f 7465   not join remote
+0000fe60: 2072 6f6f 6d73 206f 6620 6120 6769 7665   rooms of a give
+0000fe70: 6e20 2263 6f6d 706c 6578 6974 7922 2028  n "complexity" (
+0000fe80: 6375 7272 656e 746c 792c 2073 7461 7465  currently, state
+0000fe90: 2065 7665 6e74 7329 206f 7665 7220 6665   events) over fe
+0000fea0: 6465 7261 7469 6f6e 2e20 5468 6973 206f  deration. This o
+0000feb0: 7074 696f 6e20 6361 6e20 6265 2075 7365  ption can be use
+0000fec0: 6420 746f 2070 7265 7665 6e74 2061 6476  d to prevent adv
+0000fed0: 6572 7365 2070 6572 666f 726d 616e 6365  erse performance
+0000fee0: 206f 6e20 7265 736f 7572 6365 2d63 6f6e   on resource-con
+0000fef0: 7374 7261 696e 6564 2068 6f6d 6573 6572  strained homeser
+0000ff00: 7665 7273 2e20 285b 5c23 3537 3833 5d28  vers. ([\#5783](
+0000ff10: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0000ff20: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+0000ff30: 6e61 7073 652f 6973 7375 6573 2f35 3738  napse/issues/578
+0000ff40: 3329 290a 2d20 416c 6c6f 7720 6465 6669  3)).- Allow defi
+0000ff50: 6e69 6e67 2048 544d 4c20 7465 6d70 6c61  ning HTML templa
+0000ff60: 7465 7320 746f 2073 6572 7665 2074 6865  tes to serve the
+0000ff70: 2075 7365 7220 6f6e 2061 6363 6f75 6e74   user on account
+0000ff80: 2072 656e 6577 616c 2061 7474 656d 7074   renewal attempt
+0000ff90: 2077 6865 6e20 7573 696e 6720 7468 6520   when using the 
+0000ffa0: 6163 636f 756e 7420 7661 6c69 6469 7479  account validity
+0000ffb0: 2066 6561 7475 7265 2e20 285b 5c23 3538   feature. ([\#58
+0000ffc0: 3037 5d28 6874 7470 733a 2f2f 6769 7468  07](https://gith
+0000ffd0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+0000ffe0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+0000fff0: 2f35 3830 3729 290a 0a0a 4275 6766 6978  /5807))...Bugfix
+00010000: 6573 0a2d 2d2d 2d2d 2d2d 2d0a 0a2d 2046  es.--------..- F
+00010010: 6978 2055 4953 4973 2064 7572 696e 6720  ix UISIs during 
+00010020: 686f 6d65 7365 7276 6572 206f 7574 6167  homeserver outag
+00010030: 652e 2028 5b5c 2335 3639 335d 2868 7474  e. ([\#5693](htt
+00010040: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00010050: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00010060: 7365 2f69 7373 7565 732f 3536 3933 292c  se/issues/5693),
+00010070: 205b 5c23 3537 3839 5d28 6874 7470 733a   [\#5789](https:
+00010080: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00010090: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+000100a0: 6973 7375 6573 2f35 3738 3929 290a 2d20  issues/5789)).- 
+000100b0: 4669 7820 7374 6163 6b20 6f76 6572 666c  Fix stack overfl
+000100c0: 6f77 2069 6e20 7365 7276 6572 206b 6579  ow in server key
+000100d0: 206c 6f6f 6b75 7020 636f 6465 2e20 285b   lookup code. ([
+000100e0: 5c23 3537 3234 5d28 6874 7470 733a 2f2f  \#5724](https://
+000100f0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00010100: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00010110: 7375 6573 2f35 3732 3429 290a 2d20 7374  sues/5724)).- st
+00010120: 6172 742e 7368 206e 6f20 6c6f 6e67 6572  art.sh no longer
+00010130: 2075 7365 7320 6465 7072 6563 6174 6564   uses deprecated
+00010140: 2063 6c69 206f 7074 696f 6e2e 2028 5b5c   cli option. ([\
+00010150: 2335 3732 355d 2868 7474 7073 3a2f 2f67  #5725](https://g
+00010160: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00010170: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00010180: 7565 732f 3537 3235 2929 0a2d 204c 6f67  ues/5725)).- Log
+00010190: 2077 6865 6e20 7765 2072 6563 6569 7665   when we receive
+000101a0: 2061 6e20 6576 656e 7420 7265 6365 6970   an event receip
+000101b0: 7420 6672 6f6d 2061 6e20 756e 6578 7065  t from an unexpe
+000101c0: 6374 6564 206f 7269 6769 6e2e 2028 5b5c  cted origin. ([\
+000101d0: 2335 3734 335d 2868 7474 7073 3a2f 2f67  #5743](https://g
+000101e0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+000101f0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00010200: 7565 732f 3537 3433 2929 0a2d 2046 6978  ues/5743)).- Fix
+00010210: 2064 6562 6961 6e20 7061 636b 6167 696e   debian packagin
+00010220: 6720 7363 7269 7074 7320 746f 2063 6f72  g scripts to cor
+00010230: 7265 6374 6c79 2062 7569 6c64 2073 6964  rectly build sid
+00010240: 2070 6163 6b61 6765 732e 2028 5b5c 2335   packages. ([\#5
+00010250: 3737 355d 2868 7474 7073 3a2f 2f67 6974  775](https://git
+00010260: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00010270: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+00010280: 732f 3537 3735 2929 0a2d 2043 6f72 7265  s/5775)).- Corre
+00010290: 6374 6c79 2068 616e 646c 6520 7265 6461  ctly handle reda
+000102a0: 6374 696f 6e73 206f 6620 7265 6461 6374  ctions of redact
+000102b0: 696f 6e73 2e20 285b 5c23 3537 3838 5d28  ions. ([\#5788](
+000102c0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+000102d0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+000102e0: 6e61 7073 652f 6973 7375 6573 2f35 3738  napse/issues/578
+000102f0: 3829 290a 2d20 5265 7475 726e 2034 3034  8)).- Return 404
+00010300: 2069 6e73 7465 6164 206f 6620 3430 3320   instead of 403 
+00010310: 7768 656e 2061 6363 6573 7369 6e67 202f  when accessing /
+00010320: 726f 6f6d 732f 7b72 6f6f 6d49 647d 2f65  rooms/{roomId}/e
+00010330: 7665 6e74 2f7b 6576 656e 7449 647d 2066  vent/{eventId} f
+00010340: 6f72 2061 6e20 6576 656e 7420 7769 7468  or an event with
+00010350: 6f75 7420 7468 6520 6170 7072 6f70 7269  out the appropri
+00010360: 6174 6520 7065 726d 6973 7369 6f6e 732e  ate permissions.
+00010370: 2028 5b5c 2335 3739 385d 2868 7474 7073   ([\#5798](https
 00010380: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
 00010390: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-000103a0: 2f69 7373 7565 732f 3538 3339 2929 0a0a  /issues/5839))..
-000103b0: 0a44 6570 7265 6361 7469 6f6e 7320 616e  .Deprecations an
-000103c0: 6420 5265 6d6f 7661 6c73 0a2d 2d2d 2d2d  d Removals.-----
-000103d0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-000103e0: 2d2d 2d2d 0a0a 2d20 5379 6e61 7073 6520  ----..- Synapse 
-000103f0: 6e6f 7720 6e6f 206c 6f6e 6765 7220 6163  now no longer ac
-00010400: 6365 7074 7320 7468 6520 602d 7660 2f60  cepts the `-v`/`
-00010410: 2d2d 7665 7262 6f73 6560 2c20 602d 6660  --verbose`, `-f`
-00010420: 2f60 2d2d 6c6f 672d 6669 6c65 602c 206f  /`--log-file`, o
-00010430: 7220 602d 2d6c 6f67 2d63 6f6e 6669 6760  r `--log-config`
-00010440: 2063 6f6d 6d61 6e64 206c 696e 6520 666c   command line fl
-00010450: 6167 732c 2061 6e64 2072 656d 6f76 6573  ags, and removes
-00010460: 2074 6865 2064 6570 7265 6361 7465 6420   the deprecated 
-00010470: 6076 6572 626f 7365 6020 616e 6420 606c  `verbose` and `l
-00010480: 6f67 5f66 696c 6560 2063 6f6e 6669 6775  og_file` configu
-00010490: 7261 7469 6f6e 2066 696c 6520 6f70 7469  ration file opti
-000104a0: 6f6e 732e 2055 7365 7273 206f 6620 7468  ons. Users of th
-000104b0: 6573 6520 6f70 7469 6f6e 7320 7368 6f75  ese options shou
-000104c0: 6c64 206d 6967 7261 7465 2074 6865 6972  ld migrate their
-000104d0: 206f 7074 696f 6e73 2069 6e74 6f20 7468   options into th
-000104e0: 6520 6465 6469 6361 7465 6420 6c6f 6720  e dedicated log 
-000104f0: 636f 6e66 6967 7572 6174 696f 6e2e 2028  configuration. (
-00010500: 5b5c 2335 3637 385d 2868 7474 7073 3a2f  [\#5678](https:/
-00010510: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00010520: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00010530: 7373 7565 732f 3536 3738 292c 205b 5c23  ssues/5678), [\#
-00010540: 3537 3239 5d28 6874 7470 733a 2f2f 6769  5729](https://gi
-00010550: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-00010560: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-00010570: 6573 2f35 3732 3929 290a 2d20 5265 6d6f  es/5729)).- Remo
-00010580: 7665 206e 6f6e 2d66 756e 6374 696f 6e61  ve non-functiona
-00010590: 6c20 2765 7870 6972 655f 6163 6365 7373  l 'expire_access
-000105a0: 5f74 6f6b 656e 2720 7365 7474 696e 672e  _token' setting.
-000105b0: 2028 5b5c 2335 3738 325d 2868 7474 7073   ([\#5782](https
-000105c0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-000105d0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-000105e0: 2f69 7373 7565 732f 3537 3832 2929 0a0a  /issues/5782))..
-000105f0: 0a49 6e74 6572 6e61 6c20 4368 616e 6765  .Internal Change
-00010600: 730a 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  s.--------------
-00010610: 2d2d 0a0a 2d20 4d61 6b65 204a 6165 6765  --..- Make Jaege
-00010620: 7220 6675 6c6c 7920 636f 6e66 6967 7572  r fully configur
-00010630: 6162 6c65 2e20 285b 5c23 3536 3934 5d28  able. ([\#5694](
-00010640: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00010650: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-00010660: 6e61 7073 652f 6973 7375 6573 2f35 3639  napse/issues/569
-00010670: 3429 290a 2d20 4164 6420 7072 6563 6175  4)).- Add precau
-00010680: 7469 6f6e 6172 7920 6d65 6173 7572 6573  tionary measures
-00010690: 2074 6f20 7072 6576 656e 7420 6675 7475   to prevent futu
-000106a0: 7265 2061 6275 7365 206f 6620 6077 696e  re abuse of `win
-000106b0: 646f 772e 6f70 656e 6572 6020 696e 2064  dow.opener` in d
-000106c0: 6566 6175 6c74 2077 656c 636f 6d65 2070  efault welcome p
-000106d0: 6167 652e 2028 5b5c 2335 3639 355d 2868  age. ([\#5695](h
-000106e0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-000106f0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00010700: 6170 7365 2f69 7373 7565 732f 3536 3935  apse/issues/5695
-00010710: 2929 0a2d 2052 6564 7563 6520 6461 7461  )).- Reduce data
-00010720: 6261 7365 2049 4f20 7573 6167 6520 6279  base IO usage by
-00010730: 206f 7074 696d 6973 696e 6720 7175 6572   optimising quer
-00010740: 6965 7320 666f 7220 6375 7272 656e 7420  ies for current 
-00010750: 6d65 6d62 6572 7368 6970 2e20 285b 5c23  membership. ([\#
-00010760: 3537 3036 5d28 6874 7470 733a 2f2f 6769  5706](https://gi
-00010770: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-00010780: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-00010790: 6573 2f35 3730 3629 2c20 5b5c 2335 3733  es/5706), [\#573
-000107a0: 385d 2868 7474 7073 3a2f 2f67 6974 6875  8](https://githu
-000107b0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-000107c0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-000107d0: 3537 3338 292c 205b 5c23 3537 3436 5d28  5738), [\#5746](
-000107e0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-000107f0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-00010800: 6e61 7073 652f 6973 7375 6573 2f35 3734  napse/issues/574
-00010810: 3629 2c20 5b5c 2335 3735 325d 2868 7474  6), [\#5752](htt
-00010820: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00010830: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-00010840: 7365 2f69 7373 7565 732f 3537 3532 292c  se/issues/5752),
-00010850: 205b 5c23 3537 3730 5d28 6874 7470 733a   [\#5770](https:
-00010860: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00010870: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00010880: 6973 7375 6573 2f35 3737 3029 2c20 5b5c  issues/5770), [\
-00010890: 2335 3737 345d 2868 7474 7073 3a2f 2f67  #5774](https://g
-000108a0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-000108b0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-000108c0: 7565 732f 3537 3734 292c 205b 5c23 3537  ues/5774), [\#57
-000108d0: 3932 5d28 6874 7470 733a 2f2f 6769 7468  92](https://gith
-000108e0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-000108f0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00010900: 2f35 3739 3229 2c20 5b5c 2335 3739 335d  /5792), [\#5793]
-00010910: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00010920: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00010930: 796e 6170 7365 2f69 7373 7565 732f 3537  ynapse/issues/57
-00010940: 3933 2929 0a2d 2049 6d70 726f 7665 2063  93)).- Improve c
-00010950: 6163 6869 6e67 2077 6865 6e20 6665 7463  aching when fetc
-00010960: 6869 6e67 2060 6765 745f 6669 6c74 6572  hing `get_filter
-00010970: 6564 5f63 7572 7265 6e74 5f73 7461 7465  ed_current_state
-00010980: 5f69 6473 602e 2028 5b5c 2335 3731 335d  _ids`. ([\#5713]
-00010990: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-000109a0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-000109b0: 796e 6170 7365 2f69 7373 7565 732f 3537  ynapse/issues/57
-000109c0: 3133 2929 0a2d 2044 6f6e 2774 2061 6363  13)).- Don't acc
-000109d0: 6570 7420 6f70 656e 7472 6163 696e 6720  ept opentracing 
-000109e0: 6461 7461 2066 726f 6d20 636c 6965 6e74  data from client
-000109f0: 732e 2028 5b5c 2335 3731 355d 2868 7474  s. ([\#5715](htt
-00010a00: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00010a10: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-00010a20: 7365 2f69 7373 7565 732f 3537 3135 2929  se/issues/5715))
-00010a30: 0a2d 2053 7065 6564 2075 7020 506f 7374  .- Speed up Post
-00010a40: 6772 6553 514c 2075 6e69 7420 7465 7374  greSQL unit test
-00010a50: 7320 696e 2043 492e 2028 5b5c 2335 3731  s in CI. ([\#571
-00010a60: 375d 2868 7474 7073 3a2f 2f67 6974 6875  7](https://githu
+000103a0: 2f69 7373 7565 732f 3537 3938 2929 0a2d  /issues/5798)).-
+000103b0: 2046 6978 2063 6865 636b 2074 6861 7420   Fix check that 
+000103c0: 746f 6d62 7374 6f6e 6520 6973 2061 2073  tombstone is a s
+000103d0: 7461 7465 2065 7665 6e74 2069 6e20 7075  tate event in pu
+000103e0: 7368 2072 756c 6573 2e20 285b 5c23 3538  sh rules. ([\#58
+000103f0: 3034 5d28 6874 7470 733a 2f2f 6769 7468  04](https://gith
+00010400: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00010410: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00010420: 2f35 3830 3429 290a 2d20 4669 7820 6572  /5804)).- Fix er
+00010430: 726f 7220 7768 656e 2074 7279 696e 6720  ror when trying 
+00010440: 746f 206c 6f67 696e 2061 7320 6120 6465  to login as a de
+00010450: 6163 7469 7661 7465 6420 7573 6572 2077  activated user w
+00010460: 6865 6e20 7573 696e 6720 6120 776f 726b  hen using a work
+00010470: 6572 2074 6f20 6861 6e64 6c65 206c 6f67  er to handle log
+00010480: 696e 2e20 285b 5c23 3538 3036 5d28 6874  in. ([\#5806](ht
+00010490: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+000104a0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+000104b0: 7073 652f 6973 7375 6573 2f35 3830 3629  pse/issues/5806)
+000104c0: 290a 2d20 4669 7820 6275 6720 7768 6572  ).- Fix bug wher
+000104d0: 6520 7573 6572 2060 2f73 796e 6360 2073  e user `/sync` s
+000104e0: 7472 6561 6d20 636f 756c 6420 6765 7420  tream could get 
+000104f0: 7765 6467 6564 2069 6e20 7261 7265 2063  wedged in rare c
+00010500: 6972 6375 6d73 7461 6e63 6573 2e20 285b  ircumstances. ([
+00010510: 5c23 3538 3235 5d28 6874 7470 733a 2f2f  \#5825](https://
+00010520: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00010530: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00010540: 7375 6573 2f35 3832 3529 290a 2d20 5468  sues/5825)).- Th
+00010550: 6520 7075 7267 655f 7265 6d6f 7465 5f6d  e purge_remote_m
+00010560: 6564 6961 2e73 6820 7363 7269 7074 2077  edia.sh script w
+00010570: 6173 2066 6978 6564 2e20 285b 5c23 3538  as fixed. ([\#58
+00010580: 3339 5d28 6874 7470 733a 2f2f 6769 7468  39](https://gith
+00010590: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+000105a0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+000105b0: 2f35 3833 3929 290a 0a0a 4465 7072 6563  /5839))...Deprec
+000105c0: 6174 696f 6e73 2061 6e64 2052 656d 6f76  ations and Remov
+000105d0: 616c 730a 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  als.------------
+000105e0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a 0a2d  -------------..-
+000105f0: 2053 796e 6170 7365 206e 6f77 206e 6f20   Synapse now no 
+00010600: 6c6f 6e67 6572 2061 6363 6570 7473 2074  longer accepts t
+00010610: 6865 2060 2d76 602f 602d 2d76 6572 626f  he `-v`/`--verbo
+00010620: 7365 602c 2060 2d66 602f 602d 2d6c 6f67  se`, `-f`/`--log
+00010630: 2d66 696c 6560 2c20 6f72 2060 2d2d 6c6f  -file`, or `--lo
+00010640: 672d 636f 6e66 6967 6020 636f 6d6d 616e  g-config` comman
+00010650: 6420 6c69 6e65 2066 6c61 6773 2c20 616e  d line flags, an
+00010660: 6420 7265 6d6f 7665 7320 7468 6520 6465  d removes the de
+00010670: 7072 6563 6174 6564 2060 7665 7262 6f73  precated `verbos
+00010680: 6560 2061 6e64 2060 6c6f 675f 6669 6c65  e` and `log_file
+00010690: 6020 636f 6e66 6967 7572 6174 696f 6e20  ` configuration 
+000106a0: 6669 6c65 206f 7074 696f 6e73 2e20 5573  file options. Us
+000106b0: 6572 7320 6f66 2074 6865 7365 206f 7074  ers of these opt
+000106c0: 696f 6e73 2073 686f 756c 6420 6d69 6772  ions should migr
+000106d0: 6174 6520 7468 6569 7220 6f70 7469 6f6e  ate their option
+000106e0: 7320 696e 746f 2074 6865 2064 6564 6963  s into the dedic
+000106f0: 6174 6564 206c 6f67 2063 6f6e 6669 6775  ated log configu
+00010700: 7261 7469 6f6e 2e20 285b 5c23 3536 3738  ration. ([\#5678
+00010710: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00010720: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00010730: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
+00010740: 3637 3829 2c20 5b5c 2335 3732 395d 2868  678), [\#5729](h
+00010750: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00010760: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+00010770: 6170 7365 2f69 7373 7565 732f 3537 3239  apse/issues/5729
+00010780: 2929 0a2d 2052 656d 6f76 6520 6e6f 6e2d  )).- Remove non-
+00010790: 6675 6e63 7469 6f6e 616c 2027 6578 7069  functional 'expi
+000107a0: 7265 5f61 6363 6573 735f 746f 6b65 6e27  re_access_token'
+000107b0: 2073 6574 7469 6e67 2e20 285b 5c23 3537   setting. ([\#57
+000107c0: 3832 5d28 6874 7470 733a 2f2f 6769 7468  82](https://gith
+000107d0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+000107e0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+000107f0: 2f35 3738 3229 290a 0a0a 496e 7465 726e  /5782))...Intern
+00010800: 616c 2043 6861 6e67 6573 0a2d 2d2d 2d2d  al Changes.-----
+00010810: 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a 0a2d 204d  -----------..- M
+00010820: 616b 6520 4a61 6567 6572 2066 756c 6c79  ake Jaeger fully
+00010830: 2063 6f6e 6669 6775 7261 626c 652e 2028   configurable. (
+00010840: 5b5c 2335 3639 345d 2868 7474 7073 3a2f  [\#5694](https:/
+00010850: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+00010860: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00010870: 7373 7565 732f 3536 3934 2929 0a2d 2041  ssues/5694)).- A
+00010880: 6464 2070 7265 6361 7574 696f 6e61 7279  dd precautionary
+00010890: 206d 6561 7375 7265 7320 746f 2070 7265   measures to pre
+000108a0: 7665 6e74 2066 7574 7572 6520 6162 7573  vent future abus
+000108b0: 6520 6f66 2060 7769 6e64 6f77 2e6f 7065  e of `window.ope
+000108c0: 6e65 7260 2069 6e20 6465 6661 756c 7420  ner` in default 
+000108d0: 7765 6c63 6f6d 6520 7061 6765 2e20 285b  welcome page. ([
+000108e0: 5c23 3536 3935 5d28 6874 7470 733a 2f2f  \#5695](https://
+000108f0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00010900: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00010910: 7375 6573 2f35 3639 3529 290a 2d20 5265  sues/5695)).- Re
+00010920: 6475 6365 2064 6174 6162 6173 6520 494f  duce database IO
+00010930: 2075 7361 6765 2062 7920 6f70 7469 6d69   usage by optimi
+00010940: 7369 6e67 2071 7565 7269 6573 2066 6f72  sing queries for
+00010950: 2063 7572 7265 6e74 206d 656d 6265 7273   current members
+00010960: 6869 702e 2028 5b5c 2335 3730 365d 2868  hip. ([\#5706](h
+00010970: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00010980: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+00010990: 6170 7365 2f69 7373 7565 732f 3537 3036  apse/issues/5706
+000109a0: 292c 205b 5c23 3537 3338 5d28 6874 7470  ), [\#5738](http
+000109b0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+000109c0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+000109d0: 652f 6973 7375 6573 2f35 3733 3829 2c20  e/issues/5738), 
+000109e0: 5b5c 2335 3734 365d 2868 7474 7073 3a2f  [\#5746](https:/
+000109f0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+00010a00: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00010a10: 7373 7565 732f 3537 3436 292c 205b 5c23  ssues/5746), [\#
+00010a20: 3537 3532 5d28 6874 7470 733a 2f2f 6769  5752](https://gi
+00010a30: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+00010a40: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+00010a50: 6573 2f35 3735 3229 2c20 5b5c 2335 3737  es/5752), [\#577
+00010a60: 305d 2868 7474 7073 3a2f 2f67 6974 6875  0](https://githu
 00010a70: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
 00010a80: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-00010a90: 3537 3137 2929 0a2d 2055 7064 6174 6520  5717)).- Update 
-00010aa0: 7468 6520 636f 6469 6e67 2073 7479 6c65  the coding style
-00010ab0: 2064 6f63 756d 656e 742e 2028 5b5c 2335   document. ([\#5
-00010ac0: 3731 395d 2868 7474 7073 3a2f 2f67 6974  719](https://git
-00010ad0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-00010ae0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-00010af0: 732f 3537 3139 2929 0a2d 2049 6d70 726f  s/5719)).- Impro
-00010b00: 7665 2064 6174 6162 6173 6520 7175 6572  ve database quer
-00010b10: 7920 7065 7266 6f72 6d61 6e63 6520 7768  y performance wh
-00010b20: 656e 2072 6563 6f72 6469 6e67 2072 6574  en recording ret
-00010b30: 7279 2069 6e74 6572 7661 6c73 2066 6f72  ry intervals for
-00010b40: 2072 656d 6f74 6520 686f 7374 732e 2028   remote hosts. (
-00010b50: 5b5c 2335 3732 305d 2868 7474 7073 3a2f  [\#5720](https:/
-00010b60: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00010b70: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00010b80: 7373 7565 732f 3537 3230 2929 0a2d 2041  ssues/5720)).- A
-00010b90: 6464 2061 2073 6574 206f 6620 6f70 656e  dd a set of open
-00010ba0: 7472 6163 696e 6720 7574 696c 732e 2028  tracing utils. (
-00010bb0: 5b5c 2335 3732 325d 2868 7474 7073 3a2f  [\#5722](https:/
-00010bc0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00010bd0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00010be0: 7373 7565 732f 3537 3232 2929 0a2d 2043  ssues/5722)).- C
-00010bf0: 6163 6865 2072 6573 756c 7420 6f66 2067  ache result of g
-00010c00: 6574 5f76 6572 7369 6f6e 5f73 7472 696e  et_version_strin
-00010c10: 6720 746f 2072 6564 7563 6520 6f76 6572  g to reduce over
-00010c20: 6865 6164 206f 6620 602f 7665 7273 696f  head of `/versio
-00010c30: 6e60 2066 6564 6572 6174 696f 6e20 7265  n` federation re
-00010c40: 7175 6573 7473 2e20 285b 5c23 3537 3330  quests. ([\#5730
-00010c50: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00010c60: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00010c70: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
-00010c80: 3733 3029 290a 2d20 5265 7475 726e 2027  730)).- Return '
-00010c90: 7573 6572 5f74 7970 6527 2069 6e20 6164  user_type' in ad
-00010ca0: 6d69 6e20 4150 4920 7573 6572 2065 6e64  min API user end
-00010cb0: 706f 696e 7473 2072 6573 756c 7473 2e20  points results. 
-00010cc0: 285b 5c23 3537 3331 5d28 6874 7470 733a  ([\#5731](https:
-00010cd0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00010ce0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00010cf0: 6973 7375 6573 2f35 3733 3129 290a 2d20  issues/5731)).- 
-00010d00: 446f 6e27 7420 7061 636b 6167 6520 7468  Don't package th
-00010d10: 6520 7379 7465 7374 2074 6573 7420 626c  e sytest test bl
-00010d20: 6163 6b6c 6973 7420 6669 6c65 2e20 285b  acklist file. ([
-00010d30: 5c23 3537 3333 5d28 6874 7470 733a 2f2f  \#5733](https://
-00010d40: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-00010d50: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00010d60: 7375 6573 2f35 3733 3329 290a 2d20 5265  sues/5733)).- Re
-00010d70: 706c 6163 6520 7573 6573 206f 6620 7265  place uses of re
-00010d80: 7475 726e 5661 6c75 6520 7769 7468 2070  turnValue with p
-00010d90: 6c61 696e 2072 6574 7572 6e2c 2061 7320  lain return, as 
-00010da0: 7265 7475 726e 5661 6c75 6520 6973 206e  returnValue is n
-00010db0: 6f74 206e 6565 6465 6420 6f6e 2050 7974  ot needed on Pyt
-00010dc0: 686f 6e20 332e 2028 5b5c 2335 3733 365d  hon 3. ([\#5736]
-00010dd0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00010de0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00010df0: 796e 6170 7365 2f69 7373 7565 732f 3537  ynapse/issues/57
-00010e00: 3336 2929 0a2d 2042 6c61 636b 6c69 7374  36)).- Blacklist
-00010e10: 2073 6f6d 6520 666c 616b 6579 2074 6573   some flakey tes
-00010e20: 7473 2069 6e20 776f 726b 6572 206d 6f64  ts in worker mod
-00010e30: 652e 2028 5b5c 2335 3734 305d 2868 7474  e. ([\#5740](htt
-00010e40: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00010e50: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-00010e60: 7365 2f69 7373 7565 732f 3537 3430 2929  se/issues/5740))
-00010e70: 0a2d 2046 6978 2073 6f6d 6520 6572 726f  .- Fix some erro
-00010e80: 7220 6361 7365 7320 696e 2074 6865 2063  r cases in the c
-00010e90: 6163 6869 6e67 206c 6179 6572 2e20 285b  aching layer. ([
-00010ea0: 5c23 3537 3439 5d28 6874 7470 733a 2f2f  \#5749](https://
-00010eb0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-00010ec0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00010ed0: 7375 6573 2f35 3734 3929 290a 2d20 4164  sues/5749)).- Ad
-00010ee0: 6420 6120 7072 6f6d 6574 6865 7573 206d  d a prometheus m
-00010ef0: 6574 7269 6320 666f 7220 7065 6e64 696e  etric for pendin
-00010f00: 6720 6361 6368 6520 6c6f 6f6b 7570 732e  g cache lookups.
-00010f10: 2028 5b5c 2335 3735 305d 2868 7474 7073   ([\#5750](https
-00010f20: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00010f30: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00010f40: 2f69 7373 7565 732f 3537 3530 2929 0a2d  /issues/5750)).-
-00010f50: 2053 746f 7020 7472 7969 6e67 2074 6f20   Stop trying to 
-00010f60: 6665 7463 6820 6576 656e 7473 2077 6974  fetch events wit
-00010f70: 6820 6576 656e 745f 6964 3d4e 6f6e 652e  h event_id=None.
-00010f80: 2028 5b5c 2335 3735 335d 2868 7474 7073   ([\#5753](https
-00010f90: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00010fa0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00010fb0: 2f69 7373 7565 732f 3537 3533 2929 0a2d  /issues/5753)).-
-00010fc0: 2043 6f6e 7665 7274 2052 6564 6163 7469   Convert Redacti
-00010fd0: 6f6e 5465 7374 4361 7365 2074 6f20 6d6f  onTestCase to mo
-00010fe0: 6465 726e 2074 6573 7420 7374 796c 652e  dern test style.
-00010ff0: 2028 5b5c 2335 3736 385d 2868 7474 7073   ([\#5768](https
-00011000: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00011010: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00011020: 2f69 7373 7565 732f 3537 3638 2929 0a2d  /issues/5768)).-
-00011030: 2041 6c6c 6f77 206c 6f6f 7069 6e67 2063   Allow looping c
-00011040: 616c 6c73 2074 6f20 6265 2067 6976 656e  alls to be given
-00011050: 2061 7267 756d 656e 7473 2e20 285b 5c23   arguments. ([\#
-00011060: 3537 3830 5d28 6874 7470 733a 2f2f 6769  5780](https://gi
-00011070: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-00011080: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-00011090: 6573 2f35 3738 3029 290a 2d20 5365 7420  es/5780)).- Set 
-000110a0: 7468 6520 6c6f 6773 2065 6d69 7474 6564  the logs emitted
-000110b0: 2077 6865 6e20 6368 6563 6b69 6e67 2074   when checking t
-000110c0: 7970 696e 6720 616e 6420 7072 6573 656e  yping and presen
-000110d0: 6365 2074 696d 656f 7574 7320 746f 2044  ce timeouts to D
-000110e0: 4542 5547 206c 6576 656c 2c20 6e6f 7420  EBUG level, not 
-000110f0: 494e 464f 2e20 285b 5c23 3537 3835 5d28  INFO. ([\#5785](
-00011100: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00011110: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-00011120: 6e61 7073 652f 6973 7375 6573 2f35 3738  napse/issues/578
-00011130: 3529 290a 2d20 5265 6d6f 7665 2044 656c  5)).- Remove Del
-00011140: 6179 6564 4361 6c6c 2064 6562 7567 6769  ayedCall debuggi
-00011150: 6e67 2066 726f 6d20 7468 6520 7465 7374  ng from the test
-00011160: 2073 7569 7465 2c20 6173 2069 7420 6973   suite, as it is
-00011170: 206e 6f20 6c6f 6e67 6572 2072 6571 7569   no longer requi
-00011180: 7265 6420 696e 2074 6865 2076 6173 7420  red in the vast 
-00011190: 6d61 6a6f 7269 7479 206f 6620 5379 6e61  majority of Syna
-000111a0: 7073 6527 7320 7465 7374 732e 2028 5b5c  pse's tests. ([\
-000111b0: 2335 3738 375d 2868 7474 7073 3a2f 2f67  #5787](https://g
-000111c0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-000111d0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-000111e0: 7565 732f 3537 3837 2929 0a2d 2052 656d  ues/5787)).- Rem
-000111f0: 6f76 6520 736f 6d65 2073 7075 7269 6f75  ove some spuriou
-00011200: 7320 6578 6365 7074 696f 6e73 2066 726f  s exceptions fro
-00011210: 6d20 7468 6520 6c6f 6773 2077 6865 7265  m the logs where
-00011220: 2077 6520 6661 696c 6564 2074 6f20 7461   we failed to ta
-00011230: 6c6b 2074 6f20 6120 7265 6d6f 7465 2073  lk to a remote s
-00011240: 6572 7665 722e 2028 5b5c 2335 3739 305d  erver. ([\#5790]
-00011250: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00011260: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00011270: 796e 6170 7365 2f69 7373 7565 732f 3537  ynapse/issues/57
-00011280: 3930 2929 0a2d 2049 6d70 726f 7665 2070  90)).- Improve p
-00011290: 6572 666f 726d 616e 6365 2077 6865 6e20  erformance when 
-000112a0: 6d61 6b69 6e67 2060 2e77 656c 6c2d 6b6e  making `.well-kn
-000112b0: 6f77 6e60 2072 6571 7565 7374 7320 6279  own` requests by
-000112c0: 2073 6861 7269 6e67 2074 6865 2053 534c   sharing the SSL
-000112d0: 206f 7074 696f 6e73 2062 6574 7765 656e   options between
-000112e0: 2072 6571 7565 7374 732e 2028 5b5c 2335   requests. ([\#5
-000112f0: 3739 345d 2868 7474 7073 3a2f 2f67 6974  794](https://git
-00011300: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-00011310: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-00011320: 732f 3537 3934 2929 0a2d 2044 6973 6162  s/5794)).- Disab
-00011330: 6c65 2063 6f64 6563 6f76 2047 6974 4875  le codecov GitHu
-00011340: 6220 636f 6d6d 656e 7473 206f 6e20 5052  b comments on PR
-00011350: 732e 2028 5b5c 2335 3739 365d 2868 7474  s. ([\#5796](htt
-00011360: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00011370: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-00011380: 7365 2f69 7373 7565 732f 3537 3936 2929  se/issues/5796))
-00011390: 0a2d 2044 6f6e 2774 2061 6c6c 6f77 2063  .- Don't allow c
-000113a0: 6c69 656e 7473 2074 6f20 7365 6e64 2074  lients to send t
-000113b0: 6f6d 6273 746f 6e65 2065 7665 6e74 7320  ombstone events 
-000113c0: 7468 6174 2072 6566 6572 656e 6365 2074  that reference t
-000113d0: 6865 2072 6f6f 6d20 6974 2773 2073 656e  he room it's sen
-000113e0: 7420 696e 2e20 285b 5c23 3538 3031 5d28  t in. ([\#5801](
-000113f0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00011400: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-00011410: 6e61 7073 652f 6973 7375 6573 2f35 3830  napse/issues/580
-00011420: 3129 290a 2d20 4465 6e79 2072 6564 6163  1)).- Deny redac
-00011430: 7469 6f6e 7320 6f66 2065 7665 6e74 7320  tions of events 
-00011440: 7365 6e74 2069 6e20 6120 6469 6666 6572  sent in a differ
-00011450: 656e 7420 726f 6f6d 2e20 285b 5c23 3538  ent room. ([\#58
-00011460: 3032 5d28 6874 7470 733a 2f2f 6769 7468  02](https://gith
-00011470: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00011480: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00011490: 2f35 3830 3229 290a 2d20 4465 6e79 2073  /5802)).- Deny s
-000114a0: 656e 6469 6e67 2077 656c 6c20 6b6e 6f77  ending well know
-000114b0: 6e20 7374 6174 6520 7479 7065 7320 6173  n state types as
-000114c0: 206e 6f6e 2d73 7461 7465 2065 7665 6e74   non-state event
-000114d0: 732e 2028 5b5c 2335 3830 355d 2868 7474  s. ([\#5805](htt
-000114e0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-000114f0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-00011500: 7365 2f69 7373 7565 732f 3538 3035 2929  se/issues/5805))
-00011510: 0a2d 2048 616e 646c 6520 696e 636f 7272  .- Handle incorr
-00011520: 6563 746c 7920 656e 636f 6465 6420 7175  ectly encoded qu
-00011530: 6572 7920 7061 7261 6d73 2063 6f72 7265  ery params corre
-00011540: 6374 6c79 2062 7920 7265 7475 726e 696e  ctly by returnin
-00011550: 6720 6120 3430 302e 2028 5b5c 2335 3830  g a 400. ([\#580
-00011560: 385d 2868 7474 7073 3a2f 2f67 6974 6875  8](https://githu
-00011570: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-00011580: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-00011590: 3538 3038 2929 0a2d 2048 616e 646c 6520  5808)).- Handle 
-000115a0: 7075 7368 6572 2062 6569 6e67 2064 656c  pusher being del
-000115b0: 6574 6564 2064 7572 696e 6720 7072 6f63  eted during proc
-000115c0: 6573 7369 6e67 2072 6174 6865 7220 7468  essing rather th
-000115d0: 616e 206c 6f67 6769 6e67 2061 6e20 6578  an logging an ex
-000115e0: 6365 7074 696f 6e2e 2028 5b5c 2335 3830  ception. ([\#580
-000115f0: 395d 2868 7474 7073 3a2f 2f67 6974 6875  9](https://githu
-00011600: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-00011610: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-00011620: 3538 3039 2929 0a2d 2052 6574 7572 6e20  5809)).- Return 
-00011630: 3530 3220 6e6f 7420 3530 3020 7768 656e  502 not 500 when
-00011640: 2066 6169 6c69 6e67 2074 6f20 7265 6163   failing to reac
-00011650: 6820 616e 7920 7265 6d6f 7465 2073 6572  h any remote ser
-00011660: 7665 722e 2028 5b5c 2335 3831 305d 2868  ver. ([\#5810](h
-00011670: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00011680: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00011690: 6170 7365 2f69 7373 7565 732f 3538 3130  apse/issues/5810
-000116a0: 2929 0a2d 2052 6564 7563 6520 676c 6f62  )).- Reduce glob
-000116b0: 616c 2070 6175 7365 7320 696e 2074 6865  al pauses in the
-000116c0: 2065 7665 6e74 7320 7374 7265 616d 2063   events stream c
-000116d0: 6175 7365 6420 6279 2065 7870 656e 7369  aused by expensi
-000116e0: 7665 2073 7461 7465 2072 6573 6f6c 7574  ve state resolut
-000116f0: 696f 6e20 6475 7269 6e67 2070 6572 7369  ion during persi
-00011700: 7374 656e 6365 2e20 285b 5c23 3538 3236  stence. ([\#5826
-00011710: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00011720: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00011730: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
-00011740: 3832 3629 290a 2d20 4164 6420 6120 6c6f  826)).- Add a lo
-00011750: 7765 7220 626f 756e 6420 746f 2077 656c  wer bound to wel
-00011760: 6c2d 6b6e 6f77 6e20 6c6f 6f6b 7570 2063  l-known lookup c
-00011770: 6163 6865 2074 696d 6520 746f 2061 766f  ache time to avo
-00011780: 6964 2072 6570 6561 7465 6420 6c6f 6f6b  id repeated look
-00011790: 7570 732e 2028 5b5c 2335 3833 365d 2868  ups. ([\#5836](h
-000117a0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-000117b0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-000117c0: 6170 7365 2f69 7373 7565 732f 3538 3336  apse/issues/5836
-000117d0: 2929 0a2d 2057 6869 7465 6c69 7374 2068  )).- Whitelist h
-000117e0: 6973 746f 7279 2076 6973 6269 6c69 7479  istory visbility
-000117f0: 2073 7974 6573 7473 2069 6e20 776f 726b   sytests in work
-00011800: 6572 206d 6f64 6520 7465 7374 732e 2028  er mode tests. (
-00011810: 5b5c 2335 3834 335d 2868 7474 7073 3a2f  [\#5843](https:/
-00011820: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00011830: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00011840: 7373 7565 732f 3538 3433 2929 0a0a 0a53  ssues/5843))...S
-00011850: 796e 6170 7365 2031 2e32 2e31 2028 3230  ynapse 1.2.1 (20
-00011860: 3139 2d30 372d 3236 290a 3d3d 3d3d 3d3d  19-07-26).======
-00011870: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00011880: 3d3d 3d3d 0a0a 5365 6375 7269 7479 2075  ====..Security u
-00011890: 7064 6174 650a 2d2d 2d2d 2d2d 2d2d 2d2d  pdate.----------
-000118a0: 2d2d 2d2d 2d0a 0a54 6869 7320 7265 6c65  -----..This rele
-000118b0: 6173 6520 696e 636c 7564 6573 202a 666f  ase includes *fo
-000118c0: 7572 2a20 7365 6375 7269 7479 2066 6978  ur* security fix
-000118d0: 6573 3a0a 0a2d 2050 7265 7665 6e74 2061  es:..- Prevent a
-000118e0: 6e20 6174 7461 636b 2077 6865 7265 2061  n attack where a
-000118f0: 2066 6564 6572 6174 6564 2073 6572 7665   federated serve
-00011900: 7220 636f 756c 6420 7365 6e64 2072 6564  r could send red
-00011910: 6163 7469 6f6e 7320 666f 7220 6172 6269  actions for arbi
-00011920: 7472 6172 7920 6576 656e 7473 2069 6e20  trary events in 
-00011930: 7631 2061 6e64 2076 3220 726f 6f6d 732e  v1 and v2 rooms.
-00011940: 2028 5b5c 2335 3736 375d 2868 7474 7073   ([\#5767](https
-00011950: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00011960: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00011970: 2f69 7373 7565 732f 3537 3637 2929 0a2d  /issues/5767)).-
-00011980: 2050 7265 7665 6e74 2061 2064 656e 6961   Prevent a denia
-00011990: 6c2d 6f66 2d73 6572 7669 6365 2061 7474  l-of-service att
-000119a0: 6163 6b20 7768 6572 6520 6379 636c 6573  ack where cycles
-000119b0: 206f 6620 7265 6461 6374 696f 6e20 6576   of redaction ev
-000119c0: 656e 7473 2077 6f75 6c64 206d 616b 6520  ents would make 
-000119d0: 5379 6e61 7073 6520 7370 696e 2069 6e66  Synapse spin inf
-000119e0: 696e 6974 656c 792e 2054 6861 6e6b 7320  initely. Thanks 
-000119f0: 746f 2060 406c 7269 7a69 6b61 3a6d 6174  to `@lrizika:mat
-00011a00: 7269 782e 6f72 6760 2066 6f72 2069 6465  rix.org` for ide
-00011a10: 6e74 6966 7969 6e67 2061 6e64 2072 6573  ntifying and res
-00011a20: 706f 6e73 6962 6c79 2064 6973 636c 6f73  ponsibly disclos
-00011a30: 696e 6720 7468 6973 2069 7373 7565 2e20  ing this issue. 
-00011a40: 285b 3066 3265 6362 3936 315d 2868 7474  ([0f2ecb961](htt
-00011a50: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00011a60: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-00011a70: 7365 2f63 6f6d 6d69 742f 3066 3265 6362  se/commit/0f2ecb
-00011a80: 3936 3129 290a 2d20 5072 6576 656e 7420  961)).- Prevent 
-00011a90: 616e 2061 7474 6163 6b20 7768 6572 6520  an attack where 
-00011aa0: 7573 6572 7320 636f 756c 6420 6265 206a  users could be j
-00011ab0: 6f69 6e65 6420 6f72 2070 6172 7465 6420  oined or parted 
-00011ac0: 6672 6f6d 2070 7562 6c69 6320 726f 6f6d  from public room
-00011ad0: 7320 7769 7468 6f75 7420 7468 6569 7220  s without their 
-00011ae0: 636f 6e73 656e 742e 2054 6861 6e6b 7320  consent. Thanks 
-00011af0: 746f 2040 6479 6c61 6e67 6572 6461 6c79  to @dylangerdaly
-00011b00: 2066 6f72 2069 6465 6e74 6966 7969 6e67   for identifying
-00011b10: 2061 6e64 2072 6573 706f 6e73 6962 6c79   and responsibly
-00011b20: 2064 6973 636c 6f73 696e 6720 7468 6973   disclosing this
-00011b30: 2069 7373 7565 2e20 285b 5c23 3537 3434   issue. ([\#5744
-00011b40: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00011b50: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00011b60: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
-00011b70: 3734 3429 290a 2d20 4669 7820 6120 7675  744)).- Fix a vu
-00011b80: 6c6e 6572 6162 696c 6974 7920 7768 6572  lnerability wher
-00011b90: 6520 6120 6665 6465 7261 7465 6420 7365  e a federated se
-00011ba0: 7276 6572 2063 6f75 6c64 2073 706f 6f66  rver could spoof
-00011bb0: 2072 6561 642d 7265 6365 6970 7473 2066   read-receipts f
-00011bc0: 726f 6d0a 2020 7573 6572 7320 6f6e 206f  rom.  users on o
-00011bd0: 7468 6572 2073 6572 7665 7273 2e20 5468  ther servers. Th
-00011be0: 616e 6b73 2074 6f20 4064 796c 616e 6765  anks to @dylange
-00011bf0: 7264 616c 7920 666f 7220 6964 656e 7469  rdaly for identi
-00011c00: 6679 696e 6720 7468 6973 2069 7373 7565  fying this issue
-00011c10: 2074 6f6f 2e20 285b 5c23 3537 3433 5d28   too. ([\#5743](
-00011c20: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00011c30: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-00011c40: 6e61 7073 652f 6973 7375 6573 2f35 3734  napse/issues/574
-00011c50: 3329 290a 0a41 6464 6974 696f 6e61 6c6c  3))..Additionall
-00011c60: 792c 2074 6865 2066 6f6c 6c6f 7769 6e67  y, the following
-00011c70: 2066 6978 2077 6173 2069 6e20 5379 6e61   fix was in Syna
-00011c80: 7073 6520 2a2a 312e 322e 302a 2a2c 2062  pse **1.2.0**, b
-00011c90: 7574 2077 6173 206e 6f74 2063 6f72 7265  ut was not corre
-00011ca0: 6374 6c79 0a69 6465 6e74 6966 6965 6420  ctly.identified 
-00011cb0: 6475 7269 6e67 2074 6865 206f 7269 6769  during the origi
-00011cc0: 6e61 6c20 7265 6c65 6173 653a 0a0a 2d20  nal release:..- 
-00011cd0: 4974 2077 6173 2070 6f73 7369 626c 6520  It was possible 
-00011ce0: 666f 7220 6120 726f 6f6d 206d 6f64 6572  for a room moder
-00011cf0: 6174 6f72 2074 6f20 7365 6e64 2061 2072  ator to send a r
-00011d00: 6564 6163 7469 6f6e 2066 6f72 2061 6e20  edaction for an 
-00011d10: 606d 2e72 6f6f 6d2e 6372 6561 7465 6020  `m.room.create` 
-00011d20: 6576 656e 742c 2077 6869 6368 2077 6f75  event, which wou
-00011d30: 6c64 2064 6f77 6e67 7261 6465 2074 6865  ld downgrade the
-00011d40: 2072 6f6f 6d20 746f 2076 6572 7369 6f6e   room to version
-00011d50: 2031 2e20 5468 616e 6b73 2074 6f20 602f   1. Thanks to `/
-00011d60: 6465 762f 706f 6e69 6573 6020 666f 7220  dev/ponies` for 
-00011d70: 6964 656e 7469 6679 696e 6720 616e 6420  identifying and 
-00011d80: 7265 7370 6f6e 7369 626c 7920 6469 7363  responsibly disc
-00011d90: 6c6f 7369 6e67 2074 6869 7320 6973 7375  losing this issu
-00011da0: 6521 2028 5b5c 2335 3730 315d 2868 7474  e! ([\#5701](htt
-00011db0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00011dc0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-00011dd0: 7365 2f69 7373 7565 732f 3537 3031 2929  se/issues/5701))
-00011de0: 0a0a 5379 6e61 7073 6520 312e 322e 3020  ..Synapse 1.2.0 
-00011df0: 2832 3031 392d 3037 2d32 3529 0a3d 3d3d  (2019-07-25).===
-00011e00: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00011e10: 3d3d 3d3d 3d3d 3d0a 0a4e 6f20 7369 676e  =======..No sign
-00011e20: 6966 6963 616e 7420 6368 616e 6765 732e  ificant changes.
-00011e30: 0a0a 0a53 796e 6170 7365 2031 2e32 2e30  ...Synapse 1.2.0
-00011e40: 7263 3220 2832 3031 392d 3037 2d32 3429  rc2 (2019-07-24)
-00011e50: 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  .===============
-00011e60: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a  ==============..
-00011e70: 4275 6766 6978 6573 0a2d 2d2d 2d2d 2d2d  Bugfixes.-------
-00011e80: 2d0a 0a2d 2046 6978 2061 2072 6567 7265  -..- Fix a regre
-00011e90: 7373 696f 6e20 696e 7472 6f64 7563 6564  ssion introduced
-00011ea0: 2069 6e20 7631 2e32 2e30 7263 3120 7768   in v1.2.0rc1 wh
-00011eb0: 6963 6820 6c65 6420 746f 2069 6e63 6f72  ich led to incor
-00011ec0: 7265 6374 206c 6162 656c 7320 6f6e 2073  rect labels on s
-00011ed0: 6f6d 6520 7072 6f6d 6574 6865 7573 206d  ome prometheus m
-00011ee0: 6574 7269 6373 2e20 285b 5c23 3537 3334  etrics. ([\#5734
-00011ef0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00011f00: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00011f10: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
-00011f20: 3733 3429 290a 0a0a 5379 6e61 7073 6520  734))...Synapse 
-00011f30: 312e 322e 3072 6331 2028 3230 3139 2d30  1.2.0rc1 (2019-0
-00011f40: 372d 3232 290a 3d3d 3d3d 3d3d 3d3d 3d3d  7-22).==========
-00011f50: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00011f60: 3d3d 3d0a 0a53 6563 7572 6974 7920 6669  ===..Security fi
-00011f70: 7865 730a 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  xes.------------
-00011f80: 2d2d 0a0a 5468 6973 2075 7064 6174 6520  --..This update 
-00011f90: 696e 636c 7564 6564 2061 2073 6563 7572  included a secur
-00011fa0: 6974 7920 6669 7820 7768 6963 6820 7761  ity fix which wa
-00011fb0: 7320 696e 6974 6961 6c6c 7920 696e 636f  s initially inco
-00011fc0: 7272 6563 746c 7920 666c 6167 6765 6420  rrectly flagged 
-00011fd0: 6173 0a61 2072 6567 756c 6172 2062 7567  as.a regular bug
-00011fe0: 2066 6978 2e0a 0a2d 2049 7420 7761 7320   fix...- It was 
-00011ff0: 706f 7373 6962 6c65 2066 6f72 2061 2072  possible for a r
-00012000: 6f6f 6d20 6d6f 6465 7261 746f 7220 746f  oom moderator to
-00012010: 2073 656e 6420 6120 7265 6461 6374 696f   send a redactio
-00012020: 6e20 666f 7220 616e 2060 6d2e 726f 6f6d  n for an `m.room
-00012030: 2e63 7265 6174 6560 2065 7665 6e74 2c20  .create` event, 
-00012040: 7768 6963 6820 776f 756c 6420 646f 776e  which would down
-00012050: 6772 6164 6520 7468 6520 726f 6f6d 2074  grade the room t
-00012060: 6f20 7665 7273 696f 6e20 312e 2054 6861  o version 1. Tha
-00012070: 6e6b 7320 746f 2060 2f64 6576 2f70 6f6e  nks to `/dev/pon
-00012080: 6965 7360 2066 6f72 2069 6465 6e74 6966  ies` for identif
-00012090: 7969 6e67 2061 6e64 2072 6573 706f 6e73  ying and respons
-000120a0: 6962 6c79 2064 6973 636c 6f73 696e 6720  ibly disclosing 
-000120b0: 7468 6973 2069 7373 7565 2120 285b 5c23  this issue! ([\#
-000120c0: 3537 3031 5d28 6874 7470 733a 2f2f 6769  5701](https://gi
-000120d0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-000120e0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-000120f0: 6573 2f35 3730 3129 290a 0a46 6561 7475  es/5701))..Featu
-00012100: 7265 730a 2d2d 2d2d 2d2d 2d2d 0a0a 2d20  res.--------..- 
-00012110: 4164 6420 7375 7070 6f72 7420 666f 7220  Add support for 
-00012120: 6f70 656e 7472 6163 696e 672e 2028 5b5c  opentracing. ([\
-00012130: 2335 3534 345d 2868 7474 7073 3a2f 2f67  #5544](https://g
-00012140: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-00012150: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-00012160: 7565 732f 3535 3434 292c 205b 5c23 3537  ues/5544), [\#57
-00012170: 3132 5d28 6874 7470 733a 2f2f 6769 7468  12](https://gith
-00012180: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00012190: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-000121a0: 2f35 3731 3229 290a 2d20 4164 6420 6162  /5712)).- Add ab
-000121b0: 696c 6974 7920 746f 2070 756c 6c20 616c  ility to pull al
-000121c0: 6c20 6c6f 6361 6c6c 7920 7374 6f72 6564  l locally stored
-000121d0: 2065 7665 6e74 7320 6f75 7420 6f66 2073   events out of s
-000121e0: 796e 6170 7365 2074 6861 7420 6120 7061  ynapse that a pa
-000121f0: 7274 6963 756c 6172 2075 7365 7220 6361  rticular user ca
-00012200: 6e20 7365 652e 2028 5b5c 2335 3538 395d  n see. ([\#5589]
-00012210: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00012220: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00012230: 796e 6170 7365 2f69 7373 7565 732f 3535  ynapse/issues/55
-00012240: 3839 2929 0a2d 2041 6464 2061 2062 6173  89)).- Add a bas
-00012250: 6963 2061 646d 696e 2063 6f6d 6d61 6e64  ic admin command
-00012260: 2061 7070 2074 6f20 616c 6c6f 7720 7365   app to allow se
-00012270: 7276 6572 206f 7065 7261 746f 7273 2074  rver operators t
-00012280: 6f20 7275 6e20 5379 6e61 7073 6520 6164  o run Synapse ad
-00012290: 6d69 6e20 636f 6d6d 616e 6473 2073 6570  min commands sep
-000122a0: 6172 6174 656c 7920 6672 6f6d 2074 6865  arately from the
-000122b0: 206d 6169 6e20 7072 6f64 7563 7469 6f6e   main production
-000122c0: 2069 6e73 7461 6e63 652e 2028 5b5c 2335   instance. ([\#5
-000122d0: 3539 375d 2868 7474 7073 3a2f 2f67 6974  597](https://git
-000122e0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-000122f0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-00012300: 732f 3535 3937 2929 0a2d 2041 6464 2060  s/5597)).- Add `
-00012310: 7365 6e64 6572 6020 616e 6420 606f 7269  sender` and `ori
-00012320: 6769 6e5f 7365 7276 6572 5f74 7360 2066  gin_server_ts` f
-00012330: 6965 6c64 7320 746f 2060 6d2e 7265 706c  ields to `m.repl
-00012340: 6163 6560 2e20 285b 5c23 3536 3133 5d28  ace`. ([\#5613](
-00012350: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00012360: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-00012370: 6e61 7073 652f 6973 7375 6573 2f35 3631  napse/issues/561
-00012380: 3329 290a 2d20 4164 6420 6465 6661 756c  3)).- Add defaul
-00012390: 7420 7075 7368 2072 756c 6520 746f 2069  t push rule to i
-000123a0: 676e 6f72 6520 7265 6163 7469 6f6e 732e  gnore reactions.
-000123b0: 2028 5b5c 2335 3632 335d 2868 7474 7073   ([\#5623](https
-000123c0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-000123d0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-000123e0: 2f69 7373 7565 732f 3536 3233 2929 0a2d  /issues/5623)).-
-000123f0: 2049 6e63 6c75 6465 2074 6865 206f 7269   Include the ori
-00012400: 6769 6e61 6c20 6576 656e 7420 7768 656e  ginal event when
-00012410: 2061 736b 696e 6720 666f 7220 6974 7320   asking for its 
-00012420: 7265 6c61 7469 6f6e 732e 2028 5b5c 2335  relations. ([\#5
-00012430: 3632 365d 2868 7474 7073 3a2f 2f67 6974  626](https://git
-00012440: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-00012450: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-00012460: 732f 3536 3236 2929 0a2d 2049 6d70 6c65  s/5626)).- Imple
-00012470: 6d65 6e74 2060 7365 7373 696f 6e5f 6c69  ment `session_li
-00012480: 6665 7469 6d65 6020 636f 6e66 6967 7572  fetime` configur
-00012490: 6174 696f 6e20 6f70 7469 6f6e 2c20 6166  ation option, af
-000124a0: 7465 7220 7768 6963 6820 6163 6365 7373  ter which access
-000124b0: 2074 6f6b 656e 7320 7769 6c6c 2065 7870   tokens will exp
-000124c0: 6972 652e 2028 5b5c 2335 3636 305d 2868  ire. ([\#5660](h
-000124d0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-000124e0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-000124f0: 6170 7365 2f69 7373 7565 732f 3536 3630  apse/issues/5660
-00012500: 2929 0a2d 2052 6574 7572 6e20 2254 6869  )).- Return "Thi
-00012510: 7320 6163 636f 756e 7420 6861 7320 6265  s account has be
-00012520: 656e 2064 6561 6374 6976 6174 6564 2220  en deactivated" 
-00012530: 7768 656e 2061 2064 6561 6374 6976 6174  when a deactivat
-00012540: 6564 2075 7365 7220 7472 6965 7320 746f  ed user tries to
-00012550: 206c 6f67 696e 2e20 285b 5c23 3536 3734   login. ([\#5674
-00012560: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00012570: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00012580: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
-00012590: 3637 3429 290a 2d20 456e 6162 6c65 2061  674)).- Enable a
-000125a0: 6767 7265 6761 7469 6f6e 7320 7375 7070  ggregations supp
-000125b0: 6f72 7420 6279 2064 6566 6175 6c74 2028  ort by default (
-000125c0: 5b5c 2335 3731 345d 2868 7474 7073 3a2f  [\#5714](https:/
-000125d0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-000125e0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-000125f0: 7373 7565 732f 3537 3134 2929 0a0a 0a42  ssues/5714))...B
-00012600: 7567 6669 7865 730a 2d2d 2d2d 2d2d 2d2d  ugfixes.--------
-00012610: 0a0a 2d20 4669 7820 2775 7469 6d65 2077  ..- Fix 'utime w
-00012620: 656e 7420 6261 636b 7761 7264 7327 2065  ent backwards' e
-00012630: 7272 6f72 7320 6f6e 2064 6165 6d6f 6e69  rrors on daemoni
-00012640: 7a61 7469 6f6e 2e20 285b 5c23 3536 3039  zation. ([\#5609
-00012650: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00012660: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00012670: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
-00012680: 3630 3929 290a 2d20 5661 7269 6f75 7320  609)).- Various 
-00012690: 6d69 6e6f 7220 6669 7865 7320 746f 2074  minor fixes to t
-000126a0: 6865 2066 6564 6572 6174 696f 6e20 7265  he federation re
-000126b0: 7175 6573 7420 7261 7465 206c 696d 6974  quest rate limit
-000126c0: 6572 2e20 285b 5c23 3536 3231 5d28 6874  er. ([\#5621](ht
-000126d0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-000126e0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-000126f0: 7073 652f 6973 7375 6573 2f35 3632 3129  pse/issues/5621)
-00012700: 290a 2d20 466f 7262 6964 2076 6965 7769  ).- Forbid viewi
-00012710: 6e67 2072 656c 6174 696f 6e73 206f 6e20  ng relations on 
-00012720: 616e 2065 7665 6e74 206f 6e63 6520 6974  an event once it
-00012730: 2068 6173 2062 6565 6e20 7265 6461 6374   has been redact
-00012740: 6564 2e20 285b 5c23 3536 3239 5d28 6874  ed. ([\#5629](ht
-00012750: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00012760: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00012770: 7073 652f 6973 7375 6573 2f35 3632 3929  pse/issues/5629)
-00012780: 290a 2d20 4669 7820 7265 7175 6573 7473  ).- Fix requests
-00012790: 2074 6f20 7468 6520 602f 7374 6f72 655f   to the `/store_
-000127a0: 696e 7669 7465 6020 656e 6470 6f69 6e74  invite` endpoint
-000127b0: 206f 6620 6964 656e 7469 7479 2073 6572   of identity ser
-000127c0: 7665 7273 2062 6569 6e67 2073 656e 7420  vers being sent 
-000127d0: 696e 2074 6865 2077 726f 6e67 2066 6f72  in the wrong for
-000127e0: 6d61 742e 2028 5b5c 2335 3633 385d 2868  mat. ([\#5638](h
-000127f0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00012800: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00012810: 6170 7365 2f69 7373 7565 732f 3536 3338  apse/issues/5638
-00012820: 2929 0a2d 2046 6978 206e 6577 6c79 2d72  )).- Fix newly-r
-00012830: 6567 6973 7465 7265 6420 7573 6572 7320  egistered users 
-00012840: 6e6f 7420 6265 696e 6720 6162 6c65 2074  not being able t
-00012850: 6f20 6c6f 6f6b 7570 2074 6865 6972 206f  o lookup their o
-00012860: 776e 2070 726f 6669 6c65 2077 6974 686f  wn profile witho
-00012870: 7574 206a 6f69 6e69 6e67 2061 2072 6f6f  ut joining a roo
-00012880: 6d2e 2028 5b5c 2335 3634 345d 2868 7474  m. ([\#5644](htt
-00012890: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-000128a0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-000128b0: 7365 2f69 7373 7565 732f 3536 3434 2929  se/issues/5644))
-000128c0: 0a2d 2046 6978 2062 7567 2069 6e20 2335  .- Fix bug in #5
-000128d0: 3632 3620 7468 6174 2070 7265 7665 6e74  626 that prevent
-000128e0: 6564 2074 6865 206f 7269 6769 6e61 6c5f  ed the original_
-000128f0: 6576 656e 7420 6669 656c 6420 6672 6f6d  event field from
-00012900: 2061 6374 7561 6c6c 7920 6861 7669 6e67   actually having
-00012910: 2074 6865 2063 6f6e 7465 6e74 7320 6f66   the contents of
-00012920: 2074 6865 206f 7269 6769 6e61 6c20 6576   the original ev
-00012930: 656e 7420 696e 2061 2063 616c 6c20 746f  ent in a call to
-00012940: 2060 2f72 656c 6174 696f 6e73 602e 2028   `/relations`. (
-00012950: 5b5c 2335 3635 345d 2868 7474 7073 3a2f  [\#5654](https:/
-00012960: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00012970: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00012980: 7373 7565 732f 3536 3534 2929 0a2d 2046  ssues/5654)).- F
-00012990: 6978 2033 5049 4420 6269 6e64 2072 6571  ix 3PID bind req
-000129a0: 7565 7374 7320 6265 696e 6720 7365 6e74  uests being sent
-000129b0: 2074 6f20 6964 656e 7469 7479 2073 6572   to identity ser
-000129c0: 7665 7273 2061 7320 6061 7070 6c69 6361  vers as `applica
-000129d0: 7469 6f6e 2f78 2d66 6f72 6d2d 7777 772d  tion/x-form-www-
-000129e0: 7572 6c65 6e63 6f64 6564 6020 6461 7461  urlencoded` data
-000129f0: 2c20 7768 6963 6820 6973 2064 6570 7265  , which is depre
-00012a00: 6361 7465 642e 2028 5b5c 2335 3635 385d  cated. ([\#5658]
-00012a10: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00012a20: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00012a30: 796e 6170 7365 2f69 7373 7565 732f 3536  ynapse/issues/56
-00012a40: 3538 2929 0a2d 2046 6978 2073 6f6d 6520  58)).- Fix some 
-00012a50: 7072 6f62 6c65 6d73 2077 6974 6820 6175  problems with au
-00012a60: 7468 656e 7469 6361 7469 6e67 2072 6564  thenticating red
-00012a70: 6163 7469 6f6e 7320 696e 2072 6563 656e  actions in recen
-00012a80: 7420 726f 6f6d 2076 6572 7369 6f6e 732e  t room versions.
-00012a90: 2028 5b5c 2335 3639 395d 2868 7474 7073   ([\#5699](https
-00012aa0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00012ab0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00012ac0: 2f69 7373 7565 732f 3536 3939 292c 205b  /issues/5699), [
-00012ad0: 5c23 3537 3030 5d28 6874 7470 733a 2f2f  \#5700](https://
-00012ae0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-00012af0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00012b00: 7375 6573 2f35 3730 3029 2c20 5b5c 2335  sues/5700), [\#5
-00012b10: 3730 375d 2868 7474 7073 3a2f 2f67 6974  707](https://git
-00012b20: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-00012b30: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-00012b40: 732f 3537 3037 2929 0a0a 0a55 7064 6174  s/5707))...Updat
-00012b50: 6573 2074 6f20 7468 6520 446f 636b 6572  es to the Docker
-00012b60: 2069 6d61 6765 0a2d 2d2d 2d2d 2d2d 2d2d   image.---------
-00012b70: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00012b80: 2d2d 0a0a 2d20 4261 7365 2044 6f63 6b65  --..- Base Docke
-00012b90: 7220 696d 6167 6520 6f6e 2061 206e 6577  r image on a new
-00012ba0: 6572 2041 6c70 696e 6520 4c69 6e75 7820  er Alpine Linux 
-00012bb0: 7665 7273 696f 6e20 2833 2e38 202d 3e20  version (3.8 -> 
-00012bc0: 332e 3130 292e 2028 5b5c 2335 3631 395d  3.10). ([\#5619]
-00012bd0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00012be0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00012bf0: 796e 6170 7365 2f69 7373 7565 732f 3536  ynapse/issues/56
-00012c00: 3139 2929 0a2d 2041 6464 206d 6973 7369  19)).- Add missi
-00012c10: 6e67 2073 7061 6365 2069 6e20 6465 6661  ng space in defa
-00012c20: 756c 7420 6c6f 6767 696e 6720 6669 6c65  ult logging file
-00012c30: 2066 6f72 6d61 7420 6765 6e65 7261 7465   format generate
-00012c40: 6420 6279 2074 6865 2044 6f63 6b65 7220  d by the Docker 
-00012c50: 696d 6167 652e 2028 5b5c 2335 3632 305d  image. ([\#5620]
-00012c60: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00012c70: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00012c80: 796e 6170 7365 2f69 7373 7565 732f 3536  ynapse/issues/56
-00012c90: 3230 2929 0a0a 0a49 6d70 726f 7665 6420  20))...Improved 
-00012ca0: 446f 6375 6d65 6e74 6174 696f 6e0a 2d2d  Documentation.--
-00012cb0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00012cc0: 2d2d 2d2d 0a0a 2d20 4164 6420 696e 666f  ----..- Add info
-00012cd0: 726d 6174 696f 6e20 6162 6f75 7420 6e67  rmation about ng
-00012ce0: 696e 7820 6e6f 726d 616c 6973 6174 696f  inx normalisatio
-00012cf0: 6e20 746f 2072 6576 6572 7365 5f70 726f  n to reverse_pro
-00012d00: 7879 2e72 7374 2e20 436f 6e74 7269 6275  xy.rst. Contribu
-00012d10: 7465 6420 6279 2040 736b 616c 6172 7072  ted by @skalarpr
-00012d20: 6f64 756b 7472 6175 6d20 2d20 7468 616e  oduktraum - than
-00012d30: 6b73 2120 285b 5c23 3533 3937 5d28 6874  ks! ([\#5397](ht
-00012d40: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00012d50: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00012d60: 7073 652f 6973 7375 6573 2f35 3339 3729  pse/issues/5397)
-00012d70: 290a 2d20 2d2d 6e6f 2d70 6570 3531 3720  ).- --no-pep517 
-00012d80: 7368 6f75 6c64 2062 6520 2d2d 6e6f 2d75  should be --no-u
-00012d90: 7365 2d70 6570 3531 3720 696e 2074 6865  se-pep517 in the
-00012da0: 2064 6f63 756d 656e 7461 7469 6f6e 2074   documentation t
-00012db0: 6f20 7365 7475 7020 7468 6520 6465 7665  o setup the deve
-00012dc0: 6c6f 706d 656e 7420 656e 7669 726f 6e6d  lopment environm
-00012dd0: 656e 742e 2028 5b5c 2335 3635 315d 2868  ent. ([\#5651](h
-00012de0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00012df0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00012e00: 6170 7365 2f69 7373 7565 732f 3536 3531  apse/issues/5651
-00012e10: 2929 0a2d 2049 6d70 726f 7665 6d65 6e74  )).- Improvement
-00012e20: 7320 746f 2050 6f73 7467 7265 7320 7365  s to Postgres se
-00012e30: 7475 7020 696e 7374 7275 6374 696f 6e73  tup instructions
-00012e40: 2e20 436f 6e74 7269 6275 7465 6420 6279  . Contributed by
-00012e50: 2040 4c72 697a 696b 6120 2d20 7468 616e   @Lrizika - than
-00012e60: 6b73 2120 285b 5c23 3536 3631 5d28 6874  ks! ([\#5661](ht
-00012e70: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00012e80: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00012e90: 7073 652f 6973 7375 6573 2f35 3636 3129  pse/issues/5661)
-00012ea0: 290a 2d20 4d69 6e6f 7220 7477 6561 6b73  ).- Minor tweaks
-00012eb0: 2074 6f20 706f 7374 6772 6573 2064 6f63   to postgres doc
-00012ec0: 756d 656e 7461 7469 6f6e 2e20 285b 5c23  umentation. ([\#
-00012ed0: 3536 3735 5d28 6874 7470 733a 2f2f 6769  5675](https://gi
-00012ee0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-00012ef0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-00012f00: 6573 2f35 3637 3529 290a 0a0a 4465 7072  es/5675))...Depr
-00012f10: 6563 6174 696f 6e73 2061 6e64 2052 656d  ecations and Rem
-00012f20: 6f76 616c 730a 2d2d 2d2d 2d2d 2d2d 2d2d  ovals.----------
-00012f30: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a  ---------------.
-00012f40: 0a2d 2052 656d 6f76 6520 7375 7070 6f72  .- Remove suppor
-00012f50: 7420 666f 7220 7468 6520 6069 6e76 6974  t for the `invit
-00012f60: 655f 3370 6964 5f67 7565 7374 6020 636f  e_3pid_guest` co
-00012f70: 6e66 6967 7572 6174 696f 6e20 7365 7474  nfiguration sett
-00012f80: 696e 672e 2028 5b5c 2335 3632 355d 2868  ing. ([\#5625](h
-00012f90: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00012fa0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00012fb0: 6170 7365 2f69 7373 7565 732f 3536 3235  apse/issues/5625
-00012fc0: 2929 0a0a 0a49 6e74 6572 6e61 6c20 4368  ))...Internal Ch
-00012fd0: 616e 6765 730a 2d2d 2d2d 2d2d 2d2d 2d2d  anges.----------
-00012fe0: 2d2d 2d2d 2d2d 0a0a 2d20 4d6f 7665 206c  ------..- Move l
-00012ff0: 6f67 6769 6e67 2063 6f64 6520 6f75 7420  ogging code out 
-00013000: 6f66 2060 7379 6e61 7073 652e 7574 696c  of `synapse.util
-00013010: 6020 616e 6420 696e 746f 2060 7379 6e61  ` and into `syna
-00013020: 7073 652e 6c6f 6767 696e 6760 2e20 285b  pse.logging`. ([
-00013030: 5c23 3536 3036 5d28 6874 7470 733a 2f2f  \#5606](https://
-00013040: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-00013050: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00013060: 7375 6573 2f35 3630 3629 2c20 5b5c 2335  sues/5606), [\#5
-00013070: 3631 375d 2868 7474 7073 3a2f 2f67 6974  617](https://git
-00013080: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-00013090: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-000130a0: 732f 3536 3137 2929 0a2d 2041 6464 2061  s/5617)).- Add a
-000130b0: 2062 6c61 636b 6c69 7374 2066 696c 6520   blacklist file 
-000130c0: 746f 2074 6865 2072 6570 6f20 746f 2062  to the repo to b
-000130d0: 6c61 636b 6c69 7374 2063 6572 7461 696e  lacklist certain
-000130e0: 2073 7974 6573 7473 2066 726f 6d20 6661   sytests from fa
-000130f0: 696c 696e 6720 4349 2e20 285b 5c23 3536  iling CI. ([\#56
-00013100: 3131 5d28 6874 7470 733a 2f2f 6769 7468  11](https://gith
-00013110: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00013120: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00013130: 2f35 3631 3129 290a 2d20 4d61 6b65 2072  /5611)).- Make r
-00013140: 756e 7469 6d65 2065 7272 6f72 7320 7375  untime errors su
-00013150: 7272 6f75 6e64 696e 6720 7061 7373 776f  rrounding passwo
-00013160: 7264 2072 6573 6574 2065 6d61 696c 7320  rd reset emails 
-00013170: 6d75 6368 2063 6c65 6172 6572 2e20 285b  much clearer. ([
-00013180: 5c23 3536 3136 5d28 6874 7470 733a 2f2f  \#5616](https://
-00013190: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-000131a0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-000131b0: 7375 6573 2f35 3631 3629 290a 2d20 5265  sues/5616)).- Re
-000131c0: 6d6f 7665 2064 6561 6420 636f 6465 2066  move dead code f
-000131d0: 6f72 2070 6572 7369 7469 6e67 206f 7574  or persiting out
-000131e0: 676f 696e 6720 6665 6465 7261 7469 6f6e  going federation
-000131f0: 2074 7261 6e73 6163 7469 6f6e 732e 2028   transactions. (
-00013200: 5b5c 2335 3632 325d 2868 7474 7073 3a2f  [\#5622](https:/
-00013210: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00013220: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00013230: 7373 7565 732f 3536 3232 2929 0a2d 2041  ssues/5622)).- A
-00013240: 6464 2060 6c69 6e74 2e73 6860 2074 6f20  dd `lint.sh` to 
-00013250: 7468 6520 7363 7269 7074 732d 6465 7620  the scripts-dev 
-00013260: 666f 6c64 6572 2077 6869 6368 2077 696c  folder which wil
-00013270: 6c20 7275 6e20 616c 6c20 6c69 6e74 696e  l run all lintin
-00013280: 6720 7374 6570 7320 7265 7175 6972 6564  g steps required
-00013290: 2062 7920 4349 2e20 285b 5c23 3536 3237   by CI. ([\#5627
-000132a0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-000132b0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-000132c0: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
-000132d0: 3632 3729 290a 2d20 4d6f 7665 2052 6567  627)).- Move Reg
-000132e0: 6973 7472 6174 696f 6e48 616e 646c 6572  istrationHandler
-000132f0: 2e67 6574 5f6f 725f 6372 6561 7465 5f75  .get_or_create_u
-00013300: 7365 7220 746f 2074 6573 7420 636f 6465  ser to test code
-00013310: 2e20 285b 5c23 3536 3238 5d28 6874 7470  . ([\#5628](http
-00013320: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00013330: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00013340: 652f 6973 7375 6573 2f35 3632 3829 290a  e/issues/5628)).
-00013350: 2d20 4164 6420 736f 6d65 206d 6f72 6520  - Add some more 
-00013360: 636f 6d6d 6f6e 2070 7974 686f 6e20 7669  common python vi
-00013370: 7274 7561 6c2d 656e 7669 726f 6e6d 656e  rtual-environmen
-00013380: 7420 7061 7468 7320 746f 2074 6865 2062  t paths to the b
-00013390: 6c61 636b 2065 7863 6c75 7369 6f6e 206c  lack exclusion l
-000133a0: 6973 742e 2028 5b5c 2335 3633 305d 2868  ist. ([\#5630](h
-000133b0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-000133c0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-000133d0: 6170 7365 2f69 7373 7565 732f 3536 3330  apse/issues/5630
-000133e0: 2929 0a2d 2053 6f6d 6520 636f 756e 7465  )).- Some counte
-000133f0: 7220 6d65 7472 6963 7320 6578 706f 7365  r metrics expose
-00013400: 6420 6f76 6572 2050 726f 6d65 7468 6575  d over Prometheu
-00013410: 7320 6861 7665 2062 6565 6e20 7265 6e61  s have been rena
-00013420: 6d65 642c 2077 6974 6820 7468 6520 6f6c  med, with the ol
-00013430: 6420 6e61 6d65 7320 7072 6573 6572 7665  d names preserve
-00013440: 6420 666f 7220 6261 636b 7761 7264 7320  d for backwards 
-00013450: 636f 6d70 6174 6962 696c 6974 7920 616e  compatibility an
-00013460: 6420 6465 7072 6563 6174 6564 2e20 5365  d deprecated. Se
-00013470: 6520 6064 6f63 732f 6d65 7472 6963 732d  e `docs/metrics-
-00013480: 686f 7774 6f2e 7273 7460 2066 6f72 2064  howto.rst` for d
-00013490: 6574 6169 6c73 2e20 285b 5c23 3536 3336  etails. ([\#5636
-000134a0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-000134b0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-000134c0: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
-000134d0: 3633 3629 290a 2d20 556e 626c 6163 6b6c  636)).- Unblackl
-000134e0: 6973 7420 736f 6d65 2075 7365 725f 6469  ist some user_di
-000134f0: 7265 6374 6f72 7920 7379 7465 7374 732e  rectory sytests.
-00013500: 2028 5b5c 2335 3633 375d 2868 7474 7073   ([\#5637](https
-00013510: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00013520: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00013530: 2f69 7373 7565 732f 3536 3337 2929 0a2d  /issues/5637)).-
-00013540: 2046 6163 746f 7220 6f75 7420 736f 6d65   Factor out some
-00013550: 2072 6564 756e 6461 6e74 2063 6f64 6520   redundant code 
-00013560: 696e 2074 6865 206c 6f67 696e 2069 6d70  in the login imp
-00013570: 6c65 6d65 6e74 6174 696f 6e2e 2028 5b5c  lementation. ([\
-00013580: 2335 3633 395d 2868 7474 7073 3a2f 2f67  #5639](https://g
-00013590: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-000135a0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-000135b0: 7565 732f 3536 3339 2929 0a2d 2055 7064  ues/5639)).- Upd
-000135c0: 6174 6520 4d6f 6475 6c65 4170 6920 746f  ate ModuleApi to
-000135d0: 2061 766f 6964 2072 6567 6973 7465 7228   avoid register(
-000135e0: 6765 6e65 7261 7465 5f74 6f6b 656e 3d54  generate_token=T
-000135f0: 7275 6529 2e20 285b 5c23 3536 3430 5d28  rue). ([\#5640](
-00013600: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00013610: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-00013620: 6e61 7073 652f 6973 7375 6573 2f35 3634  napse/issues/564
-00013630: 3029 290a 2d20 5265 6d6f 7665 2061 6363  0)).- Remove acc
-00013640: 6573 732d 746f 6b65 6e20 7375 7070 6f72  ess-token suppor
-00013650: 7420 6672 6f6d 2060 5265 6769 7374 7261  t from `Registra
-00013660: 7469 6f6e 4861 6e64 6c65 722e 7265 6769  tionHandler.regi
-00013670: 7374 6572 602c 2061 6e64 2072 656e 616d  ster`, and renam
-00013680: 6520 6974 2e20 285b 5c23 3536 3431 5d28  e it. ([\#5641](
-00013690: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-000136a0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-000136b0: 6e61 7073 652f 6973 7375 6573 2f35 3634  napse/issues/564
-000136c0: 3129 290a 2d20 5265 6d6f 7665 2061 6363  1)).- Remove acc
-000136d0: 6573 732d 746f 6b65 6e20 7375 7070 6f72  ess-token suppor
-000136e0: 7420 6672 6f6d 2060 5265 6769 7374 7261  t from `Registra
-000136f0: 7469 6f6e 5374 6f72 652e 7265 6769 7374  tionStore.regist
-00013700: 6572 602c 2061 6e64 2072 656e 616d 6520  er`, and rename 
-00013710: 6974 2e20 285b 5c23 3536 3432 5d28 6874  it. ([\#5642](ht
-00013720: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00013730: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00013740: 7073 652f 6973 7375 6573 2f35 3634 3229  pse/issues/5642)
-00013750: 290a 2d20 496d 7072 6f76 6520 6c6f 6767  ).- Improve logg
-00013760: 696e 6720 666f 7220 6175 746f 2d6a 6f69  ing for auto-joi
-00013770: 6e20 7768 656e 2061 206e 6577 2075 7365  n when a new use
-00013780: 7220 6973 2063 7265 6174 6564 2e20 285b  r is created. ([
-00013790: 5c23 3536 3433 5d28 6874 7470 733a 2f2f  \#5643](https://
-000137a0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-000137b0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-000137c0: 7375 6573 2f35 3634 3329 290a 2d20 5265  sues/5643)).- Re
-000137d0: 6d6f 7665 2075 6e75 7365 6420 616e 6420  move unused and 
-000137e0: 756e 6e65 6365 7373 6172 7920 6368 6563  unnecessary chec
-000137f0: 6b20 666f 7220 4665 6465 7261 7469 6f6e  k for Federation
-00013800: 4465 6e69 6564 4572 726f 7220 696e 205f  DeniedError in _
-00013810: 6578 6365 7074 696f 6e5f 746f 5f66 6169  exception_to_fai
-00013820: 6c75 7265 2e20 285b 5c23 3536 3435 5d28  lure. ([\#5645](
-00013830: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00013840: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-00013850: 6e61 7073 652f 6973 7375 6573 2f35 3634  napse/issues/564
-00013860: 3529 290a 2d20 4669 7820 6120 736d 616c  5)).- Fix a smal
-00013870: 6c20 7479 706f 2069 6e20 6120 636f 6465  l typo in a code
-00013880: 2063 6f6d 6d65 6e74 2e20 285b 5c23 3536   comment. ([\#56
-00013890: 3535 5d28 6874 7470 733a 2f2f 6769 7468  55](https://gith
-000138a0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-000138b0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-000138c0: 2f35 3635 3529 290a 2d20 436c 6561 6e20  /5655)).- Clean 
-000138d0: 7570 2065 7863 6570 7469 6f6e 2068 616e  up exception han
-000138e0: 646c 696e 6720 6172 6f75 6e64 2063 6c69  dling around cli
-000138f0: 656e 7420 6163 6365 7373 2074 6f6b 656e  ent access token
-00013900: 732e 2028 5b5c 2335 3635 365d 2868 7474  s. ([\#5656](htt
-00013910: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00013920: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-00013930: 7365 2f69 7373 7565 732f 3536 3536 2929  se/issues/5656))
-00013940: 0a2d 2041 6464 2061 206d 6563 6861 6e69  .- Add a mechani
-00013950: 736d 2066 6f72 2070 6572 2d74 6573 7420  sm for per-test 
-00013960: 686f 6d65 7365 7276 6572 2063 6f6e 6669  homeserver confi
-00013970: 6775 7261 7469 6f6e 2069 6e20 7468 6520  guration in the 
-00013980: 756e 6974 2074 6573 7473 2e20 285b 5c23  unit tests. ([\#
-00013990: 3536 3537 5d28 6874 7470 733a 2f2f 6769  5657](https://gi
-000139a0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-000139b0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-000139c0: 6573 2f35 3635 3729 290a 2d20 496e 6c69  es/5657)).- Inli
-000139d0: 6e65 2069 7373 7565 5f61 6363 6573 735f  ne issue_access_
-000139e0: 746f 6b65 6e2e 2028 5b5c 2335 3635 395d  token. ([\#5659]
-000139f0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00013a00: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00013a10: 796e 6170 7365 2f69 7373 7565 732f 3536  ynapse/issues/56
-00013a20: 3539 2929 0a2d 2055 7064 6174 6520 7468  59)).- Update th
-00013a30: 6520 7379 7465 7374 2042 7569 6c64 4b69  e sytest BuildKi
-00013a40: 7465 2063 6f6e 6669 6775 7261 7469 6f6e  te configuration
-00013a50: 2074 6f20 6368 6563 6b6f 7574 2053 796e   to checkout Syn
-00013a60: 6170 7365 2069 6e20 602f 7372 6360 2e20  apse in `/src`. 
-00013a70: 285b 5c23 3536 3634 5d28 6874 7470 733a  ([\#5664](https:
-00013a80: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00013a90: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00013aa0: 6973 7375 6573 2f35 3636 3429 290a 2d20  issues/5664)).- 
-00013ab0: 4164 6420 6120 6064 6f63 6b65 7260 2074  Add a `docker` t
-00013ac0: 7970 6520 746f 2074 6865 2074 6f77 6e63  ype to the townc
-00013ad0: 7269 6572 2063 6f6e 6669 6775 7261 7469  rier configurati
-00013ae0: 6f6e 2e20 285b 5c23 3536 3733 5d28 6874  on. ([\#5673](ht
-00013af0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00013b00: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00013b10: 7073 652f 6973 7375 6573 2f35 3637 3329  pse/issues/5673)
-00013b20: 290a 2d20 436f 6e76 6572 7420 6073 796e  ).- Convert `syn
-00013b30: 6170 7365 2e66 6564 6572 6174 696f 6e2e  apse.federation.
-00013b40: 7472 616e 7370 6f72 742e 7365 7276 6572  transport.server
-00013b50: 6020 746f 2060 6173 796e 6360 2e20 4d69  ` to `async`. Mi
-00013b60: 6768 7420 696d 7072 6f76 6520 736f 6d65  ght improve some
-00013b70: 2073 7461 636b 2074 7261 6365 732e 2028   stack traces. (
-00013b80: 5b5c 2335 3638 395d 2868 7474 7073 3a2f  [\#5689](https:/
-00013b90: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00013ba0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00013bb0: 7373 7565 732f 3536 3839 2929 0a2d 2044  ssues/5689)).- D
-00013bc0: 6f63 756d 656e 7461 7469 6f6e 2066 6f72  ocumentation for
-00013bd0: 206f 7065 6e74 7261 6369 6e67 2e20 285b   opentracing. ([
-00013be0: 5c23 3537 3033 5d28 6874 7470 733a 2f2f  \#5703](https://
-00013bf0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-00013c00: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00013c10: 7375 6573 2f35 3730 3329 290a 0a0a 5379  sues/5703))...Sy
-00013c20: 6e61 7073 6520 312e 312e 3020 2832 3031  napse 1.1.0 (201
-00013c30: 392d 3037 2d30 3429 0a3d 3d3d 3d3d 3d3d  9-07-04).=======
-00013c40: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00013c50: 3d3d 3d0a 0a41 7320 6f66 2076 312e 312e  ===..As of v1.1.
-00013c60: 302c 2053 796e 6170 7365 206e 6f20 6c6f  0, Synapse no lo
-00013c70: 6e67 6572 2073 7570 706f 7274 7320 5079  nger supports Py
-00013c80: 7468 6f6e 2032 2c20 6e6f 7220 506f 7374  thon 2, nor Post
-00013c90: 6772 6573 2076 6572 7369 6f6e 2039 2e34  gres version 9.4
-00013ca0: 2e0a 5365 6520 7468 6520 5b75 7067 7261  ..See the [upgra
-00013cb0: 6465 206e 6f74 6573 5d28 5550 4752 4144  de notes](UPGRAD
-00013cc0: 452e 7273 7423 7570 6772 6164 696e 672d  E.rst#upgrading-
-00013cd0: 746f 2d76 3131 3029 2066 6f72 206d 6f72  to-v110) for mor
-00013ce0: 6520 6465 7461 696c 732e 0a0a 5468 6973  e details...This
-00013cf0: 2072 656c 6561 7365 2061 6c73 6f20 6465   release also de
-00013d00: 7072 6563 6174 6573 2074 6865 2075 7365  precates the use
-00013d10: 206f 6620 656e 7669 726f 6e6d 656e 7420   of environment 
-00013d20: 7661 7269 6162 6c65 7320 746f 2063 6f6e  variables to con
-00013d30: 6669 6775 7265 2074 6865 0a64 6f63 6b65  figure the.docke
-00013d40: 7220 696d 6167 652e 2053 6565 2074 6865  r image. See the
-00013d50: 205b 646f 636b 6572 2052 4541 444d 455d   [docker README]
-00013d60: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00013d70: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00013d80: 796e 6170 7365 2f62 6c6f 622f 7265 6c65  ynapse/blob/rele
-00013d90: 6173 652d 7631 2e31 2e30 2f64 6f63 6b65  ase-v1.1.0/docke
-00013da0: 722f 5245 4144 4d45 2e6d 6423 6c65 6761  r/README.md#lega
-00013db0: 6379 2d64 796e 616d 6963 2d63 6f6e 6669  cy-dynamic-confi
-00013dc0: 6775 7261 7469 6f6e 2d66 696c 652d 7375  guration-file-su
-00013dd0: 7070 6f72 7429 0a66 6f72 206d 6f72 6520  pport).for more 
-00013de0: 6465 7461 696c 732e 0a0a 4e6f 2063 6861  details...No cha
-00013df0: 6e67 6573 2073 696e 6365 2031 2e31 2e30  nges since 1.1.0
-00013e00: 7263 322e 0a0a 0a53 796e 6170 7365 2031  rc2....Synapse 1
-00013e10: 2e31 2e30 7263 3220 2832 3031 392d 3037  .1.0rc2 (2019-07
-00013e20: 2d30 3329 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d  -03).===========
-00013e30: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00013e40: 3d3d 0a0a 4275 6766 6978 6573 0a2d 2d2d  ==..Bugfixes.---
-00013e50: 2d2d 2d2d 2d0a 0a2d 2046 6978 2072 6567  -----..- Fix reg
-00013e60: 7265 7373 696f 6e20 696e 2031 2e31 7263  ression in 1.1rc
-00013e70: 3120 7768 6572 6520 4f50 5449 4f4e 5320  1 where OPTIONS 
-00013e80: 7265 7175 6573 7473 2074 6f20 7468 6520  requests to the 
-00013e90: 6d65 6469 6120 7265 706f 2077 6f75 6c64  media repo would
-00013ea0: 2066 6169 6c2e 2028 5b5c 2335 3539 335d   fail. ([\#5593]
-00013eb0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00013ec0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00013ed0: 796e 6170 7365 2f69 7373 7565 732f 3535  ynapse/issues/55
-00013ee0: 3933 2929 0a2d 2052 656d 6f76 6564 2074  93)).- Removed t
-00013ef0: 6865 2060 5359 4e41 5053 455f 534d 5450  he `SYNAPSE_SMTP
-00013f00: 5f2a 6020 646f 636b 6572 2063 6f6e 7461  _*` docker conta
-00013f10: 696e 6572 2065 6e76 6972 6f6e 6d65 6e74  iner environment
-00013f20: 2076 6172 6961 626c 6573 2e20 5573 696e   variables. Usin
-00013f30: 6720 7468 6573 6520 656e 7669 726f 6e6d  g these environm
-00013f40: 656e 7420 7661 7269 6162 6c65 7320 7072  ent variables pr
-00013f50: 6576 656e 7465 6420 7468 6520 646f 636b  evented the dock
-00013f60: 6572 2063 6f6e 7461 696e 6572 2066 726f  er container fro
-00013f70: 6d20 7374 6172 7469 6e67 2069 6e20 5379  m starting in Sy
-00013f80: 6e61 7073 6520 7631 2e30 2c20 6576 656e  napse v1.0, even
-00013f90: 2074 686f 7567 6820 7468 6579 2064 6964   though they did
-00013fa0: 6e27 7420 6163 7475 616c 6c79 2061 6c6c  n't actually all
-00013fb0: 6f77 2061 6e79 2066 756e 6374 696f 6e61  ow any functiona
-00013fc0: 6c69 7479 2061 6e79 7761 792e 2028 5b5c  lity anyway. ([\
-00013fd0: 2335 3539 365d 2868 7474 7073 3a2f 2f67  #5596](https://g
-00013fe0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-00013ff0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-00014000: 7565 732f 3535 3936 2929 0a2d 2046 6978  ues/5596)).- Fix
-00014010: 2061 206e 756d 6265 7220 6f66 2022 5374   a number of "St
-00014020: 6172 7469 6e67 2074 786e 2066 726f 6d20  arting txn from 
-00014030: 7365 6e74 696e 656c 2063 6f6e 7465 7874  sentinel context
-00014040: 2220 7761 726e 696e 6773 2e20 285b 5c23  " warnings. ([\#
-00014050: 3536 3035 5d28 6874 7470 733a 2f2f 6769  5605](https://gi
-00014060: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-00014070: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-00014080: 6573 2f35 3630 3529 290a 0a0a 496e 7465  es/5605))...Inte
-00014090: 726e 616c 2043 6861 6e67 6573 0a2d 2d2d  rnal Changes.---
-000140a0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a 0a2d  -------------..-
-000140b0: 2055 7064 6174 6520 6769 7468 7562 2074   Update github t
-000140c0: 656d 706c 6174 6573 2e20 285b 5c23 3535  emplates. ([\#55
-000140d0: 3532 5d28 6874 7470 733a 2f2f 6769 7468  52](https://gith
-000140e0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-000140f0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00014100: 2f35 3535 3229 290a 0a0a 5379 6e61 7073  /5552))...Synaps
-00014110: 6520 312e 312e 3072 6331 2028 3230 3139  e 1.1.0rc1 (2019
-00014120: 2d30 372d 3032 290a 3d3d 3d3d 3d3d 3d3d  -07-02).========
-00014130: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00014140: 3d3d 3d3d 3d0a 0a41 7320 6f66 2076 312e  =====..As of v1.
-00014150: 312e 302c 2053 796e 6170 7365 206e 6f20  1.0, Synapse no 
-00014160: 6c6f 6e67 6572 2073 7570 706f 7274 7320  longer supports 
-00014170: 5079 7468 6f6e 2032 2c20 6e6f 7220 506f  Python 2, nor Po
-00014180: 7374 6772 6573 2076 6572 7369 6f6e 2039  stgres version 9
-00014190: 2e34 2e0a 5365 6520 7468 6520 5b75 7067  .4..See the [upg
-000141a0: 7261 6465 206e 6f74 6573 5d28 5550 4752  rade notes](UPGR
-000141b0: 4144 452e 7273 7423 7570 6772 6164 696e  ADE.rst#upgradin
-000141c0: 672d 746f 2d76 3131 3029 2066 6f72 206d  g-to-v110) for m
-000141d0: 6f72 6520 6465 7461 696c 732e 0a0a 4665  ore details...Fe
-000141e0: 6174 7572 6573 0a2d 2d2d 2d2d 2d2d 2d0a  atures.--------.
-000141f0: 0a2d 2041 6464 6564 2070 6f73 7369 6269  .- Added possibi
-00014200: 6c74 7920 746f 2064 6973 6162 6c65 206c  lty to disable l
-00014210: 6f63 616c 2070 6173 7377 6f72 6420 6175  ocal password au
-00014220: 7468 656e 7469 6361 7469 6f6e 2e20 436f  thentication. Co
-00014230: 6e74 7269 6275 7465 6420 6279 2044 616e  ntributed by Dan
-00014240: 6965 6c20 486f 6666 656e 642e 2028 5b5c  iel Hoffend. ([\
-00014250: 2335 3039 325d 2868 7474 7073 3a2f 2f67  #5092](https://g
-00014260: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-00014270: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-00014280: 7565 732f 3530 3932 2929 0a2d 2041 6464  ues/5092)).- Add
-00014290: 206d 6f6e 7468 6c79 2061 6374 6976 6520   monthly active 
-000142a0: 7573 6572 7320 746f 2070 686f 6e65 686f  users to phoneho
-000142b0: 6d65 2073 7461 7473 2e20 285b 5c23 3532  me stats. ([\#52
-000142c0: 3532 5d28 6874 7470 733a 2f2f 6769 7468  52](https://gith
-000142d0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-000142e0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-000142f0: 2f35 3235 3229 290a 2d20 416c 6c6f 7720  /5252)).- Allow 
-00014300: 6578 7069 7265 6420 7573 6572 2074 6f20  expired user to 
-00014310: 7472 6967 6765 7220 7265 6e65 7761 6c20  trigger renewal 
-00014320: 656d 6169 6c20 7365 6e64 696e 6720 6d61  email sending ma
-00014330: 6e75 616c 6c79 2e20 285b 5c23 3533 3633  nually. ([\#5363
-00014340: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00014350: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00014360: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
-00014370: 3336 3329 290a 2d20 5374 6174 6973 7469  363)).- Statisti
-00014380: 6373 206f 6e20 666f 7277 6172 6420 6578  cs on forward ex
-00014390: 7472 656d 6974 6965 7320 7065 7220 726f  tremities per ro
-000143a0: 6f6d 2061 7265 206e 6f77 2065 7870 6f73  om are now expos
-000143b0: 6564 2076 6961 2050 726f 6d65 7468 6575  ed via Prometheu
-000143c0: 732e 2028 5b5c 2335 3338 345d 2868 7474  s. ([\#5384](htt
-000143d0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-000143e0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-000143f0: 7365 2f69 7373 7565 732f 3533 3834 292c  se/issues/5384),
-00014400: 205b 5c23 3534 3538 5d28 6874 7470 733a   [\#5458](https:
-00014410: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00014420: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00014430: 6973 7375 6573 2f35 3435 3829 2c20 5b5c  issues/5458), [\
-00014440: 2335 3436 315d 2868 7474 7073 3a2f 2f67  #5461](https://g
-00014450: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-00014460: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-00014470: 7565 732f 3534 3631 2929 0a2d 2041 6464  ues/5461)).- Add
-00014480: 202d 2d6e 6f2d 6461 656d 6f6e 697a 6520   --no-daemonize 
-00014490: 6f70 7469 6f6e 2074 6f20 7275 6e20 7379  option to run sy
-000144a0: 6e61 7073 6520 696e 2074 6865 2066 6f72  napse in the for
-000144b0: 6567 726f 756e 642c 2070 6572 2069 7373  eground, per iss
-000144c0: 7565 2023 3431 3330 2e20 436f 6e74 7269  ue #4130. Contri
-000144d0: 6275 7465 6420 6279 2053 6f68 616d 2047  buted by Soham G
-000144e0: 756d 6173 7465 2e20 285b 5c23 3534 3132  umaste. ([\#5412
-000144f0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00014500: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00014510: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
-00014520: 3431 3229 2c20 5b5c 2335 3538 375d 2868  412), [\#5587](h
-00014530: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00014540: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00014550: 6170 7365 2f69 7373 7565 732f 3535 3837  apse/issues/5587
-00014560: 2929 0a2d 2046 756c 6c79 2073 7570 706f  )).- Fully suppo
-00014570: 7274 2053 414d 4c32 2061 7574 6865 6e74  rt SAML2 authent
-00014580: 6963 6174 696f 6e2e 2043 6f6e 7472 6962  ication. Contrib
-00014590: 7574 6564 2062 7920 5b41 6c65 7861 6e64  uted by [Alexand
-000145a0: 6572 2054 726f 7374 5d28 6874 7470 733a  er Trost](https:
-000145b0: 2f2f 6769 7468 7562 2e63 6f6d 2f67 616c  //github.com/gal
-000145c0: 6578 7274 2920 2d20 7468 616e 6b20 796f  exrt) - thank yo
-000145d0: 7521 2028 5b5c 2335 3432 325d 2868 7474  u! ([\#5422](htt
-000145e0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-000145f0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-00014600: 7365 2f69 7373 7565 732f 3534 3232 2929  se/issues/5422))
-00014610: 0a2d 2041 6c6c 6f77 2073 6572 7665 7220  .- Allow server 
-00014620: 6164 6d69 6e73 2074 6f20 6465 6669 6e65  admins to define
-00014630: 2069 6d70 6c65 6d65 6e74 6174 696f 6e73   implementations
-00014640: 206f 6620 6578 7472 6120 7275 6c65 7320   of extra rules 
-00014650: 666f 7220 616c 6c6f 7769 6e67 206f 7220  for allowing or 
-00014660: 6465 6e79 696e 6720 696e 636f 6d69 6e67  denying incoming
-00014670: 2065 7665 6e74 732e 2028 5b5c 2335 3434   events. ([\#544
-00014680: 305d 2868 7474 7073 3a2f 2f67 6974 6875  0](https://githu
-00014690: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-000146a0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-000146b0: 3534 3430 292c 205b 5c23 3534 3734 5d28  5440), [\#5474](
-000146c0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-000146d0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-000146e0: 6e61 7073 652f 6973 7375 6573 2f35 3437  napse/issues/547
-000146f0: 3429 2c20 5b5c 2335 3437 375d 2868 7474  4), [\#5477](htt
-00014700: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00014710: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-00014720: 7365 2f69 7373 7565 732f 3534 3737 2929  se/issues/5477))
-00014730: 0a2d 2041 6464 2073 7570 706f 7274 2066  .- Add support f
-00014740: 6f72 2068 616e 646c 696e 6720 7061 6769  or handling pagi
-00014750: 6e61 7469 6f6e 2041 5049 7320 6f6e 2063  nation APIs on c
-00014760: 6c69 656e 7420 7265 6164 6572 2077 6f72  lient reader wor
-00014770: 6b65 722e 2028 5b5c 2335 3530 355d 2868  ker. ([\#5505](h
-00014780: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00014790: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-000147a0: 6170 7365 2f69 7373 7565 732f 3535 3035  apse/issues/5505
-000147b0: 292c 205b 5c23 3535 3133 5d28 6874 7470  ), [\#5513](http
-000147c0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-000147d0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-000147e0: 652f 6973 7375 6573 2f35 3531 3329 2c20  e/issues/5513), 
-000147f0: 5b5c 2335 3533 315d 2868 7474 7073 3a2f  [\#5531](https:/
-00014800: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00014810: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00014820: 7373 7565 732f 3535 3331 2929 0a2d 2049  ssues/5531)).- I
-00014830: 6d70 726f 7665 2068 656c 7020 616e 6420  mprove help and 
-00014840: 636d 646c 696e 6520 6f70 7469 6f6e 206e  cmdline option n
-00014850: 616d 6573 2066 6f72 202d 2d67 656e 6572  ames for --gener
-00014860: 6174 652d 636f 6e66 6967 206f 7074 696f  ate-config optio
-00014870: 6e73 2e20 285b 5c23 3535 3132 5d28 6874  ns. ([\#5512](ht
-00014880: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00014890: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-000148a0: 7073 652f 6973 7375 6573 2f35 3531 3229  pse/issues/5512)
-000148b0: 290a 2d20 416c 6c6f 7720 636f 6e66 6967  ).- Allow config
-000148c0: 7572 6174 696f 6e20 6f66 2074 6865 2070  uration of the p
-000148d0: 6174 6820 7573 6564 2066 6f72 2041 434d  ath used for ACM
-000148e0: 4520 6163 636f 756e 7420 6b65 7973 2e20  E account keys. 
-000148f0: 285b 5c23 3535 3136 5d28 6874 7470 733a  ([\#5516](https:
-00014900: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00014910: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00014920: 6973 7375 6573 2f35 3531 3629 2c20 5b5c  issues/5516), [\
-00014930: 2335 3532 315d 2868 7474 7073 3a2f 2f67  #5521](https://g
-00014940: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-00014950: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-00014960: 7565 732f 3535 3231 292c 205b 5c23 3535  ues/5521), [\#55
-00014970: 3232 5d28 6874 7470 733a 2f2f 6769 7468  22](https://gith
-00014980: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00014990: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-000149a0: 2f35 3532 3229 290a 2d20 4164 6420 2d2d  /5522)).- Add --
-000149b0: 6461 7461 2d64 6972 2061 6e64 202d 2d6f  data-dir and --o
-000149c0: 7065 6e2d 7072 6976 6174 652d 706f 7274  pen-private-port
-000149d0: 7320 6f70 7469 6f6e 732e 2028 5b5c 2335  s options. ([\#5
-000149e0: 3532 345d 2868 7474 7073 3a2f 2f67 6974  524](https://git
-000149f0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-00014a00: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-00014a10: 732f 3535 3234 2929 0a2d 2053 706c 6974  s/5524)).- Split
-00014a20: 2070 7562 6c69 6320 726f 6f6d 7320 6469   public rooms di
-00014a30: 7265 6374 6f72 7920 6175 7468 2063 6f6e  rectory auth con
-00014a40: 6669 6720 696e 2074 776f 2073 6574 7469  fig in two setti
-00014a50: 6e67 732c 2069 6e20 6f72 6465 7220 746f  ngs, in order to
-00014a60: 206d 616e 6167 6520 636c 6965 6e74 2061   manage client a
-00014a70: 7574 6820 696e 6465 7065 6e64 656e 746c  uth independentl
-00014a80: 7920 6672 6f6d 2074 6865 2066 6564 6572  y from the feder
-00014a90: 6174 696f 6e20 7061 7274 206f 6620 6974  ation part of it
-00014aa0: 2e20 4f62 736f 6c65 7465 7320 7468 6520  . Obsoletes the 
-00014ab0: 2272 6573 7472 6963 745f 7075 626c 6963  "restrict_public
-00014ac0: 5f72 6f6f 6d73 5f74 6f5f 6c6f 6361 6c5f  _rooms_to_local_
-00014ad0: 7573 6572 7322 2063 6f6e 6669 6775 7261  users" configura
-00014ae0: 7469 6f6e 2073 6574 7469 6e67 2e20 4966  tion setting. If
-00014af0: 2022 7265 7374 7269 6374 5f70 7562 6c69   "restrict_publi
-00014b00: 635f 726f 6f6d 735f 746f 5f6c 6f63 616c  c_rooms_to_local
-00014b10: 5f75 7365 7273 2220 6973 2073 6574 2069  _users" is set i
-00014b20: 6e20 7468 6520 636f 6e66 6967 2c20 5379  n the config, Sy
-00014b30: 6e61 7073 6520 7769 6c6c 2061 6374 2061  napse will act a
-00014b40: 7320 6966 2062 6f74 6820 6e65 7720 6f70  s if both new op
-00014b50: 7469 6f6e 7320 6172 6520 656e 6162 6c65  tions are enable
-00014b60: 642c 2069 2e65 2e20 7265 7175 6972 6520  d, i.e. require 
-00014b70: 6175 7468 656e 7469 6361 7469 6f6e 2074  authentication t
-00014b80: 6872 6f75 6768 2074 6865 2063 6c69 656e  hrough the clien
-00014b90: 7420 4150 4920 616e 6420 6465 6e79 2066  t API and deny f
-00014ba0: 6564 6572 6174 696f 6e20 7265 7175 6573  ederation reques
-00014bb0: 7473 2e20 285b 5c23 3535 3334 5d28 6874  ts. ([\#5534](ht
-00014bc0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00014bd0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00014be0: 7073 652f 6973 7375 6573 2f35 3533 3429  pse/issues/5534)
-00014bf0: 290a 2d20 5468 6520 6d69 6e69 6d75 6d20  ).- The minimum 
-00014c00: 544c 5320 7665 7273 696f 6e20 7573 6564  TLS version used
-00014c10: 2066 6f72 206f 7574 676f 696e 6720 6665   for outgoing fe
-00014c20: 6465 7261 7469 6f6e 2072 6571 7565 7374  deration request
-00014c30: 7320 6361 6e20 6e6f 7720 6265 2073 6574  s can now be set
-00014c40: 2077 6974 6820 6066 6564 6572 6174 696f   with `federatio
-00014c50: 6e5f 636c 6965 6e74 5f6d 696e 696d 756d  n_client_minimum
-00014c60: 5f74 6c73 5f76 6572 7369 6f6e 602e 2028  _tls_version`. (
-00014c70: 5b5c 2335 3535 305d 2868 7474 7073 3a2f  [\#5550](https:/
-00014c80: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00014c90: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00014ca0: 7373 7565 732f 3535 3530 2929 0a2d 204f  ssues/5550)).- O
-00014cb0: 7074 696d 6973 6520 6465 7669 6365 7320  ptimise devices 
-00014cc0: 6368 616e 6765 6420 7175 6572 7920 746f  changed query to
-00014cd0: 206e 6f74 2070 756c 6c20 756e 6e65 6365   not pull unnece
-00014ce0: 7373 6172 7920 726f 7773 2066 726f 6d20  ssary rows from 
-00014cf0: 7468 6520 6461 7461 6261 7365 2c20 7265  the database, re
-00014d00: 6475 6369 6e67 2064 6174 6162 6173 6520  ducing database 
-00014d10: 6c6f 6164 2e20 285b 5c23 3535 3539 5d28  load. ([\#5559](
-00014d20: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00014d30: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-00014d40: 6e61 7073 652f 6973 7375 6573 2f35 3535  napse/issues/555
-00014d50: 3929 290a 2d20 4164 6420 6e65 7720 6d65  9)).- Add new me
-00014d60: 7472 6963 7320 666f 7220 6e75 6d62 6572  trics for number
-00014d70: 206f 6620 666f 7277 6172 6420 6578 7472   of forward extr
-00014d80: 656d 6974 6965 7320 6265 696e 6720 7065  emities being pe
-00014d90: 7273 6973 7465 6420 616e 6420 6e75 6d62  rsisted and numb
-00014da0: 6572 206f 6620 7374 6174 6520 6772 6f75  er of state grou
-00014db0: 7073 2069 6e76 6f6c 7665 6420 696e 2072  ps involved in r
-00014dc0: 6573 6f6c 7574 696f 6e2e 2028 5b5c 2335  esolution. ([\#5
-00014dd0: 3437 365d 2868 7474 7073 3a2f 2f67 6974  476](https://git
-00014de0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-00014df0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-00014e00: 732f 3534 3736 2929 0a0a 4275 6766 6978  s/5476))..Bugfix
-00014e10: 6573 0a2d 2d2d 2d2d 2d2d 2d0a 0a2d 2046  es.--------..- F
-00014e20: 6978 2062 7567 2070 726f 6365 7373 696e  ix bug processin
-00014e30: 6720 696e 636f 6d69 6e67 2065 7665 6e74  g incoming event
-00014e40: 7320 6f76 6572 2066 6564 6572 6174 696f  s over federatio
-00014e50: 6e20 6966 2063 616c 6c20 746f 2060 2f67  n if call to `/g
-00014e60: 6574 5f6d 6973 7369 6e67 5f65 7665 6e74  et_missing_event
-00014e70: 7360 2066 6169 6c73 2e20 285b 5c23 3530  s` fails. ([\#50
-00014e80: 3432 5d28 6874 7470 733a 2f2f 6769 7468  42](https://gith
-00014e90: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00014ea0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00014eb0: 2f35 3034 3229 290a 2d20 5072 6576 656e  /5042)).- Preven
-00014ec0: 7420 6d6f 7265 2074 6861 6e20 6f6e 6520  t more than one 
-00014ed0: 726f 6f6d 2075 7067 7261 6465 2068 6170  room upgrade hap
-00014ee0: 7065 6e69 6e67 2073 696d 756c 7461 6e65  pening simultane
-00014ef0: 6f75 736c 7920 6f6e 2074 6865 2073 616d  ously on the sam
-00014f00: 6520 726f 6f6d 2e20 285b 5c23 3530 3531  e room. ([\#5051
-00014f10: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00014f20: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00014f30: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
-00014f40: 3035 3129 290a 2d20 4669 7820 6120 6275  051)).- Fix a bu
-00014f50: 6720 7768 6572 6520 7275 6e6e 696e 6720  g where running 
-00014f60: 7379 6e61 7073 655f 706f 7274 5f64 6220  synapse_port_db 
-00014f70: 776f 756c 6420 6361 7573 6520 7468 6520  would cause the 
-00014f80: 6163 636f 756e 7420 7661 6c69 6469 7479  account validity
-00014f90: 2066 6561 7475 7265 2074 6f20 6661 696c   feature to fail
-00014fa0: 2062 6563 6175 7365 2069 7420 6469 646e   because it didn
-00014fb0: 2774 2073 6574 2074 6865 2074 7970 6520  't set the type 
-00014fc0: 6f66 2074 6865 2065 6d61 696c 5f73 656e  of the email_sen
-00014fd0: 7420 636f 6c75 6d6e 2074 6f20 626f 6f6c  t column to bool
-00014fe0: 6561 6e2e 2028 5b5c 2335 3332 355d 2868  ean. ([\#5325](h
-00014ff0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00015000: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00015010: 6170 7365 2f69 7373 7565 732f 3533 3235  apse/issues/5325
-00015020: 2929 0a2d 2057 6172 6e20 6162 6f75 7420  )).- Warn about 
-00015030: 6469 7361 626c 696e 6720 656d 6169 6c2d  disabling email-
-00015040: 6261 7365 6420 7061 7373 776f 7264 2072  based password r
-00015050: 6573 6574 7320 7768 656e 2061 2072 6573  esets when a res
-00015060: 6574 206f 6363 7572 732c 2061 6e64 2072  et occurs, and r
-00015070: 656d 6f76 6520 7761 726e 696e 6720 7768  emove warning wh
-00015080: 656e 2073 6f6d 656f 6e65 2061 7474 656d  en someone attem
-00015090: 7074 7320 6120 7068 6f6e 652d 6261 7365  pts a phone-base
-000150a0: 6420 7265 7365 742e 2028 5b5c 2335 3338  d reset. ([\#538
-000150b0: 375d 2868 7474 7073 3a2f 2f67 6974 6875  7](https://githu
-000150c0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-000150d0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-000150e0: 3533 3837 2929 0a2d 2046 6978 2065 6d61  5387)).- Fix ema
-000150f0: 696c 206e 6f74 6966 6963 6174 696f 6e73  il notifications
-00015100: 2066 6f72 2075 6e6e 616d 6564 2072 6f6f   for unnamed roo
-00015110: 6d73 2077 6974 6820 6d75 6c74 6970 6c65  ms with multiple
-00015120: 2070 656f 706c 652e 2028 5b5c 2335 3338   people. ([\#538
-00015130: 385d 2868 7474 7073 3a2f 2f67 6974 6875  8](https://githu
-00015140: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-00015150: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-00015160: 3533 3838 2929 0a2d 2046 6978 2065 7863  5388)).- Fix exc
-00015170: 6570 7469 6f6e 7320 696e 2066 6564 6572  eptions in feder
-00015180: 6174 696f 6e20 7265 6164 6572 2077 6f72  ation reader wor
-00015190: 6b65 7220 6361 7573 6564 2062 7920 6174  ker caused by at
-000151a0: 7465 6d70 7469 6e67 2074 6f20 7265 6e65  tempting to rene
-000151b0: 7720 6174 7465 7374 6174 696f 6e73 2c20  w attestations, 
-000151c0: 7768 6963 6820 7368 6f75 6c64 206f 6e6c  which should onl
-000151d0: 7920 6861 7070 656e 206f 6e20 6d61 7374  y happen on mast
-000151e0: 6572 2077 6f72 6b65 722e 2028 5b5c 2335  er worker. ([\#5
-000151f0: 3338 395d 2868 7474 7073 3a2f 2f67 6974  389](https://git
-00015200: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-00015210: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-00015220: 732f 3533 3839 2929 0a2d 2046 6978 2068  s/5389)).- Fix h
-00015230: 616e 646c 696e 6720 6f66 2066 6169 6c75  andling of failu
-00015240: 7265 7320 6665 7463 6869 6e67 2072 656d  res fetching rem
-00015250: 6f74 6520 636f 6e74 656e 7420 746f 206e  ote content to n
-00015260: 6f74 206c 6f67 2066 6169 6c75 7265 7320  ot log failures 
-00015270: 6173 2065 7863 6570 7469 6f6e 732e 2028  as exceptions. (
-00015280: 5b5c 2335 3339 305d 2868 7474 7073 3a2f  [\#5390](https:/
-00015290: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-000152a0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-000152b0: 7373 7565 732f 3533 3930 2929 0a2d 2046  ssues/5390)).- F
-000152c0: 6978 2061 2062 7567 2077 6865 7265 2064  ix a bug where d
-000152d0: 6561 6374 6976 6174 6564 2075 7365 7273  eactivated users
-000152e0: 2063 6f75 6c64 2072 6563 6569 7665 2072   could receive r
-000152f0: 656e 6577 616c 2065 6d61 696c 7320 6966  enewal emails if
-00015300: 2074 6865 2061 6363 6f75 6e74 2076 616c   the account val
-00015310: 6964 6974 7920 6665 6174 7572 6520 6973  idity feature is
-00015320: 206f 6e2e 2028 5b5c 2335 3339 345d 2868   on. ([\#5394](h
-00015330: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00015340: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00015350: 6170 7365 2f69 7373 7565 732f 3533 3934  apse/issues/5394
-00015360: 2929 0a2d 2046 6978 206d 6973 7369 6e67  )).- Fix missing
-00015370: 2069 6e76 6974 6520 7374 6174 6520 6166   invite state af
-00015380: 7465 7220 6578 6368 616e 6769 6e67 2033  ter exchanging 3
-00015390: 5049 4420 696e 7669 7465 7320 6f76 6572  PID invites over
-000153a0: 2066 6564 6572 6174 6f6e 2e20 285b 5c23   federaton. ([\#
-000153b0: 3534 3634 5d28 6874 7470 733a 2f2f 6769  5464](https://gi
-000153c0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-000153d0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-000153e0: 6573 2f35 3436 3429 290a 2d20 4669 7820  es/5464)).- Fix 
-000153f0: 696e 7465 726d 6974 7465 6e74 2065 7863  intermittent exc
-00015400: 6570 7469 6f6e 7320 6f6e 2041 7070 6c65  eptions on Apple
-00015410: 2068 6172 6477 6172 652e 2041 6c73 6f20   hardware. Also 
-00015420: 6669 7820 6275 6720 7468 6174 2063 6175  fix bug that cau
-00015430: 7365 6420 6461 7461 6261 7365 2061 6374  sed database act
-00015440: 6976 6974 7920 7469 6d65 7320 746f 2062  ivity times to b
-00015450: 6520 756e 6465 722d 7265 706f 7274 6564  e under-reported
-00015460: 2069 6e20 6c6f 6720 6c69 6e65 732e 2028   in log lines. (
-00015470: 5b5c 2335 3439 385d 2868 7474 7073 3a2f  [\#5498](https:/
-00015480: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00015490: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-000154a0: 7373 7565 732f 3534 3938 2929 0a2d 2046  ssues/5498)).- F
-000154b0: 6978 206c 6f67 6769 6e67 2065 7272 6f72  ix logging error
-000154c0: 2077 6865 6e20 6120 7461 6d70 6572 6564   when a tampered
-000154d0: 2065 7665 6e74 2069 7320 6465 7465 6374   event is detect
-000154e0: 6564 2e20 285b 5c23 3535 3030 5d28 6874  ed. ([\#5500](ht
-000154f0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00015500: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00015510: 7073 652f 6973 7375 6573 2f35 3530 3029  pse/issues/5500)
-00015520: 290a 2d20 4669 7820 6275 6720 7768 6572  ).- Fix bug wher
-00015530: 6520 636c 6965 6e74 7320 636f 756c 6420  e clients could 
-00015540: 7469 6768 7420 6c6f 6f70 2063 616c 6c69  tight loop calli
-00015550: 6e67 2060 2f73 796e 6360 2066 6f72 2061  ng `/sync` for a
-00015560: 2070 6572 696f 642e 2028 5b5c 2335 3530   period. ([\#550
-00015570: 375d 2868 7474 7073 3a2f 2f67 6974 6875  7](https://githu
-00015580: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-00015590: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-000155a0: 3535 3037 2929 0a2d 2046 6978 2062 7567  5507)).- Fix bug
-000155b0: 2077 6974 6820 606a 696e 6a61 3260 2070   with `jinja2` p
-000155c0: 7265 7665 6e74 696e 6720 5379 6e61 7073  reventing Synaps
-000155d0: 6520 6672 6f6d 2073 7461 7274 696e 672e  e from starting.
-000155e0: 2055 7365 7273 2077 686f 2068 6164 2074   Users who had t
-000155f0: 6869 7320 7072 6f62 6c65 6d20 7368 6f75  his problem shou
-00015600: 6c64 206e 6f77 2073 696d 706c 7920 6e65  ld now simply ne
-00015610: 6564 2074 6f20 7275 6e20 6070 6970 2069  ed to run `pip i
-00015620: 6e73 7461 6c6c 206d 6174 7269 782d 7379  nstall matrix-sy
-00015630: 6e61 7073 6560 2e20 285b 5c23 3535 3134  napse`. ([\#5514
-00015640: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00015650: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00015660: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
-00015670: 3531 3429 290a 2d20 4669 7820 6120 7265  514)).- Fix a re
-00015680: 6772 6573 7369 6f6e 2077 6865 7265 2068  gression where h
-00015690: 6f6d 6573 6572 7665 7273 206f 6e20 7072  omeservers on pr
-000156a0: 6976 6174 6520 4950 2061 6464 7265 7373  ivate IP address
-000156b0: 6573 2077 6572 6520 696e 636f 7272 6563  es were incorrec
-000156c0: 746c 7920 626c 6163 6b6c 6973 7465 642e  tly blacklisted.
-000156d0: 2028 5b5c 2335 3532 335d 2868 7474 7073   ([\#5523](https
-000156e0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-000156f0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00015700: 2f69 7373 7565 732f 3535 3233 2929 0a2d  /issues/5523)).-
-00015710: 2046 6978 6564 206d 2e6c 6f67 696e 2e6a   Fixed m.login.j
-00015720: 7774 2075 7369 6e67 2075 6e72 6567 6973  wt using unregis
-00015730: 7472 6564 2075 7365 725f 6964 2061 6e64  tred user_id and
-00015740: 2061 6464 6564 2070 796a 7774 3e3d 312e   added pyjwt>=1.
-00015750: 362e 3420 6173 206a 7774 2063 6f6e 6469  6.4 as jwt condi
-00015760: 7469 6f6e 616c 2064 6570 656e 6465 6e63  tional dependenc
-00015770: 6965 732e 2043 6f6e 7472 6962 7574 6564  ies. Contributed
-00015780: 2062 7920 5061 7520 526f 6472 6967 7565   by Pau Rodrigue
-00015790: 7a2d 4573 7469 7669 6c6c 2e20 285b 5c23  z-Estivill. ([\#
-000157a0: 3535 3535 5d28 6874 7470 733a 2f2f 6769  5555](https://gi
-000157b0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-000157c0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-000157d0: 6573 2f35 3535 3529 2c20 5b5c 2335 3538  es/5555), [\#558
-000157e0: 365d 2868 7474 7073 3a2f 2f67 6974 6875  6](https://githu
-000157f0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-00015800: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-00015810: 3535 3836 2929 0a2d 2046 6978 2061 2062  5586)).- Fix a b
-00015820: 7567 2074 6861 7420 776f 756c 6420 6361  ug that would ca
-00015830: 7573 6520 696e 7669 7465 6420 7573 6572  use invited user
-00015840: 7320 746f 2072 6563 6569 7665 2073 6576  s to receive sev
-00015850: 6572 616c 2065 6d61 696c 7320 666f 7220  eral emails for 
-00015860: 6120 7369 6e67 6c65 2033 5049 4420 696e  a single 3PID in
-00015870: 7669 7465 2069 6e20 6361 7365 2074 6865  vite in case the
-00015880: 2069 6e76 6974 6572 2069 7320 7261 7465   inviter is rate
-00015890: 206c 696d 6974 6564 2e20 285b 5c23 3535   limited. ([\#55
-000158a0: 3736 5d28 6874 7470 733a 2f2f 6769 7468  76](https://gith
-000158b0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-000158c0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-000158d0: 2f35 3537 3629 290a 0a0a 5570 6461 7465  /5576))...Update
-000158e0: 7320 746f 2074 6865 2044 6f63 6b65 7220  s to the Docker 
-000158f0: 696d 6167 650a 2d2d 2d2d 2d2d 2d2d 2d2d  image.----------
-00015900: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00015910: 2d0a 2d20 4164 6420 6162 696c 6974 7920  -.- Add ability 
-00015920: 746f 2063 6861 6e67 6520 446f 636b 6572  to change Docker
-00015930: 2063 6f6e 7461 696e 6572 7320 5b74 696d   containers [tim
-00015940: 657a 6f6e 655d 2868 7474 7073 3a2f 2f65  ezone](https://e
-00015950: 6e2e 7769 6b69 7065 6469 612e 6f72 672f  n.wikipedia.org/
-00015960: 7769 6b69 2f4c 6973 745f 6f66 5f74 7a5f  wiki/List_of_tz_
-00015970: 6461 7461 6261 7365 5f74 696d 655f 7a6f  database_time_zo
-00015980: 6e65 7329 2077 6974 6820 7468 6520 6054  nes) with the `T
-00015990: 5a60 2076 6172 6961 626c 652e 2028 5b5c  Z` variable. ([\
-000159a0: 2335 3338 335d 2868 7474 7073 3a2f 2f67  #5383](https://g
-000159b0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-000159c0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-000159d0: 7565 732f 3533 3833 2929 0a2d 2055 7064  ues/5383)).- Upd
-000159e0: 6174 6520 646f 636b 6572 2069 6d61 6765  ate docker image
-000159f0: 2074 6f20 7573 6520 5079 7468 6f6e 2033   to use Python 3
-00015a00: 2e37 2e20 285b 5c23 3535 3436 5d28 6874  .7. ([\#5546](ht
-00015a10: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00015a20: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00015a30: 7073 652f 6973 7375 6573 2f35 3534 3629  pse/issues/5546)
-00015a40: 290a 2d20 4465 7072 6563 6174 6520 7468  ).- Deprecate th
-00015a50: 6520 7573 6520 6f66 2065 6e76 6972 6f6e  e use of environ
-00015a60: 6d65 6e74 2076 6172 6961 626c 6573 2066  ment variables f
-00015a70: 6f72 2063 6f6e 6669 6775 7261 7469 6f6e  or configuration
-00015a80: 2c20 616e 6420 6d61 6b65 2074 6865 2075  , and make the u
-00015a90: 7365 206f 6620 6120 7374 6174 6963 2063  se of a static c
-00015aa0: 6f6e 6669 6775 7261 7469 6f6e 2074 6865  onfiguration the
-00015ab0: 2064 6566 6175 6c74 2e20 285b 5c23 3535   default. ([\#55
-00015ac0: 3631 5d28 6874 7470 733a 2f2f 6769 7468  61](https://gith
-00015ad0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00015ae0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00015af0: 2f35 3536 3129 2c20 5b5c 2335 3536 325d  /5561), [\#5562]
-00015b00: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00015b10: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00015b20: 796e 6170 7365 2f69 7373 7565 732f 3535  ynapse/issues/55
-00015b30: 3632 292c 205b 5c23 3535 3636 5d28 6874  62), [\#5566](ht
-00015b40: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00015b50: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00015b60: 7073 652f 6973 7375 6573 2f35 3536 3629  pse/issues/5566)
-00015b70: 2c20 5b5c 2335 3536 375d 2868 7474 7073  , [\#5567](https
-00015b80: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00015b90: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00015ba0: 2f69 7373 7565 732f 3535 3637 2929 0a2d  /issues/5567)).-
-00015bb0: 2049 6e63 7265 6173 6520 6465 6661 756c   Increase defaul
-00015bc0: 7420 6c6f 6720 6c65 7665 6c20 666f 7220  t log level for 
-00015bd0: 646f 636b 6572 2069 6d61 6765 2074 6f20  docker image to 
-00015be0: 494e 464f 2e20 4974 2063 616e 2073 7469  INFO. It can sti
-00015bf0: 6c6c 2062 6520 6368 616e 6765 6420 6279  ll be changed by
-00015c00: 2065 6469 7469 6e67 2074 6865 2067 656e   editing the gen
-00015c10: 6572 6174 6564 206c 6f67 2e63 6f6e 6669  erated log.confi
-00015c20: 6720 6669 6c65 2e20 285b 5c23 3535 3437  g file. ([\#5547
-00015c30: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00015c40: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00015c50: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
-00015c60: 3534 3729 290a 2d20 5365 6e64 2073 796e  547)).- Send syn
-00015c70: 6170 7365 206c 6f67 7320 746f 2074 6865  apse logs to the
-00015c80: 2064 6f63 6b65 7220 6c6f 6767 696e 6720   docker logging 
-00015c90: 7379 7374 656d 2c20 6279 2064 6566 6175  system, by defau
-00015ca0: 6c74 2e20 285b 5c23 3535 3635 5d28 6874  lt. ([\#5565](ht
-00015cb0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00015cc0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00015cd0: 7073 652f 6973 7375 6573 2f35 3536 3529  pse/issues/5565)
-00015ce0: 290a 2d20 4f70 656e 2074 6865 206e 6f6e  ).- Open the non
-00015cf0: 2d54 4c53 2070 6f72 7420 6279 2064 6566  -TLS port by def
-00015d00: 6175 6c74 2e20 285b 5c23 3535 3638 5d28  ault. ([\#5568](
-00015d10: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00015d20: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-00015d30: 6e61 7073 652f 6973 7375 6573 2f35 3536  napse/issues/556
-00015d40: 3829 290a 2d20 4669 7820 6661 696c 7572  8)).- Fix failur
-00015d50: 6520 746f 2073 7461 7274 2075 6e64 6572  e to start under
-00015d60: 2064 6f63 6b65 7220 7769 7468 2053 414d   docker with SAM
-00015d70: 4c20 7375 7070 6f72 7420 656e 6162 6c65  L support enable
-00015d80: 642e 2028 5b5c 2335 3439 305d 2868 7474  d. ([\#5490](htt
-00015d90: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00015da0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-00015db0: 7365 2f69 7373 7565 732f 3534 3930 2929  se/issues/5490))
-00015dc0: 0a2d 2055 7365 2061 2073 656e 7369 626c  .- Use a sensibl
-00015dd0: 6520 6c6f 6361 7469 6f6e 2066 6f72 2064  e location for d
-00015de0: 6174 6120 6669 6c65 7320 7768 656e 2067  ata files when g
-00015df0: 656e 6572 6174 696e 6720 6120 636f 6e66  enerating a conf
-00015e00: 6967 2066 696c 652e 2028 5b5c 2335 3536  ig file. ([\#556
-00015e10: 335d 2868 7474 7073 3a2f 2f67 6974 6875  3](https://githu
-00015e20: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-00015e30: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-00015e40: 3535 3633 2929 0a0a 0a44 6570 7265 6361  5563))...Depreca
-00015e50: 7469 6f6e 7320 616e 6420 5265 6d6f 7661  tions and Remova
-00015e60: 6c73 0a2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ls.-------------
-00015e70: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 0a0a 2d20  ------------..- 
-00015e80: 5079 7468 6f6e 2032 2e37 2069 7320 6e6f  Python 2.7 is no
-00015e90: 206c 6f6e 6765 7220 6120 7375 7070 6f72   longer a suppor
-00015ea0: 7465 6420 706c 6174 666f 726d 2e20 5379  ted platform. Sy
-00015eb0: 6e61 7073 6520 6e6f 7720 7265 7175 6972  napse now requir
-00015ec0: 6573 2050 7974 686f 6e20 332e 352b 2074  es Python 3.5+ t
-00015ed0: 6f20 7275 6e2e 2028 5b5c 2335 3432 355d  o run. ([\#5425]
-00015ee0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00015ef0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00015f00: 796e 6170 7365 2f69 7373 7565 732f 3534  ynapse/issues/54
-00015f10: 3235 2929 0a2d 2050 6f73 7467 7265 5351  25)).- PostgreSQ
-00015f20: 4c20 392e 3420 6973 206e 6f20 6c6f 6e67  L 9.4 is no long
-00015f30: 6572 2073 7570 706f 7274 6564 2e20 5379  er supported. Sy
-00015f40: 6e61 7073 6520 7265 7175 6972 6573 2050  napse requires P
-00015f50: 6f73 7467 7265 7320 392e 352b 206f 7220  ostgres 9.5+ or 
-00015f60: 6162 6f76 6520 666f 7220 506f 7374 6772  above for Postgr
-00015f70: 6573 2073 7570 706f 7274 2e20 285b 5c23  es support. ([\#
-00015f80: 3534 3438 5d28 6874 7470 733a 2f2f 6769  5448](https://gi
-00015f90: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-00015fa0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-00015fb0: 6573 2f35 3434 3829 290a 2d20 5265 6d6f  es/5448)).- Remo
-00015fc0: 7665 2073 7570 706f 7274 2066 6f72 2063  ve support for c
-00015fd0: 7075 5f61 6666 696e 6974 7920 7365 7474  pu_affinity sett
-00015fe0: 696e 672e 2028 5b5c 2335 3532 355d 2868  ing. ([\#5525](h
-00015ff0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00016000: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00016010: 6170 7365 2f69 7373 7565 732f 3535 3235  apse/issues/5525
-00016020: 2929 0a0a 0a49 6d70 726f 7665 6420 446f  ))...Improved Do
-00016030: 6375 6d65 6e74 6174 696f 6e0a 2d2d 2d2d  cumentation.----
-00016040: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00016050: 2d2d 0a2d 2049 6d70 726f 7665 2052 4541  --.- Improve REA
-00016060: 444d 4520 7365 6374 696f 6e20 6f6e 2070  DME section on p
-00016070: 6572 666f 726d 616e 6365 2074 726f 7562  erformance troub
-00016080: 6c65 7368 6f6f 7469 6e67 2e20 285b 5c23  leshooting. ([\#
-00016090: 3432 3736 5d28 6874 7470 733a 2f2f 6769  4276](https://gi
-000160a0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-000160b0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-000160c0: 6573 2f34 3237 3629 290a 2d20 4164 6420  es/4276)).- Add 
-000160d0: 696e 666f 726d 6174 696f 6e20 6162 6f75  information abou
-000160e0: 7420 686f 7720 746f 2069 6e73 7461 6c6c  t how to install
-000160f0: 2061 6e64 2072 756e 2060 626c 6163 6b60   and run `black`
-00016100: 206f 6e20 7468 6520 636f 6465 6261 7365   on the codebase
-00016110: 2074 6f20 636f 6465 5f73 7479 6c65 2e72   to code_style.r
-00016120: 7374 2e20 285b 5c23 3535 3337 5d28 6874  st. ([\#5537](ht
-00016130: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00016140: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00016150: 7073 652f 6973 7375 6573 2f35 3533 3729  pse/issues/5537)
-00016160: 290a 2d20 496d 7072 6f76 6520 696e 7374  ).- Improve inst
-00016170: 616c 6c20 646f 6373 206f 6e20 6368 6f6f  all docs on choo
-00016180: 7369 6e67 2073 6572 7665 725f 6e61 6d65  sing server_name
-00016190: 2e20 285b 5c23 3535 3538 5d28 6874 7470  . ([\#5558](http
-000161a0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-000161b0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-000161c0: 652f 6973 7375 6573 2f35 3535 3829 290a  e/issues/5558)).
-000161d0: 0a0a 496e 7465 726e 616c 2043 6861 6e67  ..Internal Chang
-000161e0: 6573 0a2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  es.-------------
-000161f0: 2d2d 2d0a 0a2d 2041 6464 206c 6f67 6769  ---..- Add loggi
-00016200: 6e67 2074 6f20 3370 6964 2069 6e76 6974  ng to 3pid invit
-00016210: 6520 7369 676e 6174 7572 6520 7665 7269  e signature veri
-00016220: 6669 6361 7469 6f6e 2e20 285b 5c23 3530  fication. ([\#50
-00016230: 3135 5d28 6874 7470 733a 2f2f 6769 7468  15](https://gith
-00016240: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00016250: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00016260: 2f35 3031 3529 290a 2d20 5570 6461 7465  /5015)).- Update
-00016270: 2065 7861 6d70 6c65 2068 6170 726f 7879   example haproxy
-00016280: 2063 6f6e 6669 6720 746f 2061 206d 6f72   config to a mor
-00016290: 6520 636f 6d70 6174 6962 6c65 2073 6574  e compatible set
-000162a0: 7570 2e20 285b 5c23 3533 3133 5d28 6874  up. ([\#5313](ht
-000162b0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-000162c0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-000162d0: 7073 652f 6973 7375 6573 2f35 3331 3329  pse/issues/5313)
-000162e0: 290a 2d20 5472 6163 6b20 6465 6163 7469  ).- Track deacti
-000162f0: 7661 7465 6420 6163 636f 756e 7473 2069  vated accounts i
-00016300: 6e20 7468 6520 6461 7461 6261 7365 2e20  n the database. 
-00016310: 285b 5c23 3533 3738 5d28 6874 7470 733a  ([\#5378](https:
-00016320: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00016330: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00016340: 6973 7375 6573 2f35 3337 3829 2c20 5b5c  issues/5378), [\
-00016350: 2335 3436 355d 2868 7474 7073 3a2f 2f67  #5465](https://g
-00016360: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-00016370: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-00016380: 7565 732f 3534 3635 292c 205b 5c23 3534  ues/5465), [\#54
-00016390: 3933 5d28 6874 7470 733a 2f2f 6769 7468  93](https://gith
-000163a0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-000163b0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-000163c0: 2f35 3439 3329 290a 2d20 436c 6561 6e20  /5493)).- Clean 
-000163d0: 7570 2063 6f64 6520 666f 7220 7365 6e64  up code for send
-000163e0: 696e 6720 6665 6465 7261 7469 6f6e 2045  ing federation E
-000163f0: 4455 732e 2028 5b5c 2335 3338 315d 2868  DUs. ([\#5381](h
-00016400: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00016410: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00016420: 6170 7365 2f69 7373 7565 732f 3533 3831  apse/issues/5381
-00016430: 2929 0a2d 2041 6464 2061 2073 706f 6e73  )).- Add a spons
-00016440: 6f72 2062 7574 746f 6e20 746f 2074 6865  or button to the
-00016450: 2072 6570 6f2e 2028 5b5c 2335 3338 325d   repo. ([\#5382]
-00016460: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00016470: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00016480: 796e 6170 7365 2f69 7373 7565 732f 3533  ynapse/issues/53
-00016490: 3832 292c 205b 5c23 3533 3836 5d28 6874  82), [\#5386](ht
-000164a0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-000164b0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-000164c0: 7073 652f 6973 7375 6573 2f35 3338 3629  pse/issues/5386)
-000164d0: 290a 2d20 446f 6e27 7420 6c6f 6720 6e6f  ).- Don't log no
-000164e0: 6e2d 3230 3020 7265 7370 6f6e 7365 7320  n-200 responses 
-000164f0: 6672 6f6d 2066 6564 6572 6174 696f 6e20  from federation 
-00016500: 7175 6572 6965 7320 6173 2065 7863 6570  queries as excep
-00016510: 7469 6f6e 732e 2028 5b5c 2335 3338 335d  tions. ([\#5383]
-00016520: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00016530: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00016540: 796e 6170 7365 2f69 7373 7565 732f 3533  ynapse/issues/53
-00016550: 3833 2929 0a2d 2055 7064 6174 6520 5079  83)).- Update Py
-00016560: 7468 6f6e 2073 796e 7461 7820 696e 2063  thon syntax in c
-00016570: 6f6e 7472 6962 2f20 746f 2050 7974 686f  ontrib/ to Pytho
-00016580: 6e20 332e 2028 5b5c 2335 3434 365d 2868  n 3. ([\#5446](h
-00016590: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-000165a0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-000165b0: 6170 7365 2f69 7373 7565 732f 3534 3436  apse/issues/5446
-000165c0: 2929 0a2d 2055 7064 6174 6520 6665 6465  )).- Update fede
-000165d0: 7261 7469 6f6e 5f63 6c69 656e 7420 6465  ration_client de
-000165e0: 7620 7363 7269 7074 2074 6f20 7375 7070  v script to supp
-000165f0: 6f72 7420 602e 7765 6c6c 2d6b 6e6f 776e  ort `.well-known
-00016600: 6020 616e 6420 776f 726b 2077 6974 6820  ` and work with 
-00016610: 7079 7468 6f6e 332e 2028 5b5c 2335 3434  python3. ([\#544
-00016620: 375d 2868 7474 7073 3a2f 2f67 6974 6875  7](https://githu
-00016630: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-00016640: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-00016650: 3534 3437 2929 0a2d 2053 7954 6573 7420  5447)).- SyTest 
-00016660: 6861 7320 6265 656e 206d 6f76 6564 2074  has been moved t
-00016670: 6f20 4275 696c 646b 6974 652e 2028 5b5c  o Buildkite. ([\
-00016680: 2335 3435 395d 2868 7474 7073 3a2f 2f67  #5459](https://g
-00016690: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-000166a0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-000166b0: 7565 732f 3534 3539 2929 0a2d 2044 656d  ues/5459)).- Dem
-000166c0: 6f20 7363 7269 7074 206e 6f77 2075 7365  o script now use
-000166d0: 7320 7079 7468 6f6e 332e 2028 5b5c 2335  s python3. ([\#5
-000166e0: 3436 305d 2868 7474 7073 3a2f 2f67 6974  460](https://git
-000166f0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-00016700: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-00016710: 732f 3534 3630 2929 0a2d 2053 796e 6170  s/5460)).- Synap
-00016720: 7365 2063 616e 206e 6f77 2068 616e 646c  se can now handl
-00016730: 6520 5265 7374 5365 7276 6c65 7473 2074  e RestServlets t
-00016740: 6861 7420 7265 7475 726e 2063 6f72 6f75  hat return corou
-00016750: 7469 6e65 732e 2028 5b5c 2335 3437 355d  tines. ([\#5475]
-00016760: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00016770: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00016780: 796e 6170 7365 2f69 7373 7565 732f 3534  ynapse/issues/54
-00016790: 3735 292c 205b 5c23 3535 3835 5d28 6874  75), [\#5585](ht
-000167a0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-000167b0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-000167c0: 7073 652f 6973 7375 6573 2f35 3538 3529  pse/issues/5585)
-000167d0: 290a 2d20 5468 6520 6465 6d6f 2073 6572  ).- The demo ser
-000167e0: 7665 7273 2074 616c 6b20 746f 2065 6163  vers talk to eac
-000167f0: 6820 6f74 6865 7220 6167 6169 6e2e 2028  h other again. (
-00016800: 5b5c 2335 3437 385d 2868 7474 7073 3a2f  [\#5478](https:/
-00016810: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00016820: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00016830: 7373 7565 732f 3534 3738 2929 0a2d 2041  ssues/5478)).- A
-00016840: 6464 2061 6e20 4558 5045 5249 4d45 4e54  dd an EXPERIMENT
-00016850: 414c 2063 6f6e 6669 6720 6f70 7469 6f6e  AL config option
-00016860: 2074 6f20 7472 7920 616e 6420 7065 7269   to try and peri
-00016870: 6f64 6963 616c 6c79 2063 6c65 616e 2075  odically clean u
-00016880: 7020 6578 7472 656d 6974 6965 7320 6279  p extremities by
-00016890: 2073 656e 6469 6e67 2064 756d 6d79 2065   sending dummy e
-000168a0: 7665 6e74 732e 2028 5b5c 2335 3438 305d  vents. ([\#5480]
-000168b0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-000168c0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-000168d0: 796e 6170 7365 2f69 7373 7565 732f 3534  ynapse/issues/54
-000168e0: 3830 2929 0a2d 2053 796e 6170 7365 2773  80)).- Synapse's
-000168f0: 2063 6f64 6562 6173 6520 6973 206e 6f77   codebase is now
-00016900: 2066 6f72 6d61 7474 6564 2062 7920 6062   formatted by `b
-00016910: 6c61 636b 602e 2028 5b5c 2335 3438 325d  lack`. ([\#5482]
-00016920: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00016930: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00016940: 796e 6170 7365 2f69 7373 7565 732f 3534  ynapse/issues/54
-00016950: 3832 2929 0a2d 2053 6f6d 6520 636c 6561  82)).- Some clea
-00016960: 6e75 7073 2061 6e64 2073 616e 6974 792d  nups and sanity-
-00016970: 6368 6563 6b69 6e67 2069 6e20 7468 6520  checking in the 
-00016980: 4350 5520 616e 6420 6461 7461 6261 7365  CPU and database
-00016990: 206d 6574 7269 6373 2e20 285b 5c23 3534   metrics. ([\#54
-000169a0: 3939 5d28 6874 7470 733a 2f2f 6769 7468  99](https://gith
-000169b0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-000169c0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-000169d0: 2f35 3439 3929 290a 2d20 496d 7072 6f76  /5499)).- Improv
-000169e0: 6520 656d 6169 6c20 6e6f 7469 6669 6361  e email notifica
-000169f0: 7469 6f6e 206c 6f67 6769 6e67 2e20 285b  tion logging. ([
-00016a00: 5c23 3535 3032 5d28 6874 7470 733a 2f2f  \#5502](https://
-00016a10: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-00016a20: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00016a30: 7375 6573 2f35 3530 3229 290a 2d20 4669  sues/5502)).- Fi
-00016a40: 7820 2255 6e65 7870 6563 7465 6420 656e  x "Unexpected en
-00016a50: 7472 7920 696e 2027 6675 6c6c 5f73 6368  try in 'full_sch
-00016a60: 656d 6173 2722 206c 6f67 2077 6172 6e69  emas'" log warni
-00016a70: 6e67 2e20 285b 5c23 3535 3039 5d28 6874  ng. ([\#5509](ht
-00016a80: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00016a90: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00016aa0: 7073 652f 6973 7375 6573 2f35 3530 3929  pse/issues/5509)
-00016ab0: 290a 2d20 496d 7072 6f76 6520 6c6f 6767  ).- Improve logg
-00016ac0: 696e 6720 7768 656e 2067 656e 6572 6174  ing when generat
-00016ad0: 696e 6720 636f 6e66 6967 2066 696c 6573  ing config files
-00016ae0: 2e20 285b 5c23 3535 3130 5d28 6874 7470  . ([\#5510](http
-00016af0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00016b00: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00016b10: 652f 6973 7375 6573 2f35 3531 3029 290a  e/issues/5510)).
-00016b20: 2d20 5265 6661 6374 6f72 2061 6e64 2063  - Refactor and c
-00016b30: 6c65 616e 2075 7020 436f 6e66 6967 2070  lean up Config p
-00016b40: 6172 7365 7220 666f 7220 6d61 696e 7461  arser for mainta
-00016b50: 696e 6162 696c 6974 792e 2028 5b5c 2335  inability. ([\#5
-00016b60: 3531 315d 2868 7474 7073 3a2f 2f67 6974  511](https://git
-00016b70: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-00016b80: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-00016b90: 732f 3535 3131 2929 0a2d 204d 616b 6520  s/5511)).- Make 
-00016ba0: 7468 6520 636f 6e66 6967 2063 6c65 6172  the config clear
-00016bb0: 6572 2069 6e20 7468 6174 2065 6d61 696c  er in that email
-00016bc0: 2e74 656d 706c 6174 655f 6469 7220 6973  .template_dir is
-00016bd0: 2072 656c 6174 6976 6520 746f 2074 6865   relative to the
-00016be0: 2053 796e 6170 7365 2773 2072 6f6f 7420   Synapse's root 
-00016bf0: 6469 7265 6374 6f72 792c 206e 6f74 2074  directory, not t
-00016c00: 6865 2060 7379 6e61 7073 652f 6020 666f  he `synapse/` fo
-00016c10: 6c64 6572 2077 6974 6869 6e20 6974 2e20  lder within it. 
-00016c20: 285b 5c23 3535 3433 5d28 6874 7470 733a  ([\#5543](https:
-00016c30: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00016c40: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00016c50: 6973 7375 6573 2f35 3534 3329 290a 2d20  issues/5543)).- 
-00016c60: 5570 6461 7465 2076 312e 302e 3020 7265  Update v1.0.0 re
-00016c70: 6c65 6173 6520 6368 616e 6765 6c6f 6720  lease changelog 
-00016c80: 746f 2069 6e63 6c75 6465 206d 6f72 6520  to include more 
-00016c90: 696e 666f 726d 6174 696f 6e20 6162 6f75  information abou
-00016ca0: 7420 6368 616e 6765 7320 746f 2070 6173  t changes to pas
-00016cb0: 7377 6f72 6420 7265 7365 7473 2e20 285b  sword resets. ([
-00016cc0: 5c23 3535 3435 5d28 6874 7470 733a 2f2f  \#5545](https://
-00016cd0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-00016ce0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00016cf0: 7375 6573 2f35 3534 3529 290a 2d20 5265  sues/5545)).- Re
-00016d00: 6d6f 7665 206e 6f6e 2d66 756e 6374 696f  move non-functio
-00016d10: 6e69 6e67 2063 6865 636b 5f65 7665 6e74  ning check_event
-00016d20: 5f68 6173 682e 7079 2064 6576 2073 6372  _hash.py dev scr
-00016d30: 6970 742e 2028 5b5c 2335 3534 385d 2868  ipt. ([\#5548](h
-00016d40: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00016d50: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00016d60: 6170 7365 2f69 7373 7565 732f 3535 3438  apse/issues/5548
-00016d70: 2929 0a2d 2053 796e 6170 7365 2077 696c  )).- Synapse wil
-00016d80: 6c20 6e6f 7720 6f6e 6c79 2061 6c6c 6f77  l now only allow
-00016d90: 2054 4c53 2076 312e 3220 636f 6e6e 6563   TLS v1.2 connec
-00016da0: 7469 6f6e 7320 7768 656e 2073 6572 7669  tions when servi
-00016db0: 6e67 2066 6564 6572 6174 696f 6e2c 2069  ng federation, i
-00016dc0: 6620 6974 2074 6572 6d69 6e61 7465 7320  f it terminates 
-00016dd0: 544c 532e 2041 7320 5379 6e61 7073 6527  TLS. As Synapse'
-00016de0: 7320 616c 6c6f 7765 6420 6369 7068 6572  s allowed cipher
-00016df0: 7320 7765 7265 206f 6e6c 7920 6162 6c65  s were only able
-00016e00: 2074 6f20 6265 2075 7365 6420 696e 2054   to be used in T
-00016e10: 4c53 7631 2e32 2062 6566 6f72 652c 2074  LSv1.2 before, t
-00016e20: 6869 7320 646f 6573 206e 6f74 2063 6861  his does not cha
-00016e30: 6e67 6520 6265 6861 7669 6f75 722e 2028  nge behaviour. (
-00016e40: 5b5c 2335 3535 305d 2868 7474 7073 3a2f  [\#5550](https:/
-00016e50: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00016e60: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00016e70: 7373 7565 732f 3535 3530 2929 0a2d 204c  ssues/5550)).- L
-00016e80: 6f67 6769 6e67 2077 6865 6e20 7275 6e6e  ogging when runn
-00016e90: 696e 6720 4743 2063 6f6c 6c65 6374 696f  ing GC collectio
-00016ea0: 6e20 6f6e 2067 656e 6572 6174 696f 6e20  n on generation 
-00016eb0: 3020 6973 206e 6f77 2061 7420 7468 6520  0 is now at the 
-00016ec0: 4445 4255 4720 6c65 7665 6c2c 206e 6f74  DEBUG level, not
-00016ed0: 2049 4e46 4f2e 2028 5b5c 2335 3535 375d   INFO. ([\#5557]
-00016ee0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00016ef0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00016f00: 796e 6170 7365 2f69 7373 7565 732f 3535  ynapse/issues/55
-00016f10: 3537 2929 0a2d 2052 6564 7563 6520 7468  57)).- Reduce th
-00016f20: 6520 616d 6f75 6e74 206f 6620 7374 7566  e amount of stuf
-00016f30: 6620 7765 2073 656e 6420 696e 2074 6865  f we send in the
-00016f40: 2064 6f63 6b65 7220 636f 6e74 6578 742e   docker context.
-00016f50: 2028 5b5c 2335 3536 345d 2868 7474 7073   ([\#5564](https
-00016f60: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00016f70: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00016f80: 2f69 7373 7565 732f 3535 3634 2929 0a2d  /issues/5564)).-
-00016f90: 2050 6f69 6e74 2074 6865 2072 6576 6572   Point the rever
-00016fa0: 7365 206c 696e 6b73 2069 6e20 7468 6520  se links in the 
-00016fb0: 5075 7267 6520 4869 7374 6f72 7920 636f  Purge History co
-00016fc0: 6e74 7269 6220 7363 7269 7074 7320 6174  ntrib scripts at
-00016fd0: 2074 6865 2069 6e74 656e 6465 6420 6c6f   the intended lo
-00016fe0: 6361 7469 6f6e 2e20 285b 5c23 3535 3730  cation. ([\#5570
-00016ff0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00017000: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00017010: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
-00017020: 3537 3029 290a 0a0a 5379 6e61 7073 6520  570))...Synapse 
-00017030: 312e 302e 3020 2832 3031 392d 3036 2d31  1.0.0 (2019-06-1
-00017040: 3129 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  1).=============
-00017050: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a42  =============..B
-00017060: 7567 6669 7865 730a 2d2d 2d2d 2d2d 2d2d  ugfixes.--------
-00017070: 0a0a 2d20 4669 7820 6275 6720 7768 6572  ..- Fix bug wher
-00017080: 6520 6174 7465 6d70 7469 6e67 2074 6f20  e attempting to 
-00017090: 7365 6e64 2074 7261 6e73 6163 7469 6f6e  send transaction
-000170a0: 7320 7769 7468 206c 6172 6765 206e 756d  s with large num
-000170b0: 6265 7220 6f66 2045 4455 7320 6361 6e20  ber of EDUs can 
-000170c0: 6661 696c 2e20 285b 5c23 3534 3138 5d28  fail. ([\#5418](
-000170d0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-000170e0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-000170f0: 6e61 7073 652f 6973 7375 6573 2f35 3431  napse/issues/541
-00017100: 3829 290a 0a0a 496d 7072 6f76 6564 2044  8))...Improved D
-00017110: 6f63 756d 656e 7461 7469 6f6e 0a2d 2d2d  ocumentation.---
-00017120: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00017130: 2d2d 2d0a 0a2d 2045 7870 616e 6420 7468  ---..- Expand th
-00017140: 6520 6665 6465 7261 7469 6f6e 2067 7569  e federation gui
-00017150: 6465 2074 6f20 696e 636c 7564 6520 7265  de to include re
-00017160: 6c65 7661 6e74 2063 6f6e 7465 6e74 2066  levant content f
-00017170: 726f 6d20 7468 6520 4d53 4331 3731 3120  rom the MSC1711 
-00017180: 4641 5120 285b 5c23 3534 3139 5d28 6874  FAQ ([\#5419](ht
-00017190: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-000171a0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-000171b0: 7073 652f 6973 7375 6573 2f35 3431 3929  pse/issues/5419)
-000171c0: 290a 0a0a 496e 7465 726e 616c 2043 6861  )...Internal Cha
-000171d0: 6e67 6573 0a2d 2d2d 2d2d 2d2d 2d2d 2d2d  nges.-----------
-000171e0: 2d2d 2d2d 2d0a 0a2d 204d 6f76 6520 7061  -----..- Move pa
-000171f0: 7373 776f 7264 2072 6573 6574 206c 696e  ssword reset lin
-00017200: 6b73 2074 6f20 2f5f 6d61 7472 6978 2f63  ks to /_matrix/c
-00017210: 6c69 656e 742f 756e 7374 6162 6c65 206e  lient/unstable n
-00017220: 616d 6573 7061 6365 2e20 285b 5c23 3534  amespace. ([\#54
-00017230: 3234 5d28 6874 7470 733a 2f2f 6769 7468  24](https://gith
-00017240: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00017250: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00017260: 2f35 3432 3429 290a 0a0a 5379 6e61 7073  /5424))...Synaps
-00017270: 6520 312e 302e 3072 6333 2028 3230 3139  e 1.0.0rc3 (2019
-00017280: 2d30 362d 3130 290a 3d3d 3d3d 3d3d 3d3d  -06-10).========
-00017290: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000172a0: 3d3d 3d3d 3d0a 0a53 6563 7572 6974 793a  =====..Security:
-000172b0: 2046 6978 2061 7574 6865 6e74 6963 6174   Fix authenticat
-000172c0: 696f 6e20 6275 6720 696e 7472 6f64 7563  ion bug introduc
-000172d0: 6564 2069 6e20 312e 302e 3072 6331 2e20  ed in 1.0.0rc1. 
-000172e0: 506c 6561 7365 2075 7067 7261 6465 2074  Please upgrade t
-000172f0: 6f20 7263 3320 696d 6d65 6469 6174 656c  o rc3 immediatel
-00017300: 790a 0a0a 5379 6e61 7073 6520 312e 302e  y...Synapse 1.0.
-00017310: 3072 6332 2028 3230 3139 2d30 362d 3130  0rc2 (2019-06-10
-00017320: 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ).==============
-00017330: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a  ===============.
-00017340: 0a42 7567 6669 7865 730a 2d2d 2d2d 2d2d  .Bugfixes.------
-00017350: 2d2d 0a0a 2d20 5265 6d6f 7665 2072 6564  --..- Remove red
-00017360: 756e 6461 6e74 2077 6172 6e69 6e67 2061  undant warning a
-00017370: 626f 7574 206b 6579 2073 6572 7665 7220  bout key server 
-00017380: 7265 7370 6f6e 7365 2076 616c 6964 6174  response validat
-00017390: 696f 6e2e 2028 5b5c 2335 3339 325d 2868  ion. ([\#5392](h
-000173a0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-000173b0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-000173c0: 6170 7365 2f69 7373 7565 732f 3533 3932  apse/issues/5392
-000173d0: 2929 0a2d 2046 6978 2062 7567 2077 6865  )).- Fix bug whe
-000173e0: 7265 206f 6c64 206b 6579 7320 7374 6f72  re old keys stor
-000173f0: 6564 2069 6e20 7468 6520 6461 7461 6261  ed in the databa
-00017400: 7365 2077 6974 6820 6120 6e75 6c6c 2076  se with a null v
-00017410: 616c 6964 2075 6e74 696c 2074 696d 6573  alid until times
-00017420: 7461 6d70 2063 6175 7365 6420 616c 6c20  tamp caused all 
-00017430: 7665 7269 6669 6361 7469 6f6e 2072 6571  verification req
-00017440: 7565 7374 7320 666f 7220 7468 6174 206b  uests for that k
-00017450: 6579 2074 6f20 6661 696c 2e20 285b 5c23  ey to fail. ([\#
-00017460: 3534 3135 5d28 6874 7470 733a 2f2f 6769  5415](https://gi
-00017470: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-00017480: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-00017490: 6573 2f35 3431 3529 290a 2d20 4669 7820  es/5415)).- Fix 
-000174a0: 6578 6365 7373 6976 6520 6d65 6d6f 7279  excessive memory
-000174b0: 2075 7369 6e67 2077 6974 6820 6465 6661   using with defa
-000174c0: 756c 7420 6066 6564 6572 6174 696f 6e5f  ult `federation_
-000174d0: 7665 7269 6679 5f63 6572 7469 6669 6361  verify_certifica
-000174e0: 7465 733a 2074 7275 6560 2063 6f6e 6669  tes: true` confi
-000174f0: 6775 7261 7469 6f6e 2e20 285b 5c23 3534  guration. ([\#54
-00017500: 3137 5d28 6874 7470 733a 2f2f 6769 7468  17](https://gith
-00017510: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00017520: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00017530: 2f35 3431 3729 290a 0a0a 5379 6e61 7073  /5417))...Synaps
-00017540: 6520 312e 302e 3072 6331 2028 3230 3139  e 1.0.0rc1 (2019
-00017550: 2d30 362d 3037 290a 3d3d 3d3d 3d3d 3d3d  -06-07).========
-00017560: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00017570: 3d3d 3d3d 3d0a 0a46 6561 7475 7265 730a  =====..Features.
-00017580: 2d2d 2d2d 2d2d 2d2d 0a0a 2d20 5379 6e61  --------..- Syna
-00017590: 7073 6520 6e6f 7720 6d6f 7265 2065 6666  pse now more eff
-000175a0: 6963 6965 6e74 6c79 2063 6f6c 6c61 7465  iciently collate
-000175b0: 7320 726f 6f6d 2073 7461 7469 7374 6963  s room statistic
-000175c0: 732e 2028 5b5c 2334 3333 385d 2868 7474  s. ([\#4338](htt
-000175d0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-000175e0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-000175f0: 7365 2f69 7373 7565 732f 3433 3338 292c  se/issues/4338),
-00017600: 205b 5c23 3532 3630 5d28 6874 7470 733a   [\#5260](https:
-00017610: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00017620: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00017630: 6973 7375 6573 2f35 3236 3029 2c20 5b5c  issues/5260), [\
-00017640: 2335 3332 345d 2868 7474 7073 3a2f 2f67  #5324](https://g
-00017650: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-00017660: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-00017670: 7565 732f 3533 3234 2929 0a2d 2041 6464  ues/5324)).- Add
-00017680: 2065 7870 6572 696d 656e 7461 6c20 7375   experimental su
-00017690: 7070 6f72 7420 666f 7220 7265 6c61 7469  pport for relati
-000176a0: 6f6e 7320 2861 6b61 2072 6561 6374 696f  ons (aka reactio
-000176b0: 6e73 2061 6e64 2065 6469 7473 292e 2028  ns and edits). (
-000176c0: 5b5c 2335 3232 305d 2868 7474 7073 3a2f  [\#5220](https:/
-000176d0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-000176e0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-000176f0: 7373 7565 732f 3532 3230 2929 0a2d 2041  ssues/5220)).- A
-00017700: 6269 6c69 7479 2074 6f20 636f 6e66 6967  bility to config
-00017710: 7572 6520 6465 6661 756c 7420 726f 6f6d  ure default room
-00017720: 2076 6572 7369 6f6e 2e20 285b 5c23 3532   version. ([\#52
-00017730: 3233 5d28 6874 7470 733a 2f2f 6769 7468  23](https://gith
-00017740: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00017750: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00017760: 2f35 3232 3329 2c20 5b5c 2335 3234 395d  /5223), [\#5249]
-00017770: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00017780: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00017790: 796e 6170 7365 2f69 7373 7565 732f 3532  ynapse/issues/52
-000177a0: 3439 2929 0a2d 2041 6c6c 6f77 2063 6f6e  49)).- Allow con
-000177b0: 6669 6775 7269 6e67 2061 2072 616e 6765  figuring a range
-000177c0: 2066 6f72 2074 6865 2061 6363 6f75 6e74   for the account
-000177d0: 2076 616c 6964 6974 7920 7374 6172 7475   validity startu
-000177e0: 7020 6a6f 622e 2028 5b5c 2335 3237 365d  p job. ([\#5276]
-000177f0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00017800: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00017810: 796e 6170 7365 2f69 7373 7565 732f 3532  ynapse/issues/52
-00017820: 3736 2929 0a2d 2043 4153 206c 6f67 696e  76)).- CAS login
-00017830: 2077 696c 6c20 6e6f 7720 6869 7420 7468   will now hit th
-00017840: 6520 7230 2041 5049 2c20 6e6f 7420 7468  e r0 API, not th
-00017850: 6520 6465 7072 6563 6174 6564 2076 3120  e deprecated v1 
-00017860: 6f6e 652e 2028 5b5c 2335 3238 365d 2868  one. ([\#5286](h
-00017870: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00017880: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00017890: 6170 7365 2f69 7373 7565 732f 3532 3836  apse/issues/5286
-000178a0: 2929 0a2d 2056 616c 6964 6174 6520 6665  )).- Validate fe
-000178b0: 6465 7261 7469 6f6e 2073 6572 7665 7220  deration server 
-000178c0: 544c 5320 6365 7274 6966 6963 6174 6573  TLS certificates
-000178d0: 2062 7920 6465 6661 756c 7420 2869 6d70   by default (imp
-000178e0: 6c65 6d65 6e74 7320 5b4d 5343 3137 3131  lements [MSC1711
-000178f0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00017900: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00017910: 6d61 7472 6978 2d64 6f63 2f62 6c6f 622f  matrix-doc/blob/
-00017920: 6d61 7374 6572 2f70 726f 706f 7361 6c73  master/proposals
-00017930: 2f31 3731 312d 7835 3039 2d66 6f72 2d66  /1711-x509-for-f
-00017940: 6564 6572 6174 696f 6e2e 6d64 2929 2e20  ederation.md)). 
-00017950: 285b 5c23 3533 3539 5d28 6874 7470 733a  ([\#5359](https:
-00017960: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00017970: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00017980: 6973 7375 6573 2f35 3335 3929 290a 2d20  issues/5359)).- 
-00017990: 5570 6461 7465 202f 5f6d 6174 7269 782f  Update /_matrix/
-000179a0: 636c 6965 6e74 2f76 6572 7369 6f6e 7320  client/versions 
-000179b0: 746f 2072 6566 6572 656e 6365 2073 7570  to reference sup
-000179c0: 706f 7274 2066 6f72 2072 302e 352e 302e  port for r0.5.0.
-000179d0: 2028 5b5c 2335 3336 305d 2868 7474 7073   ([\#5360](https
-000179e0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-000179f0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00017a00: 2f69 7373 7565 732f 3533 3630 2929 0a2d  /issues/5360)).-
-00017a10: 2041 6464 2061 2073 6372 6970 7420 746f   Add a script to
-00017a20: 2067 656e 6572 6174 6520 6e65 7720 7369   generate new si
-00017a30: 676e 696e 672d 6b65 7920 6669 6c65 732e  gning-key files.
-00017a40: 2028 5b5c 2335 3336 315d 2868 7474 7073   ([\#5361](https
-00017a50: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00017a60: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00017a70: 2f69 7373 7565 732f 3533 3631 2929 0a2d  /issues/5361)).-
-00017a80: 2055 7064 6174 6520 7570 6772 6164 6520   Update upgrade 
-00017a90: 616e 6420 696e 7374 616c 6c61 7469 6f6e  and installation
-00017aa0: 2067 7569 6465 7320 6168 6561 6420 6f66   guides ahead of
-00017ab0: 2031 2e30 2e20 285b 5c23 3533 3731 5d28   1.0. ([\#5371](
-00017ac0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00017ad0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-00017ae0: 6e61 7073 652f 6973 7375 6573 2f35 3337  napse/issues/537
-00017af0: 3129 290a 2d20 5265 706c 6163 6520 7468  1)).- Replace th
-00017b00: 6520 6070 6572 7370 6563 7469 7665 7360  e `perspectives`
-00017b10: 2063 6f6e 6669 6775 7261 7469 6f6e 2073   configuration s
-00017b20: 6563 7469 6f6e 2077 6974 6820 6074 7275  ection with `tru
-00017b30: 7374 6564 5f6b 6579 5f73 6572 7665 7273  sted_key_servers
-00017b40: 602c 2061 6e64 206d 616b 6520 7661 6c69  `, and make vali
-00017b50: 6461 7469 6e67 2074 6865 2073 6967 6e61  dating the signa
-00017b60: 7475 7265 7320 6f6e 2072 6573 706f 6e73  tures on respons
-00017b70: 6573 206f 7074 696f 6e61 6c20 2873 696e  es optional (sin
-00017b80: 6365 2054 4c53 2077 696c 6c20 646f 2074  ce TLS will do t
-00017b90: 6869 7320 6a6f 6220 666f 7220 7573 292e  his job for us).
-00017ba0: 2028 5b5c 2335 3337 345d 2868 7474 7073   ([\#5374](https
-00017bb0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00017bc0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00017bd0: 2f69 7373 7565 732f 3533 3734 2929 0a2d  /issues/5374)).-
-00017be0: 2041 6464 2061 6269 6c69 7479 2074 6f20   Add ability to 
-00017bf0: 7065 7266 6f72 6d20 7061 7373 776f 7264  perform password
-00017c00: 2072 6573 6574 2076 6961 2065 6d61 696c   reset via email
-00017c10: 2077 6974 686f 7574 2074 7275 7374 696e   without trustin
-00017c20: 6720 7468 6520 6964 656e 7469 7479 2073  g the identity s
-00017c30: 6572 7665 722e 202a 2a41 7320 6120 7265  erver. **As a re
-00017c40: 7375 6c74 206f 6620 7468 6973 2050 522c  sult of this PR,
-00017c50: 2070 6173 7377 6f72 6420 7265 7365 7473   password resets
-00017c60: 2077 696c 6c20 6e6f 7720 6265 2064 6973   will now be dis
-00017c70: 6162 6c65 6420 6f6e 2074 6865 2064 6566  abled on the def
-00017c80: 6175 6c74 2063 6f6e 6669 6775 7261 7469  ault configurati
-00017c90: 6f6e 2e2a 2a0a 0a20 2050 6173 7377 6f72  on.**..  Passwor
-00017ca0: 6420 7265 7365 7420 656d 6169 6c73 2061  d reset emails a
-00017cb0: 7265 206e 6f77 2073 656e 7420 6672 6f6d  re now sent from
-00017cc0: 2074 6865 2068 6f6d 6573 6572 7665 7220   the homeserver 
-00017cd0: 6279 2064 6566 6175 6c74 2c20 696e 7374  by default, inst
-00017ce0: 6561 6420 6f66 2074 6865 2069 6465 6e74  ead of the ident
-00017cf0: 6974 7920 7365 7276 6572 2e20 546f 2065  ity server. To e
-00017d00: 6e61 626c 6520 7468 6973 2066 756e 6374  nable this funct
-00017d10: 696f 6e61 6c69 7479 2c20 656e 7375 7265  ionality, ensure
-00017d20: 2060 656d 6169 6c60 2061 6e64 2060 7075   `email` and `pu
-00017d30: 626c 6963 5f62 6173 6575 726c 6020 636f  blic_baseurl` co
-00017d40: 6e66 6967 206f 7074 696f 6e73 2061 7265  nfig options are
-00017d50: 2066 696c 6c65 6420 6f75 742e 0a0a 2020   filled out...  
-00017d60: 4966 2079 6f75 2077 6f75 6c64 206c 696b  If you would lik
-00017d70: 6520 746f 2072 652d 656e 6162 6c65 2070  e to re-enable p
-00017d80: 6173 7377 6f72 6420 7265 7365 7473 2062  assword resets b
-00017d90: 6569 6e67 2073 656e 7420 6672 6f6d 2074  eing sent from t
-00017da0: 6865 2069 6465 6e74 6974 7920 7365 7276  he identity serv
-00017db0: 6572 2028 7761 726e 696e 673a 2074 6869  er (warning: thi
-00017dc0: 7320 6973 2064 616e 6765 726f 7573 2120  s is dangerous! 
-00017dd0: 5365 6520 5b23 3533 3435 5d28 6874 7470  See [#5345](http
-00017de0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00017df0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00017e00: 652f 7075 6c6c 2f35 3334 3529 292c 2073  e/pull/5345)), s
-00017e10: 6574 2060 656d 6169 6c2e 7472 7573 745f  et `email.trust_
-00017e20: 6964 656e 7469 7479 5f73 6572 7665 725f  identity_server_
-00017e30: 666f 725f 7061 7373 776f 7264 5f72 6573  for_password_res
-00017e40: 6574 7360 2074 6f20 7472 7565 2e20 285b  ets` to true. ([
-00017e50: 5c23 3533 3737 5d28 6874 7470 733a 2f2f  \#5377](https://
-00017e60: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-00017e70: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00017e80: 7375 6573 2f35 3337 3729 290a 2d20 5365  sues/5377)).- Se
-00017e90: 7420 6465 6661 756c 7420 726f 6f6d 2076  t default room v
-00017ea0: 6572 7369 6f6e 2074 6f20 7634 2e20 285b  ersion to v4. ([
-00017eb0: 5c23 3533 3739 5d28 6874 7470 733a 2f2f  \#5379](https://
-00017ec0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-00017ed0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00017ee0: 7375 6573 2f35 3337 3929 290a 0a0a 4275  sues/5379))...Bu
-00017ef0: 6766 6978 6573 0a2d 2d2d 2d2d 2d2d 2d0a  gfixes.--------.
-00017f00: 0a2d 2046 6978 6573 2063 6c69 656e 742d  .- Fixes client-
-00017f10: 7365 7276 6572 2041 5049 206e 6f74 2073  server API not s
-00017f20: 656e 6469 6e67 2022 6d2e 6865 726f 6573  ending "m.heroes
-00017f30: 2220 746f 206c 617a 792d 6c6f 6164 202f  " to lazy-load /
-00017f40: 7379 6e63 2072 6571 7565 7374 7320 7768  sync requests wh
-00017f50: 656e 2061 2072 6f6f 6d73 206e 616d 6520  en a rooms name 
-00017f60: 6f72 2069 7473 2063 616e 6f6e 6963 616c  or its canonical
-00017f70: 2061 6c69 6173 2061 7265 2065 6d70 7479   alias are empty
-00017f80: 2e20 5468 616e 6b73 2074 6f20 4064 6e61  . Thanks to @dna
-00017f90: 6620 666f 7220 7468 6973 2077 6f72 6b21  f for this work!
-00017fa0: 2028 5b5c 2335 3038 395d 2868 7474 7073   ([\#5089](https
-00017fb0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00017fc0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00017fd0: 2f69 7373 7565 732f 3530 3839 2929 0a2d  /issues/5089)).-
-00017fe0: 2050 7265 7665 6e74 2066 6564 6572 6174   Prevent federat
-00017ff0: 696f 6e20 6465 7669 6365 206c 6973 7420  ion device list 
-00018000: 7570 6461 7465 7320 6272 6561 6b69 6e67  updates breaking
-00018010: 2077 6865 6e20 7072 6f63 6573 7369 6e67   when processing
-00018020: 206d 756c 7469 706c 6520 7570 6461 7465   multiple update
-00018030: 7320 6174 206f 6e63 652e 2028 5b5c 2335  s at once. ([\#5
-00018040: 3135 365d 2868 7474 7073 3a2f 2f67 6974  156](https://git
-00018050: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-00018060: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-00018070: 732f 3531 3536 2929 0a2d 2046 6978 2077  s/5156)).- Fix w
-00018080: 6f72 6b65 7220 7265 6769 7374 7261 7469  orker registrati
-00018090: 6f6e 2062 7567 2063 6175 7365 6420 6279  on bug caused by
-000180a0: 2043 6c69 656e 7452 6561 6465 7253 6c61   ClientReaderSla
-000180b0: 7665 6453 746f 7265 2062 6569 6e67 2075  vedStore being u
-000180c0: 6e61 626c 6520 746f 2073 6565 2067 6574  nable to see get
-000180d0: 5f70 726f 6669 6c65 696e 666f 2e20 285b  _profileinfo. ([
-000180e0: 5c23 3532 3030 5d28 6874 7470 733a 2f2f  \#5200](https://
-000180f0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-00018100: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00018110: 7375 6573 2f35 3230 3029 290a 2d20 4669  sues/5200)).- Fi
-00018120: 7820 7261 6365 2077 6865 6e20 6261 636b  x race when back
-00018130: 6669 6c6c 696e 6720 696e 2072 6f6f 6d73  filling in rooms
-00018140: 2077 6974 6820 776f 726b 6572 206d 6f64   with worker mod
-00018150: 652e 2028 5b5c 2335 3232 315d 2868 7474  e. ([\#5221](htt
-00018160: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00018170: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-00018180: 7365 2f69 7373 7565 732f 3532 3231 2929  se/issues/5221))
-00018190: 0a2d 2046 6978 2061 7070 7365 7276 6963  .- Fix appservic
-000181a0: 6520 7469 6d65 7374 616d 7020 6d61 7373  e timestamp mass
-000181b0: 6167 696e 672e 2028 5b5c 2335 3233 335d  aging. ([\#5233]
-000181c0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-000181d0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-000181e0: 796e 6170 7365 2f69 7373 7565 732f 3532  ynapse/issues/52
-000181f0: 3333 2929 0a2d 2045 6e73 7572 6520 7468  33)).- Ensure th
-00018200: 6174 2073 6572 7665 725f 6b65 7973 2066  at server_keys f
-00018210: 6574 6368 6564 2076 6961 2061 206e 6f74  etched via a not
-00018220: 6172 7920 7365 7276 6572 2061 7265 2063  ary server are c
-00018230: 6f72 7265 6374 6c79 2073 6967 6e65 642e  orrectly signed.
-00018240: 2028 5b5c 2335 3235 315d 2868 7474 7073   ([\#5251](https
-00018250: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00018260: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00018270: 2f69 7373 7565 732f 3532 3531 2929 0a2d  /issues/5251)).-
-00018280: 2053 686f 7720 7468 6520 636f 7272 6563   Show the correc
-00018290: 7420 6572 726f 7220 7768 656e 206c 6f67  t error when log
-000182a0: 6769 6e67 206f 7574 2061 6e64 2061 6363  ging out and acc
-000182b0: 6573 7320 746f 6b65 6e20 6973 206d 6973  ess token is mis
-000182c0: 7369 6e67 2e20 285b 5c23 3532 3536 5d28  sing. ([\#5256](
-000182d0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-000182e0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-000182f0: 6e61 7073 652f 6973 7375 6573 2f35 3235  napse/issues/525
-00018300: 3629 290a 2d20 4669 7820 6572 726f 7220  6)).- Fix error 
-00018310: 636f 6465 2077 6865 6e20 7468 6572 6520  code when there 
-00018320: 6973 2061 6e20 696e 7661 6c69 6420 7061  is an invalid pa
-00018330: 7261 6d65 7465 7220 6f6e 202f 5f6d 6174  rameter on /_mat
-00018340: 7269 782f 636c 6965 6e74 2f72 302f 7075  rix/client/r0/pu
-00018350: 626c 6963 526f 6f6d 7320 285b 5c23 3532  blicRooms ([\#52
-00018360: 3537 5d28 6874 7470 733a 2f2f 6769 7468  57](https://gith
-00018370: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00018380: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00018390: 2f35 3235 3729 290a 2d20 4669 7820 6572  /5257)).- Fix er
-000183a0: 726f 7220 7768 656e 2064 6f77 6e6c 6f61  ror when downloa
-000183b0: 6469 6e67 2074 6875 6d62 6e61 696c 2077  ding thumbnail w
-000183c0: 6974 6820 6d69 7373 696e 6720 7769 6474  ith missing widt
-000183d0: 682f 6865 6967 6874 2070 6172 616d 6574  h/height paramet
-000183e0: 6572 2e20 285b 5c23 3532 3538 5d28 6874  er. ([\#5258](ht
-000183f0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00018400: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00018410: 7073 652f 6973 7375 6573 2f35 3235 3829  pse/issues/5258)
-00018420: 290a 2d20 4669 7820 7363 6865 6d61 2075  ).- Fix schema u
-00018430: 7064 6174 6520 666f 7220 6163 636f 756e  pdate for accoun
-00018440: 7420 7661 6c69 6469 7479 2e20 285b 5c23  t validity. ([\#
-00018450: 3532 3638 5d28 6874 7470 733a 2f2f 6769  5268](https://gi
-00018460: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-00018470: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-00018480: 6573 2f35 3236 3829 290a 2d20 4669 7820  es/5268)).- Fix 
-00018490: 6275 6720 7768 6572 6520 7765 206c 6561  bug where we lea
-000184a0: 6b65 6420 6578 7472 656d 6974 6965 7320  ked extremities 
-000184b0: 7768 656e 2077 6520 736f 6674 2066 6169  when we soft fai
-000184c0: 6c65 6420 6576 656e 7473 2c20 6c65 6164  led events, lead
-000184d0: 696e 6720 746f 2070 6572 666f 726d 616e  ing to performan
-000184e0: 6365 2064 6567 7261 6461 7469 6f6e 2e20  ce degradation. 
-000184f0: 285b 5c23 3532 3734 5d28 6874 7470 733a  ([\#5274](https:
-00018500: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00018510: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00018520: 6973 7375 6573 2f35 3237 3429 2c20 5b5c  issues/5274), [\
-00018530: 2335 3237 385d 2868 7474 7073 3a2f 2f67  #5278](https://g
-00018540: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-00018550: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-00018560: 7565 732f 3532 3738 292c 205b 5c23 3532  ues/5278), [\#52
-00018570: 3931 5d28 6874 7470 733a 2f2f 6769 7468  91](https://gith
-00018580: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00018590: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-000185a0: 2f35 3239 3129 290a 2d20 4669 7820 2264  /5291)).- Fix "d
-000185b0: 6220 7478 6e20 2775 7064 6174 655f 7072  b txn 'update_pr
-000185c0: 6573 656e 6365 2720 6672 6f6d 2073 656e  esence' from sen
-000185d0: 7469 6e65 6c20 636f 6e74 6578 7422 206c  tinel context" l
-000185e0: 6f67 206d 6573 7361 6765 732e 2028 5b5c  og messages. ([\
-000185f0: 2335 3237 355d 2868 7474 7073 3a2f 2f67  #5275](https://g
+00010a90: 3537 3730 292c 205b 5c23 3537 3734 5d28  5770), [\#5774](
+00010aa0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00010ab0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00010ac0: 6e61 7073 652f 6973 7375 6573 2f35 3737  napse/issues/577
+00010ad0: 3429 2c20 5b5c 2335 3739 325d 2868 7474  4), [\#5792](htt
+00010ae0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00010af0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00010b00: 7365 2f69 7373 7565 732f 3537 3932 292c  se/issues/5792),
+00010b10: 205b 5c23 3537 3933 5d28 6874 7470 733a   [\#5793](https:
+00010b20: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00010b30: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00010b40: 6973 7375 6573 2f35 3739 3329 290a 2d20  issues/5793)).- 
+00010b50: 496d 7072 6f76 6520 6361 6368 696e 6720  Improve caching 
+00010b60: 7768 656e 2066 6574 6368 696e 6720 6067  when fetching `g
+00010b70: 6574 5f66 696c 7465 7265 645f 6375 7272  et_filtered_curr
+00010b80: 656e 745f 7374 6174 655f 6964 7360 2e20  ent_state_ids`. 
+00010b90: 285b 5c23 3537 3133 5d28 6874 7470 733a  ([\#5713](https:
+00010ba0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00010bb0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00010bc0: 6973 7375 6573 2f35 3731 3329 290a 2d20  issues/5713)).- 
+00010bd0: 446f 6e27 7420 6163 6365 7074 206f 7065  Don't accept ope
+00010be0: 6e74 7261 6369 6e67 2064 6174 6120 6672  ntracing data fr
+00010bf0: 6f6d 2063 6c69 656e 7473 2e20 285b 5c23  om clients. ([\#
+00010c00: 3537 3135 5d28 6874 7470 733a 2f2f 6769  5715](https://gi
+00010c10: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+00010c20: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+00010c30: 6573 2f35 3731 3529 290a 2d20 5370 6565  es/5715)).- Spee
+00010c40: 6420 7570 2050 6f73 7467 7265 5351 4c20  d up PostgreSQL 
+00010c50: 756e 6974 2074 6573 7473 2069 6e20 4349  unit tests in CI
+00010c60: 2e20 285b 5c23 3537 3137 5d28 6874 7470  . ([\#5717](http
+00010c70: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+00010c80: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+00010c90: 652f 6973 7375 6573 2f35 3731 3729 290a  e/issues/5717)).
+00010ca0: 2d20 5570 6461 7465 2074 6865 2063 6f64  - Update the cod
+00010cb0: 696e 6720 7374 796c 6520 646f 6375 6d65  ing style docume
+00010cc0: 6e74 2e20 285b 5c23 3537 3139 5d28 6874  nt. ([\#5719](ht
+00010cd0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00010ce0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+00010cf0: 7073 652f 6973 7375 6573 2f35 3731 3929  pse/issues/5719)
+00010d00: 290a 2d20 496d 7072 6f76 6520 6461 7461  ).- Improve data
+00010d10: 6261 7365 2071 7565 7279 2070 6572 666f  base query perfo
+00010d20: 726d 616e 6365 2077 6865 6e20 7265 636f  rmance when reco
+00010d30: 7264 696e 6720 7265 7472 7920 696e 7465  rding retry inte
+00010d40: 7276 616c 7320 666f 7220 7265 6d6f 7465  rvals for remote
+00010d50: 2068 6f73 7473 2e20 285b 5c23 3537 3230   hosts. ([\#5720
+00010d60: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00010d70: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00010d80: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
+00010d90: 3732 3029 290a 2d20 4164 6420 6120 7365  720)).- Add a se
+00010da0: 7420 6f66 206f 7065 6e74 7261 6369 6e67  t of opentracing
+00010db0: 2075 7469 6c73 2e20 285b 5c23 3537 3232   utils. ([\#5722
+00010dc0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00010dd0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00010de0: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
+00010df0: 3732 3229 290a 2d20 4361 6368 6520 7265  722)).- Cache re
+00010e00: 7375 6c74 206f 6620 6765 745f 7665 7273  sult of get_vers
+00010e10: 696f 6e5f 7374 7269 6e67 2074 6f20 7265  ion_string to re
+00010e20: 6475 6365 206f 7665 7268 6561 6420 6f66  duce overhead of
+00010e30: 2060 2f76 6572 7369 6f6e 6020 6665 6465   `/version` fede
+00010e40: 7261 7469 6f6e 2072 6571 7565 7374 732e  ration requests.
+00010e50: 2028 5b5c 2335 3733 305d 2868 7474 7073   ([\#5730](https
+00010e60: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00010e70: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00010e80: 2f69 7373 7565 732f 3537 3330 2929 0a2d  /issues/5730)).-
+00010e90: 2052 6574 7572 6e20 2775 7365 725f 7479   Return 'user_ty
+00010ea0: 7065 2720 696e 2061 646d 696e 2041 5049  pe' in admin API
+00010eb0: 2075 7365 7220 656e 6470 6f69 6e74 7320   user endpoints 
+00010ec0: 7265 7375 6c74 732e 2028 5b5c 2335 3733  results. ([\#573
+00010ed0: 315d 2868 7474 7073 3a2f 2f67 6974 6875  1](https://githu
+00010ee0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00010ef0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00010f00: 3537 3331 2929 0a2d 2044 6f6e 2774 2070  5731)).- Don't p
+00010f10: 6163 6b61 6765 2074 6865 2073 7974 6573  ackage the sytes
+00010f20: 7420 7465 7374 2062 6c61 636b 6c69 7374  t test blacklist
+00010f30: 2066 696c 652e 2028 5b5c 2335 3733 335d   file. ([\#5733]
+00010f40: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00010f50: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+00010f60: 796e 6170 7365 2f69 7373 7565 732f 3537  ynapse/issues/57
+00010f70: 3333 2929 0a2d 2052 6570 6c61 6365 2075  33)).- Replace u
+00010f80: 7365 7320 6f66 2072 6574 7572 6e56 616c  ses of returnVal
+00010f90: 7565 2077 6974 6820 706c 6169 6e20 7265  ue with plain re
+00010fa0: 7475 726e 2c20 6173 2072 6574 7572 6e56  turn, as returnV
+00010fb0: 616c 7565 2069 7320 6e6f 7420 6e65 6564  alue is not need
+00010fc0: 6564 206f 6e20 5079 7468 6f6e 2033 2e20  ed on Python 3. 
+00010fd0: 285b 5c23 3537 3336 5d28 6874 7470 733a  ([\#5736](https:
+00010fe0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00010ff0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00011000: 6973 7375 6573 2f35 3733 3629 290a 2d20  issues/5736)).- 
+00011010: 426c 6163 6b6c 6973 7420 736f 6d65 2066  Blacklist some f
+00011020: 6c61 6b65 7920 7465 7374 7320 696e 2077  lakey tests in w
+00011030: 6f72 6b65 7220 6d6f 6465 2e20 285b 5c23  orker mode. ([\#
+00011040: 3537 3430 5d28 6874 7470 733a 2f2f 6769  5740](https://gi
+00011050: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+00011060: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+00011070: 6573 2f35 3734 3029 290a 2d20 4669 7820  es/5740)).- Fix 
+00011080: 736f 6d65 2065 7272 6f72 2063 6173 6573  some error cases
+00011090: 2069 6e20 7468 6520 6361 6368 696e 6720   in the caching 
+000110a0: 6c61 7965 722e 2028 5b5c 2335 3734 395d  layer. ([\#5749]
+000110b0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+000110c0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+000110d0: 796e 6170 7365 2f69 7373 7565 732f 3537  ynapse/issues/57
+000110e0: 3439 2929 0a2d 2041 6464 2061 2070 726f  49)).- Add a pro
+000110f0: 6d65 7468 6575 7320 6d65 7472 6963 2066  metheus metric f
+00011100: 6f72 2070 656e 6469 6e67 2063 6163 6865  or pending cache
+00011110: 206c 6f6f 6b75 7073 2e20 285b 5c23 3537   lookups. ([\#57
+00011120: 3530 5d28 6874 7470 733a 2f2f 6769 7468  50](https://gith
+00011130: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00011140: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00011150: 2f35 3735 3029 290a 2d20 5374 6f70 2074  /5750)).- Stop t
+00011160: 7279 696e 6720 746f 2066 6574 6368 2065  rying to fetch e
+00011170: 7665 6e74 7320 7769 7468 2065 7665 6e74  vents with event
+00011180: 5f69 643d 4e6f 6e65 2e20 285b 5c23 3537  _id=None. ([\#57
+00011190: 3533 5d28 6874 7470 733a 2f2f 6769 7468  53](https://gith
+000111a0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+000111b0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+000111c0: 2f35 3735 3329 290a 2d20 436f 6e76 6572  /5753)).- Conver
+000111d0: 7420 5265 6461 6374 696f 6e54 6573 7443  t RedactionTestC
+000111e0: 6173 6520 746f 206d 6f64 6572 6e20 7465  ase to modern te
+000111f0: 7374 2073 7479 6c65 2e20 285b 5c23 3537  st style. ([\#57
+00011200: 3638 5d28 6874 7470 733a 2f2f 6769 7468  68](https://gith
+00011210: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00011220: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00011230: 2f35 3736 3829 290a 2d20 416c 6c6f 7720  /5768)).- Allow 
+00011240: 6c6f 6f70 696e 6720 6361 6c6c 7320 746f  looping calls to
+00011250: 2062 6520 6769 7665 6e20 6172 6775 6d65   be given argume
+00011260: 6e74 732e 2028 5b5c 2335 3738 305d 2868  nts. ([\#5780](h
+00011270: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00011280: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+00011290: 6170 7365 2f69 7373 7565 732f 3537 3830  apse/issues/5780
+000112a0: 2929 0a2d 2053 6574 2074 6865 206c 6f67  )).- Set the log
+000112b0: 7320 656d 6974 7465 6420 7768 656e 2063  s emitted when c
+000112c0: 6865 636b 696e 6720 7479 7069 6e67 2061  hecking typing a
+000112d0: 6e64 2070 7265 7365 6e63 6520 7469 6d65  nd presence time
+000112e0: 6f75 7473 2074 6f20 4445 4255 4720 6c65  outs to DEBUG le
+000112f0: 7665 6c2c 206e 6f74 2049 4e46 4f2e 2028  vel, not INFO. (
+00011300: 5b5c 2335 3738 355d 2868 7474 7073 3a2f  [\#5785](https:/
+00011310: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+00011320: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00011330: 7373 7565 732f 3537 3835 2929 0a2d 2052  ssues/5785)).- R
+00011340: 656d 6f76 6520 4465 6c61 7965 6443 616c  emove DelayedCal
+00011350: 6c20 6465 6275 6767 696e 6720 6672 6f6d  l debugging from
+00011360: 2074 6865 2074 6573 7420 7375 6974 652c   the test suite,
+00011370: 2061 7320 6974 2069 7320 6e6f 206c 6f6e   as it is no lon
+00011380: 6765 7220 7265 7175 6972 6564 2069 6e20  ger required in 
+00011390: 7468 6520 7661 7374 206d 616a 6f72 6974  the vast majorit
+000113a0: 7920 6f66 2053 796e 6170 7365 2773 2074  y of Synapse's t
+000113b0: 6573 7473 2e20 285b 5c23 3537 3837 5d28  ests. ([\#5787](
+000113c0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+000113d0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+000113e0: 6e61 7073 652f 6973 7375 6573 2f35 3738  napse/issues/578
+000113f0: 3729 290a 2d20 5265 6d6f 7665 2073 6f6d  7)).- Remove som
+00011400: 6520 7370 7572 696f 7573 2065 7863 6570  e spurious excep
+00011410: 7469 6f6e 7320 6672 6f6d 2074 6865 206c  tions from the l
+00011420: 6f67 7320 7768 6572 6520 7765 2066 6169  ogs where we fai
+00011430: 6c65 6420 746f 2074 616c 6b20 746f 2061  led to talk to a
+00011440: 2072 656d 6f74 6520 7365 7276 6572 2e20   remote server. 
+00011450: 285b 5c23 3537 3930 5d28 6874 7470 733a  ([\#5790](https:
+00011460: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00011470: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00011480: 6973 7375 6573 2f35 3739 3029 290a 2d20  issues/5790)).- 
+00011490: 496d 7072 6f76 6520 7065 7266 6f72 6d61  Improve performa
+000114a0: 6e63 6520 7768 656e 206d 616b 696e 6720  nce when making 
+000114b0: 602e 7765 6c6c 2d6b 6e6f 776e 6020 7265  `.well-known` re
+000114c0: 7175 6573 7473 2062 7920 7368 6172 696e  quests by sharin
+000114d0: 6720 7468 6520 5353 4c20 6f70 7469 6f6e  g the SSL option
+000114e0: 7320 6265 7477 6565 6e20 7265 7175 6573  s between reques
+000114f0: 7473 2e20 285b 5c23 3537 3934 5d28 6874  ts. ([\#5794](ht
+00011500: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00011510: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+00011520: 7073 652f 6973 7375 6573 2f35 3739 3429  pse/issues/5794)
+00011530: 290a 2d20 4469 7361 626c 6520 636f 6465  ).- Disable code
+00011540: 636f 7620 4769 7448 7562 2063 6f6d 6d65  cov GitHub comme
+00011550: 6e74 7320 6f6e 2050 5273 2e20 285b 5c23  nts on PRs. ([\#
+00011560: 3537 3936 5d28 6874 7470 733a 2f2f 6769  5796](https://gi
+00011570: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+00011580: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+00011590: 6573 2f35 3739 3629 290a 2d20 446f 6e27  es/5796)).- Don'
+000115a0: 7420 616c 6c6f 7720 636c 6965 6e74 7320  t allow clients 
+000115b0: 746f 2073 656e 6420 746f 6d62 7374 6f6e  to send tombston
+000115c0: 6520 6576 656e 7473 2074 6861 7420 7265  e events that re
+000115d0: 6665 7265 6e63 6520 7468 6520 726f 6f6d  ference the room
+000115e0: 2069 7427 7320 7365 6e74 2069 6e2e 2028   it's sent in. (
+000115f0: 5b5c 2335 3830 315d 2868 7474 7073 3a2f  [\#5801](https:/
+00011600: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+00011610: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00011620: 7373 7565 732f 3538 3031 2929 0a2d 2044  ssues/5801)).- D
+00011630: 656e 7920 7265 6461 6374 696f 6e73 206f  eny redactions o
+00011640: 6620 6576 656e 7473 2073 656e 7420 696e  f events sent in
+00011650: 2061 2064 6966 6665 7265 6e74 2072 6f6f   a different roo
+00011660: 6d2e 2028 5b5c 2335 3830 325d 2868 7474  m. ([\#5802](htt
+00011670: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00011680: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00011690: 7365 2f69 7373 7565 732f 3538 3032 2929  se/issues/5802))
+000116a0: 0a2d 2044 656e 7920 7365 6e64 696e 6720  .- Deny sending 
+000116b0: 7765 6c6c 206b 6e6f 776e 2073 7461 7465  well known state
+000116c0: 2074 7970 6573 2061 7320 6e6f 6e2d 7374   types as non-st
+000116d0: 6174 6520 6576 656e 7473 2e20 285b 5c23  ate events. ([\#
+000116e0: 3538 3035 5d28 6874 7470 733a 2f2f 6769  5805](https://gi
+000116f0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+00011700: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+00011710: 6573 2f35 3830 3529 290a 2d20 4861 6e64  es/5805)).- Hand
+00011720: 6c65 2069 6e63 6f72 7265 6374 6c79 2065  le incorrectly e
+00011730: 6e63 6f64 6564 2071 7565 7279 2070 6172  ncoded query par
+00011740: 616d 7320 636f 7272 6563 746c 7920 6279  ams correctly by
+00011750: 2072 6574 7572 6e69 6e67 2061 2034 3030   returning a 400
+00011760: 2e20 285b 5c23 3538 3038 5d28 6874 7470  . ([\#5808](http
+00011770: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+00011780: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+00011790: 652f 6973 7375 6573 2f35 3830 3829 290a  e/issues/5808)).
+000117a0: 2d20 4861 6e64 6c65 2070 7573 6865 7220  - Handle pusher 
+000117b0: 6265 696e 6720 6465 6c65 7465 6420 6475  being deleted du
+000117c0: 7269 6e67 2070 726f 6365 7373 696e 6720  ring processing 
+000117d0: 7261 7468 6572 2074 6861 6e20 6c6f 6767  rather than logg
+000117e0: 696e 6720 616e 2065 7863 6570 7469 6f6e  ing an exception
+000117f0: 2e20 285b 5c23 3538 3039 5d28 6874 7470  . ([\#5809](http
+00011800: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+00011810: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+00011820: 652f 6973 7375 6573 2f35 3830 3929 290a  e/issues/5809)).
+00011830: 2d20 5265 7475 726e 2035 3032 206e 6f74  - Return 502 not
+00011840: 2035 3030 2077 6865 6e20 6661 696c 696e   500 when failin
+00011850: 6720 746f 2072 6561 6368 2061 6e79 2072  g to reach any r
+00011860: 656d 6f74 6520 7365 7276 6572 2e20 285b  emote server. ([
+00011870: 5c23 3538 3130 5d28 6874 7470 733a 2f2f  \#5810](https://
+00011880: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00011890: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+000118a0: 7375 6573 2f35 3831 3029 290a 2d20 5265  sues/5810)).- Re
+000118b0: 6475 6365 2067 6c6f 6261 6c20 7061 7573  duce global paus
+000118c0: 6573 2069 6e20 7468 6520 6576 656e 7473  es in the events
+000118d0: 2073 7472 6561 6d20 6361 7573 6564 2062   stream caused b
+000118e0: 7920 6578 7065 6e73 6976 6520 7374 6174  y expensive stat
+000118f0: 6520 7265 736f 6c75 7469 6f6e 2064 7572  e resolution dur
+00011900: 696e 6720 7065 7273 6973 7465 6e63 652e  ing persistence.
+00011910: 2028 5b5c 2335 3832 365d 2868 7474 7073   ([\#5826](https
+00011920: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00011930: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00011940: 2f69 7373 7565 732f 3538 3236 2929 0a2d  /issues/5826)).-
+00011950: 2041 6464 2061 206c 6f77 6572 2062 6f75   Add a lower bou
+00011960: 6e64 2074 6f20 7765 6c6c 2d6b 6e6f 776e  nd to well-known
+00011970: 206c 6f6f 6b75 7020 6361 6368 6520 7469   lookup cache ti
+00011980: 6d65 2074 6f20 6176 6f69 6420 7265 7065  me to avoid repe
+00011990: 6174 6564 206c 6f6f 6b75 7073 2e20 285b  ated lookups. ([
+000119a0: 5c23 3538 3336 5d28 6874 7470 733a 2f2f  \#5836](https://
+000119b0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+000119c0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+000119d0: 7375 6573 2f35 3833 3629 290a 2d20 5768  sues/5836)).- Wh
+000119e0: 6974 656c 6973 7420 6869 7374 6f72 7920  itelist history 
+000119f0: 7669 7362 696c 6974 7920 7379 7465 7374  visbility sytest
+00011a00: 7320 696e 2077 6f72 6b65 7220 6d6f 6465  s in worker mode
+00011a10: 2074 6573 7473 2e20 285b 5c23 3538 3433   tests. ([\#5843
+00011a20: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00011a30: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00011a40: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
+00011a50: 3834 3329 290a 0a0a 5379 6e61 7073 6520  843))...Synapse 
+00011a60: 312e 322e 3120 2832 3031 392d 3037 2d32  1.2.1 (2019-07-2
+00011a70: 3629 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  6).=============
+00011a80: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a53  =============..S
+00011a90: 6563 7572 6974 7920 7570 6461 7465 0a2d  ecurity update.-
+00011aa0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 0a0a  --------------..
+00011ab0: 5468 6973 2072 656c 6561 7365 2069 6e63  This release inc
+00011ac0: 6c75 6465 7320 2a66 6f75 722a 2073 6563  ludes *four* sec
+00011ad0: 7572 6974 7920 6669 7865 733a 0a0a 2d20  urity fixes:..- 
+00011ae0: 5072 6576 656e 7420 616e 2061 7474 6163  Prevent an attac
+00011af0: 6b20 7768 6572 6520 6120 6665 6465 7261  k where a federa
+00011b00: 7465 6420 7365 7276 6572 2063 6f75 6c64  ted server could
+00011b10: 2073 656e 6420 7265 6461 6374 696f 6e73   send redactions
+00011b20: 2066 6f72 2061 7262 6974 7261 7279 2065   for arbitrary e
+00011b30: 7665 6e74 7320 696e 2076 3120 616e 6420  vents in v1 and 
+00011b40: 7632 2072 6f6f 6d73 2e20 285b 5c23 3537  v2 rooms. ([\#57
+00011b50: 3637 5d28 6874 7470 733a 2f2f 6769 7468  67](https://gith
+00011b60: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00011b70: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00011b80: 2f35 3736 3729 290a 2d20 5072 6576 656e  /5767)).- Preven
+00011b90: 7420 6120 6465 6e69 616c 2d6f 662d 7365  t a denial-of-se
+00011ba0: 7276 6963 6520 6174 7461 636b 2077 6865  rvice attack whe
+00011bb0: 7265 2063 7963 6c65 7320 6f66 2072 6564  re cycles of red
+00011bc0: 6163 7469 6f6e 2065 7665 6e74 7320 776f  action events wo
+00011bd0: 756c 6420 6d61 6b65 2053 796e 6170 7365  uld make Synapse
+00011be0: 2073 7069 6e20 696e 6669 6e69 7465 6c79   spin infinitely
+00011bf0: 2e20 5468 616e 6b73 2074 6f20 6040 6c72  . Thanks to `@lr
+00011c00: 697a 696b 613a 6d61 7472 6978 2e6f 7267  izika:matrix.org
+00011c10: 6020 666f 7220 6964 656e 7469 6679 696e  ` for identifyin
+00011c20: 6720 616e 6420 7265 7370 6f6e 7369 626c  g and responsibl
+00011c30: 7920 6469 7363 6c6f 7369 6e67 2074 6869  y disclosing thi
+00011c40: 7320 6973 7375 652e 2028 5b30 6632 6563  s issue. ([0f2ec
+00011c50: 6239 3631 5d28 6874 7470 733a 2f2f 6769  b961](https://gi
+00011c60: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+00011c70: 6f72 672f 7379 6e61 7073 652f 636f 6d6d  org/synapse/comm
+00011c80: 6974 2f30 6632 6563 6239 3631 2929 0a2d  it/0f2ecb961)).-
+00011c90: 2050 7265 7665 6e74 2061 6e20 6174 7461   Prevent an atta
+00011ca0: 636b 2077 6865 7265 2075 7365 7273 2063  ck where users c
+00011cb0: 6f75 6c64 2062 6520 6a6f 696e 6564 206f  ould be joined o
+00011cc0: 7220 7061 7274 6564 2066 726f 6d20 7075  r parted from pu
+00011cd0: 626c 6963 2072 6f6f 6d73 2077 6974 686f  blic rooms witho
+00011ce0: 7574 2074 6865 6972 2063 6f6e 7365 6e74  ut their consent
+00011cf0: 2e20 5468 616e 6b73 2074 6f20 4064 796c  . Thanks to @dyl
+00011d00: 616e 6765 7264 616c 7920 666f 7220 6964  angerdaly for id
+00011d10: 656e 7469 6679 696e 6720 616e 6420 7265  entifying and re
+00011d20: 7370 6f6e 7369 626c 7920 6469 7363 6c6f  sponsibly disclo
+00011d30: 7369 6e67 2074 6869 7320 6973 7375 652e  sing this issue.
+00011d40: 2028 5b5c 2335 3734 345d 2868 7474 7073   ([\#5744](https
+00011d50: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00011d60: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00011d70: 2f69 7373 7565 732f 3537 3434 2929 0a2d  /issues/5744)).-
+00011d80: 2046 6978 2061 2076 756c 6e65 7261 6269   Fix a vulnerabi
+00011d90: 6c69 7479 2077 6865 7265 2061 2066 6564  lity where a fed
+00011da0: 6572 6174 6564 2073 6572 7665 7220 636f  erated server co
+00011db0: 756c 6420 7370 6f6f 6620 7265 6164 2d72  uld spoof read-r
+00011dc0: 6563 6569 7074 7320 6672 6f6d 0a20 2075  eceipts from.  u
+00011dd0: 7365 7273 206f 6e20 6f74 6865 7220 7365  sers on other se
+00011de0: 7276 6572 732e 2054 6861 6e6b 7320 746f  rvers. Thanks to
+00011df0: 2040 6479 6c61 6e67 6572 6461 6c79 2066   @dylangerdaly f
+00011e00: 6f72 2069 6465 6e74 6966 7969 6e67 2074  or identifying t
+00011e10: 6869 7320 6973 7375 6520 746f 6f2e 2028  his issue too. (
+00011e20: 5b5c 2335 3734 335d 2868 7474 7073 3a2f  [\#5743](https:/
+00011e30: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+00011e40: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00011e50: 7373 7565 732f 3537 3433 2929 0a0a 4164  ssues/5743))..Ad
+00011e60: 6469 7469 6f6e 616c 6c79 2c20 7468 6520  ditionally, the 
+00011e70: 666f 6c6c 6f77 696e 6720 6669 7820 7761  following fix wa
+00011e80: 7320 696e 2053 796e 6170 7365 202a 2a31  s in Synapse **1
+00011e90: 2e32 2e30 2a2a 2c20 6275 7420 7761 7320  .2.0**, but was 
+00011ea0: 6e6f 7420 636f 7272 6563 746c 790a 6964  not correctly.id
+00011eb0: 656e 7469 6669 6564 2064 7572 696e 6720  entified during 
+00011ec0: 7468 6520 6f72 6967 696e 616c 2072 656c  the original rel
+00011ed0: 6561 7365 3a0a 0a2d 2049 7420 7761 7320  ease:..- It was 
+00011ee0: 706f 7373 6962 6c65 2066 6f72 2061 2072  possible for a r
+00011ef0: 6f6f 6d20 6d6f 6465 7261 746f 7220 746f  oom moderator to
+00011f00: 2073 656e 6420 6120 7265 6461 6374 696f   send a redactio
+00011f10: 6e20 666f 7220 616e 2060 6d2e 726f 6f6d  n for an `m.room
+00011f20: 2e63 7265 6174 6560 2065 7665 6e74 2c20  .create` event, 
+00011f30: 7768 6963 6820 776f 756c 6420 646f 776e  which would down
+00011f40: 6772 6164 6520 7468 6520 726f 6f6d 2074  grade the room t
+00011f50: 6f20 7665 7273 696f 6e20 312e 2054 6861  o version 1. Tha
+00011f60: 6e6b 7320 746f 2060 2f64 6576 2f70 6f6e  nks to `/dev/pon
+00011f70: 6965 7360 2066 6f72 2069 6465 6e74 6966  ies` for identif
+00011f80: 7969 6e67 2061 6e64 2072 6573 706f 6e73  ying and respons
+00011f90: 6962 6c79 2064 6973 636c 6f73 696e 6720  ibly disclosing 
+00011fa0: 7468 6973 2069 7373 7565 2120 285b 5c23  this issue! ([\#
+00011fb0: 3537 3031 5d28 6874 7470 733a 2f2f 6769  5701](https://gi
+00011fc0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+00011fd0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+00011fe0: 6573 2f35 3730 3129 290a 0a53 796e 6170  es/5701))..Synap
+00011ff0: 7365 2031 2e32 2e30 2028 3230 3139 2d30  se 1.2.0 (2019-0
+00012000: 372d 3235 290a 3d3d 3d3d 3d3d 3d3d 3d3d  7-25).==========
+00012010: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00012020: 0a0a 4e6f 2073 6967 6e69 6669 6361 6e74  ..No significant
+00012030: 2063 6861 6e67 6573 2e0a 0a0a 5379 6e61   changes....Syna
+00012040: 7073 6520 312e 322e 3072 6332 2028 3230  pse 1.2.0rc2 (20
+00012050: 3139 2d30 372d 3234 290a 3d3d 3d3d 3d3d  19-07-24).======
+00012060: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00012070: 3d3d 3d3d 3d3d 3d0a 0a42 7567 6669 7865  =======..Bugfixe
+00012080: 730a 2d2d 2d2d 2d2d 2d2d 0a0a 2d20 4669  s.--------..- Fi
+00012090: 7820 6120 7265 6772 6573 7369 6f6e 2069  x a regression i
+000120a0: 6e74 726f 6475 6365 6420 696e 2076 312e  ntroduced in v1.
+000120b0: 322e 3072 6331 2077 6869 6368 206c 6564  2.0rc1 which led
+000120c0: 2074 6f20 696e 636f 7272 6563 7420 6c61   to incorrect la
+000120d0: 6265 6c73 206f 6e20 736f 6d65 2070 726f  bels on some pro
+000120e0: 6d65 7468 6575 7320 6d65 7472 6963 732e  metheus metrics.
+000120f0: 2028 5b5c 2335 3733 345d 2868 7474 7073   ([\#5734](https
+00012100: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00012110: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00012120: 2f69 7373 7565 732f 3537 3334 2929 0a0a  /issues/5734))..
+00012130: 0a53 796e 6170 7365 2031 2e32 2e30 7263  .Synapse 1.2.0rc
+00012140: 3120 2832 3031 392d 3037 2d32 3229 0a3d  1 (2019-07-22).=
+00012150: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00012160: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 5365  ============..Se
+00012170: 6375 7269 7479 2066 6978 6573 0a2d 2d2d  curity fixes.---
+00012180: 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a 0a54 6869  -----------..Thi
+00012190: 7320 7570 6461 7465 2069 6e63 6c75 6465  s update include
+000121a0: 6420 6120 7365 6375 7269 7479 2066 6978  d a security fix
+000121b0: 2077 6869 6368 2077 6173 2069 6e69 7469   which was initi
+000121c0: 616c 6c79 2069 6e63 6f72 7265 6374 6c79  ally incorrectly
+000121d0: 2066 6c61 6767 6564 2061 730a 6120 7265   flagged as.a re
+000121e0: 6775 6c61 7220 6275 6720 6669 782e 0a0a  gular bug fix...
+000121f0: 2d20 4974 2077 6173 2070 6f73 7369 626c  - It was possibl
+00012200: 6520 666f 7220 6120 726f 6f6d 206d 6f64  e for a room mod
+00012210: 6572 6174 6f72 2074 6f20 7365 6e64 2061  erator to send a
+00012220: 2072 6564 6163 7469 6f6e 2066 6f72 2061   redaction for a
+00012230: 6e20 606d 2e72 6f6f 6d2e 6372 6561 7465  n `m.room.create
+00012240: 6020 6576 656e 742c 2077 6869 6368 2077  ` event, which w
+00012250: 6f75 6c64 2064 6f77 6e67 7261 6465 2074  ould downgrade t
+00012260: 6865 2072 6f6f 6d20 746f 2076 6572 7369  he room to versi
+00012270: 6f6e 2031 2e20 5468 616e 6b73 2074 6f20  on 1. Thanks to 
+00012280: 602f 6465 762f 706f 6e69 6573 6020 666f  `/dev/ponies` fo
+00012290: 7220 6964 656e 7469 6679 696e 6720 616e  r identifying an
+000122a0: 6420 7265 7370 6f6e 7369 626c 7920 6469  d responsibly di
+000122b0: 7363 6c6f 7369 6e67 2074 6869 7320 6973  sclosing this is
+000122c0: 7375 6521 2028 5b5c 2335 3730 315d 2868  sue! ([\#5701](h
+000122d0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+000122e0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+000122f0: 6170 7365 2f69 7373 7565 732f 3537 3031  apse/issues/5701
+00012300: 2929 0a0a 4665 6174 7572 6573 0a2d 2d2d  ))..Features.---
+00012310: 2d2d 2d2d 2d0a 0a2d 2041 6464 2073 7570  -----..- Add sup
+00012320: 706f 7274 2066 6f72 206f 7065 6e74 7261  port for opentra
+00012330: 6369 6e67 2e20 285b 5c23 3535 3434 5d28  cing. ([\#5544](
+00012340: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00012350: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00012360: 6e61 7073 652f 6973 7375 6573 2f35 3534  napse/issues/554
+00012370: 3429 2c20 5b5c 2335 3731 325d 2868 7474  4), [\#5712](htt
+00012380: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00012390: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+000123a0: 7365 2f69 7373 7565 732f 3537 3132 2929  se/issues/5712))
+000123b0: 0a2d 2041 6464 2061 6269 6c69 7479 2074  .- Add ability t
+000123c0: 6f20 7075 6c6c 2061 6c6c 206c 6f63 616c  o pull all local
+000123d0: 6c79 2073 746f 7265 6420 6576 656e 7473  ly stored events
+000123e0: 206f 7574 206f 6620 7379 6e61 7073 6520   out of synapse 
+000123f0: 7468 6174 2061 2070 6172 7469 6375 6c61  that a particula
+00012400: 7220 7573 6572 2063 616e 2073 6565 2e20  r user can see. 
+00012410: 285b 5c23 3535 3839 5d28 6874 7470 733a  ([\#5589](https:
+00012420: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00012430: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00012440: 6973 7375 6573 2f35 3538 3929 290a 2d20  issues/5589)).- 
+00012450: 4164 6420 6120 6261 7369 6320 6164 6d69  Add a basic admi
+00012460: 6e20 636f 6d6d 616e 6420 6170 7020 746f  n command app to
+00012470: 2061 6c6c 6f77 2073 6572 7665 7220 6f70   allow server op
+00012480: 6572 6174 6f72 7320 746f 2072 756e 2053  erators to run S
+00012490: 796e 6170 7365 2061 646d 696e 2063 6f6d  ynapse admin com
+000124a0: 6d61 6e64 7320 7365 7061 7261 7465 6c79  mands separately
+000124b0: 2066 726f 6d20 7468 6520 6d61 696e 2070   from the main p
+000124c0: 726f 6475 6374 696f 6e20 696e 7374 616e  roduction instan
+000124d0: 6365 2e20 285b 5c23 3535 3937 5d28 6874  ce. ([\#5597](ht
+000124e0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+000124f0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+00012500: 7073 652f 6973 7375 6573 2f35 3539 3729  pse/issues/5597)
+00012510: 290a 2d20 4164 6420 6073 656e 6465 7260  ).- Add `sender`
+00012520: 2061 6e64 2060 6f72 6967 696e 5f73 6572   and `origin_ser
+00012530: 7665 725f 7473 6020 6669 656c 6473 2074  ver_ts` fields t
+00012540: 6f20 606d 2e72 6570 6c61 6365 602e 2028  o `m.replace`. (
+00012550: 5b5c 2335 3631 335d 2868 7474 7073 3a2f  [\#5613](https:/
+00012560: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+00012570: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00012580: 7373 7565 732f 3536 3133 2929 0a2d 2041  ssues/5613)).- A
+00012590: 6464 2064 6566 6175 6c74 2070 7573 6820  dd default push 
+000125a0: 7275 6c65 2074 6f20 6967 6e6f 7265 2072  rule to ignore r
+000125b0: 6561 6374 696f 6e73 2e20 285b 5c23 3536  eactions. ([\#56
+000125c0: 3233 5d28 6874 7470 733a 2f2f 6769 7468  23](https://gith
+000125d0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+000125e0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+000125f0: 2f35 3632 3329 290a 2d20 496e 636c 7564  /5623)).- Includ
+00012600: 6520 7468 6520 6f72 6967 696e 616c 2065  e the original e
+00012610: 7665 6e74 2077 6865 6e20 6173 6b69 6e67  vent when asking
+00012620: 2066 6f72 2069 7473 2072 656c 6174 696f   for its relatio
+00012630: 6e73 2e20 285b 5c23 3536 3236 5d28 6874  ns. ([\#5626](ht
+00012640: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00012650: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+00012660: 7073 652f 6973 7375 6573 2f35 3632 3629  pse/issues/5626)
+00012670: 290a 2d20 496d 706c 656d 656e 7420 6073  ).- Implement `s
+00012680: 6573 7369 6f6e 5f6c 6966 6574 696d 6560  ession_lifetime`
+00012690: 2063 6f6e 6669 6775 7261 7469 6f6e 206f   configuration o
+000126a0: 7074 696f 6e2c 2061 6674 6572 2077 6869  ption, after whi
+000126b0: 6368 2061 6363 6573 7320 746f 6b65 6e73  ch access tokens
+000126c0: 2077 696c 6c20 6578 7069 7265 2e20 285b   will expire. ([
+000126d0: 5c23 3536 3630 5d28 6874 7470 733a 2f2f  \#5660](https://
+000126e0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+000126f0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00012700: 7375 6573 2f35 3636 3029 290a 2d20 5265  sues/5660)).- Re
+00012710: 7475 726e 2022 5468 6973 2061 6363 6f75  turn "This accou
+00012720: 6e74 2068 6173 2062 6565 6e20 6465 6163  nt has been deac
+00012730: 7469 7661 7465 6422 2077 6865 6e20 6120  tivated" when a 
+00012740: 6465 6163 7469 7661 7465 6420 7573 6572  deactivated user
+00012750: 2074 7269 6573 2074 6f20 6c6f 6769 6e2e   tries to login.
+00012760: 2028 5b5c 2335 3637 345d 2868 7474 7073   ([\#5674](https
+00012770: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00012780: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00012790: 2f69 7373 7565 732f 3536 3734 2929 0a2d  /issues/5674)).-
+000127a0: 2045 6e61 626c 6520 6167 6772 6567 6174   Enable aggregat
+000127b0: 696f 6e73 2073 7570 706f 7274 2062 7920  ions support by 
+000127c0: 6465 6661 756c 7420 285b 5c23 3537 3134  default ([\#5714
+000127d0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+000127e0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+000127f0: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
+00012800: 3731 3429 290a 0a0a 4275 6766 6978 6573  714))...Bugfixes
+00012810: 0a2d 2d2d 2d2d 2d2d 2d0a 0a2d 2046 6978  .--------..- Fix
+00012820: 2027 7574 696d 6520 7765 6e74 2062 6163   'utime went bac
+00012830: 6b77 6172 6473 2720 6572 726f 7273 206f  kwards' errors o
+00012840: 6e20 6461 656d 6f6e 697a 6174 696f 6e2e  n daemonization.
+00012850: 2028 5b5c 2335 3630 395d 2868 7474 7073   ([\#5609](https
+00012860: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00012870: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00012880: 2f69 7373 7565 732f 3536 3039 2929 0a2d  /issues/5609)).-
+00012890: 2056 6172 696f 7573 206d 696e 6f72 2066   Various minor f
+000128a0: 6978 6573 2074 6f20 7468 6520 6665 6465  ixes to the fede
+000128b0: 7261 7469 6f6e 2072 6571 7565 7374 2072  ration request r
+000128c0: 6174 6520 6c69 6d69 7465 722e 2028 5b5c  ate limiter. ([\
+000128d0: 2335 3632 315d 2868 7474 7073 3a2f 2f67  #5621](https://g
+000128e0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+000128f0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00012900: 7565 732f 3536 3231 2929 0a2d 2046 6f72  ues/5621)).- For
+00012910: 6269 6420 7669 6577 696e 6720 7265 6c61  bid viewing rela
+00012920: 7469 6f6e 7320 6f6e 2061 6e20 6576 656e  tions on an even
+00012930: 7420 6f6e 6365 2069 7420 6861 7320 6265  t once it has be
+00012940: 656e 2072 6564 6163 7465 642e 2028 5b5c  en redacted. ([\
+00012950: 2335 3632 395d 2868 7474 7073 3a2f 2f67  #5629](https://g
+00012960: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00012970: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00012980: 7565 732f 3536 3239 2929 0a2d 2046 6978  ues/5629)).- Fix
+00012990: 2072 6571 7565 7374 7320 746f 2074 6865   requests to the
+000129a0: 2060 2f73 746f 7265 5f69 6e76 6974 6560   `/store_invite`
+000129b0: 2065 6e64 706f 696e 7420 6f66 2069 6465   endpoint of ide
+000129c0: 6e74 6974 7920 7365 7276 6572 7320 6265  ntity servers be
+000129d0: 696e 6720 7365 6e74 2069 6e20 7468 6520  ing sent in the 
+000129e0: 7772 6f6e 6720 666f 726d 6174 2e20 285b  wrong format. ([
+000129f0: 5c23 3536 3338 5d28 6874 7470 733a 2f2f  \#5638](https://
+00012a00: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00012a10: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00012a20: 7375 6573 2f35 3633 3829 290a 2d20 4669  sues/5638)).- Fi
+00012a30: 7820 6e65 776c 792d 7265 6769 7374 6572  x newly-register
+00012a40: 6564 2075 7365 7273 206e 6f74 2062 6569  ed users not bei
+00012a50: 6e67 2061 626c 6520 746f 206c 6f6f 6b75  ng able to looku
+00012a60: 7020 7468 6569 7220 6f77 6e20 7072 6f66  p their own prof
+00012a70: 696c 6520 7769 7468 6f75 7420 6a6f 696e  ile without join
+00012a80: 696e 6720 6120 726f 6f6d 2e20 285b 5c23  ing a room. ([\#
+00012a90: 3536 3434 5d28 6874 7470 733a 2f2f 6769  5644](https://gi
+00012aa0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+00012ab0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+00012ac0: 6573 2f35 3634 3429 290a 2d20 4669 7820  es/5644)).- Fix 
+00012ad0: 6275 6720 696e 2023 3536 3236 2074 6861  bug in #5626 tha
+00012ae0: 7420 7072 6576 656e 7465 6420 7468 6520  t prevented the 
+00012af0: 6f72 6967 696e 616c 5f65 7665 6e74 2066  original_event f
+00012b00: 6965 6c64 2066 726f 6d20 6163 7475 616c  ield from actual
+00012b10: 6c79 2068 6176 696e 6720 7468 6520 636f  ly having the co
+00012b20: 6e74 656e 7473 206f 6620 7468 6520 6f72  ntents of the or
+00012b30: 6967 696e 616c 2065 7665 6e74 2069 6e20  iginal event in 
+00012b40: 6120 6361 6c6c 2074 6f20 602f 7265 6c61  a call to `/rela
+00012b50: 7469 6f6e 7360 2e20 285b 5c23 3536 3534  tions`. ([\#5654
+00012b60: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00012b70: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00012b80: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
+00012b90: 3635 3429 290a 2d20 4669 7820 3350 4944  654)).- Fix 3PID
+00012ba0: 2062 696e 6420 7265 7175 6573 7473 2062   bind requests b
+00012bb0: 6569 6e67 2073 656e 7420 746f 2069 6465  eing sent to ide
+00012bc0: 6e74 6974 7920 7365 7276 6572 7320 6173  ntity servers as
+00012bd0: 2060 6170 706c 6963 6174 696f 6e2f 782d   `application/x-
+00012be0: 666f 726d 2d77 7777 2d75 726c 656e 636f  form-www-urlenco
+00012bf0: 6465 6460 2064 6174 612c 2077 6869 6368  ded` data, which
+00012c00: 2069 7320 6465 7072 6563 6174 6564 2e20   is deprecated. 
+00012c10: 285b 5c23 3536 3538 5d28 6874 7470 733a  ([\#5658](https:
+00012c20: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00012c30: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00012c40: 6973 7375 6573 2f35 3635 3829 290a 2d20  issues/5658)).- 
+00012c50: 4669 7820 736f 6d65 2070 726f 626c 656d  Fix some problem
+00012c60: 7320 7769 7468 2061 7574 6865 6e74 6963  s with authentic
+00012c70: 6174 696e 6720 7265 6461 6374 696f 6e73  ating redactions
+00012c80: 2069 6e20 7265 6365 6e74 2072 6f6f 6d20   in recent room 
+00012c90: 7665 7273 696f 6e73 2e20 285b 5c23 3536  versions. ([\#56
+00012ca0: 3939 5d28 6874 7470 733a 2f2f 6769 7468  99](https://gith
+00012cb0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00012cc0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00012cd0: 2f35 3639 3929 2c20 5b5c 2335 3730 305d  /5699), [\#5700]
+00012ce0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00012cf0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+00012d00: 796e 6170 7365 2f69 7373 7565 732f 3537  ynapse/issues/57
+00012d10: 3030 292c 205b 5c23 3537 3037 5d28 6874  00), [\#5707](ht
+00012d20: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00012d30: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+00012d40: 7073 652f 6973 7375 6573 2f35 3730 3729  pse/issues/5707)
+00012d50: 290a 0a0a 5570 6461 7465 7320 746f 2074  )...Updates to t
+00012d60: 6865 2044 6f63 6b65 7220 696d 6167 650a  he Docker image.
+00012d70: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00012d80: 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a 0a2d 2042  -----------..- B
+00012d90: 6173 6520 446f 636b 6572 2069 6d61 6765  ase Docker image
+00012da0: 206f 6e20 6120 6e65 7765 7220 416c 7069   on a newer Alpi
+00012db0: 6e65 204c 696e 7578 2076 6572 7369 6f6e  ne Linux version
+00012dc0: 2028 332e 3820 2d3e 2033 2e31 3029 2e20   (3.8 -> 3.10). 
+00012dd0: 285b 5c23 3536 3139 5d28 6874 7470 733a  ([\#5619](https:
+00012de0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00012df0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00012e00: 6973 7375 6573 2f35 3631 3929 290a 2d20  issues/5619)).- 
+00012e10: 4164 6420 6d69 7373 696e 6720 7370 6163  Add missing spac
+00012e20: 6520 696e 2064 6566 6175 6c74 206c 6f67  e in default log
+00012e30: 6769 6e67 2066 696c 6520 666f 726d 6174  ging file format
+00012e40: 2067 656e 6572 6174 6564 2062 7920 7468   generated by th
+00012e50: 6520 446f 636b 6572 2069 6d61 6765 2e20  e Docker image. 
+00012e60: 285b 5c23 3536 3230 5d28 6874 7470 733a  ([\#5620](https:
+00012e70: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00012e80: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00012e90: 6973 7375 6573 2f35 3632 3029 290a 0a0a  issues/5620))...
+00012ea0: 496d 7072 6f76 6564 2044 6f63 756d 656e  Improved Documen
+00012eb0: 7461 7469 6f6e 0a2d 2d2d 2d2d 2d2d 2d2d  tation.---------
+00012ec0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a 0a2d  -------------..-
+00012ed0: 2041 6464 2069 6e66 6f72 6d61 7469 6f6e   Add information
+00012ee0: 2061 626f 7574 206e 6769 6e78 206e 6f72   about nginx nor
+00012ef0: 6d61 6c69 7361 7469 6f6e 2074 6f20 7265  malisation to re
+00012f00: 7665 7273 655f 7072 6f78 792e 7273 742e  verse_proxy.rst.
+00012f10: 2043 6f6e 7472 6962 7574 6564 2062 7920   Contributed by 
+00012f20: 4073 6b61 6c61 7270 726f 6475 6b74 7261  @skalarproduktra
+00012f30: 756d 202d 2074 6861 6e6b 7321 2028 5b5c  um - thanks! ([\
+00012f40: 2335 3339 375d 2868 7474 7073 3a2f 2f67  #5397](https://g
+00012f50: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00012f60: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00012f70: 7565 732f 3533 3937 2929 0a2d 202d 2d6e  ues/5397)).- --n
+00012f80: 6f2d 7065 7035 3137 2073 686f 756c 6420  o-pep517 should 
+00012f90: 6265 202d 2d6e 6f2d 7573 652d 7065 7035  be --no-use-pep5
+00012fa0: 3137 2069 6e20 7468 6520 646f 6375 6d65  17 in the docume
+00012fb0: 6e74 6174 696f 6e20 746f 2073 6574 7570  ntation to setup
+00012fc0: 2074 6865 2064 6576 656c 6f70 6d65 6e74   the development
+00012fd0: 2065 6e76 6972 6f6e 6d65 6e74 2e20 285b   environment. ([
+00012fe0: 5c23 3536 3531 5d28 6874 7470 733a 2f2f  \#5651](https://
+00012ff0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00013000: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00013010: 7375 6573 2f35 3635 3129 290a 2d20 496d  sues/5651)).- Im
+00013020: 7072 6f76 656d 656e 7473 2074 6f20 506f  provements to Po
+00013030: 7374 6772 6573 2073 6574 7570 2069 6e73  stgres setup ins
+00013040: 7472 7563 7469 6f6e 732e 2043 6f6e 7472  tructions. Contr
+00013050: 6962 7574 6564 2062 7920 404c 7269 7a69  ibuted by @Lrizi
+00013060: 6b61 202d 2074 6861 6e6b 7321 2028 5b5c  ka - thanks! ([\
+00013070: 2335 3636 315d 2868 7474 7073 3a2f 2f67  #5661](https://g
+00013080: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00013090: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+000130a0: 7565 732f 3536 3631 2929 0a2d 204d 696e  ues/5661)).- Min
+000130b0: 6f72 2074 7765 616b 7320 746f 2070 6f73  or tweaks to pos
+000130c0: 7467 7265 7320 646f 6375 6d65 6e74 6174  tgres documentat
+000130d0: 696f 6e2e 2028 5b5c 2335 3637 355d 2868  ion. ([\#5675](h
+000130e0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+000130f0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+00013100: 6170 7365 2f69 7373 7565 732f 3536 3735  apse/issues/5675
+00013110: 2929 0a0a 0a44 6570 7265 6361 7469 6f6e  ))...Deprecation
+00013120: 7320 616e 6420 5265 6d6f 7661 6c73 0a2d  s and Removals.-
+00013130: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00013140: 2d2d 2d2d 2d2d 2d2d 0a0a 2d20 5265 6d6f  --------..- Remo
+00013150: 7665 2073 7570 706f 7274 2066 6f72 2074  ve support for t
+00013160: 6865 2060 696e 7669 7465 5f33 7069 645f  he `invite_3pid_
+00013170: 6775 6573 7460 2063 6f6e 6669 6775 7261  guest` configura
+00013180: 7469 6f6e 2073 6574 7469 6e67 2e20 285b  tion setting. ([
+00013190: 5c23 3536 3235 5d28 6874 7470 733a 2f2f  \#5625](https://
+000131a0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+000131b0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+000131c0: 7375 6573 2f35 3632 3529 290a 0a0a 496e  sues/5625))...In
+000131d0: 7465 726e 616c 2043 6861 6e67 6573 0a2d  ternal Changes.-
+000131e0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a  ---------------.
+000131f0: 0a2d 204d 6f76 6520 6c6f 6767 696e 6720  .- Move logging 
+00013200: 636f 6465 206f 7574 206f 6620 6073 796e  code out of `syn
+00013210: 6170 7365 2e75 7469 6c60 2061 6e64 2069  apse.util` and i
+00013220: 6e74 6f20 6073 796e 6170 7365 2e6c 6f67  nto `synapse.log
+00013230: 6769 6e67 602e 2028 5b5c 2335 3630 365d  ging`. ([\#5606]
+00013240: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00013250: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+00013260: 796e 6170 7365 2f69 7373 7565 732f 3536  ynapse/issues/56
+00013270: 3036 292c 205b 5c23 3536 3137 5d28 6874  06), [\#5617](ht
+00013280: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00013290: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+000132a0: 7073 652f 6973 7375 6573 2f35 3631 3729  pse/issues/5617)
+000132b0: 290a 2d20 4164 6420 6120 626c 6163 6b6c  ).- Add a blackl
+000132c0: 6973 7420 6669 6c65 2074 6f20 7468 6520  ist file to the 
+000132d0: 7265 706f 2074 6f20 626c 6163 6b6c 6973  repo to blacklis
+000132e0: 7420 6365 7274 6169 6e20 7379 7465 7374  t certain sytest
+000132f0: 7320 6672 6f6d 2066 6169 6c69 6e67 2043  s from failing C
+00013300: 492e 2028 5b5c 2335 3631 315d 2868 7474  I. ([\#5611](htt
+00013310: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00013320: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00013330: 7365 2f69 7373 7565 732f 3536 3131 2929  se/issues/5611))
+00013340: 0a2d 204d 616b 6520 7275 6e74 696d 6520  .- Make runtime 
+00013350: 6572 726f 7273 2073 7572 726f 756e 6469  errors surroundi
+00013360: 6e67 2070 6173 7377 6f72 6420 7265 7365  ng password rese
+00013370: 7420 656d 6169 6c73 206d 7563 6820 636c  t emails much cl
+00013380: 6561 7265 722e 2028 5b5c 2335 3631 365d  earer. ([\#5616]
+00013390: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+000133a0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+000133b0: 796e 6170 7365 2f69 7373 7565 732f 3536  ynapse/issues/56
+000133c0: 3136 2929 0a2d 2052 656d 6f76 6520 6465  16)).- Remove de
+000133d0: 6164 2063 6f64 6520 666f 7220 7065 7273  ad code for pers
+000133e0: 6974 696e 6720 6f75 7467 6f69 6e67 2066  iting outgoing f
+000133f0: 6564 6572 6174 696f 6e20 7472 616e 7361  ederation transa
+00013400: 6374 696f 6e73 2e20 285b 5c23 3536 3232  ctions. ([\#5622
+00013410: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00013420: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00013430: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
+00013440: 3632 3229 290a 2d20 4164 6420 606c 696e  622)).- Add `lin
+00013450: 742e 7368 6020 746f 2074 6865 2073 6372  t.sh` to the scr
+00013460: 6970 7473 2d64 6576 2066 6f6c 6465 7220  ipts-dev folder 
+00013470: 7768 6963 6820 7769 6c6c 2072 756e 2061  which will run a
+00013480: 6c6c 206c 696e 7469 6e67 2073 7465 7073  ll linting steps
+00013490: 2072 6571 7569 7265 6420 6279 2043 492e   required by CI.
+000134a0: 2028 5b5c 2335 3632 375d 2868 7474 7073   ([\#5627](https
+000134b0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+000134c0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+000134d0: 2f69 7373 7565 732f 3536 3237 2929 0a2d  /issues/5627)).-
+000134e0: 204d 6f76 6520 5265 6769 7374 7261 7469   Move Registrati
+000134f0: 6f6e 4861 6e64 6c65 722e 6765 745f 6f72  onHandler.get_or
+00013500: 5f63 7265 6174 655f 7573 6572 2074 6f20  _create_user to 
+00013510: 7465 7374 2063 6f64 652e 2028 5b5c 2335  test code. ([\#5
+00013520: 3632 385d 2868 7474 7073 3a2f 2f67 6974  628](https://git
+00013530: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00013540: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+00013550: 732f 3536 3238 2929 0a2d 2041 6464 2073  s/5628)).- Add s
+00013560: 6f6d 6520 6d6f 7265 2063 6f6d 6d6f 6e20  ome more common 
+00013570: 7079 7468 6f6e 2076 6972 7475 616c 2d65  python virtual-e
+00013580: 6e76 6972 6f6e 6d65 6e74 2070 6174 6873  nvironment paths
+00013590: 2074 6f20 7468 6520 626c 6163 6b20 6578   to the black ex
+000135a0: 636c 7573 696f 6e20 6c69 7374 2e20 285b  clusion list. ([
+000135b0: 5c23 3536 3330 5d28 6874 7470 733a 2f2f  \#5630](https://
+000135c0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+000135d0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+000135e0: 7375 6573 2f35 3633 3029 290a 2d20 536f  sues/5630)).- So
+000135f0: 6d65 2063 6f75 6e74 6572 206d 6574 7269  me counter metri
+00013600: 6373 2065 7870 6f73 6564 206f 7665 7220  cs exposed over 
+00013610: 5072 6f6d 6574 6865 7573 2068 6176 6520  Prometheus have 
+00013620: 6265 656e 2072 656e 616d 6564 2c20 7769  been renamed, wi
+00013630: 7468 2074 6865 206f 6c64 206e 616d 6573  th the old names
+00013640: 2070 7265 7365 7276 6564 2066 6f72 2062   preserved for b
+00013650: 6163 6b77 6172 6473 2063 6f6d 7061 7469  ackwards compati
+00013660: 6269 6c69 7479 2061 6e64 2064 6570 7265  bility and depre
+00013670: 6361 7465 642e 2053 6565 2060 646f 6373  cated. See `docs
+00013680: 2f6d 6574 7269 6373 2d68 6f77 746f 2e72  /metrics-howto.r
+00013690: 7374 6020 666f 7220 6465 7461 696c 732e  st` for details.
+000136a0: 2028 5b5c 2335 3633 365d 2868 7474 7073   ([\#5636](https
+000136b0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+000136c0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+000136d0: 2f69 7373 7565 732f 3536 3336 2929 0a2d  /issues/5636)).-
+000136e0: 2055 6e62 6c61 636b 6c69 7374 2073 6f6d   Unblacklist som
+000136f0: 6520 7573 6572 5f64 6972 6563 746f 7279  e user_directory
+00013700: 2073 7974 6573 7473 2e20 285b 5c23 3536   sytests. ([\#56
+00013710: 3337 5d28 6874 7470 733a 2f2f 6769 7468  37](https://gith
+00013720: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00013730: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00013740: 2f35 3633 3729 290a 2d20 4661 6374 6f72  /5637)).- Factor
+00013750: 206f 7574 2073 6f6d 6520 7265 6475 6e64   out some redund
+00013760: 616e 7420 636f 6465 2069 6e20 7468 6520  ant code in the 
+00013770: 6c6f 6769 6e20 696d 706c 656d 656e 7461  login implementa
+00013780: 7469 6f6e 2e20 285b 5c23 3536 3339 5d28  tion. ([\#5639](
+00013790: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+000137a0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+000137b0: 6e61 7073 652f 6973 7375 6573 2f35 3633  napse/issues/563
+000137c0: 3929 290a 2d20 5570 6461 7465 204d 6f64  9)).- Update Mod
+000137d0: 756c 6541 7069 2074 6f20 6176 6f69 6420  uleApi to avoid 
+000137e0: 7265 6769 7374 6572 2867 656e 6572 6174  register(generat
+000137f0: 655f 746f 6b65 6e3d 5472 7565 292e 2028  e_token=True). (
+00013800: 5b5c 2335 3634 305d 2868 7474 7073 3a2f  [\#5640](https:/
+00013810: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+00013820: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00013830: 7373 7565 732f 3536 3430 2929 0a2d 2052  ssues/5640)).- R
+00013840: 656d 6f76 6520 6163 6365 7373 2d74 6f6b  emove access-tok
+00013850: 656e 2073 7570 706f 7274 2066 726f 6d20  en support from 
+00013860: 6052 6567 6973 7472 6174 696f 6e48 616e  `RegistrationHan
+00013870: 646c 6572 2e72 6567 6973 7465 7260 2c20  dler.register`, 
+00013880: 616e 6420 7265 6e61 6d65 2069 742e 2028  and rename it. (
+00013890: 5b5c 2335 3634 315d 2868 7474 7073 3a2f  [\#5641](https:/
+000138a0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+000138b0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+000138c0: 7373 7565 732f 3536 3431 2929 0a2d 2052  ssues/5641)).- R
+000138d0: 656d 6f76 6520 6163 6365 7373 2d74 6f6b  emove access-tok
+000138e0: 656e 2073 7570 706f 7274 2066 726f 6d20  en support from 
+000138f0: 6052 6567 6973 7472 6174 696f 6e53 746f  `RegistrationSto
+00013900: 7265 2e72 6567 6973 7465 7260 2c20 616e  re.register`, an
+00013910: 6420 7265 6e61 6d65 2069 742e 2028 5b5c  d rename it. ([\
+00013920: 2335 3634 325d 2868 7474 7073 3a2f 2f67  #5642](https://g
+00013930: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00013940: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00013950: 7565 732f 3536 3432 2929 0a2d 2049 6d70  ues/5642)).- Imp
+00013960: 726f 7665 206c 6f67 6769 6e67 2066 6f72  rove logging for
+00013970: 2061 7574 6f2d 6a6f 696e 2077 6865 6e20   auto-join when 
+00013980: 6120 6e65 7720 7573 6572 2069 7320 6372  a new user is cr
+00013990: 6561 7465 642e 2028 5b5c 2335 3634 335d  eated. ([\#5643]
+000139a0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+000139b0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+000139c0: 796e 6170 7365 2f69 7373 7565 732f 3536  ynapse/issues/56
+000139d0: 3433 2929 0a2d 2052 656d 6f76 6520 756e  43)).- Remove un
+000139e0: 7573 6564 2061 6e64 2075 6e6e 6563 6573  used and unneces
+000139f0: 7361 7279 2063 6865 636b 2066 6f72 2046  sary check for F
+00013a00: 6564 6572 6174 696f 6e44 656e 6965 6445  ederationDeniedE
+00013a10: 7272 6f72 2069 6e20 5f65 7863 6570 7469  rror in _excepti
+00013a20: 6f6e 5f74 6f5f 6661 696c 7572 652e 2028  on_to_failure. (
+00013a30: 5b5c 2335 3634 355d 2868 7474 7073 3a2f  [\#5645](https:/
+00013a40: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+00013a50: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00013a60: 7373 7565 732f 3536 3435 2929 0a2d 2046  ssues/5645)).- F
+00013a70: 6978 2061 2073 6d61 6c6c 2074 7970 6f20  ix a small typo 
+00013a80: 696e 2061 2063 6f64 6520 636f 6d6d 656e  in a code commen
+00013a90: 742e 2028 5b5c 2335 3635 355d 2868 7474  t. ([\#5655](htt
+00013aa0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00013ab0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00013ac0: 7365 2f69 7373 7565 732f 3536 3535 2929  se/issues/5655))
+00013ad0: 0a2d 2043 6c65 616e 2075 7020 6578 6365  .- Clean up exce
+00013ae0: 7074 696f 6e20 6861 6e64 6c69 6e67 2061  ption handling a
+00013af0: 726f 756e 6420 636c 6965 6e74 2061 6363  round client acc
+00013b00: 6573 7320 746f 6b65 6e73 2e20 285b 5c23  ess tokens. ([\#
+00013b10: 3536 3536 5d28 6874 7470 733a 2f2f 6769  5656](https://gi
+00013b20: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+00013b30: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+00013b40: 6573 2f35 3635 3629 290a 2d20 4164 6420  es/5656)).- Add 
+00013b50: 6120 6d65 6368 616e 6973 6d20 666f 7220  a mechanism for 
+00013b60: 7065 722d 7465 7374 2068 6f6d 6573 6572  per-test homeser
+00013b70: 7665 7220 636f 6e66 6967 7572 6174 696f  ver configuratio
+00013b80: 6e20 696e 2074 6865 2075 6e69 7420 7465  n in the unit te
+00013b90: 7374 732e 2028 5b5c 2335 3635 375d 2868  sts. ([\#5657](h
+00013ba0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00013bb0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+00013bc0: 6170 7365 2f69 7373 7565 732f 3536 3537  apse/issues/5657
+00013bd0: 2929 0a2d 2049 6e6c 696e 6520 6973 7375  )).- Inline issu
+00013be0: 655f 6163 6365 7373 5f74 6f6b 656e 2e20  e_access_token. 
+00013bf0: 285b 5c23 3536 3539 5d28 6874 7470 733a  ([\#5659](https:
+00013c00: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00013c10: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00013c20: 6973 7375 6573 2f35 3635 3929 290a 2d20  issues/5659)).- 
+00013c30: 5570 6461 7465 2074 6865 2073 7974 6573  Update the sytes
+00013c40: 7420 4275 696c 644b 6974 6520 636f 6e66  t BuildKite conf
+00013c50: 6967 7572 6174 696f 6e20 746f 2063 6865  iguration to che
+00013c60: 636b 6f75 7420 5379 6e61 7073 6520 696e  ckout Synapse in
+00013c70: 2060 2f73 7263 602e 2028 5b5c 2335 3636   `/src`. ([\#566
+00013c80: 345d 2868 7474 7073 3a2f 2f67 6974 6875  4](https://githu
+00013c90: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00013ca0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00013cb0: 3536 3634 2929 0a2d 2041 6464 2061 2060  5664)).- Add a `
+00013cc0: 646f 636b 6572 6020 7479 7065 2074 6f20  docker` type to 
+00013cd0: 7468 6520 746f 776e 6372 6965 7220 636f  the towncrier co
+00013ce0: 6e66 6967 7572 6174 696f 6e2e 2028 5b5c  nfiguration. ([\
+00013cf0: 2335 3637 335d 2868 7474 7073 3a2f 2f67  #5673](https://g
+00013d00: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00013d10: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00013d20: 7565 732f 3536 3733 2929 0a2d 2043 6f6e  ues/5673)).- Con
+00013d30: 7665 7274 2060 7379 6e61 7073 652e 6665  vert `synapse.fe
+00013d40: 6465 7261 7469 6f6e 2e74 7261 6e73 706f  deration.transpo
+00013d50: 7274 2e73 6572 7665 7260 2074 6f20 6061  rt.server` to `a
+00013d60: 7379 6e63 602e 204d 6967 6874 2069 6d70  sync`. Might imp
+00013d70: 726f 7665 2073 6f6d 6520 7374 6163 6b20  rove some stack 
+00013d80: 7472 6163 6573 2e20 285b 5c23 3536 3839  traces. ([\#5689
+00013d90: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00013da0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00013db0: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
+00013dc0: 3638 3929 290a 2d20 446f 6375 6d65 6e74  689)).- Document
+00013dd0: 6174 696f 6e20 666f 7220 6f70 656e 7472  ation for opentr
+00013de0: 6163 696e 672e 2028 5b5c 2335 3730 335d  acing. ([\#5703]
+00013df0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00013e00: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+00013e10: 796e 6170 7365 2f69 7373 7565 732f 3537  ynapse/issues/57
+00013e20: 3033 2929 0a0a 0a53 796e 6170 7365 2031  03))...Synapse 1
+00013e30: 2e31 2e30 2028 3230 3139 2d30 372d 3034  .1.0 (2019-07-04
+00013e40: 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ).==============
+00013e50: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 4173  ============..As
+00013e60: 206f 6620 7631 2e31 2e30 2c20 5379 6e61   of v1.1.0, Syna
+00013e70: 7073 6520 6e6f 206c 6f6e 6765 7220 7375  pse no longer su
+00013e80: 7070 6f72 7473 2050 7974 686f 6e20 322c  pports Python 2,
+00013e90: 206e 6f72 2050 6f73 7467 7265 7320 7665   nor Postgres ve
+00013ea0: 7273 696f 6e20 392e 342e 0a53 6565 2074  rsion 9.4..See t
+00013eb0: 6865 205b 7570 6772 6164 6520 6e6f 7465  he [upgrade note
+00013ec0: 735d 2855 5047 5241 4445 2e72 7374 2375  s](UPGRADE.rst#u
+00013ed0: 7067 7261 6469 6e67 2d74 6f2d 7631 3130  pgrading-to-v110
+00013ee0: 2920 666f 7220 6d6f 7265 2064 6574 6169  ) for more detai
+00013ef0: 6c73 2e0a 0a54 6869 7320 7265 6c65 6173  ls...This releas
+00013f00: 6520 616c 736f 2064 6570 7265 6361 7465  e also deprecate
+00013f10: 7320 7468 6520 7573 6520 6f66 2065 6e76  s the use of env
+00013f20: 6972 6f6e 6d65 6e74 2076 6172 6961 626c  ironment variabl
+00013f30: 6573 2074 6f20 636f 6e66 6967 7572 6520  es to configure 
+00013f40: 7468 650a 646f 636b 6572 2069 6d61 6765  the.docker image
+00013f50: 2e20 5365 6520 7468 6520 5b64 6f63 6b65  . See the [docke
+00013f60: 7220 5245 4144 4d45 5d28 6874 7470 733a  r README](https:
+00013f70: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00013f80: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00013f90: 626c 6f62 2f72 656c 6561 7365 2d76 312e  blob/release-v1.
+00013fa0: 312e 302f 646f 636b 6572 2f52 4541 444d  1.0/docker/READM
+00013fb0: 452e 6d64 236c 6567 6163 792d 6479 6e61  E.md#legacy-dyna
+00013fc0: 6d69 632d 636f 6e66 6967 7572 6174 696f  mic-configuratio
+00013fd0: 6e2d 6669 6c65 2d73 7570 706f 7274 290a  n-file-support).
+00013fe0: 666f 7220 6d6f 7265 2064 6574 6169 6c73  for more details
+00013ff0: 2e0a 0a4e 6f20 6368 616e 6765 7320 7369  ...No changes si
+00014000: 6e63 6520 312e 312e 3072 6332 2e0a 0a0a  nce 1.1.0rc2....
+00014010: 5379 6e61 7073 6520 312e 312e 3072 6332  Synapse 1.1.0rc2
+00014020: 2028 3230 3139 2d30 372d 3033 290a 3d3d   (2019-07-03).==
+00014030: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00014040: 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a42 7567  ===========..Bug
+00014050: 6669 7865 730a 2d2d 2d2d 2d2d 2d2d 0a0a  fixes.--------..
+00014060: 2d20 4669 7820 7265 6772 6573 7369 6f6e  - Fix regression
+00014070: 2069 6e20 312e 3172 6331 2077 6865 7265   in 1.1rc1 where
+00014080: 204f 5054 494f 4e53 2072 6571 7565 7374   OPTIONS request
+00014090: 7320 746f 2074 6865 206d 6564 6961 2072  s to the media r
+000140a0: 6570 6f20 776f 756c 6420 6661 696c 2e20  epo would fail. 
+000140b0: 285b 5c23 3535 3933 5d28 6874 7470 733a  ([\#5593](https:
+000140c0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+000140d0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+000140e0: 6973 7375 6573 2f35 3539 3329 290a 2d20  issues/5593)).- 
+000140f0: 5265 6d6f 7665 6420 7468 6520 6053 594e  Removed the `SYN
+00014100: 4150 5345 5f53 4d54 505f 2a60 2064 6f63  APSE_SMTP_*` doc
+00014110: 6b65 7220 636f 6e74 6169 6e65 7220 656e  ker container en
+00014120: 7669 726f 6e6d 656e 7420 7661 7269 6162  vironment variab
+00014130: 6c65 732e 2055 7369 6e67 2074 6865 7365  les. Using these
+00014140: 2065 6e76 6972 6f6e 6d65 6e74 2076 6172   environment var
+00014150: 6961 626c 6573 2070 7265 7665 6e74 6564  iables prevented
+00014160: 2074 6865 2064 6f63 6b65 7220 636f 6e74   the docker cont
+00014170: 6169 6e65 7220 6672 6f6d 2073 7461 7274  ainer from start
+00014180: 696e 6720 696e 2053 796e 6170 7365 2076  ing in Synapse v
+00014190: 312e 302c 2065 7665 6e20 7468 6f75 6768  1.0, even though
+000141a0: 2074 6865 7920 6469 646e 2774 2061 6374   they didn't act
+000141b0: 7561 6c6c 7920 616c 6c6f 7720 616e 7920  ually allow any 
+000141c0: 6675 6e63 7469 6f6e 616c 6974 7920 616e  functionality an
+000141d0: 7977 6179 2e20 285b 5c23 3535 3936 5d28  yway. ([\#5596](
+000141e0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+000141f0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00014200: 6e61 7073 652f 6973 7375 6573 2f35 3539  napse/issues/559
+00014210: 3629 290a 2d20 4669 7820 6120 6e75 6d62  6)).- Fix a numb
+00014220: 6572 206f 6620 2253 7461 7274 696e 6720  er of "Starting 
+00014230: 7478 6e20 6672 6f6d 2073 656e 7469 6e65  txn from sentine
+00014240: 6c20 636f 6e74 6578 7422 2077 6172 6e69  l context" warni
+00014250: 6e67 732e 2028 5b5c 2335 3630 355d 2868  ngs. ([\#5605](h
+00014260: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00014270: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+00014280: 6170 7365 2f69 7373 7565 732f 3536 3035  apse/issues/5605
+00014290: 2929 0a0a 0a49 6e74 6572 6e61 6c20 4368  ))...Internal Ch
+000142a0: 616e 6765 730a 2d2d 2d2d 2d2d 2d2d 2d2d  anges.----------
+000142b0: 2d2d 2d2d 2d2d 0a0a 2d20 5570 6461 7465  ------..- Update
+000142c0: 2067 6974 6875 6220 7465 6d70 6c61 7465   github template
+000142d0: 732e 2028 5b5c 2335 3535 325d 2868 7474  s. ([\#5552](htt
+000142e0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+000142f0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00014300: 7365 2f69 7373 7565 732f 3535 3532 2929  se/issues/5552))
+00014310: 0a0a 0a53 796e 6170 7365 2031 2e31 2e30  ...Synapse 1.1.0
+00014320: 7263 3120 2832 3031 392d 3037 2d30 3229  rc1 (2019-07-02)
+00014330: 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  .===============
+00014340: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a  ==============..
+00014350: 4173 206f 6620 7631 2e31 2e30 2c20 5379  As of v1.1.0, Sy
+00014360: 6e61 7073 6520 6e6f 206c 6f6e 6765 7220  napse no longer 
+00014370: 7375 7070 6f72 7473 2050 7974 686f 6e20  supports Python 
+00014380: 322c 206e 6f72 2050 6f73 7467 7265 7320  2, nor Postgres 
+00014390: 7665 7273 696f 6e20 392e 342e 0a53 6565  version 9.4..See
+000143a0: 2074 6865 205b 7570 6772 6164 6520 6e6f   the [upgrade no
+000143b0: 7465 735d 2855 5047 5241 4445 2e72 7374  tes](UPGRADE.rst
+000143c0: 2375 7067 7261 6469 6e67 2d74 6f2d 7631  #upgrading-to-v1
+000143d0: 3130 2920 666f 7220 6d6f 7265 2064 6574  10) for more det
+000143e0: 6169 6c73 2e0a 0a46 6561 7475 7265 730a  ails...Features.
+000143f0: 2d2d 2d2d 2d2d 2d2d 0a0a 2d20 4164 6465  --------..- Adde
+00014400: 6420 706f 7373 6962 696c 7479 2074 6f20  d possibilty to 
+00014410: 6469 7361 626c 6520 6c6f 6361 6c20 7061  disable local pa
+00014420: 7373 776f 7264 2061 7574 6865 6e74 6963  ssword authentic
+00014430: 6174 696f 6e2e 2043 6f6e 7472 6962 7574  ation. Contribut
+00014440: 6564 2062 7920 4461 6e69 656c 2048 6f66  ed by Daniel Hof
+00014450: 6665 6e64 2e20 285b 5c23 3530 3932 5d28  fend. ([\#5092](
+00014460: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00014470: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00014480: 6e61 7073 652f 6973 7375 6573 2f35 3039  napse/issues/509
+00014490: 3229 290a 2d20 4164 6420 6d6f 6e74 686c  2)).- Add monthl
+000144a0: 7920 6163 7469 7665 2075 7365 7273 2074  y active users t
+000144b0: 6f20 7068 6f6e 6568 6f6d 6520 7374 6174  o phonehome stat
+000144c0: 732e 2028 5b5c 2335 3235 325d 2868 7474  s. ([\#5252](htt
+000144d0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+000144e0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+000144f0: 7365 2f69 7373 7565 732f 3532 3532 2929  se/issues/5252))
+00014500: 0a2d 2041 6c6c 6f77 2065 7870 6972 6564  .- Allow expired
+00014510: 2075 7365 7220 746f 2074 7269 6767 6572   user to trigger
+00014520: 2072 656e 6577 616c 2065 6d61 696c 2073   renewal email s
+00014530: 656e 6469 6e67 206d 616e 7561 6c6c 792e  ending manually.
+00014540: 2028 5b5c 2335 3336 335d 2868 7474 7073   ([\#5363](https
+00014550: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00014560: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00014570: 2f69 7373 7565 732f 3533 3633 2929 0a2d  /issues/5363)).-
+00014580: 2053 7461 7469 7374 6963 7320 6f6e 2066   Statistics on f
+00014590: 6f72 7761 7264 2065 7874 7265 6d69 7469  orward extremiti
+000145a0: 6573 2070 6572 2072 6f6f 6d20 6172 6520  es per room are 
+000145b0: 6e6f 7720 6578 706f 7365 6420 7669 6120  now exposed via 
+000145c0: 5072 6f6d 6574 6865 7573 2e20 285b 5c23  Prometheus. ([\#
+000145d0: 3533 3834 5d28 6874 7470 733a 2f2f 6769  5384](https://gi
+000145e0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+000145f0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+00014600: 6573 2f35 3338 3429 2c20 5b5c 2335 3435  es/5384), [\#545
+00014610: 385d 2868 7474 7073 3a2f 2f67 6974 6875  8](https://githu
+00014620: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00014630: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00014640: 3534 3538 292c 205b 5c23 3534 3631 5d28  5458), [\#5461](
+00014650: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00014660: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00014670: 6e61 7073 652f 6973 7375 6573 2f35 3436  napse/issues/546
+00014680: 3129 290a 2d20 4164 6420 2d2d 6e6f 2d64  1)).- Add --no-d
+00014690: 6165 6d6f 6e69 7a65 206f 7074 696f 6e20  aemonize option 
+000146a0: 746f 2072 756e 2073 796e 6170 7365 2069  to run synapse i
+000146b0: 6e20 7468 6520 666f 7265 6772 6f75 6e64  n the foreground
+000146c0: 2c20 7065 7220 6973 7375 6520 2334 3133  , per issue #413
+000146d0: 302e 2043 6f6e 7472 6962 7574 6564 2062  0. Contributed b
+000146e0: 7920 536f 6861 6d20 4775 6d61 7374 652e  y Soham Gumaste.
+000146f0: 2028 5b5c 2335 3431 325d 2868 7474 7073   ([\#5412](https
+00014700: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00014710: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00014720: 2f69 7373 7565 732f 3534 3132 292c 205b  /issues/5412), [
+00014730: 5c23 3535 3837 5d28 6874 7470 733a 2f2f  \#5587](https://
+00014740: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00014750: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00014760: 7375 6573 2f35 3538 3729 290a 2d20 4675  sues/5587)).- Fu
+00014770: 6c6c 7920 7375 7070 6f72 7420 5341 4d4c  lly support SAML
+00014780: 3220 6175 7468 656e 7469 6361 7469 6f6e  2 authentication
+00014790: 2e20 436f 6e74 7269 6275 7465 6420 6279  . Contributed by
+000147a0: 205b 416c 6578 616e 6465 7220 5472 6f73   [Alexander Tros
+000147b0: 745d 2868 7474 7073 3a2f 2f67 6974 6875  t](https://githu
+000147c0: 622e 636f 6d2f 6761 6c65 7872 7429 202d  b.com/galexrt) -
+000147d0: 2074 6861 6e6b 2079 6f75 2120 285b 5c23   thank you! ([\#
+000147e0: 3534 3232 5d28 6874 7470 733a 2f2f 6769  5422](https://gi
+000147f0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+00014800: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+00014810: 6573 2f35 3432 3229 290a 2d20 416c 6c6f  es/5422)).- Allo
+00014820: 7720 7365 7276 6572 2061 646d 696e 7320  w server admins 
+00014830: 746f 2064 6566 696e 6520 696d 706c 656d  to define implem
+00014840: 656e 7461 7469 6f6e 7320 6f66 2065 7874  entations of ext
+00014850: 7261 2072 756c 6573 2066 6f72 2061 6c6c  ra rules for all
+00014860: 6f77 696e 6720 6f72 2064 656e 7969 6e67  owing or denying
+00014870: 2069 6e63 6f6d 696e 6720 6576 656e 7473   incoming events
+00014880: 2e20 285b 5c23 3534 3430 5d28 6874 7470  . ([\#5440](http
+00014890: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+000148a0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+000148b0: 652f 6973 7375 6573 2f35 3434 3029 2c20  e/issues/5440), 
+000148c0: 5b5c 2335 3437 345d 2868 7474 7073 3a2f  [\#5474](https:/
+000148d0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+000148e0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+000148f0: 7373 7565 732f 3534 3734 292c 205b 5c23  ssues/5474), [\#
+00014900: 3534 3737 5d28 6874 7470 733a 2f2f 6769  5477](https://gi
+00014910: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+00014920: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+00014930: 6573 2f35 3437 3729 290a 2d20 4164 6420  es/5477)).- Add 
+00014940: 7375 7070 6f72 7420 666f 7220 6861 6e64  support for hand
+00014950: 6c69 6e67 2070 6167 696e 6174 696f 6e20  ling pagination 
+00014960: 4150 4973 206f 6e20 636c 6965 6e74 2072  APIs on client r
+00014970: 6561 6465 7220 776f 726b 6572 2e20 285b  eader worker. ([
+00014980: 5c23 3535 3035 5d28 6874 7470 733a 2f2f  \#5505](https://
+00014990: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+000149a0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+000149b0: 7375 6573 2f35 3530 3529 2c20 5b5c 2335  sues/5505), [\#5
+000149c0: 3531 335d 2868 7474 7073 3a2f 2f67 6974  513](https://git
+000149d0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+000149e0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+000149f0: 732f 3535 3133 292c 205b 5c23 3535 3331  s/5513), [\#5531
+00014a00: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00014a10: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00014a20: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
+00014a30: 3533 3129 290a 2d20 496d 7072 6f76 6520  531)).- Improve 
+00014a40: 6865 6c70 2061 6e64 2063 6d64 6c69 6e65  help and cmdline
+00014a50: 206f 7074 696f 6e20 6e61 6d65 7320 666f   option names fo
+00014a60: 7220 2d2d 6765 6e65 7261 7465 2d63 6f6e  r --generate-con
+00014a70: 6669 6720 6f70 7469 6f6e 732e 2028 5b5c  fig options. ([\
+00014a80: 2335 3531 325d 2868 7474 7073 3a2f 2f67  #5512](https://g
+00014a90: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00014aa0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00014ab0: 7565 732f 3535 3132 2929 0a2d 2041 6c6c  ues/5512)).- All
+00014ac0: 6f77 2063 6f6e 6669 6775 7261 7469 6f6e  ow configuration
+00014ad0: 206f 6620 7468 6520 7061 7468 2075 7365   of the path use
+00014ae0: 6420 666f 7220 4143 4d45 2061 6363 6f75  d for ACME accou
+00014af0: 6e74 206b 6579 732e 2028 5b5c 2335 3531  nt keys. ([\#551
+00014b00: 365d 2868 7474 7073 3a2f 2f67 6974 6875  6](https://githu
+00014b10: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00014b20: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00014b30: 3535 3136 292c 205b 5c23 3535 3231 5d28  5516), [\#5521](
+00014b40: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00014b50: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00014b60: 6e61 7073 652f 6973 7375 6573 2f35 3532  napse/issues/552
+00014b70: 3129 2c20 5b5c 2335 3532 325d 2868 7474  1), [\#5522](htt
+00014b80: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00014b90: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00014ba0: 7365 2f69 7373 7565 732f 3535 3232 2929  se/issues/5522))
+00014bb0: 0a2d 2041 6464 202d 2d64 6174 612d 6469  .- Add --data-di
+00014bc0: 7220 616e 6420 2d2d 6f70 656e 2d70 7269  r and --open-pri
+00014bd0: 7661 7465 2d70 6f72 7473 206f 7074 696f  vate-ports optio
+00014be0: 6e73 2e20 285b 5c23 3535 3234 5d28 6874  ns. ([\#5524](ht
+00014bf0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00014c00: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+00014c10: 7073 652f 6973 7375 6573 2f35 3532 3429  pse/issues/5524)
+00014c20: 290a 2d20 5370 6c69 7420 7075 626c 6963  ).- Split public
+00014c30: 2072 6f6f 6d73 2064 6972 6563 746f 7279   rooms directory
+00014c40: 2061 7574 6820 636f 6e66 6967 2069 6e20   auth config in 
+00014c50: 7477 6f20 7365 7474 696e 6773 2c20 696e  two settings, in
+00014c60: 206f 7264 6572 2074 6f20 6d61 6e61 6765   order to manage
+00014c70: 2063 6c69 656e 7420 6175 7468 2069 6e64   client auth ind
+00014c80: 6570 656e 6465 6e74 6c79 2066 726f 6d20  ependently from 
+00014c90: 7468 6520 6665 6465 7261 7469 6f6e 2070  the federation p
+00014ca0: 6172 7420 6f66 2069 742e 204f 6273 6f6c  art of it. Obsol
+00014cb0: 6574 6573 2074 6865 2022 7265 7374 7269  etes the "restri
+00014cc0: 6374 5f70 7562 6c69 635f 726f 6f6d 735f  ct_public_rooms_
+00014cd0: 746f 5f6c 6f63 616c 5f75 7365 7273 2220  to_local_users" 
+00014ce0: 636f 6e66 6967 7572 6174 696f 6e20 7365  configuration se
+00014cf0: 7474 696e 672e 2049 6620 2272 6573 7472  tting. If "restr
+00014d00: 6963 745f 7075 626c 6963 5f72 6f6f 6d73  ict_public_rooms
+00014d10: 5f74 6f5f 6c6f 6361 6c5f 7573 6572 7322  _to_local_users"
+00014d20: 2069 7320 7365 7420 696e 2074 6865 2063   is set in the c
+00014d30: 6f6e 6669 672c 2053 796e 6170 7365 2077  onfig, Synapse w
+00014d40: 696c 6c20 6163 7420 6173 2069 6620 626f  ill act as if bo
+00014d50: 7468 206e 6577 206f 7074 696f 6e73 2061  th new options a
+00014d60: 7265 2065 6e61 626c 6564 2c20 692e 652e  re enabled, i.e.
+00014d70: 2072 6571 7569 7265 2061 7574 6865 6e74   require authent
+00014d80: 6963 6174 696f 6e20 7468 726f 7567 6820  ication through 
+00014d90: 7468 6520 636c 6965 6e74 2041 5049 2061  the client API a
+00014da0: 6e64 2064 656e 7920 6665 6465 7261 7469  nd deny federati
+00014db0: 6f6e 2072 6571 7565 7374 732e 2028 5b5c  on requests. ([\
+00014dc0: 2335 3533 345d 2868 7474 7073 3a2f 2f67  #5534](https://g
+00014dd0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00014de0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00014df0: 7565 732f 3535 3334 2929 0a2d 2054 6865  ues/5534)).- The
+00014e00: 206d 696e 696d 756d 2054 4c53 2076 6572   minimum TLS ver
+00014e10: 7369 6f6e 2075 7365 6420 666f 7220 6f75  sion used for ou
+00014e20: 7467 6f69 6e67 2066 6564 6572 6174 696f  tgoing federatio
+00014e30: 6e20 7265 7175 6573 7473 2063 616e 206e  n requests can n
+00014e40: 6f77 2062 6520 7365 7420 7769 7468 2060  ow be set with `
+00014e50: 6665 6465 7261 7469 6f6e 5f63 6c69 656e  federation_clien
+00014e60: 745f 6d69 6e69 6d75 6d5f 746c 735f 7665  t_minimum_tls_ve
+00014e70: 7273 696f 6e60 2e20 285b 5c23 3535 3530  rsion`. ([\#5550
+00014e80: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00014e90: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00014ea0: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
+00014eb0: 3535 3029 290a 2d20 4f70 7469 6d69 7365  550)).- Optimise
+00014ec0: 2064 6576 6963 6573 2063 6861 6e67 6564   devices changed
+00014ed0: 2071 7565 7279 2074 6f20 6e6f 7420 7075   query to not pu
+00014ee0: 6c6c 2075 6e6e 6563 6573 7361 7279 2072  ll unnecessary r
+00014ef0: 6f77 7320 6672 6f6d 2074 6865 2064 6174  ows from the dat
+00014f00: 6162 6173 652c 2072 6564 7563 696e 6720  abase, reducing 
+00014f10: 6461 7461 6261 7365 206c 6f61 642e 2028  database load. (
+00014f20: 5b5c 2335 3535 395d 2868 7474 7073 3a2f  [\#5559](https:/
+00014f30: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+00014f40: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00014f50: 7373 7565 732f 3535 3539 2929 0a2d 2041  ssues/5559)).- A
+00014f60: 6464 206e 6577 206d 6574 7269 6373 2066  dd new metrics f
+00014f70: 6f72 206e 756d 6265 7220 6f66 2066 6f72  or number of for
+00014f80: 7761 7264 2065 7874 7265 6d69 7469 6573  ward extremities
+00014f90: 2062 6569 6e67 2070 6572 7369 7374 6564   being persisted
+00014fa0: 2061 6e64 206e 756d 6265 7220 6f66 2073   and number of s
+00014fb0: 7461 7465 2067 726f 7570 7320 696e 766f  tate groups invo
+00014fc0: 6c76 6564 2069 6e20 7265 736f 6c75 7469  lved in resoluti
+00014fd0: 6f6e 2e20 285b 5c23 3534 3736 5d28 6874  on. ([\#5476](ht
+00014fe0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00014ff0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+00015000: 7073 652f 6973 7375 6573 2f35 3437 3629  pse/issues/5476)
+00015010: 290a 0a42 7567 6669 7865 730a 2d2d 2d2d  )..Bugfixes.----
+00015020: 2d2d 2d2d 0a0a 2d20 4669 7820 6275 6720  ----..- Fix bug 
+00015030: 7072 6f63 6573 7369 6e67 2069 6e63 6f6d  processing incom
+00015040: 696e 6720 6576 656e 7473 206f 7665 7220  ing events over 
+00015050: 6665 6465 7261 7469 6f6e 2069 6620 6361  federation if ca
+00015060: 6c6c 2074 6f20 602f 6765 745f 6d69 7373  ll to `/get_miss
+00015070: 696e 675f 6576 656e 7473 6020 6661 696c  ing_events` fail
+00015080: 732e 2028 5b5c 2335 3034 325d 2868 7474  s. ([\#5042](htt
+00015090: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+000150a0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+000150b0: 7365 2f69 7373 7565 732f 3530 3432 2929  se/issues/5042))
+000150c0: 0a2d 2050 7265 7665 6e74 206d 6f72 6520  .- Prevent more 
+000150d0: 7468 616e 206f 6e65 2072 6f6f 6d20 7570  than one room up
+000150e0: 6772 6164 6520 6861 7070 656e 696e 6720  grade happening 
+000150f0: 7369 6d75 6c74 616e 656f 7573 6c79 206f  simultaneously o
+00015100: 6e20 7468 6520 7361 6d65 2072 6f6f 6d2e  n the same room.
+00015110: 2028 5b5c 2335 3035 315d 2868 7474 7073   ([\#5051](https
+00015120: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00015130: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00015140: 2f69 7373 7565 732f 3530 3531 2929 0a2d  /issues/5051)).-
+00015150: 2046 6978 2061 2062 7567 2077 6865 7265   Fix a bug where
+00015160: 2072 756e 6e69 6e67 2073 796e 6170 7365   running synapse
+00015170: 5f70 6f72 745f 6462 2077 6f75 6c64 2063  _port_db would c
+00015180: 6175 7365 2074 6865 2061 6363 6f75 6e74  ause the account
+00015190: 2076 616c 6964 6974 7920 6665 6174 7572   validity featur
+000151a0: 6520 746f 2066 6169 6c20 6265 6361 7573  e to fail becaus
+000151b0: 6520 6974 2064 6964 6e27 7420 7365 7420  e it didn't set 
+000151c0: 7468 6520 7479 7065 206f 6620 7468 6520  the type of the 
+000151d0: 656d 6169 6c5f 7365 6e74 2063 6f6c 756d  email_sent colum
+000151e0: 6e20 746f 2062 6f6f 6c65 616e 2e20 285b  n to boolean. ([
+000151f0: 5c23 3533 3235 5d28 6874 7470 733a 2f2f  \#5325](https://
+00015200: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00015210: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00015220: 7375 6573 2f35 3332 3529 290a 2d20 5761  sues/5325)).- Wa
+00015230: 726e 2061 626f 7574 2064 6973 6162 6c69  rn about disabli
+00015240: 6e67 2065 6d61 696c 2d62 6173 6564 2070  ng email-based p
+00015250: 6173 7377 6f72 6420 7265 7365 7473 2077  assword resets w
+00015260: 6865 6e20 6120 7265 7365 7420 6f63 6375  hen a reset occu
+00015270: 7273 2c20 616e 6420 7265 6d6f 7665 2077  rs, and remove w
+00015280: 6172 6e69 6e67 2077 6865 6e20 736f 6d65  arning when some
+00015290: 6f6e 6520 6174 7465 6d70 7473 2061 2070  one attempts a p
+000152a0: 686f 6e65 2d62 6173 6564 2072 6573 6574  hone-based reset
+000152b0: 2e20 285b 5c23 3533 3837 5d28 6874 7470  . ([\#5387](http
+000152c0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+000152d0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+000152e0: 652f 6973 7375 6573 2f35 3338 3729 290a  e/issues/5387)).
+000152f0: 2d20 4669 7820 656d 6169 6c20 6e6f 7469  - Fix email noti
+00015300: 6669 6361 7469 6f6e 7320 666f 7220 756e  fications for un
+00015310: 6e61 6d65 6420 726f 6f6d 7320 7769 7468  named rooms with
+00015320: 206d 756c 7469 706c 6520 7065 6f70 6c65   multiple people
+00015330: 2e20 285b 5c23 3533 3838 5d28 6874 7470  . ([\#5388](http
+00015340: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+00015350: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+00015360: 652f 6973 7375 6573 2f35 3338 3829 290a  e/issues/5388)).
+00015370: 2d20 4669 7820 6578 6365 7074 696f 6e73  - Fix exceptions
+00015380: 2069 6e20 6665 6465 7261 7469 6f6e 2072   in federation r
+00015390: 6561 6465 7220 776f 726b 6572 2063 6175  eader worker cau
+000153a0: 7365 6420 6279 2061 7474 656d 7074 696e  sed by attemptin
+000153b0: 6720 746f 2072 656e 6577 2061 7474 6573  g to renew attes
+000153c0: 7461 7469 6f6e 732c 2077 6869 6368 2073  tations, which s
+000153d0: 686f 756c 6420 6f6e 6c79 2068 6170 7065  hould only happe
+000153e0: 6e20 6f6e 206d 6173 7465 7220 776f 726b  n on master work
+000153f0: 6572 2e20 285b 5c23 3533 3839 5d28 6874  er. ([\#5389](ht
+00015400: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00015410: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+00015420: 7073 652f 6973 7375 6573 2f35 3338 3929  pse/issues/5389)
+00015430: 290a 2d20 4669 7820 6861 6e64 6c69 6e67  ).- Fix handling
+00015440: 206f 6620 6661 696c 7572 6573 2066 6574   of failures fet
+00015450: 6368 696e 6720 7265 6d6f 7465 2063 6f6e  ching remote con
+00015460: 7465 6e74 2074 6f20 6e6f 7420 6c6f 6720  tent to not log 
+00015470: 6661 696c 7572 6573 2061 7320 6578 6365  failures as exce
+00015480: 7074 696f 6e73 2e20 285b 5c23 3533 3930  ptions. ([\#5390
+00015490: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+000154a0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+000154b0: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
+000154c0: 3339 3029 290a 2d20 4669 7820 6120 6275  390)).- Fix a bu
+000154d0: 6720 7768 6572 6520 6465 6163 7469 7661  g where deactiva
+000154e0: 7465 6420 7573 6572 7320 636f 756c 6420  ted users could 
+000154f0: 7265 6365 6976 6520 7265 6e65 7761 6c20  receive renewal 
+00015500: 656d 6169 6c73 2069 6620 7468 6520 6163  emails if the ac
+00015510: 636f 756e 7420 7661 6c69 6469 7479 2066  count validity f
+00015520: 6561 7475 7265 2069 7320 6f6e 2e20 285b  eature is on. ([
+00015530: 5c23 3533 3934 5d28 6874 7470 733a 2f2f  \#5394](https://
+00015540: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00015550: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00015560: 7375 6573 2f35 3339 3429 290a 2d20 4669  sues/5394)).- Fi
+00015570: 7820 6d69 7373 696e 6720 696e 7669 7465  x missing invite
+00015580: 2073 7461 7465 2061 6674 6572 2065 7863   state after exc
+00015590: 6861 6e67 696e 6720 3350 4944 2069 6e76  hanging 3PID inv
+000155a0: 6974 6573 206f 7665 7220 6665 6465 7261  ites over federa
+000155b0: 746f 6e2e 2028 5b5c 2335 3436 345d 2868  ton. ([\#5464](h
+000155c0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+000155d0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+000155e0: 6170 7365 2f69 7373 7565 732f 3534 3634  apse/issues/5464
+000155f0: 2929 0a2d 2046 6978 2069 6e74 6572 6d69  )).- Fix intermi
+00015600: 7474 656e 7420 6578 6365 7074 696f 6e73  ttent exceptions
+00015610: 206f 6e20 4170 706c 6520 6861 7264 7761   on Apple hardwa
+00015620: 7265 2e20 416c 736f 2066 6978 2062 7567  re. Also fix bug
+00015630: 2074 6861 7420 6361 7573 6564 2064 6174   that caused dat
+00015640: 6162 6173 6520 6163 7469 7669 7479 2074  abase activity t
+00015650: 696d 6573 2074 6f20 6265 2075 6e64 6572  imes to be under
+00015660: 2d72 6570 6f72 7465 6420 696e 206c 6f67  -reported in log
+00015670: 206c 696e 6573 2e20 285b 5c23 3534 3938   lines. ([\#5498
+00015680: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00015690: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+000156a0: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
+000156b0: 3439 3829 290a 2d20 4669 7820 6c6f 6767  498)).- Fix logg
+000156c0: 696e 6720 6572 726f 7220 7768 656e 2061  ing error when a
+000156d0: 2074 616d 7065 7265 6420 6576 656e 7420   tampered event 
+000156e0: 6973 2064 6574 6563 7465 642e 2028 5b5c  is detected. ([\
+000156f0: 2335 3530 305d 2868 7474 7073 3a2f 2f67  #5500](https://g
+00015700: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00015710: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00015720: 7565 732f 3535 3030 2929 0a2d 2046 6978  ues/5500)).- Fix
+00015730: 2062 7567 2077 6865 7265 2063 6c69 656e   bug where clien
+00015740: 7473 2063 6f75 6c64 2074 6967 6874 206c  ts could tight l
+00015750: 6f6f 7020 6361 6c6c 696e 6720 602f 7379  oop calling `/sy
+00015760: 6e63 6020 666f 7220 6120 7065 7269 6f64  nc` for a period
+00015770: 2e20 285b 5c23 3535 3037 5d28 6874 7470  . ([\#5507](http
+00015780: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+00015790: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+000157a0: 652f 6973 7375 6573 2f35 3530 3729 290a  e/issues/5507)).
+000157b0: 2d20 4669 7820 6275 6720 7769 7468 2060  - Fix bug with `
+000157c0: 6a69 6e6a 6132 6020 7072 6576 656e 7469  jinja2` preventi
+000157d0: 6e67 2053 796e 6170 7365 2066 726f 6d20  ng Synapse from 
+000157e0: 7374 6172 7469 6e67 2e20 5573 6572 7320  starting. Users 
+000157f0: 7768 6f20 6861 6420 7468 6973 2070 726f  who had this pro
+00015800: 626c 656d 2073 686f 756c 6420 6e6f 7720  blem should now 
+00015810: 7369 6d70 6c79 206e 6565 6420 746f 2072  simply need to r
+00015820: 756e 2060 7069 7020 696e 7374 616c 6c20  un `pip install 
+00015830: 6d61 7472 6978 2d73 796e 6170 7365 602e  matrix-synapse`.
+00015840: 2028 5b5c 2335 3531 345d 2868 7474 7073   ([\#5514](https
+00015850: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00015860: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00015870: 2f69 7373 7565 732f 3535 3134 2929 0a2d  /issues/5514)).-
+00015880: 2046 6978 2061 2072 6567 7265 7373 696f   Fix a regressio
+00015890: 6e20 7768 6572 6520 686f 6d65 7365 7276  n where homeserv
+000158a0: 6572 7320 6f6e 2070 7269 7661 7465 2049  ers on private I
+000158b0: 5020 6164 6472 6573 7365 7320 7765 7265  P addresses were
+000158c0: 2069 6e63 6f72 7265 6374 6c79 2062 6c61   incorrectly bla
+000158d0: 636b 6c69 7374 6564 2e20 285b 5c23 3535  cklisted. ([\#55
+000158e0: 3233 5d28 6874 7470 733a 2f2f 6769 7468  23](https://gith
+000158f0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00015900: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00015910: 2f35 3532 3329 290a 2d20 4669 7865 6420  /5523)).- Fixed 
+00015920: 6d2e 6c6f 6769 6e2e 6a77 7420 7573 696e  m.login.jwt usin
+00015930: 6720 756e 7265 6769 7374 7265 6420 7573  g unregistred us
+00015940: 6572 5f69 6420 616e 6420 6164 6465 6420  er_id and added 
+00015950: 7079 6a77 743e 3d31 2e36 2e34 2061 7320  pyjwt>=1.6.4 as 
+00015960: 6a77 7420 636f 6e64 6974 696f 6e61 6c20  jwt conditional 
+00015970: 6465 7065 6e64 656e 6369 6573 2e20 436f  dependencies. Co
+00015980: 6e74 7269 6275 7465 6420 6279 2050 6175  ntributed by Pau
+00015990: 2052 6f64 7269 6775 657a 2d45 7374 6976   Rodriguez-Estiv
+000159a0: 696c 6c2e 2028 5b5c 2335 3535 355d 2868  ill. ([\#5555](h
+000159b0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+000159c0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+000159d0: 6170 7365 2f69 7373 7565 732f 3535 3535  apse/issues/5555
+000159e0: 292c 205b 5c23 3535 3836 5d28 6874 7470  ), [\#5586](http
+000159f0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+00015a00: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+00015a10: 652f 6973 7375 6573 2f35 3538 3629 290a  e/issues/5586)).
+00015a20: 2d20 4669 7820 6120 6275 6720 7468 6174  - Fix a bug that
+00015a30: 2077 6f75 6c64 2063 6175 7365 2069 6e76   would cause inv
+00015a40: 6974 6564 2075 7365 7273 2074 6f20 7265  ited users to re
+00015a50: 6365 6976 6520 7365 7665 7261 6c20 656d  ceive several em
+00015a60: 6169 6c73 2066 6f72 2061 2073 696e 676c  ails for a singl
+00015a70: 6520 3350 4944 2069 6e76 6974 6520 696e  e 3PID invite in
+00015a80: 2063 6173 6520 7468 6520 696e 7669 7465   case the invite
+00015a90: 7220 6973 2072 6174 6520 6c69 6d69 7465  r is rate limite
+00015aa0: 642e 2028 5b5c 2335 3537 365d 2868 7474  d. ([\#5576](htt
+00015ab0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00015ac0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00015ad0: 7365 2f69 7373 7565 732f 3535 3736 2929  se/issues/5576))
+00015ae0: 0a0a 0a55 7064 6174 6573 2074 6f20 7468  ...Updates to th
+00015af0: 6520 446f 636b 6572 2069 6d61 6765 0a2d  e Docker image.-
+00015b00: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00015b10: 2d2d 2d2d 2d2d 2d2d 2d2d 0a2d 2041 6464  ----------.- Add
+00015b20: 2061 6269 6c69 7479 2074 6f20 6368 616e   ability to chan
+00015b30: 6765 2044 6f63 6b65 7220 636f 6e74 6169  ge Docker contai
+00015b40: 6e65 7273 205b 7469 6d65 7a6f 6e65 5d28  ners [timezone](
+00015b50: 6874 7470 733a 2f2f 656e 2e77 696b 6970  https://en.wikip
+00015b60: 6564 6961 2e6f 7267 2f77 696b 692f 4c69  edia.org/wiki/Li
+00015b70: 7374 5f6f 665f 747a 5f64 6174 6162 6173  st_of_tz_databas
+00015b80: 655f 7469 6d65 5f7a 6f6e 6573 2920 7769  e_time_zones) wi
+00015b90: 7468 2074 6865 2060 545a 6020 7661 7269  th the `TZ` vari
+00015ba0: 6162 6c65 2e20 285b 5c23 3533 3833 5d28  able. ([\#5383](
+00015bb0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00015bc0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00015bd0: 6e61 7073 652f 6973 7375 6573 2f35 3338  napse/issues/538
+00015be0: 3329 290a 2d20 5570 6461 7465 2064 6f63  3)).- Update doc
+00015bf0: 6b65 7220 696d 6167 6520 746f 2075 7365  ker image to use
+00015c00: 2050 7974 686f 6e20 332e 372e 2028 5b5c   Python 3.7. ([\
+00015c10: 2335 3534 365d 2868 7474 7073 3a2f 2f67  #5546](https://g
+00015c20: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00015c30: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00015c40: 7565 732f 3535 3436 2929 0a2d 2044 6570  ues/5546)).- Dep
+00015c50: 7265 6361 7465 2074 6865 2075 7365 206f  recate the use o
+00015c60: 6620 656e 7669 726f 6e6d 656e 7420 7661  f environment va
+00015c70: 7269 6162 6c65 7320 666f 7220 636f 6e66  riables for conf
+00015c80: 6967 7572 6174 696f 6e2c 2061 6e64 206d  iguration, and m
+00015c90: 616b 6520 7468 6520 7573 6520 6f66 2061  ake the use of a
+00015ca0: 2073 7461 7469 6320 636f 6e66 6967 7572   static configur
+00015cb0: 6174 696f 6e20 7468 6520 6465 6661 756c  ation the defaul
+00015cc0: 742e 2028 5b5c 2335 3536 315d 2868 7474  t. ([\#5561](htt
+00015cd0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00015ce0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00015cf0: 7365 2f69 7373 7565 732f 3535 3631 292c  se/issues/5561),
+00015d00: 205b 5c23 3535 3632 5d28 6874 7470 733a   [\#5562](https:
+00015d10: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00015d20: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00015d30: 6973 7375 6573 2f35 3536 3229 2c20 5b5c  issues/5562), [\
+00015d40: 2335 3536 365d 2868 7474 7073 3a2f 2f67  #5566](https://g
+00015d50: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00015d60: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00015d70: 7565 732f 3535 3636 292c 205b 5c23 3535  ues/5566), [\#55
+00015d80: 3637 5d28 6874 7470 733a 2f2f 6769 7468  67](https://gith
+00015d90: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00015da0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00015db0: 2f35 3536 3729 290a 2d20 496e 6372 6561  /5567)).- Increa
+00015dc0: 7365 2064 6566 6175 6c74 206c 6f67 206c  se default log l
+00015dd0: 6576 656c 2066 6f72 2064 6f63 6b65 7220  evel for docker 
+00015de0: 696d 6167 6520 746f 2049 4e46 4f2e 2049  image to INFO. I
+00015df0: 7420 6361 6e20 7374 696c 6c20 6265 2063  t can still be c
+00015e00: 6861 6e67 6564 2062 7920 6564 6974 696e  hanged by editin
+00015e10: 6720 7468 6520 6765 6e65 7261 7465 6420  g the generated 
+00015e20: 6c6f 672e 636f 6e66 6967 2066 696c 652e  log.config file.
+00015e30: 2028 5b5c 2335 3534 375d 2868 7474 7073   ([\#5547](https
+00015e40: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00015e50: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00015e60: 2f69 7373 7565 732f 3535 3437 2929 0a2d  /issues/5547)).-
+00015e70: 2053 656e 6420 7379 6e61 7073 6520 6c6f   Send synapse lo
+00015e80: 6773 2074 6f20 7468 6520 646f 636b 6572  gs to the docker
+00015e90: 206c 6f67 6769 6e67 2073 7973 7465 6d2c   logging system,
+00015ea0: 2062 7920 6465 6661 756c 742e 2028 5b5c   by default. ([\
+00015eb0: 2335 3536 355d 2868 7474 7073 3a2f 2f67  #5565](https://g
+00015ec0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00015ed0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00015ee0: 7565 732f 3535 3635 2929 0a2d 204f 7065  ues/5565)).- Ope
+00015ef0: 6e20 7468 6520 6e6f 6e2d 544c 5320 706f  n the non-TLS po
+00015f00: 7274 2062 7920 6465 6661 756c 742e 2028  rt by default. (
+00015f10: 5b5c 2335 3536 385d 2868 7474 7073 3a2f  [\#5568](https:/
+00015f20: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+00015f30: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00015f40: 7373 7565 732f 3535 3638 2929 0a2d 2046  ssues/5568)).- F
+00015f50: 6978 2066 6169 6c75 7265 2074 6f20 7374  ix failure to st
+00015f60: 6172 7420 756e 6465 7220 646f 636b 6572  art under docker
+00015f70: 2077 6974 6820 5341 4d4c 2073 7570 706f   with SAML suppo
+00015f80: 7274 2065 6e61 626c 6564 2e20 285b 5c23  rt enabled. ([\#
+00015f90: 3534 3930 5d28 6874 7470 733a 2f2f 6769  5490](https://gi
+00015fa0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+00015fb0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+00015fc0: 6573 2f35 3439 3029 290a 2d20 5573 6520  es/5490)).- Use 
+00015fd0: 6120 7365 6e73 6962 6c65 206c 6f63 6174  a sensible locat
+00015fe0: 696f 6e20 666f 7220 6461 7461 2066 696c  ion for data fil
+00015ff0: 6573 2077 6865 6e20 6765 6e65 7261 7469  es when generati
+00016000: 6e67 2061 2063 6f6e 6669 6720 6669 6c65  ng a config file
+00016010: 2e20 285b 5c23 3535 3633 5d28 6874 7470  . ([\#5563](http
+00016020: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+00016030: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+00016040: 652f 6973 7375 6573 2f35 3536 3329 290a  e/issues/5563)).
+00016050: 0a0a 4465 7072 6563 6174 696f 6e73 2061  ..Deprecations a
+00016060: 6e64 2052 656d 6f76 616c 730a 2d2d 2d2d  nd Removals.----
+00016070: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00016080: 2d2d 2d2d 2d0a 0a2d 2050 7974 686f 6e20  -----..- Python 
+00016090: 322e 3720 6973 206e 6f20 6c6f 6e67 6572  2.7 is no longer
+000160a0: 2061 2073 7570 706f 7274 6564 2070 6c61   a supported pla
+000160b0: 7466 6f72 6d2e 2053 796e 6170 7365 206e  tform. Synapse n
+000160c0: 6f77 2072 6571 7569 7265 7320 5079 7468  ow requires Pyth
+000160d0: 6f6e 2033 2e35 2b20 746f 2072 756e 2e20  on 3.5+ to run. 
+000160e0: 285b 5c23 3534 3235 5d28 6874 7470 733a  ([\#5425](https:
+000160f0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00016100: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00016110: 6973 7375 6573 2f35 3432 3529 290a 2d20  issues/5425)).- 
+00016120: 506f 7374 6772 6553 514c 2039 2e34 2069  PostgreSQL 9.4 i
+00016130: 7320 6e6f 206c 6f6e 6765 7220 7375 7070  s no longer supp
+00016140: 6f72 7465 642e 2053 796e 6170 7365 2072  orted. Synapse r
+00016150: 6571 7569 7265 7320 506f 7374 6772 6573  equires Postgres
+00016160: 2039 2e35 2b20 6f72 2061 626f 7665 2066   9.5+ or above f
+00016170: 6f72 2050 6f73 7467 7265 7320 7375 7070  or Postgres supp
+00016180: 6f72 742e 2028 5b5c 2335 3434 385d 2868  ort. ([\#5448](h
+00016190: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+000161a0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+000161b0: 6170 7365 2f69 7373 7565 732f 3534 3438  apse/issues/5448
+000161c0: 2929 0a2d 2052 656d 6f76 6520 7375 7070  )).- Remove supp
+000161d0: 6f72 7420 666f 7220 6370 755f 6166 6669  ort for cpu_affi
+000161e0: 6e69 7479 2073 6574 7469 6e67 2e20 285b  nity setting. ([
+000161f0: 5c23 3535 3235 5d28 6874 7470 733a 2f2f  \#5525](https://
+00016200: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00016210: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00016220: 7375 6573 2f35 3532 3529 290a 0a0a 496d  sues/5525))...Im
+00016230: 7072 6f76 6564 2044 6f63 756d 656e 7461  proved Documenta
+00016240: 7469 6f6e 0a2d 2d2d 2d2d 2d2d 2d2d 2d2d  tion.-----------
+00016250: 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a 2d20 496d  -----------.- Im
+00016260: 7072 6f76 6520 5245 4144 4d45 2073 6563  prove README sec
+00016270: 7469 6f6e 206f 6e20 7065 7266 6f72 6d61  tion on performa
+00016280: 6e63 6520 7472 6f75 626c 6573 686f 6f74  nce troubleshoot
+00016290: 696e 672e 2028 5b5c 2334 3237 365d 2868  ing. ([\#4276](h
+000162a0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+000162b0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+000162c0: 6170 7365 2f69 7373 7565 732f 3432 3736  apse/issues/4276
+000162d0: 2929 0a2d 2041 6464 2069 6e66 6f72 6d61  )).- Add informa
+000162e0: 7469 6f6e 2061 626f 7574 2068 6f77 2074  tion about how t
+000162f0: 6f20 696e 7374 616c 6c20 616e 6420 7275  o install and ru
+00016300: 6e20 6062 6c61 636b 6020 6f6e 2074 6865  n `black` on the
+00016310: 2063 6f64 6562 6173 6520 746f 2063 6f64   codebase to cod
+00016320: 655f 7374 796c 652e 7273 742e 2028 5b5c  e_style.rst. ([\
+00016330: 2335 3533 375d 2868 7474 7073 3a2f 2f67  #5537](https://g
+00016340: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00016350: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00016360: 7565 732f 3535 3337 2929 0a2d 2049 6d70  ues/5537)).- Imp
+00016370: 726f 7665 2069 6e73 7461 6c6c 2064 6f63  rove install doc
+00016380: 7320 6f6e 2063 686f 6f73 696e 6720 7365  s on choosing se
+00016390: 7276 6572 5f6e 616d 652e 2028 5b5c 2335  rver_name. ([\#5
+000163a0: 3535 385d 2868 7474 7073 3a2f 2f67 6974  558](https://git
+000163b0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+000163c0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+000163d0: 732f 3535 3538 2929 0a0a 0a49 6e74 6572  s/5558))...Inter
+000163e0: 6e61 6c20 4368 616e 6765 730a 2d2d 2d2d  nal Changes.----
+000163f0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 0a0a 2d20  ------------..- 
+00016400: 4164 6420 6c6f 6767 696e 6720 746f 2033  Add logging to 3
+00016410: 7069 6420 696e 7669 7465 2073 6967 6e61  pid invite signa
+00016420: 7475 7265 2076 6572 6966 6963 6174 696f  ture verificatio
+00016430: 6e2e 2028 5b5c 2335 3031 355d 2868 7474  n. ([\#5015](htt
+00016440: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00016450: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00016460: 7365 2f69 7373 7565 732f 3530 3135 2929  se/issues/5015))
+00016470: 0a2d 2055 7064 6174 6520 6578 616d 706c  .- Update exampl
+00016480: 6520 6861 7072 6f78 7920 636f 6e66 6967  e haproxy config
+00016490: 2074 6f20 6120 6d6f 7265 2063 6f6d 7061   to a more compa
+000164a0: 7469 626c 6520 7365 7475 702e 2028 5b5c  tible setup. ([\
+000164b0: 2335 3331 335d 2868 7474 7073 3a2f 2f67  #5313](https://g
+000164c0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+000164d0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+000164e0: 7565 732f 3533 3133 2929 0a2d 2054 7261  ues/5313)).- Tra
+000164f0: 636b 2064 6561 6374 6976 6174 6564 2061  ck deactivated a
+00016500: 6363 6f75 6e74 7320 696e 2074 6865 2064  ccounts in the d
+00016510: 6174 6162 6173 652e 2028 5b5c 2335 3337  atabase. ([\#537
+00016520: 385d 2868 7474 7073 3a2f 2f67 6974 6875  8](https://githu
+00016530: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00016540: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00016550: 3533 3738 292c 205b 5c23 3534 3635 5d28  5378), [\#5465](
+00016560: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00016570: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00016580: 6e61 7073 652f 6973 7375 6573 2f35 3436  napse/issues/546
+00016590: 3529 2c20 5b5c 2335 3439 335d 2868 7474  5), [\#5493](htt
+000165a0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+000165b0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+000165c0: 7365 2f69 7373 7565 732f 3534 3933 2929  se/issues/5493))
+000165d0: 0a2d 2043 6c65 616e 2075 7020 636f 6465  .- Clean up code
+000165e0: 2066 6f72 2073 656e 6469 6e67 2066 6564   for sending fed
+000165f0: 6572 6174 696f 6e20 4544 5573 2e20 285b  eration EDUs. ([
+00016600: 5c23 3533 3831 5d28 6874 7470 733a 2f2f  \#5381](https://
+00016610: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00016620: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00016630: 7375 6573 2f35 3338 3129 290a 2d20 4164  sues/5381)).- Ad
+00016640: 6420 6120 7370 6f6e 736f 7220 6275 7474  d a sponsor butt
+00016650: 6f6e 2074 6f20 7468 6520 7265 706f 2e20  on to the repo. 
+00016660: 285b 5c23 3533 3832 5d28 6874 7470 733a  ([\#5382](https:
+00016670: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00016680: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00016690: 6973 7375 6573 2f35 3338 3229 2c20 5b5c  issues/5382), [\
+000166a0: 2335 3338 365d 2868 7474 7073 3a2f 2f67  #5386](https://g
+000166b0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+000166c0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+000166d0: 7565 732f 3533 3836 2929 0a2d 2044 6f6e  ues/5386)).- Don
+000166e0: 2774 206c 6f67 206e 6f6e 2d32 3030 2072  't log non-200 r
+000166f0: 6573 706f 6e73 6573 2066 726f 6d20 6665  esponses from fe
+00016700: 6465 7261 7469 6f6e 2071 7565 7269 6573  deration queries
+00016710: 2061 7320 6578 6365 7074 696f 6e73 2e20   as exceptions. 
+00016720: 285b 5c23 3533 3833 5d28 6874 7470 733a  ([\#5383](https:
+00016730: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00016740: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00016750: 6973 7375 6573 2f35 3338 3329 290a 2d20  issues/5383)).- 
+00016760: 5570 6461 7465 2050 7974 686f 6e20 7379  Update Python sy
+00016770: 6e74 6178 2069 6e20 636f 6e74 7269 622f  ntax in contrib/
+00016780: 2074 6f20 5079 7468 6f6e 2033 2e20 285b   to Python 3. ([
+00016790: 5c23 3534 3436 5d28 6874 7470 733a 2f2f  \#5446](https://
+000167a0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+000167b0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+000167c0: 7375 6573 2f35 3434 3629 290a 2d20 5570  sues/5446)).- Up
+000167d0: 6461 7465 2066 6564 6572 6174 696f 6e5f  date federation_
+000167e0: 636c 6965 6e74 2064 6576 2073 6372 6970  client dev scrip
+000167f0: 7420 746f 2073 7570 706f 7274 2060 2e77  t to support `.w
+00016800: 656c 6c2d 6b6e 6f77 6e60 2061 6e64 2077  ell-known` and w
+00016810: 6f72 6b20 7769 7468 2070 7974 686f 6e33  ork with python3
+00016820: 2e20 285b 5c23 3534 3437 5d28 6874 7470  . ([\#5447](http
+00016830: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+00016840: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+00016850: 652f 6973 7375 6573 2f35 3434 3729 290a  e/issues/5447)).
+00016860: 2d20 5379 5465 7374 2068 6173 2062 6565  - SyTest has bee
+00016870: 6e20 6d6f 7665 6420 746f 2042 7569 6c64  n moved to Build
+00016880: 6b69 7465 2e20 285b 5c23 3534 3539 5d28  kite. ([\#5459](
+00016890: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+000168a0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+000168b0: 6e61 7073 652f 6973 7375 6573 2f35 3435  napse/issues/545
+000168c0: 3929 290a 2d20 4465 6d6f 2073 6372 6970  9)).- Demo scrip
+000168d0: 7420 6e6f 7720 7573 6573 2070 7974 686f  t now uses pytho
+000168e0: 6e33 2e20 285b 5c23 3534 3630 5d28 6874  n3. ([\#5460](ht
+000168f0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00016900: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+00016910: 7073 652f 6973 7375 6573 2f35 3436 3029  pse/issues/5460)
+00016920: 290a 2d20 5379 6e61 7073 6520 6361 6e20  ).- Synapse can 
+00016930: 6e6f 7720 6861 6e64 6c65 2052 6573 7453  now handle RestS
+00016940: 6572 766c 6574 7320 7468 6174 2072 6574  ervlets that ret
+00016950: 7572 6e20 636f 726f 7574 696e 6573 2e20  urn coroutines. 
+00016960: 285b 5c23 3534 3735 5d28 6874 7470 733a  ([\#5475](https:
+00016970: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00016980: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00016990: 6973 7375 6573 2f35 3437 3529 2c20 5b5c  issues/5475), [\
+000169a0: 2335 3538 355d 2868 7474 7073 3a2f 2f67  #5585](https://g
+000169b0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+000169c0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+000169d0: 7565 732f 3535 3835 2929 0a2d 2054 6865  ues/5585)).- The
+000169e0: 2064 656d 6f20 7365 7276 6572 7320 7461   demo servers ta
+000169f0: 6c6b 2074 6f20 6561 6368 206f 7468 6572  lk to each other
+00016a00: 2061 6761 696e 2e20 285b 5c23 3534 3738   again. ([\#5478
+00016a10: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00016a20: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00016a30: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
+00016a40: 3437 3829 290a 2d20 4164 6420 616e 2045  478)).- Add an E
+00016a50: 5850 4552 494d 454e 5441 4c20 636f 6e66  XPERIMENTAL conf
+00016a60: 6967 206f 7074 696f 6e20 746f 2074 7279  ig option to try
+00016a70: 2061 6e64 2070 6572 696f 6469 6361 6c6c   and periodicall
+00016a80: 7920 636c 6561 6e20 7570 2065 7874 7265  y clean up extre
+00016a90: 6d69 7469 6573 2062 7920 7365 6e64 696e  mities by sendin
+00016aa0: 6720 6475 6d6d 7920 6576 656e 7473 2e20  g dummy events. 
+00016ab0: 285b 5c23 3534 3830 5d28 6874 7470 733a  ([\#5480](https:
+00016ac0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00016ad0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00016ae0: 6973 7375 6573 2f35 3438 3029 290a 2d20  issues/5480)).- 
+00016af0: 5379 6e61 7073 6527 7320 636f 6465 6261  Synapse's codeba
+00016b00: 7365 2069 7320 6e6f 7720 666f 726d 6174  se is now format
+00016b10: 7465 6420 6279 2060 626c 6163 6b60 2e20  ted by `black`. 
+00016b20: 285b 5c23 3534 3832 5d28 6874 7470 733a  ([\#5482](https:
+00016b30: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00016b40: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00016b50: 6973 7375 6573 2f35 3438 3229 290a 2d20  issues/5482)).- 
+00016b60: 536f 6d65 2063 6c65 616e 7570 7320 616e  Some cleanups an
+00016b70: 6420 7361 6e69 7479 2d63 6865 636b 696e  d sanity-checkin
+00016b80: 6720 696e 2074 6865 2043 5055 2061 6e64  g in the CPU and
+00016b90: 2064 6174 6162 6173 6520 6d65 7472 6963   database metric
+00016ba0: 732e 2028 5b5c 2335 3439 395d 2868 7474  s. ([\#5499](htt
+00016bb0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00016bc0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00016bd0: 7365 2f69 7373 7565 732f 3534 3939 2929  se/issues/5499))
+00016be0: 0a2d 2049 6d70 726f 7665 2065 6d61 696c  .- Improve email
+00016bf0: 206e 6f74 6966 6963 6174 696f 6e20 6c6f   notification lo
+00016c00: 6767 696e 672e 2028 5b5c 2335 3530 325d  gging. ([\#5502]
+00016c10: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00016c20: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+00016c30: 796e 6170 7365 2f69 7373 7565 732f 3535  ynapse/issues/55
+00016c40: 3032 2929 0a2d 2046 6978 2022 556e 6578  02)).- Fix "Unex
+00016c50: 7065 6374 6564 2065 6e74 7279 2069 6e20  pected entry in 
+00016c60: 2766 756c 6c5f 7363 6865 6d61 7327 2220  'full_schemas'" 
+00016c70: 6c6f 6720 7761 726e 696e 672e 2028 5b5c  log warning. ([\
+00016c80: 2335 3530 395d 2868 7474 7073 3a2f 2f67  #5509](https://g
+00016c90: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00016ca0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00016cb0: 7565 732f 3535 3039 2929 0a2d 2049 6d70  ues/5509)).- Imp
+00016cc0: 726f 7665 206c 6f67 6769 6e67 2077 6865  rove logging whe
+00016cd0: 6e20 6765 6e65 7261 7469 6e67 2063 6f6e  n generating con
+00016ce0: 6669 6720 6669 6c65 732e 2028 5b5c 2335  fig files. ([\#5
+00016cf0: 3531 305d 2868 7474 7073 3a2f 2f67 6974  510](https://git
+00016d00: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00016d10: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+00016d20: 732f 3535 3130 2929 0a2d 2052 6566 6163  s/5510)).- Refac
+00016d30: 746f 7220 616e 6420 636c 6561 6e20 7570  tor and clean up
+00016d40: 2043 6f6e 6669 6720 7061 7273 6572 2066   Config parser f
+00016d50: 6f72 206d 6169 6e74 6169 6e61 6269 6c69  or maintainabili
+00016d60: 7479 2e20 285b 5c23 3535 3131 5d28 6874  ty. ([\#5511](ht
+00016d70: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00016d80: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+00016d90: 7073 652f 6973 7375 6573 2f35 3531 3129  pse/issues/5511)
+00016da0: 290a 2d20 4d61 6b65 2074 6865 2063 6f6e  ).- Make the con
+00016db0: 6669 6720 636c 6561 7265 7220 696e 2074  fig clearer in t
+00016dc0: 6861 7420 656d 6169 6c2e 7465 6d70 6c61  hat email.templa
+00016dd0: 7465 5f64 6972 2069 7320 7265 6c61 7469  te_dir is relati
+00016de0: 7665 2074 6f20 7468 6520 5379 6e61 7073  ve to the Synaps
+00016df0: 6527 7320 726f 6f74 2064 6972 6563 746f  e's root directo
+00016e00: 7279 2c20 6e6f 7420 7468 6520 6073 796e  ry, not the `syn
+00016e10: 6170 7365 2f60 2066 6f6c 6465 7220 7769  apse/` folder wi
+00016e20: 7468 696e 2069 742e 2028 5b5c 2335 3534  thin it. ([\#554
+00016e30: 335d 2868 7474 7073 3a2f 2f67 6974 6875  3](https://githu
+00016e40: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00016e50: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00016e60: 3535 3433 2929 0a2d 2055 7064 6174 6520  5543)).- Update 
+00016e70: 7631 2e30 2e30 2072 656c 6561 7365 2063  v1.0.0 release c
+00016e80: 6861 6e67 656c 6f67 2074 6f20 696e 636c  hangelog to incl
+00016e90: 7564 6520 6d6f 7265 2069 6e66 6f72 6d61  ude more informa
+00016ea0: 7469 6f6e 2061 626f 7574 2063 6861 6e67  tion about chang
+00016eb0: 6573 2074 6f20 7061 7373 776f 7264 2072  es to password r
+00016ec0: 6573 6574 732e 2028 5b5c 2335 3534 355d  esets. ([\#5545]
+00016ed0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00016ee0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+00016ef0: 796e 6170 7365 2f69 7373 7565 732f 3535  ynapse/issues/55
+00016f00: 3435 2929 0a2d 2052 656d 6f76 6520 6e6f  45)).- Remove no
+00016f10: 6e2d 6675 6e63 7469 6f6e 696e 6720 6368  n-functioning ch
+00016f20: 6563 6b5f 6576 656e 745f 6861 7368 2e70  eck_event_hash.p
+00016f30: 7920 6465 7620 7363 7269 7074 2e20 285b  y dev script. ([
+00016f40: 5c23 3535 3438 5d28 6874 7470 733a 2f2f  \#5548](https://
+00016f50: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00016f60: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00016f70: 7375 6573 2f35 3534 3829 290a 2d20 5379  sues/5548)).- Sy
+00016f80: 6e61 7073 6520 7769 6c6c 206e 6f77 206f  napse will now o
+00016f90: 6e6c 7920 616c 6c6f 7720 544c 5320 7631  nly allow TLS v1
+00016fa0: 2e32 2063 6f6e 6e65 6374 696f 6e73 2077  .2 connections w
+00016fb0: 6865 6e20 7365 7276 696e 6720 6665 6465  hen serving fede
+00016fc0: 7261 7469 6f6e 2c20 6966 2069 7420 7465  ration, if it te
+00016fd0: 726d 696e 6174 6573 2054 4c53 2e20 4173  rminates TLS. As
+00016fe0: 2053 796e 6170 7365 2773 2061 6c6c 6f77   Synapse's allow
+00016ff0: 6564 2063 6970 6865 7273 2077 6572 6520  ed ciphers were 
+00017000: 6f6e 6c79 2061 626c 6520 746f 2062 6520  only able to be 
+00017010: 7573 6564 2069 6e20 544c 5376 312e 3220  used in TLSv1.2 
+00017020: 6265 666f 7265 2c20 7468 6973 2064 6f65  before, this doe
+00017030: 7320 6e6f 7420 6368 616e 6765 2062 6568  s not change beh
+00017040: 6176 696f 7572 2e20 285b 5c23 3535 3530  aviour. ([\#5550
+00017050: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00017060: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00017070: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
+00017080: 3535 3029 290a 2d20 4c6f 6767 696e 6720  550)).- Logging 
+00017090: 7768 656e 2072 756e 6e69 6e67 2047 4320  when running GC 
+000170a0: 636f 6c6c 6563 7469 6f6e 206f 6e20 6765  collection on ge
+000170b0: 6e65 7261 7469 6f6e 2030 2069 7320 6e6f  neration 0 is no
+000170c0: 7720 6174 2074 6865 2044 4542 5547 206c  w at the DEBUG l
+000170d0: 6576 656c 2c20 6e6f 7420 494e 464f 2e20  evel, not INFO. 
+000170e0: 285b 5c23 3535 3537 5d28 6874 7470 733a  ([\#5557](https:
+000170f0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00017100: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00017110: 6973 7375 6573 2f35 3535 3729 290a 2d20  issues/5557)).- 
+00017120: 5265 6475 6365 2074 6865 2061 6d6f 756e  Reduce the amoun
+00017130: 7420 6f66 2073 7475 6666 2077 6520 7365  t of stuff we se
+00017140: 6e64 2069 6e20 7468 6520 646f 636b 6572  nd in the docker
+00017150: 2063 6f6e 7465 7874 2e20 285b 5c23 3535   context. ([\#55
+00017160: 3634 5d28 6874 7470 733a 2f2f 6769 7468  64](https://gith
+00017170: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00017180: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00017190: 2f35 3536 3429 290a 2d20 506f 696e 7420  /5564)).- Point 
+000171a0: 7468 6520 7265 7665 7273 6520 6c69 6e6b  the reverse link
+000171b0: 7320 696e 2074 6865 2050 7572 6765 2048  s in the Purge H
+000171c0: 6973 746f 7279 2063 6f6e 7472 6962 2073  istory contrib s
+000171d0: 6372 6970 7473 2061 7420 7468 6520 696e  cripts at the in
+000171e0: 7465 6e64 6564 206c 6f63 6174 696f 6e2e  tended location.
+000171f0: 2028 5b5c 2335 3537 305d 2868 7474 7073   ([\#5570](https
+00017200: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00017210: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00017220: 2f69 7373 7565 732f 3535 3730 2929 0a0a  /issues/5570))..
+00017230: 0a53 796e 6170 7365 2031 2e30 2e30 2028  .Synapse 1.0.0 (
+00017240: 3230 3139 2d30 362d 3131 290a 3d3d 3d3d  2019-06-11).====
+00017250: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00017260: 3d3d 3d3d 3d3d 0a0a 4275 6766 6978 6573  ======..Bugfixes
+00017270: 0a2d 2d2d 2d2d 2d2d 2d0a 0a2d 2046 6978  .--------..- Fix
+00017280: 2062 7567 2077 6865 7265 2061 7474 656d   bug where attem
+00017290: 7074 696e 6720 746f 2073 656e 6420 7472  pting to send tr
+000172a0: 616e 7361 6374 696f 6e73 2077 6974 6820  ansactions with 
+000172b0: 6c61 7267 6520 6e75 6d62 6572 206f 6620  large number of 
+000172c0: 4544 5573 2063 616e 2066 6169 6c2e 2028  EDUs can fail. (
+000172d0: 5b5c 2335 3431 385d 2868 7474 7073 3a2f  [\#5418](https:/
+000172e0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+000172f0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00017300: 7373 7565 732f 3534 3138 2929 0a0a 0a49  ssues/5418))...I
+00017310: 6d70 726f 7665 6420 446f 6375 6d65 6e74  mproved Document
+00017320: 6174 696f 6e0a 2d2d 2d2d 2d2d 2d2d 2d2d  ation.----------
+00017330: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 0a0a 2d20  ------------..- 
+00017340: 4578 7061 6e64 2074 6865 2066 6564 6572  Expand the feder
+00017350: 6174 696f 6e20 6775 6964 6520 746f 2069  ation guide to i
+00017360: 6e63 6c75 6465 2072 656c 6576 616e 7420  nclude relevant 
+00017370: 636f 6e74 656e 7420 6672 6f6d 2074 6865  content from the
+00017380: 204d 5343 3137 3131 2046 4151 2028 5b5c   MSC1711 FAQ ([\
+00017390: 2335 3431 395d 2868 7474 7073 3a2f 2f67  #5419](https://g
+000173a0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+000173b0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+000173c0: 7565 732f 3534 3139 2929 0a0a 0a49 6e74  ues/5419))...Int
+000173d0: 6572 6e61 6c20 4368 616e 6765 730a 2d2d  ernal Changes.--
+000173e0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 0a0a  --------------..
+000173f0: 2d20 4d6f 7665 2070 6173 7377 6f72 6420  - Move password 
+00017400: 7265 7365 7420 6c69 6e6b 7320 746f 202f  reset links to /
+00017410: 5f6d 6174 7269 782f 636c 6965 6e74 2f75  _matrix/client/u
+00017420: 6e73 7461 626c 6520 6e61 6d65 7370 6163  nstable namespac
+00017430: 652e 2028 5b5c 2335 3432 345d 2868 7474  e. ([\#5424](htt
+00017440: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00017450: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00017460: 7365 2f69 7373 7565 732f 3534 3234 2929  se/issues/5424))
+00017470: 0a0a 0a53 796e 6170 7365 2031 2e30 2e30  ...Synapse 1.0.0
+00017480: 7263 3320 2832 3031 392d 3036 2d31 3029  rc3 (2019-06-10)
+00017490: 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  .===============
+000174a0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a  ==============..
+000174b0: 5365 6375 7269 7479 3a20 4669 7820 6175  Security: Fix au
+000174c0: 7468 656e 7469 6361 7469 6f6e 2062 7567  thentication bug
+000174d0: 2069 6e74 726f 6475 6365 6420 696e 2031   introduced in 1
+000174e0: 2e30 2e30 7263 312e 2050 6c65 6173 6520  .0.0rc1. Please 
+000174f0: 7570 6772 6164 6520 746f 2072 6333 2069  upgrade to rc3 i
+00017500: 6d6d 6564 6961 7465 6c79 0a0a 0a53 796e  mmediately...Syn
+00017510: 6170 7365 2031 2e30 2e30 7263 3220 2832  apse 1.0.0rc2 (2
+00017520: 3031 392d 3036 2d31 3029 0a3d 3d3d 3d3d  019-06-10).=====
+00017530: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00017540: 3d3d 3d3d 3d3d 3d3d 0a0a 4275 6766 6978  ========..Bugfix
+00017550: 6573 0a2d 2d2d 2d2d 2d2d 2d0a 0a2d 2052  es.--------..- R
+00017560: 656d 6f76 6520 7265 6475 6e64 616e 7420  emove redundant 
+00017570: 7761 726e 696e 6720 6162 6f75 7420 6b65  warning about ke
+00017580: 7920 7365 7276 6572 2072 6573 706f 6e73  y server respons
+00017590: 6520 7661 6c69 6461 7469 6f6e 2e20 285b  e validation. ([
+000175a0: 5c23 3533 3932 5d28 6874 7470 733a 2f2f  \#5392](https://
+000175b0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+000175c0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+000175d0: 7375 6573 2f35 3339 3229 290a 2d20 4669  sues/5392)).- Fi
+000175e0: 7820 6275 6720 7768 6572 6520 6f6c 6420  x bug where old 
+000175f0: 6b65 7973 2073 746f 7265 6420 696e 2074  keys stored in t
+00017600: 6865 2064 6174 6162 6173 6520 7769 7468  he database with
+00017610: 2061 206e 756c 6c20 7661 6c69 6420 756e   a null valid un
+00017620: 7469 6c20 7469 6d65 7374 616d 7020 6361  til timestamp ca
+00017630: 7573 6564 2061 6c6c 2076 6572 6966 6963  used all verific
+00017640: 6174 696f 6e20 7265 7175 6573 7473 2066  ation requests f
+00017650: 6f72 2074 6861 7420 6b65 7920 746f 2066  or that key to f
+00017660: 6169 6c2e 2028 5b5c 2335 3431 355d 2868  ail. ([\#5415](h
+00017670: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00017680: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+00017690: 6170 7365 2f69 7373 7565 732f 3534 3135  apse/issues/5415
+000176a0: 2929 0a2d 2046 6978 2065 7863 6573 7369  )).- Fix excessi
+000176b0: 7665 206d 656d 6f72 7920 7573 696e 6720  ve memory using 
+000176c0: 7769 7468 2064 6566 6175 6c74 2060 6665  with default `fe
+000176d0: 6465 7261 7469 6f6e 5f76 6572 6966 795f  deration_verify_
+000176e0: 6365 7274 6966 6963 6174 6573 3a20 7472  certificates: tr
+000176f0: 7565 6020 636f 6e66 6967 7572 6174 696f  ue` configuratio
+00017700: 6e2e 2028 5b5c 2335 3431 375d 2868 7474  n. ([\#5417](htt
+00017710: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00017720: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00017730: 7365 2f69 7373 7565 732f 3534 3137 2929  se/issues/5417))
+00017740: 0a0a 0a53 796e 6170 7365 2031 2e30 2e30  ...Synapse 1.0.0
+00017750: 7263 3120 2832 3031 392d 3036 2d30 3729  rc1 (2019-06-07)
+00017760: 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  .===============
+00017770: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a  ==============..
+00017780: 4665 6174 7572 6573 0a2d 2d2d 2d2d 2d2d  Features.-------
+00017790: 2d0a 0a2d 2053 796e 6170 7365 206e 6f77  -..- Synapse now
+000177a0: 206d 6f72 6520 6566 6669 6369 656e 746c   more efficientl
+000177b0: 7920 636f 6c6c 6174 6573 2072 6f6f 6d20  y collates room 
+000177c0: 7374 6174 6973 7469 6373 2e20 285b 5c23  statistics. ([\#
+000177d0: 3433 3338 5d28 6874 7470 733a 2f2f 6769  4338](https://gi
+000177e0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+000177f0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+00017800: 6573 2f34 3333 3829 2c20 5b5c 2335 3236  es/4338), [\#526
+00017810: 305d 2868 7474 7073 3a2f 2f67 6974 6875  0](https://githu
+00017820: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00017830: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00017840: 3532 3630 292c 205b 5c23 3533 3234 5d28  5260), [\#5324](
+00017850: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00017860: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00017870: 6e61 7073 652f 6973 7375 6573 2f35 3332  napse/issues/532
+00017880: 3429 290a 2d20 4164 6420 6578 7065 7269  4)).- Add experi
+00017890: 6d65 6e74 616c 2073 7570 706f 7274 2066  mental support f
+000178a0: 6f72 2072 656c 6174 696f 6e73 2028 616b  or relations (ak
+000178b0: 6120 7265 6163 7469 6f6e 7320 616e 6420  a reactions and 
+000178c0: 6564 6974 7329 2e20 285b 5c23 3532 3230  edits). ([\#5220
+000178d0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+000178e0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+000178f0: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
+00017900: 3232 3029 290a 2d20 4162 696c 6974 7920  220)).- Ability 
+00017910: 746f 2063 6f6e 6669 6775 7265 2064 6566  to configure def
+00017920: 6175 6c74 2072 6f6f 6d20 7665 7273 696f  ault room versio
+00017930: 6e2e 2028 5b5c 2335 3232 335d 2868 7474  n. ([\#5223](htt
+00017940: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00017950: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00017960: 7365 2f69 7373 7565 732f 3532 3233 292c  se/issues/5223),
+00017970: 205b 5c23 3532 3439 5d28 6874 7470 733a   [\#5249](https:
+00017980: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00017990: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+000179a0: 6973 7375 6573 2f35 3234 3929 290a 2d20  issues/5249)).- 
+000179b0: 416c 6c6f 7720 636f 6e66 6967 7572 696e  Allow configurin
+000179c0: 6720 6120 7261 6e67 6520 666f 7220 7468  g a range for th
+000179d0: 6520 6163 636f 756e 7420 7661 6c69 6469  e account validi
+000179e0: 7479 2073 7461 7274 7570 206a 6f62 2e20  ty startup job. 
+000179f0: 285b 5c23 3532 3736 5d28 6874 7470 733a  ([\#5276](https:
+00017a00: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00017a10: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00017a20: 6973 7375 6573 2f35 3237 3629 290a 2d20  issues/5276)).- 
+00017a30: 4341 5320 6c6f 6769 6e20 7769 6c6c 206e  CAS login will n
+00017a40: 6f77 2068 6974 2074 6865 2072 3020 4150  ow hit the r0 AP
+00017a50: 492c 206e 6f74 2074 6865 2064 6570 7265  I, not the depre
+00017a60: 6361 7465 6420 7631 206f 6e65 2e20 285b  cated v1 one. ([
+00017a70: 5c23 3532 3836 5d28 6874 7470 733a 2f2f  \#5286](https://
+00017a80: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00017a90: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00017aa0: 7375 6573 2f35 3238 3629 290a 2d20 5661  sues/5286)).- Va
+00017ab0: 6c69 6461 7465 2066 6564 6572 6174 696f  lidate federatio
+00017ac0: 6e20 7365 7276 6572 2054 4c53 2063 6572  n server TLS cer
+00017ad0: 7469 6669 6361 7465 7320 6279 2064 6566  tificates by def
+00017ae0: 6175 6c74 2028 696d 706c 656d 656e 7473  ault (implements
+00017af0: 205b 4d53 4331 3731 315d 2868 7474 7073   [MSC1711](https
+00017b00: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00017b10: 7472 6978 2d6f 7267 2f6d 6174 7269 782d  trix-org/matrix-
+00017b20: 646f 632f 626c 6f62 2f6d 6173 7465 722f  doc/blob/master/
+00017b30: 7072 6f70 6f73 616c 732f 3137 3131 2d78  proposals/1711-x
+00017b40: 3530 392d 666f 722d 6665 6465 7261 7469  509-for-federati
+00017b50: 6f6e 2e6d 6429 292e 2028 5b5c 2335 3335  on.md)). ([\#535
+00017b60: 395d 2868 7474 7073 3a2f 2f67 6974 6875  9](https://githu
+00017b70: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00017b80: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00017b90: 3533 3539 2929 0a2d 2055 7064 6174 6520  5359)).- Update 
+00017ba0: 2f5f 6d61 7472 6978 2f63 6c69 656e 742f  /_matrix/client/
+00017bb0: 7665 7273 696f 6e73 2074 6f20 7265 6665  versions to refe
+00017bc0: 7265 6e63 6520 7375 7070 6f72 7420 666f  rence support fo
+00017bd0: 7220 7230 2e35 2e30 2e20 285b 5c23 3533  r r0.5.0. ([\#53
+00017be0: 3630 5d28 6874 7470 733a 2f2f 6769 7468  60](https://gith
+00017bf0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00017c00: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00017c10: 2f35 3336 3029 290a 2d20 4164 6420 6120  /5360)).- Add a 
+00017c20: 7363 7269 7074 2074 6f20 6765 6e65 7261  script to genera
+00017c30: 7465 206e 6577 2073 6967 6e69 6e67 2d6b  te new signing-k
+00017c40: 6579 2066 696c 6573 2e20 285b 5c23 3533  ey files. ([\#53
+00017c50: 3631 5d28 6874 7470 733a 2f2f 6769 7468  61](https://gith
+00017c60: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00017c70: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00017c80: 2f35 3336 3129 290a 2d20 5570 6461 7465  /5361)).- Update
+00017c90: 2075 7067 7261 6465 2061 6e64 2069 6e73   upgrade and ins
+00017ca0: 7461 6c6c 6174 696f 6e20 6775 6964 6573  tallation guides
+00017cb0: 2061 6865 6164 206f 6620 312e 302e 2028   ahead of 1.0. (
+00017cc0: 5b5c 2335 3337 315d 2868 7474 7073 3a2f  [\#5371](https:/
+00017cd0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+00017ce0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00017cf0: 7373 7565 732f 3533 3731 2929 0a2d 2052  ssues/5371)).- R
+00017d00: 6570 6c61 6365 2074 6865 2060 7065 7273  eplace the `pers
+00017d10: 7065 6374 6976 6573 6020 636f 6e66 6967  pectives` config
+00017d20: 7572 6174 696f 6e20 7365 6374 696f 6e20  uration section 
+00017d30: 7769 7468 2060 7472 7573 7465 645f 6b65  with `trusted_ke
+00017d40: 795f 7365 7276 6572 7360 2c20 616e 6420  y_servers`, and 
+00017d50: 6d61 6b65 2076 616c 6964 6174 696e 6720  make validating 
+00017d60: 7468 6520 7369 676e 6174 7572 6573 206f  the signatures o
+00017d70: 6e20 7265 7370 6f6e 7365 7320 6f70 7469  n responses opti
+00017d80: 6f6e 616c 2028 7369 6e63 6520 544c 5320  onal (since TLS 
+00017d90: 7769 6c6c 2064 6f20 7468 6973 206a 6f62  will do this job
+00017da0: 2066 6f72 2075 7329 2e20 285b 5c23 3533   for us). ([\#53
+00017db0: 3734 5d28 6874 7470 733a 2f2f 6769 7468  74](https://gith
+00017dc0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00017dd0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00017de0: 2f35 3337 3429 290a 2d20 4164 6420 6162  /5374)).- Add ab
+00017df0: 696c 6974 7920 746f 2070 6572 666f 726d  ility to perform
+00017e00: 2070 6173 7377 6f72 6420 7265 7365 7420   password reset 
+00017e10: 7669 6120 656d 6169 6c20 7769 7468 6f75  via email withou
+00017e20: 7420 7472 7573 7469 6e67 2074 6865 2069  t trusting the i
+00017e30: 6465 6e74 6974 7920 7365 7276 6572 2e20  dentity server. 
+00017e40: 2a2a 4173 2061 2072 6573 756c 7420 6f66  **As a result of
+00017e50: 2074 6869 7320 5052 2c20 7061 7373 776f   this PR, passwo
+00017e60: 7264 2072 6573 6574 7320 7769 6c6c 206e  rd resets will n
+00017e70: 6f77 2062 6520 6469 7361 626c 6564 206f  ow be disabled o
+00017e80: 6e20 7468 6520 6465 6661 756c 7420 636f  n the default co
+00017e90: 6e66 6967 7572 6174 696f 6e2e 2a2a 0a0a  nfiguration.**..
+00017ea0: 2020 5061 7373 776f 7264 2072 6573 6574    Password reset
+00017eb0: 2065 6d61 696c 7320 6172 6520 6e6f 7720   emails are now 
+00017ec0: 7365 6e74 2066 726f 6d20 7468 6520 686f  sent from the ho
+00017ed0: 6d65 7365 7276 6572 2062 7920 6465 6661  meserver by defa
+00017ee0: 756c 742c 2069 6e73 7465 6164 206f 6620  ult, instead of 
+00017ef0: 7468 6520 6964 656e 7469 7479 2073 6572  the identity ser
+00017f00: 7665 722e 2054 6f20 656e 6162 6c65 2074  ver. To enable t
+00017f10: 6869 7320 6675 6e63 7469 6f6e 616c 6974  his functionalit
+00017f20: 792c 2065 6e73 7572 6520 6065 6d61 696c  y, ensure `email
+00017f30: 6020 616e 6420 6070 7562 6c69 635f 6261  ` and `public_ba
+00017f40: 7365 7572 6c60 2063 6f6e 6669 6720 6f70  seurl` config op
+00017f50: 7469 6f6e 7320 6172 6520 6669 6c6c 6564  tions are filled
+00017f60: 206f 7574 2e0a 0a20 2049 6620 796f 7520   out...  If you 
+00017f70: 776f 756c 6420 6c69 6b65 2074 6f20 7265  would like to re
+00017f80: 2d65 6e61 626c 6520 7061 7373 776f 7264  -enable password
+00017f90: 2072 6573 6574 7320 6265 696e 6720 7365   resets being se
+00017fa0: 6e74 2066 726f 6d20 7468 6520 6964 656e  nt from the iden
+00017fb0: 7469 7479 2073 6572 7665 7220 2877 6172  tity server (war
+00017fc0: 6e69 6e67 3a20 7468 6973 2069 7320 6461  ning: this is da
+00017fd0: 6e67 6572 6f75 7321 2053 6565 205b 2335  ngerous! See [#5
+00017fe0: 3334 355d 2868 7474 7073 3a2f 2f67 6974  345](https://git
+00017ff0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00018000: 7267 2f73 796e 6170 7365 2f70 756c 6c2f  rg/synapse/pull/
+00018010: 3533 3435 2929 2c20 7365 7420 6065 6d61  5345)), set `ema
+00018020: 696c 2e74 7275 7374 5f69 6465 6e74 6974  il.trust_identit
+00018030: 795f 7365 7276 6572 5f66 6f72 5f70 6173  y_server_for_pas
+00018040: 7377 6f72 645f 7265 7365 7473 6020 746f  sword_resets` to
+00018050: 2074 7275 652e 2028 5b5c 2335 3337 375d   true. ([\#5377]
+00018060: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00018070: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+00018080: 796e 6170 7365 2f69 7373 7565 732f 3533  ynapse/issues/53
+00018090: 3737 2929 0a2d 2053 6574 2064 6566 6175  77)).- Set defau
+000180a0: 6c74 2072 6f6f 6d20 7665 7273 696f 6e20  lt room version 
+000180b0: 746f 2076 342e 2028 5b5c 2335 3337 395d  to v4. ([\#5379]
+000180c0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+000180d0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+000180e0: 796e 6170 7365 2f69 7373 7565 732f 3533  ynapse/issues/53
+000180f0: 3739 2929 0a0a 0a42 7567 6669 7865 730a  79))...Bugfixes.
+00018100: 2d2d 2d2d 2d2d 2d2d 0a0a 2d20 4669 7865  --------..- Fixe
+00018110: 7320 636c 6965 6e74 2d73 6572 7665 7220  s client-server 
+00018120: 4150 4920 6e6f 7420 7365 6e64 696e 6720  API not sending 
+00018130: 226d 2e68 6572 6f65 7322 2074 6f20 6c61  "m.heroes" to la
+00018140: 7a79 2d6c 6f61 6420 2f73 796e 6320 7265  zy-load /sync re
+00018150: 7175 6573 7473 2077 6865 6e20 6120 726f  quests when a ro
+00018160: 6f6d 7320 6e61 6d65 206f 7220 6974 7320  oms name or its 
+00018170: 6361 6e6f 6e69 6361 6c20 616c 6961 7320  canonical alias 
+00018180: 6172 6520 656d 7074 792e 2054 6861 6e6b  are empty. Thank
+00018190: 7320 746f 2040 646e 6166 2066 6f72 2074  s to @dnaf for t
+000181a0: 6869 7320 776f 726b 2120 285b 5c23 3530  his work! ([\#50
+000181b0: 3839 5d28 6874 7470 733a 2f2f 6769 7468  89](https://gith
+000181c0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+000181d0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+000181e0: 2f35 3038 3929 290a 2d20 5072 6576 656e  /5089)).- Preven
+000181f0: 7420 6665 6465 7261 7469 6f6e 2064 6576  t federation dev
+00018200: 6963 6520 6c69 7374 2075 7064 6174 6573  ice list updates
+00018210: 2062 7265 616b 696e 6720 7768 656e 2070   breaking when p
+00018220: 726f 6365 7373 696e 6720 6d75 6c74 6970  rocessing multip
+00018230: 6c65 2075 7064 6174 6573 2061 7420 6f6e  le updates at on
+00018240: 6365 2e20 285b 5c23 3531 3536 5d28 6874  ce. ([\#5156](ht
+00018250: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00018260: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+00018270: 7073 652f 6973 7375 6573 2f35 3135 3629  pse/issues/5156)
+00018280: 290a 2d20 4669 7820 776f 726b 6572 2072  ).- Fix worker r
+00018290: 6567 6973 7472 6174 696f 6e20 6275 6720  egistration bug 
+000182a0: 6361 7573 6564 2062 7920 436c 6965 6e74  caused by Client
+000182b0: 5265 6164 6572 536c 6176 6564 5374 6f72  ReaderSlavedStor
+000182c0: 6520 6265 696e 6720 756e 6162 6c65 2074  e being unable t
+000182d0: 6f20 7365 6520 6765 745f 7072 6f66 696c  o see get_profil
+000182e0: 6569 6e66 6f2e 2028 5b5c 2335 3230 305d  einfo. ([\#5200]
+000182f0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00018300: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+00018310: 796e 6170 7365 2f69 7373 7565 732f 3532  ynapse/issues/52
+00018320: 3030 2929 0a2d 2046 6978 2072 6163 6520  00)).- Fix race 
+00018330: 7768 656e 2062 6163 6b66 696c 6c69 6e67  when backfilling
+00018340: 2069 6e20 726f 6f6d 7320 7769 7468 2077   in rooms with w
+00018350: 6f72 6b65 7220 6d6f 6465 2e20 285b 5c23  orker mode. ([\#
+00018360: 3532 3231 5d28 6874 7470 733a 2f2f 6769  5221](https://gi
+00018370: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+00018380: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+00018390: 6573 2f35 3232 3129 290a 2d20 4669 7820  es/5221)).- Fix 
+000183a0: 6170 7073 6572 7669 6365 2074 696d 6573  appservice times
+000183b0: 7461 6d70 206d 6173 7361 6769 6e67 2e20  tamp massaging. 
+000183c0: 285b 5c23 3532 3333 5d28 6874 7470 733a  ([\#5233](https:
+000183d0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+000183e0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+000183f0: 6973 7375 6573 2f35 3233 3329 290a 2d20  issues/5233)).- 
+00018400: 456e 7375 7265 2074 6861 7420 7365 7276  Ensure that serv
+00018410: 6572 5f6b 6579 7320 6665 7463 6865 6420  er_keys fetched 
+00018420: 7669 6120 6120 6e6f 7461 7279 2073 6572  via a notary ser
+00018430: 7665 7220 6172 6520 636f 7272 6563 746c  ver are correctl
+00018440: 7920 7369 676e 6564 2e20 285b 5c23 3532  y signed. ([\#52
+00018450: 3531 5d28 6874 7470 733a 2f2f 6769 7468  51](https://gith
+00018460: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00018470: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00018480: 2f35 3235 3129 290a 2d20 5368 6f77 2074  /5251)).- Show t
+00018490: 6865 2063 6f72 7265 6374 2065 7272 6f72  he correct error
+000184a0: 2077 6865 6e20 6c6f 6767 696e 6720 6f75   when logging ou
+000184b0: 7420 616e 6420 6163 6365 7373 2074 6f6b  t and access tok
+000184c0: 656e 2069 7320 6d69 7373 696e 672e 2028  en is missing. (
+000184d0: 5b5c 2335 3235 365d 2868 7474 7073 3a2f  [\#5256](https:/
+000184e0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+000184f0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00018500: 7373 7565 732f 3532 3536 2929 0a2d 2046  ssues/5256)).- F
+00018510: 6978 2065 7272 6f72 2063 6f64 6520 7768  ix error code wh
+00018520: 656e 2074 6865 7265 2069 7320 616e 2069  en there is an i
+00018530: 6e76 616c 6964 2070 6172 616d 6574 6572  nvalid parameter
+00018540: 206f 6e20 2f5f 6d61 7472 6978 2f63 6c69   on /_matrix/cli
+00018550: 656e 742f 7230 2f70 7562 6c69 6352 6f6f  ent/r0/publicRoo
+00018560: 6d73 2028 5b5c 2335 3235 375d 2868 7474  ms ([\#5257](htt
+00018570: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00018580: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00018590: 7365 2f69 7373 7565 732f 3532 3537 2929  se/issues/5257))
+000185a0: 0a2d 2046 6978 2065 7272 6f72 2077 6865  .- Fix error whe
+000185b0: 6e20 646f 776e 6c6f 6164 696e 6720 7468  n downloading th
+000185c0: 756d 626e 6169 6c20 7769 7468 206d 6973  umbnail with mis
+000185d0: 7369 6e67 2077 6964 7468 2f68 6569 6768  sing width/heigh
+000185e0: 7420 7061 7261 6d65 7465 722e 2028 5b5c  t parameter. ([\
+000185f0: 2335 3235 385d 2868 7474 7073 3a2f 2f67  #5258](https://g
 00018600: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
 00018610: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-00018620: 7565 732f 3532 3735 2929 0a2d 2046 6978  ues/5275)).- Fix
-00018630: 2064 726f 7070 6564 206c 6f67 636f 6e74   dropped logcont
-00018640: 6578 7473 2064 7572 696e 6720 6869 6768  exts during high
-00018650: 206f 7574 626f 756e 6420 7472 6166 6669   outbound traffi
-00018660: 632e 2028 5b5c 2335 3237 375d 2868 7474  c. ([\#5277](htt
-00018670: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00018680: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-00018690: 7365 2f69 7373 7565 732f 3532 3737 2929  se/issues/5277))
-000186a0: 0a2d 2046 6978 2061 2062 7567 2077 6865  .- Fix a bug whe
-000186b0: 7265 2069 7420 6973 206e 6f74 2070 6f73  re it is not pos
-000186c0: 7369 626c 6520 746f 2067 6574 2065 7665  sible to get eve
-000186d0: 6e74 7320 696e 2074 6865 2066 6564 6572  nts in the feder
-000186e0: 6174 696f 6e20 666f 726d 6174 2077 6974  ation format wit
-000186f0: 6820 7468 6520 7265 7175 6573 7420 6047  h the request `G
-00018700: 4554 202f 5f6d 6174 7269 782f 636c 6965  ET /_matrix/clie
-00018710: 6e74 2f72 302f 726f 6f6d 732f 7b72 6f6f  nt/r0/rooms/{roo
-00018720: 6d49 647d 2f6d 6573 7361 6765 7360 2e20  mId}/messages`. 
-00018730: 285b 5c23 3532 3933 5d28 6874 7470 733a  ([\#5293](https:
-00018740: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00018750: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00018760: 6973 7375 6573 2f35 3239 3329 290a 2d20  issues/5293)).- 
-00018770: 4669 7820 7065 7266 6f72 6d61 6e63 6520  Fix performance 
-00018780: 7072 6f62 6c65 6d73 2077 6974 6820 7468  problems with th
-00018790: 6520 726f 6f6d 7320 7374 6174 7320 6261  e rooms stats ba
-000187a0: 636b 6772 6f75 6e64 2075 7064 6174 652e  ckground update.
-000187b0: 2028 5b5c 2335 3239 345d 2868 7474 7073   ([\#5294](https
-000187c0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-000187d0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-000187e0: 2f69 7373 7565 732f 3532 3934 2929 0a2d  /issues/5294)).-
-000187f0: 2046 6978 206e 6f69 7379 2027 6e6f 206b   Fix noisy 'no k
-00018800: 6579 2066 6f72 2073 6572 7665 7227 206c  ey for server' l
-00018810: 6f67 732e 2028 5b5c 2335 3330 305d 2868  ogs. ([\#5300](h
-00018820: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00018830: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00018840: 6170 7365 2f69 7373 7565 732f 3533 3030  apse/issues/5300
-00018850: 2929 0a2d 2046 6978 2062 7567 2077 6865  )).- Fix bug whe
-00018860: 7265 2061 206e 6f74 6172 7920 7365 7276  re a notary serv
-00018870: 6572 2077 6f75 6c64 2073 6f6d 6574 696d  er would sometim
-00018880: 6573 2066 6f72 6765 7420 6f6c 6420 6b65  es forget old ke
-00018890: 7973 2e20 285b 5c23 3533 3037 5d28 6874  ys. ([\#5307](ht
-000188a0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-000188b0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-000188c0: 7073 652f 6973 7375 6573 2f35 3330 3729  pse/issues/5307)
-000188d0: 290a 2d20 5072 6576 656e 7420 7573 6572  ).- Prevent user
-000188e0: 7320 6672 6f6d 2073 6574 7469 6e67 2068  s from setting h
-000188f0: 7567 6520 6469 7370 6c61 796e 616d 6573  uge displaynames
-00018900: 2061 6e64 2061 7661 7461 7220 5552 4c73   and avatar URLs
-00018910: 2e20 285b 5c23 3533 3039 5d28 6874 7470  . ([\#5309](http
-00018920: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00018930: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00018940: 652f 6973 7375 6573 2f35 3330 3929 290a  e/issues/5309)).
-00018950: 2d20 4669 7820 6861 6e64 6c69 6e67 206f  - Fix handling o
-00018960: 6620 6661 696c 7572 6573 2077 6865 6e20  f failures when 
-00018970: 7072 6f63 6573 7369 6e67 2069 6e63 6f6d  processing incom
-00018980: 696e 6720 6576 656e 7473 2077 6865 7265  ing events where
-00018990: 2063 616c 6c69 6e67 2060 2f65 7665 6e74   calling `/event
-000189a0: 5f61 7574 6860 206f 6e20 7265 6d6f 7465  _auth` on remote
-000189b0: 2073 6572 7665 7220 6661 696c 732e 2028   server fails. (
-000189c0: 5b5c 2335 3331 375d 2868 7474 7073 3a2f  [\#5317](https:/
-000189d0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-000189e0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-000189f0: 7373 7565 732f 3533 3137 2929 0a2d 2045  ssues/5317)).- E
-00018a00: 6e73 7572 6520 7468 6174 2077 6520 6861  nsure that we ha
-00018a10: 7665 2061 6e20 7570 2d74 6f2d 6461 7465  ve an up-to-date
-00018a20: 2063 6f70 7920 6f66 2074 6865 2073 6967   copy of the sig
-00018a30: 6e69 6e67 206b 6579 2077 6865 6e20 7661  ning key when va
-00018a40: 6c69 6461 7469 6e67 2069 6e63 6f6d 696e  lidating incomin
-00018a50: 6720 6665 6465 7261 7469 6f6e 2072 6571  g federation req
-00018a60: 7565 7374 732e 2028 5b5c 2335 3332 315d  uests. ([\#5321]
-00018a70: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00018a80: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00018a90: 796e 6170 7365 2f69 7373 7565 732f 3533  ynapse/issues/53
-00018aa0: 3231 2929 0a2d 2046 6978 2076 6172 696f  21)).- Fix vario
-00018ab0: 7573 2070 726f 626c 656d 7320 7768 6963  us problems whic
-00018ac0: 6820 6d61 6465 2074 6865 2073 6967 6e69  h made the signi
-00018ad0: 6e67 2d6b 6579 206e 6f74 6172 7920 7365  ng-key notary se
-00018ae0: 7276 6572 2074 696d 6520 6f75 7420 666f  rver time out fo
-00018af0: 7220 736f 6d65 2072 6571 7565 7374 732e  r some requests.
-00018b00: 2028 5b5c 2335 3333 335d 2868 7474 7073   ([\#5333](https
-00018b10: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00018b20: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00018b30: 2f69 7373 7565 732f 3533 3333 2929 0a2d  /issues/5333)).-
-00018b40: 2046 6978 2062 7567 2077 6869 6368 2077   Fix bug which w
-00018b50: 6f75 6c64 206d 616b 6520 6365 7274 6169  ould make certai
-00018b60: 6e20 6f70 6572 6174 696f 6e73 2028 7375  n operations (su
-00018b70: 6368 2061 7320 726f 6f6d 206a 6f69 6e73  ch as room joins
-00018b80: 2920 626c 6f63 6b20 666f 7220 3230 206d  ) block for 20 m
-00018b90: 696e 7574 6573 2077 6869 6c65 2061 7474  inutes while att
-00018ba0: 656d 6f74 696e 6720 746f 2066 6574 6368  emoting to fetch
-00018bb0: 2076 6572 6966 6963 6174 696f 6e20 6b65   verification ke
-00018bc0: 7973 2e20 285b 5c23 3533 3334 5d28 6874  ys. ([\#5334](ht
-00018bd0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00018be0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00018bf0: 7073 652f 6973 7375 6573 2f35 3333 3429  pse/issues/5334)
-00018c00: 290a 2d20 4669 7820 6120 6275 6720 7768  ).- Fix a bug wh
-00018c10: 6572 6520 7765 2063 6f75 6c64 2072 6170  ere we could rap
-00018c20: 6964 6c79 206d 6172 6b20 6120 7365 7276  idly mark a serv
-00018c30: 6572 2061 7320 756e 7265 6163 6861 626c  er as unreachabl
-00018c40: 6520 6576 656e 2074 686f 7567 6820 6974  e even though it
-00018c50: 2077 6173 206f 6e6c 7920 646f 776e 2066   was only down f
-00018c60: 6f72 2061 2066 6577 206d 696e 7574 6573  or a few minutes
-00018c70: 2e20 285b 5c23 3533 3335 5d28 6874 7470  . ([\#5335](http
-00018c80: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00018c90: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00018ca0: 652f 6973 7375 6573 2f35 3333 3529 2c20  e/issues/5335), 
-00018cb0: 5b5c 2335 3334 305d 2868 7474 7073 3a2f  [\#5340](https:/
-00018cc0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00018cd0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00018ce0: 7373 7565 732f 3533 3430 2929 0a2d 2046  ssues/5340)).- F
-00018cf0: 6978 2061 2062 7567 2077 6865 7265 2061  ix a bug where a
-00018d00: 6363 6f75 6e74 2076 616c 6964 6974 7920  ccount validity 
-00018d10: 7265 6e65 7761 6c20 656d 6169 6c73 2063  renewal emails c
-00018d20: 6f75 6c64 206f 6e6c 7920 6265 2073 656e  ould only be sen
-00018d30: 7420 7768 656e 2065 6d61 696c 206e 6f74  t when email not
-00018d40: 6966 7320 7765 7265 2065 6e61 626c 6564  ifs were enabled
-00018d50: 2e20 285b 5c23 3533 3431 5d28 6874 7470  . ([\#5341](http
-00018d60: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00018d70: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00018d80: 652f 6973 7375 6573 2f35 3334 3129 290a  e/issues/5341)).
-00018d90: 2d20 4669 7820 6661 696c 7572 6520 7768  - Fix failure wh
-00018da0: 656e 2066 6574 6368 696e 6720 6261 7463  en fetching batc
-00018db0: 6865 7320 6f66 2065 7665 6e74 7320 6475  hes of events du
-00018dc0: 7269 6e67 2062 6163 6b66 696c 6c2c 2065  ring backfill, e
-00018dd0: 7463 2e20 285b 5c23 3533 3432 5d28 6874  tc. ([\#5342](ht
-00018de0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00018df0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00018e00: 7073 652f 6973 7375 6573 2f35 3334 3229  pse/issues/5342)
-00018e10: 290a 2d20 4164 6420 6120 6e65 7720 726f  ).- Add a new ro
-00018e20: 6f6d 2076 6572 7369 6f6e 2077 6865 7265  om version where
-00018e30: 2074 6865 2074 696d 6573 7461 6d70 7320   the timestamps 
-00018e40: 6f6e 2065 7665 6e74 7320 6172 6520 6368  on events are ch
-00018e50: 6563 6b65 6420 6167 6169 6e73 7420 7468  ecked against th
-00018e60: 6520 7661 6c69 6469 7479 2070 6572 696f  e validity perio
-00018e70: 6473 206f 6e20 7369 676e 696e 6720 6b65  ds on signing ke
-00018e80: 7973 2e20 285b 5c23 3533 3438 5d28 6874  ys. ([\#5348](ht
-00018e90: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00018ea0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00018eb0: 7073 652f 6973 7375 6573 2f35 3334 3829  pse/issues/5348)
-00018ec0: 2c20 5b5c 2335 3335 345d 2868 7474 7073  , [\#5354](https
-00018ed0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00018ee0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00018ef0: 2f69 7373 7565 732f 3533 3534 2929 0a2d  /issues/5354)).-
-00018f00: 2046 6978 2072 6f6f 6d20 7374 6174 7320   Fix room stats 
-00018f10: 616e 6420 7072 6573 656e 6365 2062 6163  and presence bac
-00018f20: 6b67 726f 756e 6420 7570 6461 7465 7320  kground updates 
-00018f30: 746f 2063 6f72 7265 6374 6c79 2068 616e  to correctly han
-00018f40: 646c 6520 6d69 7373 696e 6720 6576 656e  dle missing even
-00018f50: 7473 2e20 285b 5c23 3533 3532 5d28 6874  ts. ([\#5352](ht
-00018f60: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00018f70: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00018f80: 7073 652f 6973 7375 6573 2f35 3335 3229  pse/issues/5352)
-00018f90: 290a 2d20 496e 636c 7564 6520 6c65 6674  ).- Include left
-00018fa0: 206d 656d 6265 7273 2069 6e20 726f 6f6d   members in room
-00018fb0: 2073 756d 6d61 7269 6573 2720 6865 726f   summaries' hero
-00018fc0: 6573 2e20 285b 5c23 3533 3535 5d28 6874  es. ([\#5355](ht
-00018fd0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00018fe0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00018ff0: 7073 652f 6973 7375 6573 2f35 3335 3529  pse/issues/5355)
-00019000: 290a 2d20 4669 7820 6066 6564 6572 6174  ).- Fix `federat
-00019010: 696f 6e5f 6375 7374 6f6d 5f63 615f 6c69  ion_custom_ca_li
-00019020: 7374 6020 636f 6e66 6967 7572 6174 696f  st` configuratio
-00019030: 6e20 6f70 7469 6f6e 2e20 285b 5c23 3533  n option. ([\#53
-00019040: 3632 5d28 6874 7470 733a 2f2f 6769 7468  62](https://gith
-00019050: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00019060: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00019070: 2f35 3336 3229 290a 2d20 4669 7820 6d69  /5362)).- Fix mi
-00019080: 7373 696e 6720 6c6f 6763 6f6e 7465 7874  ssing logcontext
-00019090: 2077 6172 6e69 6e67 7320 6f6e 2073 6875   warnings on shu
-000190a0: 7464 6f77 6e2e 2028 5b5c 2335 3336 395d  tdown. ([\#5369]
-000190b0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-000190c0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-000190d0: 796e 6170 7365 2f69 7373 7565 732f 3533  ynapse/issues/53
-000190e0: 3639 2929 0a0a 0a49 6d70 726f 7665 6420  69))...Improved 
-000190f0: 446f 6375 6d65 6e74 6174 696f 6e0a 2d2d  Documentation.--
-00019100: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00019110: 2d2d 2d2d 0a0a 2d20 4669 7820 646f 6373  ----..- Fix docs
-00019120: 206f 6e20 7265 7365 7474 696e 6720 7468   on resetting th
-00019130: 6520 7573 6572 2064 6972 6563 746f 7279  e user directory
-00019140: 2e20 285b 5c23 3532 3832 5d28 6874 7470  . ([\#5282](http
-00019150: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00019160: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00019170: 652f 6973 7375 6573 2f35 3238 3229 290a  e/issues/5282)).
-00019180: 2d20 4669 7820 6e6f 7465 7320 6162 6f75  - Fix notes abou
-00019190: 7420 4143 4d45 2069 6e20 7468 6520 4d53  t ACME in the MS
-000191a0: 4331 3731 3120 6661 712e 2028 5b5c 2335  C1711 faq. ([\#5
-000191b0: 3335 375d 2868 7474 7073 3a2f 2f67 6974  357](https://git
-000191c0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-000191d0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-000191e0: 732f 3533 3537 2929 0a0a 0a49 6e74 6572  s/5357))...Inter
-000191f0: 6e61 6c20 4368 616e 6765 730a 2d2d 2d2d  nal Changes.----
-00019200: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 0a0a 2d20  ------------..- 
-00019210: 5379 6e61 7073 6520 7769 6c6c 206e 6f77  Synapse will now
-00019220: 2073 6572 7665 2074 6865 2065 7870 6572   serve the exper
-00019230: 696d 656e 7461 6c20 2272 6f6f 6d20 636f  imental "room co
-00019240: 6d70 6c65 7869 7479 2220 4150 4920 656e  mplexity" API en
-00019250: 6470 6f69 6e74 2e20 285b 5c23 3532 3136  dpoint. ([\#5216
-00019260: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00019270: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00019280: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
-00019290: 3231 3629 290a 2d20 5468 6520 6261 7365  216)).- The base
-000192a0: 2063 6c61 7373 6573 2066 6f72 2074 6865   classes for the
-000192b0: 2076 3120 616e 6420 7632 5f61 6c70 6861   v1 and v2_alpha
-000192c0: 2052 4553 5420 4150 4973 2068 6176 6520   REST APIs have 
-000192d0: 6265 656e 2075 6e69 6669 6564 2e20 285b  been unified. ([
-000192e0: 5c23 3532 3236 5d28 6874 7470 733a 2f2f  \#5226](https://
-000192f0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-00019300: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00019310: 7375 6573 2f35 3232 3629 2c20 5b5c 2335  sues/5226), [\#5
-00019320: 3332 385d 2868 7474 7073 3a2f 2f67 6974  328](https://git
-00019330: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-00019340: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-00019350: 732f 3533 3238 2929 0a2d 2053 696d 706c  s/5328)).- Simpl
-00019360: 6966 6963 6174 696f 6e73 2061 6e64 2063  ifications and c
-00019370: 6f6d 6d65 6e74 7320 696e 2064 6f5f 6175  omments in do_au
-00019380: 7468 2e20 285b 5c23 3532 3237 5d28 6874  th. ([\#5227](ht
-00019390: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-000193a0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-000193b0: 7073 652f 6973 7375 6573 2f35 3232 3729  pse/issues/5227)
-000193c0: 290a 2d20 5265 6d6f 7665 2075 726c 6c69  ).- Remove urlli
-000193d0: 6233 2070 696e 2061 7320 7265 7175 6573  b3 pin as reques
-000193e0: 7473 2032 2e32 322e 3020 6861 7320 6265  ts 2.22.0 has be
-000193f0: 656e 2072 656c 6561 7365 6420 7375 7070  en released supp
-00019400: 6f72 7469 6e67 2075 726c 6c69 6233 2031  orting urllib3 1
-00019410: 2e32 352e 322e 2028 5b5c 2335 3233 305d  .25.2. ([\#5230]
-00019420: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00019430: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00019440: 796e 6170 7365 2f69 7373 7565 732f 3532  ynapse/issues/52
-00019450: 3330 2929 0a2d 2050 7265 7061 7261 746f  30)).- Preparato
-00019460: 7279 2077 6f72 6b20 666f 7220 6b65 792d  ry work for key-
-00019470: 7661 6c69 6469 7479 2066 6561 7475 7265  validity feature
-00019480: 732e 2028 5b5c 2335 3233 325d 2868 7474  s. ([\#5232](htt
-00019490: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-000194a0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-000194b0: 7365 2f69 7373 7565 732f 3532 3332 292c  se/issues/5232),
-000194c0: 205b 5c23 3532 3334 5d28 6874 7470 733a   [\#5234](https:
-000194d0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-000194e0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-000194f0: 6973 7375 6573 2f35 3233 3429 2c20 5b5c  issues/5234), [\
-00019500: 2335 3233 355d 2868 7474 7073 3a2f 2f67  #5235](https://g
-00019510: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-00019520: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-00019530: 7565 732f 3532 3335 292c 205b 5c23 3532  ues/5235), [\#52
-00019540: 3336 5d28 6874 7470 733a 2f2f 6769 7468  36](https://gith
-00019550: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00019560: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00019570: 2f35 3233 3629 2c20 5b5c 2335 3233 375d  /5236), [\#5237]
-00019580: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00019590: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-000195a0: 796e 6170 7365 2f69 7373 7565 732f 3532  ynapse/issues/52
-000195b0: 3337 292c 205b 5c23 3532 3434 5d28 6874  37), [\#5244](ht
-000195c0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-000195d0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-000195e0: 7073 652f 6973 7375 6573 2f35 3234 3429  pse/issues/5244)
-000195f0: 2c20 5b5c 2335 3235 305d 2868 7474 7073  , [\#5250](https
-00019600: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00019610: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00019620: 2f69 7373 7565 732f 3532 3530 292c 205b  /issues/5250), [
-00019630: 5c23 3532 3936 5d28 6874 7470 733a 2f2f  \#5296](https://
-00019640: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-00019650: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00019660: 7375 6573 2f35 3239 3629 2c20 5b5c 2335  sues/5296), [\#5
-00019670: 3239 395d 2868 7474 7073 3a2f 2f67 6974  299](https://git
-00019680: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-00019690: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-000196a0: 732f 3532 3939 292c 205b 5c23 3533 3433  s/5299), [\#5343
-000196b0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-000196c0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-000196d0: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
-000196e0: 3334 3329 2c20 5b5c 2335 3334 375d 2868  343), [\#5347](h
-000196f0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00019700: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00019710: 6170 7365 2f69 7373 7565 732f 3533 3437  apse/issues/5347
-00019720: 292c 205b 5c23 3533 3536 5d28 6874 7470  ), [\#5356](http
-00019730: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00019740: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00019750: 652f 6973 7375 6573 2f35 3335 3629 290a  e/issues/5356)).
-00019760: 2d20 5370 6563 6966 7920 7468 6520 7479  - Specify the ty
-00019770: 7065 206f 6620 7265 4341 5054 4348 4120  pe of reCAPTCHA 
-00019780: 6b65 7920 746f 2075 7365 2e20 285b 5c23  key to use. ([\#
-00019790: 3532 3833 5d28 6874 7470 733a 2f2f 6769  5283](https://gi
-000197a0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-000197b0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-000197c0: 6573 2f35 3238 3329 290a 2d20 496d 7072  es/5283)).- Impr
-000197d0: 6f76 6520 7361 6d70 6c65 2063 6f6e 6669  ove sample confi
-000197e0: 6720 666f 7220 6d6f 6e74 686c 7920 6163  g for monthly ac
-000197f0: 7469 7665 2075 7365 7220 626c 6f63 6b69  tive user blocki
-00019800: 6e67 2e20 285b 5c23 3532 3834 5d28 6874  ng. ([\#5284](ht
-00019810: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00019820: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00019830: 7073 652f 6973 7375 6573 2f35 3238 3429  pse/issues/5284)
-00019840: 290a 2d20 5265 6d6f 7665 2073 7075 7269  ).- Remove spuri
-00019850: 6f75 7320 6465 6275 6720 6672 6f6d 204d  ous debug from M
-00019860: 6174 7269 7846 6564 6572 6174 696f 6e48  atrixFederationH
-00019870: 7474 7043 6c69 656e 742e 6765 745f 6a73  ttpClient.get_js
-00019880: 6f6e 2e20 285b 5c23 3532 3837 5d28 6874  on. ([\#5287](ht
-00019890: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-000198a0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-000198b0: 7073 652f 6973 7375 6573 2f35 3238 3729  pse/issues/5287)
-000198c0: 290a 2d20 496d 7072 6f76 6520 6c6f 6767  ).- Improve logg
-000198d0: 696e 6720 666f 7220 6c6f 6763 6f6e 7465  ing for logconte
-000198e0: 7874 206c 6561 6b73 2e20 285b 5c23 3532  xt leaks. ([\#52
-000198f0: 3838 5d28 6874 7470 733a 2f2f 6769 7468  88](https://gith
-00019900: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00019910: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00019920: 2f35 3238 3829 290a 2d20 436c 6172 6966  /5288)).- Clarif
-00019930: 7920 7468 6174 2074 6865 2061 646d 696e  y that the admin
-00019940: 2063 6861 6e67 6520 7061 7373 776f 7264   change password
-00019950: 2041 5049 206c 6f67 7320 7468 6520 7573   API logs the us
-00019960: 6572 206f 7574 2e20 285b 5c23 3533 3033  er out. ([\#5303
-00019970: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00019980: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00019990: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
-000199a0: 3330 3329 290a 2d20 4e65 7720 696e 7374  303)).- New inst
-000199b0: 616c 6c73 2077 696c 6c20 6e6f 7720 7573  alls will now us
-000199c0: 6520 7468 6520 7635 3420 6675 6c6c 2073  e the v54 full s
-000199d0: 6368 656d 612c 2072 6174 6865 7220 7468  chema, rather th
-000199e0: 616e 2074 6865 2066 756c 6c20 7363 6865  an the full sche
-000199f0: 6d61 2076 3134 2061 6e64 2061 7070 6c79  ma v14 and apply
-00019a00: 696e 6720 696e 6372 656d 656e 7461 6c20  ing incremental 
-00019a10: 7570 6461 7465 7320 746f 2076 3534 2e20  updates to v54. 
-00019a20: 285b 5c23 3533 3230 5d28 6874 7470 733a  ([\#5320](https:
-00019a30: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00019a40: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00019a50: 6973 7375 6573 2f35 3332 3029 290a 2d20  issues/5320)).- 
-00019a60: 496d 7072 6f76 6520 646f 6373 7472 696e  Improve docstrin
-00019a70: 6773 206f 6e20 4d61 7472 6978 4665 6465  gs on MatrixFede
-00019a80: 7261 7469 6f6e 436c 6965 6e74 2e20 285b  rationClient. ([
-00019a90: 5c23 3533 3332 5d28 6874 7470 733a 2f2f  \#5332](https://
-00019aa0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-00019ab0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00019ac0: 7375 6573 2f35 3333 3229 290a 2d20 436c  sues/5332)).- Cl
-00019ad0: 6561 6e20 7570 2046 6564 6572 6174 696f  ean up Federatio
-00019ae0: 6e43 6c69 656e 742e 6765 745f 6576 656e  nClient.get_even
-00019af0: 7473 2066 6f72 2063 6c61 7269 7479 2e20  ts for clarity. 
-00019b00: 285b 5c23 3533 3434 5d28 6874 7470 733a  ([\#5344](https:
-00019b10: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00019b20: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00019b30: 6973 7375 6573 2f35 3334 3429 290a 2d20  issues/5344)).- 
-00019b40: 5661 7269 6f75 7320 696d 7072 6f76 656d  Various improvem
-00019b50: 656e 7473 2074 6f20 6465 6275 6720 6c6f  ents to debug lo
-00019b60: 6767 696e 672e 2028 5b5c 2335 3335 335d  gging. ([\#5353]
-00019b70: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00019b80: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00019b90: 796e 6170 7365 2f69 7373 7565 732f 3533  ynapse/issues/53
-00019ba0: 3533 2929 0a2d 2044 6f6e 2774 2072 756e  53)).- Don't run
-00019bb0: 2043 4920 6275 696c 6420 6368 6563 6b73   CI build checks
-00019bc0: 2075 6e74 696c 2073 616d 706c 6520 636f   until sample co
-00019bd0: 6e66 6967 2063 6865 636b 2068 6173 2070  nfig check has p
-00019be0: 6173 7365 642e 2028 5b5c 2335 3337 305d  assed. ([\#5370]
-00019bf0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00019c00: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00019c10: 796e 6170 7365 2f69 7373 7565 732f 3533  ynapse/issues/53
-00019c20: 3730 2929 0a2d 2041 7574 6f6d 6174 6963  70)).- Automatic
-00019c30: 616c 6c79 2072 6574 7279 2062 7569 6c64  ally retry build
-00019c40: 6b69 7465 2062 7569 6c64 7320 286d 6178  kite builds (max
-00019c50: 2074 7769 6365 2920 7768 656e 2061 6e20   twice) when an 
-00019c60: 6167 656e 7420 6973 206c 6f73 742e 2028  agent is lost. (
-00019c70: 5b5c 2335 3338 305d 2868 7474 7073 3a2f  [\#5380](https:/
-00019c80: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00019c90: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00019ca0: 7373 7565 732f 3533 3830 2929 0a0a 0a53  ssues/5380))...S
-00019cb0: 796e 6170 7365 2030 2e39 392e 352e 3220  ynapse 0.99.5.2 
-00019cc0: 2832 3031 392d 3035 2d33 3029 0a3d 3d3d  (2019-05-30).===
-00019cd0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00019ce0: 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 4275 6766  ==========..Bugf
-00019cf0: 6978 6573 0a2d 2d2d 2d2d 2d2d 2d0a 0a2d  ixes.--------..-
-00019d00: 2046 6978 2062 7567 2077 6865 7265 2077   Fix bug where w
-00019d10: 6520 6c65 616b 6564 2065 7874 7265 6d69  e leaked extremi
-00019d20: 7469 6573 2077 6865 6e20 7765 2073 6f66  ties when we sof
-00019d30: 7420 6661 696c 6564 2065 7665 6e74 732c  t failed events,
-00019d40: 206c 6561 6469 6e67 2074 6f20 7065 7266   leading to perf
-00019d50: 6f72 6d61 6e63 6520 6465 6772 6164 6174  ormance degradat
-00019d60: 696f 6e2e 2028 5b5c 2335 3237 345d 2868  ion. ([\#5274](h
-00019d70: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00019d80: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00019d90: 6170 7365 2f69 7373 7565 732f 3532 3734  apse/issues/5274
-00019da0: 292c 205b 5c23 3532 3738 5d28 6874 7470  ), [\#5278](http
-00019db0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00019dc0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00019dd0: 652f 6973 7375 6573 2f35 3237 3829 2c20  e/issues/5278), 
-00019de0: 5b5c 2335 3239 315d 2868 7474 7073 3a2f  [\#5291](https:/
-00019df0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00019e00: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00019e10: 7373 7565 732f 3532 3931 2929 0a0a 0a53  ssues/5291))...S
-00019e20: 796e 6170 7365 2030 2e39 392e 352e 3120  ynapse 0.99.5.1 
-00019e30: 2832 3031 392d 3035 2d32 3229 0a3d 3d3d  (2019-05-22).===
-00019e40: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00019e50: 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 302e 3939  ==========..0.99
-00019e60: 2e35 2e31 2073 7570 6572 7365 6465 7320  .5.1 supersedes 
-00019e70: 302e 3939 2e35 2064 7565 2074 6f20 6d61  0.99.5 due to ma
-00019e80: 6c66 6f72 6d65 6420 6465 6269 616e 2063  lformed debian c
-00019e90: 6861 6e67 656c 6f67 202d 206e 6f20 6675  hangelog - no fu
-00019ea0: 6e63 7469 6f6e 616c 2063 6861 6e67 6573  nctional changes
-00019eb0: 2e0a 0a53 796e 6170 7365 2030 2e39 392e  ...Synapse 0.99.
-00019ec0: 3520 2832 3031 392d 3035 2d32 3229 0a3d  5 (2019-05-22).=
-00019ed0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00019ee0: 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 4e6f 2073  ==========..No s
-00019ef0: 6967 6e69 6669 6361 6e74 2063 6861 6e67  ignificant chang
-00019f00: 6573 2e0a 0a0a 5379 6e61 7073 6520 302e  es....Synapse 0.
-00019f10: 3939 2e35 7263 3120 2832 3031 392d 3035  99.5rc1 (2019-05
-00019f20: 2d32 3129 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d  -21).===========
-00019f30: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00019f40: 3d3d 3d0a 0a46 6561 7475 7265 730a 2d2d  ===..Features.--
-00019f50: 2d2d 2d2d 2d2d 0a0a 2d20 4164 6420 6162  ------..- Add ab
-00019f60: 696c 6974 7920 746f 2062 6c61 636b 6c69  ility to blackli
-00019f70: 7374 2049 5020 7261 6e67 6573 2066 6f72  st IP ranges for
-00019f80: 2074 6865 2066 6564 6572 6174 696f 6e20   the federation 
-00019f90: 636c 6965 6e74 2e20 285b 5c23 3530 3433  client. ([\#5043
-00019fa0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00019fb0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00019fc0: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
-00019fd0: 3034 3329 290a 2d20 5261 7465 6c69 6d69  043)).- Ratelimi
-00019fe0: 7469 6e67 2063 6f6e 6669 6775 7261 7469  ting configurati
-00019ff0: 6f6e 2066 6f72 2063 6c69 656e 7473 2073  on for clients s
-0001a000: 656e 6469 6e67 206d 6573 7361 6765 7320  ending messages 
-0001a010: 616e 6420 7468 6520 6665 6465 7261 7469  and the federati
-0001a020: 6f6e 2073 6572 7665 7220 6861 7320 6265  on server has be
-0001a030: 656e 2061 6c74 6572 6564 2074 6f20 6d61  en altered to ma
-0001a040: 7463 6820 6c6f 6769 6e20 7261 7465 6c69  tch login rateli
-0001a050: 6d69 7469 6e67 2e20 5468 6520 6f6c 6420  miting. The old 
-0001a060: 636f 6e66 6967 7572 6174 696f 6e20 6e61  configuration na
-0001a070: 6d65 7320 7769 6c6c 2063 6f6e 7469 6e75  mes will continu
-0001a080: 6520 776f 726b 696e 672e 2043 6865 636b  e working. Check
-0001a090: 2074 6865 2073 616d 706c 6520 636f 6e66   the sample conf
-0001a0a0: 6967 2066 6f72 2064 6574 6169 6c73 206f  ig for details o
-0001a0b0: 6620 7468 6520 6e65 7720 6e61 6d65 732e  f the new names.
-0001a0c0: 2028 5b5c 2335 3138 315d 2868 7474 7073   ([\#5181](https
-0001a0d0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-0001a0e0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-0001a0f0: 2f69 7373 7565 732f 3531 3831 2929 0a2d  /issues/5181)).-
-0001a100: 2044 726f 7020 7375 7070 6f72 7420 666f   Drop support fo
-0001a110: 7220 7468 6520 756e 646f 6375 6d65 6e74  r the undocument
-0001a120: 6564 202f 5f6d 6174 7269 782f 636c 6965  ed /_matrix/clie
-0001a130: 6e74 2f76 325f 616c 7068 6120 4150 4920  nt/v2_alpha API 
-0001a140: 7072 6566 6978 2e20 285b 5c23 3531 3930  prefix. ([\#5190
-0001a150: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0001a160: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-0001a170: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
-0001a180: 3139 3029 290a 2d20 4164 6420 616e 206f  190)).- Add an o
-0001a190: 7074 696f 6e20 746f 2064 6973 6162 6c65  ption to disable
-0001a1a0: 2070 6572 2d72 6f6f 6d20 7072 6f66 696c   per-room profil
-0001a1b0: 6573 2e20 285b 5c23 3531 3936 5d28 6874  es. ([\#5196](ht
-0001a1c0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0001a1d0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-0001a1e0: 7073 652f 6973 7375 6573 2f35 3139 3629  pse/issues/5196)
-0001a1f0: 290a 2d20 5374 6963 6b20 616e 2065 7870  ).- Stick an exp
-0001a200: 6972 6174 696f 6e20 6461 7465 2074 6f20  iration date to 
-0001a210: 616e 7920 7265 6769 7374 6572 6564 2075  any registered u
-0001a220: 7365 7220 6d69 7373 696e 6720 6f6e 6520  ser missing one 
-0001a230: 6174 2073 7461 7274 7570 2069 6620 6163  at startup if ac
-0001a240: 636f 756e 7420 7661 6c69 6469 7479 2069  count validity i
-0001a250: 7320 656e 6162 6c65 642e 2028 5b5c 2335  s enabled. ([\#5
-0001a260: 3230 345d 2868 7474 7073 3a2f 2f67 6974  204](https://git
-0001a270: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-0001a280: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-0001a290: 732f 3532 3034 2929 0a2d 2041 6464 2065  s/5204)).- Add e
-0001a2a0: 7870 6572 696d 656e 7461 6c20 7375 7070  xperimental supp
-0001a2b0: 6f72 7420 666f 7220 7265 6c61 7469 6f6e  ort for relation
-0001a2c0: 7320 2861 6b61 2072 6561 6374 696f 6e73  s (aka reactions
-0001a2d0: 2061 6e64 2065 6469 7473 292e 2028 5b5c   and edits). ([\
-0001a2e0: 2335 3230 395d 2868 7474 7073 3a2f 2f67  #5209](https://g
-0001a2f0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-0001a300: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-0001a310: 7565 732f 3532 3039 292c 205b 5c23 3532  ues/5209), [\#52
-0001a320: 3131 5d28 6874 7470 733a 2f2f 6769 7468  11](https://gith
-0001a330: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-0001a340: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-0001a350: 2f35 3231 3129 2c20 5b5c 2335 3230 335d  /5211), [\#5203]
-0001a360: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0001a370: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-0001a380: 796e 6170 7365 2f69 7373 7565 732f 3532  ynapse/issues/52
-0001a390: 3033 292c 205b 5c23 3532 3132 5d28 6874  03), [\#5212](ht
-0001a3a0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0001a3b0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-0001a3c0: 7073 652f 6973 7375 6573 2f35 3231 3229  pse/issues/5212)
-0001a3d0: 290a 2d20 4164 6420 6120 726f 6f6d 2076  ).- Add a room v
-0001a3e0: 6572 7369 6f6e 2034 2077 6869 6368 2075  ersion 4 which u
-0001a3f0: 7365 7320 6120 6e65 7720 6576 656e 7420  ses a new event 
-0001a400: 4944 2066 6f72 6d61 742c 2061 7320 7065  ID format, as pe
-0001a410: 7220 5b4d 5343 3230 3032 5d28 6874 7470  r [MSC2002](http
-0001a420: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-0001a430: 6174 7269 782d 6f72 672f 6d61 7472 6978  atrix-org/matrix
-0001a440: 2d64 6f63 2f70 756c 6c2f 3230 3032 292e  -doc/pull/2002).
-0001a450: 2028 5b5c 2335 3231 305d 2868 7474 7073   ([\#5210](https
-0001a460: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-0001a470: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-0001a480: 2f69 7373 7565 732f 3532 3130 292c 205b  /issues/5210), [
-0001a490: 5c23 3532 3137 5d28 6874 7470 733a 2f2f  \#5217](https://
-0001a4a0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-0001a4b0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-0001a4c0: 7375 6573 2f35 3231 3729 290a 0a0a 4275  sues/5217))...Bu
-0001a4d0: 6766 6978 6573 0a2d 2d2d 2d2d 2d2d 2d0a  gfixes.--------.
-0001a4e0: 0a2d 2046 6978 2069 6d61 6765 206f 7269  .- Fix image ori
-0001a4f0: 656e 7461 7469 6f6e 2077 6865 6e20 6765  entation when ge
-0001a500: 6e65 7261 7469 6e67 2074 6875 6d62 6e61  nerating thumbna
-0001a510: 696c 7320 286e 6565 6473 2070 696c 6c6f  ils (needs pillo
-0001a520: 773e 3d34 2e33 2e30 292e 2043 6f6e 7472  w>=4.3.0). Contr
-0001a530: 6962 7574 6564 2062 7920 5061 7520 526f  ibuted by Pau Ro
-0001a540: 6472 6967 7565 7a2d 4573 7469 7669 6c6c  driguez-Estivill
-0001a550: 2e20 285b 5c23 3530 3339 5d28 6874 7470  . ([\#5039](http
-0001a560: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-0001a570: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-0001a580: 652f 6973 7375 6573 2f35 3033 3929 290a  e/issues/5039)).
-0001a590: 2d20 4578 636c 7564 6520 736f 6674 2d66  - Exclude soft-f
-0001a5a0: 6169 6c65 6420 6576 656e 7473 2066 726f  ailed events fro
-0001a5b0: 6d20 666f 7277 6172 642d 6578 7472 656d  m forward-extrem
-0001a5c0: 6974 7920 6361 6e64 6964 6174 6573 3a20  ity candidates: 
-0001a5d0: 6669 7865 7320 224e 6f20 666f 7277 6172  fixes "No forwar
-0001a5e0: 6420 6578 7472 656d 6974 6965 7320 6c65  d extremities le
-0001a5f0: 6674 2122 2065 7272 6f72 2e20 285b 5c23  ft!" error. ([\#
-0001a600: 3531 3436 5d28 6874 7470 733a 2f2f 6769  5146](https://gi
-0001a610: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-0001a620: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-0001a630: 6573 2f35 3134 3629 290a 2d20 5265 2d6f  es/5146)).- Re-o
-0001a640: 7264 6572 2073 7461 6765 7320 696e 2072  rder stages in r
-0001a650: 6567 6973 7472 6174 696f 6e20 666c 6f77  egistration flow
-0001a660: 7320 7375 6368 2074 6861 7420 6d73 6973  s such that msis
-0001a670: 646e 2061 6e64 2065 6d61 696c 2076 6572  dn and email ver
-0001a680: 6966 6963 6174 696f 6e20 6172 6520 646f  ification are do
-0001a690: 6e65 206c 6173 742e 2028 5b5c 2335 3137  ne last. ([\#517
-0001a6a0: 345d 2868 7474 7073 3a2f 2f67 6974 6875  4](https://githu
-0001a6b0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-0001a6c0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-0001a6d0: 3531 3734 2929 0a2d 2046 6978 2033 7069  5174)).- Fix 3pi
-0001a6e0: 6420 6775 6573 7420 696e 7669 7465 732e  d guest invites.
-0001a6f0: 2028 5b5c 2335 3137 375d 2868 7474 7073   ([\#5177](https
-0001a700: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-0001a710: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-0001a720: 2f69 7373 7565 732f 3531 3737 2929 0a2d  /issues/5177)).-
-0001a730: 2046 6978 2061 2062 7567 2077 6865 7265   Fix a bug where
-0001a740: 2074 6865 2072 6567 6973 7465 7220 656e   the register en
-0001a750: 6470 6f69 6e74 2077 6f75 6c64 2066 6169  dpoint would fai
-0001a760: 6c20 7769 7468 204d 5f54 4852 4545 5049  l with M_THREEPI
-0001a770: 445f 494e 5f55 5345 2069 6e73 7465 6164  D_IN_USE instead
-0001a780: 206f 6620 7265 7475 726e 696e 6720 616e   of returning an
-0001a790: 2061 6363 6f75 6e74 2070 7265 7669 6f75   account previou
-0001a7a0: 736c 7920 7265 6769 7374 6572 6564 2069  sly registered i
-0001a7b0: 6e20 7468 6520 7361 6d65 2073 6573 7369  n the same sessi
-0001a7c0: 6f6e 2e20 285b 5c23 3531 3837 5d28 6874  on. ([\#5187](ht
-0001a7d0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0001a7e0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-0001a7f0: 7073 652f 6973 7375 6573 2f35 3138 3729  pse/issues/5187)
-0001a800: 290a 2d20 5072 6576 656e 7420 7265 6769  ).- Prevent regi
-0001a810: 7374 7261 7469 6f6e 2066 6f72 2075 7365  stration for use
-0001a820: 7220 6964 7320 7468 6174 2061 7265 2074  r ids that are t
-0001a830: 6f6f 206c 6f6e 6720 746f 2066 6974 2069  oo long to fit i
-0001a840: 6e74 6f20 6120 7374 6174 6520 6b65 792e  nto a state key.
-0001a850: 2043 6f6e 7472 6962 7574 6564 2062 7920   Contributed by 
-0001a860: 5265 6964 2041 6e64 6572 736f 6e2e 2028  Reid Anderson. (
-0001a870: 5b5c 2335 3139 385d 2868 7474 7073 3a2f  [\#5198](https:/
-0001a880: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-0001a890: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-0001a8a0: 7373 7565 732f 3531 3938 2929 0a2d 2046  ssues/5198)).- F
-0001a8b0: 6978 2069 6e63 6f6d 7061 7469 6269 6c69  ix incompatibili
-0001a8c0: 7479 2062 6574 7765 656e 2041 434d 4520  ty between ACME 
-0001a8d0: 7375 7070 6f72 7420 616e 6420 5079 7468  support and Pyth
-0001a8e0: 6f6e 2033 2e35 2e32 2e20 285b 5c23 3532  on 3.5.2. ([\#52
-0001a8f0: 3138 5d28 6874 7470 733a 2f2f 6769 7468  18](https://gith
-0001a900: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-0001a910: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-0001a920: 2f35 3231 3829 290a 2d20 4669 7820 6572  /5218)).- Fix er
-0001a930: 726f 7220 6861 6e64 6c69 6e67 2066 6f72  ror handling for
-0001a940: 2072 6f6f 6d73 2077 686f 7365 2076 6572   rooms whose ver
-0001a950: 7369 6f6e 7320 6172 6520 756e 6b6e 6f77  sions are unknow
-0001a960: 6e2e 2028 5b5c 2335 3231 395d 2868 7474  n. ([\#5219](htt
-0001a970: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-0001a980: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-0001a990: 7365 2f69 7373 7565 732f 3532 3139 2929  se/issues/5219))
-0001a9a0: 0a0a 0a49 6e74 6572 6e61 6c20 4368 616e  ...Internal Chan
-0001a9b0: 6765 730a 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ges.------------
-0001a9c0: 2d2d 2d2d 0a0a 2d20 4d61 6b65 202f 7379  ----..- Make /sy
-0001a9d0: 6e63 2061 7474 656d 7074 2074 6f20 7265  nc attempt to re
-0001a9e0: 7475 726e 2064 6576 6963 6520 7570 6461  turn device upda
-0001a9f0: 7465 7320 666f 7220 626f 7468 206a 6f69  tes for both joi
-0001aa00: 6e65 6420 616e 6420 696e 7669 7465 6420  ned and invited 
-0001aa10: 7573 6572 732e 204e 6f74 6520 7468 6174  users. Note that
-0001aa20: 2074 6869 7320 646f 6573 6e27 7420 6375   this doesn't cu
-0001aa30: 7272 656e 746c 7920 776f 726b 2063 6f72  rrently work cor
-0001aa40: 7265 6374 6c79 2064 7565 2074 6f20 6f74  rectly due to ot
-0001aa50: 6865 7220 6275 6773 2e20 285b 5c23 3334  her bugs. ([\#34
-0001aa60: 3834 5d28 6874 7470 733a 2f2f 6769 7468  84](https://gith
-0001aa70: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-0001aa80: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-0001aa90: 2f33 3438 3429 290a 2d20 5570 6461 7465  /3484)).- Update
-0001aaa0: 2074 6573 7473 2074 6f20 636f 6e73 6973   tests to consis
-0001aab0: 7465 6e74 6c79 2062 6520 636f 6e66 6967  tently be config
-0001aac0: 7572 6564 2076 6961 2074 6865 2073 616d  ured via the sam
-0001aad0: 6520 636f 6465 2074 6861 7420 6973 2075  e code that is u
-0001aae0: 7365 6420 7768 656e 206c 6f61 6469 6e67  sed when loading
-0001aaf0: 2066 726f 6d20 636f 6e66 6967 7572 6174   from configurat
-0001ab00: 696f 6e20 6669 6c65 732e 2028 5b5c 2335  ion files. ([\#5
-0001ab10: 3137 315d 2868 7474 7073 3a2f 2f67 6974  171](https://git
-0001ab20: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-0001ab30: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-0001ab40: 732f 3531 3731 292c 205b 5c23 3531 3835  s/5171), [\#5185
-0001ab50: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0001ab60: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-0001ab70: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
-0001ab80: 3138 3529 290a 2d20 416c 6c6f 7720 636c  185)).- Allow cl
-0001ab90: 6965 6e74 2065 7665 6e74 2073 6572 6961  ient event seria
-0001aba0: 6c69 7a61 7469 6f6e 2074 6f20 6265 2061  lization to be a
-0001abb0: 7379 6e63 2e20 285b 5c23 3531 3833 5d28  sync. ([\#5183](
-0001abc0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-0001abd0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-0001abe0: 6e61 7073 652f 6973 7375 6573 2f35 3138  napse/issues/518
-0001abf0: 3329 290a 2d20 4578 706f 7365 2044 6174  3)).- Expose Dat
-0001ac00: 6153 746f 7265 2e5f 6765 745f 6576 656e  aStore._get_even
-0001ac10: 7473 2061 7320 6765 745f 6576 656e 7473  ts as get_events
-0001ac20: 5f61 735f 6c69 7374 2e20 285b 5c23 3531  _as_list. ([\#51
-0001ac30: 3834 5d28 6874 7470 733a 2f2f 6769 7468  84](https://gith
-0001ac40: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-0001ac50: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-0001ac60: 2f35 3138 3429 290a 2d20 4d61 6b65 2067  /5184)).- Make g
-0001ac70: 656e 6572 6174 696e 6720 5351 4c20 626f  enerating SQL bo
-0001ac80: 756e 6473 2066 6f72 2070 6167 696e 6174  unds for paginat
-0001ac90: 696f 6e20 6765 6e65 7269 632e 2028 5b5c  ion generic. ([\
-0001aca0: 2335 3139 315d 2868 7474 7073 3a2f 2f67  #5191](https://g
-0001acb0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-0001acc0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-0001acd0: 7565 732f 3531 3931 2929 0a2d 2053 746f  ues/5191)).- Sto
-0001ace0: 7020 7465 6c6c 696e 6720 7065 6f70 6c65  p telling people
-0001acf0: 2074 6f20 696e 7374 616c 6c20 7468 6520   to install the 
-0001ad00: 6f70 7469 6f6e 616c 2064 6570 656e 6465  optional depende
-0001ad10: 6e63 6965 7320 6279 2064 6566 6175 6c74  ncies by default
-0001ad20: 2e20 285b 5c23 3531 3937 5d28 6874 7470  . ([\#5197](http
-0001ad30: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-0001ad40: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-0001ad50: 652f 6973 7375 6573 2f35 3139 3729 290a  e/issues/5197)).
-0001ad60: 0a0a 5379 6e61 7073 6520 302e 3939 2e34  ..Synapse 0.99.4
-0001ad70: 2028 3230 3139 2d30 352d 3135 290a 3d3d   (2019-05-15).==
-0001ad80: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0001ad90: 3d3d 3d3d 3d3d 3d3d 3d0a 0a4e 6f20 7369  =========..No si
-0001ada0: 676e 6966 6963 616e 7420 6368 616e 6765  gnificant change
-0001adb0: 732e 0a0a 0a53 796e 6170 7365 2030 2e39  s....Synapse 0.9
-0001adc0: 392e 3472 6331 2028 3230 3139 2d30 352d  9.4rc1 (2019-05-
-0001add0: 3133 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  13).============
-0001ade0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0001adf0: 3d3d 0a0a 4665 6174 7572 6573 0a2d 2d2d  ==..Features.---
-0001ae00: 2d2d 2d2d 2d0a 0a2d 2041 6464 2073 7973  -----..- Add sys
-0001ae10: 7465 6d64 2d70 7974 686f 6e20 746f 2074  temd-python to t
-0001ae20: 6865 206f 7074 696f 6e61 6c20 6465 7065  he optional depe
-0001ae30: 6e64 656e 6369 6573 2074 6f20 656e 6162  ndencies to enab
-0001ae40: 6c65 206c 6f67 6769 6e67 2074 6f20 7468  le logging to th
-0001ae50: 6520 7379 7374 656d 6420 6a6f 7572 6e61  e systemd journa
-0001ae60: 6c2e 2049 6e73 7461 6c6c 2077 6974 6820  l. Install with 
-0001ae70: 6070 6970 2069 6e73 7461 6c6c 206d 6174  `pip install mat
-0001ae80: 7269 782d 7379 6e61 7073 655b 7379 7374  rix-synapse[syst
-0001ae90: 656d 645d 602e 2028 5b5c 2334 3333 395d  emd]`. ([\#4339]
-0001aea0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0001aeb0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-0001aec0: 796e 6170 7365 2f69 7373 7565 732f 3433  ynapse/issues/43
-0001aed0: 3339 2929 0a2d 2041 6464 2061 2064 6566  39)).- Add a def
-0001aee0: 6175 6c74 202e 6d2e 7275 6c65 2e74 6f6d  ault .m.rule.tom
-0001aef0: 6273 746f 6e65 2070 7573 6820 7275 6c65  bstone push rule
-0001af00: 2e20 285b 5c23 3438 3637 5d28 6874 7470  . ([\#4867](http
-0001af10: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-0001af20: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-0001af30: 652f 6973 7375 6573 2f34 3836 3729 290a  e/issues/4867)).
-0001af40: 2d20 4164 6420 6162 696c 6974 7920 666f  - Add ability fo
-0001af50: 7220 7061 7373 776f 7264 2070 726f 7669  r password provi
-0001af60: 6465 7220 6d6f 6475 6c65 7320 746f 2062  der modules to b
-0001af70: 696e 6420 656d 6169 6c20 6164 6472 6573  ind email addres
-0001af80: 7365 7320 746f 2075 7365 7273 2075 706f  ses to users upo
-0001af90: 6e20 7265 6769 7374 7261 7469 6f6e 2e20  n registration. 
-0001afa0: 285b 5c23 3439 3437 5d28 6874 7470 733a  ([\#4947](https:
-0001afb0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-0001afc0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-0001afd0: 6973 7375 6573 2f34 3934 3729 290a 2d20  issues/4947)).- 
-0001afe0: 496d 706c 656d 656e 7461 7469 6f6e 206f  Implementation o
-0001aff0: 6620 5b4d 5343 3137 3131 5d28 6874 7470  f [MSC1711](http
-0001b000: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-0001b010: 6174 7269 782d 6f72 672f 6d61 7472 6978  atrix-org/matrix
-0001b020: 2d64 6f63 2f70 756c 6c2f 3137 3131 2920  -doc/pull/1711) 
-0001b030: 696e 636c 7564 696e 6720 636f 6e66 6967  including config
-0001b040: 206f 7074 696f 6e73 2066 6f72 2072 6571   options for req
-0001b050: 7569 7269 6e67 2076 616c 6964 2054 4c53  uiring valid TLS
-0001b060: 2063 6572 7469 6669 6361 7465 7320 666f   certificates fo
-0001b070: 7220 6665 6465 7261 7469 6f6e 2074 7261  r federation tra
-0001b080: 6666 6963 2c20 7468 6520 6162 696c 6974  ffic, the abilit
-0001b090: 7920 746f 2064 6973 6162 6c65 2054 4c53  y to disable TLS
-0001b0a0: 2076 616c 6964 6174 696f 6e20 666f 7220   validation for 
-0001b0b0: 7370 6563 6966 6963 2064 6f6d 6169 6e73  specific domains
-0001b0c0: 2c20 616e 6420 7468 6520 6162 696c 6974  , and the abilit
-0001b0d0: 7920 746f 2073 7065 6369 6679 2079 6f75  y to specify you
-0001b0e0: 7220 6f77 6e20 6c69 7374 206f 6620 4341  r own list of CA
-0001b0f0: 2063 6572 7469 6669 6361 7465 732e 2028   certificates. (
-0001b100: 5b5c 2334 3936 375d 2868 7474 7073 3a2f  [\#4967](https:/
-0001b110: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-0001b120: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-0001b130: 7373 7565 732f 3439 3637 2929 0a2d 2052  ssues/4967)).- R
-0001b140: 656d 6f76 6520 7072 6573 656e 6365 206c  emove presence l
-0001b150: 6973 7420 7375 7070 6f72 7420 6173 2070  ist support as p
-0001b160: 6572 204d 5343 2031 3831 392e 2028 5b5c  er MSC 1819. ([\
-0001b170: 2334 3938 395d 2868 7474 7073 3a2f 2f67  #4989](https://g
-0001b180: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-0001b190: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-0001b1a0: 7565 732f 3439 3839 2929 0a2d 2052 6564  ues/4989)).- Red
-0001b1b0: 7563 6520 4350 5520 7573 6167 6520 7374  uce CPU usage st
-0001b1c0: 6172 7469 6e67 2070 7573 6865 7273 2064  arting pushers d
-0001b1d0: 7572 696e 6720 7374 6172 7420 7570 2e20  uring start up. 
-0001b1e0: 285b 5c23 3439 3931 5d28 6874 7470 733a  ([\#4991](https:
-0001b1f0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-0001b200: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-0001b210: 6973 7375 6573 2f34 3939 3129 290a 2d20  issues/4991)).- 
-0001b220: 4164 6420 6120 6465 6c65 7465 2067 726f  Add a delete gro
-0001b230: 7570 2061 646d 696e 2041 5049 2e20 285b  up admin API. ([
-0001b240: 5c23 3530 3032 5d28 6874 7470 733a 2f2f  \#5002](https://
-0001b250: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-0001b260: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-0001b270: 7375 6573 2f35 3030 3229 290a 2d20 4164  sues/5002)).- Ad
-0001b280: 6420 636f 6e66 6967 206f 7074 696f 6e20  d config option 
-0001b290: 746f 2062 6c6f 636b 2075 7365 7273 2066  to block users f
-0001b2a0: 726f 6d20 6c6f 6f6b 696e 6720 7570 2033  rom looking up 3
-0001b2b0: 5049 4473 2e20 285b 5c23 3530 3130 5d28  PIDs. ([\#5010](
-0001b2c0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-0001b2d0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-0001b2e0: 6e61 7073 652f 6973 7375 6573 2f35 3031  napse/issues/501
-0001b2f0: 3029 290a 2d20 4164 6420 636f 6e74 6578  0)).- Add contex
-0001b300: 7420 746f 2070 686f 6e65 686f 6d65 2073  t to phonehome s
-0001b310: 7461 7473 2e20 285b 5c23 3530 3230 5d28  tats. ([\#5020](
-0001b320: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-0001b330: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-0001b340: 6e61 7073 652f 6973 7375 6573 2f35 3032  napse/issues/502
-0001b350: 3029 290a 2d20 436f 6e66 6967 7572 6520  0)).- Configure 
-0001b360: 7468 6520 6578 616d 706c 6520 7379 7374  the example syst
-0001b370: 656d 6420 756e 6974 7320 746f 2068 6176  emd units to hav
-0001b380: 6520 6120 6c6f 6720 6964 656e 7469 6669  e a log identifi
-0001b390: 6572 206f 6620 606d 6174 7269 782d 7379  er of `matrix-sy
-0001b3a0: 6e61 7073 6560 0a20 2069 6e73 7465 6164  napse`.  instead
-0001b3b0: 206f 6620 7468 6520 6578 6563 7574 6162   of the executab
-0001b3c0: 6c65 206e 616d 652c 2060 7079 7468 6f6e  le name, `python
-0001b3d0: 602e 0a20 2043 6f6e 7472 6962 7574 6564  `..  Contributed
-0001b3e0: 2062 7920 4368 7269 7374 6f70 6820 4dc3   by Christoph M.
-0001b3f0: bc6c 6c65 722e 2028 5b5c 2335 3032 335d  .ller. ([\#5023]
-0001b400: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0001b410: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-0001b420: 796e 6170 7365 2f69 7373 7565 732f 3530  ynapse/issues/50
-0001b430: 3233 2929 0a2d 2041 6464 2074 696d 652d  23)).- Add time-
-0001b440: 6261 7365 6420 6163 636f 756e 7420 6578  based account ex
-0001b450: 7069 7261 7469 6f6e 2e20 285b 5c23 3530  piration. ([\#50
-0001b460: 3237 5d28 6874 7470 733a 2f2f 6769 7468  27](https://gith
-0001b470: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-0001b480: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-0001b490: 2f35 3032 3729 2c20 5b5c 2335 3034 375d  /5027), [\#5047]
-0001b4a0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0001b4b0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-0001b4c0: 796e 6170 7365 2f69 7373 7565 732f 3530  ynapse/issues/50
-0001b4d0: 3437 292c 205b 5c23 3530 3733 5d28 6874  47), [\#5073](ht
-0001b4e0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0001b4f0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-0001b500: 7073 652f 6973 7375 6573 2f35 3037 3329  pse/issues/5073)
-0001b510: 2c20 5b5c 2335 3131 365d 2868 7474 7073  , [\#5116](https
-0001b520: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-0001b530: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-0001b540: 2f69 7373 7565 732f 3531 3136 2929 0a2d  /issues/5116)).-
-0001b550: 2041 6464 2073 7570 706f 7274 2066 6f72   Add support for
-0001b560: 2068 616e 646c 696e 6720 602f 7665 7273   handling `/vers
-0001b570: 696f 6e73 602c 2060 2f76 6f69 7060 2061  ions`, `/voip` a
-0001b580: 6e64 2060 2f70 7573 685f 7275 6c65 7360  nd `/push_rules`
-0001b590: 2063 6c69 656e 7420 656e 6470 6f69 6e74   client endpoint
-0001b5a0: 7320 746f 2063 6c69 656e 745f 7265 6164  s to client_read
-0001b5b0: 6572 2077 6f72 6b65 722e 2028 5b5c 2335  er worker. ([\#5
-0001b5c0: 3036 335d 2868 7474 7073 3a2f 2f67 6974  063](https://git
-0001b5d0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-0001b5e0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-0001b5f0: 732f 3530 3633 292c 205b 5c23 3530 3635  s/5063), [\#5065
-0001b600: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0001b610: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-0001b620: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
-0001b630: 3036 3529 2c20 5b5c 2335 3037 305d 2868  065), [\#5070](h
-0001b640: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0001b650: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-0001b660: 6170 7365 2f69 7373 7565 732f 3530 3730  apse/issues/5070
-0001b670: 2929 0a2d 2041 6464 2061 2063 6f6e 6669  )).- Add a confi
-0001b680: 6775 7261 7469 6f6e 206f 7074 696f 6e20  guration option 
-0001b690: 746f 2072 6571 7569 7265 2061 7574 6865  to require authe
-0001b6a0: 6e74 6963 6174 696f 6e20 6f6e 202f 7075  ntication on /pu
-0001b6b0: 626c 6963 526f 6f6d 7320 616e 6420 2f70  blicRooms and /p
-0001b6c0: 726f 6669 6c65 2065 6e64 706f 696e 7473  rofile endpoints
-0001b6d0: 2e20 285b 5c23 3530 3833 5d28 6874 7470  . ([\#5083](http
-0001b6e0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-0001b6f0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-0001b700: 652f 6973 7375 6573 2f35 3038 3329 290a  e/issues/5083)).
-0001b710: 2d20 4d6f 7665 2061 646d 696e 2041 5049  - Move admin API
-0001b720: 7320 746f 2060 2f5f 7379 6e61 7073 652f  s to `/_synapse/
-0001b730: 6164 6d69 6e2f 7631 602e 2028 5468 6520  admin/v1`. (The 
-0001b740: 6f6c 6420 7061 7468 7320 6172 6520 7265  old paths are re
-0001b750: 7461 696e 6564 2066 6f72 2062 6163 6b77  tained for backw
-0001b760: 6172 6473 2d63 6f6d 7061 7469 6269 6c69  ards-compatibili
-0001b770: 7479 2c20 666f 7220 6e6f 7729 2e20 285b  ty, for now). ([
-0001b780: 5c23 3531 3139 5d28 6874 7470 733a 2f2f  \#5119](https://
-0001b790: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-0001b7a0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-0001b7b0: 7375 6573 2f35 3131 3929 290a 2d20 496d  sues/5119)).- Im
-0001b7c0: 706c 656d 656e 7420 616e 2061 646d 696e  plement an admin
-0001b7d0: 2041 5049 2066 6f72 2073 656e 6469 6e67   API for sending
-0001b7e0: 2073 6572 7665 7220 6e6f 7469 6365 732e   server notices.
-0001b7f0: 204d 616e 7920 7468 616e 6b73 2074 6f20   Many thanks to 
-0001b800: 406b 726f 6d62 656c 2077 686f 2070 726f  @krombel who pro
-0001b810: 7669 6465 6420 6120 666f 756e 6461 7469  vided a foundati
-0001b820: 6f6e 2066 6f72 2074 6869 7320 776f 726b  on for this work
-0001b830: 2e20 285b 5c23 3531 3231 5d28 6874 7470  . ([\#5121](http
-0001b840: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-0001b850: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-0001b860: 652f 6973 7375 6573 2f35 3132 3129 2c20  e/issues/5121), 
-0001b870: 5b5c 2335 3134 325d 2868 7474 7073 3a2f  [\#5142](https:/
-0001b880: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-0001b890: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-0001b8a0: 7373 7565 732f 3531 3432 2929 0a0a 0a42  ssues/5142))...B
-0001b8b0: 7567 6669 7865 730a 2d2d 2d2d 2d2d 2d2d  ugfixes.--------
-0001b8c0: 0a0a 2d20 4176 6f69 6420 7265 6475 6e64  ..- Avoid redund
-0001b8d0: 616e 7420 5552 4c20 656e 636f 6469 6e67  ant URL encoding
-0001b8e0: 206f 6620 7265 6469 7265 6374 2055 524c   of redirect URL
-0001b8f0: 2066 6f72 2053 534f 206c 6f67 696e 2069   for SSO login i
-0001b900: 6e20 7468 6520 6661 6c6c 6261 636b 206c  n the fallback l
-0001b910: 6f67 696e 2070 6167 652e 2046 6978 6573  ogin page. Fixes
-0001b920: 2061 2072 6567 7265 7373 696f 6e20 696e   a regression in
-0001b930: 7472 6f64 7563 6564 2069 6e20 5b23 3432  troduced in [#42
-0001b940: 3230 5d28 6874 7470 733a 2f2f 6769 7468  20](https://gith
-0001b950: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-0001b960: 672f 7379 6e61 7073 652f 7075 6c6c 2f34  g/synapse/pull/4
-0001b970: 3232 3029 2e20 436f 6e74 7269 6275 7465  220). Contribute
-0001b980: 6420 6279 204d 6172 6365 6c20 4661 6269  d by Marcel Fabi
-0001b990: 616e 204b 72c3 bc67 6572 2028 225b 7a61  an Kr..ger ("[za
-0001b9a0: 7567 696e 5d28 6874 7470 733a 2f2f 6769  ugin](https://gi
-0001b9b0: 7468 7562 2e63 6f6d 2f7a 6175 6775 696e  thub.com/zauguin
-0001b9c0: 2922 292e 2028 5b5c 2334 3535 355d 2868  )"). ([\#4555](h
-0001b9d0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0001b9e0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-0001b9f0: 6170 7365 2f69 7373 7565 732f 3435 3535  apse/issues/4555
-0001ba00: 2929 0a2d 2046 6978 2062 7567 2077 6865  )).- Fix bug whe
-0001ba10: 7265 2070 7265 7365 6e63 6520 7570 6461  re presence upda
-0001ba20: 7465 7320 7765 7265 2073 656e 7420 746f  tes were sent to
-0001ba30: 2061 6c6c 2073 6572 7665 7273 2069 6e20   all servers in 
-0001ba40: 6120 726f 6f6d 2077 6865 6e20 6120 6e65  a room when a ne
-0001ba50: 7720 7365 7276 6572 206a 6f69 6e65 642c  w server joined,
-0001ba60: 2072 6174 6865 7220 7468 616e 2074 6f20   rather than to 
-0001ba70: 6a75 7374 2074 6865 206e 6577 2073 6572  just the new ser
-0001ba80: 7665 722e 2028 5b5c 2334 3934 325d 2868  ver. ([\#4942](h
-0001ba90: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0001baa0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-0001bab0: 6170 7365 2f69 7373 7565 732f 3439 3432  apse/issues/4942
-0001bac0: 292c 205b 5c23 3531 3033 5d28 6874 7470  ), [\#5103](http
-0001bad0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-0001bae0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-0001baf0: 652f 6973 7375 6573 2f35 3130 3329 290a  e/issues/5103)).
-0001bb00: 2d20 4669 7820 7379 6e63 2062 7567 2077  - Fix sync bug w
-0001bb10: 6869 6368 206d 6164 6520 6163 6365 7074  hich made accept
-0001bb20: 696e 6720 696e 7669 7465 7320 756e 7265  ing invites unre
-0001bb30: 6c69 6162 6c65 2069 6e20 776f 726b 6572  liable in worker
-0001bb40: 2d6d 6f64 6520 7379 6e61 7073 6573 2e20  -mode synapses. 
-0001bb50: 285b 5c23 3439 3535 5d28 6874 7470 733a  ([\#4955](https:
-0001bb60: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-0001bb70: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-0001bb80: 6973 7375 6573 2f34 3935 3529 2c20 5b5c  issues/4955), [\
-0001bb90: 2334 3935 365d 2868 7474 7073 3a2f 2f67  #4956](https://g
-0001bba0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-0001bbb0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-0001bbc0: 7565 732f 3439 3536 2929 0a2d 2073 7461  ues/4956)).- sta
-0001bbd0: 7274 2e73 683a 2046 6978 2074 6865 202d  rt.sh: Fix the -
-0001bbe0: 2d6e 6f2d 7261 7465 2d6c 696d 6974 206f  -no-rate-limit o
-0001bbf0: 7074 696f 6e20 666f 7220 6d65 7373 6167  ption for messag
-0001bc00: 6573 2061 6e64 206d 616b 6520 6974 2062  es and make it b
-0001bc10: 7970 6173 7320 7261 7465 206c 696d 6974  ypass rate limit
-0001bc20: 206f 6e20 7265 6769 7374 7261 7469 6f6e   on registration
-0001bc30: 2061 6e64 206c 6f67 696e 2074 6f6f 2e20   and login too. 
-0001bc40: 285b 5c23 3439 3831 5d28 6874 7470 733a  ([\#4981](https:
-0001bc50: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-0001bc60: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-0001bc70: 6973 7375 6573 2f34 3938 3129 290a 2d20  issues/4981)).- 
-0001bc80: 5472 616e 7366 6572 2072 656c 6174 6564  Transfer related
-0001bc90: 2067 726f 7570 7320 6f6e 2072 6f6f 6d20   groups on room 
-0001bca0: 7570 6772 6164 652e 2028 5b5c 2334 3939  upgrade. ([\#499
-0001bcb0: 305d 2868 7474 7073 3a2f 2f67 6974 6875  0](https://githu
-0001bcc0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-0001bcd0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-0001bce0: 3439 3930 2929 0a2d 2050 7265 7665 6e74  4990)).- Prevent
-0001bcf0: 2074 6865 2061 6269 6c69 7479 2074 6f20   the ability to 
-0001bd00: 6b69 636b 2075 7365 7273 2066 726f 6d20  kick users from 
-0001bd10: 6120 726f 6f6d 2074 6865 7920 6172 656e  a room they aren
-0001bd20: 2774 2069 6e2e 2028 5b5c 2334 3939 395d  't in. ([\#4999]
-0001bd30: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0001bd40: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-0001bd50: 796e 6170 7365 2f69 7373 7565 732f 3439  ynapse/issues/49
-0001bd60: 3939 2929 0a2d 2046 6978 2069 7373 7565  99)).- Fix issue
-0001bd70: 2023 3435 3936 2073 6f20 7379 6e61 7073   #4596 so synaps
-0001bd80: 655f 706f 7274 5f64 6220 7363 7269 7074  e_port_db script
-0001bd90: 2077 6f72 6b73 2077 6974 6820 2d2d 6375   works with --cu
-0001bda0: 7273 6573 206f 7074 696f 6e20 6f6e 2050  rses option on P
-0001bdb0: 7974 686f 6e20 332e 2043 6f6e 7472 6962  ython 3. Contrib
-0001bdc0: 7574 6564 2062 7920 416e 6465 7273 204a  uted by Anders J
-0001bdd0: 656e 7365 6e2d 5761 7564 203c 616e 6465  ensen-Waud <ande
-0001bde0: 7273 406a 656e 7365 6e77 6175 642e 636f  rs@jensenwaud.co
-0001bdf0: 6d3e 2e20 285b 5c23 3530 3033 5d28 6874  m>. ([\#5003](ht
-0001be00: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0001be10: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-0001be20: 7073 652f 6973 7375 6573 2f35 3030 3329  pse/issues/5003)
-0001be30: 290a 2d20 436c 6965 6e74 7320 7469 6d69  ).- Clients timi
-0001be40: 6e67 206f 7574 2f64 6973 6170 7065 6172  ng out/disappear
-0001be50: 696e 6720 7768 696c 6520 646f 776e 6c6f  ing while downlo
-0001be60: 6164 696e 6720 6672 6f6d 2074 6865 206d  ading from the m
-0001be70: 6564 6961 2072 6570 6f73 6974 6f72 7920  edia repository 
-0001be80: 7769 6c6c 206e 6f77 206e 6f20 6c6f 6e67  will now no long
-0001be90: 6572 206c 6f67 2061 2073 7075 7269 6f75  er log a spuriou
-0001bea0: 7320 2250 726f 6475 6365 7220 7761 7320  s "Producer was 
-0001beb0: 6e6f 7420 756e 7265 6769 7374 6572 6564  not unregistered
-0001bec0: 2220 6d65 7373 6167 652e 2028 5b5c 2335  " message. ([\#5
-0001bed0: 3030 395d 2868 7474 7073 3a2f 2f67 6974  009](https://git
-0001bee0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-0001bef0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-0001bf00: 732f 3530 3039 2929 0a2d 2046 6978 2022  s/5009)).- Fix "
-0001bf10: 6361 6e6e 6f74 2069 6d70 6f72 7420 6e61  cannot import na
-0001bf20: 6d65 2065 7865 6375 7465 5f62 6174 6368  me execute_batch
-0001bf30: 2220 6572 726f 7220 7769 7468 2070 6f73  " error with pos
-0001bf40: 7467 7265 732e 2028 5b5c 2335 3033 325d  tgres. ([\#5032]
-0001bf50: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0001bf60: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-0001bf70: 796e 6170 7365 2f69 7373 7565 732f 3530  ynapse/issues/50
-0001bf80: 3332 2929 0a2d 2046 6978 2064 6973 6170  32)).- Fix disap
-0001bf90: 7065 6172 696e 6720 6578 6365 7074 696f  pearing exceptio
-0001bfa0: 6e73 2069 6e20 6d61 6e68 6f6c 652e 2028  ns in manhole. (
-0001bfb0: 5b5c 2335 3033 355d 2868 7474 7073 3a2f  [\#5035](https:/
-0001bfc0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-0001bfd0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-0001bfe0: 7373 7565 732f 3530 3335 2929 0a2d 2057  ssues/5035)).- W
-0001bff0: 6f72 6b61 726f 756e 6420 6275 6720 696e  orkaround bug in
-0001c000: 2074 7769 7374 6564 2077 6865 7265 2061   twisted where a
-0001c010: 7474 656d 7074 696e 6720 746f 6f20 6d61  ttempting too ma
-0001c020: 6e79 2063 6f6e 6375 7272 656e 7420 444e  ny concurrent DN
-0001c030: 5320 7265 7175 6573 7473 2063 6f75 6c64  S requests could
-0001c040: 2063 6175 7365 2069 7420 746f 2068 616e   cause it to han
-0001c050: 6720 6475 6520 746f 2072 756e 6e69 6e67  g due to running
-0001c060: 206f 7574 206f 6620 6669 6c65 2064 6573   out of file des
-0001c070: 6372 6970 746f 7273 2e20 285b 5c23 3530  criptors. ([\#50
-0001c080: 3337 5d28 6874 7470 733a 2f2f 6769 7468  37](https://gith
-0001c090: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-0001c0a0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-0001c0b0: 2f35 3033 3729 290a 2d20 4d61 6b65 2073  /5037)).- Make s
-0001c0c0: 7572 6520 7765 2772 6520 6e6f 7420 7265  ure we're not re
-0001c0d0: 6769 7374 6572 696e 6720 7468 6520 7361  gistering the sa
-0001c0e0: 6d65 2033 7069 6420 7477 6963 6520 6f6e  me 3pid twice on
-0001c0f0: 2072 6567 6973 7472 6174 696f 6e2e 2028   registration. (
-0001c100: 5b5c 2335 3037 315d 2868 7474 7073 3a2f  [\#5071](https:/
-0001c110: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-0001c120: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-0001c130: 7373 7565 732f 3530 3731 2929 0a2d 2044  ssues/5071)).- D
-0001c140: 6f6e 2774 2063 7261 7368 206f 6e20 6c61  on't crash on la
-0001c150: 636b 206f 6620 6578 7069 7279 2074 656d  ck of expiry tem
-0001c160: 706c 6174 6573 2e20 285b 5c23 3530 3737  plates. ([\#5077
-0001c170: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0001c180: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-0001c190: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
-0001c1a0: 3037 3729 290a 2d20 4669 7820 7468 6520  077)).- Fix the 
-0001c1b0: 7261 7465 6c69 6d69 7469 6e67 206f 6e20  ratelimiting on 
-0001c1c0: 7468 6972 6420 7061 7274 7920 696e 7669  third party invi
-0001c1d0: 7465 732e 2028 5b5c 2335 3130 345d 2868  tes. ([\#5104](h
-0001c1e0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0001c1f0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-0001c200: 6170 7365 2f69 7373 7565 732f 3531 3034  apse/issues/5104
-0001c210: 2929 0a2d 2041 6464 2073 6f6d 6520 6d69  )).- Add some mi
-0001c220: 7373 696e 6720 6c69 6d69 7461 7469 6f6e  ssing limitation
-0001c230: 7320 746f 2072 6f6f 6d20 616c 6961 7320  s to room alias 
-0001c240: 6372 6561 7469 6f6e 2e20 285b 5c23 3531  creation. ([\#51
-0001c250: 3234 5d28 6874 7470 733a 2f2f 6769 7468  24](https://gith
-0001c260: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-0001c270: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-0001c280: 2f35 3132 3429 2c20 5b5c 2335 3132 385d  /5124), [\#5128]
-0001c290: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0001c2a0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-0001c2b0: 796e 6170 7365 2f69 7373 7565 732f 3531  ynapse/issues/51
-0001c2c0: 3238 2929 0a2d 204c 696d 6974 2074 6865  28)).- Limit the
-0001c2d0: 206e 756d 6265 7220 6f66 2045 4455 7320   number of EDUs 
-0001c2e0: 696e 2074 7261 6e73 6163 7469 6f6e 7320  in transactions 
-0001c2f0: 746f 2031 3030 2061 7320 6578 7065 6374  to 100 as expect
-0001c300: 6564 2062 7920 7379 6e61 7073 652e 2054  ed by synapse. T
-0001c310: 6861 6e6b 7320 746f 2040 7375 7065 7262  hanks to @superb
-0001c320: 6f75 6d20 666f 7220 7468 6973 2077 6f72  oum for this wor
-0001c330: 6b21 2028 5b5c 2335 3133 385d 2868 7474  k! ([\#5138](htt
-0001c340: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-0001c350: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-0001c360: 7365 2f69 7373 7565 732f 3531 3338 2929  se/issues/5138))
-0001c370: 0a0a 496e 7465 726e 616c 2043 6861 6e67  ..Internal Chang
-0001c380: 6573 0a2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  es.-------------
-0001c390: 2d2d 2d0a 0a2d 2041 6464 2074 6573 7420  ---..- Add test 
-0001c3a0: 746f 2076 6572 6966 7920 7468 7265 6570  to verify threep
-0001c3b0: 6964 2061 7574 6820 6368 6563 6b20 6164  id auth check ad
-0001c3c0: 6465 6420 696e 2023 3434 3335 2e20 285b  ded in #4435. ([
-0001c3d0: 5c23 3434 3734 5d28 6874 7470 733a 2f2f  \#4474](https://
-0001c3e0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-0001c3f0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-0001c400: 7375 6573 2f34 3437 3429 290a 2d20 4669  sues/4474)).- Fi
-0001c410: 782f 696d 7072 6f76 6520 736f 6d65 2064  x/improve some d
-0001c420: 6f63 7374 7269 6e67 7320 696e 2074 6865  ocstrings in the
-0001c430: 2072 6570 6c69 6361 7469 6f6e 2063 6f64   replication cod
-0001c440: 652e 2028 5b5c 2334 3934 395d 2868 7474  e. ([\#4949](htt
-0001c450: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-0001c460: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-0001c470: 7365 2f69 7373 7565 732f 3439 3439 2929  se/issues/4949))
-0001c480: 0a2d 2053 706c 6974 2073 796e 6170 7365  .- Split synapse
-0001c490: 2e72 6570 6c69 6361 7469 6f6e 2e74 6370  .replication.tcp
-0001c4a0: 2e73 7472 6561 6d73 2069 6e74 6f20 736d  .streams into sm
-0001c4b0: 616c 6c65 7220 6669 6c65 732e 2028 5b5c  aller files. ([\
-0001c4c0: 2334 3935 335d 2868 7474 7073 3a2f 2f67  #4953](https://g
-0001c4d0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-0001c4e0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-0001c4f0: 7565 732f 3439 3533 2929 0a2d 2052 6566  ues/4953)).- Ref
-0001c500: 6163 746f 7220 7265 706c 6963 6174 696f  actor replicatio
-0001c510: 6e20 726f 7720 6765 6e65 7261 7469 6f6e  n row generation
-0001c520: 2f70 6172 7369 6e67 2e20 285b 5c23 3439  /parsing. ([\#49
-0001c530: 3534 5d28 6874 7470 733a 2f2f 6769 7468  54](https://gith
-0001c540: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-0001c550: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-0001c560: 2f34 3935 3429 290a 2d20 5275 6e20 6062  /4954)).- Run `b
-0001c570: 6c61 636b 6020 746f 2063 6c65 616e 2075  lack` to clean u
-0001c580: 7020 666f 726d 6174 7469 6e67 206f 6e20  p formatting on 
-0001c590: 6073 796e 6170 7365 2f73 746f 7261 6765  `synapse/storage
-0001c5a0: 2f72 6f6f 6d6d 656d 6265 722e 7079 6020  /roommember.py` 
-0001c5b0: 616e 6420 6073 796e 6170 7365 2f73 746f  and `synapse/sto
-0001c5c0: 7261 6765 2f65 7665 6e74 732e 7079 602e  rage/events.py`.
-0001c5d0: 2028 5b5c 2334 3935 395d 2868 7474 7073   ([\#4959](https
-0001c5e0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-0001c5f0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-0001c600: 2f69 7373 7565 732f 3439 3539 2929 0a2d  /issues/4959)).-
-0001c610: 2052 656d 6f76 6520 6c6f 6720 6c69 6e65   Remove log line
-0001c620: 2066 6f72 2070 6173 7377 6f72 6420 7669   for password vi
-0001c630: 6120 7468 6520 6164 6d69 6e20 4150 492e  a the admin API.
-0001c640: 2028 5b5c 2334 3936 355d 2868 7474 7073   ([\#4965](https
-0001c650: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-0001c660: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-0001c670: 2f69 7373 7565 732f 3439 3635 2929 0a2d  /issues/4965)).-
-0001c680: 2046 6978 2074 7970 6f20 696e 2054 4c53   Fix typo in TLS
-0001c690: 2066 696c 656e 616d 6573 2069 6e20 646f   filenames in do
-0001c6a0: 636b 6572 2f52 4541 444d 452e 6d64 2e20  cker/README.md. 
-0001c6b0: 416c 736f 2061 6464 2074 6865 2027 2d70  Also add the '-p
-0001c6c0: 2720 636f 6d6d 616e 646c 696e 6520 6f70  ' commandline op
-0001c6d0: 7469 6f6e 2074 6f20 7468 6520 2764 6f63  tion to the 'doc
-0001c6e0: 6b65 7220 7275 6e27 2065 7861 6d70 6c65  ker run' example
-0001c6f0: 2e20 436f 6e74 7269 6275 7465 6420 6279  . Contributed by
-0001c700: 204a 7572 7269 6520 4f76 6572 676f 6f72   Jurrie Overgoor
-0001c710: 2e20 285b 5c23 3439 3638 5d28 6874 7470  . ([\#4968](http
-0001c720: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-0001c730: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-0001c740: 652f 6973 7375 6573 2f34 3936 3829 290a  e/issues/4968)).
-0001c750: 2d20 5265 6661 6374 6f72 2072 6f6f 6d20  - Refactor room 
-0001c760: 7665 7273 696f 6e20 6465 6669 6e69 7469  version definiti
-0001c770: 6f6e 732e 2028 5b5c 2334 3936 395d 2868  ons. ([\#4969](h
-0001c780: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0001c790: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-0001c7a0: 6170 7365 2f69 7373 7565 732f 3439 3639  apse/issues/4969
-0001c7b0: 2929 0a2d 2052 6564 7563 6520 6c6f 6720  )).- Reduce log 
-0001c7c0: 6c65 7665 6c20 6f66 202e 7765 6c6c 2d6b  level of .well-k
-0001c7d0: 6e6f 776e 2f6d 6174 7269 782f 636c 6965  nown/matrix/clie
-0001c7e0: 6e74 2072 6573 706f 6e73 6573 2e20 285b  nt responses. ([
-0001c7f0: 5c23 3439 3732 5d28 6874 7470 733a 2f2f  \#4972](https://
-0001c800: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-0001c810: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-0001c820: 7375 6573 2f34 3937 3229 290a 2d20 4164  sues/4972)).- Ad
-0001c830: 6420 6063 6f6e 6669 672e 7369 676e 696e  d `config.signin
-0001c840: 675f 6b65 795f 7061 7468 6020 7468 6174  g_key_path` that
-0001c850: 2063 616e 2062 6520 7265 6164 2062 7920   can be read by 
-0001c860: 6073 796e 6170 7365 2e63 6f6e 6669 6760  `synapse.config`
-0001c870: 2075 7469 6c69 7479 2e20 285b 5c23 3439   utility. ([\#49
-0001c880: 3734 5d28 6874 7470 733a 2f2f 6769 7468  74](https://gith
-0001c890: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-0001c8a0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-0001c8b0: 2f34 3937 3429 290a 2d20 5472 6163 6b20  /4974)).- Track 
-0001c8c0: 7768 6963 6820 6964 656e 7469 7479 2073  which identity s
-0001c8d0: 6572 7665 7220 6973 2075 7365 6420 7768  erver is used wh
-0001c8e0: 656e 2062 696e 6469 6e67 2061 2074 6872  en binding a thr
-0001c8f0: 6565 7069 6420 616e 6420 7573 6520 7468  eepid and use th
-0001c900: 6174 2066 6f72 2075 6e62 696e 6469 6e67  at for unbinding
-0001c910: 2c20 6173 2070 6572 204d 5343 3139 3135  , as per MSC1915
-0001c920: 2e20 285b 5c23 3439 3832 5d28 6874 7470  . ([\#4982](http
-0001c930: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-0001c940: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-0001c950: 652f 6973 7375 6573 2f34 3938 3229 290a  e/issues/4982)).
-0001c960: 2d20 5265 7772 6974 6520 4b65 7972 696e  - Rewrite Keyrin
-0001c970: 6754 6573 7443 6173 6520 6173 2061 2048  gTestCase as a H
-0001c980: 6f6d 6573 6572 7665 7254 6573 7443 6173  omeserverTestCas
-0001c990: 652e 2028 5b5c 2334 3938 355d 2868 7474  e. ([\#4985](htt
-0001c9a0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-0001c9b0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-0001c9c0: 7365 2f69 7373 7565 732f 3439 3835 2929  se/issues/4985))
-0001c9d0: 0a2d 2052 4541 444d 4520 7570 6461 7465  .- README update
-0001c9e0: 733a 2043 6f72 7265 6374 6564 2074 6865  s: Corrected the
-0001c9f0: 2064 6566 6175 6c74 2050 4f53 5447 5245   default POSTGRE
-0001ca00: 535f 5553 4552 2e20 4164 6465 6420 706f  S_USER. Added po
-0001ca10: 7274 2066 6f72 7761 7264 696e 6720 6869  rt forwarding hi
-0001ca20: 6e74 2069 6e20 544c 5320 7365 6374 696f  nt in TLS sectio
-0001ca30: 6e2e 2028 5b5c 2334 3938 375d 2868 7474  n. ([\#4987](htt
-0001ca40: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-0001ca50: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-0001ca60: 7365 2f69 7373 7565 732f 3439 3837 2929  se/issues/4987))
-0001ca70: 0a2d 2052 656d 6f76 6520 6120 6e75 6d62  .- Remove a numb
-0001ca80: 6572 206f 6620 756e 7573 6564 2074 6162  er of unused tab
-0001ca90: 6c65 7320 6672 6f6d 2074 6865 2064 6174  les from the dat
-0001caa0: 6162 6173 6520 7363 6865 6d61 2e20 285b  abase schema. ([
-0001cab0: 5c23 3439 3932 5d28 6874 7470 733a 2f2f  \#4992](https://
-0001cac0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-0001cad0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-0001cae0: 7375 6573 2f34 3939 3229 2c20 5b5c 2335  sues/4992), [\#5
-0001caf0: 3032 385d 2868 7474 7073 3a2f 2f67 6974  028](https://git
-0001cb00: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-0001cb10: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-0001cb20: 732f 3530 3238 292c 205b 5c23 3530 3333  s/5028), [\#5033
-0001cb30: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0001cb40: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-0001cb50: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
-0001cb60: 3033 3329 290a 2d20 5275 6e20 6062 6c61  033)).- Run `bla
-0001cb70: 636b 6020 6f6e 2074 6865 2072 656d 6169  ck` on the remai
-0001cb80: 6e64 6572 206f 6620 6073 796e 6170 7365  nder of `synapse
-0001cb90: 2f73 746f 7261 6765 2f60 2e20 285b 5c23  /storage/`. ([\#
-0001cba0: 3439 3936 5d28 6874 7470 733a 2f2f 6769  4996](https://gi
+00018620: 7565 732f 3532 3538 2929 0a2d 2046 6978  ues/5258)).- Fix
+00018630: 2073 6368 656d 6120 7570 6461 7465 2066   schema update f
+00018640: 6f72 2061 6363 6f75 6e74 2076 616c 6964  or account valid
+00018650: 6974 792e 2028 5b5c 2335 3236 385d 2868  ity. ([\#5268](h
+00018660: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00018670: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+00018680: 6170 7365 2f69 7373 7565 732f 3532 3638  apse/issues/5268
+00018690: 2929 0a2d 2046 6978 2062 7567 2077 6865  )).- Fix bug whe
+000186a0: 7265 2077 6520 6c65 616b 6564 2065 7874  re we leaked ext
+000186b0: 7265 6d69 7469 6573 2077 6865 6e20 7765  remities when we
+000186c0: 2073 6f66 7420 6661 696c 6564 2065 7665   soft failed eve
+000186d0: 6e74 732c 206c 6561 6469 6e67 2074 6f20  nts, leading to 
+000186e0: 7065 7266 6f72 6d61 6e63 6520 6465 6772  performance degr
+000186f0: 6164 6174 696f 6e2e 2028 5b5c 2335 3237  adation. ([\#527
+00018700: 345d 2868 7474 7073 3a2f 2f67 6974 6875  4](https://githu
+00018710: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00018720: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00018730: 3532 3734 292c 205b 5c23 3532 3738 5d28  5274), [\#5278](
+00018740: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00018750: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00018760: 6e61 7073 652f 6973 7375 6573 2f35 3237  napse/issues/527
+00018770: 3829 2c20 5b5c 2335 3239 315d 2868 7474  8), [\#5291](htt
+00018780: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00018790: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+000187a0: 7365 2f69 7373 7565 732f 3532 3931 2929  se/issues/5291))
+000187b0: 0a2d 2046 6978 2022 6462 2074 786e 2027  .- Fix "db txn '
+000187c0: 7570 6461 7465 5f70 7265 7365 6e63 6527  update_presence'
+000187d0: 2066 726f 6d20 7365 6e74 696e 656c 2063   from sentinel c
+000187e0: 6f6e 7465 7874 2220 6c6f 6720 6d65 7373  ontext" log mess
+000187f0: 6167 6573 2e20 285b 5c23 3532 3735 5d28  ages. ([\#5275](
+00018800: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00018810: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00018820: 6e61 7073 652f 6973 7375 6573 2f35 3237  napse/issues/527
+00018830: 3529 290a 2d20 4669 7820 6472 6f70 7065  5)).- Fix droppe
+00018840: 6420 6c6f 6763 6f6e 7465 7874 7320 6475  d logcontexts du
+00018850: 7269 6e67 2068 6967 6820 6f75 7462 6f75  ring high outbou
+00018860: 6e64 2074 7261 6666 6963 2e20 285b 5c23  nd traffic. ([\#
+00018870: 3532 3737 5d28 6874 7470 733a 2f2f 6769  5277](https://gi
+00018880: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+00018890: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+000188a0: 6573 2f35 3237 3729 290a 2d20 4669 7820  es/5277)).- Fix 
+000188b0: 6120 6275 6720 7768 6572 6520 6974 2069  a bug where it i
+000188c0: 7320 6e6f 7420 706f 7373 6962 6c65 2074  s not possible t
+000188d0: 6f20 6765 7420 6576 656e 7473 2069 6e20  o get events in 
+000188e0: 7468 6520 6665 6465 7261 7469 6f6e 2066  the federation f
+000188f0: 6f72 6d61 7420 7769 7468 2074 6865 2072  ormat with the r
+00018900: 6571 7565 7374 2060 4745 5420 2f5f 6d61  equest `GET /_ma
+00018910: 7472 6978 2f63 6c69 656e 742f 7230 2f72  trix/client/r0/r
+00018920: 6f6f 6d73 2f7b 726f 6f6d 4964 7d2f 6d65  ooms/{roomId}/me
+00018930: 7373 6167 6573 602e 2028 5b5c 2335 3239  ssages`. ([\#529
+00018940: 335d 2868 7474 7073 3a2f 2f67 6974 6875  3](https://githu
+00018950: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00018960: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00018970: 3532 3933 2929 0a2d 2046 6978 2070 6572  5293)).- Fix per
+00018980: 666f 726d 616e 6365 2070 726f 626c 656d  formance problem
+00018990: 7320 7769 7468 2074 6865 2072 6f6f 6d73  s with the rooms
+000189a0: 2073 7461 7473 2062 6163 6b67 726f 756e   stats backgroun
+000189b0: 6420 7570 6461 7465 2e20 285b 5c23 3532  d update. ([\#52
+000189c0: 3934 5d28 6874 7470 733a 2f2f 6769 7468  94](https://gith
+000189d0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+000189e0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+000189f0: 2f35 3239 3429 290a 2d20 4669 7820 6e6f  /5294)).- Fix no
+00018a00: 6973 7920 276e 6f20 6b65 7920 666f 7220  isy 'no key for 
+00018a10: 7365 7276 6572 2720 6c6f 6773 2e20 285b  server' logs. ([
+00018a20: 5c23 3533 3030 5d28 6874 7470 733a 2f2f  \#5300](https://
+00018a30: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00018a40: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00018a50: 7375 6573 2f35 3330 3029 290a 2d20 4669  sues/5300)).- Fi
+00018a60: 7820 6275 6720 7768 6572 6520 6120 6e6f  x bug where a no
+00018a70: 7461 7279 2073 6572 7665 7220 776f 756c  tary server woul
+00018a80: 6420 736f 6d65 7469 6d65 7320 666f 7267  d sometimes forg
+00018a90: 6574 206f 6c64 206b 6579 732e 2028 5b5c  et old keys. ([\
+00018aa0: 2335 3330 375d 2868 7474 7073 3a2f 2f67  #5307](https://g
+00018ab0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00018ac0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00018ad0: 7565 732f 3533 3037 2929 0a2d 2050 7265  ues/5307)).- Pre
+00018ae0: 7665 6e74 2075 7365 7273 2066 726f 6d20  vent users from 
+00018af0: 7365 7474 696e 6720 6875 6765 2064 6973  setting huge dis
+00018b00: 706c 6179 6e61 6d65 7320 616e 6420 6176  playnames and av
+00018b10: 6174 6172 2055 524c 732e 2028 5b5c 2335  atar URLs. ([\#5
+00018b20: 3330 395d 2868 7474 7073 3a2f 2f67 6974  309](https://git
+00018b30: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00018b40: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+00018b50: 732f 3533 3039 2929 0a2d 2046 6978 2068  s/5309)).- Fix h
+00018b60: 616e 646c 696e 6720 6f66 2066 6169 6c75  andling of failu
+00018b70: 7265 7320 7768 656e 2070 726f 6365 7373  res when process
+00018b80: 696e 6720 696e 636f 6d69 6e67 2065 7665  ing incoming eve
+00018b90: 6e74 7320 7768 6572 6520 6361 6c6c 696e  nts where callin
+00018ba0: 6720 602f 6576 656e 745f 6175 7468 6020  g `/event_auth` 
+00018bb0: 6f6e 2072 656d 6f74 6520 7365 7276 6572  on remote server
+00018bc0: 2066 6169 6c73 2e20 285b 5c23 3533 3137   fails. ([\#5317
+00018bd0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00018be0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00018bf0: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
+00018c00: 3331 3729 290a 2d20 456e 7375 7265 2074  317)).- Ensure t
+00018c10: 6861 7420 7765 2068 6176 6520 616e 2075  hat we have an u
+00018c20: 702d 746f 2d64 6174 6520 636f 7079 206f  p-to-date copy o
+00018c30: 6620 7468 6520 7369 676e 696e 6720 6b65  f the signing ke
+00018c40: 7920 7768 656e 2076 616c 6964 6174 696e  y when validatin
+00018c50: 6720 696e 636f 6d69 6e67 2066 6564 6572  g incoming feder
+00018c60: 6174 696f 6e20 7265 7175 6573 7473 2e20  ation requests. 
+00018c70: 285b 5c23 3533 3231 5d28 6874 7470 733a  ([\#5321](https:
+00018c80: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00018c90: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00018ca0: 6973 7375 6573 2f35 3332 3129 290a 2d20  issues/5321)).- 
+00018cb0: 4669 7820 7661 7269 6f75 7320 7072 6f62  Fix various prob
+00018cc0: 6c65 6d73 2077 6869 6368 206d 6164 6520  lems which made 
+00018cd0: 7468 6520 7369 676e 696e 672d 6b65 7920  the signing-key 
+00018ce0: 6e6f 7461 7279 2073 6572 7665 7220 7469  notary server ti
+00018cf0: 6d65 206f 7574 2066 6f72 2073 6f6d 6520  me out for some 
+00018d00: 7265 7175 6573 7473 2e20 285b 5c23 3533  requests. ([\#53
+00018d10: 3333 5d28 6874 7470 733a 2f2f 6769 7468  33](https://gith
+00018d20: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00018d30: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00018d40: 2f35 3333 3329 290a 2d20 4669 7820 6275  /5333)).- Fix bu
+00018d50: 6720 7768 6963 6820 776f 756c 6420 6d61  g which would ma
+00018d60: 6b65 2063 6572 7461 696e 206f 7065 7261  ke certain opera
+00018d70: 7469 6f6e 7320 2873 7563 6820 6173 2072  tions (such as r
+00018d80: 6f6f 6d20 6a6f 696e 7329 2062 6c6f 636b  oom joins) block
+00018d90: 2066 6f72 2032 3020 6d69 6e75 7465 7320   for 20 minutes 
+00018da0: 7768 696c 6520 6174 7465 6d6f 7469 6e67  while attemoting
+00018db0: 2074 6f20 6665 7463 6820 7665 7269 6669   to fetch verifi
+00018dc0: 6361 7469 6f6e 206b 6579 732e 2028 5b5c  cation keys. ([\
+00018dd0: 2335 3333 345d 2868 7474 7073 3a2f 2f67  #5334](https://g
+00018de0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00018df0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00018e00: 7565 732f 3533 3334 2929 0a2d 2046 6978  ues/5334)).- Fix
+00018e10: 2061 2062 7567 2077 6865 7265 2077 6520   a bug where we 
+00018e20: 636f 756c 6420 7261 7069 646c 7920 6d61  could rapidly ma
+00018e30: 726b 2061 2073 6572 7665 7220 6173 2075  rk a server as u
+00018e40: 6e72 6561 6368 6162 6c65 2065 7665 6e20  nreachable even 
+00018e50: 7468 6f75 6768 2069 7420 7761 7320 6f6e  though it was on
+00018e60: 6c79 2064 6f77 6e20 666f 7220 6120 6665  ly down for a fe
+00018e70: 7720 6d69 6e75 7465 732e 2028 5b5c 2335  w minutes. ([\#5
+00018e80: 3333 355d 2868 7474 7073 3a2f 2f67 6974  335](https://git
+00018e90: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00018ea0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+00018eb0: 732f 3533 3335 292c 205b 5c23 3533 3430  s/5335), [\#5340
+00018ec0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00018ed0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00018ee0: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
+00018ef0: 3334 3029 290a 2d20 4669 7820 6120 6275  340)).- Fix a bu
+00018f00: 6720 7768 6572 6520 6163 636f 756e 7420  g where account 
+00018f10: 7661 6c69 6469 7479 2072 656e 6577 616c  validity renewal
+00018f20: 2065 6d61 696c 7320 636f 756c 6420 6f6e   emails could on
+00018f30: 6c79 2062 6520 7365 6e74 2077 6865 6e20  ly be sent when 
+00018f40: 656d 6169 6c20 6e6f 7469 6673 2077 6572  email notifs wer
+00018f50: 6520 656e 6162 6c65 642e 2028 5b5c 2335  e enabled. ([\#5
+00018f60: 3334 315d 2868 7474 7073 3a2f 2f67 6974  341](https://git
+00018f70: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00018f80: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+00018f90: 732f 3533 3431 2929 0a2d 2046 6978 2066  s/5341)).- Fix f
+00018fa0: 6169 6c75 7265 2077 6865 6e20 6665 7463  ailure when fetc
+00018fb0: 6869 6e67 2062 6174 6368 6573 206f 6620  hing batches of 
+00018fc0: 6576 656e 7473 2064 7572 696e 6720 6261  events during ba
+00018fd0: 636b 6669 6c6c 2c20 6574 632e 2028 5b5c  ckfill, etc. ([\
+00018fe0: 2335 3334 325d 2868 7474 7073 3a2f 2f67  #5342](https://g
+00018ff0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00019000: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00019010: 7565 732f 3533 3432 2929 0a2d 2041 6464  ues/5342)).- Add
+00019020: 2061 206e 6577 2072 6f6f 6d20 7665 7273   a new room vers
+00019030: 696f 6e20 7768 6572 6520 7468 6520 7469  ion where the ti
+00019040: 6d65 7374 616d 7073 206f 6e20 6576 656e  mestamps on even
+00019050: 7473 2061 7265 2063 6865 636b 6564 2061  ts are checked a
+00019060: 6761 696e 7374 2074 6865 2076 616c 6964  gainst the valid
+00019070: 6974 7920 7065 7269 6f64 7320 6f6e 2073  ity periods on s
+00019080: 6967 6e69 6e67 206b 6579 732e 2028 5b5c  igning keys. ([\
+00019090: 2335 3334 385d 2868 7474 7073 3a2f 2f67  #5348](https://g
+000190a0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+000190b0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+000190c0: 7565 732f 3533 3438 292c 205b 5c23 3533  ues/5348), [\#53
+000190d0: 3534 5d28 6874 7470 733a 2f2f 6769 7468  54](https://gith
+000190e0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+000190f0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00019100: 2f35 3335 3429 290a 2d20 4669 7820 726f  /5354)).- Fix ro
+00019110: 6f6d 2073 7461 7473 2061 6e64 2070 7265  om stats and pre
+00019120: 7365 6e63 6520 6261 636b 6772 6f75 6e64  sence background
+00019130: 2075 7064 6174 6573 2074 6f20 636f 7272   updates to corr
+00019140: 6563 746c 7920 6861 6e64 6c65 206d 6973  ectly handle mis
+00019150: 7369 6e67 2065 7665 6e74 732e 2028 5b5c  sing events. ([\
+00019160: 2335 3335 325d 2868 7474 7073 3a2f 2f67  #5352](https://g
+00019170: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00019180: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00019190: 7565 732f 3533 3532 2929 0a2d 2049 6e63  ues/5352)).- Inc
+000191a0: 6c75 6465 206c 6566 7420 6d65 6d62 6572  lude left member
+000191b0: 7320 696e 2072 6f6f 6d20 7375 6d6d 6172  s in room summar
+000191c0: 6965 7327 2068 6572 6f65 732e 2028 5b5c  ies' heroes. ([\
+000191d0: 2335 3335 355d 2868 7474 7073 3a2f 2f67  #5355](https://g
+000191e0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+000191f0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00019200: 7565 732f 3533 3535 2929 0a2d 2046 6978  ues/5355)).- Fix
+00019210: 2060 6665 6465 7261 7469 6f6e 5f63 7573   `federation_cus
+00019220: 746f 6d5f 6361 5f6c 6973 7460 2063 6f6e  tom_ca_list` con
+00019230: 6669 6775 7261 7469 6f6e 206f 7074 696f  figuration optio
+00019240: 6e2e 2028 5b5c 2335 3336 325d 2868 7474  n. ([\#5362](htt
+00019250: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00019260: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00019270: 7365 2f69 7373 7565 732f 3533 3632 2929  se/issues/5362))
+00019280: 0a2d 2046 6978 206d 6973 7369 6e67 206c  .- Fix missing l
+00019290: 6f67 636f 6e74 6578 7420 7761 726e 696e  ogcontext warnin
+000192a0: 6773 206f 6e20 7368 7574 646f 776e 2e20  gs on shutdown. 
+000192b0: 285b 5c23 3533 3639 5d28 6874 7470 733a  ([\#5369](https:
+000192c0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+000192d0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+000192e0: 6973 7375 6573 2f35 3336 3929 290a 0a0a  issues/5369))...
+000192f0: 496d 7072 6f76 6564 2044 6f63 756d 656e  Improved Documen
+00019300: 7461 7469 6f6e 0a2d 2d2d 2d2d 2d2d 2d2d  tation.---------
+00019310: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a 0a2d  -------------..-
+00019320: 2046 6978 2064 6f63 7320 6f6e 2072 6573   Fix docs on res
+00019330: 6574 7469 6e67 2074 6865 2075 7365 7220  etting the user 
+00019340: 6469 7265 6374 6f72 792e 2028 5b5c 2335  directory. ([\#5
+00019350: 3238 325d 2868 7474 7073 3a2f 2f67 6974  282](https://git
+00019360: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00019370: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+00019380: 732f 3532 3832 2929 0a2d 2046 6978 206e  s/5282)).- Fix n
+00019390: 6f74 6573 2061 626f 7574 2041 434d 4520  otes about ACME 
+000193a0: 696e 2074 6865 204d 5343 3137 3131 2066  in the MSC1711 f
+000193b0: 6171 2e20 285b 5c23 3533 3537 5d28 6874  aq. ([\#5357](ht
+000193c0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+000193d0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+000193e0: 7073 652f 6973 7375 6573 2f35 3335 3729  pse/issues/5357)
+000193f0: 290a 0a0a 496e 7465 726e 616c 2043 6861  )...Internal Cha
+00019400: 6e67 6573 0a2d 2d2d 2d2d 2d2d 2d2d 2d2d  nges.-----------
+00019410: 2d2d 2d2d 2d0a 0a2d 2053 796e 6170 7365  -----..- Synapse
+00019420: 2077 696c 6c20 6e6f 7720 7365 7276 6520   will now serve 
+00019430: 7468 6520 6578 7065 7269 6d65 6e74 616c  the experimental
+00019440: 2022 726f 6f6d 2063 6f6d 706c 6578 6974   "room complexit
+00019450: 7922 2041 5049 2065 6e64 706f 696e 742e  y" API endpoint.
+00019460: 2028 5b5c 2335 3231 365d 2868 7474 7073   ([\#5216](https
+00019470: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00019480: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00019490: 2f69 7373 7565 732f 3532 3136 2929 0a2d  /issues/5216)).-
+000194a0: 2054 6865 2062 6173 6520 636c 6173 7365   The base classe
+000194b0: 7320 666f 7220 7468 6520 7631 2061 6e64  s for the v1 and
+000194c0: 2076 325f 616c 7068 6120 5245 5354 2041   v2_alpha REST A
+000194d0: 5049 7320 6861 7665 2062 6565 6e20 756e  PIs have been un
+000194e0: 6966 6965 642e 2028 5b5c 2335 3232 365d  ified. ([\#5226]
+000194f0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00019500: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+00019510: 796e 6170 7365 2f69 7373 7565 732f 3532  ynapse/issues/52
+00019520: 3236 292c 205b 5c23 3533 3238 5d28 6874  26), [\#5328](ht
+00019530: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00019540: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+00019550: 7073 652f 6973 7375 6573 2f35 3332 3829  pse/issues/5328)
+00019560: 290a 2d20 5369 6d70 6c69 6669 6361 7469  ).- Simplificati
+00019570: 6f6e 7320 616e 6420 636f 6d6d 656e 7473  ons and comments
+00019580: 2069 6e20 646f 5f61 7574 682e 2028 5b5c   in do_auth. ([\
+00019590: 2335 3232 375d 2868 7474 7073 3a2f 2f67  #5227](https://g
+000195a0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+000195b0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+000195c0: 7565 732f 3532 3237 2929 0a2d 2052 656d  ues/5227)).- Rem
+000195d0: 6f76 6520 7572 6c6c 6962 3320 7069 6e20  ove urllib3 pin 
+000195e0: 6173 2072 6571 7565 7374 7320 322e 3232  as requests 2.22
+000195f0: 2e30 2068 6173 2062 6565 6e20 7265 6c65  .0 has been rele
+00019600: 6173 6564 2073 7570 706f 7274 696e 6720  ased supporting 
+00019610: 7572 6c6c 6962 3320 312e 3235 2e32 2e20  urllib3 1.25.2. 
+00019620: 285b 5c23 3532 3330 5d28 6874 7470 733a  ([\#5230](https:
+00019630: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00019640: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00019650: 6973 7375 6573 2f35 3233 3029 290a 2d20  issues/5230)).- 
+00019660: 5072 6570 6172 6174 6f72 7920 776f 726b  Preparatory work
+00019670: 2066 6f72 206b 6579 2d76 616c 6964 6974   for key-validit
+00019680: 7920 6665 6174 7572 6573 2e20 285b 5c23  y features. ([\#
+00019690: 3532 3332 5d28 6874 7470 733a 2f2f 6769  5232](https://gi
+000196a0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+000196b0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+000196c0: 6573 2f35 3233 3229 2c20 5b5c 2335 3233  es/5232), [\#523
+000196d0: 345d 2868 7474 7073 3a2f 2f67 6974 6875  4](https://githu
+000196e0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+000196f0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00019700: 3532 3334 292c 205b 5c23 3532 3335 5d28  5234), [\#5235](
+00019710: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00019720: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00019730: 6e61 7073 652f 6973 7375 6573 2f35 3233  napse/issues/523
+00019740: 3529 2c20 5b5c 2335 3233 365d 2868 7474  5), [\#5236](htt
+00019750: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00019760: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00019770: 7365 2f69 7373 7565 732f 3532 3336 292c  se/issues/5236),
+00019780: 205b 5c23 3532 3337 5d28 6874 7470 733a   [\#5237](https:
+00019790: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+000197a0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+000197b0: 6973 7375 6573 2f35 3233 3729 2c20 5b5c  issues/5237), [\
+000197c0: 2335 3234 345d 2868 7474 7073 3a2f 2f67  #5244](https://g
+000197d0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+000197e0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+000197f0: 7565 732f 3532 3434 292c 205b 5c23 3532  ues/5244), [\#52
+00019800: 3530 5d28 6874 7470 733a 2f2f 6769 7468  50](https://gith
+00019810: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00019820: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00019830: 2f35 3235 3029 2c20 5b5c 2335 3239 365d  /5250), [\#5296]
+00019840: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00019850: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+00019860: 796e 6170 7365 2f69 7373 7565 732f 3532  ynapse/issues/52
+00019870: 3936 292c 205b 5c23 3532 3939 5d28 6874  96), [\#5299](ht
+00019880: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00019890: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+000198a0: 7073 652f 6973 7375 6573 2f35 3239 3929  pse/issues/5299)
+000198b0: 2c20 5b5c 2335 3334 335d 2868 7474 7073  , [\#5343](https
+000198c0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+000198d0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+000198e0: 2f69 7373 7565 732f 3533 3433 292c 205b  /issues/5343), [
+000198f0: 5c23 3533 3437 5d28 6874 7470 733a 2f2f  \#5347](https://
+00019900: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00019910: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00019920: 7375 6573 2f35 3334 3729 2c20 5b5c 2335  sues/5347), [\#5
+00019930: 3335 365d 2868 7474 7073 3a2f 2f67 6974  356](https://git
+00019940: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00019950: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+00019960: 732f 3533 3536 2929 0a2d 2053 7065 6369  s/5356)).- Speci
+00019970: 6679 2074 6865 2074 7970 6520 6f66 2072  fy the type of r
+00019980: 6543 4150 5443 4841 206b 6579 2074 6f20  eCAPTCHA key to 
+00019990: 7573 652e 2028 5b5c 2335 3238 335d 2868  use. ([\#5283](h
+000199a0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+000199b0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+000199c0: 6170 7365 2f69 7373 7565 732f 3532 3833  apse/issues/5283
+000199d0: 2929 0a2d 2049 6d70 726f 7665 2073 616d  )).- Improve sam
+000199e0: 706c 6520 636f 6e66 6967 2066 6f72 206d  ple config for m
+000199f0: 6f6e 7468 6c79 2061 6374 6976 6520 7573  onthly active us
+00019a00: 6572 2062 6c6f 636b 696e 672e 2028 5b5c  er blocking. ([\
+00019a10: 2335 3238 345d 2868 7474 7073 3a2f 2f67  #5284](https://g
+00019a20: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00019a30: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00019a40: 7565 732f 3532 3834 2929 0a2d 2052 656d  ues/5284)).- Rem
+00019a50: 6f76 6520 7370 7572 696f 7573 2064 6562  ove spurious deb
+00019a60: 7567 2066 726f 6d20 4d61 7472 6978 4665  ug from MatrixFe
+00019a70: 6465 7261 7469 6f6e 4874 7470 436c 6965  derationHttpClie
+00019a80: 6e74 2e67 6574 5f6a 736f 6e2e 2028 5b5c  nt.get_json. ([\
+00019a90: 2335 3238 375d 2868 7474 7073 3a2f 2f67  #5287](https://g
+00019aa0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00019ab0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00019ac0: 7565 732f 3532 3837 2929 0a2d 2049 6d70  ues/5287)).- Imp
+00019ad0: 726f 7665 206c 6f67 6769 6e67 2066 6f72  rove logging for
+00019ae0: 206c 6f67 636f 6e74 6578 7420 6c65 616b   logcontext leak
+00019af0: 732e 2028 5b5c 2335 3238 385d 2868 7474  s. ([\#5288](htt
+00019b00: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00019b10: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00019b20: 7365 2f69 7373 7565 732f 3532 3838 2929  se/issues/5288))
+00019b30: 0a2d 2043 6c61 7269 6679 2074 6861 7420  .- Clarify that 
+00019b40: 7468 6520 6164 6d69 6e20 6368 616e 6765  the admin change
+00019b50: 2070 6173 7377 6f72 6420 4150 4920 6c6f   password API lo
+00019b60: 6773 2074 6865 2075 7365 7220 6f75 742e  gs the user out.
+00019b70: 2028 5b5c 2335 3330 335d 2868 7474 7073   ([\#5303](https
+00019b80: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00019b90: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00019ba0: 2f69 7373 7565 732f 3533 3033 2929 0a2d  /issues/5303)).-
+00019bb0: 204e 6577 2069 6e73 7461 6c6c 7320 7769   New installs wi
+00019bc0: 6c6c 206e 6f77 2075 7365 2074 6865 2076  ll now use the v
+00019bd0: 3534 2066 756c 6c20 7363 6865 6d61 2c20  54 full schema, 
+00019be0: 7261 7468 6572 2074 6861 6e20 7468 6520  rather than the 
+00019bf0: 6675 6c6c 2073 6368 656d 6120 7631 3420  full schema v14 
+00019c00: 616e 6420 6170 706c 7969 6e67 2069 6e63  and applying inc
+00019c10: 7265 6d65 6e74 616c 2075 7064 6174 6573  remental updates
+00019c20: 2074 6f20 7635 342e 2028 5b5c 2335 3332   to v54. ([\#532
+00019c30: 305d 2868 7474 7073 3a2f 2f67 6974 6875  0](https://githu
+00019c40: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00019c50: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00019c60: 3533 3230 2929 0a2d 2049 6d70 726f 7665  5320)).- Improve
+00019c70: 2064 6f63 7374 7269 6e67 7320 6f6e 204d   docstrings on M
+00019c80: 6174 7269 7846 6564 6572 6174 696f 6e43  atrixFederationC
+00019c90: 6c69 656e 742e 2028 5b5c 2335 3333 325d  lient. ([\#5332]
+00019ca0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00019cb0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+00019cc0: 796e 6170 7365 2f69 7373 7565 732f 3533  ynapse/issues/53
+00019cd0: 3332 2929 0a2d 2043 6c65 616e 2075 7020  32)).- Clean up 
+00019ce0: 4665 6465 7261 7469 6f6e 436c 6965 6e74  FederationClient
+00019cf0: 2e67 6574 5f65 7665 6e74 7320 666f 7220  .get_events for 
+00019d00: 636c 6172 6974 792e 2028 5b5c 2335 3334  clarity. ([\#534
+00019d10: 345d 2868 7474 7073 3a2f 2f67 6974 6875  4](https://githu
+00019d20: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00019d30: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00019d40: 3533 3434 2929 0a2d 2056 6172 696f 7573  5344)).- Various
+00019d50: 2069 6d70 726f 7665 6d65 6e74 7320 746f   improvements to
+00019d60: 2064 6562 7567 206c 6f67 6769 6e67 2e20   debug logging. 
+00019d70: 285b 5c23 3533 3533 5d28 6874 7470 733a  ([\#5353](https:
+00019d80: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00019d90: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00019da0: 6973 7375 6573 2f35 3335 3329 290a 2d20  issues/5353)).- 
+00019db0: 446f 6e27 7420 7275 6e20 4349 2062 7569  Don't run CI bui
+00019dc0: 6c64 2063 6865 636b 7320 756e 7469 6c20  ld checks until 
+00019dd0: 7361 6d70 6c65 2063 6f6e 6669 6720 6368  sample config ch
+00019de0: 6563 6b20 6861 7320 7061 7373 6564 2e20  eck has passed. 
+00019df0: 285b 5c23 3533 3730 5d28 6874 7470 733a  ([\#5370](https:
+00019e00: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00019e10: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00019e20: 6973 7375 6573 2f35 3337 3029 290a 2d20  issues/5370)).- 
+00019e30: 4175 746f 6d61 7469 6361 6c6c 7920 7265  Automatically re
+00019e40: 7472 7920 6275 696c 646b 6974 6520 6275  try buildkite bu
+00019e50: 696c 6473 2028 6d61 7820 7477 6963 6529  ilds (max twice)
+00019e60: 2077 6865 6e20 616e 2061 6765 6e74 2069   when an agent i
+00019e70: 7320 6c6f 7374 2e20 285b 5c23 3533 3830  s lost. ([\#5380
+00019e80: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00019e90: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00019ea0: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
+00019eb0: 3338 3029 290a 0a0a 5379 6e61 7073 6520  380))...Synapse 
+00019ec0: 302e 3939 2e35 2e32 2028 3230 3139 2d30  0.99.5.2 (2019-0
+00019ed0: 352d 3330 290a 3d3d 3d3d 3d3d 3d3d 3d3d  5-30).==========
+00019ee0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00019ef0: 3d3d 3d0a 0a42 7567 6669 7865 730a 2d2d  ===..Bugfixes.--
+00019f00: 2d2d 2d2d 2d2d 0a0a 2d20 4669 7820 6275  ------..- Fix bu
+00019f10: 6720 7768 6572 6520 7765 206c 6561 6b65  g where we leake
+00019f20: 6420 6578 7472 656d 6974 6965 7320 7768  d extremities wh
+00019f30: 656e 2077 6520 736f 6674 2066 6169 6c65  en we soft faile
+00019f40: 6420 6576 656e 7473 2c20 6c65 6164 696e  d events, leadin
+00019f50: 6720 746f 2070 6572 666f 726d 616e 6365  g to performance
+00019f60: 2064 6567 7261 6461 7469 6f6e 2e20 285b   degradation. ([
+00019f70: 5c23 3532 3734 5d28 6874 7470 733a 2f2f  \#5274](https://
+00019f80: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00019f90: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00019fa0: 7375 6573 2f35 3237 3429 2c20 5b5c 2335  sues/5274), [\#5
+00019fb0: 3237 385d 2868 7474 7073 3a2f 2f67 6974  278](https://git
+00019fc0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00019fd0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+00019fe0: 732f 3532 3738 292c 205b 5c23 3532 3931  s/5278), [\#5291
+00019ff0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0001a000: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+0001a010: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
+0001a020: 3239 3129 290a 0a0a 5379 6e61 7073 6520  291))...Synapse 
+0001a030: 302e 3939 2e35 2e31 2028 3230 3139 2d30  0.99.5.1 (2019-0
+0001a040: 352d 3232 290a 3d3d 3d3d 3d3d 3d3d 3d3d  5-22).==========
+0001a050: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0001a060: 3d3d 3d0a 0a30 2e39 392e 352e 3120 7375  ===..0.99.5.1 su
+0001a070: 7065 7273 6564 6573 2030 2e39 392e 3520  persedes 0.99.5 
+0001a080: 6475 6520 746f 206d 616c 666f 726d 6564  due to malformed
+0001a090: 2064 6562 6961 6e20 6368 616e 6765 6c6f   debian changelo
+0001a0a0: 6720 2d20 6e6f 2066 756e 6374 696f 6e61  g - no functiona
+0001a0b0: 6c20 6368 616e 6765 732e 0a0a 5379 6e61  l changes...Syna
+0001a0c0: 7073 6520 302e 3939 2e35 2028 3230 3139  pse 0.99.5 (2019
+0001a0d0: 2d30 352d 3232 290a 3d3d 3d3d 3d3d 3d3d  -05-22).========
+0001a0e0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0001a0f0: 3d3d 3d0a 0a4e 6f20 7369 676e 6966 6963  ===..No signific
+0001a100: 616e 7420 6368 616e 6765 732e 0a0a 0a53  ant changes....S
+0001a110: 796e 6170 7365 2030 2e39 392e 3572 6331  ynapse 0.99.5rc1
+0001a120: 2028 3230 3139 2d30 352d 3231 290a 3d3d   (2019-05-21).==
+0001a130: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0001a140: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 4665  ============..Fe
+0001a150: 6174 7572 6573 0a2d 2d2d 2d2d 2d2d 2d0a  atures.--------.
+0001a160: 0a2d 2041 6464 2061 6269 6c69 7479 2074  .- Add ability t
+0001a170: 6f20 626c 6163 6b6c 6973 7420 4950 2072  o blacklist IP r
+0001a180: 616e 6765 7320 666f 7220 7468 6520 6665  anges for the fe
+0001a190: 6465 7261 7469 6f6e 2063 6c69 656e 742e  deration client.
+0001a1a0: 2028 5b5c 2335 3034 335d 2868 7474 7073   ([\#5043](https
+0001a1b0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+0001a1c0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+0001a1d0: 2f69 7373 7565 732f 3530 3433 2929 0a2d  /issues/5043)).-
+0001a1e0: 2052 6174 656c 696d 6974 696e 6720 636f   Ratelimiting co
+0001a1f0: 6e66 6967 7572 6174 696f 6e20 666f 7220  nfiguration for 
+0001a200: 636c 6965 6e74 7320 7365 6e64 696e 6720  clients sending 
+0001a210: 6d65 7373 6167 6573 2061 6e64 2074 6865  messages and the
+0001a220: 2066 6564 6572 6174 696f 6e20 7365 7276   federation serv
+0001a230: 6572 2068 6173 2062 6565 6e20 616c 7465  er has been alte
+0001a240: 7265 6420 746f 206d 6174 6368 206c 6f67  red to match log
+0001a250: 696e 2072 6174 656c 696d 6974 696e 672e  in ratelimiting.
+0001a260: 2054 6865 206f 6c64 2063 6f6e 6669 6775   The old configu
+0001a270: 7261 7469 6f6e 206e 616d 6573 2077 696c  ration names wil
+0001a280: 6c20 636f 6e74 696e 7565 2077 6f72 6b69  l continue worki
+0001a290: 6e67 2e20 4368 6563 6b20 7468 6520 7361  ng. Check the sa
+0001a2a0: 6d70 6c65 2063 6f6e 6669 6720 666f 7220  mple config for 
+0001a2b0: 6465 7461 696c 7320 6f66 2074 6865 206e  details of the n
+0001a2c0: 6577 206e 616d 6573 2e20 285b 5c23 3531  ew names. ([\#51
+0001a2d0: 3831 5d28 6874 7470 733a 2f2f 6769 7468  81](https://gith
+0001a2e0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+0001a2f0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+0001a300: 2f35 3138 3129 290a 2d20 4472 6f70 2073  /5181)).- Drop s
+0001a310: 7570 706f 7274 2066 6f72 2074 6865 2075  upport for the u
+0001a320: 6e64 6f63 756d 656e 7465 6420 2f5f 6d61  ndocumented /_ma
+0001a330: 7472 6978 2f63 6c69 656e 742f 7632 5f61  trix/client/v2_a
+0001a340: 6c70 6861 2041 5049 2070 7265 6669 782e  lpha API prefix.
+0001a350: 2028 5b5c 2335 3139 305d 2868 7474 7073   ([\#5190](https
+0001a360: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+0001a370: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+0001a380: 2f69 7373 7565 732f 3531 3930 2929 0a2d  /issues/5190)).-
+0001a390: 2041 6464 2061 6e20 6f70 7469 6f6e 2074   Add an option t
+0001a3a0: 6f20 6469 7361 626c 6520 7065 722d 726f  o disable per-ro
+0001a3b0: 6f6d 2070 726f 6669 6c65 732e 2028 5b5c  om profiles. ([\
+0001a3c0: 2335 3139 365d 2868 7474 7073 3a2f 2f67  #5196](https://g
+0001a3d0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+0001a3e0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+0001a3f0: 7565 732f 3531 3936 2929 0a2d 2053 7469  ues/5196)).- Sti
+0001a400: 636b 2061 6e20 6578 7069 7261 7469 6f6e  ck an expiration
+0001a410: 2064 6174 6520 746f 2061 6e79 2072 6567   date to any reg
+0001a420: 6973 7465 7265 6420 7573 6572 206d 6973  istered user mis
+0001a430: 7369 6e67 206f 6e65 2061 7420 7374 6172  sing one at star
+0001a440: 7475 7020 6966 2061 6363 6f75 6e74 2076  tup if account v
+0001a450: 616c 6964 6974 7920 6973 2065 6e61 626c  alidity is enabl
+0001a460: 6564 2e20 285b 5c23 3532 3034 5d28 6874  ed. ([\#5204](ht
+0001a470: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+0001a480: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+0001a490: 7073 652f 6973 7375 6573 2f35 3230 3429  pse/issues/5204)
+0001a4a0: 290a 2d20 4164 6420 6578 7065 7269 6d65  ).- Add experime
+0001a4b0: 6e74 616c 2073 7570 706f 7274 2066 6f72  ntal support for
+0001a4c0: 2072 656c 6174 696f 6e73 2028 616b 6120   relations (aka 
+0001a4d0: 7265 6163 7469 6f6e 7320 616e 6420 6564  reactions and ed
+0001a4e0: 6974 7329 2e20 285b 5c23 3532 3039 5d28  its). ([\#5209](
+0001a4f0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0001a500: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+0001a510: 6e61 7073 652f 6973 7375 6573 2f35 3230  napse/issues/520
+0001a520: 3929 2c20 5b5c 2335 3231 315d 2868 7474  9), [\#5211](htt
+0001a530: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0001a540: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+0001a550: 7365 2f69 7373 7565 732f 3532 3131 292c  se/issues/5211),
+0001a560: 205b 5c23 3532 3033 5d28 6874 7470 733a   [\#5203](https:
+0001a570: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+0001a580: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+0001a590: 6973 7375 6573 2f35 3230 3329 2c20 5b5c  issues/5203), [\
+0001a5a0: 2335 3231 325d 2868 7474 7073 3a2f 2f67  #5212](https://g
+0001a5b0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+0001a5c0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+0001a5d0: 7565 732f 3532 3132 2929 0a2d 2041 6464  ues/5212)).- Add
+0001a5e0: 2061 2072 6f6f 6d20 7665 7273 696f 6e20   a room version 
+0001a5f0: 3420 7768 6963 6820 7573 6573 2061 206e  4 which uses a n
+0001a600: 6577 2065 7665 6e74 2049 4420 666f 726d  ew event ID form
+0001a610: 6174 2c20 6173 2070 6572 205b 4d53 4332  at, as per [MSC2
+0001a620: 3030 325d 2868 7474 7073 3a2f 2f67 6974  002](https://git
+0001a630: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+0001a640: 7267 2f6d 6174 7269 782d 646f 632f 7075  rg/matrix-doc/pu
+0001a650: 6c6c 2f32 3030 3229 2e20 285b 5c23 3532  ll/2002). ([\#52
+0001a660: 3130 5d28 6874 7470 733a 2f2f 6769 7468  10](https://gith
+0001a670: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+0001a680: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+0001a690: 2f35 3231 3029 2c20 5b5c 2335 3231 375d  /5210), [\#5217]
+0001a6a0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+0001a6b0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+0001a6c0: 796e 6170 7365 2f69 7373 7565 732f 3532  ynapse/issues/52
+0001a6d0: 3137 2929 0a0a 0a42 7567 6669 7865 730a  17))...Bugfixes.
+0001a6e0: 2d2d 2d2d 2d2d 2d2d 0a0a 2d20 4669 7820  --------..- Fix 
+0001a6f0: 696d 6167 6520 6f72 6965 6e74 6174 696f  image orientatio
+0001a700: 6e20 7768 656e 2067 656e 6572 6174 696e  n when generatin
+0001a710: 6720 7468 756d 626e 6169 6c73 2028 6e65  g thumbnails (ne
+0001a720: 6564 7320 7069 6c6c 6f77 3e3d 342e 332e  eds pillow>=4.3.
+0001a730: 3029 2e20 436f 6e74 7269 6275 7465 6420  0). Contributed 
+0001a740: 6279 2050 6175 2052 6f64 7269 6775 657a  by Pau Rodriguez
+0001a750: 2d45 7374 6976 696c 6c2e 2028 5b5c 2335  -Estivill. ([\#5
+0001a760: 3033 395d 2868 7474 7073 3a2f 2f67 6974  039](https://git
+0001a770: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+0001a780: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+0001a790: 732f 3530 3339 2929 0a2d 2045 7863 6c75  s/5039)).- Exclu
+0001a7a0: 6465 2073 6f66 742d 6661 696c 6564 2065  de soft-failed e
+0001a7b0: 7665 6e74 7320 6672 6f6d 2066 6f72 7761  vents from forwa
+0001a7c0: 7264 2d65 7874 7265 6d69 7479 2063 616e  rd-extremity can
+0001a7d0: 6469 6461 7465 733a 2066 6978 6573 2022  didates: fixes "
+0001a7e0: 4e6f 2066 6f72 7761 7264 2065 7874 7265  No forward extre
+0001a7f0: 6d69 7469 6573 206c 6566 7421 2220 6572  mities left!" er
+0001a800: 726f 722e 2028 5b5c 2335 3134 365d 2868  ror. ([\#5146](h
+0001a810: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0001a820: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+0001a830: 6170 7365 2f69 7373 7565 732f 3531 3436  apse/issues/5146
+0001a840: 2929 0a2d 2052 652d 6f72 6465 7220 7374  )).- Re-order st
+0001a850: 6167 6573 2069 6e20 7265 6769 7374 7261  ages in registra
+0001a860: 7469 6f6e 2066 6c6f 7773 2073 7563 6820  tion flows such 
+0001a870: 7468 6174 206d 7369 7364 6e20 616e 6420  that msisdn and 
+0001a880: 656d 6169 6c20 7665 7269 6669 6361 7469  email verificati
+0001a890: 6f6e 2061 7265 2064 6f6e 6520 6c61 7374  on are done last
+0001a8a0: 2e20 285b 5c23 3531 3734 5d28 6874 7470  . ([\#5174](http
+0001a8b0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+0001a8c0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+0001a8d0: 652f 6973 7375 6573 2f35 3137 3429 290a  e/issues/5174)).
+0001a8e0: 2d20 4669 7820 3370 6964 2067 7565 7374  - Fix 3pid guest
+0001a8f0: 2069 6e76 6974 6573 2e20 285b 5c23 3531   invites. ([\#51
+0001a900: 3737 5d28 6874 7470 733a 2f2f 6769 7468  77](https://gith
+0001a910: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+0001a920: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+0001a930: 2f35 3137 3729 290a 2d20 4669 7820 6120  /5177)).- Fix a 
+0001a940: 6275 6720 7768 6572 6520 7468 6520 7265  bug where the re
+0001a950: 6769 7374 6572 2065 6e64 706f 696e 7420  gister endpoint 
+0001a960: 776f 756c 6420 6661 696c 2077 6974 6820  would fail with 
+0001a970: 4d5f 5448 5245 4550 4944 5f49 4e5f 5553  M_THREEPID_IN_US
+0001a980: 4520 696e 7374 6561 6420 6f66 2072 6574  E instead of ret
+0001a990: 7572 6e69 6e67 2061 6e20 6163 636f 756e  urning an accoun
+0001a9a0: 7420 7072 6576 696f 7573 6c79 2072 6567  t previously reg
+0001a9b0: 6973 7465 7265 6420 696e 2074 6865 2073  istered in the s
+0001a9c0: 616d 6520 7365 7373 696f 6e2e 2028 5b5c  ame session. ([\
+0001a9d0: 2335 3138 375d 2868 7474 7073 3a2f 2f67  #5187](https://g
+0001a9e0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+0001a9f0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+0001aa00: 7565 732f 3531 3837 2929 0a2d 2050 7265  ues/5187)).- Pre
+0001aa10: 7665 6e74 2072 6567 6973 7472 6174 696f  vent registratio
+0001aa20: 6e20 666f 7220 7573 6572 2069 6473 2074  n for user ids t
+0001aa30: 6861 7420 6172 6520 746f 6f20 6c6f 6e67  hat are too long
+0001aa40: 2074 6f20 6669 7420 696e 746f 2061 2073   to fit into a s
+0001aa50: 7461 7465 206b 6579 2e20 436f 6e74 7269  tate key. Contri
+0001aa60: 6275 7465 6420 6279 2052 6569 6420 416e  buted by Reid An
+0001aa70: 6465 7273 6f6e 2e20 285b 5c23 3531 3938  derson. ([\#5198
+0001aa80: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0001aa90: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+0001aaa0: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
+0001aab0: 3139 3829 290a 2d20 4669 7820 696e 636f  198)).- Fix inco
+0001aac0: 6d70 6174 6962 696c 6974 7920 6265 7477  mpatibility betw
+0001aad0: 6565 6e20 4143 4d45 2073 7570 706f 7274  een ACME support
+0001aae0: 2061 6e64 2050 7974 686f 6e20 332e 352e   and Python 3.5.
+0001aaf0: 322e 2028 5b5c 2335 3231 385d 2868 7474  2. ([\#5218](htt
+0001ab00: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0001ab10: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+0001ab20: 7365 2f69 7373 7565 732f 3532 3138 2929  se/issues/5218))
+0001ab30: 0a2d 2046 6978 2065 7272 6f72 2068 616e  .- Fix error han
+0001ab40: 646c 696e 6720 666f 7220 726f 6f6d 7320  dling for rooms 
+0001ab50: 7768 6f73 6520 7665 7273 696f 6e73 2061  whose versions a
+0001ab60: 7265 2075 6e6b 6e6f 776e 2e20 285b 5c23  re unknown. ([\#
+0001ab70: 3532 3139 5d28 6874 7470 733a 2f2f 6769  5219](https://gi
+0001ab80: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+0001ab90: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+0001aba0: 6573 2f35 3231 3929 290a 0a0a 496e 7465  es/5219))...Inte
+0001abb0: 726e 616c 2043 6861 6e67 6573 0a2d 2d2d  rnal Changes.---
+0001abc0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a 0a2d  -------------..-
+0001abd0: 204d 616b 6520 2f73 796e 6320 6174 7465   Make /sync atte
+0001abe0: 6d70 7420 746f 2072 6574 7572 6e20 6465  mpt to return de
+0001abf0: 7669 6365 2075 7064 6174 6573 2066 6f72  vice updates for
+0001ac00: 2062 6f74 6820 6a6f 696e 6564 2061 6e64   both joined and
+0001ac10: 2069 6e76 6974 6564 2075 7365 7273 2e20   invited users. 
+0001ac20: 4e6f 7465 2074 6861 7420 7468 6973 2064  Note that this d
+0001ac30: 6f65 736e 2774 2063 7572 7265 6e74 6c79  oesn't currently
+0001ac40: 2077 6f72 6b20 636f 7272 6563 746c 7920   work correctly 
+0001ac50: 6475 6520 746f 206f 7468 6572 2062 7567  due to other bug
+0001ac60: 732e 2028 5b5c 2333 3438 345d 2868 7474  s. ([\#3484](htt
+0001ac70: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0001ac80: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+0001ac90: 7365 2f69 7373 7565 732f 3334 3834 2929  se/issues/3484))
+0001aca0: 0a2d 2055 7064 6174 6520 7465 7374 7320  .- Update tests 
+0001acb0: 746f 2063 6f6e 7369 7374 656e 746c 7920  to consistently 
+0001acc0: 6265 2063 6f6e 6669 6775 7265 6420 7669  be configured vi
+0001acd0: 6120 7468 6520 7361 6d65 2063 6f64 6520  a the same code 
+0001ace0: 7468 6174 2069 7320 7573 6564 2077 6865  that is used whe
+0001acf0: 6e20 6c6f 6164 696e 6720 6672 6f6d 2063  n loading from c
+0001ad00: 6f6e 6669 6775 7261 7469 6f6e 2066 696c  onfiguration fil
+0001ad10: 6573 2e20 285b 5c23 3531 3731 5d28 6874  es. ([\#5171](ht
+0001ad20: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+0001ad30: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+0001ad40: 7073 652f 6973 7375 6573 2f35 3137 3129  pse/issues/5171)
+0001ad50: 2c20 5b5c 2335 3138 355d 2868 7474 7073  , [\#5185](https
+0001ad60: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+0001ad70: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+0001ad80: 2f69 7373 7565 732f 3531 3835 2929 0a2d  /issues/5185)).-
+0001ad90: 2041 6c6c 6f77 2063 6c69 656e 7420 6576   Allow client ev
+0001ada0: 656e 7420 7365 7269 616c 697a 6174 696f  ent serializatio
+0001adb0: 6e20 746f 2062 6520 6173 796e 632e 2028  n to be async. (
+0001adc0: 5b5c 2335 3138 335d 2868 7474 7073 3a2f  [\#5183](https:/
+0001add0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+0001ade0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+0001adf0: 7373 7565 732f 3531 3833 2929 0a2d 2045  ssues/5183)).- E
+0001ae00: 7870 6f73 6520 4461 7461 5374 6f72 652e  xpose DataStore.
+0001ae10: 5f67 6574 5f65 7665 6e74 7320 6173 2067  _get_events as g
+0001ae20: 6574 5f65 7665 6e74 735f 6173 5f6c 6973  et_events_as_lis
+0001ae30: 742e 2028 5b5c 2335 3138 345d 2868 7474  t. ([\#5184](htt
+0001ae40: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0001ae50: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+0001ae60: 7365 2f69 7373 7565 732f 3531 3834 2929  se/issues/5184))
+0001ae70: 0a2d 204d 616b 6520 6765 6e65 7261 7469  .- Make generati
+0001ae80: 6e67 2053 514c 2062 6f75 6e64 7320 666f  ng SQL bounds fo
+0001ae90: 7220 7061 6769 6e61 7469 6f6e 2067 656e  r pagination gen
+0001aea0: 6572 6963 2e20 285b 5c23 3531 3931 5d28  eric. ([\#5191](
+0001aeb0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0001aec0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+0001aed0: 6e61 7073 652f 6973 7375 6573 2f35 3139  napse/issues/519
+0001aee0: 3129 290a 2d20 5374 6f70 2074 656c 6c69  1)).- Stop telli
+0001aef0: 6e67 2070 656f 706c 6520 746f 2069 6e73  ng people to ins
+0001af00: 7461 6c6c 2074 6865 206f 7074 696f 6e61  tall the optiona
+0001af10: 6c20 6465 7065 6e64 656e 6369 6573 2062  l dependencies b
+0001af20: 7920 6465 6661 756c 742e 2028 5b5c 2335  y default. ([\#5
+0001af30: 3139 375d 2868 7474 7073 3a2f 2f67 6974  197](https://git
+0001af40: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+0001af50: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+0001af60: 732f 3531 3937 2929 0a0a 0a53 796e 6170  s/5197))...Synap
+0001af70: 7365 2030 2e39 392e 3420 2832 3031 392d  se 0.99.4 (2019-
+0001af80: 3035 2d31 3529 0a3d 3d3d 3d3d 3d3d 3d3d  05-15).=========
+0001af90: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0001afa0: 3d3d 0a0a 4e6f 2073 6967 6e69 6669 6361  ==..No significa
+0001afb0: 6e74 2063 6861 6e67 6573 2e0a 0a0a 5379  nt changes....Sy
+0001afc0: 6e61 7073 6520 302e 3939 2e34 7263 3120  napse 0.99.4rc1 
+0001afd0: 2832 3031 392d 3035 2d31 3329 0a3d 3d3d  (2019-05-13).===
+0001afe0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0001aff0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a46 6561  ===========..Fea
+0001b000: 7475 7265 730a 2d2d 2d2d 2d2d 2d2d 0a0a  tures.--------..
+0001b010: 2d20 4164 6420 7379 7374 656d 642d 7079  - Add systemd-py
+0001b020: 7468 6f6e 2074 6f20 7468 6520 6f70 7469  thon to the opti
+0001b030: 6f6e 616c 2064 6570 656e 6465 6e63 6965  onal dependencie
+0001b040: 7320 746f 2065 6e61 626c 6520 6c6f 6767  s to enable logg
+0001b050: 696e 6720 746f 2074 6865 2073 7973 7465  ing to the syste
+0001b060: 6d64 206a 6f75 726e 616c 2e20 496e 7374  md journal. Inst
+0001b070: 616c 6c20 7769 7468 2060 7069 7020 696e  all with `pip in
+0001b080: 7374 616c 6c20 6d61 7472 6978 2d73 796e  stall matrix-syn
+0001b090: 6170 7365 5b73 7973 7465 6d64 5d60 2e20  apse[systemd]`. 
+0001b0a0: 285b 5c23 3433 3339 5d28 6874 7470 733a  ([\#4339](https:
+0001b0b0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+0001b0c0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+0001b0d0: 6973 7375 6573 2f34 3333 3929 290a 2d20  issues/4339)).- 
+0001b0e0: 4164 6420 6120 6465 6661 756c 7420 2e6d  Add a default .m
+0001b0f0: 2e72 756c 652e 746f 6d62 7374 6f6e 6520  .rule.tombstone 
+0001b100: 7075 7368 2072 756c 652e 2028 5b5c 2334  push rule. ([\#4
+0001b110: 3836 375d 2868 7474 7073 3a2f 2f67 6974  867](https://git
+0001b120: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+0001b130: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+0001b140: 732f 3438 3637 2929 0a2d 2041 6464 2061  s/4867)).- Add a
+0001b150: 6269 6c69 7479 2066 6f72 2070 6173 7377  bility for passw
+0001b160: 6f72 6420 7072 6f76 6964 6572 206d 6f64  ord provider mod
+0001b170: 756c 6573 2074 6f20 6269 6e64 2065 6d61  ules to bind ema
+0001b180: 696c 2061 6464 7265 7373 6573 2074 6f20  il addresses to 
+0001b190: 7573 6572 7320 7570 6f6e 2072 6567 6973  users upon regis
+0001b1a0: 7472 6174 696f 6e2e 2028 5b5c 2334 3934  tration. ([\#494
+0001b1b0: 375d 2868 7474 7073 3a2f 2f67 6974 6875  7](https://githu
+0001b1c0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+0001b1d0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+0001b1e0: 3439 3437 2929 0a2d 2049 6d70 6c65 6d65  4947)).- Impleme
+0001b1f0: 6e74 6174 696f 6e20 6f66 205b 4d53 4331  ntation of [MSC1
+0001b200: 3731 315d 2868 7474 7073 3a2f 2f67 6974  711](https://git
+0001b210: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+0001b220: 7267 2f6d 6174 7269 782d 646f 632f 7075  rg/matrix-doc/pu
+0001b230: 6c6c 2f31 3731 3129 2069 6e63 6c75 6469  ll/1711) includi
+0001b240: 6e67 2063 6f6e 6669 6720 6f70 7469 6f6e  ng config option
+0001b250: 7320 666f 7220 7265 7175 6972 696e 6720  s for requiring 
+0001b260: 7661 6c69 6420 544c 5320 6365 7274 6966  valid TLS certif
+0001b270: 6963 6174 6573 2066 6f72 2066 6564 6572  icates for feder
+0001b280: 6174 696f 6e20 7472 6166 6669 632c 2074  ation traffic, t
+0001b290: 6865 2061 6269 6c69 7479 2074 6f20 6469  he ability to di
+0001b2a0: 7361 626c 6520 544c 5320 7661 6c69 6461  sable TLS valida
+0001b2b0: 7469 6f6e 2066 6f72 2073 7065 6369 6669  tion for specifi
+0001b2c0: 6320 646f 6d61 696e 732c 2061 6e64 2074  c domains, and t
+0001b2d0: 6865 2061 6269 6c69 7479 2074 6f20 7370  he ability to sp
+0001b2e0: 6563 6966 7920 796f 7572 206f 776e 206c  ecify your own l
+0001b2f0: 6973 7420 6f66 2043 4120 6365 7274 6966  ist of CA certif
+0001b300: 6963 6174 6573 2e20 285b 5c23 3439 3637  icates. ([\#4967
+0001b310: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0001b320: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+0001b330: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
+0001b340: 3936 3729 290a 2d20 5265 6d6f 7665 2070  967)).- Remove p
+0001b350: 7265 7365 6e63 6520 6c69 7374 2073 7570  resence list sup
+0001b360: 706f 7274 2061 7320 7065 7220 4d53 4320  port as per MSC 
+0001b370: 3138 3139 2e20 285b 5c23 3439 3839 5d28  1819. ([\#4989](
+0001b380: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0001b390: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+0001b3a0: 6e61 7073 652f 6973 7375 6573 2f34 3938  napse/issues/498
+0001b3b0: 3929 290a 2d20 5265 6475 6365 2043 5055  9)).- Reduce CPU
+0001b3c0: 2075 7361 6765 2073 7461 7274 696e 6720   usage starting 
+0001b3d0: 7075 7368 6572 7320 6475 7269 6e67 2073  pushers during s
+0001b3e0: 7461 7274 2075 702e 2028 5b5c 2334 3939  tart up. ([\#499
+0001b3f0: 315d 2868 7474 7073 3a2f 2f67 6974 6875  1](https://githu
+0001b400: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+0001b410: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+0001b420: 3439 3931 2929 0a2d 2041 6464 2061 2064  4991)).- Add a d
+0001b430: 656c 6574 6520 6772 6f75 7020 6164 6d69  elete group admi
+0001b440: 6e20 4150 492e 2028 5b5c 2335 3030 325d  n API. ([\#5002]
+0001b450: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+0001b460: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+0001b470: 796e 6170 7365 2f69 7373 7565 732f 3530  ynapse/issues/50
+0001b480: 3032 2929 0a2d 2041 6464 2063 6f6e 6669  02)).- Add confi
+0001b490: 6720 6f70 7469 6f6e 2074 6f20 626c 6f63  g option to bloc
+0001b4a0: 6b20 7573 6572 7320 6672 6f6d 206c 6f6f  k users from loo
+0001b4b0: 6b69 6e67 2075 7020 3350 4944 732e 2028  king up 3PIDs. (
+0001b4c0: 5b5c 2335 3031 305d 2868 7474 7073 3a2f  [\#5010](https:/
+0001b4d0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+0001b4e0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+0001b4f0: 7373 7565 732f 3530 3130 2929 0a2d 2041  ssues/5010)).- A
+0001b500: 6464 2063 6f6e 7465 7874 2074 6f20 7068  dd context to ph
+0001b510: 6f6e 6568 6f6d 6520 7374 6174 732e 2028  onehome stats. (
+0001b520: 5b5c 2335 3032 305d 2868 7474 7073 3a2f  [\#5020](https:/
+0001b530: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+0001b540: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+0001b550: 7373 7565 732f 3530 3230 2929 0a2d 2043  ssues/5020)).- C
+0001b560: 6f6e 6669 6775 7265 2074 6865 2065 7861  onfigure the exa
+0001b570: 6d70 6c65 2073 7973 7465 6d64 2075 6e69  mple systemd uni
+0001b580: 7473 2074 6f20 6861 7665 2061 206c 6f67  ts to have a log
+0001b590: 2069 6465 6e74 6966 6965 7220 6f66 2060   identifier of `
+0001b5a0: 6d61 7472 6978 2d73 796e 6170 7365 600a  matrix-synapse`.
+0001b5b0: 2020 696e 7374 6561 6420 6f66 2074 6865    instead of the
+0001b5c0: 2065 7865 6375 7461 626c 6520 6e61 6d65   executable name
+0001b5d0: 2c20 6070 7974 686f 6e60 2e0a 2020 436f  , `python`..  Co
+0001b5e0: 6e74 7269 6275 7465 6420 6279 2043 6872  ntributed by Chr
+0001b5f0: 6973 746f 7068 204d c3bc 6c6c 6572 2e20  istoph M..ller. 
+0001b600: 285b 5c23 3530 3233 5d28 6874 7470 733a  ([\#5023](https:
+0001b610: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+0001b620: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+0001b630: 6973 7375 6573 2f35 3032 3329 290a 2d20  issues/5023)).- 
+0001b640: 4164 6420 7469 6d65 2d62 6173 6564 2061  Add time-based a
+0001b650: 6363 6f75 6e74 2065 7870 6972 6174 696f  ccount expiratio
+0001b660: 6e2e 2028 5b5c 2335 3032 375d 2868 7474  n. ([\#5027](htt
+0001b670: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0001b680: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+0001b690: 7365 2f69 7373 7565 732f 3530 3237 292c  se/issues/5027),
+0001b6a0: 205b 5c23 3530 3437 5d28 6874 7470 733a   [\#5047](https:
+0001b6b0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+0001b6c0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+0001b6d0: 6973 7375 6573 2f35 3034 3729 2c20 5b5c  issues/5047), [\
+0001b6e0: 2335 3037 335d 2868 7474 7073 3a2f 2f67  #5073](https://g
+0001b6f0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+0001b700: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+0001b710: 7565 732f 3530 3733 292c 205b 5c23 3531  ues/5073), [\#51
+0001b720: 3136 5d28 6874 7470 733a 2f2f 6769 7468  16](https://gith
+0001b730: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+0001b740: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+0001b750: 2f35 3131 3629 290a 2d20 4164 6420 7375  /5116)).- Add su
+0001b760: 7070 6f72 7420 666f 7220 6861 6e64 6c69  pport for handli
+0001b770: 6e67 2060 2f76 6572 7369 6f6e 7360 2c20  ng `/versions`, 
+0001b780: 602f 766f 6970 6020 616e 6420 602f 7075  `/voip` and `/pu
+0001b790: 7368 5f72 756c 6573 6020 636c 6965 6e74  sh_rules` client
+0001b7a0: 2065 6e64 706f 696e 7473 2074 6f20 636c   endpoints to cl
+0001b7b0: 6965 6e74 5f72 6561 6465 7220 776f 726b  ient_reader work
+0001b7c0: 6572 2e20 285b 5c23 3530 3633 5d28 6874  er. ([\#5063](ht
+0001b7d0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+0001b7e0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+0001b7f0: 7073 652f 6973 7375 6573 2f35 3036 3329  pse/issues/5063)
+0001b800: 2c20 5b5c 2335 3036 355d 2868 7474 7073  , [\#5065](https
+0001b810: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+0001b820: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+0001b830: 2f69 7373 7565 732f 3530 3635 292c 205b  /issues/5065), [
+0001b840: 5c23 3530 3730 5d28 6874 7470 733a 2f2f  \#5070](https://
+0001b850: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+0001b860: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+0001b870: 7375 6573 2f35 3037 3029 290a 2d20 4164  sues/5070)).- Ad
+0001b880: 6420 6120 636f 6e66 6967 7572 6174 696f  d a configuratio
+0001b890: 6e20 6f70 7469 6f6e 2074 6f20 7265 7175  n option to requ
+0001b8a0: 6972 6520 6175 7468 656e 7469 6361 7469  ire authenticati
+0001b8b0: 6f6e 206f 6e20 2f70 7562 6c69 6352 6f6f  on on /publicRoo
+0001b8c0: 6d73 2061 6e64 202f 7072 6f66 696c 6520  ms and /profile 
+0001b8d0: 656e 6470 6f69 6e74 732e 2028 5b5c 2335  endpoints. ([\#5
+0001b8e0: 3038 335d 2868 7474 7073 3a2f 2f67 6974  083](https://git
+0001b8f0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+0001b900: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+0001b910: 732f 3530 3833 2929 0a2d 204d 6f76 6520  s/5083)).- Move 
+0001b920: 6164 6d69 6e20 4150 4973 2074 6f20 602f  admin APIs to `/
+0001b930: 5f73 796e 6170 7365 2f61 646d 696e 2f76  _synapse/admin/v
+0001b940: 3160 2e20 2854 6865 206f 6c64 2070 6174  1`. (The old pat
+0001b950: 6873 2061 7265 2072 6574 6169 6e65 6420  hs are retained 
+0001b960: 666f 7220 6261 636b 7761 7264 732d 636f  for backwards-co
+0001b970: 6d70 6174 6962 696c 6974 792c 2066 6f72  mpatibility, for
+0001b980: 206e 6f77 292e 2028 5b5c 2335 3131 395d   now). ([\#5119]
+0001b990: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+0001b9a0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+0001b9b0: 796e 6170 7365 2f69 7373 7565 732f 3531  ynapse/issues/51
+0001b9c0: 3139 2929 0a2d 2049 6d70 6c65 6d65 6e74  19)).- Implement
+0001b9d0: 2061 6e20 6164 6d69 6e20 4150 4920 666f   an admin API fo
+0001b9e0: 7220 7365 6e64 696e 6720 7365 7276 6572  r sending server
+0001b9f0: 206e 6f74 6963 6573 2e20 4d61 6e79 2074   notices. Many t
+0001ba00: 6861 6e6b 7320 746f 2040 6b72 6f6d 6265  hanks to @krombe
+0001ba10: 6c20 7768 6f20 7072 6f76 6964 6564 2061  l who provided a
+0001ba20: 2066 6f75 6e64 6174 696f 6e20 666f 7220   foundation for 
+0001ba30: 7468 6973 2077 6f72 6b2e 2028 5b5c 2335  this work. ([\#5
+0001ba40: 3132 315d 2868 7474 7073 3a2f 2f67 6974  121](https://git
+0001ba50: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+0001ba60: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+0001ba70: 732f 3531 3231 292c 205b 5c23 3531 3432  s/5121), [\#5142
+0001ba80: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0001ba90: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+0001baa0: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
+0001bab0: 3134 3229 290a 0a0a 4275 6766 6978 6573  142))...Bugfixes
+0001bac0: 0a2d 2d2d 2d2d 2d2d 2d0a 0a2d 2041 766f  .--------..- Avo
+0001bad0: 6964 2072 6564 756e 6461 6e74 2055 524c  id redundant URL
+0001bae0: 2065 6e63 6f64 696e 6720 6f66 2072 6564   encoding of red
+0001baf0: 6972 6563 7420 5552 4c20 666f 7220 5353  irect URL for SS
+0001bb00: 4f20 6c6f 6769 6e20 696e 2074 6865 2066  O login in the f
+0001bb10: 616c 6c62 6163 6b20 6c6f 6769 6e20 7061  allback login pa
+0001bb20: 6765 2e20 4669 7865 7320 6120 7265 6772  ge. Fixes a regr
+0001bb30: 6573 7369 6f6e 2069 6e74 726f 6475 6365  ession introduce
+0001bb40: 6420 696e 205b 2334 3232 305d 2868 7474  d in [#4220](htt
+0001bb50: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0001bb60: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+0001bb70: 7365 2f70 756c 6c2f 3432 3230 292e 2043  se/pull/4220). C
+0001bb80: 6f6e 7472 6962 7574 6564 2062 7920 4d61  ontributed by Ma
+0001bb90: 7263 656c 2046 6162 6961 6e20 4b72 c3bc  rcel Fabian Kr..
+0001bba0: 6765 7220 2822 5b7a 6175 6769 6e5d 2868  ger ("[zaugin](h
+0001bbb0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0001bbc0: 6d2f 7a61 7567 7569 6e29 2229 2e20 285b  m/zauguin)"). ([
+0001bbd0: 5c23 3435 3535 5d28 6874 7470 733a 2f2f  \#4555](https://
+0001bbe0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+0001bbf0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+0001bc00: 7375 6573 2f34 3535 3529 290a 2d20 4669  sues/4555)).- Fi
+0001bc10: 7820 6275 6720 7768 6572 6520 7072 6573  x bug where pres
+0001bc20: 656e 6365 2075 7064 6174 6573 2077 6572  ence updates wer
+0001bc30: 6520 7365 6e74 2074 6f20 616c 6c20 7365  e sent to all se
+0001bc40: 7276 6572 7320 696e 2061 2072 6f6f 6d20  rvers in a room 
+0001bc50: 7768 656e 2061 206e 6577 2073 6572 7665  when a new serve
+0001bc60: 7220 6a6f 696e 6564 2c20 7261 7468 6572  r joined, rather
+0001bc70: 2074 6861 6e20 746f 206a 7573 7420 7468   than to just th
+0001bc80: 6520 6e65 7720 7365 7276 6572 2e20 285b  e new server. ([
+0001bc90: 5c23 3439 3432 5d28 6874 7470 733a 2f2f  \#4942](https://
+0001bca0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+0001bcb0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+0001bcc0: 7375 6573 2f34 3934 3229 2c20 5b5c 2335  sues/4942), [\#5
+0001bcd0: 3130 335d 2868 7474 7073 3a2f 2f67 6974  103](https://git
+0001bce0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+0001bcf0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+0001bd00: 732f 3531 3033 2929 0a2d 2046 6978 2073  s/5103)).- Fix s
+0001bd10: 796e 6320 6275 6720 7768 6963 6820 6d61  ync bug which ma
+0001bd20: 6465 2061 6363 6570 7469 6e67 2069 6e76  de accepting inv
+0001bd30: 6974 6573 2075 6e72 656c 6961 626c 6520  ites unreliable 
+0001bd40: 696e 2077 6f72 6b65 722d 6d6f 6465 2073  in worker-mode s
+0001bd50: 796e 6170 7365 732e 2028 5b5c 2334 3935  ynapses. ([\#495
+0001bd60: 355d 2868 7474 7073 3a2f 2f67 6974 6875  5](https://githu
+0001bd70: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+0001bd80: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+0001bd90: 3439 3535 292c 205b 5c23 3439 3536 5d28  4955), [\#4956](
+0001bda0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0001bdb0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+0001bdc0: 6e61 7073 652f 6973 7375 6573 2f34 3935  napse/issues/495
+0001bdd0: 3629 290a 2d20 7374 6172 742e 7368 3a20  6)).- start.sh: 
+0001bde0: 4669 7820 7468 6520 2d2d 6e6f 2d72 6174  Fix the --no-rat
+0001bdf0: 652d 6c69 6d69 7420 6f70 7469 6f6e 2066  e-limit option f
+0001be00: 6f72 206d 6573 7361 6765 7320 616e 6420  or messages and 
+0001be10: 6d61 6b65 2069 7420 6279 7061 7373 2072  make it bypass r
+0001be20: 6174 6520 6c69 6d69 7420 6f6e 2072 6567  ate limit on reg
+0001be30: 6973 7472 6174 696f 6e20 616e 6420 6c6f  istration and lo
+0001be40: 6769 6e20 746f 6f2e 2028 5b5c 2334 3938  gin too. ([\#498
+0001be50: 315d 2868 7474 7073 3a2f 2f67 6974 6875  1](https://githu
+0001be60: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+0001be70: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+0001be80: 3439 3831 2929 0a2d 2054 7261 6e73 6665  4981)).- Transfe
+0001be90: 7220 7265 6c61 7465 6420 6772 6f75 7073  r related groups
+0001bea0: 206f 6e20 726f 6f6d 2075 7067 7261 6465   on room upgrade
+0001beb0: 2e20 285b 5c23 3439 3930 5d28 6874 7470  . ([\#4990](http
+0001bec0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+0001bed0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+0001bee0: 652f 6973 7375 6573 2f34 3939 3029 290a  e/issues/4990)).
+0001bef0: 2d20 5072 6576 656e 7420 7468 6520 6162  - Prevent the ab
+0001bf00: 696c 6974 7920 746f 206b 6963 6b20 7573  ility to kick us
+0001bf10: 6572 7320 6672 6f6d 2061 2072 6f6f 6d20  ers from a room 
+0001bf20: 7468 6579 2061 7265 6e27 7420 696e 2e20  they aren't in. 
+0001bf30: 285b 5c23 3439 3939 5d28 6874 7470 733a  ([\#4999](https:
+0001bf40: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+0001bf50: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+0001bf60: 6973 7375 6573 2f34 3939 3929 290a 2d20  issues/4999)).- 
+0001bf70: 4669 7820 6973 7375 6520 2334 3539 3620  Fix issue #4596 
+0001bf80: 736f 2073 796e 6170 7365 5f70 6f72 745f  so synapse_port_
+0001bf90: 6462 2073 6372 6970 7420 776f 726b 7320  db script works 
+0001bfa0: 7769 7468 202d 2d63 7572 7365 7320 6f70  with --curses op
+0001bfb0: 7469 6f6e 206f 6e20 5079 7468 6f6e 2033  tion on Python 3
+0001bfc0: 2e20 436f 6e74 7269 6275 7465 6420 6279  . Contributed by
+0001bfd0: 2041 6e64 6572 7320 4a65 6e73 656e 2d57   Anders Jensen-W
+0001bfe0: 6175 6420 3c61 6e64 6572 7340 6a65 6e73  aud <anders@jens
+0001bff0: 656e 7761 7564 2e63 6f6d 3e2e 2028 5b5c  enwaud.com>. ([\
+0001c000: 2335 3030 335d 2868 7474 7073 3a2f 2f67  #5003](https://g
+0001c010: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+0001c020: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+0001c030: 7565 732f 3530 3033 2929 0a2d 2043 6c69  ues/5003)).- Cli
+0001c040: 656e 7473 2074 696d 696e 6720 6f75 742f  ents timing out/
+0001c050: 6469 7361 7070 6561 7269 6e67 2077 6869  disappearing whi
+0001c060: 6c65 2064 6f77 6e6c 6f61 6469 6e67 2066  le downloading f
+0001c070: 726f 6d20 7468 6520 6d65 6469 6120 7265  rom the media re
+0001c080: 706f 7369 746f 7279 2077 696c 6c20 6e6f  pository will no
+0001c090: 7720 6e6f 206c 6f6e 6765 7220 6c6f 6720  w no longer log 
+0001c0a0: 6120 7370 7572 696f 7573 2022 5072 6f64  a spurious "Prod
+0001c0b0: 7563 6572 2077 6173 206e 6f74 2075 6e72  ucer was not unr
+0001c0c0: 6567 6973 7465 7265 6422 206d 6573 7361  egistered" messa
+0001c0d0: 6765 2e20 285b 5c23 3530 3039 5d28 6874  ge. ([\#5009](ht
+0001c0e0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+0001c0f0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+0001c100: 7073 652f 6973 7375 6573 2f35 3030 3929  pse/issues/5009)
+0001c110: 290a 2d20 4669 7820 2263 616e 6e6f 7420  ).- Fix "cannot 
+0001c120: 696d 706f 7274 206e 616d 6520 6578 6563  import name exec
+0001c130: 7574 655f 6261 7463 6822 2065 7272 6f72  ute_batch" error
+0001c140: 2077 6974 6820 706f 7374 6772 6573 2e20   with postgres. 
+0001c150: 285b 5c23 3530 3332 5d28 6874 7470 733a  ([\#5032](https:
+0001c160: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+0001c170: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+0001c180: 6973 7375 6573 2f35 3033 3229 290a 2d20  issues/5032)).- 
+0001c190: 4669 7820 6469 7361 7070 6561 7269 6e67  Fix disappearing
+0001c1a0: 2065 7863 6570 7469 6f6e 7320 696e 206d   exceptions in m
+0001c1b0: 616e 686f 6c65 2e20 285b 5c23 3530 3335  anhole. ([\#5035
+0001c1c0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0001c1d0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+0001c1e0: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
+0001c1f0: 3033 3529 290a 2d20 576f 726b 6172 6f75  035)).- Workarou
+0001c200: 6e64 2062 7567 2069 6e20 7477 6973 7465  nd bug in twiste
+0001c210: 6420 7768 6572 6520 6174 7465 6d70 7469  d where attempti
+0001c220: 6e67 2074 6f6f 206d 616e 7920 636f 6e63  ng too many conc
+0001c230: 7572 7265 6e74 2044 4e53 2072 6571 7565  urrent DNS reque
+0001c240: 7374 7320 636f 756c 6420 6361 7573 6520  sts could cause 
+0001c250: 6974 2074 6f20 6861 6e67 2064 7565 2074  it to hang due t
+0001c260: 6f20 7275 6e6e 696e 6720 6f75 7420 6f66  o running out of
+0001c270: 2066 696c 6520 6465 7363 7269 7074 6f72   file descriptor
+0001c280: 732e 2028 5b5c 2335 3033 375d 2868 7474  s. ([\#5037](htt
+0001c290: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0001c2a0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+0001c2b0: 7365 2f69 7373 7565 732f 3530 3337 2929  se/issues/5037))
+0001c2c0: 0a2d 204d 616b 6520 7375 7265 2077 6527  .- Make sure we'
+0001c2d0: 7265 206e 6f74 2072 6567 6973 7465 7269  re not registeri
+0001c2e0: 6e67 2074 6865 2073 616d 6520 3370 6964  ng the same 3pid
+0001c2f0: 2074 7769 6365 206f 6e20 7265 6769 7374   twice on regist
+0001c300: 7261 7469 6f6e 2e20 285b 5c23 3530 3731  ration. ([\#5071
+0001c310: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0001c320: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+0001c330: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
+0001c340: 3037 3129 290a 2d20 446f 6e27 7420 6372  071)).- Don't cr
+0001c350: 6173 6820 6f6e 206c 6163 6b20 6f66 2065  ash on lack of e
+0001c360: 7870 6972 7920 7465 6d70 6c61 7465 732e  xpiry templates.
+0001c370: 2028 5b5c 2335 3037 375d 2868 7474 7073   ([\#5077](https
+0001c380: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+0001c390: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+0001c3a0: 2f69 7373 7565 732f 3530 3737 2929 0a2d  /issues/5077)).-
+0001c3b0: 2046 6978 2074 6865 2072 6174 656c 696d   Fix the ratelim
+0001c3c0: 6974 696e 6720 6f6e 2074 6869 7264 2070  iting on third p
+0001c3d0: 6172 7479 2069 6e76 6974 6573 2e20 285b  arty invites. ([
+0001c3e0: 5c23 3531 3034 5d28 6874 7470 733a 2f2f  \#5104](https://
+0001c3f0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+0001c400: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+0001c410: 7375 6573 2f35 3130 3429 290a 2d20 4164  sues/5104)).- Ad
+0001c420: 6420 736f 6d65 206d 6973 7369 6e67 206c  d some missing l
+0001c430: 696d 6974 6174 696f 6e73 2074 6f20 726f  imitations to ro
+0001c440: 6f6d 2061 6c69 6173 2063 7265 6174 696f  om alias creatio
+0001c450: 6e2e 2028 5b5c 2335 3132 345d 2868 7474  n. ([\#5124](htt
+0001c460: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0001c470: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+0001c480: 7365 2f69 7373 7565 732f 3531 3234 292c  se/issues/5124),
+0001c490: 205b 5c23 3531 3238 5d28 6874 7470 733a   [\#5128](https:
+0001c4a0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+0001c4b0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+0001c4c0: 6973 7375 6573 2f35 3132 3829 290a 2d20  issues/5128)).- 
+0001c4d0: 4c69 6d69 7420 7468 6520 6e75 6d62 6572  Limit the number
+0001c4e0: 206f 6620 4544 5573 2069 6e20 7472 616e   of EDUs in tran
+0001c4f0: 7361 6374 696f 6e73 2074 6f20 3130 3020  sactions to 100 
+0001c500: 6173 2065 7870 6563 7465 6420 6279 2073  as expected by s
+0001c510: 796e 6170 7365 2e20 5468 616e 6b73 2074  ynapse. Thanks t
+0001c520: 6f20 4073 7570 6572 626f 756d 2066 6f72  o @superboum for
+0001c530: 2074 6869 7320 776f 726b 2120 285b 5c23   this work! ([\#
+0001c540: 3531 3338 5d28 6874 7470 733a 2f2f 6769  5138](https://gi
+0001c550: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+0001c560: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+0001c570: 6573 2f35 3133 3829 290a 0a49 6e74 6572  es/5138))..Inter
+0001c580: 6e61 6c20 4368 616e 6765 730a 2d2d 2d2d  nal Changes.----
+0001c590: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 0a0a 2d20  ------------..- 
+0001c5a0: 4164 6420 7465 7374 2074 6f20 7665 7269  Add test to veri
+0001c5b0: 6679 2074 6872 6565 7069 6420 6175 7468  fy threepid auth
+0001c5c0: 2063 6865 636b 2061 6464 6564 2069 6e20   check added in 
+0001c5d0: 2334 3433 352e 2028 5b5c 2334 3437 345d  #4435. ([\#4474]
+0001c5e0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+0001c5f0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+0001c600: 796e 6170 7365 2f69 7373 7565 732f 3434  ynapse/issues/44
+0001c610: 3734 2929 0a2d 2046 6978 2f69 6d70 726f  74)).- Fix/impro
+0001c620: 7665 2073 6f6d 6520 646f 6373 7472 696e  ve some docstrin
+0001c630: 6773 2069 6e20 7468 6520 7265 706c 6963  gs in the replic
+0001c640: 6174 696f 6e20 636f 6465 2e20 285b 5c23  ation code. ([\#
+0001c650: 3439 3439 5d28 6874 7470 733a 2f2f 6769  4949](https://gi
+0001c660: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+0001c670: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+0001c680: 6573 2f34 3934 3929 290a 2d20 5370 6c69  es/4949)).- Spli
+0001c690: 7420 7379 6e61 7073 652e 7265 706c 6963  t synapse.replic
+0001c6a0: 6174 696f 6e2e 7463 702e 7374 7265 616d  ation.tcp.stream
+0001c6b0: 7320 696e 746f 2073 6d61 6c6c 6572 2066  s into smaller f
+0001c6c0: 696c 6573 2e20 285b 5c23 3439 3533 5d28  iles. ([\#4953](
+0001c6d0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0001c6e0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+0001c6f0: 6e61 7073 652f 6973 7375 6573 2f34 3935  napse/issues/495
+0001c700: 3329 290a 2d20 5265 6661 6374 6f72 2072  3)).- Refactor r
+0001c710: 6570 6c69 6361 7469 6f6e 2072 6f77 2067  eplication row g
+0001c720: 656e 6572 6174 696f 6e2f 7061 7273 696e  eneration/parsin
+0001c730: 672e 2028 5b5c 2334 3935 345d 2868 7474  g. ([\#4954](htt
+0001c740: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0001c750: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+0001c760: 7365 2f69 7373 7565 732f 3439 3534 2929  se/issues/4954))
+0001c770: 0a2d 2052 756e 2060 626c 6163 6b60 2074  .- Run `black` t
+0001c780: 6f20 636c 6561 6e20 7570 2066 6f72 6d61  o clean up forma
+0001c790: 7474 696e 6720 6f6e 2060 7379 6e61 7073  tting on `synaps
+0001c7a0: 652f 7374 6f72 6167 652f 726f 6f6d 6d65  e/storage/roomme
+0001c7b0: 6d62 6572 2e70 7960 2061 6e64 2060 7379  mber.py` and `sy
+0001c7c0: 6e61 7073 652f 7374 6f72 6167 652f 6576  napse/storage/ev
+0001c7d0: 656e 7473 2e70 7960 2e20 285b 5c23 3439  ents.py`. ([\#49
+0001c7e0: 3539 5d28 6874 7470 733a 2f2f 6769 7468  59](https://gith
+0001c7f0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+0001c800: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+0001c810: 2f34 3935 3929 290a 2d20 5265 6d6f 7665  /4959)).- Remove
+0001c820: 206c 6f67 206c 696e 6520 666f 7220 7061   log line for pa
+0001c830: 7373 776f 7264 2076 6961 2074 6865 2061  ssword via the a
+0001c840: 646d 696e 2041 5049 2e20 285b 5c23 3439  dmin API. ([\#49
+0001c850: 3635 5d28 6874 7470 733a 2f2f 6769 7468  65](https://gith
+0001c860: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+0001c870: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+0001c880: 2f34 3936 3529 290a 2d20 4669 7820 7479  /4965)).- Fix ty
+0001c890: 706f 2069 6e20 544c 5320 6669 6c65 6e61  po in TLS filena
+0001c8a0: 6d65 7320 696e 2064 6f63 6b65 722f 5245  mes in docker/RE
+0001c8b0: 4144 4d45 2e6d 642e 2041 6c73 6f20 6164  ADME.md. Also ad
+0001c8c0: 6420 7468 6520 272d 7027 2063 6f6d 6d61  d the '-p' comma
+0001c8d0: 6e64 6c69 6e65 206f 7074 696f 6e20 746f  ndline option to
+0001c8e0: 2074 6865 2027 646f 636b 6572 2072 756e   the 'docker run
+0001c8f0: 2720 6578 616d 706c 652e 2043 6f6e 7472  ' example. Contr
+0001c900: 6962 7574 6564 2062 7920 4a75 7272 6965  ibuted by Jurrie
+0001c910: 204f 7665 7267 6f6f 722e 2028 5b5c 2334   Overgoor. ([\#4
+0001c920: 3936 385d 2868 7474 7073 3a2f 2f67 6974  968](https://git
+0001c930: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+0001c940: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+0001c950: 732f 3439 3638 2929 0a2d 2052 6566 6163  s/4968)).- Refac
+0001c960: 746f 7220 726f 6f6d 2076 6572 7369 6f6e  tor room version
+0001c970: 2064 6566 696e 6974 696f 6e73 2e20 285b   definitions. ([
+0001c980: 5c23 3439 3639 5d28 6874 7470 733a 2f2f  \#4969](https://
+0001c990: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+0001c9a0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+0001c9b0: 7375 6573 2f34 3936 3929 290a 2d20 5265  sues/4969)).- Re
+0001c9c0: 6475 6365 206c 6f67 206c 6576 656c 206f  duce log level o
+0001c9d0: 6620 2e77 656c 6c2d 6b6e 6f77 6e2f 6d61  f .well-known/ma
+0001c9e0: 7472 6978 2f63 6c69 656e 7420 7265 7370  trix/client resp
+0001c9f0: 6f6e 7365 732e 2028 5b5c 2334 3937 325d  onses. ([\#4972]
+0001ca00: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+0001ca10: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+0001ca20: 796e 6170 7365 2f69 7373 7565 732f 3439  ynapse/issues/49
+0001ca30: 3732 2929 0a2d 2041 6464 2060 636f 6e66  72)).- Add `conf
+0001ca40: 6967 2e73 6967 6e69 6e67 5f6b 6579 5f70  ig.signing_key_p
+0001ca50: 6174 6860 2074 6861 7420 6361 6e20 6265  ath` that can be
+0001ca60: 2072 6561 6420 6279 2060 7379 6e61 7073   read by `synaps
+0001ca70: 652e 636f 6e66 6967 6020 7574 696c 6974  e.config` utilit
+0001ca80: 792e 2028 5b5c 2334 3937 345d 2868 7474  y. ([\#4974](htt
+0001ca90: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0001caa0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+0001cab0: 7365 2f69 7373 7565 732f 3439 3734 2929  se/issues/4974))
+0001cac0: 0a2d 2054 7261 636b 2077 6869 6368 2069  .- Track which i
+0001cad0: 6465 6e74 6974 7920 7365 7276 6572 2069  dentity server i
+0001cae0: 7320 7573 6564 2077 6865 6e20 6269 6e64  s used when bind
+0001caf0: 696e 6720 6120 7468 7265 6570 6964 2061  ing a threepid a
+0001cb00: 6e64 2075 7365 2074 6861 7420 666f 7220  nd use that for 
+0001cb10: 756e 6269 6e64 696e 672c 2061 7320 7065  unbinding, as pe
+0001cb20: 7220 4d53 4331 3931 352e 2028 5b5c 2334  r MSC1915. ([\#4
+0001cb30: 3938 325d 2868 7474 7073 3a2f 2f67 6974  982](https://git
+0001cb40: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+0001cb50: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+0001cb60: 732f 3439 3832 2929 0a2d 2052 6577 7269  s/4982)).- Rewri
+0001cb70: 7465 204b 6579 7269 6e67 5465 7374 4361  te KeyringTestCa
+0001cb80: 7365 2061 7320 6120 486f 6d65 7365 7276  se as a Homeserv
+0001cb90: 6572 5465 7374 4361 7365 2e20 285b 5c23  erTestCase. ([\#
+0001cba0: 3439 3835 5d28 6874 7470 733a 2f2f 6769  4985](https://gi
 0001cbb0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
 0001cbc0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-0001cbd0: 6573 2f34 3939 3629 290a 2d20 4669 7820  es/4996)).- Fix 
-0001cbe0: 6772 616d 6d61 7220 696e 2067 6574 5f63  grammar in get_c
-0001cbf0: 7572 7265 6e74 5f75 7365 7273 5f69 6e5f  urrent_users_in_
-0001cc00: 726f 6f6d 2061 6e64 2067 6976 6520 6974  room and give it
-0001cc10: 2061 2064 6f63 7374 7269 6e67 2e20 285b   a docstring. ([
-0001cc20: 5c23 3439 3938 5d28 6874 7470 733a 2f2f  \#4998](https://
-0001cc30: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-0001cc40: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-0001cc50: 7375 6573 2f34 3939 3829 290a 2d20 436c  sues/4998)).- Cl
-0001cc60: 6561 6e20 7570 2073 6f6d 6520 636f 6465  ean up some code
-0001cc70: 2069 6e20 7468 6520 7365 7276 6572 2d6b   in the server-k
-0001cc80: 6579 204b 6579 7269 6e67 2e20 285b 5c23  ey Keyring. ([\#
-0001cc90: 3530 3031 5d28 6874 7470 733a 2f2f 6769  5001](https://gi
-0001cca0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-0001ccb0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-0001ccc0: 6573 2f35 3030 3129 290a 2d20 436f 6e76  es/5001)).- Conv
-0001ccd0: 6572 7420 5359 4e41 5053 455f 4e4f 5f54  ert SYNAPSE_NO_T
-0001cce0: 4c53 2044 6f63 6b65 7220 7661 7269 6162  LS Docker variab
-0001ccf0: 6c65 2074 6f20 626f 6f6c 6561 6e20 666f  le to boolean fo
-0001cd00: 7220 7573 6572 2066 7269 656e 646c 696e  r user friendlin
-0001cd10: 6573 732e 2043 6f6e 7472 6962 7574 6564  ess. Contributed
-0001cd20: 2062 7920 4761 6272 6965 6c20 4563 6b65   by Gabriel Ecke
-0001cd30: 7273 6f6e 2e20 285b 5c23 3530 3035 5d28  rson. ([\#5005](
-0001cd40: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-0001cd50: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-0001cd60: 6e61 7073 652f 6973 7375 6573 2f35 3030  napse/issues/500
-0001cd70: 3529 290a 2d20 5265 6661 6374 6f72 2073  5)).- Refactor s
-0001cd80: 796e 6170 7365 2e73 746f 7261 6765 2e5f  ynapse.storage._
-0001cd90: 6261 7365 2e5f 7369 6d70 6c65 5f73 656c  base._simple_sel
-0001cda0: 6563 745f 6c69 7374 5f70 6167 696e 6174  ect_list_paginat
-0001cdb0: 652e 2028 5b5c 2335 3030 375d 2868 7474  e. ([\#5007](htt
-0001cdc0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-0001cdd0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-0001cde0: 7365 2f69 7373 7565 732f 3530 3037 2929  se/issues/5007))
-0001cdf0: 0a2d 2053 746f 7265 2074 6865 206e 6f74  .- Store the not
-0001ce00: 6172 7920 7365 7276 6572 206e 616d 6520  ary server name 
-0001ce10: 636f 7272 6563 746c 7920 696e 2073 6572  correctly in ser
-0001ce20: 7665 725f 6b65 7973 5f6a 736f 6e2e 2028  ver_keys_json. (
-0001ce30: 5b5c 2335 3032 345d 2868 7474 7073 3a2f  [\#5024](https:/
-0001ce40: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-0001ce50: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-0001ce60: 7373 7565 732f 3530 3234 2929 0a2d 2052  ssues/5024)).- R
-0001ce70: 6577 7269 7465 2044 6174 6173 746f 7265  ewrite Datastore
-0001ce80: 2e67 6574 5f73 6572 7665 725f 7665 7269  .get_server_veri
-0001ce90: 6679 5f6b 6579 7320 746f 2072 6564 7563  fy_keys to reduc
-0001cea0: 6520 7468 6520 6e75 6d62 6572 206f 6620  e the number of 
-0001ceb0: 6461 7461 6261 7365 2074 7261 6e73 6163  database transac
-0001cec0: 7469 6f6e 732e 2028 5b5c 2335 3033 305d  tions. ([\#5030]
-0001ced0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0001cee0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-0001cef0: 796e 6170 7365 2f69 7373 7565 732f 3530  ynapse/issues/50
-0001cf00: 3330 2929 0a2d 2052 656d 6f76 6520 6578  30)).- Remove ex
-0001cf10: 7472 616e 656f 7573 2070 6572 696f 6420  traneous period 
-0001cf20: 6672 6f6d 2063 6f70 7972 6967 6874 2068  from copyright h
-0001cf30: 6561 6465 7273 2e20 285b 5c23 3530 3436  eaders. ([\#5046
-0001cf40: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0001cf50: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-0001cf60: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
-0001cf70: 3034 3629 290a 2d20 5570 6461 7465 2064  046)).- Update d
-0001cf80: 6f63 756d 656e 7461 7469 6f6e 2066 6f72  ocumentation for
-0001cf90: 2077 6865 7265 2074 6f20 6765 7420 5379   where to get Sy
-0001cfa0: 6e61 7073 6520 7061 636b 6167 6573 2e20  napse packages. 
-0001cfb0: 285b 5c23 3530 3637 5d28 6874 7470 733a  ([\#5067](https:
-0001cfc0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-0001cfd0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-0001cfe0: 6973 7375 6573 2f35 3036 3729 290a 2d20  issues/5067)).- 
-0001cff0: 4164 6420 776f 726b 6172 6f75 6e64 7320  Add workarounds 
-0001d000: 666f 7220 7065 702d 3531 3720 696e 7374  for pep-517 inst
-0001d010: 616c 6c20 6572 726f 7273 2e20 285b 5c23  all errors. ([\#
-0001d020: 3530 3938 5d28 6874 7470 733a 2f2f 6769  5098](https://gi
-0001d030: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-0001d040: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-0001d050: 6573 2f35 3039 3829 290a 2d20 496d 7072  es/5098)).- Impr
-0001d060: 6f76 6520 6c6f 6767 696e 6720 7768 656e  ove logging when
-0001d070: 2065 7665 6e74 2d73 6967 6e61 7475 7265   event-signature
-0001d080: 2063 6865 636b 7320 6661 696c 2e20 285b   checks fail. ([
-0001d090: 5c23 3531 3030 5d28 6874 7470 733a 2f2f  \#5100](https://
-0001d0a0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-0001d0b0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-0001d0c0: 7375 6573 2f35 3130 3029 290a 2d20 4661  sues/5100)).- Fa
-0001d0d0: 6374 6f72 206f 7574 2061 6e20 2261 7373  ctor out an "ass
-0001d0e0: 6572 745f 7265 7175 6573 7465 725f 6973  ert_requester_is
-0001d0f0: 5f61 646d 696e 2220 6675 6e63 7469 6f6e  _admin" function
-0001d100: 2e20 285b 5c23 3531 3230 5d28 6874 7470  . ([\#5120](http
-0001d110: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-0001d120: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-0001d130: 652f 6973 7375 6573 2f35 3132 3029 290a  e/issues/5120)).
-0001d140: 2d20 5265 6d6f 7665 2074 6865 2072 6571  - Remove the req
-0001d150: 7569 7265 6d65 6e74 2074 6f20 6175 7468  uirement to auth
-0001d160: 656e 7469 6361 7465 2066 6f72 202f 6164  enticate for /ad
-0001d170: 6d69 6e2f 7365 7276 6572 5f76 6572 7369  min/server_versi
-0001d180: 6f6e 2e20 285b 5c23 3531 3232 5d28 6874  on. ([\#5122](ht
-0001d190: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0001d1a0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-0001d1b0: 7073 652f 6973 7375 6573 2f35 3132 3229  pse/issues/5122)
-0001d1c0: 290a 2d20 5072 6576 656e 7420 616e 2065  ).- Prevent an e
-0001d1d0: 7863 6570 7469 6f6e 2066 726f 6d20 6265  xception from be
-0001d1e0: 696e 6720 7261 6973 6564 2069 6e20 6120  ing raised in a 
-0001d1f0: 4952 6573 6f6c 7574 696f 6e52 6563 6569  IResolutionRecei
-0001d200: 7665 7220 616e 6420 7573 6520 6120 6d6f  ver and use a mo
-0001d210: 7265 2067 656e 6572 6963 2065 7272 6f72  re generic error
-0001d220: 206d 6573 7361 6765 2066 6f72 2062 6c61   message for bla
-0001d230: 636b 6c69 7374 6564 2055 524c 2070 7265  cklisted URL pre
-0001d240: 7669 6577 732e 2028 5b5c 2335 3135 355d  views. ([\#5155]
-0001d250: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0001d260: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-0001d270: 796e 6170 7365 2f69 7373 7565 732f 3531  ynapse/issues/51
-0001d280: 3535 2929 0a2d 2052 756e 2060 626c 6163  55)).- Run `blac
-0001d290: 6b60 206f 6e20 7468 6520 7465 7374 7320  k` on the tests 
-0001d2a0: 6469 7265 6374 6f72 792e 2028 5b5c 2335  directory. ([\#5
-0001d2b0: 3137 305d 2868 7474 7073 3a2f 2f67 6974  170](https://git
-0001d2c0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-0001d2d0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-0001d2e0: 732f 3531 3730 2929 0a2d 2046 6978 2043  s/5170)).- Fix C
-0001d2f0: 4920 6166 7465 7220 6e65 7720 7265 6c65  I after new rele
-0001d300: 6173 6520 6f66 2069 736f 7274 2e20 285b  ase of isort. ([
-0001d310: 5c23 3531 3739 5d28 6874 7470 733a 2f2f  \#5179](https://
-0001d320: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-0001d330: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-0001d340: 7375 6573 2f35 3137 3929 290a 2d20 4669  sues/5179)).- Fi
-0001d350: 7820 626f 6775 7320 696d 706f 7274 7320  x bogus imports 
-0001d360: 696e 2075 6e69 7420 7465 7374 732e 2028  in unit tests. (
-0001d370: 5b5c 2335 3135 345d 2868 7474 7073 3a2f  [\#5154](https:/
-0001d380: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-0001d390: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-0001d3a0: 7373 7565 732f 3531 3534 2929 0a0a 0a53  ssues/5154))...S
-0001d3b0: 796e 6170 7365 2030 2e39 392e 332e 3220  ynapse 0.99.3.2 
-0001d3c0: 2832 3031 392d 3035 2d30 3329 0a3d 3d3d  (2019-05-03).===
-0001d3d0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0001d3e0: 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 496e 7465  ==========..Inte
-0001d3f0: 726e 616c 2043 6861 6e67 6573 0a2d 2d2d  rnal Changes.---
-0001d400: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a 0a2d  -------------..-
-0001d410: 2045 6e73 7572 6520 7468 6174 2077 6520   Ensure that we 
-0001d420: 6861 7665 2060 7572 6c6c 6962 3360 203c  have `urllib3` <
-0001d430: 312e 3235 2c20 746f 2072 6573 6f6c 7665  1.25, to resolve
-0001d440: 2069 6e63 6f6d 7061 7469 6269 6c69 7479   incompatibility
-0001d450: 2077 6974 6820 6072 6571 7565 7374 7360   with `requests`
-0001d460: 2e20 285b 5c23 3531 3335 5d28 6874 7470  . ([\#5135](http
-0001d470: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-0001d480: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-0001d490: 652f 6973 7375 6573 2f35 3133 3529 290a  e/issues/5135)).
-0001d4a0: 0a0a 5379 6e61 7073 6520 302e 3939 2e33  ..Synapse 0.99.3
-0001d4b0: 2e31 2028 3230 3139 2d30 352d 3033 290a  .1 (2019-05-03).
-0001d4c0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0001d4d0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a53  =============..S
-0001d4e0: 6563 7572 6974 7920 7570 6461 7465 0a2d  ecurity update.-
-0001d4f0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 0a0a  --------------..
-0001d500: 5468 6973 2072 656c 6561 7365 2069 6e63  This release inc
-0001d510: 6c75 6465 7320 7477 6f20 7365 6375 7269  ludes two securi
-0001d520: 7479 2066 6978 6573 3a0a 0a2d 2053 7769  ty fixes:..- Swi
-0001d530: 7463 6820 746f 2075 7369 6e67 2061 2063  tch to using a c
-0001d540: 7279 7074 6f67 7261 7068 6963 616c 6c79  ryptographically
-0001d550: 2d73 6563 7572 6520 7261 6e64 6f6d 206e  -secure random n
-0001d560: 756d 6265 7220 6765 6e65 7261 746f 7220  umber generator 
-0001d570: 666f 7220 746f 6b65 6e20 7374 7269 6e67  for token string
-0001d580: 732c 2065 6e73 7572 696e 6720 7468 6579  s, ensuring they
-0001d590: 2063 616e 6e6f 7420 6265 2070 7265 6469   cannot be predi
-0001d5a0: 6374 6564 2062 7920 616e 2061 7474 6163  cted by an attac
-0001d5b0: 6b65 722e 2054 6861 6e6b 7320 746f 2040  ker. Thanks to @
-0001d5c0: 6f70 6e73 6563 2066 6f72 2069 6465 6e74  opnsec for ident
-0001d5d0: 6966 7969 6e67 2061 6e64 2072 6573 706f  ifying and respo
-0001d5e0: 6e73 6962 6c79 2064 6973 636c 6f73 696e  nsibly disclosin
-0001d5f0: 6720 7468 6973 2069 7373 7565 2120 285b  g this issue! ([
-0001d600: 5c23 3531 3333 5d28 6874 7470 733a 2f2f  \#5133](https://
-0001d610: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-0001d620: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-0001d630: 7375 6573 2f35 3133 3329 290a 2d20 426c  sues/5133)).- Bl
-0001d640: 6163 6b6c 6973 7420 302e 302e 302e 3020  acklist 0.0.0.0 
-0001d650: 616e 6420 3a3a 2062 7920 6465 6661 756c  and :: by defaul
-0001d660: 7420 666f 7220 5552 4c20 7072 6576 6965  t for URL previe
-0001d670: 7773 2e20 5468 616e 6b73 2074 6f20 406f  ws. Thanks to @o
-0001d680: 706e 7365 6320 666f 7220 6964 656e 7469  pnsec for identi
-0001d690: 6679 696e 6720 616e 6420 7265 7370 6f6e  fying and respon
-0001d6a0: 7369 626c 7920 6469 7363 6c6f 7369 6e67  sibly disclosing
-0001d6b0: 2074 6869 7320 6973 7375 6520 746f 6f21   this issue too!
-0001d6c0: 2028 5b5c 2335 3133 345d 2868 7474 7073   ([\#5134](https
-0001d6d0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-0001d6e0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-0001d6f0: 2f69 7373 7565 732f 3531 3334 2929 0a0a  /issues/5134))..
-0001d700: 5379 6e61 7073 6520 302e 3939 2e33 2028  Synapse 0.99.3 (
-0001d710: 3230 3139 2d30 342d 3031 290a 3d3d 3d3d  2019-04-01).====
-0001d720: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0001d730: 3d3d 3d3d 3d3d 3d0a 0a4e 6f20 7369 676e  =======..No sign
-0001d740: 6966 6963 616e 7420 6368 616e 6765 732e  ificant changes.
-0001d750: 0a0a 0a53 796e 6170 7365 2030 2e39 392e  ...Synapse 0.99.
-0001d760: 3372 6331 2028 3230 3139 2d30 332d 3237  3rc1 (2019-03-27
-0001d770: 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ).==============
-0001d780: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0001d790: 0a0a 4665 6174 7572 6573 0a2d 2d2d 2d2d  ..Features.-----
-0001d7a0: 2d2d 2d0a 0a2d 2054 6865 2075 7365 7220  ---..- The user 
-0001d7b0: 6469 7265 6374 6f72 7920 6861 7320 6265  directory has be
-0001d7c0: 656e 2072 6577 7269 7474 656e 2074 6f20  en rewritten to 
-0001d7d0: 6d61 6b65 2069 7420 6661 7374 6572 2c20  make it faster, 
-0001d7e0: 7769 7468 206c 6573 7320 6368 616e 6365  with less chance
-0001d7f0: 206f 6620 6661 6c6c 696e 6720 6265 6869   of falling behi
-0001d800: 6e64 206f 6e20 6120 6c61 7267 6520 7365  nd on a large se
-0001d810: 7276 6572 2e20 285b 5c23 3435 3337 5d28  rver. ([\#4537](
-0001d820: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-0001d830: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-0001d840: 6e61 7073 652f 6973 7375 6573 2f34 3533  napse/issues/453
-0001d850: 3729 2c20 5b5c 2334 3834 365d 2868 7474  7), [\#4846](htt
-0001d860: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-0001d870: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-0001d880: 7365 2f69 7373 7565 732f 3438 3436 292c  se/issues/4846),
-0001d890: 205b 5c23 3438 3634 5d28 6874 7470 733a   [\#4864](https:
-0001d8a0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-0001d8b0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-0001d8c0: 6973 7375 6573 2f34 3836 3429 2c20 5b5c  issues/4864), [\
-0001d8d0: 2334 3838 375d 2868 7474 7073 3a2f 2f67  #4887](https://g
-0001d8e0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-0001d8f0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-0001d900: 7565 732f 3438 3837 292c 205b 5c23 3439  ues/4887), [\#49
-0001d910: 3030 5d28 6874 7470 733a 2f2f 6769 7468  00](https://gith
-0001d920: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-0001d930: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-0001d940: 2f34 3930 3029 2c20 5b5c 2334 3934 345d  /4900), [\#4944]
-0001d950: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0001d960: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-0001d970: 796e 6170 7365 2f69 7373 7565 732f 3439  ynapse/issues/49
-0001d980: 3434 2929 0a2d 2041 6464 2063 6f6e 6669  44)).- Add confi
-0001d990: 6775 7261 626c 6520 7261 7465 206c 696d  gurable rate lim
-0001d9a0: 6974 696e 6720 746f 2074 6865 202f 7265  iting to the /re
-0001d9b0: 6769 7374 6572 2065 6e64 706f 696e 742e  gister endpoint.
-0001d9c0: 2028 5b5c 2334 3733 355d 2868 7474 7073   ([\#4735](https
-0001d9d0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-0001d9e0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-0001d9f0: 2f69 7373 7565 732f 3437 3335 292c 205b  /issues/4735), [
-0001da00: 5c23 3438 3034 5d28 6874 7470 733a 2f2f  \#4804](https://
-0001da10: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-0001da20: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-0001da30: 7375 6573 2f34 3830 3429 290a 2d20 4d6f  sues/4804)).- Mo
-0001da40: 7665 2073 6572 7665 7220 6b65 7920 7175  ve server key qu
-0001da50: 6572 6965 7320 746f 2066 6564 6572 6174  eries to federat
-0001da60: 696f 6e20 7265 6164 6572 2e20 285b 5c23  ion reader. ([\#
-0001da70: 3437 3537 5d28 6874 7470 733a 2f2f 6769  4757](https://gi
-0001da80: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-0001da90: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-0001daa0: 6573 2f34 3735 3729 290a 2d20 4164 6420  es/4757)).- Add 
-0001dab0: 7375 7070 6f72 7420 666f 7220 2f61 6363  support for /acc
-0001dac0: 6f75 6e74 2f33 7069 6420 5245 5354 2065  ount/3pid REST e
-0001dad0: 6e64 706f 696e 7420 746f 2063 6c69 656e  ndpoint to clien
-0001dae0: 745f 7265 6164 6572 2077 6f72 6b65 722e  t_reader worker.
-0001daf0: 2028 5b5c 2334 3735 395d 2868 7474 7073   ([\#4759](https
-0001db00: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-0001db10: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-0001db20: 2f69 7373 7565 732f 3437 3539 2929 0a2d  /issues/4759)).-
-0001db30: 2041 6464 2061 6e20 656e 6470 6f69 6e74   Add an endpoint
-0001db40: 2074 6f20 7468 6520 6164 6d69 6e20 4150   to the admin AP
-0001db50: 4920 666f 7220 7175 6572 7969 6e67 2074  I for querying t
-0001db60: 6865 2073 6572 7665 7220 7665 7273 696f  he server versio
-0001db70: 6e2e 2043 6f6e 7472 6962 7574 6564 2062  n. Contributed b
-0001db80: 7920 4a6f 7365 7068 2057 6573 746f 6e2e  y Joseph Weston.
-0001db90: 2028 5b5c 2334 3737 325d 2868 7474 7073   ([\#4772](https
-0001dba0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-0001dbb0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-0001dbc0: 2f69 7373 7565 732f 3437 3732 2929 0a2d  /issues/4772)).-
-0001dbd0: 2049 6e63 6c75 6465 2061 2064 6566 6175   Include a defau
-0001dbe0: 6c74 2063 6f6e 6669 6775 7261 7469 6f6e  lt configuration
-0001dbf0: 2066 696c 6520 696e 2074 6865 2027 646f   file in the 'do
-0001dc00: 6373 2720 6469 7265 6374 6f72 792e 2028  cs' directory. (
-0001dc10: 5b5c 2334 3739 315d 2868 7474 7073 3a2f  [\#4791](https:/
-0001dc20: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-0001dc30: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-0001dc40: 7373 7565 732f 3437 3931 292c 205b 5c23  ssues/4791), [\#
-0001dc50: 3438 3031 5d28 6874 7470 733a 2f2f 6769  4801](https://gi
-0001dc60: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-0001dc70: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-0001dc80: 6573 2f34 3830 3129 290a 2d20 5379 6e61  es/4801)).- Syna
-0001dc90: 7073 6520 6973 206e 6f77 2070 6572 6d69  pse is now permi
-0001dca0: 7373 6976 6520 6162 6f75 7420 7472 6169  ssive about trai
-0001dcb0: 6c69 6e67 2073 6c61 7368 6573 206f 6e20  ling slashes on 
-0001dcc0: 736f 6d65 206f 6620 6974 7320 6665 6465  some of its fede
-0001dcd0: 7261 7469 6f6e 2065 6e64 706f 696e 7473  ration endpoints
-0001dce0: 2c20 616c 6c6f 7769 6e67 207a 6572 6f20  , allowing zero 
-0001dcf0: 6f72 206d 6f72 6520 746f 2062 6520 7072  or more to be pr
-0001dd00: 6573 656e 742e 2028 5b5c 2334 3739 335d  esent. ([\#4793]
-0001dd10: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0001dd20: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-0001dd30: 796e 6170 7365 2f69 7373 7565 732f 3437  ynapse/issues/47
-0001dd40: 3933 2929 0a2d 2041 6464 2073 7570 706f  93)).- Add suppo
-0001dd50: 7274 2066 6f72 202f 6b65 7973 2f71 7565  rt for /keys/que
-0001dd60: 7279 2061 6e64 202f 6b65 7973 2f63 6861  ry and /keys/cha
-0001dd70: 6e67 6573 2052 4553 5420 656e 6470 6f69  nges REST endpoi
-0001dd80: 6e74 7320 746f 2063 6c69 656e 745f 7265  nts to client_re
-0001dd90: 6164 6572 2077 6f72 6b65 722e 2028 5b5c  ader worker. ([\
-0001dda0: 2334 3739 365d 2868 7474 7073 3a2f 2f67  #4796](https://g
-0001ddb0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-0001ddc0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-0001ddd0: 7565 732f 3437 3936 2929 0a2d 2041 6464  ues/4796)).- Add
-0001dde0: 2063 6865 636b 7320 746f 2069 6e63 6f6d   checks to incom
-0001ddf0: 696e 6720 6576 656e 7473 206f 7665 7220  ing events over 
-0001de00: 6665 6465 7261 7469 6f6e 2066 6f72 2065  federation for e
-0001de10: 7665 6e74 7320 6576 6164 696e 6720 6175  vents evading au
-0001de20: 7468 2028 616b 6120 2273 6f66 7420 6661  th (aka "soft fa
-0001de30: 696c 2229 2e20 285b 5c23 3438 3134 5d28  il"). ([\#4814](
-0001de40: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-0001de50: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-0001de60: 6e61 7073 652f 6973 7375 6573 2f34 3831  napse/issues/481
-0001de70: 3429 290a 2d20 4164 6420 636f 6e66 6967  4)).- Add config
-0001de80: 7572 6162 6c65 2072 6174 6520 6c69 6d69  urable rate limi
-0001de90: 7469 6e67 2074 6f20 7468 6520 2f6c 6f67  ting to the /log
-0001dea0: 696e 2065 6e64 706f 696e 742e 2028 5b5c  in endpoint. ([\
-0001deb0: 2334 3832 315d 2868 7474 7073 3a2f 2f67  #4821](https://g
-0001dec0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-0001ded0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-0001dee0: 7565 732f 3438 3231 292c 205b 5c23 3438  ues/4821), [\#48
-0001def0: 3635 5d28 6874 7470 733a 2f2f 6769 7468  65](https://gith
-0001df00: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-0001df10: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-0001df20: 2f34 3836 3529 290a 2d20 5265 6d6f 7665  /4865)).- Remove
-0001df30: 2074 7261 696c 696e 6720 736c 6173 6865   trailing slashe
-0001df40: 7320 6672 6f6d 2063 6572 7461 696e 206f  s from certain o
-0001df50: 7574 626f 756e 6420 6665 6465 7261 7469  utbound federati
-0001df60: 6f6e 2072 6571 7565 7374 732e 2052 6574  on requests. Ret
-0001df70: 7279 2069 6620 7265 6365 6976 696e 6720  ry if receiving 
-0001df80: 6120 3430 342e 2043 6f6e 7465 7874 3a20  a 404. Context: 
-0001df90: 2333 3632 322e 2028 5b5c 2334 3834 305d  #3622. ([\#4840]
-0001dfa0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0001dfb0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-0001dfc0: 796e 6170 7365 2f69 7373 7565 732f 3438  ynapse/issues/48
-0001dfd0: 3430 2929 0a2d 2041 6c6c 6f77 2070 6173  40)).- Allow pas
-0001dfe0: 7369 6e67 202d 2d64 6165 6d6f 6e69 7a65  sing --daemonize
-0001dff0: 2066 6c61 6773 2074 6f20 776f 726b 6572   flags to worker
-0001e000: 7320 696e 2074 6865 2073 616d 6520 7761  s in the same wa
-0001e010: 7920 6173 2077 6974 6820 6d61 7374 6572  y as with master
-0001e020: 2e20 285b 5c23 3438 3533 5d28 6874 7470  . ([\#4853](http
-0001e030: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-0001e040: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-0001e050: 652f 6973 7375 6573 2f34 3835 3329 290a  e/issues/4853)).
-0001e060: 2d20 4261 7463 6820 7570 206f 7574 676f  - Batch up outgo
-0001e070: 696e 6720 7265 6164 2d72 6563 6569 7074  ing read-receipt
-0001e080: 7320 746f 2072 6564 7563 6520 6665 6465  s to reduce fede
-0001e090: 7261 7469 6f6e 2074 7261 6666 6963 2e20  ration traffic. 
-0001e0a0: 285b 5c23 3438 3930 5d28 6874 7470 733a  ([\#4890](https:
-0001e0b0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-0001e0c0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-0001e0d0: 6973 7375 6573 2f34 3839 3029 2c20 5b5c  issues/4890), [\
-0001e0e0: 2334 3932 375d 2868 7474 7073 3a2f 2f67  #4927](https://g
-0001e0f0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-0001e100: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-0001e110: 7565 732f 3439 3237 2929 0a2d 2041 6464  ues/4927)).- Add
-0001e120: 206f 7074 696f 6e20 746f 2064 6973 6162   option to disab
-0001e130: 6c65 2073 6561 7263 6869 6e67 2074 6865  le searching the
-0001e140: 2075 7365 7220 6469 7265 6374 6f72 792e   user directory.
-0001e150: 2028 5b5c 2334 3839 355d 2868 7474 7073   ([\#4895](https
-0001e160: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-0001e170: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-0001e180: 2f69 7373 7565 732f 3438 3935 2929 0a2d  /issues/4895)).-
-0001e190: 2041 6464 206f 7074 696f 6e20 746f 2064   Add option to d
-0001e1a0: 6973 6162 6c65 2073 6561 7263 6869 6e67  isable searching
-0001e1b0: 206f 6620 6c6f 6361 6c20 616e 6420 7265   of local and re
-0001e1c0: 6d6f 7465 2070 7562 6c69 6320 726f 6f6d  mote public room
-0001e1d0: 206c 6973 7473 2e20 285b 5c23 3438 3936   lists. ([\#4896
-0001e1e0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0001e1f0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-0001e200: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
-0001e210: 3839 3629 290a 2d20 4164 6420 6162 696c  896)).- Add abil
-0001e220: 6974 7920 666f 7220 7061 7373 776f 7264  ity for password
-0001e230: 2070 726f 7669 6465 7273 2074 6f20 6c6f   providers to lo
-0001e240: 6769 6e2f 7265 6769 7374 6572 2061 2075  gin/register a u
-0001e250: 7365 7220 7669 6120 3350 4944 2028 656d  ser via 3PID (em
-0001e260: 6169 6c2c 2070 686f 6e65 292e 2028 5b5c  ail, phone). ([\
-0001e270: 2334 3933 315d 2868 7474 7073 3a2f 2f67  #4931](https://g
-0001e280: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-0001e290: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-0001e2a0: 7565 732f 3439 3331 2929 0a0a 0a42 7567  ues/4931))...Bug
-0001e2b0: 6669 7865 730a 2d2d 2d2d 2d2d 2d2d 0a0a  fixes.--------..
-0001e2c0: 2d20 4669 7820 6120 6275 6720 7768 6572  - Fix a bug wher
-0001e2d0: 6520 6d65 6469 6120 7769 7468 2073 7061  e media with spa
-0001e2e0: 6365 7320 696e 2074 6865 206e 616d 6520  ces in the name 
-0001e2f0: 776f 756c 6420 6765 7420 6120 636f 7272  would get a corr
-0001e300: 7570 7465 6420 6e61 6d65 2e20 285b 5c23  upted name. ([\#
-0001e310: 3230 3930 5d28 6874 7470 733a 2f2f 6769  2090](https://gi
-0001e320: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-0001e330: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-0001e340: 6573 2f32 3039 3029 290a 2d20 4669 7820  es/2090)).- Fix 
-0001e350: 6174 7465 6d70 7469 6e67 2074 6f20 7061  attempting to pa
-0001e360: 6769 6e61 7465 2069 6e20 726f 6f6d 7320  ginate in rooms 
-0001e370: 7768 6572 6520 7365 7276 6572 2063 616e  where server can
-0001e380: 6e6f 7420 7365 6520 616e 7920 6576 656e  not see any even
-0001e390: 7473 2c20 746f 2061 766f 6964 2075 6e6e  ts, to avoid unn
-0001e3a0: 6563 6573 7361 7269 6c79 2070 756c 6c69  ecessarily pulli
-0001e3b0: 6e67 2069 6e20 6c6f 7473 206f 6620 7265  ng in lots of re
-0001e3c0: 6461 6374 6564 2065 7665 6e74 732e 2028  dacted events. (
-0001e3d0: 5b5c 2334 3639 395d 2868 7474 7073 3a2f  [\#4699](https:/
-0001e3e0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-0001e3f0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-0001e400: 7373 7565 732f 3436 3939 2929 0a2d 2027  ssues/4699)).- '
-0001e410: 6576 656e 745f 6964 2720 6973 206e 6f77  event_id' is now
-0001e420: 2061 2072 6571 7569 7265 6420 7061 7261   a required para
-0001e430: 6d65 7465 7220 696e 2066 6564 6572 6174  meter in federat
-0001e440: 6564 2073 7461 7465 2072 6571 7565 7374  ed state request
-0001e450: 732c 2061 7320 7065 7220 7468 6520 6d61  s, as per the ma
-0001e460: 7472 6978 2073 7065 632e 2028 5b5c 2334  trix spec. ([\#4
-0001e470: 3734 305d 2868 7474 7073 3a2f 2f67 6974  740](https://git
-0001e480: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-0001e490: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-0001e4a0: 732f 3437 3430 2929 0a2d 2046 6978 2074  s/4740)).- Fix t
-0001e4b0: 6967 6874 6c6f 6f70 206f 7665 7220 636f  ightloop over co
-0001e4c0: 6e6e 6563 7469 6e67 2074 6f20 7265 706c  nnecting to repl
-0001e4d0: 6963 6174 696f 6e20 7365 7276 6572 2e20  ication server. 
-0001e4e0: 285b 5c23 3437 3439 5d28 6874 7470 733a  ([\#4749](https:
-0001e4f0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-0001e500: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-0001e510: 6973 7375 6573 2f34 3734 3929 290a 2d20  issues/4749)).- 
-0001e520: 4669 7820 7061 7273 696e 6720 6f66 2043  Fix parsing of C
-0001e530: 6f6e 7465 6e74 2d44 6973 706f 7369 7469  ontent-Dispositi
-0001e540: 6f6e 2068 6561 6465 7273 206f 6e20 7265  on headers on re
-0001e550: 6d6f 7465 206d 6564 6961 2072 6571 7565  mote media reque
-0001e560: 7374 7320 616e 6420 5552 4c20 7072 6576  sts and URL prev
-0001e570: 6965 7773 2e20 285b 5c23 3437 3633 5d28  iews. ([\#4763](
-0001e580: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-0001e590: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-0001e5a0: 6e61 7073 652f 6973 7375 6573 2f34 3736  napse/issues/476
-0001e5b0: 3329 290a 2d20 4669 7820 696e 636f 7272  3)).- Fix incorr
-0001e5c0: 6563 7420 6c6f 6720 6162 6f75 7420 6e6f  ect log about no
-0001e5d0: 7420 7065 7273 6973 7469 6e67 2064 7570  t persisting dup
-0001e5e0: 6c69 6361 7465 2073 7461 7465 2065 7665  licate state eve
-0001e5f0: 6e74 2e20 285b 5c23 3437 3736 5d28 6874  nt. ([\#4776](ht
-0001e600: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0001e610: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-0001e620: 7073 652f 6973 7375 6573 2f34 3737 3629  pse/issues/4776)
-0001e630: 290a 2d20 4669 7820 7634 7636 206f 7074  ).- Fix v4v6 opt
-0001e640: 696f 6e20 696e 2048 4150 726f 7879 2065  ion in HAProxy e
-0001e650: 7861 6d70 6c65 2063 6f6e 6669 672e 2043  xample config. C
-0001e660: 6f6e 7472 6962 7574 6564 2062 7920 466c  ontributed by Fl
-0001e670: 616b 6562 692e 2028 5b5c 2334 3739 305d  akebi. ([\#4790]
-0001e680: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0001e690: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-0001e6a0: 796e 6170 7365 2f69 7373 7565 732f 3437  ynapse/issues/47
-0001e6b0: 3930 2929 0a2d 2048 616e 646c 6520 6261  90)).- Handle ba
-0001e6c0: 7463 6820 7570 6461 7465 7320 696e 2077  tch updates in w
-0001e6d0: 6f72 6b65 7220 7265 706c 6963 6174 696f  orker replicatio
-0001e6e0: 6e20 7072 6f74 6f63 6f6c 2e20 285b 5c23  n protocol. ([\#
-0001e6f0: 3437 3932 5d28 6874 7470 733a 2f2f 6769  4792](https://gi
-0001e700: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-0001e710: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-0001e720: 6573 2f34 3739 3229 290a 2d20 4669 7820  es/4792)).- Fix 
-0001e730: 6275 6720 7768 6572 6520 7765 2064 6964  bug where we did
-0001e740: 6e27 7420 636f 7272 6563 746c 7920 7468  n't correctly th
-0001e750: 726f 7474 6c65 2073 656e 6469 6e67 206f  rottle sending o
-0001e760: 6620 5553 4552 5f49 5020 636f 6d6d 616e  f USER_IP comman
-0001e770: 6473 206f 7665 7220 7265 706c 6963 6174  ds over replicat
-0001e780: 696f 6e2e 2028 5b5c 2334 3831 385d 2868  ion. ([\#4818](h
-0001e790: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0001e7a0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-0001e7b0: 6170 7365 2f69 7373 7565 732f 3438 3138  apse/issues/4818
-0001e7c0: 2929 0a2d 2046 6978 2070 6f74 656e 7469  )).- Fix potenti
-0001e7d0: 616c 2072 6163 6520 696e 2068 616e 646c  al race in handl
-0001e7e0: 696e 6720 6d69 7373 696e 6720 7570 6461  ing missing upda
-0001e7f0: 7465 7320 696e 2064 6576 6963 6520 6c69  tes in device li
-0001e800: 7374 2075 7064 6174 6573 2e20 285b 5c23  st updates. ([\#
-0001e810: 3438 3239 5d28 6874 7470 733a 2f2f 6769  4829](https://gi
-0001e820: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-0001e830: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-0001e840: 6573 2f34 3832 3929 290a 2d20 4669 7820  es/4829)).- Fix 
-0001e850: 6275 6720 7768 6572 6520 7379 6e61 7073  bug where synaps
-0001e860: 6520 6578 7065 6374 6564 2061 6e20 756e  e expected an un
-0001e870: 2d73 7065 6363 6564 2060 7072 6576 5f73  -specced `prev_s
-0001e880: 7461 7465 6020 6669 656c 6420 6f6e 2073  tate` field on s
-0001e890: 7461 7465 2065 7665 6e74 732e 2028 5b5c  tate events. ([\
-0001e8a0: 2334 3833 375d 2868 7474 7073 3a2f 2f67  #4837](https://g
-0001e8b0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-0001e8c0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-0001e8d0: 7565 732f 3438 3337 2929 0a2d 2054 7261  ues/4837)).- Tra
-0001e8e0: 6e73 6665 7220 6120 7573 6572 2773 206e  nsfer a user's n
-0001e8f0: 6f74 6966 6963 6174 696f 6e20 7365 7474  otification sett
-0001e900: 696e 6773 2028 7075 7368 2072 756c 6573  ings (push rules
-0001e910: 2920 6f6e 2072 6f6f 6d20 7570 6772 6164  ) on room upgrad
-0001e920: 652e 2028 5b5c 2334 3833 385d 2868 7474  e. ([\#4838](htt
-0001e930: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-0001e940: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-0001e950: 7365 2f69 7373 7565 732f 3438 3338 2929  se/issues/4838))
-0001e960: 0a2d 2066 6978 2074 6573 745f 6175 746f  .- fix test_auto
-0001e970: 5f63 7265 6174 655f 6175 746f 5f6a 6f69  _create_auto_joi
-0001e980: 6e5f 7768 6572 655f 6e6f 5f63 6f6e 7365  n_where_no_conse
-0001e990: 6e74 2e20 285b 5c23 3438 3836 5d28 6874  nt. ([\#4886](ht
-0001e9a0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0001e9b0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-0001e9c0: 7073 652f 6973 7375 6573 2f34 3838 3629  pse/issues/4886)
-0001e9d0: 290a 2d20 4669 7820 6120 6275 6720 7768  ).- Fix a bug wh
-0001e9e0: 6572 6520 6873 5f64 6973 6162 6c65 645f  ere hs_disabled_
-0001e9f0: 6d65 7373 6167 6520 7761 7320 736f 6d65  message was some
-0001ea00: 7469 6d65 7320 6e6f 7420 636f 7272 6563  times not correc
-0001ea10: 746c 7920 656e 666f 7263 6564 2e20 285b  tly enforced. ([
-0001ea20: 5c23 3438 3838 5d28 6874 7470 733a 2f2f  \#4888](https://
-0001ea30: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-0001ea40: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-0001ea50: 7375 6573 2f34 3838 3829 290a 2d20 4669  sues/4888)).- Fi
-0001ea60: 7820 6275 6720 696e 2073 6875 7464 6f77  x bug in shutdow
-0001ea70: 6e20 726f 6f6d 2061 646d 696e 2041 5049  n room admin API
-0001ea80: 2077 6865 7265 2069 7420 776f 756c 6420   where it would 
-0001ea90: 6661 696c 2069 6620 6120 7573 6572 2069  fail if a user i
-0001eaa0: 6e20 7468 6520 726f 6f6d 2068 6164 6e27  n the room hadn'
-0001eab0: 7420 636f 6e73 656e 7465 6420 746f 2074  t consented to t
-0001eac0: 6865 2070 7269 7661 6379 2070 6f6c 6963  he privacy polic
-0001ead0: 792e 2028 5b5c 2334 3930 345d 2868 7474  y. ([\#4904](htt
-0001eae0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-0001eaf0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-0001eb00: 7365 2f69 7373 7565 732f 3439 3034 2929  se/issues/4904))
-0001eb10: 0a2d 2046 6978 2062 7567 2077 6865 7265  .- Fix bug where
-0001eb20: 2062 6c6f 636b 6564 2077 6f72 6c64 2d72   blocked world-r
-0001eb30: 6561 6461 626c 6520 726f 6f6d 7320 7765  eadable rooms we
-0001eb40: 7265 2073 7469 6c6c 2070 6565 6b61 626c  re still peekabl
-0001eb50: 652e 2028 5b5c 2334 3930 385d 2868 7474  e. ([\#4908](htt
-0001eb60: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-0001eb70: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-0001eb80: 7365 2f69 7373 7565 732f 3439 3038 2929  se/issues/4908))
-0001eb90: 0a0a 0a49 6e74 6572 6e61 6c20 4368 616e  ...Internal Chan
-0001eba0: 6765 730a 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ges.------------
-0001ebb0: 2d2d 2d2d 0a0a 2d20 4164 6420 6120 7379  ----..- Add a sy
-0001ebc0: 7374 656d 6420 7365 7475 7020 7468 6174  stemd setup that
-0001ebd0: 2073 7570 706f 7274 7320 7379 6e61 7073   supports synaps
-0001ebe0: 6520 776f 726b 6572 732e 2043 6f6e 7472  e workers. Contr
-0001ebf0: 6962 7574 6564 2062 7920 4c75 6361 2043  ibuted by Luca C
-0001ec00: 6f72 6261 7474 6f2e 2028 5b5c 2334 3636  orbatto. ([\#466
-0001ec10: 325d 2868 7474 7073 3a2f 2f67 6974 6875  2](https://githu
-0001ec20: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-0001ec30: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-0001ec40: 3436 3632 2929 0a2d 2043 6861 6e67 6520  4662)).- Change 
-0001ec50: 6672 6f6d 2054 7261 7669 7343 4920 746f  from TravisCI to
-0001ec60: 2042 7569 6c64 6b69 7465 2066 6f72 2043   Buildkite for C
-0001ec70: 492e 2028 5b5c 2334 3735 325d 2868 7474  I. ([\#4752](htt
-0001ec80: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-0001ec90: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-0001eca0: 7365 2f69 7373 7565 732f 3437 3532 2929  se/issues/4752))
-0001ecb0: 0a2d 2057 6865 6e20 7072 6573 656e 6365  .- When presence
-0001ecc0: 2069 7320 6469 7361 626c 6564 2064 6f6e   is disabled don
-0001ecd0: 2774 2073 656e 6420 6f76 6572 2072 6570  't send over rep
-0001ece0: 6c69 6361 7469 6f6e 2e20 285b 5c23 3437  lication. ([\#47
-0001ecf0: 3537 5d28 6874 7470 733a 2f2f 6769 7468  57](https://gith
-0001ed00: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-0001ed10: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-0001ed20: 2f34 3735 3729 290a 2d20 4d69 6e6f 7220  /4757)).- Minor 
-0001ed30: 646f 6373 7472 696e 6720 6669 7865 7320  docstring fixes 
-0001ed40: 666f 7220 4d61 7472 6978 4665 6465 7261  for MatrixFedera
-0001ed50: 7469 6f6e 4167 656e 742e 2028 5b5c 2334  tionAgent. ([\#4
-0001ed60: 3736 355d 2868 7474 7073 3a2f 2f67 6974  765](https://git
-0001ed70: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-0001ed80: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-0001ed90: 732f 3437 3635 2929 0a2d 204f 7074 696d  s/4765)).- Optim
-0001eda0: 6973 6520 4544 5520 7472 616e 736d 6973  ise EDU transmis
-0001edb0: 7369 6f6e 2066 6f72 2074 6865 2066 6564  sion for the fed
-0001edc0: 6572 6174 696f 6e5f 7365 6e64 6572 2077  eration_sender w
-0001edd0: 6f72 6b65 722e 2028 5b5c 2334 3737 305d  orker. ([\#4770]
-0001ede0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0001edf0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-0001ee00: 796e 6170 7365 2f69 7373 7565 732f 3437  ynapse/issues/47
-0001ee10: 3730 2929 0a2d 2055 7064 6174 6520 7465  70)).- Update te
-0001ee20: 7374 5f74 7970 696e 6720 746f 2075 7365  st_typing to use
-0001ee30: 2048 6f6d 6573 6572 7665 7254 6573 7443   HomeserverTestC
-0001ee40: 6173 652e 2028 5b5c 2334 3737 315d 2868  ase. ([\#4771](h
-0001ee50: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0001ee60: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-0001ee70: 6170 7365 2f69 7373 7565 732f 3437 3731  apse/issues/4771
-0001ee80: 2929 0a2d 2055 7064 6174 6520 5552 4c73  )).- Update URLs
-0001ee90: 2066 6f72 2072 696f 742e 696d 2069 636f   for riot.im ico
-0001eea0: 6e73 2061 6e64 206c 6f67 6f73 2069 6e20  ns and logos in 
-0001eeb0: 7468 6520 6465 6661 756c 7420 6e6f 7469  the default noti
-0001eec0: 6669 6361 7469 6f6e 2074 656d 706c 6174  fication templat
-0001eed0: 6573 2e20 285b 5c23 3437 3739 5d28 6874  es. ([\#4779](ht
-0001eee0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0001eef0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-0001ef00: 7073 652f 6973 7375 6573 2f34 3737 3929  pse/issues/4779)
-0001ef10: 290a 2d20 5265 6d6f 7665 6420 756e 6e65  ).- Removed unne
-0001ef20: 6365 7373 6172 7920 2420 6672 6f6d 2073  cessary $ from s
-0001ef30: 6f6d 6520 6665 6465 7261 7469 6f6e 2065  ome federation e
-0001ef40: 6e64 706f 696e 7420 7061 7468 2072 6567  ndpoint path reg
-0001ef50: 6578 6573 2e20 285b 5c23 3437 3934 5d28  exes. ([\#4794](
-0001ef60: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-0001ef70: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-0001ef80: 6e61 7073 652f 6973 7375 6573 2f34 3739  napse/issues/479
-0001ef90: 3429 290a 2d20 5265 6d6f 7665 206c 696e  4)).- Remove lin
-0001efa0: 6b20 746f 2064 656c 6574 6564 2074 6974  k to deleted tit
-0001efb0: 6c65 2069 6e20 5245 4144 4d45 2e20 285b  le in README. ([
-0001efc0: 5c23 3437 3935 5d28 6874 7470 733a 2f2f  \#4795](https://
-0001efd0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-0001efe0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-0001eff0: 7375 6573 2f34 3739 3529 290a 2d20 436c  sues/4795)).- Cl
-0001f000: 6561 6e20 7570 2072 6561 642d 7265 6365  ean up read-rece
-0001f010: 6970 7420 6861 6e64 6c69 6e67 2e20 285b  ipt handling. ([
-0001f020: 5c23 3437 3937 5d28 6874 7470 733a 2f2f  \#4797](https://
-0001f030: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-0001f040: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-0001f050: 7375 6573 2f34 3739 3729 290a 2d20 4164  sues/4797)).- Ad
-0001f060: 6420 736f 6d65 2064 6562 7567 2061 626f  d some debug abo
-0001f070: 7574 2070 726f 6365 7373 696e 6720 7265  ut processing re
-0001f080: 6164 2072 6563 6569 7074 732e 2028 5b5c  ad receipts. ([\
-0001f090: 2334 3739 385d 2868 7474 7073 3a2f 2f67  #4798](https://g
-0001f0a0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-0001f0b0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-0001f0c0: 7565 732f 3437 3938 2929 0a2d 2043 6c65  ues/4798)).- Cle
-0001f0d0: 616e 2075 7020 736f 6d65 2072 6570 6c69  an up some repli
-0001f0e0: 6361 7469 6f6e 2063 6f64 652e 2028 5b5c  cation code. ([\
-0001f0f0: 2334 3739 395d 2868 7474 7073 3a2f 2f67  #4799](https://g
-0001f100: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-0001f110: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-0001f120: 7565 732f 3437 3939 2929 0a2d 2041 6464  ues/4799)).- Add
-0001f130: 2073 6f6d 6520 646f 6373 7472 696e 6773   some docstrings
-0001f140: 2e20 285b 5c23 3438 3135 5d28 6874 7470  . ([\#4815](http
-0001f150: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-0001f160: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-0001f170: 652f 6973 7375 6573 2f34 3831 3529 290a  e/issues/4815)).
-0001f180: 2d20 4164 6420 6465 6275 6720 6c6f 6767  - Add debug logg
-0001f190: 6572 2074 6f20 7472 7920 616e 6420 7472  er to try and tr
-0001f1a0: 6163 6b20 646f 776e 2023 3434 3232 2e20  ack down #4422. 
-0001f1b0: 285b 5c23 3438 3136 5d28 6874 7470 733a  ([\#4816](https:
-0001f1c0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-0001f1d0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-0001f1e0: 6973 7375 6573 2f34 3831 3629 290a 2d20  issues/4816)).- 
-0001f1f0: 4d61 6b65 2073 6875 7464 6f77 6e20 4150  Make shutdown AP
-0001f200: 4920 7365 6e64 2065 7870 6c61 6e61 7469  I send explanati
-0001f210: 6f6e 206d 6573 7361 6765 2074 6f20 726f  on message to ro
-0001f220: 6f6d 2061 6674 6572 2075 7365 7273 2068  om after users h
-0001f230: 6176 6520 6265 656e 2066 6f72 6365 6420  ave been forced 
-0001f240: 6a6f 696e 6564 2e20 285b 5c23 3438 3137  joined. ([\#4817
-0001f250: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0001f260: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-0001f270: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
-0001f280: 3831 3729 290a 2d20 5570 6461 7465 2065  817)).- Update e
-0001f290: 7861 6d70 6c65 5f6c 6f67 5f63 6f6e 6669  xample_log_confi
-0001f2a0: 672e 7961 6d6c 2e20 285b 5c23 3438 3230  g.yaml. ([\#4820
-0001f2b0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0001f2c0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-0001f2d0: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
-0001f2e0: 3832 3029 290a 2d20 446f 6375 6d65 6e74  820)).- Document
-0001f2f0: 2074 6865 2060 6765 6e65 7261 7465 6020   the `generate` 
-0001f300: 6f70 7469 6f6e 2066 6f72 2074 6865 2064  option for the d
-0001f310: 6f63 6b65 7220 696d 6167 652e 2028 5b5c  ocker image. ([\
-0001f320: 2334 3832 345d 2868 7474 7073 3a2f 2f67  #4824](https://g
-0001f330: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-0001f340: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-0001f350: 7565 732f 3438 3234 2929 0a2d 2046 6978  ues/4824)).- Fix
-0001f360: 2063 6865 636b 2d6e 6577 7366 7261 676d   check-newsfragm
-0001f370: 656e 7420 666f 7220 6465 6269 616e 2d6f  ent for debian-o
-0001f380: 6e6c 7920 6368 616e 6765 732e 2028 5b5c  nly changes. ([\
-0001f390: 2334 3832 355d 2868 7474 7073 3a2f 2f67  #4825](https://g
-0001f3a0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-0001f3b0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-0001f3c0: 7565 732f 3438 3235 2929 0a2d 2041 6464  ues/4825)).- Add
-0001f3d0: 2073 6f6d 6520 6465 6275 6720 6c6f 6767   some debug logg
-0001f3e0: 696e 6720 666f 7220 6465 7669 6365 206c  ing for device l
-0001f3f0: 6973 7420 7570 6461 7465 7320 746f 2068  ist updates to h
-0001f400: 656c 7020 7769 7468 2023 3438 3238 2e20  elp with #4828. 
-0001f410: 285b 5c23 3438 3238 5d28 6874 7470 733a  ([\#4828](https:
-0001f420: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-0001f430: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-0001f440: 6973 7375 6573 2f34 3832 3829 290a 2d20  issues/4828)).- 
-0001f450: 496d 7072 6f76 6520 6665 6465 7261 7469  Improve federati
-0001f460: 6f6e 2064 6f63 756d 656e 7461 7469 6f6e  on documentation
-0001f470: 2c20 7370 6563 6966 6963 616c 6c79 202e  , specifically .
-0001f480: 7765 6c6c 2d6b 6e6f 776e 2073 7570 706f  well-known suppo
-0001f490: 7274 2e20 4d61 6e79 2074 6861 6e6b 7320  rt. Many thanks 
-0001f4a0: 746f 2040 7661 6162 2e20 285b 5c23 3438  to @vaab. ([\#48
-0001f4b0: 3332 5d28 6874 7470 733a 2f2f 6769 7468  32](https://gith
-0001f4c0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-0001f4d0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-0001f4e0: 2f34 3833 3229 290a 2d20 4469 7361 626c  /4832)).- Disabl
-0001f4f0: 6520 6361 7074 6368 6120 7265 6769 7374  e captcha regist
-0001f500: 7261 7469 6f6e 2062 7920 6465 6661 756c  ration by defaul
-0001f510: 7420 696e 2075 6e69 7420 7465 7374 732e  t in unit tests.
-0001f520: 2028 5b5c 2334 3833 395d 2868 7474 7073   ([\#4839](https
-0001f530: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-0001f540: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-0001f550: 2f69 7373 7565 732f 3438 3339 2929 0a2d  /issues/4839)).-
-0001f560: 2041 6464 2073 7475 6666 2062 6163 6b20   Add stuff back 
-0001f570: 746f 2074 6865 202e 6769 7469 676e 6f72  to the .gitignor
-0001f580: 652e 2028 5b5c 2334 3834 335d 2868 7474  e. ([\#4843](htt
-0001f590: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-0001f5a0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-0001f5b0: 7365 2f69 7373 7565 732f 3438 3433 2929  se/issues/4843))
-0001f5c0: 0a2d 2043 6c61 7269 6679 2077 6861 7420  .- Clarify what 
-0001f5d0: 7265 6769 7374 7261 7469 6f6e 5f73 6861  registration_sha
-0001f5e0: 7265 645f 7365 6372 6574 2061 6c6c 6f77  red_secret allow
-0001f5f0: 7320 666f 722e 2028 5b5c 2334 3834 345d  s for. ([\#4844]
-0001f600: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0001f610: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-0001f620: 796e 6170 7365 2f69 7373 7565 732f 3438  ynapse/issues/48
-0001f630: 3434 2929 0a2d 2043 6f72 7265 6374 6c79  44)).- Correctly
-0001f640: 206c 6f67 2065 7870 6563 7465 6420 6572   log expected er
-0001f650: 726f 7273 2077 6865 6e20 6665 7463 6869  rors when fetchi
-0001f660: 6e67 2073 6572 7665 7220 6b65 7973 2e20  ng server keys. 
-0001f670: 285b 5c23 3438 3437 5d28 6874 7470 733a  ([\#4847](https:
-0001f680: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-0001f690: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-0001f6a0: 6973 7375 6573 2f34 3834 3729 290a 2d20  issues/4847)).- 
-0001f6b0: 5570 6461 7465 2069 6e73 7461 6c6c 2064  Update install d
-0001f6c0: 6f63 7320 746f 2065 7870 6c69 6369 746c  ocs to explicitl
-0001f6d0: 7920 7374 6174 6520 6120 6675 6c6c 2d63  y state a full-c
-0001f6e0: 6861 696e 2028 6e6f 7420 6a75 7374 2074  hain (not just t
-0001f6f0: 6865 2074 6f70 2d6c 6576 656c 2920 544c  he top-level) TL
-0001f700: 5320 6365 7274 6966 6963 6174 6520 6d75  S certificate mu
-0001f710: 7374 2062 6520 7072 6f76 6964 6564 2074  st be provided t
-0001f720: 6f20 5379 6e61 7073 652e 2054 6869 7320  o Synapse. This 
-0001f730: 6361 7573 6564 2073 6f6d 6520 7065 6f70  caused some peop
-0001f740: 6c65 2773 2053 796e 6170 7365 2070 6f72  le's Synapse por
-0001f750: 7473 2074 6f20 6170 7065 6172 2063 6f72  ts to appear cor
-0001f760: 7265 6374 2069 6e20 6120 6272 6f77 7365  rect in a browse
-0001f770: 7220 6275 7420 7374 696c 6c20 2872 6967  r but still (rig
-0001f780: 6874 6675 6c6c 7920 736f 2920 7570 7365  htfully so) upse
-0001f790: 7420 7468 6520 6665 6465 7261 7469 6f6e  t the federation
-0001f7a0: 2074 6573 7465 722e 2028 5b5c 2334 3834   tester. ([\#484
-0001f7b0: 395d 2868 7474 7073 3a2f 2f67 6974 6875  9](https://githu
-0001f7c0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-0001f7d0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-0001f7e0: 3438 3439 2929 0a2d 204d 6f76 6520 636c  4849)).- Move cl
-0001f7f0: 6965 6e74 2072 6561 642d 7265 6365 6970  ient read-receip
-0001f800: 7420 7072 6f63 6573 7369 6e67 2074 6f20  t processing to 
-0001f810: 6665 6465 7261 7469 6f6e 2073 656e 6465  federation sende
-0001f820: 7220 776f 726b 6572 2e20 285b 5c23 3438  r worker. ([\#48
-0001f830: 3532 5d28 6874 7470 733a 2f2f 6769 7468  52](https://gith
-0001f840: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-0001f850: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-0001f860: 2f34 3835 3229 290a 2d20 5265 6661 6374  /4852)).- Refact
-0001f870: 6f72 2066 6564 6572 6174 696f 6e20 5472  or federation Tr
-0001f880: 616e 7361 6374 696f 6e51 7565 7565 2e20  ansactionQueue. 
-0001f890: 285b 5c23 3438 3535 5d28 6874 7470 733a  ([\#4855](https:
-0001f8a0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-0001f8b0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-0001f8c0: 6973 7375 6573 2f34 3835 3529 290a 2d20  issues/4855)).- 
-0001f8d0: 436f 6d6d 656e 7420 6f75 7420 6d6f 7374  Comment out most
-0001f8e0: 206f 7074 696f 6e73 2069 6e20 7468 6520   options in the 
-0001f8f0: 6765 6e65 7261 7465 6420 636f 6e66 6967  generated config
-0001f900: 2e20 285b 5c23 3438 3633 5d28 6874 7470  . ([\#4863](http
-0001f910: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-0001f920: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-0001f930: 652f 6973 7375 6573 2f34 3836 3329 290a  e/issues/4863)).
-0001f940: 2d20 4669 7820 7961 6d6c 206c 6962 7261  - Fix yaml libra
-0001f950: 7279 2077 6172 6e69 6e67 7320 6279 2075  ry warnings by u
-0001f960: 7369 6e67 2073 6166 655f 6c6f 6164 2e20  sing safe_load. 
-0001f970: 285b 5c23 3438 3639 5d28 6874 7470 733a  ([\#4869](https:
-0001f980: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-0001f990: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-0001f9a0: 6973 7375 6573 2f34 3836 3929 290a 2d20  issues/4869)).- 
-0001f9b0: 5570 6461 7465 2041 7061 6368 6520 7365  Update Apache se
-0001f9c0: 7475 7020 746f 2072 656d 6f76 6520 6c6f  tup to remove lo
-0001f9d0: 6361 7469 6f6e 2073 796e 7461 782e 2054  cation syntax. T
-0001f9e0: 6861 6e6b 7320 746f 2040 6377 6d6b 6521  hanks to @cwmke!
-0001f9f0: 2028 5b5c 2334 3837 305d 2868 7474 7073   ([\#4870](https
-0001fa00: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-0001fa10: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-0001fa20: 2f69 7373 7565 732f 3438 3730 2929 0a2d  /issues/4870)).-
-0001fa30: 2052 6569 6e73 7461 7465 2074 6573 7420   Reinstate test 
-0001fa40: 6361 7365 2074 6861 7420 7275 6e73 2075  case that runs u
-0001fa50: 6e69 7420 7465 7374 7320 6167 6169 6e73  nit tests agains
-0001fa60: 7420 6f6c 6465 7374 2073 7570 706f 7274  t oldest support
-0001fa70: 6564 2064 6570 656e 6465 6e63 6965 732e  ed dependencies.
-0001fa80: 2028 5b5c 2334 3837 395d 2868 7474 7073   ([\#4879](https
-0001fa90: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-0001faa0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-0001fab0: 2f69 7373 7565 732f 3438 3739 2929 0a2d  /issues/4879)).-
-0001fac0: 2055 7064 6174 6520 6c69 6e6b 2074 6f20   Update link to 
-0001fad0: 6665 6465 7261 7469 6f6e 2064 6f63 732e  federation docs.
-0001fae0: 2028 5b5c 2334 3838 315d 2868 7474 7073   ([\#4881](https
-0001faf0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-0001fb00: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-0001fb10: 2f69 7373 7565 732f 3438 3831 2929 0a2d  /issues/4881)).-
-0001fb20: 2066 6978 2074 6573 745f 6175 746f 5f63   fix test_auto_c
-0001fb30: 7265 6174 655f 6175 746f 5f6a 6f69 6e5f  reate_auto_join_
-0001fb40: 7768 6572 655f 6e6f 5f63 6f6e 7365 6e74  where_no_consent
-0001fb50: 2e20 285b 5c23 3438 3836 5d28 6874 7470  . ([\#4886](http
-0001fb60: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-0001fb70: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-0001fb80: 652f 6973 7375 6573 2f34 3838 3629 290a  e/issues/4886)).
-0001fb90: 2d20 5573 6520 6120 7265 6775 6c61 7220  - Use a regular 
-0001fba0: 486f 6d65 5365 7276 6572 436f 6e66 6967  HomeServerConfig
-0001fbb0: 206f 626a 6563 7420 666f 7220 756e 6974   object for unit
-0001fbc0: 2074 6573 7473 2072 6174 6572 2074 6861   tests rater tha
-0001fbd0: 6e20 6120 4d6f 636b 2e20 285b 5c23 3438  n a Mock. ([\#48
-0001fbe0: 3839 5d28 6874 7470 733a 2f2f 6769 7468  89](https://gith
-0001fbf0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-0001fc00: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-0001fc10: 2f34 3838 3929 290a 2d20 4164 6420 736f  /4889)).- Add so
-0001fc20: 6d65 206e 6f74 6573 2061 626f 7574 2074  me notes about t
-0001fc30: 756e 696e 6720 706f 7374 6772 6573 2066  uning postgres f
-0001fc40: 6f72 206c 6172 6765 7220 6465 706c 6f79  or larger deploy
-0001fc50: 6d65 6e74 732e 2028 5b5c 2334 3839 355d  ments. ([\#4895]
-0001fc60: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0001fc70: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-0001fc80: 796e 6170 7365 2f69 7373 7565 732f 3438  ynapse/issues/48
-0001fc90: 3935 2929 0a2d 2041 6464 2061 2063 6f6e  95)).- Add a con
-0001fca0: 6669 6720 6f70 7469 6f6e 2066 6f72 2074  fig option for t
-0001fcb0: 6f72 7475 7265 2d74 6573 7469 6e67 2077  orture-testing w
-0001fcc0: 6f72 6b65 7220 7265 706c 6963 6174 696f  orker replicatio
-0001fcd0: 6e2e 2028 5b5c 2334 3930 325d 2868 7474  n. ([\#4902](htt
-0001fce0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-0001fcf0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-0001fd00: 7365 2f69 7373 7565 732f 3439 3032 2929  se/issues/4902))
-0001fd10: 0a2d 204c 6f67 2072 6571 7565 7374 7320  .- Log requests 
-0001fd20: 7768 6963 6820 6172 6520 7369 6d75 6c61  which are simula
-0001fd30: 7465 6420 6279 2074 6865 2075 6e69 7420  ted by the unit 
-0001fd40: 7465 7374 732e 2028 5b5c 2334 3930 355d  tests. ([\#4905]
-0001fd50: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0001fd60: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-0001fd70: 796e 6170 7365 2f69 7373 7565 732f 3439  ynapse/issues/49
-0001fd80: 3035 2929 0a2d 2041 6c6c 6f77 206e 6577  05)).- Allow new
-0001fd90: 7366 7261 676d 656e 7473 2074 6f20 656e  sfragments to en
-0001fda0: 6420 7769 7468 2065 7863 6c61 6d61 7469  d with exclamati
-0001fdb0: 6f6e 206d 6172 6b73 2e20 4578 6369 7469  on marks. Exciti
-0001fdc0: 6e67 2120 285b 5c23 3439 3132 5d28 6874  ng! ([\#4912](ht
-0001fdd0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0001fde0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-0001fdf0: 7073 652f 6973 7375 6573 2f34 3931 3229  pse/issues/4912)
-0001fe00: 290a 2d20 5265 6661 6374 6f72 2073 6f6d  ).- Refactor som
-0001fe10: 6520 6d6f 7265 2074 6573 7473 2074 6f20  e more tests to 
-0001fe20: 7573 6520 486f 6d65 7365 7276 6572 5465  use HomeserverTe
-0001fe30: 7374 4361 7365 2e20 285b 5c23 3439 3133  stCase. ([\#4913
-0001fe40: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0001fe50: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-0001fe60: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
-0001fe70: 3931 3329 290a 2d20 5265 6661 6374 6f72  913)).- Refactor
-0001fe80: 206f 7574 2074 6865 2073 7461 7465 2064   out the state d
-0001fe90: 656c 7461 7320 706f 7274 696f 6e20 6f66  eltas portion of
-0001fea0: 2074 6865 2075 7365 7220 6469 7265 6374   the user direct
-0001feb0: 6f72 7920 7374 6f72 6520 616e 6420 6861  ory store and ha
-0001fec0: 6e64 6c65 722e 2028 5b5c 2334 3931 375d  ndler. ([\#4917]
-0001fed0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0001fee0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-0001fef0: 796e 6170 7365 2f69 7373 7565 732f 3439  ynapse/issues/49
-0001ff00: 3137 2929 0a2d 2046 6978 206e 6769 6e78  17)).- Fix nginx
-0001ff10: 2065 7861 6d70 6c65 2069 6e20 4143 4d45   example in ACME
-0001ff20: 2064 6f63 2e20 285b 5c23 3439 3233 5d28   doc. ([\#4923](
-0001ff30: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-0001ff40: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-0001ff50: 6e61 7073 652f 6973 7375 6573 2f34 3932  napse/issues/492
-0001ff60: 3329 290a 2d20 5573 6520 616e 2065 7870  3)).- Use an exp
-0001ff70: 6c69 6369 7420 6462 6e61 6d65 2066 6f72  licit dbname for
-0001ff80: 2070 6f73 7467 7265 7320 636f 6e6e 6563   postgres connec
-0001ff90: 7469 6f6e 7320 696e 2074 6865 2074 6573  tions in the tes
-0001ffa0: 7473 2e20 285b 5c23 3439 3238 5d28 6874  ts. ([\#4928](ht
-0001ffb0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0001ffc0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-0001ffd0: 7073 652f 6973 7375 6573 2f34 3932 3829  pse/issues/4928)
-0001ffe0: 290a 2d20 4669 7820 6043 6c69 656e 7452  ).- Fix `ClientR
-0001fff0: 6570 6c69 6361 7469 6f6e 5374 7265 616d  eplicationStream
-00020000: 5072 6f74 6f63 6f6c 2e5f 5f73 7472 5f5f  Protocol.__str__
-00020010: 2829 602e 2028 5b5c 2334 3932 395d 2868  ()`. ([\#4929](h
-00020020: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00020030: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00020040: 6170 7365 2f69 7373 7565 732f 3439 3239  apse/issues/4929
-00020050: 2929 0a0a 0a53 796e 6170 7365 2030 2e39  ))...Synapse 0.9
-00020060: 392e 3220 2832 3031 392d 3033 2d30 3129  9.2 (2019-03-01)
-00020070: 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  .===============
-00020080: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 4665  ============..Fe
-00020090: 6174 7572 6573 0a2d 2d2d 2d2d 2d2d 2d0a  atures.--------.
-000200a0: 0a2d 2041 6464 6564 2061 6e20 4841 5072  .- Added an HAPr
-000200b0: 6f78 7920 6578 616d 706c 6520 696e 2074  oxy example in t
-000200c0: 6865 2072 6576 6572 7365 2070 726f 7879  he reverse proxy
-000200d0: 2064 6f63 756d 656e 7461 7469 6f6e 2e20   documentation. 
-000200e0: 436f 6e74 7269 6275 7465 6420 6279 2042  Contributed by B
-000200f0: 656e 6fc3 ae74 2053 2e20 28e2 809c 4265  eno..t S. (...Be
-00020100: 6e70 726f e280 9d29 2e20 285b 5c23 3435  npro...). ([\#45
-00020110: 3431 5d28 6874 7470 733a 2f2f 6769 7468  41](https://gith
-00020120: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00020130: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00020140: 2f34 3534 3129 290a 2d20 4164 6420 6261  /4541)).- Add ba
-00020150: 7369 6320 6f70 7469 6f6e 616c 2073 656e  sic optional sen
-00020160: 7472 7920 696e 7465 6772 6174 696f 6e2e  try integration.
-00020170: 2028 5b5c 2334 3633 325d 2868 7474 7073   ([\#4632](https
-00020180: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00020190: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-000201a0: 2f69 7373 7565 732f 3436 3332 292c 205b  /issues/4632), [
-000201b0: 5c23 3436 3934 5d28 6874 7470 733a 2f2f  \#4694](https://
-000201c0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-000201d0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-000201e0: 7375 6573 2f34 3639 3429 290a 2d20 5472  sues/4694)).- Tr
-000201f0: 616e 7366 6572 2062 616e 7320 6f6e 2072  ansfer bans on r
-00020200: 6f6f 6d20 7570 6772 6164 652e 2028 5b5c  oom upgrade. ([\
-00020210: 2334 3634 325d 2868 7474 7073 3a2f 2f67  #4642](https://g
-00020220: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-00020230: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-00020240: 7565 732f 3436 3432 2929 0a2d 2041 6464  ues/4642)).- Add
-00020250: 2063 6f6e 6669 6775 7261 626c 6520 726f   configurable ro
-00020260: 6f6d 206c 6973 7420 7075 626c 6973 6869  om list publishi
-00020270: 6e67 2072 756c 6573 2e20 285b 5c23 3436  ng rules. ([\#46
-00020280: 3437 5d28 6874 7470 733a 2f2f 6769 7468  47](https://gith
-00020290: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-000202a0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-000202b0: 2f34 3634 3729 290a 2d20 5375 7070 6f72  /4647)).- Suppor
-000202c0: 7420 2e77 656c 6c2d 6b6e 6f77 6e20 6465  t .well-known de
-000202d0: 6c65 6761 7469 6f6e 2077 6865 6e20 6973  legation when is
-000202e0: 7375 696e 6720 6365 7274 6966 6963 6174  suing certificat
-000202f0: 6573 2074 6872 6f75 6768 2041 434d 452e  es through ACME.
-00020300: 2028 5b5c 2334 3635 325d 2868 7474 7073   ([\#4652](https
-00020310: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00020320: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00020330: 2f69 7373 7565 732f 3436 3532 2929 0a2d  /issues/4652)).-
-00020340: 2041 6c6c 6f77 2072 6567 6973 7472 6174   Allow registrat
-00020350: 696f 6e20 616e 6420 6c6f 6769 6e20 746f  ion and login to
-00020360: 2062 6520 6861 6e64 6c65 6420 6279 2061   be handled by a
-00020370: 2077 6f72 6b65 7220 696e 7374 616e 6365   worker instance
-00020380: 2e20 285b 5c23 3436 3636 5d28 6874 7470  . ([\#4666](http
-00020390: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-000203a0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-000203b0: 652f 6973 7375 6573 2f34 3636 3629 2c20  e/issues/4666), 
-000203c0: 5b5c 2334 3637 305d 2868 7474 7073 3a2f  [\#4670](https:/
-000203d0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-000203e0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-000203f0: 7373 7565 732f 3436 3730 292c 205b 5c23  ssues/4670), [\#
-00020400: 3436 3832 5d28 6874 7470 733a 2f2f 6769  4682](https://gi
-00020410: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-00020420: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-00020430: 6573 2f34 3638 3229 290a 2d20 5265 6475  es/4682)).- Redu
-00020440: 6365 2074 6865 206f 7665 7268 6561 6420  ce the overhead 
-00020450: 6f66 2063 7265 6174 696e 6720 6f75 7462  of creating outb
-00020460: 6f75 6e64 2066 6564 6572 6174 696f 6e20  ound federation 
-00020470: 636f 6e6e 6563 7469 6f6e 7320 6f76 6572  connections over
-00020480: 2054 4c53 2062 7920 6361 6368 696e 6720   TLS by caching 
-00020490: 7468 6520 544c 5320 636c 6965 6e74 206f  the TLS client o
-000204a0: 7074 696f 6e73 2e20 285b 5c23 3436 3734  ptions. ([\#4674
-000204b0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-000204c0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-000204d0: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
-000204e0: 3637 3429 290a 2d20 4164 6420 7072 6f6d  674)).- Add prom
-000204f0: 6574 6865 7573 206d 6574 7269 6373 2066  etheus metrics f
-00020500: 6f72 206e 756d 6265 7220 6f66 206f 7574  or number of out
-00020510: 676f 696e 6720 4544 5573 2c20 6279 2074  going EDUs, by t
-00020520: 7970 652e 2028 5b5c 2334 3639 355d 2868  ype. ([\#4695](h
-00020530: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00020540: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00020550: 6170 7365 2f69 7373 7565 732f 3436 3935  apse/issues/4695
-00020560: 2929 0a2d 2052 6574 7572 6e20 636f 7272  )).- Return corr
-00020570: 6563 7420 6572 726f 7220 636f 6465 2077  ect error code w
-00020580: 6865 6e20 696e 7669 7469 6e67 2061 2072  hen inviting a r
-00020590: 656d 6f74 6520 7573 6572 2074 6f20 6120  emote user to a 
-000205a0: 726f 6f6d 2077 686f 7365 2068 6f6d 6573  room whose homes
-000205b0: 6572 7665 7220 646f 6573 206e 6f74 2073  erver does not s
-000205c0: 7570 706f 7274 2074 6865 2072 6f6f 6d20  upport the room 
-000205d0: 7665 7273 696f 6e2e 2028 5b5c 2334 3732  version. ([\#472
-000205e0: 315d 2868 7474 7073 3a2f 2f67 6974 6875  1](https://githu
-000205f0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-00020600: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-00020610: 3437 3231 2929 0a2d 2050 7265 7665 6e74  4721)).- Prevent
-00020620: 2073 686f 7769 6e67 2072 6f6f 6d73 2074   showing rooms t
-00020630: 6f20 6f74 6865 7220 7365 7276 6572 7320  o other servers 
-00020640: 7468 6174 2077 6572 6520 7365 7420 746f  that were set to
-00020650: 206e 6f74 2066 6564 6572 6174 652e 2028   not federate. (
-00020660: 5b5c 2334 3734 365d 2868 7474 7073 3a2f  [\#4746](https:/
-00020670: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00020680: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00020690: 7373 7565 732f 3437 3436 2929 0a0a 0a42  ssues/4746))...B
-000206a0: 7567 6669 7865 730a 2d2d 2d2d 2d2d 2d2d  ugfixes.--------
-000206b0: 0a0a 2d20 4669 7820 706f 7373 6962 6c65  ..- Fix possible
-000206c0: 2065 7863 6570 7469 6f6e 2077 6865 6e20   exception when 
-000206d0: 7061 6769 6e61 7469 6e67 2e20 285b 5c23  paginating. ([\#
-000206e0: 3432 3633 5d28 6874 7470 733a 2f2f 6769  4263](https://gi
-000206f0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-00020700: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-00020710: 6573 2f34 3236 3329 290a 2d20 5468 6520  es/4263)).- The 
-00020720: 6465 7065 6e64 656e 6379 2063 6865 636b  dependency check
-00020730: 6572 206e 6f77 2063 6f72 7265 6374 6c79  er now correctly
-00020740: 2072 6570 6f72 7473 2061 2076 6572 7369   reports a versi
-00020750: 6f6e 206d 6973 6d61 7463 6820 666f 7220  on mismatch for 
-00020760: 6f70 7469 6f6e 616c 0a20 2064 6570 656e  optional.  depen
-00020770: 6465 6e63 6965 732c 2069 6e73 7465 6164  dencies, instead
-00020780: 206f 6620 7265 706f 7274 696e 6720 7468   of reporting th
-00020790: 6520 6465 7065 6e64 656e 6379 206d 6973  e dependency mis
-000207a0: 7369 6e67 2e20 285b 5c23 3434 3530 5d28  sing. ([\#4450](
-000207b0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-000207c0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-000207d0: 6e61 7073 652f 6973 7375 6573 2f34 3435  napse/issues/445
-000207e0: 3029 290a 2d20 5365 7420 434f 5253 2068  0)).- Set CORS h
-000207f0: 6561 6465 7273 206f 6e20 2e77 656c 6c2d  eaders on .well-
-00020800: 6b6e 6f77 6e20 7265 7175 6573 7473 2e20  known requests. 
-00020810: 285b 5c23 3436 3531 5d28 6874 7470 733a  ([\#4651](https:
-00020820: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00020830: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00020840: 6973 7375 6573 2f34 3635 3129 290a 2d20  issues/4651)).- 
-00020850: 4669 7820 6b69 636b 696e 6720 6775 6573  Fix kicking gues
-00020860: 7420 7573 6572 7320 6f6e 2067 7565 7374  t users on guest
-00020870: 2061 6363 6573 7320 7265 766f 6361 7469   access revocati
-00020880: 6f6e 2069 6e20 776f 726b 6572 206d 6f64  on in worker mod
-00020890: 652e 2028 5b5c 2334 3636 375d 2868 7474  e. ([\#4667](htt
-000208a0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-000208b0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-000208c0: 7365 2f69 7373 7565 732f 3436 3637 2929  se/issues/4667))
-000208d0: 0a2d 2046 6978 2061 6e20 6973 7375 6520  .- Fix an issue 
-000208e0: 696e 2074 6865 2064 6174 6162 6173 6520  in the database 
-000208f0: 6d69 6772 6174 696f 6e20 7363 7269 7074  migration script
-00020900: 2077 6865 7265 2074 6865 0a20 2060 6532   where the.  `e2
-00020910: 655f 726f 6f6d 5f6b 6579 732e 6973 5f76  e_room_keys.is_v
-00020920: 6572 6966 6965 6460 2063 6f6c 756d 6e20  erified` column 
-00020930: 7761 736e 2774 2063 6f6e 7369 6465 7265  wasn't considere
-00020940: 6420 6173 0a20 2061 2062 6f6f 6c65 616e  d as.  a boolean
-00020950: 2e20 285b 5c23 3436 3830 5d28 6874 7470  . ([\#4680](http
-00020960: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00020970: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00020980: 652f 6973 7375 6573 2f34 3638 3029 290a  e/issues/4680)).
-00020990: 2d20 4669 7820 5461 736b 5374 6f70 7065  - Fix TaskStoppe
-000209a0: 6420 6578 6365 7074 696f 6e73 2069 6e20  d exceptions in 
-000209b0: 6c6f 6773 2077 6865 6e20 6f75 7462 6f75  logs when outbou
-000209c0: 6e64 2072 6571 7565 7374 7320 7469 6d65  nd requests time
-000209d0: 206f 7574 2e20 285b 5c23 3436 3930 5d28   out. ([\#4690](
-000209e0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-000209f0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-00020a00: 6e61 7073 652f 6973 7375 6573 2f34 3639  napse/issues/469
-00020a10: 3029 290a 2d20 4669 7820 4143 4d45 2063  0)).- Fix ACME c
-00020a20: 6f6e 6669 6720 666f 7220 7079 7468 6f6e  onfig for python
-00020a30: 2032 2e20 285b 5c23 3437 3137 5d28 6874   2. ([\#4717](ht
-00020a40: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00020a50: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00020a60: 7073 652f 6973 7375 6573 2f34 3731 3729  pse/issues/4717)
-00020a70: 290a 2d20 4669 7820 7061 6769 6e61 7469  ).- Fix paginati
-00020a80: 6e67 206f 7665 7220 6665 6465 7261 7469  ng over federati
-00020a90: 6f6e 2070 6572 7369 7374 696e 6720 696e  on persisting in
-00020aa0: 636f 7272 6563 7420 7374 6174 652e 2028  correct state. (
-00020ab0: 5b5c 2334 3731 385d 2868 7474 7073 3a2f  [\#4718](https:/
-00020ac0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00020ad0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00020ae0: 7373 7565 732f 3437 3138 2929 0a0a 0a49  ssues/4718))...I
-00020af0: 6e74 6572 6e61 6c20 4368 616e 6765 730a  nternal Changes.
-00020b00: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00020b10: 0a0a 2d20 5275 6e20 6062 6c61 636b 6020  ..- Run `black` 
-00020b20: 746f 2072 6566 6f72 6d61 7420 7573 6572  to reformat user
-00020b30: 2064 6972 6563 746f 7279 2063 6f64 652e   directory code.
-00020b40: 2028 5b5c 2334 3633 355d 2868 7474 7073   ([\#4635](https
-00020b50: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00020b60: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00020b70: 2f69 7373 7565 732f 3436 3335 2929 0a2d  /issues/4635)).-
-00020b80: 2052 6564 7563 6520 6e75 6d62 6572 206f   Reduce number o
-00020b90: 6620 6578 6365 7074 696f 6e73 2077 6520  f exceptions we 
-00020ba0: 6c6f 672e 2028 5b5c 2334 3634 335d 2868  log. ([\#4643](h
-00020bb0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00020bc0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00020bd0: 6170 7365 2f69 7373 7565 732f 3436 3433  apse/issues/4643
-00020be0: 292c 205b 5c23 3436 3638 5d28 6874 7470  ), [\#4668](http
-00020bf0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00020c00: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00020c10: 652f 6973 7375 6573 2f34 3636 3829 290a  e/issues/4668)).
-00020c20: 2d20 496e 7472 6f64 7563 6520 7570 7365  - Introduce upse
-00020c30: 7274 2062 6174 6368 696e 6720 6675 6e63  rt batching func
-00020c40: 7469 6f6e 616c 6974 7920 696e 2074 6865  tionality in the
-00020c50: 2064 6174 6162 6173 6520 6c61 7965 722e   database layer.
-00020c60: 2028 5b5c 2334 3634 345d 2868 7474 7073   ([\#4644](https
-00020c70: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00020c80: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00020c90: 2f69 7373 7565 732f 3436 3434 2929 0a2d  /issues/4644)).-
-00020ca0: 2046 6978 2076 6172 696f 7573 2073 7065   Fix various spe
-00020cb0: 6c6c 696e 6720 6d69 7374 616b 6573 2e20  lling mistakes. 
-00020cc0: 285b 5c23 3436 3537 5d28 6874 7470 733a  ([\#4657](https:
-00020cd0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00020ce0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00020cf0: 6973 7375 6573 2f34 3635 3729 290a 2d20  issues/4657)).- 
-00020d00: 436c 6561 6e75 7020 7265 7175 6573 7420  Cleanup request 
-00020d10: 6578 6365 7074 696f 6e20 6c6f 6767 696e  exception loggin
-00020d20: 672e 2028 5b5c 2334 3636 395d 2868 7474  g. ([\#4669](htt
-00020d30: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00020d40: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-00020d50: 7365 2f69 7373 7565 732f 3436 3639 292c  se/issues/4669),
-00020d60: 205b 5c23 3437 3337 5d28 6874 7470 733a   [\#4737](https:
-00020d70: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00020d80: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00020d90: 6973 7375 6573 2f34 3733 3729 2c20 5b5c  issues/4737), [\
-00020da0: 2334 3733 385d 2868 7474 7073 3a2f 2f67  #4738](https://g
-00020db0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-00020dc0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-00020dd0: 7565 732f 3437 3338 2929 0a2d 2049 6d70  ues/4738)).- Imp
-00020de0: 726f 7665 2072 6570 6c69 6361 7469 6f6e  rove replication
-00020df0: 2070 6572 666f 726d 616e 6365 2062 7920   performance by 
-00020e00: 7265 6475 6369 6e67 2063 6163 6865 2069  reducing cache i
-00020e10: 6e76 616c 6964 6174 696f 6e20 7472 6166  nvalidation traf
-00020e20: 6669 632e 2028 5b5c 2334 3637 315d 2868  fic. ([\#4671](h
-00020e30: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00020e40: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00020e50: 6170 7365 2f69 7373 7565 732f 3436 3731  apse/issues/4671
-00020e60: 292c 205b 5c23 3437 3135 5d28 6874 7470  ), [\#4715](http
-00020e70: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00020e80: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00020e90: 652f 6973 7375 6573 2f34 3731 3529 2c20  e/issues/4715), 
-00020ea0: 5b5c 2334 3734 385d 2868 7474 7073 3a2f  [\#4748](https:/
-00020eb0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00020ec0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00020ed0: 7373 7565 732f 3437 3438 2929 0a2d 2054  ssues/4748)).- T
-00020ee0: 6573 7420 6167 6169 6e73 7420 506f 7374  est against Post
-00020ef0: 6772 6573 2039 2e35 2061 7320 7765 6c6c  gres 9.5 as well
-00020f00: 2061 7320 392e 342e 2028 5b5c 2334 3637   as 9.4. ([\#467
-00020f10: 365d 2868 7474 7073 3a2f 2f67 6974 6875  6](https://githu
-00020f20: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-00020f30: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-00020f40: 3436 3736 2929 0a2d 2052 756e 2075 6e69  4676)).- Run uni
-00020f50: 7420 7465 7374 7320 6167 6169 6e73 7420  t tests against 
-00020f60: 7079 7468 6f6e 2033 2e37 2e20 285b 5c23  python 3.7. ([\#
-00020f70: 3436 3737 5d28 6874 7470 733a 2f2f 6769  4677](https://gi
-00020f80: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-00020f90: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-00020fa0: 6573 2f34 3637 3729 290a 2d20 4174 7465  es/4677)).- Atte
-00020fb0: 6d70 7420 746f 2063 6c61 7269 6679 2069  mpt to clarify i
-00020fc0: 6e73 7461 6c6c 6174 696f 6e20 696e 7374  nstallation inst
-00020fd0: 7275 6374 696f 6e73 2f63 6f6e 6669 672e  ructions/config.
-00020fe0: 2028 5b5c 2334 3638 315d 2868 7474 7073   ([\#4681](https
-00020ff0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00021000: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00021010: 2f69 7373 7565 732f 3436 3831 2929 0a2d  /issues/4681)).-
-00021020: 2043 6c65 616e 2075 7020 6769 7469 676e   Clean up gitign
-00021030: 6f72 6573 2e20 285b 5c23 3436 3838 5d28  ores. ([\#4688](
-00021040: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00021050: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-00021060: 6e61 7073 652f 6973 7375 6573 2f34 3638  napse/issues/468
-00021070: 3829 290a 2d20 4d69 6e6f 7220 7477 6561  8)).- Minor twea
-00021080: 6b73 2074 6f20 6163 6d65 2064 6f63 732e  ks to acme docs.
-00021090: 2028 5b5c 2334 3638 395d 2868 7474 7073   ([\#4689](https
-000210a0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-000210b0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-000210c0: 2f69 7373 7565 732f 3436 3839 2929 0a2d  /issues/4689)).-
-000210d0: 2049 6d70 726f 7665 2074 6865 206c 6f67   Improve the log
-000210e0: 6769 6e67 2069 6e20 7468 6520 7075 7368  ging in the push
-000210f0: 6572 2070 726f 6365 7373 2e20 285b 5c23  er process. ([\#
-00021100: 3436 3931 5d28 6874 7470 733a 2f2f 6769  4691](https://gi
-00021110: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-00021120: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-00021130: 6573 2f34 3639 3129 290a 2d20 4265 7474  es/4691)).- Bett
-00021140: 6572 2063 6865 636b 7320 6f6e 206e 6577  er checks on new
-00021150: 7366 7261 676d 656e 7473 2e20 285b 5c23  sfragments. ([\#
-00021160: 3436 3938 5d28 6874 7470 733a 2f2f 6769  4698](https://gi
-00021170: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-00021180: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-00021190: 6573 2f34 3639 3829 2c20 5b5c 2334 3735  es/4698), [\#475
-000211a0: 305d 2868 7474 7073 3a2f 2f67 6974 6875  0](https://githu
-000211b0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-000211c0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-000211d0: 3437 3530 2929 0a2d 2041 766f 6964 2073  4750)).- Avoid s
-000211e0: 6f6d 6520 7265 6475 6e64 616e 7420 776f  ome redundant wo
-000211f0: 726b 2077 6865 6e20 7072 6f63 6573 7369  rk when processi
-00021200: 6e67 2072 6561 6420 7265 6365 6970 7473  ng read receipts
-00021210: 2e20 285b 5c23 3437 3036 5d28 6874 7470  . ([\#4706](http
-00021220: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00021230: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00021240: 652f 6973 7375 6573 2f34 3730 3629 290a  e/issues/4706)).
-00021250: 2d20 5275 6e20 6070 7573 685f 7265 6365  - Run `push_rece
-00021260: 6970 7473 5f74 6f5f 7265 6d6f 7465 7360  ipts_to_remotes`
-00021270: 2061 7320 6261 636b 6772 6f75 6e64 206a   as background j
-00021280: 6f62 2e20 285b 5c23 3437 3037 5d28 6874  ob. ([\#4707](ht
-00021290: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-000212a0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-000212b0: 7073 652f 6973 7375 6573 2f34 3730 3729  pse/issues/4707)
-000212c0: 290a 2d20 4164 6420 7072 6f6d 6574 6865  ).- Add promethe
-000212d0: 7573 206d 6574 7269 6373 2066 6f72 206e  us metrics for n
-000212e0: 756d 6265 7220 6f66 2062 6164 6765 2075  umber of badge u
-000212f0: 7064 6174 6520 7075 7368 6573 2e20 285b  pdate pushes. ([
-00021300: 5c23 3437 3039 5d28 6874 7470 733a 2f2f  \#4709](https://
-00021310: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-00021320: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00021330: 7375 6573 2f34 3730 3929 290a 2d20 5265  sues/4709)).- Re
-00021340: 6475 6365 2070 7573 6865 7220 6c6f 6767  duce pusher logg
-00021350: 696e 6720 6f6e 2073 7461 7274 7570 2028  ing on startup (
-00021360: 5b5c 2334 3731 365d 2868 7474 7073 3a2f  [\#4716](https:/
-00021370: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00021380: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00021390: 7373 7565 732f 3437 3136 2929 0a2d 2044  ssues/4716)).- D
-000213a0: 6f6e 2774 206c 6f67 2065 7863 6570 7469  on't log excepti
-000213b0: 6f6e 7320 7768 656e 2066 6169 6c69 6e67  ons when failing
-000213c0: 2074 6f20 6665 7463 6820 7265 6d6f 7465   to fetch remote
-000213d0: 2073 6572 7665 7220 6b65 7973 2e20 285b   server keys. ([
-000213e0: 5c23 3437 3232 5d28 6874 7470 733a 2f2f  \#4722](https://
-000213f0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-00021400: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00021410: 7375 6573 2f34 3732 3229 290a 2d20 436f  sues/4722)).- Co
-00021420: 7272 6563 746c 7920 7072 6f78 7920 6578  rrectly proxy ex
-00021430: 6365 7074 696f 6e20 696e 2066 726f 6e74  ception in front
-00021440: 656e 645f 7072 6f78 7920 776f 726b 6572  end_proxy worker
-00021450: 2e20 285b 5c23 3437 3233 5d28 6874 7470  . ([\#4723](http
-00021460: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00021470: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00021480: 652f 6973 7375 6573 2f34 3732 3329 290a  e/issues/4723)).
-00021490: 2d20 4164 6420 6461 7461 6261 7365 2076  - Add database v
-000214a0: 6572 7369 6f6e 2074 6f20 7068 6f6e 6568  ersion to phoneh
-000214b0: 6f6d 6520 7374 6174 732e 2028 5b5c 2334  ome stats. ([\#4
-000214c0: 3735 335d 2868 7474 7073 3a2f 2f67 6974  753](https://git
-000214d0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-000214e0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-000214f0: 732f 3437 3533 2929 0a0a 0a53 796e 6170  s/4753))...Synap
-00021500: 7365 2030 2e39 392e 312e 3120 2832 3031  se 0.99.1.1 (201
-00021510: 392d 3032 2d31 3429 0a3d 3d3d 3d3d 3d3d  9-02-14).=======
-00021520: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00021530: 3d3d 3d3d 3d3d 0a0a 4275 6766 6978 6573  ======..Bugfixes
-00021540: 0a2d 2d2d 2d2d 2d2d 2d0a 0a2d 2046 6978  .--------..- Fix
-00021550: 2022 5479 7065 4572 726f 723a 2027 3e27   "TypeError: '>'
-00021560: 206e 6f74 2073 7570 706f 7274 6564 2220   not supported" 
-00021570: 7768 656e 2073 7461 7274 696e 6720 7769  when starting wi
-00021580: 7468 6f75 7420 616e 2065 7869 7374 696e  thout an existin
-00021590: 6720 6365 7274 6966 6963 6174 652e 0a20  g certificate.. 
-000215a0: 2046 6978 2061 2062 7567 2077 6865 7265   Fix a bug where
-000215b0: 2061 6e20 6578 6973 7469 6e67 2063 6572   an existing cer
-000215c0: 7469 6669 6361 7465 2077 6f75 6c64 2062  tificate would b
-000215d0: 6520 7265 7072 6f76 6973 6f6e 6564 2065  e reprovisoned e
-000215e0: 7665 7279 2064 6179 2e20 285b 5c23 3436  very day. ([\#46
-000215f0: 3438 5d28 6874 7470 733a 2f2f 6769 7468  48](https://gith
-00021600: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00021610: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00021620: 2f34 3634 3829 290a 0a0a 5379 6e61 7073  /4648))...Synaps
-00021630: 6520 302e 3939 2e31 2028 3230 3139 2d30  e 0.99.1 (2019-0
-00021640: 322d 3134 290a 3d3d 3d3d 3d3d 3d3d 3d3d  2-14).==========
-00021650: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00021660: 3d0a 0a46 6561 7475 7265 730a 2d2d 2d2d  =..Features.----
-00021670: 2d2d 2d2d 0a0a 2d20 496e 636c 7564 6520  ----..- Include 
-00021680: 6d2e 726f 6f6d 2e65 6e63 7279 7074 696f  m.room.encryptio
-00021690: 6e20 6f6e 2069 6e76 6974 6573 2062 7920  n on invites by 
-000216a0: 6465 6661 756c 7420 285b 5c23 3339 3032  default ([\#3902
-000216b0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-000216c0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-000216d0: 7379 6e61 7073 652f 6973 7375 6573 2f33  synapse/issues/3
-000216e0: 3930 3229 290a 2d20 4665 6465 7261 7469  902)).- Federati
-000216f0: 6f6e 204f 7065 6e49 4420 6c69 7374 656e  on OpenID listen
-00021700: 6572 2072 6573 6f75 7263 6520 6361 6e20  er resource can 
-00021710: 6e6f 7720 6265 2061 6374 6976 6174 6564  now be activated
-00021720: 2065 7665 6e20 6966 2066 6564 6572 6174   even if federat
-00021730: 696f 6e20 6973 2064 6973 6162 6c65 6420  ion is disabled 
-00021740: 285b 5c23 3434 3230 5d28 6874 7470 733a  ([\#4420](https:
-00021750: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00021760: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00021770: 6973 7375 6573 2f34 3432 3029 290a 2d20  issues/4420)).- 
-00021780: 5379 6e61 7073 6527 7320 4143 4d45 2073  Synapse's ACME s
-00021790: 7570 706f 7274 2077 696c 6c20 6e6f 7720  upport will now 
-000217a0: 636f 7272 6563 746c 7920 7265 7072 6f76  correctly reprov
-000217b0: 6973 696f 6e20 6120 6365 7274 6966 6963  ision a certific
-000217c0: 6174 6520 7468 6174 2061 7070 726f 6163  ate that approac
-000217d0: 6865 7320 6974 7320 6578 7069 7279 2077  hes its expiry w
-000217e0: 6869 6c65 2053 796e 6170 7365 2069 7320  hile Synapse is 
-000217f0: 7275 6e6e 696e 672e 2028 5b5c 2334 3532  running. ([\#452
-00021800: 325d 2868 7474 7073 3a2f 2f67 6974 6875  2](https://githu
-00021810: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-00021820: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-00021830: 3435 3232 2929 0a2d 2041 6464 2061 6269  4522)).- Add abi
-00021840: 6c69 7479 2074 6f20 7570 6461 7465 2062  lity to update b
-00021850: 6163 6b75 7020 7665 7273 696f 6e73 2028  ackup versions (
-00021860: 5b5c 2334 3538 305d 2868 7474 7073 3a2f  [\#4580](https:/
-00021870: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00021880: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00021890: 7373 7565 732f 3435 3830 2929 0a2d 2041  ssues/4580)).- A
-000218a0: 6c6c 6f77 2074 6865 2022 756e 6176 6169  llow the "unavai
-000218b0: 6c61 626c 6522 2070 7265 7365 6e63 6520  lable" presence 
-000218c0: 7374 6174 7573 2066 6f72 202f 7379 6e63  status for /sync
-000218d0: 2e0a 2020 5468 6973 2063 6861 6e67 6520  ..  This change 
-000218e0: 6d61 6b65 7320 5379 6e61 7073 6520 636f  makes Synapse co
-000218f0: 6d70 6c69 616e 7420 7769 7468 2072 302e  mpliant with r0.
-00021900: 342e 3020 6f66 2074 6865 2043 6c69 656e  4.0 of the Clien
-00021910: 742d 5365 7276 6572 2073 7065 6369 6669  t-Server specifi
-00021920: 6361 7469 6f6e 2e20 285b 5c23 3435 3932  cation. ([\#4592
-00021930: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00021940: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00021950: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
-00021960: 3539 3229 290a 2d20 5468 6572 6520 6973  592)).- There is
-00021970: 206e 6f20 6c6f 6e67 6572 2061 6e79 206e   no longer any n
-00021980: 6565 6420 746f 2073 7065 6369 6679 2060  eed to specify `
-00021990: 6e6f 5f74 6c73 603a 2069 7420 6973 2069  no_tls`: it is i
-000219a0: 6e66 6572 7265 6420 6672 6f6d 2074 6865  nferred from the
-000219b0: 2061 6273 656e 6365 206f 6620 544c 5320   absence of TLS 
-000219c0: 6c69 7374 656e 6572 7320 285b 5c23 3436  listeners ([\#46
-000219d0: 3133 5d28 6874 7470 733a 2f2f 6769 7468  13](https://gith
-000219e0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-000219f0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00021a00: 2f34 3631 3329 2c20 5b5c 2334 3631 355d  /4613), [\#4615]
-00021a10: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00021a20: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00021a30: 796e 6170 7365 2f69 7373 7565 732f 3436  ynapse/issues/46
-00021a40: 3135 292c 205b 5c23 3436 3137 5d28 6874  15), [\#4617](ht
-00021a50: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00021a60: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00021a70: 7073 652f 6973 7375 6573 2f34 3631 3729  pse/issues/4617)
-00021a80: 2c20 5b5c 2334 3633 365d 2868 7474 7073  , [\#4636](https
-00021a90: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00021aa0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00021ab0: 2f69 7373 7565 732f 3436 3336 2929 0a2d  /issues/4636)).-
-00021ac0: 2054 6865 2064 6566 6175 6c74 2063 6f6e   The default con
-00021ad0: 6669 6775 7261 7469 6f6e 206e 6f20 6c6f  figuration no lo
-00021ae0: 6e67 6572 2072 6571 7569 7265 7320 544c  nger requires TL
-00021af0: 5320 6365 7274 6966 6963 6174 6573 2e20  S certificates. 
-00021b00: 285b 5c23 3436 3134 5d28 6874 7470 733a  ([\#4614](https:
-00021b10: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00021b20: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00021b30: 6973 7375 6573 2f34 3631 3429 290a 0a0a  issues/4614))...
-00021b40: 4275 6766 6978 6573 0a2d 2d2d 2d2d 2d2d  Bugfixes.-------
-00021b50: 2d0a 0a2d 2043 6f70 7920 6f76 6572 2072  -..- Copy over r
-00021b60: 6f6f 6d20 6665 6465 7261 7469 6f6e 2061  oom federation a
-00021b70: 6269 6c69 7479 206f 6e20 726f 6f6d 2075  bility on room u
-00021b80: 7067 7261 6465 2e20 285b 5c23 3435 3330  pgrade. ([\#4530
-00021b90: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00021ba0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00021bb0: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
-00021bc0: 3533 3029 290a 2d20 4669 7820 6e6f 6973  530)).- Fix nois
-00021bd0: 7920 2274 7769 7374 6564 2e69 6e74 6572  y "twisted.inter
-00021be0: 6e65 742e 7461 736b 2e54 6173 6b53 746f  net.task.TaskSto
-00021bf0: 7070 6564 2220 6572 726f 7273 2069 6e20  pped" errors in 
-00021c00: 6c6f 6773 2028 5b5c 2334 3534 365d 2868  logs ([\#4546](h
-00021c10: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00021c20: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00021c30: 6170 7365 2f69 7373 7565 732f 3435 3436  apse/issues/4546
-00021c40: 2929 0a2d 2053 796e 6170 7365 2069 7320  )).- Synapse is 
-00021c50: 6e6f 7720 746f 6c65 7261 6e74 206f 6620  now tolerant of 
-00021c60: 7468 6520 6074 6c73 5f66 696e 6765 7270  the `tls_fingerp
-00021c70: 7269 6e74 7360 206f 7074 696f 6e20 6265  rints` option be
-00021c80: 696e 6720 4e6f 6e65 206f 7220 6e6f 7420  ing None or not 
-00021c90: 7370 6563 6966 6965 642e 2028 5b5c 2334  specified. ([\#4
-00021ca0: 3538 395d 2868 7474 7073 3a2f 2f67 6974  589](https://git
-00021cb0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-00021cc0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-00021cd0: 732f 3435 3839 2929 0a2d 2046 6978 2027  s/4589)).- Fix '
-00021ce0: 6e6f 2075 6e69 7175 6520 6f72 2065 7863  no unique or exc
-00021cf0: 6c75 7369 6f6e 2063 6f6e 7374 7261 696e  lusion constrain
-00021d00: 7427 2065 7272 6f72 2028 5b5c 2334 3539  t' error ([\#459
-00021d10: 315d 2868 7474 7073 3a2f 2f67 6974 6875  1](https://githu
+0001cbd0: 6573 2f34 3938 3529 290a 2d20 5245 4144  es/4985)).- READ
+0001cbe0: 4d45 2075 7064 6174 6573 3a20 436f 7272  ME updates: Corr
+0001cbf0: 6563 7465 6420 7468 6520 6465 6661 756c  ected the defaul
+0001cc00: 7420 504f 5354 4752 4553 5f55 5345 522e  t POSTGRES_USER.
+0001cc10: 2041 6464 6564 2070 6f72 7420 666f 7277   Added port forw
+0001cc20: 6172 6469 6e67 2068 696e 7420 696e 2054  arding hint in T
+0001cc30: 4c53 2073 6563 7469 6f6e 2e20 285b 5c23  LS section. ([\#
+0001cc40: 3439 3837 5d28 6874 7470 733a 2f2f 6769  4987](https://gi
+0001cc50: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+0001cc60: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+0001cc70: 6573 2f34 3938 3729 290a 2d20 5265 6d6f  es/4987)).- Remo
+0001cc80: 7665 2061 206e 756d 6265 7220 6f66 2075  ve a number of u
+0001cc90: 6e75 7365 6420 7461 626c 6573 2066 726f  nused tables fro
+0001cca0: 6d20 7468 6520 6461 7461 6261 7365 2073  m the database s
+0001ccb0: 6368 656d 612e 2028 5b5c 2334 3939 325d  chema. ([\#4992]
+0001ccc0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+0001ccd0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+0001cce0: 796e 6170 7365 2f69 7373 7565 732f 3439  ynapse/issues/49
+0001ccf0: 3932 292c 205b 5c23 3530 3238 5d28 6874  92), [\#5028](ht
+0001cd00: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+0001cd10: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+0001cd20: 7073 652f 6973 7375 6573 2f35 3032 3829  pse/issues/5028)
+0001cd30: 2c20 5b5c 2335 3033 335d 2868 7474 7073  , [\#5033](https
+0001cd40: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+0001cd50: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+0001cd60: 2f69 7373 7565 732f 3530 3333 2929 0a2d  /issues/5033)).-
+0001cd70: 2052 756e 2060 626c 6163 6b60 206f 6e20   Run `black` on 
+0001cd80: 7468 6520 7265 6d61 696e 6465 7220 6f66  the remainder of
+0001cd90: 2060 7379 6e61 7073 652f 7374 6f72 6167   `synapse/storag
+0001cda0: 652f 602e 2028 5b5c 2334 3939 365d 2868  e/`. ([\#4996](h
+0001cdb0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0001cdc0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+0001cdd0: 6170 7365 2f69 7373 7565 732f 3439 3936  apse/issues/4996
+0001cde0: 2929 0a2d 2046 6978 2067 7261 6d6d 6172  )).- Fix grammar
+0001cdf0: 2069 6e20 6765 745f 6375 7272 656e 745f   in get_current_
+0001ce00: 7573 6572 735f 696e 5f72 6f6f 6d20 616e  users_in_room an
+0001ce10: 6420 6769 7665 2069 7420 6120 646f 6373  d give it a docs
+0001ce20: 7472 696e 672e 2028 5b5c 2334 3939 385d  tring. ([\#4998]
+0001ce30: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+0001ce40: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+0001ce50: 796e 6170 7365 2f69 7373 7565 732f 3439  ynapse/issues/49
+0001ce60: 3938 2929 0a2d 2043 6c65 616e 2075 7020  98)).- Clean up 
+0001ce70: 736f 6d65 2063 6f64 6520 696e 2074 6865  some code in the
+0001ce80: 2073 6572 7665 722d 6b65 7920 4b65 7972   server-key Keyr
+0001ce90: 696e 672e 2028 5b5c 2335 3030 315d 2868  ing. ([\#5001](h
+0001cea0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0001ceb0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+0001cec0: 6170 7365 2f69 7373 7565 732f 3530 3031  apse/issues/5001
+0001ced0: 2929 0a2d 2043 6f6e 7665 7274 2053 594e  )).- Convert SYN
+0001cee0: 4150 5345 5f4e 4f5f 544c 5320 446f 636b  APSE_NO_TLS Dock
+0001cef0: 6572 2076 6172 6961 626c 6520 746f 2062  er variable to b
+0001cf00: 6f6f 6c65 616e 2066 6f72 2075 7365 7220  oolean for user 
+0001cf10: 6672 6965 6e64 6c69 6e65 7373 2e20 436f  friendliness. Co
+0001cf20: 6e74 7269 6275 7465 6420 6279 2047 6162  ntributed by Gab
+0001cf30: 7269 656c 2045 636b 6572 736f 6e2e 2028  riel Eckerson. (
+0001cf40: 5b5c 2335 3030 355d 2868 7474 7073 3a2f  [\#5005](https:/
+0001cf50: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+0001cf60: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+0001cf70: 7373 7565 732f 3530 3035 2929 0a2d 2052  ssues/5005)).- R
+0001cf80: 6566 6163 746f 7220 7379 6e61 7073 652e  efactor synapse.
+0001cf90: 7374 6f72 6167 652e 5f62 6173 652e 5f73  storage._base._s
+0001cfa0: 696d 706c 655f 7365 6c65 6374 5f6c 6973  imple_select_lis
+0001cfb0: 745f 7061 6769 6e61 7465 2e20 285b 5c23  t_paginate. ([\#
+0001cfc0: 3530 3037 5d28 6874 7470 733a 2f2f 6769  5007](https://gi
+0001cfd0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+0001cfe0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+0001cff0: 6573 2f35 3030 3729 290a 2d20 5374 6f72  es/5007)).- Stor
+0001d000: 6520 7468 6520 6e6f 7461 7279 2073 6572  e the notary ser
+0001d010: 7665 7220 6e61 6d65 2063 6f72 7265 6374  ver name correct
+0001d020: 6c79 2069 6e20 7365 7276 6572 5f6b 6579  ly in server_key
+0001d030: 735f 6a73 6f6e 2e20 285b 5c23 3530 3234  s_json. ([\#5024
+0001d040: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0001d050: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+0001d060: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
+0001d070: 3032 3429 290a 2d20 5265 7772 6974 6520  024)).- Rewrite 
+0001d080: 4461 7461 7374 6f72 652e 6765 745f 7365  Datastore.get_se
+0001d090: 7276 6572 5f76 6572 6966 795f 6b65 7973  rver_verify_keys
+0001d0a0: 2074 6f20 7265 6475 6365 2074 6865 206e   to reduce the n
+0001d0b0: 756d 6265 7220 6f66 2064 6174 6162 6173  umber of databas
+0001d0c0: 6520 7472 616e 7361 6374 696f 6e73 2e20  e transactions. 
+0001d0d0: 285b 5c23 3530 3330 5d28 6874 7470 733a  ([\#5030](https:
+0001d0e0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+0001d0f0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+0001d100: 6973 7375 6573 2f35 3033 3029 290a 2d20  issues/5030)).- 
+0001d110: 5265 6d6f 7665 2065 7874 7261 6e65 6f75  Remove extraneou
+0001d120: 7320 7065 7269 6f64 2066 726f 6d20 636f  s period from co
+0001d130: 7079 7269 6768 7420 6865 6164 6572 732e  pyright headers.
+0001d140: 2028 5b5c 2335 3034 365d 2868 7474 7073   ([\#5046](https
+0001d150: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+0001d160: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+0001d170: 2f69 7373 7565 732f 3530 3436 2929 0a2d  /issues/5046)).-
+0001d180: 2055 7064 6174 6520 646f 6375 6d65 6e74   Update document
+0001d190: 6174 696f 6e20 666f 7220 7768 6572 6520  ation for where 
+0001d1a0: 746f 2067 6574 2053 796e 6170 7365 2070  to get Synapse p
+0001d1b0: 6163 6b61 6765 732e 2028 5b5c 2335 3036  ackages. ([\#506
+0001d1c0: 375d 2868 7474 7073 3a2f 2f67 6974 6875  7](https://githu
+0001d1d0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+0001d1e0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+0001d1f0: 3530 3637 2929 0a2d 2041 6464 2077 6f72  5067)).- Add wor
+0001d200: 6b61 726f 756e 6473 2066 6f72 2070 6570  karounds for pep
+0001d210: 2d35 3137 2069 6e73 7461 6c6c 2065 7272  -517 install err
+0001d220: 6f72 732e 2028 5b5c 2335 3039 385d 2868  ors. ([\#5098](h
+0001d230: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0001d240: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+0001d250: 6170 7365 2f69 7373 7565 732f 3530 3938  apse/issues/5098
+0001d260: 2929 0a2d 2049 6d70 726f 7665 206c 6f67  )).- Improve log
+0001d270: 6769 6e67 2077 6865 6e20 6576 656e 742d  ging when event-
+0001d280: 7369 676e 6174 7572 6520 6368 6563 6b73  signature checks
+0001d290: 2066 6169 6c2e 2028 5b5c 2335 3130 305d   fail. ([\#5100]
+0001d2a0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+0001d2b0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+0001d2c0: 796e 6170 7365 2f69 7373 7565 732f 3531  ynapse/issues/51
+0001d2d0: 3030 2929 0a2d 2046 6163 746f 7220 6f75  00)).- Factor ou
+0001d2e0: 7420 616e 2022 6173 7365 7274 5f72 6571  t an "assert_req
+0001d2f0: 7565 7374 6572 5f69 735f 6164 6d69 6e22  uester_is_admin"
+0001d300: 2066 756e 6374 696f 6e2e 2028 5b5c 2335   function. ([\#5
+0001d310: 3132 305d 2868 7474 7073 3a2f 2f67 6974  120](https://git
+0001d320: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+0001d330: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+0001d340: 732f 3531 3230 2929 0a2d 2052 656d 6f76  s/5120)).- Remov
+0001d350: 6520 7468 6520 7265 7175 6972 656d 656e  e the requiremen
+0001d360: 7420 746f 2061 7574 6865 6e74 6963 6174  t to authenticat
+0001d370: 6520 666f 7220 2f61 646d 696e 2f73 6572  e for /admin/ser
+0001d380: 7665 725f 7665 7273 696f 6e2e 2028 5b5c  ver_version. ([\
+0001d390: 2335 3132 325d 2868 7474 7073 3a2f 2f67  #5122](https://g
+0001d3a0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+0001d3b0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+0001d3c0: 7565 732f 3531 3232 2929 0a2d 2050 7265  ues/5122)).- Pre
+0001d3d0: 7665 6e74 2061 6e20 6578 6365 7074 696f  vent an exceptio
+0001d3e0: 6e20 6672 6f6d 2062 6569 6e67 2072 6169  n from being rai
+0001d3f0: 7365 6420 696e 2061 2049 5265 736f 6c75  sed in a IResolu
+0001d400: 7469 6f6e 5265 6365 6976 6572 2061 6e64  tionReceiver and
+0001d410: 2075 7365 2061 206d 6f72 6520 6765 6e65   use a more gene
+0001d420: 7269 6320 6572 726f 7220 6d65 7373 6167  ric error messag
+0001d430: 6520 666f 7220 626c 6163 6b6c 6973 7465  e for blackliste
+0001d440: 6420 5552 4c20 7072 6576 6965 7773 2e20  d URL previews. 
+0001d450: 285b 5c23 3531 3535 5d28 6874 7470 733a  ([\#5155](https:
+0001d460: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+0001d470: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+0001d480: 6973 7375 6573 2f35 3135 3529 290a 2d20  issues/5155)).- 
+0001d490: 5275 6e20 6062 6c61 636b 6020 6f6e 2074  Run `black` on t
+0001d4a0: 6865 2074 6573 7473 2064 6972 6563 746f  he tests directo
+0001d4b0: 7279 2e20 285b 5c23 3531 3730 5d28 6874  ry. ([\#5170](ht
+0001d4c0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+0001d4d0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+0001d4e0: 7073 652f 6973 7375 6573 2f35 3137 3029  pse/issues/5170)
+0001d4f0: 290a 2d20 4669 7820 4349 2061 6674 6572  ).- Fix CI after
+0001d500: 206e 6577 2072 656c 6561 7365 206f 6620   new release of 
+0001d510: 6973 6f72 742e 2028 5b5c 2335 3137 395d  isort. ([\#5179]
+0001d520: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+0001d530: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+0001d540: 796e 6170 7365 2f69 7373 7565 732f 3531  ynapse/issues/51
+0001d550: 3739 2929 0a2d 2046 6978 2062 6f67 7573  79)).- Fix bogus
+0001d560: 2069 6d70 6f72 7473 2069 6e20 756e 6974   imports in unit
+0001d570: 2074 6573 7473 2e20 285b 5c23 3531 3534   tests. ([\#5154
+0001d580: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0001d590: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+0001d5a0: 7379 6e61 7073 652f 6973 7375 6573 2f35  synapse/issues/5
+0001d5b0: 3135 3429 290a 0a0a 5379 6e61 7073 6520  154))...Synapse 
+0001d5c0: 302e 3939 2e33 2e32 2028 3230 3139 2d30  0.99.3.2 (2019-0
+0001d5d0: 352d 3033 290a 3d3d 3d3d 3d3d 3d3d 3d3d  5-03).==========
+0001d5e0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0001d5f0: 3d3d 3d0a 0a49 6e74 6572 6e61 6c20 4368  ===..Internal Ch
+0001d600: 616e 6765 730a 2d2d 2d2d 2d2d 2d2d 2d2d  anges.----------
+0001d610: 2d2d 2d2d 2d2d 0a0a 2d20 456e 7375 7265  ------..- Ensure
+0001d620: 2074 6861 7420 7765 2068 6176 6520 6075   that we have `u
+0001d630: 726c 6c69 6233 6020 3c31 2e32 352c 2074  rllib3` <1.25, t
+0001d640: 6f20 7265 736f 6c76 6520 696e 636f 6d70  o resolve incomp
+0001d650: 6174 6962 696c 6974 7920 7769 7468 2060  atibility with `
+0001d660: 7265 7175 6573 7473 602e 2028 5b5c 2335  requests`. ([\#5
+0001d670: 3133 355d 2868 7474 7073 3a2f 2f67 6974  135](https://git
+0001d680: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+0001d690: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+0001d6a0: 732f 3531 3335 2929 0a0a 0a53 796e 6170  s/5135))...Synap
+0001d6b0: 7365 2030 2e39 392e 332e 3120 2832 3031  se 0.99.3.1 (201
+0001d6c0: 392d 3035 2d30 3329 0a3d 3d3d 3d3d 3d3d  9-05-03).=======
+0001d6d0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0001d6e0: 3d3d 3d3d 3d3d 0a0a 5365 6375 7269 7479  ======..Security
+0001d6f0: 2075 7064 6174 650a 2d2d 2d2d 2d2d 2d2d   update.--------
+0001d700: 2d2d 2d2d 2d2d 2d0a 0a54 6869 7320 7265  -------..This re
+0001d710: 6c65 6173 6520 696e 636c 7564 6573 2074  lease includes t
+0001d720: 776f 2073 6563 7572 6974 7920 6669 7865  wo security fixe
+0001d730: 733a 0a0a 2d20 5377 6974 6368 2074 6f20  s:..- Switch to 
+0001d740: 7573 696e 6720 6120 6372 7970 746f 6772  using a cryptogr
+0001d750: 6170 6869 6361 6c6c 792d 7365 6375 7265  aphically-secure
+0001d760: 2072 616e 646f 6d20 6e75 6d62 6572 2067   random number g
+0001d770: 656e 6572 6174 6f72 2066 6f72 2074 6f6b  enerator for tok
+0001d780: 656e 2073 7472 696e 6773 2c20 656e 7375  en strings, ensu
+0001d790: 7269 6e67 2074 6865 7920 6361 6e6e 6f74  ring they cannot
+0001d7a0: 2062 6520 7072 6564 6963 7465 6420 6279   be predicted by
+0001d7b0: 2061 6e20 6174 7461 636b 6572 2e20 5468   an attacker. Th
+0001d7c0: 616e 6b73 2074 6f20 406f 706e 7365 6320  anks to @opnsec 
+0001d7d0: 666f 7220 6964 656e 7469 6679 696e 6720  for identifying 
+0001d7e0: 616e 6420 7265 7370 6f6e 7369 626c 7920  and responsibly 
+0001d7f0: 6469 7363 6c6f 7369 6e67 2074 6869 7320  disclosing this 
+0001d800: 6973 7375 6521 2028 5b5c 2335 3133 335d  issue! ([\#5133]
+0001d810: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+0001d820: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+0001d830: 796e 6170 7365 2f69 7373 7565 732f 3531  ynapse/issues/51
+0001d840: 3333 2929 0a2d 2042 6c61 636b 6c69 7374  33)).- Blacklist
+0001d850: 2030 2e30 2e30 2e30 2061 6e64 203a 3a20   0.0.0.0 and :: 
+0001d860: 6279 2064 6566 6175 6c74 2066 6f72 2055  by default for U
+0001d870: 524c 2070 7265 7669 6577 732e 2054 6861  RL previews. Tha
+0001d880: 6e6b 7320 746f 2040 6f70 6e73 6563 2066  nks to @opnsec f
+0001d890: 6f72 2069 6465 6e74 6966 7969 6e67 2061  or identifying a
+0001d8a0: 6e64 2072 6573 706f 6e73 6962 6c79 2064  nd responsibly d
+0001d8b0: 6973 636c 6f73 696e 6720 7468 6973 2069  isclosing this i
+0001d8c0: 7373 7565 2074 6f6f 2120 285b 5c23 3531  ssue too! ([\#51
+0001d8d0: 3334 5d28 6874 7470 733a 2f2f 6769 7468  34](https://gith
+0001d8e0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+0001d8f0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+0001d900: 2f35 3133 3429 290a 0a53 796e 6170 7365  /5134))..Synapse
+0001d910: 2030 2e39 392e 3320 2832 3031 392d 3034   0.99.3 (2019-04
+0001d920: 2d30 3129 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d  -01).===========
+0001d930: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0001d940: 0a0a 4e6f 2073 6967 6e69 6669 6361 6e74  ..No significant
+0001d950: 2063 6861 6e67 6573 2e0a 0a0a 5379 6e61   changes....Syna
+0001d960: 7073 6520 302e 3939 2e33 7263 3120 2832  pse 0.99.3rc1 (2
+0001d970: 3031 392d 3033 2d32 3729 0a3d 3d3d 3d3d  019-03-27).=====
+0001d980: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0001d990: 3d3d 3d3d 3d3d 3d3d 3d0a 0a46 6561 7475  =========..Featu
+0001d9a0: 7265 730a 2d2d 2d2d 2d2d 2d2d 0a0a 2d20  res.--------..- 
+0001d9b0: 5468 6520 7573 6572 2064 6972 6563 746f  The user directo
+0001d9c0: 7279 2068 6173 2062 6565 6e20 7265 7772  ry has been rewr
+0001d9d0: 6974 7465 6e20 746f 206d 616b 6520 6974  itten to make it
+0001d9e0: 2066 6173 7465 722c 2077 6974 6820 6c65   faster, with le
+0001d9f0: 7373 2063 6861 6e63 6520 6f66 2066 616c  ss chance of fal
+0001da00: 6c69 6e67 2062 6568 696e 6420 6f6e 2061  ling behind on a
+0001da10: 206c 6172 6765 2073 6572 7665 722e 2028   large server. (
+0001da20: 5b5c 2334 3533 375d 2868 7474 7073 3a2f  [\#4537](https:/
+0001da30: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+0001da40: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+0001da50: 7373 7565 732f 3435 3337 292c 205b 5c23  ssues/4537), [\#
+0001da60: 3438 3436 5d28 6874 7470 733a 2f2f 6769  4846](https://gi
+0001da70: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+0001da80: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+0001da90: 6573 2f34 3834 3629 2c20 5b5c 2334 3836  es/4846), [\#486
+0001daa0: 345d 2868 7474 7073 3a2f 2f67 6974 6875  4](https://githu
+0001dab0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+0001dac0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+0001dad0: 3438 3634 292c 205b 5c23 3438 3837 5d28  4864), [\#4887](
+0001dae0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0001daf0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+0001db00: 6e61 7073 652f 6973 7375 6573 2f34 3838  napse/issues/488
+0001db10: 3729 2c20 5b5c 2334 3930 305d 2868 7474  7), [\#4900](htt
+0001db20: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0001db30: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+0001db40: 7365 2f69 7373 7565 732f 3439 3030 292c  se/issues/4900),
+0001db50: 205b 5c23 3439 3434 5d28 6874 7470 733a   [\#4944](https:
+0001db60: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+0001db70: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+0001db80: 6973 7375 6573 2f34 3934 3429 290a 2d20  issues/4944)).- 
+0001db90: 4164 6420 636f 6e66 6967 7572 6162 6c65  Add configurable
+0001dba0: 2072 6174 6520 6c69 6d69 7469 6e67 2074   rate limiting t
+0001dbb0: 6f20 7468 6520 2f72 6567 6973 7465 7220  o the /register 
+0001dbc0: 656e 6470 6f69 6e74 2e20 285b 5c23 3437  endpoint. ([\#47
+0001dbd0: 3335 5d28 6874 7470 733a 2f2f 6769 7468  35](https://gith
+0001dbe0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+0001dbf0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+0001dc00: 2f34 3733 3529 2c20 5b5c 2334 3830 345d  /4735), [\#4804]
+0001dc10: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+0001dc20: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+0001dc30: 796e 6170 7365 2f69 7373 7565 732f 3438  ynapse/issues/48
+0001dc40: 3034 2929 0a2d 204d 6f76 6520 7365 7276  04)).- Move serv
+0001dc50: 6572 206b 6579 2071 7565 7269 6573 2074  er key queries t
+0001dc60: 6f20 6665 6465 7261 7469 6f6e 2072 6561  o federation rea
+0001dc70: 6465 722e 2028 5b5c 2334 3735 375d 2868  der. ([\#4757](h
+0001dc80: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0001dc90: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+0001dca0: 6170 7365 2f69 7373 7565 732f 3437 3537  apse/issues/4757
+0001dcb0: 2929 0a2d 2041 6464 2073 7570 706f 7274  )).- Add support
+0001dcc0: 2066 6f72 202f 6163 636f 756e 742f 3370   for /account/3p
+0001dcd0: 6964 2052 4553 5420 656e 6470 6f69 6e74  id REST endpoint
+0001dce0: 2074 6f20 636c 6965 6e74 5f72 6561 6465   to client_reade
+0001dcf0: 7220 776f 726b 6572 2e20 285b 5c23 3437  r worker. ([\#47
+0001dd00: 3539 5d28 6874 7470 733a 2f2f 6769 7468  59](https://gith
+0001dd10: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+0001dd20: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+0001dd30: 2f34 3735 3929 290a 2d20 4164 6420 616e  /4759)).- Add an
+0001dd40: 2065 6e64 706f 696e 7420 746f 2074 6865   endpoint to the
+0001dd50: 2061 646d 696e 2041 5049 2066 6f72 2071   admin API for q
+0001dd60: 7565 7279 696e 6720 7468 6520 7365 7276  uerying the serv
+0001dd70: 6572 2076 6572 7369 6f6e 2e20 436f 6e74  er version. Cont
+0001dd80: 7269 6275 7465 6420 6279 204a 6f73 6570  ributed by Josep
+0001dd90: 6820 5765 7374 6f6e 2e20 285b 5c23 3437  h Weston. ([\#47
+0001dda0: 3732 5d28 6874 7470 733a 2f2f 6769 7468  72](https://gith
+0001ddb0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+0001ddc0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+0001ddd0: 2f34 3737 3229 290a 2d20 496e 636c 7564  /4772)).- Includ
+0001dde0: 6520 6120 6465 6661 756c 7420 636f 6e66  e a default conf
+0001ddf0: 6967 7572 6174 696f 6e20 6669 6c65 2069  iguration file i
+0001de00: 6e20 7468 6520 2764 6f63 7327 2064 6972  n the 'docs' dir
+0001de10: 6563 746f 7279 2e20 285b 5c23 3437 3931  ectory. ([\#4791
+0001de20: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0001de30: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+0001de40: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
+0001de50: 3739 3129 2c20 5b5c 2334 3830 315d 2868  791), [\#4801](h
+0001de60: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0001de70: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+0001de80: 6170 7365 2f69 7373 7565 732f 3438 3031  apse/issues/4801
+0001de90: 2929 0a2d 2053 796e 6170 7365 2069 7320  )).- Synapse is 
+0001dea0: 6e6f 7720 7065 726d 6973 7369 7665 2061  now permissive a
+0001deb0: 626f 7574 2074 7261 696c 696e 6720 736c  bout trailing sl
+0001dec0: 6173 6865 7320 6f6e 2073 6f6d 6520 6f66  ashes on some of
+0001ded0: 2069 7473 2066 6564 6572 6174 696f 6e20   its federation 
+0001dee0: 656e 6470 6f69 6e74 732c 2061 6c6c 6f77  endpoints, allow
+0001def0: 696e 6720 7a65 726f 206f 7220 6d6f 7265  ing zero or more
+0001df00: 2074 6f20 6265 2070 7265 7365 6e74 2e20   to be present. 
+0001df10: 285b 5c23 3437 3933 5d28 6874 7470 733a  ([\#4793](https:
+0001df20: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+0001df30: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+0001df40: 6973 7375 6573 2f34 3739 3329 290a 2d20  issues/4793)).- 
+0001df50: 4164 6420 7375 7070 6f72 7420 666f 7220  Add support for 
+0001df60: 2f6b 6579 732f 7175 6572 7920 616e 6420  /keys/query and 
+0001df70: 2f6b 6579 732f 6368 616e 6765 7320 5245  /keys/changes RE
+0001df80: 5354 2065 6e64 706f 696e 7473 2074 6f20  ST endpoints to 
+0001df90: 636c 6965 6e74 5f72 6561 6465 7220 776f  client_reader wo
+0001dfa0: 726b 6572 2e20 285b 5c23 3437 3936 5d28  rker. ([\#4796](
+0001dfb0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0001dfc0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+0001dfd0: 6e61 7073 652f 6973 7375 6573 2f34 3739  napse/issues/479
+0001dfe0: 3629 290a 2d20 4164 6420 6368 6563 6b73  6)).- Add checks
+0001dff0: 2074 6f20 696e 636f 6d69 6e67 2065 7665   to incoming eve
+0001e000: 6e74 7320 6f76 6572 2066 6564 6572 6174  nts over federat
+0001e010: 696f 6e20 666f 7220 6576 656e 7473 2065  ion for events e
+0001e020: 7661 6469 6e67 2061 7574 6820 2861 6b61  vading auth (aka
+0001e030: 2022 736f 6674 2066 6169 6c22 292e 2028   "soft fail"). (
+0001e040: 5b5c 2334 3831 345d 2868 7474 7073 3a2f  [\#4814](https:/
+0001e050: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+0001e060: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+0001e070: 7373 7565 732f 3438 3134 2929 0a2d 2041  ssues/4814)).- A
+0001e080: 6464 2063 6f6e 6669 6775 7261 626c 6520  dd configurable 
+0001e090: 7261 7465 206c 696d 6974 696e 6720 746f  rate limiting to
+0001e0a0: 2074 6865 202f 6c6f 6769 6e20 656e 6470   the /login endp
+0001e0b0: 6f69 6e74 2e20 285b 5c23 3438 3231 5d28  oint. ([\#4821](
+0001e0c0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0001e0d0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+0001e0e0: 6e61 7073 652f 6973 7375 6573 2f34 3832  napse/issues/482
+0001e0f0: 3129 2c20 5b5c 2334 3836 355d 2868 7474  1), [\#4865](htt
+0001e100: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0001e110: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+0001e120: 7365 2f69 7373 7565 732f 3438 3635 2929  se/issues/4865))
+0001e130: 0a2d 2052 656d 6f76 6520 7472 6169 6c69  .- Remove traili
+0001e140: 6e67 2073 6c61 7368 6573 2066 726f 6d20  ng slashes from 
+0001e150: 6365 7274 6169 6e20 6f75 7462 6f75 6e64  certain outbound
+0001e160: 2066 6564 6572 6174 696f 6e20 7265 7175   federation requ
+0001e170: 6573 7473 2e20 5265 7472 7920 6966 2072  ests. Retry if r
+0001e180: 6563 6569 7669 6e67 2061 2034 3034 2e20  eceiving a 404. 
+0001e190: 436f 6e74 6578 743a 2023 3336 3232 2e20  Context: #3622. 
+0001e1a0: 285b 5c23 3438 3430 5d28 6874 7470 733a  ([\#4840](https:
+0001e1b0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+0001e1c0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+0001e1d0: 6973 7375 6573 2f34 3834 3029 290a 2d20  issues/4840)).- 
+0001e1e0: 416c 6c6f 7720 7061 7373 696e 6720 2d2d  Allow passing --
+0001e1f0: 6461 656d 6f6e 697a 6520 666c 6167 7320  daemonize flags 
+0001e200: 746f 2077 6f72 6b65 7273 2069 6e20 7468  to workers in th
+0001e210: 6520 7361 6d65 2077 6179 2061 7320 7769  e same way as wi
+0001e220: 7468 206d 6173 7465 722e 2028 5b5c 2334  th master. ([\#4
+0001e230: 3835 335d 2868 7474 7073 3a2f 2f67 6974  853](https://git
+0001e240: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+0001e250: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+0001e260: 732f 3438 3533 2929 0a2d 2042 6174 6368  s/4853)).- Batch
+0001e270: 2075 7020 6f75 7467 6f69 6e67 2072 6561   up outgoing rea
+0001e280: 642d 7265 6365 6970 7473 2074 6f20 7265  d-receipts to re
+0001e290: 6475 6365 2066 6564 6572 6174 696f 6e20  duce federation 
+0001e2a0: 7472 6166 6669 632e 2028 5b5c 2334 3839  traffic. ([\#489
+0001e2b0: 305d 2868 7474 7073 3a2f 2f67 6974 6875  0](https://githu
+0001e2c0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+0001e2d0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+0001e2e0: 3438 3930 292c 205b 5c23 3439 3237 5d28  4890), [\#4927](
+0001e2f0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0001e300: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+0001e310: 6e61 7073 652f 6973 7375 6573 2f34 3932  napse/issues/492
+0001e320: 3729 290a 2d20 4164 6420 6f70 7469 6f6e  7)).- Add option
+0001e330: 2074 6f20 6469 7361 626c 6520 7365 6172   to disable sear
+0001e340: 6368 696e 6720 7468 6520 7573 6572 2064  ching the user d
+0001e350: 6972 6563 746f 7279 2e20 285b 5c23 3438  irectory. ([\#48
+0001e360: 3935 5d28 6874 7470 733a 2f2f 6769 7468  95](https://gith
+0001e370: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+0001e380: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+0001e390: 2f34 3839 3529 290a 2d20 4164 6420 6f70  /4895)).- Add op
+0001e3a0: 7469 6f6e 2074 6f20 6469 7361 626c 6520  tion to disable 
+0001e3b0: 7365 6172 6368 696e 6720 6f66 206c 6f63  searching of loc
+0001e3c0: 616c 2061 6e64 2072 656d 6f74 6520 7075  al and remote pu
+0001e3d0: 626c 6963 2072 6f6f 6d20 6c69 7374 732e  blic room lists.
+0001e3e0: 2028 5b5c 2334 3839 365d 2868 7474 7073   ([\#4896](https
+0001e3f0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+0001e400: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+0001e410: 2f69 7373 7565 732f 3438 3936 2929 0a2d  /issues/4896)).-
+0001e420: 2041 6464 2061 6269 6c69 7479 2066 6f72   Add ability for
+0001e430: 2070 6173 7377 6f72 6420 7072 6f76 6964   password provid
+0001e440: 6572 7320 746f 206c 6f67 696e 2f72 6567  ers to login/reg
+0001e450: 6973 7465 7220 6120 7573 6572 2076 6961  ister a user via
+0001e460: 2033 5049 4420 2865 6d61 696c 2c20 7068   3PID (email, ph
+0001e470: 6f6e 6529 2e20 285b 5c23 3439 3331 5d28  one). ([\#4931](
+0001e480: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0001e490: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+0001e4a0: 6e61 7073 652f 6973 7375 6573 2f34 3933  napse/issues/493
+0001e4b0: 3129 290a 0a0a 4275 6766 6978 6573 0a2d  1))...Bugfixes.-
+0001e4c0: 2d2d 2d2d 2d2d 2d0a 0a2d 2046 6978 2061  -------..- Fix a
+0001e4d0: 2062 7567 2077 6865 7265 206d 6564 6961   bug where media
+0001e4e0: 2077 6974 6820 7370 6163 6573 2069 6e20   with spaces in 
+0001e4f0: 7468 6520 6e61 6d65 2077 6f75 6c64 2067  the name would g
+0001e500: 6574 2061 2063 6f72 7275 7074 6564 206e  et a corrupted n
+0001e510: 616d 652e 2028 5b5c 2332 3039 305d 2868  ame. ([\#2090](h
+0001e520: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0001e530: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+0001e540: 6170 7365 2f69 7373 7565 732f 3230 3930  apse/issues/2090
+0001e550: 2929 0a2d 2046 6978 2061 7474 656d 7074  )).- Fix attempt
+0001e560: 696e 6720 746f 2070 6167 696e 6174 6520  ing to paginate 
+0001e570: 696e 2072 6f6f 6d73 2077 6865 7265 2073  in rooms where s
+0001e580: 6572 7665 7220 6361 6e6e 6f74 2073 6565  erver cannot see
+0001e590: 2061 6e79 2065 7665 6e74 732c 2074 6f20   any events, to 
+0001e5a0: 6176 6f69 6420 756e 6e65 6365 7373 6172  avoid unnecessar
+0001e5b0: 696c 7920 7075 6c6c 696e 6720 696e 206c  ily pulling in l
+0001e5c0: 6f74 7320 6f66 2072 6564 6163 7465 6420  ots of redacted 
+0001e5d0: 6576 656e 7473 2e20 285b 5c23 3436 3939  events. ([\#4699
+0001e5e0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0001e5f0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+0001e600: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
+0001e610: 3639 3929 290a 2d20 2765 7665 6e74 5f69  699)).- 'event_i
+0001e620: 6427 2069 7320 6e6f 7720 6120 7265 7175  d' is now a requ
+0001e630: 6972 6564 2070 6172 616d 6574 6572 2069  ired parameter i
+0001e640: 6e20 6665 6465 7261 7465 6420 7374 6174  n federated stat
+0001e650: 6520 7265 7175 6573 7473 2c20 6173 2070  e requests, as p
+0001e660: 6572 2074 6865 206d 6174 7269 7820 7370  er the matrix sp
+0001e670: 6563 2e20 285b 5c23 3437 3430 5d28 6874  ec. ([\#4740](ht
+0001e680: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+0001e690: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+0001e6a0: 7073 652f 6973 7375 6573 2f34 3734 3029  pse/issues/4740)
+0001e6b0: 290a 2d20 4669 7820 7469 6768 746c 6f6f  ).- Fix tightloo
+0001e6c0: 7020 6f76 6572 2063 6f6e 6e65 6374 696e  p over connectin
+0001e6d0: 6720 746f 2072 6570 6c69 6361 7469 6f6e  g to replication
+0001e6e0: 2073 6572 7665 722e 2028 5b5c 2334 3734   server. ([\#474
+0001e6f0: 395d 2868 7474 7073 3a2f 2f67 6974 6875  9](https://githu
+0001e700: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+0001e710: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+0001e720: 3437 3439 2929 0a2d 2046 6978 2070 6172  4749)).- Fix par
+0001e730: 7369 6e67 206f 6620 436f 6e74 656e 742d  sing of Content-
+0001e740: 4469 7370 6f73 6974 696f 6e20 6865 6164  Disposition head
+0001e750: 6572 7320 6f6e 2072 656d 6f74 6520 6d65  ers on remote me
+0001e760: 6469 6120 7265 7175 6573 7473 2061 6e64  dia requests and
+0001e770: 2055 524c 2070 7265 7669 6577 732e 2028   URL previews. (
+0001e780: 5b5c 2334 3736 335d 2868 7474 7073 3a2f  [\#4763](https:/
+0001e790: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+0001e7a0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+0001e7b0: 7373 7565 732f 3437 3633 2929 0a2d 2046  ssues/4763)).- F
+0001e7c0: 6978 2069 6e63 6f72 7265 6374 206c 6f67  ix incorrect log
+0001e7d0: 2061 626f 7574 206e 6f74 2070 6572 7369   about not persi
+0001e7e0: 7374 696e 6720 6475 706c 6963 6174 6520  sting duplicate 
+0001e7f0: 7374 6174 6520 6576 656e 742e 2028 5b5c  state event. ([\
+0001e800: 2334 3737 365d 2868 7474 7073 3a2f 2f67  #4776](https://g
+0001e810: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+0001e820: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+0001e830: 7565 732f 3437 3736 2929 0a2d 2046 6978  ues/4776)).- Fix
+0001e840: 2076 3476 3620 6f70 7469 6f6e 2069 6e20   v4v6 option in 
+0001e850: 4841 5072 6f78 7920 6578 616d 706c 6520  HAProxy example 
+0001e860: 636f 6e66 6967 2e20 436f 6e74 7269 6275  config. Contribu
+0001e870: 7465 6420 6279 2046 6c61 6b65 6269 2e20  ted by Flakebi. 
+0001e880: 285b 5c23 3437 3930 5d28 6874 7470 733a  ([\#4790](https:
+0001e890: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+0001e8a0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+0001e8b0: 6973 7375 6573 2f34 3739 3029 290a 2d20  issues/4790)).- 
+0001e8c0: 4861 6e64 6c65 2062 6174 6368 2075 7064  Handle batch upd
+0001e8d0: 6174 6573 2069 6e20 776f 726b 6572 2072  ates in worker r
+0001e8e0: 6570 6c69 6361 7469 6f6e 2070 726f 746f  eplication proto
+0001e8f0: 636f 6c2e 2028 5b5c 2334 3739 325d 2868  col. ([\#4792](h
+0001e900: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0001e910: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+0001e920: 6170 7365 2f69 7373 7565 732f 3437 3932  apse/issues/4792
+0001e930: 2929 0a2d 2046 6978 2062 7567 2077 6865  )).- Fix bug whe
+0001e940: 7265 2077 6520 6469 646e 2774 2063 6f72  re we didn't cor
+0001e950: 7265 6374 6c79 2074 6872 6f74 746c 6520  rectly throttle 
+0001e960: 7365 6e64 696e 6720 6f66 2055 5345 525f  sending of USER_
+0001e970: 4950 2063 6f6d 6d61 6e64 7320 6f76 6572  IP commands over
+0001e980: 2072 6570 6c69 6361 7469 6f6e 2e20 285b   replication. ([
+0001e990: 5c23 3438 3138 5d28 6874 7470 733a 2f2f  \#4818](https://
+0001e9a0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+0001e9b0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+0001e9c0: 7375 6573 2f34 3831 3829 290a 2d20 4669  sues/4818)).- Fi
+0001e9d0: 7820 706f 7465 6e74 6961 6c20 7261 6365  x potential race
+0001e9e0: 2069 6e20 6861 6e64 6c69 6e67 206d 6973   in handling mis
+0001e9f0: 7369 6e67 2075 7064 6174 6573 2069 6e20  sing updates in 
+0001ea00: 6465 7669 6365 206c 6973 7420 7570 6461  device list upda
+0001ea10: 7465 732e 2028 5b5c 2334 3832 395d 2868  tes. ([\#4829](h
+0001ea20: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0001ea30: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+0001ea40: 6170 7365 2f69 7373 7565 732f 3438 3239  apse/issues/4829
+0001ea50: 2929 0a2d 2046 6978 2062 7567 2077 6865  )).- Fix bug whe
+0001ea60: 7265 2073 796e 6170 7365 2065 7870 6563  re synapse expec
+0001ea70: 7465 6420 616e 2075 6e2d 7370 6563 6365  ted an un-specce
+0001ea80: 6420 6070 7265 765f 7374 6174 6560 2066  d `prev_state` f
+0001ea90: 6965 6c64 206f 6e20 7374 6174 6520 6576  ield on state ev
+0001eaa0: 656e 7473 2e20 285b 5c23 3438 3337 5d28  ents. ([\#4837](
+0001eab0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0001eac0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+0001ead0: 6e61 7073 652f 6973 7375 6573 2f34 3833  napse/issues/483
+0001eae0: 3729 290a 2d20 5472 616e 7366 6572 2061  7)).- Transfer a
+0001eaf0: 2075 7365 7227 7320 6e6f 7469 6669 6361   user's notifica
+0001eb00: 7469 6f6e 2073 6574 7469 6e67 7320 2870  tion settings (p
+0001eb10: 7573 6820 7275 6c65 7329 206f 6e20 726f  ush rules) on ro
+0001eb20: 6f6d 2075 7067 7261 6465 2e20 285b 5c23  om upgrade. ([\#
+0001eb30: 3438 3338 5d28 6874 7470 733a 2f2f 6769  4838](https://gi
+0001eb40: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+0001eb50: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+0001eb60: 6573 2f34 3833 3829 290a 2d20 6669 7820  es/4838)).- fix 
+0001eb70: 7465 7374 5f61 7574 6f5f 6372 6561 7465  test_auto_create
+0001eb80: 5f61 7574 6f5f 6a6f 696e 5f77 6865 7265  _auto_join_where
+0001eb90: 5f6e 6f5f 636f 6e73 656e 742e 2028 5b5c  _no_consent. ([\
+0001eba0: 2334 3838 365d 2868 7474 7073 3a2f 2f67  #4886](https://g
+0001ebb0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+0001ebc0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+0001ebd0: 7565 732f 3438 3836 2929 0a2d 2046 6978  ues/4886)).- Fix
+0001ebe0: 2061 2062 7567 2077 6865 7265 2068 735f   a bug where hs_
+0001ebf0: 6469 7361 626c 6564 5f6d 6573 7361 6765  disabled_message
+0001ec00: 2077 6173 2073 6f6d 6574 696d 6573 206e   was sometimes n
+0001ec10: 6f74 2063 6f72 7265 6374 6c79 2065 6e66  ot correctly enf
+0001ec20: 6f72 6365 642e 2028 5b5c 2334 3838 385d  orced. ([\#4888]
+0001ec30: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+0001ec40: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+0001ec50: 796e 6170 7365 2f69 7373 7565 732f 3438  ynapse/issues/48
+0001ec60: 3838 2929 0a2d 2046 6978 2062 7567 2069  88)).- Fix bug i
+0001ec70: 6e20 7368 7574 646f 776e 2072 6f6f 6d20  n shutdown room 
+0001ec80: 6164 6d69 6e20 4150 4920 7768 6572 6520  admin API where 
+0001ec90: 6974 2077 6f75 6c64 2066 6169 6c20 6966  it would fail if
+0001eca0: 2061 2075 7365 7220 696e 2074 6865 2072   a user in the r
+0001ecb0: 6f6f 6d20 6861 646e 2774 2063 6f6e 7365  oom hadn't conse
+0001ecc0: 6e74 6564 2074 6f20 7468 6520 7072 6976  nted to the priv
+0001ecd0: 6163 7920 706f 6c69 6379 2e20 285b 5c23  acy policy. ([\#
+0001ece0: 3439 3034 5d28 6874 7470 733a 2f2f 6769  4904](https://gi
+0001ecf0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+0001ed00: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+0001ed10: 6573 2f34 3930 3429 290a 2d20 4669 7820  es/4904)).- Fix 
+0001ed20: 6275 6720 7768 6572 6520 626c 6f63 6b65  bug where blocke
+0001ed30: 6420 776f 726c 642d 7265 6164 6162 6c65  d world-readable
+0001ed40: 2072 6f6f 6d73 2077 6572 6520 7374 696c   rooms were stil
+0001ed50: 6c20 7065 656b 6162 6c65 2e20 285b 5c23  l peekable. ([\#
+0001ed60: 3439 3038 5d28 6874 7470 733a 2f2f 6769  4908](https://gi
+0001ed70: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+0001ed80: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+0001ed90: 6573 2f34 3930 3829 290a 0a0a 496e 7465  es/4908))...Inte
+0001eda0: 726e 616c 2043 6861 6e67 6573 0a2d 2d2d  rnal Changes.---
+0001edb0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a 0a2d  -------------..-
+0001edc0: 2041 6464 2061 2073 7973 7465 6d64 2073   Add a systemd s
+0001edd0: 6574 7570 2074 6861 7420 7375 7070 6f72  etup that suppor
+0001ede0: 7473 2073 796e 6170 7365 2077 6f72 6b65  ts synapse worke
+0001edf0: 7273 2e20 436f 6e74 7269 6275 7465 6420  rs. Contributed 
+0001ee00: 6279 204c 7563 6120 436f 7262 6174 746f  by Luca Corbatto
+0001ee10: 2e20 285b 5c23 3436 3632 5d28 6874 7470  . ([\#4662](http
+0001ee20: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+0001ee30: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+0001ee40: 652f 6973 7375 6573 2f34 3636 3229 290a  e/issues/4662)).
+0001ee50: 2d20 4368 616e 6765 2066 726f 6d20 5472  - Change from Tr
+0001ee60: 6176 6973 4349 2074 6f20 4275 696c 646b  avisCI to Buildk
+0001ee70: 6974 6520 666f 7220 4349 2e20 285b 5c23  ite for CI. ([\#
+0001ee80: 3437 3532 5d28 6874 7470 733a 2f2f 6769  4752](https://gi
+0001ee90: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+0001eea0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+0001eeb0: 6573 2f34 3735 3229 290a 2d20 5768 656e  es/4752)).- When
+0001eec0: 2070 7265 7365 6e63 6520 6973 2064 6973   presence is dis
+0001eed0: 6162 6c65 6420 646f 6e27 7420 7365 6e64  abled don't send
+0001eee0: 206f 7665 7220 7265 706c 6963 6174 696f   over replicatio
+0001eef0: 6e2e 2028 5b5c 2334 3735 375d 2868 7474  n. ([\#4757](htt
+0001ef00: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0001ef10: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+0001ef20: 7365 2f69 7373 7565 732f 3437 3537 2929  se/issues/4757))
+0001ef30: 0a2d 204d 696e 6f72 2064 6f63 7374 7269  .- Minor docstri
+0001ef40: 6e67 2066 6978 6573 2066 6f72 204d 6174  ng fixes for Mat
+0001ef50: 7269 7846 6564 6572 6174 696f 6e41 6765  rixFederationAge
+0001ef60: 6e74 2e20 285b 5c23 3437 3635 5d28 6874  nt. ([\#4765](ht
+0001ef70: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+0001ef80: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+0001ef90: 7073 652f 6973 7375 6573 2f34 3736 3529  pse/issues/4765)
+0001efa0: 290a 2d20 4f70 7469 6d69 7365 2045 4455  ).- Optimise EDU
+0001efb0: 2074 7261 6e73 6d69 7373 696f 6e20 666f   transmission fo
+0001efc0: 7220 7468 6520 6665 6465 7261 7469 6f6e  r the federation
+0001efd0: 5f73 656e 6465 7220 776f 726b 6572 2e20  _sender worker. 
+0001efe0: 285b 5c23 3437 3730 5d28 6874 7470 733a  ([\#4770](https:
+0001eff0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+0001f000: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+0001f010: 6973 7375 6573 2f34 3737 3029 290a 2d20  issues/4770)).- 
+0001f020: 5570 6461 7465 2074 6573 745f 7479 7069  Update test_typi
+0001f030: 6e67 2074 6f20 7573 6520 486f 6d65 7365  ng to use Homese
+0001f040: 7276 6572 5465 7374 4361 7365 2e20 285b  rverTestCase. ([
+0001f050: 5c23 3437 3731 5d28 6874 7470 733a 2f2f  \#4771](https://
+0001f060: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+0001f070: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+0001f080: 7375 6573 2f34 3737 3129 290a 2d20 5570  sues/4771)).- Up
+0001f090: 6461 7465 2055 524c 7320 666f 7220 7269  date URLs for ri
+0001f0a0: 6f74 2e69 6d20 6963 6f6e 7320 616e 6420  ot.im icons and 
+0001f0b0: 6c6f 676f 7320 696e 2074 6865 2064 6566  logos in the def
+0001f0c0: 6175 6c74 206e 6f74 6966 6963 6174 696f  ault notificatio
+0001f0d0: 6e20 7465 6d70 6c61 7465 732e 2028 5b5c  n templates. ([\
+0001f0e0: 2334 3737 395d 2868 7474 7073 3a2f 2f67  #4779](https://g
+0001f0f0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+0001f100: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+0001f110: 7565 732f 3437 3739 2929 0a2d 2052 656d  ues/4779)).- Rem
+0001f120: 6f76 6564 2075 6e6e 6563 6573 7361 7279  oved unnecessary
+0001f130: 2024 2066 726f 6d20 736f 6d65 2066 6564   $ from some fed
+0001f140: 6572 6174 696f 6e20 656e 6470 6f69 6e74  eration endpoint
+0001f150: 2070 6174 6820 7265 6765 7865 732e 2028   path regexes. (
+0001f160: 5b5c 2334 3739 345d 2868 7474 7073 3a2f  [\#4794](https:/
+0001f170: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+0001f180: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+0001f190: 7373 7565 732f 3437 3934 2929 0a2d 2052  ssues/4794)).- R
+0001f1a0: 656d 6f76 6520 6c69 6e6b 2074 6f20 6465  emove link to de
+0001f1b0: 6c65 7465 6420 7469 746c 6520 696e 2052  leted title in R
+0001f1c0: 4541 444d 452e 2028 5b5c 2334 3739 355d  EADME. ([\#4795]
+0001f1d0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+0001f1e0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+0001f1f0: 796e 6170 7365 2f69 7373 7565 732f 3437  ynapse/issues/47
+0001f200: 3935 2929 0a2d 2043 6c65 616e 2075 7020  95)).- Clean up 
+0001f210: 7265 6164 2d72 6563 6569 7074 2068 616e  read-receipt han
+0001f220: 646c 696e 672e 2028 5b5c 2334 3739 375d  dling. ([\#4797]
+0001f230: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+0001f240: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+0001f250: 796e 6170 7365 2f69 7373 7565 732f 3437  ynapse/issues/47
+0001f260: 3937 2929 0a2d 2041 6464 2073 6f6d 6520  97)).- Add some 
+0001f270: 6465 6275 6720 6162 6f75 7420 7072 6f63  debug about proc
+0001f280: 6573 7369 6e67 2072 6561 6420 7265 6365  essing read rece
+0001f290: 6970 7473 2e20 285b 5c23 3437 3938 5d28  ipts. ([\#4798](
+0001f2a0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0001f2b0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+0001f2c0: 6e61 7073 652f 6973 7375 6573 2f34 3739  napse/issues/479
+0001f2d0: 3829 290a 2d20 436c 6561 6e20 7570 2073  8)).- Clean up s
+0001f2e0: 6f6d 6520 7265 706c 6963 6174 696f 6e20  ome replication 
+0001f2f0: 636f 6465 2e20 285b 5c23 3437 3939 5d28  code. ([\#4799](
+0001f300: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0001f310: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+0001f320: 6e61 7073 652f 6973 7375 6573 2f34 3739  napse/issues/479
+0001f330: 3929 290a 2d20 4164 6420 736f 6d65 2064  9)).- Add some d
+0001f340: 6f63 7374 7269 6e67 732e 2028 5b5c 2334  ocstrings. ([\#4
+0001f350: 3831 355d 2868 7474 7073 3a2f 2f67 6974  815](https://git
+0001f360: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+0001f370: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+0001f380: 732f 3438 3135 2929 0a2d 2041 6464 2064  s/4815)).- Add d
+0001f390: 6562 7567 206c 6f67 6765 7220 746f 2074  ebug logger to t
+0001f3a0: 7279 2061 6e64 2074 7261 636b 2064 6f77  ry and track dow
+0001f3b0: 6e20 2334 3432 322e 2028 5b5c 2334 3831  n #4422. ([\#481
+0001f3c0: 365d 2868 7474 7073 3a2f 2f67 6974 6875  6](https://githu
+0001f3d0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+0001f3e0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+0001f3f0: 3438 3136 2929 0a2d 204d 616b 6520 7368  4816)).- Make sh
+0001f400: 7574 646f 776e 2041 5049 2073 656e 6420  utdown API send 
+0001f410: 6578 706c 616e 6174 696f 6e20 6d65 7373  explanation mess
+0001f420: 6167 6520 746f 2072 6f6f 6d20 6166 7465  age to room afte
+0001f430: 7220 7573 6572 7320 6861 7665 2062 6565  r users have bee
+0001f440: 6e20 666f 7263 6564 206a 6f69 6e65 642e  n forced joined.
+0001f450: 2028 5b5c 2334 3831 375d 2868 7474 7073   ([\#4817](https
+0001f460: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+0001f470: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+0001f480: 2f69 7373 7565 732f 3438 3137 2929 0a2d  /issues/4817)).-
+0001f490: 2055 7064 6174 6520 6578 616d 706c 655f   Update example_
+0001f4a0: 6c6f 675f 636f 6e66 6967 2e79 616d 6c2e  log_config.yaml.
+0001f4b0: 2028 5b5c 2334 3832 305d 2868 7474 7073   ([\#4820](https
+0001f4c0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+0001f4d0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+0001f4e0: 2f69 7373 7565 732f 3438 3230 2929 0a2d  /issues/4820)).-
+0001f4f0: 2044 6f63 756d 656e 7420 7468 6520 6067   Document the `g
+0001f500: 656e 6572 6174 6560 206f 7074 696f 6e20  enerate` option 
+0001f510: 666f 7220 7468 6520 646f 636b 6572 2069  for the docker i
+0001f520: 6d61 6765 2e20 285b 5c23 3438 3234 5d28  mage. ([\#4824](
+0001f530: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0001f540: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+0001f550: 6e61 7073 652f 6973 7375 6573 2f34 3832  napse/issues/482
+0001f560: 3429 290a 2d20 4669 7820 6368 6563 6b2d  4)).- Fix check-
+0001f570: 6e65 7773 6672 6167 6d65 6e74 2066 6f72  newsfragment for
+0001f580: 2064 6562 6961 6e2d 6f6e 6c79 2063 6861   debian-only cha
+0001f590: 6e67 6573 2e20 285b 5c23 3438 3235 5d28  nges. ([\#4825](
+0001f5a0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0001f5b0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+0001f5c0: 6e61 7073 652f 6973 7375 6573 2f34 3832  napse/issues/482
+0001f5d0: 3529 290a 2d20 4164 6420 736f 6d65 2064  5)).- Add some d
+0001f5e0: 6562 7567 206c 6f67 6769 6e67 2066 6f72  ebug logging for
+0001f5f0: 2064 6576 6963 6520 6c69 7374 2075 7064   device list upd
+0001f600: 6174 6573 2074 6f20 6865 6c70 2077 6974  ates to help wit
+0001f610: 6820 2334 3832 382e 2028 5b5c 2334 3832  h #4828. ([\#482
+0001f620: 385d 2868 7474 7073 3a2f 2f67 6974 6875  8](https://githu
+0001f630: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+0001f640: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+0001f650: 3438 3238 2929 0a2d 2049 6d70 726f 7665  4828)).- Improve
+0001f660: 2066 6564 6572 6174 696f 6e20 646f 6375   federation docu
+0001f670: 6d65 6e74 6174 696f 6e2c 2073 7065 6369  mentation, speci
+0001f680: 6669 6361 6c6c 7920 2e77 656c 6c2d 6b6e  fically .well-kn
+0001f690: 6f77 6e20 7375 7070 6f72 742e 204d 616e  own support. Man
+0001f6a0: 7920 7468 616e 6b73 2074 6f20 4076 6161  y thanks to @vaa
+0001f6b0: 622e 2028 5b5c 2334 3833 325d 2868 7474  b. ([\#4832](htt
+0001f6c0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0001f6d0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+0001f6e0: 7365 2f69 7373 7565 732f 3438 3332 2929  se/issues/4832))
+0001f6f0: 0a2d 2044 6973 6162 6c65 2063 6170 7463  .- Disable captc
+0001f700: 6861 2072 6567 6973 7472 6174 696f 6e20  ha registration 
+0001f710: 6279 2064 6566 6175 6c74 2069 6e20 756e  by default in un
+0001f720: 6974 2074 6573 7473 2e20 285b 5c23 3438  it tests. ([\#48
+0001f730: 3339 5d28 6874 7470 733a 2f2f 6769 7468  39](https://gith
+0001f740: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+0001f750: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+0001f760: 2f34 3833 3929 290a 2d20 4164 6420 7374  /4839)).- Add st
+0001f770: 7566 6620 6261 636b 2074 6f20 7468 6520  uff back to the 
+0001f780: 2e67 6974 6967 6e6f 7265 2e20 285b 5c23  .gitignore. ([\#
+0001f790: 3438 3433 5d28 6874 7470 733a 2f2f 6769  4843](https://gi
+0001f7a0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+0001f7b0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+0001f7c0: 6573 2f34 3834 3329 290a 2d20 436c 6172  es/4843)).- Clar
+0001f7d0: 6966 7920 7768 6174 2072 6567 6973 7472  ify what registr
+0001f7e0: 6174 696f 6e5f 7368 6172 6564 5f73 6563  ation_shared_sec
+0001f7f0: 7265 7420 616c 6c6f 7773 2066 6f72 2e20  ret allows for. 
+0001f800: 285b 5c23 3438 3434 5d28 6874 7470 733a  ([\#4844](https:
+0001f810: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+0001f820: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+0001f830: 6973 7375 6573 2f34 3834 3429 290a 2d20  issues/4844)).- 
+0001f840: 436f 7272 6563 746c 7920 6c6f 6720 6578  Correctly log ex
+0001f850: 7065 6374 6564 2065 7272 6f72 7320 7768  pected errors wh
+0001f860: 656e 2066 6574 6368 696e 6720 7365 7276  en fetching serv
+0001f870: 6572 206b 6579 732e 2028 5b5c 2334 3834  er keys. ([\#484
+0001f880: 375d 2868 7474 7073 3a2f 2f67 6974 6875  7](https://githu
+0001f890: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+0001f8a0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+0001f8b0: 3438 3437 2929 0a2d 2055 7064 6174 6520  4847)).- Update 
+0001f8c0: 696e 7374 616c 6c20 646f 6373 2074 6f20  install docs to 
+0001f8d0: 6578 706c 6963 6974 6c79 2073 7461 7465  explicitly state
+0001f8e0: 2061 2066 756c 6c2d 6368 6169 6e20 286e   a full-chain (n
+0001f8f0: 6f74 206a 7573 7420 7468 6520 746f 702d  ot just the top-
+0001f900: 6c65 7665 6c29 2054 4c53 2063 6572 7469  level) TLS certi
+0001f910: 6669 6361 7465 206d 7573 7420 6265 2070  ficate must be p
+0001f920: 726f 7669 6465 6420 746f 2053 796e 6170  rovided to Synap
+0001f930: 7365 2e20 5468 6973 2063 6175 7365 6420  se. This caused 
+0001f940: 736f 6d65 2070 656f 706c 6527 7320 5379  some people's Sy
+0001f950: 6e61 7073 6520 706f 7274 7320 746f 2061  napse ports to a
+0001f960: 7070 6561 7220 636f 7272 6563 7420 696e  ppear correct in
+0001f970: 2061 2062 726f 7773 6572 2062 7574 2073   a browser but s
+0001f980: 7469 6c6c 2028 7269 6768 7466 756c 6c79  till (rightfully
+0001f990: 2073 6f29 2075 7073 6574 2074 6865 2066   so) upset the f
+0001f9a0: 6564 6572 6174 696f 6e20 7465 7374 6572  ederation tester
+0001f9b0: 2e20 285b 5c23 3438 3439 5d28 6874 7470  . ([\#4849](http
+0001f9c0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+0001f9d0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+0001f9e0: 652f 6973 7375 6573 2f34 3834 3929 290a  e/issues/4849)).
+0001f9f0: 2d20 4d6f 7665 2063 6c69 656e 7420 7265  - Move client re
+0001fa00: 6164 2d72 6563 6569 7074 2070 726f 6365  ad-receipt proce
+0001fa10: 7373 696e 6720 746f 2066 6564 6572 6174  ssing to federat
+0001fa20: 696f 6e20 7365 6e64 6572 2077 6f72 6b65  ion sender worke
+0001fa30: 722e 2028 5b5c 2334 3835 325d 2868 7474  r. ([\#4852](htt
+0001fa40: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0001fa50: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+0001fa60: 7365 2f69 7373 7565 732f 3438 3532 2929  se/issues/4852))
+0001fa70: 0a2d 2052 6566 6163 746f 7220 6665 6465  .- Refactor fede
+0001fa80: 7261 7469 6f6e 2054 7261 6e73 6163 7469  ration Transacti
+0001fa90: 6f6e 5175 6575 652e 2028 5b5c 2334 3835  onQueue. ([\#485
+0001faa0: 355d 2868 7474 7073 3a2f 2f67 6974 6875  5](https://githu
+0001fab0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+0001fac0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+0001fad0: 3438 3535 2929 0a2d 2043 6f6d 6d65 6e74  4855)).- Comment
+0001fae0: 206f 7574 206d 6f73 7420 6f70 7469 6f6e   out most option
+0001faf0: 7320 696e 2074 6865 2067 656e 6572 6174  s in the generat
+0001fb00: 6564 2063 6f6e 6669 672e 2028 5b5c 2334  ed config. ([\#4
+0001fb10: 3836 335d 2868 7474 7073 3a2f 2f67 6974  863](https://git
+0001fb20: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+0001fb30: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+0001fb40: 732f 3438 3633 2929 0a2d 2046 6978 2079  s/4863)).- Fix y
+0001fb50: 616d 6c20 6c69 6272 6172 7920 7761 726e  aml library warn
+0001fb60: 696e 6773 2062 7920 7573 696e 6720 7361  ings by using sa
+0001fb70: 6665 5f6c 6f61 642e 2028 5b5c 2334 3836  fe_load. ([\#486
+0001fb80: 395d 2868 7474 7073 3a2f 2f67 6974 6875  9](https://githu
+0001fb90: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+0001fba0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+0001fbb0: 3438 3639 2929 0a2d 2055 7064 6174 6520  4869)).- Update 
+0001fbc0: 4170 6163 6865 2073 6574 7570 2074 6f20  Apache setup to 
+0001fbd0: 7265 6d6f 7665 206c 6f63 6174 696f 6e20  remove location 
+0001fbe0: 7379 6e74 6178 2e20 5468 616e 6b73 2074  syntax. Thanks t
+0001fbf0: 6f20 4063 776d 6b65 2120 285b 5c23 3438  o @cwmke! ([\#48
+0001fc00: 3730 5d28 6874 7470 733a 2f2f 6769 7468  70](https://gith
+0001fc10: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+0001fc20: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+0001fc30: 2f34 3837 3029 290a 2d20 5265 696e 7374  /4870)).- Reinst
+0001fc40: 6174 6520 7465 7374 2063 6173 6520 7468  ate test case th
+0001fc50: 6174 2072 756e 7320 756e 6974 2074 6573  at runs unit tes
+0001fc60: 7473 2061 6761 696e 7374 206f 6c64 6573  ts against oldes
+0001fc70: 7420 7375 7070 6f72 7465 6420 6465 7065  t supported depe
+0001fc80: 6e64 656e 6369 6573 2e20 285b 5c23 3438  ndencies. ([\#48
+0001fc90: 3739 5d28 6874 7470 733a 2f2f 6769 7468  79](https://gith
+0001fca0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+0001fcb0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+0001fcc0: 2f34 3837 3929 290a 2d20 5570 6461 7465  /4879)).- Update
+0001fcd0: 206c 696e 6b20 746f 2066 6564 6572 6174   link to federat
+0001fce0: 696f 6e20 646f 6373 2e20 285b 5c23 3438  ion docs. ([\#48
+0001fcf0: 3831 5d28 6874 7470 733a 2f2f 6769 7468  81](https://gith
+0001fd00: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+0001fd10: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+0001fd20: 2f34 3838 3129 290a 2d20 6669 7820 7465  /4881)).- fix te
+0001fd30: 7374 5f61 7574 6f5f 6372 6561 7465 5f61  st_auto_create_a
+0001fd40: 7574 6f5f 6a6f 696e 5f77 6865 7265 5f6e  uto_join_where_n
+0001fd50: 6f5f 636f 6e73 656e 742e 2028 5b5c 2334  o_consent. ([\#4
+0001fd60: 3838 365d 2868 7474 7073 3a2f 2f67 6974  886](https://git
+0001fd70: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+0001fd80: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+0001fd90: 732f 3438 3836 2929 0a2d 2055 7365 2061  s/4886)).- Use a
+0001fda0: 2072 6567 756c 6172 2048 6f6d 6553 6572   regular HomeSer
+0001fdb0: 7665 7243 6f6e 6669 6720 6f62 6a65 6374  verConfig object
+0001fdc0: 2066 6f72 2075 6e69 7420 7465 7374 7320   for unit tests 
+0001fdd0: 7261 7465 7220 7468 616e 2061 204d 6f63  rater than a Moc
+0001fde0: 6b2e 2028 5b5c 2334 3838 395d 2868 7474  k. ([\#4889](htt
+0001fdf0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0001fe00: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+0001fe10: 7365 2f69 7373 7565 732f 3438 3839 2929  se/issues/4889))
+0001fe20: 0a2d 2041 6464 2073 6f6d 6520 6e6f 7465  .- Add some note
+0001fe30: 7320 6162 6f75 7420 7475 6e69 6e67 2070  s about tuning p
+0001fe40: 6f73 7467 7265 7320 666f 7220 6c61 7267  ostgres for larg
+0001fe50: 6572 2064 6570 6c6f 796d 656e 7473 2e20  er deployments. 
+0001fe60: 285b 5c23 3438 3935 5d28 6874 7470 733a  ([\#4895](https:
+0001fe70: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+0001fe80: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+0001fe90: 6973 7375 6573 2f34 3839 3529 290a 2d20  issues/4895)).- 
+0001fea0: 4164 6420 6120 636f 6e66 6967 206f 7074  Add a config opt
+0001feb0: 696f 6e20 666f 7220 746f 7274 7572 652d  ion for torture-
+0001fec0: 7465 7374 696e 6720 776f 726b 6572 2072  testing worker r
+0001fed0: 6570 6c69 6361 7469 6f6e 2e20 285b 5c23  eplication. ([\#
+0001fee0: 3439 3032 5d28 6874 7470 733a 2f2f 6769  4902](https://gi
+0001fef0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+0001ff00: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+0001ff10: 6573 2f34 3930 3229 290a 2d20 4c6f 6720  es/4902)).- Log 
+0001ff20: 7265 7175 6573 7473 2077 6869 6368 2061  requests which a
+0001ff30: 7265 2073 696d 756c 6174 6564 2062 7920  re simulated by 
+0001ff40: 7468 6520 756e 6974 2074 6573 7473 2e20  the unit tests. 
+0001ff50: 285b 5c23 3439 3035 5d28 6874 7470 733a  ([\#4905](https:
+0001ff60: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+0001ff70: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+0001ff80: 6973 7375 6573 2f34 3930 3529 290a 2d20  issues/4905)).- 
+0001ff90: 416c 6c6f 7720 6e65 7773 6672 6167 6d65  Allow newsfragme
+0001ffa0: 6e74 7320 746f 2065 6e64 2077 6974 6820  nts to end with 
+0001ffb0: 6578 636c 616d 6174 696f 6e20 6d61 726b  exclamation mark
+0001ffc0: 732e 2045 7863 6974 696e 6721 2028 5b5c  s. Exciting! ([\
+0001ffd0: 2334 3931 325d 2868 7474 7073 3a2f 2f67  #4912](https://g
+0001ffe0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+0001fff0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00020000: 7565 732f 3439 3132 2929 0a2d 2052 6566  ues/4912)).- Ref
+00020010: 6163 746f 7220 736f 6d65 206d 6f72 6520  actor some more 
+00020020: 7465 7374 7320 746f 2075 7365 2048 6f6d  tests to use Hom
+00020030: 6573 6572 7665 7254 6573 7443 6173 652e  eserverTestCase.
+00020040: 2028 5b5c 2334 3931 335d 2868 7474 7073   ([\#4913](https
+00020050: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00020060: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00020070: 2f69 7373 7565 732f 3439 3133 2929 0a2d  /issues/4913)).-
+00020080: 2052 6566 6163 746f 7220 6f75 7420 7468   Refactor out th
+00020090: 6520 7374 6174 6520 6465 6c74 6173 2070  e state deltas p
+000200a0: 6f72 7469 6f6e 206f 6620 7468 6520 7573  ortion of the us
+000200b0: 6572 2064 6972 6563 746f 7279 2073 746f  er directory sto
+000200c0: 7265 2061 6e64 2068 616e 646c 6572 2e20  re and handler. 
+000200d0: 285b 5c23 3439 3137 5d28 6874 7470 733a  ([\#4917](https:
+000200e0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+000200f0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00020100: 6973 7375 6573 2f34 3931 3729 290a 2d20  issues/4917)).- 
+00020110: 4669 7820 6e67 696e 7820 6578 616d 706c  Fix nginx exampl
+00020120: 6520 696e 2041 434d 4520 646f 632e 2028  e in ACME doc. (
+00020130: 5b5c 2334 3932 335d 2868 7474 7073 3a2f  [\#4923](https:/
+00020140: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+00020150: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00020160: 7373 7565 732f 3439 3233 2929 0a2d 2055  ssues/4923)).- U
+00020170: 7365 2061 6e20 6578 706c 6963 6974 2064  se an explicit d
+00020180: 626e 616d 6520 666f 7220 706f 7374 6772  bname for postgr
+00020190: 6573 2063 6f6e 6e65 6374 696f 6e73 2069  es connections i
+000201a0: 6e20 7468 6520 7465 7374 732e 2028 5b5c  n the tests. ([\
+000201b0: 2334 3932 385d 2868 7474 7073 3a2f 2f67  #4928](https://g
+000201c0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+000201d0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+000201e0: 7565 732f 3439 3238 2929 0a2d 2046 6978  ues/4928)).- Fix
+000201f0: 2060 436c 6965 6e74 5265 706c 6963 6174   `ClientReplicat
+00020200: 696f 6e53 7472 6561 6d50 726f 746f 636f  ionStreamProtoco
+00020210: 6c2e 5f5f 7374 725f 5f28 2960 2e20 285b  l.__str__()`. ([
+00020220: 5c23 3439 3239 5d28 6874 7470 733a 2f2f  \#4929](https://
+00020230: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00020240: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00020250: 7375 6573 2f34 3932 3929 290a 0a0a 5379  sues/4929))...Sy
+00020260: 6e61 7073 6520 302e 3939 2e32 2028 3230  napse 0.99.2 (20
+00020270: 3139 2d30 332d 3031 290a 3d3d 3d3d 3d3d  19-03-01).======
+00020280: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00020290: 3d3d 3d3d 3d0a 0a46 6561 7475 7265 730a  =====..Features.
+000202a0: 2d2d 2d2d 2d2d 2d2d 0a0a 2d20 4164 6465  --------..- Adde
+000202b0: 6420 616e 2048 4150 726f 7879 2065 7861  d an HAProxy exa
+000202c0: 6d70 6c65 2069 6e20 7468 6520 7265 7665  mple in the reve
+000202d0: 7273 6520 7072 6f78 7920 646f 6375 6d65  rse proxy docume
+000202e0: 6e74 6174 696f 6e2e 2043 6f6e 7472 6962  ntation. Contrib
+000202f0: 7574 6564 2062 7920 4265 6e6f c3ae 7420  uted by Beno..t 
+00020300: 532e 2028 e280 9c42 656e 7072 6fe2 809d  S. (...Benpro...
+00020310: 292e 2028 5b5c 2334 3534 315d 2868 7474  ). ([\#4541](htt
+00020320: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00020330: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00020340: 7365 2f69 7373 7565 732f 3435 3431 2929  se/issues/4541))
+00020350: 0a2d 2041 6464 2062 6173 6963 206f 7074  .- Add basic opt
+00020360: 696f 6e61 6c20 7365 6e74 7279 2069 6e74  ional sentry int
+00020370: 6567 7261 7469 6f6e 2e20 285b 5c23 3436  egration. ([\#46
+00020380: 3332 5d28 6874 7470 733a 2f2f 6769 7468  32](https://gith
+00020390: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+000203a0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+000203b0: 2f34 3633 3229 2c20 5b5c 2334 3639 345d  /4632), [\#4694]
+000203c0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+000203d0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+000203e0: 796e 6170 7365 2f69 7373 7565 732f 3436  ynapse/issues/46
+000203f0: 3934 2929 0a2d 2054 7261 6e73 6665 7220  94)).- Transfer 
+00020400: 6261 6e73 206f 6e20 726f 6f6d 2075 7067  bans on room upg
+00020410: 7261 6465 2e20 285b 5c23 3436 3432 5d28  rade. ([\#4642](
+00020420: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00020430: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00020440: 6e61 7073 652f 6973 7375 6573 2f34 3634  napse/issues/464
+00020450: 3229 290a 2d20 4164 6420 636f 6e66 6967  2)).- Add config
+00020460: 7572 6162 6c65 2072 6f6f 6d20 6c69 7374  urable room list
+00020470: 2070 7562 6c69 7368 696e 6720 7275 6c65   publishing rule
+00020480: 732e 2028 5b5c 2334 3634 375d 2868 7474  s. ([\#4647](htt
+00020490: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+000204a0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+000204b0: 7365 2f69 7373 7565 732f 3436 3437 2929  se/issues/4647))
+000204c0: 0a2d 2053 7570 706f 7274 202e 7765 6c6c  .- Support .well
+000204d0: 2d6b 6e6f 776e 2064 656c 6567 6174 696f  -known delegatio
+000204e0: 6e20 7768 656e 2069 7373 7569 6e67 2063  n when issuing c
+000204f0: 6572 7469 6669 6361 7465 7320 7468 726f  ertificates thro
+00020500: 7567 6820 4143 4d45 2e20 285b 5c23 3436  ugh ACME. ([\#46
+00020510: 3532 5d28 6874 7470 733a 2f2f 6769 7468  52](https://gith
+00020520: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00020530: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00020540: 2f34 3635 3229 290a 2d20 416c 6c6f 7720  /4652)).- Allow 
+00020550: 7265 6769 7374 7261 7469 6f6e 2061 6e64  registration and
+00020560: 206c 6f67 696e 2074 6f20 6265 2068 616e   login to be han
+00020570: 646c 6564 2062 7920 6120 776f 726b 6572  dled by a worker
+00020580: 2069 6e73 7461 6e63 652e 2028 5b5c 2334   instance. ([\#4
+00020590: 3636 365d 2868 7474 7073 3a2f 2f67 6974  666](https://git
+000205a0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+000205b0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+000205c0: 732f 3436 3636 292c 205b 5c23 3436 3730  s/4666), [\#4670
+000205d0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+000205e0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+000205f0: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
+00020600: 3637 3029 2c20 5b5c 2334 3638 325d 2868  670), [\#4682](h
+00020610: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00020620: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+00020630: 6170 7365 2f69 7373 7565 732f 3436 3832  apse/issues/4682
+00020640: 2929 0a2d 2052 6564 7563 6520 7468 6520  )).- Reduce the 
+00020650: 6f76 6572 6865 6164 206f 6620 6372 6561  overhead of crea
+00020660: 7469 6e67 206f 7574 626f 756e 6420 6665  ting outbound fe
+00020670: 6465 7261 7469 6f6e 2063 6f6e 6e65 6374  deration connect
+00020680: 696f 6e73 206f 7665 7220 544c 5320 6279  ions over TLS by
+00020690: 2063 6163 6869 6e67 2074 6865 2054 4c53   caching the TLS
+000206a0: 2063 6c69 656e 7420 6f70 7469 6f6e 732e   client options.
+000206b0: 2028 5b5c 2334 3637 345d 2868 7474 7073   ([\#4674](https
+000206c0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+000206d0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+000206e0: 2f69 7373 7565 732f 3436 3734 2929 0a2d  /issues/4674)).-
+000206f0: 2041 6464 2070 726f 6d65 7468 6575 7320   Add prometheus 
+00020700: 6d65 7472 6963 7320 666f 7220 6e75 6d62  metrics for numb
+00020710: 6572 206f 6620 6f75 7467 6f69 6e67 2045  er of outgoing E
+00020720: 4455 732c 2062 7920 7479 7065 2e20 285b  DUs, by type. ([
+00020730: 5c23 3436 3935 5d28 6874 7470 733a 2f2f  \#4695](https://
+00020740: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00020750: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00020760: 7375 6573 2f34 3639 3529 290a 2d20 5265  sues/4695)).- Re
+00020770: 7475 726e 2063 6f72 7265 6374 2065 7272  turn correct err
+00020780: 6f72 2063 6f64 6520 7768 656e 2069 6e76  or code when inv
+00020790: 6974 696e 6720 6120 7265 6d6f 7465 2075  iting a remote u
+000207a0: 7365 7220 746f 2061 2072 6f6f 6d20 7768  ser to a room wh
+000207b0: 6f73 6520 686f 6d65 7365 7276 6572 2064  ose homeserver d
+000207c0: 6f65 7320 6e6f 7420 7375 7070 6f72 7420  oes not support 
+000207d0: 7468 6520 726f 6f6d 2076 6572 7369 6f6e  the room version
+000207e0: 2e20 285b 5c23 3437 3231 5d28 6874 7470  . ([\#4721](http
+000207f0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+00020800: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+00020810: 652f 6973 7375 6573 2f34 3732 3129 290a  e/issues/4721)).
+00020820: 2d20 5072 6576 656e 7420 7368 6f77 696e  - Prevent showin
+00020830: 6720 726f 6f6d 7320 746f 206f 7468 6572  g rooms to other
+00020840: 2073 6572 7665 7273 2074 6861 7420 7765   servers that we
+00020850: 7265 2073 6574 2074 6f20 6e6f 7420 6665  re set to not fe
+00020860: 6465 7261 7465 2e20 285b 5c23 3437 3436  derate. ([\#4746
+00020870: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00020880: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00020890: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
+000208a0: 3734 3629 290a 0a0a 4275 6766 6978 6573  746))...Bugfixes
+000208b0: 0a2d 2d2d 2d2d 2d2d 2d0a 0a2d 2046 6978  .--------..- Fix
+000208c0: 2070 6f73 7369 626c 6520 6578 6365 7074   possible except
+000208d0: 696f 6e20 7768 656e 2070 6167 696e 6174  ion when paginat
+000208e0: 696e 672e 2028 5b5c 2334 3236 335d 2868  ing. ([\#4263](h
+000208f0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00020900: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+00020910: 6170 7365 2f69 7373 7565 732f 3432 3633  apse/issues/4263
+00020920: 2929 0a2d 2054 6865 2064 6570 656e 6465  )).- The depende
+00020930: 6e63 7920 6368 6563 6b65 7220 6e6f 7720  ncy checker now 
+00020940: 636f 7272 6563 746c 7920 7265 706f 7274  correctly report
+00020950: 7320 6120 7665 7273 696f 6e20 6d69 736d  s a version mism
+00020960: 6174 6368 2066 6f72 206f 7074 696f 6e61  atch for optiona
+00020970: 6c0a 2020 6465 7065 6e64 656e 6369 6573  l.  dependencies
+00020980: 2c20 696e 7374 6561 6420 6f66 2072 6570  , instead of rep
+00020990: 6f72 7469 6e67 2074 6865 2064 6570 656e  orting the depen
+000209a0: 6465 6e63 7920 6d69 7373 696e 672e 2028  dency missing. (
+000209b0: 5b5c 2334 3435 305d 2868 7474 7073 3a2f  [\#4450](https:/
+000209c0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+000209d0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+000209e0: 7373 7565 732f 3434 3530 2929 0a2d 2053  ssues/4450)).- S
+000209f0: 6574 2043 4f52 5320 6865 6164 6572 7320  et CORS headers 
+00020a00: 6f6e 202e 7765 6c6c 2d6b 6e6f 776e 2072  on .well-known r
+00020a10: 6571 7565 7374 732e 2028 5b5c 2334 3635  equests. ([\#465
+00020a20: 315d 2868 7474 7073 3a2f 2f67 6974 6875  1](https://githu
+00020a30: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00020a40: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00020a50: 3436 3531 2929 0a2d 2046 6978 206b 6963  4651)).- Fix kic
+00020a60: 6b69 6e67 2067 7565 7374 2075 7365 7273  king guest users
+00020a70: 206f 6e20 6775 6573 7420 6163 6365 7373   on guest access
+00020a80: 2072 6576 6f63 6174 696f 6e20 696e 2077   revocation in w
+00020a90: 6f72 6b65 7220 6d6f 6465 2e20 285b 5c23  orker mode. ([\#
+00020aa0: 3436 3637 5d28 6874 7470 733a 2f2f 6769  4667](https://gi
+00020ab0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+00020ac0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+00020ad0: 6573 2f34 3636 3729 290a 2d20 4669 7820  es/4667)).- Fix 
+00020ae0: 616e 2069 7373 7565 2069 6e20 7468 6520  an issue in the 
+00020af0: 6461 7461 6261 7365 206d 6967 7261 7469  database migrati
+00020b00: 6f6e 2073 6372 6970 7420 7768 6572 6520  on script where 
+00020b10: 7468 650a 2020 6065 3265 5f72 6f6f 6d5f  the.  `e2e_room_
+00020b20: 6b65 7973 2e69 735f 7665 7269 6669 6564  keys.is_verified
+00020b30: 6020 636f 6c75 6d6e 2077 6173 6e27 7420  ` column wasn't 
+00020b40: 636f 6e73 6964 6572 6564 2061 730a 2020  considered as.  
+00020b50: 6120 626f 6f6c 6561 6e2e 2028 5b5c 2334  a boolean. ([\#4
+00020b60: 3638 305d 2868 7474 7073 3a2f 2f67 6974  680](https://git
+00020b70: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00020b80: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+00020b90: 732f 3436 3830 2929 0a2d 2046 6978 2054  s/4680)).- Fix T
+00020ba0: 6173 6b53 746f 7070 6564 2065 7863 6570  askStopped excep
+00020bb0: 7469 6f6e 7320 696e 206c 6f67 7320 7768  tions in logs wh
+00020bc0: 656e 206f 7574 626f 756e 6420 7265 7175  en outbound requ
+00020bd0: 6573 7473 2074 696d 6520 6f75 742e 2028  ests time out. (
+00020be0: 5b5c 2334 3639 305d 2868 7474 7073 3a2f  [\#4690](https:/
+00020bf0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+00020c00: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00020c10: 7373 7565 732f 3436 3930 2929 0a2d 2046  ssues/4690)).- F
+00020c20: 6978 2041 434d 4520 636f 6e66 6967 2066  ix ACME config f
+00020c30: 6f72 2070 7974 686f 6e20 322e 2028 5b5c  or python 2. ([\
+00020c40: 2334 3731 375d 2868 7474 7073 3a2f 2f67  #4717](https://g
+00020c50: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00020c60: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00020c70: 7565 732f 3437 3137 2929 0a2d 2046 6978  ues/4717)).- Fix
+00020c80: 2070 6167 696e 6174 696e 6720 6f76 6572   paginating over
+00020c90: 2066 6564 6572 6174 696f 6e20 7065 7273   federation pers
+00020ca0: 6973 7469 6e67 2069 6e63 6f72 7265 6374  isting incorrect
+00020cb0: 2073 7461 7465 2e20 285b 5c23 3437 3138   state. ([\#4718
+00020cc0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00020cd0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00020ce0: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
+00020cf0: 3731 3829 290a 0a0a 496e 7465 726e 616c  718))...Internal
+00020d00: 2043 6861 6e67 6573 0a2d 2d2d 2d2d 2d2d   Changes.-------
+00020d10: 2d2d 2d2d 2d2d 2d2d 2d0a 0a2d 2052 756e  ---------..- Run
+00020d20: 2060 626c 6163 6b60 2074 6f20 7265 666f   `black` to refo
+00020d30: 726d 6174 2075 7365 7220 6469 7265 6374  rmat user direct
+00020d40: 6f72 7920 636f 6465 2e20 285b 5c23 3436  ory code. ([\#46
+00020d50: 3335 5d28 6874 7470 733a 2f2f 6769 7468  35](https://gith
+00020d60: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00020d70: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00020d80: 2f34 3633 3529 290a 2d20 5265 6475 6365  /4635)).- Reduce
+00020d90: 206e 756d 6265 7220 6f66 2065 7863 6570   number of excep
+00020da0: 7469 6f6e 7320 7765 206c 6f67 2e20 285b  tions we log. ([
+00020db0: 5c23 3436 3433 5d28 6874 7470 733a 2f2f  \#4643](https://
+00020dc0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00020dd0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00020de0: 7375 6573 2f34 3634 3329 2c20 5b5c 2334  sues/4643), [\#4
+00020df0: 3636 385d 2868 7474 7073 3a2f 2f67 6974  668](https://git
+00020e00: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00020e10: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+00020e20: 732f 3436 3638 2929 0a2d 2049 6e74 726f  s/4668)).- Intro
+00020e30: 6475 6365 2075 7073 6572 7420 6261 7463  duce upsert batc
+00020e40: 6869 6e67 2066 756e 6374 696f 6e61 6c69  hing functionali
+00020e50: 7479 2069 6e20 7468 6520 6461 7461 6261  ty in the databa
+00020e60: 7365 206c 6179 6572 2e20 285b 5c23 3436  se layer. ([\#46
+00020e70: 3434 5d28 6874 7470 733a 2f2f 6769 7468  44](https://gith
+00020e80: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00020e90: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00020ea0: 2f34 3634 3429 290a 2d20 4669 7820 7661  /4644)).- Fix va
+00020eb0: 7269 6f75 7320 7370 656c 6c69 6e67 206d  rious spelling m
+00020ec0: 6973 7461 6b65 732e 2028 5b5c 2334 3635  istakes. ([\#465
+00020ed0: 375d 2868 7474 7073 3a2f 2f67 6974 6875  7](https://githu
+00020ee0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00020ef0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00020f00: 3436 3537 2929 0a2d 2043 6c65 616e 7570  4657)).- Cleanup
+00020f10: 2072 6571 7565 7374 2065 7863 6570 7469   request excepti
+00020f20: 6f6e 206c 6f67 6769 6e67 2e20 285b 5c23  on logging. ([\#
+00020f30: 3436 3639 5d28 6874 7470 733a 2f2f 6769  4669](https://gi
+00020f40: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+00020f50: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+00020f60: 6573 2f34 3636 3929 2c20 5b5c 2334 3733  es/4669), [\#473
+00020f70: 375d 2868 7474 7073 3a2f 2f67 6974 6875  7](https://githu
+00020f80: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00020f90: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00020fa0: 3437 3337 292c 205b 5c23 3437 3338 5d28  4737), [\#4738](
+00020fb0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00020fc0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00020fd0: 6e61 7073 652f 6973 7375 6573 2f34 3733  napse/issues/473
+00020fe0: 3829 290a 2d20 496d 7072 6f76 6520 7265  8)).- Improve re
+00020ff0: 706c 6963 6174 696f 6e20 7065 7266 6f72  plication perfor
+00021000: 6d61 6e63 6520 6279 2072 6564 7563 696e  mance by reducin
+00021010: 6720 6361 6368 6520 696e 7661 6c69 6461  g cache invalida
+00021020: 7469 6f6e 2074 7261 6666 6963 2e20 285b  tion traffic. ([
+00021030: 5c23 3436 3731 5d28 6874 7470 733a 2f2f  \#4671](https://
+00021040: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00021050: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00021060: 7375 6573 2f34 3637 3129 2c20 5b5c 2334  sues/4671), [\#4
+00021070: 3731 355d 2868 7474 7073 3a2f 2f67 6974  715](https://git
+00021080: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00021090: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+000210a0: 732f 3437 3135 292c 205b 5c23 3437 3438  s/4715), [\#4748
+000210b0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+000210c0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+000210d0: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
+000210e0: 3734 3829 290a 2d20 5465 7374 2061 6761  748)).- Test aga
+000210f0: 696e 7374 2050 6f73 7467 7265 7320 392e  inst Postgres 9.
+00021100: 3520 6173 2077 656c 6c20 6173 2039 2e34  5 as well as 9.4
+00021110: 2e20 285b 5c23 3436 3736 5d28 6874 7470  . ([\#4676](http
+00021120: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+00021130: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+00021140: 652f 6973 7375 6573 2f34 3637 3629 290a  e/issues/4676)).
+00021150: 2d20 5275 6e20 756e 6974 2074 6573 7473  - Run unit tests
+00021160: 2061 6761 696e 7374 2070 7974 686f 6e20   against python 
+00021170: 332e 372e 2028 5b5c 2334 3637 375d 2868  3.7. ([\#4677](h
+00021180: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00021190: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+000211a0: 6170 7365 2f69 7373 7565 732f 3436 3737  apse/issues/4677
+000211b0: 2929 0a2d 2041 7474 656d 7074 2074 6f20  )).- Attempt to 
+000211c0: 636c 6172 6966 7920 696e 7374 616c 6c61  clarify installa
+000211d0: 7469 6f6e 2069 6e73 7472 7563 7469 6f6e  tion instruction
+000211e0: 732f 636f 6e66 6967 2e20 285b 5c23 3436  s/config. ([\#46
+000211f0: 3831 5d28 6874 7470 733a 2f2f 6769 7468  81](https://gith
+00021200: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00021210: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00021220: 2f34 3638 3129 290a 2d20 436c 6561 6e20  /4681)).- Clean 
+00021230: 7570 2067 6974 6967 6e6f 7265 732e 2028  up gitignores. (
+00021240: 5b5c 2334 3638 385d 2868 7474 7073 3a2f  [\#4688](https:/
+00021250: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+00021260: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00021270: 7373 7565 732f 3436 3838 2929 0a2d 204d  ssues/4688)).- M
+00021280: 696e 6f72 2074 7765 616b 7320 746f 2061  inor tweaks to a
+00021290: 636d 6520 646f 6373 2e20 285b 5c23 3436  cme docs. ([\#46
+000212a0: 3839 5d28 6874 7470 733a 2f2f 6769 7468  89](https://gith
+000212b0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+000212c0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+000212d0: 2f34 3638 3929 290a 2d20 496d 7072 6f76  /4689)).- Improv
+000212e0: 6520 7468 6520 6c6f 6767 696e 6720 696e  e the logging in
+000212f0: 2074 6865 2070 7573 6865 7220 7072 6f63   the pusher proc
+00021300: 6573 732e 2028 5b5c 2334 3639 315d 2868  ess. ([\#4691](h
+00021310: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00021320: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+00021330: 6170 7365 2f69 7373 7565 732f 3436 3931  apse/issues/4691
+00021340: 2929 0a2d 2042 6574 7465 7220 6368 6563  )).- Better chec
+00021350: 6b73 206f 6e20 6e65 7773 6672 6167 6d65  ks on newsfragme
+00021360: 6e74 732e 2028 5b5c 2334 3639 385d 2868  nts. ([\#4698](h
+00021370: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00021380: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+00021390: 6170 7365 2f69 7373 7565 732f 3436 3938  apse/issues/4698
+000213a0: 292c 205b 5c23 3437 3530 5d28 6874 7470  ), [\#4750](http
+000213b0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+000213c0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+000213d0: 652f 6973 7375 6573 2f34 3735 3029 290a  e/issues/4750)).
+000213e0: 2d20 4176 6f69 6420 736f 6d65 2072 6564  - Avoid some red
+000213f0: 756e 6461 6e74 2077 6f72 6b20 7768 656e  undant work when
+00021400: 2070 726f 6365 7373 696e 6720 7265 6164   processing read
+00021410: 2072 6563 6569 7074 732e 2028 5b5c 2334   receipts. ([\#4
+00021420: 3730 365d 2868 7474 7073 3a2f 2f67 6974  706](https://git
+00021430: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00021440: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+00021450: 732f 3437 3036 2929 0a2d 2052 756e 2060  s/4706)).- Run `
+00021460: 7075 7368 5f72 6563 6569 7074 735f 746f  push_receipts_to
+00021470: 5f72 656d 6f74 6573 6020 6173 2062 6163  _remotes` as bac
+00021480: 6b67 726f 756e 6420 6a6f 622e 2028 5b5c  kground job. ([\
+00021490: 2334 3730 375d 2868 7474 7073 3a2f 2f67  #4707](https://g
+000214a0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+000214b0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+000214c0: 7565 732f 3437 3037 2929 0a2d 2041 6464  ues/4707)).- Add
+000214d0: 2070 726f 6d65 7468 6575 7320 6d65 7472   prometheus metr
+000214e0: 6963 7320 666f 7220 6e75 6d62 6572 206f  ics for number o
+000214f0: 6620 6261 6467 6520 7570 6461 7465 2070  f badge update p
+00021500: 7573 6865 732e 2028 5b5c 2334 3730 395d  ushes. ([\#4709]
+00021510: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00021520: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+00021530: 796e 6170 7365 2f69 7373 7565 732f 3437  ynapse/issues/47
+00021540: 3039 2929 0a2d 2052 6564 7563 6520 7075  09)).- Reduce pu
+00021550: 7368 6572 206c 6f67 6769 6e67 206f 6e20  sher logging on 
+00021560: 7374 6172 7475 7020 285b 5c23 3437 3136  startup ([\#4716
+00021570: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00021580: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00021590: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
+000215a0: 3731 3629 290a 2d20 446f 6e27 7420 6c6f  716)).- Don't lo
+000215b0: 6720 6578 6365 7074 696f 6e73 2077 6865  g exceptions whe
+000215c0: 6e20 6661 696c 696e 6720 746f 2066 6574  n failing to fet
+000215d0: 6368 2072 656d 6f74 6520 7365 7276 6572  ch remote server
+000215e0: 206b 6579 732e 2028 5b5c 2334 3732 325d   keys. ([\#4722]
+000215f0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00021600: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+00021610: 796e 6170 7365 2f69 7373 7565 732f 3437  ynapse/issues/47
+00021620: 3232 2929 0a2d 2043 6f72 7265 6374 6c79  22)).- Correctly
+00021630: 2070 726f 7879 2065 7863 6570 7469 6f6e   proxy exception
+00021640: 2069 6e20 6672 6f6e 7465 6e64 5f70 726f   in frontend_pro
+00021650: 7879 2077 6f72 6b65 722e 2028 5b5c 2334  xy worker. ([\#4
+00021660: 3732 335d 2868 7474 7073 3a2f 2f67 6974  723](https://git
+00021670: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00021680: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+00021690: 732f 3437 3233 2929 0a2d 2041 6464 2064  s/4723)).- Add d
+000216a0: 6174 6162 6173 6520 7665 7273 696f 6e20  atabase version 
+000216b0: 746f 2070 686f 6e65 686f 6d65 2073 7461  to phonehome sta
+000216c0: 7473 2e20 285b 5c23 3437 3533 5d28 6874  ts. ([\#4753](ht
+000216d0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+000216e0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+000216f0: 7073 652f 6973 7375 6573 2f34 3735 3329  pse/issues/4753)
+00021700: 290a 0a0a 5379 6e61 7073 6520 302e 3939  )...Synapse 0.99
+00021710: 2e31 2e31 2028 3230 3139 2d30 322d 3134  .1.1 (2019-02-14
+00021720: 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ).==============
+00021730: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a  ===============.
+00021740: 0a42 7567 6669 7865 730a 2d2d 2d2d 2d2d  .Bugfixes.------
+00021750: 2d2d 0a0a 2d20 4669 7820 2254 7970 6545  --..- Fix "TypeE
+00021760: 7272 6f72 3a20 273e 2720 6e6f 7420 7375  rror: '>' not su
+00021770: 7070 6f72 7465 6422 2077 6865 6e20 7374  pported" when st
+00021780: 6172 7469 6e67 2077 6974 686f 7574 2061  arting without a
+00021790: 6e20 6578 6973 7469 6e67 2063 6572 7469  n existing certi
+000217a0: 6669 6361 7465 2e0a 2020 4669 7820 6120  ficate..  Fix a 
+000217b0: 6275 6720 7768 6572 6520 616e 2065 7869  bug where an exi
+000217c0: 7374 696e 6720 6365 7274 6966 6963 6174  sting certificat
+000217d0: 6520 776f 756c 6420 6265 2072 6570 726f  e would be repro
+000217e0: 7669 736f 6e65 6420 6576 6572 7920 6461  visoned every da
+000217f0: 792e 2028 5b5c 2334 3634 385d 2868 7474  y. ([\#4648](htt
+00021800: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00021810: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00021820: 7365 2f69 7373 7565 732f 3436 3438 2929  se/issues/4648))
+00021830: 0a0a 0a53 796e 6170 7365 2030 2e39 392e  ...Synapse 0.99.
+00021840: 3120 2832 3031 392d 3032 2d31 3429 0a3d  1 (2019-02-14).=
+00021850: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00021860: 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 4665 6174  ==========..Feat
+00021870: 7572 6573 0a2d 2d2d 2d2d 2d2d 2d0a 0a2d  ures.--------..-
+00021880: 2049 6e63 6c75 6465 206d 2e72 6f6f 6d2e   Include m.room.
+00021890: 656e 6372 7970 7469 6f6e 206f 6e20 696e  encryption on in
+000218a0: 7669 7465 7320 6279 2064 6566 6175 6c74  vites by default
+000218b0: 2028 5b5c 2333 3930 325d 2868 7474 7073   ([\#3902](https
+000218c0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+000218d0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+000218e0: 2f69 7373 7565 732f 3339 3032 2929 0a2d  /issues/3902)).-
+000218f0: 2046 6564 6572 6174 696f 6e20 4f70 656e   Federation Open
+00021900: 4944 206c 6973 7465 6e65 7220 7265 736f  ID listener reso
+00021910: 7572 6365 2063 616e 206e 6f77 2062 6520  urce can now be 
+00021920: 6163 7469 7661 7465 6420 6576 656e 2069  activated even i
+00021930: 6620 6665 6465 7261 7469 6f6e 2069 7320  f federation is 
+00021940: 6469 7361 626c 6564 2028 5b5c 2334 3432  disabled ([\#442
+00021950: 305d 2868 7474 7073 3a2f 2f67 6974 6875  0](https://githu
+00021960: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00021970: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00021980: 3434 3230 2929 0a2d 2053 796e 6170 7365  4420)).- Synapse
+00021990: 2773 2041 434d 4520 7375 7070 6f72 7420  's ACME support 
+000219a0: 7769 6c6c 206e 6f77 2063 6f72 7265 6374  will now correct
+000219b0: 6c79 2072 6570 726f 7669 7369 6f6e 2061  ly reprovision a
+000219c0: 2063 6572 7469 6669 6361 7465 2074 6861   certificate tha
+000219d0: 7420 6170 7072 6f61 6368 6573 2069 7473  t approaches its
+000219e0: 2065 7870 6972 7920 7768 696c 6520 5379   expiry while Sy
+000219f0: 6e61 7073 6520 6973 2072 756e 6e69 6e67  napse is running
+00021a00: 2e20 285b 5c23 3435 3232 5d28 6874 7470  . ([\#4522](http
+00021a10: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+00021a20: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+00021a30: 652f 6973 7375 6573 2f34 3532 3229 290a  e/issues/4522)).
+00021a40: 2d20 4164 6420 6162 696c 6974 7920 746f  - Add ability to
+00021a50: 2075 7064 6174 6520 6261 636b 7570 2076   update backup v
+00021a60: 6572 7369 6f6e 7320 285b 5c23 3435 3830  ersions ([\#4580
+00021a70: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00021a80: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00021a90: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
+00021aa0: 3538 3029 290a 2d20 416c 6c6f 7720 7468  580)).- Allow th
+00021ab0: 6520 2275 6e61 7661 696c 6162 6c65 2220  e "unavailable" 
+00021ac0: 7072 6573 656e 6365 2073 7461 7475 7320  presence status 
+00021ad0: 666f 7220 2f73 796e 632e 0a20 2054 6869  for /sync..  Thi
+00021ae0: 7320 6368 616e 6765 206d 616b 6573 2053  s change makes S
+00021af0: 796e 6170 7365 2063 6f6d 706c 6961 6e74  ynapse compliant
+00021b00: 2077 6974 6820 7230 2e34 2e30 206f 6620   with r0.4.0 of 
+00021b10: 7468 6520 436c 6965 6e74 2d53 6572 7665  the Client-Serve
+00021b20: 7220 7370 6563 6966 6963 6174 696f 6e2e  r specification.
+00021b30: 2028 5b5c 2334 3539 325d 2868 7474 7073   ([\#4592](https
+00021b40: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00021b50: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00021b60: 2f69 7373 7565 732f 3435 3932 2929 0a2d  /issues/4592)).-
+00021b70: 2054 6865 7265 2069 7320 6e6f 206c 6f6e   There is no lon
+00021b80: 6765 7220 616e 7920 6e65 6564 2074 6f20  ger any need to 
+00021b90: 7370 6563 6966 7920 606e 6f5f 746c 7360  specify `no_tls`
+00021ba0: 3a20 6974 2069 7320 696e 6665 7272 6564  : it is inferred
+00021bb0: 2066 726f 6d20 7468 6520 6162 7365 6e63   from the absenc
+00021bc0: 6520 6f66 2054 4c53 206c 6973 7465 6e65  e of TLS listene
+00021bd0: 7273 2028 5b5c 2334 3631 335d 2868 7474  rs ([\#4613](htt
+00021be0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00021bf0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00021c00: 7365 2f69 7373 7565 732f 3436 3133 292c  se/issues/4613),
+00021c10: 205b 5c23 3436 3135 5d28 6874 7470 733a   [\#4615](https:
+00021c20: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00021c30: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00021c40: 6973 7375 6573 2f34 3631 3529 2c20 5b5c  issues/4615), [\
+00021c50: 2334 3631 375d 2868 7474 7073 3a2f 2f67  #4617](https://g
+00021c60: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00021c70: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00021c80: 7565 732f 3436 3137 292c 205b 5c23 3436  ues/4617), [\#46
+00021c90: 3336 5d28 6874 7470 733a 2f2f 6769 7468  36](https://gith
+00021ca0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00021cb0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00021cc0: 2f34 3633 3629 290a 2d20 5468 6520 6465  /4636)).- The de
+00021cd0: 6661 756c 7420 636f 6e66 6967 7572 6174  fault configurat
+00021ce0: 696f 6e20 6e6f 206c 6f6e 6765 7220 7265  ion no longer re
+00021cf0: 7175 6972 6573 2054 4c53 2063 6572 7469  quires TLS certi
+00021d00: 6669 6361 7465 732e 2028 5b5c 2334 3631  ficates. ([\#461
+00021d10: 345d 2868 7474 7073 3a2f 2f67 6974 6875  4](https://githu
 00021d20: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
 00021d30: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-00021d40: 3435 3931 2929 0a2d 2054 7261 6e73 6665  4591)).- Transfe
-00021d50: 7220 5365 7276 6572 2041 434c 7320 6f6e  r Server ACLs on
-00021d60: 2072 6f6f 6d20 7570 6772 6164 652e 2028   room upgrade. (
-00021d70: 5b5c 2334 3630 385d 2868 7474 7073 3a2f  [\#4608](https:/
-00021d80: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00021d90: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00021da0: 7373 7565 732f 3436 3038 2929 0a2d 2046  ssues/4608)).- F
-00021db0: 6978 2066 6169 6c75 7265 2074 6f20 7374  ix failure to st
-00021dc0: 6172 7420 7768 656e 206e 6f74 2054 4c53  art when not TLS
-00021dd0: 2063 6572 7469 6669 6361 7465 2077 6173   certificate was
-00021de0: 2067 6976 656e 2065 7665 6e20 6966 2054   given even if T
-00021df0: 4c53 2077 6173 2064 6973 6162 6c65 642e  LS was disabled.
-00021e00: 2028 5b5c 2334 3631 385d 2868 7474 7073   ([\#4618](https
-00021e10: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00021e20: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00021e30: 2f69 7373 7565 732f 3436 3138 2929 0a2d  /issues/4618)).-
-00021e40: 2046 6978 2073 656c 662d 7369 676e 6564   Fix self-signed
-00021e50: 2063 6572 7420 6e6f 7469 6365 2066 726f   cert notice fro
-00021e60: 6d20 6765 6e65 7261 7465 2d63 6f6e 6669  m generate-confi
-00021e70: 672e 2028 5b5c 2334 3632 355d 2868 7474  g. ([\#4625](htt
-00021e80: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00021e90: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-00021ea0: 7365 2f69 7373 7565 732f 3436 3235 2929  se/issues/4625))
-00021eb0: 0a2d 2046 6978 2070 6572 666f 726d 616e  .- Fix performan
-00021ec0: 6365 206f 6620 6075 7365 725f 6970 7360  ce of `user_ips`
-00021ed0: 2074 6162 6c65 2064 6564 7570 6c69 6361   table deduplica
-00021ee0: 7469 6f6e 2062 6163 6b67 726f 756e 6420  tion background 
-00021ef0: 7570 6461 7465 2028 5b5c 2334 3632 365d  update ([\#4626]
-00021f00: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00021f10: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00021f20: 796e 6170 7365 2f69 7373 7565 732f 3436  ynapse/issues/46
-00021f30: 3236 292c 205b 5c23 3436 3237 5d28 6874  26), [\#4627](ht
-00021f40: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00021f50: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00021f60: 7073 652f 6973 7375 6573 2f34 3632 3729  pse/issues/4627)
-00021f70: 290a 0a0a 496e 7465 726e 616c 2043 6861  )...Internal Cha
-00021f80: 6e67 6573 0a2d 2d2d 2d2d 2d2d 2d2d 2d2d  nges.-----------
-00021f90: 2d2d 2d2d 2d0a 0a2d 2043 6861 6e67 6520  -----..- Change 
-00021fa0: 7468 6520 7573 6572 2064 6972 6563 746f  the user directo
-00021fb0: 7279 2073 7461 7465 2071 7565 7279 2074  ry state query t
-00021fc0: 6f20 7573 6520 6120 6669 6c74 6572 6564  o use a filtered
-00021fd0: 2063 616c 6c20 746f 2074 6865 2064 6220   call to the db 
-00021fe0: 696e 7374 6561 6420 6f66 2061 2067 656e  instead of a gen
-00021ff0: 6572 6963 206f 6e65 2e20 285b 5c23 3434  eric one. ([\#44
-00022000: 3632 5d28 6874 7470 733a 2f2f 6769 7468  62](https://gith
-00022010: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00022020: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00022030: 2f34 3436 3229 290a 2d20 5265 6a65 6374  /4462)).- Reject
-00022040: 2066 6564 6572 6174 696f 6e20 7472 616e   federation tran
-00022050: 7361 6374 696f 6e73 2069 6620 7468 6579  sactions if they
-00022060: 2069 6e63 6c75 6465 206d 6f72 6520 7468   include more th
-00022070: 616e 2035 3020 5044 5573 206f 7220 3130  an 50 PDUs or 10
-00022080: 3020 4544 5573 2e20 285b 5c23 3435 3133  0 EDUs. ([\#4513
-00022090: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-000220a0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-000220b0: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
-000220c0: 3531 3329 290a 2d20 5265 6475 6365 2064  513)).- Reduce d
-000220d0: 7570 6c69 6361 7469 6f6e 206f 6620 6060  uplication of ``
-000220e0: 7379 6e61 7073 652e 6170 7060 6020 636f  synapse.app`` co
-000220f0: 6465 2e20 285b 5c23 3435 3637 5d28 6874  de. ([\#4567](ht
-00022100: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00022110: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00022120: 7073 652f 6973 7375 6573 2f34 3536 3729  pse/issues/4567)
-00022130: 290a 2d20 4669 7820 646f 636b 6572 2075  ).- Fix docker u
-00022140: 706c 6f61 6420 6a6f 6220 746f 2070 7573  pload job to pus
-00022150: 6820 2d70 7932 2069 6d61 6765 732e 2028  h -py2 images. (
-00022160: 5b5c 2334 3537 365d 2868 7474 7073 3a2f  [\#4576](https:/
-00022170: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00022180: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00022190: 7373 7565 732f 3435 3736 2929 0a2d 2041  ssues/4576)).- A
-000221a0: 6464 2070 6f72 7420 636f 6e66 6967 7572  dd port configur
-000221b0: 6174 696f 6e20 696e 666f 726d 6174 696f  ation informatio
-000221c0: 6e20 746f 2041 434d 4520 696e 7374 7275  n to ACME instru
-000221d0: 6374 696f 6e73 2e20 285b 5c23 3435 3738  ctions. ([\#4578
-000221e0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-000221f0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00022200: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
-00022210: 3537 3829 290a 2d20 5570 6461 7465 204d  578)).- Update M
-00022220: 5343 3137 3131 2046 4151 2074 6f20 6361  SC1711 FAQ to ca
-00022230: 6c72 6966 7920 2e77 656c 6c2d 6b6e 6f77  lrify .well-know
-00022240: 6e20 7573 6167 6520 285b 5c23 3435 3834  n usage ([\#4584
-00022250: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00022260: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00022270: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
-00022280: 3538 3429 290a 2d20 436c 6561 6e20 7570  584)).- Clean up
-00022290: 2064 6566 6175 6c74 206c 6973 7465 6e65   default listene
-000222a0: 7220 636f 6e66 6967 7572 6174 696f 6e20  r configuration 
-000222b0: 285b 5c23 3435 3836 5d28 6874 7470 733a  ([\#4586](https:
-000222c0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-000222d0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-000222e0: 6973 7375 6573 2f34 3538 3629 290a 2d20  issues/4586)).- 
-000222f0: 436c 6172 6966 6963 6174 696f 6e73 2066  Clarifications f
-00022300: 6f72 2072 6576 6572 7365 2070 726f 7879  or reverse proxy
-00022310: 2064 6f63 7320 285b 5c23 3436 3037 5d28   docs ([\#4607](
-00022320: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00022330: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-00022340: 6e61 7073 652f 6973 7375 6573 2f34 3630  napse/issues/460
-00022350: 3729 290a 2d20 4d6f 7665 2043 6c69 656e  7)).- Move Clien
-00022360: 7454 4c53 4f70 7469 6f6e 7346 6163 746f  tTLSOptionsFacto
-00022370: 7279 2069 6e69 7420 6f75 7420 6f66 2060  ry init out of `
-00022380: 7265 6672 6573 685f 6365 7274 6966 6963  refresh_certific
-00022390: 6174 6573 6020 285b 5c23 3436 3131 5d28  ates` ([\#4611](
-000223a0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-000223b0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-000223c0: 6e61 7073 652f 6973 7375 6573 2f34 3631  napse/issues/461
-000223d0: 3129 290a 2d20 4661 696c 2063 6c65 616e  1)).- Fail clean
-000223e0: 6c79 2069 6620 6c69 7374 656e 6572 2063  ly if listener c
-000223f0: 6f6e 6669 6720 6c61 636b 7320 6120 2770  onfig lacks a 'p
-00022400: 6f72 7427 2028 5b5c 2334 3631 365d 2868  ort' ([\#4616](h
-00022410: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00022420: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00022430: 6170 7365 2f69 7373 7565 732f 3436 3136  apse/issues/4616
-00022440: 2929 0a2d 2052 656d 6f76 6520 7265 6475  )).- Remove redu
-00022450: 6e64 616e 7420 656e 7472 6965 7320 6672  ndant entries fr
-00022460: 6f6d 2064 6f63 6b65 7220 636f 6e66 6967  om docker config
-00022470: 2028 5b5c 2334 3631 395d 2868 7474 7073   ([\#4619](https
-00022480: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00022490: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-000224a0: 2f69 7373 7565 732f 3436 3139 2929 0a2d  /issues/4619)).-
-000224b0: 2052 4541 444d 4520 7570 6461 7465 7320   README updates 
-000224c0: 285b 5c23 3436 3231 5d28 6874 7470 733a  ([\#4621](https:
-000224d0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-000224e0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-000224f0: 6973 7375 6573 2f34 3632 3129 290a 0a0a  issues/4621))...
-00022500: 5379 6e61 7073 6520 302e 3939 2e30 2028  Synapse 0.99.0 (
-00022510: 3230 3139 2d30 322d 3035 290a 3d3d 3d3d  2019-02-05).====
-00022520: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00022530: 3d3d 3d3d 3d3d 3d0a 0a53 796e 6170 7365  =======..Synapse
-00022540: 2076 302e 3939 2e78 2069 7320 6120 7072   v0.99.x is a pr
-00022550: 6563 7572 736f 7220 746f 2074 6865 2075  ecursor to the u
-00022560: 7063 6f6d 696e 6720 5379 6e61 7073 6520  pcoming Synapse 
-00022570: 7631 2e30 2072 656c 6561 7365 2e20 4974  v1.0 release. It
-00022580: 2063 6f6e 7461 696e 7320 666f 756e 6461   contains founda
-00022590: 7469 6f6e 616c 2063 6861 6e67 6573 2074  tional changes t
-000225a0: 6f20 726f 6f6d 2061 7263 6869 7465 6374  o room architect
-000225b0: 7572 6520 616e 6420 7468 6520 6665 6465  ure and the fede
-000225c0: 7261 7469 6f6e 2073 6563 7572 6974 7920  ration security 
-000225d0: 6d6f 6465 6c20 6e65 6365 7373 6172 7920  model necessary 
-000225e0: 746f 2073 7570 706f 7274 2074 6865 2075  to support the u
-000225f0: 7063 6f6d 696e 6720 7230 2072 656c 6561  pcoming r0 relea
-00022600: 7365 206f 6620 7468 6520 5365 7276 6572  se of the Server
-00022610: 2074 6f20 5365 7276 6572 2041 5049 2e0a   to Server API..
-00022620: 0a46 6561 7475 7265 730a 2d2d 2d2d 2d2d  .Features.------
-00022630: 2d2d 0a0a 2d20 5379 6e61 7073 6527 7320  --..- Synapse's 
-00022640: 6369 7068 6572 2073 7472 696e 6720 6861  cipher string ha
-00022650: 7320 6265 656e 2075 7064 6174 6564 2074  s been updated t
-00022660: 6f20 7265 7175 6972 6520 4543 4448 206b  o require ECDH k
-00022670: 6579 2065 7863 6861 6e67 652e 2043 6f6e  ey exchange. Con
-00022680: 6669 6775 7269 6e67 2061 6e64 2067 656e  figuring and gen
-00022690: 6572 6174 696e 6720 6468 5f70 6172 616d  erating dh_param
-000226a0: 7320 6973 206e 6f20 6c6f 6e67 6572 2072  s is no longer r
-000226b0: 6571 7569 7265 642c 2061 6e64 2074 6865  equired, and the
-000226c0: 7920 7769 6c6c 2062 6520 6967 6e6f 7265  y will be ignore
-000226d0: 642e 2028 5b5c 2334 3232 395d 2868 7474  d. ([\#4229](htt
-000226e0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-000226f0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-00022700: 7365 2f69 7373 7565 732f 3432 3239 2929  se/issues/4229))
-00022710: 0a2d 2053 796e 6170 7365 2063 616e 206e  .- Synapse can n
-00022720: 6f77 2061 7574 6f6d 6174 6963 616c 6c79  ow automatically
-00022730: 2070 726f 7669 7369 6f6e 2054 4c53 2063   provision TLS c
-00022740: 6572 7469 6669 6361 7465 7320 7669 6120  ertificates via 
-00022750: 4143 4d45 2028 7468 6520 7072 6f74 6f63  ACME (the protoc
-00022760: 6f6c 2075 7365 6420 6279 2043 4173 206c  ol used by CAs l
-00022770: 696b 6520 4c65 7427 7320 456e 6372 7970  ike Let's Encryp
-00022780: 7429 2e20 285b 5c23 3433 3834 5d28 6874  t). ([\#4384](ht
-00022790: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-000227a0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-000227b0: 7073 652f 6973 7375 6573 2f34 3338 3429  pse/issues/4384)
-000227c0: 2c20 5b5c 2334 3439 325d 2868 7474 7073  , [\#4492](https
-000227d0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-000227e0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-000227f0: 2f69 7373 7565 732f 3434 3932 292c 205b  /issues/4492), [
-00022800: 5c23 3435 3235 5d28 6874 7470 733a 2f2f  \#4525](https://
-00022810: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-00022820: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00022830: 7375 6573 2f34 3532 3529 2c20 5b5c 2334  sues/4525), [\#4
-00022840: 3537 325d 2868 7474 7073 3a2f 2f67 6974  572](https://git
-00022850: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-00022860: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-00022870: 732f 3435 3732 292c 205b 5c23 3435 3634  s/4572), [\#4564
-00022880: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00022890: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-000228a0: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
-000228b0: 3536 3429 2c20 5b5c 2334 3536 365d 2868  564), [\#4566](h
-000228c0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-000228d0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-000228e0: 6170 7365 2f69 7373 7565 732f 3435 3636  apse/issues/4566
-000228f0: 292c 205b 5c23 3435 3437 5d28 6874 7470  ), [\#4547](http
-00022900: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00022910: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00022920: 652f 6973 7375 6573 2f34 3534 3729 2c20  e/issues/4547), 
-00022930: 5b5c 2334 3535 375d 2868 7474 7073 3a2f  [\#4557](https:/
-00022940: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00022950: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00022960: 7373 7565 732f 3435 3537 2929 0a2d 2049  ssues/4557)).- I
-00022970: 6d70 6c65 6d65 6e74 204d 5343 3137 3038  mplement MSC1708
-00022980: 2028 2e77 656c 6c2d 6b6e 6f77 6e20 726f   (.well-known ro
-00022990: 7574 696e 6720 666f 7220 7365 7276 6572  uting for server
-000229a0: 2d73 6572 7665 7220 6665 6465 7261 7469  -server federati
-000229b0: 6f6e 2920 285b 5c23 3434 3038 5d28 6874  on) ([\#4408](ht
-000229c0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-000229d0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-000229e0: 7073 652f 6973 7375 6573 2f34 3430 3829  pse/issues/4408)
-000229f0: 2c20 5b5c 2334 3430 395d 2868 7474 7073  , [\#4409](https
-00022a00: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00022a10: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00022a20: 2f69 7373 7565 732f 3434 3039 292c 205b  /issues/4409), [
-00022a30: 5c23 3434 3236 5d28 6874 7470 733a 2f2f  \#4426](https://
-00022a40: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-00022a50: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00022a60: 7375 6573 2f34 3432 3629 2c20 5b5c 2334  sues/4426), [\#4
-00022a70: 3432 375d 2868 7474 7073 3a2f 2f67 6974  427](https://git
-00022a80: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-00022a90: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-00022aa0: 732f 3434 3237 292c 205b 5c23 3434 3238  s/4427), [\#4428
-00022ab0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00022ac0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00022ad0: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
-00022ae0: 3432 3829 2c20 5b5c 2334 3436 345d 2868  428), [\#4464](h
-00022af0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00022b00: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00022b10: 6170 7365 2f69 7373 7565 732f 3434 3634  apse/issues/4464
-00022b20: 292c 205b 5c23 3434 3638 5d28 6874 7470  ), [\#4468](http
-00022b30: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00022b40: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00022b50: 652f 6973 7375 6573 2f34 3436 3829 2c20  e/issues/4468), 
-00022b60: 5b5c 2334 3438 375d 2868 7474 7073 3a2f  [\#4487](https:/
-00022b70: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00022b80: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00022b90: 7373 7565 732f 3434 3837 292c 205b 5c23  ssues/4487), [\#
-00022ba0: 3434 3838 5d28 6874 7470 733a 2f2f 6769  4488](https://gi
-00022bb0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-00022bc0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-00022bd0: 6573 2f34 3438 3829 2c20 5b5c 2334 3438  es/4488), [\#448
-00022be0: 395d 2868 7474 7073 3a2f 2f67 6974 6875  9](https://githu
-00022bf0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-00022c00: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-00022c10: 3434 3839 292c 205b 5c23 3434 3937 5d28  4489), [\#4497](
-00022c20: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00022c30: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-00022c40: 6e61 7073 652f 6973 7375 6573 2f34 3439  napse/issues/449
-00022c50: 3729 2c20 5b5c 2334 3531 315d 2868 7474  7), [\#4511](htt
-00022c60: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00022c70: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-00022c80: 7365 2f69 7373 7565 732f 3435 3131 292c  se/issues/4511),
-00022c90: 205b 5c23 3435 3136 5d28 6874 7470 733a   [\#4516](https:
-00022ca0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00022cb0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00022cc0: 6973 7375 6573 2f34 3531 3629 2c20 5b5c  issues/4516), [\
-00022cd0: 2334 3532 305d 2868 7474 7073 3a2f 2f67  #4520](https://g
-00022ce0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-00022cf0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-00022d00: 7565 732f 3435 3230 292c 205b 5c23 3435  ues/4520), [\#45
-00022d10: 3231 5d28 6874 7470 733a 2f2f 6769 7468  21](https://gith
-00022d20: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00022d30: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00022d40: 2f34 3532 3129 2c20 5b5c 2334 3533 395d  /4521), [\#4539]
-00022d50: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00022d60: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00022d70: 796e 6170 7365 2f69 7373 7565 732f 3435  ynapse/issues/45
-00022d80: 3339 292c 205b 5c23 3435 3432 5d28 6874  39), [\#4542](ht
-00022d90: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00022da0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00022db0: 7073 652f 6973 7375 6573 2f34 3534 3229  pse/issues/4542)
-00022dc0: 2c20 5b5c 2334 3534 345d 2868 7474 7073  , [\#4544](https
-00022dd0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00022de0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00022df0: 2f69 7373 7565 732f 3435 3434 2929 0a2d  /issues/4544)).-
-00022e00: 2053 6561 7263 6820 6e6f 7720 696e 636c   Search now incl
-00022e10: 7564 6573 2072 6573 756c 7473 2066 726f  udes results fro
-00022e20: 6d20 7072 6564 6563 6573 736f 7220 726f  m predecessor ro
-00022e30: 6f6d 7320 6166 7465 7220 6120 726f 6f6d  oms after a room
-00022e40: 2075 7067 7261 6465 2e20 285b 5c23 3434   upgrade. ([\#44
-00022e50: 3135 5d28 6874 7470 733a 2f2f 6769 7468  15](https://gith
-00022e60: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00022e70: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00022e80: 2f34 3431 3529 290a 2d20 436f 6e66 6967  /4415)).- Config
-00022e90: 206f 7074 696f 6e20 746f 2064 6973 6162   option to disab
-00022ea0: 6c65 2072 6571 7565 7374 696e 6720 4d53  le requesting MS
-00022eb0: 4953 444e 206f 6e20 7265 6769 7374 7261  ISDN on registra
-00022ec0: 7469 6f6e 2e20 285b 5c23 3434 3233 5d28  tion. ([\#4423](
-00022ed0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00022ee0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-00022ef0: 6e61 7073 652f 6973 7375 6573 2f34 3432  napse/issues/442
-00022f00: 3329 290a 2d20 4164 6420 6120 6d65 7472  3)).- Add a metr
-00022f10: 6963 2066 6f72 2074 7261 636b 696e 6720  ic for tracking 
-00022f20: 6576 656e 7420 7374 7265 616d 2070 6f73  event stream pos
-00022f30: 6974 696f 6e20 6f66 2074 6865 2075 7365  ition of the use
-00022f40: 7220 6469 7265 6374 6f72 792e 2028 5b5c  r directory. ([\
-00022f50: 2334 3434 355d 2868 7474 7073 3a2f 2f67  #4445](https://g
-00022f60: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-00022f70: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-00022f80: 7565 732f 3434 3435 2929 0a2d 2053 7570  ues/4445)).- Sup
-00022f90: 706f 7274 2065 7870 6f73 696e 6720 7365  port exposing se
-00022fa0: 7276 6572 2063 6170 6162 696c 6974 6965  rver capabilitie
-00022fb0: 7320 696e 2043 5320 4150 4920 284d 5343  s in CS API (MSC
-00022fc0: 3137 3533 2c20 4d53 4331 3830 3429 2028  1753, MSC1804) (
-00022fd0: 5b5c 2334 3437 325d 2868 7474 7073 3a2f  [\#4472](https:/
-00022fe0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00022ff0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00023000: 7373 7565 732f 3434 3732 292c 205b 3831  ssues/4472), [81
-00023010: 6237 6537 6565 645d 2868 7474 7073 3a2f  b7e7eed](https:/
-00023020: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00023030: 6978 2d6f 7267 2f73 796e 6170 7365 2f63  ix-org/synapse/c
-00023040: 6f6d 6d69 742f 3831 6237 6537 6565 6433  ommit/81b7e7eed3
-00023050: 3233 6635 3564 3635 3530 6537 6132 3730  23f55d6550e7a270
-00023060: 6139 6463 3263 3463 3762 3066 6530 2929  a9dc2c4c7b0fe0))
-00023070: 290a 2d20 4164 6420 7375 7070 6f72 7420  ).- Add support 
-00023080: 666f 7220 726f 6f6d 2076 6572 7369 6f6e  for room version
-00023090: 2033 2028 5b5c 2334 3438 335d 2868 7474   3 ([\#4483](htt
-000230a0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-000230b0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-000230c0: 7365 2f69 7373 7565 732f 3434 3833 292c  se/issues/4483),
-000230d0: 205b 5c23 3434 3939 5d28 6874 7470 733a   [\#4499](https:
-000230e0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-000230f0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00023100: 6973 7375 6573 2f34 3439 3929 2c20 5b5c  issues/4499), [\
-00023110: 2334 3531 355d 2868 7474 7073 3a2f 2f67  #4515](https://g
-00023120: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-00023130: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-00023140: 7565 732f 3435 3135 292c 205b 5c23 3435  ues/4515), [\#45
-00023150: 3233 5d28 6874 7470 733a 2f2f 6769 7468  23](https://gith
-00023160: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00023170: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00023180: 2f34 3532 3329 2c20 5b5c 2334 3533 355d  /4523), [\#4535]
-00023190: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-000231a0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-000231b0: 796e 6170 7365 2f69 7373 7565 732f 3435  ynapse/issues/45
-000231c0: 3335 2929 0a2d 2053 796e 6170 7365 2077  35)).- Synapse w
-000231d0: 696c 6c20 6e6f 7720 7265 6c6f 6164 2054  ill now reload T
-000231e0: 4c53 2063 6572 7469 6669 6361 7465 7320  LS certificates 
-000231f0: 6672 6f6d 2064 6973 6b20 7570 6f6e 2053  from disk upon S
-00023200: 4947 4855 502e 2028 5b5c 2334 3439 355d  IGHUP. ([\#4495]
-00023210: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00023220: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00023230: 796e 6170 7365 2f69 7373 7565 732f 3434  ynapse/issues/44
-00023240: 3935 292c 205b 5c23 3435 3234 5d28 6874  95), [\#4524](ht
-00023250: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00023260: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00023270: 7073 652f 6973 7375 6573 2f34 3532 3429  pse/issues/4524)
-00023280: 290a 2d20 5468 6520 6d61 7472 6978 646f  ).- The matrixdo
-00023290: 746f 7267 2f73 796e 6170 7365 2044 6f63  torg/synapse Doc
-000232a0: 6b65 7220 696d 6167 6573 206e 6f77 2075  ker images now u
-000232b0: 7365 2050 7974 686f 6e20 3320 6279 2064  se Python 3 by d
-000232c0: 6566 6175 6c74 2e20 285b 5c23 3435 3538  efault. ([\#4558
-000232d0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-000232e0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-000232f0: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
-00023300: 3535 3829 290a 0a42 7567 6669 7865 730a  558))..Bugfixes.
-00023310: 2d2d 2d2d 2d2d 2d2d 0a0a 2d20 5072 6576  --------..- Prev
-00023320: 656e 7420 7573 6572 7320 7769 7468 2061  ent users with a
-00023330: 6363 6573 7320 746f 6b65 6e73 2070 7265  ccess tokens pre
-00023340: 6461 7469 6e67 2074 6865 2069 6e74 726f  dating the intro
-00023350: 6475 6374 696f 6e20 6f66 2064 6576 6963  duction of devic
-00023360: 6520 4944 7320 6672 6f6d 2063 7265 6174  e IDs from creat
-00023370: 696e 6720 7370 7572 696f 7573 2065 6e74  ing spurious ent
-00023380: 7269 6573 2069 6e20 7468 6520 7573 6572  ries in the user
-00023390: 5f69 7073 2074 6162 6c65 2e20 285b 5c23  _ips table. ([\#
-000233a0: 3433 3639 5d28 6874 7470 733a 2f2f 6769  4369](https://gi
-000233b0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-000233c0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-000233d0: 6573 2f34 3336 3929 290a 2d20 4669 7820  es/4369)).- Fix 
-000233e0: 7479 706f 2069 6e20 414c 4c5f 5553 4552  typo in ALL_USER
-000233f0: 5f54 5950 4553 2064 6566 696e 6974 696f  _TYPES definitio
-00023400: 6e20 746f 2065 6e73 7572 6520 7479 7065  n to ensure type
-00023410: 2069 7320 6120 7475 706c 6520 285b 5c23   is a tuple ([\#
-00023420: 3433 3932 5d28 6874 7470 733a 2f2f 6769  4392](https://gi
-00023430: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-00023440: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-00023450: 6573 2f34 3339 3229 290a 2d20 4669 7820  es/4392)).- Fix 
-00023460: 6869 6768 2043 5055 2075 7361 6765 2064  high CPU usage d
-00023470: 7565 2074 6f20 7265 6d6f 7465 2064 6576  ue to remote dev
-00023480: 6963 656c 6973 7420 7570 6461 7465 7320  icelist updates 
-00023490: 285b 5c23 3433 3937 5d28 6874 7470 733a  ([\#4397](https:
-000234a0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-000234b0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-000234c0: 6973 7375 6573 2f34 3339 3729 290a 2d20  issues/4397)).- 
-000234d0: 4669 7820 706f 7465 6e74 6961 6c20 6275  Fix potential bu
-000234e0: 6720 7768 6572 6520 6372 6561 7469 6e67  g where creating
-000234f0: 206f 7220 6a6f 696e 696e 6720 6120 726f   or joining a ro
-00023500: 6f6d 2063 6f75 6c64 2066 6169 6c20 285b  om could fail ([
-00023510: 5c23 3434 3034 5d28 6874 7470 733a 2f2f  \#4404](https://
-00023520: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-00023530: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00023540: 7375 6573 2f34 3430 3429 290a 2d20 4669  sues/4404)).- Fi
-00023550: 7820 6275 6720 7768 656e 2072 656a 6563  x bug when rejec
-00023560: 7469 6e67 2072 656d 6f74 6520 696e 7669  ting remote invi
-00023570: 7465 7320 285b 5c23 3434 3035 5d28 6874  tes ([\#4405](ht
-00023580: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00023590: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-000235a0: 7073 652f 6973 7375 6573 2f34 3430 3529  pse/issues/4405)
-000235b0: 2c20 5b5c 2334 3532 375d 2868 7474 7073  , [\#4527](https
-000235c0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-000235d0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-000235e0: 2f69 7373 7565 732f 3435 3237 2929 0a2d  /issues/4527)).-
-000235f0: 2046 6978 2069 6e63 6f72 7265 6374 206c   Fix incorrect l
-00023600: 6f67 636f 6e74 6578 7473 2061 6674 6572  ogcontexts after
-00023610: 2061 2044 6566 6572 7265 6420 7761 7320   a Deferred was 
-00023620: 6361 6e63 656c 6c65 6420 285b 5c23 3434  cancelled ([\#44
-00023630: 3037 5d28 6874 7470 733a 2f2f 6769 7468  07](https://gith
-00023640: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00023650: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00023660: 2f34 3430 3729 290a 2d20 456e 7375 7265  /4407)).- Ensure
-00023670: 2065 6e63 7279 7074 6564 2072 6f6f 6d20   encrypted room 
-00023680: 7374 6174 6520 6973 2070 6572 7369 7374  state is persist
-00023690: 6564 2061 6372 6f73 7320 726f 6f6d 2075  ed across room u
-000236a0: 7067 7261 6465 732e 2028 5b5c 2334 3431  pgrades. ([\#441
-000236b0: 315d 2868 7474 7073 3a2f 2f67 6974 6875  1](https://githu
-000236c0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-000236d0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-000236e0: 3434 3131 2929 0a2d 2043 6f70 7920 6f76  4411)).- Copy ov
-000236f0: 6572 2077 6865 7468 6572 2061 2072 6f6f  er whether a roo
-00023700: 6d20 6973 2061 2064 6972 6563 7420 6d65  m is a direct me
-00023710: 7373 6167 6520 616e 6420 616e 7920 6173  ssage and any as
-00023720: 736f 6369 6174 6564 2072 6f6f 6d20 7461  sociated room ta
-00023730: 6773 206f 6e20 726f 6f6d 2075 7067 7261  gs on room upgra
-00023740: 6465 2e20 285b 5c23 3434 3132 5d28 6874  de. ([\#4412](ht
-00023750: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00023760: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00023770: 7073 652f 6973 7375 6573 2f34 3431 3229  pse/issues/4412)
-00023780: 290a 2d20 4669 7820 4e6f 6e65 2067 7561  ).- Fix None gua
-00023790: 7264 2069 6e20 6361 6c6c 696e 6720 636f  rd in calling co
-000237a0: 6e66 6967 2e73 6572 7665 722e 6973 5f74  nfig.server.is_t
-000237b0: 6872 6565 7069 645f 7265 7365 7276 6564  hreepid_reserved
-000237c0: 2028 5b5c 2334 3433 355d 2868 7474 7073   ([\#4435](https
-000237d0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-000237e0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-000237f0: 2f69 7373 7565 732f 3434 3335 2929 0a2d  /issues/4435)).-
-00023800: 2044 6f6e 2774 2073 656e 6420 4950 2061   Don't send IP a
-00023810: 6464 7265 7373 6573 2061 7320 534e 4920  ddresses as SNI 
-00023820: 285b 5c23 3434 3532 5d28 6874 7470 733a  ([\#4452](https:
-00023830: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00023840: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00023850: 6973 7375 6573 2f34 3435 3229 290a 2d20  issues/4452)).- 
-00023860: 4669 7820 556e 626f 756e 644c 6f63 616c  Fix UnboundLocal
-00023870: 4572 726f 7220 696e 2070 6f73 745f 7572  Error in post_ur
-00023880: 6c65 6e63 6f64 6564 5f67 6574 5f6a 736f  lencoded_get_jso
-00023890: 6e20 285b 5c23 3434 3630 5d28 6874 7470  n ([\#4460](http
-000238a0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-000238b0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-000238c0: 652f 6973 7375 6573 2f34 3436 3029 290a  e/issues/4460)).
-000238d0: 2d20 4164 6420 6120 7469 6d65 6f75 7420  - Add a timeout 
-000238e0: 746f 2066 696c 7465 7265 6420 726f 6f6d  to filtered room
-000238f0: 2064 6972 6563 746f 7279 2071 7565 7269   directory queri
-00023900: 6573 2e20 285b 5c23 3434 3631 5d28 6874  es. ([\#4461](ht
-00023910: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00023920: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00023930: 7073 652f 6973 7375 6573 2f34 3436 3129  pse/issues/4461)
-00023940: 290a 2d20 576f 726b 6172 6f75 6e64 2066  ).- Workaround f
-00023950: 6f72 206c 6f67 696e 2065 7272 6f72 2077  or login error w
-00023960: 6865 6e20 7573 696e 6720 626f 7468 204c  hen using both L
-00023970: 4441 5020 616e 6420 696e 7465 726e 616c  DAP and internal
-00023980: 2061 7574 6865 6e74 6963 6174 696f 6e2e   authentication.
-00023990: 2028 5b5c 2334 3438 365d 2868 7474 7073   ([\#4486](https
-000239a0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-000239b0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-000239c0: 2f69 7373 7565 732f 3434 3836 2929 0a2d  /issues/4486)).-
-000239d0: 2046 6978 2061 2062 7567 2077 6865 7265   Fix a bug where
-000239e0: 2073 6574 7469 6e67 2061 2072 656c 6174   setting a relat
-000239f0: 6976 6520 636f 6e73 656e 7420 6469 7265  ive consent dire
-00023a00: 6374 6f72 7920 7061 7468 2077 6f75 6c64  ctory path would
-00023a10: 2063 6175 7365 2061 2063 7261 7368 2e20   cause a crash. 
-00023a20: 285b 5c23 3435 3132 5d28 6874 7470 733a  ([\#4512](https:
-00023a30: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00023a40: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00023a50: 6973 7375 6573 2f34 3531 3229 290a 0a0a  issues/4512))...
-00023a60: 4465 7072 6563 6174 696f 6e73 2061 6e64  Deprecations and
-00023a70: 2052 656d 6f76 616c 730a 2d2d 2d2d 2d2d   Removals.------
-00023a80: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00023a90: 2d2d 2d0a 0a2d 2053 796e 6170 7365 206e  ---..- Synapse n
-00023aa0: 6f20 6c6f 6e67 6572 2067 656e 6572 6174  o longer generat
-00023ab0: 6573 2073 656c 662d 7369 676e 6564 2054  es self-signed T
-00023ac0: 4c53 2063 6572 7469 6669 6361 7465 7320  LS certificates 
-00023ad0: 7768 656e 2067 656e 6572 6174 696e 6720  when generating 
-00023ae0: 6120 636f 6e66 6967 7572 6174 696f 6e20  a configuration 
-00023af0: 6669 6c65 2e20 285b 5c23 3435 3039 5d28  file. ([\#4509](
-00023b00: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00023b10: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-00023b20: 6e61 7073 652f 6973 7375 6573 2f34 3530  napse/issues/450
-00023b30: 3929 290a 0a0a 496d 7072 6f76 6564 2044  9))...Improved D
-00023b40: 6f63 756d 656e 7461 7469 6f6e 0a2d 2d2d  ocumentation.---
-00023b50: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00023b60: 2d2d 2d0a 0a2d 2055 7064 6174 6520 6465  ---..- Update de
-00023b70: 6269 616e 2069 6e73 7461 6c6c 6174 696f  bian installatio
-00023b80: 6e20 696e 7374 7275 6374 696f 6e73 2028  n instructions (
-00023b90: 5b5c 2334 3532 365d 2868 7474 7073 3a2f  [\#4526](https:/
-00023ba0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00023bb0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00023bc0: 7373 7565 732f 3435 3236 2929 0a0a 0a49  ssues/4526))...I
-00023bd0: 6e74 6572 6e61 6c20 4368 616e 6765 730a  nternal Changes.
-00023be0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00023bf0: 0a0a 2d20 5379 6e61 7073 6520 7769 6c6c  ..- Synapse will
-00023c00: 206e 6f77 2074 616b 6520 6164 7661 6e74   now take advant
-00023c10: 6167 6520 6f66 206e 6174 6976 6520 5550  age of native UP
-00023c20: 5345 5254 2066 756e 6374 696f 6e61 6c69  SERT functionali
-00023c30: 7479 2069 6e20 506f 7374 6772 6553 514c  ty in PostgreSQL
-00023c40: 2039 2e35 2b20 616e 6420 5351 4c69 7465   9.5+ and SQLite
-00023c50: 2033 2e32 342b 2e20 285b 5c23 3433 3036   3.24+. ([\#4306
-00023c60: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00023c70: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00023c80: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
-00023c90: 3330 3629 2c20 5b5c 2334 3435 395d 2868  306), [\#4459](h
-00023ca0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00023cb0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00023cc0: 6170 7365 2f69 7373 7565 732f 3434 3539  apse/issues/4459
-00023cd0: 292c 205b 5c23 3434 3636 5d28 6874 7470  ), [\#4466](http
-00023ce0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00023cf0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00023d00: 652f 6973 7375 6573 2f34 3436 3629 2c20  e/issues/4466), 
-00023d10: 5b5c 2334 3437 315d 2868 7474 7073 3a2f  [\#4471](https:/
-00023d20: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00023d30: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00023d40: 7373 7565 732f 3434 3731 292c 205b 5c23  ssues/4471), [\#
-00023d50: 3434 3737 5d28 6874 7470 733a 2f2f 6769  4477](https://gi
-00023d60: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-00023d70: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-00023d80: 6573 2f34 3437 3729 2c20 5b5c 2334 3530  es/4477), [\#450
-00023d90: 355d 2868 7474 7073 3a2f 2f67 6974 6875  5](https://githu
-00023da0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-00023db0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-00023dc0: 3435 3035 2929 0a2d 2055 7064 6174 6520  4505)).- Update 
-00023dd0: 5245 4144 4d45 2074 6f20 7573 6520 7468  README to use th
-00023de0: 6520 6e65 7720 7669 7274 7561 6c65 6e76  e new virtualenv
-00023df0: 2065 7665 7279 7768 6572 6520 285b 5c23   everywhere ([\#
-00023e00: 3433 3432 5d28 6874 7470 733a 2f2f 6769  4342](https://gi
-00023e10: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-00023e20: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-00023e30: 6573 2f34 3334 3229 290a 2d20 4164 6420  es/4342)).- Add 
-00023e40: 6265 7474 6572 206c 6f67 6769 6e67 2066  better logging f
-00023e50: 6f72 2075 6e65 7870 6563 7465 6420 6572  or unexpected er
-00023e60: 726f 7273 2077 6869 6c65 2073 656e 6469  rors while sendi
-00023e70: 6e67 2074 7261 6e73 6163 7469 6f6e 7320  ng transactions 
-00023e80: 285b 5c23 3433 3638 5d28 6874 7470 733a  ([\#4368](https:
-00023e90: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00023ea0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00023eb0: 6973 7375 6573 2f34 3336 3829 290a 2d20  issues/4368)).- 
-00023ec0: 4170 706c 7920 6120 756e 6971 7565 2069  Apply a unique i
-00023ed0: 6e64 6578 2074 6f20 7468 6520 7573 6572  ndex to the user
-00023ee0: 5f69 7073 2074 6162 6c65 2c20 7072 6576  _ips table, prev
-00023ef0: 656e 7469 6e67 2064 7570 6c69 6361 7465  enting duplicate
-00023f00: 732e 2028 5b5c 2334 3337 305d 2868 7474  s. ([\#4370](htt
-00023f10: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00023f20: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-00023f30: 7365 2f69 7373 7565 732f 3433 3730 292c  se/issues/4370),
-00023f40: 205b 5c23 3434 3332 5d28 6874 7470 733a   [\#4432](https:
-00023f50: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00023f60: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00023f70: 6973 7375 6573 2f34 3433 3229 2c20 5b5c  issues/4432), [\
-00023f80: 2334 3433 345d 2868 7474 7073 3a2f 2f67  #4434](https://g
-00023f90: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-00023fa0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-00023fb0: 7565 732f 3434 3334 2929 0a2d 2053 696c  ues/4434)).- Sil
-00023fc0: 656e 6365 2074 7261 7669 732d 6369 2062  ence travis-ci b
-00023fd0: 7569 6c64 2077 6172 6e69 6e67 7320 6279  uild warnings by
-00023fe0: 2072 656d 6f76 696e 6720 6e6f 6e2d 6675   removing non-fu
-00023ff0: 6e63 7469 6f6e 616c 2070 7974 686f 6e33  nctional python3
-00024000: 2e36 2028 5b5c 2334 3337 375d 2868 7474  .6 ([\#4377](htt
-00024010: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00024020: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-00024030: 7365 2f69 7373 7565 732f 3433 3737 2929  se/issues/4377))
-00024040: 0a2d 2046 6978 2061 2063 6f6d 6d65 6e74  .- Fix a comment
-00024050: 2069 6e20 7468 6520 6765 6e65 7261 7465   in the generate
-00024060: 6420 636f 6e66 6967 2066 696c 6520 285b  d config file ([
-00024070: 5c23 3433 3837 5d28 6874 7470 733a 2f2f  \#4387](https://
-00024080: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-00024090: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-000240a0: 7375 6573 2f34 3338 3729 290a 2d20 4164  sues/4387)).- Ad
-000240b0: 6420 6772 6f75 6e64 2077 6f72 6b20 666f  d ground work fo
-000240c0: 7220 696d 706c 656d 656e 7469 6e67 2066  r implementing f
-000240d0: 7574 7572 6520 6665 6465 7261 7469 6f6e  uture federation
-000240e0: 2041 5049 2076 6572 7369 6f6e 7320 285b   API versions ([
-000240f0: 5c23 3433 3930 5d28 6874 7470 733a 2f2f  \#4390](https://
-00024100: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-00024110: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00024120: 7375 6573 2f34 3339 3029 290a 2d20 5570  sues/4390)).- Up
-00024130: 6461 7465 2064 6570 656e 6465 6e63 6965  date dependencie
-00024140: 7320 6f6e 206d 7367 7061 636b 2061 6e64  s on msgpack and
-00024150: 2070 796d 6163 6172 6f6f 6e73 2074 6f20   pymacaroons to 
-00024160: 7573 6520 7468 6520 7570 2d74 6f2d 6461  use the up-to-da
-00024170: 7465 2070 6163 6b61 6765 732e 2028 5b5c  te packages. ([\
-00024180: 2334 3339 395d 2868 7474 7073 3a2f 2f67  #4399](https://g
-00024190: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-000241a0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-000241b0: 7565 732f 3433 3939 2929 0a2d 2054 7765  ues/4399)).- Twe
-000241c0: 616b 2063 6f64 6563 6f76 2073 6574 7469  ak codecov setti
-000241d0: 6e67 7320 746f 206d 616b 6520 7468 656d  ngs to make them
-000241e0: 206c 6573 7320 6c6f 7564 2e20 285b 5c23   less loud. ([\#
-000241f0: 3434 3030 5d28 6874 7470 733a 2f2f 6769  4400](https://gi
-00024200: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-00024210: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-00024220: 6573 2f34 3430 3029 290a 2d20 496d 706c  es/4400)).- Impl
-00024230: 656d 656e 7420 7365 7276 6572 2073 7570  ement server sup
-00024240: 706f 7274 2066 6f72 204d 5343 3137 3934  port for MSC1794
-00024250: 202d 2046 6564 6572 6174 696f 6e20 7632   - Federation v2
-00024260: 2049 6e76 6974 6520 4150 4920 285b 5c23   Invite API ([\#
-00024270: 3434 3032 5d28 6874 7470 733a 2f2f 6769  4402](https://gi
-00024280: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-00024290: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-000242a0: 6573 2f34 3430 3229 290a 2d20 6465 6269  es/4402)).- debi
-000242b0: 616e 2070 6163 6b61 6765 3a20 7379 6d6c  an package: syml
-000242c0: 696e 6b20 746f 2065 7870 6c69 6369 7420  ink to explicit 
-000242d0: 7079 7468 6f6e 2076 6572 7369 6f6e 2028  python version (
-000242e0: 5b5c 2334 3433 335d 2868 7474 7073 3a2f  [\#4433](https:/
-000242f0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00024300: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00024310: 7373 7565 732f 3434 3333 2929 0a2d 2041  ssues/4433)).- A
-00024320: 6464 2069 6e66 7261 7374 7275 6374 7572  dd infrastructur
-00024330: 6520 746f 2073 7570 706f 7274 2064 6966  e to support dif
-00024340: 6665 7265 6e74 2065 7665 6e74 2066 6f72  ferent event for
-00024350: 6d61 7473 2028 5b5c 2334 3433 375d 2868  mats ([\#4437](h
-00024360: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00024370: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00024380: 6170 7365 2f69 7373 7565 732f 3434 3337  apse/issues/4437
-00024390: 292c 205b 5c23 3434 3437 5d28 6874 7470  ), [\#4447](http
-000243a0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-000243b0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-000243c0: 652f 6973 7375 6573 2f34 3434 3729 2c20  e/issues/4447), 
-000243d0: 5b5c 2334 3434 385d 2868 7474 7073 3a2f  [\#4448](https:/
-000243e0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-000243f0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00024400: 7373 7565 732f 3434 3438 292c 205b 5c23  ssues/4448), [\#
-00024410: 3434 3730 5d28 6874 7470 733a 2f2f 6769  4470](https://gi
-00024420: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-00024430: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-00024440: 6573 2f34 3437 3029 2c20 5b5c 2334 3438  es/4470), [\#448
-00024450: 315d 2868 7474 7073 3a2f 2f67 6974 6875  1](https://githu
-00024460: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-00024470: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-00024480: 3434 3831 292c 205b 5c23 3434 3832 5d28  4481), [\#4482](
-00024490: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-000244a0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-000244b0: 6e61 7073 652f 6973 7375 6573 2f34 3438  napse/issues/448
-000244c0: 3229 2c20 5b5c 2334 3439 335d 2868 7474  2), [\#4493](htt
-000244d0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-000244e0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-000244f0: 7365 2f69 7373 7565 732f 3434 3933 292c  se/issues/4493),
-00024500: 205b 5c23 3434 3934 5d28 6874 7470 733a   [\#4494](https:
-00024510: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00024520: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00024530: 6973 7375 6573 2f34 3439 3429 2c20 5b5c  issues/4494), [\
-00024540: 2334 3439 365d 2868 7474 7073 3a2f 2f67  #4496](https://g
-00024550: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-00024560: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-00024570: 7565 732f 3434 3936 292c 205b 5c23 3435  ues/4496), [\#45
-00024580: 3130 5d28 6874 7470 733a 2f2f 6769 7468  10](https://gith
-00024590: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-000245a0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-000245b0: 2f34 3531 3029 2c20 5b5c 2334 3531 345d  /4510), [\#4514]
-000245c0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-000245d0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-000245e0: 796e 6170 7365 2f69 7373 7565 732f 3435  ynapse/issues/45
-000245f0: 3134 2929 0a2d 2047 656e 6572 6174 6520  14)).- Generate 
-00024600: 7468 6520 6465 6269 616e 2063 6f6e 6669  the debian confi
-00024610: 6720 6475 7269 6e67 2062 7569 6c64 2028  g during build (
-00024620: 5b5c 2334 3434 345d 2868 7474 7073 3a2f  [\#4444](https:/
-00024630: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00024640: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00024650: 7373 7565 732f 3434 3434 2929 0a2d 2043  ssues/4444)).- C
-00024660: 6c61 7269 6679 2064 6f63 756d 656e 7461  larify documenta
-00024670: 7469 6f6e 2066 6f72 2074 6865 2060 7075  tion for the `pu
-00024680: 626c 6963 5f62 6173 6575 726c 6020 636f  blic_baseurl` co
-00024690: 6e66 6967 2070 6172 616d 2028 5b5c 2334  nfig param ([\#4
-000246a0: 3435 385d 2868 7474 7073 3a2f 2f67 6974  458](https://git
-000246b0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-000246c0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-000246d0: 732f 3434 3538 292c 205b 5c23 3434 3938  s/4458), [\#4498
-000246e0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-000246f0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00024700: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
-00024710: 3439 3829 290a 2d20 4669 7820 7175 6f74  498)).- Fix quot
-00024720: 696e 6720 666f 7220 616c 6c6f 7765 645f  ing for allowed_
-00024730: 6c6f 6361 6c5f 3370 6964 7320 6578 616d  local_3pids exam
-00024740: 706c 6520 636f 6e66 6967 2028 5b5c 2334  ple config ([\#4
-00024750: 3437 365d 2868 7474 7073 3a2f 2f67 6974  476](https://git
-00024760: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-00024770: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-00024780: 732f 3434 3736 2929 0a2d 2052 656d 6f76  s/4476)).- Remov
-00024790: 6520 6465 7072 6563 6174 6564 202d 2d70  e deprecated --p
-000247a0: 726f 6365 7373 2d64 6570 656e 6465 6e63  rocess-dependenc
-000247b0: 792d 6c69 6e6b 7320 6f70 7469 6f6e 2066  y-links option f
-000247c0: 726f 6d20 5550 4752 4144 452e 7273 7420  rom UPGRADE.rst 
-000247d0: 285b 5c23 3434 3835 5d28 6874 7470 733a  ([\#4485](https:
-000247e0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-000247f0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00024800: 6973 7375 6573 2f34 3438 3529 290a 2d20  issues/4485)).- 
-00024810: 4d61 6b65 2069 7420 706f 7373 6962 6c65  Make it possible
-00024820: 2074 6f20 7365 7420 7468 6520 6c6f 6720   to set the log 
-00024830: 6c65 7665 6c20 666f 7220 7465 7374 7320  level for tests 
-00024840: 7669 6120 616e 2065 6e76 6972 6f6e 6d65  via an environme
-00024850: 6e74 2076 6172 6961 626c 6520 285b 5c23  nt variable ([\#
-00024860: 3435 3036 5d28 6874 7470 733a 2f2f 6769  4506](https://gi
-00024870: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-00024880: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-00024890: 6573 2f34 3530 3629 290a 2d20 5265 6475  es/4506)).- Redu
-000248a0: 6365 2074 6865 206c 6f67 206c 6576 656c  ce the log level
-000248b0: 206f 6620 6c69 6e65 6172 697a 6572 206c   of linearizer l
-000248c0: 6f63 6b20 6163 7175 6972 656d 656e 7420  ock acquirement 
-000248d0: 746f 2044 4542 5547 2e20 285b 5c23 3435  to DEBUG. ([\#45
-000248e0: 3037 5d28 6874 7470 733a 2f2f 6769 7468  07](https://gith
-000248f0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00024900: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00024910: 2f34 3530 3729 290a 2d20 4669 7820 636f  /4507)).- Fix co
-00024920: 6465 2074 6f20 636f 6d70 6c79 2077 6974  de to comply wit
-00024930: 6820 6c69 6e74 696e 6720 696e 2050 7946  h linting in PyF
-00024940: 6c61 6b65 7320 332e 372e 312e 2028 5b5c  lakes 3.7.1. ([\
-00024950: 2334 3531 395d 2868 7474 7073 3a2f 2f67  #4519](https://g
-00024960: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-00024970: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-00024980: 7565 732f 3435 3139 2929 0a2d 2041 6464  ues/4519)).- Add
-00024990: 2073 6f6d 6520 6465 6275 6720 666f 7220   some debug for 
-000249a0: 6d65 6d62 6572 7368 6970 2073 796e 6369  membership synci
-000249b0: 6e67 2069 7373 7565 7320 285b 5c23 3435  ng issues ([\#45
-000249c0: 3338 5d28 6874 7470 733a 2f2f 6769 7468  38](https://gith
-000249d0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-000249e0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-000249f0: 2f34 3533 3829 290a 2d20 446f 636b 6572  /4538)).- Docker
-00024a00: 3a20 6f6e 6c79 2063 6f70 7920 7768 6174  : only copy what
-00024a10: 2077 6520 6e65 6564 2074 6f20 7468 6520   we need to the 
-00024a20: 6275 696c 6420 696d 6167 6520 285b 5c23  build image ([\#
-00024a30: 3435 3632 5d28 6874 7470 733a 2f2f 6769  4562](https://gi
-00024a40: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-00024a50: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-00024a60: 6573 2f34 3536 3229 290a 0a0a 5379 6e61  es/4562))...Syna
-00024a70: 7073 6520 302e 3334 2e31 2e31 2028 3230  pse 0.34.1.1 (20
-00024a80: 3139 2d30 312d 3131 290a 3d3d 3d3d 3d3d  19-01-11).======
-00024a90: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00024aa0: 3d3d 3d3d 3d3d 3d0a 0a54 6869 7320 7265  =======..This re
-00024ab0: 6c65 6173 6520 6669 7865 7320 4356 452d  lease fixes CVE-
-00024ac0: 3230 3139 2d35 3838 3520 616e 6420 6973  2019-5885 and is
-00024ad0: 2072 6563 6f6d 6d65 6e64 6564 2066 6f72   recommended for
-00024ae0: 2061 6c6c 2075 7365 7273 206f 6620 5379   all users of Sy
-00024af0: 6e61 7073 6520 302e 3334 2e31 2e0a 0a54  napse 0.34.1...T
-00024b00: 6869 7320 7265 6c65 6173 6520 6973 2063  his release is c
-00024b10: 6f6d 7061 7469 626c 6520 7769 7468 2050  ompatible with P
-00024b20: 7974 686f 6e20 322e 3720 616e 6420 332e  ython 2.7 and 3.
-00024b30: 352b 2e20 5079 7468 6f6e 2033 2e37 2069  5+. Python 3.7 i
-00024b40: 7320 6675 6c6c 7920 7375 7070 6f72 7465  s fully supporte
-00024b50: 642e 0a0a 4275 6766 6978 6573 0a2d 2d2d  d...Bugfixes.---
-00024b60: 2d2d 2d2d 2d0a 0a2d 2046 6978 2073 706f  -----..- Fix spo
-00024b70: 6e74 616e 656f 7573 206c 6f67 6f75 7420  ntaneous logout 
-00024b80: 6f6e 2075 7067 7261 6465 0a20 2028 5b5c  on upgrade.  ([\
-00024b90: 2334 3337 345d 2868 7474 7073 3a2f 2f67  #4374](https://g
-00024ba0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-00024bb0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-00024bc0: 7565 732f 3433 3734 2929 0a0a 0a53 796e  ues/4374))...Syn
-00024bd0: 6170 7365 2030 2e33 342e 3120 2832 3031  apse 0.34.1 (201
-00024be0: 392d 3031 2d30 3929 0a3d 3d3d 3d3d 3d3d  9-01-09).=======
-00024bf0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00024c00: 3d3d 3d3d 0a0a 496e 7465 726e 616c 2043  ====..Internal C
-00024c10: 6861 6e67 6573 0a2d 2d2d 2d2d 2d2d 2d2d  hanges.---------
-00024c20: 2d2d 2d2d 2d2d 2d0a 0a2d 2041 6464 2062  -------..- Add b
-00024c30: 6574 7465 7220 6c6f 6767 696e 6720 666f  etter logging fo
-00024c40: 7220 756e 6578 7065 6374 6564 2065 7272  r unexpected err
-00024c50: 6f72 7320 7768 696c 6520 7365 6e64 696e  ors while sendin
-00024c60: 6720 7472 616e 7361 6374 696f 6e73 2028  g transactions (
-00024c70: 5b5c 2334 3336 315d 2868 7474 7073 3a2f  [\#4361](https:/
-00024c80: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00024c90: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00024ca0: 7373 7565 732f 3433 3631 292c 205b 5c23  ssues/4361), [\#
-00024cb0: 3433 3632 5d28 6874 7470 733a 2f2f 6769  4362](https://gi
-00024cc0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-00024cd0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-00024ce0: 6573 2f34 3336 3229 290a 0a0a 5379 6e61  es/4362))...Syna
-00024cf0: 7073 6520 302e 3334 2e31 7263 3120 2832  pse 0.34.1rc1 (2
-00024d00: 3031 392d 3031 2d30 3829 0a3d 3d3d 3d3d  019-01-08).=====
-00024d10: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00024d20: 3d3d 3d3d 3d3d 3d3d 3d0a 0a46 6561 7475  =========..Featu
-00024d30: 7265 730a 2d2d 2d2d 2d2d 2d2d 0a0a 2d20  res.--------..- 
-00024d40: 5370 6563 6961 6c2d 6361 7365 2061 2073  Special-case a s
-00024d50: 7570 706f 7274 2075 7365 7220 666f 7220  upport user for 
-00024d60: 7573 6520 696e 2076 6572 6966 7969 6e67  use in verifying
-00024d70: 2062 6568 6176 696f 7572 206f 6620 6120   behaviour of a 
-00024d80: 6769 7665 6e20 7365 7276 6572 2e20 5468  given server. Th
-00024d90: 6520 7375 7070 6f72 7420 7573 6572 2064  e support user d
-00024da0: 6f65 7320 6e6f 7420 6170 7065 6172 2069  oes not appear i
-00024db0: 6e20 7573 6572 2064 6972 6563 746f 7279  n user directory
-00024dc0: 206f 7220 6d6f 6e74 686c 7920 6163 7469   or monthly acti
-00024dd0: 7665 2075 7365 7220 636f 756e 7473 2e20  ve user counts. 
-00024de0: 285b 5c23 3431 3431 5d28 6874 7470 733a  ([\#4141](https:
-00024df0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00024e00: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00024e10: 6973 7375 6573 2f34 3134 3129 2c20 5b5c  issues/4141), [\
-00024e20: 2334 3334 345d 2868 7474 7073 3a2f 2f67  #4344](https://g
-00024e30: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-00024e40: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-00024e50: 7565 732f 3433 3434 2929 0a2d 2053 7570  ues/4344)).- Sup
-00024e60: 706f 7274 2066 6f72 2073 6572 7669 6e67  port for serving
-00024e70: 202e 7765 6c6c 2d6b 6e6f 776e 2066 696c   .well-known fil
-00024e80: 6573 2028 5b5c 2334 3236 325d 2868 7474  es ([\#4262](htt
-00024e90: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00024ea0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-00024eb0: 7365 2f69 7373 7565 732f 3432 3632 2929  se/issues/4262))
-00024ec0: 0a2d 2052 6577 6f72 6b20 5341 4d4c 3220  .- Rework SAML2 
-00024ed0: 6175 7468 656e 7469 6361 7469 6f6e 2028  authentication (
-00024ee0: 5b5c 2334 3236 355d 2868 7474 7073 3a2f  [\#4265](https:/
-00024ef0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00024f00: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00024f10: 7373 7565 732f 3432 3635 292c 205b 5c23  ssues/4265), [\#
-00024f20: 3432 3637 5d28 6874 7470 733a 2f2f 6769  4267](https://gi
-00024f30: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-00024f40: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-00024f50: 6573 2f34 3236 3729 290a 2d20 5341 4d4c  es/4267)).- SAML
-00024f60: 3220 6175 7468 656e 7469 6361 7469 6f6e  2 authentication
-00024f70: 3a20 496e 6974 6961 6c69 7365 2075 7365  : Initialise use
-00024f80: 7220 6469 7370 6c61 7920 6e61 6d65 2066  r display name f
-00024f90: 726f 6d20 5341 4d4c 3220 6461 7461 2028  rom SAML2 data (
-00024fa0: 5b5c 2334 3237 325d 2868 7474 7073 3a2f  [\#4272](https:/
-00024fb0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00024fc0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00024fd0: 7373 7565 732f 3432 3732 2929 0a2d 2053  ssues/4272)).- S
-00024fe0: 796e 6170 7365 2063 616e 206e 6f77 2068  ynapse can now h
-00024ff0: 6176 6520 6974 7320 636f 6e64 6974 696f  ave its conditio
-00025000: 6e61 6c2f 6578 7472 6120 6465 7065 6e64  nal/extra depend
-00025010: 656e 6369 6573 2069 6e73 7461 6c6c 6564  encies installed
-00025020: 2062 7920 7069 702e 2054 6869 7320 6675   by pip. This fu
-00025030: 6e63 7469 6f6e 616c 6974 7920 6361 6e20  nctionality can 
-00025040: 6265 2075 7365 6420 6279 2075 7369 6e67  be used by using
-00025050: 2060 7069 7020 696e 7374 616c 6c20 6d61   `pip install ma
-00025060: 7472 6978 2d73 796e 6170 7365 5b66 6561  trix-synapse[fea
-00025070: 7475 7265 5d60 2c20 7768 6572 6520 6665  ture]`, where fe
-00025080: 6174 7572 6520 6973 2061 2063 6f6d 6d61  ature is a comma
-00025090: 2073 6570 6172 6174 6564 206c 6973 7420   separated list 
-000250a0: 7769 7468 2074 6865 2070 6f73 7369 626c  with the possibl
-000250b0: 6520 7661 6c75 6573 2060 656d 6169 6c2e  e values `email.
-000250c0: 656e 6162 6c65 5f6e 6f74 6966 7360 2c20  enable_notifs`, 
-000250d0: 606d 6174 7269 782d 7379 6e61 7073 652d  `matrix-synapse-
-000250e0: 6c64 6170 3360 2c20 6070 6f73 7467 7265  ldap3`, `postgre
-000250f0: 7360 2c20 6072 6573 6f75 7263 6573 2e63  s`, `resources.c
-00025100: 6f6e 7365 6e74 602c 2060 7361 6d6c 3260  onsent`, `saml2`
-00025110: 2c20 6075 726c 5f70 7265 7669 6577 602c  , `url_preview`,
-00025120: 2061 6e64 2060 7465 7374 602e 2049 6620   and `test`. If 
-00025130: 796f 7520 7761 6e74 2074 6f20 696e 7374  you want to inst
-00025140: 616c 6c20 616c 6c20 6f70 7469 6f6e 616c  all all optional
-00025150: 2064 6570 656e 6465 6e63 6965 732c 2079   dependencies, y
-00025160: 6f75 2063 616e 2075 7365 2022 616c 6c22  ou can use "all"
-00025170: 2069 6e73 7465 6164 2e20 285b 5c23 3432   instead. ([\#42
-00025180: 3938 5d28 6874 7470 733a 2f2f 6769 7468  98](https://gith
-00025190: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-000251a0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-000251b0: 2f34 3239 3829 2c20 5b5c 2334 3332 355d  /4298), [\#4325]
-000251c0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-000251d0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-000251e0: 796e 6170 7365 2f69 7373 7565 732f 3433  ynapse/issues/43
-000251f0: 3235 292c 205b 5c23 3433 3237 5d28 6874  25), [\#4327](ht
-00025200: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00025210: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00025220: 7073 652f 6973 7375 6573 2f34 3332 3729  pse/issues/4327)
-00025230: 290a 2d20 4164 6420 726f 7574 6573 2066  ).- Add routes f
-00025240: 6f72 2072 6561 6469 6e67 2061 6363 6f75  or reading accou
-00025250: 6e74 2064 6174 612e 2028 5b5c 2334 3330  nt data. ([\#430
-00025260: 335d 2868 7474 7073 3a2f 2f67 6974 6875  3](https://githu
-00025270: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-00025280: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-00025290: 3433 3033 2929 0a2d 2041 6464 206f 7074  4303)).- Add opt
-000252a0: 2d69 6e20 7375 7070 6f72 7420 666f 7220  -in support for 
-000252b0: 7632 2072 6f6f 6d73 2028 5b5c 2334 3330  v2 rooms ([\#430
-000252c0: 375d 2868 7474 7073 3a2f 2f67 6974 6875  7](https://githu
-000252d0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-000252e0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-000252f0: 3433 3037 2929 0a2d 2041 6464 2061 2073  4307)).- Add a s
-00025300: 6372 6970 7420 746f 2067 656e 6572 6174  cript to generat
-00025310: 6520 6120 636c 6561 6e20 636f 6e66 6967  e a clean config
-00025320: 2066 696c 6520 285b 5c23 3433 3135 5d28   file ([\#4315](
-00025330: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00025340: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-00025350: 6e61 7073 652f 6973 7375 6573 2f34 3331  napse/issues/431
-00025360: 3529 290a 2d20 5265 7475 726e 2073 6572  5)).- Return ser
-00025370: 7665 7220 6461 7461 2069 6e20 2f6c 6f67  ver data in /log
-00025380: 696e 2072 6573 706f 6e73 6520 285b 5c23  in response ([\#
-00025390: 3433 3139 5d28 6874 7470 733a 2f2f 6769  4319](https://gi
-000253a0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-000253b0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-000253c0: 6573 2f34 3331 3929 290a 0a0a 4275 6766  es/4319))...Bugf
-000253d0: 6978 6573 0a2d 2d2d 2d2d 2d2d 2d0a 0a2d  ixes.--------..-
-000253e0: 2046 6978 2063 6f6e 7461 696e 735f 7572   Fix contains_ur
-000253f0: 6c20 6368 6563 6b20 746f 2062 6520 636f  l check to be co
-00025400: 6e73 6973 7465 6e74 2077 6974 6820 6f74  nsistent with ot
-00025410: 6865 7220 696e 7374 616e 6365 7320 696e  her instances in
-00025420: 2063 6f64 652d 6261 7365 2061 6e64 2063   code-base and c
-00025430: 6865 636b 2074 6861 7420 7661 6c75 6520  heck that value 
-00025440: 6973 2061 6e20 696e 7374 616e 6365 206f  is an instance o
-00025450: 6620 7374 7269 6e67 2e20 285b 5c23 3334  f string. ([\#34
-00025460: 3035 5d28 6874 7470 733a 2f2f 6769 7468  05](https://gith
-00025470: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00025480: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00025490: 2f33 3430 3529 290a 2d20 4669 7820 4341  /3405)).- Fix CA
-000254a0: 5320 6c6f 6769 6e20 7768 656e 2075 7365  S login when use
-000254b0: 726e 616d 6520 6973 206e 6f74 2076 616c  rname is not val
-000254c0: 6964 2069 6e20 616e 204d 5849 4420 285b  id in an MXID ([
-000254d0: 5c23 3432 3634 5d28 6874 7470 733a 2f2f  \#4264](https://
-000254e0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-000254f0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00025500: 7375 6573 2f34 3236 3429 290a 2d20 5365  sues/4264)).- Se
-00025510: 6e64 2043 4f52 5320 6865 6164 6572 7320  nd CORS headers 
-00025520: 666f 7220 2f6d 6564 6961 2f63 6f6e 6669  for /media/confi
-00025530: 6720 285b 5c23 3432 3739 5d28 6874 7470  g ([\#4279](http
-00025540: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00025550: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00025560: 652f 6973 7375 6573 2f34 3237 3929 290a  e/issues/4279)).
-00025570: 2d20 4164 6420 2773 616e 6462 6f78 2720  - Add 'sandbox' 
-00025580: 746f 2043 5350 2066 6f72 206d 6564 6961  to CSP for media
-00025590: 2072 6570 726f 7369 746f 7279 2028 5b5c   reprository ([\
-000255a0: 2334 3238 345d 2868 7474 7073 3a2f 2f67  #4284](https://g
-000255b0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-000255c0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-000255d0: 7565 732f 3432 3834 2929 0a2d 204d 616b  ues/4284)).- Mak
-000255e0: 6520 7468 6520 6e65 7720 6c61 6e64 696e  e the new landin
-000255f0: 6720 7061 6765 2070 7265 7474 6965 722e  g page prettier.
-00025600: 2028 5b5c 2334 3239 345d 2868 7474 7073   ([\#4294](https
-00025610: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00025620: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00025630: 2f69 7373 7565 732f 3432 3934 2929 0a2d  /issues/4294)).-
-00025640: 2046 6978 2064 656c 6574 696e 6720 4532   Fix deleting E2
-00025650: 4520 726f 6f6d 206b 6579 7320 7768 656e  E room keys when
-00025660: 2075 7369 6e67 206f 6c64 2053 514c 6974   using old SQLit
-00025670: 6520 7665 7273 696f 6e73 2e20 285b 5c23  e versions. ([\#
-00025680: 3432 3935 5d28 6874 7470 733a 2f2f 6769  4295](https://gi
-00025690: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-000256a0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-000256b0: 6573 2f34 3239 3529 290a 2d20 5468 6520  es/4295)).- The 
-000256c0: 6d65 7472 6963 2073 796e 6170 7365 5f61  metric synapse_a
-000256d0: 646d 696e 5f6d 6175 3a63 7572 7265 6e74  dmin_mau:current
-000256e0: 2070 7265 7669 6f75 736c 7920 6469 6420   previously did 
-000256f0: 6e6f 7420 7570 6461 7465 2077 6865 6e20  not update when 
-00025700: 636f 6e66 6967 2e6d 6175 5f73 7461 7473  config.mau_stats
-00025710: 5f6f 6e6c 7920 7761 7320 7365 7420 746f  _only was set to
-00025720: 2054 7275 6520 285b 5c23 3433 3035 5d28   True ([\#4305](
-00025730: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00025740: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-00025750: 6e61 7073 652f 6973 7375 6573 2f34 3330  napse/issues/430
-00025760: 3529 290a 2d20 4669 7865 6420 7065 722d  5)).- Fixed per-
-00025770: 726f 6f6d 2061 6363 6f75 6e74 2064 6174  room account dat
-00025780: 6120 6669 6c74 6572 7320 285b 5c23 3433  a filters ([\#43
-00025790: 3039 5d28 6874 7470 733a 2f2f 6769 7468  09](https://gith
-000257a0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-000257b0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-000257c0: 2f34 3330 3929 290a 2d20 4669 7820 696e  /4309)).- Fix in
-000257d0: 6465 6e74 6174 696f 6e20 696e 2064 6566  dentation in def
-000257e0: 6175 6c74 2063 6f6e 6669 6720 285b 5c23  ault config ([\#
-000257f0: 3433 3133 5d28 6874 7470 733a 2f2f 6769  4313](https://gi
-00025800: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-00025810: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-00025820: 6573 2f34 3331 3329 290a 2d20 4669 7820  es/4313)).- Fix 
-00025830: 7379 6e61 7073 653a 6c61 7465 7374 2064  synapse:latest d
-00025840: 6f63 6b65 7220 7570 6c6f 6164 2028 5b5c  ocker upload ([\
-00025850: 2334 3331 365d 2868 7474 7073 3a2f 2f67  #4316](https://g
-00025860: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-00025870: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-00025880: 7565 732f 3433 3136 2929 0a2d 2046 6978  ues/4316)).- Fix
-00025890: 2074 6573 745f 6d65 7472 6963 2e70 7920   test_metric.py 
-000258a0: 636f 6d70 6174 6962 696c 6974 7920 7769  compatibility wi
-000258b0: 7468 2070 726f 6d65 7468 6575 735f 636c  th prometheus_cl
-000258c0: 6965 6e74 2030 2e35 2e20 436f 6e74 7269  ient 0.5. Contri
-000258d0: 6275 7465 6420 6279 204d 6161 7274 656e  buted by Maarten
-000258e0: 2064 6520 5672 6965 7320 3c6d 6161 7274   de Vries <maart
-000258f0: 656e 4064 652d 7672 692e 6573 3e2e 2028  en@de-vri.es>. (
-00025900: 5b5c 2334 3331 375d 2868 7474 7073 3a2f  [\#4317](https:/
-00025910: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00025920: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00025930: 7373 7565 732f 3433 3137 2929 0a2d 2041  ssues/4317)).- A
-00025940: 766f 6964 2070 6163 6b61 6769 6e67 205f  void packaging _
-00025950: 7472 6961 6c5f 7465 6d70 2064 6972 6563  trial_temp direc
-00025960: 746f 7279 2069 6e20 2d70 7933 2064 6562  tory in -py3 deb
-00025970: 6961 6e20 7061 636b 6167 6573 2028 5b5c  ian packages ([\
-00025980: 2334 3332 365d 2868 7474 7073 3a2f 2f67  #4326](https://g
-00025990: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-000259a0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-000259b0: 7565 732f 3433 3236 2929 0a2d 2043 6865  ues/4326)).- Che
-000259c0: 636b 206a 696e 6a61 2076 6572 7369 6f6e  ck jinja version
-000259d0: 2066 6f72 2063 6f6e 7365 6e74 2072 6573   for consent res
-000259e0: 6f75 7263 6520 285b 5c23 3433 3237 5d28  ource ([\#4327](
-000259f0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00025a00: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-00025a10: 6e61 7073 652f 6973 7375 6573 2f34 3332  napse/issues/432
-00025a20: 3729 290a 2d20 6669 7820 4e50 4520 696e  7)).- fix NPE in
-00025a30: 202f 6d65 7373 6167 6573 2062 7920 6368   /messages by ch
-00025a40: 6563 6b69 6e67 2069 6620 616c 6c20 6576  ecking if all ev
-00025a50: 656e 7473 2077 6572 6520 6669 6c74 6572  ents were filter
-00025a60: 6564 206f 7574 2028 5b5c 2334 3333 305d  ed out ([\#4330]
-00025a70: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00025a80: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00025a90: 796e 6170 7365 2f69 7373 7565 732f 3433  ynapse/issues/43
-00025aa0: 3330 2929 0a2d 2046 6978 2060 7079 7468  30)).- Fix `pyth
-00025ab0: 6f6e 202d 6d20 7379 6e61 7073 652e 636f  on -m synapse.co
-00025ac0: 6e66 6967 6020 6f6e 2050 7974 686f 6e20  nfig` on Python 
-00025ad0: 332e 2028 5b5c 2334 3335 365d 2868 7474  3. ([\#4356](htt
-00025ae0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00025af0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-00025b00: 7365 2f69 7373 7565 732f 3433 3536 2929  se/issues/4356))
-00025b10: 0a0a 0a44 6570 7265 6361 7469 6f6e 7320  ...Deprecations 
-00025b20: 616e 6420 5265 6d6f 7661 6c73 0a2d 2d2d  and Removals.---
-00025b30: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00025b40: 2d2d 2d2d 2d2d 0a0a 2d20 5265 6d6f 7665  ------..- Remove
-00025b50: 2074 6865 2064 6570 7265 6361 7465 6420   the deprecated 
-00025b60: 7631 2f72 6567 6973 7465 7220 4150 4920  v1/register API 
-00025b70: 6f6e 2050 7974 686f 6e20 322e 2049 7420  on Python 2. It 
-00025b80: 7761 7320 6e65 7665 7220 706f 7274 6564  was never ported
-00025b90: 2074 6f20 5079 7468 6f6e 2033 2e20 285b   to Python 3. ([
-00025ba0: 5c23 3433 3334 5d28 6874 7470 733a 2f2f  \#4334](https://
-00025bb0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-00025bc0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00025bd0: 7375 6573 2f34 3333 3429 290a 0a0a 496e  sues/4334))...In
-00025be0: 7465 726e 616c 2043 6861 6e67 6573 0a2d  ternal Changes.-
-00025bf0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a  ---------------.
-00025c00: 0a2d 2047 6574 7469 6e67 2055 524c 2070  .- Getting URL p
-00025c10: 7265 7669 6577 7320 6f66 2049 5020 6164  reviews of IP ad
-00025c20: 6472 6573 7365 7320 6e6f 206c 6f6e 6765  dresses no longe
-00025c30: 7220 6661 696c 7320 6f6e 2050 7974 686f  r fails on Pytho
-00025c40: 6e20 332e 2028 5b5c 2334 3231 355d 2868  n 3. ([\#4215](h
-00025c50: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00025c60: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00025c70: 6170 7365 2f69 7373 7565 732f 3432 3135  apse/issues/4215
-00025c80: 2929 0a2d 2064 726f 7020 756e 646f 6375  )).- drop undocu
-00025c90: 6d65 6e74 6564 2064 6570 656e 6465 6e63  mented dependenc
-00025ca0: 7920 6f6e 2064 6174 6575 7469 6c20 285b  y on dateutil ([
-00025cb0: 5c23 3432 3636 5d28 6874 7470 733a 2f2f  \#4266](https://
-00025cc0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-00025cd0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00025ce0: 7375 6573 2f34 3236 3629 290a 2d20 5570  sues/4266)).- Up
-00025cf0: 6461 7465 2074 6865 2065 7861 6d70 6c65  date the example
-00025d00: 2073 7973 7465 6d64 2063 6f6e 6669 6720   systemd config 
-00025d10: 746f 2075 7365 2061 2076 6972 7475 616c  to use a virtual
-00025d20: 656e 7620 285b 5c23 3432 3733 5d28 6874  env ([\#4273](ht
-00025d30: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00025d40: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00025d50: 7073 652f 6973 7375 6573 2f34 3237 3329  pse/issues/4273)
-00025d60: 290a 2d20 5570 6461 7465 206c 696e 6b20  ).- Update link 
-00025d70: 746f 206b 6572 6e65 6c20 4443 4f20 6775  to kernel DCO gu
-00025d80: 6964 6520 285b 5c23 3432 3734 5d28 6874  ide ([\#4274](ht
-00025d90: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00025da0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00025db0: 7073 652f 6973 7375 6573 2f34 3237 3429  pse/issues/4274)
-00025dc0: 290a 2d20 4d61 6b65 2069 736f 7274 2074  ).- Make isort t
-00025dd0: 6f78 2063 6865 636b 2070 7269 6e74 2064  ox check print d
-00025de0: 6966 6620 7768 656e 2069 7420 6661 696c  iff when it fail
-00025df0: 7320 285b 5c23 3432 3833 5d28 6874 7470  s ([\#4283](http
-00025e00: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00025e10: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00025e20: 652f 6973 7375 6573 2f34 3238 3329 290a  e/issues/4283)).
-00025e30: 2d20 4c6f 6720 726f 6f6d 5f69 6420 696e  - Log room_id in
-00025e40: 2055 6e6b 6e6f 776e 2072 6f6f 6d20 6572   Unknown room er
-00025e50: 726f 7273 2028 5b5c 2334 3239 375d 2868  rors ([\#4297](h
-00025e60: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00025e70: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00025e80: 6170 7365 2f69 7373 7565 732f 3432 3937  apse/issues/4297
-00025e90: 2929 0a2d 2044 6f63 756d 656e 7461 7469  )).- Documentati
-00025ea0: 6f6e 2069 6d70 726f 7665 6d65 6e74 7320  on improvements 
-00025eb0: 666f 7220 636f 7475 726e 2073 6574 7570  for coturn setup
-00025ec0: 2e20 436f 6e74 7269 6275 7465 6420 6279  . Contributed by
-00025ed0: 204b 7269 7468 696e 2053 6974 6172 616d   Krithin Sitaram
-00025ee0: 2e20 285b 5c23 3433 3333 5d28 6874 7470  . ([\#4333](http
-00025ef0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00025f00: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00025f10: 652f 6973 7375 6573 2f34 3333 3329 290a  e/issues/4333)).
-00025f20: 2d20 5570 6461 7465 2070 756c 6c20 7265  - Update pull re
-00025f30: 7175 6573 7420 7465 6d70 6c61 7465 2074  quest template t
-00025f40: 6f20 7573 6520 6162 736f 6c75 7465 206c  o use absolute l
-00025f50: 696e 6b73 2028 5b5c 2334 3334 315d 2868  inks ([\#4341](h
-00025f60: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00025f70: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00025f80: 6170 7365 2f69 7373 7565 732f 3433 3431  apse/issues/4341
-00025f90: 2929 0a2d 2055 7064 6174 6520 5245 4144  )).- Update READ
-00025fa0: 4d45 2074 6f20 6e6f 7420 6c69 6520 6162  ME to not lie ab
-00025fb0: 6f75 7420 7265 7175 6972 6564 2072 6573  out required res
-00025fc0: 7461 7274 2077 6865 6e20 7570 6461 7469  tart when updati
-00025fd0: 6e67 2054 4c53 2063 6572 7469 6669 6361  ng TLS certifica
-00025fe0: 7465 7320 285b 5c23 3433 3433 5d28 6874  tes ([\#4343](ht
-00025ff0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00026000: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00026010: 7073 652f 6973 7375 6573 2f34 3334 3329  pse/issues/4343)
-00026020: 290a 2d20 5570 6461 7465 2064 6562 6961  ).- Update debia
-00026030: 6e20 7061 636b 6167 696e 6720 666f 7220  n packaging for 
-00026040: 636f 6d70 6174 6962 696c 6974 7920 7769  compatibility wi
-00026050: 7468 2074 7261 6e73 6974 696f 6e61 6c20  th transitional 
-00026060: 7061 636b 6167 6520 285b 5c23 3433 3439  package ([\#4349
-00026070: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00026080: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00026090: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
-000260a0: 3334 3929 290a 2d20 4669 7820 636f 6d6d  349)).- Fix comm
-000260b0: 616e 6420 6869 6e74 2074 6f20 6765 6e65  and hint to gene
-000260c0: 7261 7465 2061 2063 6f6e 6669 6720 6669  rate a config fi
-000260d0: 6c65 2077 6865 6e20 7472 7969 6e67 2074  le when trying t
-000260e0: 6f20 7374 6172 7420 7769 7468 6f75 7420  o start without 
-000260f0: 6120 636f 6e66 6967 2066 696c 6520 285b  a config file ([
-00026100: 5c23 3433 3533 5d28 6874 7470 733a 2f2f  \#4353](https://
-00026110: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-00026120: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00026130: 7375 6573 2f34 3335 3329 290a 2d20 4164  sues/4353)).- Ad
-00026140: 6420 6265 7474 6572 206c 6f67 6769 6e67  d better logging
-00026150: 2066 6f72 2075 6e65 7870 6563 7465 6420   for unexpected 
-00026160: 6572 726f 7273 2077 6869 6c65 2073 656e  errors while sen
-00026170: 6469 6e67 2074 7261 6e73 6163 7469 6f6e  ding transaction
-00026180: 7320 285b 5c23 3433 3538 5d28 6874 7470  s ([\#4358](http
-00026190: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-000261a0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-000261b0: 652f 6973 7375 6573 2f34 3335 3829 290a  e/issues/4358)).
-000261c0: 0a0a 5379 6e61 7073 6520 302e 3334 2e30  ..Synapse 0.34.0
-000261d0: 2028 3230 3138 2d31 322d 3230 290a 3d3d   (2018-12-20).==
-000261e0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000261f0: 3d3d 3d3d 3d3d 3d3d 3d0a 0a53 796e 6170  =========..Synap
-00026200: 7365 2030 2e33 342e 3020 6973 2074 6865  se 0.34.0 is the
-00026210: 2066 6972 7374 2072 656c 6561 7365 2074   first release t
-00026220: 6f20 6675 6c6c 7920 7375 7070 6f72 7420  o fully support 
-00026230: 5079 7468 6f6e 2033 2e20 5379 6e61 7073  Python 3. Synaps
-00026240: 6520 7769 6c6c 206e 6f77 0a72 756e 206f  e will now.run o
-00026250: 6e20 5079 7468 6f6e 2076 6572 7369 6f6e  n Python version
-00026260: 7320 332e 3520 6f72 2033 2e36 2028 6173  s 3.5 or 3.6 (as
-00026270: 2077 656c 6c20 6173 2032 2e37 292e 2053   well as 2.7). S
-00026280: 7570 706f 7274 2066 6f72 2050 7974 686f  upport for Pytho
-00026290: 6e20 332e 370a 7265 6d61 696e 7320 6578  n 3.7.remains ex
-000262a0: 7065 7269 6d65 6e74 616c 2e0a 0a57 6520  perimental...We 
-000262b0: 7265 636f 6d6d 656e 6420 7570 6772 6164  recommend upgrad
-000262c0: 696e 6720 746f 2050 7974 686f 6e20 332c  ing to Python 3,
-000262d0: 2062 7574 206d 616b 6520 7375 7265 2074   but make sure t
-000262e0: 6f20 7265 6164 2074 6865 205b 7570 6772  o read the [upgr
-000262f0: 6164 650a 6e6f 7465 735d 2855 5047 5241  ade.notes](UPGRA
-00026300: 4445 2e72 7374 2375 7067 7261 6469 6e67  DE.rst#upgrading
-00026310: 2d74 6f2d 7630 3334 3029 2077 6865 6e20  -to-v0340) when 
-00026320: 646f 696e 6720 736f 2e0a 0a46 6561 7475  doing so...Featu
-00026330: 7265 730a 2d2d 2d2d 2d2d 2d2d 0a0a 2d20  res.--------..- 
-00026340: 4164 6420 2773 616e 6462 6f78 2720 746f  Add 'sandbox' to
-00026350: 2043 5350 2066 6f72 206d 6564 6961 2072   CSP for media r
-00026360: 6570 726f 7369 746f 7279 2028 5b5c 2334  eprository ([\#4
-00026370: 3238 345d 2868 7474 7073 3a2f 2f67 6974  284](https://git
-00026380: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-00026390: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-000263a0: 732f 3432 3834 2929 0a2d 204d 616b 6520  s/4284)).- Make 
-000263b0: 7468 6520 6e65 7720 6c61 6e64 696e 6720  the new landing 
-000263c0: 7061 6765 2070 7265 7474 6965 722e 2028  page prettier. (
-000263d0: 5b5c 2334 3239 345d 2868 7474 7073 3a2f  [\#4294](https:/
-000263e0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-000263f0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00026400: 7373 7565 732f 3432 3934 2929 0a2d 2046  ssues/4294)).- F
-00026410: 6978 2064 656c 6574 696e 6720 4532 4520  ix deleting E2E 
-00026420: 726f 6f6d 206b 6579 7320 7768 656e 2075  room keys when u
-00026430: 7369 6e67 206f 6c64 2053 514c 6974 6520  sing old SQLite 
-00026440: 7665 7273 696f 6e73 2e20 285b 5c23 3432  versions. ([\#42
-00026450: 3935 5d28 6874 7470 733a 2f2f 6769 7468  95](https://gith
-00026460: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00026470: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00026480: 2f34 3239 3529 290a 2d20 4164 6420 6120  /4295)).- Add a 
-00026490: 7765 6c63 6f6d 6520 7061 6765 2066 6f72  welcome page for
-000264a0: 2074 6865 2063 6c69 656e 7420 4150 4920   the client API 
-000264b0: 706f 7274 2e20 4372 6564 6974 2074 6f20  port. Credit to 
-000264c0: 406b 726f 6d62 656c 2120 285b 5c23 3432  @krombel! ([\#42
-000264d0: 3839 5d28 6874 7470 733a 2f2f 6769 7468  89](https://gith
-000264e0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-000264f0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00026500: 2f34 3238 3929 290a 2d20 5265 6d6f 7665  /4289)).- Remove
-00026510: 204d 6174 7269 7820 636f 6e73 6f6c 6520   Matrix console 
-00026520: 6672 6f6d 2074 6865 2064 6566 6175 6c74  from the default
-00026530: 2064 6973 7472 6962 7574 696f 6e20 285b   distribution ([
-00026540: 5c23 3432 3930 5d28 6874 7470 733a 2f2f  \#4290](https://
-00026550: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-00026560: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00026570: 7375 6573 2f34 3239 3029 290a 2d20 4164  sues/4290)).- Ad
-00026580: 6420 6f70 7469 6f6e 2074 6f20 7472 6163  d option to trac
-00026590: 6b20 4d41 5520 7374 6174 7320 2862 7574  k MAU stats (but
-000265a0: 206e 6f74 206c 696d 6974 2070 656f 706c   not limit peopl
-000265b0: 6529 2028 5b5c 2333 3833 305d 2868 7474  e) ([\#3830](htt
-000265c0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-000265d0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-000265e0: 7365 2f69 7373 7565 732f 3338 3330 2929  se/issues/3830))
-000265f0: 0a2d 2041 6464 2061 6e20 6f70 7469 6f6e  .- Add an option
-00026600: 2074 6f20 656e 6162 6c65 2072 6563 6f72   to enable recor
-00026610: 6469 6e67 2049 5073 2066 6f72 2061 7070  ding IPs for app
-00026620: 7365 7276 6963 6520 7573 6572 7320 285b  service users ([
-00026630: 5c23 3338 3331 5d28 6874 7470 733a 2f2f  \#3831](https://
-00026640: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-00026650: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00026660: 7375 6573 2f33 3833 3129 290a 2d20 5265  sues/3831)).- Re
-00026670: 6e61 6d65 206c 6f67 696e 2074 7970 6520  name login type 
-00026680: 606d 2e6c 6f67 696e 2e63 6173 6020 746f  `m.login.cas` to
-00026690: 2060 6d2e 6c6f 6769 6e2e 7373 6f60 2028   `m.login.sso` (
-000266a0: 5b5c 2334 3232 305d 2868 7474 7073 3a2f  [\#4220](https:/
-000266b0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-000266c0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-000266d0: 7373 7565 732f 3432 3230 2929 0a2d 2041  ssues/4220)).- A
-000266e0: 6464 2061 6e20 6f70 7469 6f6e 2074 6f20  dd an option to 
-000266f0: 6469 7361 626c 6520 7365 6172 6368 2066  disable search f
-00026700: 6f72 2068 6f6d 6573 6572 7665 7273 2074  or homeservers t
-00026710: 6861 7420 6d61 7920 6e6f 7420 6265 2069  hat may not be i
-00026720: 6e74 6572 6573 7465 6420 696e 2069 742e  nterested in it.
-00026730: 2028 5b5c 2334 3233 305d 2868 7474 7073   ([\#4230](https
-00026740: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00026750: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00026760: 2f69 7373 7565 732f 3432 3330 2929 0a0a  /issues/4230))..
-00026770: 0a42 7567 6669 7865 730a 2d2d 2d2d 2d2d  .Bugfixes.------
-00026780: 2d2d 0a0a 2d20 5075 7368 7275 6c65 7320  --..- Pushrules 
-00026790: 6361 6e20 6e6f 7720 6167 6169 6e20 6265  can now again be
-000267a0: 206d 6164 6520 7769 7468 206e 6f6e 2d41   made with non-A
-000267b0: 5343 4949 2072 756c 6520 4944 732e 2028  SCII rule IDs. (
-000267c0: 5b5c 2334 3136 355d 2868 7474 7073 3a2f  [\#4165](https:/
-000267d0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-000267e0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-000267f0: 7373 7565 732f 3431 3635 2929 0a2d 2054  ssues/4165)).- T
-00026800: 6865 206d 6564 6961 2072 6570 6f73 6974  he media reposit
-00026810: 6f72 7920 6e6f 7720 6e6f 206c 6f6e 6765  ory now no longe
-00026820: 7220 6661 696c 7320 746f 2064 6563 6f64  r fails to decod
-00026830: 6520 5554 462d 3820 6669 6c65 6e61 6d65  e UTF-8 filename
-00026840: 7320 7768 656e 2064 6f77 6e6c 6f61 6469  s when downloadi
-00026850: 6e67 2072 656d 6f74 6520 6d65 6469 612e  ng remote media.
-00026860: 2028 5b5c 2334 3137 365d 2868 7474 7073   ([\#4176](https
-00026870: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00026880: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00026890: 2f69 7373 7565 732f 3431 3736 2929 0a2d  /issues/4176)).-
-000268a0: 2055 524c 2070 7265 7669 6577 7320 6e6f   URL previews no
-000268b0: 7720 636f 7272 6563 746c 7920 6465 636f  w correctly deco
-000268c0: 6465 206e 6f6e 2d55 5446 2d38 2074 6578  de non-UTF-8 tex
-000268d0: 7420 6966 2074 6865 2068 6561 6465 7220  t if the header 
-000268e0: 636f 6e74 6169 6e73 2061 2060 3c6d 6574  contains a `<met
-000268f0: 6120 6874 7470 2d65 7175 6976 3d22 436f  a http-equiv="Co
-00026900: 6e74 656e 742d 5479 7065 2260 2068 6561  ntent-Type"` hea
-00026910: 6465 722e 2028 5b5c 2334 3138 335d 2868  der. ([\#4183](h
-00026920: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00026930: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00026940: 6170 7365 2f69 7373 7565 732f 3431 3833  apse/issues/4183
-00026950: 2929 0a2d 2046 6978 2061 6e20 6973 7375  )).- Fix an issu
-00026960: 6520 7768 6572 6520 7075 626c 6963 2063  e where public c
-00026970: 6f6e 7365 6e74 2055 524c 7320 6861 6420  onsent URLs had 
-00026980: 7477 6f20 736c 6173 6865 732e 2028 5b5c  two slashes. ([\
-00026990: 2334 3139 325d 2868 7474 7073 3a2f 2f67  #4192](https://g
-000269a0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-000269b0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-000269c0: 7565 732f 3431 3932 2929 0a2d 2046 616c  ues/4192)).- Fal
-000269d0: 6c62 6163 6b20 6175 7468 206e 6f77 2061  lback auth now a
-000269e0: 6363 6570 7473 2074 6865 2073 6573 7369  ccepts the sessi
-000269f0: 6f6e 2070 6172 616d 6574 6572 206f 6e20  on parameter on 
-00026a00: 5079 7468 6f6e 2033 2e20 285b 5c23 3431  Python 3. ([\#41
-00026a10: 3937 5d28 6874 7470 733a 2f2f 6769 7468  97](https://gith
-00026a20: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00026a30: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00026a40: 2f34 3139 3729 290a 2d20 5265 6d6f 7665  /4197)).- Remove
-00026a50: 2072 696f 742e 696d 2066 726f 6d20 7468   riot.im from th
-00026a60: 6520 6c69 7374 206f 6620 7472 7573 7465  e list of truste
-00026a70: 6420 4964 656e 7469 7479 2053 6572 7665  d Identity Serve
-00026a80: 7273 2069 6e20 7468 6520 6465 6661 756c  rs in the defaul
-00026a90: 7420 636f 6e66 6967 7572 6174 696f 6e20  t configuration 
-00026aa0: 285b 5c23 3432 3037 5d28 6874 7470 733a  ([\#4207](https:
-00026ab0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00026ac0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00026ad0: 6973 7375 6573 2f34 3230 3729 290a 2d20  issues/4207)).- 
-00026ae0: 6669 7820 7374 6172 7420 7570 2066 6169  fix start up fai
-00026af0: 6c75 7265 2077 6865 6e20 6d61 755f 6c69  lure when mau_li
-00026b00: 6d69 745f 7265 7365 7276 6564 5f74 6872  mit_reserved_thr
-00026b10: 6565 7069 6473 2073 6574 2061 6e64 2064  eepids set and d
-00026b20: 6220 6973 2070 6f73 7467 7265 7320 285b  b is postgres ([
-00026b30: 5c23 3432 3131 5d28 6874 7470 733a 2f2f  \#4211](https://
-00026b40: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-00026b50: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00026b60: 7375 6573 2f34 3231 3129 290a 2d20 4669  sues/4211)).- Fi
-00026b70: 7820 6175 746f 206a 6f69 6e20 6661 696c  x auto join fail
-00026b80: 7572 6573 2066 6f72 2073 6572 7665 7273  ures for servers
-00026b90: 2074 6861 7420 7265 7175 6972 6520 7573   that require us
-00026ba0: 6572 2063 6f6e 7365 6e74 2028 5b5c 2334  er consent ([\#4
-00026bb0: 3232 335d 2868 7474 7073 3a2f 2f67 6974  223](https://git
-00026bc0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-00026bd0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-00026be0: 732f 3432 3233 2929 0a2d 2046 6978 2065  s/4223)).- Fix e
-00026bf0: 7863 6570 7469 6f6e 2063 6175 7365 6420  xception caused 
-00026c00: 6279 206e 6f6e 2d61 7363 6969 2065 7665  by non-ascii eve
-00026c10: 6e74 2049 4473 2028 5b5c 2334 3234 315d  nt IDs ([\#4241]
-00026c20: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00026c30: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00026c40: 796e 6170 7365 2f69 7373 7565 732f 3432  ynapse/issues/42
-00026c50: 3431 2929 0a2d 2050 7573 6865 7273 2063  41)).- Pushers c
-00026c60: 616e 206e 6f77 2062 6520 756e 7375 6273  an now be unsubs
-00026c70: 6372 6962 6564 2066 726f 6d20 6f6e 2050  cribed from on P
-00026c80: 7974 686f 6e20 332e 2028 5b5c 2334 3235  ython 3. ([\#425
-00026c90: 305d 2868 7474 7073 3a2f 2f67 6974 6875  0](https://githu
-00026ca0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-00026cb0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-00026cc0: 3432 3530 2929 0a2d 2046 6978 2055 6e69  4250)).- Fix Uni
-00026cd0: 636f 6465 4465 636f 6465 4572 726f 7220  codeDecodeError 
-00026ce0: 7768 656e 2070 6f73 7467 7265 7320 6973  when postgres is
-00026cf0: 2063 6f6e 6669 6775 7265 6420 746f 2067   configured to g
-00026d00: 6976 6520 6e6f 6e2d 456e 676c 6973 6820  ive non-English 
-00026d10: 6572 726f 7273 2028 5b5c 2334 3235 335d  errors ([\#4253]
-00026d20: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00026d30: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00026d40: 796e 6170 7365 2f69 7373 7565 732f 3432  ynapse/issues/42
-00026d50: 3533 2929 0a0a 0a49 6e74 6572 6e61 6c20  53))...Internal 
-00026d60: 4368 616e 6765 730a 2d2d 2d2d 2d2d 2d2d  Changes.--------
-00026d70: 2d2d 2d2d 2d2d 2d2d 0a0a 2d20 4465 6269  --------..- Debi
-00026d80: 616e 2070 6163 6b61 6765 7320 7574 696c  an packages util
-00026d90: 6973 696e 6720 6120 7669 7274 7561 6c65  ising a virtuale
-00026da0: 6e76 2077 6974 6820 6275 6e64 6c65 6420  nv with bundled 
-00026db0: 6465 7065 6e64 656e 6369 6573 2063 616e  dependencies can
-00026dc0: 206e 6f77 2062 6520 6275 696c 742e 2028   now be built. (
-00026dd0: 5b5c 2334 3231 325d 2868 7474 7073 3a2f  [\#4212](https:/
-00026de0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00026df0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00026e00: 7373 7565 732f 3432 3132 2929 0a2d 2044  ssues/4212)).- D
-00026e10: 6973 6162 6c65 2070 6167 6572 2077 6865  isable pager whe
-00026e20: 6e20 7275 6e6e 696e 6720 6769 742d 7368  n running git-sh
-00026e30: 6f77 2069 6e20 4349 2028 5b5c 2334 3239  ow in CI ([\#429
-00026e40: 315d 2868 7474 7073 3a2f 2f67 6974 6875  1](https://githu
-00026e50: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-00026e60: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-00026e70: 3432 3931 2929 0a2d 2041 2063 6f76 6572  4291)).- A cover
-00026e80: 6167 6572 6320 6669 6c65 2068 6173 2062  agerc file has b
-00026e90: 6565 6e20 6164 6465 642e 2028 5b5c 2334  een added. ([\#4
-00026ea0: 3138 305d 2868 7474 7073 3a2f 2f67 6974  180](https://git
-00026eb0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-00026ec0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-00026ed0: 732f 3431 3830 2929 0a2d 2041 6464 2061  s/4180)).- Add a
-00026ee0: 2047 6974 4875 6220 7075 6c6c 2072 6571   GitHub pull req
-00026ef0: 7565 7374 2074 656d 706c 6174 6520 616e  uest template an
-00026f00: 6420 6164 6420 6d75 6c74 6970 6c65 2069  d add multiple i
-00026f10: 7373 7565 2074 656d 706c 6174 6573 2028  ssue templates (
-00026f20: 5b5c 2334 3138 325d 2868 7474 7073 3a2f  [\#4182](https:/
-00026f30: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00026f40: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00026f50: 7373 7565 732f 3431 3832 2929 0a2d 2055  ssues/4182)).- U
-00026f60: 7064 6174 6520 5245 4144 4d45 2074 6f20  pdate README to 
-00026f70: 7265 666c 6563 7420 7468 6520 6661 6374  reflect the fact
-00026f80: 2074 6861 7420 5b5c 2331 3439 315d 2868   that [\#1491](h
-00026f90: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00026fa0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00026fb0: 6170 7365 2f69 7373 7565 732f 3134 3931  apse/issues/1491
-00026fc0: 2920 6973 2066 6978 6564 2028 5b5c 2334  ) is fixed ([\#4
-00026fd0: 3138 385d 2868 7474 7073 3a2f 2f67 6974  188](https://git
-00026fe0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-00026ff0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-00027000: 732f 3431 3838 2929 0a2d 2052 756e 2074  s/4188)).- Run t
-00027010: 6865 2041 5320 7365 6e64 6572 7320 6173  he AS senders as
-00027020: 2062 6163 6b67 726f 756e 6420 7072 6f63   background proc
-00027030: 6573 7365 7320 746f 2066 6978 2077 6172  esses to fix war
-00027040: 6e69 6e67 7320 285b 5c23 3431 3839 5d28  nings ([\#4189](
-00027050: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00027060: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-00027070: 6e61 7073 652f 6973 7375 6573 2f34 3138  napse/issues/418
-00027080: 3929 290a 2d20 4164 6420 736f 6d65 2064  9)).- Add some d
-00027090: 6961 676e 6f73 7469 6373 2074 6f20 7468  iagnostics to th
-000270a0: 6520 7465 7374 7320 746f 2064 6574 6563  e tests to detec
-000270b0: 7420 6c6f 6763 6f6e 7465 7874 2070 726f  t logcontext pro
-000270c0: 626c 656d 7320 285b 5c23 3431 3930 5d28  blems ([\#4190](
-000270d0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-000270e0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-000270f0: 6e61 7073 652f 6973 7375 6573 2f34 3139  napse/issues/419
-00027100: 3029 290a 2d20 4164 6420 6d69 7373 696e  0)).- Add missin
-00027110: 6720 606a 7065 6760 2070 6163 6b61 6765  g `jpeg` package
-00027120: 2070 7265 7265 7175 6973 6974 6520 666f   prerequisite fo
-00027130: 7220 4f70 656e 4253 4420 696e 2052 4541  r OpenBSD in REA
-00027140: 444d 452e 2028 5b5c 2334 3139 335d 2868  DME. ([\#4193](h
-00027150: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00027160: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00027170: 6170 7365 2f69 7373 7565 732f 3431 3933  apse/issues/4193
-00027180: 2929 0a2d 2041 6464 2061 206e 6f74 6520  )).- Add a note 
-00027190: 7361 7969 6e67 2079 6f75 206e 6565 6420  saying you need 
-000271a0: 746f 206d 616e 7561 6c6c 7920 7265 636c  to manually recl
-000271b0: 6169 6d20 6469 736b 2073 7061 6365 2061  aim disk space a
-000271c0: 6674 6572 2075 7369 6e67 2074 6865 2050  fter using the P
-000271d0: 7572 6765 2048 6973 746f 7279 2041 5049  urge History API
-000271e0: 2028 5b5c 2334 3230 305d 2868 7474 7073   ([\#4200](https
-000271f0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00027200: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00027210: 2f69 7373 7565 732f 3432 3030 2929 0a2d  /issues/4200)).-
-00027220: 204d 6f72 6520 6c6f 6763 6f6e 7465 7874   More logcontext
-00027230: 2063 6865 636b 696e 6720 696e 2075 6e69   checking in uni
-00027240: 7474 6573 7473 2028 5b5c 2334 3230 355d  ttests ([\#4205]
-00027250: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00027260: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00027270: 796e 6170 7365 2f69 7373 7565 732f 3432  ynapse/issues/42
-00027280: 3035 2929 0a2d 2049 676e 6f72 6520 605f  05)).- Ignore `_
-00027290: 5f70 7963 6163 6865 5f5f 6020 6469 7265  _pycache__` dire
-000272a0: 6374 6f72 6965 7320 696e 2074 6865 2064  ctories in the d
-000272b0: 6174 6162 6173 6520 7363 6865 6d61 2066  atabase schema f
-000272c0: 6f6c 6465 7220 285b 5c23 3432 3134 5d28  older ([\#4214](
-000272d0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-000272e0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-000272f0: 6e61 7073 652f 6973 7375 6573 2f34 3231  napse/issues/421
-00027300: 3429 290a 2d20 4164 6420 6e6f 7465 2074  4)).- Add note t
-00027310: 6f20 5550 4752 4144 452e 7273 7420 6162  o UPGRADE.rst ab
-00027320: 6f75 7420 7265 6d6f 7669 6e67 2072 696f  out removing rio
-00027330: 742e 696d 2066 726f 6d20 6c69 7374 206f  t.im from list o
-00027340: 6620 7472 7573 7465 6420 6964 656e 7469  f trusted identi
-00027350: 7479 2073 6572 7665 7273 2028 5b5c 2334  ty servers ([\#4
-00027360: 3232 345d 2868 7474 7073 3a2f 2f67 6974  224](https://git
-00027370: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-00027380: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-00027390: 732f 3432 3234 2929 0a2d 2041 6464 6564  s/4224)).- Added
-000273a0: 2061 7574 6f6d 6174 6564 2063 6f76 6572   automated cover
-000273b0: 6167 6520 7265 706f 7274 696e 6720 746f  age reporting to
-000273c0: 2043 492e 2028 5b5c 2334 3232 355d 2868   CI. ([\#4225](h
-000273d0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-000273e0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-000273f0: 6170 7365 2f69 7373 7565 732f 3432 3235  apse/issues/4225
-00027400: 2929 0a2d 2047 6172 6261 6765 2d63 6f6c  )).- Garbage-col
-00027410: 6c65 6374 2061 6674 6572 2065 6163 6820  lect after each 
-00027420: 756e 6974 2074 6573 7420 746f 2066 6978  unit test to fix
-00027430: 206c 6f67 636f 6e74 6578 7420 6c65 616b   logcontext leak
-00027440: 7320 285b 5c23 3432 3237 5d28 6874 7470  s ([\#4227](http
-00027450: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00027460: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00027470: 652f 6973 7375 6573 2f34 3232 3729 290a  e/issues/4227)).
-00027480: 2d20 6164 6420 6d6f 7265 2064 6574 6169  - add more detai
-00027490: 6c20 746f 206c 6f67 6769 6e67 2072 6567  l to logging reg
-000274a0: 6172 6469 6e67 2022 4d6f 7265 2074 6861  arding "More tha
-000274b0: 6e20 6f6e 6520 726f 7720 6d61 7463 6865  n one row matche
-000274c0: 6422 2065 7272 6f72 2028 5b5c 2334 3233  d" error ([\#423
-000274d0: 345d 2868 7474 7073 3a2f 2f67 6974 6875  4](https://githu
-000274e0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-000274f0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-00027500: 3432 3334 2929 0a2d 2044 726f 7020 7365  4234)).- Drop se
-00027510: 6e74 5f74 7261 6e73 6163 7469 6f6e 7320  nt_transactions 
-00027520: 7461 626c 6520 285b 5c23 3432 3434 5d28  table ([\#4244](
-00027530: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00027540: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-00027550: 6e61 7073 652f 6973 7375 6573 2f34 3234  napse/issues/424
-00027560: 3429 290a 2d20 4164 6420 6120 6261 7369  4)).- Add a basi
-00027570: 6320 2e65 6469 746f 7263 6f6e 6669 6720  c .editorconfig 
-00027580: 285b 5c23 3432 3537 5d28 6874 7470 733a  ([\#4257](https:
-00027590: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-000275a0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-000275b0: 6973 7375 6573 2f34 3235 3729 290a 2d20  issues/4257)).- 
-000275c0: 5570 6461 7465 2052 4541 444d 452e 7273  Update README.rs
-000275d0: 7420 616e 6420 5550 4752 4144 452e 7273  t and UPGRADE.rs
-000275e0: 7420 666f 7220 5079 7468 6f6e 2033 2e20  t for Python 3. 
-000275f0: 285b 5c23 3432 3630 5d28 6874 7470 733a  ([\#4260](https:
-00027600: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00027610: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00027620: 6973 7375 6573 2f34 3236 3029 290a 2d20  issues/4260)).- 
-00027630: 5265 6d6f 7665 206f 6273 6f6c 6574 6520  Remove obsolete 
-00027640: 6076 6572 626f 7365 6020 616e 6420 606c  `verbose` and `l
-00027650: 6f67 5f66 696c 6560 2073 6574 7469 6e67  og_file` setting
-00027660: 7320 6672 6f6d 2060 686f 6d65 7365 7276  s from `homeserv
-00027670: 6572 2e79 616d 6c60 2066 6f72 2044 6f63  er.yaml` for Doc
-00027680: 6b65 7220 696d 6167 652e 2028 5b5c 2334  ker image. ([\#4
-00027690: 3236 315d 2868 7474 7073 3a2f 2f67 6974  261](https://git
-000276a0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-000276b0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-000276c0: 732f 3432 3631 2929 0a0a 0a53 796e 6170  s/4261))...Synap
-000276d0: 7365 2030 2e33 332e 3920 2832 3031 382d  se 0.33.9 (2018-
-000276e0: 3131 2d31 3929 0a3d 3d3d 3d3d 3d3d 3d3d  11-19).=========
-000276f0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00027700: 3d3d 0a0a 4e6f 2073 6967 6e69 6669 6361  ==..No significa
-00027710: 6e74 2063 6861 6e67 6573 2e0a 0a0a 5379  nt changes....Sy
-00027720: 6e61 7073 6520 302e 3333 2e39 7263 3120  napse 0.33.9rc1 
-00027730: 2832 3031 382d 3131 2d31 3429 0a3d 3d3d  (2018-11-14).===
-00027740: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00027750: 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a46 6561  ===========..Fea
-00027760: 7475 7265 730a 2d2d 2d2d 2d2d 2d2d 0a0a  tures.--------..
-00027770: 2d20 496e 636c 7564 6520 666c 6167 7320  - Include flags 
-00027780: 746f 206f 7074 696f 6e61 6c6c 7920 6164  to optionally ad
-00027790: 6420 606d 2e6c 6f67 696e 2e74 6572 6d73  d `m.login.terms
-000277a0: 6020 746f 2074 6865 2072 6567 6973 7472  ` to the registr
-000277b0: 6174 696f 6e20 666c 6f77 2077 6865 6e20  ation flow when 
-000277c0: 636f 6e73 656e 7420 7472 6163 6b69 6e67  consent tracking
-000277d0: 2069 7320 656e 6162 6c65 642e 2028 5b5c   is enabled. ([\
-000277e0: 2334 3030 345d 2868 7474 7073 3a2f 2f67  #4004](https://g
-000277f0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-00027800: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-00027810: 7565 732f 3430 3034 292c 205b 5c23 3431  ues/4004), [\#41
-00027820: 3333 5d28 6874 7470 733a 2f2f 6769 7468  33](https://gith
-00027830: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00027840: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00027850: 2f34 3133 3329 2c20 5b5c 2334 3134 325d  /4133), [\#4142]
-00027860: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00027870: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00027880: 796e 6170 7365 2f69 7373 7565 732f 3431  ynapse/issues/41
-00027890: 3432 292c 205b 5c23 3431 3834 5d28 6874  42), [\#4184](ht
+00021d40: 3436 3134 2929 0a0a 0a42 7567 6669 7865  4614))...Bugfixe
+00021d50: 730a 2d2d 2d2d 2d2d 2d2d 0a0a 2d20 436f  s.--------..- Co
+00021d60: 7079 206f 7665 7220 726f 6f6d 2066 6564  py over room fed
+00021d70: 6572 6174 696f 6e20 6162 696c 6974 7920  eration ability 
+00021d80: 6f6e 2072 6f6f 6d20 7570 6772 6164 652e  on room upgrade.
+00021d90: 2028 5b5c 2334 3533 305d 2868 7474 7073   ([\#4530](https
+00021da0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00021db0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00021dc0: 2f69 7373 7565 732f 3435 3330 2929 0a2d  /issues/4530)).-
+00021dd0: 2046 6978 206e 6f69 7379 2022 7477 6973   Fix noisy "twis
+00021de0: 7465 642e 696e 7465 726e 6574 2e74 6173  ted.internet.tas
+00021df0: 6b2e 5461 736b 5374 6f70 7065 6422 2065  k.TaskStopped" e
+00021e00: 7272 6f72 7320 696e 206c 6f67 7320 285b  rrors in logs ([
+00021e10: 5c23 3435 3436 5d28 6874 7470 733a 2f2f  \#4546](https://
+00021e20: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00021e30: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00021e40: 7375 6573 2f34 3534 3629 290a 2d20 5379  sues/4546)).- Sy
+00021e50: 6e61 7073 6520 6973 206e 6f77 2074 6f6c  napse is now tol
+00021e60: 6572 616e 7420 6f66 2074 6865 2060 746c  erant of the `tl
+00021e70: 735f 6669 6e67 6572 7072 696e 7473 6020  s_fingerprints` 
+00021e80: 6f70 7469 6f6e 2062 6569 6e67 204e 6f6e  option being Non
+00021e90: 6520 6f72 206e 6f74 2073 7065 6369 6669  e or not specifi
+00021ea0: 6564 2e20 285b 5c23 3435 3839 5d28 6874  ed. ([\#4589](ht
+00021eb0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00021ec0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+00021ed0: 7073 652f 6973 7375 6573 2f34 3538 3929  pse/issues/4589)
+00021ee0: 290a 2d20 4669 7820 276e 6f20 756e 6971  ).- Fix 'no uniq
+00021ef0: 7565 206f 7220 6578 636c 7573 696f 6e20  ue or exclusion 
+00021f00: 636f 6e73 7472 6169 6e74 2720 6572 726f  constraint' erro
+00021f10: 7220 285b 5c23 3435 3931 5d28 6874 7470  r ([\#4591](http
+00021f20: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+00021f30: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+00021f40: 652f 6973 7375 6573 2f34 3539 3129 290a  e/issues/4591)).
+00021f50: 2d20 5472 616e 7366 6572 2053 6572 7665  - Transfer Serve
+00021f60: 7220 4143 4c73 206f 6e20 726f 6f6d 2075  r ACLs on room u
+00021f70: 7067 7261 6465 2e20 285b 5c23 3436 3038  pgrade. ([\#4608
+00021f80: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00021f90: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00021fa0: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
+00021fb0: 3630 3829 290a 2d20 4669 7820 6661 696c  608)).- Fix fail
+00021fc0: 7572 6520 746f 2073 7461 7274 2077 6865  ure to start whe
+00021fd0: 6e20 6e6f 7420 544c 5320 6365 7274 6966  n not TLS certif
+00021fe0: 6963 6174 6520 7761 7320 6769 7665 6e20  icate was given 
+00021ff0: 6576 656e 2069 6620 544c 5320 7761 7320  even if TLS was 
+00022000: 6469 7361 626c 6564 2e20 285b 5c23 3436  disabled. ([\#46
+00022010: 3138 5d28 6874 7470 733a 2f2f 6769 7468  18](https://gith
+00022020: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00022030: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00022040: 2f34 3631 3829 290a 2d20 4669 7820 7365  /4618)).- Fix se
+00022050: 6c66 2d73 6967 6e65 6420 6365 7274 206e  lf-signed cert n
+00022060: 6f74 6963 6520 6672 6f6d 2067 656e 6572  otice from gener
+00022070: 6174 652d 636f 6e66 6967 2e20 285b 5c23  ate-config. ([\#
+00022080: 3436 3235 5d28 6874 7470 733a 2f2f 6769  4625](https://gi
+00022090: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+000220a0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+000220b0: 6573 2f34 3632 3529 290a 2d20 4669 7820  es/4625)).- Fix 
+000220c0: 7065 7266 6f72 6d61 6e63 6520 6f66 2060  performance of `
+000220d0: 7573 6572 5f69 7073 6020 7461 626c 6520  user_ips` table 
+000220e0: 6465 6475 706c 6963 6174 696f 6e20 6261  deduplication ba
+000220f0: 636b 6772 6f75 6e64 2075 7064 6174 6520  ckground update 
+00022100: 285b 5c23 3436 3236 5d28 6874 7470 733a  ([\#4626](https:
+00022110: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00022120: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00022130: 6973 7375 6573 2f34 3632 3629 2c20 5b5c  issues/4626), [\
+00022140: 2334 3632 375d 2868 7474 7073 3a2f 2f67  #4627](https://g
+00022150: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00022160: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00022170: 7565 732f 3436 3237 2929 0a0a 0a49 6e74  ues/4627))...Int
+00022180: 6572 6e61 6c20 4368 616e 6765 730a 2d2d  ernal Changes.--
+00022190: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 0a0a  --------------..
+000221a0: 2d20 4368 616e 6765 2074 6865 2075 7365  - Change the use
+000221b0: 7220 6469 7265 6374 6f72 7920 7374 6174  r directory stat
+000221c0: 6520 7175 6572 7920 746f 2075 7365 2061  e query to use a
+000221d0: 2066 696c 7465 7265 6420 6361 6c6c 2074   filtered call t
+000221e0: 6f20 7468 6520 6462 2069 6e73 7465 6164  o the db instead
+000221f0: 206f 6620 6120 6765 6e65 7269 6320 6f6e   of a generic on
+00022200: 652e 2028 5b5c 2334 3436 325d 2868 7474  e. ([\#4462](htt
+00022210: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00022220: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00022230: 7365 2f69 7373 7565 732f 3434 3632 2929  se/issues/4462))
+00022240: 0a2d 2052 656a 6563 7420 6665 6465 7261  .- Reject federa
+00022250: 7469 6f6e 2074 7261 6e73 6163 7469 6f6e  tion transaction
+00022260: 7320 6966 2074 6865 7920 696e 636c 7564  s if they includ
+00022270: 6520 6d6f 7265 2074 6861 6e20 3530 2050  e more than 50 P
+00022280: 4455 7320 6f72 2031 3030 2045 4455 732e  DUs or 100 EDUs.
+00022290: 2028 5b5c 2334 3531 335d 2868 7474 7073   ([\#4513](https
+000222a0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+000222b0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+000222c0: 2f69 7373 7565 732f 3435 3133 2929 0a2d  /issues/4513)).-
+000222d0: 2052 6564 7563 6520 6475 706c 6963 6174   Reduce duplicat
+000222e0: 696f 6e20 6f66 2060 6073 796e 6170 7365  ion of ``synapse
+000222f0: 2e61 7070 6060 2063 6f64 652e 2028 5b5c  .app`` code. ([\
+00022300: 2334 3536 375d 2868 7474 7073 3a2f 2f67  #4567](https://g
+00022310: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00022320: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00022330: 7565 732f 3435 3637 2929 0a2d 2046 6978  ues/4567)).- Fix
+00022340: 2064 6f63 6b65 7220 7570 6c6f 6164 206a   docker upload j
+00022350: 6f62 2074 6f20 7075 7368 202d 7079 3220  ob to push -py2 
+00022360: 696d 6167 6573 2e20 285b 5c23 3435 3736  images. ([\#4576
+00022370: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00022380: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00022390: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
+000223a0: 3537 3629 290a 2d20 4164 6420 706f 7274  576)).- Add port
+000223b0: 2063 6f6e 6669 6775 7261 7469 6f6e 2069   configuration i
+000223c0: 6e66 6f72 6d61 7469 6f6e 2074 6f20 4143  nformation to AC
+000223d0: 4d45 2069 6e73 7472 7563 7469 6f6e 732e  ME instructions.
+000223e0: 2028 5b5c 2334 3537 385d 2868 7474 7073   ([\#4578](https
+000223f0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00022400: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00022410: 2f69 7373 7565 732f 3435 3738 2929 0a2d  /issues/4578)).-
+00022420: 2055 7064 6174 6520 4d53 4331 3731 3120   Update MSC1711 
+00022430: 4641 5120 746f 2063 616c 7269 6679 202e  FAQ to calrify .
+00022440: 7765 6c6c 2d6b 6e6f 776e 2075 7361 6765  well-known usage
+00022450: 2028 5b5c 2334 3538 345d 2868 7474 7073   ([\#4584](https
+00022460: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00022470: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00022480: 2f69 7373 7565 732f 3435 3834 2929 0a2d  /issues/4584)).-
+00022490: 2043 6c65 616e 2075 7020 6465 6661 756c   Clean up defaul
+000224a0: 7420 6c69 7374 656e 6572 2063 6f6e 6669  t listener confi
+000224b0: 6775 7261 7469 6f6e 2028 5b5c 2334 3538  guration ([\#458
+000224c0: 365d 2868 7474 7073 3a2f 2f67 6974 6875  6](https://githu
+000224d0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+000224e0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+000224f0: 3435 3836 2929 0a2d 2043 6c61 7269 6669  4586)).- Clarifi
+00022500: 6361 7469 6f6e 7320 666f 7220 7265 7665  cations for reve
+00022510: 7273 6520 7072 6f78 7920 646f 6373 2028  rse proxy docs (
+00022520: 5b5c 2334 3630 375d 2868 7474 7073 3a2f  [\#4607](https:/
+00022530: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+00022540: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00022550: 7373 7565 732f 3436 3037 2929 0a2d 204d  ssues/4607)).- M
+00022560: 6f76 6520 436c 6965 6e74 544c 534f 7074  ove ClientTLSOpt
+00022570: 696f 6e73 4661 6374 6f72 7920 696e 6974  ionsFactory init
+00022580: 206f 7574 206f 6620 6072 6566 7265 7368   out of `refresh
+00022590: 5f63 6572 7469 6669 6361 7465 7360 2028  _certificates` (
+000225a0: 5b5c 2334 3631 315d 2868 7474 7073 3a2f  [\#4611](https:/
+000225b0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+000225c0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+000225d0: 7373 7565 732f 3436 3131 2929 0a2d 2046  ssues/4611)).- F
+000225e0: 6169 6c20 636c 6561 6e6c 7920 6966 206c  ail cleanly if l
+000225f0: 6973 7465 6e65 7220 636f 6e66 6967 206c  istener config l
+00022600: 6163 6b73 2061 2027 706f 7274 2720 285b  acks a 'port' ([
+00022610: 5c23 3436 3136 5d28 6874 7470 733a 2f2f  \#4616](https://
+00022620: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00022630: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00022640: 7375 6573 2f34 3631 3629 290a 2d20 5265  sues/4616)).- Re
+00022650: 6d6f 7665 2072 6564 756e 6461 6e74 2065  move redundant e
+00022660: 6e74 7269 6573 2066 726f 6d20 646f 636b  ntries from dock
+00022670: 6572 2063 6f6e 6669 6720 285b 5c23 3436  er config ([\#46
+00022680: 3139 5d28 6874 7470 733a 2f2f 6769 7468  19](https://gith
+00022690: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+000226a0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+000226b0: 2f34 3631 3929 290a 2d20 5245 4144 4d45  /4619)).- README
+000226c0: 2075 7064 6174 6573 2028 5b5c 2334 3632   updates ([\#462
+000226d0: 315d 2868 7474 7073 3a2f 2f67 6974 6875  1](https://githu
+000226e0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+000226f0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00022700: 3436 3231 2929 0a0a 0a53 796e 6170 7365  4621))...Synapse
+00022710: 2030 2e39 392e 3020 2832 3031 392d 3032   0.99.0 (2019-02
+00022720: 2d30 3529 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d  -05).===========
+00022730: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00022740: 0a0a 5379 6e61 7073 6520 7630 2e39 392e  ..Synapse v0.99.
+00022750: 7820 6973 2061 2070 7265 6375 7273 6f72  x is a precursor
+00022760: 2074 6f20 7468 6520 7570 636f 6d69 6e67   to the upcoming
+00022770: 2053 796e 6170 7365 2076 312e 3020 7265   Synapse v1.0 re
+00022780: 6c65 6173 652e 2049 7420 636f 6e74 6169  lease. It contai
+00022790: 6e73 2066 6f75 6e64 6174 696f 6e61 6c20  ns foundational 
+000227a0: 6368 616e 6765 7320 746f 2072 6f6f 6d20  changes to room 
+000227b0: 6172 6368 6974 6563 7475 7265 2061 6e64  architecture and
+000227c0: 2074 6865 2066 6564 6572 6174 696f 6e20   the federation 
+000227d0: 7365 6375 7269 7479 206d 6f64 656c 206e  security model n
+000227e0: 6563 6573 7361 7279 2074 6f20 7375 7070  ecessary to supp
+000227f0: 6f72 7420 7468 6520 7570 636f 6d69 6e67  ort the upcoming
+00022800: 2072 3020 7265 6c65 6173 6520 6f66 2074   r0 release of t
+00022810: 6865 2053 6572 7665 7220 746f 2053 6572  he Server to Ser
+00022820: 7665 7220 4150 492e 0a0a 4665 6174 7572  ver API...Featur
+00022830: 6573 0a2d 2d2d 2d2d 2d2d 2d0a 0a2d 2053  es.--------..- S
+00022840: 796e 6170 7365 2773 2063 6970 6865 7220  ynapse's cipher 
+00022850: 7374 7269 6e67 2068 6173 2062 6565 6e20  string has been 
+00022860: 7570 6461 7465 6420 746f 2072 6571 7569  updated to requi
+00022870: 7265 2045 4344 4820 6b65 7920 6578 6368  re ECDH key exch
+00022880: 616e 6765 2e20 436f 6e66 6967 7572 696e  ange. Configurin
+00022890: 6720 616e 6420 6765 6e65 7261 7469 6e67  g and generating
+000228a0: 2064 685f 7061 7261 6d73 2069 7320 6e6f   dh_params is no
+000228b0: 206c 6f6e 6765 7220 7265 7175 6972 6564   longer required
+000228c0: 2c20 616e 6420 7468 6579 2077 696c 6c20  , and they will 
+000228d0: 6265 2069 676e 6f72 6564 2e20 285b 5c23  be ignored. ([\#
+000228e0: 3432 3239 5d28 6874 7470 733a 2f2f 6769  4229](https://gi
+000228f0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+00022900: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+00022910: 6573 2f34 3232 3929 290a 2d20 5379 6e61  es/4229)).- Syna
+00022920: 7073 6520 6361 6e20 6e6f 7720 6175 746f  pse can now auto
+00022930: 6d61 7469 6361 6c6c 7920 7072 6f76 6973  matically provis
+00022940: 696f 6e20 544c 5320 6365 7274 6966 6963  ion TLS certific
+00022950: 6174 6573 2076 6961 2041 434d 4520 2874  ates via ACME (t
+00022960: 6865 2070 726f 746f 636f 6c20 7573 6564  he protocol used
+00022970: 2062 7920 4341 7320 6c69 6b65 204c 6574   by CAs like Let
+00022980: 2773 2045 6e63 7279 7074 292e 2028 5b5c  's Encrypt). ([\
+00022990: 2334 3338 345d 2868 7474 7073 3a2f 2f67  #4384](https://g
+000229a0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+000229b0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+000229c0: 7565 732f 3433 3834 292c 205b 5c23 3434  ues/4384), [\#44
+000229d0: 3932 5d28 6874 7470 733a 2f2f 6769 7468  92](https://gith
+000229e0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+000229f0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00022a00: 2f34 3439 3229 2c20 5b5c 2334 3532 355d  /4492), [\#4525]
+00022a10: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00022a20: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+00022a30: 796e 6170 7365 2f69 7373 7565 732f 3435  ynapse/issues/45
+00022a40: 3235 292c 205b 5c23 3435 3732 5d28 6874  25), [\#4572](ht
+00022a50: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00022a60: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+00022a70: 7073 652f 6973 7375 6573 2f34 3537 3229  pse/issues/4572)
+00022a80: 2c20 5b5c 2334 3536 345d 2868 7474 7073  , [\#4564](https
+00022a90: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00022aa0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00022ab0: 2f69 7373 7565 732f 3435 3634 292c 205b  /issues/4564), [
+00022ac0: 5c23 3435 3636 5d28 6874 7470 733a 2f2f  \#4566](https://
+00022ad0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00022ae0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00022af0: 7375 6573 2f34 3536 3629 2c20 5b5c 2334  sues/4566), [\#4
+00022b00: 3534 375d 2868 7474 7073 3a2f 2f67 6974  547](https://git
+00022b10: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00022b20: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+00022b30: 732f 3435 3437 292c 205b 5c23 3435 3537  s/4547), [\#4557
+00022b40: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00022b50: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00022b60: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
+00022b70: 3535 3729 290a 2d20 496d 706c 656d 656e  557)).- Implemen
+00022b80: 7420 4d53 4331 3730 3820 282e 7765 6c6c  t MSC1708 (.well
+00022b90: 2d6b 6e6f 776e 2072 6f75 7469 6e67 2066  -known routing f
+00022ba0: 6f72 2073 6572 7665 722d 7365 7276 6572  or server-server
+00022bb0: 2066 6564 6572 6174 696f 6e29 2028 5b5c   federation) ([\
+00022bc0: 2334 3430 385d 2868 7474 7073 3a2f 2f67  #4408](https://g
+00022bd0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00022be0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00022bf0: 7565 732f 3434 3038 292c 205b 5c23 3434  ues/4408), [\#44
+00022c00: 3039 5d28 6874 7470 733a 2f2f 6769 7468  09](https://gith
+00022c10: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00022c20: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00022c30: 2f34 3430 3929 2c20 5b5c 2334 3432 365d  /4409), [\#4426]
+00022c40: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00022c50: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+00022c60: 796e 6170 7365 2f69 7373 7565 732f 3434  ynapse/issues/44
+00022c70: 3236 292c 205b 5c23 3434 3237 5d28 6874  26), [\#4427](ht
+00022c80: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00022c90: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+00022ca0: 7073 652f 6973 7375 6573 2f34 3432 3729  pse/issues/4427)
+00022cb0: 2c20 5b5c 2334 3432 385d 2868 7474 7073  , [\#4428](https
+00022cc0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00022cd0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00022ce0: 2f69 7373 7565 732f 3434 3238 292c 205b  /issues/4428), [
+00022cf0: 5c23 3434 3634 5d28 6874 7470 733a 2f2f  \#4464](https://
+00022d00: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00022d10: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00022d20: 7375 6573 2f34 3436 3429 2c20 5b5c 2334  sues/4464), [\#4
+00022d30: 3436 385d 2868 7474 7073 3a2f 2f67 6974  468](https://git
+00022d40: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00022d50: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+00022d60: 732f 3434 3638 292c 205b 5c23 3434 3837  s/4468), [\#4487
+00022d70: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00022d80: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00022d90: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
+00022da0: 3438 3729 2c20 5b5c 2334 3438 385d 2868  487), [\#4488](h
+00022db0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00022dc0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+00022dd0: 6170 7365 2f69 7373 7565 732f 3434 3838  apse/issues/4488
+00022de0: 292c 205b 5c23 3434 3839 5d28 6874 7470  ), [\#4489](http
+00022df0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+00022e00: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+00022e10: 652f 6973 7375 6573 2f34 3438 3929 2c20  e/issues/4489), 
+00022e20: 5b5c 2334 3439 375d 2868 7474 7073 3a2f  [\#4497](https:/
+00022e30: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+00022e40: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00022e50: 7373 7565 732f 3434 3937 292c 205b 5c23  ssues/4497), [\#
+00022e60: 3435 3131 5d28 6874 7470 733a 2f2f 6769  4511](https://gi
+00022e70: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+00022e80: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+00022e90: 6573 2f34 3531 3129 2c20 5b5c 2334 3531  es/4511), [\#451
+00022ea0: 365d 2868 7474 7073 3a2f 2f67 6974 6875  6](https://githu
+00022eb0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00022ec0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00022ed0: 3435 3136 292c 205b 5c23 3435 3230 5d28  4516), [\#4520](
+00022ee0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00022ef0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00022f00: 6e61 7073 652f 6973 7375 6573 2f34 3532  napse/issues/452
+00022f10: 3029 2c20 5b5c 2334 3532 315d 2868 7474  0), [\#4521](htt
+00022f20: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00022f30: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00022f40: 7365 2f69 7373 7565 732f 3435 3231 292c  se/issues/4521),
+00022f50: 205b 5c23 3435 3339 5d28 6874 7470 733a   [\#4539](https:
+00022f60: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00022f70: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00022f80: 6973 7375 6573 2f34 3533 3929 2c20 5b5c  issues/4539), [\
+00022f90: 2334 3534 325d 2868 7474 7073 3a2f 2f67  #4542](https://g
+00022fa0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00022fb0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00022fc0: 7565 732f 3435 3432 292c 205b 5c23 3435  ues/4542), [\#45
+00022fd0: 3434 5d28 6874 7470 733a 2f2f 6769 7468  44](https://gith
+00022fe0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00022ff0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00023000: 2f34 3534 3429 290a 2d20 5365 6172 6368  /4544)).- Search
+00023010: 206e 6f77 2069 6e63 6c75 6465 7320 7265   now includes re
+00023020: 7375 6c74 7320 6672 6f6d 2070 7265 6465  sults from prede
+00023030: 6365 7373 6f72 2072 6f6f 6d73 2061 6674  cessor rooms aft
+00023040: 6572 2061 2072 6f6f 6d20 7570 6772 6164  er a room upgrad
+00023050: 652e 2028 5b5c 2334 3431 355d 2868 7474  e. ([\#4415](htt
+00023060: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00023070: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00023080: 7365 2f69 7373 7565 732f 3434 3135 2929  se/issues/4415))
+00023090: 0a2d 2043 6f6e 6669 6720 6f70 7469 6f6e  .- Config option
+000230a0: 2074 6f20 6469 7361 626c 6520 7265 7175   to disable requ
+000230b0: 6573 7469 6e67 204d 5349 5344 4e20 6f6e  esting MSISDN on
+000230c0: 2072 6567 6973 7472 6174 696f 6e2e 2028   registration. (
+000230d0: 5b5c 2334 3432 335d 2868 7474 7073 3a2f  [\#4423](https:/
+000230e0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+000230f0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00023100: 7373 7565 732f 3434 3233 2929 0a2d 2041  ssues/4423)).- A
+00023110: 6464 2061 206d 6574 7269 6320 666f 7220  dd a metric for 
+00023120: 7472 6163 6b69 6e67 2065 7665 6e74 2073  tracking event s
+00023130: 7472 6561 6d20 706f 7369 7469 6f6e 206f  tream position o
+00023140: 6620 7468 6520 7573 6572 2064 6972 6563  f the user direc
+00023150: 746f 7279 2e20 285b 5c23 3434 3435 5d28  tory. ([\#4445](
+00023160: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00023170: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00023180: 6e61 7073 652f 6973 7375 6573 2f34 3434  napse/issues/444
+00023190: 3529 290a 2d20 5375 7070 6f72 7420 6578  5)).- Support ex
+000231a0: 706f 7369 6e67 2073 6572 7665 7220 6361  posing server ca
+000231b0: 7061 6269 6c69 7469 6573 2069 6e20 4353  pabilities in CS
+000231c0: 2041 5049 2028 4d53 4331 3735 332c 204d   API (MSC1753, M
+000231d0: 5343 3138 3034 2920 285b 5c23 3434 3732  SC1804) ([\#4472
+000231e0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+000231f0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00023200: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
+00023210: 3437 3229 2c20 5b38 3162 3765 3765 6564  472), [81b7e7eed
+00023220: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00023230: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00023240: 7379 6e61 7073 652f 636f 6d6d 6974 2f38  synapse/commit/8
+00023250: 3162 3765 3765 6564 3332 3366 3535 6436  1b7e7eed323f55d6
+00023260: 3535 3065 3761 3237 3061 3964 6332 6334  550e7a270a9dc2c4
+00023270: 6337 6230 6665 3029 2929 0a2d 2041 6464  c7b0fe0))).- Add
+00023280: 2073 7570 706f 7274 2066 6f72 2072 6f6f   support for roo
+00023290: 6d20 7665 7273 696f 6e20 3320 285b 5c23  m version 3 ([\#
+000232a0: 3434 3833 5d28 6874 7470 733a 2f2f 6769  4483](https://gi
+000232b0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+000232c0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+000232d0: 6573 2f34 3438 3329 2c20 5b5c 2334 3439  es/4483), [\#449
+000232e0: 395d 2868 7474 7073 3a2f 2f67 6974 6875  9](https://githu
+000232f0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00023300: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00023310: 3434 3939 292c 205b 5c23 3435 3135 5d28  4499), [\#4515](
+00023320: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00023330: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00023340: 6e61 7073 652f 6973 7375 6573 2f34 3531  napse/issues/451
+00023350: 3529 2c20 5b5c 2334 3532 335d 2868 7474  5), [\#4523](htt
+00023360: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00023370: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00023380: 7365 2f69 7373 7565 732f 3435 3233 292c  se/issues/4523),
+00023390: 205b 5c23 3435 3335 5d28 6874 7470 733a   [\#4535](https:
+000233a0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+000233b0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+000233c0: 6973 7375 6573 2f34 3533 3529 290a 2d20  issues/4535)).- 
+000233d0: 5379 6e61 7073 6520 7769 6c6c 206e 6f77  Synapse will now
+000233e0: 2072 656c 6f61 6420 544c 5320 6365 7274   reload TLS cert
+000233f0: 6966 6963 6174 6573 2066 726f 6d20 6469  ificates from di
+00023400: 736b 2075 706f 6e20 5349 4748 5550 2e20  sk upon SIGHUP. 
+00023410: 285b 5c23 3434 3935 5d28 6874 7470 733a  ([\#4495](https:
+00023420: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00023430: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00023440: 6973 7375 6573 2f34 3439 3529 2c20 5b5c  issues/4495), [\
+00023450: 2334 3532 345d 2868 7474 7073 3a2f 2f67  #4524](https://g
+00023460: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00023470: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00023480: 7565 732f 3435 3234 2929 0a2d 2054 6865  ues/4524)).- The
+00023490: 206d 6174 7269 7864 6f74 6f72 672f 7379   matrixdotorg/sy
+000234a0: 6e61 7073 6520 446f 636b 6572 2069 6d61  napse Docker ima
+000234b0: 6765 7320 6e6f 7720 7573 6520 5079 7468  ges now use Pyth
+000234c0: 6f6e 2033 2062 7920 6465 6661 756c 742e  on 3 by default.
+000234d0: 2028 5b5c 2334 3535 385d 2868 7474 7073   ([\#4558](https
+000234e0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+000234f0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00023500: 2f69 7373 7565 732f 3435 3538 2929 0a0a  /issues/4558))..
+00023510: 4275 6766 6978 6573 0a2d 2d2d 2d2d 2d2d  Bugfixes.-------
+00023520: 2d0a 0a2d 2050 7265 7665 6e74 2075 7365  -..- Prevent use
+00023530: 7273 2077 6974 6820 6163 6365 7373 2074  rs with access t
+00023540: 6f6b 656e 7320 7072 6564 6174 696e 6720  okens predating 
+00023550: 7468 6520 696e 7472 6f64 7563 7469 6f6e  the introduction
+00023560: 206f 6620 6465 7669 6365 2049 4473 2066   of device IDs f
+00023570: 726f 6d20 6372 6561 7469 6e67 2073 7075  rom creating spu
+00023580: 7269 6f75 7320 656e 7472 6965 7320 696e  rious entries in
+00023590: 2074 6865 2075 7365 725f 6970 7320 7461   the user_ips ta
+000235a0: 626c 652e 2028 5b5c 2334 3336 395d 2868  ble. ([\#4369](h
+000235b0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+000235c0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+000235d0: 6170 7365 2f69 7373 7565 732f 3433 3639  apse/issues/4369
+000235e0: 2929 0a2d 2046 6978 2074 7970 6f20 696e  )).- Fix typo in
+000235f0: 2041 4c4c 5f55 5345 525f 5459 5045 5320   ALL_USER_TYPES 
+00023600: 6465 6669 6e69 7469 6f6e 2074 6f20 656e  definition to en
+00023610: 7375 7265 2074 7970 6520 6973 2061 2074  sure type is a t
+00023620: 7570 6c65 2028 5b5c 2334 3339 325d 2868  uple ([\#4392](h
+00023630: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00023640: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+00023650: 6170 7365 2f69 7373 7565 732f 3433 3932  apse/issues/4392
+00023660: 2929 0a2d 2046 6978 2068 6967 6820 4350  )).- Fix high CP
+00023670: 5520 7573 6167 6520 6475 6520 746f 2072  U usage due to r
+00023680: 656d 6f74 6520 6465 7669 6365 6c69 7374  emote devicelist
+00023690: 2075 7064 6174 6573 2028 5b5c 2334 3339   updates ([\#439
+000236a0: 375d 2868 7474 7073 3a2f 2f67 6974 6875  7](https://githu
+000236b0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+000236c0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+000236d0: 3433 3937 2929 0a2d 2046 6978 2070 6f74  4397)).- Fix pot
+000236e0: 656e 7469 616c 2062 7567 2077 6865 7265  ential bug where
+000236f0: 2063 7265 6174 696e 6720 6f72 206a 6f69   creating or joi
+00023700: 6e69 6e67 2061 2072 6f6f 6d20 636f 756c  ning a room coul
+00023710: 6420 6661 696c 2028 5b5c 2334 3430 345d  d fail ([\#4404]
+00023720: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00023730: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+00023740: 796e 6170 7365 2f69 7373 7565 732f 3434  ynapse/issues/44
+00023750: 3034 2929 0a2d 2046 6978 2062 7567 2077  04)).- Fix bug w
+00023760: 6865 6e20 7265 6a65 6374 696e 6720 7265  hen rejecting re
+00023770: 6d6f 7465 2069 6e76 6974 6573 2028 5b5c  mote invites ([\
+00023780: 2334 3430 355d 2868 7474 7073 3a2f 2f67  #4405](https://g
+00023790: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+000237a0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+000237b0: 7565 732f 3434 3035 292c 205b 5c23 3435  ues/4405), [\#45
+000237c0: 3237 5d28 6874 7470 733a 2f2f 6769 7468  27](https://gith
+000237d0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+000237e0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+000237f0: 2f34 3532 3729 290a 2d20 4669 7820 696e  /4527)).- Fix in
+00023800: 636f 7272 6563 7420 6c6f 6763 6f6e 7465  correct logconte
+00023810: 7874 7320 6166 7465 7220 6120 4465 6665  xts after a Defe
+00023820: 7272 6564 2077 6173 2063 616e 6365 6c6c  rred was cancell
+00023830: 6564 2028 5b5c 2334 3430 375d 2868 7474  ed ([\#4407](htt
+00023840: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00023850: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00023860: 7365 2f69 7373 7565 732f 3434 3037 2929  se/issues/4407))
+00023870: 0a2d 2045 6e73 7572 6520 656e 6372 7970  .- Ensure encryp
+00023880: 7465 6420 726f 6f6d 2073 7461 7465 2069  ted room state i
+00023890: 7320 7065 7273 6973 7465 6420 6163 726f  s persisted acro
+000238a0: 7373 2072 6f6f 6d20 7570 6772 6164 6573  ss room upgrades
+000238b0: 2e20 285b 5c23 3434 3131 5d28 6874 7470  . ([\#4411](http
+000238c0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+000238d0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+000238e0: 652f 6973 7375 6573 2f34 3431 3129 290a  e/issues/4411)).
+000238f0: 2d20 436f 7079 206f 7665 7220 7768 6574  - Copy over whet
+00023900: 6865 7220 6120 726f 6f6d 2069 7320 6120  her a room is a 
+00023910: 6469 7265 6374 206d 6573 7361 6765 2061  direct message a
+00023920: 6e64 2061 6e79 2061 7373 6f63 6961 7465  nd any associate
+00023930: 6420 726f 6f6d 2074 6167 7320 6f6e 2072  d room tags on r
+00023940: 6f6f 6d20 7570 6772 6164 652e 2028 5b5c  oom upgrade. ([\
+00023950: 2334 3431 325d 2868 7474 7073 3a2f 2f67  #4412](https://g
+00023960: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00023970: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00023980: 7565 732f 3434 3132 2929 0a2d 2046 6978  ues/4412)).- Fix
+00023990: 204e 6f6e 6520 6775 6172 6420 696e 2063   None guard in c
+000239a0: 616c 6c69 6e67 2063 6f6e 6669 672e 7365  alling config.se
+000239b0: 7276 6572 2e69 735f 7468 7265 6570 6964  rver.is_threepid
+000239c0: 5f72 6573 6572 7665 6420 285b 5c23 3434  _reserved ([\#44
+000239d0: 3335 5d28 6874 7470 733a 2f2f 6769 7468  35](https://gith
+000239e0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+000239f0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00023a00: 2f34 3433 3529 290a 2d20 446f 6e27 7420  /4435)).- Don't 
+00023a10: 7365 6e64 2049 5020 6164 6472 6573 7365  send IP addresse
+00023a20: 7320 6173 2053 4e49 2028 5b5c 2334 3435  s as SNI ([\#445
+00023a30: 325d 2868 7474 7073 3a2f 2f67 6974 6875  2](https://githu
+00023a40: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00023a50: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00023a60: 3434 3532 2929 0a2d 2046 6978 2055 6e62  4452)).- Fix Unb
+00023a70: 6f75 6e64 4c6f 6361 6c45 7272 6f72 2069  oundLocalError i
+00023a80: 6e20 706f 7374 5f75 726c 656e 636f 6465  n post_urlencode
+00023a90: 645f 6765 745f 6a73 6f6e 2028 5b5c 2334  d_get_json ([\#4
+00023aa0: 3436 305d 2868 7474 7073 3a2f 2f67 6974  460](https://git
+00023ab0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00023ac0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+00023ad0: 732f 3434 3630 2929 0a2d 2041 6464 2061  s/4460)).- Add a
+00023ae0: 2074 696d 656f 7574 2074 6f20 6669 6c74   timeout to filt
+00023af0: 6572 6564 2072 6f6f 6d20 6469 7265 6374  ered room direct
+00023b00: 6f72 7920 7175 6572 6965 732e 2028 5b5c  ory queries. ([\
+00023b10: 2334 3436 315d 2868 7474 7073 3a2f 2f67  #4461](https://g
+00023b20: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00023b30: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00023b40: 7565 732f 3434 3631 2929 0a2d 2057 6f72  ues/4461)).- Wor
+00023b50: 6b61 726f 756e 6420 666f 7220 6c6f 6769  karound for logi
+00023b60: 6e20 6572 726f 7220 7768 656e 2075 7369  n error when usi
+00023b70: 6e67 2062 6f74 6820 4c44 4150 2061 6e64  ng both LDAP and
+00023b80: 2069 6e74 6572 6e61 6c20 6175 7468 656e   internal authen
+00023b90: 7469 6361 7469 6f6e 2e20 285b 5c23 3434  tication. ([\#44
+00023ba0: 3836 5d28 6874 7470 733a 2f2f 6769 7468  86](https://gith
+00023bb0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00023bc0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00023bd0: 2f34 3438 3629 290a 2d20 4669 7820 6120  /4486)).- Fix a 
+00023be0: 6275 6720 7768 6572 6520 7365 7474 696e  bug where settin
+00023bf0: 6720 6120 7265 6c61 7469 7665 2063 6f6e  g a relative con
+00023c00: 7365 6e74 2064 6972 6563 746f 7279 2070  sent directory p
+00023c10: 6174 6820 776f 756c 6420 6361 7573 6520  ath would cause 
+00023c20: 6120 6372 6173 682e 2028 5b5c 2334 3531  a crash. ([\#451
+00023c30: 325d 2868 7474 7073 3a2f 2f67 6974 6875  2](https://githu
+00023c40: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00023c50: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00023c60: 3435 3132 2929 0a0a 0a44 6570 7265 6361  4512))...Depreca
+00023c70: 7469 6f6e 7320 616e 6420 5265 6d6f 7661  tions and Remova
+00023c80: 6c73 0a2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ls.-------------
+00023c90: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 0a0a 2d20  ------------..- 
+00023ca0: 5379 6e61 7073 6520 6e6f 206c 6f6e 6765  Synapse no longe
+00023cb0: 7220 6765 6e65 7261 7465 7320 7365 6c66  r generates self
+00023cc0: 2d73 6967 6e65 6420 544c 5320 6365 7274  -signed TLS cert
+00023cd0: 6966 6963 6174 6573 2077 6865 6e20 6765  ificates when ge
+00023ce0: 6e65 7261 7469 6e67 2061 2063 6f6e 6669  nerating a confi
+00023cf0: 6775 7261 7469 6f6e 2066 696c 652e 2028  guration file. (
+00023d00: 5b5c 2334 3530 395d 2868 7474 7073 3a2f  [\#4509](https:/
+00023d10: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+00023d20: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00023d30: 7373 7565 732f 3435 3039 2929 0a0a 0a49  ssues/4509))...I
+00023d40: 6d70 726f 7665 6420 446f 6375 6d65 6e74  mproved Document
+00023d50: 6174 696f 6e0a 2d2d 2d2d 2d2d 2d2d 2d2d  ation.----------
+00023d60: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 0a0a 2d20  ------------..- 
+00023d70: 5570 6461 7465 2064 6562 6961 6e20 696e  Update debian in
+00023d80: 7374 616c 6c61 7469 6f6e 2069 6e73 7472  stallation instr
+00023d90: 7563 7469 6f6e 7320 285b 5c23 3435 3236  uctions ([\#4526
+00023da0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00023db0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00023dc0: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
+00023dd0: 3532 3629 290a 0a0a 496e 7465 726e 616c  526))...Internal
+00023de0: 2043 6861 6e67 6573 0a2d 2d2d 2d2d 2d2d   Changes.-------
+00023df0: 2d2d 2d2d 2d2d 2d2d 2d0a 0a2d 2053 796e  ---------..- Syn
+00023e00: 6170 7365 2077 696c 6c20 6e6f 7720 7461  apse will now ta
+00023e10: 6b65 2061 6476 616e 7461 6765 206f 6620  ke advantage of 
+00023e20: 6e61 7469 7665 2055 5053 4552 5420 6675  native UPSERT fu
+00023e30: 6e63 7469 6f6e 616c 6974 7920 696e 2050  nctionality in P
+00023e40: 6f73 7467 7265 5351 4c20 392e 352b 2061  ostgreSQL 9.5+ a
+00023e50: 6e64 2053 514c 6974 6520 332e 3234 2b2e  nd SQLite 3.24+.
+00023e60: 2028 5b5c 2334 3330 365d 2868 7474 7073   ([\#4306](https
+00023e70: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00023e80: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00023e90: 2f69 7373 7565 732f 3433 3036 292c 205b  /issues/4306), [
+00023ea0: 5c23 3434 3539 5d28 6874 7470 733a 2f2f  \#4459](https://
+00023eb0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00023ec0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00023ed0: 7375 6573 2f34 3435 3929 2c20 5b5c 2334  sues/4459), [\#4
+00023ee0: 3436 365d 2868 7474 7073 3a2f 2f67 6974  466](https://git
+00023ef0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00023f00: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+00023f10: 732f 3434 3636 292c 205b 5c23 3434 3731  s/4466), [\#4471
+00023f20: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00023f30: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00023f40: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
+00023f50: 3437 3129 2c20 5b5c 2334 3437 375d 2868  471), [\#4477](h
+00023f60: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00023f70: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+00023f80: 6170 7365 2f69 7373 7565 732f 3434 3737  apse/issues/4477
+00023f90: 292c 205b 5c23 3435 3035 5d28 6874 7470  ), [\#4505](http
+00023fa0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+00023fb0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+00023fc0: 652f 6973 7375 6573 2f34 3530 3529 290a  e/issues/4505)).
+00023fd0: 2d20 5570 6461 7465 2052 4541 444d 4520  - Update README 
+00023fe0: 746f 2075 7365 2074 6865 206e 6577 2076  to use the new v
+00023ff0: 6972 7475 616c 656e 7620 6576 6572 7977  irtualenv everyw
+00024000: 6865 7265 2028 5b5c 2334 3334 325d 2868  here ([\#4342](h
+00024010: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00024020: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+00024030: 6170 7365 2f69 7373 7565 732f 3433 3432  apse/issues/4342
+00024040: 2929 0a2d 2041 6464 2062 6574 7465 7220  )).- Add better 
+00024050: 6c6f 6767 696e 6720 666f 7220 756e 6578  logging for unex
+00024060: 7065 6374 6564 2065 7272 6f72 7320 7768  pected errors wh
+00024070: 696c 6520 7365 6e64 696e 6720 7472 616e  ile sending tran
+00024080: 7361 6374 696f 6e73 2028 5b5c 2334 3336  sactions ([\#436
+00024090: 385d 2868 7474 7073 3a2f 2f67 6974 6875  8](https://githu
+000240a0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+000240b0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+000240c0: 3433 3638 2929 0a2d 2041 7070 6c79 2061  4368)).- Apply a
+000240d0: 2075 6e69 7175 6520 696e 6465 7820 746f   unique index to
+000240e0: 2074 6865 2075 7365 725f 6970 7320 7461   the user_ips ta
+000240f0: 626c 652c 2070 7265 7665 6e74 696e 6720  ble, preventing 
+00024100: 6475 706c 6963 6174 6573 2e20 285b 5c23  duplicates. ([\#
+00024110: 3433 3730 5d28 6874 7470 733a 2f2f 6769  4370](https://gi
+00024120: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+00024130: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+00024140: 6573 2f34 3337 3029 2c20 5b5c 2334 3433  es/4370), [\#443
+00024150: 325d 2868 7474 7073 3a2f 2f67 6974 6875  2](https://githu
+00024160: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00024170: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00024180: 3434 3332 292c 205b 5c23 3434 3334 5d28  4432), [\#4434](
+00024190: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+000241a0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+000241b0: 6e61 7073 652f 6973 7375 6573 2f34 3433  napse/issues/443
+000241c0: 3429 290a 2d20 5369 6c65 6e63 6520 7472  4)).- Silence tr
+000241d0: 6176 6973 2d63 6920 6275 696c 6420 7761  avis-ci build wa
+000241e0: 726e 696e 6773 2062 7920 7265 6d6f 7669  rnings by removi
+000241f0: 6e67 206e 6f6e 2d66 756e 6374 696f 6e61  ng non-functiona
+00024200: 6c20 7079 7468 6f6e 332e 3620 285b 5c23  l python3.6 ([\#
+00024210: 3433 3737 5d28 6874 7470 733a 2f2f 6769  4377](https://gi
+00024220: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+00024230: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+00024240: 6573 2f34 3337 3729 290a 2d20 4669 7820  es/4377)).- Fix 
+00024250: 6120 636f 6d6d 656e 7420 696e 2074 6865  a comment in the
+00024260: 2067 656e 6572 6174 6564 2063 6f6e 6669   generated confi
+00024270: 6720 6669 6c65 2028 5b5c 2334 3338 375d  g file ([\#4387]
+00024280: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00024290: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+000242a0: 796e 6170 7365 2f69 7373 7565 732f 3433  ynapse/issues/43
+000242b0: 3837 2929 0a2d 2041 6464 2067 726f 756e  87)).- Add groun
+000242c0: 6420 776f 726b 2066 6f72 2069 6d70 6c65  d work for imple
+000242d0: 6d65 6e74 696e 6720 6675 7475 7265 2066  menting future f
+000242e0: 6564 6572 6174 696f 6e20 4150 4920 7665  ederation API ve
+000242f0: 7273 696f 6e73 2028 5b5c 2334 3339 305d  rsions ([\#4390]
+00024300: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00024310: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+00024320: 796e 6170 7365 2f69 7373 7565 732f 3433  ynapse/issues/43
+00024330: 3930 2929 0a2d 2055 7064 6174 6520 6465  90)).- Update de
+00024340: 7065 6e64 656e 6369 6573 206f 6e20 6d73  pendencies on ms
+00024350: 6770 6163 6b20 616e 6420 7079 6d61 6361  gpack and pymaca
+00024360: 726f 6f6e 7320 746f 2075 7365 2074 6865  roons to use the
+00024370: 2075 702d 746f 2d64 6174 6520 7061 636b   up-to-date pack
+00024380: 6167 6573 2e20 285b 5c23 3433 3939 5d28  ages. ([\#4399](
+00024390: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+000243a0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+000243b0: 6e61 7073 652f 6973 7375 6573 2f34 3339  napse/issues/439
+000243c0: 3929 290a 2d20 5477 6561 6b20 636f 6465  9)).- Tweak code
+000243d0: 636f 7620 7365 7474 696e 6773 2074 6f20  cov settings to 
+000243e0: 6d61 6b65 2074 6865 6d20 6c65 7373 206c  make them less l
+000243f0: 6f75 642e 2028 5b5c 2334 3430 305d 2868  oud. ([\#4400](h
+00024400: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00024410: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+00024420: 6170 7365 2f69 7373 7565 732f 3434 3030  apse/issues/4400
+00024430: 2929 0a2d 2049 6d70 6c65 6d65 6e74 2073  )).- Implement s
+00024440: 6572 7665 7220 7375 7070 6f72 7420 666f  erver support fo
+00024450: 7220 4d53 4331 3739 3420 2d20 4665 6465  r MSC1794 - Fede
+00024460: 7261 7469 6f6e 2076 3220 496e 7669 7465  ration v2 Invite
+00024470: 2041 5049 2028 5b5c 2334 3430 325d 2868   API ([\#4402](h
+00024480: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00024490: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+000244a0: 6170 7365 2f69 7373 7565 732f 3434 3032  apse/issues/4402
+000244b0: 2929 0a2d 2064 6562 6961 6e20 7061 636b  )).- debian pack
+000244c0: 6167 653a 2073 796d 6c69 6e6b 2074 6f20  age: symlink to 
+000244d0: 6578 706c 6963 6974 2070 7974 686f 6e20  explicit python 
+000244e0: 7665 7273 696f 6e20 285b 5c23 3434 3333  version ([\#4433
+000244f0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00024500: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00024510: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
+00024520: 3433 3329 290a 2d20 4164 6420 696e 6672  433)).- Add infr
+00024530: 6173 7472 7563 7475 7265 2074 6f20 7375  astructure to su
+00024540: 7070 6f72 7420 6469 6666 6572 656e 7420  pport different 
+00024550: 6576 656e 7420 666f 726d 6174 7320 285b  event formats ([
+00024560: 5c23 3434 3337 5d28 6874 7470 733a 2f2f  \#4437](https://
+00024570: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00024580: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00024590: 7375 6573 2f34 3433 3729 2c20 5b5c 2334  sues/4437), [\#4
+000245a0: 3434 375d 2868 7474 7073 3a2f 2f67 6974  447](https://git
+000245b0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+000245c0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+000245d0: 732f 3434 3437 292c 205b 5c23 3434 3438  s/4447), [\#4448
+000245e0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+000245f0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00024600: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
+00024610: 3434 3829 2c20 5b5c 2334 3437 305d 2868  448), [\#4470](h
+00024620: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00024630: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+00024640: 6170 7365 2f69 7373 7565 732f 3434 3730  apse/issues/4470
+00024650: 292c 205b 5c23 3434 3831 5d28 6874 7470  ), [\#4481](http
+00024660: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+00024670: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+00024680: 652f 6973 7375 6573 2f34 3438 3129 2c20  e/issues/4481), 
+00024690: 5b5c 2334 3438 325d 2868 7474 7073 3a2f  [\#4482](https:/
+000246a0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+000246b0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+000246c0: 7373 7565 732f 3434 3832 292c 205b 5c23  ssues/4482), [\#
+000246d0: 3434 3933 5d28 6874 7470 733a 2f2f 6769  4493](https://gi
+000246e0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+000246f0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+00024700: 6573 2f34 3439 3329 2c20 5b5c 2334 3439  es/4493), [\#449
+00024710: 345d 2868 7474 7073 3a2f 2f67 6974 6875  4](https://githu
+00024720: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00024730: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00024740: 3434 3934 292c 205b 5c23 3434 3936 5d28  4494), [\#4496](
+00024750: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00024760: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00024770: 6e61 7073 652f 6973 7375 6573 2f34 3439  napse/issues/449
+00024780: 3629 2c20 5b5c 2334 3531 305d 2868 7474  6), [\#4510](htt
+00024790: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+000247a0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+000247b0: 7365 2f69 7373 7565 732f 3435 3130 292c  se/issues/4510),
+000247c0: 205b 5c23 3435 3134 5d28 6874 7470 733a   [\#4514](https:
+000247d0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+000247e0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+000247f0: 6973 7375 6573 2f34 3531 3429 290a 2d20  issues/4514)).- 
+00024800: 4765 6e65 7261 7465 2074 6865 2064 6562  Generate the deb
+00024810: 6961 6e20 636f 6e66 6967 2064 7572 696e  ian config durin
+00024820: 6720 6275 696c 6420 285b 5c23 3434 3434  g build ([\#4444
+00024830: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00024840: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00024850: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
+00024860: 3434 3429 290a 2d20 436c 6172 6966 7920  444)).- Clarify 
+00024870: 646f 6375 6d65 6e74 6174 696f 6e20 666f  documentation fo
+00024880: 7220 7468 6520 6070 7562 6c69 635f 6261  r the `public_ba
+00024890: 7365 7572 6c60 2063 6f6e 6669 6720 7061  seurl` config pa
+000248a0: 7261 6d20 285b 5c23 3434 3538 5d28 6874  ram ([\#4458](ht
+000248b0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+000248c0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+000248d0: 7073 652f 6973 7375 6573 2f34 3435 3829  pse/issues/4458)
+000248e0: 2c20 5b5c 2334 3439 385d 2868 7474 7073  , [\#4498](https
+000248f0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00024900: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00024910: 2f69 7373 7565 732f 3434 3938 2929 0a2d  /issues/4498)).-
+00024920: 2046 6978 2071 756f 7469 6e67 2066 6f72   Fix quoting for
+00024930: 2061 6c6c 6f77 6564 5f6c 6f63 616c 5f33   allowed_local_3
+00024940: 7069 6473 2065 7861 6d70 6c65 2063 6f6e  pids example con
+00024950: 6669 6720 285b 5c23 3434 3736 5d28 6874  fig ([\#4476](ht
+00024960: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00024970: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+00024980: 7073 652f 6973 7375 6573 2f34 3437 3629  pse/issues/4476)
+00024990: 290a 2d20 5265 6d6f 7665 2064 6570 7265  ).- Remove depre
+000249a0: 6361 7465 6420 2d2d 7072 6f63 6573 732d  cated --process-
+000249b0: 6465 7065 6e64 656e 6379 2d6c 696e 6b73  dependency-links
+000249c0: 206f 7074 696f 6e20 6672 6f6d 2055 5047   option from UPG
+000249d0: 5241 4445 2e72 7374 2028 5b5c 2334 3438  RADE.rst ([\#448
+000249e0: 355d 2868 7474 7073 3a2f 2f67 6974 6875  5](https://githu
+000249f0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00024a00: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00024a10: 3434 3835 2929 0a2d 204d 616b 6520 6974  4485)).- Make it
+00024a20: 2070 6f73 7369 626c 6520 746f 2073 6574   possible to set
+00024a30: 2074 6865 206c 6f67 206c 6576 656c 2066   the log level f
+00024a40: 6f72 2074 6573 7473 2076 6961 2061 6e20  or tests via an 
+00024a50: 656e 7669 726f 6e6d 656e 7420 7661 7269  environment vari
+00024a60: 6162 6c65 2028 5b5c 2334 3530 365d 2868  able ([\#4506](h
+00024a70: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00024a80: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+00024a90: 6170 7365 2f69 7373 7565 732f 3435 3036  apse/issues/4506
+00024aa0: 2929 0a2d 2052 6564 7563 6520 7468 6520  )).- Reduce the 
+00024ab0: 6c6f 6720 6c65 7665 6c20 6f66 206c 696e  log level of lin
+00024ac0: 6561 7269 7a65 7220 6c6f 636b 2061 6371  earizer lock acq
+00024ad0: 7569 7265 6d65 6e74 2074 6f20 4445 4255  uirement to DEBU
+00024ae0: 472e 2028 5b5c 2334 3530 375d 2868 7474  G. ([\#4507](htt
+00024af0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00024b00: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00024b10: 7365 2f69 7373 7565 732f 3435 3037 2929  se/issues/4507))
+00024b20: 0a2d 2046 6978 2063 6f64 6520 746f 2063  .- Fix code to c
+00024b30: 6f6d 706c 7920 7769 7468 206c 696e 7469  omply with linti
+00024b40: 6e67 2069 6e20 5079 466c 616b 6573 2033  ng in PyFlakes 3
+00024b50: 2e37 2e31 2e20 285b 5c23 3435 3139 5d28  .7.1. ([\#4519](
+00024b60: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00024b70: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00024b80: 6e61 7073 652f 6973 7375 6573 2f34 3531  napse/issues/451
+00024b90: 3929 290a 2d20 4164 6420 736f 6d65 2064  9)).- Add some d
+00024ba0: 6562 7567 2066 6f72 206d 656d 6265 7273  ebug for members
+00024bb0: 6869 7020 7379 6e63 696e 6720 6973 7375  hip syncing issu
+00024bc0: 6573 2028 5b5c 2334 3533 385d 2868 7474  es ([\#4538](htt
+00024bd0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00024be0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00024bf0: 7365 2f69 7373 7565 732f 3435 3338 2929  se/issues/4538))
+00024c00: 0a2d 2044 6f63 6b65 723a 206f 6e6c 7920  .- Docker: only 
+00024c10: 636f 7079 2077 6861 7420 7765 206e 6565  copy what we nee
+00024c20: 6420 746f 2074 6865 2062 7569 6c64 2069  d to the build i
+00024c30: 6d61 6765 2028 5b5c 2334 3536 325d 2868  mage ([\#4562](h
+00024c40: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00024c50: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+00024c60: 6170 7365 2f69 7373 7565 732f 3435 3632  apse/issues/4562
+00024c70: 2929 0a0a 0a53 796e 6170 7365 2030 2e33  ))...Synapse 0.3
+00024c80: 342e 312e 3120 2832 3031 392d 3031 2d31  4.1.1 (2019-01-1
+00024c90: 3129 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  1).=============
+00024ca0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00024cb0: 0a0a 5468 6973 2072 656c 6561 7365 2066  ..This release f
+00024cc0: 6978 6573 2043 5645 2d32 3031 392d 3538  ixes CVE-2019-58
+00024cd0: 3835 2061 6e64 2069 7320 7265 636f 6d6d  85 and is recomm
+00024ce0: 656e 6465 6420 666f 7220 616c 6c20 7573  ended for all us
+00024cf0: 6572 7320 6f66 2053 796e 6170 7365 2030  ers of Synapse 0
+00024d00: 2e33 342e 312e 0a0a 5468 6973 2072 656c  .34.1...This rel
+00024d10: 6561 7365 2069 7320 636f 6d70 6174 6962  ease is compatib
+00024d20: 6c65 2077 6974 6820 5079 7468 6f6e 2032  le with Python 2
+00024d30: 2e37 2061 6e64 2033 2e35 2b2e 2050 7974  .7 and 3.5+. Pyt
+00024d40: 686f 6e20 332e 3720 6973 2066 756c 6c79  hon 3.7 is fully
+00024d50: 2073 7570 706f 7274 6564 2e0a 0a42 7567   supported...Bug
+00024d60: 6669 7865 730a 2d2d 2d2d 2d2d 2d2d 0a0a  fixes.--------..
+00024d70: 2d20 4669 7820 7370 6f6e 7461 6e65 6f75  - Fix spontaneou
+00024d80: 7320 6c6f 676f 7574 206f 6e20 7570 6772  s logout on upgr
+00024d90: 6164 650a 2020 285b 5c23 3433 3734 5d28  ade.  ([\#4374](
+00024da0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00024db0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00024dc0: 6e61 7073 652f 6973 7375 6573 2f34 3337  napse/issues/437
+00024dd0: 3429 290a 0a0a 5379 6e61 7073 6520 302e  4))...Synapse 0.
+00024de0: 3334 2e31 2028 3230 3139 2d30 312d 3039  34.1 (2019-01-09
+00024df0: 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ).==============
+00024e00: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a49  =============..I
+00024e10: 6e74 6572 6e61 6c20 4368 616e 6765 730a  nternal Changes.
+00024e20: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00024e30: 0a0a 2d20 4164 6420 6265 7474 6572 206c  ..- Add better l
+00024e40: 6f67 6769 6e67 2066 6f72 2075 6e65 7870  ogging for unexp
+00024e50: 6563 7465 6420 6572 726f 7273 2077 6869  ected errors whi
+00024e60: 6c65 2073 656e 6469 6e67 2074 7261 6e73  le sending trans
+00024e70: 6163 7469 6f6e 7320 285b 5c23 3433 3631  actions ([\#4361
+00024e80: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00024e90: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00024ea0: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
+00024eb0: 3336 3129 2c20 5b5c 2334 3336 325d 2868  361), [\#4362](h
+00024ec0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00024ed0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+00024ee0: 6170 7365 2f69 7373 7565 732f 3433 3632  apse/issues/4362
+00024ef0: 2929 0a0a 0a53 796e 6170 7365 2030 2e33  ))...Synapse 0.3
+00024f00: 342e 3172 6331 2028 3230 3139 2d30 312d  4.1rc1 (2019-01-
+00024f10: 3038 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  08).============
+00024f20: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00024f30: 3d3d 0a0a 4665 6174 7572 6573 0a2d 2d2d  ==..Features.---
+00024f40: 2d2d 2d2d 2d0a 0a2d 2053 7065 6369 616c  -----..- Special
+00024f50: 2d63 6173 6520 6120 7375 7070 6f72 7420  -case a support 
+00024f60: 7573 6572 2066 6f72 2075 7365 2069 6e20  user for use in 
+00024f70: 7665 7269 6679 696e 6720 6265 6861 7669  verifying behavi
+00024f80: 6f75 7220 6f66 2061 2067 6976 656e 2073  our of a given s
+00024f90: 6572 7665 722e 2054 6865 2073 7570 706f  erver. The suppo
+00024fa0: 7274 2075 7365 7220 646f 6573 206e 6f74  rt user does not
+00024fb0: 2061 7070 6561 7220 696e 2075 7365 7220   appear in user 
+00024fc0: 6469 7265 6374 6f72 7920 6f72 206d 6f6e  directory or mon
+00024fd0: 7468 6c79 2061 6374 6976 6520 7573 6572  thly active user
+00024fe0: 2063 6f75 6e74 732e 2028 5b5c 2334 3134   counts. ([\#414
+00024ff0: 315d 2868 7474 7073 3a2f 2f67 6974 6875  1](https://githu
+00025000: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00025010: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00025020: 3431 3431 292c 205b 5c23 3433 3434 5d28  4141), [\#4344](
+00025030: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00025040: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00025050: 6e61 7073 652f 6973 7375 6573 2f34 3334  napse/issues/434
+00025060: 3429 290a 2d20 5375 7070 6f72 7420 666f  4)).- Support fo
+00025070: 7220 7365 7276 696e 6720 2e77 656c 6c2d  r serving .well-
+00025080: 6b6e 6f77 6e20 6669 6c65 7320 285b 5c23  known files ([\#
+00025090: 3432 3632 5d28 6874 7470 733a 2f2f 6769  4262](https://gi
+000250a0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+000250b0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+000250c0: 6573 2f34 3236 3229 290a 2d20 5265 776f  es/4262)).- Rewo
+000250d0: 726b 2053 414d 4c32 2061 7574 6865 6e74  rk SAML2 authent
+000250e0: 6963 6174 696f 6e20 285b 5c23 3432 3635  ication ([\#4265
+000250f0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00025100: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00025110: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
+00025120: 3236 3529 2c20 5b5c 2334 3236 375d 2868  265), [\#4267](h
+00025130: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00025140: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+00025150: 6170 7365 2f69 7373 7565 732f 3432 3637  apse/issues/4267
+00025160: 2929 0a2d 2053 414d 4c32 2061 7574 6865  )).- SAML2 authe
+00025170: 6e74 6963 6174 696f 6e3a 2049 6e69 7469  ntication: Initi
+00025180: 616c 6973 6520 7573 6572 2064 6973 706c  alise user displ
+00025190: 6179 206e 616d 6520 6672 6f6d 2053 414d  ay name from SAM
+000251a0: 4c32 2064 6174 6120 285b 5c23 3432 3732  L2 data ([\#4272
+000251b0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+000251c0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+000251d0: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
+000251e0: 3237 3229 290a 2d20 5379 6e61 7073 6520  272)).- Synapse 
+000251f0: 6361 6e20 6e6f 7720 6861 7665 2069 7473  can now have its
+00025200: 2063 6f6e 6469 7469 6f6e 616c 2f65 7874   conditional/ext
+00025210: 7261 2064 6570 656e 6465 6e63 6965 7320  ra dependencies 
+00025220: 696e 7374 616c 6c65 6420 6279 2070 6970  installed by pip
+00025230: 2e20 5468 6973 2066 756e 6374 696f 6e61  . This functiona
+00025240: 6c69 7479 2063 616e 2062 6520 7573 6564  lity can be used
+00025250: 2062 7920 7573 696e 6720 6070 6970 2069   by using `pip i
+00025260: 6e73 7461 6c6c 206d 6174 7269 782d 7379  nstall matrix-sy
+00025270: 6e61 7073 655b 6665 6174 7572 655d 602c  napse[feature]`,
+00025280: 2077 6865 7265 2066 6561 7475 7265 2069   where feature i
+00025290: 7320 6120 636f 6d6d 6120 7365 7061 7261  s a comma separa
+000252a0: 7465 6420 6c69 7374 2077 6974 6820 7468  ted list with th
+000252b0: 6520 706f 7373 6962 6c65 2076 616c 7565  e possible value
+000252c0: 7320 6065 6d61 696c 2e65 6e61 626c 655f  s `email.enable_
+000252d0: 6e6f 7469 6673 602c 2060 6d61 7472 6978  notifs`, `matrix
+000252e0: 2d73 796e 6170 7365 2d6c 6461 7033 602c  -synapse-ldap3`,
+000252f0: 2060 706f 7374 6772 6573 602c 2060 7265   `postgres`, `re
+00025300: 736f 7572 6365 732e 636f 6e73 656e 7460  sources.consent`
+00025310: 2c20 6073 616d 6c32 602c 2060 7572 6c5f  , `saml2`, `url_
+00025320: 7072 6576 6965 7760 2c20 616e 6420 6074  preview`, and `t
+00025330: 6573 7460 2e20 4966 2079 6f75 2077 616e  est`. If you wan
+00025340: 7420 746f 2069 6e73 7461 6c6c 2061 6c6c  t to install all
+00025350: 206f 7074 696f 6e61 6c20 6465 7065 6e64   optional depend
+00025360: 656e 6369 6573 2c20 796f 7520 6361 6e20  encies, you can 
+00025370: 7573 6520 2261 6c6c 2220 696e 7374 6561  use "all" instea
+00025380: 642e 2028 5b5c 2334 3239 385d 2868 7474  d. ([\#4298](htt
+00025390: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+000253a0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+000253b0: 7365 2f69 7373 7565 732f 3432 3938 292c  se/issues/4298),
+000253c0: 205b 5c23 3433 3235 5d28 6874 7470 733a   [\#4325](https:
+000253d0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+000253e0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+000253f0: 6973 7375 6573 2f34 3332 3529 2c20 5b5c  issues/4325), [\
+00025400: 2334 3332 375d 2868 7474 7073 3a2f 2f67  #4327](https://g
+00025410: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00025420: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00025430: 7565 732f 3433 3237 2929 0a2d 2041 6464  ues/4327)).- Add
+00025440: 2072 6f75 7465 7320 666f 7220 7265 6164   routes for read
+00025450: 696e 6720 6163 636f 756e 7420 6461 7461  ing account data
+00025460: 2e20 285b 5c23 3433 3033 5d28 6874 7470  . ([\#4303](http
+00025470: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+00025480: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+00025490: 652f 6973 7375 6573 2f34 3330 3329 290a  e/issues/4303)).
+000254a0: 2d20 4164 6420 6f70 742d 696e 2073 7570  - Add opt-in sup
+000254b0: 706f 7274 2066 6f72 2076 3220 726f 6f6d  port for v2 room
+000254c0: 7320 285b 5c23 3433 3037 5d28 6874 7470  s ([\#4307](http
+000254d0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+000254e0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+000254f0: 652f 6973 7375 6573 2f34 3330 3729 290a  e/issues/4307)).
+00025500: 2d20 4164 6420 6120 7363 7269 7074 2074  - Add a script t
+00025510: 6f20 6765 6e65 7261 7465 2061 2063 6c65  o generate a cle
+00025520: 616e 2063 6f6e 6669 6720 6669 6c65 2028  an config file (
+00025530: 5b5c 2334 3331 355d 2868 7474 7073 3a2f  [\#4315](https:/
+00025540: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+00025550: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00025560: 7373 7565 732f 3433 3135 2929 0a2d 2052  ssues/4315)).- R
+00025570: 6574 7572 6e20 7365 7276 6572 2064 6174  eturn server dat
+00025580: 6120 696e 202f 6c6f 6769 6e20 7265 7370  a in /login resp
+00025590: 6f6e 7365 2028 5b5c 2334 3331 395d 2868  onse ([\#4319](h
+000255a0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+000255b0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+000255c0: 6170 7365 2f69 7373 7565 732f 3433 3139  apse/issues/4319
+000255d0: 2929 0a0a 0a42 7567 6669 7865 730a 2d2d  ))...Bugfixes.--
+000255e0: 2d2d 2d2d 2d2d 0a0a 2d20 4669 7820 636f  ------..- Fix co
+000255f0: 6e74 6169 6e73 5f75 726c 2063 6865 636b  ntains_url check
+00025600: 2074 6f20 6265 2063 6f6e 7369 7374 656e   to be consisten
+00025610: 7420 7769 7468 206f 7468 6572 2069 6e73  t with other ins
+00025620: 7461 6e63 6573 2069 6e20 636f 6465 2d62  tances in code-b
+00025630: 6173 6520 616e 6420 6368 6563 6b20 7468  ase and check th
+00025640: 6174 2076 616c 7565 2069 7320 616e 2069  at value is an i
+00025650: 6e73 7461 6e63 6520 6f66 2073 7472 696e  nstance of strin
+00025660: 672e 2028 5b5c 2333 3430 355d 2868 7474  g. ([\#3405](htt
+00025670: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00025680: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00025690: 7365 2f69 7373 7565 732f 3334 3035 2929  se/issues/3405))
+000256a0: 0a2d 2046 6978 2043 4153 206c 6f67 696e  .- Fix CAS login
+000256b0: 2077 6865 6e20 7573 6572 6e61 6d65 2069   when username i
+000256c0: 7320 6e6f 7420 7661 6c69 6420 696e 2061  s not valid in a
+000256d0: 6e20 4d58 4944 2028 5b5c 2334 3236 345d  n MXID ([\#4264]
+000256e0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+000256f0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+00025700: 796e 6170 7365 2f69 7373 7565 732f 3432  ynapse/issues/42
+00025710: 3634 2929 0a2d 2053 656e 6420 434f 5253  64)).- Send CORS
+00025720: 2068 6561 6465 7273 2066 6f72 202f 6d65   headers for /me
+00025730: 6469 612f 636f 6e66 6967 2028 5b5c 2334  dia/config ([\#4
+00025740: 3237 395d 2868 7474 7073 3a2f 2f67 6974  279](https://git
+00025750: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00025760: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+00025770: 732f 3432 3739 2929 0a2d 2041 6464 2027  s/4279)).- Add '
+00025780: 7361 6e64 626f 7827 2074 6f20 4353 5020  sandbox' to CSP 
+00025790: 666f 7220 6d65 6469 6120 7265 7072 6f73  for media repros
+000257a0: 6974 6f72 7920 285b 5c23 3432 3834 5d28  itory ([\#4284](
+000257b0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+000257c0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+000257d0: 6e61 7073 652f 6973 7375 6573 2f34 3238  napse/issues/428
+000257e0: 3429 290a 2d20 4d61 6b65 2074 6865 206e  4)).- Make the n
+000257f0: 6577 206c 616e 6469 6e67 2070 6167 6520  ew landing page 
+00025800: 7072 6574 7469 6572 2e20 285b 5c23 3432  prettier. ([\#42
+00025810: 3934 5d28 6874 7470 733a 2f2f 6769 7468  94](https://gith
+00025820: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00025830: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00025840: 2f34 3239 3429 290a 2d20 4669 7820 6465  /4294)).- Fix de
+00025850: 6c65 7469 6e67 2045 3245 2072 6f6f 6d20  leting E2E room 
+00025860: 6b65 7973 2077 6865 6e20 7573 696e 6720  keys when using 
+00025870: 6f6c 6420 5351 4c69 7465 2076 6572 7369  old SQLite versi
+00025880: 6f6e 732e 2028 5b5c 2334 3239 355d 2868  ons. ([\#4295](h
+00025890: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+000258a0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+000258b0: 6170 7365 2f69 7373 7565 732f 3432 3935  apse/issues/4295
+000258c0: 2929 0a2d 2054 6865 206d 6574 7269 6320  )).- The metric 
+000258d0: 7379 6e61 7073 655f 6164 6d69 6e5f 6d61  synapse_admin_ma
+000258e0: 753a 6375 7272 656e 7420 7072 6576 696f  u:current previo
+000258f0: 7573 6c79 2064 6964 206e 6f74 2075 7064  usly did not upd
+00025900: 6174 6520 7768 656e 2063 6f6e 6669 672e  ate when config.
+00025910: 6d61 755f 7374 6174 735f 6f6e 6c79 2077  mau_stats_only w
+00025920: 6173 2073 6574 2074 6f20 5472 7565 2028  as set to True (
+00025930: 5b5c 2334 3330 355d 2868 7474 7073 3a2f  [\#4305](https:/
+00025940: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+00025950: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00025960: 7373 7565 732f 3433 3035 2929 0a2d 2046  ssues/4305)).- F
+00025970: 6978 6564 2070 6572 2d72 6f6f 6d20 6163  ixed per-room ac
+00025980: 636f 756e 7420 6461 7461 2066 696c 7465  count data filte
+00025990: 7273 2028 5b5c 2334 3330 395d 2868 7474  rs ([\#4309](htt
+000259a0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+000259b0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+000259c0: 7365 2f69 7373 7565 732f 3433 3039 2929  se/issues/4309))
+000259d0: 0a2d 2046 6978 2069 6e64 656e 7461 7469  .- Fix indentati
+000259e0: 6f6e 2069 6e20 6465 6661 756c 7420 636f  on in default co
+000259f0: 6e66 6967 2028 5b5c 2334 3331 335d 2868  nfig ([\#4313](h
+00025a00: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00025a10: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+00025a20: 6170 7365 2f69 7373 7565 732f 3433 3133  apse/issues/4313
+00025a30: 2929 0a2d 2046 6978 2073 796e 6170 7365  )).- Fix synapse
+00025a40: 3a6c 6174 6573 7420 646f 636b 6572 2075  :latest docker u
+00025a50: 706c 6f61 6420 285b 5c23 3433 3136 5d28  pload ([\#4316](
+00025a60: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00025a70: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00025a80: 6e61 7073 652f 6973 7375 6573 2f34 3331  napse/issues/431
+00025a90: 3629 290a 2d20 4669 7820 7465 7374 5f6d  6)).- Fix test_m
+00025aa0: 6574 7269 632e 7079 2063 6f6d 7061 7469  etric.py compati
+00025ab0: 6269 6c69 7479 2077 6974 6820 7072 6f6d  bility with prom
+00025ac0: 6574 6865 7573 5f63 6c69 656e 7420 302e  etheus_client 0.
+00025ad0: 352e 2043 6f6e 7472 6962 7574 6564 2062  5. Contributed b
+00025ae0: 7920 4d61 6172 7465 6e20 6465 2056 7269  y Maarten de Vri
+00025af0: 6573 203c 6d61 6172 7465 6e40 6465 2d76  es <maarten@de-v
+00025b00: 7269 2e65 733e 2e20 285b 5c23 3433 3137  ri.es>. ([\#4317
+00025b10: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00025b20: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00025b30: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
+00025b40: 3331 3729 290a 2d20 4176 6f69 6420 7061  317)).- Avoid pa
+00025b50: 636b 6167 696e 6720 5f74 7269 616c 5f74  ckaging _trial_t
+00025b60: 656d 7020 6469 7265 6374 6f72 7920 696e  emp directory in
+00025b70: 202d 7079 3320 6465 6269 616e 2070 6163   -py3 debian pac
+00025b80: 6b61 6765 7320 285b 5c23 3433 3236 5d28  kages ([\#4326](
+00025b90: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00025ba0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00025bb0: 6e61 7073 652f 6973 7375 6573 2f34 3332  napse/issues/432
+00025bc0: 3629 290a 2d20 4368 6563 6b20 6a69 6e6a  6)).- Check jinj
+00025bd0: 6120 7665 7273 696f 6e20 666f 7220 636f  a version for co
+00025be0: 6e73 656e 7420 7265 736f 7572 6365 2028  nsent resource (
+00025bf0: 5b5c 2334 3332 375d 2868 7474 7073 3a2f  [\#4327](https:/
+00025c00: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+00025c10: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00025c20: 7373 7565 732f 3433 3237 2929 0a2d 2066  ssues/4327)).- f
+00025c30: 6978 204e 5045 2069 6e20 2f6d 6573 7361  ix NPE in /messa
+00025c40: 6765 7320 6279 2063 6865 636b 696e 6720  ges by checking 
+00025c50: 6966 2061 6c6c 2065 7665 6e74 7320 7765  if all events we
+00025c60: 7265 2066 696c 7465 7265 6420 6f75 7420  re filtered out 
+00025c70: 285b 5c23 3433 3330 5d28 6874 7470 733a  ([\#4330](https:
+00025c80: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00025c90: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00025ca0: 6973 7375 6573 2f34 3333 3029 290a 2d20  issues/4330)).- 
+00025cb0: 4669 7820 6070 7974 686f 6e20 2d6d 2073  Fix `python -m s
+00025cc0: 796e 6170 7365 2e63 6f6e 6669 6760 206f  ynapse.config` o
+00025cd0: 6e20 5079 7468 6f6e 2033 2e20 285b 5c23  n Python 3. ([\#
+00025ce0: 3433 3536 5d28 6874 7470 733a 2f2f 6769  4356](https://gi
+00025cf0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+00025d00: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+00025d10: 6573 2f34 3335 3629 290a 0a0a 4465 7072  es/4356))...Depr
+00025d20: 6563 6174 696f 6e73 2061 6e64 2052 656d  ecations and Rem
+00025d30: 6f76 616c 730a 2d2d 2d2d 2d2d 2d2d 2d2d  ovals.----------
+00025d40: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a  ---------------.
+00025d50: 0a2d 2052 656d 6f76 6520 7468 6520 6465  .- Remove the de
+00025d60: 7072 6563 6174 6564 2076 312f 7265 6769  precated v1/regi
+00025d70: 7374 6572 2041 5049 206f 6e20 5079 7468  ster API on Pyth
+00025d80: 6f6e 2032 2e20 4974 2077 6173 206e 6576  on 2. It was nev
+00025d90: 6572 2070 6f72 7465 6420 746f 2050 7974  er ported to Pyt
+00025da0: 686f 6e20 332e 2028 5b5c 2334 3333 345d  hon 3. ([\#4334]
+00025db0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00025dc0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+00025dd0: 796e 6170 7365 2f69 7373 7565 732f 3433  ynapse/issues/43
+00025de0: 3334 2929 0a0a 0a49 6e74 6572 6e61 6c20  34))...Internal 
+00025df0: 4368 616e 6765 730a 2d2d 2d2d 2d2d 2d2d  Changes.--------
+00025e00: 2d2d 2d2d 2d2d 2d2d 0a0a 2d20 4765 7474  --------..- Gett
+00025e10: 696e 6720 5552 4c20 7072 6576 6965 7773  ing URL previews
+00025e20: 206f 6620 4950 2061 6464 7265 7373 6573   of IP addresses
+00025e30: 206e 6f20 6c6f 6e67 6572 2066 6169 6c73   no longer fails
+00025e40: 206f 6e20 5079 7468 6f6e 2033 2e20 285b   on Python 3. ([
+00025e50: 5c23 3432 3135 5d28 6874 7470 733a 2f2f  \#4215](https://
+00025e60: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00025e70: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00025e80: 7375 6573 2f34 3231 3529 290a 2d20 6472  sues/4215)).- dr
+00025e90: 6f70 2075 6e64 6f63 756d 656e 7465 6420  op undocumented 
+00025ea0: 6465 7065 6e64 656e 6379 206f 6e20 6461  dependency on da
+00025eb0: 7465 7574 696c 2028 5b5c 2334 3236 365d  teutil ([\#4266]
+00025ec0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00025ed0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+00025ee0: 796e 6170 7365 2f69 7373 7565 732f 3432  ynapse/issues/42
+00025ef0: 3636 2929 0a2d 2055 7064 6174 6520 7468  66)).- Update th
+00025f00: 6520 6578 616d 706c 6520 7379 7374 656d  e example system
+00025f10: 6420 636f 6e66 6967 2074 6f20 7573 6520  d config to use 
+00025f20: 6120 7669 7274 7561 6c65 6e76 2028 5b5c  a virtualenv ([\
+00025f30: 2334 3237 335d 2868 7474 7073 3a2f 2f67  #4273](https://g
+00025f40: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00025f50: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00025f60: 7565 732f 3432 3733 2929 0a2d 2055 7064  ues/4273)).- Upd
+00025f70: 6174 6520 6c69 6e6b 2074 6f20 6b65 726e  ate link to kern
+00025f80: 656c 2044 434f 2067 7569 6465 2028 5b5c  el DCO guide ([\
+00025f90: 2334 3237 345d 2868 7474 7073 3a2f 2f67  #4274](https://g
+00025fa0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00025fb0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00025fc0: 7565 732f 3432 3734 2929 0a2d 204d 616b  ues/4274)).- Mak
+00025fd0: 6520 6973 6f72 7420 746f 7820 6368 6563  e isort tox chec
+00025fe0: 6b20 7072 696e 7420 6469 6666 2077 6865  k print diff whe
+00025ff0: 6e20 6974 2066 6169 6c73 2028 5b5c 2334  n it fails ([\#4
+00026000: 3238 335d 2868 7474 7073 3a2f 2f67 6974  283](https://git
+00026010: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00026020: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+00026030: 732f 3432 3833 2929 0a2d 204c 6f67 2072  s/4283)).- Log r
+00026040: 6f6f 6d5f 6964 2069 6e20 556e 6b6e 6f77  oom_id in Unknow
+00026050: 6e20 726f 6f6d 2065 7272 6f72 7320 285b  n room errors ([
+00026060: 5c23 3432 3937 5d28 6874 7470 733a 2f2f  \#4297](https://
+00026070: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00026080: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00026090: 7375 6573 2f34 3239 3729 290a 2d20 446f  sues/4297)).- Do
+000260a0: 6375 6d65 6e74 6174 696f 6e20 696d 7072  cumentation impr
+000260b0: 6f76 656d 656e 7473 2066 6f72 2063 6f74  ovements for cot
+000260c0: 7572 6e20 7365 7475 702e 2043 6f6e 7472  urn setup. Contr
+000260d0: 6962 7574 6564 2062 7920 4b72 6974 6869  ibuted by Krithi
+000260e0: 6e20 5369 7461 7261 6d2e 2028 5b5c 2334  n Sitaram. ([\#4
+000260f0: 3333 335d 2868 7474 7073 3a2f 2f67 6974  333](https://git
+00026100: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00026110: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+00026120: 732f 3433 3333 2929 0a2d 2055 7064 6174  s/4333)).- Updat
+00026130: 6520 7075 6c6c 2072 6571 7565 7374 2074  e pull request t
+00026140: 656d 706c 6174 6520 746f 2075 7365 2061  emplate to use a
+00026150: 6273 6f6c 7574 6520 6c69 6e6b 7320 285b  bsolute links ([
+00026160: 5c23 3433 3431 5d28 6874 7470 733a 2f2f  \#4341](https://
+00026170: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00026180: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00026190: 7375 6573 2f34 3334 3129 290a 2d20 5570  sues/4341)).- Up
+000261a0: 6461 7465 2052 4541 444d 4520 746f 206e  date README to n
+000261b0: 6f74 206c 6965 2061 626f 7574 2072 6571  ot lie about req
+000261c0: 7569 7265 6420 7265 7374 6172 7420 7768  uired restart wh
+000261d0: 656e 2075 7064 6174 696e 6720 544c 5320  en updating TLS 
+000261e0: 6365 7274 6966 6963 6174 6573 2028 5b5c  certificates ([\
+000261f0: 2334 3334 335d 2868 7474 7073 3a2f 2f67  #4343](https://g
+00026200: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00026210: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00026220: 7565 732f 3433 3433 2929 0a2d 2055 7064  ues/4343)).- Upd
+00026230: 6174 6520 6465 6269 616e 2070 6163 6b61  ate debian packa
+00026240: 6769 6e67 2066 6f72 2063 6f6d 7061 7469  ging for compati
+00026250: 6269 6c69 7479 2077 6974 6820 7472 616e  bility with tran
+00026260: 7369 7469 6f6e 616c 2070 6163 6b61 6765  sitional package
+00026270: 2028 5b5c 2334 3334 395d 2868 7474 7073   ([\#4349](https
+00026280: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00026290: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+000262a0: 2f69 7373 7565 732f 3433 3439 2929 0a2d  /issues/4349)).-
+000262b0: 2046 6978 2063 6f6d 6d61 6e64 2068 696e   Fix command hin
+000262c0: 7420 746f 2067 656e 6572 6174 6520 6120  t to generate a 
+000262d0: 636f 6e66 6967 2066 696c 6520 7768 656e  config file when
+000262e0: 2074 7279 696e 6720 746f 2073 7461 7274   trying to start
+000262f0: 2077 6974 686f 7574 2061 2063 6f6e 6669   without a confi
+00026300: 6720 6669 6c65 2028 5b5c 2334 3335 335d  g file ([\#4353]
+00026310: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00026320: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+00026330: 796e 6170 7365 2f69 7373 7565 732f 3433  ynapse/issues/43
+00026340: 3533 2929 0a2d 2041 6464 2062 6574 7465  53)).- Add bette
+00026350: 7220 6c6f 6767 696e 6720 666f 7220 756e  r logging for un
+00026360: 6578 7065 6374 6564 2065 7272 6f72 7320  expected errors 
+00026370: 7768 696c 6520 7365 6e64 696e 6720 7472  while sending tr
+00026380: 616e 7361 6374 696f 6e73 2028 5b5c 2334  ansactions ([\#4
+00026390: 3335 385d 2868 7474 7073 3a2f 2f67 6974  358](https://git
+000263a0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+000263b0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+000263c0: 732f 3433 3538 2929 0a0a 0a53 796e 6170  s/4358))...Synap
+000263d0: 7365 2030 2e33 342e 3020 2832 3031 382d  se 0.34.0 (2018-
+000263e0: 3132 2d32 3029 0a3d 3d3d 3d3d 3d3d 3d3d  12-20).=========
+000263f0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00026400: 3d3d 0a0a 5379 6e61 7073 6520 302e 3334  ==..Synapse 0.34
+00026410: 2e30 2069 7320 7468 6520 6669 7273 7420  .0 is the first 
+00026420: 7265 6c65 6173 6520 746f 2066 756c 6c79  release to fully
+00026430: 2073 7570 706f 7274 2050 7974 686f 6e20   support Python 
+00026440: 332e 2053 796e 6170 7365 2077 696c 6c20  3. Synapse will 
+00026450: 6e6f 770a 7275 6e20 6f6e 2050 7974 686f  now.run on Pytho
+00026460: 6e20 7665 7273 696f 6e73 2033 2e35 206f  n versions 3.5 o
+00026470: 7220 332e 3620 2861 7320 7765 6c6c 2061  r 3.6 (as well a
+00026480: 7320 322e 3729 2e20 5375 7070 6f72 7420  s 2.7). Support 
+00026490: 666f 7220 5079 7468 6f6e 2033 2e37 0a72  for Python 3.7.r
+000264a0: 656d 6169 6e73 2065 7870 6572 696d 656e  emains experimen
+000264b0: 7461 6c2e 0a0a 5765 2072 6563 6f6d 6d65  tal...We recomme
+000264c0: 6e64 2075 7067 7261 6469 6e67 2074 6f20  nd upgrading to 
+000264d0: 5079 7468 6f6e 2033 2c20 6275 7420 6d61  Python 3, but ma
+000264e0: 6b65 2073 7572 6520 746f 2072 6561 6420  ke sure to read 
+000264f0: 7468 6520 5b75 7067 7261 6465 0a6e 6f74  the [upgrade.not
+00026500: 6573 5d28 5550 4752 4144 452e 7273 7423  es](UPGRADE.rst#
+00026510: 7570 6772 6164 696e 672d 746f 2d76 3033  upgrading-to-v03
+00026520: 3430 2920 7768 656e 2064 6f69 6e67 2073  40) when doing s
+00026530: 6f2e 0a0a 4665 6174 7572 6573 0a2d 2d2d  o...Features.---
+00026540: 2d2d 2d2d 2d0a 0a2d 2041 6464 2027 7361  -----..- Add 'sa
+00026550: 6e64 626f 7827 2074 6f20 4353 5020 666f  ndbox' to CSP fo
+00026560: 7220 6d65 6469 6120 7265 7072 6f73 6974  r media reprosit
+00026570: 6f72 7920 285b 5c23 3432 3834 5d28 6874  ory ([\#4284](ht
+00026580: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00026590: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+000265a0: 7073 652f 6973 7375 6573 2f34 3238 3429  pse/issues/4284)
+000265b0: 290a 2d20 4d61 6b65 2074 6865 206e 6577  ).- Make the new
+000265c0: 206c 616e 6469 6e67 2070 6167 6520 7072   landing page pr
+000265d0: 6574 7469 6572 2e20 285b 5c23 3432 3934  ettier. ([\#4294
+000265e0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+000265f0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00026600: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
+00026610: 3239 3429 290a 2d20 4669 7820 6465 6c65  294)).- Fix dele
+00026620: 7469 6e67 2045 3245 2072 6f6f 6d20 6b65  ting E2E room ke
+00026630: 7973 2077 6865 6e20 7573 696e 6720 6f6c  ys when using ol
+00026640: 6420 5351 4c69 7465 2076 6572 7369 6f6e  d SQLite version
+00026650: 732e 2028 5b5c 2334 3239 355d 2868 7474  s. ([\#4295](htt
+00026660: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00026670: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00026680: 7365 2f69 7373 7565 732f 3432 3935 2929  se/issues/4295))
+00026690: 0a2d 2041 6464 2061 2077 656c 636f 6d65  .- Add a welcome
+000266a0: 2070 6167 6520 666f 7220 7468 6520 636c   page for the cl
+000266b0: 6965 6e74 2041 5049 2070 6f72 742e 2043  ient API port. C
+000266c0: 7265 6469 7420 746f 2040 6b72 6f6d 6265  redit to @krombe
+000266d0: 6c21 2028 5b5c 2334 3238 395d 2868 7474  l! ([\#4289](htt
+000266e0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+000266f0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00026700: 7365 2f69 7373 7565 732f 3432 3839 2929  se/issues/4289))
+00026710: 0a2d 2052 656d 6f76 6520 4d61 7472 6978  .- Remove Matrix
+00026720: 2063 6f6e 736f 6c65 2066 726f 6d20 7468   console from th
+00026730: 6520 6465 6661 756c 7420 6469 7374 7269  e default distri
+00026740: 6275 7469 6f6e 2028 5b5c 2334 3239 305d  bution ([\#4290]
+00026750: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00026760: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+00026770: 796e 6170 7365 2f69 7373 7565 732f 3432  ynapse/issues/42
+00026780: 3930 2929 0a2d 2041 6464 206f 7074 696f  90)).- Add optio
+00026790: 6e20 746f 2074 7261 636b 204d 4155 2073  n to track MAU s
+000267a0: 7461 7473 2028 6275 7420 6e6f 7420 6c69  tats (but not li
+000267b0: 6d69 7420 7065 6f70 6c65 2920 285b 5c23  mit people) ([\#
+000267c0: 3338 3330 5d28 6874 7470 733a 2f2f 6769  3830](https://gi
+000267d0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+000267e0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+000267f0: 6573 2f33 3833 3029 290a 2d20 4164 6420  es/3830)).- Add 
+00026800: 616e 206f 7074 696f 6e20 746f 2065 6e61  an option to ena
+00026810: 626c 6520 7265 636f 7264 696e 6720 4950  ble recording IP
+00026820: 7320 666f 7220 6170 7073 6572 7669 6365  s for appservice
+00026830: 2075 7365 7273 2028 5b5c 2333 3833 315d   users ([\#3831]
+00026840: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00026850: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+00026860: 796e 6170 7365 2f69 7373 7565 732f 3338  ynapse/issues/38
+00026870: 3331 2929 0a2d 2052 656e 616d 6520 6c6f  31)).- Rename lo
+00026880: 6769 6e20 7479 7065 2060 6d2e 6c6f 6769  gin type `m.logi
+00026890: 6e2e 6361 7360 2074 6f20 606d 2e6c 6f67  n.cas` to `m.log
+000268a0: 696e 2e73 736f 6020 285b 5c23 3432 3230  in.sso` ([\#4220
+000268b0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+000268c0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+000268d0: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
+000268e0: 3232 3029 290a 2d20 4164 6420 616e 206f  220)).- Add an o
+000268f0: 7074 696f 6e20 746f 2064 6973 6162 6c65  ption to disable
+00026900: 2073 6561 7263 6820 666f 7220 686f 6d65   search for home
+00026910: 7365 7276 6572 7320 7468 6174 206d 6179  servers that may
+00026920: 206e 6f74 2062 6520 696e 7465 7265 7374   not be interest
+00026930: 6564 2069 6e20 6974 2e20 285b 5c23 3432  ed in it. ([\#42
+00026940: 3330 5d28 6874 7470 733a 2f2f 6769 7468  30](https://gith
+00026950: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00026960: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00026970: 2f34 3233 3029 290a 0a0a 4275 6766 6978  /4230))...Bugfix
+00026980: 6573 0a2d 2d2d 2d2d 2d2d 2d0a 0a2d 2050  es.--------..- P
+00026990: 7573 6872 756c 6573 2063 616e 206e 6f77  ushrules can now
+000269a0: 2061 6761 696e 2062 6520 6d61 6465 2077   again be made w
+000269b0: 6974 6820 6e6f 6e2d 4153 4349 4920 7275  ith non-ASCII ru
+000269c0: 6c65 2049 4473 2e20 285b 5c23 3431 3635  le IDs. ([\#4165
+000269d0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+000269e0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+000269f0: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
+00026a00: 3136 3529 290a 2d20 5468 6520 6d65 6469  165)).- The medi
+00026a10: 6120 7265 706f 7369 746f 7279 206e 6f77  a repository now
+00026a20: 206e 6f20 6c6f 6e67 6572 2066 6169 6c73   no longer fails
+00026a30: 2074 6f20 6465 636f 6465 2055 5446 2d38   to decode UTF-8
+00026a40: 2066 696c 656e 616d 6573 2077 6865 6e20   filenames when 
+00026a50: 646f 776e 6c6f 6164 696e 6720 7265 6d6f  downloading remo
+00026a60: 7465 206d 6564 6961 2e20 285b 5c23 3431  te media. ([\#41
+00026a70: 3736 5d28 6874 7470 733a 2f2f 6769 7468  76](https://gith
+00026a80: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00026a90: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00026aa0: 2f34 3137 3629 290a 2d20 5552 4c20 7072  /4176)).- URL pr
+00026ab0: 6576 6965 7773 206e 6f77 2063 6f72 7265  eviews now corre
+00026ac0: 6374 6c79 2064 6563 6f64 6520 6e6f 6e2d  ctly decode non-
+00026ad0: 5554 462d 3820 7465 7874 2069 6620 7468  UTF-8 text if th
+00026ae0: 6520 6865 6164 6572 2063 6f6e 7461 696e  e header contain
+00026af0: 7320 6120 603c 6d65 7461 2068 7474 702d  s a `<meta http-
+00026b00: 6571 7569 763d 2243 6f6e 7465 6e74 2d54  equiv="Content-T
+00026b10: 7970 6522 6020 6865 6164 6572 2e20 285b  ype"` header. ([
+00026b20: 5c23 3431 3833 5d28 6874 7470 733a 2f2f  \#4183](https://
+00026b30: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00026b40: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00026b50: 7375 6573 2f34 3138 3329 290a 2d20 4669  sues/4183)).- Fi
+00026b60: 7820 616e 2069 7373 7565 2077 6865 7265  x an issue where
+00026b70: 2070 7562 6c69 6320 636f 6e73 656e 7420   public consent 
+00026b80: 5552 4c73 2068 6164 2074 776f 2073 6c61  URLs had two sla
+00026b90: 7368 6573 2e20 285b 5c23 3431 3932 5d28  shes. ([\#4192](
+00026ba0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00026bb0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00026bc0: 6e61 7073 652f 6973 7375 6573 2f34 3139  napse/issues/419
+00026bd0: 3229 290a 2d20 4661 6c6c 6261 636b 2061  2)).- Fallback a
+00026be0: 7574 6820 6e6f 7720 6163 6365 7074 7320  uth now accepts 
+00026bf0: 7468 6520 7365 7373 696f 6e20 7061 7261  the session para
+00026c00: 6d65 7465 7220 6f6e 2050 7974 686f 6e20  meter on Python 
+00026c10: 332e 2028 5b5c 2334 3139 375d 2868 7474  3. ([\#4197](htt
+00026c20: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00026c30: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00026c40: 7365 2f69 7373 7565 732f 3431 3937 2929  se/issues/4197))
+00026c50: 0a2d 2052 656d 6f76 6520 7269 6f74 2e69  .- Remove riot.i
+00026c60: 6d20 6672 6f6d 2074 6865 206c 6973 7420  m from the list 
+00026c70: 6f66 2074 7275 7374 6564 2049 6465 6e74  of trusted Ident
+00026c80: 6974 7920 5365 7276 6572 7320 696e 2074  ity Servers in t
+00026c90: 6865 2064 6566 6175 6c74 2063 6f6e 6669  he default confi
+00026ca0: 6775 7261 7469 6f6e 2028 5b5c 2334 3230  guration ([\#420
+00026cb0: 375d 2868 7474 7073 3a2f 2f67 6974 6875  7](https://githu
+00026cc0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00026cd0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00026ce0: 3432 3037 2929 0a2d 2066 6978 2073 7461  4207)).- fix sta
+00026cf0: 7274 2075 7020 6661 696c 7572 6520 7768  rt up failure wh
+00026d00: 656e 206d 6175 5f6c 696d 6974 5f72 6573  en mau_limit_res
+00026d10: 6572 7665 645f 7468 7265 6570 6964 7320  erved_threepids 
+00026d20: 7365 7420 616e 6420 6462 2069 7320 706f  set and db is po
+00026d30: 7374 6772 6573 2028 5b5c 2334 3231 315d  stgres ([\#4211]
+00026d40: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00026d50: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+00026d60: 796e 6170 7365 2f69 7373 7565 732f 3432  ynapse/issues/42
+00026d70: 3131 2929 0a2d 2046 6978 2061 7574 6f20  11)).- Fix auto 
+00026d80: 6a6f 696e 2066 6169 6c75 7265 7320 666f  join failures fo
+00026d90: 7220 7365 7276 6572 7320 7468 6174 2072  r servers that r
+00026da0: 6571 7569 7265 2075 7365 7220 636f 6e73  equire user cons
+00026db0: 656e 7420 285b 5c23 3432 3233 5d28 6874  ent ([\#4223](ht
+00026dc0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00026dd0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+00026de0: 7073 652f 6973 7375 6573 2f34 3232 3329  pse/issues/4223)
+00026df0: 290a 2d20 4669 7820 6578 6365 7074 696f  ).- Fix exceptio
+00026e00: 6e20 6361 7573 6564 2062 7920 6e6f 6e2d  n caused by non-
+00026e10: 6173 6369 6920 6576 656e 7420 4944 7320  ascii event IDs 
+00026e20: 285b 5c23 3432 3431 5d28 6874 7470 733a  ([\#4241](https:
+00026e30: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00026e40: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00026e50: 6973 7375 6573 2f34 3234 3129 290a 2d20  issues/4241)).- 
+00026e60: 5075 7368 6572 7320 6361 6e20 6e6f 7720  Pushers can now 
+00026e70: 6265 2075 6e73 7562 7363 7269 6265 6420  be unsubscribed 
+00026e80: 6672 6f6d 206f 6e20 5079 7468 6f6e 2033  from on Python 3
+00026e90: 2e20 285b 5c23 3432 3530 5d28 6874 7470  . ([\#4250](http
+00026ea0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+00026eb0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+00026ec0: 652f 6973 7375 6573 2f34 3235 3029 290a  e/issues/4250)).
+00026ed0: 2d20 4669 7820 556e 6963 6f64 6544 6563  - Fix UnicodeDec
+00026ee0: 6f64 6545 7272 6f72 2077 6865 6e20 706f  odeError when po
+00026ef0: 7374 6772 6573 2069 7320 636f 6e66 6967  stgres is config
+00026f00: 7572 6564 2074 6f20 6769 7665 206e 6f6e  ured to give non
+00026f10: 2d45 6e67 6c69 7368 2065 7272 6f72 7320  -English errors 
+00026f20: 285b 5c23 3432 3533 5d28 6874 7470 733a  ([\#4253](https:
+00026f30: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00026f40: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00026f50: 6973 7375 6573 2f34 3235 3329 290a 0a0a  issues/4253))...
+00026f60: 496e 7465 726e 616c 2043 6861 6e67 6573  Internal Changes
+00026f70: 0a2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  .---------------
+00026f80: 2d0a 0a2d 2044 6562 6961 6e20 7061 636b  -..- Debian pack
+00026f90: 6167 6573 2075 7469 6c69 7369 6e67 2061  ages utilising a
+00026fa0: 2076 6972 7475 616c 656e 7620 7769 7468   virtualenv with
+00026fb0: 2062 756e 646c 6564 2064 6570 656e 6465   bundled depende
+00026fc0: 6e63 6965 7320 6361 6e20 6e6f 7720 6265  ncies can now be
+00026fd0: 2062 7569 6c74 2e20 285b 5c23 3432 3132   built. ([\#4212
+00026fe0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00026ff0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00027000: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
+00027010: 3231 3229 290a 2d20 4469 7361 626c 6520  212)).- Disable 
+00027020: 7061 6765 7220 7768 656e 2072 756e 6e69  pager when runni
+00027030: 6e67 2067 6974 2d73 686f 7720 696e 2043  ng git-show in C
+00027040: 4920 285b 5c23 3432 3931 5d28 6874 7470  I ([\#4291](http
+00027050: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+00027060: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+00027070: 652f 6973 7375 6573 2f34 3239 3129 290a  e/issues/4291)).
+00027080: 2d20 4120 636f 7665 7261 6765 7263 2066  - A coveragerc f
+00027090: 696c 6520 6861 7320 6265 656e 2061 6464  ile has been add
+000270a0: 6564 2e20 285b 5c23 3431 3830 5d28 6874  ed. ([\#4180](ht
+000270b0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+000270c0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+000270d0: 7073 652f 6973 7375 6573 2f34 3138 3029  pse/issues/4180)
+000270e0: 290a 2d20 4164 6420 6120 4769 7448 7562  ).- Add a GitHub
+000270f0: 2070 756c 6c20 7265 7175 6573 7420 7465   pull request te
+00027100: 6d70 6c61 7465 2061 6e64 2061 6464 206d  mplate and add m
+00027110: 756c 7469 706c 6520 6973 7375 6520 7465  ultiple issue te
+00027120: 6d70 6c61 7465 7320 285b 5c23 3431 3832  mplates ([\#4182
+00027130: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00027140: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00027150: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
+00027160: 3138 3229 290a 2d20 5570 6461 7465 2052  182)).- Update R
+00027170: 4541 444d 4520 746f 2072 6566 6c65 6374  EADME to reflect
+00027180: 2074 6865 2066 6163 7420 7468 6174 205b   the fact that [
+00027190: 5c23 3134 3931 5d28 6874 7470 733a 2f2f  \#1491](https://
+000271a0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+000271b0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+000271c0: 7375 6573 2f31 3439 3129 2069 7320 6669  sues/1491) is fi
+000271d0: 7865 6420 285b 5c23 3431 3838 5d28 6874  xed ([\#4188](ht
+000271e0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+000271f0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+00027200: 7073 652f 6973 7375 6573 2f34 3138 3829  pse/issues/4188)
+00027210: 290a 2d20 5275 6e20 7468 6520 4153 2073  ).- Run the AS s
+00027220: 656e 6465 7273 2061 7320 6261 636b 6772  enders as backgr
+00027230: 6f75 6e64 2070 726f 6365 7373 6573 2074  ound processes t
+00027240: 6f20 6669 7820 7761 726e 696e 6773 2028  o fix warnings (
+00027250: 5b5c 2334 3138 395d 2868 7474 7073 3a2f  [\#4189](https:/
+00027260: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+00027270: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00027280: 7373 7565 732f 3431 3839 2929 0a2d 2041  ssues/4189)).- A
+00027290: 6464 2073 6f6d 6520 6469 6167 6e6f 7374  dd some diagnost
+000272a0: 6963 7320 746f 2074 6865 2074 6573 7473  ics to the tests
+000272b0: 2074 6f20 6465 7465 6374 206c 6f67 636f   to detect logco
+000272c0: 6e74 6578 7420 7072 6f62 6c65 6d73 2028  ntext problems (
+000272d0: 5b5c 2334 3139 305d 2868 7474 7073 3a2f  [\#4190](https:/
+000272e0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+000272f0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00027300: 7373 7565 732f 3431 3930 2929 0a2d 2041  ssues/4190)).- A
+00027310: 6464 206d 6973 7369 6e67 2060 6a70 6567  dd missing `jpeg
+00027320: 6020 7061 636b 6167 6520 7072 6572 6571  ` package prereq
+00027330: 7569 7369 7465 2066 6f72 204f 7065 6e42  uisite for OpenB
+00027340: 5344 2069 6e20 5245 4144 4d45 2e20 285b  SD in README. ([
+00027350: 5c23 3431 3933 5d28 6874 7470 733a 2f2f  \#4193](https://
+00027360: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00027370: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00027380: 7375 6573 2f34 3139 3329 290a 2d20 4164  sues/4193)).- Ad
+00027390: 6420 6120 6e6f 7465 2073 6179 696e 6720  d a note saying 
+000273a0: 796f 7520 6e65 6564 2074 6f20 6d61 6e75  you need to manu
+000273b0: 616c 6c79 2072 6563 6c61 696d 2064 6973  ally reclaim dis
+000273c0: 6b20 7370 6163 6520 6166 7465 7220 7573  k space after us
+000273d0: 696e 6720 7468 6520 5075 7267 6520 4869  ing the Purge Hi
+000273e0: 7374 6f72 7920 4150 4920 285b 5c23 3432  story API ([\#42
+000273f0: 3030 5d28 6874 7470 733a 2f2f 6769 7468  00](https://gith
+00027400: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00027410: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00027420: 2f34 3230 3029 290a 2d20 4d6f 7265 206c  /4200)).- More l
+00027430: 6f67 636f 6e74 6578 7420 6368 6563 6b69  ogcontext checki
+00027440: 6e67 2069 6e20 756e 6974 7465 7374 7320  ng in unittests 
+00027450: 285b 5c23 3432 3035 5d28 6874 7470 733a  ([\#4205](https:
+00027460: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00027470: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00027480: 6973 7375 6573 2f34 3230 3529 290a 2d20  issues/4205)).- 
+00027490: 4967 6e6f 7265 2060 5f5f 7079 6361 6368  Ignore `__pycach
+000274a0: 655f 5f60 2064 6972 6563 746f 7269 6573  e__` directories
+000274b0: 2069 6e20 7468 6520 6461 7461 6261 7365   in the database
+000274c0: 2073 6368 656d 6120 666f 6c64 6572 2028   schema folder (
+000274d0: 5b5c 2334 3231 345d 2868 7474 7073 3a2f  [\#4214](https:/
+000274e0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+000274f0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00027500: 7373 7565 732f 3432 3134 2929 0a2d 2041  ssues/4214)).- A
+00027510: 6464 206e 6f74 6520 746f 2055 5047 5241  dd note to UPGRA
+00027520: 4445 2e72 7374 2061 626f 7574 2072 656d  DE.rst about rem
+00027530: 6f76 696e 6720 7269 6f74 2e69 6d20 6672  oving riot.im fr
+00027540: 6f6d 206c 6973 7420 6f66 2074 7275 7374  om list of trust
+00027550: 6564 2069 6465 6e74 6974 7920 7365 7276  ed identity serv
+00027560: 6572 7320 285b 5c23 3432 3234 5d28 6874  ers ([\#4224](ht
+00027570: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00027580: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+00027590: 7073 652f 6973 7375 6573 2f34 3232 3429  pse/issues/4224)
+000275a0: 290a 2d20 4164 6465 6420 6175 746f 6d61  ).- Added automa
+000275b0: 7465 6420 636f 7665 7261 6765 2072 6570  ted coverage rep
+000275c0: 6f72 7469 6e67 2074 6f20 4349 2e20 285b  orting to CI. ([
+000275d0: 5c23 3432 3235 5d28 6874 7470 733a 2f2f  \#4225](https://
+000275e0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+000275f0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00027600: 7375 6573 2f34 3232 3529 290a 2d20 4761  sues/4225)).- Ga
+00027610: 7262 6167 652d 636f 6c6c 6563 7420 6166  rbage-collect af
+00027620: 7465 7220 6561 6368 2075 6e69 7420 7465  ter each unit te
+00027630: 7374 2074 6f20 6669 7820 6c6f 6763 6f6e  st to fix logcon
+00027640: 7465 7874 206c 6561 6b73 2028 5b5c 2334  text leaks ([\#4
+00027650: 3232 375d 2868 7474 7073 3a2f 2f67 6974  227](https://git
+00027660: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00027670: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+00027680: 732f 3432 3237 2929 0a2d 2061 6464 206d  s/4227)).- add m
+00027690: 6f72 6520 6465 7461 696c 2074 6f20 6c6f  ore detail to lo
+000276a0: 6767 696e 6720 7265 6761 7264 696e 6720  gging regarding 
+000276b0: 224d 6f72 6520 7468 616e 206f 6e65 2072  "More than one r
+000276c0: 6f77 206d 6174 6368 6564 2220 6572 726f  ow matched" erro
+000276d0: 7220 285b 5c23 3432 3334 5d28 6874 7470  r ([\#4234](http
+000276e0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+000276f0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+00027700: 652f 6973 7375 6573 2f34 3233 3429 290a  e/issues/4234)).
+00027710: 2d20 4472 6f70 2073 656e 745f 7472 616e  - Drop sent_tran
+00027720: 7361 6374 696f 6e73 2074 6162 6c65 2028  sactions table (
+00027730: 5b5c 2334 3234 345d 2868 7474 7073 3a2f  [\#4244](https:/
+00027740: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+00027750: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00027760: 7373 7565 732f 3432 3434 2929 0a2d 2041  ssues/4244)).- A
+00027770: 6464 2061 2062 6173 6963 202e 6564 6974  dd a basic .edit
+00027780: 6f72 636f 6e66 6967 2028 5b5c 2334 3235  orconfig ([\#425
+00027790: 375d 2868 7474 7073 3a2f 2f67 6974 6875  7](https://githu
+000277a0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+000277b0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+000277c0: 3432 3537 2929 0a2d 2055 7064 6174 6520  4257)).- Update 
+000277d0: 5245 4144 4d45 2e72 7374 2061 6e64 2055  README.rst and U
+000277e0: 5047 5241 4445 2e72 7374 2066 6f72 2050  PGRADE.rst for P
+000277f0: 7974 686f 6e20 332e 2028 5b5c 2334 3236  ython 3. ([\#426
+00027800: 305d 2868 7474 7073 3a2f 2f67 6974 6875  0](https://githu
+00027810: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00027820: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00027830: 3432 3630 2929 0a2d 2052 656d 6f76 6520  4260)).- Remove 
+00027840: 6f62 736f 6c65 7465 2060 7665 7262 6f73  obsolete `verbos
+00027850: 6560 2061 6e64 2060 6c6f 675f 6669 6c65  e` and `log_file
+00027860: 6020 7365 7474 696e 6773 2066 726f 6d20  ` settings from 
+00027870: 6068 6f6d 6573 6572 7665 722e 7961 6d6c  `homeserver.yaml
+00027880: 6020 666f 7220 446f 636b 6572 2069 6d61  ` for Docker ima
+00027890: 6765 2e20 285b 5c23 3432 3631 5d28 6874  ge. ([\#4261](ht
 000278a0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
 000278b0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-000278c0: 7073 652f 6973 7375 6573 2f34 3138 3429  pse/issues/4184)
-000278d0: 290a 2d20 5375 7070 6f72 7420 666f 7220  ).- Support for 
-000278e0: 7265 706c 6163 696e 6720 726f 6f6d 7320  replacing rooms 
-000278f0: 7769 7468 206e 6577 206f 6e65 7320 285b  with new ones ([
-00027900: 5c23 3430 3931 5d28 6874 7470 733a 2f2f  \#4091](https://
-00027910: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-00027920: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00027930: 7375 6573 2f34 3039 3129 2c20 5b5c 2334  sues/4091), [\#4
-00027940: 3039 395d 2868 7474 7073 3a2f 2f67 6974  099](https://git
-00027950: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-00027960: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-00027970: 732f 3430 3939 292c 205b 5c23 3431 3030  s/4099), [\#4100
-00027980: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00027990: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-000279a0: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
-000279b0: 3130 3029 2c20 5b5c 2334 3130 315d 2868  100), [\#4101](h
-000279c0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-000279d0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-000279e0: 6170 7365 2f69 7373 7565 732f 3431 3031  apse/issues/4101
-000279f0: 2929 0a0a 0a42 7567 6669 7865 730a 2d2d  ))...Bugfixes.--
-00027a00: 2d2d 2d2d 2d2d 0a0a 2d20 4669 7820 6578  ------..- Fix ex
-00027a10: 6365 7074 696f 6e73 2077 6865 6e20 7573  ceptions when us
-00027a20: 696e 6720 7468 6520 656d 6169 6c20 6d61  ing the email ma
-00027a30: 696c 6572 206f 6e20 5079 7468 6f6e 2033  iler on Python 3
-00027a40: 2e20 285b 5c23 3430 3935 5d28 6874 7470  . ([\#4095](http
-00027a50: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00027a60: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00027a70: 652f 6973 7375 6573 2f34 3039 3529 290a  e/issues/4095)).
-00027a80: 2d20 4669 7820 6532 6520 6b65 7920 6261  - Fix e2e key ba
-00027a90: 636b 7570 2077 6974 6820 6d6f 7265 2074  ckup with more t
-00027aa0: 6861 6e20 3920 6261 636b 7570 2076 6572  han 9 backup ver
-00027ab0: 7369 6f6e 7320 285b 5c23 3431 3133 5d28  sions ([\#4113](
-00027ac0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00027ad0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-00027ae0: 6e61 7073 652f 6973 7375 6573 2f34 3131  napse/issues/411
-00027af0: 3329 290a 2d20 5365 6172 6368 6573 2074  3)).- Searches t
-00027b00: 6861 7420 7265 7175 6573 7420 7072 6f66  hat request prof
-00027b10: 696c 6520 696e 666f 206e 6f77 206e 6f20  ile info now no 
-00027b20: 6c6f 6e67 6572 2066 6169 6c20 7769 7468  longer fail with
-00027b30: 2061 2035 3030 2e20 285b 5c23 3431 3232   a 500. ([\#4122
-00027b40: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00027b50: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00027b60: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
-00027b70: 3132 3229 290a 2d20 6669 7820 7265 7475  122)).- fix retu
-00027b80: 726e 2063 6f64 6520 6f66 2065 6d70 7479  rn code of empty
-00027b90: 206b 6579 2062 6163 6b75 7073 2028 5b5c   key backups ([\
-00027ba0: 2334 3132 335d 2868 7474 7073 3a2f 2f67  #4123](https://g
-00027bb0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-00027bc0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-00027bd0: 7565 732f 3431 3233 2929 0a2d 2049 6620  ues/4123)).- If 
-00027be0: 7468 6520 7479 7069 6e67 2073 7472 6561  the typing strea
-00027bf0: 6d20 4944 2067 6f65 7320 6261 636b 7761  m ID goes backwa
-00027c00: 7264 7320 2861 7320 6f6e 2061 2077 6f72  rds (as on a wor
-00027c10: 6b65 7220 7768 656e 2074 6865 206d 6173  ker when the mas
-00027c20: 7465 7220 7265 7374 6172 7473 292c 2074  ter restarts), t
-00027c30: 6865 2077 6f72 6b65 7227 7320 7479 7069  he worker's typi
-00027c40: 6e67 2068 616e 646c 6572 2077 696c 6c20  ng handler will 
-00027c50: 6e6f 206c 6f6e 6765 7220 6572 726f 6e65  no longer errone
-00027c60: 6f75 736c 7920 7265 706f 7274 2072 6f6f  ously report roo
-00027c70: 6d73 2063 6f6e 7461 696e 696e 6720 6e65  ms containing ne
-00027c80: 7720 7479 7069 6e67 2065 7665 6e74 732e  w typing events.
-00027c90: 2028 5b5c 2334 3132 375d 2868 7474 7073   ([\#4127](https
-00027ca0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00027cb0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00027cc0: 2f69 7373 7565 732f 3431 3237 2929 0a2d  /issues/4127)).-
-00027cd0: 2046 6978 2074 6162 6c65 206c 6f63 6b20   Fix table lock 
-00027ce0: 6f66 2064 6576 6963 655f 6c69 7374 735f  of device_lists_
-00027cf0: 7265 6d6f 7465 5f63 6163 6865 2077 6869  remote_cache whi
-00027d00: 6368 2063 6f75 6c64 2066 7265 657a 6520  ch could freeze 
-00027d10: 7468 6520 6170 706c 6963 6174 696f 6e20  the application 
-00027d20: 285b 5c23 3431 3332 5d28 6874 7470 733a  ([\#4132](https:
-00027d30: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00027d40: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00027d50: 6973 7375 6573 2f34 3133 3229 290a 2d20  issues/4132)).- 
-00027d60: 4669 7820 6578 6365 7074 696f 6e20 7768  Fix exception wh
-00027d70: 656e 2075 7369 6e67 2073 7461 7465 2072  en using state r
-00027d80: 6573 2076 3220 616c 676f 7269 7468 6d20  es v2 algorithm 
-00027d90: 285b 5c23 3431 3335 5d28 6874 7470 733a  ([\#4135](https:
-00027da0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00027db0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00027dc0: 6973 7375 6573 2f34 3133 3529 290a 2d20  issues/4135)).- 
-00027dd0: 4765 6e65 7261 7469 6e67 2074 6865 2075  Generating the u
-00027de0: 7365 7220 636f 6e73 656e 7420 5552 4920  ser consent URI 
-00027df0: 6e6f 206c 6f6e 6765 7220 6661 696c 7320  no longer fails 
-00027e00: 6f6e 2050 7974 686f 6e20 332e 2028 5b5c  on Python 3. ([\
-00027e10: 2334 3134 305d 2868 7474 7073 3a2f 2f67  #4140](https://g
-00027e20: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-00027e30: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-00027e40: 7565 732f 3431 3430 292c 205b 5c23 3431  ues/4140), [\#41
-00027e50: 3633 5d28 6874 7470 733a 2f2f 6769 7468  63](https://gith
-00027e60: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00027e70: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00027e80: 2f34 3136 3329 290a 2d20 4c6f 6164 696e  /4163)).- Loadin
-00027e90: 6720 5552 4c20 7072 6576 6965 7773 2066  g URL previews f
-00027ea0: 726f 6d20 7468 6520 4442 2063 6163 6865  rom the DB cache
-00027eb0: 206f 6e20 506f 7374 6772 6573 2077 696c   on Postgres wil
-00027ec0: 6c20 6e6f 206c 6f6e 6765 7220 6361 7573  l no longer caus
-00027ed0: 6520 556e 6963 6f64 6520 7479 7065 2065  e Unicode type e
-00027ee0: 7272 6f72 7320 7768 656e 2072 6573 706f  rrors when respo
-00027ef0: 6e64 696e 6720 746f 2074 6865 2072 6571  nding to the req
-00027f00: 7565 7374 2c20 616e 6420 5552 4c20 7072  uest, and URL pr
-00027f10: 6576 6965 7773 2077 696c 6c20 6e6f 206c  eviews will no l
-00027f20: 6f6e 6765 7220 6661 696c 2069 6620 7468  onger fail if th
-00027f30: 6520 7265 6d6f 7465 2073 6572 7665 7220  e remote server 
-00027f40: 7265 7475 726e 7320 6120 436f 6e74 656e  returns a Conten
-00027f50: 742d 5479 7065 2068 6561 6465 7220 7769  t-Type header wi
-00027f60: 7468 2074 6865 2063 6861 7274 7970 6520  th the chartype 
-00027f70: 696e 2071 756f 7465 732e 2028 5b5c 2334  in quotes. ([\#4
-00027f80: 3135 375d 2868 7474 7073 3a2f 2f67 6974  157](https://git
-00027f90: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-00027fa0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-00027fb0: 732f 3431 3537 2929 0a2d 2054 6865 2068  s/4157)).- The h
-00027fc0: 6173 685f 7061 7373 776f 7264 2073 6372  ash_password scr
-00027fd0: 6970 7420 6e6f 7720 776f 726b 7320 6f6e  ipt now works on
-00027fe0: 2050 7974 686f 6e20 332e 2028 5b5c 2334   Python 3. ([\#4
-00027ff0: 3136 315d 2868 7474 7073 3a2f 2f67 6974  161](https://git
-00028000: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-00028010: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-00028020: 732f 3431 3631 2929 0a2d 2046 6978 206e  s/4161)).- Fix n
-00028030: 6f6f 7020 6368 6563 6b73 2077 6865 6e20  oop checks when 
-00028040: 7570 6461 7469 6e67 2064 6576 6963 6520  updating device 
-00028050: 6b65 7973 2c20 7265 6475 6369 6e67 2073  keys, reducing s
-00028060: 7075 7269 6f75 7320 6465 7669 6365 206c  purious device l
-00028070: 6973 7420 7570 6461 7465 206e 6f74 6966  ist update notif
-00028080: 6963 6174 696f 6e73 2e20 285b 5c23 3431  ications. ([\#41
-00028090: 3634 5d28 6874 7470 733a 2f2f 6769 7468  64](https://gith
-000280a0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-000280b0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-000280c0: 2f34 3136 3429 290a 0a0a 4465 7072 6563  /4164))...Deprec
-000280d0: 6174 696f 6e73 2061 6e64 2052 656d 6f76  ations and Remov
-000280e0: 616c 730a 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  als.------------
-000280f0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a 0a2d  -------------..-
-00028100: 2054 6865 2064 6973 7573 6564 2061 6e64   The disused and
-00028110: 2075 6e2d 7370 6563 6365 6420 6964 656e   un-specced iden
-00028120: 7469 636f 6e20 6765 6e65 7261 746f 7220  ticon generator 
-00028130: 6861 7320 6265 656e 2072 656d 6f76 6564  has been removed
-00028140: 2e20 285b 5c23 3431 3036 5d28 6874 7470  . ([\#4106](http
-00028150: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00028160: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00028170: 652f 6973 7375 6573 2f34 3130 3629 290a  e/issues/4106)).
-00028180: 2d20 5468 6520 6f62 736f 6c65 7465 2061  - The obsolete a
-00028190: 6e64 206e 6f6e 2d66 756e 6374 696f 6e61  nd non-functiona
-000281a0: 6c20 2f70 756c 6c20 6665 6465 7261 7469  l /pull federati
-000281b0: 6f6e 2065 6e64 706f 696e 7420 6861 7320  on endpoint has 
-000281c0: 6265 656e 2072 656d 6f76 6564 2e20 285b  been removed. ([
-000281d0: 5c23 3431 3138 5d28 6874 7470 733a 2f2f  \#4118](https://
-000281e0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-000281f0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00028200: 7375 6573 2f34 3131 3829 290a 2d20 5468  sues/4118)).- Th
-00028210: 6520 6465 7072 6563 6174 6564 2076 3120  e deprecated v1 
-00028220: 6b65 7920 6578 6368 616e 6765 2065 6e64  key exchange end
-00028230: 706f 696e 7473 2068 6176 6520 6265 656e  points have been
-00028240: 2072 656d 6f76 6564 2e20 285b 5c23 3431   removed. ([\#41
-00028250: 3139 5d28 6874 7470 733a 2f2f 6769 7468  19](https://gith
-00028260: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00028270: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00028280: 2f34 3131 3929 290a 2d20 5379 6e61 7073  /4119)).- Synaps
-00028290: 6520 7769 6c6c 206e 6f20 6c6f 6e67 6572  e will no longer
-000282a0: 2066 6574 6368 206b 6579 7320 7573 696e   fetch keys usin
-000282b0: 6720 7468 6520 6661 6c6c 6261 636b 2064  g the fallback d
-000282c0: 6570 7265 6361 7465 6420 7631 206b 6579  eprecated v1 key
-000282d0: 2065 7863 6861 6e67 6520 6d65 7468 6f64   exchange method
-000282e0: 2061 6e64 2077 696c 6c20 6e6f 7720 616c   and will now al
-000282f0: 7761 7973 2075 7365 2076 322e 2028 5b5c  ways use v2. ([\
-00028300: 2334 3132 305d 2868 7474 7073 3a2f 2f67  #4120](https://g
-00028310: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-00028320: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-00028330: 7565 732f 3431 3230 2929 0a0a 0a49 6e74  ues/4120))...Int
-00028340: 6572 6e61 6c20 4368 616e 6765 730a 2d2d  ernal Changes.--
-00028350: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 0a0a  --------------..
-00028360: 2d20 4669 7820 6275 696c 6420 6f66 2044  - Fix build of D
-00028370: 6f63 6b65 7220 696d 6167 6520 7769 7468  ocker image with
-00028380: 2064 6f63 6b65 722d 636f 6d70 6f73 6520   docker-compose 
-00028390: 285b 5c23 3337 3738 5d28 6874 7470 733a  ([\#3778](https:
-000283a0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-000283b0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-000283c0: 6973 7375 6573 2f33 3737 3829 290a 2d20  issues/3778)).- 
-000283d0: 4465 6c65 7465 2075 6e72 6566 6572 656e  Delete unreferen
-000283e0: 6365 6420 7374 6174 6520 6772 6f75 7073  ced state groups
-000283f0: 2064 7572 696e 6720 6869 7374 6f72 7920   during history 
-00028400: 7075 7267 6520 285b 5c23 3430 3036 5d28  purge ([\#4006](
-00028410: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00028420: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-00028430: 6e61 7073 652f 6973 7375 6573 2f34 3030  napse/issues/400
-00028440: 3629 290a 2d20 5468 6520 2252 6563 6569  6)).- The "Recei
-00028450: 7665 6420 7264 6174 6122 206c 6f67 206d  ved rdata" log m
-00028460: 6573 7361 6765 7320 6f6e 2077 6f72 6b65  essages on worke
-00028470: 7273 2069 7320 6e6f 7720 6c6f 6767 6564  rs is now logged
-00028480: 2061 7420 4445 4255 472c 206e 6f74 2049   at DEBUG, not I
-00028490: 4e46 4f2e 2028 5b5c 2334 3130 385d 2868  NFO. ([\#4108](h
-000284a0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-000284b0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-000284c0: 6170 7365 2f69 7373 7565 732f 3431 3038  apse/issues/4108
-000284d0: 2929 0a2d 2052 6564 7563 6520 7265 706c  )).- Reduce repl
-000284e0: 6963 6174 696f 6e20 7472 6166 6669 6320  ication traffic 
-000284f0: 666f 7220 6465 7669 6365 206c 6973 7473  for device lists
-00028500: 2028 5b5c 2334 3130 395d 2868 7474 7073   ([\#4109](https
-00028510: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00028520: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00028530: 2f69 7373 7565 732f 3431 3039 2929 0a2d  /issues/4109)).-
-00028540: 2046 6978 2060 7379 6e61 7073 655f 7265   Fix `synapse_re
-00028550: 706c 6963 6174 696f 6e5f 7463 705f 7072  plication_tcp_pr
-00028560: 6f74 6f63 6f6c 5f2a 5f63 6f6d 6d61 6e64  otocol_*_command
-00028570: 7360 206d 6574 7269 6320 6c61 6265 6c20  s` metric label 
-00028580: 746f 2062 6520 6675 6c6c 2063 6f6d 6d61  to be full comma
-00028590: 6e64 206e 616d 652c 2072 6174 6865 7220  nd name, rather 
-000285a0: 7468 616e 206a 7573 7420 7468 6520 6669  than just the fi
-000285b0: 7273 7420 6368 6172 6163 7465 7220 285b  rst character ([
-000285c0: 5c23 3431 3130 5d28 6874 7470 733a 2f2f  \#4110](https://
-000285d0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-000285e0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-000285f0: 7375 6573 2f34 3131 3029 290a 2d20 4c6f  sues/4110)).- Lo
-00028600: 6720 736f 6d65 2062 6974 7320 6162 6f75  g some bits abou
-00028610: 7420 726f 6f6d 2063 7265 6174 696f 6e20  t room creation 
-00028620: 285b 5c23 3431 3231 5d28 6874 7470 733a  ([\#4121](https:
-00028630: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00028640: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00028650: 6973 7375 6573 2f34 3132 3129 290a 2d20  issues/4121)).- 
-00028660: 4669 7820 6074 6f78 6020 6661 696c 7572  Fix `tox` failur
-00028670: 6520 6f6e 206f 6c64 2073 7973 7465 6d73  e on old systems
-00028680: 2028 5b5c 2334 3132 345d 2868 7474 7073   ([\#4124](https
-00028690: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-000286a0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-000286b0: 2f69 7373 7565 732f 3431 3234 2929 0a2d  /issues/4124)).-
-000286c0: 2041 6464 2053 5441 5445 5f56 325f 5445   Add STATE_V2_TE
-000286d0: 5354 2072 6f6f 6d20 7665 7273 696f 6e20  ST room version 
-000286e0: 285b 5c23 3431 3238 5d28 6874 7470 733a  ([\#4128](https:
-000286f0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00028700: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00028710: 6973 7375 6573 2f34 3132 3829 290a 2d20  issues/4128)).- 
-00028720: 436c 6561 6e20 7570 2065 7665 6e74 2061  Clean up event a
-00028730: 6363 6573 7365 7320 616e 6420 7465 7374  ccesses and test
-00028740: 7320 285b 5c23 3431 3337 5d28 6874 7470  s ([\#4137](http
-00028750: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00028760: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00028770: 652f 6973 7375 6573 2f34 3133 3729 290a  e/issues/4137)).
-00028780: 2d20 5468 6520 6465 6661 756c 7420 6c6f  - The default lo
-00028790: 6767 696e 6720 636f 6e66 6967 2077 696c  gging config wil
-000287a0: 6c20 6e6f 7720 7365 7420 616e 2065 7870  l now set an exp
-000287b0: 6c69 6369 7420 6c6f 6720 6669 6c65 2065  licit log file e
-000287c0: 6e63 6f64 696e 6720 6f66 2055 5446 2d38  ncoding of UTF-8
-000287d0: 2e20 285b 5c23 3431 3338 5d28 6874 7470  . ([\#4138](http
-000287e0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-000287f0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00028800: 652f 6973 7375 6573 2f34 3133 3829 290a  e/issues/4138)).
-00028810: 2d20 4164 6420 6865 6c70 6572 7320 6675  - Add helpers fu
-00028820: 6e63 7469 6f6e 7320 666f 7220 6765 7474  nctions for gett
-00028830: 696e 6720 7072 6576 2061 6e64 2061 7574  ing prev and aut
-00028840: 6820 6576 656e 7473 206f 6620 616e 2065  h events of an e
-00028850: 7665 6e74 2028 5b5c 2334 3133 395d 2868  vent ([\#4139](h
-00028860: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00028870: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00028880: 6170 7365 2f69 7373 7565 732f 3431 3339  apse/issues/4139
-00028890: 2929 0a2d 2041 6464 2073 6f6d 6520 7465  )).- Add some te
-000288a0: 7374 7320 666f 7220 7468 6520 4854 5450  sts for the HTTP
-000288b0: 2070 7573 6865 722e 2028 5b5c 2334 3134   pusher. ([\#414
-000288c0: 395d 2868 7474 7073 3a2f 2f67 6974 6875  9](https://githu
-000288d0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-000288e0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-000288f0: 3431 3439 2929 0a2d 2061 6464 2070 7572  4149)).- add pur
-00028900: 6765 5f68 6973 746f 7279 2e73 6820 616e  ge_history.sh an
-00028910: 6420 7075 7267 655f 7265 6d6f 7465 5f6d  d purge_remote_m
-00028920: 6564 6961 2e73 6820 7363 7269 7074 7320  edia.sh scripts 
-00028930: 746f 2063 6f6e 7472 6962 2f20 285b 5c23  to contrib/ ([\#
-00028940: 3431 3535 5d28 6874 7470 733a 2f2f 6769  4155](https://gi
-00028950: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-00028960: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-00028970: 6573 2f34 3135 3529 290a 2d20 4854 5450  es/4155)).- HTTP
-00028980: 2074 6573 7473 2068 6176 6520 6265 656e   tests have been
-00028990: 2072 6566 6163 746f 7265 6420 746f 2063   refactored to c
-000289a0: 6f6e 7461 696e 206c 6573 7320 626f 696c  ontain less boil
-000289b0: 6572 706c 6174 652e 2028 5b5c 2334 3135  erplate. ([\#415
-000289c0: 365d 2868 7474 7073 3a2f 2f67 6974 6875  6](https://githu
-000289d0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-000289e0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-000289f0: 3431 3536 2929 0a2d 2044 726f 7020 696e  4156)).- Drop in
-00028a00: 636f 6d69 6e67 2065 7665 6e74 7320 6672  coming events fr
-00028a10: 6f6d 2066 6564 6572 6174 696f 6e20 666f  om federation fo
-00028a20: 7220 756e 6b6e 6f77 6e20 726f 6f6d 7320  r unknown rooms 
-00028a30: 285b 5c23 3431 3635 5d28 6874 7470 733a  ([\#4165](https:
-00028a40: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00028a50: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00028a60: 6973 7375 6573 2f34 3136 3529 290a 0a0a  issues/4165))...
-00028a70: 5379 6e61 7073 6520 302e 3333 2e38 2028  Synapse 0.33.8 (
-00028a80: 3230 3138 2d31 312d 3031 290a 3d3d 3d3d  2018-11-01).====
-00028a90: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00028aa0: 3d3d 3d3d 3d3d 3d0a 0a4e 6f20 7369 676e  =======..No sign
-00028ab0: 6966 6963 616e 7420 6368 616e 6765 732e  ificant changes.
-00028ac0: 0a0a 0a53 796e 6170 7365 2030 2e33 332e  ...Synapse 0.33.
-00028ad0: 3872 6332 2028 3230 3138 2d31 302d 3331  8rc2 (2018-10-31
-00028ae0: 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ).==============
-00028af0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00028b00: 0a0a 4275 6766 6978 6573 0a2d 2d2d 2d2d  ..Bugfixes.-----
-00028b10: 2d2d 2d0a 0a2d 2053 6561 7263 6865 7320  ---..- Searches 
-00028b20: 7468 6174 2072 6571 7565 7374 2070 726f  that request pro
-00028b30: 6669 6c65 2069 6e66 6f20 6e6f 7720 6e6f  file info now no
-00028b40: 206c 6f6e 6765 7220 6661 696c 2077 6974   longer fail wit
-00028b50: 6820 6120 3530 302e 2046 6978 6573 0a20  h a 500. Fixes. 
-00028b60: 2061 2072 6567 7265 7373 696f 6e20 696e   a regression in
-00028b70: 2030 2e33 332e 3872 6331 2e20 285b 5c23   0.33.8rc1. ([\#
-00028b80: 3431 3232 5d28 6874 7470 733a 2f2f 6769  4122](https://gi
-00028b90: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-00028ba0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-00028bb0: 6573 2f34 3132 3229 290a 0a0a 5379 6e61  es/4122))...Syna
-00028bc0: 7073 6520 302e 3333 2e38 7263 3120 2832  pse 0.33.8rc1 (2
-00028bd0: 3031 382d 3130 2d32 3929 0a3d 3d3d 3d3d  018-10-29).=====
-00028be0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00028bf0: 3d3d 3d3d 3d3d 3d3d 3d0a 0a46 6561 7475  =========..Featu
-00028c00: 7265 730a 2d2d 2d2d 2d2d 2d2d 0a0a 2d20  res.--------..- 
-00028c10: 5365 7276 6572 7320 7769 7468 2061 7574  Servers with aut
-00028c20: 6f2d 6a6f 696e 2072 6f6f 6d73 2077 696c  o-join rooms wil
-00028c30: 6c20 6e6f 7720 6175 746f 6d61 7469 6361  l now automatica
-00028c40: 6c6c 7920 6372 6561 7465 2074 686f 7365  lly create those
-00028c50: 2072 6f6f 6d73 2077 6865 6e20 7468 6520   rooms when the 
-00028c60: 6669 7273 7420 7573 6572 2072 6567 6973  first user regis
-00028c70: 7465 7273 2028 5b5c 2333 3937 355d 2868  ters ([\#3975](h
-00028c80: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00028c90: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00028ca0: 6170 7365 2f69 7373 7565 732f 3339 3735  apse/issues/3975
-00028cb0: 2929 0a2d 2041 6464 2063 6f6e 6669 6720  )).- Add config 
-00028cc0: 6f70 7469 6f6e 2074 6f20 636f 6e74 726f  option to contro
-00028cd0: 6c20 616c 6961 7320 6372 6561 7469 6f6e  l alias creation
-00028ce0: 2028 5b5c 2334 3035 315d 2868 7474 7073   ([\#4051](https
-00028cf0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00028d00: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00028d10: 2f69 7373 7565 732f 3430 3531 2929 0a2d  /issues/4051)).-
-00028d20: 2054 6865 2072 6567 6973 7465 725f 6e65   The register_ne
-00028d30: 775f 6d61 7472 6978 5f75 7365 7220 7363  w_matrix_user sc
-00028d40: 7269 7074 2069 7320 6e6f 7720 706f 7274  ript is now port
-00028d50: 6564 2074 6f20 5079 7468 6f6e 2033 2e20  ed to Python 3. 
-00028d60: 285b 5c23 3430 3835 5d28 6874 7470 733a  ([\#4085](https:
-00028d70: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00028d80: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00028d90: 6973 7375 6573 2f34 3038 3529 290a 2d20  issues/4085)).- 
-00028da0: 436f 6e66 6967 7572 6520 446f 636b 6572  Configure Docker
-00028db0: 2069 6d61 6765 2074 6f20 6c69 7374 656e   image to listen
-00028dc0: 206f 6e20 626f 7468 2069 7076 3420 616e   on both ipv4 an
-00028dd0: 6420 6970 7636 2e20 285b 5c23 3430 3839  d ipv6. ([\#4089
-00028de0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00028df0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00028e00: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
-00028e10: 3038 3929 290a 0a0a 4275 6766 6978 6573  089))...Bugfixes
-00028e20: 0a2d 2d2d 2d2d 2d2d 2d0a 0a2d 2046 6978  .--------..- Fix
-00028e30: 2048 5454 5020 6572 726f 7220 7265 7370   HTTP error resp
-00028e40: 6f6e 7365 2063 6f64 6573 2066 6f72 2066  onse codes for f
-00028e50: 6564 6572 6174 6564 2067 726f 7570 2072  ederated group r
-00028e60: 6571 7565 7374 732e 2028 5b5c 2333 3936  equests. ([\#396
-00028e70: 395d 2868 7474 7073 3a2f 2f67 6974 6875  9](https://githu
-00028e80: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-00028e90: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-00028ea0: 3339 3639 2929 0a2d 2046 6978 2069 7373  3969)).- Fix iss
-00028eb0: 7565 2077 6865 7265 2050 7974 686f 6e20  ue where Python 
-00028ec0: 3320 7573 6572 7320 636f 756c 646e 2774  3 users couldn't
-00028ed0: 2070 6167 696e 6174 6520 2f70 7562 6c69   paginate /publi
-00028ee0: 6352 6f6f 6d73 2028 5b5c 2334 3034 365d  cRooms ([\#4046]
-00028ef0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00028f00: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00028f10: 796e 6170 7365 2f69 7373 7565 732f 3430  ynapse/issues/40
-00028f20: 3436 2929 0a2d 2046 6978 2055 524c 2070  46)).- Fix URL p
-00028f30: 7265 7669 6577 696e 6720 746f 2077 6f72  reviewing to wor
-00028f40: 6b20 696e 2050 7974 686f 6e20 332e 3720  k in Python 3.7 
-00028f50: 285b 5c23 3430 3530 5d28 6874 7470 733a  ([\#4050](https:
-00028f60: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00028f70: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00028f80: 6973 7375 6573 2f34 3035 3029 290a 2d20  issues/4050)).- 
-00028f90: 7379 6e63 746c 2077 696c 6c20 7573 6520  synctl will use 
-00028fa0: 7468 6520 7269 6768 7420 7079 7468 6f6e  the right python
-00028fb0: 2065 7865 6375 7461 626c 6520 746f 2072   executable to r
-00028fc0: 756e 2077 6f72 6b65 7220 7072 6f63 6573  un worker proces
-00028fd0: 7365 7320 285b 5c23 3430 3537 5d28 6874  ses ([\#4057](ht
-00028fe0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00028ff0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00029000: 7073 652f 6973 7375 6573 2f34 3035 3729  pse/issues/4057)
-00029010: 290a 2d20 4d61 6e68 6f6c 6520 6e6f 7720  ).- Manhole now 
-00029020: 776f 726b 7320 6167 6169 6e20 6f6e 2050  works again on P
-00029030: 7974 686f 6e20 332c 2069 6e73 7465 6164  ython 3, instead
-00029040: 206f 6620 6661 696c 696e 6720 7769 7468   of failing with
-00029050: 2061 2022 636f 756c 646e 2774 206d 6174   a "couldn't mat
-00029060: 6368 2061 6c6c 206b 6578 2070 6172 7473  ch all kex parts
-00029070: 2220 7768 656e 2063 6f6e 6e65 6374 696e  " when connectin
-00029080: 672e 2028 5b5c 2334 3036 305d 2868 7474  g. ([\#4060](htt
-00029090: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-000290a0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-000290b0: 7365 2f69 7373 7565 732f 3430 3630 292c  se/issues/4060),
-000290c0: 205b 5c23 3430 3637 5d28 6874 7470 733a   [\#4067](https:
-000290d0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-000290e0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-000290f0: 6973 7375 6573 2f34 3036 3729 290a 2d20  issues/4067)).- 
-00029100: 4669 7820 736f 6d65 206d 6574 7269 6373  Fix some metrics
-00029110: 2062 6569 6e67 2072 6163 7920 616e 6420   being racy and 
-00029120: 6361 7573 696e 6720 6578 6365 7074 696f  causing exceptio
-00029130: 6e73 2077 6865 6e20 706f 6c6c 6564 2062  ns when polled b
-00029140: 7920 5072 6f6d 6574 6865 7573 2e20 285b  y Prometheus. ([
-00029150: 5c23 3430 3631 5d28 6874 7470 733a 2f2f  \#4061](https://
-00029160: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-00029170: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00029180: 7375 6573 2f34 3036 3129 290a 2d20 4669  sues/4061)).- Fi
-00029190: 7820 6275 6720 7768 6963 6820 7072 6576  x bug which prev
-000291a0: 656e 7465 6420 656d 6169 6c20 6e6f 7469  ented email noti
-000291b0: 6669 6361 7469 6f6e 7320 6672 6f6d 2062  fications from b
-000291c0: 6569 6e67 2073 656e 7420 756e 6c65 7373  eing sent unless
-000291d0: 2061 6e20 6162 736f 6c75 7465 2070 6174   an absolute pat
-000291e0: 6820 7761 7320 6769 7665 6e20 666f 7220  h was given for 
-000291f0: 6065 6d61 696c 5f74 656d 706c 6174 6573  `email_templates
-00029200: 602e 2028 5b5c 2334 3036 385d 2868 7474  `. ([\#4068](htt
-00029210: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00029220: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-00029230: 7365 2f69 7373 7565 732f 3430 3638 2929  se/issues/4068))
-00029240: 0a2d 2043 6f72 7265 6374 6c79 2061 6363  .- Correctly acc
-00029250: 6f75 6e74 2066 6f72 2063 7075 2075 7361  ount for cpu usa
-00029260: 6765 2062 7920 6261 636b 6772 6f75 6e64  ge by background
-00029270: 2074 6872 6561 6473 2028 5b5c 2334 3037   threads ([\#407
-00029280: 345d 2868 7474 7073 3a2f 2f67 6974 6875  4](https://githu
-00029290: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-000292a0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-000292b0: 3430 3734 2929 0a2d 2046 6978 2072 6163  4074)).- Fix rac
-000292c0: 6520 636f 6e64 6974 696f 6e20 7768 6572  e condition wher
-000292d0: 6520 636f 6e66 6967 2064 6566 696e 6564  e config defined
-000292e0: 2072 6573 6572 7665 6420 7573 6572 7320   reserved users 
-000292f0: 7765 7265 206e 6f74 2062 6569 6e67 2061  were not being a
-00029300: 6464 6564 2074 6f0a 2020 7468 6520 6d6f  dded to.  the mo
-00029310: 6e74 686c 7920 6163 7469 7665 2075 7365  nthly active use
-00029320: 7220 6c69 7374 2070 7269 6f72 2074 6f20  r list prior to 
-00029330: 7468 6520 686f 6d65 7365 7276 6572 2072  the homeserver r
-00029340: 6561 6374 6f72 2066 6972 696e 6720 7570  eactor firing up
-00029350: 2028 5b5c 2334 3038 315d 2868 7474 7073   ([\#4081](https
-00029360: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00029370: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00029380: 2f69 7373 7565 732f 3430 3831 2929 0a2d  /issues/4081)).-
-00029390: 2046 6978 2062 7567 2077 6869 6368 2070   Fix bug which p
-000293a0: 7265 7665 6e74 6564 2062 6163 6b73 6c61  revented backsla
-000293b0: 7368 6573 2062 6569 6e67 2075 7365 6420  shes being used 
-000293c0: 696e 2065 7665 6e74 2066 6965 6c64 2066  in event field f
-000293d0: 696c 7465 7273 2028 5b5c 2334 3038 335d  ilters ([\#4083]
-000293e0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-000293f0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00029400: 796e 6170 7365 2f69 7373 7565 732f 3430  ynapse/issues/40
-00029410: 3833 2929 0a0a 0a49 6e74 6572 6e61 6c20  83))...Internal 
-00029420: 4368 616e 6765 730a 2d2d 2d2d 2d2d 2d2d  Changes.--------
-00029430: 2d2d 2d2d 2d2d 2d2d 0a0a 2d20 4164 6420  --------..- Add 
-00029440: 696e 666f 726d 6174 696f 6e20 6162 6f75  information abou
-00029450: 7420 7468 6520 5b6d 6174 7269 782d 646f  t the [matrix-do
-00029460: 636b 6572 2d61 6e73 6962 6c65 2d64 6570  cker-ansible-dep
-00029470: 6c6f 795d 2868 7474 7073 3a2f 2f67 6974  loy](https://git
-00029480: 6875 622e 636f 6d2f 7370 616e 7461 6c65  hub.com/spantale
-00029490: 6576 2f6d 6174 7269 782d 646f 636b 6572  ev/matrix-docker
-000294a0: 2d61 6e73 6962 6c65 2d64 6570 6c6f 7929  -ansible-deploy)
-000294b0: 2070 6c61 7962 6f6f 6b20 285b 5c23 3336   playbook ([\#36
-000294c0: 3938 5d28 6874 7470 733a 2f2f 6769 7468  98](https://gith
-000294d0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-000294e0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-000294f0: 2f33 3639 3829 290a 2d20 4164 6420 696e  /3698)).- Add in
-00029500: 6974 6961 6c20 696d 706c 656d 656e 7461  itial implementa
-00029510: 7469 6f6e 206f 6620 6e65 7720 7374 6174  tion of new stat
-00029520: 6520 7265 736f 6c75 7469 6f6e 2061 6c67  e resolution alg
-00029530: 6f72 6974 686d 2028 5b5c 2333 3738 365d  orithm ([\#3786]
-00029540: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00029550: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00029560: 796e 6170 7365 2f69 7373 7565 732f 3337  ynapse/issues/37
-00029570: 3836 2929 0a2d 2052 6564 7563 6520 6461  86)).- Reduce da
-00029580: 7461 6261 7365 206c 6f61 6420 7768 656e  tabase load when
-00029590: 2066 6574 6368 696e 6720 7374 6174 6520   fetching state 
-000295a0: 6772 6f75 7073 2028 5b5c 2334 3031 315d  groups ([\#4011]
-000295b0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-000295c0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-000295d0: 796e 6170 7365 2f69 7373 7565 732f 3430  ynapse/issues/40
-000295e0: 3131 2929 0a2d 2056 6172 696f 7573 2063  11)).- Various c
-000295f0: 6c65 616e 7570 7320 696e 2074 6865 2066  leanups in the f
-00029600: 6564 6572 6174 696f 6e20 636c 6965 6e74  ederation client
-00029610: 2063 6f64 6520 285b 5c23 3430 3331 5d28   code ([\#4031](
-00029620: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00029630: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-00029640: 6e61 7073 652f 6973 7375 6573 2f34 3033  napse/issues/403
-00029650: 3129 290a 2d20 5275 6e20 7468 6520 4369  1)).- Run the Ci
-00029660: 7263 6c65 4349 2062 7569 6c64 7320 696e  rcleCI builds in
-00029670: 2064 6f63 6b65 7220 636f 6e74 6169 6e65   docker containe
-00029680: 7273 2028 5b5c 2334 3034 315d 2868 7474  rs ([\#4041](htt
-00029690: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-000296a0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-000296b0: 7365 2f69 7373 7565 732f 3430 3431 2929  se/issues/4041))
-000296c0: 0a2d 204f 6e6c 7920 636f 6c6f 7572 6973  .- Only colouris
-000296d0: 6520 7379 6e63 746c 206f 7574 7075 7420  e synctl output 
-000296e0: 7768 656e 2061 7474 6163 6865 6420 746f  when attached to
-000296f0: 2074 7479 2028 5b5c 2334 3034 395d 2868   tty ([\#4049](h
-00029700: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00029710: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00029720: 6170 7365 2f69 7373 7565 732f 3430 3439  apse/issues/4049
-00029730: 2929 0a2d 2052 6566 6163 746f 7220 726f  )).- Refactor ro
-00029740: 6f6d 2061 6c69 6173 2063 7265 6174 696f  om alias creatio
-00029750: 6e20 636f 6465 2028 5b5c 2334 3036 335d  n code ([\#4063]
-00029760: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00029770: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00029780: 796e 6170 7365 2f69 7373 7565 732f 3430  ynapse/issues/40
-00029790: 3633 2929 0a2d 204d 616b 6520 7468 6520  63)).- Make the 
-000297a0: 5079 7468 6f6e 2073 6372 6970 7473 2069  Python scripts i
-000297b0: 6e20 7468 6520 746f 702d 6c65 7665 6c20  n the top-level 
-000297c0: 7363 7269 7074 7320 666f 6c64 6572 7320  scripts folders 
-000297d0: 6d65 6574 2070 6570 3820 616e 6420 7061  meet pep8 and pa
-000297e0: 7373 2066 6c61 6b65 382e 2028 5b5c 2334  ss flake8. ([\#4
-000297f0: 3036 385d 2868 7474 7073 3a2f 2f67 6974  068](https://git
-00029800: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-00029810: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-00029820: 732f 3430 3638 2929 0a2d 2054 6865 2052  s/4068)).- The R
-00029830: 4541 444d 4520 6e6f 7720 636f 6e74 6169  EADME now contai
-00029840: 6e73 2065 7861 6d70 6c65 2066 6f72 2074  ns example for t
-00029850: 6865 2043 6164 6479 2077 6562 2073 6572  he Caddy web ser
-00029860: 7665 722e 2043 6f6e 7472 6962 7574 6564  ver. Contributed
-00029870: 2062 7920 7374 6561 6d70 3072 742e 2028   by steamp0rt. (
-00029880: 5b5c 2334 3037 325d 2868 7474 7073 3a2f  [\#4072](https:/
-00029890: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-000298a0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-000298b0: 7373 7565 732f 3430 3732 2929 0a2d 2041  ssues/4072)).- A
-000298c0: 6464 2070 7375 7469 6c20 6173 2061 6e20  dd psutil as an 
-000298d0: 6578 706c 6963 6974 2064 6570 656e 6465  explicit depende
-000298e0: 6e63 7920 285b 5c23 3430 3733 5d28 6874  ncy ([\#4073](ht
-000298f0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00029900: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00029910: 7073 652f 6973 7375 6573 2f34 3037 3329  pse/issues/4073)
-00029920: 290a 2d20 436c 6561 6e20 7570 2074 6872  ).- Clean up thr
-00029930: 6561 6469 6e67 2061 6e64 206c 6f67 636f  eading and logco
-00029940: 6e74 6578 7473 2069 6e20 7075 7368 6572  ntexts in pusher
-00029950: 7320 285b 5c23 3430 3735 5d28 6874 7470  s ([\#4075](http
-00029960: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00029970: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00029980: 652f 6973 7375 6573 2f34 3037 3529 290a  e/issues/4075)).
-00029990: 2d20 436f 7272 6563 746c 7920 6d61 6e61  - Correctly mana
-000299a0: 6765 206c 6f67 636f 6e74 6578 7473 2064  ge logcontexts d
-000299b0: 7572 696e 6720 7374 6172 7475 7020 746f  uring startup to
-000299c0: 2066 6978 2073 6f6d 6520 2255 6e65 7870   fix some "Unexp
-000299d0: 6563 7465 6420 6c6f 6767 696e 6720 636f  ected logging co
-000299e0: 6e74 6578 7422 2077 6172 6e69 6e67 7320  ntext" warnings 
-000299f0: 285b 5c23 3430 3736 5d28 6874 7470 733a  ([\#4076](https:
-00029a00: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00029a10: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00029a20: 6973 7375 6573 2f34 3037 3629 290a 2d20  issues/4076)).- 
-00029a30: 4769 7665 2073 6f6d 6520 6d6f 7265 2074  Give some more t
-00029a40: 6869 6e67 7320 6c6f 6763 6f6e 7465 7874  hings logcontext
-00029a50: 7320 285b 5c23 3430 3737 5d28 6874 7470  s ([\#4077](http
-00029a60: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00029a70: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00029a80: 652f 6973 7375 6573 2f34 3037 3729 290a  e/issues/4077)).
-00029a90: 2d20 436c 6561 6e20 7570 2073 6f6d 6520  - Clean up some 
-00029aa0: 6269 7473 206f 6620 636f 6465 2077 6869  bits of code whi
-00029ab0: 6368 2077 6572 6520 666c 6167 6765 6420  ch were flagged 
-00029ac0: 6279 2074 6865 206c 696e 7465 7220 285b  by the linter ([
-00029ad0: 5c23 3430 3832 5d28 6874 7470 733a 2f2f  \#4082](https://
-00029ae0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-00029af0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00029b00: 7375 6573 2f34 3038 3229 290a 0a0a 5379  sues/4082))...Sy
-00029b10: 6e61 7073 6520 302e 3333 2e37 2028 3230  napse 0.33.7 (20
-00029b20: 3138 2d31 302d 3138 290a 3d3d 3d3d 3d3d  18-10-18).======
-00029b30: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00029b40: 3d3d 3d3d 3d0a 0a2a 2a57 6172 6e69 6e67  =====..**Warning
-00029b50: 2a2a 3a20 5468 6973 2072 656c 6561 7365  **: This release
-00029b60: 2072 656d 6f76 6573 2074 6865 2065 7861   removes the exa
-00029b70: 6d70 6c65 2065 6d61 696c 206e 6f74 6966  mple email notif
-00029b80: 6963 6174 696f 6e20 7465 6d70 6c61 7465  ication template
-00029b90: 7320 6672 6f6d 0a60 7265 732f 7465 6d70  s from.`res/temp
-00029ba0: 6c61 7465 7360 2028 7468 6579 2061 7265  lates` (they are
-00029bb0: 206e 6f77 2069 6e74 6572 6e61 6c20 746f   now internal to
-00029bc0: 2074 6865 2070 7974 686f 6e20 7061 636b   the python pack
-00029bd0: 6167 6529 2e20 5468 6973 2073 686f 756c  age). This shoul
-00029be0: 6420 6f6e 6c79 0a61 6666 6563 7420 796f  d only.affect yo
-00029bf0: 7520 6966 2079 6f75 2028 6129 2064 6570  u if you (a) dep
-00029c00: 6c6f 7920 796f 7572 2053 796e 6170 7365  loy your Synapse
-00029c10: 2069 6e73 7461 6e63 6520 6672 6f6d 2061   instance from a
-00029c20: 2067 6974 2063 6865 636b 6f75 7420 6f72   git checkout or
-00029c30: 2061 0a67 6974 6875 6220 736e 6170 7368   a.github snapsh
-00029c40: 6f74 2055 524c 2c20 616e 6420 2862 2920  ot URL, and (b) 
-00029c50: 6861 7665 2065 6d61 696c 206e 6f74 6966  have email notif
-00029c60: 6963 6174 696f 6e73 2065 6e61 626c 6564  ications enabled
-00029c70: 2e0a 0a49 6620 796f 7520 6861 7665 2065  ...If you have e
-00029c80: 6d61 696c 206e 6f74 6966 6963 6174 696f  mail notificatio
-00029c90: 6e73 2065 6e61 626c 6564 2c20 796f 7520  ns enabled, you 
-00029ca0: 7368 6f75 6c64 2065 6e73 7572 6520 7468  should ensure th
-00029cb0: 6174 0a60 656d 6169 6c2e 7465 6d70 6c61  at.`email.templa
-00029cc0: 7465 5f64 6972 6020 6973 2065 6974 6865  te_dir` is eithe
-00029cd0: 7220 636f 6e66 6967 7572 6564 2074 6f20  r configured to 
-00029ce0: 706f 696e 7420 6174 2061 2064 6972 6563  point at a direc
-00029cf0: 746f 7279 2077 6865 7265 2079 6f75 0a68  tory where you.h
-00029d00: 6176 6520 696e 7374 616c 6c65 6420 6375  ave installed cu
-00029d10: 7374 6f6d 6973 6564 2074 656d 706c 6174  stomised templat
-00029d20: 6573 2c20 6f72 206c 6561 7665 2069 7420  es, or leave it 
-00029d30: 756e 7365 7420 746f 2075 7365 2074 6865  unset to use the
-00029d40: 2064 6566 6175 6c74 0a74 656d 706c 6174   default.templat
-00029d50: 6573 2e0a 0a53 796e 6170 7365 2030 2e33  es...Synapse 0.3
-00029d60: 332e 3772 6332 2028 3230 3138 2d31 302d  3.7rc2 (2018-10-
-00029d70: 3137 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  17).============
-00029d80: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00029d90: 3d3d 0a0a 4665 6174 7572 6573 0a2d 2d2d  ==..Features.---
-00029da0: 2d2d 2d2d 2d0a 0a2d 2053 6869 7020 7468  -----..- Ship th
-00029db0: 6520 6578 616d 706c 6520 656d 6169 6c20  e example email 
-00029dc0: 7465 6d70 6c61 7465 7320 6173 2070 6172  templates as par
-00029dd0: 7420 6f66 2074 6865 2070 6163 6b61 6765  t of the package
-00029de0: 2028 5b5c 2334 3035 325d 2868 7474 7073   ([\#4052](https
-00029df0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00029e00: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00029e10: 2f69 7373 7565 732f 3430 3532 2929 0a0a  /issues/4052))..
-00029e20: 4275 6766 6978 6573 0a2d 2d2d 2d2d 2d2d  Bugfixes.-------
-00029e30: 2d0a 0a2d 2046 6978 2062 7567 2077 6869  -..- Fix bug whi
-00029e40: 6368 206d 6164 6520 6765 745f 6d69 7373  ch made get_miss
-00029e50: 696e 675f 6576 656e 7473 2072 6574 7572  ing_events retur
-00029e60: 6e20 746f 6f20 6665 7720 6576 656e 7473  n too few events
-00029e70: 2028 5b5c 2334 3034 355d 2868 7474 7073   ([\#4045](https
-00029e80: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00029e90: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00029ea0: 2f69 7373 7565 732f 3430 3435 2929 0a0a  /issues/4045))..
-00029eb0: 0a53 796e 6170 7365 2030 2e33 332e 3772  .Synapse 0.33.7r
-00029ec0: 6331 2028 3230 3138 2d31 302d 3135 290a  c1 (2018-10-15).
-00029ed0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00029ee0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a  ==============..
-00029ef0: 4665 6174 7572 6573 0a2d 2d2d 2d2d 2d2d  Features.-------
-00029f00: 2d0a 0a2d 2041 6464 2073 7570 706f 7274  -..- Add support
-00029f10: 2066 6f72 2065 6e64 2d74 6f2d 656e 6420   for end-to-end 
-00029f20: 6b65 7920 6261 636b 7570 2028 4d53 4331  key backup (MSC1
-00029f30: 3638 3729 2028 5b5c 2334 3031 395d 2868  687) ([\#4019](h
-00029f40: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00029f50: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00029f60: 6170 7365 2f69 7373 7565 732f 3430 3139  apse/issues/4019
-00029f70: 2929 0a0a 0a42 7567 6669 7865 730a 2d2d  ))...Bugfixes.--
-00029f80: 2d2d 2d2d 2d2d 0a0a 2d20 4669 7820 6275  ------..- Fix bu
-00029f90: 6720 696e 2065 7665 6e74 2070 6572 7369  g in event persi
-00029fa0: 7374 656e 6365 206c 6f67 6963 2077 6869  stence logic whi
-00029fb0: 6368 2063 6175 7365 6420 274e 6f6e 6554  ch caused 'NoneT
-00029fc0: 7970 6520 6973 206e 6f74 2069 7465 7261  ype is not itera
-00029fd0: 626c 6527 2028 5b5c 2333 3939 355d 2868  ble' ([\#3995](h
-00029fe0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00029ff0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-0002a000: 6170 7365 2f69 7373 7565 732f 3339 3935  apse/issues/3995
-0002a010: 2929 0a2d 2046 6978 2065 7863 6570 7469  )).- Fix excepti
-0002a020: 6f6e 2069 6e20 6261 636b 6772 6f75 6e64  on in background
-0002a030: 206d 6574 7269 6373 2063 6f6c 6c65 6374   metrics collect
-0002a040: 696f 6e20 285b 5c23 3339 3936 5d28 6874  ion ([\#3996](ht
-0002a050: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0002a060: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-0002a070: 7073 652f 6973 7375 6573 2f33 3939 3629  pse/issues/3996)
-0002a080: 290a 2d20 4669 7820 6578 6365 7074 696f  ).- Fix exceptio
-0002a090: 6e20 6861 6e64 6c69 6e67 2069 6e20 6665  n handling in fe
-0002a0a0: 7463 6869 6e67 2072 656d 6f74 6520 7072  tching remote pr
-0002a0b0: 6f66 696c 6573 2028 5b5c 2333 3939 375d  ofiles ([\#3997]
-0002a0c0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0002a0d0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-0002a0e0: 796e 6170 7365 2f69 7373 7565 732f 3339  ynapse/issues/39
-0002a0f0: 3937 2929 0a2d 2046 6978 2068 616e 646c  97)).- Fix handl
-0002a100: 696e 6720 6f66 2072 656a 6563 7465 6420  ing of rejected 
-0002a110: 7468 7265 6570 6964 2069 6e76 6974 6573  threepid invites
-0002a120: 2028 5b5c 2333 3939 395d 2868 7474 7073   ([\#3999](https
-0002a130: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-0002a140: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-0002a150: 2f69 7373 7565 732f 3339 3939 2929 0a2d  /issues/3999)).-
-0002a160: 2057 6f72 6b65 7273 206e 6f77 2073 7461   Workers now sta
-0002a170: 7274 206f 6e20 5079 7468 6f6e 2033 2e20  rt on Python 3. 
-0002a180: 285b 5c23 3430 3237 5d28 6874 7470 733a  ([\#4027](https:
-0002a190: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-0002a1a0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-0002a1b0: 6973 7375 6573 2f34 3032 3729 290a 2d20  issues/4027)).- 
-0002a1c0: 5379 6e61 7073 6520 6e6f 7720 7374 6172  Synapse now star
-0002a1d0: 7473 206f 6e20 5079 7468 6f6e 2033 2e37  ts on Python 3.7
-0002a1e0: 2e20 285b 5c23 3430 3333 5d28 6874 7470  . ([\#4033](http
-0002a1f0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-0002a200: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-0002a210: 652f 6973 7375 6573 2f34 3033 3329 290a  e/issues/4033)).
-0002a220: 0a0a 496e 7465 726e 616c 2043 6861 6e67  ..Internal Chang
-0002a230: 6573 0a2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  es.-------------
-0002a240: 2d2d 2d0a 0a2d 204c 6f67 2065 7863 6570  ---..- Log excep
-0002a250: 7469 6f6e 7320 696e 206c 6f6f 7069 6e67  tions in looping
-0002a260: 2063 616c 6c73 2028 5b5c 2334 3030 385d   calls ([\#4008]
-0002a270: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0002a280: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-0002a290: 796e 6170 7365 2f69 7373 7565 732f 3430  ynapse/issues/40
-0002a2a0: 3038 2929 0a2d 204f 7074 696d 6973 6174  08)).- Optimisat
-0002a2b0: 696f 6e20 666f 7220 7365 7276 696e 6720  ion for serving 
-0002a2c0: 6665 6465 7261 7469 6f6e 2072 6571 7565  federation reque
-0002a2d0: 7374 7320 285b 5c23 3430 3137 5d28 6874  sts ([\#4017](ht
-0002a2e0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0002a2f0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-0002a300: 7073 652f 6973 7375 6573 2f34 3031 3729  pse/issues/4017)
-0002a310: 290a 2d20 4164 6420 6d65 7472 6963 2074  ).- Add metric t
-0002a320: 6f20 636f 756e 7420 6e75 6d62 6572 206f  o count number o
-0002a330: 6620 6e6f 6e2d 656d 7074 7920 7379 6e63  f non-empty sync
-0002a340: 2072 6573 706f 6e73 6573 2028 5b5c 2334   responses ([\#4
-0002a350: 3032 325d 2868 7474 7073 3a2f 2f67 6974  022](https://git
-0002a360: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-0002a370: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-0002a380: 732f 3430 3232 2929 0a0a 0a53 796e 6170  s/4022))...Synap
-0002a390: 7365 2030 2e33 332e 3620 2832 3031 382d  se 0.33.6 (2018-
-0002a3a0: 3130 2d30 3429 0a3d 3d3d 3d3d 3d3d 3d3d  10-04).=========
-0002a3b0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0002a3c0: 3d3d 0a0a 496e 7465 726e 616c 2043 6861  ==..Internal Cha
-0002a3d0: 6e67 6573 0a2d 2d2d 2d2d 2d2d 2d2d 2d2d  nges.-----------
-0002a3e0: 2d2d 2d2d 2d0a 0a2d 2050 696e 2074 6f20  -----..- Pin to 
-0002a3f0: 7072 6f6d 6574 6865 7573 5f63 6c69 656e  prometheus_clien
-0002a400: 743c 302e 3420 746f 2061 766f 6964 2072  t<0.4 to avoid r
-0002a410: 656e 616d 696e 6720 616c 6c20 6f66 206f  enaming all of o
-0002a420: 7572 206d 6574 7269 6373 2028 5b5c 2334  ur metrics ([\#4
-0002a430: 3030 325d 2868 7474 7073 3a2f 2f67 6974  002](https://git
-0002a440: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-0002a450: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-0002a460: 732f 3430 3032 2929 0a0a 0a53 796e 6170  s/4002))...Synap
-0002a470: 7365 2030 2e33 332e 3672 6331 2028 3230  se 0.33.6rc1 (20
-0002a480: 3138 2d31 302d 3033 290a 3d3d 3d3d 3d3d  18-10-03).======
-0002a490: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0002a4a0: 3d3d 3d3d 3d3d 3d3d 0a0a 4665 6174 7572  ========..Featur
-0002a4b0: 6573 0a2d 2d2d 2d2d 2d2d 2d0a 0a2d 2041  es.--------..- A
-0002a4c0: 6464 696e 6720 7468 6520 6162 696c 6974  dding the abilit
-0002a4d0: 7920 746f 2063 6861 6e67 6520 4d41 585f  y to change MAX_
-0002a4e0: 5550 4c4f 4144 5f53 495a 4520 666f 7220  UPLOAD_SIZE for 
-0002a4f0: 7468 6520 646f 636b 6572 2063 6f6e 7461  the docker conta
-0002a500: 696e 6572 2076 6172 6961 626c 6573 2e20  iner variables. 
-0002a510: 285b 5c23 3338 3833 5d28 6874 7470 733a  ([\#3883](https:
-0002a520: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-0002a530: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-0002a540: 6973 7375 6573 2f33 3838 3329 290a 2d20  issues/3883)).- 
-0002a550: 5265 706f 7274 2022 7079 7468 6f6e 5f76  Report "python_v
-0002a560: 6572 7369 6f6e 2220 696e 2074 6865 2070  ersion" in the p
-0002a570: 686f 6e65 2068 6f6d 6520 7374 6174 7320  hone home stats 
-0002a580: 285b 5c23 3338 3934 5d28 6874 7470 733a  ([\#3894](https:
-0002a590: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-0002a5a0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-0002a5b0: 6973 7375 6573 2f33 3839 3429 290a 2d20  issues/3894)).- 
-0002a5c0: 416c 7761 7973 204c 4c20 6f75 7273 656c  Always LL oursel
-0002a5d0: 7665 7320 6966 2077 6527 7265 2069 6e20  ves if we're in 
-0002a5e0: 6120 726f 6f6d 2028 5b5c 2333 3931 365d  a room ([\#3916]
-0002a5f0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0002a600: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-0002a610: 796e 6170 7365 2f69 7373 7565 732f 3339  ynapse/issues/39
-0002a620: 3136 2929 0a2d 2049 6e63 6c75 6465 2065  16)).- Include e
-0002a630: 7665 6e74 6964 2069 6e20 6c6f 6720 6c69  ventid in log li
-0002a640: 6e65 7320 7768 656e 2070 726f 6365 7373  nes when process
-0002a650: 696e 6720 696e 636f 6d69 6e67 2066 6564  ing incoming fed
-0002a660: 6572 6174 696f 6e20 7472 616e 7361 6374  eration transact
-0002a670: 696f 6e73 2028 5b5c 2333 3935 395d 2868  ions ([\#3959](h
-0002a680: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0002a690: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-0002a6a0: 6170 7365 2f69 7373 7565 732f 3339 3539  apse/issues/3959
-0002a6b0: 2929 0a2d 2052 656d 6f76 6520 7370 7572  )).- Remove spur
-0002a6c0: 696f 7573 2063 6865 636b 2077 6869 6368  ious check which
-0002a6d0: 206d 6164 6520 276c 6f63 616c 686f 7374   made 'localhost
-0002a6e0: 2720 7365 7276 6572 7320 6e6f 7420 776f  ' servers not wo
-0002a6f0: 726b 2028 5b5c 2333 3936 345d 2868 7474  rk ([\#3964](htt
-0002a700: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-0002a710: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-0002a720: 7365 2f69 7373 7565 732f 3339 3634 2929  se/issues/3964))
-0002a730: 0a0a 0a42 7567 6669 7865 730a 2d2d 2d2d  ...Bugfixes.----
-0002a740: 2d2d 2d2d 0a0a 2d20 4669 7820 7072 6f62  ----..- Fix prob
-0002a750: 6c65 6d20 7768 656e 2070 6c61 7969 6e67  lem when playing
-0002a760: 206d 6564 6961 2066 726f 6d20 4368 726f   media from Chro
-0002a770: 6d65 2075 7369 6e67 2064 6972 6563 7420  me using direct 
-0002a780: 5552 4c20 2874 6861 6e6b 7320 4072 656d  URL (thanks @rem
-0002a790: 6a65 7921 2920 285b 5c23 3335 3738 5d28  jey!) ([\#3578](
-0002a7a0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-0002a7b0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-0002a7c0: 6e61 7073 652f 6973 7375 6573 2f33 3537  napse/issues/357
-0002a7d0: 3829 290a 2d20 7375 7070 6f72 7420 7265  8)).- support re
-0002a7e0: 6769 7374 6572 696e 6720 7265 6775 6c61  gistering regula
-0002a7f0: 7220 7573 6572 7320 6e6f 6e2d 696e 7465  r users non-inte
-0002a800: 7261 6374 6976 656c 7920 7769 7468 2072  ractively with r
-0002a810: 6567 6973 7465 725f 6e65 775f 6d61 7472  egister_new_matr
-0002a820: 6978 5f75 7365 7220 7363 7269 7074 2028  ix_user script (
-0002a830: 5b5c 2333 3833 365d 2868 7474 7073 3a2f  [\#3836](https:/
-0002a840: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-0002a850: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-0002a860: 7373 7565 732f 3338 3336 2929 0a2d 2046  ssues/3836)).- F
-0002a870: 6978 2062 726f 6b65 6e20 696e 7669 7465  ix broken invite
-0002a880: 2065 6d61 696c 206c 696e 6b73 2066 6f72   email links for
-0002a890: 2073 656c 6620 686f 7374 6564 2072 696f   self hosted rio
-0002a8a0: 7473 2028 5b5c 2333 3836 385d 2868 7474  ts ([\#3868](htt
-0002a8b0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-0002a8c0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-0002a8d0: 7365 2f69 7373 7565 732f 3338 3638 2929  se/issues/3868))
-0002a8e0: 0a2d 2044 6f6e 2774 2072 6174 656c 696d  .- Don't ratelim
-0002a8f0: 6974 2061 7574 6f6a 6f69 6e73 2028 5b5c  it autojoins ([\
-0002a900: 2333 3837 395d 2868 7474 7073 3a2f 2f67  #3879](https://g
-0002a910: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-0002a920: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-0002a930: 7565 732f 3338 3739 2929 0a2d 2046 6978  ues/3879)).- Fix
-0002a940: 2035 3030 2065 7272 6f72 2077 6865 6e20   500 error when 
-0002a950: 6465 6c65 7469 6e67 2075 6e6b 6e6f 776e  deleting unknown
-0002a960: 2072 6f6f 6d20 616c 6961 7320 285b 5c23   room alias ([\#
-0002a970: 3338 3839 5d28 6874 7470 733a 2f2f 6769  3889](https://gi
-0002a980: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-0002a990: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-0002a9a0: 6573 2f33 3838 3929 290a 2d20 4669 7820  es/3889)).- Fix 
-0002a9b0: 736f 6d65 2062 2761 6263 6427 206e 6f69  some b'abcd' noi
-0002a9c0: 7365 2069 6e20 6c6f 6773 2061 6e64 206d  se in logs and m
-0002a9d0: 6574 7269 6373 2028 5b5c 2333 3839 325d  etrics ([\#3892]
-0002a9e0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0002a9f0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-0002aa00: 796e 6170 7365 2f69 7373 7565 732f 3338  ynapse/issues/38
-0002aa10: 3932 292c 205b 5c23 3338 3935 5d28 6874  92), [\#3895](ht
-0002aa20: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0002aa30: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-0002aa40: 7073 652f 6973 7375 6573 2f33 3839 3529  pse/issues/3895)
-0002aa50: 290a 2d20 5768 656e 2077 6520 6a6f 696e  ).- When we join
-0002aa60: 2061 2072 6f6f 6d2c 2061 6c77 6179 7320   a room, always 
-0002aa70: 7472 7920 7468 6520 7365 7276 6572 2077  try the server w
-0002aa80: 6520 7573 6564 2066 6f72 2074 6865 2061  e used for the a
-0002aa90: 6c69 6173 206c 6f6f 6b75 7020 6669 7273  lias lookup firs
-0002aaa0: 742c 2074 6f20 6176 6f69 6420 756e 7265  t, to avoid unre
-0002aab0: 7370 6f6e 7369 7665 2061 6e64 206f 7574  sponsive and out
-0002aac0: 2d6f 662d 6461 7465 2073 6572 7665 7273  -of-date servers
-0002aad0: 2e20 285b 5c23 3338 3939 5d28 6874 7470  . ([\#3899](http
-0002aae0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-0002aaf0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-0002ab00: 652f 6973 7375 6573 2f33 3839 3929 290a  e/issues/3899)).
-0002ab10: 2d20 4669 7820 696e 636f 7272 6563 7420  - Fix incorrect 
-0002ab20: 7365 7276 6572 2d6e 616d 6520 696e 6469  server-name indi
-0002ab30: 6361 7469 6f6e 2066 6f72 206f 7574 676f  cation for outgo
-0002ab40: 696e 6720 6665 6465 7261 7469 6f6e 2072  ing federation r
-0002ab50: 6571 7565 7374 7320 285b 5c23 3339 3037  equests ([\#3907
-0002ab60: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0002ab70: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-0002ab80: 7379 6e61 7073 652f 6973 7375 6573 2f33  synapse/issues/3
-0002ab90: 3930 3729 290a 2d20 4669 7820 6164 6469  907)).- Fix addi
-0002aba0: 6e67 2063 6c69 656e 7420 4950 7320 746f  ng client IPs to
-0002abb0: 2074 6865 2064 6174 6162 6173 6520 6661   the database fa
-0002abc0: 696c 696e 6720 6f6e 2050 7974 686f 6e20  iling on Python 
-0002abd0: 332e 2028 5b5c 2333 3930 385d 2868 7474  3. ([\#3908](htt
-0002abe0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-0002abf0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-0002ac00: 7365 2f69 7373 7565 732f 3339 3038 2929  se/issues/3908))
-0002ac10: 0a2d 2046 6978 2062 7567 2077 6865 7265  .- Fix bug where
-0002ac20: 2074 6869 6e67 7320 6f63 6361 6973 6f6e   things occaison
-0002ac30: 616c 6c79 2077 6572 6520 6e6f 7420 6265  ally were not be
-0002ac40: 696e 6720 7469 6d65 6420 6f75 7420 636f  ing timed out co
-0002ac50: 7272 6563 746c 792e 2028 5b5c 2333 3931  rrectly. ([\#391
-0002ac60: 305d 2868 7474 7073 3a2f 2f67 6974 6875  0](https://githu
-0002ac70: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-0002ac80: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-0002ac90: 3339 3130 2929 0a2d 2046 6978 2062 7567  3910)).- Fix bug
-0002aca0: 2077 6865 7265 206f 7574 626f 756e 6420   where outbound 
-0002acb0: 6665 6465 7261 7469 6f6e 2077 6f75 6c64  federation would
-0002acc0: 2073 746f 7020 7461 6c6b 696e 6720 746f   stop talking to
-0002acd0: 2073 6f6d 6520 7365 7276 6572 7320 7768   some servers wh
-0002ace0: 656e 2075 7369 6e67 2077 6f72 6b65 7273  en using workers
-0002acf0: 2028 5b5c 2333 3931 345d 2868 7474 7073   ([\#3914](https
-0002ad00: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-0002ad10: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-0002ad20: 2f69 7373 7565 732f 3339 3134 2929 0a2d  /issues/3914)).-
-0002ad30: 2046 6978 2073 6f6d 6520 696e 7374 616e   Fix some instan
-0002ad40: 6365 7320 6f66 2045 7870 6972 696e 6743  ces of ExpiringC
-0002ad50: 6163 6865 206e 6f74 2065 7870 6972 696e  ache not expirin
-0002ad60: 6720 6361 6368 6520 6974 656d 7320 285b  g cache items ([
-0002ad70: 5c23 3339 3332 5d28 6874 7470 733a 2f2f  \#3932](https://
-0002ad80: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-0002ad90: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-0002ada0: 7375 6573 2f33 3933 3229 2c20 5b5c 2333  sues/3932), [\#3
-0002adb0: 3938 305d 2868 7474 7073 3a2f 2f67 6974  980](https://git
-0002adc0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-0002add0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-0002ade0: 732f 3339 3830 2929 0a2d 2046 6978 206f  s/3980)).- Fix o
-0002adf0: 7574 2d6f 662d 626f 756e 6473 2065 7272  ut-of-bounds err
-0002ae00: 6f72 2077 6865 6e20 4c4c 696e 6720 796f  or when LLing yo
-0002ae10: 7572 7365 6c66 2028 5b5c 2333 3933 365d  urself ([\#3936]
-0002ae20: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0002ae30: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-0002ae40: 796e 6170 7365 2f69 7373 7565 732f 3339  ynapse/issues/39
-0002ae50: 3336 2929 0a2d 2053 656e 6469 6e67 2073  36)).- Sending s
-0002ae60: 6572 7665 7220 6e6f 7469 6365 7320 7265  erver notices re
-0002ae70: 6761 7264 696e 6720 7573 6572 2063 6f6e  garding user con
-0002ae80: 7365 6e74 206e 6f77 2077 6f72 6b73 206f  sent now works o
-0002ae90: 6e20 5079 7468 6f6e 2033 2e20 285b 5c23  n Python 3. ([\#
-0002aea0: 3339 3338 5d28 6874 7470 733a 2f2f 6769  3938](https://gi
-0002aeb0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-0002aec0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-0002aed0: 6573 2f33 3933 3829 290a 2d20 4669 7820  es/3938)).- Fix 
-0002aee0: 6578 6365 7074 696f 6e73 2066 726f 6d20  exceptions from 
-0002aef0: 6d65 7472 6963 7320 6861 6e64 6c65 7220  metrics handler 
-0002af00: 285b 5c23 3339 3536 5d28 6874 7470 733a  ([\#3956](https:
-0002af10: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-0002af20: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-0002af30: 6973 7375 6573 2f33 3935 3629 290a 2d20  issues/3956)).- 
-0002af40: 4669 7820 6572 726f 7220 6d65 7373 6167  Fix error messag
-0002af50: 6520 666f 7220 6576 656e 7473 2077 6974  e for events wit
-0002af60: 6820 6d2e 726f 6f6d 2e63 7265 6174 6520  h m.room.create 
-0002af70: 6d69 7373 696e 6720 6672 6f6d 2061 7574  missing from aut
-0002af80: 685f 6576 656e 7473 2028 5b5c 2333 3936  h_events ([\#396
-0002af90: 305d 2868 7474 7073 3a2f 2f67 6974 6875  0](https://githu
-0002afa0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-0002afb0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-0002afc0: 3339 3630 2929 0a2d 2046 6978 2065 7272  3960)).- Fix err
-0002afd0: 6f72 7320 6475 6520 746f 2063 6f6e 6375  ors due to concu
-0002afe0: 7272 656e 7420 6d6f 6e74 686c 795f 6163  rrent monthly_ac
-0002aff0: 7469 7665 5f75 7365 7220 7570 7365 7274  tive_user upsert
-0002b000: 7320 285b 5c23 3339 3631 5d28 6874 7470  s ([\#3961](http
-0002b010: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-0002b020: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-0002b030: 652f 6973 7375 6573 2f33 3936 3129 290a  e/issues/3961)).
-0002b040: 2d20 4669 7820 6578 6365 7074 696f 6e73  - Fix exceptions
-0002b050: 2077 6865 6e20 7072 6f63 6573 7369 6e67   when processing
-0002b060: 2069 6e63 6f6d 696e 6720 6576 656e 7473   incoming events
-0002b070: 206f 7665 7220 6665 6465 7261 7469 6f6e   over federation
-0002b080: 2028 5b5c 2333 3936 385d 2868 7474 7073   ([\#3968](https
-0002b090: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-0002b0a0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-0002b0b0: 2f69 7373 7565 732f 3339 3638 2929 0a2d  /issues/3968)).-
-0002b0c0: 2052 6570 6c61 6365 6420 616c 6c20 6f63   Replaced all oc
-0002b0d0: 6375 7265 6e63 6573 206f 6620 652e 6d65  curences of e.me
-0002b0e0: 7373 6167 6520 7769 7468 2073 7472 2865  ssage with str(e
-0002b0f0: 292e 2043 6f6e 7472 6962 7574 6564 2062  ). Contributed b
-0002b100: 7920 5363 686e 7566 666c 6520 285b 5c23  y Schnuffle ([\#
-0002b110: 3339 3730 5d28 6874 7470 733a 2f2f 6769  3970](https://gi
-0002b120: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-0002b130: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-0002b140: 6573 2f33 3937 3029 290a 2d20 4669 7820  es/3970)).- Fix 
-0002b150: 6c61 7a79 206c 6f61 6465 6420 7379 6e63  lazy loaded sync
-0002b160: 2069 6e20 7468 6520 7072 6573 656e 6365   in the presence
-0002b170: 206f 6620 7265 6a65 6374 6564 2073 7461   of rejected sta
-0002b180: 7465 2065 7665 6e74 7320 285b 5c23 3339  te events ([\#39
-0002b190: 3836 5d28 6874 7470 733a 2f2f 6769 7468  86](https://gith
-0002b1a0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-0002b1b0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-0002b1c0: 2f33 3938 3629 290a 2d20 4669 7820 6572  /3986)).- Fix er
-0002b1d0: 726f 7220 7768 656e 206c 6f67 6769 6e67  ror when logging
-0002b1e0: 2069 6e63 6f6d 706c 6574 6520 4854 5450   incomplete HTTP
-0002b1f0: 2072 6571 7565 7374 7320 285b 5c23 3339   requests ([\#39
-0002b200: 3930 5d28 6874 7470 733a 2f2f 6769 7468  90](https://gith
-0002b210: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-0002b220: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-0002b230: 2f33 3939 3029 290a 0a0a 496e 7465 726e  /3990))...Intern
-0002b240: 616c 2043 6861 6e67 6573 0a2d 2d2d 2d2d  al Changes.-----
-0002b250: 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a 0a2d 2055  -----------..- U
-0002b260: 6e69 7420 7465 7374 7320 6361 6e20 6e6f  nit tests can no
-0002b270: 7720 6265 2072 756e 2075 6e64 6572 2050  w be run under P
-0002b280: 6f73 7467 7265 5351 4c20 696e 2044 6f63  ostgreSQL in Doc
-0002b290: 6b65 7220 7573 696e 6720 6060 7465 7374  ker using ``test
-0002b2a0: 5f70 6f73 7467 7265 7371 6c2e 7368 6060  _postgresql.sh``
-0002b2b0: 2e20 285b 5c23 3336 3939 5d28 6874 7470  . ([\#3699](http
-0002b2c0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-0002b2d0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-0002b2e0: 652f 6973 7375 6573 2f33 3639 3929 290a  e/issues/3699)).
-0002b2f0: 2d20 5370 6565 6420 7570 2063 616c 6375  - Speed up calcu
-0002b300: 6c61 7469 6f6e 206f 6620 7479 7069 6e67  lation of typing
-0002b310: 2075 7064 6174 6573 2066 6f72 2072 6570   updates for rep
-0002b320: 6c69 6361 7469 6f6e 2028 5b5c 2333 3739  lication ([\#379
-0002b330: 345d 2868 7474 7073 3a2f 2f67 6974 6875  4](https://githu
-0002b340: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-0002b350: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-0002b360: 3337 3934 2929 0a2d 2052 656d 6f76 6520  3794)).- Remove 
-0002b370: 646f 6375 6d65 6e74 6174 696f 6e20 7265  documentation re
-0002b380: 6761 7264 696e 6720 696e 7374 616c 6c61  garding installa
-0002b390: 7469 6f6e 206f 6e20 4379 6777 696e 2c20  tion on Cygwin, 
-0002b3a0: 7468 6520 7573 6520 6f66 2057 534c 2069  the use of WSL i
-0002b3b0: 7320 7265 636f 6d6d 656e 6465 6420 696e  s recommended in
-0002b3c0: 7374 6561 642e 2028 5b5c 2333 3837 335d  stead. ([\#3873]
-0002b3d0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0002b3e0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-0002b3f0: 796e 6170 7365 2f69 7373 7565 732f 3338  ynapse/issues/38
-0002b400: 3733 2929 0a2d 2046 6978 2074 7970 6f20  73)).- Fix typo 
-0002b410: 696e 2052 4541 444d 452c 2073 796e 6173  in README, synas
-0002b420: 7073 6520 2d3e 2073 796e 6170 7365 2028  pse -> synapse (
-0002b430: 5b5c 2333 3839 375d 2868 7474 7073 3a2f  [\#3897](https:/
-0002b440: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-0002b450: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-0002b460: 7373 7565 732f 3338 3937 2929 0a2d 2049  ssues/3897)).- I
-0002b470: 6e63 7265 6173 6520 7468 6520 7469 6d65  ncrease the time
-0002b480: 6f75 7420 7768 656e 2066 696c 6c69 6e67  out when filling
-0002b490: 206d 6973 7369 6e67 2065 7665 6e74 7320   missing events 
-0002b4a0: 696e 2066 6564 6572 6174 696f 6e20 7265  in federation re
-0002b4b0: 7175 6573 7473 2028 5b5c 2333 3930 335d  quests ([\#3903]
-0002b4c0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0002b4d0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-0002b4e0: 796e 6170 7365 2f69 7373 7565 732f 3339  ynapse/issues/39
-0002b4f0: 3033 2929 0a2d 2049 6d70 726f 7665 2074  03)).- Improve t
-0002b500: 6865 206c 6f67 6769 6e67 2077 6865 6e20  he logging when 
-0002b510: 6861 6e64 6c69 6e67 2061 2066 6564 6572  handling a feder
-0002b520: 6174 696f 6e20 7472 616e 7361 6374 696f  ation transactio
-0002b530: 6e20 285b 5c23 3339 3034 5d28 6874 7470  n ([\#3904](http
+000278c0: 7073 652f 6973 7375 6573 2f34 3236 3129  pse/issues/4261)
+000278d0: 290a 0a0a 5379 6e61 7073 6520 302e 3333  )...Synapse 0.33
+000278e0: 2e39 2028 3230 3138 2d31 312d 3139 290a  .9 (2018-11-19).
+000278f0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00027900: 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a4e 6f20  ===========..No 
+00027910: 7369 676e 6966 6963 616e 7420 6368 616e  significant chan
+00027920: 6765 732e 0a0a 0a53 796e 6170 7365 2030  ges....Synapse 0
+00027930: 2e33 332e 3972 6331 2028 3230 3138 2d31  .33.9rc1 (2018-1
+00027940: 312d 3134 290a 3d3d 3d3d 3d3d 3d3d 3d3d  1-14).==========
+00027950: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00027960: 3d3d 3d3d 0a0a 4665 6174 7572 6573 0a2d  ====..Features.-
+00027970: 2d2d 2d2d 2d2d 2d0a 0a2d 2049 6e63 6c75  -------..- Inclu
+00027980: 6465 2066 6c61 6773 2074 6f20 6f70 7469  de flags to opti
+00027990: 6f6e 616c 6c79 2061 6464 2060 6d2e 6c6f  onally add `m.lo
+000279a0: 6769 6e2e 7465 726d 7360 2074 6f20 7468  gin.terms` to th
+000279b0: 6520 7265 6769 7374 7261 7469 6f6e 2066  e registration f
+000279c0: 6c6f 7720 7768 656e 2063 6f6e 7365 6e74  low when consent
+000279d0: 2074 7261 636b 696e 6720 6973 2065 6e61   tracking is ena
+000279e0: 626c 6564 2e20 285b 5c23 3430 3034 5d28  bled. ([\#4004](
+000279f0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00027a00: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00027a10: 6e61 7073 652f 6973 7375 6573 2f34 3030  napse/issues/400
+00027a20: 3429 2c20 5b5c 2334 3133 335d 2868 7474  4), [\#4133](htt
+00027a30: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00027a40: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00027a50: 7365 2f69 7373 7565 732f 3431 3333 292c  se/issues/4133),
+00027a60: 205b 5c23 3431 3432 5d28 6874 7470 733a   [\#4142](https:
+00027a70: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00027a80: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00027a90: 6973 7375 6573 2f34 3134 3229 2c20 5b5c  issues/4142), [\
+00027aa0: 2334 3138 345d 2868 7474 7073 3a2f 2f67  #4184](https://g
+00027ab0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00027ac0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00027ad0: 7565 732f 3431 3834 2929 0a2d 2053 7570  ues/4184)).- Sup
+00027ae0: 706f 7274 2066 6f72 2072 6570 6c61 6369  port for replaci
+00027af0: 6e67 2072 6f6f 6d73 2077 6974 6820 6e65  ng rooms with ne
+00027b00: 7720 6f6e 6573 2028 5b5c 2334 3039 315d  w ones ([\#4091]
+00027b10: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00027b20: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+00027b30: 796e 6170 7365 2f69 7373 7565 732f 3430  ynapse/issues/40
+00027b40: 3931 292c 205b 5c23 3430 3939 5d28 6874  91), [\#4099](ht
+00027b50: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00027b60: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+00027b70: 7073 652f 6973 7375 6573 2f34 3039 3929  pse/issues/4099)
+00027b80: 2c20 5b5c 2334 3130 305d 2868 7474 7073  , [\#4100](https
+00027b90: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00027ba0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00027bb0: 2f69 7373 7565 732f 3431 3030 292c 205b  /issues/4100), [
+00027bc0: 5c23 3431 3031 5d28 6874 7470 733a 2f2f  \#4101](https://
+00027bd0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00027be0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00027bf0: 7375 6573 2f34 3130 3129 290a 0a0a 4275  sues/4101))...Bu
+00027c00: 6766 6978 6573 0a2d 2d2d 2d2d 2d2d 2d0a  gfixes.--------.
+00027c10: 0a2d 2046 6978 2065 7863 6570 7469 6f6e  .- Fix exception
+00027c20: 7320 7768 656e 2075 7369 6e67 2074 6865  s when using the
+00027c30: 2065 6d61 696c 206d 6169 6c65 7220 6f6e   email mailer on
+00027c40: 2050 7974 686f 6e20 332e 2028 5b5c 2334   Python 3. ([\#4
+00027c50: 3039 355d 2868 7474 7073 3a2f 2f67 6974  095](https://git
+00027c60: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00027c70: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+00027c80: 732f 3430 3935 2929 0a2d 2046 6978 2065  s/4095)).- Fix e
+00027c90: 3265 206b 6579 2062 6163 6b75 7020 7769  2e key backup wi
+00027ca0: 7468 206d 6f72 6520 7468 616e 2039 2062  th more than 9 b
+00027cb0: 6163 6b75 7020 7665 7273 696f 6e73 2028  ackup versions (
+00027cc0: 5b5c 2334 3131 335d 2868 7474 7073 3a2f  [\#4113](https:/
+00027cd0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+00027ce0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00027cf0: 7373 7565 732f 3431 3133 2929 0a2d 2053  ssues/4113)).- S
+00027d00: 6561 7263 6865 7320 7468 6174 2072 6571  earches that req
+00027d10: 7565 7374 2070 726f 6669 6c65 2069 6e66  uest profile inf
+00027d20: 6f20 6e6f 7720 6e6f 206c 6f6e 6765 7220  o now no longer 
+00027d30: 6661 696c 2077 6974 6820 6120 3530 302e  fail with a 500.
+00027d40: 2028 5b5c 2334 3132 325d 2868 7474 7073   ([\#4122](https
+00027d50: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00027d60: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00027d70: 2f69 7373 7565 732f 3431 3232 2929 0a2d  /issues/4122)).-
+00027d80: 2066 6978 2072 6574 7572 6e20 636f 6465   fix return code
+00027d90: 206f 6620 656d 7074 7920 6b65 7920 6261   of empty key ba
+00027da0: 636b 7570 7320 285b 5c23 3431 3233 5d28  ckups ([\#4123](
+00027db0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00027dc0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00027dd0: 6e61 7073 652f 6973 7375 6573 2f34 3132  napse/issues/412
+00027de0: 3329 290a 2d20 4966 2074 6865 2074 7970  3)).- If the typ
+00027df0: 696e 6720 7374 7265 616d 2049 4420 676f  ing stream ID go
+00027e00: 6573 2062 6163 6b77 6172 6473 2028 6173  es backwards (as
+00027e10: 206f 6e20 6120 776f 726b 6572 2077 6865   on a worker whe
+00027e20: 6e20 7468 6520 6d61 7374 6572 2072 6573  n the master res
+00027e30: 7461 7274 7329 2c20 7468 6520 776f 726b  tarts), the work
+00027e40: 6572 2773 2074 7970 696e 6720 6861 6e64  er's typing hand
+00027e50: 6c65 7220 7769 6c6c 206e 6f20 6c6f 6e67  ler will no long
+00027e60: 6572 2065 7272 6f6e 656f 7573 6c79 2072  er erroneously r
+00027e70: 6570 6f72 7420 726f 6f6d 7320 636f 6e74  eport rooms cont
+00027e80: 6169 6e69 6e67 206e 6577 2074 7970 696e  aining new typin
+00027e90: 6720 6576 656e 7473 2e20 285b 5c23 3431  g events. ([\#41
+00027ea0: 3237 5d28 6874 7470 733a 2f2f 6769 7468  27](https://gith
+00027eb0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00027ec0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00027ed0: 2f34 3132 3729 290a 2d20 4669 7820 7461  /4127)).- Fix ta
+00027ee0: 626c 6520 6c6f 636b 206f 6620 6465 7669  ble lock of devi
+00027ef0: 6365 5f6c 6973 7473 5f72 656d 6f74 655f  ce_lists_remote_
+00027f00: 6361 6368 6520 7768 6963 6820 636f 756c  cache which coul
+00027f10: 6420 6672 6565 7a65 2074 6865 2061 7070  d freeze the app
+00027f20: 6c69 6361 7469 6f6e 2028 5b5c 2334 3133  lication ([\#413
+00027f30: 325d 2868 7474 7073 3a2f 2f67 6974 6875  2](https://githu
+00027f40: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00027f50: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00027f60: 3431 3332 2929 0a2d 2046 6978 2065 7863  4132)).- Fix exc
+00027f70: 6570 7469 6f6e 2077 6865 6e20 7573 696e  eption when usin
+00027f80: 6720 7374 6174 6520 7265 7320 7632 2061  g state res v2 a
+00027f90: 6c67 6f72 6974 686d 2028 5b5c 2334 3133  lgorithm ([\#413
+00027fa0: 355d 2868 7474 7073 3a2f 2f67 6974 6875  5](https://githu
+00027fb0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00027fc0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00027fd0: 3431 3335 2929 0a2d 2047 656e 6572 6174  4135)).- Generat
+00027fe0: 696e 6720 7468 6520 7573 6572 2063 6f6e  ing the user con
+00027ff0: 7365 6e74 2055 5249 206e 6f20 6c6f 6e67  sent URI no long
+00028000: 6572 2066 6169 6c73 206f 6e20 5079 7468  er fails on Pyth
+00028010: 6f6e 2033 2e20 285b 5c23 3431 3430 5d28  on 3. ([\#4140](
+00028020: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00028030: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00028040: 6e61 7073 652f 6973 7375 6573 2f34 3134  napse/issues/414
+00028050: 3029 2c20 5b5c 2334 3136 335d 2868 7474  0), [\#4163](htt
+00028060: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00028070: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00028080: 7365 2f69 7373 7565 732f 3431 3633 2929  se/issues/4163))
+00028090: 0a2d 204c 6f61 6469 6e67 2055 524c 2070  .- Loading URL p
+000280a0: 7265 7669 6577 7320 6672 6f6d 2074 6865  reviews from the
+000280b0: 2044 4220 6361 6368 6520 6f6e 2050 6f73   DB cache on Pos
+000280c0: 7467 7265 7320 7769 6c6c 206e 6f20 6c6f  tgres will no lo
+000280d0: 6e67 6572 2063 6175 7365 2055 6e69 636f  nger cause Unico
+000280e0: 6465 2074 7970 6520 6572 726f 7273 2077  de type errors w
+000280f0: 6865 6e20 7265 7370 6f6e 6469 6e67 2074  hen responding t
+00028100: 6f20 7468 6520 7265 7175 6573 742c 2061  o the request, a
+00028110: 6e64 2055 524c 2070 7265 7669 6577 7320  nd URL previews 
+00028120: 7769 6c6c 206e 6f20 6c6f 6e67 6572 2066  will no longer f
+00028130: 6169 6c20 6966 2074 6865 2072 656d 6f74  ail if the remot
+00028140: 6520 7365 7276 6572 2072 6574 7572 6e73  e server returns
+00028150: 2061 2043 6f6e 7465 6e74 2d54 7970 6520   a Content-Type 
+00028160: 6865 6164 6572 2077 6974 6820 7468 6520  header with the 
+00028170: 6368 6172 7479 7065 2069 6e20 7175 6f74  chartype in quot
+00028180: 6573 2e20 285b 5c23 3431 3537 5d28 6874  es. ([\#4157](ht
+00028190: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+000281a0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+000281b0: 7073 652f 6973 7375 6573 2f34 3135 3729  pse/issues/4157)
+000281c0: 290a 2d20 5468 6520 6861 7368 5f70 6173  ).- The hash_pas
+000281d0: 7377 6f72 6420 7363 7269 7074 206e 6f77  sword script now
+000281e0: 2077 6f72 6b73 206f 6e20 5079 7468 6f6e   works on Python
+000281f0: 2033 2e20 285b 5c23 3431 3631 5d28 6874   3. ([\#4161](ht
+00028200: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00028210: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+00028220: 7073 652f 6973 7375 6573 2f34 3136 3129  pse/issues/4161)
+00028230: 290a 2d20 4669 7820 6e6f 6f70 2063 6865  ).- Fix noop che
+00028240: 636b 7320 7768 656e 2075 7064 6174 696e  cks when updatin
+00028250: 6720 6465 7669 6365 206b 6579 732c 2072  g device keys, r
+00028260: 6564 7563 696e 6720 7370 7572 696f 7573  educing spurious
+00028270: 2064 6576 6963 6520 6c69 7374 2075 7064   device list upd
+00028280: 6174 6520 6e6f 7469 6669 6361 7469 6f6e  ate notification
+00028290: 732e 2028 5b5c 2334 3136 345d 2868 7474  s. ([\#4164](htt
+000282a0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+000282b0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+000282c0: 7365 2f69 7373 7565 732f 3431 3634 2929  se/issues/4164))
+000282d0: 0a0a 0a44 6570 7265 6361 7469 6f6e 7320  ...Deprecations 
+000282e0: 616e 6420 5265 6d6f 7661 6c73 0a2d 2d2d  and Removals.---
+000282f0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00028300: 2d2d 2d2d 2d2d 0a0a 2d20 5468 6520 6469  ------..- The di
+00028310: 7375 7365 6420 616e 6420 756e 2d73 7065  sused and un-spe
+00028320: 6363 6564 2069 6465 6e74 6963 6f6e 2067  cced identicon g
+00028330: 656e 6572 6174 6f72 2068 6173 2062 6565  enerator has bee
+00028340: 6e20 7265 6d6f 7665 642e 2028 5b5c 2334  n removed. ([\#4
+00028350: 3130 365d 2868 7474 7073 3a2f 2f67 6974  106](https://git
+00028360: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00028370: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+00028380: 732f 3431 3036 2929 0a2d 2054 6865 206f  s/4106)).- The o
+00028390: 6273 6f6c 6574 6520 616e 6420 6e6f 6e2d  bsolete and non-
+000283a0: 6675 6e63 7469 6f6e 616c 202f 7075 6c6c  functional /pull
+000283b0: 2066 6564 6572 6174 696f 6e20 656e 6470   federation endp
+000283c0: 6f69 6e74 2068 6173 2062 6565 6e20 7265  oint has been re
+000283d0: 6d6f 7665 642e 2028 5b5c 2334 3131 385d  moved. ([\#4118]
+000283e0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+000283f0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+00028400: 796e 6170 7365 2f69 7373 7565 732f 3431  ynapse/issues/41
+00028410: 3138 2929 0a2d 2054 6865 2064 6570 7265  18)).- The depre
+00028420: 6361 7465 6420 7631 206b 6579 2065 7863  cated v1 key exc
+00028430: 6861 6e67 6520 656e 6470 6f69 6e74 7320  hange endpoints 
+00028440: 6861 7665 2062 6565 6e20 7265 6d6f 7665  have been remove
+00028450: 642e 2028 5b5c 2334 3131 395d 2868 7474  d. ([\#4119](htt
+00028460: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00028470: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00028480: 7365 2f69 7373 7565 732f 3431 3139 2929  se/issues/4119))
+00028490: 0a2d 2053 796e 6170 7365 2077 696c 6c20  .- Synapse will 
+000284a0: 6e6f 206c 6f6e 6765 7220 6665 7463 6820  no longer fetch 
+000284b0: 6b65 7973 2075 7369 6e67 2074 6865 2066  keys using the f
+000284c0: 616c 6c62 6163 6b20 6465 7072 6563 6174  allback deprecat
+000284d0: 6564 2076 3120 6b65 7920 6578 6368 616e  ed v1 key exchan
+000284e0: 6765 206d 6574 686f 6420 616e 6420 7769  ge method and wi
+000284f0: 6c6c 206e 6f77 2061 6c77 6179 7320 7573  ll now always us
+00028500: 6520 7632 2e20 285b 5c23 3431 3230 5d28  e v2. ([\#4120](
+00028510: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00028520: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00028530: 6e61 7073 652f 6973 7375 6573 2f34 3132  napse/issues/412
+00028540: 3029 290a 0a0a 496e 7465 726e 616c 2043  0))...Internal C
+00028550: 6861 6e67 6573 0a2d 2d2d 2d2d 2d2d 2d2d  hanges.---------
+00028560: 2d2d 2d2d 2d2d 2d0a 0a2d 2046 6978 2062  -------..- Fix b
+00028570: 7569 6c64 206f 6620 446f 636b 6572 2069  uild of Docker i
+00028580: 6d61 6765 2077 6974 6820 646f 636b 6572  mage with docker
+00028590: 2d63 6f6d 706f 7365 2028 5b5c 2333 3737  -compose ([\#377
+000285a0: 385d 2868 7474 7073 3a2f 2f67 6974 6875  8](https://githu
+000285b0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+000285c0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+000285d0: 3337 3738 2929 0a2d 2044 656c 6574 6520  3778)).- Delete 
+000285e0: 756e 7265 6665 7265 6e63 6564 2073 7461  unreferenced sta
+000285f0: 7465 2067 726f 7570 7320 6475 7269 6e67  te groups during
+00028600: 2068 6973 746f 7279 2070 7572 6765 2028   history purge (
+00028610: 5b5c 2334 3030 365d 2868 7474 7073 3a2f  [\#4006](https:/
+00028620: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+00028630: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00028640: 7373 7565 732f 3430 3036 2929 0a2d 2054  ssues/4006)).- T
+00028650: 6865 2022 5265 6365 6976 6564 2072 6461  he "Received rda
+00028660: 7461 2220 6c6f 6720 6d65 7373 6167 6573  ta" log messages
+00028670: 206f 6e20 776f 726b 6572 7320 6973 206e   on workers is n
+00028680: 6f77 206c 6f67 6765 6420 6174 2044 4542  ow logged at DEB
+00028690: 5547 2c20 6e6f 7420 494e 464f 2e20 285b  UG, not INFO. ([
+000286a0: 5c23 3431 3038 5d28 6874 7470 733a 2f2f  \#4108](https://
+000286b0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+000286c0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+000286d0: 7375 6573 2f34 3130 3829 290a 2d20 5265  sues/4108)).- Re
+000286e0: 6475 6365 2072 6570 6c69 6361 7469 6f6e  duce replication
+000286f0: 2074 7261 6666 6963 2066 6f72 2064 6576   traffic for dev
+00028700: 6963 6520 6c69 7374 7320 285b 5c23 3431  ice lists ([\#41
+00028710: 3039 5d28 6874 7470 733a 2f2f 6769 7468  09](https://gith
+00028720: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00028730: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00028740: 2f34 3130 3929 290a 2d20 4669 7820 6073  /4109)).- Fix `s
+00028750: 796e 6170 7365 5f72 6570 6c69 6361 7469  ynapse_replicati
+00028760: 6f6e 5f74 6370 5f70 726f 746f 636f 6c5f  on_tcp_protocol_
+00028770: 2a5f 636f 6d6d 616e 6473 6020 6d65 7472  *_commands` metr
+00028780: 6963 206c 6162 656c 2074 6f20 6265 2066  ic label to be f
+00028790: 756c 6c20 636f 6d6d 616e 6420 6e61 6d65  ull command name
+000287a0: 2c20 7261 7468 6572 2074 6861 6e20 6a75  , rather than ju
+000287b0: 7374 2074 6865 2066 6972 7374 2063 6861  st the first cha
+000287c0: 7261 6374 6572 2028 5b5c 2334 3131 305d  racter ([\#4110]
+000287d0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+000287e0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+000287f0: 796e 6170 7365 2f69 7373 7565 732f 3431  ynapse/issues/41
+00028800: 3130 2929 0a2d 204c 6f67 2073 6f6d 6520  10)).- Log some 
+00028810: 6269 7473 2061 626f 7574 2072 6f6f 6d20  bits about room 
+00028820: 6372 6561 7469 6f6e 2028 5b5c 2334 3132  creation ([\#412
+00028830: 315d 2868 7474 7073 3a2f 2f67 6974 6875  1](https://githu
+00028840: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00028850: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00028860: 3431 3231 2929 0a2d 2046 6978 2060 746f  4121)).- Fix `to
+00028870: 7860 2066 6169 6c75 7265 206f 6e20 6f6c  x` failure on ol
+00028880: 6420 7379 7374 656d 7320 285b 5c23 3431  d systems ([\#41
+00028890: 3234 5d28 6874 7470 733a 2f2f 6769 7468  24](https://gith
+000288a0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+000288b0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+000288c0: 2f34 3132 3429 290a 2d20 4164 6420 5354  /4124)).- Add ST
+000288d0: 4154 455f 5632 5f54 4553 5420 726f 6f6d  ATE_V2_TEST room
+000288e0: 2076 6572 7369 6f6e 2028 5b5c 2334 3132   version ([\#412
+000288f0: 385d 2868 7474 7073 3a2f 2f67 6974 6875  8](https://githu
+00028900: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00028910: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00028920: 3431 3238 2929 0a2d 2043 6c65 616e 2075  4128)).- Clean u
+00028930: 7020 6576 656e 7420 6163 6365 7373 6573  p event accesses
+00028940: 2061 6e64 2074 6573 7473 2028 5b5c 2334   and tests ([\#4
+00028950: 3133 375d 2868 7474 7073 3a2f 2f67 6974  137](https://git
+00028960: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00028970: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+00028980: 732f 3431 3337 2929 0a2d 2054 6865 2064  s/4137)).- The d
+00028990: 6566 6175 6c74 206c 6f67 6769 6e67 2063  efault logging c
+000289a0: 6f6e 6669 6720 7769 6c6c 206e 6f77 2073  onfig will now s
+000289b0: 6574 2061 6e20 6578 706c 6963 6974 206c  et an explicit l
+000289c0: 6f67 2066 696c 6520 656e 636f 6469 6e67  og file encoding
+000289d0: 206f 6620 5554 462d 382e 2028 5b5c 2334   of UTF-8. ([\#4
+000289e0: 3133 385d 2868 7474 7073 3a2f 2f67 6974  138](https://git
+000289f0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00028a00: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+00028a10: 732f 3431 3338 2929 0a2d 2041 6464 2068  s/4138)).- Add h
+00028a20: 656c 7065 7273 2066 756e 6374 696f 6e73  elpers functions
+00028a30: 2066 6f72 2067 6574 7469 6e67 2070 7265   for getting pre
+00028a40: 7620 616e 6420 6175 7468 2065 7665 6e74  v and auth event
+00028a50: 7320 6f66 2061 6e20 6576 656e 7420 285b  s of an event ([
+00028a60: 5c23 3431 3339 5d28 6874 7470 733a 2f2f  \#4139](https://
+00028a70: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00028a80: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00028a90: 7375 6573 2f34 3133 3929 290a 2d20 4164  sues/4139)).- Ad
+00028aa0: 6420 736f 6d65 2074 6573 7473 2066 6f72  d some tests for
+00028ab0: 2074 6865 2048 5454 5020 7075 7368 6572   the HTTP pusher
+00028ac0: 2e20 285b 5c23 3431 3439 5d28 6874 7470  . ([\#4149](http
+00028ad0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+00028ae0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+00028af0: 652f 6973 7375 6573 2f34 3134 3929 290a  e/issues/4149)).
+00028b00: 2d20 6164 6420 7075 7267 655f 6869 7374  - add purge_hist
+00028b10: 6f72 792e 7368 2061 6e64 2070 7572 6765  ory.sh and purge
+00028b20: 5f72 656d 6f74 655f 6d65 6469 612e 7368  _remote_media.sh
+00028b30: 2073 6372 6970 7473 2074 6f20 636f 6e74   scripts to cont
+00028b40: 7269 622f 2028 5b5c 2334 3135 355d 2868  rib/ ([\#4155](h
+00028b50: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00028b60: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+00028b70: 6170 7365 2f69 7373 7565 732f 3431 3535  apse/issues/4155
+00028b80: 2929 0a2d 2048 5454 5020 7465 7374 7320  )).- HTTP tests 
+00028b90: 6861 7665 2062 6565 6e20 7265 6661 6374  have been refact
+00028ba0: 6f72 6564 2074 6f20 636f 6e74 6169 6e20  ored to contain 
+00028bb0: 6c65 7373 2062 6f69 6c65 7270 6c61 7465  less boilerplate
+00028bc0: 2e20 285b 5c23 3431 3536 5d28 6874 7470  . ([\#4156](http
+00028bd0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+00028be0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+00028bf0: 652f 6973 7375 6573 2f34 3135 3629 290a  e/issues/4156)).
+00028c00: 2d20 4472 6f70 2069 6e63 6f6d 696e 6720  - Drop incoming 
+00028c10: 6576 656e 7473 2066 726f 6d20 6665 6465  events from fede
+00028c20: 7261 7469 6f6e 2066 6f72 2075 6e6b 6e6f  ration for unkno
+00028c30: 776e 2072 6f6f 6d73 2028 5b5c 2334 3136  wn rooms ([\#416
+00028c40: 355d 2868 7474 7073 3a2f 2f67 6974 6875  5](https://githu
+00028c50: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00028c60: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00028c70: 3431 3635 2929 0a0a 0a53 796e 6170 7365  4165))...Synapse
+00028c80: 2030 2e33 332e 3820 2832 3031 382d 3131   0.33.8 (2018-11
+00028c90: 2d30 3129 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d  -01).===========
+00028ca0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00028cb0: 0a0a 4e6f 2073 6967 6e69 6669 6361 6e74  ..No significant
+00028cc0: 2063 6861 6e67 6573 2e0a 0a0a 5379 6e61   changes....Syna
+00028cd0: 7073 6520 302e 3333 2e38 7263 3220 2832  pse 0.33.8rc2 (2
+00028ce0: 3031 382d 3130 2d33 3129 0a3d 3d3d 3d3d  018-10-31).=====
+00028cf0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00028d00: 3d3d 3d3d 3d3d 3d3d 3d0a 0a42 7567 6669  =========..Bugfi
+00028d10: 7865 730a 2d2d 2d2d 2d2d 2d2d 0a0a 2d20  xes.--------..- 
+00028d20: 5365 6172 6368 6573 2074 6861 7420 7265  Searches that re
+00028d30: 7175 6573 7420 7072 6f66 696c 6520 696e  quest profile in
+00028d40: 666f 206e 6f77 206e 6f20 6c6f 6e67 6572  fo now no longer
+00028d50: 2066 6169 6c20 7769 7468 2061 2035 3030   fail with a 500
+00028d60: 2e20 4669 7865 730a 2020 6120 7265 6772  . Fixes.  a regr
+00028d70: 6573 7369 6f6e 2069 6e20 302e 3333 2e38  ession in 0.33.8
+00028d80: 7263 312e 2028 5b5c 2334 3132 325d 2868  rc1. ([\#4122](h
+00028d90: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00028da0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+00028db0: 6170 7365 2f69 7373 7565 732f 3431 3232  apse/issues/4122
+00028dc0: 2929 0a0a 0a53 796e 6170 7365 2030 2e33  ))...Synapse 0.3
+00028dd0: 332e 3872 6331 2028 3230 3138 2d31 302d  3.8rc1 (2018-10-
+00028de0: 3239 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  29).============
+00028df0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00028e00: 3d3d 0a0a 4665 6174 7572 6573 0a2d 2d2d  ==..Features.---
+00028e10: 2d2d 2d2d 2d0a 0a2d 2053 6572 7665 7273  -----..- Servers
+00028e20: 2077 6974 6820 6175 746f 2d6a 6f69 6e20   with auto-join 
+00028e30: 726f 6f6d 7320 7769 6c6c 206e 6f77 2061  rooms will now a
+00028e40: 7574 6f6d 6174 6963 616c 6c79 2063 7265  utomatically cre
+00028e50: 6174 6520 7468 6f73 6520 726f 6f6d 7320  ate those rooms 
+00028e60: 7768 656e 2074 6865 2066 6972 7374 2075  when the first u
+00028e70: 7365 7220 7265 6769 7374 6572 7320 285b  ser registers ([
+00028e80: 5c23 3339 3735 5d28 6874 7470 733a 2f2f  \#3975](https://
+00028e90: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00028ea0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00028eb0: 7375 6573 2f33 3937 3529 290a 2d20 4164  sues/3975)).- Ad
+00028ec0: 6420 636f 6e66 6967 206f 7074 696f 6e20  d config option 
+00028ed0: 746f 2063 6f6e 7472 6f6c 2061 6c69 6173  to control alias
+00028ee0: 2063 7265 6174 696f 6e20 285b 5c23 3430   creation ([\#40
+00028ef0: 3531 5d28 6874 7470 733a 2f2f 6769 7468  51](https://gith
+00028f00: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00028f10: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00028f20: 2f34 3035 3129 290a 2d20 5468 6520 7265  /4051)).- The re
+00028f30: 6769 7374 6572 5f6e 6577 5f6d 6174 7269  gister_new_matri
+00028f40: 785f 7573 6572 2073 6372 6970 7420 6973  x_user script is
+00028f50: 206e 6f77 2070 6f72 7465 6420 746f 2050   now ported to P
+00028f60: 7974 686f 6e20 332e 2028 5b5c 2334 3038  ython 3. ([\#408
+00028f70: 355d 2868 7474 7073 3a2f 2f67 6974 6875  5](https://githu
+00028f80: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00028f90: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00028fa0: 3430 3835 2929 0a2d 2043 6f6e 6669 6775  4085)).- Configu
+00028fb0: 7265 2044 6f63 6b65 7220 696d 6167 6520  re Docker image 
+00028fc0: 746f 206c 6973 7465 6e20 6f6e 2062 6f74  to listen on bot
+00028fd0: 6820 6970 7634 2061 6e64 2069 7076 362e  h ipv4 and ipv6.
+00028fe0: 2028 5b5c 2334 3038 395d 2868 7474 7073   ([\#4089](https
+00028ff0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00029000: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00029010: 2f69 7373 7565 732f 3430 3839 2929 0a0a  /issues/4089))..
+00029020: 0a42 7567 6669 7865 730a 2d2d 2d2d 2d2d  .Bugfixes.------
+00029030: 2d2d 0a0a 2d20 4669 7820 4854 5450 2065  --..- Fix HTTP e
+00029040: 7272 6f72 2072 6573 706f 6e73 6520 636f  rror response co
+00029050: 6465 7320 666f 7220 6665 6465 7261 7465  des for federate
+00029060: 6420 6772 6f75 7020 7265 7175 6573 7473  d group requests
+00029070: 2e20 285b 5c23 3339 3639 5d28 6874 7470  . ([\#3969](http
+00029080: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+00029090: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+000290a0: 652f 6973 7375 6573 2f33 3936 3929 290a  e/issues/3969)).
+000290b0: 2d20 4669 7820 6973 7375 6520 7768 6572  - Fix issue wher
+000290c0: 6520 5079 7468 6f6e 2033 2075 7365 7273  e Python 3 users
+000290d0: 2063 6f75 6c64 6e27 7420 7061 6769 6e61   couldn't pagina
+000290e0: 7465 202f 7075 626c 6963 526f 6f6d 7320  te /publicRooms 
+000290f0: 285b 5c23 3430 3436 5d28 6874 7470 733a  ([\#4046](https:
+00029100: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00029110: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00029120: 6973 7375 6573 2f34 3034 3629 290a 2d20  issues/4046)).- 
+00029130: 4669 7820 5552 4c20 7072 6576 6965 7769  Fix URL previewi
+00029140: 6e67 2074 6f20 776f 726b 2069 6e20 5079  ng to work in Py
+00029150: 7468 6f6e 2033 2e37 2028 5b5c 2334 3035  thon 3.7 ([\#405
+00029160: 305d 2868 7474 7073 3a2f 2f67 6974 6875  0](https://githu
+00029170: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00029180: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00029190: 3430 3530 2929 0a2d 2073 796e 6374 6c20  4050)).- synctl 
+000291a0: 7769 6c6c 2075 7365 2074 6865 2072 6967  will use the rig
+000291b0: 6874 2070 7974 686f 6e20 6578 6563 7574  ht python execut
+000291c0: 6162 6c65 2074 6f20 7275 6e20 776f 726b  able to run work
+000291d0: 6572 2070 726f 6365 7373 6573 2028 5b5c  er processes ([\
+000291e0: 2334 3035 375d 2868 7474 7073 3a2f 2f67  #4057](https://g
+000291f0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00029200: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00029210: 7565 732f 3430 3537 2929 0a2d 204d 616e  ues/4057)).- Man
+00029220: 686f 6c65 206e 6f77 2077 6f72 6b73 2061  hole now works a
+00029230: 6761 696e 206f 6e20 5079 7468 6f6e 2033  gain on Python 3
+00029240: 2c20 696e 7374 6561 6420 6f66 2066 6169  , instead of fai
+00029250: 6c69 6e67 2077 6974 6820 6120 2263 6f75  ling with a "cou
+00029260: 6c64 6e27 7420 6d61 7463 6820 616c 6c20  ldn't match all 
+00029270: 6b65 7820 7061 7274 7322 2077 6865 6e20  kex parts" when 
+00029280: 636f 6e6e 6563 7469 6e67 2e20 285b 5c23  connecting. ([\#
+00029290: 3430 3630 5d28 6874 7470 733a 2f2f 6769  4060](https://gi
+000292a0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+000292b0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+000292c0: 6573 2f34 3036 3029 2c20 5b5c 2334 3036  es/4060), [\#406
+000292d0: 375d 2868 7474 7073 3a2f 2f67 6974 6875  7](https://githu
+000292e0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+000292f0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00029300: 3430 3637 2929 0a2d 2046 6978 2073 6f6d  4067)).- Fix som
+00029310: 6520 6d65 7472 6963 7320 6265 696e 6720  e metrics being 
+00029320: 7261 6379 2061 6e64 2063 6175 7369 6e67  racy and causing
+00029330: 2065 7863 6570 7469 6f6e 7320 7768 656e   exceptions when
+00029340: 2070 6f6c 6c65 6420 6279 2050 726f 6d65   polled by Prome
+00029350: 7468 6575 732e 2028 5b5c 2334 3036 315d  theus. ([\#4061]
+00029360: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00029370: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+00029380: 796e 6170 7365 2f69 7373 7565 732f 3430  ynapse/issues/40
+00029390: 3631 2929 0a2d 2046 6978 2062 7567 2077  61)).- Fix bug w
+000293a0: 6869 6368 2070 7265 7665 6e74 6564 2065  hich prevented e
+000293b0: 6d61 696c 206e 6f74 6966 6963 6174 696f  mail notificatio
+000293c0: 6e73 2066 726f 6d20 6265 696e 6720 7365  ns from being se
+000293d0: 6e74 2075 6e6c 6573 7320 616e 2061 6273  nt unless an abs
+000293e0: 6f6c 7574 6520 7061 7468 2077 6173 2067  olute path was g
+000293f0: 6976 656e 2066 6f72 2060 656d 6169 6c5f  iven for `email_
+00029400: 7465 6d70 6c61 7465 7360 2e20 285b 5c23  templates`. ([\#
+00029410: 3430 3638 5d28 6874 7470 733a 2f2f 6769  4068](https://gi
+00029420: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+00029430: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+00029440: 6573 2f34 3036 3829 290a 2d20 436f 7272  es/4068)).- Corr
+00029450: 6563 746c 7920 6163 636f 756e 7420 666f  ectly account fo
+00029460: 7220 6370 7520 7573 6167 6520 6279 2062  r cpu usage by b
+00029470: 6163 6b67 726f 756e 6420 7468 7265 6164  ackground thread
+00029480: 7320 285b 5c23 3430 3734 5d28 6874 7470  s ([\#4074](http
+00029490: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+000294a0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+000294b0: 652f 6973 7375 6573 2f34 3037 3429 290a  e/issues/4074)).
+000294c0: 2d20 4669 7820 7261 6365 2063 6f6e 6469  - Fix race condi
+000294d0: 7469 6f6e 2077 6865 7265 2063 6f6e 6669  tion where confi
+000294e0: 6720 6465 6669 6e65 6420 7265 7365 7276  g defined reserv
+000294f0: 6564 2075 7365 7273 2077 6572 6520 6e6f  ed users were no
+00029500: 7420 6265 696e 6720 6164 6465 6420 746f  t being added to
+00029510: 0a20 2074 6865 206d 6f6e 7468 6c79 2061  .  the monthly a
+00029520: 6374 6976 6520 7573 6572 206c 6973 7420  ctive user list 
+00029530: 7072 696f 7220 746f 2074 6865 2068 6f6d  prior to the hom
+00029540: 6573 6572 7665 7220 7265 6163 746f 7220  eserver reactor 
+00029550: 6669 7269 6e67 2075 7020 285b 5c23 3430  firing up ([\#40
+00029560: 3831 5d28 6874 7470 733a 2f2f 6769 7468  81](https://gith
+00029570: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00029580: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00029590: 2f34 3038 3129 290a 2d20 4669 7820 6275  /4081)).- Fix bu
+000295a0: 6720 7768 6963 6820 7072 6576 656e 7465  g which prevente
+000295b0: 6420 6261 636b 736c 6173 6865 7320 6265  d backslashes be
+000295c0: 696e 6720 7573 6564 2069 6e20 6576 656e  ing used in even
+000295d0: 7420 6669 656c 6420 6669 6c74 6572 7320  t field filters 
+000295e0: 285b 5c23 3430 3833 5d28 6874 7470 733a  ([\#4083](https:
+000295f0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00029600: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00029610: 6973 7375 6573 2f34 3038 3329 290a 0a0a  issues/4083))...
+00029620: 496e 7465 726e 616c 2043 6861 6e67 6573  Internal Changes
+00029630: 0a2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  .---------------
+00029640: 2d0a 0a2d 2041 6464 2069 6e66 6f72 6d61  -..- Add informa
+00029650: 7469 6f6e 2061 626f 7574 2074 6865 205b  tion about the [
+00029660: 6d61 7472 6978 2d64 6f63 6b65 722d 616e  matrix-docker-an
+00029670: 7369 626c 652d 6465 706c 6f79 5d28 6874  sible-deploy](ht
+00029680: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00029690: 2f73 7061 6e74 616c 6565 762f 6d61 7472  /spantaleev/matr
+000296a0: 6978 2d64 6f63 6b65 722d 616e 7369 626c  ix-docker-ansibl
+000296b0: 652d 6465 706c 6f79 2920 706c 6179 626f  e-deploy) playbo
+000296c0: 6f6b 2028 5b5c 2333 3639 385d 2868 7474  ok ([\#3698](htt
+000296d0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+000296e0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+000296f0: 7365 2f69 7373 7565 732f 3336 3938 2929  se/issues/3698))
+00029700: 0a2d 2041 6464 2069 6e69 7469 616c 2069  .- Add initial i
+00029710: 6d70 6c65 6d65 6e74 6174 696f 6e20 6f66  mplementation of
+00029720: 206e 6577 2073 7461 7465 2072 6573 6f6c   new state resol
+00029730: 7574 696f 6e20 616c 676f 7269 7468 6d20  ution algorithm 
+00029740: 285b 5c23 3337 3836 5d28 6874 7470 733a  ([\#3786](https:
+00029750: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00029760: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00029770: 6973 7375 6573 2f33 3738 3629 290a 2d20  issues/3786)).- 
+00029780: 5265 6475 6365 2064 6174 6162 6173 6520  Reduce database 
+00029790: 6c6f 6164 2077 6865 6e20 6665 7463 6869  load when fetchi
+000297a0: 6e67 2073 7461 7465 2067 726f 7570 7320  ng state groups 
+000297b0: 285b 5c23 3430 3131 5d28 6874 7470 733a  ([\#4011](https:
+000297c0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+000297d0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+000297e0: 6973 7375 6573 2f34 3031 3129 290a 2d20  issues/4011)).- 
+000297f0: 5661 7269 6f75 7320 636c 6561 6e75 7073  Various cleanups
+00029800: 2069 6e20 7468 6520 6665 6465 7261 7469   in the federati
+00029810: 6f6e 2063 6c69 656e 7420 636f 6465 2028  on client code (
+00029820: 5b5c 2334 3033 315d 2868 7474 7073 3a2f  [\#4031](https:/
+00029830: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+00029840: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00029850: 7373 7565 732f 3430 3331 2929 0a2d 2052  ssues/4031)).- R
+00029860: 756e 2074 6865 2043 6972 636c 6543 4920  un the CircleCI 
+00029870: 6275 696c 6473 2069 6e20 646f 636b 6572  builds in docker
+00029880: 2063 6f6e 7461 696e 6572 7320 285b 5c23   containers ([\#
+00029890: 3430 3431 5d28 6874 7470 733a 2f2f 6769  4041](https://gi
+000298a0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+000298b0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+000298c0: 6573 2f34 3034 3129 290a 2d20 4f6e 6c79  es/4041)).- Only
+000298d0: 2063 6f6c 6f75 7269 7365 2073 796e 6374   colourise synct
+000298e0: 6c20 6f75 7470 7574 2077 6865 6e20 6174  l output when at
+000298f0: 7461 6368 6564 2074 6f20 7474 7920 285b  tached to tty ([
+00029900: 5c23 3430 3439 5d28 6874 7470 733a 2f2f  \#4049](https://
+00029910: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00029920: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00029930: 7375 6573 2f34 3034 3929 290a 2d20 5265  sues/4049)).- Re
+00029940: 6661 6374 6f72 2072 6f6f 6d20 616c 6961  factor room alia
+00029950: 7320 6372 6561 7469 6f6e 2063 6f64 6520  s creation code 
+00029960: 285b 5c23 3430 3633 5d28 6874 7470 733a  ([\#4063](https:
+00029970: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00029980: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00029990: 6973 7375 6573 2f34 3036 3329 290a 2d20  issues/4063)).- 
+000299a0: 4d61 6b65 2074 6865 2050 7974 686f 6e20  Make the Python 
+000299b0: 7363 7269 7074 7320 696e 2074 6865 2074  scripts in the t
+000299c0: 6f70 2d6c 6576 656c 2073 6372 6970 7473  op-level scripts
+000299d0: 2066 6f6c 6465 7273 206d 6565 7420 7065   folders meet pe
+000299e0: 7038 2061 6e64 2070 6173 7320 666c 616b  p8 and pass flak
+000299f0: 6538 2e20 285b 5c23 3430 3638 5d28 6874  e8. ([\#4068](ht
+00029a00: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00029a10: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+00029a20: 7073 652f 6973 7375 6573 2f34 3036 3829  pse/issues/4068)
+00029a30: 290a 2d20 5468 6520 5245 4144 4d45 206e  ).- The README n
+00029a40: 6f77 2063 6f6e 7461 696e 7320 6578 616d  ow contains exam
+00029a50: 706c 6520 666f 7220 7468 6520 4361 6464  ple for the Cadd
+00029a60: 7920 7765 6220 7365 7276 6572 2e20 436f  y web server. Co
+00029a70: 6e74 7269 6275 7465 6420 6279 2073 7465  ntributed by ste
+00029a80: 616d 7030 7274 2e20 285b 5c23 3430 3732  amp0rt. ([\#4072
+00029a90: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00029aa0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00029ab0: 7379 6e61 7073 652f 6973 7375 6573 2f34  synapse/issues/4
+00029ac0: 3037 3229 290a 2d20 4164 6420 7073 7574  072)).- Add psut
+00029ad0: 696c 2061 7320 616e 2065 7870 6c69 6369  il as an explici
+00029ae0: 7420 6465 7065 6e64 656e 6379 2028 5b5c  t dependency ([\
+00029af0: 2334 3037 335d 2868 7474 7073 3a2f 2f67  #4073](https://g
+00029b00: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00029b10: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00029b20: 7565 732f 3430 3733 2929 0a2d 2043 6c65  ues/4073)).- Cle
+00029b30: 616e 2075 7020 7468 7265 6164 696e 6720  an up threading 
+00029b40: 616e 6420 6c6f 6763 6f6e 7465 7874 7320  and logcontexts 
+00029b50: 696e 2070 7573 6865 7273 2028 5b5c 2334  in pushers ([\#4
+00029b60: 3037 355d 2868 7474 7073 3a2f 2f67 6974  075](https://git
+00029b70: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00029b80: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+00029b90: 732f 3430 3735 2929 0a2d 2043 6f72 7265  s/4075)).- Corre
+00029ba0: 6374 6c79 206d 616e 6167 6520 6c6f 6763  ctly manage logc
+00029bb0: 6f6e 7465 7874 7320 6475 7269 6e67 2073  ontexts during s
+00029bc0: 7461 7274 7570 2074 6f20 6669 7820 736f  tartup to fix so
+00029bd0: 6d65 2022 556e 6578 7065 6374 6564 206c  me "Unexpected l
+00029be0: 6f67 6769 6e67 2063 6f6e 7465 7874 2220  ogging context" 
+00029bf0: 7761 726e 696e 6773 2028 5b5c 2334 3037  warnings ([\#407
+00029c00: 365d 2868 7474 7073 3a2f 2f67 6974 6875  6](https://githu
+00029c10: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00029c20: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00029c30: 3430 3736 2929 0a2d 2047 6976 6520 736f  4076)).- Give so
+00029c40: 6d65 206d 6f72 6520 7468 696e 6773 206c  me more things l
+00029c50: 6f67 636f 6e74 6578 7473 2028 5b5c 2334  ogcontexts ([\#4
+00029c60: 3037 375d 2868 7474 7073 3a2f 2f67 6974  077](https://git
+00029c70: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00029c80: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+00029c90: 732f 3430 3737 2929 0a2d 2043 6c65 616e  s/4077)).- Clean
+00029ca0: 2075 7020 736f 6d65 2062 6974 7320 6f66   up some bits of
+00029cb0: 2063 6f64 6520 7768 6963 6820 7765 7265   code which were
+00029cc0: 2066 6c61 6767 6564 2062 7920 7468 6520   flagged by the 
+00029cd0: 6c69 6e74 6572 2028 5b5c 2334 3038 325d  linter ([\#4082]
+00029ce0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00029cf0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+00029d00: 796e 6170 7365 2f69 7373 7565 732f 3430  ynapse/issues/40
+00029d10: 3832 2929 0a0a 0a53 796e 6170 7365 2030  82))...Synapse 0
+00029d20: 2e33 332e 3720 2832 3031 382d 3130 2d31  .33.7 (2018-10-1
+00029d30: 3829 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  8).=============
+00029d40: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a  ==============..
+00029d50: 2a2a 5761 726e 696e 672a 2a3a 2054 6869  **Warning**: Thi
+00029d60: 7320 7265 6c65 6173 6520 7265 6d6f 7665  s release remove
+00029d70: 7320 7468 6520 6578 616d 706c 6520 656d  s the example em
+00029d80: 6169 6c20 6e6f 7469 6669 6361 7469 6f6e  ail notification
+00029d90: 2074 656d 706c 6174 6573 2066 726f 6d0a   templates from.
+00029da0: 6072 6573 2f74 656d 706c 6174 6573 6020  `res/templates` 
+00029db0: 2874 6865 7920 6172 6520 6e6f 7720 696e  (they are now in
+00029dc0: 7465 726e 616c 2074 6f20 7468 6520 7079  ternal to the py
+00029dd0: 7468 6f6e 2070 6163 6b61 6765 292e 2054  thon package). T
+00029de0: 6869 7320 7368 6f75 6c64 206f 6e6c 790a  his should only.
+00029df0: 6166 6665 6374 2079 6f75 2069 6620 796f  affect you if yo
+00029e00: 7520 2861 2920 6465 706c 6f79 2079 6f75  u (a) deploy you
+00029e10: 7220 5379 6e61 7073 6520 696e 7374 616e  r Synapse instan
+00029e20: 6365 2066 726f 6d20 6120 6769 7420 6368  ce from a git ch
+00029e30: 6563 6b6f 7574 206f 7220 610a 6769 7468  eckout or a.gith
+00029e40: 7562 2073 6e61 7073 686f 7420 5552 4c2c  ub snapshot URL,
+00029e50: 2061 6e64 2028 6229 2068 6176 6520 656d   and (b) have em
+00029e60: 6169 6c20 6e6f 7469 6669 6361 7469 6f6e  ail notification
+00029e70: 7320 656e 6162 6c65 642e 0a0a 4966 2079  s enabled...If y
+00029e80: 6f75 2068 6176 6520 656d 6169 6c20 6e6f  ou have email no
+00029e90: 7469 6669 6361 7469 6f6e 7320 656e 6162  tifications enab
+00029ea0: 6c65 642c 2079 6f75 2073 686f 756c 6420  led, you should 
+00029eb0: 656e 7375 7265 2074 6861 740a 6065 6d61  ensure that.`ema
+00029ec0: 696c 2e74 656d 706c 6174 655f 6469 7260  il.template_dir`
+00029ed0: 2069 7320 6569 7468 6572 2063 6f6e 6669   is either confi
+00029ee0: 6775 7265 6420 746f 2070 6f69 6e74 2061  gured to point a
+00029ef0: 7420 6120 6469 7265 6374 6f72 7920 7768  t a directory wh
+00029f00: 6572 6520 796f 750a 6861 7665 2069 6e73  ere you.have ins
+00029f10: 7461 6c6c 6564 2063 7573 746f 6d69 7365  talled customise
+00029f20: 6420 7465 6d70 6c61 7465 732c 206f 7220  d templates, or 
+00029f30: 6c65 6176 6520 6974 2075 6e73 6574 2074  leave it unset t
+00029f40: 6f20 7573 6520 7468 6520 6465 6661 756c  o use the defaul
+00029f50: 740a 7465 6d70 6c61 7465 732e 0a0a 5379  t.templates...Sy
+00029f60: 6e61 7073 6520 302e 3333 2e37 7263 3220  napse 0.33.7rc2 
+00029f70: 2832 3031 382d 3130 2d31 3729 0a3d 3d3d  (2018-10-17).===
+00029f80: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00029f90: 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a46 6561  ===========..Fea
+00029fa0: 7475 7265 730a 2d2d 2d2d 2d2d 2d2d 0a0a  tures.--------..
+00029fb0: 2d20 5368 6970 2074 6865 2065 7861 6d70  - Ship the examp
+00029fc0: 6c65 2065 6d61 696c 2074 656d 706c 6174  le email templat
+00029fd0: 6573 2061 7320 7061 7274 206f 6620 7468  es as part of th
+00029fe0: 6520 7061 636b 6167 6520 285b 5c23 3430  e package ([\#40
+00029ff0: 3532 5d28 6874 7470 733a 2f2f 6769 7468  52](https://gith
+0002a000: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+0002a010: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+0002a020: 2f34 3035 3229 290a 0a42 7567 6669 7865  /4052))..Bugfixe
+0002a030: 730a 2d2d 2d2d 2d2d 2d2d 0a0a 2d20 4669  s.--------..- Fi
+0002a040: 7820 6275 6720 7768 6963 6820 6d61 6465  x bug which made
+0002a050: 2067 6574 5f6d 6973 7369 6e67 5f65 7665   get_missing_eve
+0002a060: 6e74 7320 7265 7475 726e 2074 6f6f 2066  nts return too f
+0002a070: 6577 2065 7665 6e74 7320 285b 5c23 3430  ew events ([\#40
+0002a080: 3435 5d28 6874 7470 733a 2f2f 6769 7468  45](https://gith
+0002a090: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+0002a0a0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+0002a0b0: 2f34 3034 3529 290a 0a0a 5379 6e61 7073  /4045))...Synaps
+0002a0c0: 6520 302e 3333 2e37 7263 3120 2832 3031  e 0.33.7rc1 (201
+0002a0d0: 382d 3130 2d31 3529 0a3d 3d3d 3d3d 3d3d  8-10-15).=======
+0002a0e0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0002a0f0: 3d3d 3d3d 3d3d 3d0a 0a46 6561 7475 7265  =======..Feature
+0002a100: 730a 2d2d 2d2d 2d2d 2d2d 0a0a 2d20 4164  s.--------..- Ad
+0002a110: 6420 7375 7070 6f72 7420 666f 7220 656e  d support for en
+0002a120: 642d 746f 2d65 6e64 206b 6579 2062 6163  d-to-end key bac
+0002a130: 6b75 7020 284d 5343 3136 3837 2920 285b  kup (MSC1687) ([
+0002a140: 5c23 3430 3139 5d28 6874 7470 733a 2f2f  \#4019](https://
+0002a150: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+0002a160: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+0002a170: 7375 6573 2f34 3031 3929 290a 0a0a 4275  sues/4019))...Bu
+0002a180: 6766 6978 6573 0a2d 2d2d 2d2d 2d2d 2d0a  gfixes.--------.
+0002a190: 0a2d 2046 6978 2062 7567 2069 6e20 6576  .- Fix bug in ev
+0002a1a0: 656e 7420 7065 7273 6973 7465 6e63 6520  ent persistence 
+0002a1b0: 6c6f 6769 6320 7768 6963 6820 6361 7573  logic which caus
+0002a1c0: 6564 2027 4e6f 6e65 5479 7065 2069 7320  ed 'NoneType is 
+0002a1d0: 6e6f 7420 6974 6572 6162 6c65 2720 285b  not iterable' ([
+0002a1e0: 5c23 3339 3935 5d28 6874 7470 733a 2f2f  \#3995](https://
+0002a1f0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+0002a200: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+0002a210: 7375 6573 2f33 3939 3529 290a 2d20 4669  sues/3995)).- Fi
+0002a220: 7820 6578 6365 7074 696f 6e20 696e 2062  x exception in b
+0002a230: 6163 6b67 726f 756e 6420 6d65 7472 6963  ackground metric
+0002a240: 7320 636f 6c6c 6563 7469 6f6e 2028 5b5c  s collection ([\
+0002a250: 2333 3939 365d 2868 7474 7073 3a2f 2f67  #3996](https://g
+0002a260: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+0002a270: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+0002a280: 7565 732f 3339 3936 2929 0a2d 2046 6978  ues/3996)).- Fix
+0002a290: 2065 7863 6570 7469 6f6e 2068 616e 646c   exception handl
+0002a2a0: 696e 6720 696e 2066 6574 6368 696e 6720  ing in fetching 
+0002a2b0: 7265 6d6f 7465 2070 726f 6669 6c65 7320  remote profiles 
+0002a2c0: 285b 5c23 3339 3937 5d28 6874 7470 733a  ([\#3997](https:
+0002a2d0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+0002a2e0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+0002a2f0: 6973 7375 6573 2f33 3939 3729 290a 2d20  issues/3997)).- 
+0002a300: 4669 7820 6861 6e64 6c69 6e67 206f 6620  Fix handling of 
+0002a310: 7265 6a65 6374 6564 2074 6872 6565 7069  rejected threepi
+0002a320: 6420 696e 7669 7465 7320 285b 5c23 3339  d invites ([\#39
+0002a330: 3939 5d28 6874 7470 733a 2f2f 6769 7468  99](https://gith
+0002a340: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+0002a350: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+0002a360: 2f33 3939 3929 290a 2d20 576f 726b 6572  /3999)).- Worker
+0002a370: 7320 6e6f 7720 7374 6172 7420 6f6e 2050  s now start on P
+0002a380: 7974 686f 6e20 332e 2028 5b5c 2334 3032  ython 3. ([\#402
+0002a390: 375d 2868 7474 7073 3a2f 2f67 6974 6875  7](https://githu
+0002a3a0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+0002a3b0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+0002a3c0: 3430 3237 2929 0a2d 2053 796e 6170 7365  4027)).- Synapse
+0002a3d0: 206e 6f77 2073 7461 7274 7320 6f6e 2050   now starts on P
+0002a3e0: 7974 686f 6e20 332e 372e 2028 5b5c 2334  ython 3.7. ([\#4
+0002a3f0: 3033 335d 2868 7474 7073 3a2f 2f67 6974  033](https://git
+0002a400: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+0002a410: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+0002a420: 732f 3430 3333 2929 0a0a 0a49 6e74 6572  s/4033))...Inter
+0002a430: 6e61 6c20 4368 616e 6765 730a 2d2d 2d2d  nal Changes.----
+0002a440: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 0a0a 2d20  ------------..- 
+0002a450: 4c6f 6720 6578 6365 7074 696f 6e73 2069  Log exceptions i
+0002a460: 6e20 6c6f 6f70 696e 6720 6361 6c6c 7320  n looping calls 
+0002a470: 285b 5c23 3430 3038 5d28 6874 7470 733a  ([\#4008](https:
+0002a480: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+0002a490: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+0002a4a0: 6973 7375 6573 2f34 3030 3829 290a 2d20  issues/4008)).- 
+0002a4b0: 4f70 7469 6d69 7361 7469 6f6e 2066 6f72  Optimisation for
+0002a4c0: 2073 6572 7669 6e67 2066 6564 6572 6174   serving federat
+0002a4d0: 696f 6e20 7265 7175 6573 7473 2028 5b5c  ion requests ([\
+0002a4e0: 2334 3031 375d 2868 7474 7073 3a2f 2f67  #4017](https://g
+0002a4f0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+0002a500: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+0002a510: 7565 732f 3430 3137 2929 0a2d 2041 6464  ues/4017)).- Add
+0002a520: 206d 6574 7269 6320 746f 2063 6f75 6e74   metric to count
+0002a530: 206e 756d 6265 7220 6f66 206e 6f6e 2d65   number of non-e
+0002a540: 6d70 7479 2073 796e 6320 7265 7370 6f6e  mpty sync respon
+0002a550: 7365 7320 285b 5c23 3430 3232 5d28 6874  ses ([\#4022](ht
+0002a560: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+0002a570: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+0002a580: 7073 652f 6973 7375 6573 2f34 3032 3229  pse/issues/4022)
+0002a590: 290a 0a0a 5379 6e61 7073 6520 302e 3333  )...Synapse 0.33
+0002a5a0: 2e36 2028 3230 3138 2d31 302d 3034 290a  .6 (2018-10-04).
+0002a5b0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0002a5c0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a49 6e74  ===========..Int
+0002a5d0: 6572 6e61 6c20 4368 616e 6765 730a 2d2d  ernal Changes.--
+0002a5e0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 0a0a  --------------..
+0002a5f0: 2d20 5069 6e20 746f 2070 726f 6d65 7468  - Pin to prometh
+0002a600: 6575 735f 636c 6965 6e74 3c30 2e34 2074  eus_client<0.4 t
+0002a610: 6f20 6176 6f69 6420 7265 6e61 6d69 6e67  o avoid renaming
+0002a620: 2061 6c6c 206f 6620 6f75 7220 6d65 7472   all of our metr
+0002a630: 6963 7320 285b 5c23 3430 3032 5d28 6874  ics ([\#4002](ht
+0002a640: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+0002a650: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+0002a660: 7073 652f 6973 7375 6573 2f34 3030 3229  pse/issues/4002)
+0002a670: 290a 0a0a 5379 6e61 7073 6520 302e 3333  )...Synapse 0.33
+0002a680: 2e36 7263 3120 2832 3031 382d 3130 2d30  .6rc1 (2018-10-0
+0002a690: 3329 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  3).=============
+0002a6a0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0002a6b0: 3d0a 0a46 6561 7475 7265 730a 2d2d 2d2d  =..Features.----
+0002a6c0: 2d2d 2d2d 0a0a 2d20 4164 6469 6e67 2074  ----..- Adding t
+0002a6d0: 6865 2061 6269 6c69 7479 2074 6f20 6368  he ability to ch
+0002a6e0: 616e 6765 204d 4158 5f55 504c 4f41 445f  ange MAX_UPLOAD_
+0002a6f0: 5349 5a45 2066 6f72 2074 6865 2064 6f63  SIZE for the doc
+0002a700: 6b65 7220 636f 6e74 6169 6e65 7220 7661  ker container va
+0002a710: 7269 6162 6c65 732e 2028 5b5c 2333 3838  riables. ([\#388
+0002a720: 335d 2868 7474 7073 3a2f 2f67 6974 6875  3](https://githu
+0002a730: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+0002a740: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+0002a750: 3338 3833 2929 0a2d 2052 6570 6f72 7420  3883)).- Report 
+0002a760: 2270 7974 686f 6e5f 7665 7273 696f 6e22  "python_version"
+0002a770: 2069 6e20 7468 6520 7068 6f6e 6520 686f   in the phone ho
+0002a780: 6d65 2073 7461 7473 2028 5b5c 2333 3839  me stats ([\#389
+0002a790: 345d 2868 7474 7073 3a2f 2f67 6974 6875  4](https://githu
+0002a7a0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+0002a7b0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+0002a7c0: 3338 3934 2929 0a2d 2041 6c77 6179 7320  3894)).- Always 
+0002a7d0: 4c4c 206f 7572 7365 6c76 6573 2069 6620  LL ourselves if 
+0002a7e0: 7765 2772 6520 696e 2061 2072 6f6f 6d20  we're in a room 
+0002a7f0: 285b 5c23 3339 3136 5d28 6874 7470 733a  ([\#3916](https:
+0002a800: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+0002a810: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+0002a820: 6973 7375 6573 2f33 3931 3629 290a 2d20  issues/3916)).- 
+0002a830: 496e 636c 7564 6520 6576 656e 7469 6420  Include eventid 
+0002a840: 696e 206c 6f67 206c 696e 6573 2077 6865  in log lines whe
+0002a850: 6e20 7072 6f63 6573 7369 6e67 2069 6e63  n processing inc
+0002a860: 6f6d 696e 6720 6665 6465 7261 7469 6f6e  oming federation
+0002a870: 2074 7261 6e73 6163 7469 6f6e 7320 285b   transactions ([
+0002a880: 5c23 3339 3539 5d28 6874 7470 733a 2f2f  \#3959](https://
+0002a890: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+0002a8a0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+0002a8b0: 7375 6573 2f33 3935 3929 290a 2d20 5265  sues/3959)).- Re
+0002a8c0: 6d6f 7665 2073 7075 7269 6f75 7320 6368  move spurious ch
+0002a8d0: 6563 6b20 7768 6963 6820 6d61 6465 2027  eck which made '
+0002a8e0: 6c6f 6361 6c68 6f73 7427 2073 6572 7665  localhost' serve
+0002a8f0: 7273 206e 6f74 2077 6f72 6b20 285b 5c23  rs not work ([\#
+0002a900: 3339 3634 5d28 6874 7470 733a 2f2f 6769  3964](https://gi
+0002a910: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+0002a920: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+0002a930: 6573 2f33 3936 3429 290a 0a0a 4275 6766  es/3964))...Bugf
+0002a940: 6978 6573 0a2d 2d2d 2d2d 2d2d 2d0a 0a2d  ixes.--------..-
+0002a950: 2046 6978 2070 726f 626c 656d 2077 6865   Fix problem whe
+0002a960: 6e20 706c 6179 696e 6720 6d65 6469 6120  n playing media 
+0002a970: 6672 6f6d 2043 6872 6f6d 6520 7573 696e  from Chrome usin
+0002a980: 6720 6469 7265 6374 2055 524c 2028 7468  g direct URL (th
+0002a990: 616e 6b73 2040 7265 6d6a 6579 2129 2028  anks @remjey!) (
+0002a9a0: 5b5c 2333 3537 385d 2868 7474 7073 3a2f  [\#3578](https:/
+0002a9b0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+0002a9c0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+0002a9d0: 7373 7565 732f 3335 3738 2929 0a2d 2073  ssues/3578)).- s
+0002a9e0: 7570 706f 7274 2072 6567 6973 7465 7269  upport registeri
+0002a9f0: 6e67 2072 6567 756c 6172 2075 7365 7273  ng regular users
+0002aa00: 206e 6f6e 2d69 6e74 6572 6163 7469 7665   non-interactive
+0002aa10: 6c79 2077 6974 6820 7265 6769 7374 6572  ly with register
+0002aa20: 5f6e 6577 5f6d 6174 7269 785f 7573 6572  _new_matrix_user
+0002aa30: 2073 6372 6970 7420 285b 5c23 3338 3336   script ([\#3836
+0002aa40: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0002aa50: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+0002aa60: 7379 6e61 7073 652f 6973 7375 6573 2f33  synapse/issues/3
+0002aa70: 3833 3629 290a 2d20 4669 7820 6272 6f6b  836)).- Fix brok
+0002aa80: 656e 2069 6e76 6974 6520 656d 6169 6c20  en invite email 
+0002aa90: 6c69 6e6b 7320 666f 7220 7365 6c66 2068  links for self h
+0002aaa0: 6f73 7465 6420 7269 6f74 7320 285b 5c23  osted riots ([\#
+0002aab0: 3338 3638 5d28 6874 7470 733a 2f2f 6769  3868](https://gi
+0002aac0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+0002aad0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+0002aae0: 6573 2f33 3836 3829 290a 2d20 446f 6e27  es/3868)).- Don'
+0002aaf0: 7420 7261 7465 6c69 6d69 7420 6175 746f  t ratelimit auto
+0002ab00: 6a6f 696e 7320 285b 5c23 3338 3739 5d28  joins ([\#3879](
+0002ab10: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0002ab20: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+0002ab30: 6e61 7073 652f 6973 7375 6573 2f33 3837  napse/issues/387
+0002ab40: 3929 290a 2d20 4669 7820 3530 3020 6572  9)).- Fix 500 er
+0002ab50: 726f 7220 7768 656e 2064 656c 6574 696e  ror when deletin
+0002ab60: 6720 756e 6b6e 6f77 6e20 726f 6f6d 2061  g unknown room a
+0002ab70: 6c69 6173 2028 5b5c 2333 3838 395d 2868  lias ([\#3889](h
+0002ab80: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0002ab90: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+0002aba0: 6170 7365 2f69 7373 7565 732f 3338 3839  apse/issues/3889
+0002abb0: 2929 0a2d 2046 6978 2073 6f6d 6520 6227  )).- Fix some b'
+0002abc0: 6162 6364 2720 6e6f 6973 6520 696e 206c  abcd' noise in l
+0002abd0: 6f67 7320 616e 6420 6d65 7472 6963 7320  ogs and metrics 
+0002abe0: 285b 5c23 3338 3932 5d28 6874 7470 733a  ([\#3892](https:
+0002abf0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+0002ac00: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+0002ac10: 6973 7375 6573 2f33 3839 3229 2c20 5b5c  issues/3892), [\
+0002ac20: 2333 3839 355d 2868 7474 7073 3a2f 2f67  #3895](https://g
+0002ac30: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+0002ac40: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+0002ac50: 7565 732f 3338 3935 2929 0a2d 2057 6865  ues/3895)).- Whe
+0002ac60: 6e20 7765 206a 6f69 6e20 6120 726f 6f6d  n we join a room
+0002ac70: 2c20 616c 7761 7973 2074 7279 2074 6865  , always try the
+0002ac80: 2073 6572 7665 7220 7765 2075 7365 6420   server we used 
+0002ac90: 666f 7220 7468 6520 616c 6961 7320 6c6f  for the alias lo
+0002aca0: 6f6b 7570 2066 6972 7374 2c20 746f 2061  okup first, to a
+0002acb0: 766f 6964 2075 6e72 6573 706f 6e73 6976  void unresponsiv
+0002acc0: 6520 616e 6420 6f75 742d 6f66 2d64 6174  e and out-of-dat
+0002acd0: 6520 7365 7276 6572 732e 2028 5b5c 2333  e servers. ([\#3
+0002ace0: 3839 395d 2868 7474 7073 3a2f 2f67 6974  899](https://git
+0002acf0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+0002ad00: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+0002ad10: 732f 3338 3939 2929 0a2d 2046 6978 2069  s/3899)).- Fix i
+0002ad20: 6e63 6f72 7265 6374 2073 6572 7665 722d  ncorrect server-
+0002ad30: 6e61 6d65 2069 6e64 6963 6174 696f 6e20  name indication 
+0002ad40: 666f 7220 6f75 7467 6f69 6e67 2066 6564  for outgoing fed
+0002ad50: 6572 6174 696f 6e20 7265 7175 6573 7473  eration requests
+0002ad60: 2028 5b5c 2333 3930 375d 2868 7474 7073   ([\#3907](https
+0002ad70: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+0002ad80: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+0002ad90: 2f69 7373 7565 732f 3339 3037 2929 0a2d  /issues/3907)).-
+0002ada0: 2046 6978 2061 6464 696e 6720 636c 6965   Fix adding clie
+0002adb0: 6e74 2049 5073 2074 6f20 7468 6520 6461  nt IPs to the da
+0002adc0: 7461 6261 7365 2066 6169 6c69 6e67 206f  tabase failing o
+0002add0: 6e20 5079 7468 6f6e 2033 2e20 285b 5c23  n Python 3. ([\#
+0002ade0: 3339 3038 5d28 6874 7470 733a 2f2f 6769  3908](https://gi
+0002adf0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+0002ae00: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+0002ae10: 6573 2f33 3930 3829 290a 2d20 4669 7820  es/3908)).- Fix 
+0002ae20: 6275 6720 7768 6572 6520 7468 696e 6773  bug where things
+0002ae30: 206f 6363 6169 736f 6e61 6c6c 7920 7765   occaisonally we
+0002ae40: 7265 206e 6f74 2062 6569 6e67 2074 696d  re not being tim
+0002ae50: 6564 206f 7574 2063 6f72 7265 6374 6c79  ed out correctly
+0002ae60: 2e20 285b 5c23 3339 3130 5d28 6874 7470  . ([\#3910](http
+0002ae70: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+0002ae80: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+0002ae90: 652f 6973 7375 6573 2f33 3931 3029 290a  e/issues/3910)).
+0002aea0: 2d20 4669 7820 6275 6720 7768 6572 6520  - Fix bug where 
+0002aeb0: 6f75 7462 6f75 6e64 2066 6564 6572 6174  outbound federat
+0002aec0: 696f 6e20 776f 756c 6420 7374 6f70 2074  ion would stop t
+0002aed0: 616c 6b69 6e67 2074 6f20 736f 6d65 2073  alking to some s
+0002aee0: 6572 7665 7273 2077 6865 6e20 7573 696e  ervers when usin
+0002aef0: 6720 776f 726b 6572 7320 285b 5c23 3339  g workers ([\#39
+0002af00: 3134 5d28 6874 7470 733a 2f2f 6769 7468  14](https://gith
+0002af10: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+0002af20: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+0002af30: 2f33 3931 3429 290a 2d20 4669 7820 736f  /3914)).- Fix so
+0002af40: 6d65 2069 6e73 7461 6e63 6573 206f 6620  me instances of 
+0002af50: 4578 7069 7269 6e67 4361 6368 6520 6e6f  ExpiringCache no
+0002af60: 7420 6578 7069 7269 6e67 2063 6163 6865  t expiring cache
+0002af70: 2069 7465 6d73 2028 5b5c 2333 3933 325d   items ([\#3932]
+0002af80: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+0002af90: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+0002afa0: 796e 6170 7365 2f69 7373 7565 732f 3339  ynapse/issues/39
+0002afb0: 3332 292c 205b 5c23 3339 3830 5d28 6874  32), [\#3980](ht
+0002afc0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+0002afd0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+0002afe0: 7073 652f 6973 7375 6573 2f33 3938 3029  pse/issues/3980)
+0002aff0: 290a 2d20 4669 7820 6f75 742d 6f66 2d62  ).- Fix out-of-b
+0002b000: 6f75 6e64 7320 6572 726f 7220 7768 656e  ounds error when
+0002b010: 204c 4c69 6e67 2079 6f75 7273 656c 6620   LLing yourself 
+0002b020: 285b 5c23 3339 3336 5d28 6874 7470 733a  ([\#3936](https:
+0002b030: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+0002b040: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+0002b050: 6973 7375 6573 2f33 3933 3629 290a 2d20  issues/3936)).- 
+0002b060: 5365 6e64 696e 6720 7365 7276 6572 206e  Sending server n
+0002b070: 6f74 6963 6573 2072 6567 6172 6469 6e67  otices regarding
+0002b080: 2075 7365 7220 636f 6e73 656e 7420 6e6f   user consent no
+0002b090: 7720 776f 726b 7320 6f6e 2050 7974 686f  w works on Pytho
+0002b0a0: 6e20 332e 2028 5b5c 2333 3933 385d 2868  n 3. ([\#3938](h
+0002b0b0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0002b0c0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+0002b0d0: 6170 7365 2f69 7373 7565 732f 3339 3338  apse/issues/3938
+0002b0e0: 2929 0a2d 2046 6978 2065 7863 6570 7469  )).- Fix excepti
+0002b0f0: 6f6e 7320 6672 6f6d 206d 6574 7269 6373  ons from metrics
+0002b100: 2068 616e 646c 6572 2028 5b5c 2333 3935   handler ([\#395
+0002b110: 365d 2868 7474 7073 3a2f 2f67 6974 6875  6](https://githu
+0002b120: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+0002b130: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+0002b140: 3339 3536 2929 0a2d 2046 6978 2065 7272  3956)).- Fix err
+0002b150: 6f72 206d 6573 7361 6765 2066 6f72 2065  or message for e
+0002b160: 7665 6e74 7320 7769 7468 206d 2e72 6f6f  vents with m.roo
+0002b170: 6d2e 6372 6561 7465 206d 6973 7369 6e67  m.create missing
+0002b180: 2066 726f 6d20 6175 7468 5f65 7665 6e74   from auth_event
+0002b190: 7320 285b 5c23 3339 3630 5d28 6874 7470  s ([\#3960](http
+0002b1a0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+0002b1b0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+0002b1c0: 652f 6973 7375 6573 2f33 3936 3029 290a  e/issues/3960)).
+0002b1d0: 2d20 4669 7820 6572 726f 7273 2064 7565  - Fix errors due
+0002b1e0: 2074 6f20 636f 6e63 7572 7265 6e74 206d   to concurrent m
+0002b1f0: 6f6e 7468 6c79 5f61 6374 6976 655f 7573  onthly_active_us
+0002b200: 6572 2075 7073 6572 7473 2028 5b5c 2333  er upserts ([\#3
+0002b210: 3936 315d 2868 7474 7073 3a2f 2f67 6974  961](https://git
+0002b220: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+0002b230: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+0002b240: 732f 3339 3631 2929 0a2d 2046 6978 2065  s/3961)).- Fix e
+0002b250: 7863 6570 7469 6f6e 7320 7768 656e 2070  xceptions when p
+0002b260: 726f 6365 7373 696e 6720 696e 636f 6d69  rocessing incomi
+0002b270: 6e67 2065 7665 6e74 7320 6f76 6572 2066  ng events over f
+0002b280: 6564 6572 6174 696f 6e20 285b 5c23 3339  ederation ([\#39
+0002b290: 3638 5d28 6874 7470 733a 2f2f 6769 7468  68](https://gith
+0002b2a0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+0002b2b0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+0002b2c0: 2f33 3936 3829 290a 2d20 5265 706c 6163  /3968)).- Replac
+0002b2d0: 6564 2061 6c6c 206f 6363 7572 656e 6365  ed all occurence
+0002b2e0: 7320 6f66 2065 2e6d 6573 7361 6765 2077  s of e.message w
+0002b2f0: 6974 6820 7374 7228 6529 2e20 436f 6e74  ith str(e). Cont
+0002b300: 7269 6275 7465 6420 6279 2053 6368 6e75  ributed by Schnu
+0002b310: 6666 6c65 2028 5b5c 2333 3937 305d 2868  ffle ([\#3970](h
+0002b320: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0002b330: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+0002b340: 6170 7365 2f69 7373 7565 732f 3339 3730  apse/issues/3970
+0002b350: 2929 0a2d 2046 6978 206c 617a 7920 6c6f  )).- Fix lazy lo
+0002b360: 6164 6564 2073 796e 6320 696e 2074 6865  aded sync in the
+0002b370: 2070 7265 7365 6e63 6520 6f66 2072 656a   presence of rej
+0002b380: 6563 7465 6420 7374 6174 6520 6576 656e  ected state even
+0002b390: 7473 2028 5b5c 2333 3938 365d 2868 7474  ts ([\#3986](htt
+0002b3a0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0002b3b0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+0002b3c0: 7365 2f69 7373 7565 732f 3339 3836 2929  se/issues/3986))
+0002b3d0: 0a2d 2046 6978 2065 7272 6f72 2077 6865  .- Fix error whe
+0002b3e0: 6e20 6c6f 6767 696e 6720 696e 636f 6d70  n logging incomp
+0002b3f0: 6c65 7465 2048 5454 5020 7265 7175 6573  lete HTTP reques
+0002b400: 7473 2028 5b5c 2333 3939 305d 2868 7474  ts ([\#3990](htt
+0002b410: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0002b420: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+0002b430: 7365 2f69 7373 7565 732f 3339 3930 2929  se/issues/3990))
+0002b440: 0a0a 0a49 6e74 6572 6e61 6c20 4368 616e  ...Internal Chan
+0002b450: 6765 730a 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ges.------------
+0002b460: 2d2d 2d2d 0a0a 2d20 556e 6974 2074 6573  ----..- Unit tes
+0002b470: 7473 2063 616e 206e 6f77 2062 6520 7275  ts can now be ru
+0002b480: 6e20 756e 6465 7220 506f 7374 6772 6553  n under PostgreS
+0002b490: 514c 2069 6e20 446f 636b 6572 2075 7369  QL in Docker usi
+0002b4a0: 6e67 2060 6074 6573 745f 706f 7374 6772  ng ``test_postgr
+0002b4b0: 6573 716c 2e73 6860 602e 2028 5b5c 2333  esql.sh``. ([\#3
+0002b4c0: 3639 395d 2868 7474 7073 3a2f 2f67 6974  699](https://git
+0002b4d0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+0002b4e0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+0002b4f0: 732f 3336 3939 2929 0a2d 2053 7065 6564  s/3699)).- Speed
+0002b500: 2075 7020 6361 6c63 756c 6174 696f 6e20   up calculation 
+0002b510: 6f66 2074 7970 696e 6720 7570 6461 7465  of typing update
+0002b520: 7320 666f 7220 7265 706c 6963 6174 696f  s for replicatio
+0002b530: 6e20 285b 5c23 3337 3934 5d28 6874 7470  n ([\#3794](http
 0002b540: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
 0002b550: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-0002b560: 652f 6973 7375 6573 2f33 3930 3429 2c20  e/issues/3904), 
-0002b570: 5b5c 2333 3936 365d 2868 7474 7073 3a2f  [\#3966](https:/
-0002b580: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-0002b590: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-0002b5a0: 7373 7565 732f 3339 3636 2929 0a2d 2049  ssues/3966)).- I
-0002b5b0: 6d70 726f 7665 206c 6f67 6769 6e67 206f  mprove logging o
-0002b5c0: 6620 6f75 7462 6f75 6e64 2066 6564 6572  f outbound feder
-0002b5d0: 6174 696f 6e20 7265 7175 6573 7473 2028  ation requests (
-0002b5e0: 5b5c 2333 3930 365d 2868 7474 7073 3a2f  [\#3906](https:/
-0002b5f0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-0002b600: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-0002b610: 7373 7565 732f 3339 3036 292c 205b 5c23  ssues/3906), [\#
-0002b620: 3339 3039 5d28 6874 7470 733a 2f2f 6769  3909](https://gi
-0002b630: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-0002b640: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-0002b650: 6573 2f33 3930 3929 290a 2d20 4669 7820  es/3909)).- Fix 
-0002b660: 7468 6520 646f 636b 6572 2069 6d61 6765  the docker image
-0002b670: 2062 7569 6c64 696e 6720 6f6e 2070 7974   building on pyt
-0002b680: 686f 6e20 3320 285b 5c23 3339 3131 5d28  hon 3 ([\#3911](
-0002b690: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-0002b6a0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-0002b6b0: 6e61 7073 652f 6973 7375 6573 2f33 3931  napse/issues/391
-0002b6c0: 3129 290a 2d20 4164 6420 6120 7265 6772  1)).- Add a regr
-0002b6d0: 6573 7369 6f6e 2074 6573 7420 666f 7220  ession test for 
-0002b6e0: 6c6f 6767 696e 6720 6661 696c 6564 2048  logging failed H
-0002b6f0: 5454 5020 7265 7175 6573 7473 206f 6e20  TTP requests on 
-0002b700: 5079 7468 6f6e 2033 2e20 285b 5c23 3339  Python 3. ([\#39
-0002b710: 3132 5d28 6874 7470 733a 2f2f 6769 7468  12](https://gith
-0002b720: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-0002b730: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-0002b740: 2f33 3931 3229 290a 2d20 436f 6d6d 656e  /3912)).- Commen
-0002b750: 7473 2061 6e64 2069 6e74 6572 6661 6365  ts and interface
-0002b760: 2063 6c65 616e 7570 2066 6f72 206f 6e5f   cleanup for on_
-0002b770: 7265 6365 6976 655f 7064 7520 285b 5c23  receive_pdu ([\#
-0002b780: 3339 3234 5d28 6874 7470 733a 2f2f 6769  3924](https://gi
-0002b790: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-0002b7a0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-0002b7b0: 6573 2f33 3932 3429 290a 2d20 4669 7820  es/3924)).- Fix 
-0002b7c0: 7370 7572 696f 7573 2065 7863 6570 7469  spurious excepti
-0002b7d0: 6f6e 7320 7768 656e 2072 656d 6f74 6520  ons when remote 
-0002b7e0: 6874 7470 2063 6c69 656e 7420 636c 6f73  http client clos
-0002b7f0: 6573 2063 6f6e 6e63 6574 696f 6e20 285b  es conncetion ([
-0002b800: 5c23 3339 3235 5d28 6874 7470 733a 2f2f  \#3925](https://
-0002b810: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-0002b820: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-0002b830: 7375 6573 2f33 3932 3529 290a 2d20 4c6f  sues/3925)).- Lo
-0002b840: 6720 6578 6365 7074 696f 6e73 2074 6872  g exceptions thr
-0002b850: 6f77 6e20 6279 2062 6163 6b67 726f 756e  own by backgroun
-0002b860: 6420 7461 736b 7320 285b 5c23 3339 3237  d tasks ([\#3927
-0002b870: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0002b880: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-0002b890: 7379 6e61 7073 652f 6973 7375 6573 2f33  synapse/issues/3
-0002b8a0: 3932 3729 290a 2d20 4164 6420 6120 6361  927)).- Add a ca
-0002b8b0: 6368 6520 746f 2067 6574 5f64 6573 7469  che to get_desti
-0002b8c0: 6e61 7469 6f6e 5f72 6574 7279 5f74 696d  nation_retry_tim
-0002b8d0: 696e 6773 2028 5b5c 2333 3933 335d 2868  ings ([\#3933](h
-0002b8e0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0002b8f0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-0002b900: 6170 7365 2f69 7373 7565 732f 3339 3333  apse/issues/3933
-0002b910: 292c 205b 5c23 3339 3931 5d28 6874 7470  ), [\#3991](http
-0002b920: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-0002b930: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-0002b940: 652f 6973 7375 6573 2f33 3939 3129 290a  e/issues/3991)).
-0002b950: 2d20 4175 746f 6d61 7465 2070 7573 6865  - Automate pushe
-0002b960: 7320 746f 2064 6f63 6b65 7220 6875 6220  s to docker hub 
-0002b970: 285b 5c23 3339 3436 5d28 6874 7470 733a  ([\#3946](https:
-0002b980: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-0002b990: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-0002b9a0: 6973 7375 6573 2f33 3934 3629 290a 2d20  issues/3946)).- 
-0002b9b0: 5265 7175 6972 6520 6174 7472 7320 3136  Require attrs 16
-0002b9c0: 2e30 2e30 206f 7220 6c61 7465 7220 285b  .0.0 or later ([
-0002b9d0: 5c23 3339 3437 5d28 6874 7470 733a 2f2f  \#3947](https://
-0002b9e0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-0002b9f0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-0002ba00: 7375 6573 2f33 3934 3729 290a 2d20 4669  sues/3947)).- Fi
-0002ba10: 7820 696e 636f 6d70 6174 6962 696c 6974  x incompatibilit
-0002ba20: 7920 7769 7468 2070 7974 686f 6e33 206f  y with python3 o
-0002ba30: 6e20 616c 7069 6e65 2028 5b5c 2333 3934  n alpine ([\#394
-0002ba40: 385d 2868 7474 7073 3a2f 2f67 6974 6875  8](https://githu
-0002ba50: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-0002ba60: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-0002ba70: 3339 3438 2929 0a2d 2052 756e 2074 6865  3948)).- Run the
-0002ba80: 2074 6573 7420 7375 6974 6520 6f6e 2074   test suite on t
-0002ba90: 6865 206f 6c64 6573 7420 7375 7070 6f72  he oldest suppor
-0002baa0: 7465 6420 7665 7273 696f 6e73 206f 6620  ted versions of 
-0002bab0: 6f75 7220 6465 7065 6e64 656e 6369 6573  our dependencies
-0002bac0: 2069 6e20 4349 2e20 285b 5c23 3339 3532   in CI. ([\#3952
-0002bad0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0002bae0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-0002baf0: 7379 6e61 7073 652f 6973 7375 6573 2f33  synapse/issues/3
-0002bb00: 3935 3229 290a 2d20 4369 7263 6c65 4349  952)).- CircleCI
-0002bb10: 206e 6f77 206f 6e6c 7920 7275 6e73 206d   now only runs m
-0002bb20: 6572 6765 6420 6a6f 6273 206f 6e20 5052  erged jobs on PR
-0002bb30: 732c 2061 6e64 2063 6f6d 6d69 7420 6a6f  s, and commit jo
-0002bb40: 6273 206f 6e20 6465 7665 6c6f 702c 206d  bs on develop, m
-0002bb50: 6173 7465 722c 2061 6e64 2072 656c 6561  aster, and relea
-0002bb60: 7365 2062 7261 6e63 6865 732e 2028 5b5c  se branches. ([\
-0002bb70: 2333 3935 375d 2868 7474 7073 3a2f 2f67  #3957](https://g
-0002bb80: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-0002bb90: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-0002bba0: 7565 732f 3339 3537 2929 0a2d 2046 6978  ues/3957)).- Fix
-0002bbb0: 2064 6f63 7374 7269 6e67 7320 616e 6420   docstrings and 
-0002bbc0: 6164 6420 7465 7374 7320 666f 7220 7374  add tests for st
-0002bbd0: 6174 6520 7374 6f72 6520 6d65 7468 6f64  ate store method
-0002bbe0: 7320 285b 5c23 3339 3538 5d28 6874 7470  s ([\#3958](http
-0002bbf0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-0002bc00: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-0002bc10: 652f 6973 7375 6573 2f33 3935 3829 290a  e/issues/3958)).
-0002bc20: 2d20 6669 7820 646f 6373 7472 696e 6720  - fix docstring 
-0002bc30: 666f 7220 4665 6465 7261 7469 6f6e 436c  for FederationCl
-0002bc40: 6965 6e74 2e67 6574 5f73 7461 7465 5f66  ient.get_state_f
-0002bc50: 6f72 5f72 6f6f 6d20 285b 5c23 3339 3633  or_room ([\#3963
-0002bc60: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0002bc70: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-0002bc80: 7379 6e61 7073 652f 6973 7375 6573 2f33  synapse/issues/3
-0002bc90: 3936 3329 290a 2d20 5275 6e20 6e6f 7469  963)).- Run noti
-0002bca0: 6679 5f61 7070 5f73 6572 7669 6365 7320  fy_app_services 
-0002bcb0: 6173 2061 2062 6720 7072 6f63 6573 7320  as a bg process 
-0002bcc0: 285b 5c23 3339 3635 5d28 6874 7470 733a  ([\#3965](https:
-0002bcd0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-0002bce0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-0002bcf0: 6973 7375 6573 2f33 3936 3529 290a 2d20  issues/3965)).- 
-0002bd00: 436c 6172 6966 6963 6174 696f 6e73 2069  Clarifications i
-0002bd10: 6e20 4665 6465 7261 7469 6f6e 4861 6e64  n FederationHand
-0002bd20: 6c65 7220 285b 5c23 3339 3637 5d28 6874  ler ([\#3967](ht
-0002bd30: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0002bd40: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-0002bd50: 7073 652f 6973 7375 6573 2f33 3936 3729  pse/issues/3967)
-0002bd60: 290a 2d20 4675 7274 6865 7220 7265 6475  ).- Further redu
-0002bd70: 6365 2074 6865 2064 6f63 6b65 7220 696d  ce the docker im
-0002bd80: 6167 6520 7369 7a65 2028 5b5c 2333 3937  age size ([\#397
-0002bd90: 325d 2868 7474 7073 3a2f 2f67 6974 6875  2](https://githu
-0002bda0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-0002bdb0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-0002bdc0: 3339 3732 2929 0a2d 2042 7569 6c64 2070  3972)).- Build p
-0002bdd0: 7933 2064 6f63 6b65 7220 696d 6167 6573  y3 docker images
-0002bde0: 2066 6f72 2064 6f63 6b65 7220 6875 6220   for docker hub 
-0002bdf0: 746f 6f20 285b 5c23 3339 3736 5d28 6874  too ([\#3976](ht
-0002be00: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0002be10: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-0002be20: 7073 652f 6973 7375 6573 2f33 3937 3629  pse/issues/3976)
-0002be30: 290a 2d20 5570 6461 7465 6420 7468 6520  ).- Updated the 
-0002be40: 696e 7374 616c 6c61 7469 6f6e 2069 6e73  installation ins
-0002be50: 7472 7563 7469 6f6e 7320 746f 2070 6f69  tructions to poi
-0002be60: 6e74 2074 6f20 7468 6520 6d61 7472 6978  nt to the matrix
-0002be70: 2d73 796e 6170 7365 2070 6163 6b61 6765  -synapse package
-0002be80: 206f 6e20 5079 5049 2e20 285b 5c23 3339   on PyPI. ([\#39
-0002be90: 3835 5d28 6874 7470 733a 2f2f 6769 7468  85](https://gith
-0002bea0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-0002beb0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-0002bec0: 2f33 3938 3529 290a 2d20 4469 7361 626c  /3985)).- Disabl
-0002bed0: 6520 5553 455f 4652 4f5a 454e 5f44 4943  e USE_FROZEN_DIC
-0002bee0: 5453 2066 6f72 2075 6e69 7474 6573 7473  TS for unittests
-0002bef0: 2062 7920 6465 6661 756c 742e 2028 5b5c   by default. ([\
-0002bf00: 2333 3938 375d 2868 7474 7073 3a2f 2f67  #3987](https://g
-0002bf10: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-0002bf20: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-0002bf30: 7565 732f 3339 3837 2929 0a2d 2052 656d  ues/3987)).- Rem
-0002bf40: 6f76 6520 756e 7573 6564 204a 656e 6b69  ove unused Jenki
-0002bf50: 6e73 2061 6e64 2064 6576 656c 6f70 6d65  ns and developme
-0002bf60: 6e74 2072 656c 6174 6564 2066 696c 6573  nt related files
-0002bf70: 2066 726f 6d20 7468 6520 7265 706f 2e20   from the repo. 
-0002bf80: 285b 5c23 3339 3838 5d28 6874 7470 733a  ([\#3988](https:
-0002bf90: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-0002bfa0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-0002bfb0: 6973 7375 6573 2f33 3938 3829 290a 2d20  issues/3988)).- 
-0002bfc0: 496d 7072 6f76 6520 7374 6163 6b74 7261  Improve stacktra
-0002bfd0: 6365 7320 696e 2063 6572 7461 696e 2065  ces in certain e
-0002bfe0: 7863 6570 7469 6f6e 7320 696e 2074 6865  xceptions in the
-0002bff0: 206c 6f67 7320 285b 5c23 3339 3839 5d28   logs ([\#3989](
-0002c000: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-0002c010: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-0002c020: 6e61 7073 652f 6973 7375 6573 2f33 3938  napse/issues/398
-0002c030: 3929 290a 0a0a 5379 6e61 7073 6520 302e  9))...Synapse 0.
-0002c040: 3333 2e35 2e31 2028 3230 3138 2d30 392d  33.5.1 (2018-09-
-0002c050: 3235 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  25).============
-0002c060: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0002c070: 3d0a 0a49 6e74 6572 6e61 6c20 4368 616e  =..Internal Chan
-0002c080: 6765 730a 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ges.------------
-0002c090: 2d2d 2d2d 0a0a 2d20 4669 7820 696e 636f  ----..- Fix inco
-0002c0a0: 6d70 6174 6962 696c 6974 7920 7769 7468  mpatibility with
-0002c0b0: 206f 6c64 6572 2054 7769 7374 6564 2076   older Twisted v
-0002c0c0: 6572 7369 6f6e 2069 6e20 7465 7374 732e  ersion in tests.
-0002c0d0: 2054 6861 6e6b 7320 404f 6c65 6747 6972   Thanks @OlegGir
-0002c0e0: 6b6f 2120 285b 5c23 3339 3430 5d28 6874  ko! ([\#3940](ht
-0002c0f0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0002c100: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-0002c110: 7073 652f 6973 7375 6573 2f33 3934 3029  pse/issues/3940)
-0002c120: 290a 0a0a 5379 6e61 7073 6520 302e 3333  )...Synapse 0.33
-0002c130: 2e35 2028 3230 3138 2d30 392d 3234 290a  .5 (2018-09-24).
-0002c140: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0002c150: 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a4e 6f20  ===========..No 
-0002c160: 7369 676e 6966 6963 616e 7420 6368 616e  significant chan
-0002c170: 6765 732e 0a0a 0a53 796e 6170 7365 2030  ges....Synapse 0
-0002c180: 2e33 332e 3572 6331 2028 3230 3138 2d30  .33.5rc1 (2018-0
-0002c190: 392d 3137 290a 3d3d 3d3d 3d3d 3d3d 3d3d  9-17).==========
-0002c1a0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0002c1b0: 3d3d 3d3d 0a0a 4665 6174 7572 6573 0a2d  ====..Features.-
-0002c1c0: 2d2d 2d2d 2d2d 2d0a 0a2d 2050 7974 686f  -------..- Pytho
-0002c1d0: 6e20 332e 3520 616e 6420 332e 3620 7375  n 3.5 and 3.6 su
-0002c1e0: 7070 6f72 7420 6973 206e 6f77 2069 6e20  pport is now in 
-0002c1f0: 6265 7461 2e20 285b 5c23 3335 3736 5d28  beta. ([\#3576](
-0002c200: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-0002c210: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-0002c220: 6e61 7073 652f 6973 7375 6573 2f33 3537  napse/issues/357
-0002c230: 3629 290a 2d20 496d 706c 656d 656e 7420  6)).- Implement 
-0002c240: 6065 7665 6e74 5f66 6f72 6d61 7460 2066  `event_format` f
-0002c250: 696c 7465 7220 7061 7261 6d20 696e 2060  ilter param in `
-0002c260: 2f73 796e 6360 2028 5b5c 2333 3739 305d  /sync` ([\#3790]
-0002c270: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0002c280: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-0002c290: 796e 6170 7365 2f69 7373 7565 732f 3337  ynapse/issues/37
-0002c2a0: 3930 2929 0a2d 2041 6464 2073 796e 6170  90)).- Add synap
-0002c2b0: 7365 5f61 646d 696e 5f6d 6175 3a72 6567  se_admin_mau:reg
-0002c2c0: 6973 7465 7265 645f 7265 7365 7276 6564  istered_reserved
-0002c2d0: 5f75 7365 7273 206d 6574 7269 6320 746f  _users metric to
-0002c2e0: 2065 7870 6f73 6520 6e75 6d62 6572 206f   expose number o
-0002c2f0: 6620 7265 616c 2072 6561 7365 7276 6564  f real reaserved
-0002c300: 2075 7365 7273 2028 5b5c 2333 3834 365d   users ([\#3846]
-0002c310: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0002c320: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-0002c330: 796e 6170 7365 2f69 7373 7565 732f 3338  ynapse/issues/38
-0002c340: 3436 2929 0a0a 0a42 7567 6669 7865 730a  46))...Bugfixes.
-0002c350: 2d2d 2d2d 2d2d 2d2d 0a0a 2d20 5265 6d6f  --------..- Remo
-0002c360: 7665 2063 6f6e 6e65 6374 696f 6e20 4944  ve connection ID
-0002c370: 2066 6f72 2072 6570 6c69 6361 7469 6f6e   for replication
-0002c380: 2070 726f 6d65 7468 6575 7320 6d65 7472   prometheus metr
-0002c390: 6963 732c 2061 7320 6974 2063 7265 6174  ics, as it creat
-0002c3a0: 6573 2061 206c 6172 6765 206e 756d 6265  es a large numbe
-0002c3b0: 7220 6f66 206e 6577 2073 6572 6965 732e  r of new series.
-0002c3c0: 2028 5b5c 2333 3738 385d 2868 7474 7073   ([\#3788](https
-0002c3d0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-0002c3e0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-0002c3f0: 2f69 7373 7565 732f 3337 3838 2929 0a2d  /issues/3788)).-
-0002c400: 2067 7565 7374 2075 7365 7273 2073 686f   guest users sho
-0002c410: 756c 6420 6e6f 7420 6265 2070 6172 7420  uld not be part 
-0002c420: 6f66 206d 6175 2074 6f74 616c 2028 5b5c  of mau total ([\
-0002c430: 2333 3830 305d 2868 7474 7073 3a2f 2f67  #3800](https://g
-0002c440: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-0002c450: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-0002c460: 7565 732f 3338 3030 2929 0a2d 2042 756d  ues/3800)).- Bum
-0002c470: 7020 6465 7065 6e64 656e 6379 206f 6e20  p dependency on 
-0002c480: 7079 6f70 656e 7373 6c20 3136 2e78 2c20  pyopenssl 16.x, 
-0002c490: 746f 2061 766f 6964 2069 6e63 6f6d 7061  to avoid incompa
-0002c4a0: 7469 6269 6c69 7479 2077 6974 6820 7265  tibility with re
-0002c4b0: 6365 6e74 2054 7769 7374 6564 2e20 285b  cent Twisted. ([
-0002c4c0: 5c23 3338 3034 5d28 6874 7470 733a 2f2f  \#3804](https://
-0002c4d0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-0002c4e0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-0002c4f0: 7375 6573 2f33 3830 3429 290a 2d20 4669  sues/3804)).- Fi
-0002c500: 7820 6578 6973 7469 6e67 2072 6f6f 6d20  x existing room 
-0002c510: 7461 6773 206e 6f74 2063 6f6d 696e 6720  tags not coming 
-0002c520: 646f 776e 2073 796e 6320 7768 656e 206a  down sync when j
-0002c530: 6f69 6e69 6e67 2061 2072 6f6f 6d20 285b  oining a room ([
-0002c540: 5c23 3338 3130 5d28 6874 7470 733a 2f2f  \#3810](https://
-0002c550: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-0002c560: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-0002c570: 7375 6573 2f33 3831 3029 290a 2d20 4669  sues/3810)).- Fi
-0002c580: 7820 6a77 7420 696d 706f 7274 2063 6865  x jwt import che
-0002c590: 636b 2028 5b5c 2333 3832 345d 2868 7474  ck ([\#3824](htt
-0002c5a0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-0002c5b0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-0002c5c0: 7365 2f69 7373 7565 732f 3338 3234 2929  se/issues/3824))
-0002c5d0: 0a2d 2066 6978 2056 4f49 5020 6372 6173  .- fix VOIP cras
-0002c5e0: 6865 7320 756e 6465 7220 5079 7468 6f6e  hes under Python
-0002c5f0: 2033 2028 2333 3832 3129 2028 5b5c 2333   3 (#3821) ([\#3
-0002c600: 3833 355d 2868 7474 7073 3a2f 2f67 6974  835](https://git
-0002c610: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-0002c620: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-0002c630: 732f 3338 3335 2929 0a2d 2046 6978 206d  s/3835)).- Fix m
-0002c640: 616e 686f 6c65 2073 6f20 7468 6174 2069  anhole so that i
-0002c650: 7420 776f 726b 7320 7769 7468 206c 6174  t works with lat
-0002c660: 6573 7420 6f70 656e 7373 6820 636c 6965  est openssh clie
-0002c670: 6e74 7320 285b 5c23 3338 3431 5d28 6874  nts ([\#3841](ht
-0002c680: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0002c690: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-0002c6a0: 7073 652f 6973 7375 6573 2f33 3834 3129  pse/issues/3841)
-0002c6b0: 290a 2d20 4669 7820 6f75 7462 6f75 6e64  ).- Fix outbound
-0002c6c0: 2072 6571 7565 7374 7320 6f63 6361 7369   requests occasi
-0002c6d0: 6f6e 616c 6c79 2077 6564 6769 6e67 2c20  onally wedging, 
-0002c6e0: 7768 6963 6820 6361 6e20 7265 7375 6c74  which can result
-0002c6f0: 2069 6e20 6665 6465 7261 7469 6f6e 2062   in federation b
-0002c700: 7265 616b 696e 6720 6265 7477 6565 6e20  reaking between 
-0002c710: 7365 7276 6572 732e 2028 5b5c 2333 3834  servers. ([\#384
-0002c720: 355d 2868 7474 7073 3a2f 2f67 6974 6875  5](https://githu
-0002c730: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-0002c740: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-0002c750: 3338 3435 2929 0a2d 2053 686f 7720 6865  3845)).- Show he
-0002c760: 726f 6573 2069 6620 726f 6f6d 206e 616d  roes if room nam
-0002c770: 652f 6361 6e6f 6e69 6361 6c20 616c 6961  e/canonical alia
-0002c780: 7320 6861 7320 6265 656e 2064 656c 6574  s has been delet
-0002c790: 6564 2028 5b5c 2333 3835 315d 2868 7474  ed ([\#3851](htt
-0002c7a0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-0002c7b0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-0002c7c0: 7365 2f69 7373 7565 732f 3338 3531 2929  se/issues/3851))
-0002c7d0: 0a2d 2046 6978 2068 616e 646c 696e 6720  .- Fix handling 
-0002c7e0: 6f66 2072 6564 6163 7465 6420 6576 656e  of redacted even
-0002c7f0: 7473 2066 726f 6d20 6665 6465 7261 7469  ts from federati
-0002c800: 6f6e 2028 5b5c 2333 3835 395d 2868 7474  on ([\#3859](htt
-0002c810: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-0002c820: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-0002c830: 7365 2f69 7373 7565 732f 3338 3539 2929  se/issues/3859))
-0002c840: 0a2d 2020 285b 5c23 3338 3734 5d28 6874  .-  ([\#3874](ht
-0002c850: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0002c860: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-0002c870: 7073 652f 6973 7375 6573 2f33 3837 3429  pse/issues/3874)
-0002c880: 290a 2d20 4d69 7469 6761 7465 206f 7574  ).- Mitigate out
-0002c890: 626f 756e 6420 6665 6465 7261 7469 6f6e  bound federation
-0002c8a0: 2072 616e 646f 6d6c 7920 6265 636f 6d69   randomly becomi
-0002c8b0: 6e67 2077 6564 6765 6420 285b 5c23 3338  ng wedged ([\#38
-0002c8c0: 3735 5d28 6874 7470 733a 2f2f 6769 7468  75](https://gith
-0002c8d0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-0002c8e0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-0002c8f0: 2f33 3837 3529 290a 0a0a 496e 7465 726e  /3875))...Intern
-0002c900: 616c 2043 6861 6e67 6573 0a2d 2d2d 2d2d  al Changes.-----
-0002c910: 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a 0a2d 2043  -----------..- C
-0002c920: 6972 636c 6543 4920 7465 7374 7320 6e6f  ircleCI tests no
-0002c930: 7720 7275 6e20 6f6e 2074 6865 2070 6f74  w run on the pot
-0002c940: 656e 7469 616c 206d 6572 6765 206f 6620  ential merge of 
-0002c950: 6120 5052 2e20 285b 5c23 3337 3034 5d28  a PR. ([\#3704](
-0002c960: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-0002c970: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-0002c980: 6e61 7073 652f 6973 7375 6573 2f33 3730  napse/issues/370
-0002c990: 3429 290a 2d20 6874 7470 2f20 6973 206e  4)).- http/ is n
-0002c9a0: 6f77 2070 6f72 7465 6420 746f 2050 7974  ow ported to Pyt
-0002c9b0: 686f 6e20 332e 2028 5b5c 2333 3737 315d  hon 3. ([\#3771]
-0002c9c0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0002c9d0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-0002c9e0: 796e 6170 7365 2f69 7373 7565 732f 3337  ynapse/issues/37
-0002c9f0: 3731 2929 0a2d 2049 6d70 726f 7665 2068  71)).- Improve h
-0002ca00: 756d 616e 2072 6561 6461 626c 6520 6572  uman readable er
-0002ca10: 726f 7220 6d65 7373 6167 6573 2066 6f72  ror messages for
-0002ca20: 2074 6872 6565 7069 6420 7265 6769 7374   threepid regist
-0002ca30: 7261 7469 6f6e 2f61 6363 6f75 6e74 2075  ration/account u
-0002ca40: 7064 6174 6520 285b 5c23 3337 3839 5d28  pdate ([\#3789](
-0002ca50: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-0002ca60: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-0002ca70: 6e61 7073 652f 6973 7375 6573 2f33 3738  napse/issues/378
-0002ca80: 3929 290a 2d20 4d61 6b65 202f 7379 6e63  9)).- Make /sync
-0002ca90: 2073 6c69 6768 746c 7920 6661 7374 6572   slightly faster
-0002caa0: 2062 7920 6176 6f69 6469 6e67 206e 6565   by avoiding nee
-0002cab0: 646c 6573 7320 636f 7069 6573 2028 5b5c  dless copies ([\
-0002cac0: 2333 3739 355d 2868 7474 7073 3a2f 2f67  #3795](https://g
-0002cad0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-0002cae0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-0002caf0: 7565 732f 3337 3935 2929 0a2d 2068 616e  ues/3795)).- han
-0002cb00: 646c 6572 732f 2069 7320 6e6f 7720 706f  dlers/ is now po
-0002cb10: 7274 6564 2074 6f20 5079 7468 6f6e 2033  rted to Python 3
-0002cb20: 2e20 285b 5c23 3338 3033 5d28 6874 7470  . ([\#3803](http
-0002cb30: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-0002cb40: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-0002cb50: 652f 6973 7375 6573 2f33 3830 3329 290a  e/issues/3803)).
-0002cb60: 2d20 4c69 6d69 7420 7468 6520 6e75 6d62  - Limit the numb
-0002cb70: 6572 206f 6620 5044 5573 2f45 4455 7320  er of PDUs/EDUs 
-0002cb80: 7065 7220 6665 6465 7261 7469 6f6e 2074  per federation t
-0002cb90: 7261 6e73 6163 7469 6f6e 2028 5b5c 2333  ransaction ([\#3
-0002cba0: 3830 355d 2868 7474 7073 3a2f 2f67 6974  805](https://git
-0002cbb0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-0002cbc0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-0002cbd0: 732f 3338 3035 2929 0a2d 204f 6e6c 7920  s/3805)).- Only 
-0002cbe0: 7374 6172 7420 706f 7374 6772 6573 2069  start postgres i
-0002cbf0: 6e73 7461 6e63 6520 666f 7220 706f 7374  nstance for post
-0002cc00: 6772 6573 2074 6573 7473 206f 6e20 5472  gres tests on Tr
-0002cc10: 6176 6973 2043 4920 285b 5c23 3338 3036  avis CI ([\#3806
-0002cc20: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0002cc30: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-0002cc40: 7379 6e61 7073 652f 6973 7375 6573 2f33  synapse/issues/3
-0002cc50: 3830 3629 290a 2d20 7465 7374 732f 2069  806)).- tests/ i
-0002cc60: 7320 6e6f 7720 706f 7274 6564 2074 6f20  s now ported to 
-0002cc70: 5079 7468 6f6e 2033 2e20 285b 5c23 3338  Python 3. ([\#38
-0002cc80: 3038 5d28 6874 7470 733a 2f2f 6769 7468  08](https://gith
-0002cc90: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-0002cca0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-0002ccb0: 2f33 3830 3829 290a 2d20 6372 7970 746f  /3808)).- crypto
-0002ccc0: 2f20 6973 206e 6f77 2070 6f72 7465 6420  / is now ported 
-0002ccd0: 746f 2050 7974 686f 6e20 332e 2028 5b5c  to Python 3. ([\
-0002cce0: 2333 3832 325d 2868 7474 7073 3a2f 2f67  #3822](https://g
-0002ccf0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-0002cd00: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-0002cd10: 7565 732f 3338 3232 2929 0a2d 2072 6573  ues/3822)).- res
-0002cd20: 742f 2069 7320 6e6f 7720 706f 7274 6564  t/ is now ported
-0002cd30: 2074 6f20 5079 7468 6f6e 2033 2e20 285b   to Python 3. ([
-0002cd40: 5c23 3338 3233 5d28 6874 7470 733a 2f2f  \#3823](https://
-0002cd50: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-0002cd60: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-0002cd70: 7375 6573 2f33 3832 3329 290a 2d20 6164  sues/3823)).- ad
-0002cd80: 6420 736f 6d65 206c 6f67 6769 6e67 2066  d some logging f
-0002cd90: 6f72 2074 6865 206b 6579 7269 6e67 2071  or the keyring q
-0002cda0: 7565 7565 2028 5b5c 2333 3832 365d 2868  ueue ([\#3826](h
-0002cdb0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0002cdc0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-0002cdd0: 6170 7365 2f69 7373 7565 732f 3338 3236  apse/issues/3826
-0002cde0: 2929 0a2d 2073 7065 6564 2075 7020 6c61  )).- speed up la
-0002cdf0: 7a79 206c 6f61 6469 6e67 2062 7920 322d  zy loading by 2-
-0002ce00: 3378 2028 5b5c 2333 3832 375d 2868 7474  3x ([\#3827](htt
-0002ce10: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-0002ce20: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-0002ce30: 7365 2f69 7373 7565 732f 3338 3237 2929  se/issues/3827))
-0002ce40: 0a2d 2049 6d70 726f 7665 6420 446f 636b  .- Improved Dock
-0002ce50: 6572 6669 6c65 2074 6f20 7265 6d6f 7665  erfile to remove
-0002ce60: 2062 7569 6c64 2072 6571 7569 7265 6d65   build requireme
-0002ce70: 6e74 7320 6166 7465 7220 6275 696c 6469  nts after buildi
-0002ce80: 6e67 2072 6564 7563 696e 6720 7468 6520  ng reducing the 
-0002ce90: 696d 6167 6520 7369 7a65 2e20 285b 5c23  image size. ([\#
-0002cea0: 3338 3334 5d28 6874 7470 733a 2f2f 6769  3834](https://gi
-0002ceb0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-0002cec0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-0002ced0: 6573 2f33 3833 3429 290a 2d20 4469 7361  es/3834)).- Disa
-0002cee0: 626c 6520 6c61 7a79 206c 6f61 6469 6e67  ble lazy loading
-0002cef0: 2066 6f72 2069 6e63 7265 6d65 6e74 616c   for incremental
-0002cf00: 2073 796e 6373 2066 6f72 206e 6f77 2028   syncs for now (
-0002cf10: 5b5c 2333 3834 305d 2868 7474 7073 3a2f  [\#3840](https:/
-0002cf20: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-0002cf30: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-0002cf40: 7373 7565 732f 3338 3430 2929 0a2d 2066  ssues/3840)).- f
-0002cf50: 6564 6572 6174 696f 6e2f 2069 7320 6e6f  ederation/ is no
-0002cf60: 7720 706f 7274 6564 2074 6f20 5079 7468  w ported to Pyth
-0002cf70: 6f6e 2033 2e20 285b 5c23 3338 3437 5d28  on 3. ([\#3847](
-0002cf80: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-0002cf90: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-0002cfa0: 6e61 7073 652f 6973 7375 6573 2f33 3834  napse/issues/384
-0002cfb0: 3729 290a 2d20 4c6f 6720 7768 656e 2077  7)).- Log when w
-0002cfc0: 6520 7265 7472 7920 6f75 7462 6f75 6e64  e retry outbound
-0002cfd0: 2072 6571 7565 7374 7320 285b 5c23 3338   requests ([\#38
-0002cfe0: 3533 5d28 6874 7470 733a 2f2f 6769 7468  53](https://gith
-0002cff0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-0002d000: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-0002d010: 2f33 3835 3329 290a 2d20 5265 6d6f 7665  /3853)).- Remove
-0002d020: 6420 736f 6d65 2065 7863 6573 7320 6c6f  d some excess lo
-0002d030: 6767 696e 6720 6d65 7373 6167 6573 2e20  gging messages. 
-0002d040: 285b 5c23 3338 3535 5d28 6874 7470 733a  ([\#3855](https:
-0002d050: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-0002d060: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-0002d070: 6973 7375 6573 2f33 3835 3529 290a 2d20  issues/3855)).- 
-0002d080: 5370 6565 6420 7570 2070 7572 6765 2068  Speed up purge h
-0002d090: 6973 746f 7279 2066 6f72 2072 6f6f 6d73  istory for rooms
-0002d0a0: 2074 6861 7420 6861 7665 2062 6565 6e20   that have been 
-0002d0b0: 7072 6576 696f 7573 6c79 2070 7572 6765  previously purge
-0002d0c0: 6420 285b 5c23 3338 3536 5d28 6874 7470  d ([\#3856](http
-0002d0d0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-0002d0e0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-0002d0f0: 652f 6973 7375 6573 2f33 3835 3629 290a  e/issues/3856)).
-0002d100: 2d20 5265 6661 6374 6f72 2073 6f6d 6520  - Refactor some 
-0002d110: 4854 5450 2074 696d 656f 7574 2063 6f64  HTTP timeout cod
-0002d120: 652e 2028 5b5c 2333 3835 375d 2868 7474  e. ([\#3857](htt
-0002d130: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-0002d140: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-0002d150: 7365 2f69 7373 7565 732f 3338 3537 2929  se/issues/3857))
-0002d160: 0a2d 2046 6978 2072 756e 6e69 6e67 206d  .- Fix running m
-0002d170: 6572 6765 6420 6275 696c 6473 206f 6e20  erged builds on 
-0002d180: 4369 7263 6c65 4349 2028 5b5c 2333 3835  CircleCI ([\#385
-0002d190: 385d 2868 7474 7073 3a2f 2f67 6974 6875  8](https://githu
-0002d1a0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-0002d1b0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-0002d1c0: 3338 3538 2929 0a2d 2046 6978 2074 7970  3858)).- Fix typ
-0002d1d0: 6f20 696e 2072 6570 6c69 6361 7469 6f6e  o in replication
-0002d1e0: 2073 7472 6561 6d20 6578 6365 7074 696f   stream exceptio
-0002d1f0: 6e2e 2028 5b5c 2333 3836 305d 2868 7474  n. ([\#3860](htt
-0002d200: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-0002d210: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-0002d220: 7365 2f69 7373 7565 732f 3338 3630 2929  se/issues/3860))
-0002d230: 0a2d 2041 6464 2069 6e20 666c 6967 6874  .- Add in flight
-0002d240: 2072 6561 6c20 7469 6d65 206d 6574 7269   real time metri
-0002d250: 6373 2066 6f72 204d 6561 7375 7265 2062  cs for Measure b
-0002d260: 6c6f 636b 7320 285b 5c23 3338 3731 5d28  locks ([\#3871](
-0002d270: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-0002d280: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-0002d290: 6e61 7073 652f 6973 7375 6573 2f33 3837  napse/issues/387
-0002d2a0: 3129 290a 2d20 4469 7361 626c 6520 6275  1)).- Disable bu
-0002d2b0: 6666 6572 696e 6720 616e 6420 6175 746f  ffering and auto
-0002d2c0: 6d61 7469 6320 7265 7472 7969 6e67 2069  matic retrying i
-0002d2d0: 6e20 7472 6571 2072 6571 7565 7374 7320  n treq requests 
-0002d2e0: 746f 2070 7265 7665 6e74 2074 696d 656f  to prevent timeo
-0002d2f0: 7574 732e 2028 5b5c 2333 3837 325d 2868  uts. ([\#3872](h
-0002d300: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0002d310: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-0002d320: 6170 7365 2f69 7373 7565 732f 3338 3732  apse/issues/3872
-0002d330: 2929 0a2d 206d 656e 7469 6f6e 206a 656d  )).- mention jem
-0002d340: 616c 6c6f 6320 696e 2074 6865 2052 4541  alloc in the REA
-0002d350: 444d 4520 285b 5c23 3338 3737 5d28 6874  DME ([\#3877](ht
-0002d360: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0002d370: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-0002d380: 7073 652f 6973 7375 6573 2f33 3837 3729  pse/issues/3877)
-0002d390: 290a 2d20 5265 6d6f 7665 2075 6e6d 6169  ).- Remove unmai
-0002d3a0: 6e74 6169 6e65 6420 226e 756b 652d 726f  ntained "nuke-ro
-0002d3b0: 6f6d 2d66 726f 6d2d 6462 2e73 6822 2073  om-from-db.sh" s
-0002d3c0: 6372 6970 7420 285b 5c23 3338 3838 5d28  cript ([\#3888](
-0002d3d0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-0002d3e0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-0002d3f0: 6e61 7073 652f 6973 7375 6573 2f33 3838  napse/issues/388
-0002d400: 3829 290a 0a0a 5379 6e61 7073 6520 302e  8))...Synapse 0.
-0002d410: 3333 2e34 2028 3230 3138 2d30 392d 3037  33.4 (2018-09-07
-0002d420: 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ).==============
-0002d430: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a49  =============..I
-0002d440: 6e74 6572 6e61 6c20 4368 616e 6765 730a  nternal Changes.
-0002d450: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-0002d460: 0a0a 2d20 556e 6967 6e6f 7265 2073 796e  ..- Unignore syn
-0002d470: 6374 6c20 696e 202e 646f 636b 6572 6967  ctl in .dockerig
-0002d480: 6e6f 7265 2074 6f20 6669 7820 646f 636b  nore to fix dock
-0002d490: 6572 2062 7569 6c64 7320 285b 5c23 3338  er builds ([\#38
-0002d4a0: 3032 5d28 6874 7470 733a 2f2f 6769 7468  02](https://gith
-0002d4b0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-0002d4c0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-0002d4d0: 2f33 3830 3229 290a 0a0a 5379 6e61 7073  /3802))...Synaps
-0002d4e0: 6520 302e 3333 2e34 7263 3220 2832 3031  e 0.33.4rc2 (201
-0002d4f0: 382d 3039 2d30 3629 0a3d 3d3d 3d3d 3d3d  8-09-06).=======
-0002d500: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0002d510: 3d3d 3d3d 3d3d 3d0a 0a50 756c 6c20 696e  =======..Pull in
-0002d520: 2073 6563 7572 6974 7920 6669 7865 7320   security fixes 
-0002d530: 6672 6f6d 2076 302e 3333 2e33 2e31 0a0a  from v0.33.3.1..
-0002d540: 0a53 796e 6170 7365 2030 2e33 332e 332e  .Synapse 0.33.3.
-0002d550: 3120 2832 3031 382d 3039 2d30 3629 0a3d  1 (2018-09-06).=
-0002d560: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0002d570: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 5345  ============..SE
-0002d580: 4355 5249 5459 2046 4958 4553 0a2d 2d2d  CURITY FIXES.---
-0002d590: 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a 0a2d 2046  -----------..- F
-0002d5a0: 6978 2061 6e20 6973 7375 6520 7768 6572  ix an issue wher
-0002d5b0: 6520 6576 656e 7420 7369 676e 6174 7572  e event signatur
-0002d5c0: 6573 2077 6572 6520 6e6f 7420 616c 7761  es were not alwa
-0002d5d0: 7973 2063 6f72 7265 6374 6c79 2076 616c  ys correctly val
-0002d5e0: 6964 6174 6564 2028 5b5c 2333 3739 365d  idated ([\#3796]
-0002d5f0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0002d600: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-0002d610: 796e 6170 7365 2f69 7373 7565 732f 3337  ynapse/issues/37
-0002d620: 3936 2929 0a2d 2046 6978 2061 6e20 6973  96)).- Fix an is
-0002d630: 7375 6520 7768 6572 6520 7365 7276 6572  sue where server
-0002d640: 5f61 636c 7320 636f 756c 6420 6265 2063  _acls could be c
-0002d650: 6972 6375 6d76 656e 7465 6420 666f 7220  ircumvented for 
-0002d660: 696e 636f 6d69 6e67 2065 7665 6e74 7320  incoming events 
-0002d670: 285b 5c23 3337 3936 5d28 6874 7470 733a  ([\#3796](https:
-0002d680: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-0002d690: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-0002d6a0: 6973 7375 6573 2f33 3739 3629 290a 0a0a  issues/3796))...
-0002d6b0: 496e 7465 726e 616c 2043 6861 6e67 6573  Internal Changes
-0002d6c0: 0a2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  .---------------
-0002d6d0: 2d0a 0a2d 2055 6e69 676e 6f72 6520 7379  -..- Unignore sy
-0002d6e0: 6e63 746c 2069 6e20 2e64 6f63 6b65 7269  nctl in .dockeri
-0002d6f0: 676e 6f72 6520 746f 2066 6978 2064 6f63  gnore to fix doc
-0002d700: 6b65 7220 6275 696c 6473 2028 5b5c 2333  ker builds ([\#3
-0002d710: 3830 325d 2868 7474 7073 3a2f 2f67 6974  802](https://git
-0002d720: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-0002d730: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-0002d740: 732f 3338 3032 2929 0a0a 0a53 796e 6170  s/3802))...Synap
-0002d750: 7365 2030 2e33 332e 3472 6331 2028 3230  se 0.33.4rc1 (20
-0002d760: 3138 2d30 392d 3034 290a 3d3d 3d3d 3d3d  18-09-04).======
+0002b560: 652f 6973 7375 6573 2f33 3739 3429 290a  e/issues/3794)).
+0002b570: 2d20 5265 6d6f 7665 2064 6f63 756d 656e  - Remove documen
+0002b580: 7461 7469 6f6e 2072 6567 6172 6469 6e67  tation regarding
+0002b590: 2069 6e73 7461 6c6c 6174 696f 6e20 6f6e   installation on
+0002b5a0: 2043 7967 7769 6e2c 2074 6865 2075 7365   Cygwin, the use
+0002b5b0: 206f 6620 5753 4c20 6973 2072 6563 6f6d   of WSL is recom
+0002b5c0: 6d65 6e64 6564 2069 6e73 7465 6164 2e20  mended instead. 
+0002b5d0: 285b 5c23 3338 3733 5d28 6874 7470 733a  ([\#3873](https:
+0002b5e0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+0002b5f0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+0002b600: 6973 7375 6573 2f33 3837 3329 290a 2d20  issues/3873)).- 
+0002b610: 4669 7820 7479 706f 2069 6e20 5245 4144  Fix typo in READ
+0002b620: 4d45 2c20 7379 6e61 7370 7365 202d 3e20  ME, synaspse -> 
+0002b630: 7379 6e61 7073 6520 285b 5c23 3338 3937  synapse ([\#3897
+0002b640: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0002b650: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+0002b660: 7379 6e61 7073 652f 6973 7375 6573 2f33  synapse/issues/3
+0002b670: 3839 3729 290a 2d20 496e 6372 6561 7365  897)).- Increase
+0002b680: 2074 6865 2074 696d 656f 7574 2077 6865   the timeout whe
+0002b690: 6e20 6669 6c6c 696e 6720 6d69 7373 696e  n filling missin
+0002b6a0: 6720 6576 656e 7473 2069 6e20 6665 6465  g events in fede
+0002b6b0: 7261 7469 6f6e 2072 6571 7565 7374 7320  ration requests 
+0002b6c0: 285b 5c23 3339 3033 5d28 6874 7470 733a  ([\#3903](https:
+0002b6d0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+0002b6e0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+0002b6f0: 6973 7375 6573 2f33 3930 3329 290a 2d20  issues/3903)).- 
+0002b700: 496d 7072 6f76 6520 7468 6520 6c6f 6767  Improve the logg
+0002b710: 696e 6720 7768 656e 2068 616e 646c 696e  ing when handlin
+0002b720: 6720 6120 6665 6465 7261 7469 6f6e 2074  g a federation t
+0002b730: 7261 6e73 6163 7469 6f6e 2028 5b5c 2333  ransaction ([\#3
+0002b740: 3930 345d 2868 7474 7073 3a2f 2f67 6974  904](https://git
+0002b750: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+0002b760: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+0002b770: 732f 3339 3034 292c 205b 5c23 3339 3636  s/3904), [\#3966
+0002b780: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0002b790: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+0002b7a0: 7379 6e61 7073 652f 6973 7375 6573 2f33  synapse/issues/3
+0002b7b0: 3936 3629 290a 2d20 496d 7072 6f76 6520  966)).- Improve 
+0002b7c0: 6c6f 6767 696e 6720 6f66 206f 7574 626f  logging of outbo
+0002b7d0: 756e 6420 6665 6465 7261 7469 6f6e 2072  und federation r
+0002b7e0: 6571 7565 7374 7320 285b 5c23 3339 3036  equests ([\#3906
+0002b7f0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0002b800: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+0002b810: 7379 6e61 7073 652f 6973 7375 6573 2f33  synapse/issues/3
+0002b820: 3930 3629 2c20 5b5c 2333 3930 395d 2868  906), [\#3909](h
+0002b830: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0002b840: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+0002b850: 6170 7365 2f69 7373 7565 732f 3339 3039  apse/issues/3909
+0002b860: 2929 0a2d 2046 6978 2074 6865 2064 6f63  )).- Fix the doc
+0002b870: 6b65 7220 696d 6167 6520 6275 696c 6469  ker image buildi
+0002b880: 6e67 206f 6e20 7079 7468 6f6e 2033 2028  ng on python 3 (
+0002b890: 5b5c 2333 3931 315d 2868 7474 7073 3a2f  [\#3911](https:/
+0002b8a0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+0002b8b0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+0002b8c0: 7373 7565 732f 3339 3131 2929 0a2d 2041  ssues/3911)).- A
+0002b8d0: 6464 2061 2072 6567 7265 7373 696f 6e20  dd a regression 
+0002b8e0: 7465 7374 2066 6f72 206c 6f67 6769 6e67  test for logging
+0002b8f0: 2066 6169 6c65 6420 4854 5450 2072 6571   failed HTTP req
+0002b900: 7565 7374 7320 6f6e 2050 7974 686f 6e20  uests on Python 
+0002b910: 332e 2028 5b5c 2333 3931 325d 2868 7474  3. ([\#3912](htt
+0002b920: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0002b930: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+0002b940: 7365 2f69 7373 7565 732f 3339 3132 2929  se/issues/3912))
+0002b950: 0a2d 2043 6f6d 6d65 6e74 7320 616e 6420  .- Comments and 
+0002b960: 696e 7465 7266 6163 6520 636c 6561 6e75  interface cleanu
+0002b970: 7020 666f 7220 6f6e 5f72 6563 6569 7665  p for on_receive
+0002b980: 5f70 6475 2028 5b5c 2333 3932 345d 2868  _pdu ([\#3924](h
+0002b990: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0002b9a0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+0002b9b0: 6170 7365 2f69 7373 7565 732f 3339 3234  apse/issues/3924
+0002b9c0: 2929 0a2d 2046 6978 2073 7075 7269 6f75  )).- Fix spuriou
+0002b9d0: 7320 6578 6365 7074 696f 6e73 2077 6865  s exceptions whe
+0002b9e0: 6e20 7265 6d6f 7465 2068 7474 7020 636c  n remote http cl
+0002b9f0: 6965 6e74 2063 6c6f 7365 7320 636f 6e6e  ient closes conn
+0002ba00: 6365 7469 6f6e 2028 5b5c 2333 3932 355d  cetion ([\#3925]
+0002ba10: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+0002ba20: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+0002ba30: 796e 6170 7365 2f69 7373 7565 732f 3339  ynapse/issues/39
+0002ba40: 3235 2929 0a2d 204c 6f67 2065 7863 6570  25)).- Log excep
+0002ba50: 7469 6f6e 7320 7468 726f 776e 2062 7920  tions thrown by 
+0002ba60: 6261 636b 6772 6f75 6e64 2074 6173 6b73  background tasks
+0002ba70: 2028 5b5c 2333 3932 375d 2868 7474 7073   ([\#3927](https
+0002ba80: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+0002ba90: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+0002baa0: 2f69 7373 7565 732f 3339 3237 2929 0a2d  /issues/3927)).-
+0002bab0: 2041 6464 2061 2063 6163 6865 2074 6f20   Add a cache to 
+0002bac0: 6765 745f 6465 7374 696e 6174 696f 6e5f  get_destination_
+0002bad0: 7265 7472 795f 7469 6d69 6e67 7320 285b  retry_timings ([
+0002bae0: 5c23 3339 3333 5d28 6874 7470 733a 2f2f  \#3933](https://
+0002baf0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+0002bb00: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+0002bb10: 7375 6573 2f33 3933 3329 2c20 5b5c 2333  sues/3933), [\#3
+0002bb20: 3939 315d 2868 7474 7073 3a2f 2f67 6974  991](https://git
+0002bb30: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+0002bb40: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+0002bb50: 732f 3339 3931 2929 0a2d 2041 7574 6f6d  s/3991)).- Autom
+0002bb60: 6174 6520 7075 7368 6573 2074 6f20 646f  ate pushes to do
+0002bb70: 636b 6572 2068 7562 2028 5b5c 2333 3934  cker hub ([\#394
+0002bb80: 365d 2868 7474 7073 3a2f 2f67 6974 6875  6](https://githu
+0002bb90: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+0002bba0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+0002bbb0: 3339 3436 2929 0a2d 2052 6571 7569 7265  3946)).- Require
+0002bbc0: 2061 7474 7273 2031 362e 302e 3020 6f72   attrs 16.0.0 or
+0002bbd0: 206c 6174 6572 2028 5b5c 2333 3934 375d   later ([\#3947]
+0002bbe0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+0002bbf0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+0002bc00: 796e 6170 7365 2f69 7373 7565 732f 3339  ynapse/issues/39
+0002bc10: 3437 2929 0a2d 2046 6978 2069 6e63 6f6d  47)).- Fix incom
+0002bc20: 7061 7469 6269 6c69 7479 2077 6974 6820  patibility with 
+0002bc30: 7079 7468 6f6e 3320 6f6e 2061 6c70 696e  python3 on alpin
+0002bc40: 6520 285b 5c23 3339 3438 5d28 6874 7470  e ([\#3948](http
+0002bc50: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+0002bc60: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+0002bc70: 652f 6973 7375 6573 2f33 3934 3829 290a  e/issues/3948)).
+0002bc80: 2d20 5275 6e20 7468 6520 7465 7374 2073  - Run the test s
+0002bc90: 7569 7465 206f 6e20 7468 6520 6f6c 6465  uite on the olde
+0002bca0: 7374 2073 7570 706f 7274 6564 2076 6572  st supported ver
+0002bcb0: 7369 6f6e 7320 6f66 206f 7572 2064 6570  sions of our dep
+0002bcc0: 656e 6465 6e63 6965 7320 696e 2043 492e  endencies in CI.
+0002bcd0: 2028 5b5c 2333 3935 325d 2868 7474 7073   ([\#3952](https
+0002bce0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+0002bcf0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+0002bd00: 2f69 7373 7565 732f 3339 3532 2929 0a2d  /issues/3952)).-
+0002bd10: 2043 6972 636c 6543 4920 6e6f 7720 6f6e   CircleCI now on
+0002bd20: 6c79 2072 756e 7320 6d65 7267 6564 206a  ly runs merged j
+0002bd30: 6f62 7320 6f6e 2050 5273 2c20 616e 6420  obs on PRs, and 
+0002bd40: 636f 6d6d 6974 206a 6f62 7320 6f6e 2064  commit jobs on d
+0002bd50: 6576 656c 6f70 2c20 6d61 7374 6572 2c20  evelop, master, 
+0002bd60: 616e 6420 7265 6c65 6173 6520 6272 616e  and release bran
+0002bd70: 6368 6573 2e20 285b 5c23 3339 3537 5d28  ches. ([\#3957](
+0002bd80: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0002bd90: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+0002bda0: 6e61 7073 652f 6973 7375 6573 2f33 3935  napse/issues/395
+0002bdb0: 3729 290a 2d20 4669 7820 646f 6373 7472  7)).- Fix docstr
+0002bdc0: 696e 6773 2061 6e64 2061 6464 2074 6573  ings and add tes
+0002bdd0: 7473 2066 6f72 2073 7461 7465 2073 746f  ts for state sto
+0002bde0: 7265 206d 6574 686f 6473 2028 5b5c 2333  re methods ([\#3
+0002bdf0: 3935 385d 2868 7474 7073 3a2f 2f67 6974  958](https://git
+0002be00: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+0002be10: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+0002be20: 732f 3339 3538 2929 0a2d 2066 6978 2064  s/3958)).- fix d
+0002be30: 6f63 7374 7269 6e67 2066 6f72 2046 6564  ocstring for Fed
+0002be40: 6572 6174 696f 6e43 6c69 656e 742e 6765  erationClient.ge
+0002be50: 745f 7374 6174 655f 666f 725f 726f 6f6d  t_state_for_room
+0002be60: 2028 5b5c 2333 3936 335d 2868 7474 7073   ([\#3963](https
+0002be70: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+0002be80: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+0002be90: 2f69 7373 7565 732f 3339 3633 2929 0a2d  /issues/3963)).-
+0002bea0: 2052 756e 206e 6f74 6966 795f 6170 705f   Run notify_app_
+0002beb0: 7365 7276 6963 6573 2061 7320 6120 6267  services as a bg
+0002bec0: 2070 726f 6365 7373 2028 5b5c 2333 3936   process ([\#396
+0002bed0: 355d 2868 7474 7073 3a2f 2f67 6974 6875  5](https://githu
+0002bee0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+0002bef0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+0002bf00: 3339 3635 2929 0a2d 2043 6c61 7269 6669  3965)).- Clarifi
+0002bf10: 6361 7469 6f6e 7320 696e 2046 6564 6572  cations in Feder
+0002bf20: 6174 696f 6e48 616e 646c 6572 2028 5b5c  ationHandler ([\
+0002bf30: 2333 3936 375d 2868 7474 7073 3a2f 2f67  #3967](https://g
+0002bf40: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+0002bf50: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+0002bf60: 7565 732f 3339 3637 2929 0a2d 2046 7572  ues/3967)).- Fur
+0002bf70: 7468 6572 2072 6564 7563 6520 7468 6520  ther reduce the 
+0002bf80: 646f 636b 6572 2069 6d61 6765 2073 697a  docker image siz
+0002bf90: 6520 285b 5c23 3339 3732 5d28 6874 7470  e ([\#3972](http
+0002bfa0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+0002bfb0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+0002bfc0: 652f 6973 7375 6573 2f33 3937 3229 290a  e/issues/3972)).
+0002bfd0: 2d20 4275 696c 6420 7079 3320 646f 636b  - Build py3 dock
+0002bfe0: 6572 2069 6d61 6765 7320 666f 7220 646f  er images for do
+0002bff0: 636b 6572 2068 7562 2074 6f6f 2028 5b5c  cker hub too ([\
+0002c000: 2333 3937 365d 2868 7474 7073 3a2f 2f67  #3976](https://g
+0002c010: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+0002c020: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+0002c030: 7565 732f 3339 3736 2929 0a2d 2055 7064  ues/3976)).- Upd
+0002c040: 6174 6564 2074 6865 2069 6e73 7461 6c6c  ated the install
+0002c050: 6174 696f 6e20 696e 7374 7275 6374 696f  ation instructio
+0002c060: 6e73 2074 6f20 706f 696e 7420 746f 2074  ns to point to t
+0002c070: 6865 206d 6174 7269 782d 7379 6e61 7073  he matrix-synaps
+0002c080: 6520 7061 636b 6167 6520 6f6e 2050 7950  e package on PyP
+0002c090: 492e 2028 5b5c 2333 3938 355d 2868 7474  I. ([\#3985](htt
+0002c0a0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0002c0b0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+0002c0c0: 7365 2f69 7373 7565 732f 3339 3835 2929  se/issues/3985))
+0002c0d0: 0a2d 2044 6973 6162 6c65 2055 5345 5f46  .- Disable USE_F
+0002c0e0: 524f 5a45 4e5f 4449 4354 5320 666f 7220  ROZEN_DICTS for 
+0002c0f0: 756e 6974 7465 7374 7320 6279 2064 6566  unittests by def
+0002c100: 6175 6c74 2e20 285b 5c23 3339 3837 5d28  ault. ([\#3987](
+0002c110: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0002c120: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+0002c130: 6e61 7073 652f 6973 7375 6573 2f33 3938  napse/issues/398
+0002c140: 3729 290a 2d20 5265 6d6f 7665 2075 6e75  7)).- Remove unu
+0002c150: 7365 6420 4a65 6e6b 696e 7320 616e 6420  sed Jenkins and 
+0002c160: 6465 7665 6c6f 706d 656e 7420 7265 6c61  development rela
+0002c170: 7465 6420 6669 6c65 7320 6672 6f6d 2074  ted files from t
+0002c180: 6865 2072 6570 6f2e 2028 5b5c 2333 3938  he repo. ([\#398
+0002c190: 385d 2868 7474 7073 3a2f 2f67 6974 6875  8](https://githu
+0002c1a0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+0002c1b0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+0002c1c0: 3339 3838 2929 0a2d 2049 6d70 726f 7665  3988)).- Improve
+0002c1d0: 2073 7461 636b 7472 6163 6573 2069 6e20   stacktraces in 
+0002c1e0: 6365 7274 6169 6e20 6578 6365 7074 696f  certain exceptio
+0002c1f0: 6e73 2069 6e20 7468 6520 6c6f 6773 2028  ns in the logs (
+0002c200: 5b5c 2333 3938 395d 2868 7474 7073 3a2f  [\#3989](https:/
+0002c210: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+0002c220: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+0002c230: 7373 7565 732f 3339 3839 2929 0a0a 0a53  ssues/3989))...S
+0002c240: 796e 6170 7365 2030 2e33 332e 352e 3120  ynapse 0.33.5.1 
+0002c250: 2832 3031 382d 3039 2d32 3529 0a3d 3d3d  (2018-09-25).===
+0002c260: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0002c270: 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 496e 7465  ==========..Inte
+0002c280: 726e 616c 2043 6861 6e67 6573 0a2d 2d2d  rnal Changes.---
+0002c290: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a 0a2d  -------------..-
+0002c2a0: 2046 6978 2069 6e63 6f6d 7061 7469 6269   Fix incompatibi
+0002c2b0: 6c69 7479 2077 6974 6820 6f6c 6465 7220  lity with older 
+0002c2c0: 5477 6973 7465 6420 7665 7273 696f 6e20  Twisted version 
+0002c2d0: 696e 2074 6573 7473 2e20 5468 616e 6b73  in tests. Thanks
+0002c2e0: 2040 4f6c 6567 4769 726b 6f21 2028 5b5c   @OlegGirko! ([\
+0002c2f0: 2333 3934 305d 2868 7474 7073 3a2f 2f67  #3940](https://g
+0002c300: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+0002c310: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+0002c320: 7565 732f 3339 3430 2929 0a0a 0a53 796e  ues/3940))...Syn
+0002c330: 6170 7365 2030 2e33 332e 3520 2832 3031  apse 0.33.5 (201
+0002c340: 382d 3039 2d32 3429 0a3d 3d3d 3d3d 3d3d  8-09-24).=======
+0002c350: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0002c360: 3d3d 3d3d 0a0a 4e6f 2073 6967 6e69 6669  ====..No signifi
+0002c370: 6361 6e74 2063 6861 6e67 6573 2e0a 0a0a  cant changes....
+0002c380: 5379 6e61 7073 6520 302e 3333 2e35 7263  Synapse 0.33.5rc
+0002c390: 3120 2832 3031 382d 3039 2d31 3729 0a3d  1 (2018-09-17).=
+0002c3a0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0002c3b0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a46  =============..F
+0002c3c0: 6561 7475 7265 730a 2d2d 2d2d 2d2d 2d2d  eatures.--------
+0002c3d0: 0a0a 2d20 5079 7468 6f6e 2033 2e35 2061  ..- Python 3.5 a
+0002c3e0: 6e64 2033 2e36 2073 7570 706f 7274 2069  nd 3.6 support i
+0002c3f0: 7320 6e6f 7720 696e 2062 6574 612e 2028  s now in beta. (
+0002c400: 5b5c 2333 3537 365d 2868 7474 7073 3a2f  [\#3576](https:/
+0002c410: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+0002c420: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+0002c430: 7373 7565 732f 3335 3736 2929 0a2d 2049  ssues/3576)).- I
+0002c440: 6d70 6c65 6d65 6e74 2060 6576 656e 745f  mplement `event_
+0002c450: 666f 726d 6174 6020 6669 6c74 6572 2070  format` filter p
+0002c460: 6172 616d 2069 6e20 602f 7379 6e63 6020  aram in `/sync` 
+0002c470: 285b 5c23 3337 3930 5d28 6874 7470 733a  ([\#3790](https:
+0002c480: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+0002c490: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+0002c4a0: 6973 7375 6573 2f33 3739 3029 290a 2d20  issues/3790)).- 
+0002c4b0: 4164 6420 7379 6e61 7073 655f 6164 6d69  Add synapse_admi
+0002c4c0: 6e5f 6d61 753a 7265 6769 7374 6572 6564  n_mau:registered
+0002c4d0: 5f72 6573 6572 7665 645f 7573 6572 7320  _reserved_users 
+0002c4e0: 6d65 7472 6963 2074 6f20 6578 706f 7365  metric to expose
+0002c4f0: 206e 756d 6265 7220 6f66 2072 6561 6c20   number of real 
+0002c500: 7265 6173 6572 7665 6420 7573 6572 7320  reaserved users 
+0002c510: 285b 5c23 3338 3436 5d28 6874 7470 733a  ([\#3846](https:
+0002c520: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+0002c530: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+0002c540: 6973 7375 6573 2f33 3834 3629 290a 0a0a  issues/3846))...
+0002c550: 4275 6766 6978 6573 0a2d 2d2d 2d2d 2d2d  Bugfixes.-------
+0002c560: 2d0a 0a2d 2052 656d 6f76 6520 636f 6e6e  -..- Remove conn
+0002c570: 6563 7469 6f6e 2049 4420 666f 7220 7265  ection ID for re
+0002c580: 706c 6963 6174 696f 6e20 7072 6f6d 6574  plication promet
+0002c590: 6865 7573 206d 6574 7269 6373 2c20 6173  heus metrics, as
+0002c5a0: 2069 7420 6372 6561 7465 7320 6120 6c61   it creates a la
+0002c5b0: 7267 6520 6e75 6d62 6572 206f 6620 6e65  rge number of ne
+0002c5c0: 7720 7365 7269 6573 2e20 285b 5c23 3337  w series. ([\#37
+0002c5d0: 3838 5d28 6874 7470 733a 2f2f 6769 7468  88](https://gith
+0002c5e0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+0002c5f0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+0002c600: 2f33 3738 3829 290a 2d20 6775 6573 7420  /3788)).- guest 
+0002c610: 7573 6572 7320 7368 6f75 6c64 206e 6f74  users should not
+0002c620: 2062 6520 7061 7274 206f 6620 6d61 7520   be part of mau 
+0002c630: 746f 7461 6c20 285b 5c23 3338 3030 5d28  total ([\#3800](
+0002c640: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0002c650: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+0002c660: 6e61 7073 652f 6973 7375 6573 2f33 3830  napse/issues/380
+0002c670: 3029 290a 2d20 4275 6d70 2064 6570 656e  0)).- Bump depen
+0002c680: 6465 6e63 7920 6f6e 2070 796f 7065 6e73  dency on pyopens
+0002c690: 736c 2031 362e 782c 2074 6f20 6176 6f69  sl 16.x, to avoi
+0002c6a0: 6420 696e 636f 6d70 6174 6962 696c 6974  d incompatibilit
+0002c6b0: 7920 7769 7468 2072 6563 656e 7420 5477  y with recent Tw
+0002c6c0: 6973 7465 642e 2028 5b5c 2333 3830 345d  isted. ([\#3804]
+0002c6d0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+0002c6e0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+0002c6f0: 796e 6170 7365 2f69 7373 7565 732f 3338  ynapse/issues/38
+0002c700: 3034 2929 0a2d 2046 6978 2065 7869 7374  04)).- Fix exist
+0002c710: 696e 6720 726f 6f6d 2074 6167 7320 6e6f  ing room tags no
+0002c720: 7420 636f 6d69 6e67 2064 6f77 6e20 7379  t coming down sy
+0002c730: 6e63 2077 6865 6e20 6a6f 696e 696e 6720  nc when joining 
+0002c740: 6120 726f 6f6d 2028 5b5c 2333 3831 305d  a room ([\#3810]
+0002c750: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+0002c760: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+0002c770: 796e 6170 7365 2f69 7373 7565 732f 3338  ynapse/issues/38
+0002c780: 3130 2929 0a2d 2046 6978 206a 7774 2069  10)).- Fix jwt i
+0002c790: 6d70 6f72 7420 6368 6563 6b20 285b 5c23  mport check ([\#
+0002c7a0: 3338 3234 5d28 6874 7470 733a 2f2f 6769  3824](https://gi
+0002c7b0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+0002c7c0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+0002c7d0: 6573 2f33 3832 3429 290a 2d20 6669 7820  es/3824)).- fix 
+0002c7e0: 564f 4950 2063 7261 7368 6573 2075 6e64  VOIP crashes und
+0002c7f0: 6572 2050 7974 686f 6e20 3320 2823 3338  er Python 3 (#38
+0002c800: 3231 2920 285b 5c23 3338 3335 5d28 6874  21) ([\#3835](ht
+0002c810: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+0002c820: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+0002c830: 7073 652f 6973 7375 6573 2f33 3833 3529  pse/issues/3835)
+0002c840: 290a 2d20 4669 7820 6d61 6e68 6f6c 6520  ).- Fix manhole 
+0002c850: 736f 2074 6861 7420 6974 2077 6f72 6b73  so that it works
+0002c860: 2077 6974 6820 6c61 7465 7374 206f 7065   with latest ope
+0002c870: 6e73 7368 2063 6c69 656e 7473 2028 5b5c  nssh clients ([\
+0002c880: 2333 3834 315d 2868 7474 7073 3a2f 2f67  #3841](https://g
+0002c890: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+0002c8a0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+0002c8b0: 7565 732f 3338 3431 2929 0a2d 2046 6978  ues/3841)).- Fix
+0002c8c0: 206f 7574 626f 756e 6420 7265 7175 6573   outbound reques
+0002c8d0: 7473 206f 6363 6173 696f 6e61 6c6c 7920  ts occasionally 
+0002c8e0: 7765 6467 696e 672c 2077 6869 6368 2063  wedging, which c
+0002c8f0: 616e 2072 6573 756c 7420 696e 2066 6564  an result in fed
+0002c900: 6572 6174 696f 6e20 6272 6561 6b69 6e67  eration breaking
+0002c910: 2062 6574 7765 656e 2073 6572 7665 7273   between servers
+0002c920: 2e20 285b 5c23 3338 3435 5d28 6874 7470  . ([\#3845](http
+0002c930: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+0002c940: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+0002c950: 652f 6973 7375 6573 2f33 3834 3529 290a  e/issues/3845)).
+0002c960: 2d20 5368 6f77 2068 6572 6f65 7320 6966  - Show heroes if
+0002c970: 2072 6f6f 6d20 6e61 6d65 2f63 616e 6f6e   room name/canon
+0002c980: 6963 616c 2061 6c69 6173 2068 6173 2062  ical alias has b
+0002c990: 6565 6e20 6465 6c65 7465 6420 285b 5c23  een deleted ([\#
+0002c9a0: 3338 3531 5d28 6874 7470 733a 2f2f 6769  3851](https://gi
+0002c9b0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+0002c9c0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+0002c9d0: 6573 2f33 3835 3129 290a 2d20 4669 7820  es/3851)).- Fix 
+0002c9e0: 6861 6e64 6c69 6e67 206f 6620 7265 6461  handling of reda
+0002c9f0: 6374 6564 2065 7665 6e74 7320 6672 6f6d  cted events from
+0002ca00: 2066 6564 6572 6174 696f 6e20 285b 5c23   federation ([\#
+0002ca10: 3338 3539 5d28 6874 7470 733a 2f2f 6769  3859](https://gi
+0002ca20: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+0002ca30: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+0002ca40: 6573 2f33 3835 3929 290a 2d20 2028 5b5c  es/3859)).-  ([\
+0002ca50: 2333 3837 345d 2868 7474 7073 3a2f 2f67  #3874](https://g
+0002ca60: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+0002ca70: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+0002ca80: 7565 732f 3338 3734 2929 0a2d 204d 6974  ues/3874)).- Mit
+0002ca90: 6967 6174 6520 6f75 7462 6f75 6e64 2066  igate outbound f
+0002caa0: 6564 6572 6174 696f 6e20 7261 6e64 6f6d  ederation random
+0002cab0: 6c79 2062 6563 6f6d 696e 6720 7765 6467  ly becoming wedg
+0002cac0: 6564 2028 5b5c 2333 3837 355d 2868 7474  ed ([\#3875](htt
+0002cad0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0002cae0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+0002caf0: 7365 2f69 7373 7565 732f 3338 3735 2929  se/issues/3875))
+0002cb00: 0a0a 0a49 6e74 6572 6e61 6c20 4368 616e  ...Internal Chan
+0002cb10: 6765 730a 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ges.------------
+0002cb20: 2d2d 2d2d 0a0a 2d20 4369 7263 6c65 4349  ----..- CircleCI
+0002cb30: 2074 6573 7473 206e 6f77 2072 756e 206f   tests now run o
+0002cb40: 6e20 7468 6520 706f 7465 6e74 6961 6c20  n the potential 
+0002cb50: 6d65 7267 6520 6f66 2061 2050 522e 2028  merge of a PR. (
+0002cb60: 5b5c 2333 3730 345d 2868 7474 7073 3a2f  [\#3704](https:/
+0002cb70: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+0002cb80: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+0002cb90: 7373 7565 732f 3337 3034 2929 0a2d 2068  ssues/3704)).- h
+0002cba0: 7474 702f 2069 7320 6e6f 7720 706f 7274  ttp/ is now port
+0002cbb0: 6564 2074 6f20 5079 7468 6f6e 2033 2e20  ed to Python 3. 
+0002cbc0: 285b 5c23 3337 3731 5d28 6874 7470 733a  ([\#3771](https:
+0002cbd0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+0002cbe0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+0002cbf0: 6973 7375 6573 2f33 3737 3129 290a 2d20  issues/3771)).- 
+0002cc00: 496d 7072 6f76 6520 6875 6d61 6e20 7265  Improve human re
+0002cc10: 6164 6162 6c65 2065 7272 6f72 206d 6573  adable error mes
+0002cc20: 7361 6765 7320 666f 7220 7468 7265 6570  sages for threep
+0002cc30: 6964 2072 6567 6973 7472 6174 696f 6e2f  id registration/
+0002cc40: 6163 636f 756e 7420 7570 6461 7465 2028  account update (
+0002cc50: 5b5c 2333 3738 395d 2868 7474 7073 3a2f  [\#3789](https:/
+0002cc60: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+0002cc70: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+0002cc80: 7373 7565 732f 3337 3839 2929 0a2d 204d  ssues/3789)).- M
+0002cc90: 616b 6520 2f73 796e 6320 736c 6967 6874  ake /sync slight
+0002cca0: 6c79 2066 6173 7465 7220 6279 2061 766f  ly faster by avo
+0002ccb0: 6964 696e 6720 6e65 6564 6c65 7373 2063  iding needless c
+0002ccc0: 6f70 6965 7320 285b 5c23 3337 3935 5d28  opies ([\#3795](
+0002ccd0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0002cce0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+0002ccf0: 6e61 7073 652f 6973 7375 6573 2f33 3739  napse/issues/379
+0002cd00: 3529 290a 2d20 6861 6e64 6c65 7273 2f20  5)).- handlers/ 
+0002cd10: 6973 206e 6f77 2070 6f72 7465 6420 746f  is now ported to
+0002cd20: 2050 7974 686f 6e20 332e 2028 5b5c 2333   Python 3. ([\#3
+0002cd30: 3830 335d 2868 7474 7073 3a2f 2f67 6974  803](https://git
+0002cd40: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+0002cd50: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+0002cd60: 732f 3338 3033 2929 0a2d 204c 696d 6974  s/3803)).- Limit
+0002cd70: 2074 6865 206e 756d 6265 7220 6f66 2050   the number of P
+0002cd80: 4455 732f 4544 5573 2070 6572 2066 6564  DUs/EDUs per fed
+0002cd90: 6572 6174 696f 6e20 7472 616e 7361 6374  eration transact
+0002cda0: 696f 6e20 285b 5c23 3338 3035 5d28 6874  ion ([\#3805](ht
+0002cdb0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+0002cdc0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+0002cdd0: 7073 652f 6973 7375 6573 2f33 3830 3529  pse/issues/3805)
+0002cde0: 290a 2d20 4f6e 6c79 2073 7461 7274 2070  ).- Only start p
+0002cdf0: 6f73 7467 7265 7320 696e 7374 616e 6365  ostgres instance
+0002ce00: 2066 6f72 2070 6f73 7467 7265 7320 7465   for postgres te
+0002ce10: 7374 7320 6f6e 2054 7261 7669 7320 4349  sts on Travis CI
+0002ce20: 2028 5b5c 2333 3830 365d 2868 7474 7073   ([\#3806](https
+0002ce30: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+0002ce40: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+0002ce50: 2f69 7373 7565 732f 3338 3036 2929 0a2d  /issues/3806)).-
+0002ce60: 2074 6573 7473 2f20 6973 206e 6f77 2070   tests/ is now p
+0002ce70: 6f72 7465 6420 746f 2050 7974 686f 6e20  orted to Python 
+0002ce80: 332e 2028 5b5c 2333 3830 385d 2868 7474  3. ([\#3808](htt
+0002ce90: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0002cea0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+0002ceb0: 7365 2f69 7373 7565 732f 3338 3038 2929  se/issues/3808))
+0002cec0: 0a2d 2063 7279 7074 6f2f 2069 7320 6e6f  .- crypto/ is no
+0002ced0: 7720 706f 7274 6564 2074 6f20 5079 7468  w ported to Pyth
+0002cee0: 6f6e 2033 2e20 285b 5c23 3338 3232 5d28  on 3. ([\#3822](
+0002cef0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0002cf00: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+0002cf10: 6e61 7073 652f 6973 7375 6573 2f33 3832  napse/issues/382
+0002cf20: 3229 290a 2d20 7265 7374 2f20 6973 206e  2)).- rest/ is n
+0002cf30: 6f77 2070 6f72 7465 6420 746f 2050 7974  ow ported to Pyt
+0002cf40: 686f 6e20 332e 2028 5b5c 2333 3832 335d  hon 3. ([\#3823]
+0002cf50: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+0002cf60: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+0002cf70: 796e 6170 7365 2f69 7373 7565 732f 3338  ynapse/issues/38
+0002cf80: 3233 2929 0a2d 2061 6464 2073 6f6d 6520  23)).- add some 
+0002cf90: 6c6f 6767 696e 6720 666f 7220 7468 6520  logging for the 
+0002cfa0: 6b65 7972 696e 6720 7175 6575 6520 285b  keyring queue ([
+0002cfb0: 5c23 3338 3236 5d28 6874 7470 733a 2f2f  \#3826](https://
+0002cfc0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+0002cfd0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+0002cfe0: 7375 6573 2f33 3832 3629 290a 2d20 7370  sues/3826)).- sp
+0002cff0: 6565 6420 7570 206c 617a 7920 6c6f 6164  eed up lazy load
+0002d000: 696e 6720 6279 2032 2d33 7820 285b 5c23  ing by 2-3x ([\#
+0002d010: 3338 3237 5d28 6874 7470 733a 2f2f 6769  3827](https://gi
+0002d020: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+0002d030: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+0002d040: 6573 2f33 3832 3729 290a 2d20 496d 7072  es/3827)).- Impr
+0002d050: 6f76 6564 2044 6f63 6b65 7266 696c 6520  oved Dockerfile 
+0002d060: 746f 2072 656d 6f76 6520 6275 696c 6420  to remove build 
+0002d070: 7265 7175 6972 656d 656e 7473 2061 6674  requirements aft
+0002d080: 6572 2062 7569 6c64 696e 6720 7265 6475  er building redu
+0002d090: 6369 6e67 2074 6865 2069 6d61 6765 2073  cing the image s
+0002d0a0: 697a 652e 2028 5b5c 2333 3833 345d 2868  ize. ([\#3834](h
+0002d0b0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0002d0c0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+0002d0d0: 6170 7365 2f69 7373 7565 732f 3338 3334  apse/issues/3834
+0002d0e0: 2929 0a2d 2044 6973 6162 6c65 206c 617a  )).- Disable laz
+0002d0f0: 7920 6c6f 6164 696e 6720 666f 7220 696e  y loading for in
+0002d100: 6372 656d 656e 7461 6c20 7379 6e63 7320  cremental syncs 
+0002d110: 666f 7220 6e6f 7720 285b 5c23 3338 3430  for now ([\#3840
+0002d120: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0002d130: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+0002d140: 7379 6e61 7073 652f 6973 7375 6573 2f33  synapse/issues/3
+0002d150: 3834 3029 290a 2d20 6665 6465 7261 7469  840)).- federati
+0002d160: 6f6e 2f20 6973 206e 6f77 2070 6f72 7465  on/ is now porte
+0002d170: 6420 746f 2050 7974 686f 6e20 332e 2028  d to Python 3. (
+0002d180: 5b5c 2333 3834 375d 2868 7474 7073 3a2f  [\#3847](https:/
+0002d190: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+0002d1a0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+0002d1b0: 7373 7565 732f 3338 3437 2929 0a2d 204c  ssues/3847)).- L
+0002d1c0: 6f67 2077 6865 6e20 7765 2072 6574 7279  og when we retry
+0002d1d0: 206f 7574 626f 756e 6420 7265 7175 6573   outbound reques
+0002d1e0: 7473 2028 5b5c 2333 3835 335d 2868 7474  ts ([\#3853](htt
+0002d1f0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0002d200: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+0002d210: 7365 2f69 7373 7565 732f 3338 3533 2929  se/issues/3853))
+0002d220: 0a2d 2052 656d 6f76 6564 2073 6f6d 6520  .- Removed some 
+0002d230: 6578 6365 7373 206c 6f67 6769 6e67 206d  excess logging m
+0002d240: 6573 7361 6765 732e 2028 5b5c 2333 3835  essages. ([\#385
+0002d250: 355d 2868 7474 7073 3a2f 2f67 6974 6875  5](https://githu
+0002d260: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+0002d270: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+0002d280: 3338 3535 2929 0a2d 2053 7065 6564 2075  3855)).- Speed u
+0002d290: 7020 7075 7267 6520 6869 7374 6f72 7920  p purge history 
+0002d2a0: 666f 7220 726f 6f6d 7320 7468 6174 2068  for rooms that h
+0002d2b0: 6176 6520 6265 656e 2070 7265 7669 6f75  ave been previou
+0002d2c0: 736c 7920 7075 7267 6564 2028 5b5c 2333  sly purged ([\#3
+0002d2d0: 3835 365d 2868 7474 7073 3a2f 2f67 6974  856](https://git
+0002d2e0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+0002d2f0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+0002d300: 732f 3338 3536 2929 0a2d 2052 6566 6163  s/3856)).- Refac
+0002d310: 746f 7220 736f 6d65 2048 5454 5020 7469  tor some HTTP ti
+0002d320: 6d65 6f75 7420 636f 6465 2e20 285b 5c23  meout code. ([\#
+0002d330: 3338 3537 5d28 6874 7470 733a 2f2f 6769  3857](https://gi
+0002d340: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+0002d350: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+0002d360: 6573 2f33 3835 3729 290a 2d20 4669 7820  es/3857)).- Fix 
+0002d370: 7275 6e6e 696e 6720 6d65 7267 6564 2062  running merged b
+0002d380: 7569 6c64 7320 6f6e 2043 6972 636c 6543  uilds on CircleC
+0002d390: 4920 285b 5c23 3338 3538 5d28 6874 7470  I ([\#3858](http
+0002d3a0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+0002d3b0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+0002d3c0: 652f 6973 7375 6573 2f33 3835 3829 290a  e/issues/3858)).
+0002d3d0: 2d20 4669 7820 7479 706f 2069 6e20 7265  - Fix typo in re
+0002d3e0: 706c 6963 6174 696f 6e20 7374 7265 616d  plication stream
+0002d3f0: 2065 7863 6570 7469 6f6e 2e20 285b 5c23   exception. ([\#
+0002d400: 3338 3630 5d28 6874 7470 733a 2f2f 6769  3860](https://gi
+0002d410: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+0002d420: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+0002d430: 6573 2f33 3836 3029 290a 2d20 4164 6420  es/3860)).- Add 
+0002d440: 696e 2066 6c69 6768 7420 7265 616c 2074  in flight real t
+0002d450: 696d 6520 6d65 7472 6963 7320 666f 7220  ime metrics for 
+0002d460: 4d65 6173 7572 6520 626c 6f63 6b73 2028  Measure blocks (
+0002d470: 5b5c 2333 3837 315d 2868 7474 7073 3a2f  [\#3871](https:/
+0002d480: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+0002d490: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+0002d4a0: 7373 7565 732f 3338 3731 2929 0a2d 2044  ssues/3871)).- D
+0002d4b0: 6973 6162 6c65 2062 7566 6665 7269 6e67  isable buffering
+0002d4c0: 2061 6e64 2061 7574 6f6d 6174 6963 2072   and automatic r
+0002d4d0: 6574 7279 696e 6720 696e 2074 7265 7120  etrying in treq 
+0002d4e0: 7265 7175 6573 7473 2074 6f20 7072 6576  requests to prev
+0002d4f0: 656e 7420 7469 6d65 6f75 7473 2e20 285b  ent timeouts. ([
+0002d500: 5c23 3338 3732 5d28 6874 7470 733a 2f2f  \#3872](https://
+0002d510: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+0002d520: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+0002d530: 7375 6573 2f33 3837 3229 290a 2d20 6d65  sues/3872)).- me
+0002d540: 6e74 696f 6e20 6a65 6d61 6c6c 6f63 2069  ntion jemalloc i
+0002d550: 6e20 7468 6520 5245 4144 4d45 2028 5b5c  n the README ([\
+0002d560: 2333 3837 375d 2868 7474 7073 3a2f 2f67  #3877](https://g
+0002d570: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+0002d580: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+0002d590: 7565 732f 3338 3737 2929 0a2d 2052 656d  ues/3877)).- Rem
+0002d5a0: 6f76 6520 756e 6d61 696e 7461 696e 6564  ove unmaintained
+0002d5b0: 2022 6e75 6b65 2d72 6f6f 6d2d 6672 6f6d   "nuke-room-from
+0002d5c0: 2d64 622e 7368 2220 7363 7269 7074 2028  -db.sh" script (
+0002d5d0: 5b5c 2333 3838 385d 2868 7474 7073 3a2f  [\#3888](https:/
+0002d5e0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+0002d5f0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+0002d600: 7373 7565 732f 3338 3838 2929 0a0a 0a53  ssues/3888))...S
+0002d610: 796e 6170 7365 2030 2e33 332e 3420 2832  ynapse 0.33.4 (2
+0002d620: 3031 382d 3039 2d30 3729 0a3d 3d3d 3d3d  018-09-07).=====
+0002d630: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0002d640: 3d3d 3d3d 3d3d 0a0a 496e 7465 726e 616c  ======..Internal
+0002d650: 2043 6861 6e67 6573 0a2d 2d2d 2d2d 2d2d   Changes.-------
+0002d660: 2d2d 2d2d 2d2d 2d2d 2d0a 0a2d 2055 6e69  ---------..- Uni
+0002d670: 676e 6f72 6520 7379 6e63 746c 2069 6e20  gnore synctl in 
+0002d680: 2e64 6f63 6b65 7269 676e 6f72 6520 746f  .dockerignore to
+0002d690: 2066 6978 2064 6f63 6b65 7220 6275 696c   fix docker buil
+0002d6a0: 6473 2028 5b5c 2333 3830 325d 2868 7474  ds ([\#3802](htt
+0002d6b0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0002d6c0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+0002d6d0: 7365 2f69 7373 7565 732f 3338 3032 2929  se/issues/3802))
+0002d6e0: 0a0a 0a53 796e 6170 7365 2030 2e33 332e  ...Synapse 0.33.
+0002d6f0: 3472 6332 2028 3230 3138 2d30 392d 3036  4rc2 (2018-09-06
+0002d700: 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ).==============
+0002d710: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0002d720: 0a0a 5075 6c6c 2069 6e20 7365 6375 7269  ..Pull in securi
+0002d730: 7479 2066 6978 6573 2066 726f 6d20 7630  ty fixes from v0
+0002d740: 2e33 332e 332e 310a 0a0a 5379 6e61 7073  .33.3.1...Synaps
+0002d750: 6520 302e 3333 2e33 2e31 2028 3230 3138  e 0.33.3.1 (2018
+0002d760: 2d30 392d 3036 290a 3d3d 3d3d 3d3d 3d3d  -09-06).========
 0002d770: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0002d780: 3d3d 3d3d 3d3d 3d3d 0a0a 4665 6174 7572  ========..Featur
-0002d790: 6573 0a2d 2d2d 2d2d 2d2d 2d0a 0a2d 2053  es.--------..- S
-0002d7a0: 7570 706f 7274 2070 726f 6669 6c65 2041  upport profile A
-0002d7b0: 5049 2065 6e64 706f 696e 7473 206f 6e20  PI endpoints on 
-0002d7c0: 776f 726b 6572 7320 285b 5c23 3336 3539  workers ([\#3659
-0002d7d0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0002d7e0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-0002d7f0: 7379 6e61 7073 652f 6973 7375 6573 2f33  synapse/issues/3
-0002d800: 3635 3929 290a 2d20 5365 7276 6572 206e  659)).- Server n
-0002d810: 6f74 6963 6573 2066 6f72 2072 6573 6f75  otices for resou
-0002d820: 7263 6520 6c69 6d69 7420 626c 6f63 6b69  rce limit blocki
-0002d830: 6e67 2028 5b5c 2333 3638 305d 2868 7474  ng ([\#3680](htt
-0002d840: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-0002d850: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-0002d860: 7365 2f69 7373 7565 732f 3336 3830 2929  se/issues/3680))
-0002d870: 0a2d 2041 6c6c 6f77 2067 7565 7374 7320  .- Allow guests 
-0002d880: 746f 2075 7365 202f 726f 6f6d 732f 3a72  to use /rooms/:r
-0002d890: 6f6f 6d49 642f 6576 656e 742f 3a65 7665  oomId/event/:eve
-0002d8a0: 6e74 4964 2028 5b5c 2333 3732 345d 2868  ntId ([\#3724](h
-0002d8b0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0002d8c0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-0002d8d0: 6170 7365 2f69 7373 7565 732f 3337 3234  apse/issues/3724
-0002d8e0: 2929 0a2d 2041 6464 206d 6175 5f74 7269  )).- Add mau_tri
-0002d8f0: 616c 5f64 6179 7320 636f 6e66 6967 2070  al_days config p
-0002d900: 6172 616d 2c20 736f 2074 6861 7420 7573  aram, so that us
-0002d910: 6572 7320 6f6e 6c79 2067 6574 2063 6f75  ers only get cou
-0002d920: 6e74 6564 2061 7320 4d41 5520 6166 7465  nted as MAU afte
-0002d930: 7220 4e20 6461 7973 2e20 285b 5c23 3337  r N days. ([\#37
-0002d940: 3439 5d28 6874 7470 733a 2f2f 6769 7468  49](https://gith
-0002d950: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-0002d960: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-0002d970: 2f33 3734 3929 290a 2d20 5265 7175 6972  /3749)).- Requir
-0002d980: 6520 7477 6973 7465 6420 3137 2e31 206f  e twisted 17.1 o
-0002d990: 7220 6c61 7465 7220 2866 6978 6573 205b  r later (fixes [
-0002d9a0: 2333 3734 315d 2868 7474 7073 3a2f 2f67  #3741](https://g
-0002d9b0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-0002d9c0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-0002d9d0: 7565 732f 3337 3431 2929 2e20 285b 5c23  ues/3741)). ([\#
-0002d9e0: 3337 3531 5d28 6874 7470 733a 2f2f 6769  3751](https://gi
-0002d9f0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-0002da00: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-0002da10: 6573 2f33 3735 3129 290a 0a0a 4275 6766  es/3751))...Bugf
-0002da20: 6978 6573 0a2d 2d2d 2d2d 2d2d 2d0a 0a2d  ixes.--------..-
-0002da30: 2046 6978 2065 7272 6f72 2063 6f6c 6c65   Fix error colle
-0002da40: 6374 696e 6720 7072 6f6d 6574 6865 7573  cting prometheus
-0002da50: 206d 6574 7269 6373 2077 6865 6e20 7275   metrics when ru
-0002da60: 6e20 6f6e 2064 6564 6963 6174 6564 2074  n on dedicated t
-0002da70: 6872 6561 6420 6475 6520 746f 2074 6872  hread due to thr
-0002da80: 6561 6469 6e67 2063 6f6e 6375 7272 656e  eading concurren
-0002da90: 6379 2069 7373 7565 7320 285b 5c23 3337  cy issues ([\#37
-0002daa0: 3232 5d28 6874 7470 733a 2f2f 6769 7468  22](https://gith
-0002dab0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-0002dac0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-0002dad0: 2f33 3732 3229 290a 2d20 4669 7820 6275  /3722)).- Fix bu
-0002dae0: 6720 7768 6572 6520 7765 2072 6573 656e  g where we resen
-0002daf0: 7420 226c 696d 6974 2065 7863 6565 6465  t "limit exceede
-0002db00: 6422 2073 6572 7665 7220 6e6f 7469 6365  d" server notice
-0002db10: 7320 7265 7065 6174 6564 6c79 2028 5b5c  s repeatedly ([\
-0002db20: 2333 3734 375d 2868 7474 7073 3a2f 2f67  #3747](https://g
-0002db30: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-0002db40: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-0002db50: 7565 732f 3337 3437 2929 0a2d 2046 6978  ues/3747)).- Fix
-0002db60: 2062 7567 2077 6865 7265 2077 6520 6272   bug where we br
-0002db70: 6f6b 6520 7379 6e63 2077 6865 6e20 7573  oke sync when us
-0002db80: 696e 6720 6c69 6d69 745f 7573 6167 655f  ing limit_usage_
-0002db90: 6279 5f6d 6175 2062 7574 2068 6164 6e27  by_mau but hadn'
-0002dba0: 7420 636f 6e66 6967 7572 6564 2073 6572  t configured ser
-0002dbb0: 7665 7220 6e6f 7469 6365 7320 285b 5c23  ver notices ([\#
-0002dbc0: 3337 3533 5d28 6874 7470 733a 2f2f 6769  3753](https://gi
-0002dbd0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-0002dbe0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-0002dbf0: 6573 2f33 3735 3329 290a 2d20 4669 7820  es/3753)).- Fix 
-0002dc00: 2766 6564 6572 6174 696f 6e5f 646f 6d61  'federation_doma
-0002dc10: 696e 5f77 6869 7465 6c69 7374 2720 7375  in_whitelist' su
-0002dc20: 6368 2074 6861 7420 616e 2065 6d70 7479  ch that an empty
-0002dc30: 206c 6973 7420 636f 7272 6563 746c 7920   list correctly 
-0002dc40: 626c 6f63 6b73 2061 6c6c 206f 7574 626f  blocks all outbo
-0002dc50: 756e 6420 6665 6465 7261 7469 6f6e 2074  und federation t
-0002dc60: 7261 6666 6963 2028 5b5c 2333 3735 345d  raffic ([\#3754]
-0002dc70: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0002dc80: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-0002dc90: 796e 6170 7365 2f69 7373 7565 732f 3337  ynapse/issues/37
-0002dca0: 3534 2929 0a2d 2046 6978 2074 6167 6769  54)).- Fix taggi
-0002dcb0: 6e67 206f 6620 7365 7276 6572 206e 6f74  ng of server not
-0002dcc0: 6963 6520 726f 6f6d 7320 285b 5c23 3337  ice rooms ([\#37
-0002dcd0: 3535 5d28 6874 7470 733a 2f2f 6769 7468  55](https://gith
-0002dce0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-0002dcf0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-0002dd00: 2f33 3735 3529 2c20 5b5c 2333 3735 365d  /3755), [\#3756]
-0002dd10: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0002dd20: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-0002dd30: 796e 6170 7365 2f69 7373 7565 732f 3337  ynapse/issues/37
-0002dd40: 3536 2929 0a2d 2046 6978 2027 6164 6d69  56)).- Fix 'admi
-0002dd50: 6e5f 7572 6927 2063 6f6e 6669 6720 7661  n_uri' config va
-0002dd60: 7269 6162 6c65 2061 6e64 2065 7272 6f72  riable and error
-0002dd70: 2070 6172 616d 6574 6572 2074 6f20 6265   parameter to be
-0002dd80: 2027 6164 6d69 6e5f 636f 6e74 6163 7427   'admin_contact'
-0002dd90: 2074 6f20 6d61 7463 6820 7468 6520 7370   to match the sp
-0002dda0: 6563 2e20 285b 5c23 3337 3538 5d28 6874  ec. ([\#3758](ht
-0002ddb0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0002ddc0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-0002ddd0: 7073 652f 6973 7375 6573 2f33 3735 3829  pse/issues/3758)
-0002dde0: 290a 2d20 446f 6e27 7420 7265 7475 726e  ).- Don't return
-0002ddf0: 206e 6f6e 2d4c 4c2d 6d65 6d62 6572 2073   non-LL-member s
-0002de00: 7461 7465 2069 6e20 696e 6372 656d 656e  tate in incremen
-0002de10: 7461 6c20 7379 6e63 2073 7461 7465 2062  tal sync state b
-0002de20: 6c6f 636b 7320 285b 5c23 3337 3630 5d28  locks ([\#3760](
-0002de30: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-0002de40: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-0002de50: 6e61 7073 652f 6973 7375 6573 2f33 3736  napse/issues/376
-0002de60: 3029 290a 2d20 4669 7820 6275 6720 696e  0)).- Fix bug in
-0002de70: 2073 656e 6469 6e67 2070 7265 7365 6e63   sending presenc
-0002de80: 6520 6f76 6572 2066 6564 6572 6174 696f  e over federatio
-0002de90: 6e20 285b 5c23 3337 3638 5d28 6874 7470  n ([\#3768](http
-0002dea0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-0002deb0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-0002dec0: 652f 6973 7375 6573 2f33 3736 3829 290a  e/issues/3768)).
-0002ded0: 2d20 4669 7820 6275 6720 7768 6572 6520  - Fix bug where 
-0002dee0: 7072 6573 6572 7665 6420 7468 7265 6570  preserved threep
-0002def0: 6964 2075 7365 7220 636f 6d65 7320 746f  id user comes to
-0002df00: 2073 6967 6e20 7570 2061 6e64 2073 6572   sign up and ser
-0002df10: 7665 7220 6973 206d 6175 2062 6c6f 636b  ver is mau block
-0002df20: 6564 2028 5b5c 2333 3737 375d 2868 7474  ed ([\#3777](htt
-0002df30: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-0002df40: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-0002df50: 7365 2f69 7373 7565 732f 3337 3737 2929  se/issues/3777))
-0002df60: 0a0a 496e 7465 726e 616c 2043 6861 6e67  ..Internal Chang
-0002df70: 6573 0a2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  es.-------------
-0002df80: 2d2d 2d0a 0a2d 2052 656d 6f76 6564 2074  ---..- Removed t
-0002df90: 6865 206c 696e 6b20 746f 2074 6865 2075  he link to the u
-0002dfa0: 6e6d 6169 6e74 6169 6e65 6420 6d61 7472  nmaintained matr
-0002dfb0: 6978 2d73 796e 6170 7365 2d61 7574 6f2d  ix-synapse-auto-
-0002dfc0: 6465 706c 6f79 2070 726f 6a65 6374 2066  deploy project f
-0002dfd0: 726f 6d20 7468 6520 7265 6164 6d65 2e20  rom the readme. 
-0002dfe0: 285b 5c23 3333 3738 5d28 6874 7470 733a  ([\#3378](https:
-0002dff0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-0002e000: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-0002e010: 6973 7375 6573 2f33 3337 3829 290a 2d20  issues/3378)).- 
-0002e020: 5265 6661 6374 6f72 2073 7461 7465 206d  Refactor state m
-0002e030: 6f64 756c 6520 746f 2073 7570 706f 7274  odule to support
-0002e040: 206d 756c 7469 706c 6520 726f 6f6d 2076   multiple room v
-0002e050: 6572 7369 6f6e 7320 285b 5c23 3336 3733  ersions ([\#3673
-0002e060: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0002e070: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-0002e080: 7379 6e61 7073 652f 6973 7375 6573 2f33  synapse/issues/3
-0002e090: 3637 3329 290a 2d20 5468 6520 7379 6e61  673)).- The syna
-0002e0a0: 7073 652e 7374 6f72 6167 6520 6d6f 6475  pse.storage modu
-0002e0b0: 6c65 2068 6173 2062 6565 6e20 706f 7274  le has been port
-0002e0c0: 6564 2074 6f20 5079 7468 6f6e 2033 2e20  ed to Python 3. 
-0002e0d0: 285b 5c23 3337 3235 5d28 6874 7470 733a  ([\#3725](https:
-0002e0e0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-0002e0f0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-0002e100: 6973 7375 6573 2f33 3732 3529 290a 2d20  issues/3725)).- 
-0002e110: 5370 6c69 7420 7468 6520 7374 6174 655f  Split the state_
-0002e120: 6772 6f75 705f 6361 6368 6520 696e 746f  group_cache into
-0002e130: 206d 656d 6265 7220 616e 6420 6e6f 6e2d   member and non-
-0002e140: 6d65 6d62 6572 2073 7461 7465 2065 7665  member state eve
-0002e150: 6e74 7320 2861 6e64 2073 6f20 7370 6565  nts (and so spee
-0002e160: 6420 7570 204c 4c20 2f73 796e 6329 2028  d up LL /sync) (
-0002e170: 5b5c 2333 3732 365d 2868 7474 7073 3a2f  [\#3726](https:/
-0002e180: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-0002e190: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-0002e1a0: 7373 7565 732f 3337 3236 2929 0a2d 204c  ssues/3726)).- L
-0002e1b0: 6f67 2066 6169 6c75 7265 2074 6f20 6175  og failure to au
-0002e1c0: 7468 656e 7469 6361 7465 2072 656d 6f74  thenticate remot
-0002e1d0: 6520 7365 7276 6572 7320 6173 2077 6172  e servers as war
-0002e1e0: 6e69 6e67 7320 2877 6974 686f 7574 2073  nings (without s
-0002e1f0: 7461 636b 2074 7261 6365 7329 2028 5b5c  tack traces) ([\
-0002e200: 2333 3732 375d 2868 7474 7073 3a2f 2f67  #3727](https://g
-0002e210: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-0002e220: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-0002e230: 7565 732f 3337 3237 2929 0a2d 2054 6865  ues/3727)).- The
-0002e240: 2043 4f4e 5452 4942 5554 494e 4720 6775   CONTRIBUTING gu
-0002e250: 6964 656c 696e 6573 2068 6176 6520 6265  idelines have be
-0002e260: 656e 2075 7064 6174 6564 2074 6f20 6d65  en updated to me
-0002e270: 6e74 696f 6e20 6f75 7220 7573 6520 6f66  ntion our use of
-0002e280: 204d 6172 6b64 6f77 6e20 616e 6420 7468   Markdown and th
-0002e290: 6174 202e 6d69 7363 2066 696c 6573 2068  at .misc files h
-0002e2a0: 6176 6520 636f 6e74 656e 742e 2028 5b5c  ave content. ([\
-0002e2b0: 2333 3733 305d 2868 7474 7073 3a2f 2f67  #3730](https://g
-0002e2c0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-0002e2d0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-0002e2e0: 7565 732f 3337 3330 2929 0a2d 2052 6566  ues/3730)).- Ref
-0002e2f0: 6572 656e 6365 2074 6865 206e 6565 6420  erence the need 
-0002e300: 666f 7220 616e 2048 5454 5020 7265 706c  for an HTTP repl
-0002e310: 6963 6174 696f 6e20 706f 7274 2077 6865  ication port whe
-0002e320: 6e20 7573 696e 6720 7468 6520 6665 6465  n using the fede
-0002e330: 7261 7469 6f6e 5f72 6561 6465 7220 776f  ration_reader wo
-0002e340: 726b 6572 2028 5b5c 2333 3733 345d 2868  rker ([\#3734](h
-0002e350: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0002e360: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-0002e370: 6170 7365 2f69 7373 7565 732f 3337 3334  apse/issues/3734
-0002e380: 2929 0a2d 2046 6978 206d 696e 6f72 2073  )).- Fix minor s
-0002e390: 7065 6c6c 696e 6720 6572 726f 7220 696e  pelling error in
-0002e3a0: 2066 6564 6572 6174 696f 6e20 636c 6965   federation clie
-0002e3b0: 6e74 2064 6f63 756d 656e 7461 7469 6f6e  nt documentation
-0002e3c0: 2e20 285b 5c23 3337 3335 5d28 6874 7470  . ([\#3735](http
-0002e3d0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-0002e3e0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-0002e3f0: 652f 6973 7375 6573 2f33 3733 3529 290a  e/issues/3735)).
-0002e400: 2d20 5265 6d6f 7665 2072 6564 756e 6461  - Remove redunda
-0002e410: 6e74 2073 7461 7465 2072 6573 6f6c 7574  nt state resolut
-0002e420: 696f 6e20 6675 6e63 7469 6f6e 2028 5b5c  ion function ([\
-0002e430: 2333 3733 375d 2868 7474 7073 3a2f 2f67  #3737](https://g
-0002e440: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-0002e450: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-0002e460: 7565 732f 3337 3337 2929 0a2d 2054 6865  ues/3737)).- The
-0002e470: 2074 6573 7420 7375 6974 6520 6e6f 7720   test suite now 
-0002e480: 7061 7373 6573 206f 6e20 506f 7374 6772  passes on Postgr
-0002e490: 6553 514c 2e20 285b 5c23 3337 3430 5d28  eSQL. ([\#3740](
-0002e4a0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-0002e4b0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-0002e4c0: 6e61 7073 652f 6973 7375 6573 2f33 3734  napse/issues/374
-0002e4d0: 3029 290a 2d20 4669 7820 4d41 5520 6361  0)).- Fix MAU ca
-0002e4e0: 6368 6520 696e 7661 6c69 6461 7469 6f6e  che invalidation
-0002e4f0: 2064 7565 2074 6f20 6d69 7373 696e 6720   due to missing 
-0002e500: 7969 656c 6420 285b 5c23 3337 3436 5d28  yield ([\#3746](
-0002e510: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-0002e520: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-0002e530: 6e61 7073 652f 6973 7375 6573 2f33 3734  napse/issues/374
-0002e540: 3629 290a 2d20 4d61 6b65 2073 7572 6520  6)).- Make sure 
-0002e550: 7468 6174 2077 6520 636c 6f73 6520 6462  that we close db
-0002e560: 2063 6f6e 6e65 6374 696f 6e73 206f 7065   connections ope
-0002e570: 6e65 6420 6475 7269 6e67 2069 6e69 7420  ned during init 
-0002e580: 285b 5c23 3337 3634 5d28 6874 7470 733a  ([\#3764](https:
-0002e590: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-0002e5a0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-0002e5b0: 6973 7375 6573 2f33 3736 3429 290a 0a0a  issues/3764))...
-0002e5c0: 5379 6e61 7073 6520 302e 3333 2e33 2028  Synapse 0.33.3 (
-0002e5d0: 3230 3138 2d30 382d 3232 290a 3d3d 3d3d  2018-08-22).====
-0002e5e0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0002e5f0: 3d3d 3d3d 3d3d 3d0a 0a42 7567 6669 7865  =======..Bugfixe
-0002e600: 730a 2d2d 2d2d 2d2d 2d2d 0a0a 2d20 4669  s.--------..- Fi
-0002e610: 7820 6275 6720 696e 7472 6f64 7563 6564  x bug introduced
-0002e620: 2069 6e20 7630 2e33 332e 3372 6331 2077   in v0.33.3rc1 w
-0002e630: 6869 6368 206d 6164 6520 7468 6520 546f  hich made the To
-0002e640: 5320 6769 7665 2061 2035 3030 2065 7272  S give a 500 err
-0002e650: 6f72 2028 5b5c 2333 3733 325d 2868 7474  or ([\#3732](htt
-0002e660: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-0002e670: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-0002e680: 7365 2f69 7373 7565 732f 3337 3332 2929  se/issues/3732))
-0002e690: 0a0a 0a53 796e 6170 7365 2030 2e33 332e  ...Synapse 0.33.
-0002e6a0: 3372 6332 2028 3230 3138 2d30 382d 3231  3rc2 (2018-08-21
-0002e6b0: 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ).==============
-0002e6c0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0002e6d0: 0a0a 4275 6766 6978 6573 0a2d 2d2d 2d2d  ..Bugfixes.-----
-0002e6e0: 2d2d 2d0a 0a2d 2046 6978 2062 7567 2069  ---..- Fix bug i
-0002e6f0: 6e20 7630 2e33 332e 3372 6331 2077 6869  n v0.33.3rc1 whi
-0002e700: 6368 2063 6175 7365 6420 696e 6669 6e69  ch caused infini
-0002e710: 7465 206c 6f6f 7073 2061 6e64 204f 4f4d  te loops and OOM
-0002e720: 7320 285b 5c23 3337 3233 5d28 6874 7470  s ([\#3723](http
-0002e730: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-0002e740: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-0002e750: 652f 6973 7375 6573 2f33 3732 3329 290a  e/issues/3723)).
-0002e760: 0a0a 5379 6e61 7073 6520 302e 3333 2e33  ..Synapse 0.33.3
-0002e770: 7263 3120 2832 3031 382d 3038 2d32 3129  rc1 (2018-08-21)
-0002e780: 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  .===============
-0002e790: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a  ===============.
-0002e7a0: 0a46 6561 7475 7265 730a 2d2d 2d2d 2d2d  .Features.------
-0002e7b0: 2d2d 0a0a 2d20 4164 6420 7375 7070 6f72  --..- Add suppor
-0002e7c0: 7420 666f 7220 7468 6520 534e 4920 6578  t for the SNI ex
-0002e7d0: 7465 6e73 696f 6e20 746f 2066 6564 6572  tension to feder
-0002e7e0: 6174 696f 6e20 544c 5320 636f 6e6e 6563  ation TLS connec
-0002e7f0: 7469 6f6e 732e 2054 6861 6e6b 7320 746f  tions. Thanks to
-0002e800: 2040 766f 6a65 726f 656e 2120 285b 5c23   @vojeroen! ([\#
-0002e810: 3334 3339 5d28 6874 7470 733a 2f2f 6769  3439](https://gi
-0002e820: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-0002e830: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-0002e840: 6573 2f33 3433 3929 290a 2d20 4164 6420  es/3439)).- Add 
-0002e850: 2f5f 6d65 6469 612f 7230 2f63 6f6e 6669  /_media/r0/confi
-0002e860: 6720 285b 5c23 3331 3834 5d28 6874 7470  g ([\#3184](http
-0002e870: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-0002e880: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-0002e890: 652f 6973 7375 6573 2f33 3138 3429 290a  e/issues/3184)).
-0002e8a0: 2d20 7370 6565 6420 7570 202f 6d65 6d62  - speed up /memb
-0002e8b0: 6572 7320 4150 4920 616e 6420 6164 6420  ers API and add 
-0002e8c0: 6061 7460 2061 6e64 2060 6d65 6d62 6572  `at` and `member
-0002e8d0: 7368 6970 6020 7061 7261 6d73 2061 7320  ship` params as 
-0002e8e0: 7065 7220 4d53 4331 3232 3720 285b 5c23  per MSC1227 ([\#
-0002e8f0: 3335 3638 5d28 6874 7470 733a 2f2f 6769  3568](https://gi
-0002e900: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-0002e910: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-0002e920: 6573 2f33 3536 3829 290a 2d20 696d 706c  es/3568)).- impl
-0002e930: 656d 656e 7420 6073 756d 6d61 7279 6020  ement `summary` 
-0002e940: 626c 6f63 6b20 696e 202f 7379 6e63 2072  block in /sync r
-0002e950: 6573 706f 6e73 6520 6173 2070 6572 204d  esponse as per M
-0002e960: 5343 3638 3820 285b 5c23 3335 3734 5d28  SC688 ([\#3574](
-0002e970: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-0002e980: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-0002e990: 6e61 7073 652f 6973 7375 6573 2f33 3537  napse/issues/357
-0002e9a0: 3429 290a 2d20 4164 6420 6c61 7a79 2d6c  4)).- Add lazy-l
-0002e9b0: 6f61 6469 6e67 2073 7570 706f 7274 2074  oading support t
-0002e9c0: 6f20 2f6d 6573 7361 6765 7320 6173 2070  o /messages as p
-0002e9d0: 6572 204d 5343 3132 3237 2028 5b5c 2333  er MSC1227 ([\#3
-0002e9e0: 3538 395d 2868 7474 7073 3a2f 2f67 6974  589](https://git
-0002e9f0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-0002ea00: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-0002ea10: 732f 3335 3839 2929 0a2d 2041 6464 2061  s/3589)).- Add a
-0002ea20: 6269 6c69 7479 2074 6f20 6c69 6d69 7420  bility to limit 
-0002ea30: 6e75 6d62 6572 206f 6620 6d6f 6e74 686c  number of monthl
-0002ea40: 7920 6163 7469 7665 2075 7365 7273 206f  y active users o
-0002ea50: 6e20 7468 6520 7365 7276 6572 2028 5b5c  n the server ([\
-0002ea60: 2333 3633 335d 2868 7474 7073 3a2f 2f67  #3633](https://g
-0002ea70: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-0002ea80: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-0002ea90: 7565 732f 3336 3333 2929 0a2d 2053 7570  ues/3633)).- Sup
-0002eaa0: 706f 7274 206d 6f72 6520 6665 6465 7261  port more federa
-0002eab0: 7469 6f6e 2065 6e64 706f 696e 7473 206f  tion endpoints o
-0002eac0: 6e20 776f 726b 6572 7320 285b 5c23 3336  n workers ([\#36
-0002ead0: 3533 5d28 6874 7470 733a 2f2f 6769 7468  53](https://gith
-0002eae0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-0002eaf0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-0002eb00: 2f33 3635 3329 290a 2d20 4261 7369 6320  /3653)).- Basic 
-0002eb10: 7375 7070 6f72 7420 666f 7220 726f 6f6d  support for room
-0002eb20: 2076 6572 7369 6f6e 696e 6720 285b 5c23   versioning ([\#
-0002eb30: 3336 3534 5d28 6874 7470 733a 2f2f 6769  3654](https://gi
-0002eb40: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-0002eb50: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-0002eb60: 6573 2f33 3635 3429 290a 2d20 4162 696c  es/3654)).- Abil
-0002eb70: 6974 7920 746f 2064 6973 6162 6c65 2063  ity to disable c
-0002eb80: 6c69 656e 742f 7365 7276 6572 2053 796e  lient/server Syn
-0002eb90: 6170 7365 2076 6961 2063 6f6e 6620 746f  apse via conf to
-0002eba0: 6767 6c65 2028 5b5c 2333 3635 355d 2868  ggle ([\#3655](h
-0002ebb0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0002ebc0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-0002ebd0: 6170 7365 2f69 7373 7565 732f 3336 3535  apse/issues/3655
-0002ebe0: 2929 0a2d 2041 6269 6c69 7479 2074 6f20  )).- Ability to 
-0002ebf0: 7768 6974 656c 6973 7420 7370 6563 6966  whitelist specif
-0002ec00: 6963 2074 6872 6565 7069 6473 2061 6761  ic threepids aga
-0002ec10: 696e 7374 206d 6f6e 7468 6c79 2061 6374  inst monthly act
-0002ec20: 6976 6520 7573 6572 206c 696d 6974 696e  ive user limitin
-0002ec30: 6720 285b 5c23 3336 3632 5d28 6874 7470  g ([\#3662](http
-0002ec40: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-0002ec50: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-0002ec60: 652f 6973 7375 6573 2f33 3636 3229 290a  e/issues/3662)).
-0002ec70: 2d20 4164 6420 736f 6d65 206d 6574 7269  - Add some metri
-0002ec80: 6373 2066 6f72 2074 6865 2061 7070 7365  cs for the appse
-0002ec90: 7276 6963 6520 616e 6420 6665 6465 7261  rvice and federa
-0002eca0: 7469 6f6e 2065 7665 6e74 2073 656e 6469  tion event sendi
-0002ecb0: 6e67 206c 6f6f 7073 2028 5b5c 2333 3636  ng loops ([\#366
-0002ecc0: 345d 2868 7474 7073 3a2f 2f67 6974 6875  4](https://githu
-0002ecd0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-0002ece0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-0002ecf0: 3336 3634 2929 0a2d 2057 6865 7265 2073  3664)).- Where s
-0002ed00: 6572 7665 7220 6973 2064 6973 6162 6c65  erver is disable
-0002ed10: 642c 2062 6c6f 636b 2061 6269 6c69 7479  d, block ability
-0002ed20: 2066 6f72 206c 6f63 6b65 6420 6f75 7420   for locked out 
-0002ed30: 7573 6572 7320 746f 2072 6561 6420 6e65  users to read ne
-0002ed40: 7720 6d65 7373 6167 6573 2028 5b5c 2333  w messages ([\#3
-0002ed50: 3637 305d 2868 7474 7073 3a2f 2f67 6974  670](https://git
-0002ed60: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-0002ed70: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-0002ed80: 732f 3336 3730 2929 0a2d 2073 6574 2061  s/3670)).- set a
-0002ed90: 646d 696e 2075 7269 2076 6961 2063 6f6e  dmin uri via con
-0002eda0: 6669 672c 2074 6f20 6265 2075 7365 6420  fig, to be used 
-0002edb0: 696e 2065 7272 6f72 206d 6573 7361 6765  in error message
-0002edc0: 7320 7768 6572 6520 7468 6520 7573 6572  s where the user
-0002edd0: 2073 686f 756c 6420 636f 6e74 6163 7420   should contact 
-0002ede0: 7468 6520 6164 6d69 6e69 7374 7261 746f  the administrato
-0002edf0: 7220 285b 5c23 3336 3837 5d28 6874 7470  r ([\#3687](http
-0002ee00: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-0002ee10: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-0002ee20: 652f 6973 7375 6573 2f33 3638 3729 290a  e/issues/3687)).
-0002ee30: 2d20 5379 6e61 7073 6527 7320 7072 6573  - Synapse's pres
-0002ee40: 656e 6365 2066 756e 6374 696f 6e61 6c69  ence functionali
-0002ee50: 7479 2063 616e 206e 6f77 2062 6520 6469  ty can now be di
-0002ee60: 7361 626c 6564 2077 6974 6820 7468 6520  sabled with the 
-0002ee70: 2275 7365 5f70 7265 7365 6e63 6522 2063  "use_presence" c
-0002ee80: 6f6e 6669 6775 7261 7469 6f6e 206f 7074  onfiguration opt
-0002ee90: 696f 6e2e 2028 5b5c 2333 3639 345d 2868  ion. ([\#3694](h
-0002eea0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0002eeb0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-0002eec0: 6170 7365 2f69 7373 7565 732f 3336 3934  apse/issues/3694
-0002eed0: 2929 0a2d 2046 6f72 2072 6573 6f75 7263  )).- For resourc
-0002eee0: 6520 6c69 6d69 7420 626c 6f63 6b65 6420  e limit blocked 
-0002eef0: 7573 6572 732c 2070 7265 7665 6e74 2077  users, prevent w
-0002ef00: 7269 7469 6e67 2069 6e74 6f20 726f 6f6d  riting into room
-0002ef10: 7320 285b 5c23 3337 3038 5d28 6874 7470  s ([\#3708](http
-0002ef20: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-0002ef30: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-0002ef40: 652f 6973 7375 6573 2f33 3730 3829 290a  e/issues/3708)).
-0002ef50: 0a0a 4275 6766 6978 6573 0a2d 2d2d 2d2d  ..Bugfixes.-----
-0002ef60: 2d2d 2d0a 0a2d 2046 6978 206f 6363 6173  ---..- Fix occas
-0002ef70: 696f 6e61 6c20 676c 6974 6368 6573 2069  ional glitches i
-0002ef80: 6e20 7468 6520 7379 6e61 7073 655f 6576  n the synapse_ev
-0002ef90: 656e 745f 7065 7273 6973 7465 645f 706f  ent_persisted_po
-0002efa0: 7369 7469 6f6e 206d 6574 7269 6320 285b  sition metric ([
-0002efb0: 5c23 3336 3538 5d28 6874 7470 733a 2f2f  \#3658](https://
-0002efc0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-0002efd0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-0002efe0: 7375 6573 2f33 3635 3829 290a 2d20 4669  sues/3658)).- Fi
-0002eff0: 7820 6275 6720 6f6e 2064 656c 6574 696e  x bug on deletin
-0002f000: 6720 3370 6964 2077 6865 6e20 7573 696e  g 3pid when usin
-0002f010: 6720 6964 656e 7469 7479 2073 6572 7665  g identity serve
-0002f020: 7273 2074 6861 7420 646f 6e27 7420 7375  rs that don't su
-0002f030: 7070 6f72 7420 756e 6269 6e64 2041 5049  pport unbind API
-0002f040: 2028 5b5c 2333 3636 315d 2868 7474 7073   ([\#3661](https
-0002f050: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-0002f060: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-0002f070: 2f69 7373 7565 732f 3336 3631 2929 0a2d  /issues/3661)).-
-0002f080: 204d 616b 6520 7468 6520 7465 7374 7320   Make the tests 
-0002f090: 7061 7373 206f 6e20 5477 6973 7465 6420  pass on Twisted 
-0002f0a0: 3c20 3138 2e37 2e30 2028 5b5c 2333 3637  < 18.7.0 ([\#367
-0002f0b0: 365d 2868 7474 7073 3a2f 2f67 6974 6875  6](https://githu
-0002f0c0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-0002f0d0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-0002f0e0: 3336 3736 2929 0a2d 2044 6f6e e280 9974  3676)).- Don...t
-0002f0f0: 2073 6869 7020 7265 6361 7074 6368 615f   ship recaptcha_
-0002f100: 616a 6178 2e6a 732c 2075 7365 2069 7420  ajax.js, use it 
-0002f110: 6469 7265 6374 6c79 2066 726f 6d20 476f  directly from Go
-0002f120: 6f67 6c65 2028 5b5c 2333 3637 375d 2868  ogle ([\#3677](h
-0002f130: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0002f140: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-0002f150: 6170 7365 2f69 7373 7565 732f 3336 3737  apse/issues/3677
-0002f160: 2929 0a2d 2046 6978 6573 2074 6573 745f  )).- Fixes test_
-0002f170: 7265 6170 5f6d 6f6e 7468 6c79 5f61 6374  reap_monthly_act
-0002f180: 6976 655f 7573 6572 7320 736f 2069 7420  ive_users so it 
-0002f190: 7061 7373 6573 2075 6e64 6572 2070 6f73  passes under pos
-0002f1a0: 7467 7265 7320 285b 5c23 3336 3831 5d28  tgres ([\#3681](
-0002f1b0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-0002f1c0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-0002f1d0: 6e61 7073 652f 6973 7375 6573 2f33 3638  napse/issues/368
-0002f1e0: 3129 290a 2d20 4669 7820 6d61 7520 626c  1)).- Fix mau bl
-0002f1f0: 6f63 6b69 6e67 2063 616c 756c 6174 696f  ocking calulatio
-0002f200: 6e20 6275 6720 6f6e 206c 6f67 696e 2028  n bug on login (
-0002f210: 5b5c 2333 3638 395d 2868 7474 7073 3a2f  [\#3689](https:/
-0002f220: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-0002f230: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-0002f240: 7373 7565 732f 3336 3839 2929 0a2d 2046  ssues/3689)).- F
-0002f250: 6978 206d 6973 7369 6e67 2079 6965 6c64  ix missing yield
-0002f260: 2069 6e20 7379 6e61 7073 652e 7374 6f72   in synapse.stor
-0002f270: 6167 652e 6d6f 6e74 686c 795f 6163 7469  age.monthly_acti
-0002f280: 7665 5f75 7365 7273 2e69 6e69 7469 616c  ve_users.initial
-0002f290: 6973 655f 7265 7365 7276 6564 5f75 7365  ise_reserved_use
-0002f2a0: 7273 2028 5b5c 2333 3639 325d 2868 7474  rs ([\#3692](htt
-0002f2b0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-0002f2c0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-0002f2d0: 7365 2f69 7373 7565 732f 3336 3932 2929  se/issues/3692))
-0002f2e0: 0a2d 2049 6d70 726f 7665 2048 5454 5020  .- Improve HTTP 
-0002f2f0: 7265 7175 6573 7420 6c6f 6767 696e 6720  request logging 
-0002f300: 746f 2069 6e63 6c75 6465 2061 6c6c 2072  to include all r
-0002f310: 6571 7565 7374 7320 285b 5c23 3337 3030  equests ([\#3700
-0002f320: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0002f330: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-0002f340: 7379 6e61 7073 652f 6973 7375 6573 2f33  synapse/issues/3
-0002f350: 3730 3029 290a 2d20 4176 6f69 6420 7469  700)).- Avoid ti
-0002f360: 6d69 6e67 206f 7574 2072 6571 7565 7374  ming out request
-0002f370: 7320 7768 696c 6520 7765 2061 7265 2073  s while we are s
-0002f380: 7472 6561 6d69 6e67 2062 6163 6b20 7468  treaming back th
-0002f390: 6520 7265 7370 6f6e 7365 2028 5b5c 2333  e response ([\#3
-0002f3a0: 3730 315d 2868 7474 7073 3a2f 2f67 6974  701](https://git
-0002f3b0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-0002f3c0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-0002f3d0: 732f 3337 3031 2929 0a2d 2053 7570 706f  s/3701)).- Suppo
-0002f3e0: 7274 206d 6f72 6520 6665 6465 7261 7469  rt more federati
-0002f3f0: 6f6e 2065 6e64 706f 696e 7473 206f 6e20  on endpoints on 
-0002f400: 776f 726b 6572 7320 285b 5c23 3337 3035  workers ([\#3705
-0002f410: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-0002f420: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-0002f430: 7379 6e61 7073 652f 6973 7375 6573 2f33  synapse/issues/3
-0002f440: 3730 3529 2c20 5b5c 2333 3731 335d 2868  705), [\#3713](h
-0002f450: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0002f460: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-0002f470: 6170 7365 2f69 7373 7565 732f 3337 3133  apse/issues/3713
-0002f480: 2929 0a2d 2046 6978 2022 5374 6172 7469  )).- Fix "Starti
-0002f490: 6e67 2064 6220 7478 6e20 2767 6574 5f61  ng db txn 'get_a
-0002f4a0: 6c6c 5f75 7064 6174 6564 5f72 6563 6569  ll_updated_recei
-0002f4b0: 7074 7327 2066 726f 6d20 7365 6e74 696e  pts' from sentin
-0002f4c0: 656c 2063 6f6e 7465 7874 2220 7761 726e  el context" warn
-0002f4d0: 696e 6720 285b 5c23 3337 3130 5d28 6874  ing ([\#3710](ht
-0002f4e0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0002f4f0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-0002f500: 7073 652f 6973 7375 6573 2f33 3731 3029  pse/issues/3710)
-0002f510: 290a 2d20 4669 7820 6275 6720 7768 6572  ).- Fix bug wher
-0002f520: 6520 6073 7461 7465 5f63 6163 6865 6020  e `state_cache` 
-0002f530: 6361 6368 6520 6661 6374 6f72 2069 676e  cache factor ign
-0002f540: 6f72 6564 2065 6e76 6972 6f6e 6d65 6e74  ored environment
-0002f550: 2076 6172 6961 626c 6573 2028 5b5c 2333   variables ([\#3
-0002f560: 3731 395d 2868 7474 7073 3a2f 2f67 6974  719](https://git
-0002f570: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-0002f580: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-0002f590: 732f 3337 3139 2929 0a0a 0a44 6570 7265  s/3719))...Depre
-0002f5a0: 6361 7469 6f6e 7320 616e 6420 5265 6d6f  cations and Remo
-0002f5b0: 7661 6c73 0a2d 2d2d 2d2d 2d2d 2d2d 2d2d  vals.-----------
-0002f5c0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 0a0a  --------------..
-0002f5d0: 2d20 5468 6520 5368 6172 6564 2d53 6563  - The Shared-Sec
-0002f5e0: 7265 7420 7265 6769 7374 7261 7469 6f6e  ret registration
-0002f5f0: 206d 6574 686f 6420 6f66 2074 6865 206c   method of the l
-0002f600: 6567 6163 7920 7631 2f72 6567 6973 7465  egacy v1/registe
-0002f610: 7220 5245 5354 2065 6e64 706f 696e 7420  r REST endpoint 
-0002f620: 6861 7320 6265 656e 2072 656d 6f76 6564  has been removed
-0002f630: 2e20 466f 7220 6120 7265 706c 6163 656d  . For a replacem
-0002f640: 656e 742c 2070 6c65 6173 6520 7365 6520  ent, please see 
-0002f650: 5b74 6865 2061 646d 696e 2f72 6567 6973  [the admin/regis
-0002f660: 7465 7220 4150 4920 646f 6375 6d65 6e74  ter API document
-0002f670: 6174 696f 6e5d 2868 7474 7073 3a2f 2f67  ation](https://g
-0002f680: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-0002f690: 2d6f 7267 2f73 796e 6170 7365 2f62 6c6f  -org/synapse/blo
-0002f6a0: 622f 6d61 7374 6572 2f64 6f63 732f 6164  b/master/docs/ad
-0002f6b0: 6d69 6e5f 6170 692f 7265 6769 7374 6572  min_api/register
-0002f6c0: 5f61 7069 2e72 7374 292e 2028 5b5c 2333  _api.rst). ([\#3
-0002f6d0: 3730 335d 2868 7474 7073 3a2f 2f67 6974  703](https://git
-0002f6e0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-0002f6f0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-0002f700: 732f 3337 3033 2929 0a0a 0a49 6e74 6572  s/3703))...Inter
-0002f710: 6e61 6c20 4368 616e 6765 730a 2d2d 2d2d  nal Changes.----
-0002f720: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 0a0a 2d20  ------------..- 
-0002f730: 5468 6520 7465 7374 2073 7569 7465 206e  The test suite n
-0002f740: 6f77 2063 616e 2072 756e 2075 6e64 6572  ow can run under
-0002f750: 2050 6f73 7467 7265 5351 4c2e 2028 5b5c   PostgreSQL. ([\
-0002f760: 2333 3432 335d 2868 7474 7073 3a2f 2f67  #3423](https://g
-0002f770: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-0002f780: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-0002f790: 7565 732f 3334 3233 2929 0a2d 2052 6566  ues/3423)).- Ref
-0002f7a0: 6163 746f 7220 4854 5450 2072 6570 6c69  actor HTTP repli
-0002f7b0: 6361 7469 6f6e 2065 6e64 706f 696e 7473  cation endpoints
-0002f7c0: 2074 6f20 7265 6475 6365 2063 6f64 6520   to reduce code 
-0002f7d0: 6475 706c 6963 6174 696f 6e20 285b 5c23  duplication ([\#
-0002f7e0: 3336 3332 5d28 6874 7470 733a 2f2f 6769  3632](https://gi
-0002f7f0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-0002f800: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-0002f810: 6573 2f33 3633 3229 290a 2d20 5465 7374  es/3632)).- Test
-0002f820: 7320 6e6f 7720 636f 7272 6563 746c 7920  s now correctly 
-0002f830: 6578 6563 7574 6520 6f6e 2050 7974 686f  execute on Pytho
-0002f840: 6e20 332e 2028 5b5c 2333 3634 375d 2868  n 3. ([\#3647](h
-0002f850: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-0002f860: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-0002f870: 6170 7365 2f69 7373 7565 732f 3336 3437  apse/issues/3647
-0002f880: 2929 0a2d 2053 7974 6573 7473 2063 616e  )).- Sytests can
-0002f890: 206e 6f77 2062 6520 7275 6e20 696e 7369   now be run insi
-0002f8a0: 6465 2061 2044 6f63 6b65 7220 636f 6e74  de a Docker cont
-0002f8b0: 6169 6e65 722e 2028 5b5c 2333 3636 305d  ainer. ([\#3660]
-0002f8c0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0002f8d0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-0002f8e0: 796e 6170 7365 2f69 7373 7565 732f 3336  ynapse/issues/36
-0002f8f0: 3630 2929 0a2d 2050 6f72 7420 6f76 6572  60)).- Port over
-0002f900: 2065 6e6f 7567 6820 746f 2050 7974 686f   enough to Pytho
-0002f910: 6e20 3320 746f 2061 6c6c 6f77 2074 6865  n 3 to allow the
-0002f920: 2073 7974 6573 7473 2074 6f20 7374 6172   sytests to star
-0002f930: 742e 2028 5b5c 2333 3636 385d 2868 7474  t. ([\#3668](htt
-0002f940: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-0002f950: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-0002f960: 7365 2f69 7373 7565 732f 3336 3638 2929  se/issues/3668))
-0002f970: 0a2d 2055 7064 6174 6520 646f 636b 6572  .- Update docker
-0002f980: 2062 6173 6520 696d 6167 6520 6672 6f6d   base image from
-0002f990: 2061 6c70 696e 6520 332e 3720 746f 2033   alpine 3.7 to 3
-0002f9a0: 2e38 2e20 285b 5c23 3336 3639 5d28 6874  .8. ([\#3669](ht
-0002f9b0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-0002f9c0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-0002f9d0: 7073 652f 6973 7375 6573 2f33 3636 3929  pse/issues/3669)
-0002f9e0: 290a 2d20 5265 6e61 6d65 2073 796e 6170  ).- Rename synap
-0002f9f0: 7365 2e75 7469 6c2e 6173 796e 6320 746f  se.util.async to
-0002fa00: 2073 796e 6170 7365 2e75 7469 6c2e 6173   synapse.util.as
-0002fa10: 796e 635f 6865 6c70 6572 7320 746f 206d  ync_helpers to m
-0002fa20: 6974 6967 6174 6520 6173 796e 6320 6265  itigate async be
-0002fa30: 636f 6d69 6e67 2061 206b 6579 776f 7264  coming a keyword
-0002fa40: 206f 6e20 5079 7468 6f6e 2033 2e37 2e20   on Python 3.7. 
-0002fa50: 285b 5c23 3336 3738 5d28 6874 7470 733a  ([\#3678](https:
-0002fa60: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-0002fa70: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-0002fa80: 6973 7375 6573 2f33 3637 3829 290a 2d20  issues/3678)).- 
-0002fa90: 5379 6e61 7073 6527 7320 7465 7374 7320  Synapse's tests 
-0002faa0: 6172 6520 6e6f 7720 666f 726d 6174 7465  are now formatte
-0002fab0: 6420 7769 7468 2074 6865 2062 6c61 636b  d with the black
-0002fac0: 2061 7574 6f66 6f72 6d61 7474 6572 2e20   autoformatter. 
-0002fad0: 285b 5c23 3336 3739 5d28 6874 7470 733a  ([\#3679](https:
-0002fae0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-0002faf0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-0002fb00: 6973 7375 6573 2f33 3637 3929 290a 2d20  issues/3679)).- 
-0002fb10: 496d 706c 656d 656e 7465 6420 6120 6e65  Implemented a ne
-0002fb20: 7720 7465 7374 696e 6720 6261 7365 2063  w testing base c
-0002fb30: 6c61 7373 2074 6f20 7265 6475 6365 2074  lass to reduce t
-0002fb40: 6573 7420 626f 696c 6572 706c 6174 652e  est boilerplate.
-0002fb50: 2028 5b5c 2333 3638 345d 2868 7474 7073   ([\#3684](https
-0002fb60: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-0002fb70: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-0002fb80: 2f69 7373 7565 732f 3336 3834 2929 0a2d  /issues/3684)).-
-0002fb90: 2052 656e 616d 6520 4d41 5520 7072 6f6d   Rename MAU prom
-0002fba0: 6574 6865 7573 206d 6574 7269 6373 2028  etheus metrics (
-0002fbb0: 5b5c 2333 3639 305d 2868 7474 7073 3a2f  [\#3690](https:/
-0002fbc0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-0002fbd0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-0002fbe0: 7373 7565 732f 3336 3930 2929 0a2d 2061  ssues/3690)).- a
-0002fbf0: 6464 206e 6577 2065 7272 6f72 2074 7970  dd new error typ
-0002fc00: 6520 5265 736f 7572 6365 4c69 6d69 7420  e ResourceLimit 
-0002fc10: 285b 5c23 3337 3037 5d28 6874 7470 733a  ([\#3707](https:
-0002fc20: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-0002fc30: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-0002fc40: 6973 7375 6573 2f33 3730 3729 290a 2d20  issues/3707)).- 
-0002fc50: 4c6f 6763 6f6e 7465 7874 7320 666f 7220  Logcontexts for 
-0002fc60: 7265 706c 6963 6174 696f 6e20 636f 6d6d  replication comm
-0002fc70: 616e 6420 6861 6e64 6c65 7273 2028 5b5c  and handlers ([\
-0002fc80: 2333 3730 395d 2868 7474 7073 3a2f 2f67  #3709](https://g
-0002fc90: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-0002fca0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-0002fcb0: 7565 732f 3337 3039 2929 0a2d 2055 7064  ues/3709)).- Upd
-0002fcc0: 6174 6520 6164 6d69 6e20 7265 6769 7374  ate admin regist
-0002fcd0: 6572 2041 5049 2064 6f63 756d 656e 7461  er API documenta
-0002fce0: 7469 6f6e 2074 6f20 7265 6665 7265 6e63  tion to referenc
-0002fcf0: 6520 6120 7265 616c 2075 7365 7220 4944  e a real user ID
-0002fd00: 2e20 285b 5c23 3337 3132 5d28 6874 7470  . ([\#3712](http
-0002fd10: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-0002fd20: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-0002fd30: 652f 6973 7375 6573 2f33 3731 3229 290a  e/issues/3712)).
-0002fd40: 0a0a 5379 6e61 7073 6520 302e 3333 2e32  ..Synapse 0.33.2
-0002fd50: 2028 3230 3138 2d30 382d 3039 290a 3d3d   (2018-08-09).==
-0002fd60: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0002fd70: 3d3d 3d3d 3d3d 3d3d 3d0a 0a4e 6f20 7369  =========..No si
-0002fd80: 676e 6966 6963 616e 7420 6368 616e 6765  gnificant change
-0002fd90: 732e 0a0a 0a53 796e 6170 7365 2030 2e33  s....Synapse 0.3
-0002fda0: 332e 3272 6331 2028 3230 3138 2d30 382d  3.2rc1 (2018-08-
-0002fdb0: 3037 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  07).============
-0002fdc0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0002fdd0: 3d3d 0a0a 4665 6174 7572 6573 0a2d 2d2d  ==..Features.---
-0002fde0: 2d2d 2d2d 2d0a 0a2d 2061 6464 2073 7570  -----..- add sup
-0002fdf0: 706f 7274 2066 6f72 2074 6865 206c 617a  port for the laz
-0002fe00: 795f 6c6f 6164 6564 5f6d 656d 6265 7273  y_loaded_members
-0002fe10: 2066 696c 7465 7220 6173 2070 6572 204d   filter as per M
-0002fe20: 5343 3132 3237 2028 5b5c 2332 3937 305d  SC1227 ([\#2970]
-0002fe30: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0002fe40: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-0002fe50: 796e 6170 7365 2f69 7373 7565 732f 3239  ynapse/issues/29
-0002fe60: 3730 2929 0a2d 2061 6464 2073 7570 706f  70)).- add suppo
-0002fe70: 7274 2066 6f72 2074 6865 2069 6e63 6c75  rt for the inclu
-0002fe80: 6465 5f72 6564 756e 6461 6e74 5f6d 656d  de_redundant_mem
-0002fe90: 6265 7273 2066 696c 7465 7220 7061 7261  bers filter para
-0002fea0: 6d20 6173 2070 6572 204d 5343 3132 3237  m as per MSC1227
-0002feb0: 2028 5b5c 2333 3333 315d 2868 7474 7073   ([\#3331](https
-0002fec0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-0002fed0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-0002fee0: 2f69 7373 7565 732f 3333 3331 2929 0a2d  /issues/3331)).-
-0002fef0: 2041 6464 206d 6574 7269 6373 2074 6f20   Add metrics to 
-0002ff00: 7472 6163 6b20 7265 736f 7572 6365 2075  track resource u
-0002ff10: 7361 6765 2062 7920 6261 636b 6772 6f75  sage by backgrou
-0002ff20: 6e64 2070 726f 6365 7373 6573 2028 5b5c  nd processes ([\
-0002ff30: 2333 3535 335d 2868 7474 7073 3a2f 2f67  #3553](https://g
-0002ff40: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-0002ff50: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-0002ff60: 7565 732f 3335 3533 292c 205b 5c23 3335  ues/3553), [\#35
-0002ff70: 3536 5d28 6874 7470 733a 2f2f 6769 7468  56](https://gith
-0002ff80: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-0002ff90: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-0002ffa0: 2f33 3535 3629 2c20 5b5c 2333 3630 345d  /3556), [\#3604]
-0002ffb0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-0002ffc0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-0002ffd0: 796e 6170 7365 2f69 7373 7565 732f 3336  ynapse/issues/36
-0002ffe0: 3034 292c 205b 5c23 3336 3130 5d28 6874  04), [\#3610](ht
-0002fff0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00030000: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00030010: 7073 652f 6973 7375 6573 2f33 3631 3029  pse/issues/3610)
-00030020: 290a 2d20 4164 6420 6063 6f64 6560 206c  ).- Add `code` l
-00030030: 6162 656c 2074 6f20 6073 796e 6170 7365  abel to `synapse
-00030040: 5f68 7474 705f 7365 7276 6572 5f72 6573  _http_server_res
-00030050: 706f 6e73 655f 7469 6d65 5f73 6563 6f6e  ponse_time_secon
-00030060: 6473 6020 7072 6f6d 6574 6865 7573 206d  ds` prometheus m
-00030070: 6574 7269 6320 285b 5c23 3335 3534 5d28  etric ([\#3554](
-00030080: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00030090: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-000300a0: 6e61 7073 652f 6973 7375 6573 2f33 3535  napse/issues/355
-000300b0: 3429 290a 2d20 4164 6420 7375 7070 6f72  4)).- Add suppor
-000300c0: 7420 666f 7220 636c 6965 6e74 5f72 6561  t for client_rea
-000300d0: 6465 7220 746f 2068 616e 646c 6520 6d6f  der to handle mo
-000300e0: 7265 2041 5049 7320 285b 5c23 3335 3535  re APIs ([\#3555
-000300f0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00030100: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00030110: 7379 6e61 7073 652f 6973 7375 6573 2f33  synapse/issues/3
-00030120: 3535 3529 2c20 5b5c 2333 3539 375d 2868  555), [\#3597](h
-00030130: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00030140: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00030150: 6170 7365 2f69 7373 7565 732f 3335 3937  apse/issues/3597
-00030160: 2929 0a2d 206d 616b 6520 7468 6520 2f63  )).- make the /c
-00030170: 6f6e 7465 7874 2041 5049 2066 696c 7465  ontext API filte
-00030180: 7220 2620 6c61 7a79 2d6c 6f61 6420 6177  r & lazy-load aw
-00030190: 6172 6520 6173 2070 6572 204d 5343 3132  are as per MSC12
-000301a0: 3237 2028 5b5c 2333 3536 375d 2868 7474  27 ([\#3567](htt
-000301b0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-000301c0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-000301d0: 7365 2f69 7373 7565 732f 3335 3637 2929  se/issues/3567))
-000301e0: 0a2d 2041 6464 2061 6269 6c69 7479 2074  .- Add ability t
-000301f0: 6f20 6c69 6d69 7420 6e75 6d62 6572 206f  o limit number o
-00030200: 6620 6d6f 6e74 686c 7920 6163 7469 7665  f monthly active
-00030210: 2075 7365 7273 206f 6e20 7468 6520 7365   users on the se
-00030220: 7276 6572 2028 5b5c 2333 3633 305d 2868  rver ([\#3630](h
-00030230: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00030240: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00030250: 6170 7365 2f69 7373 7565 732f 3336 3330  apse/issues/3630
-00030260: 2929 0a2d 2057 6865 6e20 7765 2066 6169  )).- When we fai
-00030270: 6c20 746f 206a 6f69 6e20 6120 726f 6f6d  l to join a room
-00030280: 206f 7665 7220 6665 6465 7261 7469 6f6e   over federation
-00030290: 2c20 7061 7373 2074 6865 2065 7272 6f72  , pass the error
-000302a0: 2063 6f64 6520 6261 636b 2074 6f20 7468   code back to th
-000302b0: 6520 636c 6965 6e74 2e20 285b 5c23 3336  e client. ([\#36
-000302c0: 3339 5d28 6874 7470 733a 2f2f 6769 7468  39](https://gith
-000302d0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-000302e0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-000302f0: 2f33 3633 3929 290a 2d20 4164 6420 6120  /3639)).- Add a 
-00030300: 6e65 7720 2f61 646d 696e 2f72 6567 6973  new /admin/regis
-00030310: 7465 7220 4150 4920 666f 7220 6e6f 6e2d  ter API for non-
-00030320: 696e 7465 7261 6374 6976 656c 7920 6372  interactively cr
-00030330: 6561 7469 6e67 2075 7365 7273 2e20 285b  eating users. ([
-00030340: 5c23 3334 3135 5d28 6874 7470 733a 2f2f  \#3415](https://
-00030350: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-00030360: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00030370: 7375 6573 2f33 3431 3529 290a 0a0a 4275  sues/3415))...Bu
-00030380: 6766 6978 6573 0a2d 2d2d 2d2d 2d2d 2d0a  gfixes.--------.
-00030390: 0a2d 204d 616b 6520 2f64 6972 6563 746f  .- Make /directo
-000303a0: 7279 2f6c 6973 7420 4150 4920 7265 7475  ry/list API retu
-000303b0: 726e 2034 3034 2066 6f72 2072 6f6f 6d20  rn 404 for room 
-000303c0: 6e6f 7420 666f 756e 6420 696e 7374 6561  not found instea
-000303d0: 6420 6f66 2034 3030 2e20 5468 616e 6b73  d of 400. Thanks
-000303e0: 2074 6f20 4066 757a 7a6d 7a21 2028 5b5c   to @fuzzmz! ([\
-000303f0: 2333 3632 305d 2868 7474 7073 3a2f 2f67  #3620](https://g
-00030400: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-00030410: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-00030420: 7565 732f 3336 3230 2929 0a2d 2044 6566  ues/3620)).- Def
-00030430: 6175 6c74 2069 6e76 6974 6572 5f64 6973  ault inviter_dis
-00030440: 706c 6179 5f6e 616d 6520 746f 206d 7869  play_name to mxi
-00030450: 6420 666f 7220 656d 6169 6c20 696e 7669  d for email invi
-00030460: 7465 7320 285b 5c23 3333 3931 5d28 6874  tes ([\#3391](ht
-00030470: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00030480: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00030490: 7073 652f 6973 7375 6573 2f33 3339 3129  pse/issues/3391)
-000304a0: 290a 2d20 446f 6e27 7420 6765 6e65 7261  ).- Don't genera
-000304b0: 7465 2054 5552 4e20 6372 6564 656e 7469  te TURN credenti
-000304c0: 616c 7320 6966 206e 6f20 5455 524e 2063  als if no TURN c
-000304d0: 6f6e 6669 6720 6f70 7469 6f6e 7320 6172  onfig options ar
-000304e0: 6520 7365 7420 285b 5c23 3335 3134 5d28  e set ([\#3514](
-000304f0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00030500: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-00030510: 6e61 7073 652f 6973 7375 6573 2f33 3531  napse/issues/351
-00030520: 3429 290a 2d20 436f 7272 6563 746c 7920  4)).- Correctly 
-00030530: 616e 6e6f 756e 6365 2064 656c 6574 6564  announce deleted
-00030540: 2064 6576 6963 6573 206f 7665 7220 6665   devices over fe
-00030550: 6465 7261 7469 6f6e 2028 5b5c 2333 3532  deration ([\#352
-00030560: 305d 2868 7474 7073 3a2f 2f67 6974 6875  0](https://githu
-00030570: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-00030580: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-00030590: 3335 3230 2929 0a2d 2043 6174 6368 2066  3520)).- Catch f
-000305a0: 6169 6c75 7265 7320 7361 7669 6e67 206d  ailures saving m
-000305b0: 6574 7269 6373 2063 6170 7475 7265 6420  etrics captured 
-000305c0: 6279 204d 6561 7375 7265 2c20 616e 6420  by Measure, and 
-000305d0: 696e 7374 6561 6420 6c6f 6720 7468 6520  instead log the 
-000305e0: 6661 756c 7479 206d 6574 7269 6373 2069  faulty metrics i
-000305f0: 6e66 6f72 6d61 7469 6f6e 2066 6f72 2066  nformation for f
-00030600: 7572 7468 6572 2061 6e61 6c79 7369 732e  urther analysis.
-00030610: 2028 5b5c 2333 3534 385d 2868 7474 7073   ([\#3548](https
-00030620: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00030630: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00030640: 2f69 7373 7565 732f 3335 3438 2929 0a2d  /issues/3548)).-
-00030650: 2055 6e69 636f 6465 2070 6173 7377 6f72   Unicode passwor
-00030660: 6473 2061 7265 206e 6f77 206e 6f72 6d61  ds are now norma
-00030670: 6c69 7365 6420 6265 666f 7265 2068 6173  lised before has
-00030680: 6869 6e67 2c20 7072 6576 656e 7469 6e67  hing, preventing
-00030690: 2074 6865 2069 6e73 7461 6e63 6520 7768   the instance wh
-000306a0: 6572 6520 7477 6f20 6469 6666 6572 656e  ere two differen
-000306b0: 7420 6465 7669 6365 7320 6f72 2062 726f  t devices or bro
-000306c0: 7773 6572 7320 6d69 6768 7420 7365 6e64  wsers might send
-000306d0: 2061 2064 6966 6665 7265 6e74 2055 5446   a different UTF
-000306e0: 2d38 2073 6571 7565 6e63 6520 666f 7220  -8 sequence for 
-000306f0: 7468 6520 7061 7373 776f 7264 2e20 285b  the password. ([
-00030700: 5c23 3335 3639 5d28 6874 7470 733a 2f2f  \#3569](https://
-00030710: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-00030720: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00030730: 7375 6573 2f33 3536 3929 290a 2d20 4669  sues/3569)).- Fi
-00030740: 7820 706f 7465 6e74 6961 6c20 7374 6163  x potential stac
-00030750: 6b20 6f76 6572 666c 6f77 2061 6e64 2064  k overflow and d
-00030760: 6561 646c 6f63 6b20 756e 6465 7220 6865  eadlock under he
-00030770: 6176 7920 6c6f 6164 2028 5b5c 2333 3537  avy load ([\#357
-00030780: 305d 2868 7474 7073 3a2f 2f67 6974 6875  0](https://githu
-00030790: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-000307a0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-000307b0: 3335 3730 2929 0a2d 2052 6573 706f 6e64  3570)).- Respond
-000307c0: 2077 6974 6820 4d5f 4e4f 545f 464f 554e   with M_NOT_FOUN
-000307d0: 4420 7768 656e 2070 726f 6669 6c65 7320  D when profiles 
-000307e0: 6172 6520 6e6f 7420 666f 756e 6420 6c6f  are not found lo
-000307f0: 6361 6c6c 7920 6f72 206f 7665 7220 6665  cally or over fe
-00030800: 6465 7261 7469 6f6e 2e20 4669 7865 7320  deration. Fixes 
-00030810: 2333 3538 3520 285b 5c23 3335 3835 5d28  #3585 ([\#3585](
-00030820: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00030830: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-00030840: 6e61 7073 652f 6973 7375 6573 2f33 3538  napse/issues/358
-00030850: 3529 290a 2d20 4669 7820 6661 696c 7572  5)).- Fix failur
-00030860: 6520 746f 2070 6572 7369 7374 2065 7665  e to persist eve
-00030870: 6e74 7320 6f76 6572 2066 6564 6572 6174  nts over federat
-00030880: 696f 6e20 756e 6465 7220 6c6f 6164 2028  ion under load (
-00030890: 5b5c 2333 3630 315d 2868 7474 7073 3a2f  [\#3601](https:/
-000308a0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-000308b0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-000308c0: 7373 7565 732f 3336 3031 2929 0a2d 2046  ssues/3601)).- F
-000308d0: 6978 2075 7064 6174 696e 6720 6f66 2063  ix updating of c
-000308e0: 6163 6865 6420 7265 6d6f 7465 2070 726f  ached remote pro
-000308f0: 6669 6c65 7320 285b 5c23 3336 3035 5d28  files ([\#3605](
-00030900: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00030910: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-00030920: 6e61 7073 652f 6973 7375 6573 2f33 3630  napse/issues/360
-00030930: 3529 290a 2d20 4669 7820 2774 7570 6c65  5)).- Fix 'tuple
-00030940: 2069 6e64 6578 206f 7574 206f 6620 7261   index out of ra
-00030950: 6e67 6527 2065 7272 6f72 2028 5b5c 2333  nge' error ([\#3
-00030960: 3630 375d 2868 7474 7073 3a2f 2f67 6974  607](https://git
-00030970: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-00030980: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-00030990: 732f 3336 3037 2929 0a2d 204f 6e6c 7920  s/3607)).- Only 
-000309a0: 696d 706f 7274 2073 6563 7265 7473 2077  import secrets w
-000309b0: 6865 6e20 6176 6169 6c61 626c 6520 2866  hen available (f
-000309c0: 6978 2066 6f72 2070 7920 3c20 332e 3629  ix for py < 3.6)
-000309d0: 2028 5b5c 2333 3632 365d 2868 7474 7073   ([\#3626](https
-000309e0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-000309f0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00030a00: 2f69 7373 7565 732f 3336 3236 2929 0a0a  /issues/3626))..
-00030a10: 0a49 6e74 6572 6e61 6c20 4368 616e 6765  .Internal Change
-00030a20: 730a 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  s.--------------
-00030a30: 2d2d 0a0a 2d20 5265 6d6f 7665 2072 6564  --..- Remove red
-00030a40: 756e 6461 6e74 2063 6865 636b 7320 6f6e  undant checks on
-00030a50: 2077 686f 5f66 6f72 676f 745f 696e 5f72   who_forgot_in_r
-00030a60: 6f6f 6d20 285b 5c23 3333 3530 5d28 6874  oom ([\#3350](ht
-00030a70: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00030a80: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00030a90: 7073 652f 6973 7375 6573 2f33 3335 3029  pse/issues/3350)
-00030aa0: 290a 2d20 5265 6d6f 7665 2075 6e6e 6563  ).- Remove unnec
-00030ab0: 6573 7361 7279 2065 7665 6e74 2072 652d  essary event re-
-00030ac0: 7369 676e 696e 6720 6861 636b 7320 285b  signing hacks ([
-00030ad0: 5c23 3333 3637 5d28 6874 7470 733a 2f2f  \#3367](https://
-00030ae0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-00030af0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00030b00: 7375 6573 2f33 3336 3729 290a 2d20 5265  sues/3367)).- Re
-00030b10: 7772 6974 6520 6361 6368 6520 6c69 7374  write cache list
-00030b20: 2064 6563 6f72 6174 6f72 2028 5b5c 2333   decorator ([\#3
-00030b30: 3338 345d 2868 7474 7073 3a2f 2f67 6974  384](https://git
-00030b40: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-00030b50: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-00030b60: 732f 3333 3834 2929 0a2d 204d 6f76 6520  s/3384)).- Move 
-00030b70: 7631 2d6f 6e6c 7920 5245 5354 2041 5049  v1-only REST API
-00030b80: 7320 696e 746f 2074 6865 6972 206f 776e  s into their own
-00030b90: 206d 6f64 756c 652e 2028 5b5c 2333 3436   module. ([\#346
-00030ba0: 305d 2868 7474 7073 3a2f 2f67 6974 6875  0](https://githu
-00030bb0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-00030bc0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-00030bd0: 3334 3630 2929 0a2d 2052 6570 6c61 6365  3460)).- Replace
-00030be0: 206d 6f72 6520 696e 7374 616e 6365 7320   more instances 
-00030bf0: 6f66 2050 7974 686f 6e20 322d 6f6e 6c79  of Python 2-only
-00030c00: 2069 7465 7269 7465 6d73 2061 6e64 2069   iteritems and i
-00030c10: 7465 7276 616c 7565 7320 7573 6573 2e20  tervalues uses. 
-00030c20: 285b 5c23 3335 3632 5d28 6874 7470 733a  ([\#3562](https:
-00030c30: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00030c40: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00030c50: 6973 7375 6573 2f33 3536 3229 290a 2d20  issues/3562)).- 
-00030c60: 5265 6661 6374 6f72 2045 7665 6e74 436f  Refactor EventCo
-00030c70: 6e74 6578 7420 746f 2061 6363 6570 7420  ntext to accept 
-00030c80: 7374 6174 6520 6475 7269 6e67 2069 6e69  state during ini
-00030c90: 7420 285b 5c23 3335 3737 5d28 6874 7470  t ([\#3577](http
-00030ca0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00030cb0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00030cc0: 652f 6973 7375 6573 2f33 3537 3729 290a  e/issues/3577)).
-00030cd0: 2d20 496d 7072 6f76 6520 446f 636b 6572  - Improve Docker
-00030ce0: 6669 6c65 2061 6e64 2064 6f63 6b65 722d  file and docker-
-00030cf0: 636f 6d70 6f73 6520 696e 7374 7275 6374  compose instruct
-00030d00: 696f 6e73 2028 5b5c 2333 3534 335d 2868  ions ([\#3543](h
-00030d10: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00030d20: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00030d30: 6170 7365 2f69 7373 7565 732f 3335 3433  apse/issues/3543
-00030d40: 2929 0a2d 2052 656c 6561 7365 206e 6f74  )).- Release not
-00030d50: 6573 2061 7265 206e 6f77 2069 6e20 7468  es are now in th
-00030d60: 6520 4d61 726b 646f 776e 2066 6f72 6d61  e Markdown forma
-00030d70: 742e 2028 5b5c 2333 3535 325d 2868 7474  t. ([\#3552](htt
-00030d80: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00030d90: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-00030da0: 7365 2f69 7373 7565 732f 3335 3532 2929  se/issues/3552))
-00030db0: 0a2d 2061 6464 2063 6f6e 6669 6720 666f  .- add config fo
-00030dc0: 7220 7065 7038 2028 5b5c 2333 3535 395d  r pep8 ([\#3559]
-00030dd0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00030de0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00030df0: 796e 6170 7365 2f69 7373 7565 732f 3335  ynapse/issues/35
-00030e00: 3539 2929 0a2d 204d 6572 6765 204c 696e  59)).- Merge Lin
-00030e10: 6561 7269 7a65 7220 616e 6420 4c69 6d69  earizer and Limi
-00030e20: 7465 7220 285b 5c23 3335 3731 5d28 6874  ter ([\#3571](ht
-00030e30: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00030e40: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00030e50: 7073 652f 6973 7375 6573 2f33 3537 3129  pse/issues/3571)
-00030e60: 2c20 5b5c 2333 3537 325d 2868 7474 7073  , [\#3572](https
-00030e70: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00030e80: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00030e90: 2f69 7373 7565 732f 3335 3732 2929 0a2d  /issues/3572)).-
-00030ea0: 204c 617a 696c 7920 6c6f 6164 2073 7461   Lazily load sta
-00030eb0: 7465 206f 6e20 6d61 7374 6572 2070 726f  te on master pro
-00030ec0: 6365 7373 2077 6865 6e20 7573 696e 6720  cess when using 
-00030ed0: 776f 726b 6572 7320 746f 2072 6564 7563  workers to reduc
-00030ee0: 6520 4442 2063 6f6e 7375 6d70 7469 6f6e  e DB consumption
-00030ef0: 2028 5b5c 2333 3537 395d 2868 7474 7073   ([\#3579](https
-00030f00: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00030f10: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00030f20: 2f69 7373 7565 732f 3335 3739 292c 205b  /issues/3579), [
-00030f30: 5c23 3335 3831 5d28 6874 7470 733a 2f2f  \#3581](https://
-00030f40: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-00030f50: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00030f60: 7375 6573 2f33 3538 3129 2c20 5b5c 2333  sues/3581), [\#3
-00030f70: 3538 325d 2868 7474 7073 3a2f 2f67 6974  582](https://git
-00030f80: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-00030f90: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-00030fa0: 732f 3335 3832 292c 205b 5c23 3335 3834  s/3582), [\#3584
-00030fb0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00030fc0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00030fd0: 7379 6e61 7073 652f 6973 7375 6573 2f33  synapse/issues/3
-00030fe0: 3538 3429 290a 2d20 4669 7865 7320 616e  584)).- Fixes an
-00030ff0: 6420 6f70 7469 6d69 7361 7469 6f6e 7320  d optimisations 
-00031000: 666f 7220 7265 736f 6c76 655f 7374 6174  for resolve_stat
-00031010: 655f 6772 6f75 7073 2028 5b5c 2333 3538  e_groups ([\#358
-00031020: 365d 2868 7474 7073 3a2f 2f67 6974 6875  6](https://githu
-00031030: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-00031040: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-00031050: 3335 3836 2929 0a2d 2049 6d70 726f 7665  3586)).- Improve
-00031060: 206c 6f67 6769 6e67 2066 6f72 2065 7863   logging for exc
-00031070: 6570 7469 6f6e 7320 7768 656e 2068 616e  eptions when han
-00031080: 646c 696e 6720 5044 5573 2028 5b5c 2333  dling PDUs ([\#3
-00031090: 3538 375d 2868 7474 7073 3a2f 2f67 6974  587](https://git
-000310a0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-000310b0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-000310c0: 732f 3335 3837 2929 0a2d 2041 6464 2073  s/3587)).- Add s
-000310d0: 6f6d 6520 6d65 6173 7572 6520 626c 6f63  ome measure bloc
-000310e0: 6b73 2074 6f20 7065 7273 6973 745f 6576  ks to persist_ev
-000310f0: 656e 7473 2028 5b5c 2333 3539 305d 2868  ents ([\#3590](h
-00031100: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00031110: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00031120: 6170 7365 2f69 7373 7565 732f 3335 3930  apse/issues/3590
-00031130: 2929 0a2d 2046 6978 2073 6f6d 6520 7261  )).- Fix some ra
-00031140: 6e64 6f6d 206c 6f67 636f 6e74 6578 7420  ndom logcontext 
-00031150: 6c65 616b 732e 2028 5b5c 2333 3539 315d  leaks. ([\#3591]
-00031160: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00031170: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00031180: 796e 6170 7365 2f69 7373 7565 732f 3335  ynapse/issues/35
-00031190: 3931 292c 205b 5c23 3336 3036 5d28 6874  91), [\#3606](ht
-000311a0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-000311b0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-000311c0: 7073 652f 6973 7375 6573 2f33 3630 3629  pse/issues/3606)
-000311d0: 290a 2d20 5370 6565 6420 7570 2063 616c  ).- Speed up cal
-000311e0: 6375 6c61 7469 6e67 2073 7461 7465 2064  culating state d
-000311f0: 656c 7461 7320 696e 2070 6572 7369 7374  eltas in persist
-00031200: 5f65 7665 6e74 206c 6f6f 7020 285b 5c23  _event loop ([\#
-00031210: 3335 3932 5d28 6874 7470 733a 2f2f 6769  3592](https://gi
-00031220: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-00031230: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-00031240: 6573 2f33 3539 3229 290a 2d20 4174 7465  es/3592)).- Atte
-00031250: 6d70 7420 746f 2072 6564 7563 6520 616d  mpt to reduce am
-00031260: 6f75 6e74 206f 6620 7374 6174 6520 7075  ount of state pu
-00031270: 6c6c 6564 206f 7574 206f 6620 4442 2064  lled out of DB d
-00031280: 7572 696e 6720 7065 7273 6973 745f 6576  uring persist_ev
-00031290: 656e 7473 2028 5b5c 2333 3539 355d 2868  ents ([\#3595](h
-000312a0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-000312b0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-000312c0: 6170 7365 2f69 7373 7565 732f 3335 3935  apse/issues/3595
-000312d0: 2929 0a2d 2046 6978 2061 2064 6f63 756d  )).- Fix a docum
-000312e0: 656e 7461 7469 6f6e 2074 7970 6f20 696e  entation typo in
-000312f0: 206f 6e5f 6d61 6b65 5f6c 6561 7665 5f72   on_make_leave_r
-00031300: 6571 7565 7374 2028 5b5c 2333 3630 395d  equest ([\#3609]
-00031310: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00031320: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00031330: 796e 6170 7365 2f69 7373 7565 732f 3336  ynapse/issues/36
-00031340: 3039 2929 0a2d 204d 616b 6520 4576 656e  09)).- Make Even
-00031350: 7453 746f 7265 2069 6e68 6572 6974 2066  tStore inherit f
-00031360: 726f 6d20 4576 656e 7446 6564 6572 6174  rom EventFederat
-00031370: 696f 6e53 746f 7265 2028 5b5c 2333 3631  ionStore ([\#361
-00031380: 325d 2868 7474 7073 3a2f 2f67 6974 6875  2](https://githu
-00031390: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-000313a0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-000313b0: 3336 3132 2929 0a2d 2052 656d 6f76 6520  3612)).- Remove 
-000313c0: 736f 6d65 2072 6564 756e 6461 6e74 206a  some redundant j
-000313d0: 6f69 6e73 206f 6e20 6576 656e 745f 6564  oins on event_ed
-000313e0: 6765 732e 726f 6f6d 5f69 6420 285b 5c23  ges.room_id ([\#
-000313f0: 3336 3133 5d28 6874 7470 733a 2f2f 6769  3613](https://gi
-00031400: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-00031410: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-00031420: 6573 2f33 3631 3329 290a 2d20 5374 6f70  es/3613)).- Stop
-00031430: 2070 6f70 756c 6174 696e 6720 6576 656e   populating even
-00031440: 7473 2e63 6f6e 7465 6e74 2028 5b5c 2333  ts.content ([\#3
-00031450: 3631 345d 2868 7474 7073 3a2f 2f67 6974  614](https://git
-00031460: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-00031470: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-00031480: 732f 3336 3134 2929 0a2d 2055 7064 6174  s/3614)).- Updat
-00031490: 6520 7468 6520 2f73 656e 645f 6c65 6176  e the /send_leav
-000314a0: 6520 7061 7468 2072 6567 6973 7472 6174  e path registrat
-000314b0: 696f 6e20 746f 2075 7365 2065 7665 6e74  ion to use event
-000314c0: 5f69 6420 7261 7468 6572 2074 6861 6e20  _id rather than 
-000314d0: 6120 7472 616e 7361 6374 696f 6e20 4944  a transaction ID
-000314e0: 2e20 285b 5c23 3336 3136 5d28 6874 7470  . ([\#3616](http
-000314f0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00031500: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00031510: 652f 6973 7375 6573 2f33 3631 3629 290a  e/issues/3616)).
-00031520: 2d20 5265 6661 6374 6f72 2046 6564 6572  - Refactor Feder
-00031530: 6174 696f 6e48 616e 646c 6572 2074 6f20  ationHandler to 
-00031540: 6d6f 7665 2044 4220 7772 6974 6573 2069  move DB writes i
-00031550: 6e74 6f20 7365 7061 7261 7465 2066 756e  nto separate fun
-00031560: 6374 696f 6e73 2028 5b5c 2333 3632 315d  ctions ([\#3621]
-00031570: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00031580: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00031590: 796e 6170 7365 2f69 7373 7565 732f 3336  ynapse/issues/36
-000315a0: 3231 2929 0a2d 2052 656d 6f76 6520 756e  21)).- Remove un
-000315b0: 7573 6564 2066 6965 6c64 2022 7064 755f  used field "pdu_
-000315c0: 6661 696c 7572 6573 2220 6672 6f6d 2074  failures" from t
-000315d0: 7261 6e73 6163 7469 6f6e 732e 2028 5b5c  ransactions. ([\
-000315e0: 2333 3632 385d 2868 7474 7073 3a2f 2f67  #3628](https://g
-000315f0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-00031600: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-00031610: 7565 732f 3336 3238 2929 0a2d 2072 656e  ues/3628)).- ren
-00031620: 616d 6520 7265 706c 6963 6174 696f 6e5f  ame replication_
-00031630: 6c61 7965 7220 746f 2066 6564 6572 6174  layer to federat
-00031640: 696f 6e5f 636c 6965 6e74 2028 5b5c 2333  ion_client ([\#3
-00031650: 3633 345d 2868 7474 7073 3a2f 2f67 6974  634](https://git
-00031660: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-00031670: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-00031680: 732f 3336 3334 2929 0a2d 2046 6163 746f  s/3634)).- Facto
-00031690: 7220 6f75 7420 6578 6365 7074 696f 6e20  r out exception 
-000316a0: 6861 6e64 6c69 6e67 2069 6e20 6665 6465  handling in fede
-000316b0: 7261 7469 6f6e 5f63 6c69 656e 7420 285b  ration_client ([
-000316c0: 5c23 3336 3338 5d28 6874 7470 733a 2f2f  \#3638](https://
-000316d0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-000316e0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-000316f0: 7375 6573 2f33 3633 3829 290a 2d20 5265  sues/3638)).- Re
-00031700: 6661 6374 6f72 206c 6f63 6174 696f 6e20  factor location 
-00031710: 6f66 2064 6f63 6b65 7220 6275 696c 6420  of docker build 
-00031720: 7363 7269 7074 2e20 285b 5c23 3336 3434  script. ([\#3644
-00031730: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00031740: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00031750: 7379 6e61 7073 652f 6973 7375 6573 2f33  synapse/issues/3
-00031760: 3634 3429 290a 2d20 5570 6461 7465 2043  644)).- Update C
-00031770: 4f4e 5452 4942 5554 494e 4720 746f 206d  ONTRIBUTING to m
-00031780: 656e 7469 6f6e 206e 6577 7366 7261 676d  ention newsfragm
-00031790: 656e 7473 2e20 285b 5c23 3336 3435 5d28  ents. ([\#3645](
-000317a0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-000317b0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-000317c0: 6e61 7073 652f 6973 7375 6573 2f33 3634  napse/issues/364
-000317d0: 3529 290a 0a0a 5379 6e61 7073 6520 302e  5))...Synapse 0.
-000317e0: 3333 2e31 2028 3230 3138 2d30 382d 3032  33.1 (2018-08-02
-000317f0: 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ).==============
-00031800: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a53  =============..S
-00031810: 4543 5552 4954 5920 4649 5845 530a 2d2d  ECURITY FIXES.--
-00031820: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 0a0a 2d20  ------------..- 
-00031830: 4669 7820 6120 706f 7465 6e74 6961 6c20  Fix a potential 
-00031840: 6973 7375 6520 7768 6572 6520 7365 7276  issue where serv
-00031850: 6572 7320 636f 756c 6420 7265 7175 6573  ers could reques
-00031860: 7420 6576 656e 7473 2066 6f72 2072 6f6f  t events for roo
-00031870: 6d73 2074 6865 7920 6861 7665 206e 6f74  ms they have not
-00031880: 206a 6f69 6e65 642e 2028 5b5c 2333 3634   joined. ([\#364
-00031890: 315d 2868 7474 7073 3a2f 2f67 6974 6875  1](https://githu
-000318a0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-000318b0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-000318c0: 3336 3431 2929 0a2d 2046 6978 2061 2070  3641)).- Fix a p
-000318d0: 6f74 656e 7469 616c 2069 7373 7565 2077  otential issue w
-000318e0: 6865 7265 2075 7365 7273 2063 6f75 6c64  here users could
-000318f0: 2073 6565 2065 7665 6e74 7320 696e 2070   see events in p
-00031900: 7269 7661 7465 2072 6f6f 6d73 2062 6566  rivate rooms bef
-00031910: 6f72 6520 7468 6579 206a 6f69 6e65 642e  ore they joined.
-00031920: 2028 5b5c 2333 3634 325d 2868 7474 7073   ([\#3642](https
-00031930: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00031940: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00031950: 2f69 7373 7565 732f 3336 3432 2929 0a0a  /issues/3642))..
-00031960: 5379 6e61 7073 6520 302e 3333 2e30 2028  Synapse 0.33.0 (
-00031970: 3230 3138 2d30 372d 3139 290a 3d3d 3d3d  2018-07-19).====
-00031980: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00031990: 3d3d 3d3d 3d3d 3d0a 0a42 7567 6669 7865  =======..Bugfixe
-000319a0: 730a 2d2d 2d2d 2d2d 2d2d 0a0a 2d20 2020  s.--------..-   
-000319b0: 4469 7361 626c 6520 6120 6e6f 6973 7920  Disable a noisy 
-000319c0: 7761 726e 696e 6720 6162 6f75 7420 6c6f  warning about lo
-000319d0: 6763 6f6e 7465 7874 732e 2028 5b5c 2333  gcontexts. ([\#3
-000319e0: 3536 315d 2868 7474 7073 3a2f 2f67 6974  561](https://git
-000319f0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-00031a00: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-00031a10: 732f 3335 3631 2929 0a0a 5379 6e61 7073  s/3561))..Synaps
-00031a20: 6520 302e 3333 2e30 7263 3120 2832 3031  e 0.33.0rc1 (201
-00031a30: 382d 3037 2d31 3829 0a3d 3d3d 3d3d 3d3d  8-07-18).=======
-00031a40: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00031a50: 3d3d 3d3d 3d3d 3d0a 0a46 6561 7475 7265  =======..Feature
-00031a60: 730a 2d2d 2d2d 2d2d 2d2d 0a0a 2d20 2020  s.--------..-   
-00031a70: 456e 666f 7263 6520 7468 6520 7370 6563  Enforce the spec
-00031a80: 6966 6965 6420 4150 4920 666f 7220 7265  ified API for re
-00031a90: 706f 7274 5c5f 6576 656e 742e 2028 5b5c  port\_event. ([\
-00031aa0: 2333 3331 365d 2868 7474 7073 3a2f 2f67  #3316](https://g
-00031ab0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-00031ac0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-00031ad0: 7565 732f 3333 3136 2929 0a2d 2020 2049  ues/3316)).-   I
-00031ae0: 6e63 6c75 6465 2043 5055 2074 696d 6520  nclude CPU time 
-00031af0: 6672 6f6d 2064 6174 6162 6173 6520 7468  from database th
-00031b00: 7265 6164 7320 696e 2072 6571 7565 7374  reads in request
-00031b10: 2f62 6c6f 636b 206d 6574 7269 6373 2e20  /block metrics. 
-00031b20: 285b 5c23 3334 3936 5d28 6874 7470 733a  ([\#3496](https:
-00031b30: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00031b40: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-00031b50: 6973 7375 6573 2f33 3439 3629 2c20 5b5c  issues/3496), [\
-00031b60: 2333 3530 315d 2868 7474 7073 3a2f 2f67  #3501](https://g
-00031b70: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-00031b80: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-00031b90: 7565 732f 3335 3031 2929 0a2d 2020 2041  ues/3501)).-   A
-00031ba0: 6464 2043 5055 206d 6574 7269 6373 2066  dd CPU metrics f
-00031bb0: 6f72 205c 5f66 6574 6368 5c5f 6576 656e  or \_fetch\_even
-00031bc0: 745c 5f6c 6973 742e 2028 5b5c 2333 3439  t\_list. ([\#349
-00031bd0: 375d 2868 7474 7073 3a2f 2f67 6974 6875  7](https://githu
-00031be0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-00031bf0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-00031c00: 3334 3937 2929 0a2d 2020 204f 7074 696d  3497)).-   Optim
-00031c10: 6973 6174 696f 6e20 746f 206d 616b 6520  isation to make 
-00031c20: 6861 6e64 6c69 6e67 2069 6e63 6f6d 696e  handling incomin
-00031c30: 6720 6665 6465 7261 7469 6f6e 2072 6571  g federation req
-00031c40: 7565 7374 7320 6d6f 7265 2065 6666 6963  uests more effic
-00031c50: 6965 6e74 2e20 285b 5c23 3335 3431 5d28  ient. ([\#3541](
-00031c60: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00031c70: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-00031c80: 6e61 7073 652f 6973 7375 6573 2f33 3534  napse/issues/354
-00031c90: 3129 290a 0a42 7567 6669 7865 730a 2d2d  1))..Bugfixes.--
-00031ca0: 2d2d 2d2d 2d2d 0a0a 2d20 2020 4669 7820  ------..-   Fix 
-00031cb0: 6120 7369 676e 6966 6963 616e 7420 7065  a significant pe
-00031cc0: 7266 6f72 6d61 6e63 6520 7265 6772 6573  rformance regres
-00031cd0: 7369 6f6e 2069 6e20 2f73 796e 632e 2028  sion in /sync. (
-00031ce0: 5b5c 2333 3530 355d 2868 7474 7073 3a2f  [\#3505](https:/
-00031cf0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00031d00: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00031d10: 7373 7565 732f 3335 3035 292c 205b 5c23  ssues/3505), [\#
-00031d20: 3335 3231 5d28 6874 7470 733a 2f2f 6769  3521](https://gi
-00031d30: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-00031d40: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-00031d50: 6573 2f33 3532 3129 2c20 5b5c 2333 3533  es/3521), [\#353
-00031d60: 305d 2868 7474 7073 3a2f 2f67 6974 6875  0](https://githu
-00031d70: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-00031d80: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-00031d90: 3335 3330 292c 205b 5c23 3335 3434 5d28  3530), [\#3544](
-00031da0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00031db0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-00031dc0: 6e61 7073 652f 6973 7375 6573 2f33 3534  napse/issues/354
-00031dd0: 3429 290a 2d20 2020 5573 6520 6d6f 7265  4)).-   Use more
-00031de0: 2070 6f72 7461 626c 6520 7379 6e74 6178   portable syntax
-00031df0: 2069 6e20 6f75 7220 7573 6520 6f66 2074   in our use of t
-00031e00: 6865 2061 7474 7273 2070 6163 6b61 6765  he attrs package
-00031e10: 2c20 7769 6465 6e69 6e67 2074 6865 2073  , widening the s
-00031e20: 7570 706f 7274 6564 2076 6572 7369 6f6e  upported version
-00031e30: 732e 2028 5b5c 2333 3439 385d 2868 7474  s. ([\#3498](htt
-00031e40: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00031e50: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-00031e60: 7365 2f69 7373 7565 732f 3334 3938 2929  se/issues/3498))
-00031e70: 0a2d 2020 2046 6978 2071 7565 7565 6420  .-   Fix queued 
-00031e80: 6665 6465 7261 7469 6f6e 2072 6571 7565  federation reque
-00031e90: 7374 7320 6265 696e 6720 7072 6f63 6573  sts being proces
-00031ea0: 7365 6420 696e 2074 6865 2077 726f 6e67  sed in the wrong
-00031eb0: 206f 7264 6572 2e20 285b 5c23 3335 3333   order. ([\#3533
-00031ec0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00031ed0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00031ee0: 7379 6e61 7073 652f 6973 7375 6573 2f33  synapse/issues/3
-00031ef0: 3533 3329 290a 2d20 2020 456e 7375 7265  533)).-   Ensure
-00031f00: 2074 6861 7420 6572 6173 7572 6520 7265   that erasure re
-00031f10: 7175 6573 7473 2061 7265 2063 6f72 7265  quests are corre
-00031f20: 6374 6c79 2068 6f6e 6f75 7265 6420 666f  ctly honoured fo
-00031f30: 7220 7075 626c 6963 6c79 2061 6363 6573  r publicly acces
-00031f40: 7369 626c 6520 726f 6f6d 7320 7768 656e  sible rooms when
-00031f50: 2061 6363 6573 7365 6420 6f76 6572 2066   accessed over f
-00031f60: 6564 6572 6174 696f 6e2e 2028 5b5c 2333  ederation. ([\#3
-00031f70: 3534 365d 2868 7474 7073 3a2f 2f67 6974  546](https://git
-00031f80: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-00031f90: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-00031fa0: 732f 3335 3436 2929 0a0a 4d69 7363 0a2d  s/3546))..Misc.-
-00031fb0: 2d2d 2d0a 0a2d 2020 2052 6566 6163 746f  ---..-   Refacto
-00031fc0: 7269 6e67 2074 6f20 696d 7072 6f76 6520  ring to improve 
-00031fd0: 7465 7374 6162 696c 6974 792e 2028 5b5c  testability. ([\
-00031fe0: 2333 3335 315d 2868 7474 7073 3a2f 2f67  #3351](https://g
-00031ff0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-00032000: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-00032010: 7565 732f 3333 3531 292c 205b 5c23 3334  ues/3351), [\#34
-00032020: 3939 5d28 6874 7470 733a 2f2f 6769 7468  99](https://gith
-00032030: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-00032040: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-00032050: 2f33 3439 3929 290a 2d20 2020 5573 6520  /3499)).-   Use 
-00032060: 6069 736f 7274 6020 746f 2073 6f72 7420  `isort` to sort 
-00032070: 696d 706f 7274 732e 2028 5b5c 2333 3436  imports. ([\#346
-00032080: 335d 2868 7474 7073 3a2f 2f67 6974 6875  3](https://githu
-00032090: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-000320a0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-000320b0: 3334 3633 292c 205b 5c23 3334 3634 5d28  3463), [\#3464](
-000320c0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-000320d0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-000320e0: 6e61 7073 652f 6973 7375 6573 2f33 3436  napse/issues/346
-000320f0: 3429 2c20 5b5c 2333 3534 305d 2868 7474  4), [\#3540](htt
-00032100: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00032110: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
-00032120: 7365 2f69 7373 7565 732f 3335 3430 2929  se/issues/3540))
-00032130: 0a2d 2020 2055 7365 2070 6172 7365 2061  .-   Use parse a
-00032140: 6e64 2061 7373 6572 7473 2066 726f 6d20  nd asserts from 
-00032150: 6874 7470 2e73 6572 766c 6574 2e20 285b  http.servlet. ([
-00032160: 5c23 3335 3334 5d28 6874 7470 733a 2f2f  \#3534](https://
-00032170: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-00032180: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00032190: 7375 6573 2f33 3533 3429 2c20 5b5c 2333  sues/3534), [\#3
-000321a0: 3533 355d 2868 7474 7073 3a2f 2f67 6974  535](https://git
-000321b0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-000321c0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-000321d0: 732f 3335 3335 2929 2e0a 0a53 796e 6170  s/3535))...Synap
-000321e0: 7365 2030 2e33 322e 3220 2832 3031 382d  se 0.32.2 (2018-
-000321f0: 3037 2d30 3729 0a3d 3d3d 3d3d 3d3d 3d3d  07-07).=========
-00032200: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00032210: 3d3d 0a0a 4275 6766 6978 6573 0a2d 2d2d  ==..Bugfixes.---
-00032220: 2d2d 2d2d 2d0a 0a2d 2020 2041 6d65 6e64  -----..-   Amend
-00032230: 2074 6865 2050 7974 686f 6e20 6465 7065   the Python depe
-00032240: 6e64 656e 6369 6573 2074 6f20 6465 7065  ndencies to depe
-00032250: 6e64 206f 6e20 6174 7472 7320 6672 6f6d  nd on attrs from
-00032260: 2050 7950 492c 206e 6f74 2061 7474 7220   PyPI, not attr 
-00032270: 285b 5c23 3334 3932 5d28 6874 7470 733a  ([\#3492](https:
-00032280: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
-00032290: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
-000322a0: 6973 7375 6573 2f33 3439 3229 290a 0a53  issues/3492))..S
-000322b0: 796e 6170 7365 2030 2e33 322e 3120 2832  ynapse 0.32.1 (2
-000322c0: 3031 382d 3037 2d30 3629 0a3d 3d3d 3d3d  018-07-06).=====
-000322d0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000322e0: 3d3d 3d3d 3d3d 0a0a 4275 6766 6978 6573  ======..Bugfixes
-000322f0: 0a2d 2d2d 2d2d 2d2d 2d0a 0a2d 2020 2041  .--------..-   A
-00032300: 6464 2065 7870 6c69 6369 7420 6465 7065  dd explicit depe
-00032310: 6e64 656e 6379 206f 6e20 6e65 7461 6464  ndency on netadd
-00032320: 7220 285b 5c23 3334 3838 5d28 6874 7470  r ([\#3488](http
-00032330: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00032340: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00032350: 652f 6973 7375 6573 2f33 3438 3829 290a  e/issues/3488)).
-00032360: 0a43 6861 6e67 6573 2069 6e20 7379 6e61  .Changes in syna
-00032370: 7073 6520 7630 2e33 322e 3020 2832 3031  pse v0.32.0 (201
-00032380: 382d 3037 2d30 3629 0a3d 3d3d 3d3d 3d3d  8-07-06).=======
-00032390: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000323a0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000323b0: 0a0a 4e6f 2063 6861 6e67 6573 2073 696e  ..No changes sin
-000323c0: 6365 2030 2e33 322e 3072 6331 0a0a 5379  ce 0.32.0rc1..Sy
-000323d0: 6e61 7073 6520 302e 3332 2e30 7263 3120  napse 0.32.0rc1 
-000323e0: 2832 3031 382d 3037 2d30 3529 0a3d 3d3d  (2018-07-05).===
-000323f0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00032400: 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a46 6561  ===========..Fea
-00032410: 7475 7265 730a 2d2d 2d2d 2d2d 2d2d 0a0a  tures.--------..
-00032420: 2d20 2020 4164 6420 626c 6163 6b6c 6973  -   Add blacklis
-00032430: 7420 2620 7768 6974 656c 6973 7420 6f66  t & whitelist of
-00032440: 2073 6572 7665 7273 2061 6c6c 6f77 6564   servers allowed
-00032450: 2074 6f20 7365 6e64 2065 7665 6e74 7320   to send events 
-00032460: 746f 2061 2072 6f6f 6d20 7669 6120 606d  to a room via `m
-00032470: 2e72 6f6f 6d2e 7365 7276 6572 5f61 636c  .room.server_acl
-00032480: 6020 6576 656e 742e 0a2d 2020 2043 6163  ` event..-   Cac
-00032490: 6865 2066 6163 746f 7220 6f76 6572 7269  he factor overri
-000324a0: 6465 2073 7973 7465 6d20 666f 7220 7370  de system for sp
-000324b0: 6563 6966 6963 2063 6163 6865 7320 285b  ecific caches ([
-000324c0: 5c23 3333 3334 5d28 6874 7470 733a 2f2f  \#3334](https://
-000324d0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-000324e0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-000324f0: 7375 6573 2f33 3333 3429 290a 2d20 2020  sues/3334)).-   
-00032500: 4164 6420 6d65 7472 6963 7320 746f 2074  Add metrics to t
-00032510: 7261 636b 2061 7070 7365 7276 6963 6520  rack appservice 
-00032520: 7472 616e 7361 6374 696f 6e73 2028 5b5c  transactions ([\
-00032530: 2333 3334 345d 2868 7474 7073 3a2f 2f67  #3344](https://g
-00032540: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-00032550: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-00032560: 7565 732f 3333 3434 2929 0a2d 2020 2054  ues/3344)).-   T
-00032570: 7279 2074 6f20 6c6f 6720 6d6f 7265 2068  ry to log more h
-00032580: 656c 7066 756c 2069 6e66 6f20 7768 656e  elpful info when
-00032590: 2061 2073 6967 2076 6572 6966 6963 6174   a sig verificat
-000325a0: 696f 6e20 6661 696c 7320 285b 5c23 3333  ion fails ([\#33
-000325b0: 3732 5d28 6874 7470 733a 2f2f 6769 7468  72](https://gith
-000325c0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
-000325d0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
-000325e0: 2f33 3337 3229 290a 2d20 2020 5379 6e61  /3372)).-   Syna
-000325f0: 7073 6520 6e6f 7720 7573 6573 2074 6865  pse now uses the
-00032600: 2062 6573 7420 7065 7266 6f72 6d69 6e67   best performing
-00032610: 204a 534f 4e20 656e 636f 6465 722f 6465   JSON encoder/de
-00032620: 636f 6465 7220 6163 636f 7264 696e 6720  coder according 
-00032630: 746f 2079 6f75 7220 7275 6e74 696d 6520  to your runtime 
-00032640: 2873 696d 706c 656a 736f 6e20 6f6e 2043  (simplejson on C
-00032650: 5079 7468 6f6e 2c20 7374 646c 6962 206a  Python, stdlib j
-00032660: 736f 6e20 6f6e 2050 7950 7929 2e20 285b  son on PyPy). ([
-00032670: 5c23 3334 3632 5d28 6874 7470 733a 2f2f  \#3462](https://
-00032680: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-00032690: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-000326a0: 7375 6573 2f33 3436 3229 290a 2d20 2020  sues/3462)).-   
-000326b0: 4164 6420 6f70 7469 6f6e 616c 2069 705c  Add optional ip\
-000326c0: 5f72 616e 6765 5c5f 7768 6974 656c 6973  _range\_whitelis
-000326d0: 7420 7061 7261 6d20 746f 2041 5320 7265  t param to AS re
-000326e0: 6769 7374 7261 7469 6f6e 2066 696c 6573  gistration files
-000326f0: 2074 6f20 6c6f 636b 2041 5320 4950 2061   to lock AS IP a
-00032700: 6363 6573 7320 285b 5c23 3334 3635 5d28  ccess ([\#3465](
-00032710: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00032720: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-00032730: 6e61 7073 652f 6973 7375 6573 2f33 3436  napse/issues/346
-00032740: 3529 290a 2d20 2020 5265 6a65 6374 2069  5)).-   Reject i
-00032750: 6e76 616c 6964 2073 6572 7665 7220 6e61  nvalid server na
-00032760: 6d65 7320 696e 2066 6564 6572 6174 696f  mes in federatio
-00032770: 6e20 7265 7175 6573 7473 2028 5b5c 2333  n requests ([\#3
-00032780: 3438 305d 2868 7474 7073 3a2f 2f67 6974  480](https://git
-00032790: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-000327a0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-000327b0: 732f 3334 3830 2929 0a2d 2020 2052 656a  s/3480)).-   Rej
-000327c0: 6563 7420 696e 7661 6c69 6420 7365 7276  ect invalid serv
-000327d0: 6572 206e 616d 6573 2069 6e20 686f 6d65  er names in home
-000327e0: 7365 7276 6572 2e79 616d 6c20 285b 5c23  server.yaml ([\#
-000327f0: 3334 3833 5d28 6874 7470 733a 2f2f 6769  3483](https://gi
-00032800: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-00032810: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-00032820: 6573 2f33 3438 3329 290a 0a42 7567 6669  es/3483))..Bugfi
-00032830: 7865 730a 2d2d 2d2d 2d2d 2d2d 0a0a 2d20  xes.--------..- 
-00032840: 2020 5374 7269 7020 6163 6365 7373 5c5f    Strip access\_
-00032850: 746f 6b65 6e20 6672 6f6d 206f 7574 676f  token from outgo
-00032860: 696e 6720 7265 7175 6573 7473 2028 5b5c  ing requests ([\
-00032870: 2333 3332 375d 2868 7474 7073 3a2f 2f67  #3327](https://g
-00032880: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
-00032890: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
-000328a0: 7565 732f 3333 3237 2929 0a2d 2020 2052  ues/3327)).-   R
-000328b0: 6564 6163 7420 4153 2074 6f6b 656e 7320  edact AS tokens 
-000328c0: 696e 206c 6f67 7320 285b 5c23 3333 3439  in logs ([\#3349
-000328d0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-000328e0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-000328f0: 7379 6e61 7073 652f 6973 7375 6573 2f33  synapse/issues/3
-00032900: 3334 3929 290a 2d20 2020 4669 7820 6665  349)).-   Fix fe
-00032910: 6465 7261 7469 6f6e 2062 6163 6b66 696c  deration backfil
-00032920: 6c20 6672 6f6d 2053 514c 6974 6520 7365  l from SQLite se
-00032930: 7276 6572 7320 285b 5c23 3333 3535 5d28  rvers ([\#3355](
-00032940: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
-00032950: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
-00032960: 6e61 7073 652f 6973 7375 6573 2f33 3335  napse/issues/335
-00032970: 3529 290a 2d20 2020 4669 7820 6576 656e  5)).-   Fix even
-00032980: 742d 7075 7267 652d 6279 2d74 7320 6164  t-purge-by-ts ad
-00032990: 6d69 6e20 4150 4920 285b 5c23 3333 3633  min API ([\#3363
-000329a0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-000329b0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-000329c0: 7379 6e61 7073 652f 6973 7375 6573 2f33  synapse/issues/3
-000329d0: 3336 3329 290a 2d20 2020 4669 7820 6576  363)).-   Fix ev
-000329e0: 656e 7420 6669 6c74 6572 696e 6720 696e  ent filtering in
-000329f0: 2067 6574 5c5f 6d69 7373 696e 675c 5f65   get\_missing\_e
-00032a00: 7665 6e74 7320 6861 6e64 6c65 7220 285b  vents handler ([
-00032a10: 5c23 3333 3731 5d28 6874 7470 733a 2f2f  \#3371](https://
-00032a20: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-00032a30: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00032a40: 7375 6573 2f33 3337 3129 290a 2d20 2020  sues/3371)).-   
-00032a50: 5379 6e61 7073 6520 6973 206e 6f77 2073  Synapse is now s
-00032a60: 7472 6963 7465 7220 7265 6761 7264 696e  tricter regardin
-00032a70: 6720 6163 6365 7074 696e 6720 6576 656e  g accepting even
-00032a80: 7473 2077 6869 6368 2069 7420 6361 6e6e  ts which it cann
-00032a90: 6f74 2072 6574 7269 6576 6520 7468 6520  ot retrieve the 
-00032aa0: 7072 6576 5c5f 6576 656e 7473 2066 6f72  prev\_events for
-00032ab0: 2e20 285b 5c23 3334 3536 5d28 6874 7470  . ([\#3456](http
-00032ac0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00032ad0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00032ae0: 652f 6973 7375 6573 2f33 3435 3629 290a  e/issues/3456)).
-00032af0: 2d20 2020 4669 7820 6275 6720 7768 6572  -   Fix bug wher
-00032b00: 6520 7379 6e61 7073 6520 776f 756c 6420  e synapse would 
-00032b10: 6578 706c 6f64 6520 7768 656e 2072 6563  explode when rec
-00032b20: 6569 7669 6e67 2075 6e69 636f 6465 2069  eiving unicode i
-00032b30: 6e20 4854 5450 2055 7365 722d 4167 656e  n HTTP User-Agen
-00032b40: 7420 6865 6164 6572 2028 5b5c 2333 3437  t header ([\#347
-00032b50: 305d 2868 7474 7073 3a2f 2f67 6974 6875  0](https://githu
-00032b60: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-00032b70: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-00032b80: 3334 3730 2929 0a2d 2020 2049 6e76 616c  3470)).-   Inval
-00032b90: 6964 6174 6520 6361 6368 6520 6f6e 2063  idate cache on c
-00032ba0: 6f72 7265 6374 2074 6872 6561 6420 746f  orrect thread to
-00032bb0: 2061 766f 6964 2072 6163 6520 285b 5c23   avoid race ([\#
-00032bc0: 3334 3733 5d28 6874 7470 733a 2f2f 6769  3473](https://gi
-00032bd0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-00032be0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-00032bf0: 6573 2f33 3437 3329 290a 0a49 6d70 726f  es/3473))..Impro
-00032c00: 7665 6420 446f 6375 6d65 6e74 6174 696f  ved Documentatio
-00032c10: 6e0a 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  n.--------------
-00032c20: 2d2d 2d2d 2d2d 2d2d 0a0a 2d20 2020 6064  --------..-   `d
-00032c30: 6f63 2f70 6f73 7467 7265 732e 7273 7460  oc/postgres.rst`
-00032c40: 3a20 6669 7820 6469 7370 6c61 7920 6f66  : fix display of
-00032c50: 2074 6865 206c 6173 7420 636f 6d6d 616e   the last comman
-00032c60: 6420 626c 6f63 6b2e 2054 6861 6e6b 7320  d block. Thanks 
-00032c70: 746f 2040 4172 6368 616e 6765 4761 6272  to @ArchangeGabr
-00032c80: 6965 6c21 2028 5b5c 2333 3334 305d 2868  iel! ([\#3340](h
-00032c90: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00032ca0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00032cb0: 6170 7365 2f69 7373 7565 732f 3333 3430  apse/issues/3340
-00032cc0: 2929 0a0a 4465 7072 6563 6174 696f 6e73  ))..Deprecations
-00032cd0: 2061 6e64 2052 656d 6f76 616c 730a 2d2d   and Removals.--
-00032ce0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
-00032cf0: 2d2d 2d2d 2d2d 2d0a 0a2d 2020 2052 656d  -------..-   Rem
-00032d00: 6f76 6520 7761 735c 5f66 6f72 676f 7474  ove was\_forgott
-00032d10: 656e 5c5f 6174 2028 5b5c 2333 3332 345d  en\_at ([\#3324]
-00032d20: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
-00032d30: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
-00032d40: 796e 6170 7365 2f69 7373 7565 732f 3333  ynapse/issues/33
-00032d50: 3234 2929 0a0a 4d69 7363 0a2d 2d2d 2d0a  24))..Misc.----.
-00032d60: 0a2d 2020 205b 5c23 3333 3332 5d28 6874  .-   [\#3332](ht
-00032d70: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
-00032d80: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
-00032d90: 7073 652f 6973 7375 6573 2f33 3333 3229  pse/issues/3332)
-00032da0: 2c20 5b5c 2333 3334 315d 2868 7474 7073  , [\#3341](https
-00032db0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
-00032dc0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
-00032dd0: 2f69 7373 7565 732f 3333 3431 292c 205b  /issues/3341), [
-00032de0: 5c23 3333 3437 5d28 6874 7470 733a 2f2f  \#3347](https://
-00032df0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
-00032e00: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
-00032e10: 7375 6573 2f33 3334 3729 2c20 5b5c 2333  sues/3347), [\#3
-00032e20: 3334 385d 2868 7474 7073 3a2f 2f67 6974  348](https://git
-00032e30: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
-00032e40: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
-00032e50: 732f 3333 3438 292c 205b 5c23 3333 3536  s/3348), [\#3356
-00032e60: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
-00032e70: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
-00032e80: 7379 6e61 7073 652f 6973 7375 6573 2f33  synapse/issues/3
-00032e90: 3335 3629 2c20 5b5c 2333 3338 355d 2868  356), [\#3385](h
-00032ea0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-00032eb0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
-00032ec0: 6170 7365 2f69 7373 7565 732f 3333 3835  apse/issues/3385
-00032ed0: 292c 205b 5c23 3334 3436 5d28 6874 7470  ), [\#3446](http
-00032ee0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
-00032ef0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
-00032f00: 652f 6973 7375 6573 2f33 3434 3629 2c20  e/issues/3446), 
-00032f10: 5b5c 2333 3434 375d 2868 7474 7073 3a2f  [\#3447](https:/
-00032f20: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
-00032f30: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
-00032f40: 7373 7565 732f 3334 3437 292c 205b 5c23  ssues/3447), [\#
-00032f50: 3334 3637 5d28 6874 7470 733a 2f2f 6769  3467](https://gi
-00032f60: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-00032f70: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
-00032f80: 6573 2f33 3436 3729 2c20 5b5c 2333 3437  es/3467), [\#347
-00032f90: 345d 2868 7474 7073 3a2f 2f67 6974 6875  4](https://githu
-00032fa0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
-00032fb0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
-00032fc0: 3334 3734 290a 0a43 6861 6e67 6573 2069  3474)..Changes i
-00032fd0: 6e20 7379 6e61 7073 6520 7630 2e33 312e  n synapse v0.31.
-00032fe0: 3220 2832 3031 382d 3036 2d31 3429 0a3d  2 (2018-06-14).=
-00032ff0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00033000: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00033010: 3d3d 3d3d 3d3d 0a0a 5345 4355 5249 5459  ======..SECURITY
-00033020: 2055 5044 4154 453a 2050 7265 7665 6e74   UPDATE: Prevent
-00033030: 2075 6e61 7574 686f 7269 7365 6420 7573   unauthorised us
-00033040: 6572 7320 6672 6f6d 2073 6574 7469 6e67  ers from setting
-00033050: 2073 7461 7465 2065 7665 6e74 7320 696e   state events in
-00033060: 2061 2072 6f6f 6d20 7768 656e 2074 6865   a room when the
-00033070: 7265 2069 7320 6e6f 2060 6d2e 726f 6f6d  re is no `m.room
-00033080: 2e70 6f77 6572 5f6c 6576 656c 7360 2065  .power_levels` e
-00033090: 7665 6e74 2069 6e20 666f 7263 6520 696e  vent in force in
-000330a0: 2074 6865 2072 6f6f 6d2e 2028 5052 2023   the room. (PR #
-000330b0: 3333 3937 290a 0a44 6973 6375 7373 696f  3397)..Discussio
-000330c0: 6e20 6172 6f75 6e64 2074 6865 204d 6174  n around the Mat
-000330d0: 7269 7820 5370 6563 2063 6861 6e67 6520  rix Spec change 
-000330e0: 7072 6f70 6f73 616c 2066 6f72 2074 6869  proposal for thi
-000330f0: 7320 6368 616e 6765 2063 616e 2062 6520  s change can be 
-00033100: 666f 6c6c 6f77 6564 2061 7420 3c68 7474  followed at <htt
-00033110: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00033120: 6d61 7472 6978 2d6f 7267 2f6d 6174 7269  matrix-org/matri
-00033130: 782d 646f 632f 6973 7375 6573 2f31 3330  x-doc/issues/130
-00033140: 343e 2e0a 0a43 6861 6e67 6573 2069 6e20  4>...Changes in 
-00033150: 7379 6e61 7073 6520 7630 2e33 312e 3120  synapse v0.31.1 
-00033160: 2832 3031 382d 3036 2d30 3829 0a3d 3d3d  (2018-06-08).===
-00033170: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00033180: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00033190: 3d3d 3d3d 0a0a 7630 2e33 312e 3120 6669  ====..v0.31.1 fi
-000331a0: 7865 7320 6120 7365 6375 7269 7479 2062  xes a security b
-000331b0: 7567 2069 6e20 7468 6520 6067 6574 5f6d  ug in the `get_m
-000331c0: 6973 7369 6e67 5f65 7665 6e74 7360 2066  issing_events` f
-000331d0: 6564 6572 6174 696f 6e20 4150 4920 7768  ederation API wh
-000331e0: 6572 6520 6576 656e 7420 7669 7369 6269  ere event visibi
-000331f0: 6c69 7479 2072 756c 6573 2077 6572 6520  lity rules were 
-00033200: 6e6f 7420 6170 706c 6965 6420 636f 7272  not applied corr
-00033210: 6563 746c 792e 0a0a 5765 2061 7265 206e  ectly...We are n
-00033220: 6f74 2061 7761 7265 206f 6620 6974 2062  ot aware of it b
-00033230: 6569 6e67 2061 6374 6976 656c 7920 6578  eing actively ex
-00033240: 706c 6f69 7465 6420 6275 7420 706c 6561  ploited but plea
-00033250: 7365 2075 7067 7261 6465 2061 7361 702e  se upgrade asap.
-00033260: 0a0a 4275 6720 4669 7865 733a 0a0a 2d20  ..Bug Fixes:..- 
-00033270: 2020 4669 7820 6576 656e 7420 6669 6c74    Fix event filt
-00033280: 6572 696e 6720 696e 2067 6574 5c5f 6d69  ering in get\_mi
-00033290: 7373 696e 675c 5f65 7665 6e74 7320 6861  ssing\_events ha
-000332a0: 6e64 6c65 7220 2850 5220 2333 3337 3129  ndler (PR #3371)
-000332b0: 0a0a 4368 616e 6765 7320 696e 2073 796e  ..Changes in syn
-000332c0: 6170 7365 2076 302e 3331 2e30 2028 3230  apse v0.31.0 (20
-000332d0: 3138 2d30 362d 3036 290a 3d3d 3d3d 3d3d  18-06-06).======
-000332e0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000332f0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00033300: 3d0a 0a4d 6f73 7420 6e6f 7461 626c 6520  =..Most notable 
-00033310: 6368 616e 6765 2066 726f 6d20 7630 2e33  change from v0.3
-00033320: 302e 3020 6973 2074 6f20 7377 6974 6368  0.0 is to switch
-00033330: 2074 6f20 7468 6520 7079 7468 6f6e 2070   to the python p
-00033340: 726f 6d65 7468 6575 7320 6c69 6272 6172  rometheus librar
-00033350: 7920 746f 2069 6d70 726f 7665 2073 7973  y to improve sys
-00033360: 7465 6d20 7374 6174 7320 7265 706f 7274  tem stats report
-00033370: 696e 672e 2057 4152 4e49 4e47 3a20 7468  ing. WARNING: th
-00033380: 6973 2063 6861 6e67 6573 2061 206e 756d  is changes a num
-00033390: 6265 7220 6f66 2070 726f 6d65 7468 6575  ber of prometheu
-000333a0: 7320 6d65 7472 6963 7320 696e 2061 2062  s metrics in a b
-000333b0: 6163 6b77 6172 6473 2d69 6e63 6f6d 7061  ackwards-incompa
-000333c0: 7469 626c 6520 6d61 6e6e 6572 2e20 466f  tible manner. Fo
-000333d0: 7220 6d6f 7265 2064 6574 6169 6c73 2c20  r more details, 
-000333e0: 7365 6520 5b64 6f63 732f 6d65 7472 6963  see [docs/metric
-000333f0: 732d 686f 7774 6f2e 7273 745d 2864 6f63  s-howto.rst](doc
-00033400: 732f 6d65 7472 6963 732d 686f 7774 6f2e  s/metrics-howto.
-00033410: 7273 7423 7265 6d6f 7661 6c2d 6f66 2d64  rst#removal-of-d
-00033420: 6570 7265 6361 7465 642d 6d65 7472 6963  eprecated-metric
-00033430: 732d 2d74 696d 652d 6261 7365 642d 636f  s--time-based-co
-00033440: 756e 7465 7273 2d62 6563 6f6d 696e 672d  unters-becoming-
-00033450: 6869 7374 6f67 7261 6d73 2d69 6e2d 3033  histograms-in-03
-00033460: 3130 292e 0a0a 4275 6720 4669 7865 733a  10)...Bug Fixes:
-00033470: 0a0a 2d20 2020 4669 7820 6d65 7472 6963  ..-   Fix metric
-00033480: 2064 6f63 756d 656e 7461 7469 6f6e 2074   documentation t
-00033490: 6162 6c65 7320 2850 5220 2333 3334 3129  ables (PR #3341)
-000334a0: 0a2d 2020 2046 6978 204c 6174 6572 4761  .-   Fix LaterGa
-000334b0: 7567 6520 6572 726f 7220 6861 6e64 6c69  uge error handli
-000334c0: 6e67 2028 3639 3439 3638 6629 0a2d 2020  ng (694968f).-  
-000334d0: 2046 6978 2072 6570 6c69 6361 7469 6f6e   Fix replication
-000334e0: 206d 6574 7269 6373 2028 6237 6537 6664   metrics (b7e7fd
-000334f0: 3229 0a0a 4368 616e 6765 7320 696e 2073  2)..Changes in s
-00033500: 796e 6170 7365 2076 302e 3331 2e30 2d72  ynapse v0.31.0-r
-00033510: 6331 2028 3230 3138 2d30 362d 3034 290a  c1 (2018-06-04).
-00033520: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00033530: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00033540: 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a46 6561  ===========..Fea
-00033550: 7475 7265 733a 0a0a 2d20 2020 5377 6974  tures:..-   Swit
-00033560: 6368 2074 6f20 7468 6520 5079 7468 6f6e  ch to the Python
-00033570: 2050 726f 6d65 7468 6575 7320 6c69 6272   Prometheus libr
-00033580: 6172 7920 2850 5220 2333 3235 362c 2023  ary (PR #3256, #
-00033590: 3332 3734 290a 2d20 2020 4c65 7420 7573  3274).-   Let us
-000335a0: 6572 7320 6c65 6176 6520 7468 6520 7365  ers leave the se
-000335b0: 7276 6572 206e 6f74 6963 6520 726f 6f6d  rver notice room
-000335c0: 2061 6674 6572 206a 6f69 6e69 6e67 2028   after joining (
-000335d0: 5052 2023 3332 3837 290a 0a43 6861 6e67  PR #3287)..Chang
-000335e0: 6573 3a0a 0a2d 2020 2064 6169 6c79 2075  es:..-   daily u
-000335f0: 7365 7220 7479 7065 2070 686f 6e65 2068  ser type phone h
-00033600: 6f6d 6520 7374 6174 7320 2850 5220 2333  ome stats (PR #3
-00033610: 3236 3429 0a2d 2020 2055 7365 2069 7465  264).-   Use ite
-00033620: 725c 2a20 6d65 7468 6f64 7320 666f 7220  r\* methods for 
-00033630: 5c5f 6669 6c74 6572 5c5f 6576 656e 7473  \_filter\_events
-00033640: 5c5f 666f 725c 5f73 6572 7665 7220 2850  \_for\_server (P
-00033650: 5220 2333 3236 3729 0a2d 2020 2044 6f63  R #3267).-   Doc
-00033660: 7320 6f6e 2063 6f6e 7365 6e74 2062 6974  s on consent bit
-00033670: 7320 2850 5220 2333 3236 3829 0a2d 2020  s (PR #3268).-  
-00033680: 2052 656d 6f76 6520 7573 6572 7320 6672   Remove users fr
-00033690: 6f6d 2075 7365 7220 6469 7265 6374 6f72  om user director
-000336a0: 7920 6f6e 2064 6561 6374 6976 6174 6520  y on deactivate 
-000336b0: 2850 5220 2333 3237 3729 0a2d 2020 2041  (PR #3277).-   A
-000336c0: 766f 6964 2073 656e 6469 6e67 2063 6f6e  void sending con
-000336d0: 7365 6e74 206e 6f74 6963 6520 746f 2067  sent notice to g
-000336e0: 7565 7374 2075 7365 7273 2028 5052 2023  uest users (PR #
-000336f0: 3332 3838 290a 2d20 2020 6469 7361 626c  3288).-   disabl
-00033700: 6520 4350 554d 6574 7269 6373 2069 6620  e CPUMetrics if 
-00033710: 6e6f 202f 7072 6f63 2f73 656c 662f 7374  no /proc/self/st
-00033720: 6174 2028 5052 2023 3332 3939 290a 2d20  at (PR #3299).- 
-00033730: 2020 436f 6e73 6973 7465 6e74 6c79 2075    Consistently u
-00033740: 7365 2073 6978 5c27 7320 6974 6572 6974  se six\'s iterit
-00033750: 656d 7320 616e 6420 7772 6170 206c 617a  ems and wrap laz
-00033760: 7920 6b65 7973 2f76 616c 7565 7320 696e  y keys/values in
-00033770: 206c 6973 7428 2920 6966 2074 6865 795c   list() if they\
-00033780: 2772 6520 6e6f 7420 6d65 616e 7420 746f  're not meant to
-00033790: 2062 6520 6c61 7a79 2028 5052 2023 3333   be lazy (PR #33
-000337a0: 3037 290a 2d20 2020 4164 6420 7072 6976  07).-   Add priv
-000337b0: 6174 6520 4950 7636 2061 6464 7265 7373  ate IPv6 address
-000337c0: 6573 2074 6f20 6578 616d 706c 6520 636f  es to example co
-000337d0: 6e66 6967 2066 6f72 2075 726c 2070 7265  nfig for url pre
-000337e0: 7669 6577 2062 6c61 636b 6c69 7374 2028  view blacklist (
-000337f0: 5052 2023 3333 3137 2920 5468 616e 6b73  PR #3317) Thanks
-00033800: 2074 6f20 4074 6865 6763 6174 210a 2d20   to @thegcat!.- 
-00033810: 2020 5265 6475 6365 2073 7475 636b 2072    Reduce stuck r
-00033820: 6561 642d 7265 6365 6970 7473 3a20 6967  ead-receipts: ig
-00033830: 6e6f 7265 2064 6570 7468 2077 6865 6e20  nore depth when 
-00033840: 7570 6461 7469 6e67 2028 5052 2023 3333  updating (PR #33
-00033850: 3138 290a 2d20 2020 5075 7420 7079 7468  18).-   Put pyth
-00033860: 6f6e 5c27 7320 6c6f 6773 2069 6e74 6f20  on\'s logs into 
-00033870: 5472 6961 6c20 7768 656e 2072 756e 6e69  Trial when runni
-00033880: 6e67 2075 6e69 7420 7465 7374 7320 2850  ng unit tests (P
-00033890: 5220 2333 3331 3929 0a0a 4368 616e 6765  R #3319)..Change
-000338a0: 732c 2070 7974 686f 6e20 3320 6d69 6772  s, python 3 migr
-000338b0: 6174 696f 6e3a 0a0a 2d20 2020 5265 706c  ation:..-   Repl
-000338c0: 6163 6520 736f 6d65 206d 6f72 6520 636f  ace some more co
-000338d0: 6d70 6172 6973 6f6e 7320 7769 7468 2073  mparisons with s
-000338e0: 6978 2028 5052 2023 3332 3433 2920 5468  ix (PR #3243) Th
-000338f0: 616e 6b73 2074 6f20 404e 6f74 4146 696c  anks to @NotAFil
-00033900: 6521 0a2d 2020 2072 6570 6c61 6365 2073  e!.-   replace s
-00033910: 6f6d 6520 6974 6572 6974 656d 7320 7769  ome iteritems wi
-00033920: 7468 2073 6978 2028 5052 2023 3332 3434  th six (PR #3244
-00033930: 2920 5468 616e 6b73 2074 6f20 404e 6f74  ) Thanks to @Not
-00033940: 4146 696c 6521 0a2d 2020 2041 6464 2062  AFile!.-   Add b
-00033950: 6174 6368 5c5f 6974 6572 2074 6f20 7574  atch\_iter to ut
-00033960: 696c 7320 2850 5220 2333 3234 3529 2054  ils (PR #3245) T
-00033970: 6861 6e6b 7320 746f 2040 4e6f 7441 4669  hanks to @NotAFi
-00033980: 6c65 210a 2d20 2020 7573 6520 7265 7072  le!.-   use repr
-00033990: 2c20 6e6f 7420 7374 7220 2850 5220 2333  , not str (PR #3
-000339a0: 3234 3629 2054 6861 6e6b 7320 746f 2040  246) Thanks to @
-000339b0: 4e6f 7441 4669 6c65 210a 2d20 2020 4d69  NotAFile!.-   Mi
-000339c0: 7363 2050 7974 686f 6e33 2066 6978 6573  sc Python3 fixes
-000339d0: 2028 5052 2023 3332 3437 2920 5468 616e   (PR #3247) Than
-000339e0: 6b73 2074 6f20 404e 6f74 4146 696c 6521  ks to @NotAFile!
-000339f0: 0a2d 2020 2050 7933 2073 746f 7261 6765  .-   Py3 storage
-00033a00: 2f5c 5f62 6173 652e 7079 2028 5052 2023  /\_base.py (PR #
-00033a10: 3332 3738 2920 5468 616e 6b73 2074 6f20  3278) Thanks to 
-00033a20: 404e 6f74 4146 696c 6521 0a2d 2020 206d  @NotAFile!.-   m
-00033a30: 6f72 6520 7369 7820 6974 6572 6974 656d  ore six iteritem
-00033a40: 7320 2850 5220 2333 3237 3929 2054 6861  s (PR #3279) Tha
-00033a50: 6e6b 7320 746f 2040 4e6f 7441 4669 6c65  nks to @NotAFile
-00033a60: 210a 2d20 2020 4d6f 7265 204d 6973 632e  !.-   More Misc.
-00033a70: 2070 7933 2066 6978 6573 2028 5052 2023   py3 fixes (PR #
-00033a80: 3332 3830 2920 5468 616e 6b73 2074 6f20  3280) Thanks to 
-00033a90: 404e 6f74 4146 696c 6521 0a2d 2020 2072  @NotAFile!.-   r
-00033aa0: 656d 6169 6e69 6e67 2069 7369 6e74 616e  emaining isintan
-00033ab0: 6365 2066 6978 6573 2028 5052 2023 3332  ce fixes (PR #32
-00033ac0: 3831 2920 5468 616e 6b73 2074 6f20 404e  81) Thanks to @N
-00033ad0: 6f74 4146 696c 6521 0a2d 2020 2070 7933  otAFile!.-   py3
-00033ae0: 2d69 7a65 2073 7461 7465 2e70 7920 2850  -ize state.py (P
-00033af0: 5220 2333 3238 3329 2054 6861 6e6b 7320  R #3283) Thanks 
-00033b00: 746f 2040 4e6f 7441 4669 6c65 210a 2d20  to @NotAFile!.- 
-00033b10: 2020 6578 7465 6e64 2074 6f78 2074 6573    extend tox tes
-00033b20: 7469 6e67 2066 6f72 2070 7933 2074 6f20  ting for py3 to 
-00033b30: 6176 6f69 6420 7265 6772 6573 7369 6f6e  avoid regression
-00033b40: 7320 2850 5220 2333 3330 3229 2054 6861  s (PR #3302) Tha
-00033b50: 6e6b 7320 746f 2040 6b72 6f6d 6265 6c21  nks to @krombel!
-00033b60: 0a2d 2020 2075 7365 206d 656d 6f72 7976  .-   use memoryv
-00033b70: 6965 7720 696e 2070 7933 2028 5052 2023  iew in py3 (PR #
-00033b80: 3333 3033 2920 5468 616e 6b73 2074 6f20  3303) Thanks to 
-00033b90: 404e 6f74 4146 696c 6521 0a0a 4275 6773  @NotAFile!..Bugs
-00033ba0: 3a0a 0a2d 2020 2046 6978 2066 6564 6572  :..-   Fix feder
-00033bb0: 6174 696f 6e20 6261 636b 6669 6c6c 2062  ation backfill b
-00033bc0: 7567 7320 2850 5220 2333 3236 3129 0a2d  ugs (PR #3261).-
-00033bd0: 2020 2066 6564 6572 6174 696f 6e3a 2066     federation: f
-00033be0: 6978 204c 6174 6572 4761 7567 6520 7573  ix LaterGauge us
-00033bf0: 6167 6520 2850 5220 2333 3332 3829 2054  age (PR #3328) T
-00033c00: 6861 6e6b 7320 746f 2040 696e 7465 6c66  hanks to @intelf
-00033c10: 7821 0a0a 4368 616e 6765 7320 696e 2073  x!..Changes in s
-00033c20: 796e 6170 7365 2076 302e 3330 2e30 2028  ynapse v0.30.0 (
-00033c30: 3230 3138 2d30 352d 3234 290a 3d3d 3d3d  2018-05-24).====
-00033c40: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00033c50: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00033c60: 3d3d 3d0a 0a5c 2753 6572 7665 7220 4e6f  ===..\'Server No
-00033c70: 7469 6365 735c 2720 6172 6520 6120 6e65  tices\' are a ne
-00033c80: 7720 6665 6174 7572 6520 696e 7472 6f64  w feature introd
-00033c90: 7563 6564 2069 6e20 5379 6e61 7073 6520  uced in Synapse 
-00033ca0: 302e 3330 2e20 5468 6579 2070 726f 7669  0.30. They provi
-00033cb0: 6465 2061 2063 6861 6e6e 656c 2077 6865  de a channel whe
-00033cc0: 7265 6279 2073 6572 7665 7220 6164 6d69  reby server admi
-00033cd0: 6e69 7374 7261 746f 7273 2063 616e 2073  nistrators can s
-00033ce0: 656e 6420 6d65 7373 6167 6573 2074 6f20  end messages to 
-00033cf0: 7573 6572 7320 6f6e 2074 6865 2073 6572  users on the ser
-00033d00: 7665 722e 0a0a 5468 6579 2061 7265 2075  ver...They are u
-00033d10: 7365 6420 6173 2070 6172 7420 6f66 2063  sed as part of c
-00033d20: 6f6d 6d75 6e69 6361 7469 6f6e 206f 6620  ommunication of 
-00033d30: 7468 6520 7365 7276 6572 2070 6f6c 6963  the server polic
-00033d40: 6965 7320 2873 6565 2060 646f 6373 2f63  ies (see `docs/c
-00033d50: 6f6e 7365 6e74 5f74 7261 636b 696e 672e  onsent_tracking.
-00033d60: 6d64 6029 2c20 686f 7765 7665 7220 7468  md`), however th
-00033d70: 6520 696e 7465 6e74 696f 6e20 6973 2074  e intention is t
-00033d80: 6861 7420 7468 6579 206d 6179 2061 6c73  hat they may als
-00033d90: 6f20 6669 6e64 2061 2075 7365 2066 6f72  o find a use for
-00033da0: 2066 6561 7475 7265 7320 7375 6368 2061   features such a
-00033db0: 7320 5c22 4d65 7373 6167 6520 6f66 2074  s \"Message of t
-00033dc0: 6865 2064 6179 5c22 2e0a 0a54 6869 7320  he day\"...This 
-00033dd0: 6665 6174 7572 6520 6973 2073 7065 6369  feature is speci
-00033de0: 6669 6320 746f 2053 796e 6170 7365 2c20  fic to Synapse, 
-00033df0: 6275 7420 7573 6573 2073 7461 6e64 6172  but uses standar
-00033e00: 6420 4d61 7472 6978 2063 6f6d 6d75 6e69  d Matrix communi
-00033e10: 6361 7469 6f6e 206d 6563 6861 6e69 736d  cation mechanism
-00033e20: 732c 2073 6f20 7368 6f75 6c64 2077 6f72  s, so should wor
-00033e30: 6b20 7769 7468 2061 6e79 204d 6174 7269  k with any Matri
-00033e40: 7820 636c 6965 6e74 2e20 466f 7220 6d6f  x client. For mo
-00033e50: 7265 2064 6574 6169 6c73 2073 6565 2060  re details see `
-00033e60: 646f 6373 2f73 6572 7665 725f 6e6f 7469  docs/server_noti
-00033e70: 6365 732e 6d64 600a 0a46 7572 7468 6572  ces.md`..Further
-00033e80: 2053 6572 7665 7220 4e6f 7469 6365 732f   Server Notices/
-00033e90: 436f 6e73 656e 7420 5472 6163 6b69 6e67  Consent Tracking
-00033ea0: 2053 7570 706f 7274 3a0a 0a2d 2020 2041   Support:..-   A
-00033eb0: 6c6c 6f77 206f 7665 7272 6964 696e 6720  llow overriding 
-00033ec0: 7468 6520 7365 7276 6572 5c5f 6e6f 7469  the server\_noti
-00033ed0: 6365 7320 7573 6572 5c27 7320 6176 6174  ces user\'s avat
-00033ee0: 6172 2028 5052 2023 3332 3733 290a 2d20  ar (PR #3273).- 
-00033ef0: 2020 5573 6520 7468 6520 6c6f 6361 6c70    Use the localp
-00033f00: 6172 7420 696e 2074 6865 2063 6f6e 7365  art in the conse
-00033f10: 6e74 2075 7269 2028 5052 2023 3332 3732  nt uri (PR #3272
-00033f20: 290a 2d20 2020 5375 7070 6f72 7420 666f  ).-   Support fo
-00033f30: 7220 7075 7474 696e 6720 2528 636f 6e73  r putting %(cons
-00033f40: 656e 745c 5f75 7269 2973 2069 6e20 6d65  ent\_uri)s in me
-00033f50: 7373 6167 6573 2028 5052 2023 3332 3731  ssages (PR #3271
-00033f60: 290a 2d20 2020 426c 6f63 6b20 6174 7465  ).-   Block atte
-00033f70: 6d70 7473 2074 6f20 7365 6e64 2073 6572  mpts to send ser
-00033f80: 7665 7220 6e6f 7469 6365 7320 746f 2072  ver notices to r
-00033f90: 656d 6f74 6520 7573 6572 7320 2850 5220  emote users (PR 
-00033fa0: 2333 3237 3029 0a2d 2020 2044 6f63 7320  #3270).-   Docs 
-00033fb0: 6f6e 2063 6f6e 7365 6e74 2062 6974 7320  on consent bits 
-00033fc0: 2850 5220 2333 3236 3829 0a0a 4368 616e  (PR #3268)..Chan
-00033fd0: 6765 7320 696e 2073 796e 6170 7365 2076  ges in synapse v
-00033fe0: 302e 3330 2e30 2d72 6331 2028 3230 3138  0.30.0-rc1 (2018
-00033ff0: 2d30 352d 3233 290a 3d3d 3d3d 3d3d 3d3d  -05-23).========
-00034000: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00034010: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00034020: 3d3d 3d0a 0a53 6572 7665 7220 4e6f 7469  ===..Server Noti
-00034030: 6365 732f 436f 6e73 656e 7420 5472 6163  ces/Consent Trac
-00034040: 6b69 6e67 2053 7570 706f 7274 3a0a 0a2d  king Support:..-
-00034050: 2020 2043 6f6e 7365 6e74 5265 736f 7572     ConsentResour
-00034060: 6365 2074 6f20 6761 7468 6572 2070 6f6c  ce to gather pol
-00034070: 6963 7920 636f 6e73 656e 7420 6672 6f6d  icy consent from
-00034080: 2075 7365 7273 2028 5052 2023 3332 3133   users (PR #3213
-00034090: 290a 2d20 2020 4d6f 7665 2052 6f6f 6d43  ).-   Move RoomC
-000340a0: 7265 6174 696f 6e48 616e 646c 6572 206f  reationHandler o
-000340b0: 7574 206f 6620 7379 6e61 7073 652e 6861  ut of synapse.ha
-000340c0: 6e64 6c65 7273 2e48 616e 646c 6572 7320  ndlers.Handlers 
-000340d0: 2850 5220 2333 3232 3529 0a2d 2020 2049  (PR #3225).-   I
-000340e0: 6e66 7261 7374 7275 6374 7572 6520 666f  nfrastructure fo
-000340f0: 7220 6120 7365 7276 6572 206e 6f74 6963  r a server notic
-00034100: 6573 2072 6f6f 6d20 2850 5220 2333 3233  es room (PR #323
-00034110: 3229 0a2d 2020 2053 656e 6420 7573 6572  2).-   Send user
-00034120: 7320 6120 7365 7276 6572 206e 6f74 6963  s a server notic
-00034130: 6520 6162 6f75 7420 636f 6e73 656e 7420  e about consent 
-00034140: 2850 5220 2333 3233 3629 0a2d 2020 2052  (PR #3236).-   R
-00034150: 656a 6563 7420 6174 7465 6d70 7473 2074  eject attempts t
-00034160: 6f20 7365 6e64 2065 7665 6e74 2062 6566  o send event bef
-00034170: 6f72 6520 7072 6976 6163 7920 636f 6e73  ore privacy cons
-00034180: 656e 7420 6973 2067 6976 656e 2028 5052  ent is given (PR
-00034190: 2023 3332 3537 290a 2d20 2020 4164 6420   #3257).-   Add 
-000341a0: 6120 5c27 6861 735c 5f63 6f6e 7365 6e74  a \'has\_consent
-000341b0: 6564 5c27 2074 656d 706c 6174 6520 7661  ed\' template va
-000341c0: 7220 746f 2063 6f6e 7365 6e74 2066 6f72  r to consent for
-000341d0: 6d73 2028 5052 2023 3332 3632 290a 2d20  ms (PR #3262).- 
-000341e0: 2020 4669 7820 6465 7065 6e64 656e 6379    Fix dependency
-000341f0: 206f 6e20 6a69 6e6a 6132 2028 5052 2023   on jinja2 (PR #
-00034200: 3332 3633 290a 0a46 6561 7475 7265 733a  3263)..Features:
-00034210: 0a0a 2d20 2020 436f 686f 7274 2061 6e61  ..-   Cohort ana
-00034220: 6c79 7469 6373 2028 5052 2023 3331 3633  lytics (PR #3163
-00034230: 2c20 2333 3234 312c 2023 3332 3531 290a  , #3241, #3251).
-00034240: 2d20 2020 4164 6420 6c78 6d6c 2074 6f20  -   Add lxml to 
-00034250: 646f 636b 6572 2069 6d61 6765 2066 6f72  docker image for
-00034260: 2077 6562 2070 7265 7669 6577 7320 2850   web previews (P
-00034270: 5220 2333 3233 3929 2054 6861 6e6b 7320  R #3239) Thanks 
-00034280: 746f 2040 7074 6d61 6e21 0a2d 2020 2041  to @ptman!.-   A
-00034290: 6464 2069 6e20 666c 6967 6874 2072 6571  dd in flight req
-000342a0: 7565 7374 206d 6574 7269 6373 2028 5052  uest metrics (PR
-000342b0: 2023 3332 3532 290a 0a43 6861 6e67 6573   #3252)..Changes
-000342c0: 3a0a 0a2d 2020 2052 656d 6f76 6520 756e  :..-   Remove un
-000342d0: 7573 6564 2075 7064 6174 655c 5f65 7874  used update\_ext
-000342e0: 6572 6e61 6c5c 5f73 796e 6373 2028 5052  ernal\_syncs (PR
-000342f0: 2023 3332 3333 290a 2d20 2020 5573 6520   #3233).-   Use 
-00034300: 7374 7265 616d 2072 6174 6865 7220 6465  stream rather de
-00034310: 7074 6820 6f72 6465 7269 6e67 2066 6f72  pth ordering for
-00034320: 2070 7573 6820 6163 7469 6f6e 7320 2850   push actions (P
-00034330: 5220 2333 3231 3229 0a2d 2020 204d 616b  R #3212).-   Mak
-00034340: 6520 7075 7267 655c 5f68 6973 746f 7279  e purge\_history
-00034350: 206f 7065 7261 7465 206f 6e20 746f 6b65   operate on toke
-00034360: 6e73 2028 5052 2023 3332 3231 290a 2d20  ns (PR #3221).- 
-00034370: 2020 446f 6e5c 2774 2073 7570 706f 7274    Don\'t support
-00034380: 206c 696d 6974 6c65 7373 2070 6167 696e   limitless pagin
-00034390: 6174 696f 6e20 2850 5220 2333 3236 3529  ation (PR #3265)
-000343a0: 0a0a 4275 6720 4669 7865 733a 0a0a 2d20  ..Bug Fixes:..- 
-000343b0: 2020 4669 7820 6c6f 6763 6f6e 7465 7874    Fix logcontext
-000343c0: 2072 6573 6f75 7263 6520 7573 6167 6520   resource usage 
-000343d0: 7472 6163 6b69 6e67 2028 5052 2023 3332  tracking (PR #32
-000343e0: 3538 290a 2d20 2020 4669 7820 6572 726f  58).-   Fix erro
-000343f0: 7220 696e 2068 616e 646c 696e 6720 7265  r in handling re
-00034400: 6365 6970 7473 2028 5052 2023 3332 3335  ceipts (PR #3235
-00034410: 290a 2d20 2020 5374 6f70 2074 6865 2074  ).-   Stop the t
-00034420: 7261 6e73 6163 7469 6f6e 2063 6163 6865  ransaction cache
-00034430: 2063 6163 6869 6e67 2066 6169 6c75 7265   caching failure
-00034440: 7320 2850 5220 2333 3235 3529 0a0a 4368  s (PR #3255)..Ch
-00034450: 616e 6765 7320 696e 2073 796e 6170 7365  anges in synapse
-00034460: 2076 302e 3239 2e31 2028 3230 3138 2d30   v0.29.1 (2018-0
-00034470: 352d 3137 290a 3d3d 3d3d 3d3d 3d3d 3d3d  5-17).==========
-00034480: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00034490: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a43  =============..C
-000344a0: 6861 6e67 6573 3a0a 0a2d 2020 2055 7064  hanges:..-   Upd
-000344b0: 6174 6520 646f 636b 6572 2064 6f63 756d  ate docker docum
-000344c0: 656e 7461 7469 6f6e 2028 5052 2023 3332  entation (PR #32
-000344d0: 3232 290a 0a43 6861 6e67 6573 2069 6e20  22)..Changes in 
-000344e0: 7379 6e61 7073 6520 7630 2e32 392e 3020  synapse v0.29.0 
-000344f0: 2832 3031 382d 3035 2d31 3629 0a3d 3d3d  (2018-05-16).===
-00034500: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00034510: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00034520: 3d3d 3d3d 0a0a 4e6f 7420 6368 616e 6765  ====..Not change
-00034530: 7320 7369 6e63 6520 7630 2e32 392e 302d  s since v0.29.0-
-00034540: 7263 310a 0a43 6861 6e67 6573 2069 6e20  rc1..Changes in 
-00034550: 7379 6e61 7073 6520 7630 2e32 392e 302d  synapse v0.29.0-
-00034560: 7263 3120 2832 3031 382d 3035 2d31 3429  rc1 (2018-05-14)
-00034570: 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  .===============
-00034580: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00034590: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 4e6f  ============..No
-000345a0: 7461 626c 6520 6368 616e 6765 732c 2061  table changes, a
-000345b0: 2064 6f63 6b65 7220 6669 6c65 2066 6f72   docker file for
-000345c0: 2072 756e 6e69 6e67 2053 796e 6170 7365   running Synapse
-000345d0: 2028 5468 616e 6b73 2074 6f20 406b 6169   (Thanks to @kai
-000345e0: 796f 7521 2920 616e 6420 6120 636c 6f73  you!) and a clos
-000345f0: 6564 2073 7065 6320 6275 6720 696e 2074  ed spec bug in t
-00034600: 6865 2043 6c69 656e 7420 5365 7276 6572  he Client Server
-00034610: 2041 5049 2e20 4164 6469 7469 6f6e 616c   API. Additional
-00034620: 6c79 2066 7572 7468 6572 2070 7265 7020  ly further prep 
-00034630: 666f 7220 5079 7468 6f6e 2033 206d 6967  for Python 3 mig
-00034640: 7261 7469 6f6e 2e0a 0a50 6f74 656e 7469  ration...Potenti
-00034650: 616c 6c79 2062 7265 616b 696e 6720 6368  ally breaking ch
-00034660: 616e 6765 3a0a 0a2d 2020 204d 616b 6520  ange:..-   Make 
-00034670: 436c 6965 6e74 2d53 6572 7665 7220 4150  Client-Server AP
-00034680: 4920 7265 7475 726e 2034 3031 2066 6f72  I return 401 for
-00034690: 2069 6e76 616c 6964 2074 6f6b 656e 2028   invalid token (
-000346a0: 5052 2023 3331 3631 292e 0a0a 2020 2020  PR #3161)...    
-000346b0: 5468 6973 2063 6861 6e67 6573 2074 6865  This changes the
-000346c0: 2043 6c69 656e 742d 7365 7276 6572 2073   Client-server s
-000346d0: 7065 6320 746f 2072 6574 7572 6e20 6120  pec to return a 
-000346e0: 3430 3120 6572 726f 7220 636f 6465 2069  401 error code i
-000346f0: 6e73 7465 6164 206f 6620 3430 3320 7768  nstead of 403 wh
-00034700: 656e 2074 6865 2061 6363 6573 7320 746f  en the access to
-00034710: 6b65 6e20 6973 2075 6e72 6563 6f67 6e69  ken is unrecogni
-00034720: 7365 642e 2054 6869 7320 6973 2074 6865  sed. This is the
-00034730: 2062 6568 6176 696f 7572 2072 6571 7569   behaviour requi
-00034740: 7265 6420 6279 2074 6865 2073 7065 6369  red by the speci
-00034750: 6669 6361 7469 6f6e 2c20 6275 7420 736f  fication, but so
-00034760: 6d65 2063 6c69 656e 7473 206d 6179 2062  me clients may b
-00034770: 6520 7265 6c79 696e 6720 6f6e 2074 6865  e relying on the
-00034780: 206f 6c64 2c20 696e 636f 7272 6563 7420   old, incorrect 
-00034790: 6265 6861 7669 6f75 722e 0a0a 2020 2020  behaviour...    
-000347a0: 5468 616e 6b73 2074 6f20 404e 6f74 4146  Thanks to @NotAF
-000347b0: 696c 6520 666f 7220 6669 7869 6e67 2074  ile for fixing t
-000347c0: 6869 732e 0a0a 4665 6174 7572 6573 3a0a  his...Features:.
-000347d0: 0a2d 2020 2041 6464 2061 2044 6f63 6b65  .-   Add a Docke
-000347e0: 7266 696c 6520 666f 7220 7379 6e61 7073  rfile for synaps
-000347f0: 6520 2850 5220 2332 3834 3629 2054 6861  e (PR #2846) Tha
-00034800: 6e6b 7320 746f 2040 6b61 6979 6f75 210a  nks to @kaiyou!.
-00034810: 0a43 6861 6e67 6573 202d 2047 656e 6572  .Changes - Gener
-00034820: 616c 3a0a 0a2d 2020 206e 756b 652d 726f  al:..-   nuke-ro
-00034830: 6f6d 2d66 726f 6d2d 6462 2e73 683a 2061  om-from-db.sh: a
-00034840: 6464 6564 2070 6f73 7467 7265 7371 6c20  dded postgresql 
-00034850: 6f70 7469 6f6e 2061 6e64 2068 656c 7020  option and help 
-00034860: 2850 5220 2332 3333 3729 2054 6861 6e6b  (PR #2337) Thank
-00034870: 7320 746f 2040 7275 626f 3737 210a 2d20  s to @rubo77!.- 
-00034880: 2020 5061 7274 2075 7365 7220 6672 6f6d    Part user from
-00034890: 2072 6f6f 6d73 206f 6e20 6163 636f 756e   rooms on accoun
-000348a0: 7420 6465 6163 7469 7661 7465 2028 5052  t deactivate (PR
-000348b0: 2023 3332 3031 290a 2d20 2020 4d61 6b65   #3201).-   Make
-000348c0: 205c 2775 6e65 7870 6563 7465 6420 6c6f   \'unexpected lo
-000348d0: 6767 696e 6720 636f 6e74 6578 745c 2720  gging context\' 
-000348e0: 696e 746f 2077 6172 6e69 6e67 7320 2850  into warnings (P
-000348f0: 5220 2333 3030 3729 0a2d 2020 2053 6574  R #3007).-   Set
-00034900: 2053 6572 7665 7220 6865 6164 6572 2069   Server header i
-00034910: 6e20 5379 6e61 7073 6552 6571 7565 7374  n SynapseRequest
-00034920: 2028 5052 2023 3332 3038 290a 2d20 2020   (PR #3208).-   
-00034930: 7265 6d6f 7665 2064 7570 6c69 6361 7465  remove duplicate
-00034940: 7320 6672 6f6d 2067 726f 7570 7320 7461  s from groups ta
-00034950: 626c 6573 2028 5052 2023 3331 3239 290a  bles (PR #3129).
-00034960: 2d20 2020 496d 7072 6f76 6520 6578 6365  -   Improve exce
-00034970: 7074 696f 6e20 6861 6e64 6c69 6e67 2066  ption handling f
-00034980: 6f72 2062 6163 6b67 726f 756e 6420 7072  or background pr
-00034990: 6f63 6573 7365 7320 2850 5220 2333 3133  ocesses (PR #313
-000349a0: 3829 0a2d 2020 2041 6464 206d 6973 7369  8).-   Add missi
-000349b0: 6e67 2063 6f6e 7375 6d65 4572 726f 7273  ng consumeErrors
-000349c0: 2074 6f20 696d 7072 6f76 6520 6578 6365   to improve exce
-000349d0: 7074 696f 6e20 6861 6e64 6c69 6e67 2028  ption handling (
-000349e0: 5052 2023 3331 3339 290a 2d20 2020 7265  PR #3139).-   re
-000349f0: 7261 6973 6520 6578 6365 7074 696f 6e73  raise exceptions
-00034a00: 206d 6f72 6520 6361 7265 6675 6c6c 7920   more carefully 
-00034a10: 2850 5220 2333 3134 3229 0a2d 2020 2052  (PR #3142).-   R
-00034a20: 656d 6f76 6520 7265 6475 6e64 616e 7420  emove redundant 
-00034a30: 6361 6c6c 2074 6f20 7072 6573 6572 7665  call to preserve
-00034a40: 5c5f 666e 2028 5052 2023 3331 3433 290a  \_fn (PR #3143).
-00034a50: 2d20 2020 5472 6170 2065 7863 6570 7469  -   Trap excepti
-00034a60: 6f6e 7320 7468 726f 776e 2077 6974 6869  ons thrown withi
-00034a70: 6e20 7275 6e5c 5f69 6e5c 5f62 6163 6b67  n run\_in\_backg
-00034a80: 726f 756e 6420 2850 5220 2333 3134 3429  round (PR #3144)
-00034a90: 0a0a 4368 616e 6765 7320 2d20 5265 6661  ..Changes - Refa
-00034aa0: 6374 6f72 733a 0a0a 2d20 2020 5265 6661  ctors:..-   Refa
-00034ab0: 6374 6f72 202f 636f 6e74 6578 7420 746f  ctor /context to
-00034ac0: 2072 6575 7365 2070 6167 696e 6174 696f   reuse paginatio
-00034ad0: 6e20 7374 6f72 6167 6520 6675 6e63 7469  n storage functi
-00034ae0: 6f6e 7320 2850 5220 2333 3139 3329 0a2d  ons (PR #3193).-
-00034af0: 2020 2052 6566 6163 746f 7220 7265 6365     Refactor rece
-00034b00: 6e74 2065 7665 6e74 7320 6675 6e63 2074  nt events func t
-00034b10: 6f20 7573 6520 7061 6769 6e61 7469 6f6e  o use pagination
-00034b20: 2066 756e 6320 2850 5220 2333 3139 3529   func (PR #3195)
-00034b30: 0a2d 2020 2052 6566 6163 746f 7220 7061  .-   Refactor pa
-00034b40: 6769 6e61 7469 6f6e 2044 4220 4150 4920  gination DB API 
-00034b50: 746f 2072 6574 7572 6e20 636f 6e63 7265  to return concre
-00034b60: 7465 2074 7970 6520 2850 5220 2333 3139  te type (PR #319
-00034b70: 3629 0a2d 2020 2052 6566 6163 746f 7220  6).-   Refactor 
-00034b80: 6765 745c 5f72 6563 656e 745c 5f65 7665  get\_recent\_eve
-00034b90: 6e74 735c 5f66 6f72 5c5f 726f 6f6d 2072  nts\_for\_room r
-00034ba0: 6574 7572 6e20 7479 7065 2028 5052 2023  eturn type (PR #
-00034bb0: 3331 3938 290a 2d20 2020 5265 6661 6374  3198).-   Refact
-00034bc0: 6f72 2073 796e 6320 4150 4973 2074 6f20  or sync APIs to 
-00034bd0: 7265 7573 6520 7061 6769 6e61 7469 6f6e  reuse pagination
-00034be0: 2041 5049 2028 5052 2023 3331 3939 290a   API (PR #3199).
-00034bf0: 2d20 2020 5265 6d6f 7665 2075 6e75 7365  -   Remove unuse
-00034c00: 6420 636f 6465 2070 6174 6820 6672 6f6d  d code path from
-00034c10: 206d 656d 6265 7220 6368 616e 6765 2044   member change D
-00034c20: 4220 6675 6e63 2028 5052 2023 3332 3030  B func (PR #3200
-00034c30: 290a 2d20 2020 5265 6661 6374 6f72 2072  ).-   Refactor r
-00034c40: 6571 7565 7374 2068 616e 646c 696e 6720  equest handling 
-00034c50: 7772 6170 7065 7273 2028 5052 2023 3332  wrappers (PR #32
-00034c60: 3033 290a 2d20 2020 7472 616e 7361 6374  03).-   transact
-00034c70: 696f 6e5c 5f69 642c 2064 6573 7469 6e61  ion\_id, destina
-00034c80: 7469 6f6e 2064 6566 696e 6564 2074 7769  tion defined twi
-00034c90: 6365 2028 5052 2023 3332 3039 2920 5468  ce (PR #3209) Th
-00034ca0: 616e 6b73 2074 6f20 4064 616d 6972 2d6d  anks to @damir-m
-00034cb0: 616e 6170 6f76 210a 2d20 2020 5265 6661  anapov!.-   Refa
-00034cc0: 6374 6f72 2065 7665 6e74 2073 746f 7261  ctor event stora
-00034cd0: 6765 2074 6f20 7072 6570 6172 6520 666f  ge to prepare fo
-00034ce0: 7220 6368 616e 6765 7320 696e 2073 7461  r changes in sta
-00034cf0: 7465 2063 616c 6375 6c61 7469 6f6e 7320  te calculations 
-00034d00: 2850 5220 2333 3134 3129 0a2d 2020 2053  (PR #3141).-   S
-00034d10: 6574 2053 6572 7665 7220 6865 6164 6572  et Server header
-00034d20: 2069 6e20 5379 6e61 7073 6552 6571 7565   in SynapseReque
-00034d30: 7374 2028 5052 2023 3332 3038 290a 2d20  st (PR #3208).- 
-00034d40: 2020 5573 6520 6465 6665 7272 6564 2e61    Use deferred.a
-00034d50: 6464 5469 6d65 6f75 7420 696e 7374 6561  ddTimeout instea
-00034d60: 6420 6f66 2074 696d 655c 5f62 6f75 6e64  d of time\_bound
-00034d70: 5c5f 6465 6665 7272 6564 2028 5052 2023  \_deferred (PR #
-00034d80: 3331 3237 2c20 2333 3137 3829 0a2d 2020  3127, #3178).-  
-00034d90: 2055 7365 2072 756e 5c5f 696e 5c5f 6261   Use run\_in\_ba
-00034da0: 636b 6772 6f75 6e64 2069 6e20 7072 6566  ckground in pref
-00034db0: 6572 656e 6365 2074 6f20 7072 6573 6572  erence to preser
-00034dc0: 7665 5c5f 666e 2028 5052 2023 3331 3430  ve\_fn (PR #3140
-00034dd0: 290a 0a43 6861 6e67 6573 202d 2050 7974  )..Changes - Pyt
-00034de0: 686f 6e20 3320 6d69 6772 6174 696f 6e3a  hon 3 migration:
-00034df0: 0a0a 2d20 2020 436f 6e73 7472 7563 7420  ..-   Construct 
-00034e00: 484d 4143 2061 7320 6279 7465 7320 6f6e  HMAC as bytes on
-00034e10: 2070 7933 2028 5052 2023 3331 3536 2920   py3 (PR #3156) 
-00034e20: 5468 616e 6b73 2074 6f20 404e 6f74 4146  Thanks to @NotAF
-00034e30: 696c 6521 0a2d 2020 2072 756e 2063 6f6e  ile!.-   run con
-00034e40: 6669 6720 7465 7374 7320 6f6e 2070 7933  fig tests on py3
-00034e50: 2028 5052 2023 3331 3539 2920 5468 616e   (PR #3159) Than
-00034e60: 6b73 2074 6f20 404e 6f74 4146 696c 6521  ks to @NotAFile!
-00034e70: 0a2d 2020 204f 7065 6e20 6365 7274 6966  .-   Open certif
-00034e80: 6963 6174 6520 6669 6c65 7320 6173 2062  icate files as b
-00034e90: 7974 6573 2028 5052 2023 3330 3834 2920  ytes (PR #3084) 
-00034ea0: 5468 616e 6b73 2074 6f20 404e 6f74 4146  Thanks to @NotAF
-00034eb0: 696c 6521 0a2d 2020 204f 7065 6e20 636f  ile!.-   Open co
-00034ec0: 6e66 6967 2066 696c 6520 696e 206e 6f6e  nfig file in non
-00034ed0: 2d62 7974 6573 206d 6f64 6520 2850 5220  -bytes mode (PR 
-00034ee0: 2333 3038 3529 2054 6861 6e6b 7320 746f  #3085) Thanks to
-00034ef0: 2040 4e6f 7441 4669 6c65 210a 2d20 2020   @NotAFile!.-   
-00034f00: 4d61 6b65 2065 7665 6e74 2070 726f 7065  Make event prope
-00034f10: 7274 6965 7320 7261 6973 6520 4174 7472  rties raise Attr
-00034f20: 6962 7574 6545 7272 6f72 2069 6e73 7465  ibuteError inste
-00034f30: 6164 2028 5052 2023 3331 3032 2920 5468  ad (PR #3102) Th
-00034f40: 616e 6b73 2074 6f20 404e 6f74 4146 696c  anks to @NotAFil
-00034f50: 6521 0a2d 2020 2055 7365 2073 6978 2e6d  e!.-   Use six.m
-00034f60: 6f76 6573 2e75 726c 7061 7273 6520 2850  oves.urlparse (P
-00034f70: 5220 2333 3130 3829 2054 6861 6e6b 7320  R #3108) Thanks 
-00034f80: 746f 2040 4e6f 7441 4669 6c65 210a 2d20  to @NotAFile!.- 
-00034f90: 2020 4164 6420 7079 3320 7465 7374 7320    Add py3 tests 
-00034fa0: 746f 2074 6f78 2077 6974 6820 666f 6c64  to tox with fold
-00034fb0: 6572 7320 7468 6174 2077 6f72 6b20 2850  ers that work (P
-00034fc0: 5220 2333 3134 3529 2054 6861 6e6b 7320  R #3145) Thanks 
-00034fd0: 746f 2040 4e6f 7441 4669 6c65 210a 2d20  to @NotAFile!.- 
-00034fe0: 2020 446f 6e5c 2774 2079 6965 6c64 2069    Don\'t yield i
-00034ff0: 6e20 6c69 7374 2063 6f6d 7072 6568 656e  n list comprehen
-00035000: 7369 6f6e 7320 2850 5220 2333 3135 3029  sions (PR #3150)
-00035010: 2054 6861 6e6b 7320 746f 2040 4e6f 7441   Thanks to @NotA
-00035020: 4669 6c65 210a 2d20 2020 4d6f 7665 206d  File!.-   Move m
-00035030: 6f72 6520 7872 616e 6765 2074 6f20 7369  ore xrange to si
-00035040: 7820 2850 5220 2333 3135 3129 2054 6861  x (PR #3151) Tha
-00035050: 6e6b 7320 746f 2040 4e6f 7441 4669 6c65  nks to @NotAFile
-00035060: 210a 2d20 2020 6d61 6b65 2069 6d70 6f72  !.-   make impor
-00035070: 7473 206c 6f63 616c 2028 5052 2023 3331  ts local (PR #31
-00035080: 3532 2920 5468 616e 6b73 2074 6f20 404e  52) Thanks to @N
-00035090: 6f74 4146 696c 6521 0a2d 2020 206d 6f76  otAFile!.-   mov
-000350a0: 6520 6874 7470 6c69 6220 696d 706f 7274  e httplib import
-000350b0: 2074 6f20 7369 7820 2850 5220 2333 3135   to six (PR #315
-000350c0: 3329 2054 6861 6e6b 7320 746f 2040 4e6f  3) Thanks to @No
-000350d0: 7441 4669 6c65 210a 2d20 2020 5265 706c  tAFile!.-   Repl
-000350e0: 6163 6520 7374 7269 6e67 494f 2069 6d70  ace stringIO imp
-000350f0: 6f72 7473 2077 6974 6820 7369 7820 2850  orts with six (P
-00035100: 5220 2333 3135 342c 2023 3331 3638 2920  R #3154, #3168) 
-00035110: 5468 616e 6b73 2074 6f20 404e 6f74 4146  Thanks to @NotAF
-00035120: 696c 6521 0a2d 2020 206d 6f72 6520 6279  ile!.-   more by
-00035130: 7465 7320 7374 7269 6e67 7320 2850 5220  tes strings (PR 
-00035140: 2333 3135 3529 2054 6861 6e6b 7320 746f  #3155) Thanks to
-00035150: 2040 4e6f 7441 4669 6c65 210a 0a42 7567   @NotAFile!..Bug
-00035160: 2046 6978 6573 3a0a 0a2d 2020 2073 796e   Fixes:..-   syn
-00035170: 6170 7365 2066 6169 6c73 2074 6f20 7374  apse fails to st
-00035180: 6172 7420 756e 6465 7220 5477 6973 7465  art under Twiste
-00035190: 6420 5c3e 3d20 3138 2e34 2028 5052 2023  d \>= 18.4 (PR #
-000351a0: 3331 3537 290a 2d20 2020 4669 7820 6120  3157).-   Fix a 
-000351b0: 636c 6173 7320 6f66 206c 6f67 636f 6e74  class of logcont
-000351c0: 6578 7420 6c65 616b 7320 2850 5220 2333  ext leaks (PR #3
-000351d0: 3137 3029 0a2d 2020 2046 6978 2061 2063  170).-   Fix a c
-000351e0: 6f75 706c 6520 6f66 206c 6f67 636f 6e74  ouple of logcont
-000351f0: 6578 7420 6c65 616b 7320 696e 2075 6e69  ext leaks in uni
-00035200: 7420 7465 7374 7320 2850 5220 2333 3137  t tests (PR #317
-00035210: 3229 0a2d 2020 2046 6978 206c 6f67 636f  2).-   Fix logco
-00035220: 6e74 6578 7420 6c65 616b 2069 6e20 6d65  ntext leak in me
-00035230: 6469 6120 7265 706f 2028 5052 2023 3331  dia repo (PR #31
-00035240: 3734 290a 2d20 2020 4573 6361 7065 206c  74).-   Escape l
-00035250: 6162 656c 2076 616c 7565 7320 696e 2070  abel values in p
-00035260: 726f 6d65 7468 6575 7320 6d65 7472 6963  rometheus metric
-00035270: 7320 2850 5220 2333 3137 352c 2023 3331  s (PR #3175, #31
-00035280: 3836 290a 2d20 2020 4669 7820 5c27 556e  86).-   Fix \'Un
-00035290: 6861 6e64 6c65 6420 4572 726f 725c 2720  handled Error\' 
-000352a0: 6c6f 6773 2077 6974 6820 5477 6973 7465  logs with Twiste
-000352b0: 6420 3138 2e34 2028 5052 2023 3331 3832  d 18.4 (PR #3182
-000352c0: 2920 5468 616e 6b73 2074 6f20 4048 616c  ) Thanks to @Hal
-000352d0: 662d 5368 6f74 210a 2d20 2020 4669 7820  f-Shot!.-   Fix 
-000352e0: 6c6f 6763 6f6e 7465 7874 206c 6561 6b73  logcontext leaks
-000352f0: 2069 6e20 7261 7465 206c 696d 6974 6572   in rate limiter
-00035300: 2028 5052 2023 3331 3833 290a 2d20 2020   (PR #3183).-   
-00035310: 6e6f 7469 6669 6361 7469 6f6e 733a 2043  notifications: C
-00035320: 6f6e 7665 7274 206e 6578 745c 5f74 6f6b  onvert next\_tok
-00035330: 656e 2074 6f20 7374 7269 6e67 2061 6363  en to string acc
-00035340: 6f72 6469 6e67 2074 6f20 7468 6520 7370  ording to the sp
-00035350: 6563 2028 5052 2023 3331 3930 2920 5468  ec (PR #3190) Th
-00035360: 616e 6b73 2074 6f20 406d 756a 7821 0a2d  anks to @mujx!.-
-00035370: 2020 206e 756b 652d 726f 6f6d 2d66 726f     nuke-room-fro
-00035380: 6d2d 6462 2e73 683a 2066 6978 2064 656c  m-db.sh: fix del
-00035390: 6574 696f 6e20 6672 6f6d 2073 6561 7263  etion from searc
-000353a0: 6820 7461 626c 6520 2850 5220 2333 3139  h table (PR #319
-000353b0: 3429 2054 6861 6e6b 7320 746f 2040 7275  4) Thanks to @ru
-000353c0: 626f 3737 210a 2d20 2020 6164 6420 6775  bo77!.-   add gu
-000353d0: 6172 6420 666f 7220 4e6f 6e65 206f 6e20  ard for None on 
-000353e0: 7075 7267 655c 5f68 6973 746f 7279 2061  purge\_history a
-000353f0: 7069 2028 5052 2023 3331 3630 2920 5468  pi (PR #3160) Th
-00035400: 616e 6b73 2074 6f20 406b 726f 6d62 656c  anks to @krombel
-00035410: 210a 0a43 6861 6e67 6573 2069 6e20 7379  !..Changes in sy
-00035420: 6e61 7073 6520 7630 2e32 382e 3120 2832  napse v0.28.1 (2
-00035430: 3031 382d 3035 2d30 3129 0a3d 3d3d 3d3d  018-05-01).=====
-00035440: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00035450: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00035460: 3d3d 0a0a 5345 4355 5249 5459 2055 5044  ==..SECURITY UPD
-00035470: 4154 450a 0a2d 2020 2043 6c61 6d70 2074  ATE..-   Clamp t
-00035480: 6865 2061 6c6c 6f77 6564 2076 616c 7565  he allowed value
-00035490: 7320 6f66 2065 7665 6e74 2064 6570 7468  s of event depth
-000354a0: 2072 6563 6569 7665 6420 6f76 6572 2066   received over f
-000354b0: 6564 6572 6174 696f 6e20 746f 2062 6520  ederation to be 
-000354c0: 5c5b 302c 2032 5c5e 3633 202d 2031 5c5d  \[0, 2\^63 - 1\]
-000354d0: 2e20 5468 6973 206d 6974 6967 6174 6573  . This mitigates
-000354e0: 2061 6e20 6174 7461 636b 2077 6865 7265   an attack where
-000354f0: 206d 616c 6963 696f 7573 2065 7665 6e74   malicious event
-00035500: 7320 696e 6a65 6374 6564 2077 6974 6820  s injected with 
-00035510: 6465 7074 6820 3d20 325c 5e36 3320 2d20  depth = 2\^63 - 
-00035520: 3120 7265 6e64 6572 2072 6f6f 6d73 2075  1 render rooms u
-00035530: 6e75 7361 626c 652e 2044 6570 7468 2069  nusable. Depth i
-00035540: 7320 7573 6564 2074 6f20 6465 7465 726d  s used to determ
-00035550: 696e 6520 7468 6520 636f 736d 6574 6963  ine the cosmetic
-00035560: 206f 7264 6572 696e 6720 6f66 2065 7665   ordering of eve
-00035570: 6e74 7320 7769 7468 696e 2061 2072 6f6f  nts within a roo
-00035580: 6d2c 2061 6e64 2073 6f20 7468 6520 6f72  m, and so the or
-00035590: 6465 7269 6e67 206f 6620 6576 656e 7473  dering of events
-000355a0: 2069 6e20 7375 6368 2061 2072 6f6f 6d20   in such a room 
-000355b0: 7769 6c6c 2064 6566 6175 6c74 2074 6f20  will default to 
-000355c0: 7573 696e 6720 7374 7265 616d 5c5f 6f72  using stream\_or
-000355d0: 6465 7269 6e67 2072 6174 6865 7220 7468  dering rather th
-000355e0: 616e 2064 6570 7468 2028 746f 706f 6c6f  an depth (topolo
-000355f0: 6769 6361 6c5c 5f6f 7264 6572 696e 6729  gical\_ordering)
-00035600: 2e0a 0a20 2020 2054 6869 7320 6973 2061  ...    This is a
-00035610: 2074 656d 706f 7261 7279 2073 6f6c 7574   temporary solut
-00035620: 696f 6e20 746f 206d 6974 6967 6174 6520  ion to mitigate 
-00035630: 6162 7573 6520 696e 2074 6865 2077 696c  abuse in the wil
-00035640: 642c 2077 6869 6c73 7420 6120 6c6f 6e67  d, whilst a long
-00035650: 2074 6572 6d20 736f 6c75 7469 6f6e 2069   term solution i
-00035660: 7320 6265 696e 6720 696d 706c 656d 656e  s being implemen
-00035670: 7465 6420 746f 2069 6d70 726f 7665 2068  ted to improve h
-00035680: 6f77 2074 6865 2064 6570 7468 2070 6172  ow the depth par
-00035690: 616d 6574 6572 2069 7320 7573 6564 2e0a  ameter is used..
-000356a0: 0a20 2020 2046 756c 6c20 6465 7461 696c  .    Full detail
-000356b0: 7320 6174 203c 6874 7470 733a 2f2f 646f  s at <https://do
-000356c0: 6373 2e67 6f6f 676c 652e 636f 6d2f 646f  cs.google.com/do
-000356d0: 6375 6d65 6e74 2f64 2f31 4933 6669 3253  cument/d/1I3fi2S
-000356e0: 2d58 6e70 4f34 3571 7270 4373 6f77 5a76  -XnpO45qrpCsowZv
-000356f0: 3850 3864 4863 4e5a 3466 7342 7362 4f57  8P8dHcNZ4fsBsbOW
-00035700: 374b 4142 493e 0a0a 2d20 2020 5069 6e20  7KABI>..-   Pin 
-00035710: 5477 6973 7465 6420 746f 205c 3c31 382e  Twisted to \<18.
-00035720: 3420 756e 7469 6c20 7765 2073 746f 7020  4 until we stop 
-00035730: 7573 696e 6720 7468 6520 7072 6976 6174  using the privat
-00035740: 6520 5c5f 4f70 656e 5353 4c45 4343 7572  e \_OpenSSLECCur
-00035750: 7665 2041 5049 2e0a 0a43 6861 6e67 6573  ve API...Changes
-00035760: 2069 6e20 7379 6e61 7073 6520 7630 2e32   in synapse v0.2
-00035770: 382e 3020 2832 3031 382d 3034 2d32 3629  8.0 (2018-04-26)
-00035780: 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  .===============
-00035790: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000357a0: 3d3d 3d3d 3d3d 3d3d 0a0a 4275 6720 4669  ========..Bug Fi
-000357b0: 7865 733a 0a0a 2d20 2020 4669 7820 7175  xes:..-   Fix qu
-000357c0: 6172 616e 7469 6e65 206d 6564 6961 2061  arantine media a
-000357d0: 646d 696e 2041 5049 2061 6e64 2073 6561  dmin API and sea
-000357e0: 7263 6820 7265 696e 6465 7820 2850 5220  rch reindex (PR 
-000357f0: 2333 3133 3029 0a2d 2020 2046 6978 206d  #3130).-   Fix m
-00035800: 6564 6961 2061 646d 696e 2041 5049 7320  edia admin APIs 
-00035810: 2850 5220 2333 3133 3429 0a0a 4368 616e  (PR #3134)..Chan
-00035820: 6765 7320 696e 2073 796e 6170 7365 2076  ges in synapse v
-00035830: 302e 3238 2e30 2d72 6331 2028 3230 3138  0.28.0-rc1 (2018
-00035840: 2d30 342d 3234 290a 3d3d 3d3d 3d3d 3d3d  -04-24).========
-00035850: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00035860: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00035870: 3d3d 3d0a 0a4d 696e 6f72 2070 6572 666f  ===..Minor perfo
-00035880: 726d 616e 6365 2069 6d70 726f 7665 6d65  rmance improveme
-00035890: 6e74 2074 6f20 6665 6465 7261 7469 6f6e  nt to federation
-000358a0: 2073 656e 6469 6e67 2061 6e64 2062 7567   sending and bug
-000358b0: 2066 6978 6573 2e0a 0a28 4e6f 7465 3a20   fixes...(Note: 
-000358c0: 5468 6973 2072 656c 6561 7365 2064 6f65  This release doe
-000358d0: 7320 6e6f 7420 696e 636c 7564 6520 7468  s not include th
-000358e0: 6520 6465 6c74 6120 7374 6174 6520 7265  e delta state re
-000358f0: 736f 6c75 7469 6f6e 2069 6d70 6c65 6d65  solution impleme
-00035900: 6e74 6174 696f 6e20 6469 7363 7573 7365  ntation discusse
-00035910: 6420 696e 206d 6174 7269 7820 6c69 7665  d in matrix live
-00035920: 290a 0a46 6561 7475 7265 733a 0a0a 2d20  )..Features:..- 
-00035930: 2020 4164 6420 6d65 7472 6963 7320 666f    Add metrics fo
-00035940: 7220 6576 656e 7420 7072 6f63 6573 7369  r event processi
-00035950: 6e67 206c 6167 2028 5052 2023 3330 3930  ng lag (PR #3090
-00035960: 290a 2d20 2020 4164 6420 6d65 7472 6963  ).-   Add metric
-00035970: 7320 666f 7220 5265 7370 6f6e 7365 4361  s for ResponseCa
-00035980: 6368 6520 2850 5220 2333 3039 3229 0a0a  che (PR #3092)..
-00035990: 4368 616e 6765 733a 0a0a 2d20 2020 5379  Changes:..-   Sy
-000359a0: 6e61 7073 6520 6f6e 2050 7950 7920 2850  napse on PyPy (P
-000359b0: 5220 2332 3736 3029 2054 6861 6e6b 7320  R #2760) Thanks 
-000359c0: 746f 2040 5661 6c6f 6469 6d21 0a2d 2020  to @Valodim!.-  
-000359d0: 206d 6f76 6520 6861 6e64 6c69 6e67 206f   move handling o
-000359e0: 6620 6175 746f 5c5f 6a6f 696e 5c5f 726f  f auto\_join\_ro
-000359f0: 6f6d 7320 746f 2052 6567 6973 7465 7248  oms to RegisterH
-00035a00: 616e 646c 6572 2028 5052 2023 3239 3936  andler (PR #2996
-00035a10: 2920 5468 616e 6b73 2074 6f20 406b 726f  ) Thanks to @kro
-00035a20: 6d62 656c 210a 2d20 2020 496d 7072 6f76  mbel!.-   Improv
-00035a30: 6520 6861 6e64 6c69 6e67 206f 6620 5352  e handling of SR
-00035a40: 5620 7265 636f 7264 7320 666f 7220 6665  V records for fe
-00035a50: 6465 7261 7469 6f6e 2063 6f6e 6e65 6374  deration connect
-00035a60: 696f 6e73 2028 5052 2023 3330 3136 2920  ions (PR #3016) 
-00035a70: 5468 616e 6b73 2074 6f20 4073 696c 6b65  Thanks to @silke
-00035a80: 6821 0a2d 2020 2044 6f63 756d 656e 7420  h!.-   Document 
-00035a90: 7468 6520 6265 6861 7669 6f75 7220 6f66  the behaviour of
-00035aa0: 2052 6573 706f 6e73 6543 6163 6865 2028   ResponseCache (
-00035ab0: 5052 2023 3330 3539 290a 2d20 2020 5072  PR #3059).-   Pr
-00035ac0: 6570 6172 6174 696f 6e20 666f 7220 7079  eparation for py
-00035ad0: 3320 2850 5220 2333 3036 312c 2023 3330  3 (PR #3061, #30
-00035ae0: 3733 2c20 2333 3037 342c 2023 3330 3735  73, #3074, #3075
-00035af0: 2c20 2333 3130 332c 2023 3331 3034 2c20  , #3103, #3104, 
-00035b00: 2333 3130 362c 2023 3331 3037 2c20 2333  #3106, #3107, #3
-00035b10: 3130 392c 2023 3331 3130 2920 5468 616e  109, #3110) Than
-00035b20: 6b73 2074 6f20 404e 6f74 4146 696c 6521  ks to @NotAFile!
-00035b30: 0a2d 2020 2075 7064 6174 6520 7072 6f6d  .-   update prom
-00035b40: 6574 6865 7573 2064 6173 6862 6f61 7264  etheus dashboard
-00035b50: 2074 6f20 7573 6520 6e65 7720 6d65 7472   to use new metr
-00035b60: 6963 206e 616d 6573 2028 5052 2023 3330  ic names (PR #30
-00035b70: 3639 2920 5468 616e 6b73 2074 6f20 406b  69) Thanks to @k
-00035b80: 726f 6d62 656c 210a 2d20 2020 7573 6520  rombel!.-   use 
-00035b90: 7079 7468 6f6e 332d 636f 6d70 6174 6962  python3-compatib
-00035ba0: 6c65 2070 7269 6e74 7320 2850 5220 2333  le prints (PR #3
-00035bb0: 3037 3429 2054 6861 6e6b 7320 746f 2040  074) Thanks to @
-00035bc0: 4e6f 7441 4669 6c65 210a 2d20 2020 5365  NotAFile!.-   Se
-00035bd0: 6e64 2066 6564 6572 6174 696f 6e20 6576  nd federation ev
-00035be0: 656e 7473 2063 6f6e 6375 7272 656e 746c  ents concurrentl
-00035bf0: 7920 2850 5220 2333 3037 3829 0a2d 2020  y (PR #3078).-  
-00035c00: 204c 696d 6974 2063 6f6e 6375 7272 656e   Limit concurren
-00035c10: 7420 6576 656e 7420 7365 6e64 7320 666f  t event sends fo
-00035c20: 7220 6120 726f 6f6d 2028 5052 2023 3330  r a room (PR #30
-00035c30: 3739 290a 2d20 2020 496d 7072 6f76 6520  79).-   Improve 
-00035c40: 5233 3020 7374 6174 2064 6566 696e 6974  R30 stat definit
-00035c50: 696f 6e20 2850 5220 2333 3038 3629 0a2d  ion (PR #3086).-
-00035c60: 2020 2053 656e 6420 6576 656e 7473 2074     Send events t
-00035c70: 6f20 4153 6573 2063 6f6e 6375 7272 656e  o ASes concurren
-00035c80: 746c 7920 2850 5220 2333 3038 3829 0a2d  tly (PR #3088).-
-00035c90: 2020 2052 6566 6163 746f 7220 5265 7370     Refactor Resp
-00035ca0: 6f6e 7365 4361 6368 6520 7573 6167 6520  onseCache usage 
-00035cb0: 2850 5220 2333 3039 3329 0a2d 2020 2043  (PR #3093).-   C
-00035cc0: 6c61 7269 6679 2074 6861 7420 5352 5620  larify that SRV 
-00035cd0: 6d61 7920 6e6f 7420 706f 696e 7420 746f  may not point to
-00035ce0: 2061 2043 4e41 4d45 2028 5052 2023 3331   a CNAME (PR #31
-00035cf0: 3030 2920 5468 616e 6b73 2074 6f20 4073  00) Thanks to @s
-00035d00: 696c 6b65 6821 0a2d 2020 2055 7365 2073  ilkeh!.-   Use s
-00035d10: 7472 2865 2920 696e 7374 6561 6420 6f66  tr(e) instead of
-00035d20: 2065 2e6d 6573 7361 6765 2028 5052 2023   e.message (PR #
-00035d30: 3331 3033 2920 5468 616e 6b73 2074 6f20  3103) Thanks to 
-00035d40: 404e 6f74 4146 696c 6521 0a2d 2020 2055  @NotAFile!.-   U
-00035d50: 7365 2073 6978 2e69 7465 7276 616c 7565  se six.itervalue
-00035d60: 7320 696e 2073 6f6d 6520 706c 6163 6573  s in some places
-00035d70: 2028 5052 2023 3331 3036 2920 5468 616e   (PR #3106) Than
-00035d80: 6b73 2074 6f20 404e 6f74 4146 696c 6521  ks to @NotAFile!
-00035d90: 0a2d 2020 2052 6566 6163 746f 7220 7374  .-   Refactor st
-00035da0: 6f72 652e 6861 7665 5c5f 6576 656e 7473  ore.have\_events
-00035db0: 2028 5052 2023 3331 3137 290a 0a42 7567   (PR #3117)..Bug
-00035dc0: 2046 6978 6573 3a0a 0a2d 2020 2052 6574   Fixes:..-   Ret
-00035dd0: 7572 6e20 3430 3120 666f 7220 696e 7661  urn 401 for inva
-00035de0: 6c69 6420 6163 6365 7373 5c5f 746f 6b65  lid access\_toke
-00035df0: 6e20 6f6e 206c 6f67 6f75 7420 2850 5220  n on logout (PR 
-00035e00: 2332 3933 3829 2054 6861 6e6b 7320 746f  #2938) Thanks to
-00035e10: 2040 646b 6c75 6721 0a2d 2020 2052 6574   @dklug!.-   Ret
-00035e20: 7572 6e20 6120 3430 3420 7261 7468 6572  urn a 404 rather
-00035e30: 2074 6861 6e20 6120 3530 3020 6f6e 2072   than a 500 on r
-00035e40: 656a 6f69 6e69 6e67 2065 6d70 7479 2072  ejoining empty r
-00035e50: 6f6f 6d73 2028 5052 2023 3330 3830 290a  ooms (PR #3080).
-00035e60: 2d20 2020 6669 7820 6665 6465 7261 7469  -   fix federati
-00035e70: 6f6e 5c5f 646f 6d61 696e 5c5f 7768 6974  on\_domain\_whit
-00035e80: 656c 6973 7420 2850 5220 2333 3039 3929  elist (PR #3099)
-00035e90: 0a2d 2020 2041 766f 6964 2063 7265 6174  .-   Avoid creat
-00035ea0: 696e 6720 6576 656e 7473 2077 6974 6820  ing events with 
-00035eb0: 6875 6765 206e 756d 6265 7273 206f 6620  huge numbers of 
-00035ec0: 7072 6576 5c5f 6576 656e 7473 2028 5052  prev\_events (PR
-00035ed0: 2023 3331 3133 290a 2d20 2020 5265 6a65   #3113).-   Reje
-00035ee0: 6374 2065 7665 6e74 7320 7768 6963 6820  ct events which 
-00035ef0: 6861 7665 206c 6f74 7320 6f66 2070 7265  have lots of pre
-00035f00: 765c 5f65 7665 6e74 7320 2850 5220 2333  v\_events (PR #3
-00035f10: 3131 3829 0a0a 4368 616e 6765 7320 696e  118)..Changes in
-00035f20: 2073 796e 6170 7365 2076 302e 3237 2e34   synapse v0.27.4
-00035f30: 2028 3230 3138 2d30 342d 3133 290a 3d3d   (2018-04-13).==
-00035f40: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00035f50: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00035f60: 3d3d 3d3d 3d0a 0a43 6861 6e67 6573 3a0a  =====..Changes:.
-00035f70: 0a2d 2020 2055 7064 6174 6520 6361 6e6f  .-   Update cano
-00035f80: 6e69 6361 6c6a 736f 6e20 6465 7065 6e64  nicaljson depend
-00035f90: 656e 6379 2028 5c23 3330 3935 290a 0a43  ency (\#3095)..C
-00035fa0: 6861 6e67 6573 2069 6e20 7379 6e61 7073  hanges in synaps
-00035fb0: 6520 7630 2e32 372e 3320 2832 3031 382d  e v0.27.3 (2018-
-00035fc0: 3034 2d31 3129 0a3d 3d3d 3d3d 3d3d 3d3d  04-11).=========
-00035fd0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00035fe0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a42  =============..B
-00035ff0: 7567 2066 6978 6573 3a0a 0a2d 2020 2055  ug fixes:..-   U
-00036000: 524c 2071 756f 7465 2070 6174 6820 7365  RL quote path se
-00036010: 676d 656e 7473 206f 7665 7220 6665 6465  gments over fede
-00036020: 7261 7469 6f6e 2028 5c23 3330 3832 290a  ration (\#3082).
-00036030: 0a43 6861 6e67 6573 2069 6e20 7379 6e61  .Changes in syna
-00036040: 7073 6520 7630 2e32 372e 332d 7263 3220  pse v0.27.3-rc2 
-00036050: 2832 3031 382d 3034 2d30 3929 0a3d 3d3d  (2018-04-09).===
-00036060: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00036070: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00036080: 3d3d 3d3d 3d3d 3d3d 0a0a 7630 2e32 372e  ========..v0.27.
-00036090: 332d 7263 3120 7573 6564 2061 2073 7461  3-rc1 used a sta
-000360a0: 6c65 2076 6572 7369 6f6e 206f 6620 7468  le version of th
-000360b0: 6520 6465 7665 6c6f 7020 6272 616e 6368  e develop branch
-000360c0: 2073 6f20 7468 6520 6368 616e 6765 6c6f   so the changelo
-000360d0: 6720 6f76 6572 7374 6174 6573 2074 6865  g overstates the
-000360e0: 2066 756e 6374 696f 6e61 6c69 7479 2e20   functionality. 
-000360f0: 7630 2e32 372e 332d 7263 3220 6973 2075  v0.27.3-rc2 is u
-00036100: 7020 746f 2064 6174 652c 2072 6331 2073  p to date, rc1 s
-00036110: 686f 756c 6420 6265 2069 676e 6f72 6564  hould be ignored
-00036120: 2e0a 0a43 6861 6e67 6573 2069 6e20 7379  ...Changes in sy
-00036130: 6e61 7073 6520 7630 2e32 372e 332d 7263  napse v0.27.3-rc
-00036140: 3120 2832 3031 382d 3034 2d30 3929 0a3d  1 (2018-04-09).=
+0002d780: 3d3d 3d3d 3d0a 0a53 4543 5552 4954 5920  =====..SECURITY 
+0002d790: 4649 5845 530a 2d2d 2d2d 2d2d 2d2d 2d2d  FIXES.----------
+0002d7a0: 2d2d 2d2d 0a0a 2d20 4669 7820 616e 2069  ----..- Fix an i
+0002d7b0: 7373 7565 2077 6865 7265 2065 7665 6e74  ssue where event
+0002d7c0: 2073 6967 6e61 7475 7265 7320 7765 7265   signatures were
+0002d7d0: 206e 6f74 2061 6c77 6179 7320 636f 7272   not always corr
+0002d7e0: 6563 746c 7920 7661 6c69 6461 7465 6420  ectly validated 
+0002d7f0: 285b 5c23 3337 3936 5d28 6874 7470 733a  ([\#3796](https:
+0002d800: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+0002d810: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+0002d820: 6973 7375 6573 2f33 3739 3629 290a 2d20  issues/3796)).- 
+0002d830: 4669 7820 616e 2069 7373 7565 2077 6865  Fix an issue whe
+0002d840: 7265 2073 6572 7665 725f 6163 6c73 2063  re server_acls c
+0002d850: 6f75 6c64 2062 6520 6369 7263 756d 7665  ould be circumve
+0002d860: 6e74 6564 2066 6f72 2069 6e63 6f6d 696e  nted for incomin
+0002d870: 6720 6576 656e 7473 2028 5b5c 2333 3739  g events ([\#379
+0002d880: 365d 2868 7474 7073 3a2f 2f67 6974 6875  6](https://githu
+0002d890: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+0002d8a0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+0002d8b0: 3337 3936 2929 0a0a 0a49 6e74 6572 6e61  3796))...Interna
+0002d8c0: 6c20 4368 616e 6765 730a 2d2d 2d2d 2d2d  l Changes.------
+0002d8d0: 2d2d 2d2d 2d2d 2d2d 2d2d 0a0a 2d20 556e  ----------..- Un
+0002d8e0: 6967 6e6f 7265 2073 796e 6374 6c20 696e  ignore synctl in
+0002d8f0: 202e 646f 636b 6572 6967 6e6f 7265 2074   .dockerignore t
+0002d900: 6f20 6669 7820 646f 636b 6572 2062 7569  o fix docker bui
+0002d910: 6c64 7320 285b 5c23 3338 3032 5d28 6874  lds ([\#3802](ht
+0002d920: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+0002d930: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+0002d940: 7073 652f 6973 7375 6573 2f33 3830 3229  pse/issues/3802)
+0002d950: 290a 0a0a 5379 6e61 7073 6520 302e 3333  )...Synapse 0.33
+0002d960: 2e34 7263 3120 2832 3031 382d 3039 2d30  .4rc1 (2018-09-0
+0002d970: 3429 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  4).=============
+0002d980: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0002d990: 3d0a 0a46 6561 7475 7265 730a 2d2d 2d2d  =..Features.----
+0002d9a0: 2d2d 2d2d 0a0a 2d20 5375 7070 6f72 7420  ----..- Support 
+0002d9b0: 7072 6f66 696c 6520 4150 4920 656e 6470  profile API endp
+0002d9c0: 6f69 6e74 7320 6f6e 2077 6f72 6b65 7273  oints on workers
+0002d9d0: 2028 5b5c 2333 3635 395d 2868 7474 7073   ([\#3659](https
+0002d9e0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+0002d9f0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+0002da00: 2f69 7373 7565 732f 3336 3539 2929 0a2d  /issues/3659)).-
+0002da10: 2053 6572 7665 7220 6e6f 7469 6365 7320   Server notices 
+0002da20: 666f 7220 7265 736f 7572 6365 206c 696d  for resource lim
+0002da30: 6974 2062 6c6f 636b 696e 6720 285b 5c23  it blocking ([\#
+0002da40: 3336 3830 5d28 6874 7470 733a 2f2f 6769  3680](https://gi
+0002da50: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+0002da60: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+0002da70: 6573 2f33 3638 3029 290a 2d20 416c 6c6f  es/3680)).- Allo
+0002da80: 7720 6775 6573 7473 2074 6f20 7573 6520  w guests to use 
+0002da90: 2f72 6f6f 6d73 2f3a 726f 6f6d 4964 2f65  /rooms/:roomId/e
+0002daa0: 7665 6e74 2f3a 6576 656e 7449 6420 285b  vent/:eventId ([
+0002dab0: 5c23 3337 3234 5d28 6874 7470 733a 2f2f  \#3724](https://
+0002dac0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+0002dad0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+0002dae0: 7375 6573 2f33 3732 3429 290a 2d20 4164  sues/3724)).- Ad
+0002daf0: 6420 6d61 755f 7472 6961 6c5f 6461 7973  d mau_trial_days
+0002db00: 2063 6f6e 6669 6720 7061 7261 6d2c 2073   config param, s
+0002db10: 6f20 7468 6174 2075 7365 7273 206f 6e6c  o that users onl
+0002db20: 7920 6765 7420 636f 756e 7465 6420 6173  y get counted as
+0002db30: 204d 4155 2061 6674 6572 204e 2064 6179   MAU after N day
+0002db40: 732e 2028 5b5c 2333 3734 395d 2868 7474  s. ([\#3749](htt
+0002db50: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0002db60: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+0002db70: 7365 2f69 7373 7565 732f 3337 3439 2929  se/issues/3749))
+0002db80: 0a2d 2052 6571 7569 7265 2074 7769 7374  .- Require twist
+0002db90: 6564 2031 372e 3120 6f72 206c 6174 6572  ed 17.1 or later
+0002dba0: 2028 6669 7865 7320 5b23 3337 3431 5d28   (fixes [#3741](
+0002dbb0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0002dbc0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+0002dbd0: 6e61 7073 652f 6973 7375 6573 2f33 3734  napse/issues/374
+0002dbe0: 3129 292e 2028 5b5c 2333 3735 315d 2868  1)). ([\#3751](h
+0002dbf0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0002dc00: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+0002dc10: 6170 7365 2f69 7373 7565 732f 3337 3531  apse/issues/3751
+0002dc20: 2929 0a0a 0a42 7567 6669 7865 730a 2d2d  ))...Bugfixes.--
+0002dc30: 2d2d 2d2d 2d2d 0a0a 2d20 4669 7820 6572  ------..- Fix er
+0002dc40: 726f 7220 636f 6c6c 6563 7469 6e67 2070  ror collecting p
+0002dc50: 726f 6d65 7468 6575 7320 6d65 7472 6963  rometheus metric
+0002dc60: 7320 7768 656e 2072 756e 206f 6e20 6465  s when run on de
+0002dc70: 6469 6361 7465 6420 7468 7265 6164 2064  dicated thread d
+0002dc80: 7565 2074 6f20 7468 7265 6164 696e 6720  ue to threading 
+0002dc90: 636f 6e63 7572 7265 6e63 7920 6973 7375  concurrency issu
+0002dca0: 6573 2028 5b5c 2333 3732 325d 2868 7474  es ([\#3722](htt
+0002dcb0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0002dcc0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+0002dcd0: 7365 2f69 7373 7565 732f 3337 3232 2929  se/issues/3722))
+0002dce0: 0a2d 2046 6978 2062 7567 2077 6865 7265  .- Fix bug where
+0002dcf0: 2077 6520 7265 7365 6e74 2022 6c69 6d69   we resent "limi
+0002dd00: 7420 6578 6365 6564 6564 2220 7365 7276  t exceeded" serv
+0002dd10: 6572 206e 6f74 6963 6573 2072 6570 6561  er notices repea
+0002dd20: 7465 646c 7920 285b 5c23 3337 3437 5d28  tedly ([\#3747](
+0002dd30: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0002dd40: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+0002dd50: 6e61 7073 652f 6973 7375 6573 2f33 3734  napse/issues/374
+0002dd60: 3729 290a 2d20 4669 7820 6275 6720 7768  7)).- Fix bug wh
+0002dd70: 6572 6520 7765 2062 726f 6b65 2073 796e  ere we broke syn
+0002dd80: 6320 7768 656e 2075 7369 6e67 206c 696d  c when using lim
+0002dd90: 6974 5f75 7361 6765 5f62 795f 6d61 7520  it_usage_by_mau 
+0002dda0: 6275 7420 6861 646e 2774 2063 6f6e 6669  but hadn't confi
+0002ddb0: 6775 7265 6420 7365 7276 6572 206e 6f74  gured server not
+0002ddc0: 6963 6573 2028 5b5c 2333 3735 335d 2868  ices ([\#3753](h
+0002ddd0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0002dde0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+0002ddf0: 6170 7365 2f69 7373 7565 732f 3337 3533  apse/issues/3753
+0002de00: 2929 0a2d 2046 6978 2027 6665 6465 7261  )).- Fix 'federa
+0002de10: 7469 6f6e 5f64 6f6d 6169 6e5f 7768 6974  tion_domain_whit
+0002de20: 656c 6973 7427 2073 7563 6820 7468 6174  elist' such that
+0002de30: 2061 6e20 656d 7074 7920 6c69 7374 2063   an empty list c
+0002de40: 6f72 7265 6374 6c79 2062 6c6f 636b 7320  orrectly blocks 
+0002de50: 616c 6c20 6f75 7462 6f75 6e64 2066 6564  all outbound fed
+0002de60: 6572 6174 696f 6e20 7472 6166 6669 6320  eration traffic 
+0002de70: 285b 5c23 3337 3534 5d28 6874 7470 733a  ([\#3754](https:
+0002de80: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+0002de90: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+0002dea0: 6973 7375 6573 2f33 3735 3429 290a 2d20  issues/3754)).- 
+0002deb0: 4669 7820 7461 6767 696e 6720 6f66 2073  Fix tagging of s
+0002dec0: 6572 7665 7220 6e6f 7469 6365 2072 6f6f  erver notice roo
+0002ded0: 6d73 2028 5b5c 2333 3735 355d 2868 7474  ms ([\#3755](htt
+0002dee0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0002def0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+0002df00: 7365 2f69 7373 7565 732f 3337 3535 292c  se/issues/3755),
+0002df10: 205b 5c23 3337 3536 5d28 6874 7470 733a   [\#3756](https:
+0002df20: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+0002df30: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+0002df40: 6973 7375 6573 2f33 3735 3629 290a 2d20  issues/3756)).- 
+0002df50: 4669 7820 2761 646d 696e 5f75 7269 2720  Fix 'admin_uri' 
+0002df60: 636f 6e66 6967 2076 6172 6961 626c 6520  config variable 
+0002df70: 616e 6420 6572 726f 7220 7061 7261 6d65  and error parame
+0002df80: 7465 7220 746f 2062 6520 2761 646d 696e  ter to be 'admin
+0002df90: 5f63 6f6e 7461 6374 2720 746f 206d 6174  _contact' to mat
+0002dfa0: 6368 2074 6865 2073 7065 632e 2028 5b5c  ch the spec. ([\
+0002dfb0: 2333 3735 385d 2868 7474 7073 3a2f 2f67  #3758](https://g
+0002dfc0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+0002dfd0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+0002dfe0: 7565 732f 3337 3538 2929 0a2d 2044 6f6e  ues/3758)).- Don
+0002dff0: 2774 2072 6574 7572 6e20 6e6f 6e2d 4c4c  't return non-LL
+0002e000: 2d6d 656d 6265 7220 7374 6174 6520 696e  -member state in
+0002e010: 2069 6e63 7265 6d65 6e74 616c 2073 796e   incremental syn
+0002e020: 6320 7374 6174 6520 626c 6f63 6b73 2028  c state blocks (
+0002e030: 5b5c 2333 3736 305d 2868 7474 7073 3a2f  [\#3760](https:/
+0002e040: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+0002e050: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+0002e060: 7373 7565 732f 3337 3630 2929 0a2d 2046  ssues/3760)).- F
+0002e070: 6978 2062 7567 2069 6e20 7365 6e64 696e  ix bug in sendin
+0002e080: 6720 7072 6573 656e 6365 206f 7665 7220  g presence over 
+0002e090: 6665 6465 7261 7469 6f6e 2028 5b5c 2333  federation ([\#3
+0002e0a0: 3736 385d 2868 7474 7073 3a2f 2f67 6974  768](https://git
+0002e0b0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+0002e0c0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+0002e0d0: 732f 3337 3638 2929 0a2d 2046 6978 2062  s/3768)).- Fix b
+0002e0e0: 7567 2077 6865 7265 2070 7265 7365 7276  ug where preserv
+0002e0f0: 6564 2074 6872 6565 7069 6420 7573 6572  ed threepid user
+0002e100: 2063 6f6d 6573 2074 6f20 7369 676e 2075   comes to sign u
+0002e110: 7020 616e 6420 7365 7276 6572 2069 7320  p and server is 
+0002e120: 6d61 7520 626c 6f63 6b65 6420 285b 5c23  mau blocked ([\#
+0002e130: 3337 3737 5d28 6874 7470 733a 2f2f 6769  3777](https://gi
+0002e140: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+0002e150: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+0002e160: 6573 2f33 3737 3729 290a 0a49 6e74 6572  es/3777))..Inter
+0002e170: 6e61 6c20 4368 616e 6765 730a 2d2d 2d2d  nal Changes.----
+0002e180: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 0a0a 2d20  ------------..- 
+0002e190: 5265 6d6f 7665 6420 7468 6520 6c69 6e6b  Removed the link
+0002e1a0: 2074 6f20 7468 6520 756e 6d61 696e 7461   to the unmainta
+0002e1b0: 696e 6564 206d 6174 7269 782d 7379 6e61  ined matrix-syna
+0002e1c0: 7073 652d 6175 746f 2d64 6570 6c6f 7920  pse-auto-deploy 
+0002e1d0: 7072 6f6a 6563 7420 6672 6f6d 2074 6865  project from the
+0002e1e0: 2072 6561 646d 652e 2028 5b5c 2333 3337   readme. ([\#337
+0002e1f0: 385d 2868 7474 7073 3a2f 2f67 6974 6875  8](https://githu
+0002e200: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+0002e210: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+0002e220: 3333 3738 2929 0a2d 2052 6566 6163 746f  3378)).- Refacto
+0002e230: 7220 7374 6174 6520 6d6f 6475 6c65 2074  r state module t
+0002e240: 6f20 7375 7070 6f72 7420 6d75 6c74 6970  o support multip
+0002e250: 6c65 2072 6f6f 6d20 7665 7273 696f 6e73  le room versions
+0002e260: 2028 5b5c 2333 3637 335d 2868 7474 7073   ([\#3673](https
+0002e270: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+0002e280: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+0002e290: 2f69 7373 7565 732f 3336 3733 2929 0a2d  /issues/3673)).-
+0002e2a0: 2054 6865 2073 796e 6170 7365 2e73 746f   The synapse.sto
+0002e2b0: 7261 6765 206d 6f64 756c 6520 6861 7320  rage module has 
+0002e2c0: 6265 656e 2070 6f72 7465 6420 746f 2050  been ported to P
+0002e2d0: 7974 686f 6e20 332e 2028 5b5c 2333 3732  ython 3. ([\#372
+0002e2e0: 355d 2868 7474 7073 3a2f 2f67 6974 6875  5](https://githu
+0002e2f0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+0002e300: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+0002e310: 3337 3235 2929 0a2d 2053 706c 6974 2074  3725)).- Split t
+0002e320: 6865 2073 7461 7465 5f67 726f 7570 5f63  he state_group_c
+0002e330: 6163 6865 2069 6e74 6f20 6d65 6d62 6572  ache into member
+0002e340: 2061 6e64 206e 6f6e 2d6d 656d 6265 7220   and non-member 
+0002e350: 7374 6174 6520 6576 656e 7473 2028 616e  state events (an
+0002e360: 6420 736f 2073 7065 6564 2075 7020 4c4c  d so speed up LL
+0002e370: 202f 7379 6e63 2920 285b 5c23 3337 3236   /sync) ([\#3726
+0002e380: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0002e390: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+0002e3a0: 7379 6e61 7073 652f 6973 7375 6573 2f33  synapse/issues/3
+0002e3b0: 3732 3629 290a 2d20 4c6f 6720 6661 696c  726)).- Log fail
+0002e3c0: 7572 6520 746f 2061 7574 6865 6e74 6963  ure to authentic
+0002e3d0: 6174 6520 7265 6d6f 7465 2073 6572 7665  ate remote serve
+0002e3e0: 7273 2061 7320 7761 726e 696e 6773 2028  rs as warnings (
+0002e3f0: 7769 7468 6f75 7420 7374 6163 6b20 7472  without stack tr
+0002e400: 6163 6573 2920 285b 5c23 3337 3237 5d28  aces) ([\#3727](
+0002e410: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0002e420: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+0002e430: 6e61 7073 652f 6973 7375 6573 2f33 3732  napse/issues/372
+0002e440: 3729 290a 2d20 5468 6520 434f 4e54 5249  7)).- The CONTRI
+0002e450: 4255 5449 4e47 2067 7569 6465 6c69 6e65  BUTING guideline
+0002e460: 7320 6861 7665 2062 6565 6e20 7570 6461  s have been upda
+0002e470: 7465 6420 746f 206d 656e 7469 6f6e 206f  ted to mention o
+0002e480: 7572 2075 7365 206f 6620 4d61 726b 646f  ur use of Markdo
+0002e490: 776e 2061 6e64 2074 6861 7420 2e6d 6973  wn and that .mis
+0002e4a0: 6320 6669 6c65 7320 6861 7665 2063 6f6e  c files have con
+0002e4b0: 7465 6e74 2e20 285b 5c23 3337 3330 5d28  tent. ([\#3730](
+0002e4c0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0002e4d0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+0002e4e0: 6e61 7073 652f 6973 7375 6573 2f33 3733  napse/issues/373
+0002e4f0: 3029 290a 2d20 5265 6665 7265 6e63 6520  0)).- Reference 
+0002e500: 7468 6520 6e65 6564 2066 6f72 2061 6e20  the need for an 
+0002e510: 4854 5450 2072 6570 6c69 6361 7469 6f6e  HTTP replication
+0002e520: 2070 6f72 7420 7768 656e 2075 7369 6e67   port when using
+0002e530: 2074 6865 2066 6564 6572 6174 696f 6e5f   the federation_
+0002e540: 7265 6164 6572 2077 6f72 6b65 7220 285b  reader worker ([
+0002e550: 5c23 3337 3334 5d28 6874 7470 733a 2f2f  \#3734](https://
+0002e560: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+0002e570: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+0002e580: 7375 6573 2f33 3733 3429 290a 2d20 4669  sues/3734)).- Fi
+0002e590: 7820 6d69 6e6f 7220 7370 656c 6c69 6e67  x minor spelling
+0002e5a0: 2065 7272 6f72 2069 6e20 6665 6465 7261   error in federa
+0002e5b0: 7469 6f6e 2063 6c69 656e 7420 646f 6375  tion client docu
+0002e5c0: 6d65 6e74 6174 696f 6e2e 2028 5b5c 2333  mentation. ([\#3
+0002e5d0: 3733 355d 2868 7474 7073 3a2f 2f67 6974  735](https://git
+0002e5e0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+0002e5f0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+0002e600: 732f 3337 3335 2929 0a2d 2052 656d 6f76  s/3735)).- Remov
+0002e610: 6520 7265 6475 6e64 616e 7420 7374 6174  e redundant stat
+0002e620: 6520 7265 736f 6c75 7469 6f6e 2066 756e  e resolution fun
+0002e630: 6374 696f 6e20 285b 5c23 3337 3337 5d28  ction ([\#3737](
+0002e640: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0002e650: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+0002e660: 6e61 7073 652f 6973 7375 6573 2f33 3733  napse/issues/373
+0002e670: 3729 290a 2d20 5468 6520 7465 7374 2073  7)).- The test s
+0002e680: 7569 7465 206e 6f77 2070 6173 7365 7320  uite now passes 
+0002e690: 6f6e 2050 6f73 7467 7265 5351 4c2e 2028  on PostgreSQL. (
+0002e6a0: 5b5c 2333 3734 305d 2868 7474 7073 3a2f  [\#3740](https:/
+0002e6b0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+0002e6c0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+0002e6d0: 7373 7565 732f 3337 3430 2929 0a2d 2046  ssues/3740)).- F
+0002e6e0: 6978 204d 4155 2063 6163 6865 2069 6e76  ix MAU cache inv
+0002e6f0: 616c 6964 6174 696f 6e20 6475 6520 746f  alidation due to
+0002e700: 206d 6973 7369 6e67 2079 6965 6c64 2028   missing yield (
+0002e710: 5b5c 2333 3734 365d 2868 7474 7073 3a2f  [\#3746](https:/
+0002e720: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+0002e730: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+0002e740: 7373 7565 732f 3337 3436 2929 0a2d 204d  ssues/3746)).- M
+0002e750: 616b 6520 7375 7265 2074 6861 7420 7765  ake sure that we
+0002e760: 2063 6c6f 7365 2064 6220 636f 6e6e 6563   close db connec
+0002e770: 7469 6f6e 7320 6f70 656e 6564 2064 7572  tions opened dur
+0002e780: 696e 6720 696e 6974 2028 5b5c 2333 3736  ing init ([\#376
+0002e790: 345d 2868 7474 7073 3a2f 2f67 6974 6875  4](https://githu
+0002e7a0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+0002e7b0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+0002e7c0: 3337 3634 2929 0a0a 0a53 796e 6170 7365  3764))...Synapse
+0002e7d0: 2030 2e33 332e 3320 2832 3031 382d 3038   0.33.3 (2018-08
+0002e7e0: 2d32 3229 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d  -22).===========
+0002e7f0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0002e800: 0a0a 4275 6766 6978 6573 0a2d 2d2d 2d2d  ..Bugfixes.-----
+0002e810: 2d2d 2d0a 0a2d 2046 6978 2062 7567 2069  ---..- Fix bug i
+0002e820: 6e74 726f 6475 6365 6420 696e 2076 302e  ntroduced in v0.
+0002e830: 3333 2e33 7263 3120 7768 6963 6820 6d61  33.3rc1 which ma
+0002e840: 6465 2074 6865 2054 6f53 2067 6976 6520  de the ToS give 
+0002e850: 6120 3530 3020 6572 726f 7220 285b 5c23  a 500 error ([\#
+0002e860: 3337 3332 5d28 6874 7470 733a 2f2f 6769  3732](https://gi
+0002e870: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+0002e880: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+0002e890: 6573 2f33 3733 3229 290a 0a0a 5379 6e61  es/3732))...Syna
+0002e8a0: 7073 6520 302e 3333 2e33 7263 3220 2832  pse 0.33.3rc2 (2
+0002e8b0: 3031 382d 3038 2d32 3129 0a3d 3d3d 3d3d  018-08-21).=====
+0002e8c0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0002e8d0: 3d3d 3d3d 3d3d 3d3d 3d0a 0a42 7567 6669  =========..Bugfi
+0002e8e0: 7865 730a 2d2d 2d2d 2d2d 2d2d 0a0a 2d20  xes.--------..- 
+0002e8f0: 4669 7820 6275 6720 696e 2076 302e 3333  Fix bug in v0.33
+0002e900: 2e33 7263 3120 7768 6963 6820 6361 7573  .3rc1 which caus
+0002e910: 6564 2069 6e66 696e 6974 6520 6c6f 6f70  ed infinite loop
+0002e920: 7320 616e 6420 4f4f 4d73 2028 5b5c 2333  s and OOMs ([\#3
+0002e930: 3732 335d 2868 7474 7073 3a2f 2f67 6974  723](https://git
+0002e940: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+0002e950: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+0002e960: 732f 3337 3233 2929 0a0a 0a53 796e 6170  s/3723))...Synap
+0002e970: 7365 2030 2e33 332e 3372 6331 2028 3230  se 0.33.3rc1 (20
+0002e980: 3138 2d30 382d 3231 290a 3d3d 3d3d 3d3d  18-08-21).======
+0002e990: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0002e9a0: 3d3d 3d3d 3d3d 3d3d 0a0a 4665 6174 7572  ========..Featur
+0002e9b0: 6573 0a2d 2d2d 2d2d 2d2d 2d0a 0a2d 2041  es.--------..- A
+0002e9c0: 6464 2073 7570 706f 7274 2066 6f72 2074  dd support for t
+0002e9d0: 6865 2053 4e49 2065 7874 656e 7369 6f6e  he SNI extension
+0002e9e0: 2074 6f20 6665 6465 7261 7469 6f6e 2054   to federation T
+0002e9f0: 4c53 2063 6f6e 6e65 6374 696f 6e73 2e20  LS connections. 
+0002ea00: 5468 616e 6b73 2074 6f20 4076 6f6a 6572  Thanks to @vojer
+0002ea10: 6f65 6e21 2028 5b5c 2333 3433 395d 2868  oen! ([\#3439](h
+0002ea20: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0002ea30: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+0002ea40: 6170 7365 2f69 7373 7565 732f 3334 3339  apse/issues/3439
+0002ea50: 2929 0a2d 2041 6464 202f 5f6d 6564 6961  )).- Add /_media
+0002ea60: 2f72 302f 636f 6e66 6967 2028 5b5c 2333  /r0/config ([\#3
+0002ea70: 3138 345d 2868 7474 7073 3a2f 2f67 6974  184](https://git
+0002ea80: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+0002ea90: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+0002eaa0: 732f 3331 3834 2929 0a2d 2073 7065 6564  s/3184)).- speed
+0002eab0: 2075 7020 2f6d 656d 6265 7273 2041 5049   up /members API
+0002eac0: 2061 6e64 2061 6464 2060 6174 6020 616e   and add `at` an
+0002ead0: 6420 606d 656d 6265 7273 6869 7060 2070  d `membership` p
+0002eae0: 6172 616d 7320 6173 2070 6572 204d 5343  arams as per MSC
+0002eaf0: 3132 3237 2028 5b5c 2333 3536 385d 2868  1227 ([\#3568](h
+0002eb00: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0002eb10: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+0002eb20: 6170 7365 2f69 7373 7565 732f 3335 3638  apse/issues/3568
+0002eb30: 2929 0a2d 2069 6d70 6c65 6d65 6e74 2060  )).- implement `
+0002eb40: 7375 6d6d 6172 7960 2062 6c6f 636b 2069  summary` block i
+0002eb50: 6e20 2f73 796e 6320 7265 7370 6f6e 7365  n /sync response
+0002eb60: 2061 7320 7065 7220 4d53 4336 3838 2028   as per MSC688 (
+0002eb70: 5b5c 2333 3537 345d 2868 7474 7073 3a2f  [\#3574](https:/
+0002eb80: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+0002eb90: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+0002eba0: 7373 7565 732f 3335 3734 2929 0a2d 2041  ssues/3574)).- A
+0002ebb0: 6464 206c 617a 792d 6c6f 6164 696e 6720  dd lazy-loading 
+0002ebc0: 7375 7070 6f72 7420 746f 202f 6d65 7373  support to /mess
+0002ebd0: 6167 6573 2061 7320 7065 7220 4d53 4331  ages as per MSC1
+0002ebe0: 3232 3720 285b 5c23 3335 3839 5d28 6874  227 ([\#3589](ht
+0002ebf0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+0002ec00: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+0002ec10: 7073 652f 6973 7375 6573 2f33 3538 3929  pse/issues/3589)
+0002ec20: 290a 2d20 4164 6420 6162 696c 6974 7920  ).- Add ability 
+0002ec30: 746f 206c 696d 6974 206e 756d 6265 7220  to limit number 
+0002ec40: 6f66 206d 6f6e 7468 6c79 2061 6374 6976  of monthly activ
+0002ec50: 6520 7573 6572 7320 6f6e 2074 6865 2073  e users on the s
+0002ec60: 6572 7665 7220 285b 5c23 3336 3333 5d28  erver ([\#3633](
+0002ec70: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0002ec80: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+0002ec90: 6e61 7073 652f 6973 7375 6573 2f33 3633  napse/issues/363
+0002eca0: 3329 290a 2d20 5375 7070 6f72 7420 6d6f  3)).- Support mo
+0002ecb0: 7265 2066 6564 6572 6174 696f 6e20 656e  re federation en
+0002ecc0: 6470 6f69 6e74 7320 6f6e 2077 6f72 6b65  dpoints on worke
+0002ecd0: 7273 2028 5b5c 2333 3635 335d 2868 7474  rs ([\#3653](htt
+0002ece0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+0002ecf0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+0002ed00: 7365 2f69 7373 7565 732f 3336 3533 2929  se/issues/3653))
+0002ed10: 0a2d 2042 6173 6963 2073 7570 706f 7274  .- Basic support
+0002ed20: 2066 6f72 2072 6f6f 6d20 7665 7273 696f   for room versio
+0002ed30: 6e69 6e67 2028 5b5c 2333 3635 345d 2868  ning ([\#3654](h
+0002ed40: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0002ed50: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+0002ed60: 6170 7365 2f69 7373 7565 732f 3336 3534  apse/issues/3654
+0002ed70: 2929 0a2d 2041 6269 6c69 7479 2074 6f20  )).- Ability to 
+0002ed80: 6469 7361 626c 6520 636c 6965 6e74 2f73  disable client/s
+0002ed90: 6572 7665 7220 5379 6e61 7073 6520 7669  erver Synapse vi
+0002eda0: 6120 636f 6e66 2074 6f67 676c 6520 285b  a conf toggle ([
+0002edb0: 5c23 3336 3535 5d28 6874 7470 733a 2f2f  \#3655](https://
+0002edc0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+0002edd0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+0002ede0: 7375 6573 2f33 3635 3529 290a 2d20 4162  sues/3655)).- Ab
+0002edf0: 696c 6974 7920 746f 2077 6869 7465 6c69  ility to whiteli
+0002ee00: 7374 2073 7065 6369 6669 6320 7468 7265  st specific thre
+0002ee10: 6570 6964 7320 6167 6169 6e73 7420 6d6f  epids against mo
+0002ee20: 6e74 686c 7920 6163 7469 7665 2075 7365  nthly active use
+0002ee30: 7220 6c69 6d69 7469 6e67 2028 5b5c 2333  r limiting ([\#3
+0002ee40: 3636 325d 2868 7474 7073 3a2f 2f67 6974  662](https://git
+0002ee50: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+0002ee60: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+0002ee70: 732f 3336 3632 2929 0a2d 2041 6464 2073  s/3662)).- Add s
+0002ee80: 6f6d 6520 6d65 7472 6963 7320 666f 7220  ome metrics for 
+0002ee90: 7468 6520 6170 7073 6572 7669 6365 2061  the appservice a
+0002eea0: 6e64 2066 6564 6572 6174 696f 6e20 6576  nd federation ev
+0002eeb0: 656e 7420 7365 6e64 696e 6720 6c6f 6f70  ent sending loop
+0002eec0: 7320 285b 5c23 3336 3634 5d28 6874 7470  s ([\#3664](http
+0002eed0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+0002eee0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+0002eef0: 652f 6973 7375 6573 2f33 3636 3429 290a  e/issues/3664)).
+0002ef00: 2d20 5768 6572 6520 7365 7276 6572 2069  - Where server i
+0002ef10: 7320 6469 7361 626c 6564 2c20 626c 6f63  s disabled, bloc
+0002ef20: 6b20 6162 696c 6974 7920 666f 7220 6c6f  k ability for lo
+0002ef30: 636b 6564 206f 7574 2075 7365 7273 2074  cked out users t
+0002ef40: 6f20 7265 6164 206e 6577 206d 6573 7361  o read new messa
+0002ef50: 6765 7320 285b 5c23 3336 3730 5d28 6874  ges ([\#3670](ht
+0002ef60: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+0002ef70: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+0002ef80: 7073 652f 6973 7375 6573 2f33 3637 3029  pse/issues/3670)
+0002ef90: 290a 2d20 7365 7420 6164 6d69 6e20 7572  ).- set admin ur
+0002efa0: 6920 7669 6120 636f 6e66 6967 2c20 746f  i via config, to
+0002efb0: 2062 6520 7573 6564 2069 6e20 6572 726f   be used in erro
+0002efc0: 7220 6d65 7373 6167 6573 2077 6865 7265  r messages where
+0002efd0: 2074 6865 2075 7365 7220 7368 6f75 6c64   the user should
+0002efe0: 2063 6f6e 7461 6374 2074 6865 2061 646d   contact the adm
+0002eff0: 696e 6973 7472 6174 6f72 2028 5b5c 2333  inistrator ([\#3
+0002f000: 3638 375d 2868 7474 7073 3a2f 2f67 6974  687](https://git
+0002f010: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+0002f020: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+0002f030: 732f 3336 3837 2929 0a2d 2053 796e 6170  s/3687)).- Synap
+0002f040: 7365 2773 2070 7265 7365 6e63 6520 6675  se's presence fu
+0002f050: 6e63 7469 6f6e 616c 6974 7920 6361 6e20  nctionality can 
+0002f060: 6e6f 7720 6265 2064 6973 6162 6c65 6420  now be disabled 
+0002f070: 7769 7468 2074 6865 2022 7573 655f 7072  with the "use_pr
+0002f080: 6573 656e 6365 2220 636f 6e66 6967 7572  esence" configur
+0002f090: 6174 696f 6e20 6f70 7469 6f6e 2e20 285b  ation option. ([
+0002f0a0: 5c23 3336 3934 5d28 6874 7470 733a 2f2f  \#3694](https://
+0002f0b0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+0002f0c0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+0002f0d0: 7375 6573 2f33 3639 3429 290a 2d20 466f  sues/3694)).- Fo
+0002f0e0: 7220 7265 736f 7572 6365 206c 696d 6974  r resource limit
+0002f0f0: 2062 6c6f 636b 6564 2075 7365 7273 2c20   blocked users, 
+0002f100: 7072 6576 656e 7420 7772 6974 696e 6720  prevent writing 
+0002f110: 696e 746f 2072 6f6f 6d73 2028 5b5c 2333  into rooms ([\#3
+0002f120: 3730 385d 2868 7474 7073 3a2f 2f67 6974  708](https://git
+0002f130: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+0002f140: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+0002f150: 732f 3337 3038 2929 0a0a 0a42 7567 6669  s/3708))...Bugfi
+0002f160: 7865 730a 2d2d 2d2d 2d2d 2d2d 0a0a 2d20  xes.--------..- 
+0002f170: 4669 7820 6f63 6361 7369 6f6e 616c 2067  Fix occasional g
+0002f180: 6c69 7463 6865 7320 696e 2074 6865 2073  litches in the s
+0002f190: 796e 6170 7365 5f65 7665 6e74 5f70 6572  ynapse_event_per
+0002f1a0: 7369 7374 6564 5f70 6f73 6974 696f 6e20  sisted_position 
+0002f1b0: 6d65 7472 6963 2028 5b5c 2333 3635 385d  metric ([\#3658]
+0002f1c0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+0002f1d0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+0002f1e0: 796e 6170 7365 2f69 7373 7565 732f 3336  ynapse/issues/36
+0002f1f0: 3538 2929 0a2d 2046 6978 2062 7567 206f  58)).- Fix bug o
+0002f200: 6e20 6465 6c65 7469 6e67 2033 7069 6420  n deleting 3pid 
+0002f210: 7768 656e 2075 7369 6e67 2069 6465 6e74  when using ident
+0002f220: 6974 7920 7365 7276 6572 7320 7468 6174  ity servers that
+0002f230: 2064 6f6e 2774 2073 7570 706f 7274 2075   don't support u
+0002f240: 6e62 696e 6420 4150 4920 285b 5c23 3336  nbind API ([\#36
+0002f250: 3631 5d28 6874 7470 733a 2f2f 6769 7468  61](https://gith
+0002f260: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+0002f270: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+0002f280: 2f33 3636 3129 290a 2d20 4d61 6b65 2074  /3661)).- Make t
+0002f290: 6865 2074 6573 7473 2070 6173 7320 6f6e  he tests pass on
+0002f2a0: 2054 7769 7374 6564 203c 2031 382e 372e   Twisted < 18.7.
+0002f2b0: 3020 285b 5c23 3336 3736 5d28 6874 7470  0 ([\#3676](http
+0002f2c0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+0002f2d0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+0002f2e0: 652f 6973 7375 6573 2f33 3637 3629 290a  e/issues/3676)).
+0002f2f0: 2d20 446f 6ee2 8099 7420 7368 6970 2072  - Don...t ship r
+0002f300: 6563 6170 7463 6861 5f61 6a61 782e 6a73  ecaptcha_ajax.js
+0002f310: 2c20 7573 6520 6974 2064 6972 6563 746c  , use it directl
+0002f320: 7920 6672 6f6d 2047 6f6f 676c 6520 285b  y from Google ([
+0002f330: 5c23 3336 3737 5d28 6874 7470 733a 2f2f  \#3677](https://
+0002f340: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+0002f350: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+0002f360: 7375 6573 2f33 3637 3729 290a 2d20 4669  sues/3677)).- Fi
+0002f370: 7865 7320 7465 7374 5f72 6561 705f 6d6f  xes test_reap_mo
+0002f380: 6e74 686c 795f 6163 7469 7665 5f75 7365  nthly_active_use
+0002f390: 7273 2073 6f20 6974 2070 6173 7365 7320  rs so it passes 
+0002f3a0: 756e 6465 7220 706f 7374 6772 6573 2028  under postgres (
+0002f3b0: 5b5c 2333 3638 315d 2868 7474 7073 3a2f  [\#3681](https:/
+0002f3c0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+0002f3d0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+0002f3e0: 7373 7565 732f 3336 3831 2929 0a2d 2046  ssues/3681)).- F
+0002f3f0: 6978 206d 6175 2062 6c6f 636b 696e 6720  ix mau blocking 
+0002f400: 6361 6c75 6c61 7469 6f6e 2062 7567 206f  calulation bug o
+0002f410: 6e20 6c6f 6769 6e20 285b 5c23 3336 3839  n login ([\#3689
+0002f420: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0002f430: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+0002f440: 7379 6e61 7073 652f 6973 7375 6573 2f33  synapse/issues/3
+0002f450: 3638 3929 290a 2d20 4669 7820 6d69 7373  689)).- Fix miss
+0002f460: 696e 6720 7969 656c 6420 696e 2073 796e  ing yield in syn
+0002f470: 6170 7365 2e73 746f 7261 6765 2e6d 6f6e  apse.storage.mon
+0002f480: 7468 6c79 5f61 6374 6976 655f 7573 6572  thly_active_user
+0002f490: 732e 696e 6974 6961 6c69 7365 5f72 6573  s.initialise_res
+0002f4a0: 6572 7665 645f 7573 6572 7320 285b 5c23  erved_users ([\#
+0002f4b0: 3336 3932 5d28 6874 7470 733a 2f2f 6769  3692](https://gi
+0002f4c0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+0002f4d0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+0002f4e0: 6573 2f33 3639 3229 290a 2d20 496d 7072  es/3692)).- Impr
+0002f4f0: 6f76 6520 4854 5450 2072 6571 7565 7374  ove HTTP request
+0002f500: 206c 6f67 6769 6e67 2074 6f20 696e 636c   logging to incl
+0002f510: 7564 6520 616c 6c20 7265 7175 6573 7473  ude all requests
+0002f520: 2028 5b5c 2333 3730 305d 2868 7474 7073   ([\#3700](https
+0002f530: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+0002f540: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+0002f550: 2f69 7373 7565 732f 3337 3030 2929 0a2d  /issues/3700)).-
+0002f560: 2041 766f 6964 2074 696d 696e 6720 6f75   Avoid timing ou
+0002f570: 7420 7265 7175 6573 7473 2077 6869 6c65  t requests while
+0002f580: 2077 6520 6172 6520 7374 7265 616d 696e   we are streamin
+0002f590: 6720 6261 636b 2074 6865 2072 6573 706f  g back the respo
+0002f5a0: 6e73 6520 285b 5c23 3337 3031 5d28 6874  nse ([\#3701](ht
+0002f5b0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+0002f5c0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+0002f5d0: 7073 652f 6973 7375 6573 2f33 3730 3129  pse/issues/3701)
+0002f5e0: 290a 2d20 5375 7070 6f72 7420 6d6f 7265  ).- Support more
+0002f5f0: 2066 6564 6572 6174 696f 6e20 656e 6470   federation endp
+0002f600: 6f69 6e74 7320 6f6e 2077 6f72 6b65 7273  oints on workers
+0002f610: 2028 5b5c 2333 3730 355d 2868 7474 7073   ([\#3705](https
+0002f620: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+0002f630: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+0002f640: 2f69 7373 7565 732f 3337 3035 292c 205b  /issues/3705), [
+0002f650: 5c23 3337 3133 5d28 6874 7470 733a 2f2f  \#3713](https://
+0002f660: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+0002f670: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+0002f680: 7375 6573 2f33 3731 3329 290a 2d20 4669  sues/3713)).- Fi
+0002f690: 7820 2253 7461 7274 696e 6720 6462 2074  x "Starting db t
+0002f6a0: 786e 2027 6765 745f 616c 6c5f 7570 6461  xn 'get_all_upda
+0002f6b0: 7465 645f 7265 6365 6970 7473 2720 6672  ted_receipts' fr
+0002f6c0: 6f6d 2073 656e 7469 6e65 6c20 636f 6e74  om sentinel cont
+0002f6d0: 6578 7422 2077 6172 6e69 6e67 2028 5b5c  ext" warning ([\
+0002f6e0: 2333 3731 305d 2868 7474 7073 3a2f 2f67  #3710](https://g
+0002f6f0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+0002f700: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+0002f710: 7565 732f 3337 3130 2929 0a2d 2046 6978  ues/3710)).- Fix
+0002f720: 2062 7567 2077 6865 7265 2060 7374 6174   bug where `stat
+0002f730: 655f 6361 6368 6560 2063 6163 6865 2066  e_cache` cache f
+0002f740: 6163 746f 7220 6967 6e6f 7265 6420 656e  actor ignored en
+0002f750: 7669 726f 6e6d 656e 7420 7661 7269 6162  vironment variab
+0002f760: 6c65 7320 285b 5c23 3337 3139 5d28 6874  les ([\#3719](ht
+0002f770: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+0002f780: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+0002f790: 7073 652f 6973 7375 6573 2f33 3731 3929  pse/issues/3719)
+0002f7a0: 290a 0a0a 4465 7072 6563 6174 696f 6e73  )...Deprecations
+0002f7b0: 2061 6e64 2052 656d 6f76 616c 730a 2d2d   and Removals.--
+0002f7c0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+0002f7d0: 2d2d 2d2d 2d2d 2d0a 0a2d 2054 6865 2053  -------..- The S
+0002f7e0: 6861 7265 642d 5365 6372 6574 2072 6567  hared-Secret reg
+0002f7f0: 6973 7472 6174 696f 6e20 6d65 7468 6f64  istration method
+0002f800: 206f 6620 7468 6520 6c65 6761 6379 2076   of the legacy v
+0002f810: 312f 7265 6769 7374 6572 2052 4553 5420  1/register REST 
+0002f820: 656e 6470 6f69 6e74 2068 6173 2062 6565  endpoint has bee
+0002f830: 6e20 7265 6d6f 7665 642e 2046 6f72 2061  n removed. For a
+0002f840: 2072 6570 6c61 6365 6d65 6e74 2c20 706c   replacement, pl
+0002f850: 6561 7365 2073 6565 205b 7468 6520 6164  ease see [the ad
+0002f860: 6d69 6e2f 7265 6769 7374 6572 2041 5049  min/register API
+0002f870: 2064 6f63 756d 656e 7461 7469 6f6e 5d28   documentation](
+0002f880: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0002f890: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+0002f8a0: 6e61 7073 652f 626c 6f62 2f6d 6173 7465  napse/blob/maste
+0002f8b0: 722f 646f 6373 2f61 646d 696e 5f61 7069  r/docs/admin_api
+0002f8c0: 2f72 6567 6973 7465 725f 6170 692e 7273  /register_api.rs
+0002f8d0: 7429 2e20 285b 5c23 3337 3033 5d28 6874  t). ([\#3703](ht
+0002f8e0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+0002f8f0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+0002f900: 7073 652f 6973 7375 6573 2f33 3730 3329  pse/issues/3703)
+0002f910: 290a 0a0a 496e 7465 726e 616c 2043 6861  )...Internal Cha
+0002f920: 6e67 6573 0a2d 2d2d 2d2d 2d2d 2d2d 2d2d  nges.-----------
+0002f930: 2d2d 2d2d 2d0a 0a2d 2054 6865 2074 6573  -----..- The tes
+0002f940: 7420 7375 6974 6520 6e6f 7720 6361 6e20  t suite now can 
+0002f950: 7275 6e20 756e 6465 7220 506f 7374 6772  run under Postgr
+0002f960: 6553 514c 2e20 285b 5c23 3334 3233 5d28  eSQL. ([\#3423](
+0002f970: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0002f980: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+0002f990: 6e61 7073 652f 6973 7375 6573 2f33 3432  napse/issues/342
+0002f9a0: 3329 290a 2d20 5265 6661 6374 6f72 2048  3)).- Refactor H
+0002f9b0: 5454 5020 7265 706c 6963 6174 696f 6e20  TTP replication 
+0002f9c0: 656e 6470 6f69 6e74 7320 746f 2072 6564  endpoints to red
+0002f9d0: 7563 6520 636f 6465 2064 7570 6c69 6361  uce code duplica
+0002f9e0: 7469 6f6e 2028 5b5c 2333 3633 325d 2868  tion ([\#3632](h
+0002f9f0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+0002fa00: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+0002fa10: 6170 7365 2f69 7373 7565 732f 3336 3332  apse/issues/3632
+0002fa20: 2929 0a2d 2054 6573 7473 206e 6f77 2063  )).- Tests now c
+0002fa30: 6f72 7265 6374 6c79 2065 7865 6375 7465  orrectly execute
+0002fa40: 206f 6e20 5079 7468 6f6e 2033 2e20 285b   on Python 3. ([
+0002fa50: 5c23 3336 3437 5d28 6874 7470 733a 2f2f  \#3647](https://
+0002fa60: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+0002fa70: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+0002fa80: 7375 6573 2f33 3634 3729 290a 2d20 5379  sues/3647)).- Sy
+0002fa90: 7465 7374 7320 6361 6e20 6e6f 7720 6265  tests can now be
+0002faa0: 2072 756e 2069 6e73 6964 6520 6120 446f   run inside a Do
+0002fab0: 636b 6572 2063 6f6e 7461 696e 6572 2e20  cker container. 
+0002fac0: 285b 5c23 3336 3630 5d28 6874 7470 733a  ([\#3660](https:
+0002fad0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+0002fae0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+0002faf0: 6973 7375 6573 2f33 3636 3029 290a 2d20  issues/3660)).- 
+0002fb00: 506f 7274 206f 7665 7220 656e 6f75 6768  Port over enough
+0002fb10: 2074 6f20 5079 7468 6f6e 2033 2074 6f20   to Python 3 to 
+0002fb20: 616c 6c6f 7720 7468 6520 7379 7465 7374  allow the sytest
+0002fb30: 7320 746f 2073 7461 7274 2e20 285b 5c23  s to start. ([\#
+0002fb40: 3336 3638 5d28 6874 7470 733a 2f2f 6769  3668](https://gi
+0002fb50: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+0002fb60: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+0002fb70: 6573 2f33 3636 3829 290a 2d20 5570 6461  es/3668)).- Upda
+0002fb80: 7465 2064 6f63 6b65 7220 6261 7365 2069  te docker base i
+0002fb90: 6d61 6765 2066 726f 6d20 616c 7069 6e65  mage from alpine
+0002fba0: 2033 2e37 2074 6f20 332e 382e 2028 5b5c   3.7 to 3.8. ([\
+0002fbb0: 2333 3636 395d 2868 7474 7073 3a2f 2f67  #3669](https://g
+0002fbc0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+0002fbd0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+0002fbe0: 7565 732f 3336 3639 2929 0a2d 2052 656e  ues/3669)).- Ren
+0002fbf0: 616d 6520 7379 6e61 7073 652e 7574 696c  ame synapse.util
+0002fc00: 2e61 7379 6e63 2074 6f20 7379 6e61 7073  .async to synaps
+0002fc10: 652e 7574 696c 2e61 7379 6e63 5f68 656c  e.util.async_hel
+0002fc20: 7065 7273 2074 6f20 6d69 7469 6761 7465  pers to mitigate
+0002fc30: 2061 7379 6e63 2062 6563 6f6d 696e 6720   async becoming 
+0002fc40: 6120 6b65 7977 6f72 6420 6f6e 2050 7974  a keyword on Pyt
+0002fc50: 686f 6e20 332e 372e 2028 5b5c 2333 3637  hon 3.7. ([\#367
+0002fc60: 385d 2868 7474 7073 3a2f 2f67 6974 6875  8](https://githu
+0002fc70: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+0002fc80: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+0002fc90: 3336 3738 2929 0a2d 2053 796e 6170 7365  3678)).- Synapse
+0002fca0: 2773 2074 6573 7473 2061 7265 206e 6f77  's tests are now
+0002fcb0: 2066 6f72 6d61 7474 6564 2077 6974 6820   formatted with 
+0002fcc0: 7468 6520 626c 6163 6b20 6175 746f 666f  the black autofo
+0002fcd0: 726d 6174 7465 722e 2028 5b5c 2333 3637  rmatter. ([\#367
+0002fce0: 395d 2868 7474 7073 3a2f 2f67 6974 6875  9](https://githu
+0002fcf0: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+0002fd00: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+0002fd10: 3336 3739 2929 0a2d 2049 6d70 6c65 6d65  3679)).- Impleme
+0002fd20: 6e74 6564 2061 206e 6577 2074 6573 7469  nted a new testi
+0002fd30: 6e67 2062 6173 6520 636c 6173 7320 746f  ng base class to
+0002fd40: 2072 6564 7563 6520 7465 7374 2062 6f69   reduce test boi
+0002fd50: 6c65 7270 6c61 7465 2e20 285b 5c23 3336  lerplate. ([\#36
+0002fd60: 3834 5d28 6874 7470 733a 2f2f 6769 7468  84](https://gith
+0002fd70: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+0002fd80: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+0002fd90: 2f33 3638 3429 290a 2d20 5265 6e61 6d65  /3684)).- Rename
+0002fda0: 204d 4155 2070 726f 6d65 7468 6575 7320   MAU prometheus 
+0002fdb0: 6d65 7472 6963 7320 285b 5c23 3336 3930  metrics ([\#3690
+0002fdc0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+0002fdd0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+0002fde0: 7379 6e61 7073 652f 6973 7375 6573 2f33  synapse/issues/3
+0002fdf0: 3639 3029 290a 2d20 6164 6420 6e65 7720  690)).- add new 
+0002fe00: 6572 726f 7220 7479 7065 2052 6573 6f75  error type Resou
+0002fe10: 7263 654c 696d 6974 2028 5b5c 2333 3730  rceLimit ([\#370
+0002fe20: 375d 2868 7474 7073 3a2f 2f67 6974 6875  7](https://githu
+0002fe30: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+0002fe40: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+0002fe50: 3337 3037 2929 0a2d 204c 6f67 636f 6e74  3707)).- Logcont
+0002fe60: 6578 7473 2066 6f72 2072 6570 6c69 6361  exts for replica
+0002fe70: 7469 6f6e 2063 6f6d 6d61 6e64 2068 616e  tion command han
+0002fe80: 646c 6572 7320 285b 5c23 3337 3039 5d28  dlers ([\#3709](
+0002fe90: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+0002fea0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+0002feb0: 6e61 7073 652f 6973 7375 6573 2f33 3730  napse/issues/370
+0002fec0: 3929 290a 2d20 5570 6461 7465 2061 646d  9)).- Update adm
+0002fed0: 696e 2072 6567 6973 7465 7220 4150 4920  in register API 
+0002fee0: 646f 6375 6d65 6e74 6174 696f 6e20 746f  documentation to
+0002fef0: 2072 6566 6572 656e 6365 2061 2072 6561   reference a rea
+0002ff00: 6c20 7573 6572 2049 442e 2028 5b5c 2333  l user ID. ([\#3
+0002ff10: 3731 325d 2868 7474 7073 3a2f 2f67 6974  712](https://git
+0002ff20: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+0002ff30: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+0002ff40: 732f 3337 3132 2929 0a0a 0a53 796e 6170  s/3712))...Synap
+0002ff50: 7365 2030 2e33 332e 3220 2832 3031 382d  se 0.33.2 (2018-
+0002ff60: 3038 2d30 3929 0a3d 3d3d 3d3d 3d3d 3d3d  08-09).=========
+0002ff70: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0002ff80: 3d3d 0a0a 4e6f 2073 6967 6e69 6669 6361  ==..No significa
+0002ff90: 6e74 2063 6861 6e67 6573 2e0a 0a0a 5379  nt changes....Sy
+0002ffa0: 6e61 7073 6520 302e 3333 2e32 7263 3120  napse 0.33.2rc1 
+0002ffb0: 2832 3031 382d 3038 2d30 3729 0a3d 3d3d  (2018-08-07).===
+0002ffc0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0002ffd0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a46 6561  ===========..Fea
+0002ffe0: 7475 7265 730a 2d2d 2d2d 2d2d 2d2d 0a0a  tures.--------..
+0002fff0: 2d20 6164 6420 7375 7070 6f72 7420 666f  - add support fo
+00030000: 7220 7468 6520 6c61 7a79 5f6c 6f61 6465  r the lazy_loade
+00030010: 645f 6d65 6d62 6572 7320 6669 6c74 6572  d_members filter
+00030020: 2061 7320 7065 7220 4d53 4331 3232 3720   as per MSC1227 
+00030030: 285b 5c23 3239 3730 5d28 6874 7470 733a  ([\#2970](https:
+00030040: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00030050: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00030060: 6973 7375 6573 2f32 3937 3029 290a 2d20  issues/2970)).- 
+00030070: 6164 6420 7375 7070 6f72 7420 666f 7220  add support for 
+00030080: 7468 6520 696e 636c 7564 655f 7265 6475  the include_redu
+00030090: 6e64 616e 745f 6d65 6d62 6572 7320 6669  ndant_members fi
+000300a0: 6c74 6572 2070 6172 616d 2061 7320 7065  lter param as pe
+000300b0: 7220 4d53 4331 3232 3720 285b 5c23 3333  r MSC1227 ([\#33
+000300c0: 3331 5d28 6874 7470 733a 2f2f 6769 7468  31](https://gith
+000300d0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+000300e0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+000300f0: 2f33 3333 3129 290a 2d20 4164 6420 6d65  /3331)).- Add me
+00030100: 7472 6963 7320 746f 2074 7261 636b 2072  trics to track r
+00030110: 6573 6f75 7263 6520 7573 6167 6520 6279  esource usage by
+00030120: 2062 6163 6b67 726f 756e 6420 7072 6f63   background proc
+00030130: 6573 7365 7320 285b 5c23 3335 3533 5d28  esses ([\#3553](
+00030140: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00030150: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00030160: 6e61 7073 652f 6973 7375 6573 2f33 3535  napse/issues/355
+00030170: 3329 2c20 5b5c 2333 3535 365d 2868 7474  3), [\#3556](htt
+00030180: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00030190: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+000301a0: 7365 2f69 7373 7565 732f 3335 3536 292c  se/issues/3556),
+000301b0: 205b 5c23 3336 3034 5d28 6874 7470 733a   [\#3604](https:
+000301c0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+000301d0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+000301e0: 6973 7375 6573 2f33 3630 3429 2c20 5b5c  issues/3604), [\
+000301f0: 2333 3631 305d 2868 7474 7073 3a2f 2f67  #3610](https://g
+00030200: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00030210: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00030220: 7565 732f 3336 3130 2929 0a2d 2041 6464  ues/3610)).- Add
+00030230: 2060 636f 6465 6020 6c61 6265 6c20 746f   `code` label to
+00030240: 2060 7379 6e61 7073 655f 6874 7470 5f73   `synapse_http_s
+00030250: 6572 7665 725f 7265 7370 6f6e 7365 5f74  erver_response_t
+00030260: 696d 655f 7365 636f 6e64 7360 2070 726f  ime_seconds` pro
+00030270: 6d65 7468 6575 7320 6d65 7472 6963 2028  metheus metric (
+00030280: 5b5c 2333 3535 345d 2868 7474 7073 3a2f  [\#3554](https:/
+00030290: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+000302a0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+000302b0: 7373 7565 732f 3335 3534 2929 0a2d 2041  ssues/3554)).- A
+000302c0: 6464 2073 7570 706f 7274 2066 6f72 2063  dd support for c
+000302d0: 6c69 656e 745f 7265 6164 6572 2074 6f20  lient_reader to 
+000302e0: 6861 6e64 6c65 206d 6f72 6520 4150 4973  handle more APIs
+000302f0: 2028 5b5c 2333 3535 355d 2868 7474 7073   ([\#3555](https
+00030300: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00030310: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00030320: 2f69 7373 7565 732f 3335 3535 292c 205b  /issues/3555), [
+00030330: 5c23 3335 3937 5d28 6874 7470 733a 2f2f  \#3597](https://
+00030340: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00030350: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00030360: 7375 6573 2f33 3539 3729 290a 2d20 6d61  sues/3597)).- ma
+00030370: 6b65 2074 6865 202f 636f 6e74 6578 7420  ke the /context 
+00030380: 4150 4920 6669 6c74 6572 2026 206c 617a  API filter & laz
+00030390: 792d 6c6f 6164 2061 7761 7265 2061 7320  y-load aware as 
+000303a0: 7065 7220 4d53 4331 3232 3720 285b 5c23  per MSC1227 ([\#
+000303b0: 3335 3637 5d28 6874 7470 733a 2f2f 6769  3567](https://gi
+000303c0: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+000303d0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+000303e0: 6573 2f33 3536 3729 290a 2d20 4164 6420  es/3567)).- Add 
+000303f0: 6162 696c 6974 7920 746f 206c 696d 6974  ability to limit
+00030400: 206e 756d 6265 7220 6f66 206d 6f6e 7468   number of month
+00030410: 6c79 2061 6374 6976 6520 7573 6572 7320  ly active users 
+00030420: 6f6e 2074 6865 2073 6572 7665 7220 285b  on the server ([
+00030430: 5c23 3336 3330 5d28 6874 7470 733a 2f2f  \#3630](https://
+00030440: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00030450: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00030460: 7375 6573 2f33 3633 3029 290a 2d20 5768  sues/3630)).- Wh
+00030470: 656e 2077 6520 6661 696c 2074 6f20 6a6f  en we fail to jo
+00030480: 696e 2061 2072 6f6f 6d20 6f76 6572 2066  in a room over f
+00030490: 6564 6572 6174 696f 6e2c 2070 6173 7320  ederation, pass 
+000304a0: 7468 6520 6572 726f 7220 636f 6465 2062  the error code b
+000304b0: 6163 6b20 746f 2074 6865 2063 6c69 656e  ack to the clien
+000304c0: 742e 2028 5b5c 2333 3633 395d 2868 7474  t. ([\#3639](htt
+000304d0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+000304e0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+000304f0: 7365 2f69 7373 7565 732f 3336 3339 2929  se/issues/3639))
+00030500: 0a2d 2041 6464 2061 206e 6577 202f 6164  .- Add a new /ad
+00030510: 6d69 6e2f 7265 6769 7374 6572 2041 5049  min/register API
+00030520: 2066 6f72 206e 6f6e 2d69 6e74 6572 6163   for non-interac
+00030530: 7469 7665 6c79 2063 7265 6174 696e 6720  tively creating 
+00030540: 7573 6572 732e 2028 5b5c 2333 3431 355d  users. ([\#3415]
+00030550: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00030560: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+00030570: 796e 6170 7365 2f69 7373 7565 732f 3334  ynapse/issues/34
+00030580: 3135 2929 0a0a 0a42 7567 6669 7865 730a  15))...Bugfixes.
+00030590: 2d2d 2d2d 2d2d 2d2d 0a0a 2d20 4d61 6b65  --------..- Make
+000305a0: 202f 6469 7265 6374 6f72 792f 6c69 7374   /directory/list
+000305b0: 2041 5049 2072 6574 7572 6e20 3430 3420   API return 404 
+000305c0: 666f 7220 726f 6f6d 206e 6f74 2066 6f75  for room not fou
+000305d0: 6e64 2069 6e73 7465 6164 206f 6620 3430  nd instead of 40
+000305e0: 302e 2054 6861 6e6b 7320 746f 2040 6675  0. Thanks to @fu
+000305f0: 7a7a 6d7a 2120 285b 5c23 3336 3230 5d28  zzmz! ([\#3620](
+00030600: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00030610: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00030620: 6e61 7073 652f 6973 7375 6573 2f33 3632  napse/issues/362
+00030630: 3029 290a 2d20 4465 6661 756c 7420 696e  0)).- Default in
+00030640: 7669 7465 725f 6469 7370 6c61 795f 6e61  viter_display_na
+00030650: 6d65 2074 6f20 6d78 6964 2066 6f72 2065  me to mxid for e
+00030660: 6d61 696c 2069 6e76 6974 6573 2028 5b5c  mail invites ([\
+00030670: 2333 3339 315d 2868 7474 7073 3a2f 2f67  #3391](https://g
+00030680: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00030690: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+000306a0: 7565 732f 3333 3931 2929 0a2d 2044 6f6e  ues/3391)).- Don
+000306b0: 2774 2067 656e 6572 6174 6520 5455 524e  't generate TURN
+000306c0: 2063 7265 6465 6e74 6961 6c73 2069 6620   credentials if 
+000306d0: 6e6f 2054 5552 4e20 636f 6e66 6967 206f  no TURN config o
+000306e0: 7074 696f 6e73 2061 7265 2073 6574 2028  ptions are set (
+000306f0: 5b5c 2333 3531 345d 2868 7474 7073 3a2f  [\#3514](https:/
+00030700: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+00030710: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00030720: 7373 7565 732f 3335 3134 2929 0a2d 2043  ssues/3514)).- C
+00030730: 6f72 7265 6374 6c79 2061 6e6e 6f75 6e63  orrectly announc
+00030740: 6520 6465 6c65 7465 6420 6465 7669 6365  e deleted device
+00030750: 7320 6f76 6572 2066 6564 6572 6174 696f  s over federatio
+00030760: 6e20 285b 5c23 3335 3230 5d28 6874 7470  n ([\#3520](http
+00030770: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+00030780: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+00030790: 652f 6973 7375 6573 2f33 3532 3029 290a  e/issues/3520)).
+000307a0: 2d20 4361 7463 6820 6661 696c 7572 6573  - Catch failures
+000307b0: 2073 6176 696e 6720 6d65 7472 6963 7320   saving metrics 
+000307c0: 6361 7074 7572 6564 2062 7920 4d65 6173  captured by Meas
+000307d0: 7572 652c 2061 6e64 2069 6e73 7465 6164  ure, and instead
+000307e0: 206c 6f67 2074 6865 2066 6175 6c74 7920   log the faulty 
+000307f0: 6d65 7472 6963 7320 696e 666f 726d 6174  metrics informat
+00030800: 696f 6e20 666f 7220 6675 7274 6865 7220  ion for further 
+00030810: 616e 616c 7973 6973 2e20 285b 5c23 3335  analysis. ([\#35
+00030820: 3438 5d28 6874 7470 733a 2f2f 6769 7468  48](https://gith
+00030830: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00030840: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00030850: 2f33 3534 3829 290a 2d20 556e 6963 6f64  /3548)).- Unicod
+00030860: 6520 7061 7373 776f 7264 7320 6172 6520  e passwords are 
+00030870: 6e6f 7720 6e6f 726d 616c 6973 6564 2062  now normalised b
+00030880: 6566 6f72 6520 6861 7368 696e 672c 2070  efore hashing, p
+00030890: 7265 7665 6e74 696e 6720 7468 6520 696e  reventing the in
+000308a0: 7374 616e 6365 2077 6865 7265 2074 776f  stance where two
+000308b0: 2064 6966 6665 7265 6e74 2064 6576 6963   different devic
+000308c0: 6573 206f 7220 6272 6f77 7365 7273 206d  es or browsers m
+000308d0: 6967 6874 2073 656e 6420 6120 6469 6666  ight send a diff
+000308e0: 6572 656e 7420 5554 462d 3820 7365 7175  erent UTF-8 sequ
+000308f0: 656e 6365 2066 6f72 2074 6865 2070 6173  ence for the pas
+00030900: 7377 6f72 642e 2028 5b5c 2333 3536 395d  sword. ([\#3569]
+00030910: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00030920: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+00030930: 796e 6170 7365 2f69 7373 7565 732f 3335  ynapse/issues/35
+00030940: 3639 2929 0a2d 2046 6978 2070 6f74 656e  69)).- Fix poten
+00030950: 7469 616c 2073 7461 636b 206f 7665 7266  tial stack overf
+00030960: 6c6f 7720 616e 6420 6465 6164 6c6f 636b  low and deadlock
+00030970: 2075 6e64 6572 2068 6561 7679 206c 6f61   under heavy loa
+00030980: 6420 285b 5c23 3335 3730 5d28 6874 7470  d ([\#3570](http
+00030990: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+000309a0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+000309b0: 652f 6973 7375 6573 2f33 3537 3029 290a  e/issues/3570)).
+000309c0: 2d20 5265 7370 6f6e 6420 7769 7468 204d  - Respond with M
+000309d0: 5f4e 4f54 5f46 4f55 4e44 2077 6865 6e20  _NOT_FOUND when 
+000309e0: 7072 6f66 696c 6573 2061 7265 206e 6f74  profiles are not
+000309f0: 2066 6f75 6e64 206c 6f63 616c 6c79 206f   found locally o
+00030a00: 7220 6f76 6572 2066 6564 6572 6174 696f  r over federatio
+00030a10: 6e2e 2046 6978 6573 2023 3335 3835 2028  n. Fixes #3585 (
+00030a20: 5b5c 2333 3538 355d 2868 7474 7073 3a2f  [\#3585](https:/
+00030a30: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+00030a40: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00030a50: 7373 7565 732f 3335 3835 2929 0a2d 2046  ssues/3585)).- F
+00030a60: 6978 2066 6169 6c75 7265 2074 6f20 7065  ix failure to pe
+00030a70: 7273 6973 7420 6576 656e 7473 206f 7665  rsist events ove
+00030a80: 7220 6665 6465 7261 7469 6f6e 2075 6e64  r federation und
+00030a90: 6572 206c 6f61 6420 285b 5c23 3336 3031  er load ([\#3601
+00030aa0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00030ab0: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00030ac0: 7379 6e61 7073 652f 6973 7375 6573 2f33  synapse/issues/3
+00030ad0: 3630 3129 290a 2d20 4669 7820 7570 6461  601)).- Fix upda
+00030ae0: 7469 6e67 206f 6620 6361 6368 6564 2072  ting of cached r
+00030af0: 656d 6f74 6520 7072 6f66 696c 6573 2028  emote profiles (
+00030b00: 5b5c 2333 3630 355d 2868 7474 7073 3a2f  [\#3605](https:/
+00030b10: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+00030b20: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00030b30: 7373 7565 732f 3336 3035 2929 0a2d 2046  ssues/3605)).- F
+00030b40: 6978 2027 7475 706c 6520 696e 6465 7820  ix 'tuple index 
+00030b50: 6f75 7420 6f66 2072 616e 6765 2720 6572  out of range' er
+00030b60: 726f 7220 285b 5c23 3336 3037 5d28 6874  ror ([\#3607](ht
+00030b70: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00030b80: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+00030b90: 7073 652f 6973 7375 6573 2f33 3630 3729  pse/issues/3607)
+00030ba0: 290a 2d20 4f6e 6c79 2069 6d70 6f72 7420  ).- Only import 
+00030bb0: 7365 6372 6574 7320 7768 656e 2061 7661  secrets when ava
+00030bc0: 696c 6162 6c65 2028 6669 7820 666f 7220  ilable (fix for 
+00030bd0: 7079 203c 2033 2e36 2920 285b 5c23 3336  py < 3.6) ([\#36
+00030be0: 3236 5d28 6874 7470 733a 2f2f 6769 7468  26](https://gith
+00030bf0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00030c00: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00030c10: 2f33 3632 3629 290a 0a0a 496e 7465 726e  /3626))...Intern
+00030c20: 616c 2043 6861 6e67 6573 0a2d 2d2d 2d2d  al Changes.-----
+00030c30: 2d2d 2d2d 2d2d 2d2d 2d2d 2d0a 0a2d 2052  -----------..- R
+00030c40: 656d 6f76 6520 7265 6475 6e64 616e 7420  emove redundant 
+00030c50: 6368 6563 6b73 206f 6e20 7768 6f5f 666f  checks on who_fo
+00030c60: 7267 6f74 5f69 6e5f 726f 6f6d 2028 5b5c  rgot_in_room ([\
+00030c70: 2333 3335 305d 2868 7474 7073 3a2f 2f67  #3350](https://g
+00030c80: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00030c90: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00030ca0: 7565 732f 3333 3530 2929 0a2d 2052 656d  ues/3350)).- Rem
+00030cb0: 6f76 6520 756e 6e65 6365 7373 6172 7920  ove unnecessary 
+00030cc0: 6576 656e 7420 7265 2d73 6967 6e69 6e67  event re-signing
+00030cd0: 2068 6163 6b73 2028 5b5c 2333 3336 375d   hacks ([\#3367]
+00030ce0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00030cf0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+00030d00: 796e 6170 7365 2f69 7373 7565 732f 3333  ynapse/issues/33
+00030d10: 3637 2929 0a2d 2052 6577 7269 7465 2063  67)).- Rewrite c
+00030d20: 6163 6865 206c 6973 7420 6465 636f 7261  ache list decora
+00030d30: 746f 7220 285b 5c23 3333 3834 5d28 6874  tor ([\#3384](ht
+00030d40: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00030d50: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+00030d60: 7073 652f 6973 7375 6573 2f33 3338 3429  pse/issues/3384)
+00030d70: 290a 2d20 4d6f 7665 2076 312d 6f6e 6c79  ).- Move v1-only
+00030d80: 2052 4553 5420 4150 4973 2069 6e74 6f20   REST APIs into 
+00030d90: 7468 6569 7220 6f77 6e20 6d6f 6475 6c65  their own module
+00030da0: 2e20 285b 5c23 3334 3630 5d28 6874 7470  . ([\#3460](http
+00030db0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+00030dc0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+00030dd0: 652f 6973 7375 6573 2f33 3436 3029 290a  e/issues/3460)).
+00030de0: 2d20 5265 706c 6163 6520 6d6f 7265 2069  - Replace more i
+00030df0: 6e73 7461 6e63 6573 206f 6620 5079 7468  nstances of Pyth
+00030e00: 6f6e 2032 2d6f 6e6c 7920 6974 6572 6974  on 2-only iterit
+00030e10: 656d 7320 616e 6420 6974 6572 7661 6c75  ems and itervalu
+00030e20: 6573 2075 7365 732e 2028 5b5c 2333 3536  es uses. ([\#356
+00030e30: 325d 2868 7474 7073 3a2f 2f67 6974 6875  2](https://githu
+00030e40: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00030e50: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00030e60: 3335 3632 2929 0a2d 2052 6566 6163 746f  3562)).- Refacto
+00030e70: 7220 4576 656e 7443 6f6e 7465 7874 2074  r EventContext t
+00030e80: 6f20 6163 6365 7074 2073 7461 7465 2064  o accept state d
+00030e90: 7572 696e 6720 696e 6974 2028 5b5c 2333  uring init ([\#3
+00030ea0: 3537 375d 2868 7474 7073 3a2f 2f67 6974  577](https://git
+00030eb0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00030ec0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+00030ed0: 732f 3335 3737 2929 0a2d 2049 6d70 726f  s/3577)).- Impro
+00030ee0: 7665 2044 6f63 6b65 7266 696c 6520 616e  ve Dockerfile an
+00030ef0: 6420 646f 636b 6572 2d63 6f6d 706f 7365  d docker-compose
+00030f00: 2069 6e73 7472 7563 7469 6f6e 7320 285b   instructions ([
+00030f10: 5c23 3335 3433 5d28 6874 7470 733a 2f2f  \#3543](https://
+00030f20: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00030f30: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00030f40: 7375 6573 2f33 3534 3329 290a 2d20 5265  sues/3543)).- Re
+00030f50: 6c65 6173 6520 6e6f 7465 7320 6172 6520  lease notes are 
+00030f60: 6e6f 7720 696e 2074 6865 204d 6172 6b64  now in the Markd
+00030f70: 6f77 6e20 666f 726d 6174 2e20 285b 5c23  own format. ([\#
+00030f80: 3335 3532 5d28 6874 7470 733a 2f2f 6769  3552](https://gi
+00030f90: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+00030fa0: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+00030fb0: 6573 2f33 3535 3229 290a 2d20 6164 6420  es/3552)).- add 
+00030fc0: 636f 6e66 6967 2066 6f72 2070 6570 3820  config for pep8 
+00030fd0: 285b 5c23 3335 3539 5d28 6874 7470 733a  ([\#3559](https:
+00030fe0: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00030ff0: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00031000: 6973 7375 6573 2f33 3535 3929 290a 2d20  issues/3559)).- 
+00031010: 4d65 7267 6520 4c69 6e65 6172 697a 6572  Merge Linearizer
+00031020: 2061 6e64 204c 696d 6974 6572 2028 5b5c   and Limiter ([\
+00031030: 2333 3537 315d 2868 7474 7073 3a2f 2f67  #3571](https://g
+00031040: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00031050: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00031060: 7565 732f 3335 3731 292c 205b 5c23 3335  ues/3571), [\#35
+00031070: 3732 5d28 6874 7470 733a 2f2f 6769 7468  72](https://gith
+00031080: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00031090: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+000310a0: 2f33 3537 3229 290a 2d20 4c61 7a69 6c79  /3572)).- Lazily
+000310b0: 206c 6f61 6420 7374 6174 6520 6f6e 206d   load state on m
+000310c0: 6173 7465 7220 7072 6f63 6573 7320 7768  aster process wh
+000310d0: 656e 2075 7369 6e67 2077 6f72 6b65 7273  en using workers
+000310e0: 2074 6f20 7265 6475 6365 2044 4220 636f   to reduce DB co
+000310f0: 6e73 756d 7074 696f 6e20 285b 5c23 3335  nsumption ([\#35
+00031100: 3739 5d28 6874 7470 733a 2f2f 6769 7468  79](https://gith
+00031110: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00031120: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00031130: 2f33 3537 3929 2c20 5b5c 2333 3538 315d  /3579), [\#3581]
+00031140: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00031150: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+00031160: 796e 6170 7365 2f69 7373 7565 732f 3335  ynapse/issues/35
+00031170: 3831 292c 205b 5c23 3335 3832 5d28 6874  81), [\#3582](ht
+00031180: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00031190: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+000311a0: 7073 652f 6973 7375 6573 2f33 3538 3229  pse/issues/3582)
+000311b0: 2c20 5b5c 2333 3538 345d 2868 7474 7073  , [\#3584](https
+000311c0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+000311d0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+000311e0: 2f69 7373 7565 732f 3335 3834 2929 0a2d  /issues/3584)).-
+000311f0: 2046 6978 6573 2061 6e64 206f 7074 696d   Fixes and optim
+00031200: 6973 6174 696f 6e73 2066 6f72 2072 6573  isations for res
+00031210: 6f6c 7665 5f73 7461 7465 5f67 726f 7570  olve_state_group
+00031220: 7320 285b 5c23 3335 3836 5d28 6874 7470  s ([\#3586](http
+00031230: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+00031240: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+00031250: 652f 6973 7375 6573 2f33 3538 3629 290a  e/issues/3586)).
+00031260: 2d20 496d 7072 6f76 6520 6c6f 6767 696e  - Improve loggin
+00031270: 6720 666f 7220 6578 6365 7074 696f 6e73  g for exceptions
+00031280: 2077 6865 6e20 6861 6e64 6c69 6e67 2050   when handling P
+00031290: 4455 7320 285b 5c23 3335 3837 5d28 6874  DUs ([\#3587](ht
+000312a0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+000312b0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+000312c0: 7073 652f 6973 7375 6573 2f33 3538 3729  pse/issues/3587)
+000312d0: 290a 2d20 4164 6420 736f 6d65 206d 6561  ).- Add some mea
+000312e0: 7375 7265 2062 6c6f 636b 7320 746f 2070  sure blocks to p
+000312f0: 6572 7369 7374 5f65 7665 6e74 7320 285b  ersist_events ([
+00031300: 5c23 3335 3930 5d28 6874 7470 733a 2f2f  \#3590](https://
+00031310: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00031320: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00031330: 7375 6573 2f33 3539 3029 290a 2d20 4669  sues/3590)).- Fi
+00031340: 7820 736f 6d65 2072 616e 646f 6d20 6c6f  x some random lo
+00031350: 6763 6f6e 7465 7874 206c 6561 6b73 2e20  gcontext leaks. 
+00031360: 285b 5c23 3335 3931 5d28 6874 7470 733a  ([\#3591](https:
+00031370: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00031380: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00031390: 6973 7375 6573 2f33 3539 3129 2c20 5b5c  issues/3591), [\
+000313a0: 2333 3630 365d 2868 7474 7073 3a2f 2f67  #3606](https://g
+000313b0: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+000313c0: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+000313d0: 7565 732f 3336 3036 2929 0a2d 2053 7065  ues/3606)).- Spe
+000313e0: 6564 2075 7020 6361 6c63 756c 6174 696e  ed up calculatin
+000313f0: 6720 7374 6174 6520 6465 6c74 6173 2069  g state deltas i
+00031400: 6e20 7065 7273 6973 745f 6576 656e 7420  n persist_event 
+00031410: 6c6f 6f70 2028 5b5c 2333 3539 325d 2868  loop ([\#3592](h
+00031420: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00031430: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+00031440: 6170 7365 2f69 7373 7565 732f 3335 3932  apse/issues/3592
+00031450: 2929 0a2d 2041 7474 656d 7074 2074 6f20  )).- Attempt to 
+00031460: 7265 6475 6365 2061 6d6f 756e 7420 6f66  reduce amount of
+00031470: 2073 7461 7465 2070 756c 6c65 6420 6f75   state pulled ou
+00031480: 7420 6f66 2044 4220 6475 7269 6e67 2070  t of DB during p
+00031490: 6572 7369 7374 5f65 7665 6e74 7320 285b  ersist_events ([
+000314a0: 5c23 3335 3935 5d28 6874 7470 733a 2f2f  \#3595](https://
+000314b0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+000314c0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+000314d0: 7375 6573 2f33 3539 3529 290a 2d20 4669  sues/3595)).- Fi
+000314e0: 7820 6120 646f 6375 6d65 6e74 6174 696f  x a documentatio
+000314f0: 6e20 7479 706f 2069 6e20 6f6e 5f6d 616b  n typo in on_mak
+00031500: 655f 6c65 6176 655f 7265 7175 6573 7420  e_leave_request 
+00031510: 285b 5c23 3336 3039 5d28 6874 7470 733a  ([\#3609](https:
+00031520: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00031530: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00031540: 6973 7375 6573 2f33 3630 3929 290a 2d20  issues/3609)).- 
+00031550: 4d61 6b65 2045 7665 6e74 5374 6f72 6520  Make EventStore 
+00031560: 696e 6865 7269 7420 6672 6f6d 2045 7665  inherit from Eve
+00031570: 6e74 4665 6465 7261 7469 6f6e 5374 6f72  ntFederationStor
+00031580: 6520 285b 5c23 3336 3132 5d28 6874 7470  e ([\#3612](http
+00031590: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+000315a0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+000315b0: 652f 6973 7375 6573 2f33 3631 3229 290a  e/issues/3612)).
+000315c0: 2d20 5265 6d6f 7665 2073 6f6d 6520 7265  - Remove some re
+000315d0: 6475 6e64 616e 7420 6a6f 696e 7320 6f6e  dundant joins on
+000315e0: 2065 7665 6e74 5f65 6467 6573 2e72 6f6f   event_edges.roo
+000315f0: 6d5f 6964 2028 5b5c 2333 3631 335d 2868  m_id ([\#3613](h
+00031600: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00031610: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+00031620: 6170 7365 2f69 7373 7565 732f 3336 3133  apse/issues/3613
+00031630: 2929 0a2d 2053 746f 7020 706f 7075 6c61  )).- Stop popula
+00031640: 7469 6e67 2065 7665 6e74 732e 636f 6e74  ting events.cont
+00031650: 656e 7420 285b 5c23 3336 3134 5d28 6874  ent ([\#3614](ht
+00031660: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00031670: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+00031680: 7073 652f 6973 7375 6573 2f33 3631 3429  pse/issues/3614)
+00031690: 290a 2d20 5570 6461 7465 2074 6865 202f  ).- Update the /
+000316a0: 7365 6e64 5f6c 6561 7665 2070 6174 6820  send_leave path 
+000316b0: 7265 6769 7374 7261 7469 6f6e 2074 6f20  registration to 
+000316c0: 7573 6520 6576 656e 745f 6964 2072 6174  use event_id rat
+000316d0: 6865 7220 7468 616e 2061 2074 7261 6e73  her than a trans
+000316e0: 6163 7469 6f6e 2049 442e 2028 5b5c 2333  action ID. ([\#3
+000316f0: 3631 365d 2868 7474 7073 3a2f 2f67 6974  616](https://git
+00031700: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00031710: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+00031720: 732f 3336 3136 2929 0a2d 2052 6566 6163  s/3616)).- Refac
+00031730: 746f 7220 4665 6465 7261 7469 6f6e 4861  tor FederationHa
+00031740: 6e64 6c65 7220 746f 206d 6f76 6520 4442  ndler to move DB
+00031750: 2077 7269 7465 7320 696e 746f 2073 6570   writes into sep
+00031760: 6172 6174 6520 6675 6e63 7469 6f6e 7320  arate functions 
+00031770: 285b 5c23 3336 3231 5d28 6874 7470 733a  ([\#3621](https:
+00031780: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00031790: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+000317a0: 6973 7375 6573 2f33 3632 3129 290a 2d20  issues/3621)).- 
+000317b0: 5265 6d6f 7665 2075 6e75 7365 6420 6669  Remove unused fi
+000317c0: 656c 6420 2270 6475 5f66 6169 6c75 7265  eld "pdu_failure
+000317d0: 7322 2066 726f 6d20 7472 616e 7361 6374  s" from transact
+000317e0: 696f 6e73 2e20 285b 5c23 3336 3238 5d28  ions. ([\#3628](
+000317f0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00031800: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00031810: 6e61 7073 652f 6973 7375 6573 2f33 3632  napse/issues/362
+00031820: 3829 290a 2d20 7265 6e61 6d65 2072 6570  8)).- rename rep
+00031830: 6c69 6361 7469 6f6e 5f6c 6179 6572 2074  lication_layer t
+00031840: 6f20 6665 6465 7261 7469 6f6e 5f63 6c69  o federation_cli
+00031850: 656e 7420 285b 5c23 3336 3334 5d28 6874  ent ([\#3634](ht
+00031860: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00031870: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+00031880: 7073 652f 6973 7375 6573 2f33 3633 3429  pse/issues/3634)
+00031890: 290a 2d20 4661 6374 6f72 206f 7574 2065  ).- Factor out e
+000318a0: 7863 6570 7469 6f6e 2068 616e 646c 696e  xception handlin
+000318b0: 6720 696e 2066 6564 6572 6174 696f 6e5f  g in federation_
+000318c0: 636c 6965 6e74 2028 5b5c 2333 3633 385d  client ([\#3638]
+000318d0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+000318e0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+000318f0: 796e 6170 7365 2f69 7373 7565 732f 3336  ynapse/issues/36
+00031900: 3338 2929 0a2d 2052 6566 6163 746f 7220  38)).- Refactor 
+00031910: 6c6f 6361 7469 6f6e 206f 6620 646f 636b  location of dock
+00031920: 6572 2062 7569 6c64 2073 6372 6970 742e  er build script.
+00031930: 2028 5b5c 2333 3634 345d 2868 7474 7073   ([\#3644](https
+00031940: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00031950: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00031960: 2f69 7373 7565 732f 3336 3434 2929 0a2d  /issues/3644)).-
+00031970: 2055 7064 6174 6520 434f 4e54 5249 4255   Update CONTRIBU
+00031980: 5449 4e47 2074 6f20 6d65 6e74 696f 6e20  TING to mention 
+00031990: 6e65 7773 6672 6167 6d65 6e74 732e 2028  newsfragments. (
+000319a0: 5b5c 2333 3634 355d 2868 7474 7073 3a2f  [\#3645](https:/
+000319b0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+000319c0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+000319d0: 7373 7565 732f 3336 3435 2929 0a0a 0a53  ssues/3645))...S
+000319e0: 796e 6170 7365 2030 2e33 332e 3120 2832  ynapse 0.33.1 (2
+000319f0: 3031 382d 3038 2d30 3229 0a3d 3d3d 3d3d  018-08-02).=====
+00031a00: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00031a10: 3d3d 3d3d 3d3d 0a0a 5345 4355 5249 5459  ======..SECURITY
+00031a20: 2046 4958 4553 0a2d 2d2d 2d2d 2d2d 2d2d   FIXES.---------
+00031a30: 2d2d 2d2d 2d0a 0a2d 2046 6978 2061 2070  -----..- Fix a p
+00031a40: 6f74 656e 7469 616c 2069 7373 7565 2077  otential issue w
+00031a50: 6865 7265 2073 6572 7665 7273 2063 6f75  here servers cou
+00031a60: 6c64 2072 6571 7565 7374 2065 7665 6e74  ld request event
+00031a70: 7320 666f 7220 726f 6f6d 7320 7468 6579  s for rooms they
+00031a80: 2068 6176 6520 6e6f 7420 6a6f 696e 6564   have not joined
+00031a90: 2e20 285b 5c23 3336 3431 5d28 6874 7470  . ([\#3641](http
+00031aa0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+00031ab0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+00031ac0: 652f 6973 7375 6573 2f33 3634 3129 290a  e/issues/3641)).
+00031ad0: 2d20 4669 7820 6120 706f 7465 6e74 6961  - Fix a potentia
+00031ae0: 6c20 6973 7375 6520 7768 6572 6520 7573  l issue where us
+00031af0: 6572 7320 636f 756c 6420 7365 6520 6576  ers could see ev
+00031b00: 656e 7473 2069 6e20 7072 6976 6174 6520  ents in private 
+00031b10: 726f 6f6d 7320 6265 666f 7265 2074 6865  rooms before the
+00031b20: 7920 6a6f 696e 6564 2e20 285b 5c23 3336  y joined. ([\#36
+00031b30: 3432 5d28 6874 7470 733a 2f2f 6769 7468  42](https://gith
+00031b40: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00031b50: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00031b60: 2f33 3634 3229 290a 0a53 796e 6170 7365  /3642))..Synapse
+00031b70: 2030 2e33 332e 3020 2832 3031 382d 3037   0.33.0 (2018-07
+00031b80: 2d31 3929 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d  -19).===========
+00031b90: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00031ba0: 0a0a 4275 6766 6978 6573 0a2d 2d2d 2d2d  ..Bugfixes.-----
+00031bb0: 2d2d 2d0a 0a2d 2020 2044 6973 6162 6c65  ---..-   Disable
+00031bc0: 2061 206e 6f69 7379 2077 6172 6e69 6e67   a noisy warning
+00031bd0: 2061 626f 7574 206c 6f67 636f 6e74 6578   about logcontex
+00031be0: 7473 2e20 285b 5c23 3335 3631 5d28 6874  ts. ([\#3561](ht
+00031bf0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00031c00: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+00031c10: 7073 652f 6973 7375 6573 2f33 3536 3129  pse/issues/3561)
+00031c20: 290a 0a53 796e 6170 7365 2030 2e33 332e  )..Synapse 0.33.
+00031c30: 3072 6331 2028 3230 3138 2d30 372d 3138  0rc1 (2018-07-18
+00031c40: 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ).==============
+00031c50: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00031c60: 0a0a 4665 6174 7572 6573 0a2d 2d2d 2d2d  ..Features.-----
+00031c70: 2d2d 2d0a 0a2d 2020 2045 6e66 6f72 6365  ---..-   Enforce
+00031c80: 2074 6865 2073 7065 6369 6669 6564 2041   the specified A
+00031c90: 5049 2066 6f72 2072 6570 6f72 745c 5f65  PI for report\_e
+00031ca0: 7665 6e74 2e20 285b 5c23 3333 3136 5d28  vent. ([\#3316](
+00031cb0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00031cc0: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00031cd0: 6e61 7073 652f 6973 7375 6573 2f33 3331  napse/issues/331
+00031ce0: 3629 290a 2d20 2020 496e 636c 7564 6520  6)).-   Include 
+00031cf0: 4350 5520 7469 6d65 2066 726f 6d20 6461  CPU time from da
+00031d00: 7461 6261 7365 2074 6872 6561 6473 2069  tabase threads i
+00031d10: 6e20 7265 7175 6573 742f 626c 6f63 6b20  n request/block 
+00031d20: 6d65 7472 6963 732e 2028 5b5c 2333 3439  metrics. ([\#349
+00031d30: 365d 2868 7474 7073 3a2f 2f67 6974 6875  6](https://githu
+00031d40: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+00031d50: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+00031d60: 3334 3936 292c 205b 5c23 3335 3031 5d28  3496), [\#3501](
+00031d70: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00031d80: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00031d90: 6e61 7073 652f 6973 7375 6573 2f33 3530  napse/issues/350
+00031da0: 3129 290a 2d20 2020 4164 6420 4350 5520  1)).-   Add CPU 
+00031db0: 6d65 7472 6963 7320 666f 7220 5c5f 6665  metrics for \_fe
+00031dc0: 7463 685c 5f65 7665 6e74 5c5f 6c69 7374  tch\_event\_list
+00031dd0: 2e20 285b 5c23 3334 3937 5d28 6874 7470  . ([\#3497](http
+00031de0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+00031df0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+00031e00: 652f 6973 7375 6573 2f33 3439 3729 290a  e/issues/3497)).
+00031e10: 2d20 2020 4f70 7469 6d69 7361 7469 6f6e  -   Optimisation
+00031e20: 2074 6f20 6d61 6b65 2068 616e 646c 696e   to make handlin
+00031e30: 6720 696e 636f 6d69 6e67 2066 6564 6572  g incoming feder
+00031e40: 6174 696f 6e20 7265 7175 6573 7473 206d  ation requests m
+00031e50: 6f72 6520 6566 6669 6369 656e 742e 2028  ore efficient. (
+00031e60: 5b5c 2333 3534 315d 2868 7474 7073 3a2f  [\#3541](https:/
+00031e70: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+00031e80: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00031e90: 7373 7565 732f 3335 3431 2929 0a0a 4275  ssues/3541))..Bu
+00031ea0: 6766 6978 6573 0a2d 2d2d 2d2d 2d2d 2d0a  gfixes.--------.
+00031eb0: 0a2d 2020 2046 6978 2061 2073 6967 6e69  .-   Fix a signi
+00031ec0: 6669 6361 6e74 2070 6572 666f 726d 616e  ficant performan
+00031ed0: 6365 2072 6567 7265 7373 696f 6e20 696e  ce regression in
+00031ee0: 202f 7379 6e63 2e20 285b 5c23 3335 3035   /sync. ([\#3505
+00031ef0: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00031f00: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00031f10: 7379 6e61 7073 652f 6973 7375 6573 2f33  synapse/issues/3
+00031f20: 3530 3529 2c20 5b5c 2333 3532 315d 2868  505), [\#3521](h
+00031f30: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00031f40: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+00031f50: 6170 7365 2f69 7373 7565 732f 3335 3231  apse/issues/3521
+00031f60: 292c 205b 5c23 3335 3330 5d28 6874 7470  ), [\#3530](http
+00031f70: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+00031f80: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+00031f90: 652f 6973 7375 6573 2f33 3533 3029 2c20  e/issues/3530), 
+00031fa0: 5b5c 2333 3534 345d 2868 7474 7073 3a2f  [\#3544](https:/
+00031fb0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+00031fc0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00031fd0: 7373 7565 732f 3335 3434 2929 0a2d 2020  ssues/3544)).-  
+00031fe0: 2055 7365 206d 6f72 6520 706f 7274 6162   Use more portab
+00031ff0: 6c65 2073 796e 7461 7820 696e 206f 7572  le syntax in our
+00032000: 2075 7365 206f 6620 7468 6520 6174 7472   use of the attr
+00032010: 7320 7061 636b 6167 652c 2077 6964 656e  s package, widen
+00032020: 696e 6720 7468 6520 7375 7070 6f72 7465  ing the supporte
+00032030: 6420 7665 7273 696f 6e73 2e20 285b 5c23  d versions. ([\#
+00032040: 3334 3938 5d28 6874 7470 733a 2f2f 6769  3498](https://gi
+00032050: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+00032060: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+00032070: 6573 2f33 3439 3829 290a 2d20 2020 4669  es/3498)).-   Fi
+00032080: 7820 7175 6575 6564 2066 6564 6572 6174  x queued federat
+00032090: 696f 6e20 7265 7175 6573 7473 2062 6569  ion requests bei
+000320a0: 6e67 2070 726f 6365 7373 6564 2069 6e20  ng processed in 
+000320b0: 7468 6520 7772 6f6e 6720 6f72 6465 722e  the wrong order.
+000320c0: 2028 5b5c 2333 3533 335d 2868 7474 7073   ([\#3533](https
+000320d0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+000320e0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+000320f0: 2f69 7373 7565 732f 3335 3333 2929 0a2d  /issues/3533)).-
+00032100: 2020 2045 6e73 7572 6520 7468 6174 2065     Ensure that e
+00032110: 7261 7375 7265 2072 6571 7565 7374 7320  rasure requests 
+00032120: 6172 6520 636f 7272 6563 746c 7920 686f  are correctly ho
+00032130: 6e6f 7572 6564 2066 6f72 2070 7562 6c69  noured for publi
+00032140: 636c 7920 6163 6365 7373 6962 6c65 2072  cly accessible r
+00032150: 6f6f 6d73 2077 6865 6e20 6163 6365 7373  ooms when access
+00032160: 6564 206f 7665 7220 6665 6465 7261 7469  ed over federati
+00032170: 6f6e 2e20 285b 5c23 3335 3436 5d28 6874  on. ([\#3546](ht
+00032180: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00032190: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+000321a0: 7073 652f 6973 7375 6573 2f33 3534 3629  pse/issues/3546)
+000321b0: 290a 0a4d 6973 630a 2d2d 2d2d 0a0a 2d20  )..Misc.----..- 
+000321c0: 2020 5265 6661 6374 6f72 696e 6720 746f    Refactoring to
+000321d0: 2069 6d70 726f 7665 2074 6573 7461 6269   improve testabi
+000321e0: 6c69 7479 2e20 285b 5c23 3333 3531 5d28  lity. ([\#3351](
+000321f0: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00032200: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00032210: 6e61 7073 652f 6973 7375 6573 2f33 3335  napse/issues/335
+00032220: 3129 2c20 5b5c 2333 3439 395d 2868 7474  1), [\#3499](htt
+00032230: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+00032240: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+00032250: 7365 2f69 7373 7565 732f 3334 3939 2929  se/issues/3499))
+00032260: 0a2d 2020 2055 7365 2060 6973 6f72 7460  .-   Use `isort`
+00032270: 2074 6f20 736f 7274 2069 6d70 6f72 7473   to sort imports
+00032280: 2e20 285b 5c23 3334 3633 5d28 6874 7470  . ([\#3463](http
+00032290: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+000322a0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+000322b0: 652f 6973 7375 6573 2f33 3436 3329 2c20  e/issues/3463), 
+000322c0: 5b5c 2333 3436 345d 2868 7474 7073 3a2f  [\#3464](https:/
+000322d0: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+000322e0: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+000322f0: 7373 7565 732f 3334 3634 292c 205b 5c23  ssues/3464), [\#
+00032300: 3335 3430 5d28 6874 7470 733a 2f2f 6769  3540](https://gi
+00032310: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+00032320: 6f72 672f 7379 6e61 7073 652f 6973 7375  org/synapse/issu
+00032330: 6573 2f33 3534 3029 290a 2d20 2020 5573  es/3540)).-   Us
+00032340: 6520 7061 7273 6520 616e 6420 6173 7365  e parse and asse
+00032350: 7274 7320 6672 6f6d 2068 7474 702e 7365  rts from http.se
+00032360: 7276 6c65 742e 2028 5b5c 2333 3533 345d  rvlet. ([\#3534]
+00032370: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00032380: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+00032390: 796e 6170 7365 2f69 7373 7565 732f 3335  ynapse/issues/35
+000323a0: 3334 292c 205b 5c23 3335 3335 5d28 6874  34), [\#3535](ht
+000323b0: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+000323c0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+000323d0: 7073 652f 6973 7375 6573 2f33 3533 3529  pse/issues/3535)
+000323e0: 292e 0a0a 5379 6e61 7073 6520 302e 3332  )...Synapse 0.32
+000323f0: 2e32 2028 3230 3138 2d30 372d 3037 290a  .2 (2018-07-07).
+00032400: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00032410: 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a42 7567  ===========..Bug
+00032420: 6669 7865 730a 2d2d 2d2d 2d2d 2d2d 0a0a  fixes.--------..
+00032430: 2d20 2020 416d 656e 6420 7468 6520 5079  -   Amend the Py
+00032440: 7468 6f6e 2064 6570 656e 6465 6e63 6965  thon dependencie
+00032450: 7320 746f 2064 6570 656e 6420 6f6e 2061  s to depend on a
+00032460: 7474 7273 2066 726f 6d20 5079 5049 2c20  ttrs from PyPI, 
+00032470: 6e6f 7420 6174 7472 2028 5b5c 2333 3439  not attr ([\#349
+00032480: 325d 2868 7474 7073 3a2f 2f67 6974 6875  2](https://githu
+00032490: 622e 636f 6d2f 6d61 7472 6978 2d6f 7267  b.com/matrix-org
+000324a0: 2f73 796e 6170 7365 2f69 7373 7565 732f  /synapse/issues/
+000324b0: 3334 3932 2929 0a0a 5379 6e61 7073 6520  3492))..Synapse 
+000324c0: 302e 3332 2e31 2028 3230 3138 2d30 372d  0.32.1 (2018-07-
+000324d0: 3036 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  06).============
+000324e0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a  ===============.
+000324f0: 0a42 7567 6669 7865 730a 2d2d 2d2d 2d2d  .Bugfixes.------
+00032500: 2d2d 0a0a 2d20 2020 4164 6420 6578 706c  --..-   Add expl
+00032510: 6963 6974 2064 6570 656e 6465 6e63 7920  icit dependency 
+00032520: 6f6e 206e 6574 6164 6472 2028 5b5c 2333  on netaddr ([\#3
+00032530: 3438 385d 2868 7474 7073 3a2f 2f67 6974  488](https://git
+00032540: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00032550: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+00032560: 732f 3334 3838 2929 0a0a 4368 616e 6765  s/3488))..Change
+00032570: 7320 696e 2073 796e 6170 7365 2076 302e  s in synapse v0.
+00032580: 3332 2e30 2028 3230 3138 2d30 372d 3036  32.0 (2018-07-06
+00032590: 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ).==============
+000325a0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000325b0: 3d3d 3d3d 3d3d 3d3d 3d0a 0a4e 6f20 6368  =========..No ch
+000325c0: 616e 6765 7320 7369 6e63 6520 302e 3332  anges since 0.32
+000325d0: 2e30 7263 310a 0a53 796e 6170 7365 2030  .0rc1..Synapse 0
+000325e0: 2e33 322e 3072 6331 2028 3230 3138 2d30  .32.0rc1 (2018-0
+000325f0: 372d 3035 290a 3d3d 3d3d 3d3d 3d3d 3d3d  7-05).==========
+00032600: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00032610: 3d3d 3d3d 0a0a 4665 6174 7572 6573 0a2d  ====..Features.-
+00032620: 2d2d 2d2d 2d2d 2d0a 0a2d 2020 2041 6464  -------..-   Add
+00032630: 2062 6c61 636b 6c69 7374 2026 2077 6869   blacklist & whi
+00032640: 7465 6c69 7374 206f 6620 7365 7276 6572  telist of server
+00032650: 7320 616c 6c6f 7765 6420 746f 2073 656e  s allowed to sen
+00032660: 6420 6576 656e 7473 2074 6f20 6120 726f  d events to a ro
+00032670: 6f6d 2076 6961 2060 6d2e 726f 6f6d 2e73  om via `m.room.s
+00032680: 6572 7665 725f 6163 6c60 2065 7665 6e74  erver_acl` event
+00032690: 2e0a 2d20 2020 4361 6368 6520 6661 6374  ..-   Cache fact
+000326a0: 6f72 206f 7665 7272 6964 6520 7379 7374  or override syst
+000326b0: 656d 2066 6f72 2073 7065 6369 6669 6320  em for specific 
+000326c0: 6361 6368 6573 2028 5b5c 2333 3333 345d  caches ([\#3334]
+000326d0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+000326e0: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+000326f0: 796e 6170 7365 2f69 7373 7565 732f 3333  ynapse/issues/33
+00032700: 3334 2929 0a2d 2020 2041 6464 206d 6574  34)).-   Add met
+00032710: 7269 6373 2074 6f20 7472 6163 6b20 6170  rics to track ap
+00032720: 7073 6572 7669 6365 2074 7261 6e73 6163  pservice transac
+00032730: 7469 6f6e 7320 285b 5c23 3333 3434 5d28  tions ([\#3344](
+00032740: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00032750: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00032760: 6e61 7073 652f 6973 7375 6573 2f33 3334  napse/issues/334
+00032770: 3429 290a 2d20 2020 5472 7920 746f 206c  4)).-   Try to l
+00032780: 6f67 206d 6f72 6520 6865 6c70 6675 6c20  og more helpful 
+00032790: 696e 666f 2077 6865 6e20 6120 7369 6720  info when a sig 
+000327a0: 7665 7269 6669 6361 7469 6f6e 2066 6169  verification fai
+000327b0: 6c73 2028 5b5c 2333 3337 325d 2868 7474  ls ([\#3372](htt
+000327c0: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
+000327d0: 6d61 7472 6978 2d6f 7267 2f73 796e 6170  matrix-org/synap
+000327e0: 7365 2f69 7373 7565 732f 3333 3732 2929  se/issues/3372))
+000327f0: 0a2d 2020 2053 796e 6170 7365 206e 6f77  .-   Synapse now
+00032800: 2075 7365 7320 7468 6520 6265 7374 2070   uses the best p
+00032810: 6572 666f 726d 696e 6720 4a53 4f4e 2065  erforming JSON e
+00032820: 6e63 6f64 6572 2f64 6563 6f64 6572 2061  ncoder/decoder a
+00032830: 6363 6f72 6469 6e67 2074 6f20 796f 7572  ccording to your
+00032840: 2072 756e 7469 6d65 2028 7369 6d70 6c65   runtime (simple
+00032850: 6a73 6f6e 206f 6e20 4350 7974 686f 6e2c  json on CPython,
+00032860: 2073 7464 6c69 6220 6a73 6f6e 206f 6e20   stdlib json on 
+00032870: 5079 5079 292e 2028 5b5c 2333 3436 325d  PyPy). ([\#3462]
+00032880: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00032890: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+000328a0: 796e 6170 7365 2f69 7373 7565 732f 3334  ynapse/issues/34
+000328b0: 3632 2929 0a2d 2020 2041 6464 206f 7074  62)).-   Add opt
+000328c0: 696f 6e61 6c20 6970 5c5f 7261 6e67 655c  ional ip\_range\
+000328d0: 5f77 6869 7465 6c69 7374 2070 6172 616d  _whitelist param
+000328e0: 2074 6f20 4153 2072 6567 6973 7472 6174   to AS registrat
+000328f0: 696f 6e20 6669 6c65 7320 746f 206c 6f63  ion files to loc
+00032900: 6b20 4153 2049 5020 6163 6365 7373 2028  k AS IP access (
+00032910: 5b5c 2333 3436 355d 2868 7474 7073 3a2f  [\#3465](https:/
+00032920: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+00032930: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00032940: 7373 7565 732f 3334 3635 2929 0a2d 2020  ssues/3465)).-  
+00032950: 2052 656a 6563 7420 696e 7661 6c69 6420   Reject invalid 
+00032960: 7365 7276 6572 206e 616d 6573 2069 6e20  server names in 
+00032970: 6665 6465 7261 7469 6f6e 2072 6571 7565  federation reque
+00032980: 7374 7320 285b 5c23 3334 3830 5d28 6874  sts ([\#3480](ht
+00032990: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+000329a0: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+000329b0: 7073 652f 6973 7375 6573 2f33 3438 3029  pse/issues/3480)
+000329c0: 290a 2d20 2020 5265 6a65 6374 2069 6e76  ).-   Reject inv
+000329d0: 616c 6964 2073 6572 7665 7220 6e61 6d65  alid server name
+000329e0: 7320 696e 2068 6f6d 6573 6572 7665 722e  s in homeserver.
+000329f0: 7961 6d6c 2028 5b5c 2333 3438 335d 2868  yaml ([\#3483](h
+00032a00: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00032a10: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+00032a20: 6170 7365 2f69 7373 7565 732f 3334 3833  apse/issues/3483
+00032a30: 2929 0a0a 4275 6766 6978 6573 0a2d 2d2d  ))..Bugfixes.---
+00032a40: 2d2d 2d2d 2d0a 0a2d 2020 2053 7472 6970  -----..-   Strip
+00032a50: 2061 6363 6573 735c 5f74 6f6b 656e 2066   access\_token f
+00032a60: 726f 6d20 6f75 7467 6f69 6e67 2072 6571  rom outgoing req
+00032a70: 7565 7374 7320 285b 5c23 3333 3237 5d28  uests ([\#3327](
+00032a80: 6874 7470 733a 2f2f 6769 7468 7562 2e63  https://github.c
+00032a90: 6f6d 2f6d 6174 7269 782d 6f72 672f 7379  om/matrix-org/sy
+00032aa0: 6e61 7073 652f 6973 7375 6573 2f33 3332  napse/issues/332
+00032ab0: 3729 290a 2d20 2020 5265 6461 6374 2041  7)).-   Redact A
+00032ac0: 5320 746f 6b65 6e73 2069 6e20 6c6f 6773  S tokens in logs
+00032ad0: 2028 5b5c 2333 3334 395d 2868 7474 7073   ([\#3349](https
+00032ae0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00032af0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00032b00: 2f69 7373 7565 732f 3333 3439 2929 0a2d  /issues/3349)).-
+00032b10: 2020 2046 6978 2066 6564 6572 6174 696f     Fix federatio
+00032b20: 6e20 6261 636b 6669 6c6c 2066 726f 6d20  n backfill from 
+00032b30: 5351 4c69 7465 2073 6572 7665 7273 2028  SQLite servers (
+00032b40: 5b5c 2333 3335 355d 2868 7474 7073 3a2f  [\#3355](https:/
+00032b50: 2f67 6974 6875 622e 636f 6d2f 6d61 7472  /github.com/matr
+00032b60: 6978 2d6f 7267 2f73 796e 6170 7365 2f69  ix-org/synapse/i
+00032b70: 7373 7565 732f 3333 3535 2929 0a2d 2020  ssues/3355)).-  
+00032b80: 2046 6978 2065 7665 6e74 2d70 7572 6765   Fix event-purge
+00032b90: 2d62 792d 7473 2061 646d 696e 2041 5049  -by-ts admin API
+00032ba0: 2028 5b5c 2333 3336 335d 2868 7474 7073   ([\#3363](https
+00032bb0: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00032bc0: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00032bd0: 2f69 7373 7565 732f 3333 3633 2929 0a2d  /issues/3363)).-
+00032be0: 2020 2046 6978 2065 7665 6e74 2066 696c     Fix event fil
+00032bf0: 7465 7269 6e67 2069 6e20 6765 745c 5f6d  tering in get\_m
+00032c00: 6973 7369 6e67 5c5f 6576 656e 7473 2068  issing\_events h
+00032c10: 616e 646c 6572 2028 5b5c 2333 3337 315d  andler ([\#3371]
+00032c20: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00032c30: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+00032c40: 796e 6170 7365 2f69 7373 7565 732f 3333  ynapse/issues/33
+00032c50: 3731 2929 0a2d 2020 2053 796e 6170 7365  71)).-   Synapse
+00032c60: 2069 7320 6e6f 7720 7374 7269 6374 6572   is now stricter
+00032c70: 2072 6567 6172 6469 6e67 2061 6363 6570   regarding accep
+00032c80: 7469 6e67 2065 7665 6e74 7320 7768 6963  ting events whic
+00032c90: 6820 6974 2063 616e 6e6f 7420 7265 7472  h it cannot retr
+00032ca0: 6965 7665 2074 6865 2070 7265 765c 5f65  ieve the prev\_e
+00032cb0: 7665 6e74 7320 666f 722e 2028 5b5c 2333  vents for. ([\#3
+00032cc0: 3435 365d 2868 7474 7073 3a2f 2f67 6974  456](https://git
+00032cd0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00032ce0: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+00032cf0: 732f 3334 3536 2929 0a2d 2020 2046 6978  s/3456)).-   Fix
+00032d00: 2062 7567 2077 6865 7265 2073 796e 6170   bug where synap
+00032d10: 7365 2077 6f75 6c64 2065 7870 6c6f 6465  se would explode
+00032d20: 2077 6865 6e20 7265 6365 6976 696e 6720   when receiving 
+00032d30: 756e 6963 6f64 6520 696e 2048 5454 5020  unicode in HTTP 
+00032d40: 5573 6572 2d41 6765 6e74 2068 6561 6465  User-Agent heade
+00032d50: 7220 285b 5c23 3334 3730 5d28 6874 7470  r ([\#3470](http
+00032d60: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+00032d70: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+00032d80: 652f 6973 7375 6573 2f33 3437 3029 290a  e/issues/3470)).
+00032d90: 2d20 2020 496e 7661 6c69 6461 7465 2063  -   Invalidate c
+00032da0: 6163 6865 206f 6e20 636f 7272 6563 7420  ache on correct 
+00032db0: 7468 7265 6164 2074 6f20 6176 6f69 6420  thread to avoid 
+00032dc0: 7261 6365 2028 5b5c 2333 3437 335d 2868  race ([\#3473](h
+00032dd0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00032de0: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+00032df0: 6170 7365 2f69 7373 7565 732f 3334 3733  apse/issues/3473
+00032e00: 2929 0a0a 496d 7072 6f76 6564 2044 6f63  ))..Improved Doc
+00032e10: 756d 656e 7461 7469 6f6e 0a2d 2d2d 2d2d  umentation.-----
+00032e20: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00032e30: 2d0a 0a2d 2020 2060 646f 632f 706f 7374  -..-   `doc/post
+00032e40: 6772 6573 2e72 7374 603a 2066 6978 2064  gres.rst`: fix d
+00032e50: 6973 706c 6179 206f 6620 7468 6520 6c61  isplay of the la
+00032e60: 7374 2063 6f6d 6d61 6e64 2062 6c6f 636b  st command block
+00032e70: 2e20 5468 616e 6b73 2074 6f20 4041 7263  . Thanks to @Arc
+00032e80: 6861 6e67 6547 6162 7269 656c 2120 285b  hangeGabriel! ([
+00032e90: 5c23 3333 3430 5d28 6874 7470 733a 2f2f  \#3340](https://
+00032ea0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00032eb0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+00032ec0: 7375 6573 2f33 3334 3029 290a 0a44 6570  sues/3340))..Dep
+00032ed0: 7265 6361 7469 6f6e 7320 616e 6420 5265  recations and Re
+00032ee0: 6d6f 7661 6c73 0a2d 2d2d 2d2d 2d2d 2d2d  movals.---------
+00032ef0: 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d 2d2d  ----------------
+00032f00: 0a0a 2d20 2020 5265 6d6f 7665 2077 6173  ..-   Remove was
+00032f10: 5c5f 666f 7267 6f74 7465 6e5c 5f61 7420  \_forgotten\_at 
+00032f20: 285b 5c23 3333 3234 5d28 6874 7470 733a  ([\#3324](https:
+00032f30: 2f2f 6769 7468 7562 2e63 6f6d 2f6d 6174  //github.com/mat
+00032f40: 7269 782d 6f72 672f 7379 6e61 7073 652f  rix-org/synapse/
+00032f50: 6973 7375 6573 2f33 3332 3429 290a 0a4d  issues/3324))..M
+00032f60: 6973 630a 2d2d 2d2d 0a0a 2d20 2020 5b5c  isc.----..-   [\
+00032f70: 2333 3333 325d 2868 7474 7073 3a2f 2f67  #3332](https://g
+00032f80: 6974 6875 622e 636f 6d2f 6d61 7472 6978  ithub.com/matrix
+00032f90: 2d6f 7267 2f73 796e 6170 7365 2f69 7373  -org/synapse/iss
+00032fa0: 7565 732f 3333 3332 292c 205b 5c23 3333  ues/3332), [\#33
+00032fb0: 3431 5d28 6874 7470 733a 2f2f 6769 7468  41](https://gith
+00032fc0: 7562 2e63 6f6d 2f6d 6174 7269 782d 6f72  ub.com/matrix-or
+00032fd0: 672f 7379 6e61 7073 652f 6973 7375 6573  g/synapse/issues
+00032fe0: 2f33 3334 3129 2c20 5b5c 2333 3334 375d  /3341), [\#3347]
+00032ff0: 2868 7474 7073 3a2f 2f67 6974 6875 622e  (https://github.
+00033000: 636f 6d2f 6d61 7472 6978 2d6f 7267 2f73  com/matrix-org/s
+00033010: 796e 6170 7365 2f69 7373 7565 732f 3333  ynapse/issues/33
+00033020: 3437 292c 205b 5c23 3333 3438 5d28 6874  47), [\#3348](ht
+00033030: 7470 733a 2f2f 6769 7468 7562 2e63 6f6d  tps://github.com
+00033040: 2f6d 6174 7269 782d 6f72 672f 7379 6e61  /matrix-org/syna
+00033050: 7073 652f 6973 7375 6573 2f33 3334 3829  pse/issues/3348)
+00033060: 2c20 5b5c 2333 3335 365d 2868 7474 7073  , [\#3356](https
+00033070: 3a2f 2f67 6974 6875 622e 636f 6d2f 6d61  ://github.com/ma
+00033080: 7472 6978 2d6f 7267 2f73 796e 6170 7365  trix-org/synapse
+00033090: 2f69 7373 7565 732f 3333 3536 292c 205b  /issues/3356), [
+000330a0: 5c23 3333 3835 5d28 6874 7470 733a 2f2f  \#3385](https://
+000330b0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+000330c0: 782d 6f72 672f 7379 6e61 7073 652f 6973  x-org/synapse/is
+000330d0: 7375 6573 2f33 3338 3529 2c20 5b5c 2333  sues/3385), [\#3
+000330e0: 3434 365d 2868 7474 7073 3a2f 2f67 6974  446](https://git
+000330f0: 6875 622e 636f 6d2f 6d61 7472 6978 2d6f  hub.com/matrix-o
+00033100: 7267 2f73 796e 6170 7365 2f69 7373 7565  rg/synapse/issue
+00033110: 732f 3334 3436 292c 205b 5c23 3334 3437  s/3446), [\#3447
+00033120: 5d28 6874 7470 733a 2f2f 6769 7468 7562  ](https://github
+00033130: 2e63 6f6d 2f6d 6174 7269 782d 6f72 672f  .com/matrix-org/
+00033140: 7379 6e61 7073 652f 6973 7375 6573 2f33  synapse/issues/3
+00033150: 3434 3729 2c20 5b5c 2333 3436 375d 2868  447), [\#3467](h
+00033160: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00033170: 6d2f 6d61 7472 6978 2d6f 7267 2f73 796e  m/matrix-org/syn
+00033180: 6170 7365 2f69 7373 7565 732f 3334 3637  apse/issues/3467
+00033190: 292c 205b 5c23 3334 3734 5d28 6874 7470  ), [\#3474](http
+000331a0: 733a 2f2f 6769 7468 7562 2e63 6f6d 2f6d  s://github.com/m
+000331b0: 6174 7269 782d 6f72 672f 7379 6e61 7073  atrix-org/synaps
+000331c0: 652f 6973 7375 6573 2f33 3437 3429 0a0a  e/issues/3474)..
+000331d0: 4368 616e 6765 7320 696e 2073 796e 6170  Changes in synap
+000331e0: 7365 2076 302e 3331 2e32 2028 3230 3138  se v0.31.2 (2018
+000331f0: 2d30 362d 3134 290a 3d3d 3d3d 3d3d 3d3d  -06-14).========
+00033200: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00033210: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a  ===============.
+00033220: 0a53 4543 5552 4954 5920 5550 4441 5445  .SECURITY UPDATE
+00033230: 3a20 5072 6576 656e 7420 756e 6175 7468  : Prevent unauth
+00033240: 6f72 6973 6564 2075 7365 7273 2066 726f  orised users fro
+00033250: 6d20 7365 7474 696e 6720 7374 6174 6520  m setting state 
+00033260: 6576 656e 7473 2069 6e20 6120 726f 6f6d  events in a room
+00033270: 2077 6865 6e20 7468 6572 6520 6973 206e   when there is n
+00033280: 6f20 606d 2e72 6f6f 6d2e 706f 7765 725f  o `m.room.power_
+00033290: 6c65 7665 6c73 6020 6576 656e 7420 696e  levels` event in
+000332a0: 2066 6f72 6365 2069 6e20 7468 6520 726f   force in the ro
+000332b0: 6f6d 2e20 2850 5220 2333 3339 3729 0a0a  om. (PR #3397)..
+000332c0: 4469 7363 7573 7369 6f6e 2061 726f 756e  Discussion aroun
+000332d0: 6420 7468 6520 4d61 7472 6978 2053 7065  d the Matrix Spe
+000332e0: 6320 6368 616e 6765 2070 726f 706f 7361  c change proposa
+000332f0: 6c20 666f 7220 7468 6973 2063 6861 6e67  l for this chang
+00033300: 6520 6361 6e20 6265 2066 6f6c 6c6f 7765  e can be followe
+00033310: 6420 6174 203c 6874 7470 733a 2f2f 6769  d at <https://gi
+00033320: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+00033330: 6f72 672f 6d61 7472 6978 2d64 6f63 2f69  org/matrix-doc/i
+00033340: 7373 7565 732f 3133 3034 3e2e 0a0a 4368  ssues/1304>...Ch
+00033350: 616e 6765 7320 696e 2073 796e 6170 7365  anges in synapse
+00033360: 2076 302e 3331 2e31 2028 3230 3138 2d30   v0.31.1 (2018-0
+00033370: 362d 3038 290a 3d3d 3d3d 3d3d 3d3d 3d3d  6-08).==========
+00033380: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00033390: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a76  =============..v
+000333a0: 302e 3331 2e31 2066 6978 6573 2061 2073  0.31.1 fixes a s
+000333b0: 6563 7572 6974 7920 6275 6720 696e 2074  ecurity bug in t
+000333c0: 6865 2060 6765 745f 6d69 7373 696e 675f  he `get_missing_
+000333d0: 6576 656e 7473 6020 6665 6465 7261 7469  events` federati
+000333e0: 6f6e 2041 5049 2077 6865 7265 2065 7665  on API where eve
+000333f0: 6e74 2076 6973 6962 696c 6974 7920 7275  nt visibility ru
+00033400: 6c65 7320 7765 7265 206e 6f74 2061 7070  les were not app
+00033410: 6c69 6564 2063 6f72 7265 6374 6c79 2e0a  lied correctly..
+00033420: 0a57 6520 6172 6520 6e6f 7420 6177 6172  .We are not awar
+00033430: 6520 6f66 2069 7420 6265 696e 6720 6163  e of it being ac
+00033440: 7469 7665 6c79 2065 7870 6c6f 6974 6564  tively exploited
+00033450: 2062 7574 2070 6c65 6173 6520 7570 6772   but please upgr
+00033460: 6164 6520 6173 6170 2e0a 0a42 7567 2046  ade asap...Bug F
+00033470: 6978 6573 3a0a 0a2d 2020 2046 6978 2065  ixes:..-   Fix e
+00033480: 7665 6e74 2066 696c 7465 7269 6e67 2069  vent filtering i
+00033490: 6e20 6765 745c 5f6d 6973 7369 6e67 5c5f  n get\_missing\_
+000334a0: 6576 656e 7473 2068 616e 646c 6572 2028  events handler (
+000334b0: 5052 2023 3333 3731 290a 0a43 6861 6e67  PR #3371)..Chang
+000334c0: 6573 2069 6e20 7379 6e61 7073 6520 7630  es in synapse v0
+000334d0: 2e33 312e 3020 2832 3031 382d 3036 2d30  .31.0 (2018-06-0
+000334e0: 3629 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  6).=============
+000334f0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00033500: 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 4d6f 7374  ==========..Most
+00033510: 206e 6f74 6162 6c65 2063 6861 6e67 6520   notable change 
+00033520: 6672 6f6d 2076 302e 3330 2e30 2069 7320  from v0.30.0 is 
+00033530: 746f 2073 7769 7463 6820 746f 2074 6865  to switch to the
+00033540: 2070 7974 686f 6e20 7072 6f6d 6574 6865   python promethe
+00033550: 7573 206c 6962 7261 7279 2074 6f20 696d  us library to im
+00033560: 7072 6f76 6520 7379 7374 656d 2073 7461  prove system sta
+00033570: 7473 2072 6570 6f72 7469 6e67 2e20 5741  ts reporting. WA
+00033580: 524e 494e 473a 2074 6869 7320 6368 616e  RNING: this chan
+00033590: 6765 7320 6120 6e75 6d62 6572 206f 6620  ges a number of 
+000335a0: 7072 6f6d 6574 6865 7573 206d 6574 7269  prometheus metri
+000335b0: 6373 2069 6e20 6120 6261 636b 7761 7264  cs in a backward
+000335c0: 732d 696e 636f 6d70 6174 6962 6c65 206d  s-incompatible m
+000335d0: 616e 6e65 722e 2046 6f72 206d 6f72 6520  anner. For more 
+000335e0: 6465 7461 696c 732c 2073 6565 205b 646f  details, see [do
+000335f0: 6373 2f6d 6574 7269 6373 2d68 6f77 746f  cs/metrics-howto
+00033600: 2e72 7374 5d28 646f 6373 2f6d 6574 7269  .rst](docs/metri
+00033610: 6373 2d68 6f77 746f 2e72 7374 2372 656d  cs-howto.rst#rem
+00033620: 6f76 616c 2d6f 662d 6465 7072 6563 6174  oval-of-deprecat
+00033630: 6564 2d6d 6574 7269 6373 2d2d 7469 6d65  ed-metrics--time
+00033640: 2d62 6173 6564 2d63 6f75 6e74 6572 732d  -based-counters-
+00033650: 6265 636f 6d69 6e67 2d68 6973 746f 6772  becoming-histogr
+00033660: 616d 732d 696e 2d30 3331 3029 2e0a 0a42  ams-in-0310)...B
+00033670: 7567 2046 6978 6573 3a0a 0a2d 2020 2046  ug Fixes:..-   F
+00033680: 6978 206d 6574 7269 6320 646f 6375 6d65  ix metric docume
+00033690: 6e74 6174 696f 6e20 7461 626c 6573 2028  ntation tables (
+000336a0: 5052 2023 3333 3431 290a 2d20 2020 4669  PR #3341).-   Fi
+000336b0: 7820 4c61 7465 7247 6175 6765 2065 7272  x LaterGauge err
+000336c0: 6f72 2068 616e 646c 696e 6720 2836 3934  or handling (694
+000336d0: 3936 3866 290a 2d20 2020 4669 7820 7265  968f).-   Fix re
+000336e0: 706c 6963 6174 696f 6e20 6d65 7472 6963  plication metric
+000336f0: 7320 2862 3765 3766 6432 290a 0a43 6861  s (b7e7fd2)..Cha
+00033700: 6e67 6573 2069 6e20 7379 6e61 7073 6520  nges in synapse 
+00033710: 7630 2e33 312e 302d 7263 3120 2832 3031  v0.31.0-rc1 (201
+00033720: 382d 3036 2d30 3429 0a3d 3d3d 3d3d 3d3d  8-06-04).=======
+00033730: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00033740: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00033750: 3d3d 3d3d 0a0a 4665 6174 7572 6573 3a0a  ====..Features:.
+00033760: 0a2d 2020 2053 7769 7463 6820 746f 2074  .-   Switch to t
+00033770: 6865 2050 7974 686f 6e20 5072 6f6d 6574  he Python Promet
+00033780: 6865 7573 206c 6962 7261 7279 2028 5052  heus library (PR
+00033790: 2023 3332 3536 2c20 2333 3237 3429 0a2d   #3256, #3274).-
+000337a0: 2020 204c 6574 2075 7365 7273 206c 6561     Let users lea
+000337b0: 7665 2074 6865 2073 6572 7665 7220 6e6f  ve the server no
+000337c0: 7469 6365 2072 6f6f 6d20 6166 7465 7220  tice room after 
+000337d0: 6a6f 696e 696e 6720 2850 5220 2333 3238  joining (PR #328
+000337e0: 3729 0a0a 4368 616e 6765 733a 0a0a 2d20  7)..Changes:..- 
+000337f0: 2020 6461 696c 7920 7573 6572 2074 7970    daily user typ
+00033800: 6520 7068 6f6e 6520 686f 6d65 2073 7461  e phone home sta
+00033810: 7473 2028 5052 2023 3332 3634 290a 2d20  ts (PR #3264).- 
+00033820: 2020 5573 6520 6974 6572 5c2a 206d 6574    Use iter\* met
+00033830: 686f 6473 2066 6f72 205c 5f66 696c 7465  hods for \_filte
+00033840: 725c 5f65 7665 6e74 735c 5f66 6f72 5c5f  r\_events\_for\_
+00033850: 7365 7276 6572 2028 5052 2023 3332 3637  server (PR #3267
+00033860: 290a 2d20 2020 446f 6373 206f 6e20 636f  ).-   Docs on co
+00033870: 6e73 656e 7420 6269 7473 2028 5052 2023  nsent bits (PR #
+00033880: 3332 3638 290a 2d20 2020 5265 6d6f 7665  3268).-   Remove
+00033890: 2075 7365 7273 2066 726f 6d20 7573 6572   users from user
+000338a0: 2064 6972 6563 746f 7279 206f 6e20 6465   directory on de
+000338b0: 6163 7469 7661 7465 2028 5052 2023 3332  activate (PR #32
+000338c0: 3737 290a 2d20 2020 4176 6f69 6420 7365  77).-   Avoid se
+000338d0: 6e64 696e 6720 636f 6e73 656e 7420 6e6f  nding consent no
+000338e0: 7469 6365 2074 6f20 6775 6573 7420 7573  tice to guest us
+000338f0: 6572 7320 2850 5220 2333 3238 3829 0a2d  ers (PR #3288).-
+00033900: 2020 2064 6973 6162 6c65 2043 5055 4d65     disable CPUMe
+00033910: 7472 6963 7320 6966 206e 6f20 2f70 726f  trics if no /pro
+00033920: 632f 7365 6c66 2f73 7461 7420 2850 5220  c/self/stat (PR 
+00033930: 2333 3239 3929 0a2d 2020 2043 6f6e 7369  #3299).-   Consi
+00033940: 7374 656e 746c 7920 7573 6520 7369 785c  stently use six\
+00033950: 2773 2069 7465 7269 7465 6d73 2061 6e64  's iteritems and
+00033960: 2077 7261 7020 6c61 7a79 206b 6579 732f   wrap lazy keys/
+00033970: 7661 6c75 6573 2069 6e20 6c69 7374 2829  values in list()
+00033980: 2069 6620 7468 6579 5c27 7265 206e 6f74   if they\'re not
+00033990: 206d 6561 6e74 2074 6f20 6265 206c 617a   meant to be laz
+000339a0: 7920 2850 5220 2333 3330 3729 0a2d 2020  y (PR #3307).-  
+000339b0: 2041 6464 2070 7269 7661 7465 2049 5076   Add private IPv
+000339c0: 3620 6164 6472 6573 7365 7320 746f 2065  6 addresses to e
+000339d0: 7861 6d70 6c65 2063 6f6e 6669 6720 666f  xample config fo
+000339e0: 7220 7572 6c20 7072 6576 6965 7720 626c  r url preview bl
+000339f0: 6163 6b6c 6973 7420 2850 5220 2333 3331  acklist (PR #331
+00033a00: 3729 2054 6861 6e6b 7320 746f 2040 7468  7) Thanks to @th
+00033a10: 6567 6361 7421 0a2d 2020 2052 6564 7563  egcat!.-   Reduc
+00033a20: 6520 7374 7563 6b20 7265 6164 2d72 6563  e stuck read-rec
+00033a30: 6569 7074 733a 2069 676e 6f72 6520 6465  eipts: ignore de
+00033a40: 7074 6820 7768 656e 2075 7064 6174 696e  pth when updatin
+00033a50: 6720 2850 5220 2333 3331 3829 0a2d 2020  g (PR #3318).-  
+00033a60: 2050 7574 2070 7974 686f 6e5c 2773 206c   Put python\'s l
+00033a70: 6f67 7320 696e 746f 2054 7269 616c 2077  ogs into Trial w
+00033a80: 6865 6e20 7275 6e6e 696e 6720 756e 6974  hen running unit
+00033a90: 2074 6573 7473 2028 5052 2023 3333 3139   tests (PR #3319
+00033aa0: 290a 0a43 6861 6e67 6573 2c20 7079 7468  )..Changes, pyth
+00033ab0: 6f6e 2033 206d 6967 7261 7469 6f6e 3a0a  on 3 migration:.
+00033ac0: 0a2d 2020 2052 6570 6c61 6365 2073 6f6d  .-   Replace som
+00033ad0: 6520 6d6f 7265 2063 6f6d 7061 7269 736f  e more compariso
+00033ae0: 6e73 2077 6974 6820 7369 7820 2850 5220  ns with six (PR 
+00033af0: 2333 3234 3329 2054 6861 6e6b 7320 746f  #3243) Thanks to
+00033b00: 2040 4e6f 7441 4669 6c65 210a 2d20 2020   @NotAFile!.-   
+00033b10: 7265 706c 6163 6520 736f 6d65 2069 7465  replace some ite
+00033b20: 7269 7465 6d73 2077 6974 6820 7369 7820  ritems with six 
+00033b30: 2850 5220 2333 3234 3429 2054 6861 6e6b  (PR #3244) Thank
+00033b40: 7320 746f 2040 4e6f 7441 4669 6c65 210a  s to @NotAFile!.
+00033b50: 2d20 2020 4164 6420 6261 7463 685c 5f69  -   Add batch\_i
+00033b60: 7465 7220 746f 2075 7469 6c73 2028 5052  ter to utils (PR
+00033b70: 2023 3332 3435 2920 5468 616e 6b73 2074   #3245) Thanks t
+00033b80: 6f20 404e 6f74 4146 696c 6521 0a2d 2020  o @NotAFile!.-  
+00033b90: 2075 7365 2072 6570 722c 206e 6f74 2073   use repr, not s
+00033ba0: 7472 2028 5052 2023 3332 3436 2920 5468  tr (PR #3246) Th
+00033bb0: 616e 6b73 2074 6f20 404e 6f74 4146 696c  anks to @NotAFil
+00033bc0: 6521 0a2d 2020 204d 6973 6320 5079 7468  e!.-   Misc Pyth
+00033bd0: 6f6e 3320 6669 7865 7320 2850 5220 2333  on3 fixes (PR #3
+00033be0: 3234 3729 2054 6861 6e6b 7320 746f 2040  247) Thanks to @
+00033bf0: 4e6f 7441 4669 6c65 210a 2d20 2020 5079  NotAFile!.-   Py
+00033c00: 3320 7374 6f72 6167 652f 5c5f 6261 7365  3 storage/\_base
+00033c10: 2e70 7920 2850 5220 2333 3237 3829 2054  .py (PR #3278) T
+00033c20: 6861 6e6b 7320 746f 2040 4e6f 7441 4669  hanks to @NotAFi
+00033c30: 6c65 210a 2d20 2020 6d6f 7265 2073 6978  le!.-   more six
+00033c40: 2069 7465 7269 7465 6d73 2028 5052 2023   iteritems (PR #
+00033c50: 3332 3739 2920 5468 616e 6b73 2074 6f20  3279) Thanks to 
+00033c60: 404e 6f74 4146 696c 6521 0a2d 2020 204d  @NotAFile!.-   M
+00033c70: 6f72 6520 4d69 7363 2e20 7079 3320 6669  ore Misc. py3 fi
+00033c80: 7865 7320 2850 5220 2333 3238 3029 2054  xes (PR #3280) T
+00033c90: 6861 6e6b 7320 746f 2040 4e6f 7441 4669  hanks to @NotAFi
+00033ca0: 6c65 210a 2d20 2020 7265 6d61 696e 696e  le!.-   remainin
+00033cb0: 6720 6973 696e 7461 6e63 6520 6669 7865  g isintance fixe
+00033cc0: 7320 2850 5220 2333 3238 3129 2054 6861  s (PR #3281) Tha
+00033cd0: 6e6b 7320 746f 2040 4e6f 7441 4669 6c65  nks to @NotAFile
+00033ce0: 210a 2d20 2020 7079 332d 697a 6520 7374  !.-   py3-ize st
+00033cf0: 6174 652e 7079 2028 5052 2023 3332 3833  ate.py (PR #3283
+00033d00: 2920 5468 616e 6b73 2074 6f20 404e 6f74  ) Thanks to @Not
+00033d10: 4146 696c 6521 0a2d 2020 2065 7874 656e  AFile!.-   exten
+00033d20: 6420 746f 7820 7465 7374 696e 6720 666f  d tox testing fo
+00033d30: 7220 7079 3320 746f 2061 766f 6964 2072  r py3 to avoid r
+00033d40: 6567 7265 7373 696f 6e73 2028 5052 2023  egressions (PR #
+00033d50: 3333 3032 2920 5468 616e 6b73 2074 6f20  3302) Thanks to 
+00033d60: 406b 726f 6d62 656c 210a 2d20 2020 7573  @krombel!.-   us
+00033d70: 6520 6d65 6d6f 7279 7669 6577 2069 6e20  e memoryview in 
+00033d80: 7079 3320 2850 5220 2333 3330 3329 2054  py3 (PR #3303) T
+00033d90: 6861 6e6b 7320 746f 2040 4e6f 7441 4669  hanks to @NotAFi
+00033da0: 6c65 210a 0a42 7567 733a 0a0a 2d20 2020  le!..Bugs:..-   
+00033db0: 4669 7820 6665 6465 7261 7469 6f6e 2062  Fix federation b
+00033dc0: 6163 6b66 696c 6c20 6275 6773 2028 5052  ackfill bugs (PR
+00033dd0: 2023 3332 3631 290a 2d20 2020 6665 6465   #3261).-   fede
+00033de0: 7261 7469 6f6e 3a20 6669 7820 4c61 7465  ration: fix Late
+00033df0: 7247 6175 6765 2075 7361 6765 2028 5052  rGauge usage (PR
+00033e00: 2023 3333 3238 2920 5468 616e 6b73 2074   #3328) Thanks t
+00033e10: 6f20 4069 6e74 656c 6678 210a 0a43 6861  o @intelfx!..Cha
+00033e20: 6e67 6573 2069 6e20 7379 6e61 7073 6520  nges in synapse 
+00033e30: 7630 2e33 302e 3020 2832 3031 382d 3035  v0.30.0 (2018-05
+00033e40: 2d32 3429 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d  -24).===========
+00033e50: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00033e60: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 5c27  ============..\'
+00033e70: 5365 7276 6572 204e 6f74 6963 6573 5c27  Server Notices\'
+00033e80: 2061 7265 2061 206e 6577 2066 6561 7475   are a new featu
+00033e90: 7265 2069 6e74 726f 6475 6365 6420 696e  re introduced in
+00033ea0: 2053 796e 6170 7365 2030 2e33 302e 2054   Synapse 0.30. T
+00033eb0: 6865 7920 7072 6f76 6964 6520 6120 6368  hey provide a ch
+00033ec0: 616e 6e65 6c20 7768 6572 6562 7920 7365  annel whereby se
+00033ed0: 7276 6572 2061 646d 696e 6973 7472 6174  rver administrat
+00033ee0: 6f72 7320 6361 6e20 7365 6e64 206d 6573  ors can send mes
+00033ef0: 7361 6765 7320 746f 2075 7365 7273 206f  sages to users o
+00033f00: 6e20 7468 6520 7365 7276 6572 2e0a 0a54  n the server...T
+00033f10: 6865 7920 6172 6520 7573 6564 2061 7320  hey are used as 
+00033f20: 7061 7274 206f 6620 636f 6d6d 756e 6963  part of communic
+00033f30: 6174 696f 6e20 6f66 2074 6865 2073 6572  ation of the ser
+00033f40: 7665 7220 706f 6c69 6369 6573 2028 7365  ver policies (se
+00033f50: 6520 6064 6f63 732f 636f 6e73 656e 745f  e `docs/consent_
+00033f60: 7472 6163 6b69 6e67 2e6d 6460 292c 2068  tracking.md`), h
+00033f70: 6f77 6576 6572 2074 6865 2069 6e74 656e  owever the inten
+00033f80: 7469 6f6e 2069 7320 7468 6174 2074 6865  tion is that the
+00033f90: 7920 6d61 7920 616c 736f 2066 696e 6420  y may also find 
+00033fa0: 6120 7573 6520 666f 7220 6665 6174 7572  a use for featur
+00033fb0: 6573 2073 7563 6820 6173 205c 224d 6573  es such as \"Mes
+00033fc0: 7361 6765 206f 6620 7468 6520 6461 795c  sage of the day\
+00033fd0: 222e 0a0a 5468 6973 2066 6561 7475 7265  "...This feature
+00033fe0: 2069 7320 7370 6563 6966 6963 2074 6f20   is specific to 
+00033ff0: 5379 6e61 7073 652c 2062 7574 2075 7365  Synapse, but use
+00034000: 7320 7374 616e 6461 7264 204d 6174 7269  s standard Matri
+00034010: 7820 636f 6d6d 756e 6963 6174 696f 6e20  x communication 
+00034020: 6d65 6368 616e 6973 6d73 2c20 736f 2073  mechanisms, so s
+00034030: 686f 756c 6420 776f 726b 2077 6974 6820  hould work with 
+00034040: 616e 7920 4d61 7472 6978 2063 6c69 656e  any Matrix clien
+00034050: 742e 2046 6f72 206d 6f72 6520 6465 7461  t. For more deta
+00034060: 696c 7320 7365 6520 6064 6f63 732f 7365  ils see `docs/se
+00034070: 7276 6572 5f6e 6f74 6963 6573 2e6d 6460  rver_notices.md`
+00034080: 0a0a 4675 7274 6865 7220 5365 7276 6572  ..Further Server
+00034090: 204e 6f74 6963 6573 2f43 6f6e 7365 6e74   Notices/Consent
+000340a0: 2054 7261 636b 696e 6720 5375 7070 6f72   Tracking Suppor
+000340b0: 743a 0a0a 2d20 2020 416c 6c6f 7720 6f76  t:..-   Allow ov
+000340c0: 6572 7269 6469 6e67 2074 6865 2073 6572  erriding the ser
+000340d0: 7665 725c 5f6e 6f74 6963 6573 2075 7365  ver\_notices use
+000340e0: 725c 2773 2061 7661 7461 7220 2850 5220  r\'s avatar (PR 
+000340f0: 2333 3237 3329 0a2d 2020 2055 7365 2074  #3273).-   Use t
+00034100: 6865 206c 6f63 616c 7061 7274 2069 6e20  he localpart in 
+00034110: 7468 6520 636f 6e73 656e 7420 7572 6920  the consent uri 
+00034120: 2850 5220 2333 3237 3229 0a2d 2020 2053  (PR #3272).-   S
+00034130: 7570 706f 7274 2066 6f72 2070 7574 7469  upport for putti
+00034140: 6e67 2025 2863 6f6e 7365 6e74 5c5f 7572  ng %(consent\_ur
+00034150: 6929 7320 696e 206d 6573 7361 6765 7320  i)s in messages 
+00034160: 2850 5220 2333 3237 3129 0a2d 2020 2042  (PR #3271).-   B
+00034170: 6c6f 636b 2061 7474 656d 7074 7320 746f  lock attempts to
+00034180: 2073 656e 6420 7365 7276 6572 206e 6f74   send server not
+00034190: 6963 6573 2074 6f20 7265 6d6f 7465 2075  ices to remote u
+000341a0: 7365 7273 2028 5052 2023 3332 3730 290a  sers (PR #3270).
+000341b0: 2d20 2020 446f 6373 206f 6e20 636f 6e73  -   Docs on cons
+000341c0: 656e 7420 6269 7473 2028 5052 2023 3332  ent bits (PR #32
+000341d0: 3638 290a 0a43 6861 6e67 6573 2069 6e20  68)..Changes in 
+000341e0: 7379 6e61 7073 6520 7630 2e33 302e 302d  synapse v0.30.0-
+000341f0: 7263 3120 2832 3031 382d 3035 2d32 3329  rc1 (2018-05-23)
+00034200: 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  .===============
+00034210: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00034220: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 5365  ============..Se
+00034230: 7276 6572 204e 6f74 6963 6573 2f43 6f6e  rver Notices/Con
+00034240: 7365 6e74 2054 7261 636b 696e 6720 5375  sent Tracking Su
+00034250: 7070 6f72 743a 0a0a 2d20 2020 436f 6e73  pport:..-   Cons
+00034260: 656e 7452 6573 6f75 7263 6520 746f 2067  entResource to g
+00034270: 6174 6865 7220 706f 6c69 6379 2063 6f6e  ather policy con
+00034280: 7365 6e74 2066 726f 6d20 7573 6572 7320  sent from users 
+00034290: 2850 5220 2333 3231 3329 0a2d 2020 204d  (PR #3213).-   M
+000342a0: 6f76 6520 526f 6f6d 4372 6561 7469 6f6e  ove RoomCreation
+000342b0: 4861 6e64 6c65 7220 6f75 7420 6f66 2073  Handler out of s
+000342c0: 796e 6170 7365 2e68 616e 646c 6572 732e  ynapse.handlers.
+000342d0: 4861 6e64 6c65 7273 2028 5052 2023 3332  Handlers (PR #32
+000342e0: 3235 290a 2d20 2020 496e 6672 6173 7472  25).-   Infrastr
+000342f0: 7563 7475 7265 2066 6f72 2061 2073 6572  ucture for a ser
+00034300: 7665 7220 6e6f 7469 6365 7320 726f 6f6d  ver notices room
+00034310: 2028 5052 2023 3332 3332 290a 2d20 2020   (PR #3232).-   
+00034320: 5365 6e64 2075 7365 7273 2061 2073 6572  Send users a ser
+00034330: 7665 7220 6e6f 7469 6365 2061 626f 7574  ver notice about
+00034340: 2063 6f6e 7365 6e74 2028 5052 2023 3332   consent (PR #32
+00034350: 3336 290a 2d20 2020 5265 6a65 6374 2061  36).-   Reject a
+00034360: 7474 656d 7074 7320 746f 2073 656e 6420  ttempts to send 
+00034370: 6576 656e 7420 6265 666f 7265 2070 7269  event before pri
+00034380: 7661 6379 2063 6f6e 7365 6e74 2069 7320  vacy consent is 
+00034390: 6769 7665 6e20 2850 5220 2333 3235 3729  given (PR #3257)
+000343a0: 0a2d 2020 2041 6464 2061 205c 2768 6173  .-   Add a \'has
+000343b0: 5c5f 636f 6e73 656e 7465 645c 2720 7465  \_consented\' te
+000343c0: 6d70 6c61 7465 2076 6172 2074 6f20 636f  mplate var to co
+000343d0: 6e73 656e 7420 666f 726d 7320 2850 5220  nsent forms (PR 
+000343e0: 2333 3236 3229 0a2d 2020 2046 6978 2064  #3262).-   Fix d
+000343f0: 6570 656e 6465 6e63 7920 6f6e 206a 696e  ependency on jin
+00034400: 6a61 3220 2850 5220 2333 3236 3329 0a0a  ja2 (PR #3263)..
+00034410: 4665 6174 7572 6573 3a0a 0a2d 2020 2043  Features:..-   C
+00034420: 6f68 6f72 7420 616e 616c 7974 6963 7320  ohort analytics 
+00034430: 2850 5220 2333 3136 332c 2023 3332 3431  (PR #3163, #3241
+00034440: 2c20 2333 3235 3129 0a2d 2020 2041 6464  , #3251).-   Add
+00034450: 206c 786d 6c20 746f 2064 6f63 6b65 7220   lxml to docker 
+00034460: 696d 6167 6520 666f 7220 7765 6220 7072  image for web pr
+00034470: 6576 6965 7773 2028 5052 2023 3332 3339  eviews (PR #3239
+00034480: 2920 5468 616e 6b73 2074 6f20 4070 746d  ) Thanks to @ptm
+00034490: 616e 210a 2d20 2020 4164 6420 696e 2066  an!.-   Add in f
+000344a0: 6c69 6768 7420 7265 7175 6573 7420 6d65  light request me
+000344b0: 7472 6963 7320 2850 5220 2333 3235 3229  trics (PR #3252)
+000344c0: 0a0a 4368 616e 6765 733a 0a0a 2d20 2020  ..Changes:..-   
+000344d0: 5265 6d6f 7665 2075 6e75 7365 6420 7570  Remove unused up
+000344e0: 6461 7465 5c5f 6578 7465 726e 616c 5c5f  date\_external\_
+000344f0: 7379 6e63 7320 2850 5220 2333 3233 3329  syncs (PR #3233)
+00034500: 0a2d 2020 2055 7365 2073 7472 6561 6d20  .-   Use stream 
+00034510: 7261 7468 6572 2064 6570 7468 206f 7264  rather depth ord
+00034520: 6572 696e 6720 666f 7220 7075 7368 2061  ering for push a
+00034530: 6374 696f 6e73 2028 5052 2023 3332 3132  ctions (PR #3212
+00034540: 290a 2d20 2020 4d61 6b65 2070 7572 6765  ).-   Make purge
+00034550: 5c5f 6869 7374 6f72 7920 6f70 6572 6174  \_history operat
+00034560: 6520 6f6e 2074 6f6b 656e 7320 2850 5220  e on tokens (PR 
+00034570: 2333 3232 3129 0a2d 2020 2044 6f6e 5c27  #3221).-   Don\'
+00034580: 7420 7375 7070 6f72 7420 6c69 6d69 746c  t support limitl
+00034590: 6573 7320 7061 6769 6e61 7469 6f6e 2028  ess pagination (
+000345a0: 5052 2023 3332 3635 290a 0a42 7567 2046  PR #3265)..Bug F
+000345b0: 6978 6573 3a0a 0a2d 2020 2046 6978 206c  ixes:..-   Fix l
+000345c0: 6f67 636f 6e74 6578 7420 7265 736f 7572  ogcontext resour
+000345d0: 6365 2075 7361 6765 2074 7261 636b 696e  ce usage trackin
+000345e0: 6720 2850 5220 2333 3235 3829 0a2d 2020  g (PR #3258).-  
+000345f0: 2046 6978 2065 7272 6f72 2069 6e20 6861   Fix error in ha
+00034600: 6e64 6c69 6e67 2072 6563 6569 7074 7320  ndling receipts 
+00034610: 2850 5220 2333 3233 3529 0a2d 2020 2053  (PR #3235).-   S
+00034620: 746f 7020 7468 6520 7472 616e 7361 6374  top the transact
+00034630: 696f 6e20 6361 6368 6520 6361 6368 696e  ion cache cachin
+00034640: 6720 6661 696c 7572 6573 2028 5052 2023  g failures (PR #
+00034650: 3332 3535 290a 0a43 6861 6e67 6573 2069  3255)..Changes i
+00034660: 6e20 7379 6e61 7073 6520 7630 2e32 392e  n synapse v0.29.
+00034670: 3120 2832 3031 382d 3035 2d31 3729 0a3d  1 (2018-05-17).=
+00034680: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00034690: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000346a0: 3d3d 3d3d 3d3d 0a0a 4368 616e 6765 733a  ======..Changes:
+000346b0: 0a0a 2d20 2020 5570 6461 7465 2064 6f63  ..-   Update doc
+000346c0: 6b65 7220 646f 6375 6d65 6e74 6174 696f  ker documentatio
+000346d0: 6e20 2850 5220 2333 3232 3229 0a0a 4368  n (PR #3222)..Ch
+000346e0: 616e 6765 7320 696e 2073 796e 6170 7365  anges in synapse
+000346f0: 2076 302e 3239 2e30 2028 3230 3138 2d30   v0.29.0 (2018-0
+00034700: 352d 3136 290a 3d3d 3d3d 3d3d 3d3d 3d3d  5-16).==========
+00034710: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00034720: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a4e  =============..N
+00034730: 6f74 2063 6861 6e67 6573 2073 696e 6365  ot changes since
+00034740: 2076 302e 3239 2e30 2d72 6331 0a0a 4368   v0.29.0-rc1..Ch
+00034750: 616e 6765 7320 696e 2073 796e 6170 7365  anges in synapse
+00034760: 2076 302e 3239 2e30 2d72 6331 2028 3230   v0.29.0-rc1 (20
+00034770: 3138 2d30 352d 3134 290a 3d3d 3d3d 3d3d  18-05-14).======
+00034780: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00034790: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000347a0: 3d3d 3d3d 3d0a 0a4e 6f74 6162 6c65 2063  =====..Notable c
+000347b0: 6861 6e67 6573 2c20 6120 646f 636b 6572  hanges, a docker
+000347c0: 2066 696c 6520 666f 7220 7275 6e6e 696e   file for runnin
+000347d0: 6720 5379 6e61 7073 6520 2854 6861 6e6b  g Synapse (Thank
+000347e0: 7320 746f 2040 6b61 6979 6f75 2129 2061  s to @kaiyou!) a
+000347f0: 6e64 2061 2063 6c6f 7365 6420 7370 6563  nd a closed spec
+00034800: 2062 7567 2069 6e20 7468 6520 436c 6965   bug in the Clie
+00034810: 6e74 2053 6572 7665 7220 4150 492e 2041  nt Server API. A
+00034820: 6464 6974 696f 6e61 6c6c 7920 6675 7274  dditionally furt
+00034830: 6865 7220 7072 6570 2066 6f72 2050 7974  her prep for Pyt
+00034840: 686f 6e20 3320 6d69 6772 6174 696f 6e2e  hon 3 migration.
+00034850: 0a0a 506f 7465 6e74 6961 6c6c 7920 6272  ..Potentially br
+00034860: 6561 6b69 6e67 2063 6861 6e67 653a 0a0a  eaking change:..
+00034870: 2d20 2020 4d61 6b65 2043 6c69 656e 742d  -   Make Client-
+00034880: 5365 7276 6572 2041 5049 2072 6574 7572  Server API retur
+00034890: 6e20 3430 3120 666f 7220 696e 7661 6c69  n 401 for invali
+000348a0: 6420 746f 6b65 6e20 2850 5220 2333 3136  d token (PR #316
+000348b0: 3129 2e0a 0a20 2020 2054 6869 7320 6368  1)...    This ch
+000348c0: 616e 6765 7320 7468 6520 436c 6965 6e74  anges the Client
+000348d0: 2d73 6572 7665 7220 7370 6563 2074 6f20  -server spec to 
+000348e0: 7265 7475 726e 2061 2034 3031 2065 7272  return a 401 err
+000348f0: 6f72 2063 6f64 6520 696e 7374 6561 6420  or code instead 
+00034900: 6f66 2034 3033 2077 6865 6e20 7468 6520  of 403 when the 
+00034910: 6163 6365 7373 2074 6f6b 656e 2069 7320  access token is 
+00034920: 756e 7265 636f 676e 6973 6564 2e20 5468  unrecognised. Th
+00034930: 6973 2069 7320 7468 6520 6265 6861 7669  is is the behavi
+00034940: 6f75 7220 7265 7175 6972 6564 2062 7920  our required by 
+00034950: 7468 6520 7370 6563 6966 6963 6174 696f  the specificatio
+00034960: 6e2c 2062 7574 2073 6f6d 6520 636c 6965  n, but some clie
+00034970: 6e74 7320 6d61 7920 6265 2072 656c 7969  nts may be relyi
+00034980: 6e67 206f 6e20 7468 6520 6f6c 642c 2069  ng on the old, i
+00034990: 6e63 6f72 7265 6374 2062 6568 6176 696f  ncorrect behavio
+000349a0: 7572 2e0a 0a20 2020 2054 6861 6e6b 7320  ur...    Thanks 
+000349b0: 746f 2040 4e6f 7441 4669 6c65 2066 6f72  to @NotAFile for
+000349c0: 2066 6978 696e 6720 7468 6973 2e0a 0a46   fixing this...F
+000349d0: 6561 7475 7265 733a 0a0a 2d20 2020 4164  eatures:..-   Ad
+000349e0: 6420 6120 446f 636b 6572 6669 6c65 2066  d a Dockerfile f
+000349f0: 6f72 2073 796e 6170 7365 2028 5052 2023  or synapse (PR #
+00034a00: 3238 3436 2920 5468 616e 6b73 2074 6f20  2846) Thanks to 
+00034a10: 406b 6169 796f 7521 0a0a 4368 616e 6765  @kaiyou!..Change
+00034a20: 7320 2d20 4765 6e65 7261 6c3a 0a0a 2d20  s - General:..- 
+00034a30: 2020 6e75 6b65 2d72 6f6f 6d2d 6672 6f6d    nuke-room-from
+00034a40: 2d64 622e 7368 3a20 6164 6465 6420 706f  -db.sh: added po
+00034a50: 7374 6772 6573 716c 206f 7074 696f 6e20  stgresql option 
+00034a60: 616e 6420 6865 6c70 2028 5052 2023 3233  and help (PR #23
+00034a70: 3337 2920 5468 616e 6b73 2074 6f20 4072  37) Thanks to @r
+00034a80: 7562 6f37 3721 0a2d 2020 2050 6172 7420  ubo77!.-   Part 
+00034a90: 7573 6572 2066 726f 6d20 726f 6f6d 7320  user from rooms 
+00034aa0: 6f6e 2061 6363 6f75 6e74 2064 6561 6374  on account deact
+00034ab0: 6976 6174 6520 2850 5220 2333 3230 3129  ivate (PR #3201)
+00034ac0: 0a2d 2020 204d 616b 6520 5c27 756e 6578  .-   Make \'unex
+00034ad0: 7065 6374 6564 206c 6f67 6769 6e67 2063  pected logging c
+00034ae0: 6f6e 7465 7874 5c27 2069 6e74 6f20 7761  ontext\' into wa
+00034af0: 726e 696e 6773 2028 5052 2023 3330 3037  rnings (PR #3007
+00034b00: 290a 2d20 2020 5365 7420 5365 7276 6572  ).-   Set Server
+00034b10: 2068 6561 6465 7220 696e 2053 796e 6170   header in Synap
+00034b20: 7365 5265 7175 6573 7420 2850 5220 2333  seRequest (PR #3
+00034b30: 3230 3829 0a2d 2020 2072 656d 6f76 6520  208).-   remove 
+00034b40: 6475 706c 6963 6174 6573 2066 726f 6d20  duplicates from 
+00034b50: 6772 6f75 7073 2074 6162 6c65 7320 2850  groups tables (P
+00034b60: 5220 2333 3132 3929 0a2d 2020 2049 6d70  R #3129).-   Imp
+00034b70: 726f 7665 2065 7863 6570 7469 6f6e 2068  rove exception h
+00034b80: 616e 646c 696e 6720 666f 7220 6261 636b  andling for back
+00034b90: 6772 6f75 6e64 2070 726f 6365 7373 6573  ground processes
+00034ba0: 2028 5052 2023 3331 3338 290a 2d20 2020   (PR #3138).-   
+00034bb0: 4164 6420 6d69 7373 696e 6720 636f 6e73  Add missing cons
+00034bc0: 756d 6545 7272 6f72 7320 746f 2069 6d70  umeErrors to imp
+00034bd0: 726f 7665 2065 7863 6570 7469 6f6e 2068  rove exception h
+00034be0: 616e 646c 696e 6720 2850 5220 2333 3133  andling (PR #313
+00034bf0: 3929 0a2d 2020 2072 6572 6169 7365 2065  9).-   reraise e
+00034c00: 7863 6570 7469 6f6e 7320 6d6f 7265 2063  xceptions more c
+00034c10: 6172 6566 756c 6c79 2028 5052 2023 3331  arefully (PR #31
+00034c20: 3432 290a 2d20 2020 5265 6d6f 7665 2072  42).-   Remove r
+00034c30: 6564 756e 6461 6e74 2063 616c 6c20 746f  edundant call to
+00034c40: 2070 7265 7365 7276 655c 5f66 6e20 2850   preserve\_fn (P
+00034c50: 5220 2333 3134 3329 0a2d 2020 2054 7261  R #3143).-   Tra
+00034c60: 7020 6578 6365 7074 696f 6e73 2074 6872  p exceptions thr
+00034c70: 6f77 6e20 7769 7468 696e 2072 756e 5c5f  own within run\_
+00034c80: 696e 5c5f 6261 636b 6772 6f75 6e64 2028  in\_background (
+00034c90: 5052 2023 3331 3434 290a 0a43 6861 6e67  PR #3144)..Chang
+00034ca0: 6573 202d 2052 6566 6163 746f 7273 3a0a  es - Refactors:.
+00034cb0: 0a2d 2020 2052 6566 6163 746f 7220 2f63  .-   Refactor /c
+00034cc0: 6f6e 7465 7874 2074 6f20 7265 7573 6520  ontext to reuse 
+00034cd0: 7061 6769 6e61 7469 6f6e 2073 746f 7261  pagination stora
+00034ce0: 6765 2066 756e 6374 696f 6e73 2028 5052  ge functions (PR
+00034cf0: 2023 3331 3933 290a 2d20 2020 5265 6661   #3193).-   Refa
+00034d00: 6374 6f72 2072 6563 656e 7420 6576 656e  ctor recent even
+00034d10: 7473 2066 756e 6320 746f 2075 7365 2070  ts func to use p
+00034d20: 6167 696e 6174 696f 6e20 6675 6e63 2028  agination func (
+00034d30: 5052 2023 3331 3935 290a 2d20 2020 5265  PR #3195).-   Re
+00034d40: 6661 6374 6f72 2070 6167 696e 6174 696f  factor paginatio
+00034d50: 6e20 4442 2041 5049 2074 6f20 7265 7475  n DB API to retu
+00034d60: 726e 2063 6f6e 6372 6574 6520 7479 7065  rn concrete type
+00034d70: 2028 5052 2023 3331 3936 290a 2d20 2020   (PR #3196).-   
+00034d80: 5265 6661 6374 6f72 2067 6574 5c5f 7265  Refactor get\_re
+00034d90: 6365 6e74 5c5f 6576 656e 7473 5c5f 666f  cent\_events\_fo
+00034da0: 725c 5f72 6f6f 6d20 7265 7475 726e 2074  r\_room return t
+00034db0: 7970 6520 2850 5220 2333 3139 3829 0a2d  ype (PR #3198).-
+00034dc0: 2020 2052 6566 6163 746f 7220 7379 6e63     Refactor sync
+00034dd0: 2041 5049 7320 746f 2072 6575 7365 2070   APIs to reuse p
+00034de0: 6167 696e 6174 696f 6e20 4150 4920 2850  agination API (P
+00034df0: 5220 2333 3139 3929 0a2d 2020 2052 656d  R #3199).-   Rem
+00034e00: 6f76 6520 756e 7573 6564 2063 6f64 6520  ove unused code 
+00034e10: 7061 7468 2066 726f 6d20 6d65 6d62 6572  path from member
+00034e20: 2063 6861 6e67 6520 4442 2066 756e 6320   change DB func 
+00034e30: 2850 5220 2333 3230 3029 0a2d 2020 2052  (PR #3200).-   R
+00034e40: 6566 6163 746f 7220 7265 7175 6573 7420  efactor request 
+00034e50: 6861 6e64 6c69 6e67 2077 7261 7070 6572  handling wrapper
+00034e60: 7320 2850 5220 2333 3230 3329 0a2d 2020  s (PR #3203).-  
+00034e70: 2074 7261 6e73 6163 7469 6f6e 5c5f 6964   transaction\_id
+00034e80: 2c20 6465 7374 696e 6174 696f 6e20 6465  , destination de
+00034e90: 6669 6e65 6420 7477 6963 6520 2850 5220  fined twice (PR 
+00034ea0: 2333 3230 3929 2054 6861 6e6b 7320 746f  #3209) Thanks to
+00034eb0: 2040 6461 6d69 722d 6d61 6e61 706f 7621   @damir-manapov!
+00034ec0: 0a2d 2020 2052 6566 6163 746f 7220 6576  .-   Refactor ev
+00034ed0: 656e 7420 7374 6f72 6167 6520 746f 2070  ent storage to p
+00034ee0: 7265 7061 7265 2066 6f72 2063 6861 6e67  repare for chang
+00034ef0: 6573 2069 6e20 7374 6174 6520 6361 6c63  es in state calc
+00034f00: 756c 6174 696f 6e73 2028 5052 2023 3331  ulations (PR #31
+00034f10: 3431 290a 2d20 2020 5365 7420 5365 7276  41).-   Set Serv
+00034f20: 6572 2068 6561 6465 7220 696e 2053 796e  er header in Syn
+00034f30: 6170 7365 5265 7175 6573 7420 2850 5220  apseRequest (PR 
+00034f40: 2333 3230 3829 0a2d 2020 2055 7365 2064  #3208).-   Use d
+00034f50: 6566 6572 7265 642e 6164 6454 696d 656f  eferred.addTimeo
+00034f60: 7574 2069 6e73 7465 6164 206f 6620 7469  ut instead of ti
+00034f70: 6d65 5c5f 626f 756e 645c 5f64 6566 6572  me\_bound\_defer
+00034f80: 7265 6420 2850 5220 2333 3132 372c 2023  red (PR #3127, #
+00034f90: 3331 3738 290a 2d20 2020 5573 6520 7275  3178).-   Use ru
+00034fa0: 6e5c 5f69 6e5c 5f62 6163 6b67 726f 756e  n\_in\_backgroun
+00034fb0: 6420 696e 2070 7265 6665 7265 6e63 6520  d in preference 
+00034fc0: 746f 2070 7265 7365 7276 655c 5f66 6e20  to preserve\_fn 
+00034fd0: 2850 5220 2333 3134 3029 0a0a 4368 616e  (PR #3140)..Chan
+00034fe0: 6765 7320 2d20 5079 7468 6f6e 2033 206d  ges - Python 3 m
+00034ff0: 6967 7261 7469 6f6e 3a0a 0a2d 2020 2043  igration:..-   C
+00035000: 6f6e 7374 7275 6374 2048 4d41 4320 6173  onstruct HMAC as
+00035010: 2062 7974 6573 206f 6e20 7079 3320 2850   bytes on py3 (P
+00035020: 5220 2333 3135 3629 2054 6861 6e6b 7320  R #3156) Thanks 
+00035030: 746f 2040 4e6f 7441 4669 6c65 210a 2d20  to @NotAFile!.- 
+00035040: 2020 7275 6e20 636f 6e66 6967 2074 6573    run config tes
+00035050: 7473 206f 6e20 7079 3320 2850 5220 2333  ts on py3 (PR #3
+00035060: 3135 3929 2054 6861 6e6b 7320 746f 2040  159) Thanks to @
+00035070: 4e6f 7441 4669 6c65 210a 2d20 2020 4f70  NotAFile!.-   Op
+00035080: 656e 2063 6572 7469 6669 6361 7465 2066  en certificate f
+00035090: 696c 6573 2061 7320 6279 7465 7320 2850  iles as bytes (P
+000350a0: 5220 2333 3038 3429 2054 6861 6e6b 7320  R #3084) Thanks 
+000350b0: 746f 2040 4e6f 7441 4669 6c65 210a 2d20  to @NotAFile!.- 
+000350c0: 2020 4f70 656e 2063 6f6e 6669 6720 6669    Open config fi
+000350d0: 6c65 2069 6e20 6e6f 6e2d 6279 7465 7320  le in non-bytes 
+000350e0: 6d6f 6465 2028 5052 2023 3330 3835 2920  mode (PR #3085) 
+000350f0: 5468 616e 6b73 2074 6f20 404e 6f74 4146  Thanks to @NotAF
+00035100: 696c 6521 0a2d 2020 204d 616b 6520 6576  ile!.-   Make ev
+00035110: 656e 7420 7072 6f70 6572 7469 6573 2072  ent properties r
+00035120: 6169 7365 2041 7474 7269 6275 7465 4572  aise AttributeEr
+00035130: 726f 7220 696e 7374 6561 6420 2850 5220  ror instead (PR 
+00035140: 2333 3130 3229 2054 6861 6e6b 7320 746f  #3102) Thanks to
+00035150: 2040 4e6f 7441 4669 6c65 210a 2d20 2020   @NotAFile!.-   
+00035160: 5573 6520 7369 782e 6d6f 7665 732e 7572  Use six.moves.ur
+00035170: 6c70 6172 7365 2028 5052 2023 3331 3038  lparse (PR #3108
+00035180: 2920 5468 616e 6b73 2074 6f20 404e 6f74  ) Thanks to @Not
+00035190: 4146 696c 6521 0a2d 2020 2041 6464 2070  AFile!.-   Add p
+000351a0: 7933 2074 6573 7473 2074 6f20 746f 7820  y3 tests to tox 
+000351b0: 7769 7468 2066 6f6c 6465 7273 2074 6861  with folders tha
+000351c0: 7420 776f 726b 2028 5052 2023 3331 3435  t work (PR #3145
+000351d0: 2920 5468 616e 6b73 2074 6f20 404e 6f74  ) Thanks to @Not
+000351e0: 4146 696c 6521 0a2d 2020 2044 6f6e 5c27  AFile!.-   Don\'
+000351f0: 7420 7969 656c 6420 696e 206c 6973 7420  t yield in list 
+00035200: 636f 6d70 7265 6865 6e73 696f 6e73 2028  comprehensions (
+00035210: 5052 2023 3331 3530 2920 5468 616e 6b73  PR #3150) Thanks
+00035220: 2074 6f20 404e 6f74 4146 696c 6521 0a2d   to @NotAFile!.-
+00035230: 2020 204d 6f76 6520 6d6f 7265 2078 7261     Move more xra
+00035240: 6e67 6520 746f 2073 6978 2028 5052 2023  nge to six (PR #
+00035250: 3331 3531 2920 5468 616e 6b73 2074 6f20  3151) Thanks to 
+00035260: 404e 6f74 4146 696c 6521 0a2d 2020 206d  @NotAFile!.-   m
+00035270: 616b 6520 696d 706f 7274 7320 6c6f 6361  ake imports loca
+00035280: 6c20 2850 5220 2333 3135 3229 2054 6861  l (PR #3152) Tha
+00035290: 6e6b 7320 746f 2040 4e6f 7441 4669 6c65  nks to @NotAFile
+000352a0: 210a 2d20 2020 6d6f 7665 2068 7474 706c  !.-   move httpl
+000352b0: 6962 2069 6d70 6f72 7420 746f 2073 6978  ib import to six
+000352c0: 2028 5052 2023 3331 3533 2920 5468 616e   (PR #3153) Than
+000352d0: 6b73 2074 6f20 404e 6f74 4146 696c 6521  ks to @NotAFile!
+000352e0: 0a2d 2020 2052 6570 6c61 6365 2073 7472  .-   Replace str
+000352f0: 696e 6749 4f20 696d 706f 7274 7320 7769  ingIO imports wi
+00035300: 7468 2073 6978 2028 5052 2023 3331 3534  th six (PR #3154
+00035310: 2c20 2333 3136 3829 2054 6861 6e6b 7320  , #3168) Thanks 
+00035320: 746f 2040 4e6f 7441 4669 6c65 210a 2d20  to @NotAFile!.- 
+00035330: 2020 6d6f 7265 2062 7974 6573 2073 7472    more bytes str
+00035340: 696e 6773 2028 5052 2023 3331 3535 2920  ings (PR #3155) 
+00035350: 5468 616e 6b73 2074 6f20 404e 6f74 4146  Thanks to @NotAF
+00035360: 696c 6521 0a0a 4275 6720 4669 7865 733a  ile!..Bug Fixes:
+00035370: 0a0a 2d20 2020 7379 6e61 7073 6520 6661  ..-   synapse fa
+00035380: 696c 7320 746f 2073 7461 7274 2075 6e64  ils to start und
+00035390: 6572 2054 7769 7374 6564 205c 3e3d 2031  er Twisted \>= 1
+000353a0: 382e 3420 2850 5220 2333 3135 3729 0a2d  8.4 (PR #3157).-
+000353b0: 2020 2046 6978 2061 2063 6c61 7373 206f     Fix a class o
+000353c0: 6620 6c6f 6763 6f6e 7465 7874 206c 6561  f logcontext lea
+000353d0: 6b73 2028 5052 2023 3331 3730 290a 2d20  ks (PR #3170).- 
+000353e0: 2020 4669 7820 6120 636f 7570 6c65 206f    Fix a couple o
+000353f0: 6620 6c6f 6763 6f6e 7465 7874 206c 6561  f logcontext lea
+00035400: 6b73 2069 6e20 756e 6974 2074 6573 7473  ks in unit tests
+00035410: 2028 5052 2023 3331 3732 290a 2d20 2020   (PR #3172).-   
+00035420: 4669 7820 6c6f 6763 6f6e 7465 7874 206c  Fix logcontext l
+00035430: 6561 6b20 696e 206d 6564 6961 2072 6570  eak in media rep
+00035440: 6f20 2850 5220 2333 3137 3429 0a2d 2020  o (PR #3174).-  
+00035450: 2045 7363 6170 6520 6c61 6265 6c20 7661   Escape label va
+00035460: 6c75 6573 2069 6e20 7072 6f6d 6574 6865  lues in promethe
+00035470: 7573 206d 6574 7269 6373 2028 5052 2023  us metrics (PR #
+00035480: 3331 3735 2c20 2333 3138 3629 0a2d 2020  3175, #3186).-  
+00035490: 2046 6978 205c 2755 6e68 616e 646c 6564   Fix \'Unhandled
+000354a0: 2045 7272 6f72 5c27 206c 6f67 7320 7769   Error\' logs wi
+000354b0: 7468 2054 7769 7374 6564 2031 382e 3420  th Twisted 18.4 
+000354c0: 2850 5220 2333 3138 3229 2054 6861 6e6b  (PR #3182) Thank
+000354d0: 7320 746f 2040 4861 6c66 2d53 686f 7421  s to @Half-Shot!
+000354e0: 0a2d 2020 2046 6978 206c 6f67 636f 6e74  .-   Fix logcont
+000354f0: 6578 7420 6c65 616b 7320 696e 2072 6174  ext leaks in rat
+00035500: 6520 6c69 6d69 7465 7220 2850 5220 2333  e limiter (PR #3
+00035510: 3138 3329 0a2d 2020 206e 6f74 6966 6963  183).-   notific
+00035520: 6174 696f 6e73 3a20 436f 6e76 6572 7420  ations: Convert 
+00035530: 6e65 7874 5c5f 746f 6b65 6e20 746f 2073  next\_token to s
+00035540: 7472 696e 6720 6163 636f 7264 696e 6720  tring according 
+00035550: 746f 2074 6865 2073 7065 6320 2850 5220  to the spec (PR 
+00035560: 2333 3139 3029 2054 6861 6e6b 7320 746f  #3190) Thanks to
+00035570: 2040 6d75 6a78 210a 2d20 2020 6e75 6b65   @mujx!.-   nuke
+00035580: 2d72 6f6f 6d2d 6672 6f6d 2d64 622e 7368  -room-from-db.sh
+00035590: 3a20 6669 7820 6465 6c65 7469 6f6e 2066  : fix deletion f
+000355a0: 726f 6d20 7365 6172 6368 2074 6162 6c65  rom search table
+000355b0: 2028 5052 2023 3331 3934 2920 5468 616e   (PR #3194) Than
+000355c0: 6b73 2074 6f20 4072 7562 6f37 3721 0a2d  ks to @rubo77!.-
+000355d0: 2020 2061 6464 2067 7561 7264 2066 6f72     add guard for
+000355e0: 204e 6f6e 6520 6f6e 2070 7572 6765 5c5f   None on purge\_
+000355f0: 6869 7374 6f72 7920 6170 6920 2850 5220  history api (PR 
+00035600: 2333 3136 3029 2054 6861 6e6b 7320 746f  #3160) Thanks to
+00035610: 2040 6b72 6f6d 6265 6c21 0a0a 4368 616e   @krombel!..Chan
+00035620: 6765 7320 696e 2073 796e 6170 7365 2076  ges in synapse v
+00035630: 302e 3238 2e31 2028 3230 3138 2d30 352d  0.28.1 (2018-05-
+00035640: 3031 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  01).============
+00035650: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00035660: 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a53 4543  ===========..SEC
+00035670: 5552 4954 5920 5550 4441 5445 0a0a 2d20  URITY UPDATE..- 
+00035680: 2020 436c 616d 7020 7468 6520 616c 6c6f    Clamp the allo
+00035690: 7765 6420 7661 6c75 6573 206f 6620 6576  wed values of ev
+000356a0: 656e 7420 6465 7074 6820 7265 6365 6976  ent depth receiv
+000356b0: 6564 206f 7665 7220 6665 6465 7261 7469  ed over federati
+000356c0: 6f6e 2074 6f20 6265 205c 5b30 2c20 325c  on to be \[0, 2\
+000356d0: 5e36 3320 2d20 315c 5d2e 2054 6869 7320  ^63 - 1\]. This 
+000356e0: 6d69 7469 6761 7465 7320 616e 2061 7474  mitigates an att
+000356f0: 6163 6b20 7768 6572 6520 6d61 6c69 6369  ack where malici
+00035700: 6f75 7320 6576 656e 7473 2069 6e6a 6563  ous events injec
+00035710: 7465 6420 7769 7468 2064 6570 7468 203d  ted with depth =
+00035720: 2032 5c5e 3633 202d 2031 2072 656e 6465   2\^63 - 1 rende
+00035730: 7220 726f 6f6d 7320 756e 7573 6162 6c65  r rooms unusable
+00035740: 2e20 4465 7074 6820 6973 2075 7365 6420  . Depth is used 
+00035750: 746f 2064 6574 6572 6d69 6e65 2074 6865  to determine the
+00035760: 2063 6f73 6d65 7469 6320 6f72 6465 7269   cosmetic orderi
+00035770: 6e67 206f 6620 6576 656e 7473 2077 6974  ng of events wit
+00035780: 6869 6e20 6120 726f 6f6d 2c20 616e 6420  hin a room, and 
+00035790: 736f 2074 6865 206f 7264 6572 696e 6720  so the ordering 
+000357a0: 6f66 2065 7665 6e74 7320 696e 2073 7563  of events in suc
+000357b0: 6820 6120 726f 6f6d 2077 696c 6c20 6465  h a room will de
+000357c0: 6661 756c 7420 746f 2075 7369 6e67 2073  fault to using s
+000357d0: 7472 6561 6d5c 5f6f 7264 6572 696e 6720  tream\_ordering 
+000357e0: 7261 7468 6572 2074 6861 6e20 6465 7074  rather than dept
+000357f0: 6820 2874 6f70 6f6c 6f67 6963 616c 5c5f  h (topological\_
+00035800: 6f72 6465 7269 6e67 292e 0a0a 2020 2020  ordering)...    
+00035810: 5468 6973 2069 7320 6120 7465 6d70 6f72  This is a tempor
+00035820: 6172 7920 736f 6c75 7469 6f6e 2074 6f20  ary solution to 
+00035830: 6d69 7469 6761 7465 2061 6275 7365 2069  mitigate abuse i
+00035840: 6e20 7468 6520 7769 6c64 2c20 7768 696c  n the wild, whil
+00035850: 7374 2061 206c 6f6e 6720 7465 726d 2073  st a long term s
+00035860: 6f6c 7574 696f 6e20 6973 2062 6569 6e67  olution is being
+00035870: 2069 6d70 6c65 6d65 6e74 6564 2074 6f20   implemented to 
+00035880: 696d 7072 6f76 6520 686f 7720 7468 6520  improve how the 
+00035890: 6465 7074 6820 7061 7261 6d65 7465 7220  depth parameter 
+000358a0: 6973 2075 7365 642e 0a0a 2020 2020 4675  is used...    Fu
+000358b0: 6c6c 2064 6574 6169 6c73 2061 7420 3c68  ll details at <h
+000358c0: 7474 7073 3a2f 2f64 6f63 732e 676f 6f67  ttps://docs.goog
+000358d0: 6c65 2e63 6f6d 2f64 6f63 756d 656e 742f  le.com/document/
+000358e0: 642f 3149 3366 6932 532d 586e 704f 3435  d/1I3fi2S-XnpO45
+000358f0: 7172 7043 736f 775a 7638 5038 6448 634e  qrpCsowZv8P8dHcN
+00035900: 5a34 6673 4273 624f 5737 4b41 4249 3e0a  Z4fsBsbOW7KABI>.
+00035910: 0a2d 2020 2050 696e 2054 7769 7374 6564  .-   Pin Twisted
+00035920: 2074 6f20 5c3c 3138 2e34 2075 6e74 696c   to \<18.4 until
+00035930: 2077 6520 7374 6f70 2075 7369 6e67 2074   we stop using t
+00035940: 6865 2070 7269 7661 7465 205c 5f4f 7065  he private \_Ope
+00035950: 6e53 534c 4543 4375 7276 6520 4150 492e  nSSLECCurve API.
+00035960: 0a0a 4368 616e 6765 7320 696e 2073 796e  ..Changes in syn
+00035970: 6170 7365 2076 302e 3238 2e30 2028 3230  apse v0.28.0 (20
+00035980: 3138 2d30 342d 3236 290a 3d3d 3d3d 3d3d  18-04-26).======
+00035990: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000359a0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000359b0: 3d0a 0a42 7567 2046 6978 6573 3a0a 0a2d  =..Bug Fixes:..-
+000359c0: 2020 2046 6978 2071 7561 7261 6e74 696e     Fix quarantin
+000359d0: 6520 6d65 6469 6120 6164 6d69 6e20 4150  e media admin AP
+000359e0: 4920 616e 6420 7365 6172 6368 2072 6569  I and search rei
+000359f0: 6e64 6578 2028 5052 2023 3331 3330 290a  ndex (PR #3130).
+00035a00: 2d20 2020 4669 7820 6d65 6469 6120 6164  -   Fix media ad
+00035a10: 6d69 6e20 4150 4973 2028 5052 2023 3331  min APIs (PR #31
+00035a20: 3334 290a 0a43 6861 6e67 6573 2069 6e20  34)..Changes in 
+00035a30: 7379 6e61 7073 6520 7630 2e32 382e 302d  synapse v0.28.0-
+00035a40: 7263 3120 2832 3031 382d 3034 2d32 3429  rc1 (2018-04-24)
+00035a50: 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  .===============
+00035a60: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00035a70: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 4d69  ============..Mi
+00035a80: 6e6f 7220 7065 7266 6f72 6d61 6e63 6520  nor performance 
+00035a90: 696d 7072 6f76 656d 656e 7420 746f 2066  improvement to f
+00035aa0: 6564 6572 6174 696f 6e20 7365 6e64 696e  ederation sendin
+00035ab0: 6720 616e 6420 6275 6720 6669 7865 732e  g and bug fixes.
+00035ac0: 0a0a 284e 6f74 653a 2054 6869 7320 7265  ..(Note: This re
+00035ad0: 6c65 6173 6520 646f 6573 206e 6f74 2069  lease does not i
+00035ae0: 6e63 6c75 6465 2074 6865 2064 656c 7461  nclude the delta
+00035af0: 2073 7461 7465 2072 6573 6f6c 7574 696f   state resolutio
+00035b00: 6e20 696d 706c 656d 656e 7461 7469 6f6e  n implementation
+00035b10: 2064 6973 6375 7373 6564 2069 6e20 6d61   discussed in ma
+00035b20: 7472 6978 206c 6976 6529 0a0a 4665 6174  trix live)..Feat
+00035b30: 7572 6573 3a0a 0a2d 2020 2041 6464 206d  ures:..-   Add m
+00035b40: 6574 7269 6373 2066 6f72 2065 7665 6e74  etrics for event
+00035b50: 2070 726f 6365 7373 696e 6720 6c61 6720   processing lag 
+00035b60: 2850 5220 2333 3039 3029 0a2d 2020 2041  (PR #3090).-   A
+00035b70: 6464 206d 6574 7269 6373 2066 6f72 2052  dd metrics for R
+00035b80: 6573 706f 6e73 6543 6163 6865 2028 5052  esponseCache (PR
+00035b90: 2023 3330 3932 290a 0a43 6861 6e67 6573   #3092)..Changes
+00035ba0: 3a0a 0a2d 2020 2053 796e 6170 7365 206f  :..-   Synapse o
+00035bb0: 6e20 5079 5079 2028 5052 2023 3237 3630  n PyPy (PR #2760
+00035bc0: 2920 5468 616e 6b73 2074 6f20 4056 616c  ) Thanks to @Val
+00035bd0: 6f64 696d 210a 2d20 2020 6d6f 7665 2068  odim!.-   move h
+00035be0: 616e 646c 696e 6720 6f66 2061 7574 6f5c  andling of auto\
+00035bf0: 5f6a 6f69 6e5c 5f72 6f6f 6d73 2074 6f20  _join\_rooms to 
+00035c00: 5265 6769 7374 6572 4861 6e64 6c65 7220  RegisterHandler 
+00035c10: 2850 5220 2332 3939 3629 2054 6861 6e6b  (PR #2996) Thank
+00035c20: 7320 746f 2040 6b72 6f6d 6265 6c21 0a2d  s to @krombel!.-
+00035c30: 2020 2049 6d70 726f 7665 2068 616e 646c     Improve handl
+00035c40: 696e 6720 6f66 2053 5256 2072 6563 6f72  ing of SRV recor
+00035c50: 6473 2066 6f72 2066 6564 6572 6174 696f  ds for federatio
+00035c60: 6e20 636f 6e6e 6563 7469 6f6e 7320 2850  n connections (P
+00035c70: 5220 2333 3031 3629 2054 6861 6e6b 7320  R #3016) Thanks 
+00035c80: 746f 2040 7369 6c6b 6568 210a 2d20 2020  to @silkeh!.-   
+00035c90: 446f 6375 6d65 6e74 2074 6865 2062 6568  Document the beh
+00035ca0: 6176 696f 7572 206f 6620 5265 7370 6f6e  aviour of Respon
+00035cb0: 7365 4361 6368 6520 2850 5220 2333 3035  seCache (PR #305
+00035cc0: 3929 0a2d 2020 2050 7265 7061 7261 7469  9).-   Preparati
+00035cd0: 6f6e 2066 6f72 2070 7933 2028 5052 2023  on for py3 (PR #
+00035ce0: 3330 3631 2c20 2333 3037 332c 2023 3330  3061, #3073, #30
+00035cf0: 3734 2c20 2333 3037 352c 2023 3331 3033  74, #3075, #3103
+00035d00: 2c20 2333 3130 342c 2023 3331 3036 2c20  , #3104, #3106, 
+00035d10: 2333 3130 372c 2023 3331 3039 2c20 2333  #3107, #3109, #3
+00035d20: 3131 3029 2054 6861 6e6b 7320 746f 2040  110) Thanks to @
+00035d30: 4e6f 7441 4669 6c65 210a 2d20 2020 7570  NotAFile!.-   up
+00035d40: 6461 7465 2070 726f 6d65 7468 6575 7320  date prometheus 
+00035d50: 6461 7368 626f 6172 6420 746f 2075 7365  dashboard to use
+00035d60: 206e 6577 206d 6574 7269 6320 6e61 6d65   new metric name
+00035d70: 7320 2850 5220 2333 3036 3929 2054 6861  s (PR #3069) Tha
+00035d80: 6e6b 7320 746f 2040 6b72 6f6d 6265 6c21  nks to @krombel!
+00035d90: 0a2d 2020 2075 7365 2070 7974 686f 6e33  .-   use python3
+00035da0: 2d63 6f6d 7061 7469 626c 6520 7072 696e  -compatible prin
+00035db0: 7473 2028 5052 2023 3330 3734 2920 5468  ts (PR #3074) Th
+00035dc0: 616e 6b73 2074 6f20 404e 6f74 4146 696c  anks to @NotAFil
+00035dd0: 6521 0a2d 2020 2053 656e 6420 6665 6465  e!.-   Send fede
+00035de0: 7261 7469 6f6e 2065 7665 6e74 7320 636f  ration events co
+00035df0: 6e63 7572 7265 6e74 6c79 2028 5052 2023  ncurrently (PR #
+00035e00: 3330 3738 290a 2d20 2020 4c69 6d69 7420  3078).-   Limit 
+00035e10: 636f 6e63 7572 7265 6e74 2065 7665 6e74  concurrent event
+00035e20: 2073 656e 6473 2066 6f72 2061 2072 6f6f   sends for a roo
+00035e30: 6d20 2850 5220 2333 3037 3929 0a2d 2020  m (PR #3079).-  
+00035e40: 2049 6d70 726f 7665 2052 3330 2073 7461   Improve R30 sta
+00035e50: 7420 6465 6669 6e69 7469 6f6e 2028 5052  t definition (PR
+00035e60: 2023 3330 3836 290a 2d20 2020 5365 6e64   #3086).-   Send
+00035e70: 2065 7665 6e74 7320 746f 2041 5365 7320   events to ASes 
+00035e80: 636f 6e63 7572 7265 6e74 6c79 2028 5052  concurrently (PR
+00035e90: 2023 3330 3838 290a 2d20 2020 5265 6661   #3088).-   Refa
+00035ea0: 6374 6f72 2052 6573 706f 6e73 6543 6163  ctor ResponseCac
+00035eb0: 6865 2075 7361 6765 2028 5052 2023 3330  he usage (PR #30
+00035ec0: 3933 290a 2d20 2020 436c 6172 6966 7920  93).-   Clarify 
+00035ed0: 7468 6174 2053 5256 206d 6179 206e 6f74  that SRV may not
+00035ee0: 2070 6f69 6e74 2074 6f20 6120 434e 414d   point to a CNAM
+00035ef0: 4520 2850 5220 2333 3130 3029 2054 6861  E (PR #3100) Tha
+00035f00: 6e6b 7320 746f 2040 7369 6c6b 6568 210a  nks to @silkeh!.
+00035f10: 2d20 2020 5573 6520 7374 7228 6529 2069  -   Use str(e) i
+00035f20: 6e73 7465 6164 206f 6620 652e 6d65 7373  nstead of e.mess
+00035f30: 6167 6520 2850 5220 2333 3130 3329 2054  age (PR #3103) T
+00035f40: 6861 6e6b 7320 746f 2040 4e6f 7441 4669  hanks to @NotAFi
+00035f50: 6c65 210a 2d20 2020 5573 6520 7369 782e  le!.-   Use six.
+00035f60: 6974 6572 7661 6c75 6573 2069 6e20 736f  itervalues in so
+00035f70: 6d65 2070 6c61 6365 7320 2850 5220 2333  me places (PR #3
+00035f80: 3130 3629 2054 6861 6e6b 7320 746f 2040  106) Thanks to @
+00035f90: 4e6f 7441 4669 6c65 210a 2d20 2020 5265  NotAFile!.-   Re
+00035fa0: 6661 6374 6f72 2073 746f 7265 2e68 6176  factor store.hav
+00035fb0: 655c 5f65 7665 6e74 7320 2850 5220 2333  e\_events (PR #3
+00035fc0: 3131 3729 0a0a 4275 6720 4669 7865 733a  117)..Bug Fixes:
+00035fd0: 0a0a 2d20 2020 5265 7475 726e 2034 3031  ..-   Return 401
+00035fe0: 2066 6f72 2069 6e76 616c 6964 2061 6363   for invalid acc
+00035ff0: 6573 735c 5f74 6f6b 656e 206f 6e20 6c6f  ess\_token on lo
+00036000: 676f 7574 2028 5052 2023 3239 3338 2920  gout (PR #2938) 
+00036010: 5468 616e 6b73 2074 6f20 4064 6b6c 7567  Thanks to @dklug
+00036020: 210a 2d20 2020 5265 7475 726e 2061 2034  !.-   Return a 4
+00036030: 3034 2072 6174 6865 7220 7468 616e 2061  04 rather than a
+00036040: 2035 3030 206f 6e20 7265 6a6f 696e 696e   500 on rejoinin
+00036050: 6720 656d 7074 7920 726f 6f6d 7320 2850  g empty rooms (P
+00036060: 5220 2333 3038 3029 0a2d 2020 2066 6978  R #3080).-   fix
+00036070: 2066 6564 6572 6174 696f 6e5c 5f64 6f6d   federation\_dom
+00036080: 6169 6e5c 5f77 6869 7465 6c69 7374 2028  ain\_whitelist (
+00036090: 5052 2023 3330 3939 290a 2d20 2020 4176  PR #3099).-   Av
+000360a0: 6f69 6420 6372 6561 7469 6e67 2065 7665  oid creating eve
+000360b0: 6e74 7320 7769 7468 2068 7567 6520 6e75  nts with huge nu
+000360c0: 6d62 6572 7320 6f66 2070 7265 765c 5f65  mbers of prev\_e
+000360d0: 7665 6e74 7320 2850 5220 2333 3131 3329  vents (PR #3113)
+000360e0: 0a2d 2020 2052 656a 6563 7420 6576 656e  .-   Reject even
+000360f0: 7473 2077 6869 6368 2068 6176 6520 6c6f  ts which have lo
+00036100: 7473 206f 6620 7072 6576 5c5f 6576 656e  ts of prev\_even
+00036110: 7473 2028 5052 2023 3331 3138 290a 0a43  ts (PR #3118)..C
+00036120: 6861 6e67 6573 2069 6e20 7379 6e61 7073  hanges in synaps
+00036130: 6520 7630 2e32 372e 3420 2832 3031 382d  e v0.27.4 (2018-
+00036140: 3034 2d31 3329 0a3d 3d3d 3d3d 3d3d 3d3d  04-13).=========
 00036150: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00036160: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00036170: 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 4e6f 7461  ==========..Nota
-00036180: 626c 6520 6368 616e 6765 7320 696e 636c  ble changes incl
-00036190: 7564 6520 4150 4920 7375 7070 6f72 7420  ude API support 
-000361a0: 666f 7220 6a6f 696e 6162 696c 6974 7920  for joinability 
-000361b0: 6f66 2067 726f 7570 732e 2041 6c73 6f20  of groups. Also 
-000361c0: 6e65 7720 6d65 7472 6963 7320 616e 6420  new metrics and 
-000361d0: 7068 6f6e 6520 686f 6d65 2073 7461 7473  phone home stats
-000361e0: 2e20 5068 6f6e 6520 686f 6d65 2073 7461  . Phone home sta
-000361f0: 7473 2069 6e63 6c75 6465 2062 6574 7465  ts include bette
-00036200: 7220 7669 7369 6269 6c69 7479 206f 6620  r visibility of 
-00036210: 7379 7374 656d 2075 7361 6765 2073 6f20  system usage so 
-00036220: 7765 2063 616e 2074 7765 616b 2073 796e  we can tweak syn
-00036230: 7061 7365 2074 6f20 776f 726b 2062 6574  pase to work bet
-00036240: 7465 7220 666f 7220 616c 6c20 7573 6572  ter for all user
-00036250: 7320 7261 7468 6572 2074 6861 6e20 6f75  s rather than ou
-00036260: 7220 6f77 6e20 6578 7065 7269 656e 6365  r own experience
-00036270: 2077 6974 6820 6d61 7472 6978 2e6f 7267   with matrix.org
-00036280: 2e20 416c 736f 2c20 7265 636f 7264 696e  . Also, recordin
-00036290: 6720 5c27 7233 305c 2720 7374 6174 2077  g \'r30\' stat w
-000362a0: 6869 6368 2069 7320 7468 6520 6d65 6173  hich is the meas
-000362b0: 7572 6520 7765 2075 7365 2074 6f20 7472  ure we use to tr
-000362c0: 6163 6b20 6f76 6572 616c 2067 726f 7774  ack overal growt
-000362d0: 6820 6f66 2074 6865 204d 6174 7269 7820  h of the Matrix 
-000362e0: 6563 6f73 7973 7465 6d2e 2049 7420 6973  ecosystem. It is
-000362f0: 2064 6566 696e 6564 2061 733a 2d0a 0a43   defined as:-..C
-00036300: 6f75 6e74 7320 7468 6520 6e75 6d62 6572  ounts the number
-00036310: 206f 6620 6e61 7469 7665 2033 3020 6461   of native 30 da
-00036320: 7920 7265 7461 696e 6564 2075 7365 7273  y retained users
-00036330: 2c20 6465 6669 6e65 6420 6173 3a2d 205c  , defined as:- \
-00036340: 2a20 5573 6572 7320 7768 6f20 6861 7665  * Users who have
-00036350: 2063 7265 6174 6564 2074 6865 6972 2061   created their a
-00036360: 6363 6f75 6e74 7320 6d6f 7265 2074 6861  ccounts more tha
-00036370: 6e20 3330 2064 6179 730a 0a3a 2020 202d  n 30 days..:   -
-00036380: 2020 2057 6865 7265 206c 6173 7420 7365     Where last se
-00036390: 656e 2061 7420 6d6f 7374 2033 3020 6461  en at most 30 da
-000363a0: 7973 2061 676f 0a20 2020 202d 2020 2057  ys ago.    -   W
-000363b0: 6865 7265 2061 6363 6f75 6e74 2063 7265  here account cre
-000363c0: 6174 696f 6e20 616e 6420 6c61 7374 5c5f  ation and last\_
-000363d0: 7365 656e 2061 7265 205c 3e20 3330 2064  seen are \> 30 d
-000363e0: 6179 735c 220a 0a46 6561 7475 7265 733a  ays\"..Features:
-000363f0: 0a0a 2d20 2020 4164 6420 6a6f 696e 6162  ..-   Add joinab
-00036400: 696c 6974 7920 666f 7220 6772 6f75 7073  ility for groups
-00036410: 2028 5052 2023 3330 3435 290a 2d20 2020   (PR #3045).-   
-00036420: 496d 706c 656d 656e 7420 6772 6f75 7020  Implement group 
-00036430: 6a6f 696e 2041 5049 2028 5052 2023 3330  join API (PR #30
-00036440: 3436 290a 2d20 2020 4164 6420 636f 756e  46).-   Add coun
-00036450: 7465 7220 6d65 7472 6963 7320 666f 7220  ter metrics for 
-00036460: 6361 6c63 756c 6174 696e 6720 7374 6174  calculating stat
-00036470: 6520 6465 6c74 6120 2850 5220 2333 3033  e delta (PR #303
-00036480: 3329 0a2d 2020 2052 3330 2073 7461 7473  3).-   R30 stats
-00036490: 2028 5052 2023 3330 3431 290a 2d20 2020   (PR #3041).-   
-000364a0: 4d65 6173 7572 6520 7469 6d65 2069 7420  Measure time it 
-000364b0: 7461 6b65 7320 746f 2063 616c 6375 6c61  takes to calcula
-000364c0: 7465 2073 7461 7465 2067 726f 7570 2049  te state group I
-000364d0: 4420 2850 5220 2333 3034 3329 0a2d 2020  D (PR #3043).-  
-000364e0: 2041 6464 2062 6173 6963 2070 6572 666f   Add basic perfo
-000364f0: 726d 616e 6365 2073 7461 7469 7374 6963  rmance statistic
-00036500: 7320 746f 2070 686f 6e65 2068 6f6d 6520  s to phone home 
-00036510: 2850 5220 2333 3034 3429 0a2d 2020 2041  (PR #3044).-   A
-00036520: 6464 2072 6573 706f 6e73 6520 7369 7a65  dd response size
-00036530: 206d 6574 7269 6373 2028 5052 2023 3330   metrics (PR #30
-00036540: 3731 290a 2d20 2020 7068 6f6e 6520 686f  71).-   phone ho
-00036550: 6d65 2063 6163 6865 2073 697a 6520 636f  me cache size co
-00036560: 6e66 6967 7572 6174 696f 6e73 2028 5052  nfigurations (PR
-00036570: 2023 3330 3633 290a 0a43 6861 6e67 6573   #3063)..Changes
-00036580: 3a0a 0a2d 2020 2041 6464 2061 2062 6c75  :..-   Add a blu
-00036590: 7262 2065 7870 6c61 696e 696e 6720 7468  rb explaining th
-000365a0: 6520 6d61 696e 2073 796e 6170 7365 2077  e main synapse w
-000365b0: 6f72 6b65 7220 2850 5220 2332 3838 3629  orker (PR #2886)
-000365c0: 2054 6861 6e6b 7320 746f 2040 7475 7274   Thanks to @turt
-000365d0: 326c 6976 6521 0a2d 2020 2052 6570 6c61  2live!.-   Repla
-000365e0: 6365 206f 6c64 2073 7479 6c65 2065 7272  ce old style err
-000365f0: 6f72 2063 6174 6368 696e 6720 7769 7468  or catching with
-00036600: 205c 2761 735c 2720 6b65 7977 6f72 6420   \'as\' keyword 
-00036610: 2850 5220 2333 3030 3029 2054 6861 6e6b  (PR #3000) Thank
-00036620: 7320 746f 2040 4e6f 7441 4669 6c65 210a  s to @NotAFile!.
-00036630: 2d20 2020 5573 6520 2e69 7465 725c 2a20  -   Use .iter\* 
-00036640: 746f 2061 766f 6964 2063 6f70 6965 7320  to avoid copies 
-00036650: 696e 2053 7461 7465 4861 6e64 6c65 7220  in StateHandler 
-00036660: 2850 5220 2333 3030 3629 0a2d 2020 204c  (PR #3006).-   L
-00036670: 696e 6561 7269 7a65 2063 616c 6c73 2074  inearize calls t
-00036680: 6f20 5c5f 6765 6e65 7261 7465 5c5f 7573  o \_generate\_us
-00036690: 6572 5c5f 6964 2028 5052 2023 3330 3239  er\_id (PR #3029
-000366a0: 290a 2d20 2020 5265 6d6f 7665 206c 6173  ).-   Remove las
-000366b0: 7420 7573 6167 6520 6f66 2075 6a73 6f6e  t usage of ujson
-000366c0: 2028 5052 2023 3330 3330 290a 2d20 2020   (PR #3030).-   
-000366d0: 5573 6520 7369 6d70 6c65 6a73 6f6e 2074  Use simplejson t
-000366e0: 6872 6f75 6768 6f75 7420 2850 5220 2333  hroughout (PR #3
-000366f0: 3034 3829 0a2d 2020 2055 7365 2073 7461  048).-   Use sta
-00036700: 7469 6320 4a53 4f4e 456e 636f 6465 7273  tic JSONEncoders
-00036710: 2028 5052 2023 3330 3439 290a 2d20 2020   (PR #3049).-   
-00036720: 5265 6d6f 7665 2075 7365 7320 6f66 2065  Remove uses of e
-00036730: 7665 6e74 732e 636f 6e74 656e 7420 2850  vents.content (P
-00036740: 5220 2333 3036 3029 0a2d 2020 2049 6d70  R #3060).-   Imp
-00036750: 726f 7665 2064 6174 6162 6173 6520 6361  rove database ca
-00036760: 6368 6520 7065 7266 6f72 6d61 6e63 6520  che performance 
-00036770: 2850 5220 2333 3036 3829 0a0a 4275 6720  (PR #3068)..Bug 
-00036780: 6669 7865 733a 0a0a 2d20 2020 4164 6420  fixes:..-   Add 
-00036790: 726f 6f6d 5c5f 6964 2074 6f20 7468 6520  room\_id to the 
-000367a0: 7265 7370 6f6e 7365 206f 6620 726f 6f6d  response of room
-000367b0: 732f 7b72 6f6f 6d49 647d 2f6a 6f69 6e20  s/{roomId}/join 
-000367c0: 2850 5220 2332 3938 3629 2054 6861 6e6b  (PR #2986) Thank
-000367d0: 7320 746f 2040 6a70 6c61 7474 6521 0a2d  s to @jplatte!.-
-000367e0: 2020 2046 6978 2072 6570 6c69 6361 7469     Fix replicati
-000367f0: 6f6e 2061 6674 6572 2073 7769 7463 6820  on after switch 
-00036800: 746f 2073 696d 706c 656a 736f 6e20 2850  to simplejson (P
-00036810: 5220 2333 3031 3529 0a2d 2020 2034 3034  R #3015).-   404
-00036820: 2063 6f72 7265 6374 6c79 206f 6e20 6d69   correctly on mi
-00036830: 7373 696e 6720 7061 7468 7320 7669 6120  ssing paths via 
-00036840: 4e6f 5265 736f 7572 6365 2028 5052 2023  NoResource (PR #
-00036850: 3330 3232 290a 2d20 2020 4669 7820 6572  3022).-   Fix er
-00036860: 726f 7220 7768 656e 2063 6c61 696d 696e  ror when claimin
-00036870: 6720 6532 6520 6b65 7973 2066 726f 6d20  g e2e keys from 
-00036880: 6f66 666c 696e 6520 7365 7276 6572 7320  offline servers 
-00036890: 2850 5220 2333 3033 3429 0a2d 2020 2066  (PR #3034).-   f
-000368a0: 6978 2074 6573 7473 2f73 746f 7261 6765  ix tests/storage
-000368b0: 2f74 6573 745c 5f75 7365 725c 5f64 6972  /test\_user\_dir
-000368c0: 6563 746f 7279 2e70 7920 2850 5220 2333  ectory.py (PR #3
-000368d0: 3034 3229 0a2d 2020 2075 7365 2050 5554  042).-   use PUT
-000368e0: 2069 6e73 7465 6164 206f 6620 504f 5354   instead of POST
-000368f0: 2066 6f72 2066 6564 6572 6174 696e 6720   for federating 
-00036900: 6772 6f75 7073 2f6d 2e6a 6f69 6e5c 5f70  groups/m.join\_p
-00036910: 6f6c 6963 7920 2850 5220 2333 3037 3029  olicy (PR #3070)
-00036920: 2054 6861 6e6b 7320 746f 2040 6b72 6f6d   Thanks to @krom
-00036930: 6265 6c21 0a2d 2020 2070 6f73 7467 7265  bel!.-   postgre
-00036940: 7320 706f 7274 2073 6372 6970 743a 2066  s port script: f
-00036950: 6978 2073 7461 7465 5c5f 6772 6f75 7073  ix state\_groups
-00036960: 5c5f 706b 6579 2065 7272 6f72 2028 5052  \_pkey error (PR
-00036970: 2023 3330 3732 290a 0a43 6861 6e67 6573   #3072)..Changes
-00036980: 2069 6e20 7379 6e61 7073 6520 7630 2e32   in synapse v0.2
-00036990: 372e 3220 2832 3031 382d 3033 2d32 3629  7.2 (2018-03-26)
-000369a0: 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  .===============
-000369b0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000369c0: 3d3d 3d3d 3d3d 3d3d 0a0a 4275 6720 6669  ========..Bug fi
-000369d0: 7865 733a 0a0a 2d20 2020 4669 7820 6275  xes:..-   Fix bu
-000369e0: 6720 7768 6963 6820 6272 6f6b 6520 5443  g which broke TC
-000369f0: 5020 7265 706c 6963 6174 696f 6e20 6265  P replication be
-00036a00: 7477 6565 6e20 776f 726b 6572 7320 2850  tween workers (P
-00036a10: 5220 2333 3031 3529 0a0a 4368 616e 6765  R #3015)..Change
-00036a20: 7320 696e 2073 796e 6170 7365 2076 302e  s in synapse v0.
-00036a30: 3237 2e31 2028 3230 3138 2d30 332d 3236  27.1 (2018-03-26
-00036a40: 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ).==============
-00036a50: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00036a60: 3d3d 3d3d 3d3d 3d3d 3d0a 0a4d 6574 6120  =========..Meta 
-00036a70: 7265 6c65 6173 6520 6173 2076 302e 3237  release as v0.27
-00036a80: 2e30 2074 656d 706f 7261 7269 6c79 2070  .0 temporarily p
-00036a90: 6f69 6e74 6564 2074 6f20 7468 6520 7772  ointed to the wr
-00036aa0: 6f6e 6720 636f 6d6d 6974 0a0a 4368 616e  ong commit..Chan
-00036ab0: 6765 7320 696e 2073 796e 6170 7365 2076  ges in synapse v
-00036ac0: 302e 3237 2e30 2028 3230 3138 2d30 332d  0.27.0 (2018-03-
-00036ad0: 3236 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  26).============
-00036ae0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00036af0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a4e 6f20  ===========..No 
-00036b00: 6368 616e 6765 7320 7369 6e63 6520 7630  changes since v0
-00036b10: 2e32 372e 302d 7263 320a 0a43 6861 6e67  .27.0-rc2..Chang
-00036b20: 6573 2069 6e20 7379 6e61 7073 6520 7630  es in synapse v0
-00036b30: 2e32 372e 302d 7263 3220 2832 3031 382d  .27.0-rc2 (2018-
-00036b40: 3033 2d31 3929 0a3d 3d3d 3d3d 3d3d 3d3d  03-19).=========
-00036b50: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00036b60: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00036b70: 3d3d 0a0a 5075 6c6c 7320 696e 2076 302e  ==..Pulls in v0.
-00036b80: 3236 2e31 0a0a 4275 6720 6669 7865 733a  26.1..Bug fixes:
-00036b90: 0a0a 2d20 2020 4669 7820 6275 6720 696e  ..-   Fix bug in
-00036ba0: 7472 6f64 7563 6564 2069 6e20 7630 2e32  troduced in v0.2
-00036bb0: 372e 302d 7263 3120 7468 6174 2063 6175  7.0-rc1 that cau
-00036bc0: 7365 7320 6d75 6368 2069 6e63 7265 6173  ses much increas
-00036bd0: 6564 206d 656d 6f72 7920 7573 6167 6520  ed memory usage 
-00036be0: 696e 2073 7461 7465 2063 6163 6865 2028  in state cache (
-00036bf0: 5052 2023 3330 3035 290a 0a43 6861 6e67  PR #3005)..Chang
-00036c00: 6573 2069 6e20 7379 6e61 7073 6520 7630  es in synapse v0
-00036c10: 2e32 362e 3120 2832 3031 382d 3033 2d31  .26.1 (2018-03-1
-00036c20: 3529 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  5).=============
-00036c30: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00036c40: 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 4275 6720  ==========..Bug 
-00036c50: 6669 7865 733a 0a0a 2d20 2020 4669 7820  fixes:..-   Fix 
-00036c60: 6275 6720 7768 6572 6520 616e 2069 6e76  bug where an inv
-00036c70: 616c 6964 2065 7665 6e74 2063 6175 7365  alid event cause
-00036c80: 6420 7365 7276 6572 2074 6f20 7374 6f70  d server to stop
-00036c90: 2066 756e 6374 696f 6e69 6e67 2063 6f72   functioning cor
-00036ca0: 7265 6374 6c79 2c20 6475 6520 746f 2070  rectly, due to p
-00036cb0: 6172 7369 6e67 2061 6e64 2073 6572 6961  arsing and seria
-00036cc0: 6c69 7a69 6e67 2062 7567 7320 696e 2075  lizing bugs in u
-00036cd0: 6a73 6f6e 206c 6962 7261 7279 2028 5052  json library (PR
-00036ce0: 2023 3330 3038 290a 0a43 6861 6e67 6573   #3008)..Changes
-00036cf0: 2069 6e20 7379 6e61 7073 6520 7630 2e32   in synapse v0.2
-00036d00: 372e 302d 7263 3120 2832 3031 382d 3033  7.0-rc1 (2018-03
-00036d10: 2d31 3429 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d  -14).===========
-00036d20: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00036d30: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00036d40: 0a0a 5468 6520 636f 6d6d 6f6e 2063 6173  ..The common cas
-00036d50: 6520 666f 7220 7275 6e6e 696e 6720 5379  e for running Sy
-00036d60: 6e61 7073 6520 6973 206e 6f74 2074 6f20  napse is not to 
-00036d70: 7275 6e20 7365 7061 7261 7465 2077 6f72  run separate wor
-00036d80: 6b65 7273 2c20 6275 7420 666f 7220 7468  kers, but for th
-00036d90: 6f73 6520 7468 6174 2064 6f2c 2062 6520  ose that do, be 
-00036da0: 6177 6172 6520 7468 6174 2073 796e 6374  aware that synct
-00036db0: 6c20 6e6f 206c 6f6e 6765 7220 7374 6172  l no longer star
-00036dc0: 7473 2074 6865 206d 6169 6e20 7379 6e61  ts the main syna
-00036dd0: 7073 6520 7768 656e 2075 7369 6e67 2060  pse when using `
-00036de0: 2d61 6020 6f70 7469 6f6e 2077 6974 6820  -a` option with 
-00036df0: 776f 726b 6572 732e 2041 206e 6577 2077  workers. A new w
-00036e00: 6f72 6b65 7220 6669 6c65 2073 686f 756c  orker file shoul
-00036e10: 6420 6265 2061 6464 6564 2077 6974 6820  d be added with 
-00036e20: 6077 6f72 6b65 725f 6170 703a 2073 796e  `worker_app: syn
-00036e30: 6170 7365 2e61 7070 2e68 6f6d 6573 6572  apse.app.homeser
-00036e40: 7665 7260 2e0a 0a54 6869 7320 7265 6c65  ver`...This rele
-00036e50: 6173 6520 616c 736f 2062 6567 696e 7320  ase also begins 
-00036e60: 7468 6520 7072 6f63 6573 7320 6f66 2072  the process of r
-00036e70: 656e 616d 696e 6720 6120 6e75 6d62 6572  enaming a number
-00036e80: 206f 6620 7468 6520 6d65 7472 6963 7320   of the metrics 
-00036e90: 7265 706f 7274 6564 2074 6f20 7072 6f6d  reported to prom
-00036ea0: 6574 6865 7573 2e20 5365 6520 5b64 6f63  etheus. See [doc
-00036eb0: 732f 6d65 7472 6963 732d 686f 7774 6f2e  s/metrics-howto.
-00036ec0: 7273 745d 2864 6f63 732f 6d65 7472 6963  rst](docs/metric
-00036ed0: 732d 686f 7774 6f2e 7273 7423 626c 6f63  s-howto.rst#bloc
-00036ee0: 6b2d 616e 642d 7265 7370 6f6e 7365 2d6d  k-and-response-m
-00036ef0: 6574 7269 6373 2d72 656e 616d 6564 2d66  etrics-renamed-f
-00036f00: 6f72 2d30 2d32 372d 3029 2e20 4e6f 7465  or-0-27-0). Note
-00036f10: 2074 6861 7420 7468 6520 7630 2e32 382e   that the v0.28.
-00036f20: 3020 7265 6c65 6173 6520 7769 6c6c 2072  0 release will r
-00036f30: 656d 6f76 6520 7468 6520 6465 7072 6563  emove the deprec
-00036f40: 6174 6564 206d 6574 7269 6320 6e61 6d65  ated metric name
-00036f50: 732e 0a0a 4665 6174 7572 6573 3a0a 0a2d  s...Features:..-
-00036f60: 2020 2041 6464 2061 6269 6c69 7479 2066     Add ability f
-00036f70: 6f72 2041 5365 7320 746f 206f 7665 7272  or ASes to overr
-00036f80: 6964 6520 6d65 7373 6167 6520 7365 6e64  ide message send
-00036f90: 2074 696d 6520 2850 5220 2332 3735 3429   time (PR #2754)
-00036fa0: 0a2d 2020 2041 6464 2073 7570 706f 7274  .-   Add support
-00036fb0: 2066 6f72 2063 7573 746f 6d20 7374 6f72   for custom stor
-00036fc0: 6167 6520 7072 6f76 6964 6572 7320 666f  age providers fo
-00036fd0: 7220 6d65 6469 6120 7265 706f 7369 746f  r media reposito
-00036fe0: 7279 2028 5052 2023 3238 3637 2c20 2332  ry (PR #2867, #2
-00036ff0: 3737 372c 2023 3237 3833 2c20 2332 3738  777, #2783, #278
-00037000: 392c 2023 3237 3931 2c20 2332 3830 342c  9, #2791, #2804,
-00037010: 2023 3238 3132 2c20 2332 3831 342c 2023   #2812, #2814, #
-00037020: 3238 3537 2c20 2332 3836 382c 2023 3237  2857, #2868, #27
-00037030: 3637 290a 2d20 2020 4164 6420 7075 7267  67).-   Add purg
-00037040: 6520 4150 4920 6665 6174 7572 6573 2c20  e API features, 
-00037050: 7365 6520 5b64 6f63 732f 6164 6d69 6e5c  see [docs/admin\
-00037060: 5f61 7069 2f70 7572 6765 5c5f 6869 7374  _api/purge\_hist
-00037070: 6f72 795c 5f61 7069 2e72 7374 5d28 646f  ory\_api.rst](do
-00037080: 6373 2f61 646d 696e 5f61 7069 2f70 7572  cs/admin_api/pur
-00037090: 6765 5f68 6973 746f 7279 5f61 7069 2e72  ge_history_api.r
-000370a0: 7374 2920 666f 7220 6675 6c6c 2064 6574  st) for full det
-000370b0: 6169 6c73 2028 5052 2023 3238 3538 2c20  ails (PR #2858, 
-000370c0: 2332 3836 372c 2023 3238 3832 2c20 2332  #2867, #2882, #2
-000370d0: 3934 362c 2023 3239 3632 2c20 2332 3934  946, #2962, #294
-000370e0: 3329 0a2d 2020 2041 6464 2073 7570 706f  3).-   Add suppo
-000370f0: 7274 2066 6f72 2077 6869 7465 6c69 7374  rt for whitelist
-00037100: 696e 6720 3350 4944 7320 7468 6174 2075  ing 3PIDs that u
-00037110: 7365 7273 2063 616e 2072 6567 6973 7465  sers can registe
-00037120: 722e 2028 5052 2023 3238 3133 290a 2d20  r. (PR #2813).- 
-00037130: 2020 4164 6420 602f 726f 6f6d 2f7b 6964    Add `/room/{id
-00037140: 7d2f 6576 656e 742f 7b69 647d 6020 4150  }/event/{id}` AP
-00037150: 4920 2850 5220 2332 3736 3629 0a2d 2020  I (PR #2766).-  
-00037160: 2041 6464 2061 6e20 6164 6d69 6e20 4150   Add an admin AP
-00037170: 4920 746f 2067 6574 2061 6c6c 2074 6865  I to get all the
-00037180: 206d 6564 6961 2069 6e20 6120 726f 6f6d   media in a room
-00037190: 2028 5052 2023 3238 3138 2920 5468 616e   (PR #2818) Than
-000371a0: 6b73 2074 6f20 4074 7572 7432 6c69 7665  ks to @turt2live
-000371b0: 210a 2d20 2020 4164 6420 6066 6564 6572  !.-   Add `feder
-000371c0: 6174 696f 6e5f 646f 6d61 696e 5f77 6869  ation_domain_whi
-000371d0: 7465 6c69 7374 6020 6f70 7469 6f6e 2028  telist` option (
-000371e0: 5052 2023 3238 3230 2c20 2332 3832 3129  PR #2820, #2821)
-000371f0: 0a0a 4368 616e 6765 733a 0a0a 2d20 2020  ..Changes:..-   
-00037200: 436f 6e74 696e 7565 2074 6f20 6661 6374  Continue to fact
-00037210: 6f72 206f 7574 2070 726f 6365 7373 696e  or out processin
-00037220: 6720 6672 6f6d 206d 6169 6e20 7072 6f63  g from main proc
-00037230: 6573 7320 616e 6420 696e 746f 2077 6f72  ess and into wor
-00037240: 6b65 7220 7072 6f63 6573 7365 732e 2053  ker processes. S
-00037250: 6565 2075 7064 6174 6564 205b 646f 6373  ee updated [docs
-00037260: 2f77 6f72 6b65 7273 2e72 7374 5d28 646f  /workers.rst](do
-00037270: 6373 2f77 6f72 6b65 7273 2e72 7374 2920  cs/workers.rst) 
-00037280: 2850 5220 2332 3839 3220 2d20 5c23 3239  (PR #2892 - \#29
-00037290: 3034 2c20 2332 3931 332c 2023 3239 3230  04, #2913, #2920
-000372a0: 202d 205c 2332 3932 362c 2023 3239 3437   - \#2926, #2947
-000372b0: 2c20 2332 3834 372c 2023 3238 3534 2c20  , #2847, #2854, 
-000372c0: 2332 3837 322c 2023 3238 3733 2c20 2332  #2872, #2873, #2
-000372d0: 3837 342c 2023 3239 3238 2c20 2332 3932  874, #2928, #292
-000372e0: 392c 2023 3239 3334 2c20 2332 3835 362c  9, #2934, #2856,
-000372f0: 2023 3239 3736 202d 205c 2332 3938 342c   #2976 - \#2984,
-00037300: 2023 3239 3837 202d 205c 2332 3938 392c   #2987 - \#2989,
-00037310: 2023 3239 3931 202d 205c 2332 3939 332c   #2991 - \#2993,
-00037320: 2023 3239 3935 2c20 2332 3738 3429 0a2d   #2995, #2784).-
-00037330: 2020 2045 6e73 7572 6520 7374 6174 6520     Ensure state 
-00037340: 6361 6368 6520 6973 2075 7365 6420 7768  cache is used wh
-00037350: 656e 2070 6572 7369 7374 696e 6720 6576  en persisting ev
-00037360: 656e 7473 2028 5052 2023 3238 3634 2c20  ents (PR #2864, 
-00037370: 2332 3837 312c 2023 3238 3032 2c20 2332  #2871, #2802, #2
-00037380: 3833 352c 2023 3238 3336 2c20 2332 3834  835, #2836, #284
-00037390: 312c 2023 3238 3432 2c20 2332 3834 3929  1, #2842, #2849)
-000373a0: 0a2d 2020 2043 6861 6e67 6520 7468 6520  .-   Change the 
-000373b0: 6465 6661 756c 7420 636f 6e66 6967 2074  default config t
-000373c0: 6f20 6269 6e64 206f 6e20 626f 7468 2049  o bind on both I
-000373d0: 5076 3420 616e 6420 4950 7636 206f 6e20  Pv4 and IPv6 on 
-000373e0: 616c 6c20 706c 6174 666f 726d 7320 2850  all platforms (P
-000373f0: 5220 2332 3433 3529 2054 6861 6e6b 7320  R #2435) Thanks 
-00037400: 746f 2040 7369 6c6b 6568 210a 2d20 2020  to @silkeh!.-   
-00037410: 4e6f 206c 6f6e 6765 7220 7265 7175 6972  No longer requir
-00037420: 6520 6120 7370 6563 6966 6963 2076 6572  e a specific ver
-00037430: 7369 6f6e 206f 6620 7361 6d6c 3220 2850  sion of saml2 (P
-00037440: 5220 2332 3639 3529 2054 6861 6e6b 7320  R #2695) Thanks 
-00037450: 746f 2040 6f6b 7572 7a21 0a2d 2020 2052  to @okurz!.-   R
-00037460: 656d 6f76 6520 6076 6572 626f 7369 7479  emove `verbosity
-00037470: 602f 606c 6f67 5f66 696c 6560 2066 726f  `/`log_file` fro
-00037480: 6d20 6765 6e65 7261 7465 6420 636f 6e66  m generated conf
-00037490: 6967 2028 5052 2023 3237 3535 290a 2d20  ig (PR #2755).- 
-000374a0: 2020 4164 6420 616e 6420 696d 7072 6f76    Add and improv
-000374b0: 6520 6d65 7472 6963 7320 616e 6420 6c6f  e metrics and lo
-000374c0: 6767 696e 6720 2850 5220 2332 3737 302c  gging (PR #2770,
-000374d0: 2023 3237 3738 2c20 2332 3738 352c 2023   #2778, #2785, #
-000374e0: 3237 3836 2c20 2332 3738 372c 2023 3237  2786, #2787, #27
-000374f0: 3933 2c20 2332 3739 342c 2023 3237 3935  93, #2794, #2795
-00037500: 2c20 2332 3830 392c 2023 3238 3130 2c20  , #2809, #2810, 
-00037510: 2332 3833 332c 2023 3238 3334 2c20 2332  #2833, #2834, #2
-00037520: 3834 342c 2023 3239 3635 2c20 2332 3932  844, #2965, #292
-00037530: 372c 2023 3239 3735 2c20 2332 3739 302c  7, #2975, #2790,
-00037540: 2023 3237 3936 2c20 2332 3833 3829 0a2d   #2796, #2838).-
-00037550: 2020 2057 6865 6e20 7573 696e 6720 7379     When using sy
-00037560: 6e63 746c 2077 6974 6820 776f 726b 6572  nctl with worker
-00037570: 732c 2064 6f6e 5c27 7420 7374 6172 7420  s, don\'t start 
-00037580: 7468 6520 6d61 696e 2073 796e 6170 7365  the main synapse
-00037590: 2061 7574 6f6d 6174 6963 616c 6c79 2028   automatically (
-000375a0: 5052 2023 3237 3734 290a 2d20 2020 4d69  PR #2774).-   Mi
-000375b0: 6e6f 7220 7065 7266 6f72 6d61 6e63 6520  nor performance 
-000375c0: 696d 7072 6f76 656d 656e 7473 2028 5052  improvements (PR
-000375d0: 2023 3237 3733 2c20 2332 3739 3229 0a2d   #2773, #2792).-
-000375e0: 2020 2055 7365 2061 2063 6f6e 6e65 6374     Use a connect
-000375f0: 696f 6e20 706f 6f6c 2066 6f72 206e 6f6e  ion pool for non
-00037600: 2d66 6564 6572 6174 696f 6e20 6f75 7462  -federation outb
-00037610: 6f75 6e64 2063 6f6e 6e65 6374 696f 6e73  ound connections
-00037620: 2028 5052 2023 3238 3137 290a 2d20 2020   (PR #2817).-   
-00037630: 4d61 6b65 2069 7420 706f 7373 6962 6c65  Make it possible
-00037640: 2074 6f20 7275 6e20 756e 6974 2074 6573   to run unit tes
-00037650: 7473 2061 6761 696e 7374 2070 6f73 7467  ts against postg
-00037660: 7265 7320 2850 5220 2332 3832 3929 0a2d  res (PR #2829).-
-00037670: 2020 2055 7064 6174 6520 7079 6e61 636c     Update pynacl
-00037680: 2064 6570 656e 6465 6e63 7920 746f 2031   dependency to 1
-00037690: 2e32 2e31 206f 7220 6869 6768 6572 2028  .2.1 or higher (
-000376a0: 5052 2023 3238 3838 2920 5468 616e 6b73  PR #2888) Thanks
-000376b0: 2074 6f20 4062 6163 6870 210a 2d20 2020   to @bachp!.-   
-000376c0: 5265 6d6f 7665 2061 6269 6c69 7479 2066  Remove ability f
-000376d0: 6f72 2041 5320 7573 6572 7320 746f 2063  or AS users to c
-000376e0: 616c 6c20 2f65 7665 6e74 7320 616e 6420  all /events and 
-000376f0: 2f73 796e 6320 2850 5220 2332 3934 3829  /sync (PR #2948)
-00037700: 0a2d 2020 2055 7365 2062 6372 7970 742e  .-   Use bcrypt.
-00037710: 6368 6563 6b70 7720 2850 5220 2332 3934  checkpw (PR #294
-00037720: 3929 2054 6861 6e6b 7320 746f 2040 6b72  9) Thanks to @kr
-00037730: 6f6d 6265 6c21 0a0a 4275 6720 6669 7865  ombel!..Bug fixe
-00037740: 733a 0a0a 2d20 2020 4669 7820 6272 6f6b  s:..-   Fix brok
-00037750: 656e 2060 6c64 6170 5f63 6f6e 6669 6760  en `ldap_config`
-00037760: 2063 6f6e 6669 6720 6f70 7469 6f6e 2028   config option (
-00037770: 5052 2023 3236 3833 2920 5468 616e 6b73  PR #2683) Thanks
-00037780: 2074 6f20 4073 6563 6b72 7621 0a2d 2020   to @seckrv!.-  
-00037790: 2046 6978 2065 7272 6f72 206d 6573 7361   Fix error messa
-000377a0: 6765 2077 6865 6e20 7573 6572 2069 7320  ge when user is 
-000377b0: 6e6f 7420 616c 6c6f 7765 6420 746f 2075  not allowed to u
-000377c0: 6e62 616e 2028 5052 2023 3237 3631 2920  nban (PR #2761) 
-000377d0: 5468 616e 6b73 2074 6f20 4074 7572 7432  Thanks to @turt2
-000377e0: 6c69 7665 210a 2d20 2020 4669 7820 7075  live!.-   Fix pu
-000377f0: 626c 6963 6973 6564 2067 726f 7570 7320  blicised groups 
-00037800: 4745 5420 4150 4920 2873 696e 6775 6c61  GET API (singula
-00037810: 7229 206f 7665 7220 6665 6465 7261 7469  r) over federati
-00037820: 6f6e 2028 5052 2023 3237 3732 290a 2d20  on (PR #2772).- 
-00037830: 2020 4669 7820 7573 6572 2064 6972 6563    Fix user direc
-00037840: 746f 7279 2077 6865 6e20 7573 696e 6720  tory when using 
-00037850: 6075 7365 725f 6469 7265 6374 6f72 795f  `user_directory_
-00037860: 7365 6172 6368 5f61 6c6c 5f75 7365 7273  search_all_users
-00037870: 6020 636f 6e66 6967 206f 7074 696f 6e20  ` config option 
-00037880: 2850 5220 2332 3830 332c 2023 3238 3331  (PR #2803, #2831
-00037890: 290a 2d20 2020 4669 7820 6572 726f 7220  ).-   Fix error 
-000378a0: 6f6e 2060 2f70 7562 6c69 6352 6f6f 6d73  on `/publicRooms
-000378b0: 6020 7768 656e 206e 6f20 726f 6f6d 7320  ` when no rooms 
-000378c0: 6578 6973 7420 2850 5220 2332 3832 3729  exist (PR #2827)
-000378d0: 0a2d 2020 2046 6978 2062 7567 2069 6e20  .-   Fix bug in 
-000378e0: 7175 6172 616e 7469 6e65 5c5f 6d65 6469  quarantine\_medi
-000378f0: 6120 2850 5220 2332 3833 3729 0a2d 2020  a (PR #2837).-  
-00037900: 2046 6978 2075 726c 5c5f 7072 6576 6965   Fix url\_previe
-00037910: 7773 2077 6865 6e20 6e6f 2043 6f6e 7465  ws when no Conte
-00037920: 6e74 2d54 7970 6520 6973 2072 6574 7572  nt-Type is retur
-00037930: 6e65 6420 6672 6f6d 2055 524c 2028 5052  ned from URL (PR
-00037940: 2023 3238 3435 290a 2d20 2020 4669 7820   #2845).-   Fix 
-00037950: 7261 7265 2072 6163 6520 696e 2073 796e  rare race in syn
-00037960: 6320 4150 4920 7768 656e 206a 6f69 6e69  c API when joini
-00037970: 6e67 2072 6f6f 6d20 2850 5220 2332 3934  ng room (PR #294
-00037980: 3429 0a2d 2020 2046 6978 2073 6c6f 7720  4).-   Fix slow 
-00037990: 6576 656e 7420 7365 6172 6368 2c20 7377  event search, sw
-000379a0: 6974 6368 2062 6163 6b20 6672 6f6d 2047  itch back from G
-000379b0: 4953 5420 746f 2047 494e 2069 6e64 6578  IST to GIN index
-000379c0: 6573 2028 5052 2023 3237 3639 2c20 2332  es (PR #2769, #2
-000379d0: 3834 3829 0a0a 4368 616e 6765 7320 696e  848)..Changes in
-000379e0: 2073 796e 6170 7365 2076 302e 3236 2e30   synapse v0.26.0
-000379f0: 2028 3230 3138 2d30 312d 3035 290a 3d3d   (2018-01-05).==
-00037a00: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00037a10: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00037a20: 3d3d 3d3d 3d0a 0a4e 6f20 6368 616e 6765  =====..No change
-00037a30: 7320 7369 6e63 6520 7630 2e32 362e 302d  s since v0.26.0-
-00037a40: 7263 310a 0a43 6861 6e67 6573 2069 6e20  rc1..Changes in 
-00037a50: 7379 6e61 7073 6520 7630 2e32 362e 302d  synapse v0.26.0-
-00037a60: 7263 3120 2832 3031 372d 3132 2d31 3329  rc1 (2017-12-13)
-00037a70: 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  .===============
-00037a80: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00037a90: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 4665  ============..Fe
-00037aa0: 6174 7572 6573 3a0a 0a2d 2020 2041 6464  atures:..-   Add
-00037ab0: 2061 6269 6c69 7479 2066 6f72 2041 5365   ability for ASe
-00037ac0: 7320 746f 2070 7562 6c69 6369 7365 2067  s to publicise g
-00037ad0: 726f 7570 7320 666f 7220 7468 6569 7220  roups for their 
-00037ae0: 7573 6572 7320 2850 5220 2332 3638 3629  users (PR #2686)
-00037af0: 0a2d 2020 2041 6464 2061 6c6c 206c 6f63  .-   Add all loc
-00037b00: 616c 2075 7365 7273 2074 6f20 7468 6520  al users to the 
-00037b10: 7573 6572 5c5f 6469 7265 6374 6f72 7920  user\_directory 
-00037b20: 616e 6420 6f70 7469 6f6e 616c 6c79 2073  and optionally s
-00037b30: 6561 7263 6820 7468 656d 2028 5052 2023  earch them (PR #
-00037b40: 3237 3233 290a 2d20 2020 4164 6420 7375  2723).-   Add su
-00037b50: 7070 6f72 7420 666f 7220 6375 7374 6f6d  pport for custom
-00037b60: 206c 6f67 696e 2074 7970 6573 2066 6f72   login types for
-00037b70: 2076 616c 6964 6174 696e 6720 7573 6572   validating user
-00037b80: 7320 2850 5220 2332 3732 3929 0a0a 4368  s (PR #2729)..Ch
-00037b90: 616e 6765 733a 0a0a 2d20 2020 5570 6461  anges:..-   Upda
-00037ba0: 7465 2065 7861 6d70 6c65 2050 726f 6d65  te example Prome
-00037bb0: 7468 6575 7320 636f 6e66 6967 2074 6f20  theus config to 
-00037bc0: 6e65 7720 666f 726d 6174 2028 5052 2023  new format (PR #
-00037bd0: 3236 3438 2920 5468 616e 6b73 2074 6f20  2648) Thanks to 
-00037be0: 406b 726f 6d62 656c 210a 2d20 2020 5265  @krombel!.-   Re
-00037bf0: 6e61 6d65 2072 6564 6163 745c 5f63 6f6e  name redact\_con
-00037c00: 7465 6e74 206f 7074 696f 6e20 746f 2069  tent option to i
-00037c10: 6e63 6c75 6465 5c5f 636f 6e74 656e 7420  nclude\_content 
-00037c20: 696e 2050 7573 6820 4150 4920 2850 5220  in Push API (PR 
-00037c30: 2332 3635 3029 0a2d 2020 2044 6563 6c61  #2650).-   Decla
-00037c40: 7265 2073 7570 706f 7274 2066 6f72 2072  re support for r
-00037c50: 302e 332e 3020 2850 5220 2332 3637 3729  0.3.0 (PR #2677)
-00037c60: 0a2d 2020 2049 6d70 726f 7665 2075 7073  .-   Improve ups
-00037c70: 6572 7473 2028 5052 2023 3236 3834 2c20  erts (PR #2684, 
-00037c80: 2332 3638 382c 2023 3236 3839 2c20 2332  #2688, #2689, #2
-00037c90: 3731 3329 0a2d 2020 2049 6d70 726f 7665  713).-   Improve
-00037ca0: 2064 6f63 756d 656e 7461 7469 6f6e 206f   documentation o
-00037cb0: 6620 776f 726b 6572 7320 2850 5220 2332  f workers (PR #2
-00037cc0: 3730 3029 0a2d 2020 2049 6d70 726f 7665  700).-   Improve
-00037cd0: 2074 7261 6365 6261 636b 7320 6f6e 2065   tracebacks on e
-00037ce0: 7863 6570 7469 6f6e 7320 2850 5220 2332  xceptions (PR #2
-00037cf0: 3730 3529 0a2d 2020 2041 6c6c 6f77 2067  705).-   Allow g
-00037d00: 7565 7374 2061 6363 6573 7320 746f 2067  uest access to g
-00037d10: 726f 7570 2041 5049 7320 666f 7220 7265  roup APIs for re
-00037d20: 6164 696e 6720 2850 5220 2332 3731 3529  ading (PR #2715)
-00037d30: 0a2d 2020 2053 7570 706f 7274 2066 6f72  .-   Support for
-00037d40: 2070 6f73 7469 6e67 2063 6f6e 7465 6e74   posting content
-00037d50: 2069 6e20 6665 6465 7261 7469 6f6e 5c5f   in federation\_
-00037d60: 636c 6965 6e74 2073 6372 6970 7420 2850  client script (P
-00037d70: 5220 2332 3731 3629 0a2d 2020 2044 656c  R #2716).-   Del
-00037d80: 6574 6520 6465 7669 6365 7320 616e 6420  ete devices and 
-00037d90: 7075 7368 6572 7320 6f6e 206c 6f67 6f75  pushers on logou
-00037da0: 7473 2065 7463 2028 5052 2023 3237 3232  ts etc (PR #2722
-00037db0: 290a 0a42 7567 2066 6978 6573 3a0a 0a2d  )..Bug fixes:..-
-00037dc0: 2020 2046 6978 2064 6174 6162 6173 6520     Fix database 
-00037dd0: 706f 7274 2073 6372 6970 7420 2850 5220  port script (PR 
-00037de0: 2332 3637 3329 0a2d 2020 2046 6978 2069  #2673).-   Fix i
-00037df0: 6e74 6572 6e61 6c20 7365 7276 6572 2065  nternal server e
-00037e00: 7272 6f72 206f 6e20 6c6f 6769 6e20 7769  rror on login wi
-00037e10: 7468 206c 6461 705c 5f61 7574 685c 5f70  th ldap\_auth\_p
-00037e20: 726f 7669 6465 7220 2850 5220 2332 3637  rovider (PR #267
-00037e30: 3829 2054 6861 6e6b 7320 746f 2040 6a6b  8) Thanks to @jk
-00037e40: 6f6c 6f21 0a2d 2020 2046 6978 2065 7272  olo!.-   Fix err
-00037e50: 6f72 206f 6e20 7371 6c69 7465 2033 2e37  or on sqlite 3.7
-00037e60: 2028 5052 2023 3236 3937 290a 2d20 2020   (PR #2697).-   
-00037e70: 4669 7820 4f50 5449 4f4e 5320 6f6e 2070  Fix OPTIONS on p
-00037e80: 7265 7669 6577 5c5f 7572 6c20 2850 5220  review\_url (PR 
-00037e90: 2332 3730 3729 0a2d 2020 2046 6978 2065  #2707).-   Fix e
-00037ea0: 7272 6f72 2068 616e 646c 696e 6720 6f6e  rror handling on
-00037eb0: 2064 6e73 206c 6f6f 6b75 7020 2850 5220   dns lookup (PR 
-00037ec0: 2332 3731 3129 0a2d 2020 2046 6978 2077  #2711).-   Fix w
-00037ed0: 726f 6e67 2061 7661 7461 7273 2077 6865  rong avatars whe
-00037ee0: 6e20 696e 7669 7469 6e67 206d 756c 7469  n inviting multi
-00037ef0: 706c 6520 7573 6572 7320 7768 656e 2063  ple users when c
-00037f00: 7265 6174 696e 6720 726f 6f6d 2028 5052  reating room (PR
-00037f10: 2023 3237 3137 290a 2d20 2020 4669 7820   #2717).-   Fix 
-00037f20: 3530 3020 7768 656e 206a 6f69 6e69 6e67  500 when joining
-00037f30: 206d 6174 7269 782d 6465 7620 2850 5220   matrix-dev (PR 
-00037f40: 2332 3731 3929 0a0a 4368 616e 6765 7320  #2719)..Changes 
-00037f50: 696e 2073 796e 6170 7365 2076 302e 3235  in synapse v0.25
-00037f60: 2e31 2028 3230 3137 2d31 312d 3137 290a  .1 (2017-11-17).
-00037f70: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00037f80: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00037f90: 3d3d 3d3d 3d3d 3d0a 0a42 7567 2066 6978  =======..Bug fix
-00037fa0: 6573 3a0a 0a2d 2020 2046 6978 206c 6f67  es:..-   Fix log
-00037fb0: 696e 2077 6974 6820 4c44 4150 2061 6e64  in with LDAP and
-00037fc0: 206f 7468 6572 2070 6173 7377 6f72 6420   other password 
-00037fd0: 7072 6f76 6964 6572 206d 6f64 756c 6573  provider modules
-00037fe0: 2028 5052 2023 3236 3738 292e 2054 6861   (PR #2678). Tha
-00037ff0: 6e6b 7320 746f 2040 6a6b 6f6c 6f21 0a0a  nks to @jkolo!..
-00038000: 4368 616e 6765 7320 696e 2073 796e 6170  Changes in synap
-00038010: 7365 2076 302e 3235 2e30 2028 3230 3137  se v0.25.0 (2017
-00038020: 2d31 312d 3135 290a 3d3d 3d3d 3d3d 3d3d  -11-15).========
-00038030: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00038040: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a  ===============.
-00038050: 0a42 7567 2066 6978 6573 3a0a 0a2d 2020  .Bug fixes:..-  
-00038060: 2046 6978 2070 6f72 7420 7363 7269 7074   Fix port script
-00038070: 2028 5052 2023 3236 3733 290a 0a43 6861   (PR #2673)..Cha
-00038080: 6e67 6573 2069 6e20 7379 6e61 7073 6520  nges in synapse 
-00038090: 7630 2e32 352e 302d 7263 3120 2832 3031  v0.25.0-rc1 (201
-000380a0: 372d 3131 2d31 3429 0a3d 3d3d 3d3d 3d3d  7-11-14).=======
-000380b0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000380c0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000380d0: 3d3d 3d3d 0a0a 4665 6174 7572 6573 3a0a  ====..Features:.
-000380e0: 0a2d 2020 2041 6464 2069 735c 5f70 7562  .-   Add is\_pub
-000380f0: 6c69 6320 746f 2067 726f 7570 7320 7461  lic to groups ta
-00038100: 626c 6520 746f 2061 6c6c 6f77 2066 6f72  ble to allow for
-00038110: 2070 7269 7661 7465 2067 726f 7570 7320   private groups 
-00038120: 2850 5220 2332 3538 3229 0a2d 2020 2041  (PR #2582).-   A
-00038130: 6464 2061 2072 6f75 7465 2066 6f72 2064  dd a route for d
-00038140: 6574 6572 6d69 6e69 6e67 2077 686f 2079  etermining who y
-00038150: 6f75 2061 7265 2028 5052 2023 3236 3638  ou are (PR #2668
-00038160: 2920 5468 616e 6b73 2074 6f20 4074 7572  ) Thanks to @tur
-00038170: 7432 6c69 7665 210a 2d20 2020 4164 6420  t2live!.-   Add 
-00038180: 6d6f 7265 2066 6561 7475 7265 7320 746f  more features to
-00038190: 2074 6865 2070 6173 7377 6f72 6420 7072   the password pr
-000381a0: 6f76 6964 6572 7320 2850 5220 2332 3630  oviders (PR #260
-000381b0: 382c 2023 3236 3130 2c20 2332 3632 302c  8, #2610, #2620,
-000381c0: 2023 3236 3232 2c20 2332 3632 332c 2023   #2622, #2623, #
-000381d0: 3236 3234 2c20 2332 3632 362c 2023 3236  2624, #2626, #26
-000381e0: 3238 2c20 2332 3632 3929 0a2d 2020 2041  28, #2629).-   A
-000381f0: 6464 2061 2068 6f6f 6b20 666f 7220 6375  dd a hook for cu
-00038200: 7374 6f6d 2072 6573 7420 656e 6470 6f69  stom rest endpoi
-00038210: 6e74 7320 2850 5220 2332 3632 3729 0a2d  nts (PR #2627).-
-00038220: 2020 2041 6464 2041 5049 2074 6f20 7570     Add API to up
-00038230: 6461 7465 2067 726f 7570 2072 6f6f 6d20  date group room 
-00038240: 7669 7369 6269 6c69 7479 2028 5052 2023  visibility (PR #
-00038250: 3236 3531 290a 0a43 6861 6e67 6573 3a0a  2651)..Changes:.
-00038260: 0a2d 2020 2049 676e 6f72 6520 5c3c 6e6f  .-   Ignore \<no
-00038270: 7363 7269 7074 5c3e 2074 6167 7320 7768  script\> tags wh
-00038280: 656e 2067 656e 6572 6174 696e 6720 5552  en generating UR
-00038290: 4c20 7072 6576 6965 7720 6465 7363 7269  L preview descri
-000382a0: 7074 696f 6e73 2028 5052 2023 3235 3736  ptions (PR #2576
-000382b0: 2920 5468 616e 6b73 2074 6f20 406d 6178  ) Thanks to @max
-000382c0: 696d 6576 6169 6c6c 616e 636f 7572 7421  imevaillancourt!
-000382d0: 0a2d 2020 2052 6567 6973 7465 7220 736f  .-   Register so
-000382e0: 6d65 202f 756e 7374 6162 6c65 2065 6e64  me /unstable end
-000382f0: 706f 696e 7473 2069 6e20 2f72 3020 6173  points in /r0 as
-00038300: 2077 656c 6c20 2850 5220 2332 3537 3929   well (PR #2579)
-00038310: 2054 6861 6e6b 7320 746f 2040 6b72 6f6d   Thanks to @krom
-00038320: 6265 6c21 0a2d 2020 2053 7570 706f 7274  bel!.-   Support
-00038330: 202f 6b65 7973 2f75 706c 6f61 6420 6f6e   /keys/upload on
-00038340: 202f 7230 2061 7320 7765 6c6c 2061 7320   /r0 as well as 
-00038350: 2f75 6e73 7461 626c 6520 2850 5220 2332  /unstable (PR #2
-00038360: 3538 3529 0a2d 2020 2046 726f 6e74 2d65  585).-   Front-e
-00038370: 6e64 2070 726f 7879 3a20 7061 7373 2074  nd proxy: pass t
-00038380: 6872 6f75 6768 2061 7574 6820 6865 6164  hrough auth head
-00038390: 6572 2028 5052 2023 3235 3836 290a 2d20  er (PR #2586).- 
-000383a0: 2020 416c 6c6f 7720 4153 6573 2074 6f20    Allow ASes to 
-000383b0: 6465 6163 7469 7661 7465 2074 6865 6972  deactivate their
-000383c0: 206f 776e 2075 7365 7273 2028 5052 2023   own users (PR #
-000383d0: 3235 3839 290a 2d20 2020 5265 6d6f 7665  2589).-   Remove
-000383e0: 2072 6566 7265 7368 2074 6f6b 656e 7320   refresh tokens 
-000383f0: 2850 5220 2332 3631 3329 0a2d 2020 2041  (PR #2613).-   A
-00038400: 7574 6f6d 6174 6963 616c 6c79 2073 6574  utomatically set
-00038410: 2064 6566 6175 6c74 2064 6973 706c 6179   default display
-00038420: 6e61 6d65 206f 6e20 7265 6769 7374 6572  name on register
-00038430: 2028 5052 2023 3236 3137 290a 2d20 2020   (PR #2617).-   
-00038440: 4c6f 6720 6c6f 6769 6e20 7265 7175 6573  Log login reques
-00038450: 7473 2028 5052 2023 3236 3138 290a 2d20  ts (PR #2618).- 
-00038460: 2020 416c 7761 7973 2072 6574 7572 6e20    Always return 
-00038470: 6973 5c5f 7075 626c 6963 2069 6e20 7468  is\_public in th
-00038480: 6520 2f67 726f 7570 732f 3a67 726f 7570  e /groups/:group
-00038490: 5c5f 6964 2f72 6f6f 6d73 2041 5049 2028  \_id/rooms API (
-000384a0: 5052 2023 3236 3330 290a 2d20 2020 4176  PR #2630).-   Av
-000384b0: 6f69 6420 6e6f 2d6f 7020 6d65 6469 6120  oid no-op media 
-000384c0: 6465 6c65 7465 7320 2850 5220 2332 3633  deletes (PR #263
-000384d0: 3729 2054 6861 6e6b 7320 746f 2040 7370  7) Thanks to @sp
-000384e0: 616e 7461 6c65 6576 210a 2d20 2020 4669  antaleev!.-   Fi
-000384f0: 7820 7661 7269 6f75 7320 656d 6261 7272  x various embarr
-00038500: 6173 7369 6e67 2074 7970 6f73 2061 726f  assing typos aro
-00038510: 756e 6420 7573 6572 5c5f 6469 7265 6374  und user\_direct
-00038520: 6f72 7920 616e 6420 6164 6420 736f 6d65  ory and add some
-00038530: 2064 6f63 2e20 2850 5220 2332 3634 3329   doc. (PR #2643)
-00038540: 0a2d 2020 2052 6574 7572 6e20 7768 6574  .-   Return whet
-00038550: 6865 7220 6120 7573 6572 2069 7320 616e  her a user is an
-00038560: 2061 646d 696e 2077 6974 6869 6e20 6120   admin within a 
-00038570: 6772 6f75 7020 2850 5220 2332 3634 3729  group (PR #2647)
-00038580: 0a2d 2020 204e 616d 6573 7061 6365 2076  .-   Namespace v
-00038590: 6973 6962 696c 6974 7920 6f70 7469 6f6e  isibility option
-000385a0: 7320 666f 7220 6772 6f75 7073 2028 5052  s for groups (PR
-000385b0: 2023 3236 3537 290a 2d20 2020 446f 776e   #2657).-   Down
-000385c0: 6361 7365 2055 7365 7249 4473 206f 6e20  case UserIDs on 
-000385d0: 7265 6769 7374 7261 7469 6f6e 2028 5052  registration (PR
-000385e0: 2023 3236 3632 290a 2d20 2020 4361 6368   #2662).-   Cach
-000385f0: 6520 6661 696c 7572 6573 2077 6865 6e20  e failures when 
-00038600: 6665 7463 6869 6e67 2055 524c 2070 7265  fetching URL pre
-00038610: 7669 6577 7320 2850 5220 2332 3636 3929  views (PR #2669)
-00038620: 0a0a 4275 6720 6669 7865 733a 0a0a 2d20  ..Bug fixes:..- 
-00038630: 2020 4669 7820 706f 7274 2073 6372 6970    Fix port scrip
-00038640: 7420 2850 5220 2332 3537 3729 0a2d 2020  t (PR #2577).-  
-00038650: 2046 6978 2065 7272 6f72 2077 6865 6e20   Fix error when 
-00038660: 7275 6e6e 696e 6720 7379 6e61 7073 6520  running synapse 
-00038670: 7769 7468 206e 6f20 6c6f 6766 696c 6520  with no logfile 
-00038680: 2850 5220 2332 3538 3129 0a2d 2020 2046  (PR #2581).-   F
-00038690: 6978 2055 4920 6175 7468 2077 6865 6e20  ix UI auth when 
-000386a0: 6465 6c65 7469 6e67 2064 6576 6963 6573  deleting devices
-000386b0: 2028 5052 2023 3235 3931 290a 2d20 2020   (PR #2591).-   
-000386c0: 4669 7820 7479 706f 2077 6865 6e20 6368  Fix typo when ch
-000386d0: 6563 6b69 6e67 2069 6620 7573 6572 2069  ecking if user i
-000386e0: 7320 696e 7669 7465 6420 746f 2067 726f  s invited to gro
-000386f0: 7570 2028 5052 2023 3235 3939 290a 2d20  up (PR #2599).- 
-00038700: 2020 4669 7820 7468 6520 706f 7274 2073    Fix the port s
-00038710: 6372 6970 7420 746f 2064 726f 7020 4e55  cript to drop NU
-00038720: 4c20 7661 6c75 6573 2069 6e20 616c 6c20  L values in all 
-00038730: 7461 626c 6573 2028 5052 2023 3236 3131  tables (PR #2611
-00038740: 290a 2d20 2020 4669 7820 6170 7073 6572  ).-   Fix appser
-00038750: 7669 6365 7320 6265 696e 6720 6261 636b  vices being back
-00038760: 6c6f 6767 6564 2061 6e64 206e 6f74 2072  logged and not r
-00038770: 6563 6569 7669 6e67 206e 6577 2065 7665  eceiving new eve
-00038780: 6e74 7320 6475 6520 746f 2061 2062 7567  nts due to a bug
-00038790: 2069 6e20 6e6f 7469 6679 5c5f 696e 7465   in notify\_inte
-000387a0: 7265 7374 6564 5c5f 7365 7276 6963 6573  rested\_services
-000387b0: 2028 5052 2023 3236 3331 2920 5468 616e   (PR #2631) Than
-000387c0: 6b73 2074 6f20 4078 797a 7a21 0a2d 2020  ks to @xyzz!.-  
-000387d0: 2046 6978 2075 7064 6174 696e 6720 726f   Fix updating ro
-000387e0: 6f6d 7320 6176 6174 6172 2f64 6973 706c  oms avatar/displ
-000387f0: 6179 206e 616d 6520 7768 656e 206d 6f64  ay name when mod
-00038800: 6966 6965 6420 6279 2061 646d 696e 2028  ified by admin (
-00038810: 5052 2023 3236 3336 2920 5468 616e 6b73  PR #2636) Thanks
-00038820: 2074 6f20 4066 6172 6961 6c69 6d61 210a   to @farialima!.
-00038830: 2d20 2020 4669 7820 6275 6720 696e 2073  -   Fix bug in s
-00038840: 7461 7465 2067 726f 7570 2073 746f 7261  tate group stora
-00038850: 6765 2028 5052 2023 3236 3439 290a 2d20  ge (PR #2649).- 
-00038860: 2020 4669 7820 3530 3020 6f6e 2069 6e76    Fix 500 on inv
-00038870: 616c 6964 2075 7466 2d38 2069 6e20 7265  alid utf-8 in re
-00038880: 7175 6573 7420 2850 5220 2332 3636 3329  quest (PR #2663)
-00038890: 0a0a 4368 616e 6765 7320 696e 2073 796e  ..Changes in syn
-000388a0: 6170 7365 2076 302e 3234 2e31 2028 3230  apse v0.24.1 (20
-000388b0: 3137 2d31 302d 3234 290a 3d3d 3d3d 3d3d  17-10-24).======
-000388c0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000388d0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000388e0: 3d0a 0a42 7567 2066 6978 6573 3a0a 0a2d  =..Bug fixes:..-
-000388f0: 2020 2046 6978 2075 7064 6174 696e 6720     Fix updating 
-00038900: 6772 6f75 7020 7072 6f66 696c 6573 206f  group profiles o
-00038910: 7665 7220 6665 6465 7261 7469 6f6e 2028  ver federation (
-00038920: 5052 2023 3235 3637 290a 0a43 6861 6e67  PR #2567)..Chang
-00038930: 6573 2069 6e20 7379 6e61 7073 6520 7630  es in synapse v0
-00038940: 2e32 342e 3020 2832 3031 372d 3130 2d32  .24.0 (2017-10-2
-00038950: 3329 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  3).=============
-00038960: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00038970: 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 4e6f 2063  ==========..No c
-00038980: 6861 6e67 6573 2073 696e 6365 2076 302e  hanges since v0.
-00038990: 3234 2e30 2d72 6331 0a0a 4368 616e 6765  24.0-rc1..Change
-000389a0: 7320 696e 2073 796e 6170 7365 2076 302e  s in synapse v0.
-000389b0: 3234 2e30 2d72 6331 2028 3230 3137 2d31  24.0-rc1 (2017-1
-000389c0: 302d 3139 290a 3d3d 3d3d 3d3d 3d3d 3d3d  0-19).==========
-000389d0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000389e0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000389f0: 3d0a 0a46 6561 7475 7265 733a 0a0a 2d20  =..Features:..- 
-00038a00: 2020 4164 6420 4772 6f75 7020 5365 7276    Add Group Serv
-00038a10: 6572 2028 5052 2023 3233 3532 2c20 2332  er (PR #2352, #2
-00038a20: 3336 332c 2023 3233 3734 2c20 2332 3337  363, #2374, #237
-00038a30: 372c 2023 3233 3738 2c20 2332 3338 322c  7, #2378, #2382,
-00038a40: 2023 3234 3130 2c20 2332 3432 362c 2023   #2410, #2426, #
-00038a50: 3234 3330 2c20 2332 3435 342c 2023 3234  2430, #2454, #24
-00038a60: 3731 2c20 2332 3437 322c 2023 3235 3434  71, #2472, #2544
-00038a70: 290a 2d20 2020 4164 6420 7375 7070 6f72  ).-   Add suppor
-00038a80: 7420 666f 7220 6368 616e 6e65 6c20 6e6f  t for channel no
-00038a90: 7469 6669 6361 7469 6f6e 7320 2850 5220  tifications (PR 
-00038aa0: 2332 3530 3129 0a2d 2020 2041 6464 2062  #2501).-   Add b
-00038ab0: 6173 6963 2069 6d70 6c65 6d65 6e74 6174  asic implementat
-00038ac0: 696f 6e20 6f66 2062 6163 6b75 7020 6d65  ion of backup me
-00038ad0: 6469 6120 7374 6f72 6520 2850 5220 2332  dia store (PR #2
-00038ae0: 3533 3829 0a2d 2020 2041 6464 2063 6f6e  538).-   Add con
-00038af0: 6669 6720 6f70 7469 6f6e 2074 6f20 6175  fig option to au
-00038b00: 746f 2d6a 6f69 6e20 6e65 7720 7573 6572  to-join new user
-00038b10: 7320 746f 2072 6f6f 6d73 2028 5052 2023  s to rooms (PR #
-00038b20: 3235 3435 290a 0a43 6861 6e67 6573 3a0a  2545)..Changes:.
-00038b30: 0a2d 2020 204d 616b 6520 7468 6520 7370  .-   Make the sp
-00038b40: 616d 2063 6865 636b 6572 2061 206d 6f64  am checker a mod
-00038b50: 756c 6520 2850 5220 2332 3437 3429 0a2d  ule (PR #2474).-
-00038b60: 2020 2044 656c 6574 6520 6578 7069 7265     Delete expire
-00038b70: 6420 7572 6c20 6361 6368 6520 6461 7461  d url cache data
-00038b80: 2028 5052 2023 3234 3738 290a 2d20 2020   (PR #2478).-   
-00038b90: 4967 6e6f 7265 2069 6e63 6f6d 696e 6720  Ignore incoming 
-00038ba0: 6576 656e 7473 2066 6f72 2072 6f6f 6d73  events for rooms
-00038bb0: 2074 6861 7420 7765 2068 6176 6520 6c65   that we have le
-00038bc0: 6674 2028 5052 2023 3234 3930 290a 2d20  ft (PR #2490).- 
-00038bd0: 2020 416c 6c6f 7720 7370 616d 2063 6865    Allow spam che
-00038be0: 636b 6572 2074 6f20 7265 6a65 6374 2069  cker to reject i
-00038bf0: 6e76 6974 6573 2074 6f6f 2028 5052 2023  nvites too (PR #
-00038c00: 3234 3932 290a 2d20 2020 4164 6420 726f  2492).-   Add ro
-00038c10: 6f6d 2063 7265 6174 696f 6e20 6368 6563  om creation chec
-00038c20: 6b73 2074 6f20 7370 616d 2063 6865 636b  ks to spam check
-00038c30: 6572 2028 5052 2023 3234 3935 290a 2d20  er (PR #2495).- 
-00038c40: 2020 5370 616d 2063 6865 636b 696e 673a    Spam checking:
-00038c50: 2061 6464 2074 6865 2069 6e76 6974 6565   add the invitee
-00038c60: 2074 6f20 7573 6572 5c5f 6d61 795c 5f69   to user\_may\_i
-00038c70: 6e76 6974 6520 2850 5220 2332 3530 3229  nvite (PR #2502)
-00038c80: 0a2d 2020 2050 726f 6365 7373 2065 7665  .-   Process eve
-00038c90: 6e74 7320 6672 6f6d 2066 6564 6572 6174  nts from federat
-00038ca0: 696f 6e20 666f 7220 6469 6666 6572 656e  ion for differen
-00038cb0: 7420 726f 6f6d 7320 696e 2070 6172 616c  t rooms in paral
-00038cc0: 6c65 6c20 2850 5220 2332 3532 3029 0a2d  lel (PR #2520).-
-00038cd0: 2020 2041 6c6c 6f77 2065 7272 6f72 2073     Allow error s
-00038ce0: 7472 696e 6773 2066 726f 6d20 7370 616d  trings from spam
-00038cf0: 2063 6865 636b 6572 2028 5052 2023 3235   checker (PR #25
-00038d00: 3331 290a 2d20 2020 496d 7072 6f76 6520  31).-   Improve 
-00038d10: 6572 726f 7220 6861 6e64 6c69 6e67 2066  error handling f
-00038d20: 6f72 206d 6973 7369 6e67 2066 696c 6573  or missing files
-00038d30: 2069 6e20 636f 6e66 6967 2028 5052 2023   in config (PR #
-00038d40: 3235 3531 290a 0a42 7567 2066 6978 6573  2551)..Bug fixes
-00038d50: 3a0a 0a2d 2020 2046 6978 2068 616e 646c  :..-   Fix handl
-00038d60: 696e 6720 5345 5256 4641 494c 7320 7768  ing SERVFAILs wh
-00038d70: 656e 2064 6f69 6e67 2041 4141 4120 6c6f  en doing AAAA lo
-00038d80: 6f6b 7570 7320 666f 7220 6665 6465 7261  okups for federa
-00038d90: 7469 6f6e 2028 5052 2023 3234 3737 290a  tion (PR #2477).
-00038da0: 2d20 2020 4669 7820 696e 636f 6d70 6174  -   Fix incompat
-00038db0: 6962 696c 6974 7920 7769 7468 206e 6577  ibility with new
-00038dc0: 6572 2076 6572 7369 6f6e 7320 6f66 2075  er versions of u
-00038dd0: 6a73 6f6e 2028 5052 2023 3234 3833 2920  json (PR #2483) 
-00038de0: 5468 616e 6b73 2074 6f20 406a 6572 656d  Thanks to @jerem
-00038df0: 7963 6c69 6e65 210a 2d20 2020 4669 7820  ycline!.-   Fix 
-00038e00: 6e6f 7469 6669 6361 7469 6f6e 206b 6579  notification key
-00038e10: 776f 7264 7320 7468 6174 2073 7461 7274  words that start
-00038e20: 2f65 6e64 2077 6974 6820 6e6f 6e2d 776f  /end with non-wo
-00038e30: 7264 2063 6861 7273 2028 5052 2023 3235  rd chars (PR #25
-00038e40: 3030 290a 2d20 2020 4669 7820 7374 6163  00).-   Fix stac
-00038e50: 6b20 6f76 6572 666c 6f77 2061 6e64 206c  k overflow and l
-00038e60: 6f67 636f 6e74 6578 7473 2066 726f 6d20  ogcontexts from 
-00038e70: 6c69 6e65 6172 697a 6572 2028 5052 2023  linearizer (PR #
-00038e80: 3235 3332 290a 2d20 2020 4669 7820 3530  2532).-   Fix 50
-00038e90: 3020 6572 726f 7220 7768 656e 2066 6965  0 error when fie
-00038ea0: 6c64 7320 6d69 7373 696e 6720 6672 6f6d  lds missing from
-00038eb0: 2070 6f77 6572 5c5f 6c65 7665 6c73 2065   power\_levels e
-00038ec0: 7665 6e74 2028 5052 2023 3235 3532 290a  vent (PR #2552).
-00038ed0: 2d20 2020 4669 7820 3530 3020 6572 726f  -   Fix 500 erro
-00038ee0: 7220 7768 656e 2077 6520 6765 7420 616e  r when we get an
-00038ef0: 2065 7272 6f72 2068 616e 646c 696e 6720   error handling 
-00038f00: 6120 5044 5520 2850 5220 2332 3535 3329  a PDU (PR #2553)
-00038f10: 0a0a 4368 616e 6765 7320 696e 2073 796e  ..Changes in syn
-00038f20: 6170 7365 2076 302e 3233 2e31 2028 3230  apse v0.23.1 (20
-00038f30: 3137 2d31 302d 3032 290a 3d3d 3d3d 3d3d  17-10-02).======
-00038f40: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00038f50: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00038f60: 3d0a 0a43 6861 6e67 6573 3a0a 0a2d 2020  =..Changes:..-  
-00038f70: 204d 616b 6520 5c27 6166 6669 6e69 7479   Make \'affinity
-00038f80: 5c27 2070 6163 6b61 6765 206f 7074 696f  \' package optio
-00038f90: 6e61 6c2c 2061 7320 6974 2069 7320 6e6f  nal, as it is no
-00038fa0: 7420 7375 7070 6f72 7465 6420 6f6e 2073  t supported on s
-00038fb0: 6f6d 6520 706c 6174 666f 726d 730a 0a43  ome platforms..C
-00038fc0: 6861 6e67 6573 2069 6e20 7379 6e61 7073  hanges in synaps
-00038fd0: 6520 7630 2e32 332e 3020 2832 3031 372d  e v0.23.0 (2017-
-00038fe0: 3130 2d30 3229 0a3d 3d3d 3d3d 3d3d 3d3d  10-02).=========
-00038ff0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00039000: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a  ==============..
-00039010: 4e6f 2063 6861 6e67 6573 2073 696e 6365  No changes since
-00039020: 2076 302e 3233 2e30 2d72 6332 0a0a 4368   v0.23.0-rc2..Ch
-00039030: 616e 6765 7320 696e 2073 796e 6170 7365  anges in synapse
-00039040: 2076 302e 3233 2e30 2d72 6332 2028 3230   v0.23.0-rc2 (20
-00039050: 3137 2d30 392d 3236 290a 3d3d 3d3d 3d3d  17-09-26).======
-00039060: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00039070: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00039080: 3d3d 3d3d 3d0a 0a42 7567 2066 6978 6573  =====..Bug fixes
-00039090: 3a0a 0a2d 2020 2046 6978 2072 6567 7265  :..-   Fix regre
-000390a0: 7373 696f 6e20 696e 2070 6572 666f 726d  ssion in perform
-000390b0: 616e 6365 206f 6620 7379 6e63 7320 2850  ance of syncs (P
-000390c0: 5220 2332 3437 3029 0a0a 4368 616e 6765  R #2470)..Change
-000390d0: 7320 696e 2073 796e 6170 7365 2076 302e  s in synapse v0.
-000390e0: 3233 2e30 2d72 6331 2028 3230 3137 2d30  23.0-rc1 (2017-0
-000390f0: 392d 3235 290a 3d3d 3d3d 3d3d 3d3d 3d3d  9-25).==========
-00039100: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00039110: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00039120: 3d0a 0a46 6561 7475 7265 733a 0a0a 2d20  =..Features:..- 
-00039130: 2020 4164 6420 6120 6672 6f6e 7465 6e64    Add a frontend
-00039140: 2070 726f 7879 2077 6f72 6b65 7220 2850   proxy worker (P
-00039150: 5220 2332 3334 3429 0a2d 2020 2041 6464  R #2344).-   Add
-00039160: 2073 7570 706f 7274 2066 6f72 2065 7665   support for eve
-00039170: 6e74 5c5f 6964 5c5f 6f6e 6c79 2070 7573  nt\_id\_only pus
-00039180: 6820 666f 726d 6174 2028 5052 2023 3234  h format (PR #24
-00039190: 3530 290a 2d20 2020 4164 6420 6120 506f  50).-   Add a Po
-000391a0: 4320 666f 7220 6669 6c74 6572 696e 6720  C for filtering 
-000391b0: 7370 616d 6d79 2065 7665 6e74 7320 2850  spammy events (P
-000391c0: 5220 2332 3435 3629 0a2d 2020 2041 6464  R #2456).-   Add
-000391d0: 2061 2063 6f6e 6669 6720 6f70 7469 6f6e   a config option
-000391e0: 2074 6f20 626c 6f63 6b20 616c 6c20 726f   to block all ro
-000391f0: 6f6d 2069 6e76 6974 6573 2028 5052 2023  om invites (PR #
-00039200: 3234 3537 290a 0a43 6861 6e67 6573 3a0a  2457)..Changes:.
-00039210: 0a2d 2020 2055 7365 2062 6372 7970 7420  .-   Use bcrypt 
-00039220: 6d6f 6475 6c65 2069 6e73 7465 6164 206f  module instead o
-00039230: 6620 7079 2d62 6372 7970 7420 2850 5220  f py-bcrypt (PR 
-00039240: 2332 3238 3829 2054 6861 6e6b 7320 746f  #2288) Thanks to
-00039250: 2040 6b79 7269 6173 210a 2d20 2020 496d   @kyrias!.-   Im
-00039260: 7072 6f76 6520 7065 7266 6f72 6d61 6e63  prove performanc
-00039270: 6520 6f66 2067 656e 6572 6174 696e 6720  e of generating 
-00039280: 7075 7368 206e 6f74 6966 6963 6174 696f  push notificatio
-00039290: 6e73 2028 5052 2023 3233 3433 2c20 2332  ns (PR #2343, #2
-000392a0: 3335 372c 2023 3233 3635 2c20 2332 3336  357, #2365, #236
-000392b0: 362c 2023 3233 3731 290a 2d20 2020 496d  6, #2371).-   Im
-000392c0: 7072 6f76 6520 4442 2070 6572 666f 726d  prove DB perform
-000392d0: 616e 6365 2066 6f72 2064 6576 6963 6520  ance for device 
-000392e0: 6c69 7374 2068 616e 646c 696e 6720 696e  list handling in
-000392f0: 2073 796e 6320 2850 5220 2332 3336 3229   sync (PR #2362)
-00039300: 0a2d 2020 2049 6e63 6c75 6465 2061 2073  .-   Include a s
-00039310: 616d 706c 6520 7072 6f6d 6574 6865 7573  ample prometheus
-00039320: 2063 6f6e 6669 6720 2850 5220 2332 3431   config (PR #241
-00039330: 3629 0a2d 2020 2044 6f63 756d 656e 7420  6).-   Document 
-00039340: 6b6e 6f77 6e20 746f 2077 6f72 6b20 706f  known to work po
-00039350: 7374 6772 6573 2076 6572 7369 6f6e 2028  stgres version (
-00039360: 5052 2023 3234 3333 2920 5468 616e 6b73  PR #2433) Thanks
-00039370: 2074 6f20 4070 746d 616e 210a 0a42 7567   to @ptman!..Bug
-00039380: 2066 6978 6573 3a0a 0a2d 2020 2046 6978   fixes:..-   Fix
-00039390: 2063 6163 6869 6e67 2065 7272 6f72 2069   caching error i
-000393a0: 6e20 7468 6520 7075 7368 2065 7661 6c75  n the push evalu
-000393b0: 6174 6f72 2028 5052 2023 3233 3332 290a  ator (PR #2332).
-000393c0: 2d20 2020 4669 7820 6275 6720 7768 6572  -   Fix bug wher
-000393d0: 6520 7075 7368 6572 706f 6f6c 2064 6964  e pusherpool did
-000393e0: 6e5c 2774 2073 7461 7274 2061 6e64 2062  n\'t start and b
-000393f0: 726f 6b65 2073 6f6d 6520 726f 6f6d 7320  roke some rooms 
-00039400: 2850 5220 2332 3334 3229 0a2d 2020 2046  (PR #2342).-   F
-00039410: 6978 2070 6f72 7420 7363 7269 7074 2066  ix port script f
-00039420: 6f72 2075 7365 7220 6469 7265 6374 6f72  or user director
-00039430: 7920 7461 626c 6573 2028 5052 2023 3233  y tables (PR #23
-00039440: 3735 290a 2d20 2020 4669 7820 6465 7669  75).-   Fix devi
-00039450: 6365 206c 6973 7473 206e 6f74 6966 6963  ce lists notific
-00039460: 6174 696f 6e73 2077 6865 6e20 7573 6572  ations when user
-00039470: 2072 656a 6f69 6e73 2061 2072 6f6f 6d20   rejoins a room 
-00039480: 2850 5220 2332 3434 332c 2023 3234 3439  (PR #2443, #2449
-00039490: 290a 2d20 2020 4669 7820 7379 6e63 2074  ).-   Fix sync t
-000394a0: 6f20 616c 7761 7973 2073 656e 6420 646f  o always send do
-000394b0: 776e 2063 7572 7265 6e74 2073 7461 7465  wn current state
-000394c0: 2065 7665 6e74 7320 696e 2074 696d 656c   events in timel
-000394d0: 696e 6520 2850 5220 2332 3435 3129 0a2d  ine (PR #2451).-
-000394e0: 2020 2046 6978 2062 7567 2077 6865 7265     Fix bug where
-000394f0: 2067 7565 7374 2075 7365 7273 2077 6572   guest users wer
-00039500: 6520 696e 636f 7272 6563 746c 7920 6b69  e incorrectly ki
-00039510: 636b 6564 2028 5052 2023 3234 3533 290a  cked (PR #2453).
-00039520: 2d20 2020 4669 7820 6275 6720 7461 6c6b  -   Fix bug talk
-00039530: 696e 6720 746f 2049 5076 3620 6f6e 6c79  ing to IPv6 only
-00039540: 2073 6572 7665 7273 2075 7369 6e67 2053   servers using S
-00039550: 5256 2072 6563 6f72 6473 2028 5052 2023  RV records (PR #
-00039560: 3234 3632 290a 0a43 6861 6e67 6573 2069  2462)..Changes i
-00039570: 6e20 7379 6e61 7073 6520 7630 2e32 322e  n synapse v0.22.
-00039580: 3120 2832 3031 372d 3037 2d30 3629 0a3d  1 (2017-07-06).=
-00039590: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000395a0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000395b0: 3d3d 3d3d 3d3d 0a0a 4275 6720 6669 7865  ======..Bug fixe
-000395c0: 733a 0a0a 2d20 2020 4669 7820 6275 6720  s:..-   Fix bug 
-000395d0: 7768 6572 6520 7075 7368 6572 2070 6f6f  where pusher poo
-000395e0: 6c20 6469 646e 5c27 7420 7374 6172 7420  l didn\'t start 
-000395f0: 616e 6420 6361 7573 6564 2069 7373 7565  and caused issue
-00039600: 7320 7768 656e 2069 6e74 6572 6163 7469  s when interacti
-00039610: 6e67 2077 6974 6820 736f 6d65 2072 6f6f  ng with some roo
-00039620: 6d73 2028 5052 2023 3233 3432 290a 0a43  ms (PR #2342)..C
-00039630: 6861 6e67 6573 2069 6e20 7379 6e61 7073  hanges in synaps
-00039640: 6520 7630 2e32 322e 3020 2832 3031 372d  e v0.22.0 (2017-
-00039650: 3037 2d30 3629 0a3d 3d3d 3d3d 3d3d 3d3d  07-06).=========
-00039660: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00039670: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a  ==============..
-00039680: 4e6f 2063 6861 6e67 6573 2073 696e 6365  No changes since
-00039690: 2076 302e 3232 2e30 2d72 6332 0a0a 4368   v0.22.0-rc2..Ch
-000396a0: 616e 6765 7320 696e 2073 796e 6170 7365  anges in synapse
-000396b0: 2076 302e 3232 2e30 2d72 6332 2028 3230   v0.22.0-rc2 (20
-000396c0: 3137 2d30 372d 3034 290a 3d3d 3d3d 3d3d  17-07-04).======
-000396d0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000396e0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000396f0: 3d3d 3d3d 3d0a 0a43 6861 6e67 6573 3a0a  =====..Changes:.
-00039700: 0a2d 2020 2049 6d70 726f 7665 2070 6572  .-   Improve per
-00039710: 666f 726d 616e 6365 206f 6620 7374 6f72  formance of stor
-00039720: 696e 6720 7573 6572 2049 5073 2028 5052  ing user IPs (PR
-00039730: 2023 3233 3037 2c20 2332 3330 3829 0a2d   #2307, #2308).-
-00039740: 2020 2053 6c69 6768 746c 7920 696d 7072     Slightly impr
-00039750: 6f76 6520 7065 7266 6f72 6d61 6e63 6520  ove performance 
-00039760: 6f66 2076 6572 6966 7969 6e67 2061 6363  of verifying acc
-00039770: 6573 7320 746f 6b65 6e73 2028 5052 2023  ess tokens (PR #
-00039780: 3233 3230 290a 2d20 2020 536c 6967 6874  2320).-   Slight
-00039790: 6c79 2069 6d70 726f 7665 2070 6572 666f  ly improve perfo
-000397a0: 726d 616e 6365 206f 6620 6576 656e 7420  rmance of event 
-000397b0: 7065 7273 6973 7465 6e63 6520 2850 5220  persistence (PR 
-000397c0: 2332 3332 3129 0a2d 2020 2049 6e63 7265  #2321).-   Incre
-000397d0: 6173 6520 6465 6661 756c 7420 6361 6368  ase default cach
-000397e0: 6520 6661 6374 6f72 2073 697a 6520 6672  e factor size fr
-000397f0: 6f6d 2030 2e31 2074 6f20 302e 3520 2850  om 0.1 to 0.5 (P
-00039800: 5220 2332 3333 3029 0a0a 4275 6720 6669  R #2330)..Bug fi
-00039810: 7865 733a 0a0a 2d20 2020 4669 7820 6275  xes:..-   Fix bu
-00039820: 6720 7769 7468 2073 746f 7269 6e67 2072  g with storing r
-00039830: 6567 6973 7472 6174 696f 6e20 7365 7373  egistration sess
-00039840: 696f 6e73 2074 6861 7420 6361 7573 6564  ions that caused
-00039850: 2066 7265 7175 656e 7420 4350 5520 6368   frequent CPU ch
-00039860: 7572 6e20 2850 5220 2332 3331 3929 0a0a  urn (PR #2319)..
-00039870: 4368 616e 6765 7320 696e 2073 796e 6170  Changes in synap
-00039880: 7365 2076 302e 3232 2e30 2d72 6331 2028  se v0.22.0-rc1 (
-00039890: 3230 3137 2d30 362d 3236 290a 3d3d 3d3d  2017-06-26).====
-000398a0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000398b0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000398c0: 3d3d 3d3d 3d3d 3d0a 0a46 6561 7475 7265  =======..Feature
-000398d0: 733a 0a0a 2d20 2020 4164 6420 6120 7573  s:..-   Add a us
-000398e0: 6572 2064 6972 6563 746f 7279 2041 5049  er directory API
-000398f0: 2028 5052 2023 3232 3532 2c20 616e 6420   (PR #2252, and 
-00039900: 6d61 6e79 206d 6f72 6529 0a2d 2020 2041  many more).-   A
-00039910: 6464 2073 6875 7464 6f77 6e20 726f 6f6d  dd shutdown room
-00039920: 2041 5049 2074 6f20 7265 6d6f 7665 2072   API to remove r
-00039930: 6f6f 6d20 6672 6f6d 206c 6f63 616c 2073  oom from local s
-00039940: 6572 7665 7220 2850 5220 2332 3239 3129  erver (PR #2291)
-00039950: 0a2d 2020 2041 6464 2041 5049 2074 6f20  .-   Add API to 
-00039960: 7175 6172 616e 7469 6e65 206d 6564 6961  quarantine media
-00039970: 2028 5052 2023 3232 3932 290a 2d20 2020   (PR #2292).-   
-00039980: 4164 6420 6e65 7720 636f 6e66 6967 206f  Add new config o
-00039990: 7074 696f 6e20 746f 206e 6f74 2073 656e  ption to not sen
-000399a0: 6420 6576 656e 7420 636f 6e74 656e 7473  d event contents
-000399b0: 2074 6f20 7075 7368 2073 6572 7665 7273   to push servers
-000399c0: 2028 5052 2023 3233 3031 2920 5468 616e   (PR #2301) Than
-000399d0: 6b73 2074 6f20 4063 6a64 656c 6973 6c65  ks to @cjdelisle
-000399e0: 210a 0a43 6861 6e67 6573 3a0a 0a2d 2020  !..Changes:..-  
-000399f0: 2056 6172 696f 7573 2070 6572 666f 726d   Various perform
-00039a00: 616e 6365 2066 6978 6573 2028 5052 2023  ance fixes (PR #
-00039a10: 3231 3737 2c20 2332 3233 332c 2023 3232  2177, #2233, #22
-00039a20: 3330 2c20 2332 3233 382c 2023 3232 3438  30, #2238, #2248
-00039a30: 2c20 2332 3235 362c 2023 3232 3734 290a  , #2256, #2274).
-00039a40: 2d20 2020 4465 6475 706c 6963 6174 6520  -   Deduplicate 
-00039a50: 7379 6e63 2066 696c 7465 7273 2028 5052  sync filters (PR
-00039a60: 2023 3232 3139 2920 5468 616e 6b73 2074   #2219) Thanks t
-00039a70: 6f20 406b 726f 6d62 656c 210a 2d20 2020  o @krombel!.-   
-00039a80: 436f 7272 6563 7420 6120 7479 706f 2069  Correct a typo i
-00039a90: 6e20 5550 4752 4144 452e 7273 7420 2850  n UPGRADE.rst (P
-00039aa0: 5220 2332 3233 3129 2054 6861 6e6b 7320  R #2231) Thanks 
-00039ab0: 746f 2040 6161 726f 6e72 6169 6d69 7374  to @aaronraimist
-00039ac0: 210a 2d20 2020 4164 6420 636f 756e 7420  !.-   Add count 
-00039ad0: 6f66 206f 6e65 2074 696d 6520 6b65 7973  of one time keys
-00039ae0: 2074 6f20 7379 6e63 2073 7472 6561 6d20   to sync stream 
-00039af0: 2850 5220 2332 3233 3729 0a2d 2020 204f  (PR #2237).-   O
-00039b00: 6e6c 7920 7374 6f72 6520 6576 656e 745c  nly store event\
-00039b10: 5f61 7574 6820 666f 7220 7374 6174 6520  _auth for state 
-00039b20: 6576 656e 7473 2028 5052 2023 3232 3437  events (PR #2247
-00039b30: 290a 2d20 2020 5374 6f72 6520 5552 4c20  ).-   Store URL 
-00039b40: 6361 6368 6520 7072 6576 6965 7720 646f  cache preview do
-00039b50: 776e 6c6f 6164 7320 7365 7061 7261 7465  wnloads separate
-00039b60: 6c79 2028 5052 2023 3232 3939 290a 0a42  ly (PR #2299)..B
-00039b70: 7567 2066 6978 6573 3a0a 0a2d 2020 2046  ug fixes:..-   F
-00039b80: 6978 2075 7365 7273 206e 6f74 2067 6574  ix users not get
-00039b90: 7469 6e67 206e 6f74 6966 6963 6174 696f  ting notificatio
-00039ba0: 6e73 2077 6865 6e20 4153 206c 6973 7465  ns when AS liste
-00039bb0: 6e65 6420 746f 2074 6861 7420 7573 6572  ned to that user
-00039bc0: 5c5f 6964 2028 5052 2023 3232 3136 2920  \_id (PR #2216) 
-00039bd0: 5468 616e 6b73 2074 6f20 4073 6c69 7065  Thanks to @slipe
-00039be0: 6572 210a 2d20 2020 4669 7820 7573 6572  er!.-   Fix user
-00039bf0: 7320 7769 7468 6f75 7420 7075 7368 2073  s without push s
-00039c00: 6574 2075 7020 6e6f 7420 6765 7474 696e  et up not gettin
-00039c10: 6720 6e6f 7469 6669 6361 7469 6f6e 7320  g notifications 
-00039c20: 6166 7465 7220 6a6f 696e 696e 6720 726f  after joining ro
-00039c30: 6f6d 7320 2850 5220 2332 3233 3629 0a2d  oms (PR #2236).-
-00039c40: 2020 2046 6978 2070 7265 7669 6577 2075     Fix preview u
-00039c50: 726c 2041 5049 2074 6f20 7472 696d 206c  rl API to trim l
-00039c60: 6f6e 6720 6465 7363 7269 7074 696f 6e73  ong descriptions
-00039c70: 2028 5052 2023 3232 3433 290a 2d20 2020   (PR #2243).-   
-00039c80: 4669 7820 6275 6720 7768 6572 6520 7765  Fix bug where we
-00039c90: 2075 7365 6420 6361 6368 6564 2062 7574   used cached but
-00039ca0: 2075 6e70 6572 7369 7374 6564 2073 7461   unpersisted sta
-00039cb0: 7465 2067 726f 7570 2061 7320 7072 6576  te group as prev
-00039cc0: 2067 726f 7570 2c20 7265 7375 6c74 696e   group, resultin
-00039cd0: 6720 696e 2062 726f 6b65 6e20 7374 6174  g in broken stat
-00039ce0: 6520 6f66 2072 6573 7461 7274 2028 5052  e of restart (PR
-00039cf0: 2023 3232 3633 290a 2d20 2020 4669 7820   #2263).-   Fix 
-00039d00: 7265 6d6f 7669 6e67 206f 6620 7075 7368  removing of push
-00039d10: 6572 7320 7768 656e 2075 7369 6e67 2077  ers when using w
-00039d20: 6f72 6b65 7273 2028 5052 2023 3232 3637  orkers (PR #2267
-00039d30: 290a 2d20 2020 4669 7820 434f 5253 2068  ).-   Fix CORS h
-00039d40: 6561 6465 7273 2074 6f20 616c 6c6f 7720  eaders to allow 
-00039d50: 4175 7468 6f72 697a 6174 696f 6e20 6865  Authorization he
-00039d60: 6164 6572 2028 5052 2023 3232 3835 2920  ader (PR #2285) 
-00039d70: 5468 616e 6b73 2074 6f20 406b 726f 6d62  Thanks to @kromb
-00039d80: 656c 210a 0a43 6861 6e67 6573 2069 6e20  el!..Changes in 
-00039d90: 7379 6e61 7073 6520 7630 2e32 312e 3120  synapse v0.21.1 
-00039da0: 2832 3031 372d 3036 2d31 3529 0a3d 3d3d  (2017-06-15).===
-00039db0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00039dc0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00039dd0: 3d3d 3d3d 0a0a 4275 6720 6669 7865 733a  ====..Bug fixes:
-00039de0: 0a0a 2d20 2020 4669 7820 6275 6720 696e  ..-   Fix bug in
-00039df0: 2061 6e6f 6e79 6d6f 7573 2075 7361 6765   anonymous usage
-00039e00: 2073 7461 7469 7374 6963 2072 6570 6f72   statistic repor
-00039e10: 7469 6e67 2028 5052 2023 3232 3831 290a  ting (PR #2281).
-00039e20: 0a43 6861 6e67 6573 2069 6e20 7379 6e61  .Changes in syna
-00039e30: 7073 6520 7630 2e32 312e 3020 2832 3031  pse v0.21.0 (201
-00039e40: 372d 3035 2d31 3829 0a3d 3d3d 3d3d 3d3d  7-05-18).=======
-00039e50: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00039e60: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00039e70: 0a0a 4e6f 2063 6861 6e67 6573 2073 696e  ..No changes sin
-00039e80: 6365 2076 302e 3231 2e30 2d72 6333 0a0a  ce v0.21.0-rc3..
-00039e90: 4368 616e 6765 7320 696e 2073 796e 6170  Changes in synap
-00039ea0: 7365 2076 302e 3231 2e30 2d72 6333 2028  se v0.21.0-rc3 (
-00039eb0: 3230 3137 2d30 352d 3137 290a 3d3d 3d3d  2017-05-17).====
-00039ec0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00039ed0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00039ee0: 3d3d 3d3d 3d3d 3d0a 0a46 6561 7475 7265  =======..Feature
-00039ef0: 733a 0a0a 2d20 2020 4164 6420 7065 7220  s:..-   Add per 
-00039f00: 7573 6572 2072 6174 652d 6c69 6d69 7469  user rate-limiti
-00039f10: 6e67 206f 7665 7272 6964 6573 2028 5052  ng overrides (PR
-00039f20: 2023 3232 3038 290a 2d20 2020 4164 6420   #2208).-   Add 
-00039f30: 636f 6e66 6967 206f 7074 696f 6e20 746f  config option to
-00039f40: 206c 696d 6974 206d 6178 696d 756d 206e   limit maximum n
-00039f50: 756d 6265 7220 6f66 2065 7665 6e74 7320  umber of events 
-00039f60: 7265 7175 6573 7465 6420 6279 2060 2f73  requested by `/s
-00039f70: 796e 6360 2061 6e64 2060 2f6d 6573 7361  ync` and `/messa
-00039f80: 6765 7360 2028 5052 2023 3232 3231 2920  ges` (PR #2221) 
-00039f90: 5468 616e 6b73 2074 6f20 4070 7361 6176  Thanks to @psaav
-00039fa0: 6564 7261 210a 0a43 6861 6e67 6573 3a0a  edra!..Changes:.
-00039fb0: 0a2d 2020 2056 6172 696f 7573 2073 6d61  .-   Various sma
-00039fc0: 6c6c 2070 6572 666f 726d 616e 6365 2066  ll performance f
-00039fd0: 6978 6573 2028 5052 2023 3232 3031 2c20  ixes (PR #2201, 
-00039fe0: 2332 3230 322c 2023 3232 3234 2c20 2332  #2202, #2224, #2
-00039ff0: 3232 362c 2023 3232 3237 2c20 2332 3232  226, #2227, #222
-0003a000: 382c 2023 3232 3239 290a 2d20 2020 5570  8, #2229).-   Up
-0003a010: 6461 7465 2075 7365 726e 616d 6520 6176  date username av
-0003a020: 6169 6c61 6269 6c69 7479 2063 6865 636b  ailability check
-0003a030: 6572 2041 5049 2028 5052 2023 3232 3039  er API (PR #2209
-0003a040: 2c20 2332 3231 3329 0a2d 2020 2057 6865  , #2213).-   Whe
-0003a050: 6e20 7075 7267 696e 672c 2064 6f6e 5c27  n purging, don\'
-0003a060: 7420 6465 2d64 656c 7461 2073 7461 7465  t de-delta state
-0003a070: 2067 726f 7570 7320 7765 5c27 7265 2061   groups we\'re a
-0003a080: 626f 7574 2074 6f20 6465 6c65 7465 2028  bout to delete (
-0003a090: 5052 2023 3232 3134 290a 2d20 2020 446f  PR #2214).-   Do
-0003a0a0: 6375 6d65 6e74 6174 696f 6e20 746f 2063  cumentation to c
-0003a0b0: 6865 636b 2073 796e 6170 7365 2076 6572  heck synapse ver
-0003a0c0: 7369 6f6e 2028 5052 2023 3232 3135 2920  sion (PR #2215) 
-0003a0d0: 5468 616e 6b73 2074 6f20 4068 616d 6265  Thanks to @hambe
-0003a0e0: 722d 6469 636b 210a 2d20 2020 4164 6420  r-dick!.-   Add 
-0003a0f0: 616e 2069 6e64 6578 2074 6f20 6576 656e  an index to even
-0003a100: 745c 5f73 6561 7263 6820 746f 2073 7065  t\_search to spe
-0003a110: 6564 2075 7020 7075 7267 6520 6869 7374  ed up purge hist
-0003a120: 6f72 7920 4150 4920 2850 5220 2332 3231  ory API (PR #221
-0003a130: 3829 0a0a 4275 6720 6669 7865 733a 0a0a  8)..Bug fixes:..
-0003a140: 2d20 2020 4669 7820 4150 4920 746f 2061  -   Fix API to a
-0003a150: 6c6c 6f77 2063 6c69 656e 7473 2074 6f20  llow clients to 
-0003a160: 7570 6c6f 6164 206f 6e65 2d74 696d 652d  upload one-time-
-0003a170: 6b65 7973 2077 6974 6820 6e65 7720 7369  keys with new si
-0003a180: 6773 2028 5052 2023 3232 3036 290a 0a43  gs (PR #2206)..C
-0003a190: 6861 6e67 6573 2069 6e20 7379 6e61 7073  hanges in synaps
-0003a1a0: 6520 7630 2e32 312e 302d 7263 3220 2832  e v0.21.0-rc2 (2
-0003a1b0: 3031 372d 3035 2d30 3829 0a3d 3d3d 3d3d  017-05-08).=====
-0003a1c0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003a1d0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003a1e0: 3d3d 3d3d 3d3d 0a0a 4368 616e 6765 733a  ======..Changes:
-0003a1f0: 0a0a 2d20 2020 416c 7761 7973 206d 6172  ..-   Always mar
-0003a200: 6b20 7265 6d6f 7465 7320 6173 2075 7020  k remotes as up 
-0003a210: 6966 2077 6520 7265 6365 6976 6520 6120  if we receive a 
-0003a220: 7369 676e 6564 2072 6571 7565 7374 2066  signed request f
-0003a230: 726f 6d20 7468 656d 2028 5052 2023 3231  rom them (PR #21
-0003a240: 3930 290a 0a42 7567 2066 6978 6573 3a0a  90)..Bug fixes:.
-0003a250: 0a2d 2020 2046 6978 2062 7567 2077 6865  .-   Fix bug whe
-0003a260: 7265 2075 7365 7273 2067 6f74 2070 7573  re users got pus
-0003a270: 6865 6420 666f 7220 726f 6f6d 7320 7468  hed for rooms th
-0003a280: 6579 2068 6164 206d 7574 6564 2028 5052  ey had muted (PR
-0003a290: 2023 3232 3030 290a 0a43 6861 6e67 6573   #2200)..Changes
-0003a2a0: 2069 6e20 7379 6e61 7073 6520 7630 2e32   in synapse v0.2
-0003a2b0: 312e 302d 7263 3120 2832 3031 372d 3035  1.0-rc1 (2017-05
-0003a2c0: 2d30 3829 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d  -08).===========
-0003a2d0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003a2e0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003a2f0: 0a0a 4665 6174 7572 6573 3a0a 0a2d 2020  ..Features:..-  
-0003a300: 2041 6464 2075 7365 726e 616d 6520 6176   Add username av
-0003a310: 6169 6c61 6269 6c69 7479 2063 6865 636b  ailability check
-0003a320: 6572 2041 5049 2028 5052 2023 3231 3833  er API (PR #2183
-0003a330: 290a 2d20 2020 4164 6420 7265 6164 206d  ).-   Add read m
-0003a340: 6172 6b65 7220 4150 4920 2850 5220 2332  arker API (PR #2
-0003a350: 3132 3029 0a0a 4368 616e 6765 733a 0a0a  120)..Changes:..
-0003a360: 2d20 2020 456e 6162 6c65 2067 7565 7374  -   Enable guest
-0003a370: 2061 6363 6573 7320 666f 7220 7468 6520   access for the 
-0003a380: 3370 6c2f 3370 6964 2041 5049 7320 2850  3pl/3pid APIs (P
-0003a390: 5220 2331 3938 3629 0a2d 2020 2041 6464  R #1986).-   Add
-0003a3a0: 2073 6574 7469 6e67 2074 6f20 7375 7070   setting to supp
-0003a3b0: 6f72 7420 5455 524e 2066 6f72 2067 7565  ort TURN for gue
-0003a3c0: 7374 7320 2850 5220 2332 3031 3129 0a2d  sts (PR #2011).-
-0003a3d0: 2020 2056 6172 696f 7573 2070 6572 666f     Various perfo
-0003a3e0: 726d 616e 6365 2069 6d70 726f 7665 6d65  rmance improveme
-0003a3f0: 6e74 7320 2850 5220 2332 3037 352c 2023  nts (PR #2075, #
-0003a400: 3230 3736 2c20 2332 3038 302c 2023 3230  2076, #2080, #20
-0003a410: 3833 2c20 2332 3130 382c 2023 3231 3538  83, #2108, #2158
-0003a420: 2c20 2332 3137 362c 2023 3231 3835 290a  , #2176, #2185).
-0003a430: 2d20 2020 4d61 6b65 2073 796e 6374 6c20  -   Make synctl 
-0003a440: 6120 6269 7420 6d6f 7265 2075 7365 7220  a bit more user 
-0003a450: 6672 6965 6e64 6c79 2028 5052 2023 3230  friendly (PR #20
-0003a460: 3738 2c20 2332 3132 3729 2054 6861 6e6b  78, #2127) Thank
-0003a470: 7320 4041 5077 6869 7465 6861 7421 0a2d  s @APwhitehat!.-
-0003a480: 2020 2052 6570 6c61 6365 2048 5454 5020     Replace HTTP 
-0003a490: 7265 706c 6963 6174 696f 6e20 7769 7468  replication with
-0003a4a0: 2054 4350 2072 6570 6c69 6361 7469 6f6e   TCP replication
-0003a4b0: 2028 5052 2023 3230 3832 2c20 2332 3039   (PR #2082, #209
-0003a4c0: 372c 2023 3230 3938 2c20 2332 3039 392c  7, #2098, #2099,
-0003a4d0: 2023 3231 3033 2c20 2332 3031 342c 2023   #2103, #2014, #
-0003a4e0: 3230 3136 2c20 2332 3131 352c 2023 3231  2016, #2115, #21
-0003a4f0: 3136 2c20 2332 3131 3729 0a2d 2020 2053  16, #2117).-   S
-0003a500: 7570 706f 7274 2061 7574 6865 6e74 6963  upport authentic
-0003a510: 6174 6564 2053 4d54 5020 2850 5220 2332  ated SMTP (PR #2
-0003a520: 3130 3229 2054 6861 6e6b 7320 4044 616e  102) Thanks @Dan
-0003a530: 6965 6c44 656e 7421 0a2d 2020 2041 6464  ielDent!.-   Add
-0003a540: 2061 2063 6f75 6e74 6572 206d 6574 7269   a counter metri
-0003a550: 6320 666f 7220 7375 6363 6573 7366 756c  c for successful
-0003a560: 6c79 2d73 656e 7420 7472 616e 7361 6374  ly-sent transact
-0003a570: 696f 6e73 2028 5052 2023 3231 3231 290a  ions (PR #2121).
-0003a580: 2d20 2020 5072 6f70 6167 6174 6520 6572  -   Propagate er
-0003a590: 726f 7273 2073 656e 7369 626c 7920 6672  rors sensibly fr
-0003a5a0: 6f6d 2070 726f 7869 6564 2049 5320 7265  om proxied IS re
-0003a5b0: 7175 6573 7473 2028 5052 2023 3231 3437  quests (PR #2147
-0003a5c0: 290a 2d20 2020 4164 6420 6d6f 7265 2067  ).-   Add more g
-0003a5d0: 7261 6e75 6c61 7220 6576 656e 7420 7365  ranular event se
-0003a5e0: 6e64 206d 6574 7269 6373 2028 5052 2023  nd metrics (PR #
-0003a5f0: 3231 3738 290a 0a42 7567 2066 6978 6573  2178)..Bug fixes
-0003a600: 3a0a 0a2d 2020 2046 6978 206e 756b 652d  :..-   Fix nuke-
-0003a610: 726f 6f6d 2073 6372 6970 7420 746f 2077  room script to w
-0003a620: 6f72 6b20 7769 7468 2063 7572 7265 6e74  ork with current
-0003a630: 2073 6368 656d 6120 2850 5220 2331 3932   schema (PR #192
-0003a640: 3729 2054 6861 6e6b 7320 407a 7563 6b73  7) Thanks @zucks
-0003a650: 6368 7765 7264 7421 0a2d 2020 2046 6978  chwerdt!.-   Fix
-0003a660: 2064 6220 706f 7274 2073 6372 6970 7420   db port script 
-0003a670: 746f 206e 6f74 2061 7373 756d 6520 706f  to not assume po
-0003a680: 7374 6772 6573 2074 6162 6c65 7320 6172  stgres tables ar
-0003a690: 6520 696e 2074 6865 2070 7562 6c69 6320  e in the public 
-0003a6a0: 7363 6865 6d61 2028 5052 2023 3230 3234  schema (PR #2024
-0003a6b0: 2920 5468 616e 6b73 2040 6a65 7272 796b  ) Thanks @jerryk
-0003a6c0: 616e 210a 2d20 2020 4669 7820 6765 7474  an!.-   Fix gett
-0003a6d0: 696e 6720 6c61 7465 7374 2064 6576 6963  ing latest devic
-0003a6e0: 6520 4950 2066 6f72 2075 7365 7220 7769  e IP for user wi
-0003a6f0: 7468 206e 6f20 6465 7669 6365 7320 2850  th no devices (P
-0003a700: 5220 2332 3131 3829 0a2d 2020 2046 6978  R #2118).-   Fix
-0003a710: 2072 656a 6563 7469 6f6e 206f 6620 696e   rejection of in
-0003a720: 7669 7465 7320 746f 2075 6e72 6561 6368  vites to unreach
-0003a730: 6162 6c65 2073 6572 7665 7273 2028 5052  able servers (PR
-0003a740: 2023 3231 3435 290a 2d20 2020 4669 7820   #2145).-   Fix 
-0003a750: 636f 6465 2066 6f72 2072 6570 6f72 7469  code for reporti
-0003a760: 6e67 206f 6c64 2076 6572 6966 7920 6b65  ng old verify ke
-0003a770: 7973 2069 6e20 7379 6e61 7073 6520 2850  ys in synapse (P
-0003a780: 5220 2332 3135 3629 0a2d 2020 2046 6978  R #2156).-   Fix
-0003a790: 2069 6e76 6974 6520 7374 6174 6520 746f   invite state to
-0003a7a0: 2061 6c77 6179 7320 696e 636c 7564 6520   always include 
-0003a7b0: 616c 6c20 6576 656e 7473 2028 5052 2023  all events (PR #
-0003a7c0: 3231 3633 290a 2d20 2020 4669 7820 6275  2163).-   Fix bu
-0003a7d0: 6720 7768 6572 6520 7379 6e61 7073 6520  g where synapse 
-0003a7e0: 776f 756c 6420 616c 7761 7973 2066 6574  would always fet
-0003a7f0: 6368 2073 7461 7465 2066 6f72 2061 6e79  ch state for any
-0003a800: 206d 6973 7369 6e67 2065 7665 6e74 2028   missing event (
-0003a810: 5052 2023 3231 3730 290a 2d20 2020 4669  PR #2170).-   Fi
-0003a820: 7820 6120 6c65 616b 2077 6974 6820 7469  x a leak with ti
-0003a830: 6d65 6420 6f75 7420 4854 5450 2063 6f6e  med out HTTP con
-0003a840: 6e65 6374 696f 6e73 2028 5052 2023 3231  nections (PR #21
-0003a850: 3830 290a 2d20 2020 4669 7820 6275 6720  80).-   Fix bug 
-0003a860: 7768 6572 6520 7765 2064 6964 6e5c 2774  where we didn\'t
-0003a870: 2074 696d 6520 6f75 7420 4854 5450 2072   time out HTTP r
-0003a880: 6571 7565 7374 7320 746f 2041 5365 7320  equests to ASes 
-0003a890: 2850 5220 2332 3139 3229 0a0a 446f 6373  (PR #2192)..Docs
-0003a8a0: 3a0a 0a2d 2020 2043 6c61 7269 6679 2064  :..-   Clarify d
-0003a8b0: 6f63 2066 6f72 2053 514c 6974 6520 746f  oc for SQLite to
-0003a8c0: 2050 6f73 7467 7265 5351 4c20 706f 7274   PostgreSQL port
-0003a8d0: 2028 5052 2023 3139 3631 2920 5468 616e   (PR #1961) Than
-0003a8e0: 6b73 2040 6265 6e68 796c 6175 210a 2d20  ks @benhylau!.- 
-0003a8f0: 2020 4669 7820 7479 706f 2069 6e20 7379    Fix typo in sy
-0003a900: 6e63 746c 2068 656c 7020 2850 5220 2332  nctl help (PR #2
-0003a910: 3130 3729 2054 6861 6e6b 7320 4048 6172  107) Thanks @Har
-0003a920: 4861 724c 696e 6b73 210a 2d20 2020 6077  HarLinks!.-   `w
-0003a930: 6562 5f63 6c69 656e 745f 6c6f 6361 7469  eb_client_locati
-0003a940: 6f6e 6020 646f 6375 6d65 6e74 6174 696f  on` documentatio
-0003a950: 6e20 6669 7820 2850 5220 2332 3133 3129  n fix (PR #2131)
-0003a960: 2054 6861 6e6b 7320 406d 6174 7468 6577   Thanks @matthew
-0003a970: 6a77 6f6c 6666 210a 2d20 2020 5570 6461  jwolff!.-   Upda
-0003a980: 7465 2052 4541 444d 452e 7273 7420 7769  te README.rst wi
-0003a990: 7468 2046 7265 6542 5344 2063 6861 6e67  th FreeBSD chang
-0003a9a0: 6573 2028 5052 2023 3231 3332 2920 5468  es (PR #2132) Th
-0003a9b0: 616e 6b73 2040 6665 6c64 210a 2d20 2020  anks @feld!.-   
-0003a9c0: 436c 6172 6966 7920 7365 7474 696e 6720  Clarify setting 
-0003a9d0: 7570 206d 6574 7269 6373 2028 5052 2023  up metrics (PR #
-0003a9e0: 3231 3439 2920 5468 616e 6b73 2040 656e  2149) Thanks @en
-0003a9f0: 636b 7321 0a0a 4368 616e 6765 7320 696e  cks!..Changes in
-0003aa00: 2073 796e 6170 7365 2076 302e 3230 2e30   synapse v0.20.0
-0003aa10: 2028 3230 3137 2d30 342d 3131 290a 3d3d   (2017-04-11).==
-0003aa20: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003aa30: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003aa40: 3d3d 3d3d 3d0a 0a42 7567 2066 6978 6573  =====..Bug fixes
-0003aa50: 3a0a 0a2d 2020 2046 6978 206a 6f69 6e69  :..-   Fix joini
-0003aa60: 6e67 2072 6f6f 6d73 206f 7665 7220 6665  ng rooms over fe
-0003aa70: 6465 7261 7469 6f6e 2077 6865 7265 206e  deration where n
-0003aa80: 6f74 2061 6c6c 2073 6572 7665 7273 2069  ot all servers i
-0003aa90: 6e20 7468 6520 726f 6f6d 2073 6177 2074  n the room saw t
-0003aaa0: 6865 206e 6577 2073 6572 7665 7220 6861  he new server ha
-0003aab0: 6420 6a6f 696e 6564 2028 5052 2023 3230  d joined (PR #20
-0003aac0: 3934 290a 0a43 6861 6e67 6573 2069 6e20  94)..Changes in 
-0003aad0: 7379 6e61 7073 6520 7630 2e32 302e 302d  synapse v0.20.0-
-0003aae0: 7263 3120 2832 3031 372d 3033 2d33 3029  rc1 (2017-03-30)
-0003aaf0: 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  .===============
-0003ab00: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003ab10: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 4665  ============..Fe
-0003ab20: 6174 7572 6573 3a0a 0a2d 2020 2041 6464  atures:..-   Add
-0003ab30: 2064 656c 6574 655c 5f64 6576 6963 6573   delete\_devices
-0003ab40: 2041 5049 2028 5052 2023 3139 3933 290a   API (PR #1993).
-0003ab50: 2d20 2020 4164 6420 7068 6f6e 6520 6e75  -   Add phone nu
-0003ab60: 6d62 6572 2072 6567 6973 7472 6174 696f  mber registratio
-0003ab70: 6e2f 6c6f 6769 6e20 7375 7070 6f72 7420  n/login support 
-0003ab80: 2850 5220 2331 3939 342c 2023 3230 3535  (PR #1994, #2055
-0003ab90: 290a 0a43 6861 6e67 6573 3a0a 0a2d 2020  )..Changes:..-  
-0003aba0: 2055 7365 204a 534f 4e53 6368 656d 6120   Use JSONSchema 
-0003abb0: 666f 7220 7661 6c69 6461 7469 6f6e 206f  for validation o
-0003abc0: 6620 6669 6c74 6572 732e 2054 6861 6e6b  f filters. Thank
-0003abd0: 7320 4070 696b 2120 2850 5220 2331 3738  s @pik! (PR #178
-0003abe0: 3329 0a2d 2020 2052 6572 6561 6420 6c6f  3).-   Reread lo
-0003abf0: 6720 636f 6e66 6967 206f 6e20 5349 4748  g config on SIGH
-0003ac00: 5550 2028 5052 2023 3139 3832 290a 2d20  UP (PR #1982).- 
-0003ac10: 2020 5370 6565 6420 7570 2070 7562 6c69    Speed up publi
-0003ac20: 6320 726f 6f6d 206c 6973 7420 2850 5220  c room list (PR 
-0003ac30: 2331 3938 3929 0a2d 2020 2041 6464 2068  #1989).-   Add h
-0003ac40: 656c 7066 756c 2074 6578 7473 2074 6f20  elpful texts to 
-0003ac50: 6c6f 6767 6572 2063 6f6e 6669 6720 6f70  logger config op
-0003ac60: 7469 6f6e 7320 2850 5220 2331 3939 3029  tions (PR #1990)
-0003ac70: 0a2d 2020 204d 696e 6f72 2060 2f73 796e  .-   Minor `/syn
-0003ac80: 6360 2070 6572 666f 726d 616e 6365 2069  c` performance i
-0003ac90: 6d70 726f 7665 6d65 6e74 732e 2028 5052  mprovements. (PR
-0003aca0: 2023 3230 3032 2c20 2332 3031 332c 2023   #2002, #2013, #
-0003acb0: 3230 3232 290a 2d20 2020 4164 6420 736f  2022).-   Add so
-0003acc0: 6d65 2064 6562 7567 2074 6f20 6865 6c70  me debug to help
-0003acd0: 2064 6961 676e 6f73 6520 7765 6972 6420   diagnose weird 
-0003ace0: 6665 6465 7261 7469 6f6e 2069 7373 7565  federation issue
-0003acf0: 2028 5052 2023 3230 3335 290a 2d20 2020   (PR #2035).-   
-0003ad00: 436f 7272 6563 746c 7920 6c69 6d69 7420  Correctly limit 
-0003ad10: 7265 7472 6965 7320 666f 7220 616c 6c20  retries for all 
-0003ad20: 6665 6465 7261 7469 6f6e 2072 6571 7565  federation reque
-0003ad30: 7374 7320 2850 5220 2332 3035 302c 2023  sts (PR #2050, #
-0003ad40: 3230 3631 290a 2d20 2020 446f 6e5c 2774  2061).-   Don\'t
-0003ad50: 206c 6f63 6b20 7461 626c 6520 7768 656e   lock table when
-0003ad60: 2070 6572 7369 7374 696e 6720 6e65 7720   persisting new 
-0003ad70: 6f6e 6520 7469 6d65 206b 6579 7320 2850  one time keys (P
-0003ad80: 5220 2332 3035 3329 0a2d 2020 2052 6564  R #2053).-   Red
-0003ad90: 7563 6520 736f 6d65 2043 5055 2077 6f72  uce some CPU wor
-0003ada0: 6b20 6f6e 2044 4220 7468 7265 6164 7320  k on DB threads 
-0003adb0: 2850 5220 2332 3035 3429 0a2d 2020 2043  (PR #2054).-   C
-0003adc0: 6163 6865 2068 6f73 7473 2069 6e20 726f  ache hosts in ro
-0003add0: 6f6d 2028 5052 2023 3230 3630 290a 2d20  om (PR #2060).- 
-0003ade0: 2020 4261 7463 6820 7365 6e64 696e 6720    Batch sending 
-0003adf0: 6f66 2064 6576 6963 6520 6c69 7374 2070  of device list p
-0003ae00: 6f6b 6573 2028 5052 2023 3230 3633 290a  okes (PR #2063).
-0003ae10: 2d20 2020 5370 6565 6420 7570 2070 6572  -   Speed up per
-0003ae20: 7369 7374 2065 7665 6e74 2070 6174 6820  sist event path 
-0003ae30: 696e 2063 6572 7461 696e 2065 6467 6520  in certain edge 
-0003ae40: 6361 7365 7320 2850 5220 2332 3037 3029  cases (PR #2070)
-0003ae50: 0a0a 4275 6720 6669 7865 733a 0a0a 2d20  ..Bug fixes:..- 
-0003ae60: 2020 4669 7820 6275 6720 7768 6572 6520    Fix bug where 
-0003ae70: 6375 7272 656e 745c 5f73 7461 7465 5c5f  current\_state\_
-0003ae80: 6576 656e 7473 2072 656e 616d 6564 2074  events renamed t
-0003ae90: 6f20 6375 7272 656e 745c 5f73 7461 7465  o current\_state
-0003aea0: 5c5f 6964 7320 2850 5220 2331 3834 3929  \_ids (PR #1849)
-0003aeb0: 0a2d 2020 2046 6978 2072 6f75 7469 6e67  .-   Fix routing
-0003aec0: 206c 6f6f 7020 7768 656e 2066 6574 6368   loop when fetch
-0003aed0: 696e 6720 7265 6d6f 7465 206d 6564 6961  ing remote media
-0003aee0: 2028 5052 2023 3139 3932 290a 2d20 2020   (PR #1992).-   
-0003aef0: 4669 7820 6375 7272 656e 745c 5f73 7461  Fix current\_sta
-0003af00: 7465 5c5f 6576 656e 7473 2074 6162 6c65  te\_events table
-0003af10: 2074 6f20 6e6f 7420 6c69 6520 2850 5220   to not lie (PR 
-0003af20: 2331 3939 3629 0a2d 2020 2046 6978 2043  #1996).-   Fix C
-0003af30: 4153 206c 6f67 696e 2074 6f20 6861 6e64  AS login to hand
-0003af40: 6c65 2050 6172 7469 616c 446f 776e 6c6f  le PartialDownlo
-0003af50: 6164 4572 726f 7220 2850 5220 2331 3939  adError (PR #199
-0003af60: 3729 0a2d 2020 2046 6978 2061 7373 6572  7).-   Fix asser
-0003af70: 7469 6f6e 2074 6f20 7374 6f70 2074 7261  tion to stop tra
-0003af80: 6e73 6163 7469 6f6e 2071 7565 7565 2067  nsaction queue g
-0003af90: 6574 7469 6e67 2077 6564 6765 6420 2850  etting wedged (P
-0003afa0: 5220 2332 3031 3029 0a2d 2020 2046 6978  R #2010).-   Fix
-0003afb0: 2070 7265 7365 6e63 6520 746f 2066 616c   presence to fal
-0003afc0: 6c62 6163 6b20 746f 206c 6173 745c 5f61  lback to last\_a
-0003afd0: 6374 6976 655c 5f74 7320 6966 2069 7420  ctive\_ts if it 
-0003afe0: 6265 6174 7320 7468 6520 6c61 7374 2073  beats the last s
-0003aff0: 796e 6320 7469 6d65 2e20 5468 616e 6b73  ync time. Thanks
-0003b000: 2040 4861 6c66 2d53 686f 7421 2028 5052   @Half-Shot! (PR
-0003b010: 2023 3230 3134 290a 2d20 2020 4669 7820   #2014).-   Fix 
-0003b020: 6275 6720 7768 656e 2066 6564 6572 6174  bug when federat
-0003b030: 696f 6e20 7265 6365 6976 6564 2061 2050  ion received a P
-0003b040: 4455 2077 6869 6c65 2061 2072 6f6f 6d20  DU while a room 
-0003b050: 6a6f 696e 2069 7320 696e 2070 726f 6772  join is in progr
-0003b060: 6573 7320 2850 5220 2332 3031 3629 0a2d  ess (PR #2016).-
-0003b070: 2020 2046 6978 2072 6573 6574 7469 6e67     Fix resetting
-0003b080: 2073 7461 7465 206f 6e20 7265 6a65 6374   state on reject
-0003b090: 6564 2065 7665 6e74 7320 2850 5220 2332  ed events (PR #2
-0003b0a0: 3032 3529 0a2d 2020 2046 6978 2069 6e73  025).-   Fix ins
-0003b0b0: 7461 6c6c 6174 696f 6e20 6973 7375 6573  tallation issues
-0003b0c0: 2069 6e20 7265 6164 6d65 2e20 5468 616e   in readme. Than
-0003b0d0: 6b73 2040 7269 6363 6f33 3836 2028 5052  ks @ricco386 (PR
-0003b0e0: 2023 3230 3337 290a 2d20 2020 4669 7820   #2037).-   Fix 
-0003b0f0: 6361 6368 696e 6720 6f66 2072 656d 6f74  caching of remot
-0003b100: 6520 7365 7276 6572 735c 2720 7369 676e  e servers\' sign
-0003b110: 6174 7572 6520 6b65 7973 2028 5052 2023  ature keys (PR #
-0003b120: 3230 3432 290a 2d20 2020 4669 7820 736f  2042).-   Fix so
-0003b130: 6d65 206c 6561 6b69 6e67 206c 6f67 2063  me leaking log c
-0003b140: 6f6e 7465 7874 2028 5052 2023 3230 3438  ontext (PR #2048
-0003b150: 2c20 2332 3034 392c 2023 3230 3537 2c20  , #2049, #2057, 
-0003b160: 2332 3035 3829 0a2d 2020 2046 6978 2072  #2058).-   Fix r
-0003b170: 656a 6563 7469 6f6e 206f 6620 696e 7669  ejection of invi
-0003b180: 7465 7320 6e6f 7420 7265 6163 6869 6e67  tes not reaching
-0003b190: 2073 796e 6320 2850 5220 2332 3035 3629   sync (PR #2056)
-0003b1a0: 0a0a 4368 616e 6765 7320 696e 2073 796e  ..Changes in syn
-0003b1b0: 6170 7365 2076 302e 3139 2e33 2028 3230  apse v0.19.3 (20
-0003b1c0: 3137 2d30 332d 3230 290a 3d3d 3d3d 3d3d  17-03-20).======
-0003b1d0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003b1e0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003b1f0: 3d0a 0a4e 6f20 6368 616e 6765 7320 7369  =..No changes si
-0003b200: 6e63 6520 7630 2e31 392e 332d 7263 320a  nce v0.19.3-rc2.
-0003b210: 0a43 6861 6e67 6573 2069 6e20 7379 6e61  .Changes in syna
-0003b220: 7073 6520 7630 2e31 392e 332d 7263 3220  pse v0.19.3-rc2 
-0003b230: 2832 3031 372d 3033 2d31 3329 0a3d 3d3d  (2017-03-13).===
-0003b240: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003b250: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003b260: 3d3d 3d3d 3d3d 3d3d 0a0a 4275 6720 6669  ========..Bug fi
-0003b270: 7865 733a 0a0a 2d20 2020 4669 7820 6275  xes:..-   Fix bu
-0003b280: 6720 696e 2068 616e 646c 696e 6720 6f66  g in handling of
-0003b290: 2069 6e63 6f6d 696e 6720 6465 7669 6365   incoming device
-0003b2a0: 206c 6973 7420 7570 6461 7465 7320 6f76   list updates ov
-0003b2b0: 6572 2066 6564 6572 6174 696f 6e2e 0a0a  er federation...
-0003b2c0: 4368 616e 6765 7320 696e 2073 796e 6170  Changes in synap
-0003b2d0: 7365 2076 302e 3139 2e33 2d72 6331 2028  se v0.19.3-rc1 (
-0003b2e0: 3230 3137 2d30 332d 3038 290a 3d3d 3d3d  2017-03-08).====
-0003b2f0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003b300: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003b310: 3d3d 3d3d 3d3d 3d0a 0a46 6561 7475 7265  =======..Feature
-0003b320: 733a 0a0a 2d20 2020 4164 6420 736f 6d65  s:..-   Add some
-0003b330: 2061 646d 696e 6973 7472 6174 696f 6e20   administration 
-0003b340: 6675 6e63 7469 6f6e 616c 6974 6965 732e  functionalities.
-0003b350: 2054 6861 6e6b 7320 746f 206d 6f72 7465   Thanks to morte
-0003b360: 7a61 2d61 7261 6279 2120 2850 5220 2331  za-araby! (PR #1
-0003b370: 3738 3429 0a0a 4368 616e 6765 733a 0a0a  784)..Changes:..
-0003b380: 2d20 2020 5265 6475 6365 2064 6174 6162  -   Reduce datab
-0003b390: 6173 6520 7461 626c 6520 7369 7a65 7320  ase table sizes 
-0003b3a0: 2850 5220 2331 3837 332c 2023 3139 3136  (PR #1873, #1916
-0003b3b0: 2c20 2331 3932 332c 2023 3139 3633 290a  , #1923, #1963).
-0003b3c0: 2d20 2020 5570 6461 7465 2063 6f6e 7472  -   Update contr
-0003b3d0: 6962 2f20 746f 206e 6f74 2075 7365 2073  ib/ to not use s
-0003b3e0: 7975 7469 6c2e 2054 6861 6e6b 7320 746f  yutil. Thanks to
-0003b3f0: 2061 6e64 7265 7773 6861 6475 7261 2120   andrewshadura! 
-0003b400: 2850 5220 2331 3930 3729 0a2d 2020 2044  (PR #1907).-   D
-0003b410: 6f6e 5c27 7420 6665 7463 6820 6375 7272  on\'t fetch curr
-0003b420: 656e 7420 7374 6174 6520 7768 656e 2073  ent state when s
-0003b430: 656e 6469 6e67 2061 6e20 6576 656e 7420  ending an event 
-0003b440: 696e 2063 6f6d 6d6f 6e20 6361 7365 2028  in common case (
-0003b450: 5052 2023 3139 3535 290a 0a42 7567 2066  PR #1955)..Bug f
-0003b460: 6978 6573 3a0a 0a2d 2020 2046 6978 2073  ixes:..-   Fix s
-0003b470: 796e 6170 7365 5c5f 706f 7274 5c5f 6462  ynapse\_port\_db
-0003b480: 2066 6169 6c75 7265 2e20 5468 616e 6b73   failure. Thanks
-0003b490: 2074 6f20 506e 6575 6d61 7469 6361 7421   to Pneumaticat!
-0003b4a0: 2028 5052 2023 3139 3034 290a 2d20 2020   (PR #1904).-   
-0003b4b0: 4669 7820 6361 6368 696e 6720 746f 206e  Fix caching to n
-0003b4c0: 6f74 2063 6163 6865 2065 7272 6f72 2072  ot cache error r
-0003b4d0: 6573 706f 6e73 6573 2028 5052 2023 3139  esponses (PR #19
-0003b4e0: 3133 290a 2d20 2020 4669 7820 4150 4973  13).-   Fix APIs
-0003b4f0: 2074 6f20 6d61 6b65 206b 6963 6b20 2620   to make kick & 
-0003b500: 6261 6e20 7265 6173 6f6e 7320 776f 726b  ban reasons work
-0003b510: 2028 5052 2023 3139 3137 290a 2d20 2020   (PR #1917).-   
-0003b520: 4669 7820 6275 6773 2069 6e20 7468 6520  Fix bugs in the 
-0003b530: 2f6b 6579 732f 6368 616e 6765 7320 6170  /keys/changes ap
-0003b540: 6920 2850 5220 2331 3932 3129 0a2d 2020  i (PR #1921).-  
-0003b550: 2046 6978 2062 7567 2077 6865 7265 2075   Fix bug where u
-0003b560: 7365 7273 2063 6f75 6c64 6e5c 2774 2066  sers couldn\'t f
-0003b570: 6f72 6765 7420 726f 6f6d 7320 7468 6579  orget rooms they
-0003b580: 2077 6572 6520 6261 6e6e 6564 2066 726f   were banned fro
-0003b590: 6d20 2850 5220 2331 3932 3229 0a2d 2020  m (PR #1922).-  
-0003b5a0: 2046 6978 2069 7373 7565 2077 6974 6820   Fix issue with 
-0003b5b0: 6c6f 6e67 206c 616e 6775 6167 6520 7661  long language va
-0003b5c0: 6c75 6573 2069 6e20 7075 7368 6572 7320  lues in pushers 
-0003b5d0: 4150 4920 2850 5220 2331 3932 3529 0a2d  API (PR #1925).-
-0003b5e0: 2020 2046 6978 2061 2072 6163 6520 696e     Fix a race in
-0003b5f0: 2074 7261 6e73 6163 7469 6f6e 2071 7565   transaction que
-0003b600: 7565 2028 5052 2023 3139 3330 290a 2d20  ue (PR #1930).- 
-0003b610: 2020 4669 7820 6479 6e61 6d69 6320 7468    Fix dynamic th
-0003b620: 756d 626e 6169 6c69 6e67 2074 6f20 7072  umbnailing to pr
-0003b630: 6573 6572 7665 2061 7370 6563 7420 7261  eserve aspect ra
-0003b640: 7469 6f2e 2054 6861 6e6b 7320 746f 206a  tio. Thanks to j
-0003b650: 6b6f 6c6f 2120 2850 5220 2331 3934 3529  kolo! (PR #1945)
-0003b660: 0a2d 2020 2046 6978 2064 6576 6963 6520  .-   Fix device 
-0003b670: 6c69 7374 2075 7064 6174 6520 746f 206e  list update to n
-0003b680: 6f74 2063 6f6e 7374 616e 746c 7920 7265  ot constantly re
-0003b690: 7379 6e63 2028 5052 2023 3139 3634 290a  sync (PR #1964).
-0003b6a0: 2d20 2020 4669 7820 706f 7465 6e74 6961  -   Fix potentia
-0003b6b0: 6c20 666f 7220 6875 6765 206d 656d 6f72  l for huge memor
-0003b6c0: 7920 7573 6167 6520 7768 656e 2067 6574  y usage when get
-0003b6d0: 7469 6e67 2064 6576 6963 6520 7468 6174  ting device that
-0003b6e0: 2068 6176 6520 6368 616e 6765 6420 2850   have changed (P
-0003b6f0: 5220 2331 3936 3929 0a0a 4368 616e 6765  R #1969)..Change
-0003b700: 7320 696e 2073 796e 6170 7365 2076 302e  s in synapse v0.
-0003b710: 3139 2e32 2028 3230 3137 2d30 322d 3230  19.2 (2017-02-20
-0003b720: 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ).==============
-0003b730: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003b740: 3d3d 3d3d 3d3d 3d3d 3d0a 0a2d 2020 2046  =========..-   F
-0003b750: 6978 2062 7567 2077 6974 6820 6576 656e  ix bug with even
-0003b760: 7420 7669 7369 6269 6c69 7479 2063 6865  t visibility che
-0003b770: 636b 2069 6e20 2f63 6f6e 7465 7874 2f20  ck in /context/ 
-0003b780: 4150 492e 2054 6861 6e6b 7320 746f 2054  API. Thanks to T
-0003b790: 6f6b 6f64 6f6d 6f20 666f 7220 706f 696e  okodomo for poin
-0003b7a0: 7469 6e67 2069 7420 6f75 7421 2028 5052  ting it out! (PR
-0003b7b0: 2023 3139 3239 290a 0a43 6861 6e67 6573   #1929)..Changes
-0003b7c0: 2069 6e20 7379 6e61 7073 6520 7630 2e31   in synapse v0.1
-0003b7d0: 392e 3120 2832 3031 372d 3032 2d30 3929  9.1 (2017-02-09)
-0003b7e0: 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  .===============
-0003b7f0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003b800: 3d3d 3d3d 3d3d 3d3d 0a0a 2d20 2020 4669  ========..-   Fi
-0003b810: 7820 6275 6720 7768 6572 6520 7374 6174  x bug where stat
-0003b820: 6520 7761 7320 696e 636f 7272 6563 746c  e was incorrectl
-0003b830: 7920 7265 7365 7420 696e 2061 2072 6f6f  y reset in a roo
-0003b840: 6d20 7768 656e 2073 796e 6170 7365 2072  m when synapse r
-0003b850: 6563 6569 7665 6420 616e 2065 7665 6e74  eceived an event
-0003b860: 206f 7665 7220 6665 6465 7261 7469 6f6e   over federation
-0003b870: 2074 6861 7420 6469 6420 6e6f 7420 7061   that did not pa
-0003b880: 7373 2061 7574 6820 6368 6563 6b73 2028  ss auth checks (
-0003b890: 5052 2023 3138 3932 290a 0a43 6861 6e67  PR #1892)..Chang
-0003b8a0: 6573 2069 6e20 7379 6e61 7073 6520 7630  es in synapse v0
-0003b8b0: 2e31 392e 3020 2832 3031 372d 3032 2d30  .19.0 (2017-02-0
-0003b8c0: 3429 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  4).=============
-0003b8d0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003b8e0: 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 4e6f 2063  ==========..No c
-0003b8f0: 6861 6e67 6573 2073 696e 6365 2052 4320  hanges since RC 
-0003b900: 342e 0a0a 4368 616e 6765 7320 696e 2073  4...Changes in s
-0003b910: 796e 6170 7365 2076 302e 3139 2e30 2d72  ynapse v0.19.0-r
-0003b920: 6334 2028 3230 3137 2d30 322d 3032 290a  c4 (2017-02-02).
+00036160: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a  ==============..
+00036170: 4368 616e 6765 733a 0a0a 2d20 2020 5570  Changes:..-   Up
+00036180: 6461 7465 2063 616e 6f6e 6963 616c 6a73  date canonicaljs
+00036190: 6f6e 2064 6570 656e 6465 6e63 7920 285c  on dependency (\
+000361a0: 2333 3039 3529 0a0a 4368 616e 6765 7320  #3095)..Changes 
+000361b0: 696e 2073 796e 6170 7365 2076 302e 3237  in synapse v0.27
+000361c0: 2e33 2028 3230 3138 2d30 342d 3131 290a  .3 (2018-04-11).
+000361d0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000361e0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000361f0: 3d3d 3d3d 3d3d 0a0a 4275 6720 6669 7865  ======..Bug fixe
+00036200: 733a 0a0a 2d20 2020 5552 4c20 7175 6f74  s:..-   URL quot
+00036210: 6520 7061 7468 2073 6567 6d65 6e74 7320  e path segments 
+00036220: 6f76 6572 2066 6564 6572 6174 696f 6e20  over federation 
+00036230: 285c 2333 3038 3229 0a0a 4368 616e 6765  (\#3082)..Change
+00036240: 7320 696e 2073 796e 6170 7365 2076 302e  s in synapse v0.
+00036250: 3237 2e33 2d72 6332 2028 3230 3138 2d30  27.3-rc2 (2018-0
+00036260: 342d 3039 290a 3d3d 3d3d 3d3d 3d3d 3d3d  4-09).==========
+00036270: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00036280: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00036290: 3d0a 0a76 302e 3237 2e33 2d72 6331 2075  =..v0.27.3-rc1 u
+000362a0: 7365 6420 6120 7374 616c 6520 7665 7273  sed a stale vers
+000362b0: 696f 6e20 6f66 2074 6865 2064 6576 656c  ion of the devel
+000362c0: 6f70 2062 7261 6e63 6820 736f 2074 6865  op branch so the
+000362d0: 2063 6861 6e67 656c 6f67 206f 7665 7273   changelog overs
+000362e0: 7461 7465 7320 7468 6520 6675 6e63 7469  tates the functi
+000362f0: 6f6e 616c 6974 792e 2076 302e 3237 2e33  onality. v0.27.3
+00036300: 2d72 6332 2069 7320 7570 2074 6f20 6461  -rc2 is up to da
+00036310: 7465 2c20 7263 3120 7368 6f75 6c64 2062  te, rc1 should b
+00036320: 6520 6967 6e6f 7265 642e 0a0a 4368 616e  e ignored...Chan
+00036330: 6765 7320 696e 2073 796e 6170 7365 2076  ges in synapse v
+00036340: 302e 3237 2e33 2d72 6331 2028 3230 3138  0.27.3-rc1 (2018
+00036350: 2d30 342d 3039 290a 3d3d 3d3d 3d3d 3d3d  -04-09).========
+00036360: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00036370: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00036380: 3d3d 3d0a 0a4e 6f74 6162 6c65 2063 6861  ===..Notable cha
+00036390: 6e67 6573 2069 6e63 6c75 6465 2041 5049  nges include API
+000363a0: 2073 7570 706f 7274 2066 6f72 206a 6f69   support for joi
+000363b0: 6e61 6269 6c69 7479 206f 6620 6772 6f75  nability of grou
+000363c0: 7073 2e20 416c 736f 206e 6577 206d 6574  ps. Also new met
+000363d0: 7269 6373 2061 6e64 2070 686f 6e65 2068  rics and phone h
+000363e0: 6f6d 6520 7374 6174 732e 2050 686f 6e65  ome stats. Phone
+000363f0: 2068 6f6d 6520 7374 6174 7320 696e 636c   home stats incl
+00036400: 7564 6520 6265 7474 6572 2076 6973 6962  ude better visib
+00036410: 696c 6974 7920 6f66 2073 7973 7465 6d20  ility of system 
+00036420: 7573 6167 6520 736f 2077 6520 6361 6e20  usage so we can 
+00036430: 7477 6561 6b20 7379 6e70 6173 6520 746f  tweak synpase to
+00036440: 2077 6f72 6b20 6265 7474 6572 2066 6f72   work better for
+00036450: 2061 6c6c 2075 7365 7273 2072 6174 6865   all users rathe
+00036460: 7220 7468 616e 206f 7572 206f 776e 2065  r than our own e
+00036470: 7870 6572 6965 6e63 6520 7769 7468 206d  xperience with m
+00036480: 6174 7269 782e 6f72 672e 2041 6c73 6f2c  atrix.org. Also,
+00036490: 2072 6563 6f72 6469 6e67 205c 2772 3330   recording \'r30
+000364a0: 5c27 2073 7461 7420 7768 6963 6820 6973  \' stat which is
+000364b0: 2074 6865 206d 6561 7375 7265 2077 6520   the measure we 
+000364c0: 7573 6520 746f 2074 7261 636b 206f 7665  use to track ove
+000364d0: 7261 6c20 6772 6f77 7468 206f 6620 7468  ral growth of th
+000364e0: 6520 4d61 7472 6978 2065 636f 7379 7374  e Matrix ecosyst
+000364f0: 656d 2e20 4974 2069 7320 6465 6669 6e65  em. It is define
+00036500: 6420 6173 3a2d 0a0a 436f 756e 7473 2074  d as:-..Counts t
+00036510: 6865 206e 756d 6265 7220 6f66 206e 6174  he number of nat
+00036520: 6976 6520 3330 2064 6179 2072 6574 6169  ive 30 day retai
+00036530: 6e65 6420 7573 6572 732c 2064 6566 696e  ned users, defin
+00036540: 6564 2061 733a 2d20 5c2a 2055 7365 7273  ed as:- \* Users
+00036550: 2077 686f 2068 6176 6520 6372 6561 7465   who have create
+00036560: 6420 7468 6569 7220 6163 636f 756e 7473  d their accounts
+00036570: 206d 6f72 6520 7468 616e 2033 3020 6461   more than 30 da
+00036580: 7973 0a0a 3a20 2020 2d20 2020 5768 6572  ys..:   -   Wher
+00036590: 6520 6c61 7374 2073 6565 6e20 6174 206d  e last seen at m
+000365a0: 6f73 7420 3330 2064 6179 7320 6167 6f0a  ost 30 days ago.
+000365b0: 2020 2020 2d20 2020 5768 6572 6520 6163      -   Where ac
+000365c0: 636f 756e 7420 6372 6561 7469 6f6e 2061  count creation a
+000365d0: 6e64 206c 6173 745c 5f73 6565 6e20 6172  nd last\_seen ar
+000365e0: 6520 5c3e 2033 3020 6461 7973 5c22 0a0a  e \> 30 days\"..
+000365f0: 4665 6174 7572 6573 3a0a 0a2d 2020 2041  Features:..-   A
+00036600: 6464 206a 6f69 6e61 6269 6c69 7479 2066  dd joinability f
+00036610: 6f72 2067 726f 7570 7320 2850 5220 2333  or groups (PR #3
+00036620: 3034 3529 0a2d 2020 2049 6d70 6c65 6d65  045).-   Impleme
+00036630: 6e74 2067 726f 7570 206a 6f69 6e20 4150  nt group join AP
+00036640: 4920 2850 5220 2333 3034 3629 0a2d 2020  I (PR #3046).-  
+00036650: 2041 6464 2063 6f75 6e74 6572 206d 6574   Add counter met
+00036660: 7269 6373 2066 6f72 2063 616c 6375 6c61  rics for calcula
+00036670: 7469 6e67 2073 7461 7465 2064 656c 7461  ting state delta
+00036680: 2028 5052 2023 3330 3333 290a 2d20 2020   (PR #3033).-   
+00036690: 5233 3020 7374 6174 7320 2850 5220 2333  R30 stats (PR #3
+000366a0: 3034 3129 0a2d 2020 204d 6561 7375 7265  041).-   Measure
+000366b0: 2074 696d 6520 6974 2074 616b 6573 2074   time it takes t
+000366c0: 6f20 6361 6c63 756c 6174 6520 7374 6174  o calculate stat
+000366d0: 6520 6772 6f75 7020 4944 2028 5052 2023  e group ID (PR #
+000366e0: 3330 3433 290a 2d20 2020 4164 6420 6261  3043).-   Add ba
+000366f0: 7369 6320 7065 7266 6f72 6d61 6e63 6520  sic performance 
+00036700: 7374 6174 6973 7469 6373 2074 6f20 7068  statistics to ph
+00036710: 6f6e 6520 686f 6d65 2028 5052 2023 3330  one home (PR #30
+00036720: 3434 290a 2d20 2020 4164 6420 7265 7370  44).-   Add resp
+00036730: 6f6e 7365 2073 697a 6520 6d65 7472 6963  onse size metric
+00036740: 7320 2850 5220 2333 3037 3129 0a2d 2020  s (PR #3071).-  
+00036750: 2070 686f 6e65 2068 6f6d 6520 6361 6368   phone home cach
+00036760: 6520 7369 7a65 2063 6f6e 6669 6775 7261  e size configura
+00036770: 7469 6f6e 7320 2850 5220 2333 3036 3329  tions (PR #3063)
+00036780: 0a0a 4368 616e 6765 733a 0a0a 2d20 2020  ..Changes:..-   
+00036790: 4164 6420 6120 626c 7572 6220 6578 706c  Add a blurb expl
+000367a0: 6169 6e69 6e67 2074 6865 206d 6169 6e20  aining the main 
+000367b0: 7379 6e61 7073 6520 776f 726b 6572 2028  synapse worker (
+000367c0: 5052 2023 3238 3836 2920 5468 616e 6b73  PR #2886) Thanks
+000367d0: 2074 6f20 4074 7572 7432 6c69 7665 210a   to @turt2live!.
+000367e0: 2d20 2020 5265 706c 6163 6520 6f6c 6420  -   Replace old 
+000367f0: 7374 796c 6520 6572 726f 7220 6361 7463  style error catc
+00036800: 6869 6e67 2077 6974 6820 5c27 6173 5c27  hing with \'as\'
+00036810: 206b 6579 776f 7264 2028 5052 2023 3330   keyword (PR #30
+00036820: 3030 2920 5468 616e 6b73 2074 6f20 404e  00) Thanks to @N
+00036830: 6f74 4146 696c 6521 0a2d 2020 2055 7365  otAFile!.-   Use
+00036840: 202e 6974 6572 5c2a 2074 6f20 6176 6f69   .iter\* to avoi
+00036850: 6420 636f 7069 6573 2069 6e20 5374 6174  d copies in Stat
+00036860: 6548 616e 646c 6572 2028 5052 2023 3330  eHandler (PR #30
+00036870: 3036 290a 2d20 2020 4c69 6e65 6172 697a  06).-   Lineariz
+00036880: 6520 6361 6c6c 7320 746f 205c 5f67 656e  e calls to \_gen
+00036890: 6572 6174 655c 5f75 7365 725c 5f69 6420  erate\_user\_id 
+000368a0: 2850 5220 2333 3032 3929 0a2d 2020 2052  (PR #3029).-   R
+000368b0: 656d 6f76 6520 6c61 7374 2075 7361 6765  emove last usage
+000368c0: 206f 6620 756a 736f 6e20 2850 5220 2333   of ujson (PR #3
+000368d0: 3033 3029 0a2d 2020 2055 7365 2073 696d  030).-   Use sim
+000368e0: 706c 656a 736f 6e20 7468 726f 7567 686f  plejson througho
+000368f0: 7574 2028 5052 2023 3330 3438 290a 2d20  ut (PR #3048).- 
+00036900: 2020 5573 6520 7374 6174 6963 204a 534f    Use static JSO
+00036910: 4e45 6e63 6f64 6572 7320 2850 5220 2333  NEncoders (PR #3
+00036920: 3034 3929 0a2d 2020 2052 656d 6f76 6520  049).-   Remove 
+00036930: 7573 6573 206f 6620 6576 656e 7473 2e63  uses of events.c
+00036940: 6f6e 7465 6e74 2028 5052 2023 3330 3630  ontent (PR #3060
+00036950: 290a 2d20 2020 496d 7072 6f76 6520 6461  ).-   Improve da
+00036960: 7461 6261 7365 2063 6163 6865 2070 6572  tabase cache per
+00036970: 666f 726d 616e 6365 2028 5052 2023 3330  formance (PR #30
+00036980: 3638 290a 0a42 7567 2066 6978 6573 3a0a  68)..Bug fixes:.
+00036990: 0a2d 2020 2041 6464 2072 6f6f 6d5c 5f69  .-   Add room\_i
+000369a0: 6420 746f 2074 6865 2072 6573 706f 6e73  d to the respons
+000369b0: 6520 6f66 2072 6f6f 6d73 2f7b 726f 6f6d  e of rooms/{room
+000369c0: 4964 7d2f 6a6f 696e 2028 5052 2023 3239  Id}/join (PR #29
+000369d0: 3836 2920 5468 616e 6b73 2074 6f20 406a  86) Thanks to @j
+000369e0: 706c 6174 7465 210a 2d20 2020 4669 7820  platte!.-   Fix 
+000369f0: 7265 706c 6963 6174 696f 6e20 6166 7465  replication afte
+00036a00: 7220 7377 6974 6368 2074 6f20 7369 6d70  r switch to simp
+00036a10: 6c65 6a73 6f6e 2028 5052 2023 3330 3135  lejson (PR #3015
+00036a20: 290a 2d20 2020 3430 3420 636f 7272 6563  ).-   404 correc
+00036a30: 746c 7920 6f6e 206d 6973 7369 6e67 2070  tly on missing p
+00036a40: 6174 6873 2076 6961 204e 6f52 6573 6f75  aths via NoResou
+00036a50: 7263 6520 2850 5220 2333 3032 3229 0a2d  rce (PR #3022).-
+00036a60: 2020 2046 6978 2065 7272 6f72 2077 6865     Fix error whe
+00036a70: 6e20 636c 6169 6d69 6e67 2065 3265 206b  n claiming e2e k
+00036a80: 6579 7320 6672 6f6d 206f 6666 6c69 6e65  eys from offline
+00036a90: 2073 6572 7665 7273 2028 5052 2023 3330   servers (PR #30
+00036aa0: 3334 290a 2d20 2020 6669 7820 7465 7374  34).-   fix test
+00036ab0: 732f 7374 6f72 6167 652f 7465 7374 5c5f  s/storage/test\_
+00036ac0: 7573 6572 5c5f 6469 7265 6374 6f72 792e  user\_directory.
+00036ad0: 7079 2028 5052 2023 3330 3432 290a 2d20  py (PR #3042).- 
+00036ae0: 2020 7573 6520 5055 5420 696e 7374 6561    use PUT instea
+00036af0: 6420 6f66 2050 4f53 5420 666f 7220 6665  d of POST for fe
+00036b00: 6465 7261 7469 6e67 2067 726f 7570 732f  derating groups/
+00036b10: 6d2e 6a6f 696e 5c5f 706f 6c69 6379 2028  m.join\_policy (
+00036b20: 5052 2023 3330 3730 2920 5468 616e 6b73  PR #3070) Thanks
+00036b30: 2074 6f20 406b 726f 6d62 656c 210a 2d20   to @krombel!.- 
+00036b40: 2020 706f 7374 6772 6573 2070 6f72 7420    postgres port 
+00036b50: 7363 7269 7074 3a20 6669 7820 7374 6174  script: fix stat
+00036b60: 655c 5f67 726f 7570 735c 5f70 6b65 7920  e\_groups\_pkey 
+00036b70: 6572 726f 7220 2850 5220 2333 3037 3229  error (PR #3072)
+00036b80: 0a0a 4368 616e 6765 7320 696e 2073 796e  ..Changes in syn
+00036b90: 6170 7365 2076 302e 3237 2e32 2028 3230  apse v0.27.2 (20
+00036ba0: 3138 2d30 332d 3236 290a 3d3d 3d3d 3d3d  18-03-26).======
+00036bb0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00036bc0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00036bd0: 3d0a 0a42 7567 2066 6978 6573 3a0a 0a2d  =..Bug fixes:..-
+00036be0: 2020 2046 6978 2062 7567 2077 6869 6368     Fix bug which
+00036bf0: 2062 726f 6b65 2054 4350 2072 6570 6c69   broke TCP repli
+00036c00: 6361 7469 6f6e 2062 6574 7765 656e 2077  cation between w
+00036c10: 6f72 6b65 7273 2028 5052 2023 3330 3135  orkers (PR #3015
+00036c20: 290a 0a43 6861 6e67 6573 2069 6e20 7379  )..Changes in sy
+00036c30: 6e61 7073 6520 7630 2e32 372e 3120 2832  napse v0.27.1 (2
+00036c40: 3031 382d 3033 2d32 3629 0a3d 3d3d 3d3d  018-03-26).=====
+00036c50: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00036c60: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00036c70: 3d3d 0a0a 4d65 7461 2072 656c 6561 7365  ==..Meta release
+00036c80: 2061 7320 7630 2e32 372e 3020 7465 6d70   as v0.27.0 temp
+00036c90: 6f72 6172 696c 7920 706f 696e 7465 6420  orarily pointed 
+00036ca0: 746f 2074 6865 2077 726f 6e67 2063 6f6d  to the wrong com
+00036cb0: 6d69 740a 0a43 6861 6e67 6573 2069 6e20  mit..Changes in 
+00036cc0: 7379 6e61 7073 6520 7630 2e32 372e 3020  synapse v0.27.0 
+00036cd0: 2832 3031 382d 3033 2d32 3629 0a3d 3d3d  (2018-03-26).===
+00036ce0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00036cf0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00036d00: 3d3d 3d3d 0a0a 4e6f 2063 6861 6e67 6573  ====..No changes
+00036d10: 2073 696e 6365 2076 302e 3237 2e30 2d72   since v0.27.0-r
+00036d20: 6332 0a0a 4368 616e 6765 7320 696e 2073  c2..Changes in s
+00036d30: 796e 6170 7365 2076 302e 3237 2e30 2d72  ynapse v0.27.0-r
+00036d40: 6332 2028 3230 3138 2d30 332d 3139 290a  c2 (2018-03-19).
+00036d50: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00036d60: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00036d70: 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a50 756c  ===========..Pul
+00036d80: 6c73 2069 6e20 7630 2e32 362e 310a 0a42  ls in v0.26.1..B
+00036d90: 7567 2066 6978 6573 3a0a 0a2d 2020 2046  ug fixes:..-   F
+00036da0: 6978 2062 7567 2069 6e74 726f 6475 6365  ix bug introduce
+00036db0: 6420 696e 2076 302e 3237 2e30 2d72 6331  d in v0.27.0-rc1
+00036dc0: 2074 6861 7420 6361 7573 6573 206d 7563   that causes muc
+00036dd0: 6820 696e 6372 6561 7365 6420 6d65 6d6f  h increased memo
+00036de0: 7279 2075 7361 6765 2069 6e20 7374 6174  ry usage in stat
+00036df0: 6520 6361 6368 6520 2850 5220 2333 3030  e cache (PR #300
+00036e00: 3529 0a0a 4368 616e 6765 7320 696e 2073  5)..Changes in s
+00036e10: 796e 6170 7365 2076 302e 3236 2e31 2028  ynapse v0.26.1 (
+00036e20: 3230 3138 2d30 332d 3135 290a 3d3d 3d3d  2018-03-15).====
+00036e30: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00036e40: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00036e50: 3d3d 3d0a 0a42 7567 2066 6978 6573 3a0a  ===..Bug fixes:.
+00036e60: 0a2d 2020 2046 6978 2062 7567 2077 6865  .-   Fix bug whe
+00036e70: 7265 2061 6e20 696e 7661 6c69 6420 6576  re an invalid ev
+00036e80: 656e 7420 6361 7573 6564 2073 6572 7665  ent caused serve
+00036e90: 7220 746f 2073 746f 7020 6675 6e63 7469  r to stop functi
+00036ea0: 6f6e 696e 6720 636f 7272 6563 746c 792c  oning correctly,
+00036eb0: 2064 7565 2074 6f20 7061 7273 696e 6720   due to parsing 
+00036ec0: 616e 6420 7365 7269 616c 697a 696e 6720  and serializing 
+00036ed0: 6275 6773 2069 6e20 756a 736f 6e20 6c69  bugs in ujson li
+00036ee0: 6272 6172 7920 2850 5220 2333 3030 3829  brary (PR #3008)
+00036ef0: 0a0a 4368 616e 6765 7320 696e 2073 796e  ..Changes in syn
+00036f00: 6170 7365 2076 302e 3237 2e30 2d72 6331  apse v0.27.0-rc1
+00036f10: 2028 3230 3138 2d30 332d 3134 290a 3d3d   (2018-03-14).==
+00036f20: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00036f30: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00036f40: 3d3d 3d3d 3d3d 3d3d 3d0a 0a54 6865 2063  =========..The c
+00036f50: 6f6d 6d6f 6e20 6361 7365 2066 6f72 2072  ommon case for r
+00036f60: 756e 6e69 6e67 2053 796e 6170 7365 2069  unning Synapse i
+00036f70: 7320 6e6f 7420 746f 2072 756e 2073 6570  s not to run sep
+00036f80: 6172 6174 6520 776f 726b 6572 732c 2062  arate workers, b
+00036f90: 7574 2066 6f72 2074 686f 7365 2074 6861  ut for those tha
+00036fa0: 7420 646f 2c20 6265 2061 7761 7265 2074  t do, be aware t
+00036fb0: 6861 7420 7379 6e63 746c 206e 6f20 6c6f  hat synctl no lo
+00036fc0: 6e67 6572 2073 7461 7274 7320 7468 6520  nger starts the 
+00036fd0: 6d61 696e 2073 796e 6170 7365 2077 6865  main synapse whe
+00036fe0: 6e20 7573 696e 6720 602d 6160 206f 7074  n using `-a` opt
+00036ff0: 696f 6e20 7769 7468 2077 6f72 6b65 7273  ion with workers
+00037000: 2e20 4120 6e65 7720 776f 726b 6572 2066  . A new worker f
+00037010: 696c 6520 7368 6f75 6c64 2062 6520 6164  ile should be ad
+00037020: 6465 6420 7769 7468 2060 776f 726b 6572  ded with `worker
+00037030: 5f61 7070 3a20 7379 6e61 7073 652e 6170  _app: synapse.ap
+00037040: 702e 686f 6d65 7365 7276 6572 602e 0a0a  p.homeserver`...
+00037050: 5468 6973 2072 656c 6561 7365 2061 6c73  This release als
+00037060: 6f20 6265 6769 6e73 2074 6865 2070 726f  o begins the pro
+00037070: 6365 7373 206f 6620 7265 6e61 6d69 6e67  cess of renaming
+00037080: 2061 206e 756d 6265 7220 6f66 2074 6865   a number of the
+00037090: 206d 6574 7269 6373 2072 6570 6f72 7465   metrics reporte
+000370a0: 6420 746f 2070 726f 6d65 7468 6575 732e  d to prometheus.
+000370b0: 2053 6565 205b 646f 6373 2f6d 6574 7269   See [docs/metri
+000370c0: 6373 2d68 6f77 746f 2e72 7374 5d28 646f  cs-howto.rst](do
+000370d0: 6373 2f6d 6574 7269 6373 2d68 6f77 746f  cs/metrics-howto
+000370e0: 2e72 7374 2362 6c6f 636b 2d61 6e64 2d72  .rst#block-and-r
+000370f0: 6573 706f 6e73 652d 6d65 7472 6963 732d  esponse-metrics-
+00037100: 7265 6e61 6d65 642d 666f 722d 302d 3237  renamed-for-0-27
+00037110: 2d30 292e 204e 6f74 6520 7468 6174 2074  -0). Note that t
+00037120: 6865 2076 302e 3238 2e30 2072 656c 6561  he v0.28.0 relea
+00037130: 7365 2077 696c 6c20 7265 6d6f 7665 2074  se will remove t
+00037140: 6865 2064 6570 7265 6361 7465 6420 6d65  he deprecated me
+00037150: 7472 6963 206e 616d 6573 2e0a 0a46 6561  tric names...Fea
+00037160: 7475 7265 733a 0a0a 2d20 2020 4164 6420  tures:..-   Add 
+00037170: 6162 696c 6974 7920 666f 7220 4153 6573  ability for ASes
+00037180: 2074 6f20 6f76 6572 7269 6465 206d 6573   to override mes
+00037190: 7361 6765 2073 656e 6420 7469 6d65 2028  sage send time (
+000371a0: 5052 2023 3237 3534 290a 2d20 2020 4164  PR #2754).-   Ad
+000371b0: 6420 7375 7070 6f72 7420 666f 7220 6375  d support for cu
+000371c0: 7374 6f6d 2073 746f 7261 6765 2070 726f  stom storage pro
+000371d0: 7669 6465 7273 2066 6f72 206d 6564 6961  viders for media
+000371e0: 2072 6570 6f73 6974 6f72 7920 2850 5220   repository (PR 
+000371f0: 2332 3836 372c 2023 3237 3737 2c20 2332  #2867, #2777, #2
+00037200: 3738 332c 2023 3237 3839 2c20 2332 3739  783, #2789, #279
+00037210: 312c 2023 3238 3034 2c20 2332 3831 322c  1, #2804, #2812,
+00037220: 2023 3238 3134 2c20 2332 3835 372c 2023   #2814, #2857, #
+00037230: 3238 3638 2c20 2332 3736 3729 0a2d 2020  2868, #2767).-  
+00037240: 2041 6464 2070 7572 6765 2041 5049 2066   Add purge API f
+00037250: 6561 7475 7265 732c 2073 6565 205b 646f  eatures, see [do
+00037260: 6373 2f61 646d 696e 5c5f 6170 692f 7075  cs/admin\_api/pu
+00037270: 7267 655c 5f68 6973 746f 7279 5c5f 6170  rge\_history\_ap
+00037280: 692e 7273 745d 2864 6f63 732f 6164 6d69  i.rst](docs/admi
+00037290: 6e5f 6170 692f 7075 7267 655f 6869 7374  n_api/purge_hist
+000372a0: 6f72 795f 6170 692e 7273 7429 2066 6f72  ory_api.rst) for
+000372b0: 2066 756c 6c20 6465 7461 696c 7320 2850   full details (P
+000372c0: 5220 2332 3835 382c 2023 3238 3637 2c20  R #2858, #2867, 
+000372d0: 2332 3838 322c 2023 3239 3436 2c20 2332  #2882, #2946, #2
+000372e0: 3936 322c 2023 3239 3433 290a 2d20 2020  962, #2943).-   
+000372f0: 4164 6420 7375 7070 6f72 7420 666f 7220  Add support for 
+00037300: 7768 6974 656c 6973 7469 6e67 2033 5049  whitelisting 3PI
+00037310: 4473 2074 6861 7420 7573 6572 7320 6361  Ds that users ca
+00037320: 6e20 7265 6769 7374 6572 2e20 2850 5220  n register. (PR 
+00037330: 2332 3831 3329 0a2d 2020 2041 6464 2060  #2813).-   Add `
+00037340: 2f72 6f6f 6d2f 7b69 647d 2f65 7665 6e74  /room/{id}/event
+00037350: 2f7b 6964 7d60 2041 5049 2028 5052 2023  /{id}` API (PR #
+00037360: 3237 3636 290a 2d20 2020 4164 6420 616e  2766).-   Add an
+00037370: 2061 646d 696e 2041 5049 2074 6f20 6765   admin API to ge
+00037380: 7420 616c 6c20 7468 6520 6d65 6469 6120  t all the media 
+00037390: 696e 2061 2072 6f6f 6d20 2850 5220 2332  in a room (PR #2
+000373a0: 3831 3829 2054 6861 6e6b 7320 746f 2040  818) Thanks to @
+000373b0: 7475 7274 326c 6976 6521 0a2d 2020 2041  turt2live!.-   A
+000373c0: 6464 2060 6665 6465 7261 7469 6f6e 5f64  dd `federation_d
+000373d0: 6f6d 6169 6e5f 7768 6974 656c 6973 7460  omain_whitelist`
+000373e0: 206f 7074 696f 6e20 2850 5220 2332 3832   option (PR #282
+000373f0: 302c 2023 3238 3231 290a 0a43 6861 6e67  0, #2821)..Chang
+00037400: 6573 3a0a 0a2d 2020 2043 6f6e 7469 6e75  es:..-   Continu
+00037410: 6520 746f 2066 6163 746f 7220 6f75 7420  e to factor out 
+00037420: 7072 6f63 6573 7369 6e67 2066 726f 6d20  processing from 
+00037430: 6d61 696e 2070 726f 6365 7373 2061 6e64  main process and
+00037440: 2069 6e74 6f20 776f 726b 6572 2070 726f   into worker pro
+00037450: 6365 7373 6573 2e20 5365 6520 7570 6461  cesses. See upda
+00037460: 7465 6420 5b64 6f63 732f 776f 726b 6572  ted [docs/worker
+00037470: 732e 7273 745d 2864 6f63 732f 776f 726b  s.rst](docs/work
+00037480: 6572 732e 7273 7429 2028 5052 2023 3238  ers.rst) (PR #28
+00037490: 3932 202d 205c 2332 3930 342c 2023 3239  92 - \#2904, #29
+000374a0: 3133 2c20 2332 3932 3020 2d20 5c23 3239  13, #2920 - \#29
+000374b0: 3236 2c20 2332 3934 372c 2023 3238 3437  26, #2947, #2847
+000374c0: 2c20 2332 3835 342c 2023 3238 3732 2c20  , #2854, #2872, 
+000374d0: 2332 3837 332c 2023 3238 3734 2c20 2332  #2873, #2874, #2
+000374e0: 3932 382c 2023 3239 3239 2c20 2332 3933  928, #2929, #293
+000374f0: 342c 2023 3238 3536 2c20 2332 3937 3620  4, #2856, #2976 
+00037500: 2d20 5c23 3239 3834 2c20 2332 3938 3720  - \#2984, #2987 
+00037510: 2d20 5c23 3239 3839 2c20 2332 3939 3120  - \#2989, #2991 
+00037520: 2d20 5c23 3239 3933 2c20 2332 3939 352c  - \#2993, #2995,
+00037530: 2023 3237 3834 290a 2d20 2020 456e 7375   #2784).-   Ensu
+00037540: 7265 2073 7461 7465 2063 6163 6865 2069  re state cache i
+00037550: 7320 7573 6564 2077 6865 6e20 7065 7273  s used when pers
+00037560: 6973 7469 6e67 2065 7665 6e74 7320 2850  isting events (P
+00037570: 5220 2332 3836 342c 2023 3238 3731 2c20  R #2864, #2871, 
+00037580: 2332 3830 322c 2023 3238 3335 2c20 2332  #2802, #2835, #2
+00037590: 3833 362c 2023 3238 3431 2c20 2332 3834  836, #2841, #284
+000375a0: 322c 2023 3238 3439 290a 2d20 2020 4368  2, #2849).-   Ch
+000375b0: 616e 6765 2074 6865 2064 6566 6175 6c74  ange the default
+000375c0: 2063 6f6e 6669 6720 746f 2062 696e 6420   config to bind 
+000375d0: 6f6e 2062 6f74 6820 4950 7634 2061 6e64  on both IPv4 and
+000375e0: 2049 5076 3620 6f6e 2061 6c6c 2070 6c61   IPv6 on all pla
+000375f0: 7466 6f72 6d73 2028 5052 2023 3234 3335  tforms (PR #2435
+00037600: 2920 5468 616e 6b73 2074 6f20 4073 696c  ) Thanks to @sil
+00037610: 6b65 6821 0a2d 2020 204e 6f20 6c6f 6e67  keh!.-   No long
+00037620: 6572 2072 6571 7569 7265 2061 2073 7065  er require a spe
+00037630: 6369 6669 6320 7665 7273 696f 6e20 6f66  cific version of
+00037640: 2073 616d 6c32 2028 5052 2023 3236 3935   saml2 (PR #2695
+00037650: 2920 5468 616e 6b73 2074 6f20 406f 6b75  ) Thanks to @oku
+00037660: 727a 210a 2d20 2020 5265 6d6f 7665 2060  rz!.-   Remove `
+00037670: 7665 7262 6f73 6974 7960 2f60 6c6f 675f  verbosity`/`log_
+00037680: 6669 6c65 6020 6672 6f6d 2067 656e 6572  file` from gener
+00037690: 6174 6564 2063 6f6e 6669 6720 2850 5220  ated config (PR 
+000376a0: 2332 3735 3529 0a2d 2020 2041 6464 2061  #2755).-   Add a
+000376b0: 6e64 2069 6d70 726f 7665 206d 6574 7269  nd improve metri
+000376c0: 6373 2061 6e64 206c 6f67 6769 6e67 2028  cs and logging (
+000376d0: 5052 2023 3237 3730 2c20 2332 3737 382c  PR #2770, #2778,
+000376e0: 2023 3237 3835 2c20 2332 3738 362c 2023   #2785, #2786, #
+000376f0: 3237 3837 2c20 2332 3739 332c 2023 3237  2787, #2793, #27
+00037700: 3934 2c20 2332 3739 352c 2023 3238 3039  94, #2795, #2809
+00037710: 2c20 2332 3831 302c 2023 3238 3333 2c20  , #2810, #2833, 
+00037720: 2332 3833 342c 2023 3238 3434 2c20 2332  #2834, #2844, #2
+00037730: 3936 352c 2023 3239 3237 2c20 2332 3937  965, #2927, #297
+00037740: 352c 2023 3237 3930 2c20 2332 3739 362c  5, #2790, #2796,
+00037750: 2023 3238 3338 290a 2d20 2020 5768 656e   #2838).-   When
+00037760: 2075 7369 6e67 2073 796e 6374 6c20 7769   using synctl wi
+00037770: 7468 2077 6f72 6b65 7273 2c20 646f 6e5c  th workers, don\
+00037780: 2774 2073 7461 7274 2074 6865 206d 6169  't start the mai
+00037790: 6e20 7379 6e61 7073 6520 6175 746f 6d61  n synapse automa
+000377a0: 7469 6361 6c6c 7920 2850 5220 2332 3737  tically (PR #277
+000377b0: 3429 0a2d 2020 204d 696e 6f72 2070 6572  4).-   Minor per
+000377c0: 666f 726d 616e 6365 2069 6d70 726f 7665  formance improve
+000377d0: 6d65 6e74 7320 2850 5220 2332 3737 332c  ments (PR #2773,
+000377e0: 2023 3237 3932 290a 2d20 2020 5573 6520   #2792).-   Use 
+000377f0: 6120 636f 6e6e 6563 7469 6f6e 2070 6f6f  a connection poo
+00037800: 6c20 666f 7220 6e6f 6e2d 6665 6465 7261  l for non-federa
+00037810: 7469 6f6e 206f 7574 626f 756e 6420 636f  tion outbound co
+00037820: 6e6e 6563 7469 6f6e 7320 2850 5220 2332  nnections (PR #2
+00037830: 3831 3729 0a2d 2020 204d 616b 6520 6974  817).-   Make it
+00037840: 2070 6f73 7369 626c 6520 746f 2072 756e   possible to run
+00037850: 2075 6e69 7420 7465 7374 7320 6167 6169   unit tests agai
+00037860: 6e73 7420 706f 7374 6772 6573 2028 5052  nst postgres (PR
+00037870: 2023 3238 3239 290a 2d20 2020 5570 6461   #2829).-   Upda
+00037880: 7465 2070 796e 6163 6c20 6465 7065 6e64  te pynacl depend
+00037890: 656e 6379 2074 6f20 312e 322e 3120 6f72  ency to 1.2.1 or
+000378a0: 2068 6967 6865 7220 2850 5220 2332 3838   higher (PR #288
+000378b0: 3829 2054 6861 6e6b 7320 746f 2040 6261  8) Thanks to @ba
+000378c0: 6368 7021 0a2d 2020 2052 656d 6f76 6520  chp!.-   Remove 
+000378d0: 6162 696c 6974 7920 666f 7220 4153 2075  ability for AS u
+000378e0: 7365 7273 2074 6f20 6361 6c6c 202f 6576  sers to call /ev
+000378f0: 656e 7473 2061 6e64 202f 7379 6e63 2028  ents and /sync (
+00037900: 5052 2023 3239 3438 290a 2d20 2020 5573  PR #2948).-   Us
+00037910: 6520 6263 7279 7074 2e63 6865 636b 7077  e bcrypt.checkpw
+00037920: 2028 5052 2023 3239 3439 2920 5468 616e   (PR #2949) Than
+00037930: 6b73 2074 6f20 406b 726f 6d62 656c 210a  ks to @krombel!.
+00037940: 0a42 7567 2066 6978 6573 3a0a 0a2d 2020  .Bug fixes:..-  
+00037950: 2046 6978 2062 726f 6b65 6e20 606c 6461   Fix broken `lda
+00037960: 705f 636f 6e66 6967 6020 636f 6e66 6967  p_config` config
+00037970: 206f 7074 696f 6e20 2850 5220 2332 3638   option (PR #268
+00037980: 3329 2054 6861 6e6b 7320 746f 2040 7365  3) Thanks to @se
+00037990: 636b 7276 210a 2d20 2020 4669 7820 6572  ckrv!.-   Fix er
+000379a0: 726f 7220 6d65 7373 6167 6520 7768 656e  ror message when
+000379b0: 2075 7365 7220 6973 206e 6f74 2061 6c6c   user is not all
+000379c0: 6f77 6564 2074 6f20 756e 6261 6e20 2850  owed to unban (P
+000379d0: 5220 2332 3736 3129 2054 6861 6e6b 7320  R #2761) Thanks 
+000379e0: 746f 2040 7475 7274 326c 6976 6521 0a2d  to @turt2live!.-
+000379f0: 2020 2046 6978 2070 7562 6c69 6369 7365     Fix publicise
+00037a00: 6420 6772 6f75 7073 2047 4554 2041 5049  d groups GET API
+00037a10: 2028 7369 6e67 756c 6172 2920 6f76 6572   (singular) over
+00037a20: 2066 6564 6572 6174 696f 6e20 2850 5220   federation (PR 
+00037a30: 2332 3737 3229 0a2d 2020 2046 6978 2075  #2772).-   Fix u
+00037a40: 7365 7220 6469 7265 6374 6f72 7920 7768  ser directory wh
+00037a50: 656e 2075 7369 6e67 2060 7573 6572 5f64  en using `user_d
+00037a60: 6972 6563 746f 7279 5f73 6561 7263 685f  irectory_search_
+00037a70: 616c 6c5f 7573 6572 7360 2063 6f6e 6669  all_users` confi
+00037a80: 6720 6f70 7469 6f6e 2028 5052 2023 3238  g option (PR #28
+00037a90: 3033 2c20 2332 3833 3129 0a2d 2020 2046  03, #2831).-   F
+00037aa0: 6978 2065 7272 6f72 206f 6e20 602f 7075  ix error on `/pu
+00037ab0: 626c 6963 526f 6f6d 7360 2077 6865 6e20  blicRooms` when 
+00037ac0: 6e6f 2072 6f6f 6d73 2065 7869 7374 2028  no rooms exist (
+00037ad0: 5052 2023 3238 3237 290a 2d20 2020 4669  PR #2827).-   Fi
+00037ae0: 7820 6275 6720 696e 2071 7561 7261 6e74  x bug in quarant
+00037af0: 696e 655c 5f6d 6564 6961 2028 5052 2023  ine\_media (PR #
+00037b00: 3238 3337 290a 2d20 2020 4669 7820 7572  2837).-   Fix ur
+00037b10: 6c5c 5f70 7265 7669 6577 7320 7768 656e  l\_previews when
+00037b20: 206e 6f20 436f 6e74 656e 742d 5479 7065   no Content-Type
+00037b30: 2069 7320 7265 7475 726e 6564 2066 726f   is returned fro
+00037b40: 6d20 5552 4c20 2850 5220 2332 3834 3529  m URL (PR #2845)
+00037b50: 0a2d 2020 2046 6978 2072 6172 6520 7261  .-   Fix rare ra
+00037b60: 6365 2069 6e20 7379 6e63 2041 5049 2077  ce in sync API w
+00037b70: 6865 6e20 6a6f 696e 696e 6720 726f 6f6d  hen joining room
+00037b80: 2028 5052 2023 3239 3434 290a 2d20 2020   (PR #2944).-   
+00037b90: 4669 7820 736c 6f77 2065 7665 6e74 2073  Fix slow event s
+00037ba0: 6561 7263 682c 2073 7769 7463 6820 6261  earch, switch ba
+00037bb0: 636b 2066 726f 6d20 4749 5354 2074 6f20  ck from GIST to 
+00037bc0: 4749 4e20 696e 6465 7865 7320 2850 5220  GIN indexes (PR 
+00037bd0: 2332 3736 392c 2023 3238 3438 290a 0a43  #2769, #2848)..C
+00037be0: 6861 6e67 6573 2069 6e20 7379 6e61 7073  hanges in synaps
+00037bf0: 6520 7630 2e32 362e 3020 2832 3031 382d  e v0.26.0 (2018-
+00037c00: 3031 2d30 3529 0a3d 3d3d 3d3d 3d3d 3d3d  01-05).=========
+00037c10: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00037c20: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a  ==============..
+00037c30: 4e6f 2063 6861 6e67 6573 2073 696e 6365  No changes since
+00037c40: 2076 302e 3236 2e30 2d72 6331 0a0a 4368   v0.26.0-rc1..Ch
+00037c50: 616e 6765 7320 696e 2073 796e 6170 7365  anges in synapse
+00037c60: 2076 302e 3236 2e30 2d72 6331 2028 3230   v0.26.0-rc1 (20
+00037c70: 3137 2d31 322d 3133 290a 3d3d 3d3d 3d3d  17-12-13).======
+00037c80: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00037c90: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00037ca0: 3d3d 3d3d 3d0a 0a46 6561 7475 7265 733a  =====..Features:
+00037cb0: 0a0a 2d20 2020 4164 6420 6162 696c 6974  ..-   Add abilit
+00037cc0: 7920 666f 7220 4153 6573 2074 6f20 7075  y for ASes to pu
+00037cd0: 626c 6963 6973 6520 6772 6f75 7073 2066  blicise groups f
+00037ce0: 6f72 2074 6865 6972 2075 7365 7273 2028  or their users (
+00037cf0: 5052 2023 3236 3836 290a 2d20 2020 4164  PR #2686).-   Ad
+00037d00: 6420 616c 6c20 6c6f 6361 6c20 7573 6572  d all local user
+00037d10: 7320 746f 2074 6865 2075 7365 725c 5f64  s to the user\_d
+00037d20: 6972 6563 746f 7279 2061 6e64 206f 7074  irectory and opt
+00037d30: 696f 6e61 6c6c 7920 7365 6172 6368 2074  ionally search t
+00037d40: 6865 6d20 2850 5220 2332 3732 3329 0a2d  hem (PR #2723).-
+00037d50: 2020 2041 6464 2073 7570 706f 7274 2066     Add support f
+00037d60: 6f72 2063 7573 746f 6d20 6c6f 6769 6e20  or custom login 
+00037d70: 7479 7065 7320 666f 7220 7661 6c69 6461  types for valida
+00037d80: 7469 6e67 2075 7365 7273 2028 5052 2023  ting users (PR #
+00037d90: 3237 3239 290a 0a43 6861 6e67 6573 3a0a  2729)..Changes:.
+00037da0: 0a2d 2020 2055 7064 6174 6520 6578 616d  .-   Update exam
+00037db0: 706c 6520 5072 6f6d 6574 6865 7573 2063  ple Prometheus c
+00037dc0: 6f6e 6669 6720 746f 206e 6577 2066 6f72  onfig to new for
+00037dd0: 6d61 7420 2850 5220 2332 3634 3829 2054  mat (PR #2648) T
+00037de0: 6861 6e6b 7320 746f 2040 6b72 6f6d 6265  hanks to @krombe
+00037df0: 6c21 0a2d 2020 2052 656e 616d 6520 7265  l!.-   Rename re
+00037e00: 6461 6374 5c5f 636f 6e74 656e 7420 6f70  dact\_content op
+00037e10: 7469 6f6e 2074 6f20 696e 636c 7564 655c  tion to include\
+00037e20: 5f63 6f6e 7465 6e74 2069 6e20 5075 7368  _content in Push
+00037e30: 2041 5049 2028 5052 2023 3236 3530 290a   API (PR #2650).
+00037e40: 2d20 2020 4465 636c 6172 6520 7375 7070  -   Declare supp
+00037e50: 6f72 7420 666f 7220 7230 2e33 2e30 2028  ort for r0.3.0 (
+00037e60: 5052 2023 3236 3737 290a 2d20 2020 496d  PR #2677).-   Im
+00037e70: 7072 6f76 6520 7570 7365 7274 7320 2850  prove upserts (P
+00037e80: 5220 2332 3638 342c 2023 3236 3838 2c20  R #2684, #2688, 
+00037e90: 2332 3638 392c 2023 3237 3133 290a 2d20  #2689, #2713).- 
+00037ea0: 2020 496d 7072 6f76 6520 646f 6375 6d65    Improve docume
+00037eb0: 6e74 6174 696f 6e20 6f66 2077 6f72 6b65  ntation of worke
+00037ec0: 7273 2028 5052 2023 3237 3030 290a 2d20  rs (PR #2700).- 
+00037ed0: 2020 496d 7072 6f76 6520 7472 6163 6562    Improve traceb
+00037ee0: 6163 6b73 206f 6e20 6578 6365 7074 696f  acks on exceptio
+00037ef0: 6e73 2028 5052 2023 3237 3035 290a 2d20  ns (PR #2705).- 
+00037f00: 2020 416c 6c6f 7720 6775 6573 7420 6163    Allow guest ac
+00037f10: 6365 7373 2074 6f20 6772 6f75 7020 4150  cess to group AP
+00037f20: 4973 2066 6f72 2072 6561 6469 6e67 2028  Is for reading (
+00037f30: 5052 2023 3237 3135 290a 2d20 2020 5375  PR #2715).-   Su
+00037f40: 7070 6f72 7420 666f 7220 706f 7374 696e  pport for postin
+00037f50: 6720 636f 6e74 656e 7420 696e 2066 6564  g content in fed
+00037f60: 6572 6174 696f 6e5c 5f63 6c69 656e 7420  eration\_client 
+00037f70: 7363 7269 7074 2028 5052 2023 3237 3136  script (PR #2716
+00037f80: 290a 2d20 2020 4465 6c65 7465 2064 6576  ).-   Delete dev
+00037f90: 6963 6573 2061 6e64 2070 7573 6865 7273  ices and pushers
+00037fa0: 206f 6e20 6c6f 676f 7574 7320 6574 6320   on logouts etc 
+00037fb0: 2850 5220 2332 3732 3229 0a0a 4275 6720  (PR #2722)..Bug 
+00037fc0: 6669 7865 733a 0a0a 2d20 2020 4669 7820  fixes:..-   Fix 
+00037fd0: 6461 7461 6261 7365 2070 6f72 7420 7363  database port sc
+00037fe0: 7269 7074 2028 5052 2023 3236 3733 290a  ript (PR #2673).
+00037ff0: 2d20 2020 4669 7820 696e 7465 726e 616c  -   Fix internal
+00038000: 2073 6572 7665 7220 6572 726f 7220 6f6e   server error on
+00038010: 206c 6f67 696e 2077 6974 6820 6c64 6170   login with ldap
+00038020: 5c5f 6175 7468 5c5f 7072 6f76 6964 6572  \_auth\_provider
+00038030: 2028 5052 2023 3236 3738 2920 5468 616e   (PR #2678) Than
+00038040: 6b73 2074 6f20 406a 6b6f 6c6f 210a 2d20  ks to @jkolo!.- 
+00038050: 2020 4669 7820 6572 726f 7220 6f6e 2073    Fix error on s
+00038060: 716c 6974 6520 332e 3720 2850 5220 2332  qlite 3.7 (PR #2
+00038070: 3639 3729 0a2d 2020 2046 6978 204f 5054  697).-   Fix OPT
+00038080: 494f 4e53 206f 6e20 7072 6576 6965 775c  IONS on preview\
+00038090: 5f75 726c 2028 5052 2023 3237 3037 290a  _url (PR #2707).
+000380a0: 2d20 2020 4669 7820 6572 726f 7220 6861  -   Fix error ha
+000380b0: 6e64 6c69 6e67 206f 6e20 646e 7320 6c6f  ndling on dns lo
+000380c0: 6f6b 7570 2028 5052 2023 3237 3131 290a  okup (PR #2711).
+000380d0: 2d20 2020 4669 7820 7772 6f6e 6720 6176  -   Fix wrong av
+000380e0: 6174 6172 7320 7768 656e 2069 6e76 6974  atars when invit
+000380f0: 696e 6720 6d75 6c74 6970 6c65 2075 7365  ing multiple use
+00038100: 7273 2077 6865 6e20 6372 6561 7469 6e67  rs when creating
+00038110: 2072 6f6f 6d20 2850 5220 2332 3731 3729   room (PR #2717)
+00038120: 0a2d 2020 2046 6978 2035 3030 2077 6865  .-   Fix 500 whe
+00038130: 6e20 6a6f 696e 696e 6720 6d61 7472 6978  n joining matrix
+00038140: 2d64 6576 2028 5052 2023 3237 3139 290a  -dev (PR #2719).
+00038150: 0a43 6861 6e67 6573 2069 6e20 7379 6e61  .Changes in syna
+00038160: 7073 6520 7630 2e32 352e 3120 2832 3031  pse v0.25.1 (201
+00038170: 372d 3131 2d31 3729 0a3d 3d3d 3d3d 3d3d  7-11-17).=======
+00038180: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00038190: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000381a0: 0a0a 4275 6720 6669 7865 733a 0a0a 2d20  ..Bug fixes:..- 
+000381b0: 2020 4669 7820 6c6f 6769 6e20 7769 7468    Fix login with
+000381c0: 204c 4441 5020 616e 6420 6f74 6865 7220   LDAP and other 
+000381d0: 7061 7373 776f 7264 2070 726f 7669 6465  password provide
+000381e0: 7220 6d6f 6475 6c65 7320 2850 5220 2332  r modules (PR #2
+000381f0: 3637 3829 2e20 5468 616e 6b73 2074 6f20  678). Thanks to 
+00038200: 406a 6b6f 6c6f 210a 0a43 6861 6e67 6573  @jkolo!..Changes
+00038210: 2069 6e20 7379 6e61 7073 6520 7630 2e32   in synapse v0.2
+00038220: 352e 3020 2832 3031 372d 3131 2d31 3529  5.0 (2017-11-15)
+00038230: 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  .===============
+00038240: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00038250: 3d3d 3d3d 3d3d 3d3d 0a0a 4275 6720 6669  ========..Bug fi
+00038260: 7865 733a 0a0a 2d20 2020 4669 7820 706f  xes:..-   Fix po
+00038270: 7274 2073 6372 6970 7420 2850 5220 2332  rt script (PR #2
+00038280: 3637 3329 0a0a 4368 616e 6765 7320 696e  673)..Changes in
+00038290: 2073 796e 6170 7365 2076 302e 3235 2e30   synapse v0.25.0
+000382a0: 2d72 6331 2028 3230 3137 2d31 312d 3134  -rc1 (2017-11-14
+000382b0: 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ).==============
+000382c0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000382d0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a46  =============..F
+000382e0: 6561 7475 7265 733a 0a0a 2d20 2020 4164  eatures:..-   Ad
+000382f0: 6420 6973 5c5f 7075 626c 6963 2074 6f20  d is\_public to 
+00038300: 6772 6f75 7073 2074 6162 6c65 2074 6f20  groups table to 
+00038310: 616c 6c6f 7720 666f 7220 7072 6976 6174  allow for privat
+00038320: 6520 6772 6f75 7073 2028 5052 2023 3235  e groups (PR #25
+00038330: 3832 290a 2d20 2020 4164 6420 6120 726f  82).-   Add a ro
+00038340: 7574 6520 666f 7220 6465 7465 726d 696e  ute for determin
+00038350: 696e 6720 7768 6f20 796f 7520 6172 6520  ing who you are 
+00038360: 2850 5220 2332 3636 3829 2054 6861 6e6b  (PR #2668) Thank
+00038370: 7320 746f 2040 7475 7274 326c 6976 6521  s to @turt2live!
+00038380: 0a2d 2020 2041 6464 206d 6f72 6520 6665  .-   Add more fe
+00038390: 6174 7572 6573 2074 6f20 7468 6520 7061  atures to the pa
+000383a0: 7373 776f 7264 2070 726f 7669 6465 7273  ssword providers
+000383b0: 2028 5052 2023 3236 3038 2c20 2332 3631   (PR #2608, #261
+000383c0: 302c 2023 3236 3230 2c20 2332 3632 322c  0, #2620, #2622,
+000383d0: 2023 3236 3233 2c20 2332 3632 342c 2023   #2623, #2624, #
+000383e0: 3236 3236 2c20 2332 3632 382c 2023 3236  2626, #2628, #26
+000383f0: 3239 290a 2d20 2020 4164 6420 6120 686f  29).-   Add a ho
+00038400: 6f6b 2066 6f72 2063 7573 746f 6d20 7265  ok for custom re
+00038410: 7374 2065 6e64 706f 696e 7473 2028 5052  st endpoints (PR
+00038420: 2023 3236 3237 290a 2d20 2020 4164 6420   #2627).-   Add 
+00038430: 4150 4920 746f 2075 7064 6174 6520 6772  API to update gr
+00038440: 6f75 7020 726f 6f6d 2076 6973 6962 696c  oup room visibil
+00038450: 6974 7920 2850 5220 2332 3635 3129 0a0a  ity (PR #2651)..
+00038460: 4368 616e 6765 733a 0a0a 2d20 2020 4967  Changes:..-   Ig
+00038470: 6e6f 7265 205c 3c6e 6f73 6372 6970 745c  nore \<noscript\
+00038480: 3e20 7461 6773 2077 6865 6e20 6765 6e65  > tags when gene
+00038490: 7261 7469 6e67 2055 524c 2070 7265 7669  rating URL previ
+000384a0: 6577 2064 6573 6372 6970 7469 6f6e 7320  ew descriptions 
+000384b0: 2850 5220 2332 3537 3629 2054 6861 6e6b  (PR #2576) Thank
+000384c0: 7320 746f 2040 6d61 7869 6d65 7661 696c  s to @maximevail
+000384d0: 6c61 6e63 6f75 7274 210a 2d20 2020 5265  lancourt!.-   Re
+000384e0: 6769 7374 6572 2073 6f6d 6520 2f75 6e73  gister some /uns
+000384f0: 7461 626c 6520 656e 6470 6f69 6e74 7320  table endpoints 
+00038500: 696e 202f 7230 2061 7320 7765 6c6c 2028  in /r0 as well (
+00038510: 5052 2023 3235 3739 2920 5468 616e 6b73  PR #2579) Thanks
+00038520: 2074 6f20 406b 726f 6d62 656c 210a 2d20   to @krombel!.- 
+00038530: 2020 5375 7070 6f72 7420 2f6b 6579 732f    Support /keys/
+00038540: 7570 6c6f 6164 206f 6e20 2f72 3020 6173  upload on /r0 as
+00038550: 2077 656c 6c20 6173 202f 756e 7374 6162   well as /unstab
+00038560: 6c65 2028 5052 2023 3235 3835 290a 2d20  le (PR #2585).- 
+00038570: 2020 4672 6f6e 742d 656e 6420 7072 6f78    Front-end prox
+00038580: 793a 2070 6173 7320 7468 726f 7567 6820  y: pass through 
+00038590: 6175 7468 2068 6561 6465 7220 2850 5220  auth header (PR 
+000385a0: 2332 3538 3629 0a2d 2020 2041 6c6c 6f77  #2586).-   Allow
+000385b0: 2041 5365 7320 746f 2064 6561 6374 6976   ASes to deactiv
+000385c0: 6174 6520 7468 6569 7220 6f77 6e20 7573  ate their own us
+000385d0: 6572 7320 2850 5220 2332 3538 3929 0a2d  ers (PR #2589).-
+000385e0: 2020 2052 656d 6f76 6520 7265 6672 6573     Remove refres
+000385f0: 6820 746f 6b65 6e73 2028 5052 2023 3236  h tokens (PR #26
+00038600: 3133 290a 2d20 2020 4175 746f 6d61 7469  13).-   Automati
+00038610: 6361 6c6c 7920 7365 7420 6465 6661 756c  cally set defaul
+00038620: 7420 6469 7370 6c61 796e 616d 6520 6f6e  t displayname on
+00038630: 2072 6567 6973 7465 7220 2850 5220 2332   register (PR #2
+00038640: 3631 3729 0a2d 2020 204c 6f67 206c 6f67  617).-   Log log
+00038650: 696e 2072 6571 7565 7374 7320 2850 5220  in requests (PR 
+00038660: 2332 3631 3829 0a2d 2020 2041 6c77 6179  #2618).-   Alway
+00038670: 7320 7265 7475 726e 2069 735c 5f70 7562  s return is\_pub
+00038680: 6c69 6320 696e 2074 6865 202f 6772 6f75  lic in the /grou
+00038690: 7073 2f3a 6772 6f75 705c 5f69 642f 726f  ps/:group\_id/ro
+000386a0: 6f6d 7320 4150 4920 2850 5220 2332 3633  oms API (PR #263
+000386b0: 3029 0a2d 2020 2041 766f 6964 206e 6f2d  0).-   Avoid no-
+000386c0: 6f70 206d 6564 6961 2064 656c 6574 6573  op media deletes
+000386d0: 2028 5052 2023 3236 3337 2920 5468 616e   (PR #2637) Than
+000386e0: 6b73 2074 6f20 4073 7061 6e74 616c 6565  ks to @spantalee
+000386f0: 7621 0a2d 2020 2046 6978 2076 6172 696f  v!.-   Fix vario
+00038700: 7573 2065 6d62 6172 7261 7373 696e 6720  us embarrassing 
+00038710: 7479 706f 7320 6172 6f75 6e64 2075 7365  typos around use
+00038720: 725c 5f64 6972 6563 746f 7279 2061 6e64  r\_directory and
+00038730: 2061 6464 2073 6f6d 6520 646f 632e 2028   add some doc. (
+00038740: 5052 2023 3236 3433 290a 2d20 2020 5265  PR #2643).-   Re
+00038750: 7475 726e 2077 6865 7468 6572 2061 2075  turn whether a u
+00038760: 7365 7220 6973 2061 6e20 6164 6d69 6e20  ser is an admin 
+00038770: 7769 7468 696e 2061 2067 726f 7570 2028  within a group (
+00038780: 5052 2023 3236 3437 290a 2d20 2020 4e61  PR #2647).-   Na
+00038790: 6d65 7370 6163 6520 7669 7369 6269 6c69  mespace visibili
+000387a0: 7479 206f 7074 696f 6e73 2066 6f72 2067  ty options for g
+000387b0: 726f 7570 7320 2850 5220 2332 3635 3729  roups (PR #2657)
+000387c0: 0a2d 2020 2044 6f77 6e63 6173 6520 5573  .-   Downcase Us
+000387d0: 6572 4944 7320 6f6e 2072 6567 6973 7472  erIDs on registr
+000387e0: 6174 696f 6e20 2850 5220 2332 3636 3229  ation (PR #2662)
+000387f0: 0a2d 2020 2043 6163 6865 2066 6169 6c75  .-   Cache failu
+00038800: 7265 7320 7768 656e 2066 6574 6368 696e  res when fetchin
+00038810: 6720 5552 4c20 7072 6576 6965 7773 2028  g URL previews (
+00038820: 5052 2023 3236 3639 290a 0a42 7567 2066  PR #2669)..Bug f
+00038830: 6978 6573 3a0a 0a2d 2020 2046 6978 2070  ixes:..-   Fix p
+00038840: 6f72 7420 7363 7269 7074 2028 5052 2023  ort script (PR #
+00038850: 3235 3737 290a 2d20 2020 4669 7820 6572  2577).-   Fix er
+00038860: 726f 7220 7768 656e 2072 756e 6e69 6e67  ror when running
+00038870: 2073 796e 6170 7365 2077 6974 6820 6e6f   synapse with no
+00038880: 206c 6f67 6669 6c65 2028 5052 2023 3235   logfile (PR #25
+00038890: 3831 290a 2d20 2020 4669 7820 5549 2061  81).-   Fix UI a
+000388a0: 7574 6820 7768 656e 2064 656c 6574 696e  uth when deletin
+000388b0: 6720 6465 7669 6365 7320 2850 5220 2332  g devices (PR #2
+000388c0: 3539 3129 0a2d 2020 2046 6978 2074 7970  591).-   Fix typ
+000388d0: 6f20 7768 656e 2063 6865 636b 696e 6720  o when checking 
+000388e0: 6966 2075 7365 7220 6973 2069 6e76 6974  if user is invit
+000388f0: 6564 2074 6f20 6772 6f75 7020 2850 5220  ed to group (PR 
+00038900: 2332 3539 3929 0a2d 2020 2046 6978 2074  #2599).-   Fix t
+00038910: 6865 2070 6f72 7420 7363 7269 7074 2074  he port script t
+00038920: 6f20 6472 6f70 204e 554c 2076 616c 7565  o drop NUL value
+00038930: 7320 696e 2061 6c6c 2074 6162 6c65 7320  s in all tables 
+00038940: 2850 5220 2332 3631 3129 0a2d 2020 2046  (PR #2611).-   F
+00038950: 6978 2061 7070 7365 7276 6963 6573 2062  ix appservices b
+00038960: 6569 6e67 2062 6163 6b6c 6f67 6765 6420  eing backlogged 
+00038970: 616e 6420 6e6f 7420 7265 6365 6976 696e  and not receivin
+00038980: 6720 6e65 7720 6576 656e 7473 2064 7565  g new events due
+00038990: 2074 6f20 6120 6275 6720 696e 206e 6f74   to a bug in not
+000389a0: 6966 795c 5f69 6e74 6572 6573 7465 645c  ify\_interested\
+000389b0: 5f73 6572 7669 6365 7320 2850 5220 2332  _services (PR #2
+000389c0: 3633 3129 2054 6861 6e6b 7320 746f 2040  631) Thanks to @
+000389d0: 7879 7a7a 210a 2d20 2020 4669 7820 7570  xyzz!.-   Fix up
+000389e0: 6461 7469 6e67 2072 6f6f 6d73 2061 7661  dating rooms ava
+000389f0: 7461 722f 6469 7370 6c61 7920 6e61 6d65  tar/display name
+00038a00: 2077 6865 6e20 6d6f 6469 6669 6564 2062   when modified b
+00038a10: 7920 6164 6d69 6e20 2850 5220 2332 3633  y admin (PR #263
+00038a20: 3629 2054 6861 6e6b 7320 746f 2040 6661  6) Thanks to @fa
+00038a30: 7269 616c 696d 6121 0a2d 2020 2046 6978  rialima!.-   Fix
+00038a40: 2062 7567 2069 6e20 7374 6174 6520 6772   bug in state gr
+00038a50: 6f75 7020 7374 6f72 6167 6520 2850 5220  oup storage (PR 
+00038a60: 2332 3634 3929 0a2d 2020 2046 6978 2035  #2649).-   Fix 5
+00038a70: 3030 206f 6e20 696e 7661 6c69 6420 7574  00 on invalid ut
+00038a80: 662d 3820 696e 2072 6571 7565 7374 2028  f-8 in request (
+00038a90: 5052 2023 3236 3633 290a 0a43 6861 6e67  PR #2663)..Chang
+00038aa0: 6573 2069 6e20 7379 6e61 7073 6520 7630  es in synapse v0
+00038ab0: 2e32 342e 3120 2832 3031 372d 3130 2d32  .24.1 (2017-10-2
+00038ac0: 3429 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  4).=============
+00038ad0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00038ae0: 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 4275 6720  ==========..Bug 
+00038af0: 6669 7865 733a 0a0a 2d20 2020 4669 7820  fixes:..-   Fix 
+00038b00: 7570 6461 7469 6e67 2067 726f 7570 2070  updating group p
+00038b10: 726f 6669 6c65 7320 6f76 6572 2066 6564  rofiles over fed
+00038b20: 6572 6174 696f 6e20 2850 5220 2332 3536  eration (PR #256
+00038b30: 3729 0a0a 4368 616e 6765 7320 696e 2073  7)..Changes in s
+00038b40: 796e 6170 7365 2076 302e 3234 2e30 2028  ynapse v0.24.0 (
+00038b50: 3230 3137 2d31 302d 3233 290a 3d3d 3d3d  2017-10-23).====
+00038b60: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00038b70: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00038b80: 3d3d 3d0a 0a4e 6f20 6368 616e 6765 7320  ===..No changes 
+00038b90: 7369 6e63 6520 7630 2e32 342e 302d 7263  since v0.24.0-rc
+00038ba0: 310a 0a43 6861 6e67 6573 2069 6e20 7379  1..Changes in sy
+00038bb0: 6e61 7073 6520 7630 2e32 342e 302d 7263  napse v0.24.0-rc
+00038bc0: 3120 2832 3031 372d 3130 2d31 3929 0a3d  1 (2017-10-19).=
+00038bd0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00038be0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00038bf0: 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 4665 6174  ==========..Feat
+00038c00: 7572 6573 3a0a 0a2d 2020 2041 6464 2047  ures:..-   Add G
+00038c10: 726f 7570 2053 6572 7665 7220 2850 5220  roup Server (PR 
+00038c20: 2332 3335 322c 2023 3233 3633 2c20 2332  #2352, #2363, #2
+00038c30: 3337 342c 2023 3233 3737 2c20 2332 3337  374, #2377, #237
+00038c40: 382c 2023 3233 3832 2c20 2332 3431 302c  8, #2382, #2410,
+00038c50: 2023 3234 3236 2c20 2332 3433 302c 2023   #2426, #2430, #
+00038c60: 3234 3534 2c20 2332 3437 312c 2023 3234  2454, #2471, #24
+00038c70: 3732 2c20 2332 3534 3429 0a2d 2020 2041  72, #2544).-   A
+00038c80: 6464 2073 7570 706f 7274 2066 6f72 2063  dd support for c
+00038c90: 6861 6e6e 656c 206e 6f74 6966 6963 6174  hannel notificat
+00038ca0: 696f 6e73 2028 5052 2023 3235 3031 290a  ions (PR #2501).
+00038cb0: 2d20 2020 4164 6420 6261 7369 6320 696d  -   Add basic im
+00038cc0: 706c 656d 656e 7461 7469 6f6e 206f 6620  plementation of 
+00038cd0: 6261 636b 7570 206d 6564 6961 2073 746f  backup media sto
+00038ce0: 7265 2028 5052 2023 3235 3338 290a 2d20  re (PR #2538).- 
+00038cf0: 2020 4164 6420 636f 6e66 6967 206f 7074    Add config opt
+00038d00: 696f 6e20 746f 2061 7574 6f2d 6a6f 696e  ion to auto-join
+00038d10: 206e 6577 2075 7365 7273 2074 6f20 726f   new users to ro
+00038d20: 6f6d 7320 2850 5220 2332 3534 3529 0a0a  oms (PR #2545)..
+00038d30: 4368 616e 6765 733a 0a0a 2d20 2020 4d61  Changes:..-   Ma
+00038d40: 6b65 2074 6865 2073 7061 6d20 6368 6563  ke the spam chec
+00038d50: 6b65 7220 6120 6d6f 6475 6c65 2028 5052  ker a module (PR
+00038d60: 2023 3234 3734 290a 2d20 2020 4465 6c65   #2474).-   Dele
+00038d70: 7465 2065 7870 6972 6564 2075 726c 2063  te expired url c
+00038d80: 6163 6865 2064 6174 6120 2850 5220 2332  ache data (PR #2
+00038d90: 3437 3829 0a2d 2020 2049 676e 6f72 6520  478).-   Ignore 
+00038da0: 696e 636f 6d69 6e67 2065 7665 6e74 7320  incoming events 
+00038db0: 666f 7220 726f 6f6d 7320 7468 6174 2077  for rooms that w
+00038dc0: 6520 6861 7665 206c 6566 7420 2850 5220  e have left (PR 
+00038dd0: 2332 3439 3029 0a2d 2020 2041 6c6c 6f77  #2490).-   Allow
+00038de0: 2073 7061 6d20 6368 6563 6b65 7220 746f   spam checker to
+00038df0: 2072 656a 6563 7420 696e 7669 7465 7320   reject invites 
+00038e00: 746f 6f20 2850 5220 2332 3439 3229 0a2d  too (PR #2492).-
+00038e10: 2020 2041 6464 2072 6f6f 6d20 6372 6561     Add room crea
+00038e20: 7469 6f6e 2063 6865 636b 7320 746f 2073  tion checks to s
+00038e30: 7061 6d20 6368 6563 6b65 7220 2850 5220  pam checker (PR 
+00038e40: 2332 3439 3529 0a2d 2020 2053 7061 6d20  #2495).-   Spam 
+00038e50: 6368 6563 6b69 6e67 3a20 6164 6420 7468  checking: add th
+00038e60: 6520 696e 7669 7465 6520 746f 2075 7365  e invitee to use
+00038e70: 725c 5f6d 6179 5c5f 696e 7669 7465 2028  r\_may\_invite (
+00038e80: 5052 2023 3235 3032 290a 2d20 2020 5072  PR #2502).-   Pr
+00038e90: 6f63 6573 7320 6576 656e 7473 2066 726f  ocess events fro
+00038ea0: 6d20 6665 6465 7261 7469 6f6e 2066 6f72  m federation for
+00038eb0: 2064 6966 6665 7265 6e74 2072 6f6f 6d73   different rooms
+00038ec0: 2069 6e20 7061 7261 6c6c 656c 2028 5052   in parallel (PR
+00038ed0: 2023 3235 3230 290a 2d20 2020 416c 6c6f   #2520).-   Allo
+00038ee0: 7720 6572 726f 7220 7374 7269 6e67 7320  w error strings 
+00038ef0: 6672 6f6d 2073 7061 6d20 6368 6563 6b65  from spam checke
+00038f00: 7220 2850 5220 2332 3533 3129 0a2d 2020  r (PR #2531).-  
+00038f10: 2049 6d70 726f 7665 2065 7272 6f72 2068   Improve error h
+00038f20: 616e 646c 696e 6720 666f 7220 6d69 7373  andling for miss
+00038f30: 696e 6720 6669 6c65 7320 696e 2063 6f6e  ing files in con
+00038f40: 6669 6720 2850 5220 2332 3535 3129 0a0a  fig (PR #2551)..
+00038f50: 4275 6720 6669 7865 733a 0a0a 2d20 2020  Bug fixes:..-   
+00038f60: 4669 7820 6861 6e64 6c69 6e67 2053 4552  Fix handling SER
+00038f70: 5646 4149 4c73 2077 6865 6e20 646f 696e  VFAILs when doin
+00038f80: 6720 4141 4141 206c 6f6f 6b75 7073 2066  g AAAA lookups f
+00038f90: 6f72 2066 6564 6572 6174 696f 6e20 2850  or federation (P
+00038fa0: 5220 2332 3437 3729 0a2d 2020 2046 6978  R #2477).-   Fix
+00038fb0: 2069 6e63 6f6d 7061 7469 6269 6c69 7479   incompatibility
+00038fc0: 2077 6974 6820 6e65 7765 7220 7665 7273   with newer vers
+00038fd0: 696f 6e73 206f 6620 756a 736f 6e20 2850  ions of ujson (P
+00038fe0: 5220 2332 3438 3329 2054 6861 6e6b 7320  R #2483) Thanks 
+00038ff0: 746f 2040 6a65 7265 6d79 636c 696e 6521  to @jeremycline!
+00039000: 0a2d 2020 2046 6978 206e 6f74 6966 6963  .-   Fix notific
+00039010: 6174 696f 6e20 6b65 7977 6f72 6473 2074  ation keywords t
+00039020: 6861 7420 7374 6172 742f 656e 6420 7769  hat start/end wi
+00039030: 7468 206e 6f6e 2d77 6f72 6420 6368 6172  th non-word char
+00039040: 7320 2850 5220 2332 3530 3029 0a2d 2020  s (PR #2500).-  
+00039050: 2046 6978 2073 7461 636b 206f 7665 7266   Fix stack overf
+00039060: 6c6f 7720 616e 6420 6c6f 6763 6f6e 7465  low and logconte
+00039070: 7874 7320 6672 6f6d 206c 696e 6561 7269  xts from lineari
+00039080: 7a65 7220 2850 5220 2332 3533 3229 0a2d  zer (PR #2532).-
+00039090: 2020 2046 6978 2035 3030 2065 7272 6f72     Fix 500 error
+000390a0: 2077 6865 6e20 6669 656c 6473 206d 6973   when fields mis
+000390b0: 7369 6e67 2066 726f 6d20 706f 7765 725c  sing from power\
+000390c0: 5f6c 6576 656c 7320 6576 656e 7420 2850  _levels event (P
+000390d0: 5220 2332 3535 3229 0a2d 2020 2046 6978  R #2552).-   Fix
+000390e0: 2035 3030 2065 7272 6f72 2077 6865 6e20   500 error when 
+000390f0: 7765 2067 6574 2061 6e20 6572 726f 7220  we get an error 
+00039100: 6861 6e64 6c69 6e67 2061 2050 4455 2028  handling a PDU (
+00039110: 5052 2023 3235 3533 290a 0a43 6861 6e67  PR #2553)..Chang
+00039120: 6573 2069 6e20 7379 6e61 7073 6520 7630  es in synapse v0
+00039130: 2e32 332e 3120 2832 3031 372d 3130 2d30  .23.1 (2017-10-0
+00039140: 3229 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  2).=============
+00039150: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00039160: 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 4368 616e  ==========..Chan
+00039170: 6765 733a 0a0a 2d20 2020 4d61 6b65 205c  ges:..-   Make \
+00039180: 2761 6666 696e 6974 795c 2720 7061 636b  'affinity\' pack
+00039190: 6167 6520 6f70 7469 6f6e 616c 2c20 6173  age optional, as
+000391a0: 2069 7420 6973 206e 6f74 2073 7570 706f   it is not suppo
+000391b0: 7274 6564 206f 6e20 736f 6d65 2070 6c61  rted on some pla
+000391c0: 7466 6f72 6d73 0a0a 4368 616e 6765 7320  tforms..Changes 
+000391d0: 696e 2073 796e 6170 7365 2076 302e 3233  in synapse v0.23
+000391e0: 2e30 2028 3230 3137 2d31 302d 3032 290a  .0 (2017-10-02).
+000391f0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00039200: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00039210: 3d3d 3d3d 3d3d 3d0a 0a4e 6f20 6368 616e  =======..No chan
+00039220: 6765 7320 7369 6e63 6520 7630 2e32 332e  ges since v0.23.
+00039230: 302d 7263 320a 0a43 6861 6e67 6573 2069  0-rc2..Changes i
+00039240: 6e20 7379 6e61 7073 6520 7630 2e32 332e  n synapse v0.23.
+00039250: 302d 7263 3220 2832 3031 372d 3039 2d32  0-rc2 (2017-09-2
+00039260: 3629 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  6).=============
+00039270: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00039280: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a  ==============..
+00039290: 4275 6720 6669 7865 733a 0a0a 2d20 2020  Bug fixes:..-   
+000392a0: 4669 7820 7265 6772 6573 7369 6f6e 2069  Fix regression i
+000392b0: 6e20 7065 7266 6f72 6d61 6e63 6520 6f66  n performance of
+000392c0: 2073 796e 6373 2028 5052 2023 3234 3730   syncs (PR #2470
+000392d0: 290a 0a43 6861 6e67 6573 2069 6e20 7379  )..Changes in sy
+000392e0: 6e61 7073 6520 7630 2e32 332e 302d 7263  napse v0.23.0-rc
+000392f0: 3120 2832 3031 372d 3039 2d32 3529 0a3d  1 (2017-09-25).=
+00039300: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00039310: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00039320: 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 4665 6174  ==========..Feat
+00039330: 7572 6573 3a0a 0a2d 2020 2041 6464 2061  ures:..-   Add a
+00039340: 2066 726f 6e74 656e 6420 7072 6f78 7920   frontend proxy 
+00039350: 776f 726b 6572 2028 5052 2023 3233 3434  worker (PR #2344
+00039360: 290a 2d20 2020 4164 6420 7375 7070 6f72  ).-   Add suppor
+00039370: 7420 666f 7220 6576 656e 745c 5f69 645c  t for event\_id\
+00039380: 5f6f 6e6c 7920 7075 7368 2066 6f72 6d61  _only push forma
+00039390: 7420 2850 5220 2332 3435 3029 0a2d 2020  t (PR #2450).-  
+000393a0: 2041 6464 2061 2050 6f43 2066 6f72 2066   Add a PoC for f
+000393b0: 696c 7465 7269 6e67 2073 7061 6d6d 7920  iltering spammy 
+000393c0: 6576 656e 7473 2028 5052 2023 3234 3536  events (PR #2456
+000393d0: 290a 2d20 2020 4164 6420 6120 636f 6e66  ).-   Add a conf
+000393e0: 6967 206f 7074 696f 6e20 746f 2062 6c6f  ig option to blo
+000393f0: 636b 2061 6c6c 2072 6f6f 6d20 696e 7669  ck all room invi
+00039400: 7465 7320 2850 5220 2332 3435 3729 0a0a  tes (PR #2457)..
+00039410: 4368 616e 6765 733a 0a0a 2d20 2020 5573  Changes:..-   Us
+00039420: 6520 6263 7279 7074 206d 6f64 756c 6520  e bcrypt module 
+00039430: 696e 7374 6561 6420 6f66 2070 792d 6263  instead of py-bc
+00039440: 7279 7074 2028 5052 2023 3232 3838 2920  rypt (PR #2288) 
+00039450: 5468 616e 6b73 2074 6f20 406b 7972 6961  Thanks to @kyria
+00039460: 7321 0a2d 2020 2049 6d70 726f 7665 2070  s!.-   Improve p
+00039470: 6572 666f 726d 616e 6365 206f 6620 6765  erformance of ge
+00039480: 6e65 7261 7469 6e67 2070 7573 6820 6e6f  nerating push no
+00039490: 7469 6669 6361 7469 6f6e 7320 2850 5220  tifications (PR 
+000394a0: 2332 3334 332c 2023 3233 3537 2c20 2332  #2343, #2357, #2
+000394b0: 3336 352c 2023 3233 3636 2c20 2332 3337  365, #2366, #237
+000394c0: 3129 0a2d 2020 2049 6d70 726f 7665 2044  1).-   Improve D
+000394d0: 4220 7065 7266 6f72 6d61 6e63 6520 666f  B performance fo
+000394e0: 7220 6465 7669 6365 206c 6973 7420 6861  r device list ha
+000394f0: 6e64 6c69 6e67 2069 6e20 7379 6e63 2028  ndling in sync (
+00039500: 5052 2023 3233 3632 290a 2d20 2020 496e  PR #2362).-   In
+00039510: 636c 7564 6520 6120 7361 6d70 6c65 2070  clude a sample p
+00039520: 726f 6d65 7468 6575 7320 636f 6e66 6967  rometheus config
+00039530: 2028 5052 2023 3234 3136 290a 2d20 2020   (PR #2416).-   
+00039540: 446f 6375 6d65 6e74 206b 6e6f 776e 2074  Document known t
+00039550: 6f20 776f 726b 2070 6f73 7467 7265 7320  o work postgres 
+00039560: 7665 7273 696f 6e20 2850 5220 2332 3433  version (PR #243
+00039570: 3329 2054 6861 6e6b 7320 746f 2040 7074  3) Thanks to @pt
+00039580: 6d61 6e21 0a0a 4275 6720 6669 7865 733a  man!..Bug fixes:
+00039590: 0a0a 2d20 2020 4669 7820 6361 6368 696e  ..-   Fix cachin
+000395a0: 6720 6572 726f 7220 696e 2074 6865 2070  g error in the p
+000395b0: 7573 6820 6576 616c 7561 746f 7220 2850  ush evaluator (P
+000395c0: 5220 2332 3333 3229 0a2d 2020 2046 6978  R #2332).-   Fix
+000395d0: 2062 7567 2077 6865 7265 2070 7573 6865   bug where pushe
+000395e0: 7270 6f6f 6c20 6469 646e 5c27 7420 7374  rpool didn\'t st
+000395f0: 6172 7420 616e 6420 6272 6f6b 6520 736f  art and broke so
+00039600: 6d65 2072 6f6f 6d73 2028 5052 2023 3233  me rooms (PR #23
+00039610: 3432 290a 2d20 2020 4669 7820 706f 7274  42).-   Fix port
+00039620: 2073 6372 6970 7420 666f 7220 7573 6572   script for user
+00039630: 2064 6972 6563 746f 7279 2074 6162 6c65   directory table
+00039640: 7320 2850 5220 2332 3337 3529 0a2d 2020  s (PR #2375).-  
+00039650: 2046 6978 2064 6576 6963 6520 6c69 7374   Fix device list
+00039660: 7320 6e6f 7469 6669 6361 7469 6f6e 7320  s notifications 
+00039670: 7768 656e 2075 7365 7220 7265 6a6f 696e  when user rejoin
+00039680: 7320 6120 726f 6f6d 2028 5052 2023 3234  s a room (PR #24
+00039690: 3433 2c20 2332 3434 3929 0a2d 2020 2046  43, #2449).-   F
+000396a0: 6978 2073 796e 6320 746f 2061 6c77 6179  ix sync to alway
+000396b0: 7320 7365 6e64 2064 6f77 6e20 6375 7272  s send down curr
+000396c0: 656e 7420 7374 6174 6520 6576 656e 7473  ent state events
+000396d0: 2069 6e20 7469 6d65 6c69 6e65 2028 5052   in timeline (PR
+000396e0: 2023 3234 3531 290a 2d20 2020 4669 7820   #2451).-   Fix 
+000396f0: 6275 6720 7768 6572 6520 6775 6573 7420  bug where guest 
+00039700: 7573 6572 7320 7765 7265 2069 6e63 6f72  users were incor
+00039710: 7265 6374 6c79 206b 6963 6b65 6420 2850  rectly kicked (P
+00039720: 5220 2332 3435 3329 0a2d 2020 2046 6978  R #2453).-   Fix
+00039730: 2062 7567 2074 616c 6b69 6e67 2074 6f20   bug talking to 
+00039740: 4950 7636 206f 6e6c 7920 7365 7276 6572  IPv6 only server
+00039750: 7320 7573 696e 6720 5352 5620 7265 636f  s using SRV reco
+00039760: 7264 7320 2850 5220 2332 3436 3229 0a0a  rds (PR #2462)..
+00039770: 4368 616e 6765 7320 696e 2073 796e 6170  Changes in synap
+00039780: 7365 2076 302e 3232 2e31 2028 3230 3137  se v0.22.1 (2017
+00039790: 2d30 372d 3036 290a 3d3d 3d3d 3d3d 3d3d  -07-06).========
+000397a0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000397b0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a  ===============.
+000397c0: 0a42 7567 2066 6978 6573 3a0a 0a2d 2020  .Bug fixes:..-  
+000397d0: 2046 6978 2062 7567 2077 6865 7265 2070   Fix bug where p
+000397e0: 7573 6865 7220 706f 6f6c 2064 6964 6e5c  usher pool didn\
+000397f0: 2774 2073 7461 7274 2061 6e64 2063 6175  't start and cau
+00039800: 7365 6420 6973 7375 6573 2077 6865 6e20  sed issues when 
+00039810: 696e 7465 7261 6374 696e 6720 7769 7468  interacting with
+00039820: 2073 6f6d 6520 726f 6f6d 7320 2850 5220   some rooms (PR 
+00039830: 2332 3334 3229 0a0a 4368 616e 6765 7320  #2342)..Changes 
+00039840: 696e 2073 796e 6170 7365 2076 302e 3232  in synapse v0.22
+00039850: 2e30 2028 3230 3137 2d30 372d 3036 290a  .0 (2017-07-06).
+00039860: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00039870: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00039880: 3d3d 3d3d 3d3d 3d0a 0a4e 6f20 6368 616e  =======..No chan
+00039890: 6765 7320 7369 6e63 6520 7630 2e32 322e  ges since v0.22.
+000398a0: 302d 7263 320a 0a43 6861 6e67 6573 2069  0-rc2..Changes i
+000398b0: 6e20 7379 6e61 7073 6520 7630 2e32 322e  n synapse v0.22.
+000398c0: 302d 7263 3220 2832 3031 372d 3037 2d30  0-rc2 (2017-07-0
+000398d0: 3429 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  4).=============
+000398e0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000398f0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a  ==============..
+00039900: 4368 616e 6765 733a 0a0a 2d20 2020 496d  Changes:..-   Im
+00039910: 7072 6f76 6520 7065 7266 6f72 6d61 6e63  prove performanc
+00039920: 6520 6f66 2073 746f 7269 6e67 2075 7365  e of storing use
+00039930: 7220 4950 7320 2850 5220 2332 3330 372c  r IPs (PR #2307,
+00039940: 2023 3233 3038 290a 2d20 2020 536c 6967   #2308).-   Slig
+00039950: 6874 6c79 2069 6d70 726f 7665 2070 6572  htly improve per
+00039960: 666f 726d 616e 6365 206f 6620 7665 7269  formance of veri
+00039970: 6679 696e 6720 6163 6365 7373 2074 6f6b  fying access tok
+00039980: 656e 7320 2850 5220 2332 3332 3029 0a2d  ens (PR #2320).-
+00039990: 2020 2053 6c69 6768 746c 7920 696d 7072     Slightly impr
+000399a0: 6f76 6520 7065 7266 6f72 6d61 6e63 6520  ove performance 
+000399b0: 6f66 2065 7665 6e74 2070 6572 7369 7374  of event persist
+000399c0: 656e 6365 2028 5052 2023 3233 3231 290a  ence (PR #2321).
+000399d0: 2d20 2020 496e 6372 6561 7365 2064 6566  -   Increase def
+000399e0: 6175 6c74 2063 6163 6865 2066 6163 746f  ault cache facto
+000399f0: 7220 7369 7a65 2066 726f 6d20 302e 3120  r size from 0.1 
+00039a00: 746f 2030 2e35 2028 5052 2023 3233 3330  to 0.5 (PR #2330
+00039a10: 290a 0a42 7567 2066 6978 6573 3a0a 0a2d  )..Bug fixes:..-
+00039a20: 2020 2046 6978 2062 7567 2077 6974 6820     Fix bug with 
+00039a30: 7374 6f72 696e 6720 7265 6769 7374 7261  storing registra
+00039a40: 7469 6f6e 2073 6573 7369 6f6e 7320 7468  tion sessions th
+00039a50: 6174 2063 6175 7365 6420 6672 6571 7565  at caused freque
+00039a60: 6e74 2043 5055 2063 6875 726e 2028 5052  nt CPU churn (PR
+00039a70: 2023 3233 3139 290a 0a43 6861 6e67 6573   #2319)..Changes
+00039a80: 2069 6e20 7379 6e61 7073 6520 7630 2e32   in synapse v0.2
+00039a90: 322e 302d 7263 3120 2832 3031 372d 3036  2.0-rc1 (2017-06
+00039aa0: 2d32 3629 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d  -26).===========
+00039ab0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00039ac0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00039ad0: 0a0a 4665 6174 7572 6573 3a0a 0a2d 2020  ..Features:..-  
+00039ae0: 2041 6464 2061 2075 7365 7220 6469 7265   Add a user dire
+00039af0: 6374 6f72 7920 4150 4920 2850 5220 2332  ctory API (PR #2
+00039b00: 3235 322c 2061 6e64 206d 616e 7920 6d6f  252, and many mo
+00039b10: 7265 290a 2d20 2020 4164 6420 7368 7574  re).-   Add shut
+00039b20: 646f 776e 2072 6f6f 6d20 4150 4920 746f  down room API to
+00039b30: 2072 656d 6f76 6520 726f 6f6d 2066 726f   remove room fro
+00039b40: 6d20 6c6f 6361 6c20 7365 7276 6572 2028  m local server (
+00039b50: 5052 2023 3232 3931 290a 2d20 2020 4164  PR #2291).-   Ad
+00039b60: 6420 4150 4920 746f 2071 7561 7261 6e74  d API to quarant
+00039b70: 696e 6520 6d65 6469 6120 2850 5220 2332  ine media (PR #2
+00039b80: 3239 3229 0a2d 2020 2041 6464 206e 6577  292).-   Add new
+00039b90: 2063 6f6e 6669 6720 6f70 7469 6f6e 2074   config option t
+00039ba0: 6f20 6e6f 7420 7365 6e64 2065 7665 6e74  o not send event
+00039bb0: 2063 6f6e 7465 6e74 7320 746f 2070 7573   contents to pus
+00039bc0: 6820 7365 7276 6572 7320 2850 5220 2332  h servers (PR #2
+00039bd0: 3330 3129 2054 6861 6e6b 7320 746f 2040  301) Thanks to @
+00039be0: 636a 6465 6c69 736c 6521 0a0a 4368 616e  cjdelisle!..Chan
+00039bf0: 6765 733a 0a0a 2d20 2020 5661 7269 6f75  ges:..-   Variou
+00039c00: 7320 7065 7266 6f72 6d61 6e63 6520 6669  s performance fi
+00039c10: 7865 7320 2850 5220 2332 3137 372c 2023  xes (PR #2177, #
+00039c20: 3232 3333 2c20 2332 3233 302c 2023 3232  2233, #2230, #22
+00039c30: 3338 2c20 2332 3234 382c 2023 3232 3536  38, #2248, #2256
+00039c40: 2c20 2332 3237 3429 0a2d 2020 2044 6564  , #2274).-   Ded
+00039c50: 7570 6c69 6361 7465 2073 796e 6320 6669  uplicate sync fi
+00039c60: 6c74 6572 7320 2850 5220 2332 3231 3929  lters (PR #2219)
+00039c70: 2054 6861 6e6b 7320 746f 2040 6b72 6f6d   Thanks to @krom
+00039c80: 6265 6c21 0a2d 2020 2043 6f72 7265 6374  bel!.-   Correct
+00039c90: 2061 2074 7970 6f20 696e 2055 5047 5241   a typo in UPGRA
+00039ca0: 4445 2e72 7374 2028 5052 2023 3232 3331  DE.rst (PR #2231
+00039cb0: 2920 5468 616e 6b73 2074 6f20 4061 6172  ) Thanks to @aar
+00039cc0: 6f6e 7261 696d 6973 7421 0a2d 2020 2041  onraimist!.-   A
+00039cd0: 6464 2063 6f75 6e74 206f 6620 6f6e 6520  dd count of one 
+00039ce0: 7469 6d65 206b 6579 7320 746f 2073 796e  time keys to syn
+00039cf0: 6320 7374 7265 616d 2028 5052 2023 3232  c stream (PR #22
+00039d00: 3337 290a 2d20 2020 4f6e 6c79 2073 746f  37).-   Only sto
+00039d10: 7265 2065 7665 6e74 5c5f 6175 7468 2066  re event\_auth f
+00039d20: 6f72 2073 7461 7465 2065 7665 6e74 7320  or state events 
+00039d30: 2850 5220 2332 3234 3729 0a2d 2020 2053  (PR #2247).-   S
+00039d40: 746f 7265 2055 524c 2063 6163 6865 2070  tore URL cache p
+00039d50: 7265 7669 6577 2064 6f77 6e6c 6f61 6473  review downloads
+00039d60: 2073 6570 6172 6174 656c 7920 2850 5220   separately (PR 
+00039d70: 2332 3239 3929 0a0a 4275 6720 6669 7865  #2299)..Bug fixe
+00039d80: 733a 0a0a 2d20 2020 4669 7820 7573 6572  s:..-   Fix user
+00039d90: 7320 6e6f 7420 6765 7474 696e 6720 6e6f  s not getting no
+00039da0: 7469 6669 6361 7469 6f6e 7320 7768 656e  tifications when
+00039db0: 2041 5320 6c69 7374 656e 6564 2074 6f20   AS listened to 
+00039dc0: 7468 6174 2075 7365 725c 5f69 6420 2850  that user\_id (P
+00039dd0: 5220 2332 3231 3629 2054 6861 6e6b 7320  R #2216) Thanks 
+00039de0: 746f 2040 736c 6970 6565 7221 0a2d 2020  to @slipeer!.-  
+00039df0: 2046 6978 2075 7365 7273 2077 6974 686f   Fix users witho
+00039e00: 7574 2070 7573 6820 7365 7420 7570 206e  ut push set up n
+00039e10: 6f74 2067 6574 7469 6e67 206e 6f74 6966  ot getting notif
+00039e20: 6963 6174 696f 6e73 2061 6674 6572 206a  ications after j
+00039e30: 6f69 6e69 6e67 2072 6f6f 6d73 2028 5052  oining rooms (PR
+00039e40: 2023 3232 3336 290a 2d20 2020 4669 7820   #2236).-   Fix 
+00039e50: 7072 6576 6965 7720 7572 6c20 4150 4920  preview url API 
+00039e60: 746f 2074 7269 6d20 6c6f 6e67 2064 6573  to trim long des
+00039e70: 6372 6970 7469 6f6e 7320 2850 5220 2332  criptions (PR #2
+00039e80: 3234 3329 0a2d 2020 2046 6978 2062 7567  243).-   Fix bug
+00039e90: 2077 6865 7265 2077 6520 7573 6564 2063   where we used c
+00039ea0: 6163 6865 6420 6275 7420 756e 7065 7273  ached but unpers
+00039eb0: 6973 7465 6420 7374 6174 6520 6772 6f75  isted state grou
+00039ec0: 7020 6173 2070 7265 7620 6772 6f75 702c  p as prev group,
+00039ed0: 2072 6573 756c 7469 6e67 2069 6e20 6272   resulting in br
+00039ee0: 6f6b 656e 2073 7461 7465 206f 6620 7265  oken state of re
+00039ef0: 7374 6172 7420 2850 5220 2332 3236 3329  start (PR #2263)
+00039f00: 0a2d 2020 2046 6978 2072 656d 6f76 696e  .-   Fix removin
+00039f10: 6720 6f66 2070 7573 6865 7273 2077 6865  g of pushers whe
+00039f20: 6e20 7573 696e 6720 776f 726b 6572 7320  n using workers 
+00039f30: 2850 5220 2332 3236 3729 0a2d 2020 2046  (PR #2267).-   F
+00039f40: 6978 2043 4f52 5320 6865 6164 6572 7320  ix CORS headers 
+00039f50: 746f 2061 6c6c 6f77 2041 7574 686f 7269  to allow Authori
+00039f60: 7a61 7469 6f6e 2068 6561 6465 7220 2850  zation header (P
+00039f70: 5220 2332 3238 3529 2054 6861 6e6b 7320  R #2285) Thanks 
+00039f80: 746f 2040 6b72 6f6d 6265 6c21 0a0a 4368  to @krombel!..Ch
+00039f90: 616e 6765 7320 696e 2073 796e 6170 7365  anges in synapse
+00039fa0: 2076 302e 3231 2e31 2028 3230 3137 2d30   v0.21.1 (2017-0
+00039fb0: 362d 3135 290a 3d3d 3d3d 3d3d 3d3d 3d3d  6-15).==========
+00039fc0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00039fd0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a42  =============..B
+00039fe0: 7567 2066 6978 6573 3a0a 0a2d 2020 2046  ug fixes:..-   F
+00039ff0: 6978 2062 7567 2069 6e20 616e 6f6e 796d  ix bug in anonym
+0003a000: 6f75 7320 7573 6167 6520 7374 6174 6973  ous usage statis
+0003a010: 7469 6320 7265 706f 7274 696e 6720 2850  tic reporting (P
+0003a020: 5220 2332 3238 3129 0a0a 4368 616e 6765  R #2281)..Change
+0003a030: 7320 696e 2073 796e 6170 7365 2076 302e  s in synapse v0.
+0003a040: 3231 2e30 2028 3230 3137 2d30 352d 3138  21.0 (2017-05-18
+0003a050: 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ).==============
+0003a060: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003a070: 3d3d 3d3d 3d3d 3d3d 3d0a 0a4e 6f20 6368  =========..No ch
+0003a080: 616e 6765 7320 7369 6e63 6520 7630 2e32  anges since v0.2
+0003a090: 312e 302d 7263 330a 0a43 6861 6e67 6573  1.0-rc3..Changes
+0003a0a0: 2069 6e20 7379 6e61 7073 6520 7630 2e32   in synapse v0.2
+0003a0b0: 312e 302d 7263 3320 2832 3031 372d 3035  1.0-rc3 (2017-05
+0003a0c0: 2d31 3729 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d  -17).===========
+0003a0d0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003a0e0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003a0f0: 0a0a 4665 6174 7572 6573 3a0a 0a2d 2020  ..Features:..-  
+0003a100: 2041 6464 2070 6572 2075 7365 7220 7261   Add per user ra
+0003a110: 7465 2d6c 696d 6974 696e 6720 6f76 6572  te-limiting over
+0003a120: 7269 6465 7320 2850 5220 2332 3230 3829  rides (PR #2208)
+0003a130: 0a2d 2020 2041 6464 2063 6f6e 6669 6720  .-   Add config 
+0003a140: 6f70 7469 6f6e 2074 6f20 6c69 6d69 7420  option to limit 
+0003a150: 6d61 7869 6d75 6d20 6e75 6d62 6572 206f  maximum number o
+0003a160: 6620 6576 656e 7473 2072 6571 7565 7374  f events request
+0003a170: 6564 2062 7920 602f 7379 6e63 6020 616e  ed by `/sync` an
+0003a180: 6420 602f 6d65 7373 6167 6573 6020 2850  d `/messages` (P
+0003a190: 5220 2332 3232 3129 2054 6861 6e6b 7320  R #2221) Thanks 
+0003a1a0: 746f 2040 7073 6161 7665 6472 6121 0a0a  to @psaavedra!..
+0003a1b0: 4368 616e 6765 733a 0a0a 2d20 2020 5661  Changes:..-   Va
+0003a1c0: 7269 6f75 7320 736d 616c 6c20 7065 7266  rious small perf
+0003a1d0: 6f72 6d61 6e63 6520 6669 7865 7320 2850  ormance fixes (P
+0003a1e0: 5220 2332 3230 312c 2023 3232 3032 2c20  R #2201, #2202, 
+0003a1f0: 2332 3232 342c 2023 3232 3236 2c20 2332  #2224, #2226, #2
+0003a200: 3232 372c 2023 3232 3238 2c20 2332 3232  227, #2228, #222
+0003a210: 3929 0a2d 2020 2055 7064 6174 6520 7573  9).-   Update us
+0003a220: 6572 6e61 6d65 2061 7661 696c 6162 696c  ername availabil
+0003a230: 6974 7920 6368 6563 6b65 7220 4150 4920  ity checker API 
+0003a240: 2850 5220 2332 3230 392c 2023 3232 3133  (PR #2209, #2213
+0003a250: 290a 2d20 2020 5768 656e 2070 7572 6769  ).-   When purgi
+0003a260: 6e67 2c20 646f 6e5c 2774 2064 652d 6465  ng, don\'t de-de
+0003a270: 6c74 6120 7374 6174 6520 6772 6f75 7073  lta state groups
+0003a280: 2077 655c 2772 6520 6162 6f75 7420 746f   we\'re about to
+0003a290: 2064 656c 6574 6520 2850 5220 2332 3231   delete (PR #221
+0003a2a0: 3429 0a2d 2020 2044 6f63 756d 656e 7461  4).-   Documenta
+0003a2b0: 7469 6f6e 2074 6f20 6368 6563 6b20 7379  tion to check sy
+0003a2c0: 6e61 7073 6520 7665 7273 696f 6e20 2850  napse version (P
+0003a2d0: 5220 2332 3231 3529 2054 6861 6e6b 7320  R #2215) Thanks 
+0003a2e0: 746f 2040 6861 6d62 6572 2d64 6963 6b21  to @hamber-dick!
+0003a2f0: 0a2d 2020 2041 6464 2061 6e20 696e 6465  .-   Add an inde
+0003a300: 7820 746f 2065 7665 6e74 5c5f 7365 6172  x to event\_sear
+0003a310: 6368 2074 6f20 7370 6565 6420 7570 2070  ch to speed up p
+0003a320: 7572 6765 2068 6973 746f 7279 2041 5049  urge history API
+0003a330: 2028 5052 2023 3232 3138 290a 0a42 7567   (PR #2218)..Bug
+0003a340: 2066 6978 6573 3a0a 0a2d 2020 2046 6978   fixes:..-   Fix
+0003a350: 2041 5049 2074 6f20 616c 6c6f 7720 636c   API to allow cl
+0003a360: 6965 6e74 7320 746f 2075 706c 6f61 6420  ients to upload 
+0003a370: 6f6e 652d 7469 6d65 2d6b 6579 7320 7769  one-time-keys wi
+0003a380: 7468 206e 6577 2073 6967 7320 2850 5220  th new sigs (PR 
+0003a390: 2332 3230 3629 0a0a 4368 616e 6765 7320  #2206)..Changes 
+0003a3a0: 696e 2073 796e 6170 7365 2076 302e 3231  in synapse v0.21
+0003a3b0: 2e30 2d72 6332 2028 3230 3137 2d30 352d  .0-rc2 (2017-05-
+0003a3c0: 3038 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  08).============
+0003a3d0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003a3e0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a  ===============.
+0003a3f0: 0a43 6861 6e67 6573 3a0a 0a2d 2020 2041  .Changes:..-   A
+0003a400: 6c77 6179 7320 6d61 726b 2072 656d 6f74  lways mark remot
+0003a410: 6573 2061 7320 7570 2069 6620 7765 2072  es as up if we r
+0003a420: 6563 6569 7665 2061 2073 6967 6e65 6420  eceive a signed 
+0003a430: 7265 7175 6573 7420 6672 6f6d 2074 6865  request from the
+0003a440: 6d20 2850 5220 2332 3139 3029 0a0a 4275  m (PR #2190)..Bu
+0003a450: 6720 6669 7865 733a 0a0a 2d20 2020 4669  g fixes:..-   Fi
+0003a460: 7820 6275 6720 7768 6572 6520 7573 6572  x bug where user
+0003a470: 7320 676f 7420 7075 7368 6564 2066 6f72  s got pushed for
+0003a480: 2072 6f6f 6d73 2074 6865 7920 6861 6420   rooms they had 
+0003a490: 6d75 7465 6420 2850 5220 2332 3230 3029  muted (PR #2200)
+0003a4a0: 0a0a 4368 616e 6765 7320 696e 2073 796e  ..Changes in syn
+0003a4b0: 6170 7365 2076 302e 3231 2e30 2d72 6331  apse v0.21.0-rc1
+0003a4c0: 2028 3230 3137 2d30 352d 3038 290a 3d3d   (2017-05-08).==
+0003a4d0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003a4e0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003a4f0: 3d3d 3d3d 3d3d 3d3d 3d0a 0a46 6561 7475  =========..Featu
+0003a500: 7265 733a 0a0a 2d20 2020 4164 6420 7573  res:..-   Add us
+0003a510: 6572 6e61 6d65 2061 7661 696c 6162 696c  ername availabil
+0003a520: 6974 7920 6368 6563 6b65 7220 4150 4920  ity checker API 
+0003a530: 2850 5220 2332 3138 3329 0a2d 2020 2041  (PR #2183).-   A
+0003a540: 6464 2072 6561 6420 6d61 726b 6572 2041  dd read marker A
+0003a550: 5049 2028 5052 2023 3231 3230 290a 0a43  PI (PR #2120)..C
+0003a560: 6861 6e67 6573 3a0a 0a2d 2020 2045 6e61  hanges:..-   Ena
+0003a570: 626c 6520 6775 6573 7420 6163 6365 7373  ble guest access
+0003a580: 2066 6f72 2074 6865 2033 706c 2f33 7069   for the 3pl/3pi
+0003a590: 6420 4150 4973 2028 5052 2023 3139 3836  d APIs (PR #1986
+0003a5a0: 290a 2d20 2020 4164 6420 7365 7474 696e  ).-   Add settin
+0003a5b0: 6720 746f 2073 7570 706f 7274 2054 5552  g to support TUR
+0003a5c0: 4e20 666f 7220 6775 6573 7473 2028 5052  N for guests (PR
+0003a5d0: 2023 3230 3131 290a 2d20 2020 5661 7269   #2011).-   Vari
+0003a5e0: 6f75 7320 7065 7266 6f72 6d61 6e63 6520  ous performance 
+0003a5f0: 696d 7072 6f76 656d 656e 7473 2028 5052  improvements (PR
+0003a600: 2023 3230 3735 2c20 2332 3037 362c 2023   #2075, #2076, #
+0003a610: 3230 3830 2c20 2332 3038 332c 2023 3231  2080, #2083, #21
+0003a620: 3038 2c20 2332 3135 382c 2023 3231 3736  08, #2158, #2176
+0003a630: 2c20 2332 3138 3529 0a2d 2020 204d 616b  , #2185).-   Mak
+0003a640: 6520 7379 6e63 746c 2061 2062 6974 206d  e synctl a bit m
+0003a650: 6f72 6520 7573 6572 2066 7269 656e 646c  ore user friendl
+0003a660: 7920 2850 5220 2332 3037 382c 2023 3231  y (PR #2078, #21
+0003a670: 3237 2920 5468 616e 6b73 2040 4150 7768  27) Thanks @APwh
+0003a680: 6974 6568 6174 210a 2d20 2020 5265 706c  itehat!.-   Repl
+0003a690: 6163 6520 4854 5450 2072 6570 6c69 6361  ace HTTP replica
+0003a6a0: 7469 6f6e 2077 6974 6820 5443 5020 7265  tion with TCP re
+0003a6b0: 706c 6963 6174 696f 6e20 2850 5220 2332  plication (PR #2
+0003a6c0: 3038 322c 2023 3230 3937 2c20 2332 3039  082, #2097, #209
+0003a6d0: 382c 2023 3230 3939 2c20 2332 3130 332c  8, #2099, #2103,
+0003a6e0: 2023 3230 3134 2c20 2332 3031 362c 2023   #2014, #2016, #
+0003a6f0: 3231 3135 2c20 2332 3131 362c 2023 3231  2115, #2116, #21
+0003a700: 3137 290a 2d20 2020 5375 7070 6f72 7420  17).-   Support 
+0003a710: 6175 7468 656e 7469 6361 7465 6420 534d  authenticated SM
+0003a720: 5450 2028 5052 2023 3231 3032 2920 5468  TP (PR #2102) Th
+0003a730: 616e 6b73 2040 4461 6e69 656c 4465 6e74  anks @DanielDent
+0003a740: 210a 2d20 2020 4164 6420 6120 636f 756e  !.-   Add a coun
+0003a750: 7465 7220 6d65 7472 6963 2066 6f72 2073  ter metric for s
+0003a760: 7563 6365 7373 6675 6c6c 792d 7365 6e74  uccessfully-sent
+0003a770: 2074 7261 6e73 6163 7469 6f6e 7320 2850   transactions (P
+0003a780: 5220 2332 3132 3129 0a2d 2020 2050 726f  R #2121).-   Pro
+0003a790: 7061 6761 7465 2065 7272 6f72 7320 7365  pagate errors se
+0003a7a0: 6e73 6962 6c79 2066 726f 6d20 7072 6f78  nsibly from prox
+0003a7b0: 6965 6420 4953 2072 6571 7565 7374 7320  ied IS requests 
+0003a7c0: 2850 5220 2332 3134 3729 0a2d 2020 2041  (PR #2147).-   A
+0003a7d0: 6464 206d 6f72 6520 6772 616e 756c 6172  dd more granular
+0003a7e0: 2065 7665 6e74 2073 656e 6420 6d65 7472   event send metr
+0003a7f0: 6963 7320 2850 5220 2332 3137 3829 0a0a  ics (PR #2178)..
+0003a800: 4275 6720 6669 7865 733a 0a0a 2d20 2020  Bug fixes:..-   
+0003a810: 4669 7820 6e75 6b65 2d72 6f6f 6d20 7363  Fix nuke-room sc
+0003a820: 7269 7074 2074 6f20 776f 726b 2077 6974  ript to work wit
+0003a830: 6820 6375 7272 656e 7420 7363 6865 6d61  h current schema
+0003a840: 2028 5052 2023 3139 3237 2920 5468 616e   (PR #1927) Than
+0003a850: 6b73 2040 7a75 636b 7363 6877 6572 6474  ks @zuckschwerdt
+0003a860: 210a 2d20 2020 4669 7820 6462 2070 6f72  !.-   Fix db por
+0003a870: 7420 7363 7269 7074 2074 6f20 6e6f 7420  t script to not 
+0003a880: 6173 7375 6d65 2070 6f73 7467 7265 7320  assume postgres 
+0003a890: 7461 626c 6573 2061 7265 2069 6e20 7468  tables are in th
+0003a8a0: 6520 7075 626c 6963 2073 6368 656d 6120  e public schema 
+0003a8b0: 2850 5220 2332 3032 3429 2054 6861 6e6b  (PR #2024) Thank
+0003a8c0: 7320 406a 6572 7279 6b61 6e21 0a2d 2020  s @jerrykan!.-  
+0003a8d0: 2046 6978 2067 6574 7469 6e67 206c 6174   Fix getting lat
+0003a8e0: 6573 7420 6465 7669 6365 2049 5020 666f  est device IP fo
+0003a8f0: 7220 7573 6572 2077 6974 6820 6e6f 2064  r user with no d
+0003a900: 6576 6963 6573 2028 5052 2023 3231 3138  evices (PR #2118
+0003a910: 290a 2d20 2020 4669 7820 7265 6a65 6374  ).-   Fix reject
+0003a920: 696f 6e20 6f66 2069 6e76 6974 6573 2074  ion of invites t
+0003a930: 6f20 756e 7265 6163 6861 626c 6520 7365  o unreachable se
+0003a940: 7276 6572 7320 2850 5220 2332 3134 3529  rvers (PR #2145)
+0003a950: 0a2d 2020 2046 6978 2063 6f64 6520 666f  .-   Fix code fo
+0003a960: 7220 7265 706f 7274 696e 6720 6f6c 6420  r reporting old 
+0003a970: 7665 7269 6679 206b 6579 7320 696e 2073  verify keys in s
+0003a980: 796e 6170 7365 2028 5052 2023 3231 3536  ynapse (PR #2156
+0003a990: 290a 2d20 2020 4669 7820 696e 7669 7465  ).-   Fix invite
+0003a9a0: 2073 7461 7465 2074 6f20 616c 7761 7973   state to always
+0003a9b0: 2069 6e63 6c75 6465 2061 6c6c 2065 7665   include all eve
+0003a9c0: 6e74 7320 2850 5220 2332 3136 3329 0a2d  nts (PR #2163).-
+0003a9d0: 2020 2046 6978 2062 7567 2077 6865 7265     Fix bug where
+0003a9e0: 2073 796e 6170 7365 2077 6f75 6c64 2061   synapse would a
+0003a9f0: 6c77 6179 7320 6665 7463 6820 7374 6174  lways fetch stat
+0003aa00: 6520 666f 7220 616e 7920 6d69 7373 696e  e for any missin
+0003aa10: 6720 6576 656e 7420 2850 5220 2332 3137  g event (PR #217
+0003aa20: 3029 0a2d 2020 2046 6978 2061 206c 6561  0).-   Fix a lea
+0003aa30: 6b20 7769 7468 2074 696d 6564 206f 7574  k with timed out
+0003aa40: 2048 5454 5020 636f 6e6e 6563 7469 6f6e   HTTP connection
+0003aa50: 7320 2850 5220 2332 3138 3029 0a2d 2020  s (PR #2180).-  
+0003aa60: 2046 6978 2062 7567 2077 6865 7265 2077   Fix bug where w
+0003aa70: 6520 6469 646e 5c27 7420 7469 6d65 206f  e didn\'t time o
+0003aa80: 7574 2048 5454 5020 7265 7175 6573 7473  ut HTTP requests
+0003aa90: 2074 6f20 4153 6573 2028 5052 2023 3231   to ASes (PR #21
+0003aaa0: 3932 290a 0a44 6f63 733a 0a0a 2d20 2020  92)..Docs:..-   
+0003aab0: 436c 6172 6966 7920 646f 6320 666f 7220  Clarify doc for 
+0003aac0: 5351 4c69 7465 2074 6f20 506f 7374 6772  SQLite to Postgr
+0003aad0: 6553 514c 2070 6f72 7420 2850 5220 2331  eSQL port (PR #1
+0003aae0: 3936 3129 2054 6861 6e6b 7320 4062 656e  961) Thanks @ben
+0003aaf0: 6879 6c61 7521 0a2d 2020 2046 6978 2074  hylau!.-   Fix t
+0003ab00: 7970 6f20 696e 2073 796e 6374 6c20 6865  ypo in synctl he
+0003ab10: 6c70 2028 5052 2023 3231 3037 2920 5468  lp (PR #2107) Th
+0003ab20: 616e 6b73 2040 4861 7248 6172 4c69 6e6b  anks @HarHarLink
+0003ab30: 7321 0a2d 2020 2060 7765 625f 636c 6965  s!.-   `web_clie
+0003ab40: 6e74 5f6c 6f63 6174 696f 6e60 2064 6f63  nt_location` doc
+0003ab50: 756d 656e 7461 7469 6f6e 2066 6978 2028  umentation fix (
+0003ab60: 5052 2023 3231 3331 2920 5468 616e 6b73  PR #2131) Thanks
+0003ab70: 2040 6d61 7474 6865 776a 776f 6c66 6621   @matthewjwolff!
+0003ab80: 0a2d 2020 2055 7064 6174 6520 5245 4144  .-   Update READ
+0003ab90: 4d45 2e72 7374 2077 6974 6820 4672 6565  ME.rst with Free
+0003aba0: 4253 4420 6368 616e 6765 7320 2850 5220  BSD changes (PR 
+0003abb0: 2332 3133 3229 2054 6861 6e6b 7320 4066  #2132) Thanks @f
+0003abc0: 656c 6421 0a2d 2020 2043 6c61 7269 6679  eld!.-   Clarify
+0003abd0: 2073 6574 7469 6e67 2075 7020 6d65 7472   setting up metr
+0003abe0: 6963 7320 2850 5220 2332 3134 3929 2054  ics (PR #2149) T
+0003abf0: 6861 6e6b 7320 4065 6e63 6b73 210a 0a43  hanks @encks!..C
+0003ac00: 6861 6e67 6573 2069 6e20 7379 6e61 7073  hanges in synaps
+0003ac10: 6520 7630 2e32 302e 3020 2832 3031 372d  e v0.20.0 (2017-
+0003ac20: 3034 2d31 3129 0a3d 3d3d 3d3d 3d3d 3d3d  04-11).=========
+0003ac30: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003ac40: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a  ==============..
+0003ac50: 4275 6720 6669 7865 733a 0a0a 2d20 2020  Bug fixes:..-   
+0003ac60: 4669 7820 6a6f 696e 696e 6720 726f 6f6d  Fix joining room
+0003ac70: 7320 6f76 6572 2066 6564 6572 6174 696f  s over federatio
+0003ac80: 6e20 7768 6572 6520 6e6f 7420 616c 6c20  n where not all 
+0003ac90: 7365 7276 6572 7320 696e 2074 6865 2072  servers in the r
+0003aca0: 6f6f 6d20 7361 7720 7468 6520 6e65 7720  oom saw the new 
+0003acb0: 7365 7276 6572 2068 6164 206a 6f69 6e65  server had joine
+0003acc0: 6420 2850 5220 2332 3039 3429 0a0a 4368  d (PR #2094)..Ch
+0003acd0: 616e 6765 7320 696e 2073 796e 6170 7365  anges in synapse
+0003ace0: 2076 302e 3230 2e30 2d72 6331 2028 3230   v0.20.0-rc1 (20
+0003acf0: 3137 2d30 332d 3330 290a 3d3d 3d3d 3d3d  17-03-30).======
+0003ad00: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003ad10: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003ad20: 3d3d 3d3d 3d0a 0a46 6561 7475 7265 733a  =====..Features:
+0003ad30: 0a0a 2d20 2020 4164 6420 6465 6c65 7465  ..-   Add delete
+0003ad40: 5c5f 6465 7669 6365 7320 4150 4920 2850  \_devices API (P
+0003ad50: 5220 2331 3939 3329 0a2d 2020 2041 6464  R #1993).-   Add
+0003ad60: 2070 686f 6e65 206e 756d 6265 7220 7265   phone number re
+0003ad70: 6769 7374 7261 7469 6f6e 2f6c 6f67 696e  gistration/login
+0003ad80: 2073 7570 706f 7274 2028 5052 2023 3139   support (PR #19
+0003ad90: 3934 2c20 2332 3035 3529 0a0a 4368 616e  94, #2055)..Chan
+0003ada0: 6765 733a 0a0a 2d20 2020 5573 6520 4a53  ges:..-   Use JS
+0003adb0: 4f4e 5363 6865 6d61 2066 6f72 2076 616c  ONSchema for val
+0003adc0: 6964 6174 696f 6e20 6f66 2066 696c 7465  idation of filte
+0003add0: 7273 2e20 5468 616e 6b73 2040 7069 6b21  rs. Thanks @pik!
+0003ade0: 2028 5052 2023 3137 3833 290a 2d20 2020   (PR #1783).-   
+0003adf0: 5265 7265 6164 206c 6f67 2063 6f6e 6669  Reread log confi
+0003ae00: 6720 6f6e 2053 4947 4855 5020 2850 5220  g on SIGHUP (PR 
+0003ae10: 2331 3938 3229 0a2d 2020 2053 7065 6564  #1982).-   Speed
+0003ae20: 2075 7020 7075 626c 6963 2072 6f6f 6d20   up public room 
+0003ae30: 6c69 7374 2028 5052 2023 3139 3839 290a  list (PR #1989).
+0003ae40: 2d20 2020 4164 6420 6865 6c70 6675 6c20  -   Add helpful 
+0003ae50: 7465 7874 7320 746f 206c 6f67 6765 7220  texts to logger 
+0003ae60: 636f 6e66 6967 206f 7074 696f 6e73 2028  config options (
+0003ae70: 5052 2023 3139 3930 290a 2d20 2020 4d69  PR #1990).-   Mi
+0003ae80: 6e6f 7220 602f 7379 6e63 6020 7065 7266  nor `/sync` perf
+0003ae90: 6f72 6d61 6e63 6520 696d 7072 6f76 656d  ormance improvem
+0003aea0: 656e 7473 2e20 2850 5220 2332 3030 322c  ents. (PR #2002,
+0003aeb0: 2023 3230 3133 2c20 2332 3032 3229 0a2d   #2013, #2022).-
+0003aec0: 2020 2041 6464 2073 6f6d 6520 6465 6275     Add some debu
+0003aed0: 6720 746f 2068 656c 7020 6469 6167 6e6f  g to help diagno
+0003aee0: 7365 2077 6569 7264 2066 6564 6572 6174  se weird federat
+0003aef0: 696f 6e20 6973 7375 6520 2850 5220 2332  ion issue (PR #2
+0003af00: 3033 3529 0a2d 2020 2043 6f72 7265 6374  035).-   Correct
+0003af10: 6c79 206c 696d 6974 2072 6574 7269 6573  ly limit retries
+0003af20: 2066 6f72 2061 6c6c 2066 6564 6572 6174   for all federat
+0003af30: 696f 6e20 7265 7175 6573 7473 2028 5052  ion requests (PR
+0003af40: 2023 3230 3530 2c20 2332 3036 3129 0a2d   #2050, #2061).-
+0003af50: 2020 2044 6f6e 5c27 7420 6c6f 636b 2074     Don\'t lock t
+0003af60: 6162 6c65 2077 6865 6e20 7065 7273 6973  able when persis
+0003af70: 7469 6e67 206e 6577 206f 6e65 2074 696d  ting new one tim
+0003af80: 6520 6b65 7973 2028 5052 2023 3230 3533  e keys (PR #2053
+0003af90: 290a 2d20 2020 5265 6475 6365 2073 6f6d  ).-   Reduce som
+0003afa0: 6520 4350 5520 776f 726b 206f 6e20 4442  e CPU work on DB
+0003afb0: 2074 6872 6561 6473 2028 5052 2023 3230   threads (PR #20
+0003afc0: 3534 290a 2d20 2020 4361 6368 6520 686f  54).-   Cache ho
+0003afd0: 7374 7320 696e 2072 6f6f 6d20 2850 5220  sts in room (PR 
+0003afe0: 2332 3036 3029 0a2d 2020 2042 6174 6368  #2060).-   Batch
+0003aff0: 2073 656e 6469 6e67 206f 6620 6465 7669   sending of devi
+0003b000: 6365 206c 6973 7420 706f 6b65 7320 2850  ce list pokes (P
+0003b010: 5220 2332 3036 3329 0a2d 2020 2053 7065  R #2063).-   Spe
+0003b020: 6564 2075 7020 7065 7273 6973 7420 6576  ed up persist ev
+0003b030: 656e 7420 7061 7468 2069 6e20 6365 7274  ent path in cert
+0003b040: 6169 6e20 6564 6765 2063 6173 6573 2028  ain edge cases (
+0003b050: 5052 2023 3230 3730 290a 0a42 7567 2066  PR #2070)..Bug f
+0003b060: 6978 6573 3a0a 0a2d 2020 2046 6978 2062  ixes:..-   Fix b
+0003b070: 7567 2077 6865 7265 2063 7572 7265 6e74  ug where current
+0003b080: 5c5f 7374 6174 655c 5f65 7665 6e74 7320  \_state\_events 
+0003b090: 7265 6e61 6d65 6420 746f 2063 7572 7265  renamed to curre
+0003b0a0: 6e74 5c5f 7374 6174 655c 5f69 6473 2028  nt\_state\_ids (
+0003b0b0: 5052 2023 3138 3439 290a 2d20 2020 4669  PR #1849).-   Fi
+0003b0c0: 7820 726f 7574 696e 6720 6c6f 6f70 2077  x routing loop w
+0003b0d0: 6865 6e20 6665 7463 6869 6e67 2072 656d  hen fetching rem
+0003b0e0: 6f74 6520 6d65 6469 6120 2850 5220 2331  ote media (PR #1
+0003b0f0: 3939 3229 0a2d 2020 2046 6978 2063 7572  992).-   Fix cur
+0003b100: 7265 6e74 5c5f 7374 6174 655c 5f65 7665  rent\_state\_eve
+0003b110: 6e74 7320 7461 626c 6520 746f 206e 6f74  nts table to not
+0003b120: 206c 6965 2028 5052 2023 3139 3936 290a   lie (PR #1996).
+0003b130: 2d20 2020 4669 7820 4341 5320 6c6f 6769  -   Fix CAS logi
+0003b140: 6e20 746f 2068 616e 646c 6520 5061 7274  n to handle Part
+0003b150: 6961 6c44 6f77 6e6c 6f61 6445 7272 6f72  ialDownloadError
+0003b160: 2028 5052 2023 3139 3937 290a 2d20 2020   (PR #1997).-   
+0003b170: 4669 7820 6173 7365 7274 696f 6e20 746f  Fix assertion to
+0003b180: 2073 746f 7020 7472 616e 7361 6374 696f   stop transactio
+0003b190: 6e20 7175 6575 6520 6765 7474 696e 6720  n queue getting 
+0003b1a0: 7765 6467 6564 2028 5052 2023 3230 3130  wedged (PR #2010
+0003b1b0: 290a 2d20 2020 4669 7820 7072 6573 656e  ).-   Fix presen
+0003b1c0: 6365 2074 6f20 6661 6c6c 6261 636b 2074  ce to fallback t
+0003b1d0: 6f20 6c61 7374 5c5f 6163 7469 7665 5c5f  o last\_active\_
+0003b1e0: 7473 2069 6620 6974 2062 6561 7473 2074  ts if it beats t
+0003b1f0: 6865 206c 6173 7420 7379 6e63 2074 696d  he last sync tim
+0003b200: 652e 2054 6861 6e6b 7320 4048 616c 662d  e. Thanks @Half-
+0003b210: 5368 6f74 2120 2850 5220 2332 3031 3429  Shot! (PR #2014)
+0003b220: 0a2d 2020 2046 6978 2062 7567 2077 6865  .-   Fix bug whe
+0003b230: 6e20 6665 6465 7261 7469 6f6e 2072 6563  n federation rec
+0003b240: 6569 7665 6420 6120 5044 5520 7768 696c  eived a PDU whil
+0003b250: 6520 6120 726f 6f6d 206a 6f69 6e20 6973  e a room join is
+0003b260: 2069 6e20 7072 6f67 7265 7373 2028 5052   in progress (PR
+0003b270: 2023 3230 3136 290a 2d20 2020 4669 7820   #2016).-   Fix 
+0003b280: 7265 7365 7474 696e 6720 7374 6174 6520  resetting state 
+0003b290: 6f6e 2072 656a 6563 7465 6420 6576 656e  on rejected even
+0003b2a0: 7473 2028 5052 2023 3230 3235 290a 2d20  ts (PR #2025).- 
+0003b2b0: 2020 4669 7820 696e 7374 616c 6c61 7469    Fix installati
+0003b2c0: 6f6e 2069 7373 7565 7320 696e 2072 6561  on issues in rea
+0003b2d0: 646d 652e 2054 6861 6e6b 7320 4072 6963  dme. Thanks @ric
+0003b2e0: 636f 3338 3620 2850 5220 2332 3033 3729  co386 (PR #2037)
+0003b2f0: 0a2d 2020 2046 6978 2063 6163 6869 6e67  .-   Fix caching
+0003b300: 206f 6620 7265 6d6f 7465 2073 6572 7665   of remote serve
+0003b310: 7273 5c27 2073 6967 6e61 7475 7265 206b  rs\' signature k
+0003b320: 6579 7320 2850 5220 2332 3034 3229 0a2d  eys (PR #2042).-
+0003b330: 2020 2046 6978 2073 6f6d 6520 6c65 616b     Fix some leak
+0003b340: 696e 6720 6c6f 6720 636f 6e74 6578 7420  ing log context 
+0003b350: 2850 5220 2332 3034 382c 2023 3230 3439  (PR #2048, #2049
+0003b360: 2c20 2332 3035 372c 2023 3230 3538 290a  , #2057, #2058).
+0003b370: 2d20 2020 4669 7820 7265 6a65 6374 696f  -   Fix rejectio
+0003b380: 6e20 6f66 2069 6e76 6974 6573 206e 6f74  n of invites not
+0003b390: 2072 6561 6368 696e 6720 7379 6e63 2028   reaching sync (
+0003b3a0: 5052 2023 3230 3536 290a 0a43 6861 6e67  PR #2056)..Chang
+0003b3b0: 6573 2069 6e20 7379 6e61 7073 6520 7630  es in synapse v0
+0003b3c0: 2e31 392e 3320 2832 3031 372d 3033 2d32  .19.3 (2017-03-2
+0003b3d0: 3029 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  0).=============
+0003b3e0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003b3f0: 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 4e6f 2063  ==========..No c
+0003b400: 6861 6e67 6573 2073 696e 6365 2076 302e  hanges since v0.
+0003b410: 3139 2e33 2d72 6332 0a0a 4368 616e 6765  19.3-rc2..Change
+0003b420: 7320 696e 2073 796e 6170 7365 2076 302e  s in synapse v0.
+0003b430: 3139 2e33 2d72 6332 2028 3230 3137 2d30  19.3-rc2 (2017-0
+0003b440: 332d 3133 290a 3d3d 3d3d 3d3d 3d3d 3d3d  3-13).==========
+0003b450: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003b460: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003b470: 3d0a 0a42 7567 2066 6978 6573 3a0a 0a2d  =..Bug fixes:..-
+0003b480: 2020 2046 6978 2062 7567 2069 6e20 6861     Fix bug in ha
+0003b490: 6e64 6c69 6e67 206f 6620 696e 636f 6d69  ndling of incomi
+0003b4a0: 6e67 2064 6576 6963 6520 6c69 7374 2075  ng device list u
+0003b4b0: 7064 6174 6573 206f 7665 7220 6665 6465  pdates over fede
+0003b4c0: 7261 7469 6f6e 2e0a 0a43 6861 6e67 6573  ration...Changes
+0003b4d0: 2069 6e20 7379 6e61 7073 6520 7630 2e31   in synapse v0.1
+0003b4e0: 392e 332d 7263 3120 2832 3031 372d 3033  9.3-rc1 (2017-03
+0003b4f0: 2d30 3829 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d  -08).===========
+0003b500: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003b510: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003b520: 0a0a 4665 6174 7572 6573 3a0a 0a2d 2020  ..Features:..-  
+0003b530: 2041 6464 2073 6f6d 6520 6164 6d69 6e69   Add some admini
+0003b540: 7374 7261 7469 6f6e 2066 756e 6374 696f  stration functio
+0003b550: 6e61 6c69 7469 6573 2e20 5468 616e 6b73  nalities. Thanks
+0003b560: 2074 6f20 6d6f 7274 657a 612d 6172 6162   to morteza-arab
+0003b570: 7921 2028 5052 2023 3137 3834 290a 0a43  y! (PR #1784)..C
+0003b580: 6861 6e67 6573 3a0a 0a2d 2020 2052 6564  hanges:..-   Red
+0003b590: 7563 6520 6461 7461 6261 7365 2074 6162  uce database tab
+0003b5a0: 6c65 2073 697a 6573 2028 5052 2023 3138  le sizes (PR #18
+0003b5b0: 3733 2c20 2331 3931 362c 2023 3139 3233  73, #1916, #1923
+0003b5c0: 2c20 2331 3936 3329 0a2d 2020 2055 7064  , #1963).-   Upd
+0003b5d0: 6174 6520 636f 6e74 7269 622f 2074 6f20  ate contrib/ to 
+0003b5e0: 6e6f 7420 7573 6520 7379 7574 696c 2e20  not use syutil. 
+0003b5f0: 5468 616e 6b73 2074 6f20 616e 6472 6577  Thanks to andrew
+0003b600: 7368 6164 7572 6121 2028 5052 2023 3139  shadura! (PR #19
+0003b610: 3037 290a 2d20 2020 446f 6e5c 2774 2066  07).-   Don\'t f
+0003b620: 6574 6368 2063 7572 7265 6e74 2073 7461  etch current sta
+0003b630: 7465 2077 6865 6e20 7365 6e64 696e 6720  te when sending 
+0003b640: 616e 2065 7665 6e74 2069 6e20 636f 6d6d  an event in comm
+0003b650: 6f6e 2063 6173 6520 2850 5220 2331 3935  on case (PR #195
+0003b660: 3529 0a0a 4275 6720 6669 7865 733a 0a0a  5)..Bug fixes:..
+0003b670: 2d20 2020 4669 7820 7379 6e61 7073 655c  -   Fix synapse\
+0003b680: 5f70 6f72 745c 5f64 6220 6661 696c 7572  _port\_db failur
+0003b690: 652e 2054 6861 6e6b 7320 746f 2050 6e65  e. Thanks to Pne
+0003b6a0: 756d 6174 6963 6174 2120 2850 5220 2331  umaticat! (PR #1
+0003b6b0: 3930 3429 0a2d 2020 2046 6978 2063 6163  904).-   Fix cac
+0003b6c0: 6869 6e67 2074 6f20 6e6f 7420 6361 6368  hing to not cach
+0003b6d0: 6520 6572 726f 7220 7265 7370 6f6e 7365  e error response
+0003b6e0: 7320 2850 5220 2331 3931 3329 0a2d 2020  s (PR #1913).-  
+0003b6f0: 2046 6978 2041 5049 7320 746f 206d 616b   Fix APIs to mak
+0003b700: 6520 6b69 636b 2026 2062 616e 2072 6561  e kick & ban rea
+0003b710: 736f 6e73 2077 6f72 6b20 2850 5220 2331  sons work (PR #1
+0003b720: 3931 3729 0a2d 2020 2046 6978 2062 7567  917).-   Fix bug
+0003b730: 7320 696e 2074 6865 202f 6b65 7973 2f63  s in the /keys/c
+0003b740: 6861 6e67 6573 2061 7069 2028 5052 2023  hanges api (PR #
+0003b750: 3139 3231 290a 2d20 2020 4669 7820 6275  1921).-   Fix bu
+0003b760: 6720 7768 6572 6520 7573 6572 7320 636f  g where users co
+0003b770: 756c 646e 5c27 7420 666f 7267 6574 2072  uldn\'t forget r
+0003b780: 6f6f 6d73 2074 6865 7920 7765 7265 2062  ooms they were b
+0003b790: 616e 6e65 6420 6672 6f6d 2028 5052 2023  anned from (PR #
+0003b7a0: 3139 3232 290a 2d20 2020 4669 7820 6973  1922).-   Fix is
+0003b7b0: 7375 6520 7769 7468 206c 6f6e 6720 6c61  sue with long la
+0003b7c0: 6e67 7561 6765 2076 616c 7565 7320 696e  nguage values in
+0003b7d0: 2070 7573 6865 7273 2041 5049 2028 5052   pushers API (PR
+0003b7e0: 2023 3139 3235 290a 2d20 2020 4669 7820   #1925).-   Fix 
+0003b7f0: 6120 7261 6365 2069 6e20 7472 616e 7361  a race in transa
+0003b800: 6374 696f 6e20 7175 6575 6520 2850 5220  ction queue (PR 
+0003b810: 2331 3933 3029 0a2d 2020 2046 6978 2064  #1930).-   Fix d
+0003b820: 796e 616d 6963 2074 6875 6d62 6e61 696c  ynamic thumbnail
+0003b830: 696e 6720 746f 2070 7265 7365 7276 6520  ing to preserve 
+0003b840: 6173 7065 6374 2072 6174 696f 2e20 5468  aspect ratio. Th
+0003b850: 616e 6b73 2074 6f20 6a6b 6f6c 6f21 2028  anks to jkolo! (
+0003b860: 5052 2023 3139 3435 290a 2d20 2020 4669  PR #1945).-   Fi
+0003b870: 7820 6465 7669 6365 206c 6973 7420 7570  x device list up
+0003b880: 6461 7465 2074 6f20 6e6f 7420 636f 6e73  date to not cons
+0003b890: 7461 6e74 6c79 2072 6573 796e 6320 2850  tantly resync (P
+0003b8a0: 5220 2331 3936 3429 0a2d 2020 2046 6978  R #1964).-   Fix
+0003b8b0: 2070 6f74 656e 7469 616c 2066 6f72 2068   potential for h
+0003b8c0: 7567 6520 6d65 6d6f 7279 2075 7361 6765  uge memory usage
+0003b8d0: 2077 6865 6e20 6765 7474 696e 6720 6465   when getting de
+0003b8e0: 7669 6365 2074 6861 7420 6861 7665 2063  vice that have c
+0003b8f0: 6861 6e67 6564 2028 5052 2023 3139 3639  hanged (PR #1969
+0003b900: 290a 0a43 6861 6e67 6573 2069 6e20 7379  )..Changes in sy
+0003b910: 6e61 7073 6520 7630 2e31 392e 3220 2832  napse v0.19.2 (2
+0003b920: 3031 372d 3032 2d32 3029 0a3d 3d3d 3d3d  017-02-20).=====
 0003b930: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
 0003b940: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003b950: 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a2d 2020  ===========..-  
-0003b960: 2042 756d 7020 6361 6368 6520 7369 7a65   Bump cache size
-0003b970: 7320 666f 7220 636f 6d6d 6f6e 206d 656d  s for common mem
-0003b980: 6265 7273 6869 7020 7175 6572 6965 7320  bership queries 
-0003b990: 2850 5220 2331 3837 3929 0a0a 4368 616e  (PR #1879)..Chan
-0003b9a0: 6765 7320 696e 2073 796e 6170 7365 2076  ges in synapse v
-0003b9b0: 302e 3139 2e30 2d72 6333 2028 3230 3137  0.19.0-rc3 (2017
-0003b9c0: 2d30 322d 3032 290a 3d3d 3d3d 3d3d 3d3d  -02-02).========
-0003b9d0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003b9e0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003b9f0: 3d3d 3d0a 0a2d 2020 2046 6978 2065 6d61  ===..-   Fix ema
-0003ba00: 696c 2070 7573 6820 696e 2070 7573 6865  il push in pushe
-0003ba10: 7220 776f 726b 6572 2028 5052 2023 3138  r worker (PR #18
-0003ba20: 3735 290a 2d20 2020 4d61 6b65 2070 7265  75).-   Make pre
-0003ba30: 7365 6e63 652e 6765 745c 5f6e 6577 5c5f  sence.get\_new\_
-0003ba40: 6576 656e 7473 2061 2062 6974 2066 6173  events a bit fas
-0003ba50: 7465 7220 2850 5220 2331 3837 3629 0a2d  ter (PR #1876).-
-0003ba60: 2020 204d 616b 6520 2f6b 6579 732f 6368     Make /keys/ch
-0003ba70: 616e 6765 7320 6120 6269 7420 6d6f 7265  anges a bit more
-0003ba80: 2070 6572 666f 726d 616e 7420 2850 5220   performant (PR 
-0003ba90: 2331 3837 3729 0a0a 4368 616e 6765 7320  #1877)..Changes 
-0003baa0: 696e 2073 796e 6170 7365 2076 302e 3139  in synapse v0.19
-0003bab0: 2e30 2d72 6332 2028 3230 3137 2d30 322d  .0-rc2 (2017-02-
-0003bac0: 3032 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  02).============
+0003b950: 3d3d 0a0a 2d20 2020 4669 7820 6275 6720  ==..-   Fix bug 
+0003b960: 7769 7468 2065 7665 6e74 2076 6973 6962  with event visib
+0003b970: 696c 6974 7920 6368 6563 6b20 696e 202f  ility check in /
+0003b980: 636f 6e74 6578 742f 2041 5049 2e20 5468  context/ API. Th
+0003b990: 616e 6b73 2074 6f20 546f 6b6f 646f 6d6f  anks to Tokodomo
+0003b9a0: 2066 6f72 2070 6f69 6e74 696e 6720 6974   for pointing it
+0003b9b0: 206f 7574 2120 2850 5220 2331 3932 3929   out! (PR #1929)
+0003b9c0: 0a0a 4368 616e 6765 7320 696e 2073 796e  ..Changes in syn
+0003b9d0: 6170 7365 2076 302e 3139 2e31 2028 3230  apse v0.19.1 (20
+0003b9e0: 3137 2d30 322d 3039 290a 3d3d 3d3d 3d3d  17-02-09).======
+0003b9f0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003ba00: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003ba10: 3d0a 0a2d 2020 2046 6978 2062 7567 2077  =..-   Fix bug w
+0003ba20: 6865 7265 2073 7461 7465 2077 6173 2069  here state was i
+0003ba30: 6e63 6f72 7265 6374 6c79 2072 6573 6574  ncorrectly reset
+0003ba40: 2069 6e20 6120 726f 6f6d 2077 6865 6e20   in a room when 
+0003ba50: 7379 6e61 7073 6520 7265 6365 6976 6564  synapse received
+0003ba60: 2061 6e20 6576 656e 7420 6f76 6572 2066   an event over f
+0003ba70: 6564 6572 6174 696f 6e20 7468 6174 2064  ederation that d
+0003ba80: 6964 206e 6f74 2070 6173 7320 6175 7468  id not pass auth
+0003ba90: 2063 6865 636b 7320 2850 5220 2331 3839   checks (PR #189
+0003baa0: 3229 0a0a 4368 616e 6765 7320 696e 2073  2)..Changes in s
+0003bab0: 796e 6170 7365 2076 302e 3139 2e30 2028  ynapse v0.19.0 (
+0003bac0: 3230 3137 2d30 322d 3034 290a 3d3d 3d3d  2017-02-04).====
 0003bad0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003bae0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a  ===============.
-0003baf0: 0a2d 2020 2049 6e63 6c75 6465 206e 6577  .-   Include new
-0003bb00: 6c79 206a 6f69 6e65 6420 7573 6572 7320  ly joined users 
-0003bb10: 696e 202f 6b65 7973 2f63 6861 6e67 6573  in /keys/changes
-0003bb20: 2041 5049 2028 5052 2023 3138 3732 290a   API (PR #1872).
-0003bb30: 0a43 6861 6e67 6573 2069 6e20 7379 6e61  .Changes in syna
-0003bb40: 7073 6520 7630 2e31 392e 302d 7263 3120  pse v0.19.0-rc1 
-0003bb50: 2832 3031 372d 3032 2d30 3229 0a3d 3d3d  (2017-02-02).===
-0003bb60: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003bb70: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003bb80: 3d3d 3d3d 3d3d 3d3d 0a0a 4665 6174 7572  ========..Featur
-0003bb90: 6573 3a0a 0a2d 2020 2041 6464 2073 7570  es:..-   Add sup
-0003bba0: 706f 7274 2066 6f72 2073 7065 6369 6679  port for specify
-0003bbb0: 696e 6720 6d75 6c74 6970 6c65 2062 696e  ing multiple bin
-0003bbc0: 6420 6164 6472 6573 7365 7320 2850 5220  d addresses (PR 
-0003bbd0: 2331 3730 392c 2023 3137 3132 2c20 2331  #1709, #1712, #1
-0003bbe0: 3739 352c 2023 3138 3335 292e 2054 6861  795, #1835). Tha
-0003bbf0: 6e6b 7320 746f 2040 6b79 7269 6173 210a  nks to @kyrias!.
-0003bc00: 2d20 2020 4164 6420 2f61 6363 6f75 6e74  -   Add /account
-0003bc10: 2f33 7069 642f 6465 6c65 7465 2065 6e64  /3pid/delete end
-0003bc20: 706f 696e 7420 2850 5220 2331 3731 3429  point (PR #1714)
-0003bc30: 0a2d 2020 2041 6464 2063 6f6e 6669 6720  .-   Add config 
-0003bc40: 6f70 7469 6f6e 2074 6f20 636f 6e66 6967  option to config
-0003bc50: 7572 6520 7468 6520 5269 6f74 2055 524c  ure the Riot URL
-0003bc60: 2075 7365 6420 696e 206e 6f74 6966 6963   used in notific
-0003bc70: 6174 696f 6e20 656d 6169 6c73 2028 5052  ation emails (PR
-0003bc80: 2023 3138 3131 292e 2054 6861 6e6b 7320   #1811). Thanks 
-0003bc90: 746f 2040 6170 6572 657a 6463 210a 2d20  to @aperezdc!.- 
-0003bca0: 2020 4164 6420 7573 6572 6e61 6d65 2061    Add username a
-0003bcb0: 6e64 2070 6173 7377 6f72 6420 636f 6e66  nd password conf
-0003bcc0: 6967 206f 7074 696f 6e73 2066 6f72 2074  ig options for t
-0003bcd0: 7572 6e20 7365 7276 6572 2028 5052 2023  urn server (PR #
-0003bce0: 3138 3332 292e 2054 6861 6e6b 7320 746f  1832). Thanks to
-0003bcf0: 2040 7873 7465 6164 6661 7374 7821 0a2d   @xsteadfastx!.-
-0003bd00: 2020 2049 6d70 6c65 6d65 6e74 2064 6576     Implement dev
-0003bd10: 6963 6520 6c69 7374 7320 7570 6461 7465  ice lists update
-0003bd20: 7320 6f76 6572 2066 6564 6572 6174 696f  s over federatio
-0003bd30: 6e20 2850 5220 2331 3835 372c 2023 3138  n (PR #1857, #18
-0003bd40: 3631 2c20 2331 3836 3429 0a2d 2020 2049  61, #1864).-   I
-0003bd50: 6d70 6c65 6d65 6e74 202f 6b65 7973 2f63  mplement /keys/c
-0003bd60: 6861 6e67 6573 2028 5052 2023 3138 3639  hanges (PR #1869
-0003bd70: 2c20 2331 3837 3229 0a0a 4368 616e 6765  , #1872)..Change
-0003bd80: 733a 0a0a 2d20 2020 496d 7072 6f76 6520  s:..-   Improve 
-0003bd90: 4950 7636 2073 7570 706f 7274 2028 5052  IPv6 support (PR
-0003bda0: 2023 3136 3936 292e 2054 6861 6e6b 7320   #1696). Thanks 
-0003bdb0: 746f 2040 6b79 7269 6173 2061 6e64 2040  to @kyrias and @
-0003bdc0: 676c 7970 6821 0a2d 2020 204c 6f67 2077  glyph!.-   Log w
-0003bdd0: 6869 6368 2066 696c 6573 2077 6520 7361  hich files we sa
-0003bde0: 7665 6420 6174 7461 6368 6d65 6e74 7320  ved attachments 
-0003bdf0: 746f 2069 6e20 7468 6520 6d65 6469 615c  to in the media\
-0003be00: 5f72 6570 6f73 6974 6f72 7920 2850 5220  _repository (PR 
-0003be10: 2331 3739 3129 0a2d 2020 204c 696e 6561  #1791).-   Linea
-0003be20: 7269 7a65 2075 7064 6174 6573 2074 6f20  rize updates to 
-0003be30: 6d65 6d62 6572 7368 6970 2076 6961 2050  membership via P
-0003be40: 5554 202f 7374 6174 652f 2074 6f20 6265  UT /state/ to be
-0003be50: 7474 6572 2068 616e 646c 6520 6d75 6c74  tter handle mult
-0003be60: 6970 6c65 206a 6f69 6e73 2028 5052 2023  iple joins (PR #
-0003be70: 3137 3837 290a 2d20 2020 4c69 6d69 7420  1787).-   Limit 
-0003be80: 6e75 6d62 6572 206f 6620 656e 7472 6965  number of entrie
-0003be90: 7320 746f 2070 7265 6669 6c6c 2066 726f  s to prefill fro
-0003bea0: 6d20 6361 6368 6520 6f6e 2073 7461 7274  m cache on start
-0003beb0: 7570 2028 5052 2023 3137 3932 290a 2d20  up (PR #1792).- 
-0003bec0: 2020 5265 6d6f 7665 2066 756c 6c5c 5f74    Remove full\_t
-0003bed0: 7769 7374 6564 5c5f 7374 6163 6b74 7261  wisted\_stacktra
-0003bee0: 6365 7320 6f70 7469 6f6e 2028 5052 2023  ces option (PR #
-0003bef0: 3138 3032 290a 2d20 2020 4d65 6173 7572  1802).-   Measur
-0003bf00: 6520 7369 7a65 206f 6620 736f 6d65 2063  e size of some c
-0003bf10: 6163 6865 7320 6279 2073 756d 206f 6620  aches by sum of 
-0003bf20: 7468 6520 7369 7a65 206f 6620 6361 6368  the size of cach
-0003bf30: 6564 2076 616c 7565 7320 2850 5220 2331  ed values (PR #1
-0003bf40: 3831 3529 0a2d 2020 204d 6561 7375 7265  815).-   Measure
-0003bf50: 206d 6574 7269 6373 206f 6620 7374 7269   metrics of stri
-0003bf60: 6e67 5c5f 6361 6368 6520 2850 5220 2331  ng\_cache (PR #1
-0003bf70: 3832 3129 0a2d 2020 2052 6564 7563 6520  821).-   Reduce 
-0003bf80: 6c6f 6767 696e 6720 7665 7262 6f73 6974  logging verbosit
-0003bf90: 7920 2850 5220 2331 3832 322c 2023 3138  y (PR #1822, #18
-0003bfa0: 3233 2c20 2331 3832 3429 0a2d 2020 2044  23, #1824).-   D
-0003bfb0: 6f6e 5c27 7420 636c 6f62 6265 7220 6120  on\'t clobber a 
-0003bfc0: 6469 7370 6c61 796e 616d 6520 6f72 2061  displayname or a
-0003bfd0: 7661 7461 725c 5f75 726c 2069 6620 7072  vatar\_url if pr
-0003bfe0: 6f76 6964 6564 2062 7920 616e 206d 2e72  ovided by an m.r
-0003bff0: 6f6f 6d2e 6d65 6d62 6572 2065 7665 6e74  oom.member event
-0003c000: 2028 5052 2023 3138 3532 290a 2d20 2020   (PR #1852).-   
-0003c010: 4265 7474 6572 2068 616e 646c 6520 3430  Better handle 40
-0003c020: 312f 3430 3420 7265 7370 6f6e 7365 2066  1/404 response f
-0003c030: 6f72 2066 6564 6572 6174 696f 6e20 2f73  or federation /s
-0003c040: 656e 642f 2028 5052 2023 3138 3636 2c20  end/ (PR #1866, 
-0003c050: 2331 3837 3129 0a0a 4669 7865 733a 0a0a  #1871)..Fixes:..
-0003c060: 2d20 2020 4669 7820 6162 696c 6974 7920  -   Fix ability 
-0003c070: 746f 2063 6861 6e67 6520 7061 7373 776f  to change passwo
-0003c080: 7264 2074 6f20 6120 6e6f 6e2d 6173 6369  rd to a non-asci
-0003c090: 6920 6f6e 6520 2850 5220 2331 3731 3129  i one (PR #1711)
-0003c0a0: 0a2d 2020 2046 6978 2070 7573 6820 6765  .-   Fix push ge
-0003c0b0: 7474 696e 6720 7374 7563 6b20 6475 6520  tting stuck due 
-0003c0c0: 746f 206c 6f6f 6b69 6e67 2061 7420 7468  to looking at th
-0003c0d0: 6520 7772 6f6e 6720 7669 6577 206f 6620  e wrong view of 
-0003c0e0: 7374 6174 6520 2850 5220 2331 3832 3029  state (PR #1820)
-0003c0f0: 0a2d 2020 2046 6978 2065 6d61 696c 2061  .-   Fix email a
-0003c100: 6464 7265 7373 2063 6f6d 7061 7269 736f  ddress compariso
-0003c110: 6e20 746f 2062 6520 6361 7365 2069 6e73  n to be case ins
-0003c120: 656e 7369 7469 7665 2028 5052 2023 3138  ensitive (PR #18
-0003c130: 3237 290a 2d20 2020 4669 7820 6f63 6361  27).-   Fix occa
-0003c140: 7369 6f6e 616c 2069 6e63 6f6e 7369 7374  sional inconsist
-0003c150: 656e 6369 6573 206f 6620 726f 6f6d 206d  encies of room m
-0003c160: 656d 6265 7273 6869 7020 2850 5220 2331  embership (PR #1
-0003c170: 3833 362c 2023 3138 3430 290a 0a50 6572  836, #1840)..Per
-0003c180: 666f 726d 616e 6365 3a0a 0a2d 2020 2044  formance:..-   D
-0003c190: 6f6e 5c27 7420 626c 6f63 6b20 6d65 7373  on\'t block mess
-0003c1a0: 6167 6573 2073 656e 6469 6e67 206f 6e20  ages sending on 
-0003c1b0: 6275 6d70 696e 6720 7072 6573 656e 6365  bumping presence
-0003c1c0: 2028 5052 2023 3137 3839 290a 2d20 2020   (PR #1789).-   
-0003c1d0: 4368 616e 6765 2064 6576 6963 655c 5f69  Change device\_i
-0003c1e0: 6e62 6f78 2073 7472 6561 6d20 696e 6465  nbox stream inde
-0003c1f0: 7820 746f 2069 6e63 6c75 6465 2075 7365  x to include use
-0003c200: 7220 2850 5220 2331 3739 3329 0a2d 2020  r (PR #1793).-  
-0003c210: 204f 7074 696d 6973 6520 7374 6174 6520   Optimise state 
-0003c220: 7265 736f 6c75 7469 6f6e 2028 5052 2023  resolution (PR #
-0003c230: 3138 3138 290a 2d20 2020 5573 6520 4442  1818).-   Use DB
-0003c240: 2063 6163 6865 206f 6620 6a6f 696e 6564   cache of joined
-0003c250: 2075 7365 7273 2066 6f72 2070 7265 7365   users for prese
-0003c260: 6e63 6520 2850 5220 2331 3836 3229 0a2d  nce (PR #1862).-
-0003c270: 2020 2041 6464 2061 6e20 696e 6465 7820     Add an index 
-0003c280: 746f 206d 616b 6520 6d65 6d62 6572 7368  to make membersh
-0003c290: 6970 2071 7565 7269 6573 2066 6173 7465  ip queries faste
-0003c2a0: 7220 2850 5220 2331 3836 3729 0a0a 4368  r (PR #1867)..Ch
-0003c2b0: 616e 6765 7320 696e 2073 796e 6170 7365  anges in synapse
-0003c2c0: 2076 302e 3138 2e37 2028 3230 3137 2d30   v0.18.7 (2017-0
-0003c2d0: 312d 3039 290a 3d3d 3d3d 3d3d 3d3d 3d3d  1-09).==========
-0003c2e0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003c2f0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a4e  =============..N
-0003c300: 6f20 6368 616e 6765 7320 6672 6f6d 2076  o changes from v
-0003c310: 302e 3138 2e37 2d72 6332 0a0a 4368 616e  0.18.7-rc2..Chan
-0003c320: 6765 7320 696e 2073 796e 6170 7365 2076  ges in synapse v
-0003c330: 302e 3138 2e37 2d72 6332 2028 3230 3137  0.18.7-rc2 (2017
-0003c340: 2d30 312d 3037 290a 3d3d 3d3d 3d3d 3d3d  -01-07).========
-0003c350: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003c360: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003c370: 3d3d 3d0a 0a42 7567 2066 6978 6573 3a0a  ===..Bug fixes:.
-0003c380: 0a2d 2020 2046 6978 2065 7272 6f72 2069  .-   Fix error i
-0003c390: 6e20 7263 315c 2773 2064 6973 6361 7264  n rc1\'s discard
-0003c3a0: 696e 6720 696e 7661 6c69 6420 696e 626f  ing invalid inbo
-0003c3b0: 756e 6420 7472 6166 6669 6320 6c6f 6769  und traffic logi
-0003c3c0: 6320 7468 6174 2077 6173 2069 6e63 6f72  c that was incor
-0003c3d0: 7265 6374 6c79 2064 6973 6361 7264 696e  rectly discardin
-0003c3e0: 6720 6d69 7373 696e 6720 6576 656e 7473  g missing events
-0003c3f0: 0a0a 4368 616e 6765 7320 696e 2073 796e  ..Changes in syn
-0003c400: 6170 7365 2076 302e 3138 2e37 2d72 6331  apse v0.18.7-rc1
-0003c410: 2028 3230 3137 2d30 312d 3036 290a 3d3d   (2017-01-06).==
-0003c420: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003c430: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003c440: 3d3d 3d3d 3d3d 3d3d 3d0a 0a42 7567 2066  =========..Bug f
-0003c450: 6978 6573 3a0a 0a2d 2020 2046 6978 2065  ixes:..-   Fix e
-0003c460: 7272 6f72 2069 6e20 5c23 5052 2031 3736  rror in \#PR 176
-0003c470: 3420 746f 2061 6374 7561 6c6c 7920 6669  4 to actually fi
-0003c480: 7820 7468 6520 6e69 6768 746d 6172 6520  x the nightmare 
-0003c490: 5c23 3137 3533 2062 7567 2e0a 2d20 2020  \#1753 bug..-   
-0003c4a0: 496d 7072 6f76 6520 6465 6164 6c6f 636b  Improve deadlock
-0003c4b0: 206c 6f67 6769 6e67 2066 7572 7468 6572   logging further
-0003c4c0: 0a2d 2020 2044 6973 6361 7264 2069 6e62  .-   Discard inb
-0003c4d0: 6f75 6e64 2066 6564 6572 6174 696f 6e20  ound federation 
-0003c4e0: 7472 6166 6669 6320 6672 6f6d 2069 6e76  traffic from inv
-0003c4f0: 616c 6964 2064 6f6d 6169 6e73 2c20 746f  alid domains, to
-0003c500: 2069 6d6d 756e 6973 6520 6167 6169 6e73   immunise agains
-0003c510: 7420 5c23 3137 3533 0a0a 4368 616e 6765  t \#1753..Change
-0003c520: 7320 696e 2073 796e 6170 7365 2076 302e  s in synapse v0.
-0003c530: 3138 2e36 2028 3230 3137 2d30 312d 3036  18.6 (2017-01-06
-0003c540: 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ).==============
-0003c550: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003c560: 3d3d 3d3d 3d3d 3d3d 3d0a 0a42 7567 2066  =========..Bug f
-0003c570: 6978 6573 3a0a 0a2d 2020 2046 6978 2062  ixes:..-   Fix b
-0003c580: 7567 2077 6865 6e20 6368 6563 6b69 6e67  ug when checking
-0003c590: 2069 6620 6120 6775 6573 7420 7573 6572   if a guest user
-0003c5a0: 2069 7320 616c 6c6f 7765 6420 746f 206a   is allowed to j
-0003c5b0: 6f69 6e20 6120 726f 6f6d 2028 5052 2023  oin a room (PR #
-0003c5c0: 3137 3732 2920 5468 616e 6b73 2074 6f20  1772) Thanks to 
-0003c5d0: 5061 7472 696b 204f 6c64 7362 6572 6720  Patrik Oldsberg 
-0003c5e0: 666f 7220 6469 6167 6e6f 7369 6e67 2061  for diagnosing a
-0003c5f0: 6e64 2074 6865 2066 6978 210a 0a43 6861  nd the fix!..Cha
-0003c600: 6e67 6573 2069 6e20 7379 6e61 7073 6520  nges in synapse 
-0003c610: 7630 2e31 382e 362d 7263 3320 2832 3031  v0.18.6-rc3 (201
-0003c620: 372d 3031 2d30 3529 0a3d 3d3d 3d3d 3d3d  7-01-05).=======
+0003bae0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003baf0: 3d3d 3d0a 0a4e 6f20 6368 616e 6765 7320  ===..No changes 
+0003bb00: 7369 6e63 6520 5243 2034 2e0a 0a43 6861  since RC 4...Cha
+0003bb10: 6e67 6573 2069 6e20 7379 6e61 7073 6520  nges in synapse 
+0003bb20: 7630 2e31 392e 302d 7263 3420 2832 3031  v0.19.0-rc4 (201
+0003bb30: 372d 3032 2d30 3229 0a3d 3d3d 3d3d 3d3d  7-02-02).=======
+0003bb40: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003bb50: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003bb60: 3d3d 3d3d 0a0a 2d20 2020 4275 6d70 2063  ====..-   Bump c
+0003bb70: 6163 6865 2073 697a 6573 2066 6f72 2063  ache sizes for c
+0003bb80: 6f6d 6d6f 6e20 6d65 6d62 6572 7368 6970  ommon membership
+0003bb90: 2071 7565 7269 6573 2028 5052 2023 3138   queries (PR #18
+0003bba0: 3739 290a 0a43 6861 6e67 6573 2069 6e20  79)..Changes in 
+0003bbb0: 7379 6e61 7073 6520 7630 2e31 392e 302d  synapse v0.19.0-
+0003bbc0: 7263 3320 2832 3031 372d 3032 2d30 3229  rc3 (2017-02-02)
+0003bbd0: 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  .===============
+0003bbe0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003bbf0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 2d20  ============..- 
+0003bc00: 2020 4669 7820 656d 6169 6c20 7075 7368    Fix email push
+0003bc10: 2069 6e20 7075 7368 6572 2077 6f72 6b65   in pusher worke
+0003bc20: 7220 2850 5220 2331 3837 3529 0a2d 2020  r (PR #1875).-  
+0003bc30: 204d 616b 6520 7072 6573 656e 6365 2e67   Make presence.g
+0003bc40: 6574 5c5f 6e65 775c 5f65 7665 6e74 7320  et\_new\_events 
+0003bc50: 6120 6269 7420 6661 7374 6572 2028 5052  a bit faster (PR
+0003bc60: 2023 3138 3736 290a 2d20 2020 4d61 6b65   #1876).-   Make
+0003bc70: 202f 6b65 7973 2f63 6861 6e67 6573 2061   /keys/changes a
+0003bc80: 2062 6974 206d 6f72 6520 7065 7266 6f72   bit more perfor
+0003bc90: 6d61 6e74 2028 5052 2023 3138 3737 290a  mant (PR #1877).
+0003bca0: 0a43 6861 6e67 6573 2069 6e20 7379 6e61  .Changes in syna
+0003bcb0: 7073 6520 7630 2e31 392e 302d 7263 3220  pse v0.19.0-rc2 
+0003bcc0: 2832 3031 372d 3032 2d30 3229 0a3d 3d3d  (2017-02-02).===
+0003bcd0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003bce0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003bcf0: 3d3d 3d3d 3d3d 3d3d 0a0a 2d20 2020 496e  ========..-   In
+0003bd00: 636c 7564 6520 6e65 776c 7920 6a6f 696e  clude newly join
+0003bd10: 6564 2075 7365 7273 2069 6e20 2f6b 6579  ed users in /key
+0003bd20: 732f 6368 616e 6765 7320 4150 4920 2850  s/changes API (P
+0003bd30: 5220 2331 3837 3229 0a0a 4368 616e 6765  R #1872)..Change
+0003bd40: 7320 696e 2073 796e 6170 7365 2076 302e  s in synapse v0.
+0003bd50: 3139 2e30 2d72 6331 2028 3230 3137 2d30  19.0-rc1 (2017-0
+0003bd60: 322d 3032 290a 3d3d 3d3d 3d3d 3d3d 3d3d  2-02).==========
+0003bd70: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003bd80: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003bd90: 3d0a 0a46 6561 7475 7265 733a 0a0a 2d20  =..Features:..- 
+0003bda0: 2020 4164 6420 7375 7070 6f72 7420 666f    Add support fo
+0003bdb0: 7220 7370 6563 6966 7969 6e67 206d 756c  r specifying mul
+0003bdc0: 7469 706c 6520 6269 6e64 2061 6464 7265  tiple bind addre
+0003bdd0: 7373 6573 2028 5052 2023 3137 3039 2c20  sses (PR #1709, 
+0003bde0: 2331 3731 322c 2023 3137 3935 2c20 2331  #1712, #1795, #1
+0003bdf0: 3833 3529 2e20 5468 616e 6b73 2074 6f20  835). Thanks to 
+0003be00: 406b 7972 6961 7321 0a2d 2020 2041 6464  @kyrias!.-   Add
+0003be10: 202f 6163 636f 756e 742f 3370 6964 2f64   /account/3pid/d
+0003be20: 656c 6574 6520 656e 6470 6f69 6e74 2028  elete endpoint (
+0003be30: 5052 2023 3137 3134 290a 2d20 2020 4164  PR #1714).-   Ad
+0003be40: 6420 636f 6e66 6967 206f 7074 696f 6e20  d config option 
+0003be50: 746f 2063 6f6e 6669 6775 7265 2074 6865  to configure the
+0003be60: 2052 696f 7420 5552 4c20 7573 6564 2069   Riot URL used i
+0003be70: 6e20 6e6f 7469 6669 6361 7469 6f6e 2065  n notification e
+0003be80: 6d61 696c 7320 2850 5220 2331 3831 3129  mails (PR #1811)
+0003be90: 2e20 5468 616e 6b73 2074 6f20 4061 7065  . Thanks to @ape
+0003bea0: 7265 7a64 6321 0a2d 2020 2041 6464 2075  rezdc!.-   Add u
+0003beb0: 7365 726e 616d 6520 616e 6420 7061 7373  sername and pass
+0003bec0: 776f 7264 2063 6f6e 6669 6720 6f70 7469  word config opti
+0003bed0: 6f6e 7320 666f 7220 7475 726e 2073 6572  ons for turn ser
+0003bee0: 7665 7220 2850 5220 2331 3833 3229 2e20  ver (PR #1832). 
+0003bef0: 5468 616e 6b73 2074 6f20 4078 7374 6561  Thanks to @xstea
+0003bf00: 6466 6173 7478 210a 2d20 2020 496d 706c  dfastx!.-   Impl
+0003bf10: 656d 656e 7420 6465 7669 6365 206c 6973  ement device lis
+0003bf20: 7473 2075 7064 6174 6573 206f 7665 7220  ts updates over 
+0003bf30: 6665 6465 7261 7469 6f6e 2028 5052 2023  federation (PR #
+0003bf40: 3138 3537 2c20 2331 3836 312c 2023 3138  1857, #1861, #18
+0003bf50: 3634 290a 2d20 2020 496d 706c 656d 656e  64).-   Implemen
+0003bf60: 7420 2f6b 6579 732f 6368 616e 6765 7320  t /keys/changes 
+0003bf70: 2850 5220 2331 3836 392c 2023 3138 3732  (PR #1869, #1872
+0003bf80: 290a 0a43 6861 6e67 6573 3a0a 0a2d 2020  )..Changes:..-  
+0003bf90: 2049 6d70 726f 7665 2049 5076 3620 7375   Improve IPv6 su
+0003bfa0: 7070 6f72 7420 2850 5220 2331 3639 3629  pport (PR #1696)
+0003bfb0: 2e20 5468 616e 6b73 2074 6f20 406b 7972  . Thanks to @kyr
+0003bfc0: 6961 7320 616e 6420 4067 6c79 7068 210a  ias and @glyph!.
+0003bfd0: 2d20 2020 4c6f 6720 7768 6963 6820 6669  -   Log which fi
+0003bfe0: 6c65 7320 7765 2073 6176 6564 2061 7474  les we saved att
+0003bff0: 6163 686d 656e 7473 2074 6f20 696e 2074  achments to in t
+0003c000: 6865 206d 6564 6961 5c5f 7265 706f 7369  he media\_reposi
+0003c010: 746f 7279 2028 5052 2023 3137 3931 290a  tory (PR #1791).
+0003c020: 2d20 2020 4c69 6e65 6172 697a 6520 7570  -   Linearize up
+0003c030: 6461 7465 7320 746f 206d 656d 6265 7273  dates to members
+0003c040: 6869 7020 7669 6120 5055 5420 2f73 7461  hip via PUT /sta
+0003c050: 7465 2f20 746f 2062 6574 7465 7220 6861  te/ to better ha
+0003c060: 6e64 6c65 206d 756c 7469 706c 6520 6a6f  ndle multiple jo
+0003c070: 696e 7320 2850 5220 2331 3738 3729 0a2d  ins (PR #1787).-
+0003c080: 2020 204c 696d 6974 206e 756d 6265 7220     Limit number 
+0003c090: 6f66 2065 6e74 7269 6573 2074 6f20 7072  of entries to pr
+0003c0a0: 6566 696c 6c20 6672 6f6d 2063 6163 6865  efill from cache
+0003c0b0: 206f 6e20 7374 6172 7475 7020 2850 5220   on startup (PR 
+0003c0c0: 2331 3739 3229 0a2d 2020 2052 656d 6f76  #1792).-   Remov
+0003c0d0: 6520 6675 6c6c 5c5f 7477 6973 7465 645c  e full\_twisted\
+0003c0e0: 5f73 7461 636b 7472 6163 6573 206f 7074  _stacktraces opt
+0003c0f0: 696f 6e20 2850 5220 2331 3830 3229 0a2d  ion (PR #1802).-
+0003c100: 2020 204d 6561 7375 7265 2073 697a 6520     Measure size 
+0003c110: 6f66 2073 6f6d 6520 6361 6368 6573 2062  of some caches b
+0003c120: 7920 7375 6d20 6f66 2074 6865 2073 697a  y sum of the siz
+0003c130: 6520 6f66 2063 6163 6865 6420 7661 6c75  e of cached valu
+0003c140: 6573 2028 5052 2023 3138 3135 290a 2d20  es (PR #1815).- 
+0003c150: 2020 4d65 6173 7572 6520 6d65 7472 6963    Measure metric
+0003c160: 7320 6f66 2073 7472 696e 675c 5f63 6163  s of string\_cac
+0003c170: 6865 2028 5052 2023 3138 3231 290a 2d20  he (PR #1821).- 
+0003c180: 2020 5265 6475 6365 206c 6f67 6769 6e67    Reduce logging
+0003c190: 2076 6572 626f 7369 7479 2028 5052 2023   verbosity (PR #
+0003c1a0: 3138 3232 2c20 2331 3832 332c 2023 3138  1822, #1823, #18
+0003c1b0: 3234 290a 2d20 2020 446f 6e5c 2774 2063  24).-   Don\'t c
+0003c1c0: 6c6f 6262 6572 2061 2064 6973 706c 6179  lobber a display
+0003c1d0: 6e61 6d65 206f 7220 6176 6174 6172 5c5f  name or avatar\_
+0003c1e0: 7572 6c20 6966 2070 726f 7669 6465 6420  url if provided 
+0003c1f0: 6279 2061 6e20 6d2e 726f 6f6d 2e6d 656d  by an m.room.mem
+0003c200: 6265 7220 6576 656e 7420 2850 5220 2331  ber event (PR #1
+0003c210: 3835 3229 0a2d 2020 2042 6574 7465 7220  852).-   Better 
+0003c220: 6861 6e64 6c65 2034 3031 2f34 3034 2072  handle 401/404 r
+0003c230: 6573 706f 6e73 6520 666f 7220 6665 6465  esponse for fede
+0003c240: 7261 7469 6f6e 202f 7365 6e64 2f20 2850  ration /send/ (P
+0003c250: 5220 2331 3836 362c 2023 3138 3731 290a  R #1866, #1871).
+0003c260: 0a46 6978 6573 3a0a 0a2d 2020 2046 6978  .Fixes:..-   Fix
+0003c270: 2061 6269 6c69 7479 2074 6f20 6368 616e   ability to chan
+0003c280: 6765 2070 6173 7377 6f72 6420 746f 2061  ge password to a
+0003c290: 206e 6f6e 2d61 7363 6969 206f 6e65 2028   non-ascii one (
+0003c2a0: 5052 2023 3137 3131 290a 2d20 2020 4669  PR #1711).-   Fi
+0003c2b0: 7820 7075 7368 2067 6574 7469 6e67 2073  x push getting s
+0003c2c0: 7475 636b 2064 7565 2074 6f20 6c6f 6f6b  tuck due to look
+0003c2d0: 696e 6720 6174 2074 6865 2077 726f 6e67  ing at the wrong
+0003c2e0: 2076 6965 7720 6f66 2073 7461 7465 2028   view of state (
+0003c2f0: 5052 2023 3138 3230 290a 2d20 2020 4669  PR #1820).-   Fi
+0003c300: 7820 656d 6169 6c20 6164 6472 6573 7320  x email address 
+0003c310: 636f 6d70 6172 6973 6f6e 2074 6f20 6265  comparison to be
+0003c320: 2063 6173 6520 696e 7365 6e73 6974 6976   case insensitiv
+0003c330: 6520 2850 5220 2331 3832 3729 0a2d 2020  e (PR #1827).-  
+0003c340: 2046 6978 206f 6363 6173 696f 6e61 6c20   Fix occasional 
+0003c350: 696e 636f 6e73 6973 7465 6e63 6965 7320  inconsistencies 
+0003c360: 6f66 2072 6f6f 6d20 6d65 6d62 6572 7368  of room membersh
+0003c370: 6970 2028 5052 2023 3138 3336 2c20 2331  ip (PR #1836, #1
+0003c380: 3834 3029 0a0a 5065 7266 6f72 6d61 6e63  840)..Performanc
+0003c390: 653a 0a0a 2d20 2020 446f 6e5c 2774 2062  e:..-   Don\'t b
+0003c3a0: 6c6f 636b 206d 6573 7361 6765 7320 7365  lock messages se
+0003c3b0: 6e64 696e 6720 6f6e 2062 756d 7069 6e67  nding on bumping
+0003c3c0: 2070 7265 7365 6e63 6520 2850 5220 2331   presence (PR #1
+0003c3d0: 3738 3929 0a2d 2020 2043 6861 6e67 6520  789).-   Change 
+0003c3e0: 6465 7669 6365 5c5f 696e 626f 7820 7374  device\_inbox st
+0003c3f0: 7265 616d 2069 6e64 6578 2074 6f20 696e  ream index to in
+0003c400: 636c 7564 6520 7573 6572 2028 5052 2023  clude user (PR #
+0003c410: 3137 3933 290a 2d20 2020 4f70 7469 6d69  1793).-   Optimi
+0003c420: 7365 2073 7461 7465 2072 6573 6f6c 7574  se state resolut
+0003c430: 696f 6e20 2850 5220 2331 3831 3829 0a2d  ion (PR #1818).-
+0003c440: 2020 2055 7365 2044 4220 6361 6368 6520     Use DB cache 
+0003c450: 6f66 206a 6f69 6e65 6420 7573 6572 7320  of joined users 
+0003c460: 666f 7220 7072 6573 656e 6365 2028 5052  for presence (PR
+0003c470: 2023 3138 3632 290a 2d20 2020 4164 6420   #1862).-   Add 
+0003c480: 616e 2069 6e64 6578 2074 6f20 6d61 6b65  an index to make
+0003c490: 206d 656d 6265 7273 6869 7020 7175 6572   membership quer
+0003c4a0: 6965 7320 6661 7374 6572 2028 5052 2023  ies faster (PR #
+0003c4b0: 3138 3637 290a 0a43 6861 6e67 6573 2069  1867)..Changes i
+0003c4c0: 6e20 7379 6e61 7073 6520 7630 2e31 382e  n synapse v0.18.
+0003c4d0: 3720 2832 3031 372d 3031 2d30 3929 0a3d  7 (2017-01-09).=
+0003c4e0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003c4f0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003c500: 3d3d 3d3d 3d3d 0a0a 4e6f 2063 6861 6e67  ======..No chang
+0003c510: 6573 2066 726f 6d20 7630 2e31 382e 372d  es from v0.18.7-
+0003c520: 7263 320a 0a43 6861 6e67 6573 2069 6e20  rc2..Changes in 
+0003c530: 7379 6e61 7073 6520 7630 2e31 382e 372d  synapse v0.18.7-
+0003c540: 7263 3220 2832 3031 372d 3031 2d30 3729  rc2 (2017-01-07)
+0003c550: 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  .===============
+0003c560: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003c570: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 4275  ============..Bu
+0003c580: 6720 6669 7865 733a 0a0a 2d20 2020 4669  g fixes:..-   Fi
+0003c590: 7820 6572 726f 7220 696e 2072 6331 5c27  x error in rc1\'
+0003c5a0: 7320 6469 7363 6172 6469 6e67 2069 6e76  s discarding inv
+0003c5b0: 616c 6964 2069 6e62 6f75 6e64 2074 7261  alid inbound tra
+0003c5c0: 6666 6963 206c 6f67 6963 2074 6861 7420  ffic logic that 
+0003c5d0: 7761 7320 696e 636f 7272 6563 746c 7920  was incorrectly 
+0003c5e0: 6469 7363 6172 6469 6e67 206d 6973 7369  discarding missi
+0003c5f0: 6e67 2065 7665 6e74 730a 0a43 6861 6e67  ng events..Chang
+0003c600: 6573 2069 6e20 7379 6e61 7073 6520 7630  es in synapse v0
+0003c610: 2e31 382e 372d 7263 3120 2832 3031 372d  .18.7-rc1 (2017-
+0003c620: 3031 2d30 3629 0a3d 3d3d 3d3d 3d3d 3d3d  01-06).=========
 0003c630: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
 0003c640: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003c650: 3d3d 3d3d 0a0a 4275 6720 6669 7865 733a  ====..Bug fixes:
-0003c660: 0a0a 2d20 2020 4669 7820 6275 6720 7768  ..-   Fix bug wh
-0003c670: 6572 6520 7765 2066 6169 6c65 6420 746f  ere we failed to
-0003c680: 2073 656e 6420 6261 6e20 6576 656e 7473   send ban events
-0003c690: 2074 6f20 7468 6520 6261 6e6e 6564 2073   to the banned s
-0003c6a0: 6572 7665 7220 2850 5220 2331 3735 3829  erver (PR #1758)
-0003c6b0: 0a2d 2020 2046 6978 2062 7567 2077 6865  .-   Fix bug whe
-0003c6c0: 7265 2077 6520 7365 6e74 2065 7665 6e74  re we sent event
-0003c6d0: 2074 6861 7420 6469 646e 5c27 7420 6f72   that didn\'t or
-0003c6e0: 6967 696e 6174 6520 6f6e 2074 6869 7320  iginate on this 
-0003c6f0: 7365 7276 6572 2074 6f20 6f74 6865 7220  server to other 
-0003c700: 7365 7276 6572 7320 2850 5220 2331 3736  servers (PR #176
-0003c710: 3429 0a2d 2020 2046 6978 2062 7567 2077  4).-   Fix bug w
-0003c720: 6865 7265 2070 726f 6365 7373 696e 6720  here processing 
-0003c730: 616e 2065 7665 6e74 2066 726f 6d20 6120  an event from a 
-0003c740: 7265 6d6f 7465 2073 6572 7665 7220 746f  remote server to
-0003c750: 6f6b 2061 206c 6f6e 6720 7469 6d65 2062  ok a long time b
-0003c760: 6563 6175 7365 2077 6520 7765 7265 206d  ecause we were m
-0003c770: 616b 696e 6720 6c6f 6e67 2048 5454 5020  aking long HTTP 
-0003c780: 7265 7175 6573 7473 2028 5052 2023 3137  requests (PR #17
-0003c790: 3635 2c20 5052 2023 3137 3434 290a 0a43  65, PR #1744)..C
-0003c7a0: 6861 6e67 6573 3a0a 0a2d 2020 2049 6d70  hanges:..-   Imp
-0003c7b0: 726f 7665 206c 6f67 6769 6e67 2066 6f72  rove logging for
-0003c7c0: 2064 6562 7567 6769 6e67 2064 6561 646c   debugging deadl
-0003c7d0: 6f63 6b73 2028 5052 2023 3137 3636 2c20  ocks (PR #1766, 
-0003c7e0: 5052 2023 3137 3637 290a 0a43 6861 6e67  PR #1767)..Chang
-0003c7f0: 6573 2069 6e20 7379 6e61 7073 6520 7630  es in synapse v0
-0003c800: 2e31 382e 362d 7263 3220 2832 3031 362d  .18.6-rc2 (2016-
-0003c810: 3132 2d33 3029 0a3d 3d3d 3d3d 3d3d 3d3d  12-30).=========
-0003c820: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003c830: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003c840: 3d3d 0a0a 4275 6720 6669 7865 733a 0a0a  ==..Bug fixes:..
-0003c850: 2d20 2020 4669 7820 6d65 6d6f 7279 206c  -   Fix memory l
-0003c860: 6561 6b20 696e 2074 7769 7374 6564 2062  eak in twisted b
-0003c870: 7920 696e 6974 6961 6c69 7369 6e67 206c  y initialising l
-0003c880: 6f67 6769 6e67 2063 6f72 7265 6374 6c79  ogging correctly
-0003c890: 2028 5052 2023 3137 3331 290a 2d20 2020   (PR #1731).-   
-0003c8a0: 4669 7820 6275 6720 7768 6572 6520 6665  Fix bug where fe
-0003c8b0: 7463 6869 6e67 206d 6973 7369 6e67 2065  tching missing e
-0003c8c0: 7665 6e74 7320 746f 6f6b 2061 6e20 756e  vents took an un
-0003c8d0: 6163 6365 7074 6162 6c65 2061 6d6f 756e  acceptable amoun
-0003c8e0: 7420 6f66 2074 696d 6520 696e 206c 6172  t of time in lar
-0003c8f0: 6765 2072 6f6f 6d73 2028 5052 2023 3137  ge rooms (PR #17
-0003c900: 3334 290a 0a43 6861 6e67 6573 2069 6e20  34)..Changes in 
-0003c910: 7379 6e61 7073 6520 7630 2e31 382e 362d  synapse v0.18.6-
-0003c920: 7263 3120 2832 3031 362d 3132 2d32 3929  rc1 (2016-12-29)
-0003c930: 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  .===============
-0003c940: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003c950: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 4275  ============..Bu
-0003c960: 6720 6669 7865 733a 0a0a 2d20 2020 4d61  g fixes:..-   Ma
-0003c970: 6b65 2073 7572 6520 7468 6174 206f 7574  ke sure that out
-0003c980: 626f 756e 6420 636f 6e6e 6563 7469 6f6e  bound connection
-0003c990: 7320 6172 6520 636c 6f73 6564 2028 5052  s are closed (PR
-0003c9a0: 2023 3137 3235 290a 0a43 6861 6e67 6573   #1725)..Changes
-0003c9b0: 2069 6e20 7379 6e61 7073 6520 7630 2e31   in synapse v0.1
-0003c9c0: 382e 3520 2832 3031 362d 3132 2d31 3629  8.5 (2016-12-16)
-0003c9d0: 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  .===============
-0003c9e0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003c9f0: 3d3d 3d3d 3d3d 3d3d 0a0a 4275 6720 6669  ========..Bug fi
-0003ca00: 7865 733a 0a0a 2d20 2020 4669 7820 6665  xes:..-   Fix fe
-0003ca10: 6465 7261 7469 6f6e 202f 6261 636b 6669  deration /backfi
-0003ca20: 6c6c 2072 6574 7572 6e69 6e67 2065 7665  ll returning eve
-0003ca30: 6e74 7320 6974 2073 686f 756c 646e 5c27  nts it shouldn\'
-0003ca40: 7420 2850 5220 2331 3730 3029 0a2d 2020  t (PR #1700).-  
-0003ca50: 2046 6978 2063 7261 7368 2069 6e20 7572   Fix crash in ur
-0003ca60: 6c20 7072 6576 6965 7720 2850 5220 2331  l preview (PR #1
-0003ca70: 3730 3129 0a0a 4368 616e 6765 7320 696e  701)..Changes in
-0003ca80: 2073 796e 6170 7365 2076 302e 3138 2e35   synapse v0.18.5
-0003ca90: 2d72 6333 2028 3230 3136 2d31 322d 3133  -rc3 (2016-12-13
-0003caa0: 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ).==============
-0003cab0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003cac0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a46  =============..F
-0003cad0: 6561 7475 7265 733a 0a0a 2d20 2020 4164  eatures:..-   Ad
-0003cae0: 6420 7375 7070 6f72 7420 666f 7220 4532  d support for E2
-0003caf0: 4520 666f 7220 6775 6573 7473 2028 5052  E for guests (PR
-0003cb00: 2023 3136 3533 290a 2d20 2020 4164 6420   #1653).-   Add 
-0003cb10: 6e65 7720 4150 4920 6170 7073 6572 7669  new API appservi
-0003cb20: 6365 2073 7065 6369 6669 6320 7075 626c  ce specific publ
-0003cb30: 6963 2072 6f6f 6d20 6c69 7374 2028 5052  ic room list (PR
-0003cb40: 2023 3136 3736 290a 2d20 2020 4164 6420   #1676).-   Add 
-0003cb50: 6e65 7720 726f 6f6d 206d 656d 6265 7273  new room members
-0003cb60: 6869 7020 4150 4973 2028 5052 2023 3136  hip APIs (PR #16
-0003cb70: 3830 290a 0a43 6861 6e67 6573 3a0a 0a2d  80)..Changes:..-
-0003cb80: 2020 2045 6e61 626c 6520 6775 6573 7420     Enable guest 
-0003cb90: 6163 6365 7373 2066 6f72 2070 7269 7661  access for priva
-0003cba0: 7465 2072 6f6f 6d73 2062 7920 6465 6661  te rooms by defa
-0003cbb0: 756c 7420 2850 5220 2336 3533 290a 2d20  ult (PR #653).- 
-0003cbc0: 2020 4c69 6d69 7420 7468 6520 6e75 6d62    Limit the numb
-0003cbd0: 6572 206f 6620 6576 656e 7473 2074 6861  er of events tha
-0003cbe0: 7420 6361 6e20 6265 2063 7265 6174 6564  t can be created
-0003cbf0: 206f 6e20 6120 6769 7665 6e20 726f 6f6d   on a given room
-0003cc00: 2063 6f6e 6375 7272 656e 746c 7920 2850   concurrently (P
-0003cc10: 5220 2331 3632 3029 0a2d 2020 204c 6f67  R #1620).-   Log
-0003cc20: 2074 6865 2061 7267 7320 7468 6174 2077   the args that w
-0003cc30: 6520 6861 7665 206f 6e20 5549 2061 7574  e have on UI aut
-0003cc40: 6820 636f 6d70 6c65 7469 6f6e 2028 5052  h completion (PR
-0003cc50: 2023 3136 3439 290a 2d20 2020 5374 6f70   #1649).-   Stop
-0003cc60: 2067 656e 6572 6174 696e 6720 7265 6672   generating refr
-0003cc70: 6573 685c 5f74 6f6b 656e 7320 2850 5220  esh\_tokens (PR 
-0003cc80: 2331 3635 3429 0a2d 2020 2053 746f 7020  #1654).-   Stop 
-0003cc90: 7075 7474 696e 6720 6120 7469 6d65 2063  putting a time c
-0003cca0: 6176 6561 7420 6f6e 2061 6363 6573 7320  aveat on access 
-0003ccb0: 746f 6b65 6e73 2028 5052 2023 3136 3536  tokens (PR #1656
-0003ccc0: 290a 2d20 2020 5265 6d6f 7665 2075 6e73  ).-   Remove uns
-0003ccd0: 7065 6363 6564 2047 4554 2065 6e64 706f  pecced GET endpo
-0003cce0: 696e 7473 2066 6f72 2065 3265 206b 6579  ints for e2e key
-0003ccf0: 7320 2850 5220 2331 3639 3429 0a0a 4275  s (PR #1694)..Bu
-0003cd00: 6720 6669 7865 733a 0a0a 2d20 2020 4669  g fixes:..-   Fi
-0003cd10: 7820 6861 6e64 6c69 6e67 206f 6620 3530  x handling of 50
-0003cd20: 3020 616e 6420 3432 395c 2773 206f 7665  0 and 429\'s ove
-0003cd30: 7220 6665 6465 7261 7469 6f6e 2028 5052  r federation (PR
-0003cd40: 2023 3136 3530 290a 2d20 2020 4669 7820   #1650).-   Fix 
-0003cd50: 436f 6e74 656e 742d 5479 7065 2068 6561  Content-Type hea
-0003cd60: 6465 7220 7061 7273 696e 6720 2850 5220  der parsing (PR 
-0003cd70: 2331 3636 3029 0a2d 2020 2046 6978 2065  #1660).-   Fix e
-0003cd80: 7272 6f72 2077 6865 6e20 7072 6576 6965  rror when previe
-0003cd90: 7769 6e67 2073 6974 6573 2074 6861 7420  wing sites that 
-0003cda0: 696e 636c 7564 6520 756e 6963 6f64 652c  include unicode,
-0003cdb0: 2074 6861 6e6b 7320 746f 206b 7972 6961   thanks to kyria
-0003cdc0: 7320 2850 5220 2331 3636 3429 0a2d 2020  s (PR #1664).-  
-0003cdd0: 2046 6978 2073 6f6d 6520 6361 7365 7320   Fix some cases 
-0003cde0: 7768 6572 6520 7765 2064 726f 7020 7265  where we drop re
-0003cdf0: 6164 2072 6563 6569 7074 7320 2850 5220  ad receipts (PR 
-0003ce00: 2331 3637 3829 0a2d 2020 2046 6978 2062  #1678).-   Fix b
-0003ce10: 7567 2077 6865 7265 2063 616c 6c73 2074  ug where calls t
-0003ce20: 6f20 602f 7379 6e63 6020 6469 646e 5c27  o `/sync` didn\'
-0003ce30: 7420 636f 7272 6563 746c 7920 7469 6d65  t correctly time
-0003ce40: 6f75 7420 2850 5220 2331 3638 3329 0a2d  out (PR #1683).-
-0003ce50: 2020 2046 6978 2062 7567 2077 6865 7265     Fix bug where
-0003ce60: 2045 3245 206b 6579 2071 7565 7279 2077   E2E key query w
-0003ce70: 6f75 6c64 2066 6169 6c20 6966 2061 2073  ould fail if a s
-0003ce80: 696e 676c 6520 7265 6d6f 7465 2068 6f73  ingle remote hos
-0003ce90: 7420 6661 696c 6564 2028 5052 2023 3136  t failed (PR #16
-0003cea0: 3836 290a 0a43 6861 6e67 6573 2069 6e20  86)..Changes in 
-0003ceb0: 7379 6e61 7073 6520 7630 2e31 382e 352d  synapse v0.18.5-
-0003cec0: 7263 3220 2832 3031 362d 3131 2d32 3429  rc2 (2016-11-24)
-0003ced0: 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  .===============
-0003cee0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003cef0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 4275  ============..Bu
-0003cf00: 6720 6669 7865 733a 0a0a 2d20 2020 446f  g fixes:..-   Do
-0003cf10: 6e5c 2774 2073 656e 6420 6f6c 6420 6576  n\'t send old ev
-0003cf20: 656e 7473 206f 7665 7220 6665 6465 7261  ents over federa
-0003cf30: 7469 6f6e 2c20 6669 7865 7320 6275 6720  tion, fixes bug 
-0003cf40: 696e 202d 7263 312e 0a0a 4368 616e 6765  in -rc1...Change
-0003cf50: 7320 696e 2073 796e 6170 7365 2076 302e  s in synapse v0.
-0003cf60: 3138 2e35 2d72 6331 2028 3230 3136 2d31  18.5-rc1 (2016-1
-0003cf70: 312d 3234 290a 3d3d 3d3d 3d3d 3d3d 3d3d  1-24).==========
-0003cf80: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003cf90: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003cfa0: 3d0a 0a46 6561 7475 7265 733a 0a0a 2d20  =..Features:..- 
-0003cfb0: 2020 496d 706c 656d 656e 7420 5c22 6576    Implement \"ev
-0003cfc0: 656e 745c 5f66 6965 6c64 735c 2220 696e  ent\_fields\" in
-0003cfd0: 2066 696c 7465 7273 2028 5052 2023 3136   filters (PR #16
-0003cfe0: 3338 290a 0a43 6861 6e67 6573 3a0a 0a2d  38)..Changes:..-
-0003cff0: 2020 2055 7365 2065 7874 6572 6e61 6c20     Use external 
-0003d000: 6c64 6170 2061 7574 6820 7061 6361 6b67  ldap auth pacakg
-0003d010: 6520 2850 5220 2331 3632 3829 0a2d 2020  e (PR #1628).-  
-0003d020: 2053 706c 6974 206f 7574 2066 6564 6572   Split out feder
-0003d030: 6174 696f 6e20 7472 616e 7361 6374 696f  ation transactio
-0003d040: 6e20 7365 6e64 696e 6720 746f 2061 2077  n sending to a w
-0003d050: 6f72 6b65 7220 2850 5220 2331 3633 3529  orker (PR #1635)
-0003d060: 0a2d 2020 2046 6169 6c20 7769 7468 2061  .-   Fail with a
-0003d070: 2063 6f68 6572 656e 7420 6572 726f 7220   coherent error 
-0003d080: 6d65 7373 6167 6520 6966 202f 7379 6e63  message if /sync
-0003d090: 3f66 696c 7465 723d 2069 7320 696e 7661  ?filter= is inva
-0003d0a0: 6c69 6420 2850 5220 2331 3633 3629 0a2d  lid (PR #1636).-
-0003d0b0: 2020 204d 6f72 6520 6566 6669 6369 656e     More efficien
-0003d0c0: 7420 6e6f 7469 6620 636f 756e 7420 7175  t notif count qu
-0003d0d0: 6572 6965 7320 2850 5220 2331 3634 3429  eries (PR #1644)
-0003d0e0: 0a0a 4368 616e 6765 7320 696e 2073 796e  ..Changes in syn
-0003d0f0: 6170 7365 2076 302e 3138 2e34 2028 3230  apse v0.18.4 (20
-0003d100: 3136 2d31 312d 3232 290a 3d3d 3d3d 3d3d  16-11-22).======
-0003d110: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003d120: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003d130: 3d0a 0a42 7567 2066 6978 6573 3a0a 0a2d  =..Bug fixes:..-
-0003d140: 2020 2041 6464 2077 6f72 6b61 726f 756e     Add workaroun
-0003d150: 6420 666f 7220 6275 6767 7920 636c 6965  d for buggy clie
-0003d160: 6e74 7320 7468 6174 2074 6865 2066 6169  nts that the fai
-0003d170: 6c20 746f 2072 6567 6973 7465 7220 2850  l to register (P
-0003d180: 5220 2331 3633 3229 0a0a 4368 616e 6765  R #1632)..Change
-0003d190: 7320 696e 2073 796e 6170 7365 2076 302e  s in synapse v0.
-0003d1a0: 3138 2e34 2d72 6331 2028 3230 3136 2d31  18.4-rc1 (2016-1
-0003d1b0: 312d 3134 290a 3d3d 3d3d 3d3d 3d3d 3d3d  1-14).==========
-0003d1c0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003d1d0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003d1e0: 3d0a 0a43 6861 6e67 6573 3a0a 0a2d 2020  =..Changes:..-  
-0003d1f0: 2056 6172 696f 7573 2064 6174 6162 6173   Various databas
-0003d200: 6520 6566 6669 6369 656e 6379 2069 6d70  e efficiency imp
-0003d210: 726f 7665 6d65 6e74 7320 2850 5220 2331  rovements (PR #1
-0003d220: 3138 382c 2023 3131 3932 290a 2d20 2020  188, #1192).-   
-0003d230: 5570 6461 7465 2064 6566 6175 6c74 2063  Update default c
-0003d240: 6f6e 6669 6720 746f 2062 6c61 636b 6c69  onfig to blackli
-0003d250: 7374 206d 6f72 6520 696e 7465 726e 616c  st more internal
-0003d260: 2049 5073 2c20 7468 616e 6b73 2074 6f20   IPs, thanks to 
-0003d270: 4575 616e 204b 656d 7020 2850 5220 2331  Euan Kemp (PR #1
-0003d280: 3139 3829 0a2d 2020 2041 6c6c 6f77 2073  198).-   Allow s
-0003d290: 7065 6369 6679 696e 6720 6475 7261 7469  pecifying durati
-0003d2a0: 6f6e 2069 6e20 6d69 6e75 7465 7320 696e  on in minutes in
-0003d2b0: 2063 6f6e 6669 672c 2074 6861 6e6b 7320   config, thanks 
-0003d2c0: 746f 2044 616e 6965 6c20 4465 6e74 2028  to Daniel Dent (
-0003d2d0: 5052 2023 3136 3235 290a 0a42 7567 2066  PR #1625)..Bug f
-0003d2e0: 6978 6573 3a0a 0a2d 2020 2046 6978 206d  ixes:..-   Fix m
-0003d2f0: 6564 6961 2072 6570 6f20 746f 2073 6574  edia repo to set
-0003d300: 2043 4f52 7320 6865 6164 6572 7320 6f6e   CORs headers on
-0003d310: 2072 6573 706f 6e73 6573 2028 5052 2023   responses (PR #
-0003d320: 3131 3930 290a 2d20 2020 4669 7820 7265  1190).-   Fix re
-0003d330: 6769 7374 7261 7469 6f6e 2074 6f20 6e6f  gistration to no
-0003d340: 7420 6572 726f 7220 6f6e 206e 6f6e 2d61  t error on non-a
-0003d350: 7363 6969 2070 6173 7377 6f72 6473 2028  scii passwords (
-0003d360: 5052 2023 3131 3931 290a 2d20 2020 4669  PR #1191).-   Fi
-0003d370: 7820 6372 6561 7465 2065 7665 6e74 2063  x create event c
-0003d380: 6f64 6520 746f 206c 696d 6974 2074 6865  ode to limit the
-0003d390: 206e 756d 6265 7220 6f66 2070 7265 765c   number of prev\
-0003d3a0: 5f65 7665 6e74 7320 2850 5220 2331 3631  _events (PR #161
-0003d3b0: 3529 0a2d 2020 2046 6978 2062 7567 2069  5).-   Fix bug i
-0003d3c0: 6e20 7472 616e 7361 6374 696f 6e20 4944  n transaction ID
-0003d3d0: 2064 6564 7570 6c69 6361 7469 6f6e 2028   deduplication (
-0003d3e0: 5052 2023 3136 3234 290a 0a43 6861 6e67  PR #1624)..Chang
-0003d3f0: 6573 2069 6e20 7379 6e61 7073 6520 7630  es in synapse v0
-0003d400: 2e31 382e 3320 2832 3031 362d 3131 2d30  .18.3 (2016-11-0
-0003d410: 3829 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  8).=============
-0003d420: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003d430: 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 5345 4355  ==========..SECU
-0003d440: 5249 5459 2055 5044 4154 450a 0a45 7870  RITY UPDATE..Exp
-0003d450: 6c69 6369 746c 7920 7265 7175 6972 6520  licitly require 
-0003d460: 6175 7468 656e 7469 6361 7469 6f6e 2077  authentication w
-0003d470: 6865 6e20 7573 696e 6720 4c44 4150 332e  hen using LDAP3.
-0003d480: 2054 6869 7320 6973 2074 6865 2064 6566   This is the def
-0003d490: 6175 6c74 206f 6e20 7665 7273 696f 6e73  ault on versions
-0003d4a0: 206f 6620 606c 6461 7033 6020 6162 6f76   of `ldap3` abov
-0003d4b0: 6520 312e 302c 2062 7574 2073 6f6d 6520  e 1.0, but some 
-0003d4c0: 6469 7374 7269 6275 7469 6f6e 7320 7769  distributions wi
-0003d4d0: 6c6c 2070 6163 6b61 6765 2061 6e20 6f6c  ll package an ol
-0003d4e0: 6465 7220 7665 7273 696f 6e2e 0a0a 4966  der version...If
-0003d4f0: 2079 6f75 2061 7265 2075 7369 6e67 204c   you are using L
-0003d500: 4441 5033 206c 6f67 696e 2061 6e64 2068  DAP3 login and h
-0003d510: 6176 6520 6120 7665 7273 696f 6e20 6f66  ave a version of
-0003d520: 2060 6c64 6170 3360 206f 6c64 6572 2074   `ldap3` older t
-0003d530: 6861 6e20 312e 3020 6974 2069 7320 2a2a  han 1.0 it is **
-0003d540: 4352 4954 4943 414c 2074 6f20 7570 6467  CRITICAL to updg
-0003d550: 7261 6465 2a2a 2e0a 0a43 6861 6e67 6573  rade**...Changes
-0003d560: 2069 6e20 7379 6e61 7073 6520 7630 2e31   in synapse v0.1
-0003d570: 382e 3220 2832 3031 362d 3131 2d30 3129  8.2 (2016-11-01)
-0003d580: 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  .===============
-0003d590: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003d5a0: 3d3d 3d3d 3d3d 3d3d 0a0a 4e6f 2063 6861  ========..No cha
-0003d5b0: 6e67 6573 2073 696e 6365 2076 302e 3138  nges since v0.18
-0003d5c0: 2e32 2d72 6335 0a0a 4368 616e 6765 7320  .2-rc5..Changes 
-0003d5d0: 696e 2073 796e 6170 7365 2076 302e 3138  in synapse v0.18
-0003d5e0: 2e32 2d72 6335 2028 3230 3136 2d31 302d  .2-rc5 (2016-10-
-0003d5f0: 3238 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  28).============
-0003d600: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003d610: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a  ===============.
-0003d620: 0a42 7567 2066 6978 6573 3a0a 0a2d 2020  .Bug fixes:..-  
-0003d630: 2046 6978 2070 726f 6d65 7468 6575 7320   Fix prometheus 
-0003d640: 7072 6f63 6573 7320 6d65 7472 6963 7320  process metrics 
-0003d650: 696e 2077 6f72 6b65 7220 7072 6f63 6573  in worker proces
-0003d660: 7365 7320 2850 5220 2331 3138 3429 0a0a  ses (PR #1184)..
-0003d670: 4368 616e 6765 7320 696e 2073 796e 6170  Changes in synap
-0003d680: 7365 2076 302e 3138 2e32 2d72 6334 2028  se v0.18.2-rc4 (
-0003d690: 3230 3136 2d31 302d 3237 290a 3d3d 3d3d  2016-10-27).====
-0003d6a0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003d6b0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003d6c0: 3d3d 3d3d 3d3d 3d0a 0a42 7567 2066 6978  =======..Bug fix
-0003d6d0: 6573 3a0a 0a2d 2020 2046 6978 2060 7573  es:..-   Fix `us
-0003d6e0: 6572 5f74 6872 6565 7069 6473 6020 7363  er_threepids` sc
-0003d6f0: 6865 6d61 2064 656c 7461 2c20 7768 6963  hema delta, whic
-0003d700: 6820 696e 2073 6f6d 6520 696e 7374 616e  h in some instan
-0003d710: 6365 7320 7072 6576 656e 7465 6420 7374  ces prevented st
-0003d720: 6172 7475 7020 6166 7465 7220 7570 6772  artup after upgr
-0003d730: 6164 6520 2850 5220 2331 3138 3329 0a0a  ade (PR #1183)..
-0003d740: 4368 616e 6765 7320 696e 2073 796e 6170  Changes in synap
-0003d750: 7365 2076 302e 3138 2e32 2d72 6333 2028  se v0.18.2-rc3 (
-0003d760: 3230 3136 2d31 302d 3237 290a 3d3d 3d3d  2016-10-27).====
-0003d770: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003d780: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003d790: 3d3d 3d3d 3d3d 3d0a 0a43 6861 6e67 6573  =======..Changes
-0003d7a0: 3a0a 0a2d 2020 2041 6c6c 6f77 2063 6c69  :..-   Allow cli
-0003d7b0: 656e 7473 2074 6f20 7375 7070 6c79 2061  ents to supply a
-0003d7c0: 6363 6573 7320 746f 6b65 6e73 2061 7320  ccess tokens as 
-0003d7d0: 6865 6164 6572 7320 2850 5220 2331 3039  headers (PR #109
-0003d7e0: 3829 0a2d 2020 2043 6c61 7269 6679 2065  8).-   Clarify e
-0003d7f0: 7272 6f72 2063 6f64 6573 2066 6f72 2047  rror codes for G
-0003d800: 4554 202f 6669 6c74 6572 2f2c 2074 6861  ET /filter/, tha
-0003d810: 6e6b 7320 746f 2041 6c65 7861 6e64 6572  nks to Alexander
-0003d820: 204d 617a 6e65 7620 2850 5220 2331 3136   Maznev (PR #116
-0003d830: 3429 0a2d 2020 204d 616b 6520 7061 7373  4).-   Make pass
-0003d840: 776f 7264 2072 6573 6574 2065 6d61 696c  word reset email
-0003d850: 2066 6965 6c64 2063 6173 6520 696e 7365   field case inse
-0003d860: 6e73 6974 6976 6520 2850 5220 2331 3137  nsitive (PR #117
-0003d870: 3029 0a2d 2020 2052 6564 7563 6520 7265  0).-   Reduce re
-0003d880: 6475 6e64 616e 7420 6461 7461 6261 7365  dundant database
-0003d890: 2077 6f72 6b20 696e 2065 6d61 696c 2070   work in email p
-0003d8a0: 7573 6865 7220 2850 5220 2331 3137 3429  usher (PR #1174)
-0003d8b0: 0a2d 2020 2041 6c6c 6f77 2063 6f6e 6669  .-   Allow confi
-0003d8c0: 6775 7261 626c 6520 7261 7465 206c 696d  gurable rate lim
-0003d8d0: 6974 696e 6720 7065 7220 4153 2028 5052  iting per AS (PR
-0003d8e0: 2023 3131 3735 290a 2d20 2020 4368 6563   #1175).-   Chec
-0003d8f0: 6b20 7768 6574 6865 7220 746f 2072 6174  k whether to rat
-0003d900: 656c 696d 6974 2073 6f6f 6e65 7220 746f  elimit sooner to
-0003d910: 2061 766f 6964 2077 6f72 6b20 2850 5220   avoid work (PR 
-0003d920: 2331 3137 3629 0a2d 2020 2053 7461 6e64  #1176).-   Stand
-0003d930: 6172 6469 7365 2070 726f 6d65 7468 6575  ardise prometheu
-0003d940: 7320 6d65 7472 6963 7320 2850 5220 2331  s metrics (PR #1
-0003d950: 3137 3729 0a0a 4275 6720 6669 7865 733a  177)..Bug fixes:
-0003d960: 0a0a 2d20 2020 4669 7820 696e 6372 6564  ..-   Fix incred
-0003d970: 6962 6c79 2073 6c6f 7720 6261 636b 2070  ibly slow back p
-0003d980: 6167 696e 6174 696f 6e20 7175 6572 7920  agination query 
-0003d990: 2850 5220 2331 3137 3829 0a2d 2020 2046  (PR #1178).-   F
-0003d9a0: 6978 2069 6e66 696e 6974 6520 7479 7069  ix infinite typi
-0003d9b0: 6e67 2062 7567 2028 5052 2023 3131 3739  ng bug (PR #1179
-0003d9c0: 290a 0a43 6861 6e67 6573 2069 6e20 7379  )..Changes in sy
-0003d9d0: 6e61 7073 6520 7630 2e31 382e 322d 7263  napse v0.18.2-rc
-0003d9e0: 3220 2832 3031 362d 3130 2d32 3529 0a3d  2 (2016-10-25).=
-0003d9f0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003da00: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003da10: 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 2854 6869  ==========..(Thi
-0003da20: 7320 7265 6c65 6173 6520 6469 6420 6e6f  s release did no
-0003da30: 7420 696e 636c 7564 6520 7468 6520 6368  t include the ch
-0003da40: 616e 6765 7320 6164 7665 7274 6973 6564  anges advertised
-0003da50: 2061 6e64 2077 6173 2069 6465 6e74 6963   and was identic
-0003da60: 616c 2074 6f20 5243 3129 0a0a 4368 616e  al to RC1)..Chan
-0003da70: 6765 7320 696e 2073 796e 6170 7365 2076  ges in synapse v
-0003da80: 302e 3138 2e32 2d72 6331 2028 3230 3136  0.18.2-rc1 (2016
-0003da90: 2d31 302d 3137 290a 3d3d 3d3d 3d3d 3d3d  -10-17).========
-0003daa0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003dab0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003dac0: 3d3d 3d0a 0a43 6861 6e67 6573 3a0a 0a2d  ===..Changes:..-
-0003dad0: 2020 2052 656d 6f76 6520 7265 6475 6e64     Remove redund
-0003dae0: 616e 7420 6576 656e 745c 5f61 7574 6820  ant event\_auth 
-0003daf0: 696e 6465 7820 2850 5220 2331 3131 3329  index (PR #1113)
-0003db00: 0a2d 2020 2052 6564 7563 6520 4442 2068  .-   Reduce DB h
-0003db10: 6974 7320 666f 7220 7265 706c 6963 6174  its for replicat
-0003db20: 696f 6e20 2850 5220 2331 3134 3129 0a2d  ion (PR #1141).-
-0003db30: 2020 2049 6d70 6c65 6d65 6e74 2070 6c75     Implement plu
-0003db40: 6767 6162 6c65 2070 6173 7377 6f72 6420  ggable password 
-0003db50: 6175 7468 2028 5052 2023 3131 3535 290a  auth (PR #1155).
-0003db60: 2d20 2020 5265 6d6f 7665 2072 6174 6520  -   Remove rate 
-0003db70: 6c69 6d69 7469 6e67 2066 726f 6d20 6170  limiting from ap
-0003db80: 7020 7365 7276 6963 6520 7365 6e64 6572  p service sender
-0003db90: 7320 616e 6420 6669 7820 6765 745c 5f6f  s and fix get\_o
-0003dba0: 725c 5f63 7265 6174 655c 5f75 7365 7220  r\_create\_user 
-0003dbb0: 7265 7175 6573 7465 722c 2074 6861 6e6b  requester, thank
-0003dbc0: 7320 746f 2050 6174 7269 6b20 4f6c 6473  s to Patrik Olds
-0003dbd0: 6265 7267 2028 5052 2023 3131 3537 290a  berg (PR #1157).
-0003dbe0: 2d20 2020 7769 6e64 6f77 2e70 6f73 746d  -   window.postm
-0003dbf0: 6573 7361 6765 2066 6f72 2049 6e74 6572  essage for Inter
-0003dc00: 6163 7469 7665 2041 7574 6820 6661 6c6c  active Auth fall
-0003dc10: 6261 636b 2028 5052 2023 3131 3539 290a  back (PR #1159).
-0003dc20: 2d20 2020 5573 6520 7379 732e 6578 6563  -   Use sys.exec
-0003dc30: 7574 6162 6c65 2069 6e73 7465 6164 206f  utable instead o
-0003dc40: 6620 6861 7264 636f 6465 6420 7079 7468  f hardcoded pyth
-0003dc50: 6f6e 2c20 7468 616e 6b73 2074 6f20 5065  on, thanks to Pe
-0003dc60: 6472 6f20 4c61 7272 6f79 2028 5052 2023  dro Larroy (PR #
-0003dc70: 3131 3632 290a 2d20 2020 4164 6420 636f  1162).-   Add co
-0003dc80: 6e66 6967 206f 7074 696f 6e20 666f 7220  nfig option for 
-0003dc90: 6164 6469 6e67 2061 6464 6974 696f 6e61  adding additiona
-0003dca0: 6c20 544c 5320 6669 6e67 6572 7072 696e  l TLS fingerprin
-0003dcb0: 7473 2028 5052 2023 3131 3637 290a 2d20  ts (PR #1167).- 
-0003dcc0: 2020 5573 6572 2d69 6e74 6572 6163 7469    User-interacti
-0003dcd0: 7665 2061 7574 6820 6f6e 2064 656c 6574  ve auth on delet
-0003dce0: 6520 6465 7669 6365 2028 5052 2023 3131  e device (PR #11
-0003dcf0: 3638 290a 0a42 7567 2066 6978 6573 3a0a  68)..Bug fixes:.
-0003dd00: 0a2d 2020 2046 6978 206e 6f74 2062 6569  .-   Fix not bei
-0003dd10: 6e67 2061 6c6c 6f77 6564 2074 6f20 7365  ng allowed to se
-0003dd20: 7420 796f 7572 206f 776e 2073 7461 7465  t your own state
-0003dd30: 5c5f 6b65 792c 2074 6861 6e6b 7320 746f  \_key, thanks to
-0003dd40: 2050 6174 7269 6b20 4f6c 6473 6265 7267   Patrik Oldsberg
-0003dd50: 2028 5052 2023 3131 3530 290a 2d20 2020   (PR #1150).-   
-0003dd60: 4669 7820 696e 7465 7261 6374 6976 6520  Fix interactive 
-0003dd70: 6175 7468 2074 6f20 7265 7475 726e 2034  auth to return 4
-0003dd80: 3031 2066 726f 6d20 666f 7220 696e 636f  01 from for inco
-0003dd90: 7272 6563 7420 7061 7373 776f 7264 2028  rrect password (
-0003dda0: 5052 2023 3131 3630 2c20 2331 3136 3629  PR #1160, #1166)
-0003ddb0: 0a2d 2020 2046 6978 2065 6d61 696c 2070  .-   Fix email p
-0003ddc0: 7573 6820 6e6f 7469 6673 2062 6569 6e67  ush notifs being
-0003ddd0: 2064 726f 7070 6564 2028 5052 2023 3131   dropped (PR #11
-0003dde0: 3639 290a 0a43 6861 6e67 6573 2069 6e20  69)..Changes in 
-0003ddf0: 7379 6e61 7073 6520 7630 2e31 382e 3120  synapse v0.18.1 
-0003de00: 2832 3031 362d 3130 2d30 3529 0a3d 3d3d  (2016-10-05).===
-0003de10: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003de20: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003de30: 3d3d 3d3d 0a0a 4e6f 2063 6861 6e67 6573  ====..No changes
-0003de40: 2073 696e 6365 2076 302e 3138 2e31 2d72   since v0.18.1-r
-0003de50: 6331 0a0a 4368 616e 6765 7320 696e 2073  c1..Changes in s
-0003de60: 796e 6170 7365 2076 302e 3138 2e31 2d72  ynapse v0.18.1-r
-0003de70: 6331 2028 3230 3136 2d30 392d 3330 290a  c1 (2016-09-30).
-0003de80: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003de90: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003dea0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a46 6561  ===========..Fea
-0003deb0: 7475 7265 733a 0a0a 2d20 2020 4164 6420  tures:..-   Add 
-0003dec0: 746f 7461 6c5c 5f72 6f6f 6d5c 5f63 6f75  total\_room\_cou
-0003ded0: 6e74 5c5f 6573 7469 6d61 7465 2074 6f20  nt\_estimate to 
-0003dee0: 602f 7075 626c 6963 526f 6f6d 7360 2028  `/publicRooms` (
-0003def0: 5052 2023 3131 3333 290a 0a43 6861 6e67  PR #1133)..Chang
-0003df00: 6573 3a0a 0a2d 2020 2054 696d 6520 6f75  es:..-   Time ou
-0003df10: 7420 7479 7069 6e67 206f 7665 7220 6665  t typing over fe
-0003df20: 6465 7261 7469 6f6e 2028 5052 2023 3131  deration (PR #11
-0003df30: 3430 290a 2d20 2020 5265 7374 7275 6374  40).-   Restruct
-0003df40: 7572 6520 4c44 4150 2061 7574 6865 6e74  ure LDAP authent
-0003df50: 6963 6174 696f 6e20 2850 5220 2331 3135  ication (PR #115
-0003df60: 3329 0a0a 4275 6720 6669 7865 733a 0a0a  3)..Bug fixes:..
-0003df70: 2d20 2020 4669 7820 3370 6964 2069 6e76  -   Fix 3pid inv
-0003df80: 6974 6573 2077 6865 6e20 7365 7276 6572  ites when server
-0003df90: 2069 7320 616c 7265 6164 7920 696e 2074   is already in t
-0003dfa0: 6865 2072 6f6f 6d20 2850 5220 2331 3133  he room (PR #113
-0003dfb0: 3629 0a2d 2020 2046 6978 2075 7067 7261  6).-   Fix upgra
-0003dfc0: 6469 6e67 2077 6974 6820 5351 4c69 7465  ding with SQLite
-0003dfd0: 2074 616b 696e 6720 6c6f 7473 206f 6620   taking lots of 
-0003dfe0: 4350 5520 666f 7220 6120 6665 7720 6461  CPU for a few da
-0003dff0: 7973 2061 6674 6572 2075 7067 7261 6465  ys after upgrade
-0003e000: 2028 5052 2023 3131 3434 290a 2d20 2020   (PR #1144).-   
-0003e010: 4669 7820 7570 6772 6164 696e 6720 6672  Fix upgrading fr
-0003e020: 6f6d 2076 6572 7920 6f6c 6420 6461 7461  om very old data
-0003e030: 6261 7365 2076 6572 7369 6f6e 7320 2850  base versions (P
-0003e040: 5220 2331 3134 3529 0a2d 2020 2046 6978  R #1145).-   Fix
-0003e050: 2070 6f72 7420 7363 7269 7074 2074 6f20   port script to 
-0003e060: 776f 726b 2077 6974 6820 7265 6365 6e74  work with recent
-0003e070: 6c79 2061 6464 6564 2074 6162 6c65 7320  ly added tables 
-0003e080: 2850 5220 2331 3134 3629 0a0a 4368 616e  (PR #1146)..Chan
-0003e090: 6765 7320 696e 2073 796e 6170 7365 2076  ges in synapse v
-0003e0a0: 302e 3138 2e30 2028 3230 3136 2d30 392d  0.18.0 (2016-09-
-0003e0b0: 3139 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  19).============
-0003e0c0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003e0d0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a54 6865  ===========..The
-0003e0e0: 2072 656c 6561 7365 2069 6e63 6c75 6465   release include
-0003e0f0: 7320 6d61 6a6f 7220 6368 616e 6765 7320  s major changes 
-0003e100: 746f 2074 6865 2073 7461 7465 2073 746f  to the state sto
-0003e110: 7261 6765 2064 6174 6162 6173 6520 7363  rage database sc
-0003e120: 6865 6d61 732c 2077 6869 6368 2073 6967  hemas, which sig
-0003e130: 6e69 6669 6361 6e74 6c79 2072 6564 7563  nificantly reduc
-0003e140: 6520 6461 7461 6261 7365 2073 697a 652e  e database size.
-0003e150: 2053 796e 6170 7365 2077 696c 6c20 6174   Synapse will at
-0003e160: 7465 6d70 7420 746f 2075 7067 7261 6465  tempt to upgrade
-0003e170: 2074 6865 2063 7572 7265 6e74 2064 6174   the current dat
-0003e180: 6120 696e 2074 6865 2062 6163 6b67 726f  a in the backgro
-0003e190: 756e 642e 2053 6572 7665 7273 2077 6974  und. Servers wit
-0003e1a0: 6820 6c61 7267 6520 5351 4c69 7465 2064  h large SQLite d
-0003e1b0: 6174 6162 6173 6520 6d61 7920 6578 7065  atabase may expe
-0003e1c0: 7269 656e 6365 2064 6567 7261 6461 7469  rience degradati
-0003e1d0: 6f6e 206f 6620 7065 7266 6f72 6d61 6e63  on of performanc
-0003e1e0: 6520 7768 696c 6520 7468 6973 2075 7067  e while this upg
-0003e1f0: 7261 6465 2069 7320 696e 2070 726f 6772  rade is in progr
-0003e200: 6573 732c 2074 6865 7265 666f 7265 2079  ess, therefore y
-0003e210: 6f75 206d 6179 2077 616e 7420 746f 2063  ou may want to c
-0003e220: 6f6e 7369 6465 7220 6d69 6772 6174 696e  onsider migratin
-0003e230: 6720 746f 2075 7369 6e67 2050 6f73 7467  g to using Postg
-0003e240: 7265 7320 6265 666f 7265 2075 7067 7261  res before upgra
-0003e250: 6469 6e67 2076 6572 7920 6c61 7267 6520  ding very large 
-0003e260: 5351 4c69 7465 2064 6174 6162 6173 6573  SQLite databases
-0003e270: 0a0a 4368 616e 6765 733a 0a0a 2d20 2020  ..Changes:..-   
-0003e280: 4d61 6b65 2070 7562 6c69 6320 726f 6f6d  Make public room
-0003e290: 2073 6561 7263 6820 6361 7365 2069 6e73   search case ins
-0003e2a0: 656e 7369 7469 7665 2028 5052 2023 3131  ensitive (PR #11
-0003e2b0: 3237 290a 0a42 7567 2066 6978 6573 3a0a  27)..Bug fixes:.
-0003e2c0: 0a2d 2020 2046 6978 2061 6e64 2063 6c65  .-   Fix and cle
-0003e2d0: 616e 2075 7020 7075 626c 6963 526f 6f6d  an up publicRoom
-0003e2e0: 7320 7061 6769 6e61 7469 6f6e 2028 5052  s pagination (PR
-0003e2f0: 2023 3131 3239 290a 0a43 6861 6e67 6573   #1129)..Changes
-0003e300: 2069 6e20 7379 6e61 7073 6520 7630 2e31   in synapse v0.1
-0003e310: 382e 302d 7263 3120 2832 3031 362d 3039  8.0-rc1 (2016-09
-0003e320: 2d31 3629 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d  -16).===========
-0003e330: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003e340: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003e350: 0a0a 4665 6174 7572 6573 3a0a 0a2d 2020  ..Features:..-  
-0003e360: 2041 6464 2060 6f6e 6c79 3d68 6967 686c   Add `only=highl
-0003e370: 6967 6874 6020 6f6e 2060 2f6e 6f74 6966  ight` on `/notif
-0003e380: 6963 6174 696f 6e73 6020 2850 5220 2331  ications` (PR #1
-0003e390: 3038 3129 0a2d 2020 2041 6464 2073 6572  081).-   Add ser
-0003e3a0: 7665 7220 7061 7261 6d20 746f 202f 7075  ver param to /pu
-0003e3b0: 626c 6963 526f 6f6d 7320 2850 5220 2331  blicRooms (PR #1
-0003e3c0: 3038 3229 0a2d 2020 2041 6c6c 6f77 2063  082).-   Allow c
-0003e3d0: 6c69 656e 7473 2074 6f20 6173 6b20 666f  lients to ask fo
-0003e3e0: 7220 7468 6520 7768 6f6c 6520 6f66 2061  r the whole of a
-0003e3f0: 2073 696e 676c 6520 7374 6174 6520 6576   single state ev
-0003e400: 656e 7420 2850 5220 2331 3039 3429 0a2d  ent (PR #1094).-
-0003e410: 2020 2041 6464 2069 735c 5f64 6972 6563     Add is\_direc
-0003e420: 7420 7061 7261 6d20 746f 202f 6372 6561  t param to /crea
-0003e430: 7465 526f 6f6d 2028 5052 2023 3131 3038  teRoom (PR #1108
-0003e440: 290a 2d20 2020 4164 6420 7061 6769 6e61  ).-   Add pagina
-0003e450: 7469 6f6e 2073 7570 706f 7274 2074 6f20  tion support to 
-0003e460: 7075 626c 6963 526f 6f6d 7320 2850 5220  publicRooms (PR 
-0003e470: 2331 3132 3129 0a2d 2020 2041 6464 2076  #1121).-   Add v
-0003e480: 6572 7920 6261 7369 6320 6669 6c74 6572  ery basic filter
-0003e490: 2041 5049 2074 6f20 2f70 7562 6c69 6352   API to /publicR
-0003e4a0: 6f6f 6d73 2028 5052 2023 3131 3236 290a  ooms (PR #1126).
-0003e4b0: 2d20 2020 4164 6420 6261 7369 6320 6469  -   Add basic di
-0003e4c0: 7265 6374 2074 6f20 6465 7669 6365 206d  rect to device m
-0003e4d0: 6573 7361 6769 6e67 2073 7570 706f 7274  essaging support
-0003e4e0: 2066 6f72 2045 3245 2028 5052 2023 3130   for E2E (PR #10
-0003e4f0: 3734 2c20 2331 3038 342c 2023 3131 3034  74, #1084, #1104
-0003e500: 2c20 2331 3131 3129 0a0a 4368 616e 6765  , #1111)..Change
-0003e510: 733a 0a0a 2d20 2020 4d6f 7665 2074 6f20  s:..-   Move to 
-0003e520: 7374 6f72 696e 6720 7374 6174 655c 5f67  storing state\_g
-0003e530: 726f 7570 735c 5f73 7461 7465 2061 7320  roups\_state as 
-0003e540: 6465 6c74 6173 2c20 6772 6561 746c 7920  deltas, greatly 
-0003e550: 7265 6475 6369 6e67 2044 4220 7369 7a65  reducing DB size
-0003e560: 2028 5052 2023 3130 3635 290a 2d20 2020   (PR #1065).-   
-0003e570: 5265 6475 6365 2061 6d6f 756e 7420 6f66  Reduce amount of
-0003e580: 2073 7461 7465 2070 756c 6c65 6420 6f75   state pulled ou
-0003e590: 7420 6f66 2074 6865 2044 4220 6475 7269  t of the DB duri
-0003e5a0: 6e67 2063 6f6d 6d6f 6e20 7265 7175 6573  ng common reques
-0003e5b0: 7473 2028 5052 2023 3130 3639 290a 2d20  ts (PR #1069).- 
-0003e5c0: 2020 416c 6c6f 7720 5044 4620 746f 2062    Allow PDF to b
-0003e5d0: 6520 7265 6e64 6572 6564 2066 726f 6d20  e rendered from 
-0003e5e0: 6d65 6469 6120 7265 706f 2028 5052 2023  media repo (PR #
-0003e5f0: 3130 3731 290a 2d20 2020 5265 696e 6465  1071).-   Reinde
-0003e600: 7820 7374 6174 655c 5f67 726f 7570 735c  x state\_groups\
-0003e610: 5f73 7461 7465 2061 6674 6572 2070 7275  _state after pru
-0003e620: 6e69 6e67 2028 5052 2023 3130 3835 290a  ning (PR #1085).
-0003e630: 2d20 2020 436c 6f62 6265 7220 4544 5573  -   Clobber EDUs
-0003e640: 2069 6e20 7365 6e64 2071 7565 7565 2028   in send queue (
-0003e650: 5052 2023 3130 3935 290a 2d20 2020 436f  PR #1095).-   Co
-0003e660: 6e66 6f72 6d20 6265 7474 6572 2074 6f20  nform better to 
-0003e670: 7468 6520 4341 5320 7072 6f74 6f63 6f6c  the CAS protocol
-0003e680: 2073 7065 6369 6669 6361 7469 6f6e 2028   specification (
-0003e690: 5052 2023 3131 3030 290a 2d20 2020 4c69  PR #1100).-   Li
-0003e6a0: 6d69 7420 686f 7720 6f66 7465 6e20 7765  mit how often we
-0003e6b0: 2061 736b 2066 6f72 206b 6579 7320 6672   ask for keys fr
-0003e6c0: 6f6d 2064 6561 6420 7365 7276 6572 7320  om dead servers 
-0003e6d0: 2850 5220 2331 3131 3429 0a0a 4275 6720  (PR #1114)..Bug 
-0003e6e0: 6669 7865 733a 0a0a 2d20 2020 4669 7820  fixes:..-   Fix 
-0003e6f0: 2f6e 6f74 6966 6963 6174 696f 6e73 2041  /notifications A
-0003e700: 5049 2077 6865 6e20 7573 6564 2077 6974  PI when used wit
-0003e710: 6820 6066 726f 6d60 2070 6172 616d 2028  h `from` param (
-0003e720: 5052 2023 3130 3830 290a 2d20 2020 4669  PR #1080).-   Fi
-0003e730: 7820 6261 636b 6669 6c6c 2077 6865 6e20  x backfill when 
-0003e740: 6361 6e6e 6f74 2066 696e 6420 616e 2065  cannot find an e
-0003e750: 7665 6e74 2e20 2850 5220 2331 3130 3729  vent. (PR #1107)
-0003e760: 0a0a 4368 616e 6765 7320 696e 2073 796e  ..Changes in syn
-0003e770: 6170 7365 2076 302e 3137 2e33 2028 3230  apse v0.17.3 (20
-0003e780: 3136 2d30 392d 3039 290a 3d3d 3d3d 3d3d  16-09-09).======
-0003e790: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003e7a0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003e7b0: 3d0a 0a54 6869 7320 7265 6c65 6173 6520  =..This release 
-0003e7c0: 6669 7865 7320 6120 6d61 6a6f 7220 6275  fixes a major bu
-0003e7d0: 6720 7468 6174 2073 746f 7070 6564 2073  g that stopped s
-0003e7e0: 6572 7665 7273 2066 726f 6d20 6861 6e64  ervers from hand
-0003e7f0: 6c69 6e67 2072 6f6f 6d73 2077 6974 6820  ling rooms with 
-0003e800: 6f76 6572 2031 3030 3020 6d65 6d62 6572  over 1000 member
-0003e810: 732e 0a0a 4368 616e 6765 7320 696e 2073  s...Changes in s
-0003e820: 796e 6170 7365 2076 302e 3137 2e32 2028  ynapse v0.17.2 (
-0003e830: 3230 3136 2d30 392d 3038 290a 3d3d 3d3d  2016-09-08).====
-0003e840: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003e850: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003e860: 3d3d 3d0a 0a54 6869 7320 7265 6c65 6173  ===..This releas
-0003e870: 6520 636f 6e74 6169 6e73 2073 6563 7572  e contains secur
-0003e880: 6974 7920 6275 6720 6669 7865 732e 2050  ity bug fixes. P
-0003e890: 6c65 6173 6520 7570 6772 6164 652e 0a0a  lease upgrade...
-0003e8a0: 4e6f 2063 6861 6e67 6573 2073 696e 6365  No changes since
-0003e8b0: 2076 302e 3137 2e32 2d72 6331 0a0a 4368   v0.17.2-rc1..Ch
-0003e8c0: 616e 6765 7320 696e 2073 796e 6170 7365  anges in synapse
-0003e8d0: 2076 302e 3137 2e32 2d72 6331 2028 3230   v0.17.2-rc1 (20
-0003e8e0: 3136 2d30 392d 3035 290a 3d3d 3d3d 3d3d  16-09-05).======
-0003e8f0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003e900: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003e910: 3d3d 3d3d 3d0a 0a46 6561 7475 7265 733a  =====..Features:
-0003e920: 0a0a 2d20 2020 5374 6172 7420 6164 6469  ..-   Start addi
-0003e930: 6e67 2073 746f 7265 2d61 6e64 2d66 6f72  ng store-and-for
-0003e940: 7761 7264 2064 6972 6563 742d 746f 2d64  ward direct-to-d
-0003e950: 6576 6963 6520 6d65 7373 6167 696e 6720  evice messaging 
-0003e960: 2850 5220 2331 3034 362c 2023 3130 3530  (PR #1046, #1050
-0003e970: 2c20 2331 3036 322c 2023 3130 3636 290a  , #1062, #1066).
-0003e980: 0a43 6861 6e67 6573 3a0a 0a2d 2020 2041  .Changes:..-   A
-0003e990: 766f 6964 2070 756c 6c69 6e67 2074 6865  void pulling the
-0003e9a0: 2066 756c 6c20 7374 6174 6520 6f66 2061   full state of a
-0003e9b0: 2072 6f6f 6d20 6f75 7420 736f 206f 6674   room out so oft
-0003e9c0: 656e 2028 5052 2023 3130 3437 2c20 2331  en (PR #1047, #1
-0003e9d0: 3034 392c 2023 3130 3633 2c20 2331 3036  049, #1063, #106
-0003e9e0: 3829 0a2d 2020 2044 6f6e 5c27 7420 6e6f  8).-   Don\'t no
-0003e9f0: 7469 6679 2066 6f72 206f 6e6c 696e 6520  tify for online 
-0003ea00: 746f 206f 6e6c 696e 6520 7072 6573 656e  to online presen
-0003ea10: 6365 2074 7261 6e73 6974 696f 6e73 2e20  ce transitions. 
-0003ea20: 2850 5220 2331 3035 3429 0a2d 2020 204f  (PR #1054).-   O
-0003ea30: 6363 6173 696f 6e61 6c6c 7920 7065 7273  ccasionally pers
-0003ea40: 6973 7420 756e 7065 7273 6973 7465 6420  ist unpersisted 
-0003ea50: 7072 6573 656e 6365 2075 7064 6174 6573  presence updates
-0003ea60: 2028 5052 2023 3130 3535 290a 2d20 2020   (PR #1055).-   
-0003ea70: 416c 6c6f 7720 6170 706c 6963 6174 696f  Allow applicatio
-0003ea80: 6e20 7365 7276 6963 6573 2074 6f20 6861  n services to ha
-0003ea90: 7665 2061 6e20 6f70 7469 6f6e 616c 205c  ve an optional \
-0003eaa0: 2775 726c 5c27 2028 5052 2023 3130 3536  'url\' (PR #1056
-0003eab0: 290a 2d20 2020 436c 6561 6e20 7570 206f  ).-   Clean up o
-0003eac0: 6c64 2073 656e 7420 7472 616e 7361 6374  ld sent transact
-0003ead0: 696f 6e73 2066 726f 6d20 4442 2028 5052  ions from DB (PR
-0003eae0: 2023 3130 3539 290a 0a42 7567 2066 6978   #1059)..Bug fix
-0003eaf0: 6573 3a0a 0a2d 2020 2046 6978 204e 6f6e  es:..-   Fix Non
-0003eb00: 6520 6368 6563 6b20 696e 2062 6163 6b66  e check in backf
-0003eb10: 696c 6c20 2850 5220 2331 3034 3329 0a2d  ill (PR #1043).-
-0003eb20: 2020 2046 6978 206d 656d 6265 7273 6869     Fix membershi
-0003eb30: 7020 6368 616e 6765 7320 746f 2062 6520  p changes to be 
-0003eb40: 6964 656d 706f 7465 6e74 2028 5052 2023  idempotent (PR #
-0003eb50: 3130 3637 290a 2d20 2020 4669 7820 6275  1067).-   Fix bu
-0003eb60: 6720 696e 2067 6574 5c5f 7064 7520 7768  g in get\_pdu wh
-0003eb70: 6572 6520 6974 2077 6f75 6c64 2073 6f6d  ere it would som
-0003eb80: 6574 696d 6573 2072 6574 7572 6e20 6576  etimes return ev
-0003eb90: 656e 7473 2077 6974 6820 696e 636f 7272  ents with incorr
-0003eba0: 6563 7420 7369 676e 6174 7572 650a 0a43  ect signature..C
-0003ebb0: 6861 6e67 6573 2069 6e20 7379 6e61 7073  hanges in synaps
-0003ebc0: 6520 7630 2e31 372e 3120 2832 3031 362d  e v0.17.1 (2016-
-0003ebd0: 3038 2d32 3429 0a3d 3d3d 3d3d 3d3d 3d3d  08-24).=========
-0003ebe0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003ebf0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a  ==============..
-0003ec00: 4368 616e 6765 733a 0a0a 2d20 2020 4465  Changes:..-   De
-0003ec10: 6c65 7465 206f 6c64 2072 6563 6569 7665  lete old receive
-0003ec20: 645c 5f74 7261 6e73 6163 7469 6f6e 7320  d\_transactions 
-0003ec30: 726f 7773 2028 5052 2023 3130 3338 290a  rows (PR #1038).
-0003ec40: 2d20 2020 5061 7373 2074 6872 6f75 6768  -   Pass through
-0003ec50: 2075 7365 722d 7375 7070 6c69 6564 2063   user-supplied c
-0003ec60: 6f6e 7465 6e74 2069 6e20 2f6a 6f69 6e2f  ontent in /join/
-0003ec70: 5c24 726f 6f6d 5c5f 6964 2028 5052 2023  \$room\_id (PR #
-0003ec80: 3130 3339 290a 0a42 7567 2066 6978 6573  1039)..Bug fixes
-0003ec90: 3a0a 0a2d 2020 2046 6978 2062 7567 2077  :..-   Fix bug w
-0003eca0: 6974 6820 6261 636b 6669 6c6c 2028 5052  ith backfill (PR
-0003ecb0: 2023 3130 3430 290a 0a43 6861 6e67 6573   #1040)..Changes
-0003ecc0: 2069 6e20 7379 6e61 7073 6520 7630 2e31   in synapse v0.1
-0003ecd0: 372e 312d 7263 3120 2832 3031 362d 3038  7.1-rc1 (2016-08
-0003ece0: 2d32 3229 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d  -22).===========
-0003ecf0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003ed00: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003ed10: 0a0a 4665 6174 7572 6573 3a0a 0a2d 2020  ..Features:..-  
-0003ed20: 2041 6464 206e 6f74 6966 6963 6174 696f   Add notificatio
-0003ed30: 6e20 4150 4920 2850 5220 2331 3032 3829  n API (PR #1028)
-0003ed40: 0a0a 4368 616e 6765 733a 0a0a 2d20 2020  ..Changes:..-   
-0003ed50: 446f 6e5c 2774 2070 7269 6e74 2073 7461  Don\'t print sta
-0003ed60: 636b 2074 7261 6365 7320 7768 656e 2066  ck traces when f
-0003ed70: 6169 6c69 6e67 2074 6f20 6765 7420 7265  ailing to get re
-0003ed80: 6d6f 7465 206b 6579 7320 2850 5220 2339  mote keys (PR #9
-0003ed90: 3936 290a 2d20 2020 5661 7269 6f75 7320  96).-   Various 
-0003eda0: 6665 6465 7261 7469 6f6e 202f 6576 656e  federation /even
-0003edb0: 742f 2070 6572 6620 696d 7072 6f76 656d  t/ perf improvem
-0003edc0: 656e 7473 2028 5052 2023 3939 3829 0a2d  ents (PR #998).-
-0003edd0: 2020 204f 6e6c 7920 7072 6f63 6573 7320     Only process 
-0003ede0: 6f6e 6520 6c6f 6361 6c20 6d65 6d62 6572  one local member
-0003edf0: 7368 6970 2065 7665 6e74 2070 6572 2072  ship event per r
-0003ee00: 6f6f 6d20 6174 2061 2074 696d 6520 2850  oom at a time (P
-0003ee10: 5220 2331 3030 3529 0a2d 2020 204d 6f76  R #1005).-   Mov
-0003ee20: 6520 6465 6661 756c 7420 6469 7370 6c61  e default displa
-0003ee30: 7920 6e61 6d65 2070 7573 6820 7275 6c65  y name push rule
-0003ee40: 2028 5052 2023 3130 3131 2c20 2331 3032   (PR #1011, #102
-0003ee50: 3329 0a2d 2020 2046 6978 2075 7020 7072  3).-   Fix up pr
-0003ee60: 6576 6965 7720 5552 4c20 4150 492e 2041  eview URL API. A
-0003ee70: 6464 2074 6573 7473 2e20 2850 5220 2331  dd tests. (PR #1
-0003ee80: 3031 3529 0a2d 2020 2053 6574 2060 436f  015).-   Set `Co
-0003ee90: 6e74 656e 742d 5365 6375 7269 7479 2d50  ntent-Security-P
-0003eea0: 6f6c 6963 7960 206f 6e20 6d65 6469 6120  olicy` on media 
-0003eeb0: 7265 706f 2028 5052 2023 3130 3231 290a  repo (PR #1021).
-0003eec0: 2d20 2020 4d61 6b65 206e 6f74 6966 795c  -   Make notify\
-0003eed0: 5f69 6e74 6572 6573 7465 645c 5f73 6572  _interested\_ser
-0003eee0: 7669 6365 7320 6661 7374 6572 2028 5052  vices faster (PR
-0003eef0: 2023 3130 3232 290a 2d20 2020 4164 6420   #1022).-   Add 
-0003ef00: 7573 6167 6520 7374 6174 7320 746f 2070  usage stats to p
-0003ef10: 726f 6d65 7468 6575 7320 6d6f 6e69 746f  rometheus monito
-0003ef20: 7269 6e67 2028 5052 2023 3130 3337 290a  ring (PR #1037).
-0003ef30: 0a42 7567 2066 6978 6573 3a0a 0a2d 2020  .Bug fixes:..-  
-0003ef40: 2046 6978 2074 6f6b 656e 206c 6f67 696e   Fix token login
-0003ef50: 2028 5052 2023 3939 3329 0a2d 2020 2046   (PR #993).-   F
-0003ef60: 6978 2043 4153 206c 6f67 696e 2028 5052  ix CAS login (PR
-0003ef70: 2023 3939 342c 2023 3939 3529 0a2d 2020   #994, #995).-  
-0003ef80: 2046 6978 202f 7379 6e63 2074 6f20 6e6f   Fix /sync to no
-0003ef90: 7420 636c 6f62 6265 7220 7374 6174 7573  t clobber status
-0003efa0: 5c5f 6d73 6720 2850 5220 2339 3937 290a  \_msg (PR #997).
-0003efb0: 2d20 2020 4669 7820 7265 6461 6374 6564  -   Fix redacted
-0003efc0: 2073 7461 7465 2065 7665 6e74 7320 746f   state events to
-0003efd0: 2069 6e63 6c75 6465 2070 7265 765c 5f63   include prev\_c
-0003efe0: 6f6e 7465 6e74 2028 5052 2023 3130 3033  ontent (PR #1003
-0003eff0: 290a 2d20 2020 4669 7820 736f 6d65 2062  ).-   Fix some b
-0003f000: 7567 7320 696e 2074 6865 2061 7574 682f  ugs in the auth/
-0003f010: 6c64 6170 2068 616e 646c 6572 2028 5052  ldap handler (PR
-0003f020: 2023 3130 3037 290a 2d20 2020 4669 7820   #1007).-   Fix 
-0003f030: 6261 636b 6669 6c6c 2072 6571 7565 7374  backfill request
-0003f040: 2074 6f20 6c69 6d69 7420 5552 4920 6c65   to limit URI le
-0003f050: 6e67 7468 2c20 736f 2074 6861 7420 7265  ngth, so that re
-0003f060: 6d6f 7465 7320 646f 6e5c 2774 2072 656a  motes don\'t rej
-0003f070: 6563 7420 7468 6520 7265 7175 6573 7473  ect the requests
-0003f080: 2064 7565 2074 6f20 7061 7468 206c 656e   due to path len
-0003f090: 6774 6820 6c69 6d69 7473 2028 5052 2023  gth limits (PR #
-0003f0a0: 3130 3132 290a 2d20 2020 4669 7820 4153  1012).-   Fix AS
-0003f0b0: 2070 7573 6820 636f 6465 2074 6f20 6e6f   push code to no
-0003f0c0: 7420 7365 6e64 2064 7570 6c69 6361 7465  t send duplicate
-0003f0d0: 2065 7665 6e74 7320 2850 5220 2331 3032   events (PR #102
-0003f0e0: 3529 0a0a 4368 616e 6765 7320 696e 2073  5)..Changes in s
-0003f0f0: 796e 6170 7365 2076 302e 3137 2e30 2028  ynapse v0.17.0 (
-0003f100: 3230 3136 2d30 382d 3038 290a 3d3d 3d3d  2016-08-08).====
-0003f110: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003f120: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003f130: 3d3d 3d0a 0a54 6869 7320 7265 6c65 6173  ===..This releas
-0003f140: 6520 636f 6e74 6169 6e73 2073 6967 6e69  e contains signi
-0003f150: 6669 6361 6e74 2073 6563 7572 6974 7920  ficant security 
-0003f160: 6275 6720 6669 7865 7320 7265 6761 7264  bug fixes regard
-0003f170: 696e 6720 6175 7468 656e 7469 6361 7469  ing authenticati
-0003f180: 6e67 2065 7665 6e74 7320 7265 6365 6976  ng events receiv
-0003f190: 6564 206f 7665 7220 6665 6465 7261 7469  ed over federati
-0003f1a0: 6f6e 2e20 504c 4541 5345 2055 5047 5241  on. PLEASE UPGRA
-0003f1b0: 4445 2e0a 0a54 6869 7320 7265 6c65 6173  DE...This releas
-0003f1c0: 6520 6368 616e 6765 7320 7468 6520 4c44  e changes the LD
-0003f1d0: 4150 2063 6f6e 6669 6775 7261 7469 6f6e  AP configuration
-0003f1e0: 2066 6f72 6d61 7420 696e 2061 2062 6163   format in a bac
-0003f1f0: 6b77 6172 6473 2069 6e63 6f6d 7061 7469  kwards incompati
-0003f200: 626c 6520 7761 792c 2073 6565 2050 5220  ble way, see PR 
-0003f210: 2338 3433 2066 6f72 2064 6574 6169 6c73  #843 for details
-0003f220: 2e0a 0a43 6861 6e67 6573 3a0a 0a2d 2020  ...Changes:..-  
-0003f230: 2041 6464 2066 6564 6572 6174 696f 6e20   Add federation 
-0003f240: 2f76 6572 7369 6f6e 2041 5049 2028 5052  /version API (PR
-0003f250: 2023 3939 3029 0a2d 2020 204d 616b 6520   #990).-   Make 
-0003f260: 7073 7574 696c 2064 6570 656e 6465 6e63  psutil dependenc
-0003f270: 7920 6f70 7469 6f6e 616c 2028 5052 2023  y optional (PR #
-0003f280: 3939 3229 0a0a 4275 6720 6669 7865 733a  992)..Bug fixes:
-0003f290: 0a0a 2d20 2020 4669 7820 5552 4c20 7072  ..-   Fix URL pr
-0003f2a0: 6576 6965 7720 4150 4920 746f 2065 7863  eview API to exc
-0003f2b0: 6c75 6465 2048 544d 4c20 636f 6d6d 656e  lude HTML commen
-0003f2c0: 7473 2069 6e20 6465 7363 7269 7074 696f  ts in descriptio
-0003f2d0: 6e20 2850 5220 2339 3838 290a 2d20 2020  n (PR #988).-   
-0003f2e0: 4669 7820 6572 726f 7220 6861 6e64 6c69  Fix error handli
-0003f2f0: 6e67 206f 6620 7265 6d6f 7465 206a 6f69  ng of remote joi
-0003f300: 6e73 2028 5052 2023 3939 3129 0a0a 4368  ns (PR #991)..Ch
-0003f310: 616e 6765 7320 696e 2073 796e 6170 7365  anges in synapse
-0003f320: 2076 302e 3137 2e30 2d72 6334 2028 3230   v0.17.0-rc4 (20
-0003f330: 3136 2d30 382d 3035 290a 3d3d 3d3d 3d3d  16-08-05).======
-0003f340: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003f350: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003f360: 3d3d 3d3d 3d0a 0a43 6861 6e67 6573 3a0a  =====..Changes:.
-0003f370: 0a2d 2020 2043 6861 6e67 6520 7468 6520  .-   Change the 
-0003f380: 7761 7920 7765 2073 756d 6d61 7269 7a65  way we summarize
-0003f390: 2055 524c 7320 7768 656e 2070 7265 7669   URLs when previ
-0003f3a0: 6577 696e 6720 2850 5220 2339 3733 290a  ewing (PR #973).
-0003f3b0: 2d20 2020 4164 6420 6e65 7720 602f 7374  -   Add new `/st
-0003f3c0: 6174 655f 6964 732f 6020 6665 6465 7261  ate_ids/` federa
-0003f3d0: 7469 6f6e 2041 5049 2028 5052 2023 3937  tion API (PR #97
-0003f3e0: 3929 0a2d 2020 2053 7065 6564 2075 7020  9).-   Speed up 
-0003f3f0: 7072 6f63 6573 7369 6e67 206f 6620 602f  processing of `/
-0003f400: 7374 6174 652f 6020 7265 7370 6f6e 7365  state/` response
-0003f410: 2028 5052 2023 3938 3629 0a0a 4275 6720   (PR #986)..Bug 
-0003f420: 6669 7865 733a 0a0a 2d20 2020 4669 7820  fixes:..-   Fix 
-0003f430: 6576 656e 7420 7065 7273 6973 7465 6e63  event persistenc
-0003f440: 6520 7768 656e 2065 7665 6e74 2068 6173  e when event has
-0003f450: 2061 6c72 6561 6479 2062 6565 6e20 7061   already been pa
-0003f460: 7274 6961 6c6c 7920 7065 7273 6973 7465  rtially persiste
-0003f470: 6420 2850 5220 2339 3735 2c20 2339 3833  d (PR #975, #983
-0003f480: 2c20 2339 3835 290a 2d20 2020 4669 7820  , #985).-   Fix 
-0003f490: 706f 7274 2073 6372 6970 7420 746f 2061  port script to a
-0003f4a0: 6c73 6f20 636f 7079 2061 6372 6f73 7320  lso copy across 
-0003f4b0: 6261 636b 6669 6c6c 6564 2065 7665 6e74  backfilled event
-0003f4c0: 7320 2850 5220 2339 3832 290a 0a43 6861  s (PR #982)..Cha
-0003f4d0: 6e67 6573 2069 6e20 7379 6e61 7073 6520  nges in synapse 
-0003f4e0: 7630 2e31 372e 302d 7263 3320 2832 3031  v0.17.0-rc3 (201
-0003f4f0: 362d 3038 2d30 3229 0a3d 3d3d 3d3d 3d3d  6-08-02).=======
-0003f500: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003f510: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003f520: 3d3d 3d3d 0a0a 4368 616e 6765 733a 0a0a  ====..Changes:..
-0003f530: 2d20 2020 466f 7262 6964 206e 6f6e 2d41  -   Forbid non-A
-0003f540: 5365 7320 6672 6f6d 2072 6567 6973 7465  Ses from registe
-0003f550: 7269 6e67 2075 7365 7273 2077 686f 7365  ring users whose
-0003f560: 206e 616d 6573 2062 6567 696e 2077 6974   names begin wit
-0003f570: 6820 5c27 5c5f 5c27 2028 5052 2023 3935  h \'\_\' (PR #95
-0003f580: 3829 0a2d 2020 2041 6464 2073 6f6d 6520  8).-   Add some 
-0003f590: 6261 7369 6320 6164 6d69 6e20 4150 4920  basic admin API 
-0003f5a0: 646f 6373 2028 5052 2023 3936 3329 0a0a  docs (PR #963)..
-0003f5b0: 4275 6720 6669 7865 733a 0a0a 2d20 2020  Bug fixes:..-   
-0003f5c0: 5365 6e64 2074 6865 2063 6f72 7265 6374  Send the correct
-0003f5d0: 2068 6f73 7420 6865 6164 6572 2077 6865   host header whe
-0003f5e0: 6e20 6665 7463 6869 6e67 206b 6579 7320  n fetching keys 
-0003f5f0: 2850 5220 2339 3431 290a 2d20 2020 4669  (PR #941).-   Fi
-0003f600: 7820 6a6f 696e 696e 6720 6120 726f 6f6d  x joining a room
-0003f610: 2074 6861 7420 6861 7320 6d69 7373 696e   that has missin
-0003f620: 6720 6175 7468 2065 7665 6e74 7320 2850  g auth events (P
-0003f630: 5220 2339 3634 290a 2d20 2020 4669 7820  R #964).-   Fix 
-0003f640: 7661 7269 6f75 7320 7075 7368 2062 7567  various push bug
-0003f650: 7320 2850 5220 2339 3636 2c20 2339 3730  s (PR #966, #970
-0003f660: 290a 2d20 2020 4669 7820 6164 6469 6e67  ).-   Fix adding
-0003f670: 2065 6d61 696c 7320 6f6e 2072 6567 6973   emails on regis
-0003f680: 7472 6174 696f 6e20 2850 5220 2339 3638  tration (PR #968
-0003f690: 290a 0a43 6861 6e67 6573 2069 6e20 7379  )..Changes in sy
-0003f6a0: 6e61 7073 6520 7630 2e31 372e 302d 7263  napse v0.17.0-rc
-0003f6b0: 3220 2832 3031 362d 3038 2d30 3229 0a3d  2 (2016-08-02).=
-0003f6c0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003f6d0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003f6e0: 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 2854 6869  ==========..(Thi
-0003f6f0: 7320 7265 6c65 6173 6520 6469 6420 6e6f  s release did no
-0003f700: 7420 696e 636c 7564 6520 7468 6520 6368  t include the ch
-0003f710: 616e 6765 7320 6164 7665 7274 6973 6564  anges advertised
-0003f720: 2061 6e64 2077 6173 2069 6465 6e74 6963   and was identic
-0003f730: 616c 2074 6f20 5243 3129 0a0a 4368 616e  al to RC1)..Chan
-0003f740: 6765 7320 696e 2073 796e 6170 7365 2076  ges in synapse v
-0003f750: 302e 3137 2e30 2d72 6331 2028 3230 3136  0.17.0-rc1 (2016
-0003f760: 2d30 372d 3238 290a 3d3d 3d3d 3d3d 3d3d  -07-28).========
-0003f770: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003f780: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0003f790: 3d3d 3d0a 0a54 6869 7320 7265 6c65 6173  ===..This releas
-0003f7a0: 6520 6368 616e 6765 7320 7468 6520 4c44  e changes the LD
-0003f7b0: 4150 2063 6f6e 6669 6775 7261 7469 6f6e  AP configuration
-0003f7c0: 2066 6f72 6d61 7420 696e 2061 2062 6163   format in a bac
-0003f7d0: 6b77 6172 6473 2069 6e63 6f6d 7061 7469  kwards incompati
-0003f7e0: 626c 6520 7761 792c 2073 6565 2050 5220  ble way, see PR 
-0003f7f0: 2338 3433 2066 6f72 2064 6574 6169 6c73  #843 for details
-0003f800: 2e0a 0a46 6561 7475 7265 733a 0a0a 2d20  ...Features:..- 
-0003f810: 2020 4164 6420 7075 7267 655c 5f6d 6564    Add purge\_med
-0003f820: 6961 5c5f 6361 6368 6520 6164 6d69 6e20  ia\_cache admin 
-0003f830: 4150 4920 2850 5220 2339 3032 290a 2d20  API (PR #902).- 
-0003f840: 2020 4164 6420 6465 6163 7469 7661 7465    Add deactivate
-0003f850: 2061 6363 6f75 6e74 2061 646d 696e 2041   account admin A
-0003f860: 5049 2028 5052 2023 3930 3329 0a2d 2020  PI (PR #903).-  
-0003f870: 2041 6464 206f 7074 696f 6e61 6c20 7065   Add optional pe
-0003f880: 7070 6572 2074 6f20 7061 7373 776f 7264  pper to password
-0003f890: 2068 6173 6869 6e67 2028 5052 2023 3930   hashing (PR #90
-0003f8a0: 372c 2023 3931 3020 6279 204b 656e 7453  7, #910 by KentS
-0003f8b0: 6869 6b61 6d61 290a 2d20 2020 4164 6420  hikama).-   Add 
-0003f8c0: 616e 2061 646d 696e 206f 7074 696f 6e20  an admin option 
-0003f8d0: 746f 2073 6861 7265 6420 7365 6372 6574  to shared secret
-0003f8e0: 2072 6567 6973 7472 6174 696f 6e20 2862   registration (b
-0003f8f0: 7265 616b 7320 6261 636b 7761 7264 7320  reaks backwards 
-0003f900: 636f 6d70 6174 2920 2850 5220 2339 3039  compat) (PR #909
-0003f910: 290a 2d20 2020 4164 6420 7075 7267 6520  ).-   Add purge 
-0003f920: 6c6f 6361 6c20 726f 6f6d 2068 6973 746f  local room histo
-0003f930: 7279 2041 5049 2028 5052 2023 3931 312c  ry API (PR #911,
-0003f940: 2023 3932 332c 2023 3932 3429 0a2d 2020   #923, #924).-  
-0003f950: 2041 6464 2072 6571 7565 7374 546f 6b65   Add requestToke
-0003f960: 6e20 656e 6470 6f69 6e74 7320 2850 5220  n endpoints (PR 
-0003f970: 2339 3135 290a 2d20 2020 4164 6420 616e  #915).-   Add an
-0003f980: 202f 6163 636f 756e 742f 6465 6163 7469   /account/deacti
-0003f990: 7661 7465 2065 6e64 706f 696e 7420 2850  vate endpoint (P
-0003f9a0: 5220 2339 3231 290a 2d20 2020 4164 6420  R #921).-   Add 
-0003f9b0: 6669 6c74 6572 2070 6172 616d 2074 6f20  filter param to 
-0003f9c0: 2f6d 6573 7361 6765 732e 2041 6464 205c  /messages. Add \
-0003f9d0: 2763 6f6e 7461 696e 735c 5f75 726c 5c27  'contains\_url\'
-0003f9e0: 2074 6f20 6669 6c74 6572 2e20 2850 5220   to filter. (PR 
-0003f9f0: 2339 3232 290a 2d20 2020 4164 6420 6465  #922).-   Add de
-0003fa00: 7669 6365 5c5f 6964 2073 7570 706f 7274  vice\_id support
-0003fa10: 2074 6f20 2f6c 6f67 696e 2028 5052 2023   to /login (PR #
-0003fa20: 3932 3929 0a2d 2020 2041 6464 2064 6576  929).-   Add dev
-0003fa30: 6963 655c 5f69 6420 7375 7070 6f72 7420  ice\_id support 
-0003fa40: 746f 202f 7632 2f72 6567 6973 7465 7220  to /v2/register 
-0003fa50: 666c 6f77 2e20 2850 5220 2339 3337 2c20  flow. (PR #937, 
-0003fa60: 2339 3432 290a 2d20 2020 4164 6420 4745  #942).-   Add GE
-0003fa70: 5420 2f64 6576 6963 6573 2065 6e64 706f  T /devices endpo
-0003fa80: 696e 7420 2850 5220 2339 3339 2c20 2339  int (PR #939, #9
-0003fa90: 3434 290a 2d20 2020 4164 6420 4745 5420  44).-   Add GET 
-0003faa0: 2f64 6576 6963 652f 7b64 6576 6963 6549  /device/{deviceI
-0003fab0: 647d 2028 5052 2023 3934 3329 0a2d 2020  d} (PR #943).-  
-0003fac0: 2041 6464 2075 7064 6174 6520 616e 6420   Add update and 
-0003fad0: 6465 6c65 7465 2041 5049 7320 666f 7220  delete APIs for 
-0003fae0: 6465 7669 6365 7320 2850 5220 2339 3439  devices (PR #949
-0003faf0: 290a 0a43 6861 6e67 6573 3a0a 0a2d 2020  )..Changes:..-  
-0003fb00: 2052 6577 7269 7465 204c 4441 5020 4175   Rewrite LDAP Au
-0003fb10: 7468 656e 7469 6361 7469 6f6e 2061 6761  thentication aga
-0003fb20: 696e 7374 206c 6461 7033 2028 5052 2023  inst ldap3 (PR #
-0003fb30: 3834 3320 6279 206d 7765 696e 656c 7429  843 by mweinelt)
-0003fb40: 0a2d 2020 204c 696e 6561 7269 7a65 2073  .-   Linearize s
-0003fb50: 6f6d 6520 6665 6465 7261 7469 6f6e 2065  ome federation e
-0003fb60: 6e64 706f 696e 7473 2062 6173 6564 206f  ndpoints based o
-0003fb70: 6e20 286f 7269 6769 6e2c 2072 6f6f 6d5c  n (origin, room\
-0003fb80: 5f69 6429 2028 5052 2023 3837 3929 0a2d  _id) (PR #879).-
-0003fb90: 2020 2052 656d 6f76 6520 7468 6520 6c65     Remove the le
-0003fba0: 6761 6379 2076 3020 636f 6e74 656e 7420  gacy v0 content 
-0003fbb0: 7570 6c6f 6164 2041 5049 2e20 2850 5220  upload API. (PR 
-0003fbc0: 2338 3838 290a 2d20 2020 5573 6520 7369  #888).-   Use si
-0003fbd0: 6d69 6c61 7220 6e61 6d69 6e67 2077 6520  milar naming we 
-0003fbe0: 7573 6520 696e 2065 6d61 696c 206e 6f74  use in email not
-0003fbf0: 6966 7320 666f 7220 7075 7368 2028 5052  ifs for push (PR
-0003fc00: 2023 3839 3429 0a2d 2020 204f 7074 696f   #894).-   Optio
-0003fc10: 6e61 6c6c 7920 696e 636c 7564 6520 7061  nally include pa
-0003fc20: 7373 776f 7264 2068 6173 6820 696e 2063  ssword hash in c
-0003fc30: 7265 6174 6555 7365 7220 656e 6470 6f69  reateUser endpoi
-0003fc40: 6e74 2028 5052 2023 3930 3520 6279 204b  nt (PR #905 by K
-0003fc50: 656e 7453 6869 6b61 6d61 290a 2d20 2020  entShikama).-   
-0003fc60: 5573 6520 6120 7175 6572 7920 7468 6174  Use a query that
-0003fc70: 2070 6f73 7467 7265 7371 6c20 6f70 7469   postgresql opti
-0003fc80: 6d69 7365 7320 6265 7474 6572 2066 6f72  mises better for
-0003fc90: 2067 6574 5c5f 6576 656e 7473 5c5f 6172   get\_events\_ar
-0003fca0: 6f75 6e64 2028 5052 2023 3930 3629 0a2d  ound (PR #906).-
-0003fcb0: 2020 2046 616c 6c20 6261 636b 2074 6f20     Fall back to 
-0003fcc0: 5c27 7573 6572 6e61 6d65 5c27 2069 6620  \'username\' if 
-0003fcd0: 5c27 7573 6572 5c27 2069 7320 6e6f 7420  \'user\' is not 
-0003fce0: 6769 7665 6e20 666f 7220 6170 7073 6572  given for appser
-0003fcf0: 7669 6365 2072 6567 6973 7472 6174 696f  vice registratio
-0003fd00: 6e2e 2028 5052 2023 3932 3720 6279 2048  n. (PR #927 by H
-0003fd10: 616c 662d 5368 6f74 290a 2d20 2020 4164  alf-Shot).-   Ad
-0003fd20: 6420 6d65 7472 6963 7320 666f 7220 7073  d metrics for ps
-0003fd30: 7574 696c 2064 6572 6976 6564 206d 656d  util derived mem
-0003fd40: 6f72 7920 7573 6167 6520 2850 5220 2339  ory usage (PR #9
-0003fd50: 3336 290a 2d20 2020 5265 636f 7264 2064  36).-   Record d
-0003fd60: 6576 6963 655c 5f69 6420 696e 2063 6c69  evice\_id in cli
-0003fd70: 656e 745c 5f69 7073 2028 5052 2023 3933  ent\_ips (PR #93
-0003fd80: 3829 0a2d 2020 2053 656e 6420 7468 6520  8).-   Send the 
-0003fd90: 636f 7272 6563 7420 686f 7374 2068 6561  correct host hea
-0003fda0: 6465 7220 7768 656e 2066 6574 6368 696e  der when fetchin
-0003fdb0: 6720 6b65 7973 2028 5052 2023 3934 3129  g keys (PR #941)
-0003fdc0: 0a2d 2020 204c 6f67 2074 6865 2068 6f73  .-   Log the hos
-0003fdd0: 746e 616d 6520 7468 6520 7265 4341 5054  tname the reCAPT
-0003fde0: 4348 4120 7761 7320 636f 6d70 6c65 7465  CHA was complete
-0003fdf0: 6420 6f6e 2028 5052 2023 3934 3629 0a2d  d on (PR #946).-
-0003fe00: 2020 204d 616b 6520 7468 6520 6465 7669     Make the devi
-0003fe10: 6365 2069 6420 6f6e 2065 3265 206b 6579  ce id on e2e key
-0003fe20: 2075 706c 6f61 6420 6f70 7469 6f6e 616c   upload optional
-0003fe30: 2028 5052 2023 3935 3629 0a2d 2020 2041   (PR #956).-   A
-0003fe40: 6464 2072 302e 322e 3020 746f 2074 6865  dd r0.2.0 to the
-0003fe50: 205c 2273 7570 706f 7274 6564 2076 6572   \"supported ver
-0003fe60: 7369 6f6e 735c 2220 6c69 7374 2028 5052  sions\" list (PR
-0003fe70: 2023 3936 3029 0a2d 2020 2044 6f6e 5c27   #960).-   Don\'
-0003fe80: 7420 696e 636c 7564 6520 6e61 6d65 206f  t include name o
-0003fe90: 6620 726f 6f6d 2066 6f72 2069 6e76 6974  f room for invit
-0003fea0: 6573 2069 6e20 7075 7368 2028 5052 2023  es in push (PR #
-0003feb0: 3936 3129 0a0a 4275 6720 6669 7865 733a  961)..Bug fixes:
-0003fec0: 0a0a 2d20 2020 4669 7820 7375 6273 7469  ..-   Fix substi
-0003fed0: 7475 7469 6f6e 2066 6169 6c75 7265 2069  tution failure i
-0003fee0: 6e20 6d61 696c 2074 656d 706c 6174 6520  n mail template 
-0003fef0: 2850 5220 2338 3837 290a 2d20 2020 5075  (PR #887).-   Pu
-0003ff00: 7420 6d6f 7374 2072 6563 656e 7420 3230  t most recent 20
-0003ff10: 206d 6573 7361 6765 7320 696e 2065 6d61   messages in ema
-0003ff20: 696c 206e 6f74 6966 2028 5052 2023 3839  il notif (PR #89
-0003ff30: 3229 0a2d 2020 2045 6e73 7572 6520 7468  2).-   Ensure th
-0003ff40: 6174 2074 6865 2067 7565 7374 2075 7365  at the guest use
-0003ff50: 7220 6973 2069 6e20 7468 6520 6461 7461  r is in the data
-0003ff60: 6261 7365 2077 6865 6e20 7570 6772 6164  base when upgrad
-0003ff70: 696e 6720 6163 636f 756e 7473 2028 5052  ing accounts (PR
-0003ff80: 2023 3931 3429 0a2d 2020 2046 6978 2076   #914).-   Fix v
-0003ff90: 6172 696f 7573 2065 6467 6520 6361 7365  arious edge case
-0003ffa0: 7320 696e 2061 7574 6820 6861 6e64 6c69  s in auth handli
-0003ffb0: 6e67 2028 5052 2023 3931 3929 0a2d 2020  ng (PR #919).-  
-0003ffc0: 2046 6978 2035 3030 2049 5345 2077 6865   Fix 500 ISE whe
-0003ffd0: 6e20 7365 6e64 696e 6720 616c 6961 7320  n sending alias 
-0003ffe0: 6576 656e 7420 7769 7468 6f75 7420 6120  event without a 
-0003fff0: 7374 6174 655c 5f6b 6579 2028 5052 2023  state\_key (PR #
-00040000: 3932 3529 0a2d 2020 2046 6978 2062 7567  925).-   Fix bug
-00040010: 2077 6865 7265 2077 6520 7374 6f72 6564   where we stored
-00040020: 2072 656a 6563 7469 6f6e 7320 696e 2074   rejections in t
-00040030: 6865 2073 7461 7465 5c5f 6772 6f75 702c  he state\_group,
-00040040: 2070 6572 7369 7374 2061 6c6c 2072 656a   persist all rej
-00040050: 6563 7469 6f6e 7320 2850 5220 2339 3438  ections (PR #948
-00040060: 290a 2d20 2020 4669 7820 6c61 636b 206f  ).-   Fix lack o
-00040070: 6620 6368 6563 6b20 6f66 2069 6620 7468  f check of if th
-00040080: 6520 7573 6572 2069 7320 6261 6e6e 6564  e user is banned
-00040090: 2077 6865 6e20 6861 6e64 6c69 6e67 2033   when handling 3
-000400a0: 7069 6420 696e 7669 7465 7320 2850 5220  pid invites (PR 
-000400b0: 2339 3532 290a 2d20 2020 4669 7820 6120  #952).-   Fix a 
-000400c0: 636f 7570 6c65 206f 6620 6275 6773 2069  couple of bugs i
-000400d0: 6e20 7468 6520 7472 616e 7361 6374 696f  n the transactio
-000400e0: 6e20 616e 6420 6b65 7972 696e 6720 636f  n and keyring co
-000400f0: 6465 2028 5052 2023 3935 342c 2023 3935  de (PR #954, #95
-00040100: 3529 0a0a 4368 616e 6765 7320 696e 2073  5)..Changes in s
-00040110: 796e 6170 7365 2076 302e 3136 2e31 2d72  ynapse v0.16.1-r
-00040120: 3120 2832 3031 362d 3037 2d30 3829 0a3d  1 (2016-07-08).=
-00040130: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00040140: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00040150: 3d3d 3d3d 3d3d 3d3d 3d0a 0a54 4849 5320  =========..THIS 
-00040160: 4953 2041 2043 5249 5449 4341 4c20 5345  IS A CRITICAL SE
-00040170: 4355 5249 5459 2055 5044 4154 452e 0a0a  CURITY UPDATE...
-00040180: 5468 6973 2066 6978 6573 2061 2062 7567  This fixes a bug
-00040190: 2077 6869 6368 2061 6c6c 6f77 6564 2075   which allowed u
-000401a0: 7365 7273 5c27 2061 6363 6f75 6e74 7320  sers\' accounts 
-000401b0: 746f 2062 6520 6163 6365 7373 6564 2062  to be accessed b
-000401c0: 7920 756e 6175 7468 6f72 6973 6564 2075  y unauthorised u
-000401d0: 7365 7273 2e0a 0a43 6861 6e67 6573 2069  sers...Changes i
-000401e0: 6e20 7379 6e61 7073 6520 7630 2e31 362e  n synapse v0.16.
-000401f0: 3120 2832 3031 362d 3036 2d32 3029 0a3d  1 (2016-06-20).=
-00040200: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00040210: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00040220: 3d3d 3d3d 3d3d 0a0a 4275 6720 6669 7865  ======..Bug fixe
-00040230: 733a 0a0a 2d20 2020 4669 7820 6173 736f  s:..-   Fix asso
-00040240: 7274 6564 2062 7567 7320 696e 2060 2f70  rted bugs in `/p
-00040250: 7265 7669 6577 5f75 726c 6020 2850 5220  review_url` (PR 
-00040260: 2338 3732 290a 2d20 2020 4669 7820 5479  #872).-   Fix Ty
-00040270: 7065 4572 726f 7220 7768 656e 2073 6574  peError when set
-00040280: 7469 6e67 2075 6e69 636f 6465 2070 6173  ting unicode pas
-00040290: 7377 6f72 6473 2028 5052 2023 3837 3329  swords (PR #873)
-000402a0: 0a0a 5065 7266 6f72 6d61 6e63 6520 696d  ..Performance im
-000402b0: 7072 6f76 656d 656e 7473 3a0a 0a2d 2020  provements:..-  
-000402c0: 2054 7572 6e20 6075 7365 5f66 726f 7a65   Turn `use_froze
-000402d0: 6e5f 6576 656e 7473 6020 6f66 6620 6279  n_events` off by
-000402e0: 2064 6566 6175 6c74 2028 5052 2023 3837   default (PR #87
-000402f0: 3729 0a2d 2020 2044 6973 6162 6c65 2072  7).-   Disable r
-00040300: 6573 706f 6e64 696e 6720 7769 7468 2063  esponding with c
-00040310: 616e 6f6e 6963 616c 206a 736f 6e20 666f  anonical json fo
-00040320: 7220 6665 6465 7261 7469 6f6e 2028 5052  r federation (PR
-00040330: 2023 3837 3829 0a0a 4368 616e 6765 7320   #878)..Changes 
-00040340: 696e 2073 796e 6170 7365 2076 302e 3136  in synapse v0.16
-00040350: 2e31 2d72 6331 2028 3230 3136 2d30 362d  .1-rc1 (2016-06-
-00040360: 3135 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  15).============
-00040370: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00040380: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a  ===============.
-00040390: 0a46 6561 7475 7265 733a 204e 6f6e 650a  .Features: None.
-000403a0: 0a43 6861 6e67 6573 3a0a 0a2d 2020 204c  .Changes:..-   L
-000403b0: 6f67 2072 6571 7565 7374 6572 2066 6f72  og requester for
-000403c0: 2060 2f70 7562 6c69 6352 6f6f 6d60 2065   `/publicRoom` e
-000403d0: 6e64 706f 696e 7473 2077 6865 6e20 706f  ndpoints when po
-000403e0: 7373 6962 6c65 2028 5052 2023 3835 3629  ssible (PR #856)
-000403f0: 0a2d 2020 2035 3032 206f 6e20 602f 7468  .-   502 on `/th
-00040400: 756d 626e 6169 6c60 2077 6865 6e20 6361  umbnail` when ca
-00040410: 6e5c 2774 2063 6f6e 6e65 6374 2074 6f20  n\'t connect to 
-00040420: 7265 6d6f 7465 2073 6572 7665 7220 2850  remote server (P
-00040430: 5220 2338 3632 290a 2d20 2020 4c69 6e65  R #862).-   Line
-00040440: 6172 697a 6520 6665 7463 6869 6e67 206f  arize fetching o
-00040450: 6620 6761 7073 206f 6e20 696e 636f 6d69  f gaps on incomi
-00040460: 6e67 2065 7665 6e74 7320 2850 5220 2338  ng events (PR #8
-00040470: 3731 290a 0a42 7567 7320 6669 7865 733a  71)..Bugs fixes:
-00040480: 0a0a 2d20 2020 4669 7820 6275 6720 7768  ..-   Fix bug wh
-00040490: 6572 6520 726f 6f6d 7320 7768 6572 6520  ere rooms where 
-000404a0: 6d61 726b 6564 2061 7320 7075 626c 6973  marked as publis
-000404b0: 6865 6420 6279 2064 6566 6175 6c74 2028  hed by default (
-000404c0: 5052 2023 3835 3729 0a2d 2020 2046 6978  PR #857).-   Fix
-000404d0: 2062 7567 2077 6865 7265 206a 6f69 6e69   bug where joini
-000404e0: 6e67 2072 6f6f 6d20 7769 7468 2061 6e20  ng room with an 
-000404f0: 6576 656e 7420 7769 7468 2069 6e76 616c  event with inval
-00040500: 6964 2073 656e 6465 7220 2850 5220 2338  id sender (PR #8
-00040510: 3638 290a 2d20 2020 4669 7820 6275 6720  68).-   Fix bug 
-00040520: 7768 6572 6520 6261 636b 6669 6c6c 6564  where backfilled
-00040530: 2065 7665 6e74 7320 7765 7265 2073 656e   events were sen
-00040540: 7420 646f 776e 2073 796e 6320 7374 7265  t down sync stre
-00040550: 616d 7320 2850 5220 2338 3639 290a 2d20  ams (PR #869).- 
-00040560: 2020 4669 7820 6275 6720 7768 6572 6520    Fix bug where 
-00040570: 6f75 7467 6f69 6e67 2063 6f6e 6e65 6374  outgoing connect
-00040580: 696f 6e73 2063 6f75 6c64 2077 6564 6765  ions could wedge
-00040590: 2069 6e64 6566 696e 6974 656c 792c 2063   indefinitely, c
-000405a0: 6175 7369 6e67 2070 7573 6820 6e6f 7469  ausing push noti
-000405b0: 6669 6361 7469 6f6e 7320 746f 2062 6520  fications to be 
-000405c0: 756e 7265 6c69 6162 6c65 2028 5052 2023  unreliable (PR #
-000405d0: 3837 3029 0a0a 5065 7266 6f72 6d61 6e63  870)..Performanc
-000405e0: 6520 696d 7072 6f76 656d 656e 7473 3a0a  e improvements:.
-000405f0: 0a2d 2020 2049 6d70 726f 7665 2060 2f70  .-   Improve `/p
-00040600: 7562 6c69 6352 6f6f 6d73 6020 7065 7266  ublicRooms` perf
-00040610: 6f72 6d61 6e63 6528 5052 2023 3835 3929  ormance(PR #859)
-00040620: 0a0a 4368 616e 6765 7320 696e 2073 796e  ..Changes in syn
-00040630: 6170 7365 2076 302e 3136 2e30 2028 3230  apse v0.16.0 (20
-00040640: 3136 2d30 362d 3039 290a 3d3d 3d3d 3d3d  16-06-09).======
-00040650: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00040660: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00040670: 3d0a 0a4e 423a 2041 7320 6f66 2076 302e  =..NB: As of v0.
-00040680: 3134 2061 6c6c 2041 5320 636f 6e66 6967  14 all AS config
-00040690: 2066 696c 6573 206d 7573 7420 6861 7665   files must have
-000406a0: 2061 6e20 4944 2066 6965 6c64 2e0a 0a42   an ID field...B
-000406b0: 7567 2066 6978 6573 3a0a 0a2d 2020 2044  ug fixes:..-   D
-000406c0: 6f6e 5c27 7420 6d61 6b65 2072 6f6f 6d73  on\'t make rooms
-000406d0: 2070 7562 6c69 7368 6564 2062 7920 6465   published by de
-000406e0: 6661 756c 7420 2850 5220 2338 3537 290a  fault (PR #857).
-000406f0: 0a43 6861 6e67 6573 2069 6e20 7379 6e61  .Changes in syna
-00040700: 7073 6520 7630 2e31 362e 302d 7263 3220  pse v0.16.0-rc2 
-00040710: 2832 3031 362d 3036 2d30 3829 0a3d 3d3d  (2016-06-08).===
-00040720: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00040730: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00040740: 3d3d 3d3d 3d3d 3d3d 0a0a 4665 6174 7572  ========..Featur
-00040750: 6573 3a0a 0a2d 2020 2041 6464 2063 6f6e  es:..-   Add con
-00040760: 6669 6775 7261 7469 6f6e 206f 7074 696f  figuration optio
-00040770: 6e20 666f 7220 7475 6e69 6e67 2047 4320  n for tuning GC 
-00040780: 7669 6120 6067 632e 7365 745f 7468 7265  via `gc.set_thre
-00040790: 7368 6f6c 6460 2028 5052 2023 3834 3929  shold` (PR #849)
-000407a0: 0a0a 4368 616e 6765 733a 0a0a 2d20 2020  ..Changes:..-   
-000407b0: 5265 636f 7264 206d 6574 7269 6373 2061  Record metrics a
-000407c0: 626f 7574 2047 4320 2850 5220 2337 3731  bout GC (PR #771
-000407d0: 2c20 2338 3437 2c20 2338 3532 290a 2d20  , #847, #852).- 
-000407e0: 2020 4164 6420 6d65 7472 6963 2063 6f75    Add metric cou
-000407f0: 6e74 6572 2066 6f72 206e 756d 6265 7220  nter for number 
-00040800: 6f66 2070 6572 7369 7374 6564 2065 7665  of persisted eve
-00040810: 6e74 7320 2850 5220 2338 3431 290a 0a42  nts (PR #841)..B
-00040820: 7567 2066 6978 6573 3a0a 0a2d 2020 2046  ug fixes:..-   F
-00040830: 6978 205c 2746 726f 6d5c 2720 6865 6164  ix \'From\' head
-00040840: 6572 2069 6e20 656d 6169 6c20 6e6f 7469  er in email noti
-00040850: 6669 6361 7469 6f6e 7320 2850 5220 2338  fications (PR #8
-00040860: 3433 290a 2d20 2020 4669 7820 7072 6573  43).-   Fix pres
-00040870: 656e 6365 2077 6865 7265 2074 696d 656f  ence where timeo
-00040880: 7574 7320 7765 7265 206e 6f74 2062 6569  uts were not bei
-00040890: 6e67 2066 6972 6564 2066 6f72 2074 6865  ng fired for the
-000408a0: 2066 6972 7374 2038 6820 6166 7465 7220   first 8h after 
-000408b0: 7265 7374 6172 7473 2028 5052 2023 3834  restarts (PR #84
-000408c0: 3229 0a2d 2020 2046 6978 2062 7567 2077  2).-   Fix bug w
-000408d0: 6865 7265 2073 796e 6170 7365 2073 656e  here synapse sen
-000408e0: 7420 6d61 6c66 6f72 6d65 6420 7472 616e  t malformed tran
-000408f0: 7361 6374 696f 6e73 2074 6f20 4153 5c27  sactions to AS\'
-00040900: 7320 7768 656e 2072 6574 7279 696e 6720  s when retrying 
-00040910: 7472 616e 7361 6374 696f 6e73 2028 436f  transactions (Co
-00040920: 6d6d 6974 7320 3331 3031 3937 622c 2038  mmits 310197b, 8
-00040930: 3433 3739 3036 290a 0a50 6572 666f 726d  437906)..Perform
-00040940: 616e 6365 2069 6d70 726f 7665 6d65 6e74  ance improvement
-00040950: 733a 0a0a 2d20 2020 5265 6d6f 7665 2065  s:..-   Remove e
-00040960: 7665 6e74 2066 6574 6368 696e 6720 6672  vent fetching fr
-00040970: 6f6d 2044 4220 7468 7265 6164 7320 2850  om DB threads (P
-00040980: 5220 2338 3335 290a 2d20 2020 4368 616e  R #835).-   Chan
-00040990: 6765 2074 6865 2077 6179 2077 6520 6361  ge the way we ca
-000409a0: 6368 6520 6576 656e 7473 2028 5052 2023  che events (PR #
-000409b0: 3833 3629 0a2d 2020 2041 6464 2065 7665  836).-   Add eve
-000409c0: 6e74 7320 746f 2063 6163 6865 2077 6865  nts to cache whe
-000409d0: 6e20 7765 2070 6572 7369 7374 2074 6865  n we persist the
-000409e0: 6d20 2850 5220 2338 3430 290a 0a43 6861  m (PR #840)..Cha
-000409f0: 6e67 6573 2069 6e20 7379 6e61 7073 6520  nges in synapse 
-00040a00: 7630 2e31 362e 302d 7263 3120 2832 3031  v0.16.0-rc1 (201
-00040a10: 362d 3036 2d30 3329 0a3d 3d3d 3d3d 3d3d  6-06-03).=======
-00040a20: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00040a30: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00040a40: 3d3d 3d3d 0a0a 5665 7273 696f 6e20 302e  ====..Version 0.
-00040a50: 3135 2077 6173 206e 6f74 2072 656c 6561  15 was not relea
-00040a60: 7365 642e 2053 6565 2076 302e 3135 2e30  sed. See v0.15.0
-00040a70: 2d72 6331 2062 656c 6f77 2066 6f72 2061  -rc1 below for a
-00040a80: 6464 6974 696f 6e61 6c20 6368 616e 6765  dditional change
-00040a90: 732e 0a0a 4665 6174 7572 6573 3a0a 0a2d  s...Features:..-
-00040aa0: 2020 2041 6464 2065 6d61 696c 206e 6f74     Add email not
-00040ab0: 6966 6963 6174 696f 6e73 2066 6f72 206d  ifications for m
-00040ac0: 6973 7365 6420 6d65 7373 6167 6573 2028  issed messages (
-00040ad0: 5052 2023 3735 392c 2023 3738 362c 2023  PR #759, #786, #
-00040ae0: 3739 392c 2023 3831 302c 2023 3831 352c  799, #810, #815,
-00040af0: 2023 3832 3129 0a2d 2020 2041 6464 2061   #821).-   Add a
-00040b00: 2060 7572 6c5f 7072 6576 6965 775f 6970   `url_preview_ip
-00040b10: 5f72 616e 6765 5f77 6869 7465 6c69 7374  _range_whitelist
-00040b20: 6020 636f 6e66 6967 2070 6172 616d 2028  ` config param (
-00040b30: 5052 2023 3736 3029 0a2d 2020 2041 6464  PR #760).-   Add
-00040b40: 202f 7265 706f 7274 2065 6e64 706f 696e   /report endpoin
-00040b50: 7420 2850 5220 2337 3632 290a 2d20 2020  t (PR #762).-   
-00040b60: 4164 6420 6261 7369 6320 6967 6e6f 7265  Add basic ignore
-00040b70: 2075 7365 7220 4150 4920 2850 5220 2337   user API (PR #7
-00040b80: 3633 290a 2d20 2020 4164 6420 616e 206f  63).-   Add an o
-00040b90: 7065 6e69 6469 7368 206d 6563 6861 6e69  penidish mechani
-00040ba0: 736d 2066 6f72 2070 726f 7669 6e67 2074  sm for proving t
-00040bb0: 6861 7420 796f 7520 6f77 6e20 6120 6769  hat you own a gi
-00040bc0: 7665 6e20 7573 6572 5c5f 6964 2028 5052  ven user\_id (PR
-00040bd0: 2023 3736 3529 0a2d 2020 2041 6c6c 6f77   #765).-   Allow
-00040be0: 2063 6c69 656e 7473 2074 6f20 7370 6563   clients to spec
-00040bf0: 6966 7920 6120 7365 7276 6572 5c5f 6e61  ify a server\_na
-00040c00: 6d65 2074 6f20 6176 6f69 6420 5c27 4e6f  me to avoid \'No
-00040c10: 206b 6e6f 776e 2073 6572 7665 7273 5c27   known servers\'
-00040c20: 2028 5052 2023 3739 3429 0a2d 2020 2041   (PR #794).-   A
-00040c30: 6464 2073 6563 6f6e 6461 7279 5c5f 6469  dd secondary\_di
-00040c40: 7265 6374 6f72 795c 5f73 6572 7665 7273  rectory\_servers
-00040c50: 206f 7074 696f 6e20 746f 2066 6574 6368   option to fetch
-00040c60: 2072 6f6f 6d20 6c69 7374 2066 726f 6d20   room list from 
-00040c70: 6f74 6865 7220 7365 7276 6572 7320 2850  other servers (P
-00040c80: 5220 2338 3038 2c20 2338 3133 290a 0a43  R #808, #813)..C
-00040c90: 6861 6e67 6573 3a0a 0a2d 2020 2052 6570  hanges:..-   Rep
-00040ca0: 6f72 7420 7065 7220 7265 7175 6573 7420  ort per request 
-00040cb0: 6d65 7472 6963 7320 666f 7220 616c 6c20  metrics for all 
-00040cc0: 6f66 2074 6865 2074 6869 6e67 7320 7573  of the things us
-00040cd0: 696e 6720 7265 7175 6573 745c 5f68 616e  ing request\_han
-00040ce0: 646c 6572 2028 5052 2023 3735 3629 0a2d  dler (PR #756).-
-00040cf0: 2020 2043 6f72 7265 6374 6c79 2068 616e     Correctly han
-00040d00: 646c 6520 604e 554c 4c60 2070 6173 7377  dle `NULL` passw
-00040d10: 6f72 6420 6861 7368 6573 2066 726f 6d20  ord hashes from 
-00040d20: 7468 6520 6461 7461 6261 7365 2028 5052  the database (PR
-00040d30: 2023 3737 3529 0a2d 2020 2041 6c6c 6f77   #775).-   Allow
-00040d40: 2072 6563 6569 7074 7320 666f 7220 6576   receipts for ev
-00040d50: 656e 7473 2077 6520 6861 7665 6e5c 2774  ents we haven\'t
-00040d60: 2073 6565 6e20 696e 2074 6865 2064 6220   seen in the db 
-00040d70: 2850 5220 2337 3834 290a 2d20 2020 4d61  (PR #784).-   Ma
-00040d80: 6b65 2073 796e 6374 6c20 7265 6164 2061  ke synctl read a
-00040d90: 2063 6163 6865 2066 6163 746f 7220 6672   cache factor fr
-00040da0: 6f6d 2063 6f6e 6669 6720 6669 6c65 2028  om config file (
-00040db0: 5052 2023 3738 3529 0a2d 2020 2049 6e63  PR #785).-   Inc
-00040dc0: 7265 6d65 6e74 2062 6164 6765 2063 6f75  rement badge cou
-00040dd0: 6e74 2070 6572 206d 6973 7365 6420 636f  nt per missed co
-00040de0: 6e76 6f2c 206e 6f74 2070 6572 206d 7367  nvo, not per msg
-00040df0: 2028 5052 2023 3739 3329 0a2d 2020 2053   (PR #793).-   S
-00040e00: 7065 6369 616c 2063 6173 6520 6d2e 726f  pecial case m.ro
-00040e10: 6f6d 2e74 6869 7264 5c5f 7061 7274 795c  om.third\_party\
-00040e20: 5f69 6e76 6974 6520 6576 656e 7420 6175  _invite event au
-00040e30: 7468 2074 6f20 6d61 7463 6820 696e 7669  th to match invi
-00040e40: 7465 7320 2850 5220 2338 3134 290a 0a42  tes (PR #814)..B
-00040e50: 7567 2066 6978 6573 3a0a 0a2d 2020 2046  ug fixes:..-   F
-00040e60: 6978 2074 7970 6f20 696e 2065 7665 6e74  ix typo in event
-00040e70: 5c5f 6175 7468 2073 6572 766c 6574 2070  \_auth servlet p
-00040e80: 6174 6820 2850 5220 2337 3537 290a 2d20  ath (PR #757).- 
-00040e90: 2020 4669 7820 7061 7373 776f 7264 2072    Fix password r
-00040ea0: 6573 6574 2028 5052 2023 3735 3829 0a0a  eset (PR #758)..
-00040eb0: 5065 7266 6f72 6d61 6e63 6520 696d 7072  Performance impr
-00040ec0: 6f76 656d 656e 7473 3a0a 0a2d 2020 2052  ovements:..-   R
-00040ed0: 6564 7563 6520 6461 7461 6261 7365 2069  educe database i
-00040ee0: 6e73 6572 7473 2077 6865 6e20 7365 6e64  nserts when send
-00040ef0: 696e 6720 7472 616e 7361 6374 696f 6e73  ing transactions
-00040f00: 2028 5052 2023 3736 3729 0a2d 2020 2051   (PR #767).-   Q
-00040f10: 7565 7565 2065 7665 6e74 7320 6279 2072  ueue events by r
-00040f20: 6f6f 6d20 666f 7220 7065 7273 6973 7465  oom for persiste
-00040f30: 6e63 6520 2850 5220 2337 3638 290a 2d20  nce (PR #768).- 
-00040f40: 2020 4164 6420 6361 6368 6520 746f 2060    Add cache to `
-00040f50: 6765 745f 7573 6572 5f62 795f 6964 6020  get_user_by_id` 
-00040f60: 2850 5220 2337 3732 290a 2d20 2020 4164  (PR #772).-   Ad
-00040f70: 6420 616e 6420 7573 6520 6067 6574 5f64  d and use `get_d
-00040f80: 6f6d 6169 6e5f 6672 6f6d 5f69 6460 2028  omain_from_id` (
-00040f90: 5052 2023 3737 3329 0a2d 2020 2055 7365  PR #773).-   Use
-00040fa0: 2074 7265 6520 6361 6368 6520 666f 7220   tree cache for 
-00040fb0: 6067 6574 5f6c 696e 6561 7269 7a65 645f  `get_linearized_
-00040fc0: 7265 6365 6970 7473 5f66 6f72 5f72 6f6f  receipts_for_roo
-00040fd0: 6d60 2028 5052 2023 3737 3929 0a2d 2020  m` (PR #779).-  
-00040fe0: 2052 656d 6f76 6520 756e 7573 6564 2069   Remove unused i
-00040ff0: 6e64 6963 6573 2028 5052 2023 3738 3229  ndices (PR #782)
-00041000: 0a2d 2020 2041 6464 2063 6163 6865 7320  .-   Add caches 
-00041010: 746f 2060 6275 6c6b 5f67 6574 5f70 7573  to `bulk_get_pus
-00041020: 685f 7275 6c65 732a 6020 2850 5220 2338  h_rules*` (PR #8
-00041030: 3034 290a 2d20 2020 4361 6368 6520 6067  04).-   Cache `g
-00041040: 6574 5f65 7665 6e74 5f72 6566 6572 656e  et_event_referen
-00041050: 6365 5f68 6173 6865 7360 2028 5052 2023  ce_hashes` (PR #
-00041060: 3830 3629 0a2d 2020 2041 6464 2060 6765  806).-   Add `ge
-00041070: 745f 7573 6572 735f 7769 7468 5f72 6561  t_users_with_rea
-00041080: 645f 7265 6365 6970 7473 5f69 6e5f 726f  d_receipts_in_ro
-00041090: 6f6d 6020 6361 6368 6520 2850 5220 2338  om` cache (PR #8
-000410a0: 3039 290a 2d20 2020 5573 6520 7374 6174  09).-   Use stat
-000410b0: 6520 746f 2063 616c 6375 6c61 7465 2060  e to calculate `
-000410c0: 6765 745f 7573 6572 735f 696e 5f72 6f6f  get_users_in_roo
-000410d0: 6d60 2028 5052 2023 3831 3129 0a2d 2020  m` (PR #811).-  
-000410e0: 204c 6f61 6420 7075 7368 2072 756c 6573   Load push rules
-000410f0: 2069 6e20 7374 6f72 6167 6520 6c61 7965   in storage laye
-00041100: 7220 736f 2074 6861 7420 7468 6579 2067  r so that they g
-00041110: 6574 2063 6163 6865 6420 2850 5220 2338  et cached (PR #8
-00041120: 3235 290a 2d20 2020 4d61 6b65 2060 6765  25).-   Make `ge
-00041130: 745f 6a6f 696e 6564 5f68 6f73 7473 5f66  t_joined_hosts_f
-00041140: 6f72 5f72 6f6f 6d60 2075 7365 2067 6574  or_room` use get
-00041150: 5c5f 7573 6572 735c 5f69 6e5c 5f72 6f6f  \_users\_in\_roo
-00041160: 6d20 2850 5220 2338 3238 290a 2d20 2020  m (PR #828).-   
-00041170: 506f 6b65 206e 6f74 6966 6965 7220 6f6e  Poke notifier on
-00041180: 206e 6578 7420 7265 6163 746f 7220 7469   next reactor ti
-00041190: 636b 2028 5052 2023 3832 3929 0a2d 2020  ck (PR #829).-  
-000411a0: 2043 6861 6e67 6520 4361 6368 654d 6574   Change CacheMet
-000411b0: 7269 6373 2074 6f20 6265 2071 7569 636b  rics to be quick
-000411c0: 6572 2028 5052 2023 3833 3029 0a0a 4368  er (PR #830)..Ch
-000411d0: 616e 6765 7320 696e 2073 796e 6170 7365  anges in synapse
-000411e0: 2076 302e 3135 2e30 2d72 6331 2028 3230   v0.15.0-rc1 (20
-000411f0: 3136 2d30 342d 3236 290a 3d3d 3d3d 3d3d  16-04-26).======
-00041200: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00041210: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00041220: 3d3d 3d3d 3d0a 0a46 6561 7475 7265 733a  =====..Features:
-00041230: 0a0a 2d20 2020 4164 6420 6c6f 6769 6e20  ..-   Add login 
-00041240: 7375 7070 6f72 7420 666f 7220 4a61 7661  support for Java
-00041250: 7363 7269 7074 2057 6562 2054 6f6b 656e  script Web Token
-00041260: 732c 2074 6861 6e6b 7320 746f 204e 696b  s, thanks to Nik
-00041270: 6c61 7320 5269 656b 656e 6272 6175 636b  las Riekenbrauck
-00041280: 2028 5052 2023 3637 312c 5c23 3638 3729   (PR #671,\#687)
-00041290: 0a2d 2020 2041 6464 2055 524c 2070 7265  .-   Add URL pre
-000412a0: 7669 6577 696e 6720 7375 7070 6f72 7420  viewing support 
-000412b0: 2850 5220 2336 3838 290a 2d20 2020 4164  (PR #688).-   Ad
-000412c0: 6420 6c6f 6769 6e20 7375 7070 6f72 7420  d login support 
-000412d0: 666f 7220 4c44 4150 2c20 7468 616e 6b73  for LDAP, thanks
-000412e0: 2074 6f20 4368 7269 7374 6f70 6820 5769   to Christoph Wi
-000412f0: 747a 616e 7920 2850 5220 2337 3031 290a  tzany (PR #701).
-00041300: 2d20 2020 4164 6420 4745 5420 656e 6470  -   Add GET endp
-00041310: 6f69 6e74 2066 6f72 2070 7573 6865 7273  oint for pushers
-00041320: 2028 5052 2023 3731 3629 0a0a 4368 616e   (PR #716)..Chan
-00041330: 6765 733a 0a0a 2d20 2020 4e65 7665 7220  ges:..-   Never 
-00041340: 6e6f 7469 6679 2066 6f72 206d 656d 6265  notify for membe
-00041350: 7220 6576 656e 7473 2028 5052 2023 3636  r events (PR #66
-00041360: 3729 0a2d 2020 2044 6564 7570 6c69 6361  7).-   Deduplica
-00041370: 7465 2069 6465 6e74 6963 616c 2060 2f73  te identical `/s
-00041380: 796e 6360 2072 6571 7565 7374 7320 2850  ync` requests (P
-00041390: 5220 2336 3638 290a 2d20 2020 5265 7175  R #668).-   Requ
-000413a0: 6972 6520 7573 6572 2074 6f20 6861 7665  ire user to have
-000413b0: 206c 6566 7420 726f 6f6d 2074 6f20 666f   left room to fo
-000413c0: 7267 6574 2072 6f6f 6d20 2850 5220 2336  rget room (PR #6
-000413d0: 3733 290a 2d20 2020 5573 6520 444e 5320  73).-   Use DNS 
-000413e0: 6361 6368 6520 6966 2077 6974 6869 6e20  cache if within 
-000413f0: 5454 4c20 2850 5220 2336 3737 290a 2d20  TTL (PR #677).- 
-00041400: 2020 4c65 7420 7573 6572 7320 7365 6520    Let users see 
-00041410: 7468 6569 7220 6f77 6e20 6c65 6176 6520  their own leave 
-00041420: 6576 656e 7473 2028 5052 2023 3639 3929  events (PR #699)
-00041430: 0a2d 2020 2044 6564 7570 6c69 6361 7465  .-   Deduplicate
-00041440: 206d 656d 6265 7273 6869 7020 6368 616e   membership chan
-00041450: 6765 7320 2850 5220 2337 3030 290a 2d20  ges (PR #700).- 
-00041460: 2020 496e 6372 6561 7365 2070 6572 666f    Increase perfo
-00041470: 726d 616e 6365 206f 6620 7075 7368 6572  rmance of pusher
-00041480: 2063 6f64 6520 2850 5220 2337 3035 290a   code (PR #705).
-00041490: 2d20 2020 5265 7370 6f6e 6420 7769 7468  -   Respond with
-000414a0: 2065 7272 6f72 2073 7461 7475 7320 3530   error status 50
-000414b0: 3420 6966 2066 6169 6c65 6420 746f 2074  4 if failed to t
-000414c0: 616c 6b20 746f 2072 656d 6f74 6520 7365  alk to remote se
-000414d0: 7276 6572 2028 5052 2023 3733 3129 0a2d  rver (PR #731).-
-000414e0: 2020 2049 6e63 7265 6173 6520 7365 6172     Increase sear
-000414f0: 6368 2070 6572 666f 726d 616e 6365 206f  ch performance o
-00041500: 6e20 706f 7374 6772 6573 2028 5052 2023  n postgres (PR #
-00041510: 3734 3529 0a0a 4275 6720 6669 7865 733a  745)..Bug fixes:
-00041520: 0a0a 2d20 2020 4669 7820 6275 6720 7768  ..-   Fix bug wh
-00041530: 6572 6520 6469 7361 626c 696e 6720 616c  ere disabling al
-00041540: 6c20 6e6f 7469 6669 6361 7469 6f6e 7320  l notifications 
-00041550: 7374 696c 6c20 7265 7375 6c74 6564 2069  still resulted i
-00041560: 6e20 7075 7368 2028 5052 2023 3637 3829  n push (PR #678)
-00041570: 0a2d 2020 2046 6978 2062 7567 2077 6865  .-   Fix bug whe
-00041580: 7265 2075 7365 7273 2063 6f75 6c64 6e5c  re users couldn\
-00041590: 2774 2072 656a 6563 7420 7265 6d6f 7465  't reject remote
-000415a0: 2069 6e76 6974 6573 2069 6620 7265 6d6f   invites if remo
-000415b0: 7465 2072 6566 7573 6564 2028 5052 2023  te refused (PR #
-000415c0: 3639 3129 0a2d 2020 2046 6978 2062 7567  691).-   Fix bug
-000415d0: 2077 6865 7265 2073 796e 6170 7365 2061   where synapse a
-000415e0: 7474 656d 7074 6564 2074 6f20 6261 636b  ttempted to back
-000415f0: 6669 6c6c 2066 726f 6d20 6974 7365 6c66  fill from itself
-00041600: 2028 5052 2023 3639 3329 0a2d 2020 2046   (PR #693).-   F
-00041610: 6978 2062 7567 2077 6865 7265 2070 726f  ix bug where pro
-00041620: 6669 6c65 2069 6e66 6f72 6d61 7469 6f6e  file information
-00041630: 2077 6173 206e 6f74 2063 6f72 7265 6374   was not correct
-00041640: 6c79 2061 6464 6564 2077 6865 6e20 6a6f  ly added when jo
-00041650: 696e 696e 6720 7265 6d6f 7465 2072 6f6f  ining remote roo
-00041660: 6d73 2028 5052 2023 3730 3329 0a2d 2020  ms (PR #703).-  
-00041670: 2046 6978 2062 7567 2077 6865 7265 2072   Fix bug where r
-00041680: 6567 6973 7465 7220 4150 4920 7265 7175  egister API requ
-00041690: 6972 6564 2069 6e63 6f72 7265 6374 206b  ired incorrect k
-000416a0: 6579 206e 616d 6520 666f 7220 4153 2072  ey name for AS r
-000416b0: 6567 6973 7472 6174 696f 6e20 2850 5220  egistration (PR 
-000416c0: 2337 3237 290a 0a43 6861 6e67 6573 2069  #727)..Changes i
-000416d0: 6e20 7379 6e61 7073 6520 7630 2e31 342e  n synapse v0.14.
-000416e0: 3020 2832 3031 362d 3033 2d33 3029 0a3d  0 (2016-03-30).=
-000416f0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00041700: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00041710: 3d3d 3d3d 3d3d 0a0a 4e6f 2063 6861 6e67  ======..No chang
-00041720: 6573 2066 726f 6d20 7630 2e31 342e 302d  es from v0.14.0-
-00041730: 7263 320a 0a43 6861 6e67 6573 2069 6e20  rc2..Changes in 
-00041740: 7379 6e61 7073 6520 7630 2e31 342e 302d  synapse v0.14.0-
-00041750: 7263 3220 2832 3031 362d 3033 2d32 3329  rc2 (2016-03-23)
-00041760: 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  .===============
-00041770: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00041780: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 4665  ============..Fe
-00041790: 6174 7572 6573 3a0a 0a2d 2020 2041 6464  atures:..-   Add
-000417a0: 2070 7562 6c69 7368 6564 2072 6f6f 6d20   published room 
-000417b0: 6c69 7374 2041 5049 2028 5052 2023 3635  list API (PR #65
-000417c0: 3729 0a0a 4368 616e 6765 733a 0a0a 2d20  7)..Changes:..- 
-000417d0: 2020 4368 616e 6765 2076 6172 696f 7573    Change various
-000417e0: 2063 6163 6865 7320 746f 2063 6f6e 7375   caches to consu
-000417f0: 6d65 206c 6573 7320 6d65 6d6f 7279 2028  me less memory (
-00041800: 5052 2023 3635 362c 2023 3635 382c 2023  PR #656, #658, #
-00041810: 3636 302c 2023 3636 322c 2023 3636 332c  660, #662, #663,
-00041820: 2023 3636 3529 0a2d 2020 2041 6c6c 6f77   #665).-   Allow
-00041830: 2072 6f6f 6d73 2074 6f20 6265 2070 7562   rooms to be pub
-00041840: 6c69 7368 6564 2077 6974 686f 7574 2072  lished without r
-00041850: 6571 7569 7269 6e67 2061 6e20 616c 6961  equiring an alia
-00041860: 7320 2850 5220 2336 3634 290a 2d20 2020  s (PR #664).-   
-00041870: 496e 7465 726e 2063 6f6d 6d6f 6e20 7374  Intern common st
-00041880: 7269 6e67 7320 696e 2063 6163 6865 7320  rings in caches 
-00041890: 746f 2072 6564 7563 6520 6d65 6d6f 7279  to reduce memory
-000418a0: 2066 6f6f 7470 7269 6e74 2028 5c23 3636   footprint (\#66
-000418b0: 3629 0a0a 4275 6720 6669 7865 733a 0a0a  6)..Bug fixes:..
-000418c0: 2d20 2020 4669 7820 7265 6a65 6374 2069  -   Fix reject i
-000418d0: 6e76 6974 6573 206f 7665 7220 6665 6465  nvites over fede
-000418e0: 7261 7469 6f6e 2028 5052 2023 3634 3629  ration (PR #646)
-000418f0: 0a2d 2020 2046 6978 2062 7567 2077 6865  .-   Fix bug whe
-00041900: 7265 2072 6567 6973 7472 6174 696f 6e20  re registration 
-00041910: 7761 7320 6e6f 7420 6964 656d 706f 7465  was not idempote
-00041920: 6e74 2028 5052 2023 3634 3929 0a2d 2020  nt (PR #649).-  
-00041930: 2055 7064 6174 6520 616c 6961 7365 7320   Update aliases 
-00041940: 6576 656e 7420 6166 7465 7220 6465 6c65  event after dele
-00041950: 7469 6e67 2061 6c69 6173 6573 2028 5052  ting aliases (PR
-00041960: 2023 3635 3229 0a2d 2020 2046 6978 2075   #652).-   Fix u
-00041970: 6e72 6561 6420 6e6f 7469 6669 6361 7469  nread notificati
-00041980: 6f6e 2063 6f75 6e74 2c20 7768 6963 6820  on count, which 
-00041990: 7761 7320 736f 6d65 7469 6d65 7320 7772  was sometimes wr
-000419a0: 6f6e 6720 2850 5220 2336 3631 290a 0a43  ong (PR #661)..C
-000419b0: 6861 6e67 6573 2069 6e20 7379 6e61 7073  hanges in synaps
-000419c0: 6520 7630 2e31 342e 302d 7263 3120 2832  e v0.14.0-rc1 (2
-000419d0: 3031 362d 3033 2d31 3429 0a3d 3d3d 3d3d  016-03-14).=====
-000419e0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000419f0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00041a00: 3d3d 3d3d 3d3d 0a0a 4665 6174 7572 6573  ======..Features
-00041a10: 3a0a 0a2d 2020 2041 6464 2065 7665 6e74  :..-   Add event
-00041a20: 5c5f 6964 2074 6f20 7265 7370 6f6e 7365  \_id to response
-00041a30: 2074 6f20 7374 6174 6520 6576 656e 7420   to state event 
-00041a40: 5055 5420 2850 5220 2335 3831 290a 2d20  PUT (PR #581).- 
-00041a50: 2020 416c 6c6f 7720 6775 6573 7420 7573    Allow guest us
-00041a60: 6572 7320 6163 6365 7373 2074 6f20 6d65  ers access to me
-00041a70: 7373 6167 6573 2069 6e20 726f 6f6d 7320  ssages in rooms 
-00041a80: 7468 6579 2068 6176 6520 6a6f 696e 6564  they have joined
-00041a90: 2028 5052 2023 3538 3729 0a2d 2020 2041   (PR #587).-   A
-00041aa0: 6464 2063 6f6e 6669 6720 666f 7220 7768  dd config for wh
-00041ab0: 6174 2073 7461 7465 2069 7320 696e 636c  at state is incl
-00041ac0: 7564 6564 2069 6e20 6120 726f 6f6d 2069  uded in a room i
-00041ad0: 6e76 6974 6520 2850 5220 2335 3938 290a  nvite (PR #598).
-00041ae0: 2d20 2020 5365 6e64 2074 6865 2069 6e76  -   Send the inv
-00041af0: 6974 6572 5c27 7320 6d65 6d62 6572 2065  iter\'s member e
-00041b00: 7665 6e74 2069 6e20 726f 6f6d 2069 6e76  vent in room inv
-00041b10: 6974 6520 7374 6174 6520 2850 5220 2336  ite state (PR #6
-00041b20: 3037 290a 2d20 2020 4164 6420 6572 726f  07).-   Add erro
-00041b30: 7220 636f 6465 7320 666f 7220 6d61 6c66  r codes for malf
-00041b40: 6f72 6d65 642f 6261 6420 4a53 4f4e 2069  ormed/bad JSON i
-00041b50: 6e20 2f6c 6f67 696e 2028 5052 2023 3630  n /login (PR #60
-00041b60: 3829 0a2d 2020 2041 6464 2073 7570 706f  8).-   Add suppo
-00041b70: 7274 2066 6f72 2063 6861 6e67 696e 6720  rt for changing 
-00041b80: 7468 6520 6163 7469 6f6e 7320 666f 7220  the actions for 
-00041b90: 6465 6661 756c 7420 7275 6c65 7320 2850  default rules (P
-00041ba0: 5220 2336 3039 290a 2d20 2020 4164 6420  R #609).-   Add 
-00041bb0: 656e 7669 726f 6e6d 656e 7420 7661 7269  environment vari
-00041bc0: 6162 6c65 2053 594e 4150 5345 5c5f 4341  able SYNAPSE\_CA
-00041bd0: 4348 455c 5f46 4143 544f 522c 2064 6566  CHE\_FACTOR, def
-00041be0: 6175 6c74 2069 7420 746f 2030 2e31 2028  ault it to 0.1 (
-00041bf0: 5052 2023 3631 3229 0a2d 2020 2041 6464  PR #612).-   Add
-00041c00: 2061 6269 6c69 7479 2066 6f72 2061 6c69   ability for ali
-00041c10: 6173 2063 7265 6174 6f72 7320 746f 2064  as creators to d
-00041c20: 656c 6574 6520 616c 6961 7365 7320 2850  elete aliases (P
-00041c30: 5220 2336 3134 290a 2d20 2020 4164 6420  R #614).-   Add 
-00041c40: 7072 6f66 696c 6520 696e 666f 726d 6174  profile informat
-00041c50: 696f 6e20 746f 2069 6e76 6974 6573 2028  ion to invites (
-00041c60: 5052 2023 3632 3429 0a0a 4368 616e 6765  PR #624)..Change
-00041c70: 733a 0a0a 2d20 2020 456e 666f 7263 6520  s:..-   Enforce 
-00041c80: 7573 6572 5c5f 6964 2065 7863 6c75 7369  user\_id exclusi
-00041c90: 7669 7479 2066 6f72 2041 5320 7265 6769  vity for AS regi
-00041ca0: 7374 7261 7469 6f6e 7320 2850 5220 2335  strations (PR #5
-00041cb0: 3732 290a 2d20 2020 4d61 6b65 2061 6464  72).-   Make add
-00041cc0: 696e 6720 7075 7368 2072 756c 6573 2069  ing push rules i
-00041cd0: 6465 6d70 6f74 656e 7420 2850 5220 2335  dempotent (PR #5
-00041ce0: 3837 290a 2d20 2020 496d 7072 6f76 6520  87).-   Improve 
-00041cf0: 7072 6573 656e 6365 2070 6572 666f 726d  presence perform
-00041d00: 616e 6365 2028 5052 2023 3538 322c 2023  ance (PR #582, #
-00041d10: 3538 3629 0a2d 2020 2043 6861 6e67 6520  586).-   Change 
-00041d20: 7072 6573 656e 6365 2073 656d 616e 7469  presence semanti
-00041d30: 6373 2066 6f72 2060 6c61 7374 5f61 6374  cs for `last_act
-00041d40: 6976 655f 6167 6f60 2028 5052 2023 3538  ive_ago` (PR #58
-00041d50: 322c 2023 3538 3629 0a2d 2020 2044 6f6e  2, #586).-   Don
-00041d60: 5c27 7420 616c 6c6f 7720 606d 2e72 6f6f  \'t allow `m.roo
-00041d70: 6d2e 6372 6561 7465 6020 746f 2062 6520  m.create` to be 
-00041d80: 6368 616e 6765 6420 2850 5220 2335 3936  changed (PR #596
-00041d90: 290a 2d20 2020 4164 6420 3830 3078 3630  ).-   Add 800x60
-00041da0: 3020 746f 2064 6566 6175 6c74 206c 6973  0 to default lis
-00041db0: 7420 6f66 2076 616c 6964 2074 6875 6d62  t of valid thumb
-00041dc0: 6e61 696c 2073 697a 6573 2028 5052 2023  nail sizes (PR #
-00041dd0: 3631 3629 0a2d 2020 2041 6c77 6179 7320  616).-   Always 
-00041de0: 696e 636c 7564 6520 6b69 636b 7320 616e  include kicks an
-00041df0: 6420 6261 6e73 2069 6e20 6675 6c6c 202f  d bans in full /
-00041e00: 7379 6e63 2028 5052 2023 3632 3529 0a2d  sync (PR #625).-
-00041e10: 2020 2053 656e 6420 6869 7374 6f72 7920     Send history 
-00041e20: 7669 7369 6269 6c69 7479 206f 6e20 626f  visibility on bo
-00041e30: 756e 6461 7279 2063 6861 6e67 6573 2028  undary changes (
-00041e40: 5052 2023 3632 3629 0a2d 2020 2052 6567  PR #626).-   Reg
-00041e50: 6973 7465 7220 656e 6470 6f69 6e74 206e  ister endpoint n
-00041e60: 6f77 2072 6574 7572 6e73 2061 2072 6566  ow returns a ref
-00041e70: 7265 7368 5c5f 746f 6b65 6e20 2850 5220  resh\_token (PR 
-00041e80: 2336 3337 290a 0a42 7567 2066 6978 6573  #637)..Bug fixes
-00041e90: 3a0a 0a2d 2020 2046 6978 2062 7567 2077  :..-   Fix bug w
-00041ea0: 6865 7265 2077 6520 7265 7475 726e 6564  here we returned
-00041eb0: 2069 6e63 6f72 7265 6374 2073 7461 7465   incorrect state
-00041ec0: 2069 6e20 2f73 796e 6320 2850 5220 2335   in /sync (PR #5
-00041ed0: 3733 290a 2d20 2020 416c 7761 7973 2072  73).-   Always r
-00041ee0: 6574 7572 6e20 6120 4a53 4f4e 206f 626a  eturn a JSON obj
-00041ef0: 6563 7420 6672 6f6d 2070 7573 6820 7275  ect from push ru
-00041f00: 6c65 2041 5049 2028 5052 2023 3630 3629  le API (PR #606)
-00041f10: 0a2d 2020 2046 6978 2062 7567 2077 6865  .-   Fix bug whe
-00041f20: 7265 2072 6567 6973 7465 7269 6e67 2077  re registering w
-00041f30: 6974 686f 7574 2061 2075 7365 7220 6964  ithout a user id
-00041f40: 2073 6f6d 6574 696d 6573 2066 6169 6c65   sometimes faile
-00041f50: 6420 2850 5220 2336 3130 290a 2d20 2020  d (PR #610).-   
-00041f60: 5265 706f 7274 2073 697a 6520 6f66 2045  Report size of E
-00041f70: 7870 6972 696e 6743 6163 6865 2069 6e20  xpiringCache in 
-00041f80: 6361 6368 6520 7369 7a65 206d 6574 7269  cache size metri
-00041f90: 6373 2028 5052 2023 3631 3129 0a2d 2020  cs (PR #611).-  
-00041fa0: 2046 6978 2072 656a 6563 7469 6f6e 206f   Fix rejection o
-00041fb0: 6620 696e 7669 7465 7320 746f 2065 6d70  f invites to emp
-00041fc0: 7479 2072 6f6f 6d73 2028 5052 2023 3631  ty rooms (PR #61
-00041fd0: 3529 0a2d 2020 2046 6978 2075 7361 6765  5).-   Fix usage
-00041fe0: 206f 6620 6062 6372 7970 7460 2074 6f20   of `bcrypt` to 
-00041ff0: 6e6f 7420 7573 6520 6063 6865 636b 7077  not use `checkpw
-00042000: 6020 2850 5220 2336 3139 290a 2d20 2020  ` (PR #619).-   
-00042010: 5069 6e20 6070 7973 616d 6c32 6020 6465  Pin `pysaml2` de
-00042020: 7065 6e64 656e 6379 2028 5052 2023 3633  pendency (PR #63
-00042030: 3429 0a2d 2020 2046 6978 2062 7567 2069  4).-   Fix bug i
-00042040: 6e20 602f 7379 6e63 6020 7768 6572 6520  n `/sync` where 
-00042050: 7469 6d65 6c69 6e65 206f 7264 6572 2077  timeline order w
-00042060: 6173 2069 6e63 6f72 7265 6374 2066 6f72  as incorrect for
-00042070: 2062 6163 6b66 696c 6c65 6420 6576 656e   backfilled even
-00042080: 7473 2028 5052 2023 3633 3529 0a0a 4368  ts (PR #635)..Ch
-00042090: 616e 6765 7320 696e 2073 796e 6170 7365  anges in synapse
-000420a0: 2076 302e 3133 2e33 2028 3230 3136 2d30   v0.13.3 (2016-0
-000420b0: 322d 3131 290a 3d3d 3d3d 3d3d 3d3d 3d3d  2-11).==========
-000420c0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000420d0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a2d  =============..-
-000420e0: 2020 2046 6978 2062 7567 2077 6865 7265     Fix bug where
-000420f0: 2060 2f73 796e 6360 2077 6f75 6c64 206f   `/sync` would o
-00042100: 6363 6173 696f 6e61 6c6c 7920 7265 7475  ccasionally retu
-00042110: 726e 2065 7665 6e74 7320 696e 2074 6865  rn events in the
-00042120: 2077 726f 6e67 2072 6f6f 6d2e 0a0a 4368   wrong room...Ch
-00042130: 616e 6765 7320 696e 2073 796e 6170 7365  anges in synapse
-00042140: 2076 302e 3133 2e32 2028 3230 3136 2d30   v0.13.2 (2016-0
-00042150: 322d 3131 290a 3d3d 3d3d 3d3d 3d3d 3d3d  2-11).==========
-00042160: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00042170: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a2d  =============..-
-00042180: 2020 2046 6978 2062 7567 2077 6865 7265     Fix bug where
-00042190: 2060 2f65 7665 6e74 7360 2077 6f75 6c64   `/events` would
-000421a0: 2066 6169 6c20 746f 2073 6b69 7020 736f   fail to skip so
-000421b0: 6d65 2065 7665 6e74 7320 6966 2074 6865  me events if the
-000421c0: 7265 2068 6164 2062 6565 6e20 6d6f 7265  re had been more
-000421d0: 2065 7665 6e74 7320 7468 616e 2074 6865   events than the
-000421e0: 206c 696d 6974 2073 7065 6369 6669 6564   limit specified
-000421f0: 2073 696e 6365 2074 6865 206c 6173 7420   since the last 
-00042200: 7265 7175 6573 7420 2850 5220 2335 3730  request (PR #570
-00042210: 290a 0a43 6861 6e67 6573 2069 6e20 7379  )..Changes in sy
-00042220: 6e61 7073 6520 7630 2e31 332e 3120 2832  napse v0.13.1 (2
-00042230: 3031 362d 3032 2d31 3029 0a3d 3d3d 3d3d  016-02-10).=====
-00042240: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00042250: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00042260: 3d3d 0a0a 2d20 2020 4275 6d70 206d 6174  ==..-   Bump mat
-00042270: 7269 782d 616e 6775 6c61 722d 7364 6b20  rix-angular-sdk 
-00042280: 286d 6174 7269 7820 7765 6220 636f 6e73  (matrix web cons
-00042290: 6f6c 6529 2064 6570 656e 6465 6e63 7920  ole) dependency 
-000422a0: 746f 2030 2e36 2e38 2074 6f20 7075 6c6c  to 0.6.8 to pull
-000422b0: 2069 6e20 7468 6520 6669 7820 666f 7220   in the fix for 
-000422c0: 5359 5745 422d 3336 3120 736f 2074 6861  SYWEB-361 so tha
-000422d0: 7420 7468 6520 6465 6661 756c 7420 636c  t the default cl
-000422e0: 6965 6e74 2063 616e 2064 6973 706c 6179  ient can display
-000422f0: 2048 544d 4c20 6d65 7373 6167 6573 2061   HTML messages a
-00042300: 6761 696e 2821 290a 0a43 6861 6e67 6573  gain(!)..Changes
-00042310: 2069 6e20 7379 6e61 7073 6520 7630 2e31   in synapse v0.1
-00042320: 332e 3020 2832 3031 362d 3032 2d31 3029  3.0 (2016-02-10)
-00042330: 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  .===============
-00042340: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00042350: 3d3d 3d3d 3d3d 3d3d 0a0a 5468 6973 2076  ========..This v
-00042360: 6572 7369 6f6e 2069 6e63 6c75 6465 7320  ersion includes 
-00042370: 616e 2075 7067 7261 6465 206f 6620 7468  an upgrade of th
-00042380: 6520 7363 6865 6d61 2c20 7370 6563 6966  e schema, specif
-00042390: 6963 616c 6c79 2061 6464 696e 6720 616e  ically adding an
-000423a0: 2069 6e64 6578 2074 6f20 7468 6520 6065   index to the `e
-000423b0: 7665 6e74 7360 2074 6162 6c65 2e20 5468  vents` table. Th
-000423c0: 6973 206d 6179 2063 6175 7365 2073 796e  is may cause syn
-000423d0: 6170 7365 2074 6f20 7061 7573 6520 666f  apse to pause fo
-000423e0: 7220 7365 7665 7261 6c20 6d69 6e75 7465  r several minute
-000423f0: 7320 7468 6520 6669 7273 7420 7469 6d65  s the first time
-00042400: 2069 7420 6973 2073 7461 7274 6564 2061   it is started a
-00042410: 6674 6572 2074 6865 2075 7067 7261 6465  fter the upgrade
-00042420: 2e0a 0a43 6861 6e67 6573 3a0a 0a2d 2020  ...Changes:..-  
-00042430: 2049 6d70 726f 7665 2067 656e 6572 616c   Improve general
-00042440: 2070 6572 666f 726d 616e 6365 2028 5052   performance (PR
-00042450: 2023 3534 302c 2023 3534 332e 205c 2335   #540, #543. \#5
-00042460: 3434 2c20 2335 342c 2023 3534 392c 2023  44, #54, #549, #
-00042470: 3536 3729 0a2d 2020 2043 6861 6e67 6520  567).-   Change 
-00042480: 6775 6573 7420 7573 6572 2069 6473 2074  guest user ids t
-00042490: 6f20 6265 2069 6e63 7265 6d65 6e74 696e  o be incrementin
-000424a0: 6720 696e 7465 6765 7273 2028 5052 2023  g integers (PR #
-000424b0: 3535 3029 0a2d 2020 2049 6d70 726f 7665  550).-   Improve
-000424c0: 2070 6572 666f 726d 616e 6365 206f 6620   performance of 
-000424d0: 7075 626c 6963 2072 6f6f 6d20 6c69 7374  public room list
-000424e0: 2041 5049 2028 5052 2023 3535 3229 0a2d   API (PR #552).-
-000424f0: 2020 2043 6861 6e67 6520 7072 6f66 696c     Change profil
-00042500: 6520 4150 4920 746f 206f 6d69 7420 6b65  e API to omit ke
-00042510: 7973 2072 6174 6865 7220 7468 616e 2072  ys rather than r
-00042520: 6574 7572 6e20 6e75 6c6c 2028 5052 2023  eturn null (PR #
-00042530: 3535 3729 0a2d 2020 2041 6464 2060 2f6d  557).-   Add `/m
-00042540: 6564 6961 2f72 3060 2065 6e64 706f 696e  edia/r0` endpoin
-00042550: 7420 7072 6566 6978 2c20 7768 6963 6820  t prefix, which 
-00042560: 6973 2065 7175 6976 616c 656e 7420 746f  is equivalent to
-00042570: 2060 2f6d 6564 6961 2f76 312f 6020 2850   `/media/v1/` (P
-00042580: 5220 2335 3935 290a 0a42 7567 2066 6978  R #595)..Bug fix
-00042590: 6573 3a0a 0a2d 2020 2046 6978 2062 7567  es:..-   Fix bug
-000425a0: 2077 6974 6820 7570 6772 6164 696e 6720   with upgrading 
-000425b0: 6775 6573 7420 6163 636f 756e 7473 2077  guest accounts w
-000425c0: 6865 7265 2069 7420 776f 756c 6420 6661  here it would fa
-000425d0: 696c 2069 6620 796f 7520 6f70 656e 6564  il if you opened
-000425e0: 2074 6865 2072 6567 6973 7472 6174 696f   the registratio
-000425f0: 6e20 656d 6169 6c20 6f6e 2061 2064 6966  n email on a dif
-00042600: 6665 7265 6e74 2064 6576 6963 6520 2850  ferent device (P
-00042610: 5220 2335 3437 290a 2d20 2020 4669 7820  R #547).-   Fix 
-00042620: 6275 6720 7768 6572 6520 756e 7265 6164  bug where unread
-00042630: 2063 6f75 6e74 2063 6f75 6c64 2062 6520   count could be 
-00042640: 7772 6f6e 6720 2850 5220 2335 3638 290a  wrong (PR #568).
-00042650: 0a43 6861 6e67 6573 2069 6e20 7379 6e61  .Changes in syna
-00042660: 7073 6520 7630 2e31 322e 312d 7263 3120  pse v0.12.1-rc1 
-00042670: 2832 3031 362d 3031 2d32 3929 0a3d 3d3d  (2016-01-29).===
-00042680: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00042690: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000426a0: 3d3d 3d3d 3d3d 3d3d 0a0a 4665 6174 7572  ========..Featur
-000426b0: 6573 3a0a 0a2d 2020 2041 6464 2075 6e72  es:..-   Add unr
-000426c0: 6561 6420 6e6f 7469 6669 6361 7469 6f6e  ead notification
-000426d0: 2063 6f75 6e74 7320 696e 2060 2f73 796e   counts in `/syn
-000426e0: 6360 2028 5052 2023 3435 3629 0a2d 2020  c` (PR #456).-  
-000426f0: 2041 6464 2073 7570 706f 7274 2066 6f72   Add support for
-00042700: 2069 6e76 6974 696e 6720 3370 6964 7320   inviting 3pids 
-00042710: 696e 2060 2f63 7265 6174 6552 6f6f 6d60  in `/createRoom`
-00042720: 2028 5052 2023 3436 3029 0a2d 2020 2041   (PR #460).-   A
-00042730: 6464 2061 6269 6c69 7479 2066 6f72 2067  dd ability for g
-00042740: 7565 7374 2061 6363 6f75 6e74 7320 746f  uest accounts to
-00042750: 2075 7067 7261 6465 2028 5052 2023 3436   upgrade (PR #46
-00042760: 3229 0a2d 2020 2041 6464 2060 2f76 6572  2).-   Add `/ver
-00042770: 7369 6f6e 7360 2041 5049 2028 5052 2023  sions` API (PR #
-00042780: 3436 3829 0a2d 2020 2041 6464 2060 6576  468).-   Add `ev
-00042790: 656e 7460 2074 6f20 602f 636f 6e74 6578  ent` to `/contex
-000427a0: 7460 2041 5049 2028 5052 2023 3439 3229  t` API (PR #492)
-000427b0: 0a2d 2020 2041 6464 2073 7065 6369 6669  .-   Add specifi
-000427c0: 6320 6572 726f 7220 636f 6465 2066 6f72  c error code for
-000427d0: 2069 6e76 616c 6964 2075 7365 7220 6e61   invalid user na
-000427e0: 6d65 7320 696e 2060 2f72 6567 6973 7465  mes in `/registe
-000427f0: 7260 2028 5052 2023 3439 3929 0a2d 2020  r` (PR #499).-  
-00042800: 2041 6464 2073 7570 706f 7274 2066 6f72   Add support for
-00042810: 2070 7573 6820 6261 6467 6520 636f 756e   push badge coun
-00042820: 7473 2028 5052 2023 3530 3729 0a2d 2020  ts (PR #507).-  
-00042830: 2041 6464 2073 7570 706f 7274 2066 6f72   Add support for
-00042840: 206e 6f6e 2d67 7565 7374 2075 7365 7273   non-guest users
-00042850: 2074 6f20 7065 656b 2069 6e20 726f 6f6d   to peek in room
-00042860: 7320 7573 696e 6720 602f 6576 656e 7473  s using `/events
-00042870: 6020 2850 5220 2335 3130 290a 0a43 6861  ` (PR #510)..Cha
-00042880: 6e67 6573 3a0a 0a2d 2020 2043 6861 6e67  nges:..-   Chang
-00042890: 6520 602f 7379 6e63 6020 736f 2074 6861  e `/sync` so tha
-000428a0: 7420 6775 6573 7420 7573 6572 7320 6f6e  t guest users on
-000428b0: 6c79 2067 6574 2072 6f6f 6d73 2074 6865  ly get rooms the
-000428c0: 795c 2776 6520 6a6f 696e 6564 2028 5052  y\'ve joined (PR
-000428d0: 2023 3436 3929 0a2d 2020 2043 6861 6e67   #469).-   Chang
-000428e0: 6520 746f 2072 6571 7569 7265 2075 6e62  e to require unb
-000428f0: 616e 6e69 6e67 2062 6566 6f72 6520 6f74  anning before ot
-00042900: 6865 7220 6d65 6d62 6572 7368 6970 2063  her membership c
-00042910: 6861 6e67 6573 2028 5052 2023 3530 3129  hanges (PR #501)
-00042920: 0a2d 2020 2043 6861 6e67 6520 6465 6661  .-   Change defa
-00042930: 756c 7420 7075 7368 2072 756c 6573 2074  ult push rules t
-00042940: 6f20 6e6f 7469 6679 2066 6f72 2061 6c6c  o notify for all
-00042950: 206d 6573 7361 6765 7320 2850 5220 2334   messages (PR #4
-00042960: 3836 290a 2d20 2020 4368 616e 6765 2064  86).-   Change d
-00042970: 6566 6175 6c74 2070 7573 6820 7275 6c65  efault push rule
-00042980: 7320 746f 206e 6f74 206e 6f74 6966 7920  s to not notify 
-00042990: 6f6e 206d 656d 6265 7273 6869 7020 6368  on membership ch
-000429a0: 616e 6765 7320 2850 5220 2335 3134 290a  anges (PR #514).
-000429b0: 2d20 2020 4368 616e 6765 2064 6566 6175  -   Change defau
-000429c0: 6c74 2070 7573 6820 7275 6c65 7320 696e  lt push rules in
-000429d0: 206f 6e65 2074 6f20 6f6e 6520 726f 6f6d   one to one room
-000429e0: 7320 746f 206f 6e6c 7920 6e6f 7469 6679  s to only notify
-000429f0: 2066 6f72 2065 7665 6e74 7320 7468 6174   for events that
-00042a00: 2061 7265 206d 6573 7361 6765 7320 2850   are messages (P
-00042a10: 5220 2335 3239 290a 2d20 2020 4368 616e  R #529).-   Chan
-00042a20: 6765 2060 2f73 796e 6360 2074 6f20 7265  ge `/sync` to re
-00042a30: 6a65 6374 2072 6571 7565 7374 7320 7769  ject requests wi
-00042a40: 7468 2061 2060 6672 6f6d 6020 7175 6572  th a `from` quer
-00042a50: 7920 7061 7261 6d20 2850 5220 2335 3132  y param (PR #512
-00042a60: 290a 2d20 2020 4368 616e 6765 2073 6572  ).-   Change ser
-00042a70: 7665 7220 6d61 6e68 6f6c 6520 746f 2075  ver manhole to u
-00042a80: 7365 2053 5348 2072 6174 6865 7220 7468  se SSH rather th
-00042a90: 616e 2074 656c 6e65 7420 2850 5220 2334  an telnet (PR #4
-00042aa0: 3733 290a 2d20 2020 4368 616e 6765 2073  73).-   Change s
-00042ab0: 6572 7665 7220 746f 2072 6571 7569 7265  erver to require
-00042ac0: 2041 5320 7573 6572 7320 746f 2062 6520   AS users to be 
-00042ad0: 7265 6769 7374 6572 6564 2062 6566 6f72  registered befor
-00042ae0: 6520 7573 6520 2850 5220 2334 3837 290a  e use (PR #487).
-00042af0: 2d20 2020 4368 616e 6765 2073 6572 7665  -   Change serve
-00042b00: 7220 6e6f 7420 746f 2073 7461 7274 2077  r not to start w
-00042b10: 6865 6e20 4153 6573 2061 7265 2069 6e76  hen ASes are inv
-00042b20: 616c 6964 6c79 2063 6f6e 6669 6775 7265  alidly configure
-00042b30: 6420 2850 5220 2334 3934 290a 2d20 2020  d (PR #494).-   
-00042b40: 4368 616e 6765 2073 6572 7665 7220 746f  Change server to
-00042b50: 2072 6571 7569 7265 2049 4420 616e 6420   require ID and 
-00042b60: 6061 735f 746f 6b65 6e60 2074 6f20 6265  `as_token` to be
-00042b70: 2075 6e69 7175 6520 666f 7220 4153 5c27   unique for AS\'
-00042b80: 7320 2850 5220 2334 3936 290a 2d20 2020  s (PR #496).-   
-00042b90: 4368 616e 6765 206d 6178 696d 756d 2070  Change maximum p
-00042ba0: 6167 696e 6174 696f 6e20 6c69 6d69 7420  agination limit 
-00042bb0: 746f 2031 3030 3020 2850 5220 2334 3937  to 1000 (PR #497
-00042bc0: 290a 0a42 7567 2066 6978 6573 3a0a 0a2d  )..Bug fixes:..-
-00042bd0: 2020 2046 6978 2062 7567 2077 6865 7265     Fix bug where
-00042be0: 2060 2f73 796e 6360 2064 6964 6e5c 2774   `/sync` didn\'t
-00042bf0: 2072 6574 7572 6e20 7768 656e 2073 6f6d   return when som
-00042c00: 6574 6869 6e67 2075 6e64 6572 2074 6865  ething under the
-00042c10: 206c 6561 7665 206b 6579 2063 6861 6e67   leave key chang
-00042c20: 6564 2028 5052 2023 3436 3129 0a2d 2020  ed (PR #461).-  
-00042c30: 2046 6978 2062 7567 2077 6865 7265 2077   Fix bug where w
-00042c40: 6520 7265 7475 726e 6564 2073 6d61 6c6c  e returned small
-00042c50: 6572 2072 6174 6865 7220 7468 616e 206c  er rather than l
-00042c60: 6172 6765 7220 7468 616e 2072 6571 7565  arger than reque
-00042c70: 7374 6564 2074 6875 6d62 6e61 696c 7320  sted thumbnails 
-00042c80: 7768 656e 2060 6d65 7468 6f64 3d63 726f  when `method=cro
-00042c90: 7060 2028 5052 2023 3436 3429 0a2d 2020  p` (PR #464).-  
-00042ca0: 2046 6978 2074 6875 6d62 6e61 696c 7320   Fix thumbnails 
-00042cb0: 4150 4920 746f 206f 6e6c 7920 7265 7475  API to only retu
-00042cc0: 726e 2063 726f 7070 6564 2074 6875 6d62  rn cropped thumb
-00042cd0: 6e61 696c 7320 7768 656e 2061 736b 696e  nails when askin
-00042ce0: 6720 666f 7220 6120 6372 6f70 7065 6420  g for a cropped 
-00042cf0: 7468 756d 626e 6169 6c20 2850 5220 2334  thumbnail (PR #4
-00042d00: 3735 290a 2d20 2020 4669 7820 6275 6720  75).-   Fix bug 
-00042d10: 7768 6572 6520 7765 206f 6363 6173 696f  where we occasio
-00042d20: 6e61 6c6c 7920 7374 696c 6c20 6c6f 6767  nally still logg
-00042d30: 6564 2061 6363 6573 7320 746f 6b65 6e73  ed access tokens
-00042d40: 2028 5052 2023 3437 3729 0a2d 2020 2046   (PR #477).-   F
-00042d50: 6978 2062 7567 2077 6865 7265 2060 2f65  ix bug where `/e
-00042d60: 7665 6e74 7360 2077 6f75 6c64 2061 6c77  vents` would alw
-00042d70: 6179 7320 7265 7475 726e 2069 6d6d 6564  ays return immed
-00042d80: 6961 7465 6c79 2066 6f72 2067 7565 7374  iately for guest
-00042d90: 2075 7365 7273 2028 5052 2023 3438 3029   users (PR #480)
-00042da0: 0a2d 2020 2046 6978 2062 7567 2077 6865  .-   Fix bug whe
-00042db0: 7265 2060 2f73 796e 6360 2075 6e65 7870  re `/sync` unexp
-00042dc0: 6563 7465 646c 7920 7265 7475 726e 6564  ectedly returned
-00042dd0: 206f 6c64 206c 6566 7420 726f 6f6d 7320   old left rooms 
-00042de0: 2850 5220 2334 3831 290a 2d20 2020 4669  (PR #481).-   Fi
-00042df0: 7820 656e 6162 6c69 6e67 2061 6e64 2064  x enabling and d
-00042e00: 6973 6162 6c69 6e67 2070 7573 6820 7275  isabling push ru
-00042e10: 6c65 7320 2850 5220 2334 3938 290a 2d20  les (PR #498).- 
-00042e20: 2020 4669 7820 6275 6720 7768 6572 6520    Fix bug where 
-00042e30: 602f 7265 6769 7374 6572 6020 7265 7475  `/register` retu
-00042e40: 726e 6564 2035 3030 2077 6865 6e20 6769  rned 500 when gi
-00042e50: 7665 6e20 756e 6963 6f64 6520 7573 6572  ven unicode user
-00042e60: 6e61 6d65 2028 5052 2023 3531 3329 0a0a  name (PR #513)..
-00042e70: 4368 616e 6765 7320 696e 2073 796e 6170  Changes in synap
-00042e80: 7365 2076 302e 3132 2e30 2028 3230 3136  se v0.12.0 (2016
-00042e90: 2d30 312d 3034 290a 3d3d 3d3d 3d3d 3d3d  -01-04).========
-00042ea0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00042eb0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a  ===============.
-00042ec0: 0a2d 2020 2045 7870 6f73 6520 602f 6c6f  .-   Expose `/lo
-00042ed0: 6769 6e60 2075 6e64 6572 2060 7230 6020  gin` under `r0` 
-00042ee0: 2850 5220 2334 3539 290a 0a43 6861 6e67  (PR #459)..Chang
-00042ef0: 6573 2069 6e20 7379 6e61 7073 6520 7630  es in synapse v0
-00042f00: 2e31 322e 302d 7263 3320 2832 3031 352d  .12.0-rc3 (2015-
-00042f10: 3132 2d32 3329 0a3d 3d3d 3d3d 3d3d 3d3d  12-23).=========
-00042f20: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00042f30: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00042f40: 3d3d 0a0a 2d20 2020 416c 6c6f 7720 6775  ==..-   Allow gu
-00042f50: 6573 7420 6163 636f 756e 7473 2061 6363  est accounts acc
-00042f60: 6573 7320 746f 2060 2f73 796e 6360 2028  ess to `/sync` (
-00042f70: 5052 2023 3435 3529 0a2d 2020 2041 6c6c  PR #455).-   All
-00042f80: 6f77 2066 696c 7465 7273 2074 6f20 696e  ow filters to in
-00042f90: 636c 7564 652f 6578 636c 7564 6520 726f  clude/exclude ro
-00042fa0: 6f6d 7320 6174 2074 6865 2072 6f6f 6d20  oms at the room 
-00042fb0: 6c65 7665 6c20 7261 7468 6572 2074 6861  level rather tha
-00042fc0: 6e20 6a75 7374 2066 726f 6d20 7468 6520  n just from the 
-00042fd0: 636f 6d70 6f6e 656e 7473 206f 6620 7468  components of th
-00042fe0: 6520 7379 6e63 2066 6f72 2065 6163 6820  e sync for each 
-00042ff0: 726f 6f6d 2e20 2850 5220 2334 3534 290a  room. (PR #454).
-00043000: 2d20 2020 496e 636c 7564 6520 7572 6c73  -   Include urls
-00043010: 2066 6f72 2072 6f6f 6d20 6176 6174 6172   for room avatar
-00043020: 7320 696e 2074 6865 2072 6573 706f 6e73  s in the respons
-00043030: 6520 746f 2060 2f70 7562 6c69 6352 6f6f  e to `/publicRoo
-00043040: 6d73 6020 2850 5220 2334 3533 290a 2d20  ms` (PR #453).- 
-00043050: 2020 446f 6e5c 2774 2073 6574 2061 2069    Don\'t set a i
-00043060: 6465 6e74 6963 6f6e 2061 7320 7468 6520  denticon as the 
-00043070: 6176 6174 6172 2066 6f72 2061 2075 7365  avatar for a use
-00043080: 7220 7768 656e 2074 6865 7920 7265 6769  r when they regi
-00043090: 7374 6572 2028 5052 2023 3435 3029 0a2d  ster (PR #450).-
-000430a0: 2020 2041 6464 2061 2060 6469 7370 6c61     Add a `displa
-000430b0: 795f 6e61 6d65 6020 746f 2074 6869 7264  y_name` to third
-000430c0: 2d70 6172 7479 2069 6e76 6974 6573 2028  -party invites (
-000430d0: 5052 2023 3434 3929 0a2d 2020 2053 656e  PR #449).-   Sen
-000430e0: 6420 6d6f 7265 2069 6e66 6f72 6d61 7469  d more informati
-000430f0: 6f6e 2074 6f20 7468 6520 6964 656e 7469  on to the identi
-00043100: 7479 2073 6572 7665 7220 666f 7220 7468  ty server for th
-00043110: 6972 642d 7061 7274 7920 696e 7669 7465  ird-party invite
-00043120: 7320 736f 2074 6861 7420 6974 2063 616e  s so that it can
-00043130: 2073 656e 6420 7269 6368 6572 206d 6573   send richer mes
-00043140: 7361 6765 7320 746f 2074 6865 2069 6e76  sages to the inv
-00043150: 6974 6565 2028 5052 2023 3434 3629 0a2d  itee (PR #446).-
-00043160: 2020 2043 6163 6865 2074 6865 2072 6573     Cache the res
-00043170: 706f 6e73 6573 2074 6f20 602f 696e 6974  ponses to `/init
-00043180: 6961 6c53 796e 6360 2066 6f72 2035 206d  ialSync` for 5 m
-00043190: 696e 7574 6573 2e20 4966 2061 2063 6c69  inutes. If a cli
-000431a0: 656e 7420 7265 7472 6965 7320 6120 7265  ent retries a re
-000431b0: 7175 6573 7420 746f 2060 2f69 6e69 7469  quest to `/initi
-000431c0: 616c 5379 6e63 6020 6265 666f 7265 2074  alSync` before t
-000431d0: 6865 2061 2072 6573 706f 6e73 6520 7761  he a response wa
-000431e0: 7320 636f 6d70 7574 6564 2074 6f20 7468  s computed to th
-000431f0: 6520 6669 7273 7420 7265 7175 6573 7420  e first request 
-00043200: 7468 656e 2074 6865 2073 616d 6520 7265  then the same re
-00043210: 7370 6f6e 7365 2069 7320 7573 6564 2066  sponse is used f
-00043220: 6f72 2062 6f74 6820 7265 7175 6573 7473  or both requests
-00043230: 2028 5052 2023 3435 3729 0a2d 2020 2046   (PR #457).-   F
-00043240: 6978 2061 2062 7567 2077 6865 7265 2073  ix a bug where s
-00043250: 796e 6170 7365 2077 6f75 6c64 2061 6c77  ynapse would alw
-00043260: 6179 7320 7265 7175 6573 7420 7468 6520  ays request the 
-00043270: 7369 676e 696e 6720 6b65 7973 206f 6620  signing keys of 
-00043280: 7265 6d6f 7465 2073 6572 7665 7273 2065  remote servers e
-00043290: 7665 6e20 7768 656e 2074 6865 206b 6579  ven when the key
-000432a0: 2077 6173 2063 6163 6865 6420 6c6f 6361   was cached loca
-000432b0: 6c6c 7920 2850 5220 2334 3532 290a 2d20  lly (PR #452).- 
-000432c0: 2020 4669 7820 3530 3020 7768 656e 2070    Fix 500 when p
-000432d0: 6167 696e 6174 696f 6e20 7365 6172 6368  agination search
-000432e0: 2072 6573 756c 7473 2028 5052 2023 3434   results (PR #44
-000432f0: 3729 0a2d 2020 2046 6978 2061 2062 7567  7).-   Fix a bug
-00043300: 2077 6865 7265 2073 796e 6170 7365 2077   where synapse w
-00043310: 6173 206c 6561 6b69 6e67 2072 6177 2065  as leaking raw e
-00043320: 6d61 696c 2061 6464 7265 7373 2069 6e20  mail address in 
-00043330: 7468 6972 642d 7061 7274 7920 696e 7669  third-party invi
-00043340: 7465 7320 2850 5220 2334 3438 290a 0a43  tes (PR #448)..C
-00043350: 6861 6e67 6573 2069 6e20 7379 6e61 7073  hanges in synaps
-00043360: 6520 7630 2e31 322e 302d 7263 3220 2832  e v0.12.0-rc2 (2
-00043370: 3031 352d 3132 2d31 3429 0a3d 3d3d 3d3d  015-12-14).=====
-00043380: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00043390: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000433a0: 3d3d 3d3d 3d3d 0a0a 2d20 2020 4164 6420  ======..-   Add 
-000433b0: 6361 6368 6573 2066 6f72 2077 6865 7468  caches for wheth
-000433c0: 6572 2072 6f6f 6d73 2068 6176 6520 6265  er rooms have be
-000433d0: 656e 2066 6f72 676f 7474 656e 2062 7920  en forgotten by 
-000433e0: 6120 7573 6572 2028 5052 2023 3433 3429  a user (PR #434)
-000433f0: 0a2d 2020 2052 656d 6f76 6520 696e 7374  .-   Remove inst
-00043400: 7275 6374 696f 6e73 2074 6f20 7573 6520  ructions to use 
-00043410: 602d 2d70 726f 6365 7373 2d64 6570 656e  `--process-depen
-00043420: 6465 6e63 792d 6c69 6e6b 6020 7369 6e63  dency-link` sinc
-00043430: 6520 616c 6c20 6f66 2074 6865 2064 6570  e all of the dep
-00043440: 656e 6465 6e63 6965 7320 6f66 2073 796e  endencies of syn
-00043450: 6170 7365 2061 7265 206f 6e20 5079 5049  apse are on PyPI
-00043460: 2028 5052 2023 3433 3629 0a2d 2020 2050   (PR #436).-   P
-00043470: 6172 616c 6c65 6c69 7365 2074 6865 2070  arallelise the p
-00043480: 726f 6365 7373 696e 6720 6f66 2060 2f73  rocessing of `/s
-00043490: 796e 6360 2072 6571 7565 7374 7320 2850  ync` requests (P
-000434a0: 5220 2334 3337 290a 2d20 2020 4669 7820  R #437).-   Fix 
-000434b0: 7261 6365 2075 7064 6174 696e 6720 7072  race updating pr
-000434c0: 6573 656e 6365 2069 6e20 602f 6576 656e  esence in `/even
-000434d0: 7473 6020 2850 5220 2334 3434 290a 2d20  ts` (PR #444).- 
-000434e0: 2020 4669 7820 6275 6720 6261 636b 2d70    Fix bug back-p
-000434f0: 6f70 756c 6174 696e 6720 7365 6172 6368  opulating search
-00043500: 2072 6573 756c 7473 2028 5052 2023 3434   results (PR #44
-00043510: 3129 0a2d 2020 2046 6978 2062 7567 2063  1).-   Fix bug c
-00043520: 616c 6375 6c61 7469 6e67 2073 7461 7465  alculating state
-00043530: 2069 6e20 602f 7379 6e63 6020 7265 7175   in `/sync` requ
-00043540: 6573 7473 2028 5052 2023 3434 3229 0a0a  ests (PR #442)..
-00043550: 4368 616e 6765 7320 696e 2073 796e 6170  Changes in synap
-00043560: 7365 2076 302e 3132 2e30 2d72 6331 2028  se v0.12.0-rc1 (
-00043570: 3230 3135 2d31 322d 3130 290a 3d3d 3d3d  2015-12-10).====
-00043580: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003c650: 3d3d 0a0a 4275 6720 6669 7865 733a 0a0a  ==..Bug fixes:..
+0003c660: 2d20 2020 4669 7820 6572 726f 7220 696e  -   Fix error in
+0003c670: 205c 2350 5220 3137 3634 2074 6f20 6163   \#PR 1764 to ac
+0003c680: 7475 616c 6c79 2066 6978 2074 6865 206e  tually fix the n
+0003c690: 6967 6874 6d61 7265 205c 2331 3735 3320  ightmare \#1753 
+0003c6a0: 6275 672e 0a2d 2020 2049 6d70 726f 7665  bug..-   Improve
+0003c6b0: 2064 6561 646c 6f63 6b20 6c6f 6767 696e   deadlock loggin
+0003c6c0: 6720 6675 7274 6865 720a 2d20 2020 4469  g further.-   Di
+0003c6d0: 7363 6172 6420 696e 626f 756e 6420 6665  scard inbound fe
+0003c6e0: 6465 7261 7469 6f6e 2074 7261 6666 6963  deration traffic
+0003c6f0: 2066 726f 6d20 696e 7661 6c69 6420 646f   from invalid do
+0003c700: 6d61 696e 732c 2074 6f20 696d 6d75 6e69  mains, to immuni
+0003c710: 7365 2061 6761 696e 7374 205c 2331 3735  se against \#175
+0003c720: 330a 0a43 6861 6e67 6573 2069 6e20 7379  3..Changes in sy
+0003c730: 6e61 7073 6520 7630 2e31 382e 3620 2832  napse v0.18.6 (2
+0003c740: 3031 372d 3031 2d30 3629 0a3d 3d3d 3d3d  017-01-06).=====
+0003c750: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003c760: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003c770: 3d3d 0a0a 4275 6720 6669 7865 733a 0a0a  ==..Bug fixes:..
+0003c780: 2d20 2020 4669 7820 6275 6720 7768 656e  -   Fix bug when
+0003c790: 2063 6865 636b 696e 6720 6966 2061 2067   checking if a g
+0003c7a0: 7565 7374 2075 7365 7220 6973 2061 6c6c  uest user is all
+0003c7b0: 6f77 6564 2074 6f20 6a6f 696e 2061 2072  owed to join a r
+0003c7c0: 6f6f 6d20 2850 5220 2331 3737 3229 2054  oom (PR #1772) T
+0003c7d0: 6861 6e6b 7320 746f 2050 6174 7269 6b20  hanks to Patrik 
+0003c7e0: 4f6c 6473 6265 7267 2066 6f72 2064 6961  Oldsberg for dia
+0003c7f0: 676e 6f73 696e 6720 616e 6420 7468 6520  gnosing and the 
+0003c800: 6669 7821 0a0a 4368 616e 6765 7320 696e  fix!..Changes in
+0003c810: 2073 796e 6170 7365 2076 302e 3138 2e36   synapse v0.18.6
+0003c820: 2d72 6333 2028 3230 3137 2d30 312d 3035  -rc3 (2017-01-05
+0003c830: 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ).==============
+0003c840: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003c850: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a42  =============..B
+0003c860: 7567 2066 6978 6573 3a0a 0a2d 2020 2046  ug fixes:..-   F
+0003c870: 6978 2062 7567 2077 6865 7265 2077 6520  ix bug where we 
+0003c880: 6661 696c 6564 2074 6f20 7365 6e64 2062  failed to send b
+0003c890: 616e 2065 7665 6e74 7320 746f 2074 6865  an events to the
+0003c8a0: 2062 616e 6e65 6420 7365 7276 6572 2028   banned server (
+0003c8b0: 5052 2023 3137 3538 290a 2d20 2020 4669  PR #1758).-   Fi
+0003c8c0: 7820 6275 6720 7768 6572 6520 7765 2073  x bug where we s
+0003c8d0: 656e 7420 6576 656e 7420 7468 6174 2064  ent event that d
+0003c8e0: 6964 6e5c 2774 206f 7269 6769 6e61 7465  idn\'t originate
+0003c8f0: 206f 6e20 7468 6973 2073 6572 7665 7220   on this server 
+0003c900: 746f 206f 7468 6572 2073 6572 7665 7273  to other servers
+0003c910: 2028 5052 2023 3137 3634 290a 2d20 2020   (PR #1764).-   
+0003c920: 4669 7820 6275 6720 7768 6572 6520 7072  Fix bug where pr
+0003c930: 6f63 6573 7369 6e67 2061 6e20 6576 656e  ocessing an even
+0003c940: 7420 6672 6f6d 2061 2072 656d 6f74 6520  t from a remote 
+0003c950: 7365 7276 6572 2074 6f6f 6b20 6120 6c6f  server took a lo
+0003c960: 6e67 2074 696d 6520 6265 6361 7573 6520  ng time because 
+0003c970: 7765 2077 6572 6520 6d61 6b69 6e67 206c  we were making l
+0003c980: 6f6e 6720 4854 5450 2072 6571 7565 7374  ong HTTP request
+0003c990: 7320 2850 5220 2331 3736 352c 2050 5220  s (PR #1765, PR 
+0003c9a0: 2331 3734 3429 0a0a 4368 616e 6765 733a  #1744)..Changes:
+0003c9b0: 0a0a 2d20 2020 496d 7072 6f76 6520 6c6f  ..-   Improve lo
+0003c9c0: 6767 696e 6720 666f 7220 6465 6275 6767  gging for debugg
+0003c9d0: 696e 6720 6465 6164 6c6f 636b 7320 2850  ing deadlocks (P
+0003c9e0: 5220 2331 3736 362c 2050 5220 2331 3736  R #1766, PR #176
+0003c9f0: 3729 0a0a 4368 616e 6765 7320 696e 2073  7)..Changes in s
+0003ca00: 796e 6170 7365 2076 302e 3138 2e36 2d72  ynapse v0.18.6-r
+0003ca10: 6332 2028 3230 3136 2d31 322d 3330 290a  c2 (2016-12-30).
+0003ca20: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003ca30: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003ca40: 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a42 7567  ===========..Bug
+0003ca50: 2066 6978 6573 3a0a 0a2d 2020 2046 6978   fixes:..-   Fix
+0003ca60: 206d 656d 6f72 7920 6c65 616b 2069 6e20   memory leak in 
+0003ca70: 7477 6973 7465 6420 6279 2069 6e69 7469  twisted by initi
+0003ca80: 616c 6973 696e 6720 6c6f 6767 696e 6720  alising logging 
+0003ca90: 636f 7272 6563 746c 7920 2850 5220 2331  correctly (PR #1
+0003caa0: 3733 3129 0a2d 2020 2046 6978 2062 7567  731).-   Fix bug
+0003cab0: 2077 6865 7265 2066 6574 6368 696e 6720   where fetching 
+0003cac0: 6d69 7373 696e 6720 6576 656e 7473 2074  missing events t
+0003cad0: 6f6f 6b20 616e 2075 6e61 6363 6570 7461  ook an unaccepta
+0003cae0: 626c 6520 616d 6f75 6e74 206f 6620 7469  ble amount of ti
+0003caf0: 6d65 2069 6e20 6c61 7267 6520 726f 6f6d  me in large room
+0003cb00: 7320 2850 5220 2331 3733 3429 0a0a 4368  s (PR #1734)..Ch
+0003cb10: 616e 6765 7320 696e 2073 796e 6170 7365  anges in synapse
+0003cb20: 2076 302e 3138 2e36 2d72 6331 2028 3230   v0.18.6-rc1 (20
+0003cb30: 3136 2d31 322d 3239 290a 3d3d 3d3d 3d3d  16-12-29).======
+0003cb40: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003cb50: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003cb60: 3d3d 3d3d 3d0a 0a42 7567 2066 6978 6573  =====..Bug fixes
+0003cb70: 3a0a 0a2d 2020 204d 616b 6520 7375 7265  :..-   Make sure
+0003cb80: 2074 6861 7420 6f75 7462 6f75 6e64 2063   that outbound c
+0003cb90: 6f6e 6e65 6374 696f 6e73 2061 7265 2063  onnections are c
+0003cba0: 6c6f 7365 6420 2850 5220 2331 3732 3529  losed (PR #1725)
+0003cbb0: 0a0a 4368 616e 6765 7320 696e 2073 796e  ..Changes in syn
+0003cbc0: 6170 7365 2076 302e 3138 2e35 2028 3230  apse v0.18.5 (20
+0003cbd0: 3136 2d31 322d 3136 290a 3d3d 3d3d 3d3d  16-12-16).======
+0003cbe0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003cbf0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003cc00: 3d0a 0a42 7567 2066 6978 6573 3a0a 0a2d  =..Bug fixes:..-
+0003cc10: 2020 2046 6978 2066 6564 6572 6174 696f     Fix federatio
+0003cc20: 6e20 2f62 6163 6b66 696c 6c20 7265 7475  n /backfill retu
+0003cc30: 726e 696e 6720 6576 656e 7473 2069 7420  rning events it 
+0003cc40: 7368 6f75 6c64 6e5c 2774 2028 5052 2023  shouldn\'t (PR #
+0003cc50: 3137 3030 290a 2d20 2020 4669 7820 6372  1700).-   Fix cr
+0003cc60: 6173 6820 696e 2075 726c 2070 7265 7669  ash in url previ
+0003cc70: 6577 2028 5052 2023 3137 3031 290a 0a43  ew (PR #1701)..C
+0003cc80: 6861 6e67 6573 2069 6e20 7379 6e61 7073  hanges in synaps
+0003cc90: 6520 7630 2e31 382e 352d 7263 3320 2832  e v0.18.5-rc3 (2
+0003cca0: 3031 362d 3132 2d31 3329 0a3d 3d3d 3d3d  016-12-13).=====
+0003ccb0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003ccc0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003ccd0: 3d3d 3d3d 3d3d 0a0a 4665 6174 7572 6573  ======..Features
+0003cce0: 3a0a 0a2d 2020 2041 6464 2073 7570 706f  :..-   Add suppo
+0003ccf0: 7274 2066 6f72 2045 3245 2066 6f72 2067  rt for E2E for g
+0003cd00: 7565 7374 7320 2850 5220 2331 3635 3329  uests (PR #1653)
+0003cd10: 0a2d 2020 2041 6464 206e 6577 2041 5049  .-   Add new API
+0003cd20: 2061 7070 7365 7276 6963 6520 7370 6563   appservice spec
+0003cd30: 6966 6963 2070 7562 6c69 6320 726f 6f6d  ific public room
+0003cd40: 206c 6973 7420 2850 5220 2331 3637 3629   list (PR #1676)
+0003cd50: 0a2d 2020 2041 6464 206e 6577 2072 6f6f  .-   Add new roo
+0003cd60: 6d20 6d65 6d62 6572 7368 6970 2041 5049  m membership API
+0003cd70: 7320 2850 5220 2331 3638 3029 0a0a 4368  s (PR #1680)..Ch
+0003cd80: 616e 6765 733a 0a0a 2d20 2020 456e 6162  anges:..-   Enab
+0003cd90: 6c65 2067 7565 7374 2061 6363 6573 7320  le guest access 
+0003cda0: 666f 7220 7072 6976 6174 6520 726f 6f6d  for private room
+0003cdb0: 7320 6279 2064 6566 6175 6c74 2028 5052  s by default (PR
+0003cdc0: 2023 3635 3329 0a2d 2020 204c 696d 6974   #653).-   Limit
+0003cdd0: 2074 6865 206e 756d 6265 7220 6f66 2065   the number of e
+0003cde0: 7665 6e74 7320 7468 6174 2063 616e 2062  vents that can b
+0003cdf0: 6520 6372 6561 7465 6420 6f6e 2061 2067  e created on a g
+0003ce00: 6976 656e 2072 6f6f 6d20 636f 6e63 7572  iven room concur
+0003ce10: 7265 6e74 6c79 2028 5052 2023 3136 3230  rently (PR #1620
+0003ce20: 290a 2d20 2020 4c6f 6720 7468 6520 6172  ).-   Log the ar
+0003ce30: 6773 2074 6861 7420 7765 2068 6176 6520  gs that we have 
+0003ce40: 6f6e 2055 4920 6175 7468 2063 6f6d 706c  on UI auth compl
+0003ce50: 6574 696f 6e20 2850 5220 2331 3634 3929  etion (PR #1649)
+0003ce60: 0a2d 2020 2053 746f 7020 6765 6e65 7261  .-   Stop genera
+0003ce70: 7469 6e67 2072 6566 7265 7368 5c5f 746f  ting refresh\_to
+0003ce80: 6b65 6e73 2028 5052 2023 3136 3534 290a  kens (PR #1654).
+0003ce90: 2d20 2020 5374 6f70 2070 7574 7469 6e67  -   Stop putting
+0003cea0: 2061 2074 696d 6520 6361 7665 6174 206f   a time caveat o
+0003ceb0: 6e20 6163 6365 7373 2074 6f6b 656e 7320  n access tokens 
+0003cec0: 2850 5220 2331 3635 3629 0a2d 2020 2052  (PR #1656).-   R
+0003ced0: 656d 6f76 6520 756e 7370 6563 6365 6420  emove unspecced 
+0003cee0: 4745 5420 656e 6470 6f69 6e74 7320 666f  GET endpoints fo
+0003cef0: 7220 6532 6520 6b65 7973 2028 5052 2023  r e2e keys (PR #
+0003cf00: 3136 3934 290a 0a42 7567 2066 6978 6573  1694)..Bug fixes
+0003cf10: 3a0a 0a2d 2020 2046 6978 2068 616e 646c  :..-   Fix handl
+0003cf20: 696e 6720 6f66 2035 3030 2061 6e64 2034  ing of 500 and 4
+0003cf30: 3239 5c27 7320 6f76 6572 2066 6564 6572  29\'s over feder
+0003cf40: 6174 696f 6e20 2850 5220 2331 3635 3029  ation (PR #1650)
+0003cf50: 0a2d 2020 2046 6978 2043 6f6e 7465 6e74  .-   Fix Content
+0003cf60: 2d54 7970 6520 6865 6164 6572 2070 6172  -Type header par
+0003cf70: 7369 6e67 2028 5052 2023 3136 3630 290a  sing (PR #1660).
+0003cf80: 2d20 2020 4669 7820 6572 726f 7220 7768  -   Fix error wh
+0003cf90: 656e 2070 7265 7669 6577 696e 6720 7369  en previewing si
+0003cfa0: 7465 7320 7468 6174 2069 6e63 6c75 6465  tes that include
+0003cfb0: 2075 6e69 636f 6465 2c20 7468 616e 6b73   unicode, thanks
+0003cfc0: 2074 6f20 6b79 7269 6173 2028 5052 2023   to kyrias (PR #
+0003cfd0: 3136 3634 290a 2d20 2020 4669 7820 736f  1664).-   Fix so
+0003cfe0: 6d65 2063 6173 6573 2077 6865 7265 2077  me cases where w
+0003cff0: 6520 6472 6f70 2072 6561 6420 7265 6365  e drop read rece
+0003d000: 6970 7473 2028 5052 2023 3136 3738 290a  ipts (PR #1678).
+0003d010: 2d20 2020 4669 7820 6275 6720 7768 6572  -   Fix bug wher
+0003d020: 6520 6361 6c6c 7320 746f 2060 2f73 796e  e calls to `/syn
+0003d030: 6360 2064 6964 6e5c 2774 2063 6f72 7265  c` didn\'t corre
+0003d040: 6374 6c79 2074 696d 656f 7574 2028 5052  ctly timeout (PR
+0003d050: 2023 3136 3833 290a 2d20 2020 4669 7820   #1683).-   Fix 
+0003d060: 6275 6720 7768 6572 6520 4532 4520 6b65  bug where E2E ke
+0003d070: 7920 7175 6572 7920 776f 756c 6420 6661  y query would fa
+0003d080: 696c 2069 6620 6120 7369 6e67 6c65 2072  il if a single r
+0003d090: 656d 6f74 6520 686f 7374 2066 6169 6c65  emote host faile
+0003d0a0: 6420 2850 5220 2331 3638 3629 0a0a 4368  d (PR #1686)..Ch
+0003d0b0: 616e 6765 7320 696e 2073 796e 6170 7365  anges in synapse
+0003d0c0: 2076 302e 3138 2e35 2d72 6332 2028 3230   v0.18.5-rc2 (20
+0003d0d0: 3136 2d31 312d 3234 290a 3d3d 3d3d 3d3d  16-11-24).======
+0003d0e0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003d0f0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003d100: 3d3d 3d3d 3d0a 0a42 7567 2066 6978 6573  =====..Bug fixes
+0003d110: 3a0a 0a2d 2020 2044 6f6e 5c27 7420 7365  :..-   Don\'t se
+0003d120: 6e64 206f 6c64 2065 7665 6e74 7320 6f76  nd old events ov
+0003d130: 6572 2066 6564 6572 6174 696f 6e2c 2066  er federation, f
+0003d140: 6978 6573 2062 7567 2069 6e20 2d72 6331  ixes bug in -rc1
+0003d150: 2e0a 0a43 6861 6e67 6573 2069 6e20 7379  ...Changes in sy
+0003d160: 6e61 7073 6520 7630 2e31 382e 352d 7263  napse v0.18.5-rc
+0003d170: 3120 2832 3031 362d 3131 2d32 3429 0a3d  1 (2016-11-24).=
+0003d180: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003d190: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003d1a0: 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 4665 6174  ==========..Feat
+0003d1b0: 7572 6573 3a0a 0a2d 2020 2049 6d70 6c65  ures:..-   Imple
+0003d1c0: 6d65 6e74 205c 2265 7665 6e74 5c5f 6669  ment \"event\_fi
+0003d1d0: 656c 6473 5c22 2069 6e20 6669 6c74 6572  elds\" in filter
+0003d1e0: 7320 2850 5220 2331 3633 3829 0a0a 4368  s (PR #1638)..Ch
+0003d1f0: 616e 6765 733a 0a0a 2d20 2020 5573 6520  anges:..-   Use 
+0003d200: 6578 7465 726e 616c 206c 6461 7020 6175  external ldap au
+0003d210: 7468 2070 6163 616b 6765 2028 5052 2023  th pacakge (PR #
+0003d220: 3136 3238 290a 2d20 2020 5370 6c69 7420  1628).-   Split 
+0003d230: 6f75 7420 6665 6465 7261 7469 6f6e 2074  out federation t
+0003d240: 7261 6e73 6163 7469 6f6e 2073 656e 6469  ransaction sendi
+0003d250: 6e67 2074 6f20 6120 776f 726b 6572 2028  ng to a worker (
+0003d260: 5052 2023 3136 3335 290a 2d20 2020 4661  PR #1635).-   Fa
+0003d270: 696c 2077 6974 6820 6120 636f 6865 7265  il with a cohere
+0003d280: 6e74 2065 7272 6f72 206d 6573 7361 6765  nt error message
+0003d290: 2069 6620 2f73 796e 633f 6669 6c74 6572   if /sync?filter
+0003d2a0: 3d20 6973 2069 6e76 616c 6964 2028 5052  = is invalid (PR
+0003d2b0: 2023 3136 3336 290a 2d20 2020 4d6f 7265   #1636).-   More
+0003d2c0: 2065 6666 6963 6965 6e74 206e 6f74 6966   efficient notif
+0003d2d0: 2063 6f75 6e74 2071 7565 7269 6573 2028   count queries (
+0003d2e0: 5052 2023 3136 3434 290a 0a43 6861 6e67  PR #1644)..Chang
+0003d2f0: 6573 2069 6e20 7379 6e61 7073 6520 7630  es in synapse v0
+0003d300: 2e31 382e 3420 2832 3031 362d 3131 2d32  .18.4 (2016-11-2
+0003d310: 3229 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  2).=============
+0003d320: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003d330: 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 4275 6720  ==========..Bug 
+0003d340: 6669 7865 733a 0a0a 2d20 2020 4164 6420  fixes:..-   Add 
+0003d350: 776f 726b 6172 6f75 6e64 2066 6f72 2062  workaround for b
+0003d360: 7567 6779 2063 6c69 656e 7473 2074 6861  uggy clients tha
+0003d370: 7420 7468 6520 6661 696c 2074 6f20 7265  t the fail to re
+0003d380: 6769 7374 6572 2028 5052 2023 3136 3332  gister (PR #1632
+0003d390: 290a 0a43 6861 6e67 6573 2069 6e20 7379  )..Changes in sy
+0003d3a0: 6e61 7073 6520 7630 2e31 382e 342d 7263  napse v0.18.4-rc
+0003d3b0: 3120 2832 3031 362d 3131 2d31 3429 0a3d  1 (2016-11-14).=
+0003d3c0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003d3d0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003d3e0: 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 4368 616e  ==========..Chan
+0003d3f0: 6765 733a 0a0a 2d20 2020 5661 7269 6f75  ges:..-   Variou
+0003d400: 7320 6461 7461 6261 7365 2065 6666 6963  s database effic
+0003d410: 6965 6e63 7920 696d 7072 6f76 656d 656e  iency improvemen
+0003d420: 7473 2028 5052 2023 3131 3838 2c20 2331  ts (PR #1188, #1
+0003d430: 3139 3229 0a2d 2020 2055 7064 6174 6520  192).-   Update 
+0003d440: 6465 6661 756c 7420 636f 6e66 6967 2074  default config t
+0003d450: 6f20 626c 6163 6b6c 6973 7420 6d6f 7265  o blacklist more
+0003d460: 2069 6e74 6572 6e61 6c20 4950 732c 2074   internal IPs, t
+0003d470: 6861 6e6b 7320 746f 2045 7561 6e20 4b65  hanks to Euan Ke
+0003d480: 6d70 2028 5052 2023 3131 3938 290a 2d20  mp (PR #1198).- 
+0003d490: 2020 416c 6c6f 7720 7370 6563 6966 7969    Allow specifyi
+0003d4a0: 6e67 2064 7572 6174 696f 6e20 696e 206d  ng duration in m
+0003d4b0: 696e 7574 6573 2069 6e20 636f 6e66 6967  inutes in config
+0003d4c0: 2c20 7468 616e 6b73 2074 6f20 4461 6e69  , thanks to Dani
+0003d4d0: 656c 2044 656e 7420 2850 5220 2331 3632  el Dent (PR #162
+0003d4e0: 3529 0a0a 4275 6720 6669 7865 733a 0a0a  5)..Bug fixes:..
+0003d4f0: 2d20 2020 4669 7820 6d65 6469 6120 7265  -   Fix media re
+0003d500: 706f 2074 6f20 7365 7420 434f 5273 2068  po to set CORs h
+0003d510: 6561 6465 7273 206f 6e20 7265 7370 6f6e  eaders on respon
+0003d520: 7365 7320 2850 5220 2331 3139 3029 0a2d  ses (PR #1190).-
+0003d530: 2020 2046 6978 2072 6567 6973 7472 6174     Fix registrat
+0003d540: 696f 6e20 746f 206e 6f74 2065 7272 6f72  ion to not error
+0003d550: 206f 6e20 6e6f 6e2d 6173 6369 6920 7061   on non-ascii pa
+0003d560: 7373 776f 7264 7320 2850 5220 2331 3139  sswords (PR #119
+0003d570: 3129 0a2d 2020 2046 6978 2063 7265 6174  1).-   Fix creat
+0003d580: 6520 6576 656e 7420 636f 6465 2074 6f20  e event code to 
+0003d590: 6c69 6d69 7420 7468 6520 6e75 6d62 6572  limit the number
+0003d5a0: 206f 6620 7072 6576 5c5f 6576 656e 7473   of prev\_events
+0003d5b0: 2028 5052 2023 3136 3135 290a 2d20 2020   (PR #1615).-   
+0003d5c0: 4669 7820 6275 6720 696e 2074 7261 6e73  Fix bug in trans
+0003d5d0: 6163 7469 6f6e 2049 4420 6465 6475 706c  action ID dedupl
+0003d5e0: 6963 6174 696f 6e20 2850 5220 2331 3632  ication (PR #162
+0003d5f0: 3429 0a0a 4368 616e 6765 7320 696e 2073  4)..Changes in s
+0003d600: 796e 6170 7365 2076 302e 3138 2e33 2028  ynapse v0.18.3 (
+0003d610: 3230 3136 2d31 312d 3038 290a 3d3d 3d3d  2016-11-08).====
+0003d620: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003d630: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003d640: 3d3d 3d0a 0a53 4543 5552 4954 5920 5550  ===..SECURITY UP
+0003d650: 4441 5445 0a0a 4578 706c 6963 6974 6c79  DATE..Explicitly
+0003d660: 2072 6571 7569 7265 2061 7574 6865 6e74   require authent
+0003d670: 6963 6174 696f 6e20 7768 656e 2075 7369  ication when usi
+0003d680: 6e67 204c 4441 5033 2e20 5468 6973 2069  ng LDAP3. This i
+0003d690: 7320 7468 6520 6465 6661 756c 7420 6f6e  s the default on
+0003d6a0: 2076 6572 7369 6f6e 7320 6f66 2060 6c64   versions of `ld
+0003d6b0: 6170 3360 2061 626f 7665 2031 2e30 2c20  ap3` above 1.0, 
+0003d6c0: 6275 7420 736f 6d65 2064 6973 7472 6962  but some distrib
+0003d6d0: 7574 696f 6e73 2077 696c 6c20 7061 636b  utions will pack
+0003d6e0: 6167 6520 616e 206f 6c64 6572 2076 6572  age an older ver
+0003d6f0: 7369 6f6e 2e0a 0a49 6620 796f 7520 6172  sion...If you ar
+0003d700: 6520 7573 696e 6720 4c44 4150 3320 6c6f  e using LDAP3 lo
+0003d710: 6769 6e20 616e 6420 6861 7665 2061 2076  gin and have a v
+0003d720: 6572 7369 6f6e 206f 6620 606c 6461 7033  ersion of `ldap3
+0003d730: 6020 6f6c 6465 7220 7468 616e 2031 2e30  ` older than 1.0
+0003d740: 2069 7420 6973 202a 2a43 5249 5449 4341   it is **CRITICA
+0003d750: 4c20 746f 2075 7064 6772 6164 652a 2a2e  L to updgrade**.
+0003d760: 0a0a 4368 616e 6765 7320 696e 2073 796e  ..Changes in syn
+0003d770: 6170 7365 2076 302e 3138 2e32 2028 3230  apse v0.18.2 (20
+0003d780: 3136 2d31 312d 3031 290a 3d3d 3d3d 3d3d  16-11-01).======
+0003d790: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003d7a0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003d7b0: 3d0a 0a4e 6f20 6368 616e 6765 7320 7369  =..No changes si
+0003d7c0: 6e63 6520 7630 2e31 382e 322d 7263 350a  nce v0.18.2-rc5.
+0003d7d0: 0a43 6861 6e67 6573 2069 6e20 7379 6e61  .Changes in syna
+0003d7e0: 7073 6520 7630 2e31 382e 322d 7263 3520  pse v0.18.2-rc5 
+0003d7f0: 2832 3031 362d 3130 2d32 3829 0a3d 3d3d  (2016-10-28).===
+0003d800: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003d810: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003d820: 3d3d 3d3d 3d3d 3d3d 0a0a 4275 6720 6669  ========..Bug fi
+0003d830: 7865 733a 0a0a 2d20 2020 4669 7820 7072  xes:..-   Fix pr
+0003d840: 6f6d 6574 6865 7573 2070 726f 6365 7373  ometheus process
+0003d850: 206d 6574 7269 6373 2069 6e20 776f 726b   metrics in work
+0003d860: 6572 2070 726f 6365 7373 6573 2028 5052  er processes (PR
+0003d870: 2023 3131 3834 290a 0a43 6861 6e67 6573   #1184)..Changes
+0003d880: 2069 6e20 7379 6e61 7073 6520 7630 2e31   in synapse v0.1
+0003d890: 382e 322d 7263 3420 2832 3031 362d 3130  8.2-rc4 (2016-10
+0003d8a0: 2d32 3729 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d  -27).===========
+0003d8b0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003d8c0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003d8d0: 0a0a 4275 6720 6669 7865 733a 0a0a 2d20  ..Bug fixes:..- 
+0003d8e0: 2020 4669 7820 6075 7365 725f 7468 7265    Fix `user_thre
+0003d8f0: 6570 6964 7360 2073 6368 656d 6120 6465  epids` schema de
+0003d900: 6c74 612c 2077 6869 6368 2069 6e20 736f  lta, which in so
+0003d910: 6d65 2069 6e73 7461 6e63 6573 2070 7265  me instances pre
+0003d920: 7665 6e74 6564 2073 7461 7274 7570 2061  vented startup a
+0003d930: 6674 6572 2075 7067 7261 6465 2028 5052  fter upgrade (PR
+0003d940: 2023 3131 3833 290a 0a43 6861 6e67 6573   #1183)..Changes
+0003d950: 2069 6e20 7379 6e61 7073 6520 7630 2e31   in synapse v0.1
+0003d960: 382e 322d 7263 3320 2832 3031 362d 3130  8.2-rc3 (2016-10
+0003d970: 2d32 3729 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d  -27).===========
+0003d980: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003d990: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003d9a0: 0a0a 4368 616e 6765 733a 0a0a 2d20 2020  ..Changes:..-   
+0003d9b0: 416c 6c6f 7720 636c 6965 6e74 7320 746f  Allow clients to
+0003d9c0: 2073 7570 706c 7920 6163 6365 7373 2074   supply access t
+0003d9d0: 6f6b 656e 7320 6173 2068 6561 6465 7273  okens as headers
+0003d9e0: 2028 5052 2023 3130 3938 290a 2d20 2020   (PR #1098).-   
+0003d9f0: 436c 6172 6966 7920 6572 726f 7220 636f  Clarify error co
+0003da00: 6465 7320 666f 7220 4745 5420 2f66 696c  des for GET /fil
+0003da10: 7465 722f 2c20 7468 616e 6b73 2074 6f20  ter/, thanks to 
+0003da20: 416c 6578 616e 6465 7220 4d61 7a6e 6576  Alexander Maznev
+0003da30: 2028 5052 2023 3131 3634 290a 2d20 2020   (PR #1164).-   
+0003da40: 4d61 6b65 2070 6173 7377 6f72 6420 7265  Make password re
+0003da50: 7365 7420 656d 6169 6c20 6669 656c 6420  set email field 
+0003da60: 6361 7365 2069 6e73 656e 7369 7469 7665  case insensitive
+0003da70: 2028 5052 2023 3131 3730 290a 2d20 2020   (PR #1170).-   
+0003da80: 5265 6475 6365 2072 6564 756e 6461 6e74  Reduce redundant
+0003da90: 2064 6174 6162 6173 6520 776f 726b 2069   database work i
+0003daa0: 6e20 656d 6169 6c20 7075 7368 6572 2028  n email pusher (
+0003dab0: 5052 2023 3131 3734 290a 2d20 2020 416c  PR #1174).-   Al
+0003dac0: 6c6f 7720 636f 6e66 6967 7572 6162 6c65  low configurable
+0003dad0: 2072 6174 6520 6c69 6d69 7469 6e67 2070   rate limiting p
+0003dae0: 6572 2041 5320 2850 5220 2331 3137 3529  er AS (PR #1175)
+0003daf0: 0a2d 2020 2043 6865 636b 2077 6865 7468  .-   Check wheth
+0003db00: 6572 2074 6f20 7261 7465 6c69 6d69 7420  er to ratelimit 
+0003db10: 736f 6f6e 6572 2074 6f20 6176 6f69 6420  sooner to avoid 
+0003db20: 776f 726b 2028 5052 2023 3131 3736 290a  work (PR #1176).
+0003db30: 2d20 2020 5374 616e 6461 7264 6973 6520  -   Standardise 
+0003db40: 7072 6f6d 6574 6865 7573 206d 6574 7269  prometheus metri
+0003db50: 6373 2028 5052 2023 3131 3737 290a 0a42  cs (PR #1177)..B
+0003db60: 7567 2066 6978 6573 3a0a 0a2d 2020 2046  ug fixes:..-   F
+0003db70: 6978 2069 6e63 7265 6469 626c 7920 736c  ix incredibly sl
+0003db80: 6f77 2062 6163 6b20 7061 6769 6e61 7469  ow back paginati
+0003db90: 6f6e 2071 7565 7279 2028 5052 2023 3131  on query (PR #11
+0003dba0: 3738 290a 2d20 2020 4669 7820 696e 6669  78).-   Fix infi
+0003dbb0: 6e69 7465 2074 7970 696e 6720 6275 6720  nite typing bug 
+0003dbc0: 2850 5220 2331 3137 3929 0a0a 4368 616e  (PR #1179)..Chan
+0003dbd0: 6765 7320 696e 2073 796e 6170 7365 2076  ges in synapse v
+0003dbe0: 302e 3138 2e32 2d72 6332 2028 3230 3136  0.18.2-rc2 (2016
+0003dbf0: 2d31 302d 3235 290a 3d3d 3d3d 3d3d 3d3d  -10-25).========
+0003dc00: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003dc10: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003dc20: 3d3d 3d0a 0a28 5468 6973 2072 656c 6561  ===..(This relea
+0003dc30: 7365 2064 6964 206e 6f74 2069 6e63 6c75  se did not inclu
+0003dc40: 6465 2074 6865 2063 6861 6e67 6573 2061  de the changes a
+0003dc50: 6476 6572 7469 7365 6420 616e 6420 7761  dvertised and wa
+0003dc60: 7320 6964 656e 7469 6361 6c20 746f 2052  s identical to R
+0003dc70: 4331 290a 0a43 6861 6e67 6573 2069 6e20  C1)..Changes in 
+0003dc80: 7379 6e61 7073 6520 7630 2e31 382e 322d  synapse v0.18.2-
+0003dc90: 7263 3120 2832 3031 362d 3130 2d31 3729  rc1 (2016-10-17)
+0003dca0: 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  .===============
+0003dcb0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003dcc0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 4368  ============..Ch
+0003dcd0: 616e 6765 733a 0a0a 2d20 2020 5265 6d6f  anges:..-   Remo
+0003dce0: 7665 2072 6564 756e 6461 6e74 2065 7665  ve redundant eve
+0003dcf0: 6e74 5c5f 6175 7468 2069 6e64 6578 2028  nt\_auth index (
+0003dd00: 5052 2023 3131 3133 290a 2d20 2020 5265  PR #1113).-   Re
+0003dd10: 6475 6365 2044 4220 6869 7473 2066 6f72  duce DB hits for
+0003dd20: 2072 6570 6c69 6361 7469 6f6e 2028 5052   replication (PR
+0003dd30: 2023 3131 3431 290a 2d20 2020 496d 706c   #1141).-   Impl
+0003dd40: 656d 656e 7420 706c 7567 6761 626c 6520  ement pluggable 
+0003dd50: 7061 7373 776f 7264 2061 7574 6820 2850  password auth (P
+0003dd60: 5220 2331 3135 3529 0a2d 2020 2052 656d  R #1155).-   Rem
+0003dd70: 6f76 6520 7261 7465 206c 696d 6974 696e  ove rate limitin
+0003dd80: 6720 6672 6f6d 2061 7070 2073 6572 7669  g from app servi
+0003dd90: 6365 2073 656e 6465 7273 2061 6e64 2066  ce senders and f
+0003dda0: 6978 2067 6574 5c5f 6f72 5c5f 6372 6561  ix get\_or\_crea
+0003ddb0: 7465 5c5f 7573 6572 2072 6571 7565 7374  te\_user request
+0003ddc0: 6572 2c20 7468 616e 6b73 2074 6f20 5061  er, thanks to Pa
+0003ddd0: 7472 696b 204f 6c64 7362 6572 6720 2850  trik Oldsberg (P
+0003dde0: 5220 2331 3135 3729 0a2d 2020 2077 696e  R #1157).-   win
+0003ddf0: 646f 772e 706f 7374 6d65 7373 6167 6520  dow.postmessage 
+0003de00: 666f 7220 496e 7465 7261 6374 6976 6520  for Interactive 
+0003de10: 4175 7468 2066 616c 6c62 6163 6b20 2850  Auth fallback (P
+0003de20: 5220 2331 3135 3929 0a2d 2020 2055 7365  R #1159).-   Use
+0003de30: 2073 7973 2e65 7865 6375 7461 626c 6520   sys.executable 
+0003de40: 696e 7374 6561 6420 6f66 2068 6172 6463  instead of hardc
+0003de50: 6f64 6564 2070 7974 686f 6e2c 2074 6861  oded python, tha
+0003de60: 6e6b 7320 746f 2050 6564 726f 204c 6172  nks to Pedro Lar
+0003de70: 726f 7920 2850 5220 2331 3136 3229 0a2d  roy (PR #1162).-
+0003de80: 2020 2041 6464 2063 6f6e 6669 6720 6f70     Add config op
+0003de90: 7469 6f6e 2066 6f72 2061 6464 696e 6720  tion for adding 
+0003dea0: 6164 6469 7469 6f6e 616c 2054 4c53 2066  additional TLS f
+0003deb0: 696e 6765 7270 7269 6e74 7320 2850 5220  ingerprints (PR 
+0003dec0: 2331 3136 3729 0a2d 2020 2055 7365 722d  #1167).-   User-
+0003ded0: 696e 7465 7261 6374 6976 6520 6175 7468  interactive auth
+0003dee0: 206f 6e20 6465 6c65 7465 2064 6576 6963   on delete devic
+0003def0: 6520 2850 5220 2331 3136 3829 0a0a 4275  e (PR #1168)..Bu
+0003df00: 6720 6669 7865 733a 0a0a 2d20 2020 4669  g fixes:..-   Fi
+0003df10: 7820 6e6f 7420 6265 696e 6720 616c 6c6f  x not being allo
+0003df20: 7765 6420 746f 2073 6574 2079 6f75 7220  wed to set your 
+0003df30: 6f77 6e20 7374 6174 655c 5f6b 6579 2c20  own state\_key, 
+0003df40: 7468 616e 6b73 2074 6f20 5061 7472 696b  thanks to Patrik
+0003df50: 204f 6c64 7362 6572 6720 2850 5220 2331   Oldsberg (PR #1
+0003df60: 3135 3029 0a2d 2020 2046 6978 2069 6e74  150).-   Fix int
+0003df70: 6572 6163 7469 7665 2061 7574 6820 746f  eractive auth to
+0003df80: 2072 6574 7572 6e20 3430 3120 6672 6f6d   return 401 from
+0003df90: 2066 6f72 2069 6e63 6f72 7265 6374 2070   for incorrect p
+0003dfa0: 6173 7377 6f72 6420 2850 5220 2331 3136  assword (PR #116
+0003dfb0: 302c 2023 3131 3636 290a 2d20 2020 4669  0, #1166).-   Fi
+0003dfc0: 7820 656d 6169 6c20 7075 7368 206e 6f74  x email push not
+0003dfd0: 6966 7320 6265 696e 6720 6472 6f70 7065  ifs being droppe
+0003dfe0: 6420 2850 5220 2331 3136 3929 0a0a 4368  d (PR #1169)..Ch
+0003dff0: 616e 6765 7320 696e 2073 796e 6170 7365  anges in synapse
+0003e000: 2076 302e 3138 2e31 2028 3230 3136 2d31   v0.18.1 (2016-1
+0003e010: 302d 3035 290a 3d3d 3d3d 3d3d 3d3d 3d3d  0-05).==========
+0003e020: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003e030: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a4e  =============..N
+0003e040: 6f20 6368 616e 6765 7320 7369 6e63 6520  o changes since 
+0003e050: 7630 2e31 382e 312d 7263 310a 0a43 6861  v0.18.1-rc1..Cha
+0003e060: 6e67 6573 2069 6e20 7379 6e61 7073 6520  nges in synapse 
+0003e070: 7630 2e31 382e 312d 7263 3120 2832 3031  v0.18.1-rc1 (201
+0003e080: 362d 3039 2d33 3029 0a3d 3d3d 3d3d 3d3d  6-09-30).=======
+0003e090: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003e0a0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003e0b0: 3d3d 3d3d 0a0a 4665 6174 7572 6573 3a0a  ====..Features:.
+0003e0c0: 0a2d 2020 2041 6464 2074 6f74 616c 5c5f  .-   Add total\_
+0003e0d0: 726f 6f6d 5c5f 636f 756e 745c 5f65 7374  room\_count\_est
+0003e0e0: 696d 6174 6520 746f 2060 2f70 7562 6c69  imate to `/publi
+0003e0f0: 6352 6f6f 6d73 6020 2850 5220 2331 3133  cRooms` (PR #113
+0003e100: 3329 0a0a 4368 616e 6765 733a 0a0a 2d20  3)..Changes:..- 
+0003e110: 2020 5469 6d65 206f 7574 2074 7970 696e    Time out typin
+0003e120: 6720 6f76 6572 2066 6564 6572 6174 696f  g over federatio
+0003e130: 6e20 2850 5220 2331 3134 3029 0a2d 2020  n (PR #1140).-  
+0003e140: 2052 6573 7472 7563 7475 7265 204c 4441   Restructure LDA
+0003e150: 5020 6175 7468 656e 7469 6361 7469 6f6e  P authentication
+0003e160: 2028 5052 2023 3131 3533 290a 0a42 7567   (PR #1153)..Bug
+0003e170: 2066 6978 6573 3a0a 0a2d 2020 2046 6978   fixes:..-   Fix
+0003e180: 2033 7069 6420 696e 7669 7465 7320 7768   3pid invites wh
+0003e190: 656e 2073 6572 7665 7220 6973 2061 6c72  en server is alr
+0003e1a0: 6561 6479 2069 6e20 7468 6520 726f 6f6d  eady in the room
+0003e1b0: 2028 5052 2023 3131 3336 290a 2d20 2020   (PR #1136).-   
+0003e1c0: 4669 7820 7570 6772 6164 696e 6720 7769  Fix upgrading wi
+0003e1d0: 7468 2053 514c 6974 6520 7461 6b69 6e67  th SQLite taking
+0003e1e0: 206c 6f74 7320 6f66 2043 5055 2066 6f72   lots of CPU for
+0003e1f0: 2061 2066 6577 2064 6179 7320 6166 7465   a few days afte
+0003e200: 7220 7570 6772 6164 6520 2850 5220 2331  r upgrade (PR #1
+0003e210: 3134 3429 0a2d 2020 2046 6978 2075 7067  144).-   Fix upg
+0003e220: 7261 6469 6e67 2066 726f 6d20 7665 7279  rading from very
+0003e230: 206f 6c64 2064 6174 6162 6173 6520 7665   old database ve
+0003e240: 7273 696f 6e73 2028 5052 2023 3131 3435  rsions (PR #1145
+0003e250: 290a 2d20 2020 4669 7820 706f 7274 2073  ).-   Fix port s
+0003e260: 6372 6970 7420 746f 2077 6f72 6b20 7769  cript to work wi
+0003e270: 7468 2072 6563 656e 746c 7920 6164 6465  th recently adde
+0003e280: 6420 7461 626c 6573 2028 5052 2023 3131  d tables (PR #11
+0003e290: 3436 290a 0a43 6861 6e67 6573 2069 6e20  46)..Changes in 
+0003e2a0: 7379 6e61 7073 6520 7630 2e31 382e 3020  synapse v0.18.0 
+0003e2b0: 2832 3031 362d 3039 2d31 3929 0a3d 3d3d  (2016-09-19).===
+0003e2c0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003e2d0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003e2e0: 3d3d 3d3d 0a0a 5468 6520 7265 6c65 6173  ====..The releas
+0003e2f0: 6520 696e 636c 7564 6573 206d 616a 6f72  e includes major
+0003e300: 2063 6861 6e67 6573 2074 6f20 7468 6520   changes to the 
+0003e310: 7374 6174 6520 7374 6f72 6167 6520 6461  state storage da
+0003e320: 7461 6261 7365 2073 6368 656d 6173 2c20  tabase schemas, 
+0003e330: 7768 6963 6820 7369 676e 6966 6963 616e  which significan
+0003e340: 746c 7920 7265 6475 6365 2064 6174 6162  tly reduce datab
+0003e350: 6173 6520 7369 7a65 2e20 5379 6e61 7073  ase size. Synaps
+0003e360: 6520 7769 6c6c 2061 7474 656d 7074 2074  e will attempt t
+0003e370: 6f20 7570 6772 6164 6520 7468 6520 6375  o upgrade the cu
+0003e380: 7272 656e 7420 6461 7461 2069 6e20 7468  rrent data in th
+0003e390: 6520 6261 636b 6772 6f75 6e64 2e20 5365  e background. Se
+0003e3a0: 7276 6572 7320 7769 7468 206c 6172 6765  rvers with large
+0003e3b0: 2053 514c 6974 6520 6461 7461 6261 7365   SQLite database
+0003e3c0: 206d 6179 2065 7870 6572 6965 6e63 6520   may experience 
+0003e3d0: 6465 6772 6164 6174 696f 6e20 6f66 2070  degradation of p
+0003e3e0: 6572 666f 726d 616e 6365 2077 6869 6c65  erformance while
+0003e3f0: 2074 6869 7320 7570 6772 6164 6520 6973   this upgrade is
+0003e400: 2069 6e20 7072 6f67 7265 7373 2c20 7468   in progress, th
+0003e410: 6572 6566 6f72 6520 796f 7520 6d61 7920  erefore you may 
+0003e420: 7761 6e74 2074 6f20 636f 6e73 6964 6572  want to consider
+0003e430: 206d 6967 7261 7469 6e67 2074 6f20 7573   migrating to us
+0003e440: 696e 6720 506f 7374 6772 6573 2062 6566  ing Postgres bef
+0003e450: 6f72 6520 7570 6772 6164 696e 6720 7665  ore upgrading ve
+0003e460: 7279 206c 6172 6765 2053 514c 6974 6520  ry large SQLite 
+0003e470: 6461 7461 6261 7365 730a 0a43 6861 6e67  databases..Chang
+0003e480: 6573 3a0a 0a2d 2020 204d 616b 6520 7075  es:..-   Make pu
+0003e490: 626c 6963 2072 6f6f 6d20 7365 6172 6368  blic room search
+0003e4a0: 2063 6173 6520 696e 7365 6e73 6974 6976   case insensitiv
+0003e4b0: 6520 2850 5220 2331 3132 3729 0a0a 4275  e (PR #1127)..Bu
+0003e4c0: 6720 6669 7865 733a 0a0a 2d20 2020 4669  g fixes:..-   Fi
+0003e4d0: 7820 616e 6420 636c 6561 6e20 7570 2070  x and clean up p
+0003e4e0: 7562 6c69 6352 6f6f 6d73 2070 6167 696e  ublicRooms pagin
+0003e4f0: 6174 696f 6e20 2850 5220 2331 3132 3929  ation (PR #1129)
+0003e500: 0a0a 4368 616e 6765 7320 696e 2073 796e  ..Changes in syn
+0003e510: 6170 7365 2076 302e 3138 2e30 2d72 6331  apse v0.18.0-rc1
+0003e520: 2028 3230 3136 2d30 392d 3136 290a 3d3d   (2016-09-16).==
+0003e530: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003e540: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003e550: 3d3d 3d3d 3d3d 3d3d 3d0a 0a46 6561 7475  =========..Featu
+0003e560: 7265 733a 0a0a 2d20 2020 4164 6420 606f  res:..-   Add `o
+0003e570: 6e6c 793d 6869 6768 6c69 6768 7460 206f  nly=highlight` o
+0003e580: 6e20 602f 6e6f 7469 6669 6361 7469 6f6e  n `/notification
+0003e590: 7360 2028 5052 2023 3130 3831 290a 2d20  s` (PR #1081).- 
+0003e5a0: 2020 4164 6420 7365 7276 6572 2070 6172    Add server par
+0003e5b0: 616d 2074 6f20 2f70 7562 6c69 6352 6f6f  am to /publicRoo
+0003e5c0: 6d73 2028 5052 2023 3130 3832 290a 2d20  ms (PR #1082).- 
+0003e5d0: 2020 416c 6c6f 7720 636c 6965 6e74 7320    Allow clients 
+0003e5e0: 746f 2061 736b 2066 6f72 2074 6865 2077  to ask for the w
+0003e5f0: 686f 6c65 206f 6620 6120 7369 6e67 6c65  hole of a single
+0003e600: 2073 7461 7465 2065 7665 6e74 2028 5052   state event (PR
+0003e610: 2023 3130 3934 290a 2d20 2020 4164 6420   #1094).-   Add 
+0003e620: 6973 5c5f 6469 7265 6374 2070 6172 616d  is\_direct param
+0003e630: 2074 6f20 2f63 7265 6174 6552 6f6f 6d20   to /createRoom 
+0003e640: 2850 5220 2331 3130 3829 0a2d 2020 2041  (PR #1108).-   A
+0003e650: 6464 2070 6167 696e 6174 696f 6e20 7375  dd pagination su
+0003e660: 7070 6f72 7420 746f 2070 7562 6c69 6352  pport to publicR
+0003e670: 6f6f 6d73 2028 5052 2023 3131 3231 290a  ooms (PR #1121).
+0003e680: 2d20 2020 4164 6420 7665 7279 2062 6173  -   Add very bas
+0003e690: 6963 2066 696c 7465 7220 4150 4920 746f  ic filter API to
+0003e6a0: 202f 7075 626c 6963 526f 6f6d 7320 2850   /publicRooms (P
+0003e6b0: 5220 2331 3132 3629 0a2d 2020 2041 6464  R #1126).-   Add
+0003e6c0: 2062 6173 6963 2064 6972 6563 7420 746f   basic direct to
+0003e6d0: 2064 6576 6963 6520 6d65 7373 6167 696e   device messagin
+0003e6e0: 6720 7375 7070 6f72 7420 666f 7220 4532  g support for E2
+0003e6f0: 4520 2850 5220 2331 3037 342c 2023 3130  E (PR #1074, #10
+0003e700: 3834 2c20 2331 3130 342c 2023 3131 3131  84, #1104, #1111
+0003e710: 290a 0a43 6861 6e67 6573 3a0a 0a2d 2020  )..Changes:..-  
+0003e720: 204d 6f76 6520 746f 2073 746f 7269 6e67   Move to storing
+0003e730: 2073 7461 7465 5c5f 6772 6f75 7073 5c5f   state\_groups\_
+0003e740: 7374 6174 6520 6173 2064 656c 7461 732c  state as deltas,
+0003e750: 2067 7265 6174 6c79 2072 6564 7563 696e   greatly reducin
+0003e760: 6720 4442 2073 697a 6520 2850 5220 2331  g DB size (PR #1
+0003e770: 3036 3529 0a2d 2020 2052 6564 7563 6520  065).-   Reduce 
+0003e780: 616d 6f75 6e74 206f 6620 7374 6174 6520  amount of state 
+0003e790: 7075 6c6c 6564 206f 7574 206f 6620 7468  pulled out of th
+0003e7a0: 6520 4442 2064 7572 696e 6720 636f 6d6d  e DB during comm
+0003e7b0: 6f6e 2072 6571 7565 7374 7320 2850 5220  on requests (PR 
+0003e7c0: 2331 3036 3929 0a2d 2020 2041 6c6c 6f77  #1069).-   Allow
+0003e7d0: 2050 4446 2074 6f20 6265 2072 656e 6465   PDF to be rende
+0003e7e0: 7265 6420 6672 6f6d 206d 6564 6961 2072  red from media r
+0003e7f0: 6570 6f20 2850 5220 2331 3037 3129 0a2d  epo (PR #1071).-
+0003e800: 2020 2052 6569 6e64 6578 2073 7461 7465     Reindex state
+0003e810: 5c5f 6772 6f75 7073 5c5f 7374 6174 6520  \_groups\_state 
+0003e820: 6166 7465 7220 7072 756e 696e 6720 2850  after pruning (P
+0003e830: 5220 2331 3038 3529 0a2d 2020 2043 6c6f  R #1085).-   Clo
+0003e840: 6262 6572 2045 4455 7320 696e 2073 656e  bber EDUs in sen
+0003e850: 6420 7175 6575 6520 2850 5220 2331 3039  d queue (PR #109
+0003e860: 3529 0a2d 2020 2043 6f6e 666f 726d 2062  5).-   Conform b
+0003e870: 6574 7465 7220 746f 2074 6865 2043 4153  etter to the CAS
+0003e880: 2070 726f 746f 636f 6c20 7370 6563 6966   protocol specif
+0003e890: 6963 6174 696f 6e20 2850 5220 2331 3130  ication (PR #110
+0003e8a0: 3029 0a2d 2020 204c 696d 6974 2068 6f77  0).-   Limit how
+0003e8b0: 206f 6674 656e 2077 6520 6173 6b20 666f   often we ask fo
+0003e8c0: 7220 6b65 7973 2066 726f 6d20 6465 6164  r keys from dead
+0003e8d0: 2073 6572 7665 7273 2028 5052 2023 3131   servers (PR #11
+0003e8e0: 3134 290a 0a42 7567 2066 6978 6573 3a0a  14)..Bug fixes:.
+0003e8f0: 0a2d 2020 2046 6978 202f 6e6f 7469 6669  .-   Fix /notifi
+0003e900: 6361 7469 6f6e 7320 4150 4920 7768 656e  cations API when
+0003e910: 2075 7365 6420 7769 7468 2060 6672 6f6d   used with `from
+0003e920: 6020 7061 7261 6d20 2850 5220 2331 3038  ` param (PR #108
+0003e930: 3029 0a2d 2020 2046 6978 2062 6163 6b66  0).-   Fix backf
+0003e940: 696c 6c20 7768 656e 2063 616e 6e6f 7420  ill when cannot 
+0003e950: 6669 6e64 2061 6e20 6576 656e 742e 2028  find an event. (
+0003e960: 5052 2023 3131 3037 290a 0a43 6861 6e67  PR #1107)..Chang
+0003e970: 6573 2069 6e20 7379 6e61 7073 6520 7630  es in synapse v0
+0003e980: 2e31 372e 3320 2832 3031 362d 3039 2d30  .17.3 (2016-09-0
+0003e990: 3929 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  9).=============
+0003e9a0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003e9b0: 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 5468 6973  ==========..This
+0003e9c0: 2072 656c 6561 7365 2066 6978 6573 2061   release fixes a
+0003e9d0: 206d 616a 6f72 2062 7567 2074 6861 7420   major bug that 
+0003e9e0: 7374 6f70 7065 6420 7365 7276 6572 7320  stopped servers 
+0003e9f0: 6672 6f6d 2068 616e 646c 696e 6720 726f  from handling ro
+0003ea00: 6f6d 7320 7769 7468 206f 7665 7220 3130  oms with over 10
+0003ea10: 3030 206d 656d 6265 7273 2e0a 0a43 6861  00 members...Cha
+0003ea20: 6e67 6573 2069 6e20 7379 6e61 7073 6520  nges in synapse 
+0003ea30: 7630 2e31 372e 3220 2832 3031 362d 3039  v0.17.2 (2016-09
+0003ea40: 2d30 3829 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d  -08).===========
+0003ea50: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003ea60: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 5468  ============..Th
+0003ea70: 6973 2072 656c 6561 7365 2063 6f6e 7461  is release conta
+0003ea80: 696e 7320 7365 6375 7269 7479 2062 7567  ins security bug
+0003ea90: 2066 6978 6573 2e20 506c 6561 7365 2075   fixes. Please u
+0003eaa0: 7067 7261 6465 2e0a 0a4e 6f20 6368 616e  pgrade...No chan
+0003eab0: 6765 7320 7369 6e63 6520 7630 2e31 372e  ges since v0.17.
+0003eac0: 322d 7263 310a 0a43 6861 6e67 6573 2069  2-rc1..Changes i
+0003ead0: 6e20 7379 6e61 7073 6520 7630 2e31 372e  n synapse v0.17.
+0003eae0: 322d 7263 3120 2832 3031 362d 3039 2d30  2-rc1 (2016-09-0
+0003eaf0: 3529 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  5).=============
+0003eb00: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003eb10: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a  ==============..
+0003eb20: 4665 6174 7572 6573 3a0a 0a2d 2020 2053  Features:..-   S
+0003eb30: 7461 7274 2061 6464 696e 6720 7374 6f72  tart adding stor
+0003eb40: 652d 616e 642d 666f 7277 6172 6420 6469  e-and-forward di
+0003eb50: 7265 6374 2d74 6f2d 6465 7669 6365 206d  rect-to-device m
+0003eb60: 6573 7361 6769 6e67 2028 5052 2023 3130  essaging (PR #10
+0003eb70: 3436 2c20 2331 3035 302c 2023 3130 3632  46, #1050, #1062
+0003eb80: 2c20 2331 3036 3629 0a0a 4368 616e 6765  , #1066)..Change
+0003eb90: 733a 0a0a 2d20 2020 4176 6f69 6420 7075  s:..-   Avoid pu
+0003eba0: 6c6c 696e 6720 7468 6520 6675 6c6c 2073  lling the full s
+0003ebb0: 7461 7465 206f 6620 6120 726f 6f6d 206f  tate of a room o
+0003ebc0: 7574 2073 6f20 6f66 7465 6e20 2850 5220  ut so often (PR 
+0003ebd0: 2331 3034 372c 2023 3130 3439 2c20 2331  #1047, #1049, #1
+0003ebe0: 3036 332c 2023 3130 3638 290a 2d20 2020  063, #1068).-   
+0003ebf0: 446f 6e5c 2774 206e 6f74 6966 7920 666f  Don\'t notify fo
+0003ec00: 7220 6f6e 6c69 6e65 2074 6f20 6f6e 6c69  r online to onli
+0003ec10: 6e65 2070 7265 7365 6e63 6520 7472 616e  ne presence tran
+0003ec20: 7369 7469 6f6e 732e 2028 5052 2023 3130  sitions. (PR #10
+0003ec30: 3534 290a 2d20 2020 4f63 6361 7369 6f6e  54).-   Occasion
+0003ec40: 616c 6c79 2070 6572 7369 7374 2075 6e70  ally persist unp
+0003ec50: 6572 7369 7374 6564 2070 7265 7365 6e63  ersisted presenc
+0003ec60: 6520 7570 6461 7465 7320 2850 5220 2331  e updates (PR #1
+0003ec70: 3035 3529 0a2d 2020 2041 6c6c 6f77 2061  055).-   Allow a
+0003ec80: 7070 6c69 6361 7469 6f6e 2073 6572 7669  pplication servi
+0003ec90: 6365 7320 746f 2068 6176 6520 616e 206f  ces to have an o
+0003eca0: 7074 696f 6e61 6c20 5c27 7572 6c5c 2720  ptional \'url\' 
+0003ecb0: 2850 5220 2331 3035 3629 0a2d 2020 2043  (PR #1056).-   C
+0003ecc0: 6c65 616e 2075 7020 6f6c 6420 7365 6e74  lean up old sent
+0003ecd0: 2074 7261 6e73 6163 7469 6f6e 7320 6672   transactions fr
+0003ece0: 6f6d 2044 4220 2850 5220 2331 3035 3929  om DB (PR #1059)
+0003ecf0: 0a0a 4275 6720 6669 7865 733a 0a0a 2d20  ..Bug fixes:..- 
+0003ed00: 2020 4669 7820 4e6f 6e65 2063 6865 636b    Fix None check
+0003ed10: 2069 6e20 6261 636b 6669 6c6c 2028 5052   in backfill (PR
+0003ed20: 2023 3130 3433 290a 2d20 2020 4669 7820   #1043).-   Fix 
+0003ed30: 6d65 6d62 6572 7368 6970 2063 6861 6e67  membership chang
+0003ed40: 6573 2074 6f20 6265 2069 6465 6d70 6f74  es to be idempot
+0003ed50: 656e 7420 2850 5220 2331 3036 3729 0a2d  ent (PR #1067).-
+0003ed60: 2020 2046 6978 2062 7567 2069 6e20 6765     Fix bug in ge
+0003ed70: 745c 5f70 6475 2077 6865 7265 2069 7420  t\_pdu where it 
+0003ed80: 776f 756c 6420 736f 6d65 7469 6d65 7320  would sometimes 
+0003ed90: 7265 7475 726e 2065 7665 6e74 7320 7769  return events wi
+0003eda0: 7468 2069 6e63 6f72 7265 6374 2073 6967  th incorrect sig
+0003edb0: 6e61 7475 7265 0a0a 4368 616e 6765 7320  nature..Changes 
+0003edc0: 696e 2073 796e 6170 7365 2076 302e 3137  in synapse v0.17
+0003edd0: 2e31 2028 3230 3136 2d30 382d 3234 290a  .1 (2016-08-24).
+0003ede0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003edf0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003ee00: 3d3d 3d3d 3d3d 3d0a 0a43 6861 6e67 6573  =======..Changes
+0003ee10: 3a0a 0a2d 2020 2044 656c 6574 6520 6f6c  :..-   Delete ol
+0003ee20: 6420 7265 6365 6976 6564 5c5f 7472 616e  d received\_tran
+0003ee30: 7361 6374 696f 6e73 2072 6f77 7320 2850  sactions rows (P
+0003ee40: 5220 2331 3033 3829 0a2d 2020 2050 6173  R #1038).-   Pas
+0003ee50: 7320 7468 726f 7567 6820 7573 6572 2d73  s through user-s
+0003ee60: 7570 706c 6965 6420 636f 6e74 656e 7420  upplied content 
+0003ee70: 696e 202f 6a6f 696e 2f5c 2472 6f6f 6d5c  in /join/\$room\
+0003ee80: 5f69 6420 2850 5220 2331 3033 3929 0a0a  _id (PR #1039)..
+0003ee90: 4275 6720 6669 7865 733a 0a0a 2d20 2020  Bug fixes:..-   
+0003eea0: 4669 7820 6275 6720 7769 7468 2062 6163  Fix bug with bac
+0003eeb0: 6b66 696c 6c20 2850 5220 2331 3034 3029  kfill (PR #1040)
+0003eec0: 0a0a 4368 616e 6765 7320 696e 2073 796e  ..Changes in syn
+0003eed0: 6170 7365 2076 302e 3137 2e31 2d72 6331  apse v0.17.1-rc1
+0003eee0: 2028 3230 3136 2d30 382d 3232 290a 3d3d   (2016-08-22).==
+0003eef0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003ef00: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003ef10: 3d3d 3d3d 3d3d 3d3d 3d0a 0a46 6561 7475  =========..Featu
+0003ef20: 7265 733a 0a0a 2d20 2020 4164 6420 6e6f  res:..-   Add no
+0003ef30: 7469 6669 6361 7469 6f6e 2041 5049 2028  tification API (
+0003ef40: 5052 2023 3130 3238 290a 0a43 6861 6e67  PR #1028)..Chang
+0003ef50: 6573 3a0a 0a2d 2020 2044 6f6e 5c27 7420  es:..-   Don\'t 
+0003ef60: 7072 696e 7420 7374 6163 6b20 7472 6163  print stack trac
+0003ef70: 6573 2077 6865 6e20 6661 696c 696e 6720  es when failing 
+0003ef80: 746f 2067 6574 2072 656d 6f74 6520 6b65  to get remote ke
+0003ef90: 7973 2028 5052 2023 3939 3629 0a2d 2020  ys (PR #996).-  
+0003efa0: 2056 6172 696f 7573 2066 6564 6572 6174   Various federat
+0003efb0: 696f 6e20 2f65 7665 6e74 2f20 7065 7266  ion /event/ perf
+0003efc0: 2069 6d70 726f 7665 6d65 6e74 7320 2850   improvements (P
+0003efd0: 5220 2339 3938 290a 2d20 2020 4f6e 6c79  R #998).-   Only
+0003efe0: 2070 726f 6365 7373 206f 6e65 206c 6f63   process one loc
+0003eff0: 616c 206d 656d 6265 7273 6869 7020 6576  al membership ev
+0003f000: 656e 7420 7065 7220 726f 6f6d 2061 7420  ent per room at 
+0003f010: 6120 7469 6d65 2028 5052 2023 3130 3035  a time (PR #1005
+0003f020: 290a 2d20 2020 4d6f 7665 2064 6566 6175  ).-   Move defau
+0003f030: 6c74 2064 6973 706c 6179 206e 616d 6520  lt display name 
+0003f040: 7075 7368 2072 756c 6520 2850 5220 2331  push rule (PR #1
+0003f050: 3031 312c 2023 3130 3233 290a 2d20 2020  011, #1023).-   
+0003f060: 4669 7820 7570 2070 7265 7669 6577 2055  Fix up preview U
+0003f070: 524c 2041 5049 2e20 4164 6420 7465 7374  RL API. Add test
+0003f080: 732e 2028 5052 2023 3130 3135 290a 2d20  s. (PR #1015).- 
+0003f090: 2020 5365 7420 6043 6f6e 7465 6e74 2d53    Set `Content-S
+0003f0a0: 6563 7572 6974 792d 506f 6c69 6379 6020  ecurity-Policy` 
+0003f0b0: 6f6e 206d 6564 6961 2072 6570 6f20 2850  on media repo (P
+0003f0c0: 5220 2331 3032 3129 0a2d 2020 204d 616b  R #1021).-   Mak
+0003f0d0: 6520 6e6f 7469 6679 5c5f 696e 7465 7265  e notify\_intere
+0003f0e0: 7374 6564 5c5f 7365 7276 6963 6573 2066  sted\_services f
+0003f0f0: 6173 7465 7220 2850 5220 2331 3032 3229  aster (PR #1022)
+0003f100: 0a2d 2020 2041 6464 2075 7361 6765 2073  .-   Add usage s
+0003f110: 7461 7473 2074 6f20 7072 6f6d 6574 6865  tats to promethe
+0003f120: 7573 206d 6f6e 6974 6f72 696e 6720 2850  us monitoring (P
+0003f130: 5220 2331 3033 3729 0a0a 4275 6720 6669  R #1037)..Bug fi
+0003f140: 7865 733a 0a0a 2d20 2020 4669 7820 746f  xes:..-   Fix to
+0003f150: 6b65 6e20 6c6f 6769 6e20 2850 5220 2339  ken login (PR #9
+0003f160: 3933 290a 2d20 2020 4669 7820 4341 5320  93).-   Fix CAS 
+0003f170: 6c6f 6769 6e20 2850 5220 2339 3934 2c20  login (PR #994, 
+0003f180: 2339 3935 290a 2d20 2020 4669 7820 2f73  #995).-   Fix /s
+0003f190: 796e 6320 746f 206e 6f74 2063 6c6f 6262  ync to not clobb
+0003f1a0: 6572 2073 7461 7475 735c 5f6d 7367 2028  er status\_msg (
+0003f1b0: 5052 2023 3939 3729 0a2d 2020 2046 6978  PR #997).-   Fix
+0003f1c0: 2072 6564 6163 7465 6420 7374 6174 6520   redacted state 
+0003f1d0: 6576 656e 7473 2074 6f20 696e 636c 7564  events to includ
+0003f1e0: 6520 7072 6576 5c5f 636f 6e74 656e 7420  e prev\_content 
+0003f1f0: 2850 5220 2331 3030 3329 0a2d 2020 2046  (PR #1003).-   F
+0003f200: 6978 2073 6f6d 6520 6275 6773 2069 6e20  ix some bugs in 
+0003f210: 7468 6520 6175 7468 2f6c 6461 7020 6861  the auth/ldap ha
+0003f220: 6e64 6c65 7220 2850 5220 2331 3030 3729  ndler (PR #1007)
+0003f230: 0a2d 2020 2046 6978 2062 6163 6b66 696c  .-   Fix backfil
+0003f240: 6c20 7265 7175 6573 7420 746f 206c 696d  l request to lim
+0003f250: 6974 2055 5249 206c 656e 6774 682c 2073  it URI length, s
+0003f260: 6f20 7468 6174 2072 656d 6f74 6573 2064  o that remotes d
+0003f270: 6f6e 5c27 7420 7265 6a65 6374 2074 6865  on\'t reject the
+0003f280: 2072 6571 7565 7374 7320 6475 6520 746f   requests due to
+0003f290: 2070 6174 6820 6c65 6e67 7468 206c 696d   path length lim
+0003f2a0: 6974 7320 2850 5220 2331 3031 3229 0a2d  its (PR #1012).-
+0003f2b0: 2020 2046 6978 2041 5320 7075 7368 2063     Fix AS push c
+0003f2c0: 6f64 6520 746f 206e 6f74 2073 656e 6420  ode to not send 
+0003f2d0: 6475 706c 6963 6174 6520 6576 656e 7473  duplicate events
+0003f2e0: 2028 5052 2023 3130 3235 290a 0a43 6861   (PR #1025)..Cha
+0003f2f0: 6e67 6573 2069 6e20 7379 6e61 7073 6520  nges in synapse 
+0003f300: 7630 2e31 372e 3020 2832 3031 362d 3038  v0.17.0 (2016-08
+0003f310: 2d30 3829 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d  -08).===========
+0003f320: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003f330: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 5468  ============..Th
+0003f340: 6973 2072 656c 6561 7365 2063 6f6e 7461  is release conta
+0003f350: 696e 7320 7369 676e 6966 6963 616e 7420  ins significant 
+0003f360: 7365 6375 7269 7479 2062 7567 2066 6978  security bug fix
+0003f370: 6573 2072 6567 6172 6469 6e67 2061 7574  es regarding aut
+0003f380: 6865 6e74 6963 6174 696e 6720 6576 656e  henticating even
+0003f390: 7473 2072 6563 6569 7665 6420 6f76 6572  ts received over
+0003f3a0: 2066 6564 6572 6174 696f 6e2e 2050 4c45   federation. PLE
+0003f3b0: 4153 4520 5550 4752 4144 452e 0a0a 5468  ASE UPGRADE...Th
+0003f3c0: 6973 2072 656c 6561 7365 2063 6861 6e67  is release chang
+0003f3d0: 6573 2074 6865 204c 4441 5020 636f 6e66  es the LDAP conf
+0003f3e0: 6967 7572 6174 696f 6e20 666f 726d 6174  iguration format
+0003f3f0: 2069 6e20 6120 6261 636b 7761 7264 7320   in a backwards 
+0003f400: 696e 636f 6d70 6174 6962 6c65 2077 6179  incompatible way
+0003f410: 2c20 7365 6520 5052 2023 3834 3320 666f  , see PR #843 fo
+0003f420: 7220 6465 7461 696c 732e 0a0a 4368 616e  r details...Chan
+0003f430: 6765 733a 0a0a 2d20 2020 4164 6420 6665  ges:..-   Add fe
+0003f440: 6465 7261 7469 6f6e 202f 7665 7273 696f  deration /versio
+0003f450: 6e20 4150 4920 2850 5220 2339 3930 290a  n API (PR #990).
+0003f460: 2d20 2020 4d61 6b65 2070 7375 7469 6c20  -   Make psutil 
+0003f470: 6465 7065 6e64 656e 6379 206f 7074 696f  dependency optio
+0003f480: 6e61 6c20 2850 5220 2339 3932 290a 0a42  nal (PR #992)..B
+0003f490: 7567 2066 6978 6573 3a0a 0a2d 2020 2046  ug fixes:..-   F
+0003f4a0: 6978 2055 524c 2070 7265 7669 6577 2041  ix URL preview A
+0003f4b0: 5049 2074 6f20 6578 636c 7564 6520 4854  PI to exclude HT
+0003f4c0: 4d4c 2063 6f6d 6d65 6e74 7320 696e 2064  ML comments in d
+0003f4d0: 6573 6372 6970 7469 6f6e 2028 5052 2023  escription (PR #
+0003f4e0: 3938 3829 0a2d 2020 2046 6978 2065 7272  988).-   Fix err
+0003f4f0: 6f72 2068 616e 646c 696e 6720 6f66 2072  or handling of r
+0003f500: 656d 6f74 6520 6a6f 696e 7320 2850 5220  emote joins (PR 
+0003f510: 2339 3931 290a 0a43 6861 6e67 6573 2069  #991)..Changes i
+0003f520: 6e20 7379 6e61 7073 6520 7630 2e31 372e  n synapse v0.17.
+0003f530: 302d 7263 3420 2832 3031 362d 3038 2d30  0-rc4 (2016-08-0
+0003f540: 3529 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  5).=============
+0003f550: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003f560: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a  ==============..
+0003f570: 4368 616e 6765 733a 0a0a 2d20 2020 4368  Changes:..-   Ch
+0003f580: 616e 6765 2074 6865 2077 6179 2077 6520  ange the way we 
+0003f590: 7375 6d6d 6172 697a 6520 5552 4c73 2077  summarize URLs w
+0003f5a0: 6865 6e20 7072 6576 6965 7769 6e67 2028  hen previewing (
+0003f5b0: 5052 2023 3937 3329 0a2d 2020 2041 6464  PR #973).-   Add
+0003f5c0: 206e 6577 2060 2f73 7461 7465 5f69 6473   new `/state_ids
+0003f5d0: 2f60 2066 6564 6572 6174 696f 6e20 4150  /` federation AP
+0003f5e0: 4920 2850 5220 2339 3739 290a 2d20 2020  I (PR #979).-   
+0003f5f0: 5370 6565 6420 7570 2070 726f 6365 7373  Speed up process
+0003f600: 696e 6720 6f66 2060 2f73 7461 7465 2f60  ing of `/state/`
+0003f610: 2072 6573 706f 6e73 6520 2850 5220 2339   response (PR #9
+0003f620: 3836 290a 0a42 7567 2066 6978 6573 3a0a  86)..Bug fixes:.
+0003f630: 0a2d 2020 2046 6978 2065 7665 6e74 2070  .-   Fix event p
+0003f640: 6572 7369 7374 656e 6365 2077 6865 6e20  ersistence when 
+0003f650: 6576 656e 7420 6861 7320 616c 7265 6164  event has alread
+0003f660: 7920 6265 656e 2070 6172 7469 616c 6c79  y been partially
+0003f670: 2070 6572 7369 7374 6564 2028 5052 2023   persisted (PR #
+0003f680: 3937 352c 2023 3938 332c 2023 3938 3529  975, #983, #985)
+0003f690: 0a2d 2020 2046 6978 2070 6f72 7420 7363  .-   Fix port sc
+0003f6a0: 7269 7074 2074 6f20 616c 736f 2063 6f70  ript to also cop
+0003f6b0: 7920 6163 726f 7373 2062 6163 6b66 696c  y across backfil
+0003f6c0: 6c65 6420 6576 656e 7473 2028 5052 2023  led events (PR #
+0003f6d0: 3938 3229 0a0a 4368 616e 6765 7320 696e  982)..Changes in
+0003f6e0: 2073 796e 6170 7365 2076 302e 3137 2e30   synapse v0.17.0
+0003f6f0: 2d72 6333 2028 3230 3136 2d30 382d 3032  -rc3 (2016-08-02
+0003f700: 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ).==============
+0003f710: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003f720: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a43  =============..C
+0003f730: 6861 6e67 6573 3a0a 0a2d 2020 2046 6f72  hanges:..-   For
+0003f740: 6269 6420 6e6f 6e2d 4153 6573 2066 726f  bid non-ASes fro
+0003f750: 6d20 7265 6769 7374 6572 696e 6720 7573  m registering us
+0003f760: 6572 7320 7768 6f73 6520 6e61 6d65 7320  ers whose names 
+0003f770: 6265 6769 6e20 7769 7468 205c 275c 5f5c  begin with \'\_\
+0003f780: 2720 2850 5220 2339 3538 290a 2d20 2020  ' (PR #958).-   
+0003f790: 4164 6420 736f 6d65 2062 6173 6963 2061  Add some basic a
+0003f7a0: 646d 696e 2041 5049 2064 6f63 7320 2850  dmin API docs (P
+0003f7b0: 5220 2339 3633 290a 0a42 7567 2066 6978  R #963)..Bug fix
+0003f7c0: 6573 3a0a 0a2d 2020 2053 656e 6420 7468  es:..-   Send th
+0003f7d0: 6520 636f 7272 6563 7420 686f 7374 2068  e correct host h
+0003f7e0: 6561 6465 7220 7768 656e 2066 6574 6368  eader when fetch
+0003f7f0: 696e 6720 6b65 7973 2028 5052 2023 3934  ing keys (PR #94
+0003f800: 3129 0a2d 2020 2046 6978 206a 6f69 6e69  1).-   Fix joini
+0003f810: 6e67 2061 2072 6f6f 6d20 7468 6174 2068  ng a room that h
+0003f820: 6173 206d 6973 7369 6e67 2061 7574 6820  as missing auth 
+0003f830: 6576 656e 7473 2028 5052 2023 3936 3429  events (PR #964)
+0003f840: 0a2d 2020 2046 6978 2076 6172 696f 7573  .-   Fix various
+0003f850: 2070 7573 6820 6275 6773 2028 5052 2023   push bugs (PR #
+0003f860: 3936 362c 2023 3937 3029 0a2d 2020 2046  966, #970).-   F
+0003f870: 6978 2061 6464 696e 6720 656d 6169 6c73  ix adding emails
+0003f880: 206f 6e20 7265 6769 7374 7261 7469 6f6e   on registration
+0003f890: 2028 5052 2023 3936 3829 0a0a 4368 616e   (PR #968)..Chan
+0003f8a0: 6765 7320 696e 2073 796e 6170 7365 2076  ges in synapse v
+0003f8b0: 302e 3137 2e30 2d72 6332 2028 3230 3136  0.17.0-rc2 (2016
+0003f8c0: 2d30 382d 3032 290a 3d3d 3d3d 3d3d 3d3d  -08-02).========
+0003f8d0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003f8e0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003f8f0: 3d3d 3d0a 0a28 5468 6973 2072 656c 6561  ===..(This relea
+0003f900: 7365 2064 6964 206e 6f74 2069 6e63 6c75  se did not inclu
+0003f910: 6465 2074 6865 2063 6861 6e67 6573 2061  de the changes a
+0003f920: 6476 6572 7469 7365 6420 616e 6420 7761  dvertised and wa
+0003f930: 7320 6964 656e 7469 6361 6c20 746f 2052  s identical to R
+0003f940: 4331 290a 0a43 6861 6e67 6573 2069 6e20  C1)..Changes in 
+0003f950: 7379 6e61 7073 6520 7630 2e31 372e 302d  synapse v0.17.0-
+0003f960: 7263 3120 2832 3031 362d 3037 2d32 3829  rc1 (2016-07-28)
+0003f970: 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  .===============
+0003f980: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0003f990: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 5468  ============..Th
+0003f9a0: 6973 2072 656c 6561 7365 2063 6861 6e67  is release chang
+0003f9b0: 6573 2074 6865 204c 4441 5020 636f 6e66  es the LDAP conf
+0003f9c0: 6967 7572 6174 696f 6e20 666f 726d 6174  iguration format
+0003f9d0: 2069 6e20 6120 6261 636b 7761 7264 7320   in a backwards 
+0003f9e0: 696e 636f 6d70 6174 6962 6c65 2077 6179  incompatible way
+0003f9f0: 2c20 7365 6520 5052 2023 3834 3320 666f  , see PR #843 fo
+0003fa00: 7220 6465 7461 696c 732e 0a0a 4665 6174  r details...Feat
+0003fa10: 7572 6573 3a0a 0a2d 2020 2041 6464 2070  ures:..-   Add p
+0003fa20: 7572 6765 5c5f 6d65 6469 615c 5f63 6163  urge\_media\_cac
+0003fa30: 6865 2061 646d 696e 2041 5049 2028 5052  he admin API (PR
+0003fa40: 2023 3930 3229 0a2d 2020 2041 6464 2064   #902).-   Add d
+0003fa50: 6561 6374 6976 6174 6520 6163 636f 756e  eactivate accoun
+0003fa60: 7420 6164 6d69 6e20 4150 4920 2850 5220  t admin API (PR 
+0003fa70: 2339 3033 290a 2d20 2020 4164 6420 6f70  #903).-   Add op
+0003fa80: 7469 6f6e 616c 2070 6570 7065 7220 746f  tional pepper to
+0003fa90: 2070 6173 7377 6f72 6420 6861 7368 696e   password hashin
+0003faa0: 6720 2850 5220 2339 3037 2c20 2339 3130  g (PR #907, #910
+0003fab0: 2062 7920 4b65 6e74 5368 696b 616d 6129   by KentShikama)
+0003fac0: 0a2d 2020 2041 6464 2061 6e20 6164 6d69  .-   Add an admi
+0003fad0: 6e20 6f70 7469 6f6e 2074 6f20 7368 6172  n option to shar
+0003fae0: 6564 2073 6563 7265 7420 7265 6769 7374  ed secret regist
+0003faf0: 7261 7469 6f6e 2028 6272 6561 6b73 2062  ration (breaks b
+0003fb00: 6163 6b77 6172 6473 2063 6f6d 7061 7429  ackwards compat)
+0003fb10: 2028 5052 2023 3930 3929 0a2d 2020 2041   (PR #909).-   A
+0003fb20: 6464 2070 7572 6765 206c 6f63 616c 2072  dd purge local r
+0003fb30: 6f6f 6d20 6869 7374 6f72 7920 4150 4920  oom history API 
+0003fb40: 2850 5220 2339 3131 2c20 2339 3233 2c20  (PR #911, #923, 
+0003fb50: 2339 3234 290a 2d20 2020 4164 6420 7265  #924).-   Add re
+0003fb60: 7175 6573 7454 6f6b 656e 2065 6e64 706f  questToken endpo
+0003fb70: 696e 7473 2028 5052 2023 3931 3529 0a2d  ints (PR #915).-
+0003fb80: 2020 2041 6464 2061 6e20 2f61 6363 6f75     Add an /accou
+0003fb90: 6e74 2f64 6561 6374 6976 6174 6520 656e  nt/deactivate en
+0003fba0: 6470 6f69 6e74 2028 5052 2023 3932 3129  dpoint (PR #921)
+0003fbb0: 0a2d 2020 2041 6464 2066 696c 7465 7220  .-   Add filter 
+0003fbc0: 7061 7261 6d20 746f 202f 6d65 7373 6167  param to /messag
+0003fbd0: 6573 2e20 4164 6420 5c27 636f 6e74 6169  es. Add \'contai
+0003fbe0: 6e73 5c5f 7572 6c5c 2720 746f 2066 696c  ns\_url\' to fil
+0003fbf0: 7465 722e 2028 5052 2023 3932 3229 0a2d  ter. (PR #922).-
+0003fc00: 2020 2041 6464 2064 6576 6963 655c 5f69     Add device\_i
+0003fc10: 6420 7375 7070 6f72 7420 746f 202f 6c6f  d support to /lo
+0003fc20: 6769 6e20 2850 5220 2339 3239 290a 2d20  gin (PR #929).- 
+0003fc30: 2020 4164 6420 6465 7669 6365 5c5f 6964    Add device\_id
+0003fc40: 2073 7570 706f 7274 2074 6f20 2f76 322f   support to /v2/
+0003fc50: 7265 6769 7374 6572 2066 6c6f 772e 2028  register flow. (
+0003fc60: 5052 2023 3933 372c 2023 3934 3229 0a2d  PR #937, #942).-
+0003fc70: 2020 2041 6464 2047 4554 202f 6465 7669     Add GET /devi
+0003fc80: 6365 7320 656e 6470 6f69 6e74 2028 5052  ces endpoint (PR
+0003fc90: 2023 3933 392c 2023 3934 3429 0a2d 2020   #939, #944).-  
+0003fca0: 2041 6464 2047 4554 202f 6465 7669 6365   Add GET /device
+0003fcb0: 2f7b 6465 7669 6365 4964 7d20 2850 5220  /{deviceId} (PR 
+0003fcc0: 2339 3433 290a 2d20 2020 4164 6420 7570  #943).-   Add up
+0003fcd0: 6461 7465 2061 6e64 2064 656c 6574 6520  date and delete 
+0003fce0: 4150 4973 2066 6f72 2064 6576 6963 6573  APIs for devices
+0003fcf0: 2028 5052 2023 3934 3929 0a0a 4368 616e   (PR #949)..Chan
+0003fd00: 6765 733a 0a0a 2d20 2020 5265 7772 6974  ges:..-   Rewrit
+0003fd10: 6520 4c44 4150 2041 7574 6865 6e74 6963  e LDAP Authentic
+0003fd20: 6174 696f 6e20 6167 6169 6e73 7420 6c64  ation against ld
+0003fd30: 6170 3320 2850 5220 2338 3433 2062 7920  ap3 (PR #843 by 
+0003fd40: 6d77 6569 6e65 6c74 290a 2d20 2020 4c69  mweinelt).-   Li
+0003fd50: 6e65 6172 697a 6520 736f 6d65 2066 6564  nearize some fed
+0003fd60: 6572 6174 696f 6e20 656e 6470 6f69 6e74  eration endpoint
+0003fd70: 7320 6261 7365 6420 6f6e 2028 6f72 6967  s based on (orig
+0003fd80: 696e 2c20 726f 6f6d 5c5f 6964 2920 2850  in, room\_id) (P
+0003fd90: 5220 2338 3739 290a 2d20 2020 5265 6d6f  R #879).-   Remo
+0003fda0: 7665 2074 6865 206c 6567 6163 7920 7630  ve the legacy v0
+0003fdb0: 2063 6f6e 7465 6e74 2075 706c 6f61 6420   content upload 
+0003fdc0: 4150 492e 2028 5052 2023 3838 3829 0a2d  API. (PR #888).-
+0003fdd0: 2020 2055 7365 2073 696d 696c 6172 206e     Use similar n
+0003fde0: 616d 696e 6720 7765 2075 7365 2069 6e20  aming we use in 
+0003fdf0: 656d 6169 6c20 6e6f 7469 6673 2066 6f72  email notifs for
+0003fe00: 2070 7573 6820 2850 5220 2338 3934 290a   push (PR #894).
+0003fe10: 2d20 2020 4f70 7469 6f6e 616c 6c79 2069  -   Optionally i
+0003fe20: 6e63 6c75 6465 2070 6173 7377 6f72 6420  nclude password 
+0003fe30: 6861 7368 2069 6e20 6372 6561 7465 5573  hash in createUs
+0003fe40: 6572 2065 6e64 706f 696e 7420 2850 5220  er endpoint (PR 
+0003fe50: 2339 3035 2062 7920 4b65 6e74 5368 696b  #905 by KentShik
+0003fe60: 616d 6129 0a2d 2020 2055 7365 2061 2071  ama).-   Use a q
+0003fe70: 7565 7279 2074 6861 7420 706f 7374 6772  uery that postgr
+0003fe80: 6573 716c 206f 7074 696d 6973 6573 2062  esql optimises b
+0003fe90: 6574 7465 7220 666f 7220 6765 745c 5f65  etter for get\_e
+0003fea0: 7665 6e74 735c 5f61 726f 756e 6420 2850  vents\_around (P
+0003feb0: 5220 2339 3036 290a 2d20 2020 4661 6c6c  R #906).-   Fall
+0003fec0: 2062 6163 6b20 746f 205c 2775 7365 726e   back to \'usern
+0003fed0: 616d 655c 2720 6966 205c 2775 7365 725c  ame\' if \'user\
+0003fee0: 2720 6973 206e 6f74 2067 6976 656e 2066  ' is not given f
+0003fef0: 6f72 2061 7070 7365 7276 6963 6520 7265  or appservice re
+0003ff00: 6769 7374 7261 7469 6f6e 2e20 2850 5220  gistration. (PR 
+0003ff10: 2339 3237 2062 7920 4861 6c66 2d53 686f  #927 by Half-Sho
+0003ff20: 7429 0a2d 2020 2041 6464 206d 6574 7269  t).-   Add metri
+0003ff30: 6373 2066 6f72 2070 7375 7469 6c20 6465  cs for psutil de
+0003ff40: 7269 7665 6420 6d65 6d6f 7279 2075 7361  rived memory usa
+0003ff50: 6765 2028 5052 2023 3933 3629 0a2d 2020  ge (PR #936).-  
+0003ff60: 2052 6563 6f72 6420 6465 7669 6365 5c5f   Record device\_
+0003ff70: 6964 2069 6e20 636c 6965 6e74 5c5f 6970  id in client\_ip
+0003ff80: 7320 2850 5220 2339 3338 290a 2d20 2020  s (PR #938).-   
+0003ff90: 5365 6e64 2074 6865 2063 6f72 7265 6374  Send the correct
+0003ffa0: 2068 6f73 7420 6865 6164 6572 2077 6865   host header whe
+0003ffb0: 6e20 6665 7463 6869 6e67 206b 6579 7320  n fetching keys 
+0003ffc0: 2850 5220 2339 3431 290a 2d20 2020 4c6f  (PR #941).-   Lo
+0003ffd0: 6720 7468 6520 686f 7374 6e61 6d65 2074  g the hostname t
+0003ffe0: 6865 2072 6543 4150 5443 4841 2077 6173  he reCAPTCHA was
+0003fff0: 2063 6f6d 706c 6574 6564 206f 6e20 2850   completed on (P
+00040000: 5220 2339 3436 290a 2d20 2020 4d61 6b65  R #946).-   Make
+00040010: 2074 6865 2064 6576 6963 6520 6964 206f   the device id o
+00040020: 6e20 6532 6520 6b65 7920 7570 6c6f 6164  n e2e key upload
+00040030: 206f 7074 696f 6e61 6c20 2850 5220 2339   optional (PR #9
+00040040: 3536 290a 2d20 2020 4164 6420 7230 2e32  56).-   Add r0.2
+00040050: 2e30 2074 6f20 7468 6520 5c22 7375 7070  .0 to the \"supp
+00040060: 6f72 7465 6420 7665 7273 696f 6e73 5c22  orted versions\"
+00040070: 206c 6973 7420 2850 5220 2339 3630 290a   list (PR #960).
+00040080: 2d20 2020 446f 6e5c 2774 2069 6e63 6c75  -   Don\'t inclu
+00040090: 6465 206e 616d 6520 6f66 2072 6f6f 6d20  de name of room 
+000400a0: 666f 7220 696e 7669 7465 7320 696e 2070  for invites in p
+000400b0: 7573 6820 2850 5220 2339 3631 290a 0a42  ush (PR #961)..B
+000400c0: 7567 2066 6978 6573 3a0a 0a2d 2020 2046  ug fixes:..-   F
+000400d0: 6978 2073 7562 7374 6974 7574 696f 6e20  ix substitution 
+000400e0: 6661 696c 7572 6520 696e 206d 6169 6c20  failure in mail 
+000400f0: 7465 6d70 6c61 7465 2028 5052 2023 3838  template (PR #88
+00040100: 3729 0a2d 2020 2050 7574 206d 6f73 7420  7).-   Put most 
+00040110: 7265 6365 6e74 2032 3020 6d65 7373 6167  recent 20 messag
+00040120: 6573 2069 6e20 656d 6169 6c20 6e6f 7469  es in email noti
+00040130: 6620 2850 5220 2338 3932 290a 2d20 2020  f (PR #892).-   
+00040140: 456e 7375 7265 2074 6861 7420 7468 6520  Ensure that the 
+00040150: 6775 6573 7420 7573 6572 2069 7320 696e  guest user is in
+00040160: 2074 6865 2064 6174 6162 6173 6520 7768   the database wh
+00040170: 656e 2075 7067 7261 6469 6e67 2061 6363  en upgrading acc
+00040180: 6f75 6e74 7320 2850 5220 2339 3134 290a  ounts (PR #914).
+00040190: 2d20 2020 4669 7820 7661 7269 6f75 7320  -   Fix various 
+000401a0: 6564 6765 2063 6173 6573 2069 6e20 6175  edge cases in au
+000401b0: 7468 2068 616e 646c 696e 6720 2850 5220  th handling (PR 
+000401c0: 2339 3139 290a 2d20 2020 4669 7820 3530  #919).-   Fix 50
+000401d0: 3020 4953 4520 7768 656e 2073 656e 6469  0 ISE when sendi
+000401e0: 6e67 2061 6c69 6173 2065 7665 6e74 2077  ng alias event w
+000401f0: 6974 686f 7574 2061 2073 7461 7465 5c5f  ithout a state\_
+00040200: 6b65 7920 2850 5220 2339 3235 290a 2d20  key (PR #925).- 
+00040210: 2020 4669 7820 6275 6720 7768 6572 6520    Fix bug where 
+00040220: 7765 2073 746f 7265 6420 7265 6a65 6374  we stored reject
+00040230: 696f 6e73 2069 6e20 7468 6520 7374 6174  ions in the stat
+00040240: 655c 5f67 726f 7570 2c20 7065 7273 6973  e\_group, persis
+00040250: 7420 616c 6c20 7265 6a65 6374 696f 6e73  t all rejections
+00040260: 2028 5052 2023 3934 3829 0a2d 2020 2046   (PR #948).-   F
+00040270: 6978 206c 6163 6b20 6f66 2063 6865 636b  ix lack of check
+00040280: 206f 6620 6966 2074 6865 2075 7365 7220   of if the user 
+00040290: 6973 2062 616e 6e65 6420 7768 656e 2068  is banned when h
+000402a0: 616e 646c 696e 6720 3370 6964 2069 6e76  andling 3pid inv
+000402b0: 6974 6573 2028 5052 2023 3935 3229 0a2d  ites (PR #952).-
+000402c0: 2020 2046 6978 2061 2063 6f75 706c 6520     Fix a couple 
+000402d0: 6f66 2062 7567 7320 696e 2074 6865 2074  of bugs in the t
+000402e0: 7261 6e73 6163 7469 6f6e 2061 6e64 206b  ransaction and k
+000402f0: 6579 7269 6e67 2063 6f64 6520 2850 5220  eyring code (PR 
+00040300: 2339 3534 2c20 2339 3535 290a 0a43 6861  #954, #955)..Cha
+00040310: 6e67 6573 2069 6e20 7379 6e61 7073 6520  nges in synapse 
+00040320: 7630 2e31 362e 312d 7231 2028 3230 3136  v0.16.1-r1 (2016
+00040330: 2d30 372d 3038 290a 3d3d 3d3d 3d3d 3d3d  -07-08).========
+00040340: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00040350: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00040360: 3d3d 0a0a 5448 4953 2049 5320 4120 4352  ==..THIS IS A CR
+00040370: 4954 4943 414c 2053 4543 5552 4954 5920  ITICAL SECURITY 
+00040380: 5550 4441 5445 2e0a 0a54 6869 7320 6669  UPDATE...This fi
+00040390: 7865 7320 6120 6275 6720 7768 6963 6820  xes a bug which 
+000403a0: 616c 6c6f 7765 6420 7573 6572 735c 2720  allowed users\' 
+000403b0: 6163 636f 756e 7473 2074 6f20 6265 2061  accounts to be a
+000403c0: 6363 6573 7365 6420 6279 2075 6e61 7574  ccessed by unaut
+000403d0: 686f 7269 7365 6420 7573 6572 732e 0a0a  horised users...
+000403e0: 4368 616e 6765 7320 696e 2073 796e 6170  Changes in synap
+000403f0: 7365 2076 302e 3136 2e31 2028 3230 3136  se v0.16.1 (2016
+00040400: 2d30 362d 3230 290a 3d3d 3d3d 3d3d 3d3d  -06-20).========
+00040410: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00040420: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a  ===============.
+00040430: 0a42 7567 2066 6978 6573 3a0a 0a2d 2020  .Bug fixes:..-  
+00040440: 2046 6978 2061 7373 6f72 7465 6420 6275   Fix assorted bu
+00040450: 6773 2069 6e20 602f 7072 6576 6965 775f  gs in `/preview_
+00040460: 7572 6c60 2028 5052 2023 3837 3229 0a2d  url` (PR #872).-
+00040470: 2020 2046 6978 2054 7970 6545 7272 6f72     Fix TypeError
+00040480: 2077 6865 6e20 7365 7474 696e 6720 756e   when setting un
+00040490: 6963 6f64 6520 7061 7373 776f 7264 7320  icode passwords 
+000404a0: 2850 5220 2338 3733 290a 0a50 6572 666f  (PR #873)..Perfo
+000404b0: 726d 616e 6365 2069 6d70 726f 7665 6d65  rmance improveme
+000404c0: 6e74 733a 0a0a 2d20 2020 5475 726e 2060  nts:..-   Turn `
+000404d0: 7573 655f 6672 6f7a 656e 5f65 7665 6e74  use_frozen_event
+000404e0: 7360 206f 6666 2062 7920 6465 6661 756c  s` off by defaul
+000404f0: 7420 2850 5220 2338 3737 290a 2d20 2020  t (PR #877).-   
+00040500: 4469 7361 626c 6520 7265 7370 6f6e 6469  Disable respondi
+00040510: 6e67 2077 6974 6820 6361 6e6f 6e69 6361  ng with canonica
+00040520: 6c20 6a73 6f6e 2066 6f72 2066 6564 6572  l json for feder
+00040530: 6174 696f 6e20 2850 5220 2338 3738 290a  ation (PR #878).
+00040540: 0a43 6861 6e67 6573 2069 6e20 7379 6e61  .Changes in syna
+00040550: 7073 6520 7630 2e31 362e 312d 7263 3120  pse v0.16.1-rc1 
+00040560: 2832 3031 362d 3036 2d31 3529 0a3d 3d3d  (2016-06-15).===
+00040570: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00040580: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00040590: 3d3d 3d3d 3d3d 3d3d 0a0a 4665 6174 7572  ========..Featur
+000405a0: 6573 3a20 4e6f 6e65 0a0a 4368 616e 6765  es: None..Change
+000405b0: 733a 0a0a 2d20 2020 4c6f 6720 7265 7175  s:..-   Log requ
+000405c0: 6573 7465 7220 666f 7220 602f 7075 626c  ester for `/publ
+000405d0: 6963 526f 6f6d 6020 656e 6470 6f69 6e74  icRoom` endpoint
+000405e0: 7320 7768 656e 2070 6f73 7369 626c 6520  s when possible 
+000405f0: 2850 5220 2338 3536 290a 2d20 2020 3530  (PR #856).-   50
+00040600: 3220 6f6e 2060 2f74 6875 6d62 6e61 696c  2 on `/thumbnail
+00040610: 6020 7768 656e 2063 616e 5c27 7420 636f  ` when can\'t co
+00040620: 6e6e 6563 7420 746f 2072 656d 6f74 6520  nnect to remote 
+00040630: 7365 7276 6572 2028 5052 2023 3836 3229  server (PR #862)
+00040640: 0a2d 2020 204c 696e 6561 7269 7a65 2066  .-   Linearize f
+00040650: 6574 6368 696e 6720 6f66 2067 6170 7320  etching of gaps 
+00040660: 6f6e 2069 6e63 6f6d 696e 6720 6576 656e  on incoming even
+00040670: 7473 2028 5052 2023 3837 3129 0a0a 4275  ts (PR #871)..Bu
+00040680: 6773 2066 6978 6573 3a0a 0a2d 2020 2046  gs fixes:..-   F
+00040690: 6978 2062 7567 2077 6865 7265 2072 6f6f  ix bug where roo
+000406a0: 6d73 2077 6865 7265 206d 6172 6b65 6420  ms where marked 
+000406b0: 6173 2070 7562 6c69 7368 6564 2062 7920  as published by 
+000406c0: 6465 6661 756c 7420 2850 5220 2338 3537  default (PR #857
+000406d0: 290a 2d20 2020 4669 7820 6275 6720 7768  ).-   Fix bug wh
+000406e0: 6572 6520 6a6f 696e 696e 6720 726f 6f6d  ere joining room
+000406f0: 2077 6974 6820 616e 2065 7665 6e74 2077   with an event w
+00040700: 6974 6820 696e 7661 6c69 6420 7365 6e64  ith invalid send
+00040710: 6572 2028 5052 2023 3836 3829 0a2d 2020  er (PR #868).-  
+00040720: 2046 6978 2062 7567 2077 6865 7265 2062   Fix bug where b
+00040730: 6163 6b66 696c 6c65 6420 6576 656e 7473  ackfilled events
+00040740: 2077 6572 6520 7365 6e74 2064 6f77 6e20   were sent down 
+00040750: 7379 6e63 2073 7472 6561 6d73 2028 5052  sync streams (PR
+00040760: 2023 3836 3929 0a2d 2020 2046 6978 2062   #869).-   Fix b
+00040770: 7567 2077 6865 7265 206f 7574 676f 696e  ug where outgoin
+00040780: 6720 636f 6e6e 6563 7469 6f6e 7320 636f  g connections co
+00040790: 756c 6420 7765 6467 6520 696e 6465 6669  uld wedge indefi
+000407a0: 6e69 7465 6c79 2c20 6361 7573 696e 6720  nitely, causing 
+000407b0: 7075 7368 206e 6f74 6966 6963 6174 696f  push notificatio
+000407c0: 6e73 2074 6f20 6265 2075 6e72 656c 6961  ns to be unrelia
+000407d0: 626c 6520 2850 5220 2338 3730 290a 0a50  ble (PR #870)..P
+000407e0: 6572 666f 726d 616e 6365 2069 6d70 726f  erformance impro
+000407f0: 7665 6d65 6e74 733a 0a0a 2d20 2020 496d  vements:..-   Im
+00040800: 7072 6f76 6520 602f 7075 626c 6963 526f  prove `/publicRo
+00040810: 6f6d 7360 2070 6572 666f 726d 616e 6365  oms` performance
+00040820: 2850 5220 2338 3539 290a 0a43 6861 6e67  (PR #859)..Chang
+00040830: 6573 2069 6e20 7379 6e61 7073 6520 7630  es in synapse v0
+00040840: 2e31 362e 3020 2832 3031 362d 3036 2d30  .16.0 (2016-06-0
+00040850: 3929 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  9).=============
+00040860: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00040870: 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 4e42 3a20  ==========..NB: 
+00040880: 4173 206f 6620 7630 2e31 3420 616c 6c20  As of v0.14 all 
+00040890: 4153 2063 6f6e 6669 6720 6669 6c65 7320  AS config files 
+000408a0: 6d75 7374 2068 6176 6520 616e 2049 4420  must have an ID 
+000408b0: 6669 656c 642e 0a0a 4275 6720 6669 7865  field...Bug fixe
+000408c0: 733a 0a0a 2d20 2020 446f 6e5c 2774 206d  s:..-   Don\'t m
+000408d0: 616b 6520 726f 6f6d 7320 7075 626c 6973  ake rooms publis
+000408e0: 6865 6420 6279 2064 6566 6175 6c74 2028  hed by default (
+000408f0: 5052 2023 3835 3729 0a0a 4368 616e 6765  PR #857)..Change
+00040900: 7320 696e 2073 796e 6170 7365 2076 302e  s in synapse v0.
+00040910: 3136 2e30 2d72 6332 2028 3230 3136 2d30  16.0-rc2 (2016-0
+00040920: 362d 3038 290a 3d3d 3d3d 3d3d 3d3d 3d3d  6-08).==========
+00040930: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00040940: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00040950: 3d0a 0a46 6561 7475 7265 733a 0a0a 2d20  =..Features:..- 
+00040960: 2020 4164 6420 636f 6e66 6967 7572 6174    Add configurat
+00040970: 696f 6e20 6f70 7469 6f6e 2066 6f72 2074  ion option for t
+00040980: 756e 696e 6720 4743 2076 6961 2060 6763  uning GC via `gc
+00040990: 2e73 6574 5f74 6872 6573 686f 6c64 6020  .set_threshold` 
+000409a0: 2850 5220 2338 3439 290a 0a43 6861 6e67  (PR #849)..Chang
+000409b0: 6573 3a0a 0a2d 2020 2052 6563 6f72 6420  es:..-   Record 
+000409c0: 6d65 7472 6963 7320 6162 6f75 7420 4743  metrics about GC
+000409d0: 2028 5052 2023 3737 312c 2023 3834 372c   (PR #771, #847,
+000409e0: 2023 3835 3229 0a2d 2020 2041 6464 206d   #852).-   Add m
+000409f0: 6574 7269 6320 636f 756e 7465 7220 666f  etric counter fo
+00040a00: 7220 6e75 6d62 6572 206f 6620 7065 7273  r number of pers
+00040a10: 6973 7465 6420 6576 656e 7473 2028 5052  isted events (PR
+00040a20: 2023 3834 3129 0a0a 4275 6720 6669 7865   #841)..Bug fixe
+00040a30: 733a 0a0a 2d20 2020 4669 7820 5c27 4672  s:..-   Fix \'Fr
+00040a40: 6f6d 5c27 2068 6561 6465 7220 696e 2065  om\' header in e
+00040a50: 6d61 696c 206e 6f74 6966 6963 6174 696f  mail notificatio
+00040a60: 6e73 2028 5052 2023 3834 3329 0a2d 2020  ns (PR #843).-  
+00040a70: 2046 6978 2070 7265 7365 6e63 6520 7768   Fix presence wh
+00040a80: 6572 6520 7469 6d65 6f75 7473 2077 6572  ere timeouts wer
+00040a90: 6520 6e6f 7420 6265 696e 6720 6669 7265  e not being fire
+00040aa0: 6420 666f 7220 7468 6520 6669 7273 7420  d for the first 
+00040ab0: 3868 2061 6674 6572 2072 6573 7461 7274  8h after restart
+00040ac0: 7320 2850 5220 2338 3432 290a 2d20 2020  s (PR #842).-   
+00040ad0: 4669 7820 6275 6720 7768 6572 6520 7379  Fix bug where sy
+00040ae0: 6e61 7073 6520 7365 6e74 206d 616c 666f  napse sent malfo
+00040af0: 726d 6564 2074 7261 6e73 6163 7469 6f6e  rmed transaction
+00040b00: 7320 746f 2041 535c 2773 2077 6865 6e20  s to AS\'s when 
+00040b10: 7265 7472 7969 6e67 2074 7261 6e73 6163  retrying transac
+00040b20: 7469 6f6e 7320 2843 6f6d 6d69 7473 2033  tions (Commits 3
+00040b30: 3130 3139 3762 2c20 3834 3337 3930 3629  10197b, 8437906)
+00040b40: 0a0a 5065 7266 6f72 6d61 6e63 6520 696d  ..Performance im
+00040b50: 7072 6f76 656d 656e 7473 3a0a 0a2d 2020  provements:..-  
+00040b60: 2052 656d 6f76 6520 6576 656e 7420 6665   Remove event fe
+00040b70: 7463 6869 6e67 2066 726f 6d20 4442 2074  tching from DB t
+00040b80: 6872 6561 6473 2028 5052 2023 3833 3529  hreads (PR #835)
+00040b90: 0a2d 2020 2043 6861 6e67 6520 7468 6520  .-   Change the 
+00040ba0: 7761 7920 7765 2063 6163 6865 2065 7665  way we cache eve
+00040bb0: 6e74 7320 2850 5220 2338 3336 290a 2d20  nts (PR #836).- 
+00040bc0: 2020 4164 6420 6576 656e 7473 2074 6f20    Add events to 
+00040bd0: 6361 6368 6520 7768 656e 2077 6520 7065  cache when we pe
+00040be0: 7273 6973 7420 7468 656d 2028 5052 2023  rsist them (PR #
+00040bf0: 3834 3029 0a0a 4368 616e 6765 7320 696e  840)..Changes in
+00040c00: 2073 796e 6170 7365 2076 302e 3136 2e30   synapse v0.16.0
+00040c10: 2d72 6331 2028 3230 3136 2d30 362d 3033  -rc1 (2016-06-03
+00040c20: 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ).==============
+00040c30: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00040c40: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a56  =============..V
+00040c50: 6572 7369 6f6e 2030 2e31 3520 7761 7320  ersion 0.15 was 
+00040c60: 6e6f 7420 7265 6c65 6173 6564 2e20 5365  not released. Se
+00040c70: 6520 7630 2e31 352e 302d 7263 3120 6265  e v0.15.0-rc1 be
+00040c80: 6c6f 7720 666f 7220 6164 6469 7469 6f6e  low for addition
+00040c90: 616c 2063 6861 6e67 6573 2e0a 0a46 6561  al changes...Fea
+00040ca0: 7475 7265 733a 0a0a 2d20 2020 4164 6420  tures:..-   Add 
+00040cb0: 656d 6169 6c20 6e6f 7469 6669 6361 7469  email notificati
+00040cc0: 6f6e 7320 666f 7220 6d69 7373 6564 206d  ons for missed m
+00040cd0: 6573 7361 6765 7320 2850 5220 2337 3539  essages (PR #759
+00040ce0: 2c20 2337 3836 2c20 2337 3939 2c20 2338  , #786, #799, #8
+00040cf0: 3130 2c20 2338 3135 2c20 2338 3231 290a  10, #815, #821).
+00040d00: 2d20 2020 4164 6420 6120 6075 726c 5f70  -   Add a `url_p
+00040d10: 7265 7669 6577 5f69 705f 7261 6e67 655f  review_ip_range_
+00040d20: 7768 6974 656c 6973 7460 2063 6f6e 6669  whitelist` confi
+00040d30: 6720 7061 7261 6d20 2850 5220 2337 3630  g param (PR #760
+00040d40: 290a 2d20 2020 4164 6420 2f72 6570 6f72  ).-   Add /repor
+00040d50: 7420 656e 6470 6f69 6e74 2028 5052 2023  t endpoint (PR #
+00040d60: 3736 3229 0a2d 2020 2041 6464 2062 6173  762).-   Add bas
+00040d70: 6963 2069 676e 6f72 6520 7573 6572 2041  ic ignore user A
+00040d80: 5049 2028 5052 2023 3736 3329 0a2d 2020  PI (PR #763).-  
+00040d90: 2041 6464 2061 6e20 6f70 656e 6964 6973   Add an openidis
+00040da0: 6820 6d65 6368 616e 6973 6d20 666f 7220  h mechanism for 
+00040db0: 7072 6f76 696e 6720 7468 6174 2079 6f75  proving that you
+00040dc0: 206f 776e 2061 2067 6976 656e 2075 7365   own a given use
+00040dd0: 725c 5f69 6420 2850 5220 2337 3635 290a  r\_id (PR #765).
+00040de0: 2d20 2020 416c 6c6f 7720 636c 6965 6e74  -   Allow client
+00040df0: 7320 746f 2073 7065 6369 6679 2061 2073  s to specify a s
+00040e00: 6572 7665 725c 5f6e 616d 6520 746f 2061  erver\_name to a
+00040e10: 766f 6964 205c 274e 6f20 6b6e 6f77 6e20  void \'No known 
+00040e20: 7365 7276 6572 735c 2720 2850 5220 2337  servers\' (PR #7
+00040e30: 3934 290a 2d20 2020 4164 6420 7365 636f  94).-   Add seco
+00040e40: 6e64 6172 795c 5f64 6972 6563 746f 7279  ndary\_directory
+00040e50: 5c5f 7365 7276 6572 7320 6f70 7469 6f6e  \_servers option
+00040e60: 2074 6f20 6665 7463 6820 726f 6f6d 206c   to fetch room l
+00040e70: 6973 7420 6672 6f6d 206f 7468 6572 2073  ist from other s
+00040e80: 6572 7665 7273 2028 5052 2023 3830 382c  ervers (PR #808,
+00040e90: 2023 3831 3329 0a0a 4368 616e 6765 733a   #813)..Changes:
+00040ea0: 0a0a 2d20 2020 5265 706f 7274 2070 6572  ..-   Report per
+00040eb0: 2072 6571 7565 7374 206d 6574 7269 6373   request metrics
+00040ec0: 2066 6f72 2061 6c6c 206f 6620 7468 6520   for all of the 
+00040ed0: 7468 696e 6773 2075 7369 6e67 2072 6571  things using req
+00040ee0: 7565 7374 5c5f 6861 6e64 6c65 7220 2850  uest\_handler (P
+00040ef0: 5220 2337 3536 290a 2d20 2020 436f 7272  R #756).-   Corr
+00040f00: 6563 746c 7920 6861 6e64 6c65 2060 4e55  ectly handle `NU
+00040f10: 4c4c 6020 7061 7373 776f 7264 2068 6173  LL` password has
+00040f20: 6865 7320 6672 6f6d 2074 6865 2064 6174  hes from the dat
+00040f30: 6162 6173 6520 2850 5220 2337 3735 290a  abase (PR #775).
+00040f40: 2d20 2020 416c 6c6f 7720 7265 6365 6970  -   Allow receip
+00040f50: 7473 2066 6f72 2065 7665 6e74 7320 7765  ts for events we
+00040f60: 2068 6176 656e 5c27 7420 7365 656e 2069   haven\'t seen i
+00040f70: 6e20 7468 6520 6462 2028 5052 2023 3738  n the db (PR #78
+00040f80: 3429 0a2d 2020 204d 616b 6520 7379 6e63  4).-   Make sync
+00040f90: 746c 2072 6561 6420 6120 6361 6368 6520  tl read a cache 
+00040fa0: 6661 6374 6f72 2066 726f 6d20 636f 6e66  factor from conf
+00040fb0: 6967 2066 696c 6520 2850 5220 2337 3835  ig file (PR #785
+00040fc0: 290a 2d20 2020 496e 6372 656d 656e 7420  ).-   Increment 
+00040fd0: 6261 6467 6520 636f 756e 7420 7065 7220  badge count per 
+00040fe0: 6d69 7373 6564 2063 6f6e 766f 2c20 6e6f  missed convo, no
+00040ff0: 7420 7065 7220 6d73 6720 2850 5220 2337  t per msg (PR #7
+00041000: 3933 290a 2d20 2020 5370 6563 6961 6c20  93).-   Special 
+00041010: 6361 7365 206d 2e72 6f6f 6d2e 7468 6972  case m.room.thir
+00041020: 645c 5f70 6172 7479 5c5f 696e 7669 7465  d\_party\_invite
+00041030: 2065 7665 6e74 2061 7574 6820 746f 206d   event auth to m
+00041040: 6174 6368 2069 6e76 6974 6573 2028 5052  atch invites (PR
+00041050: 2023 3831 3429 0a0a 4275 6720 6669 7865   #814)..Bug fixe
+00041060: 733a 0a0a 2d20 2020 4669 7820 7479 706f  s:..-   Fix typo
+00041070: 2069 6e20 6576 656e 745c 5f61 7574 6820   in event\_auth 
+00041080: 7365 7276 6c65 7420 7061 7468 2028 5052  servlet path (PR
+00041090: 2023 3735 3729 0a2d 2020 2046 6978 2070   #757).-   Fix p
+000410a0: 6173 7377 6f72 6420 7265 7365 7420 2850  assword reset (P
+000410b0: 5220 2337 3538 290a 0a50 6572 666f 726d  R #758)..Perform
+000410c0: 616e 6365 2069 6d70 726f 7665 6d65 6e74  ance improvement
+000410d0: 733a 0a0a 2d20 2020 5265 6475 6365 2064  s:..-   Reduce d
+000410e0: 6174 6162 6173 6520 696e 7365 7274 7320  atabase inserts 
+000410f0: 7768 656e 2073 656e 6469 6e67 2074 7261  when sending tra
+00041100: 6e73 6163 7469 6f6e 7320 2850 5220 2337  nsactions (PR #7
+00041110: 3637 290a 2d20 2020 5175 6575 6520 6576  67).-   Queue ev
+00041120: 656e 7473 2062 7920 726f 6f6d 2066 6f72  ents by room for
+00041130: 2070 6572 7369 7374 656e 6365 2028 5052   persistence (PR
+00041140: 2023 3736 3829 0a2d 2020 2041 6464 2063   #768).-   Add c
+00041150: 6163 6865 2074 6f20 6067 6574 5f75 7365  ache to `get_use
+00041160: 725f 6279 5f69 6460 2028 5052 2023 3737  r_by_id` (PR #77
+00041170: 3229 0a2d 2020 2041 6464 2061 6e64 2075  2).-   Add and u
+00041180: 7365 2060 6765 745f 646f 6d61 696e 5f66  se `get_domain_f
+00041190: 726f 6d5f 6964 6020 2850 5220 2337 3733  rom_id` (PR #773
+000411a0: 290a 2d20 2020 5573 6520 7472 6565 2063  ).-   Use tree c
+000411b0: 6163 6865 2066 6f72 2060 6765 745f 6c69  ache for `get_li
+000411c0: 6e65 6172 697a 6564 5f72 6563 6569 7074  nearized_receipt
+000411d0: 735f 666f 725f 726f 6f6d 6020 2850 5220  s_for_room` (PR 
+000411e0: 2337 3739 290a 2d20 2020 5265 6d6f 7665  #779).-   Remove
+000411f0: 2075 6e75 7365 6420 696e 6469 6365 7320   unused indices 
+00041200: 2850 5220 2337 3832 290a 2d20 2020 4164  (PR #782).-   Ad
+00041210: 6420 6361 6368 6573 2074 6f20 6062 756c  d caches to `bul
+00041220: 6b5f 6765 745f 7075 7368 5f72 756c 6573  k_get_push_rules
+00041230: 2a60 2028 5052 2023 3830 3429 0a2d 2020  *` (PR #804).-  
+00041240: 2043 6163 6865 2060 6765 745f 6576 656e   Cache `get_even
+00041250: 745f 7265 6665 7265 6e63 655f 6861 7368  t_reference_hash
+00041260: 6573 6020 2850 5220 2338 3036 290a 2d20  es` (PR #806).- 
+00041270: 2020 4164 6420 6067 6574 5f75 7365 7273    Add `get_users
+00041280: 5f77 6974 685f 7265 6164 5f72 6563 6569  _with_read_recei
+00041290: 7074 735f 696e 5f72 6f6f 6d60 2063 6163  pts_in_room` cac
+000412a0: 6865 2028 5052 2023 3830 3929 0a2d 2020  he (PR #809).-  
+000412b0: 2055 7365 2073 7461 7465 2074 6f20 6361   Use state to ca
+000412c0: 6c63 756c 6174 6520 6067 6574 5f75 7365  lculate `get_use
+000412d0: 7273 5f69 6e5f 726f 6f6d 6020 2850 5220  rs_in_room` (PR 
+000412e0: 2338 3131 290a 2d20 2020 4c6f 6164 2070  #811).-   Load p
+000412f0: 7573 6820 7275 6c65 7320 696e 2073 746f  ush rules in sto
+00041300: 7261 6765 206c 6179 6572 2073 6f20 7468  rage layer so th
+00041310: 6174 2074 6865 7920 6765 7420 6361 6368  at they get cach
+00041320: 6564 2028 5052 2023 3832 3529 0a2d 2020  ed (PR #825).-  
+00041330: 204d 616b 6520 6067 6574 5f6a 6f69 6e65   Make `get_joine
+00041340: 645f 686f 7374 735f 666f 725f 726f 6f6d  d_hosts_for_room
+00041350: 6020 7573 6520 6765 745c 5f75 7365 7273  ` use get\_users
+00041360: 5c5f 696e 5c5f 726f 6f6d 2028 5052 2023  \_in\_room (PR #
+00041370: 3832 3829 0a2d 2020 2050 6f6b 6520 6e6f  828).-   Poke no
+00041380: 7469 6669 6572 206f 6e20 6e65 7874 2072  tifier on next r
+00041390: 6561 6374 6f72 2074 6963 6b20 2850 5220  eactor tick (PR 
+000413a0: 2338 3239 290a 2d20 2020 4368 616e 6765  #829).-   Change
+000413b0: 2043 6163 6865 4d65 7472 6963 7320 746f   CacheMetrics to
+000413c0: 2062 6520 7175 6963 6b65 7220 2850 5220   be quicker (PR 
+000413d0: 2338 3330 290a 0a43 6861 6e67 6573 2069  #830)..Changes i
+000413e0: 6e20 7379 6e61 7073 6520 7630 2e31 352e  n synapse v0.15.
+000413f0: 302d 7263 3120 2832 3031 362d 3034 2d32  0-rc1 (2016-04-2
+00041400: 3629 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  6).=============
+00041410: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00041420: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a  ==============..
+00041430: 4665 6174 7572 6573 3a0a 0a2d 2020 2041  Features:..-   A
+00041440: 6464 206c 6f67 696e 2073 7570 706f 7274  dd login support
+00041450: 2066 6f72 204a 6176 6173 6372 6970 7420   for Javascript 
+00041460: 5765 6220 546f 6b65 6e73 2c20 7468 616e  Web Tokens, than
+00041470: 6b73 2074 6f20 4e69 6b6c 6173 2052 6965  ks to Niklas Rie
+00041480: 6b65 6e62 7261 7563 6b20 2850 5220 2336  kenbrauck (PR #6
+00041490: 3731 2c5c 2336 3837 290a 2d20 2020 4164  71,\#687).-   Ad
+000414a0: 6420 5552 4c20 7072 6576 6965 7769 6e67  d URL previewing
+000414b0: 2073 7570 706f 7274 2028 5052 2023 3638   support (PR #68
+000414c0: 3829 0a2d 2020 2041 6464 206c 6f67 696e  8).-   Add login
+000414d0: 2073 7570 706f 7274 2066 6f72 204c 4441   support for LDA
+000414e0: 502c 2074 6861 6e6b 7320 746f 2043 6872  P, thanks to Chr
+000414f0: 6973 746f 7068 2057 6974 7a61 6e79 2028  istoph Witzany (
+00041500: 5052 2023 3730 3129 0a2d 2020 2041 6464  PR #701).-   Add
+00041510: 2047 4554 2065 6e64 706f 696e 7420 666f   GET endpoint fo
+00041520: 7220 7075 7368 6572 7320 2850 5220 2337  r pushers (PR #7
+00041530: 3136 290a 0a43 6861 6e67 6573 3a0a 0a2d  16)..Changes:..-
+00041540: 2020 204e 6576 6572 206e 6f74 6966 7920     Never notify 
+00041550: 666f 7220 6d65 6d62 6572 2065 7665 6e74  for member event
+00041560: 7320 2850 5220 2336 3637 290a 2d20 2020  s (PR #667).-   
+00041570: 4465 6475 706c 6963 6174 6520 6964 656e  Deduplicate iden
+00041580: 7469 6361 6c20 602f 7379 6e63 6020 7265  tical `/sync` re
+00041590: 7175 6573 7473 2028 5052 2023 3636 3829  quests (PR #668)
+000415a0: 0a2d 2020 2052 6571 7569 7265 2075 7365  .-   Require use
+000415b0: 7220 746f 2068 6176 6520 6c65 6674 2072  r to have left r
+000415c0: 6f6f 6d20 746f 2066 6f72 6765 7420 726f  oom to forget ro
+000415d0: 6f6d 2028 5052 2023 3637 3329 0a2d 2020  om (PR #673).-  
+000415e0: 2055 7365 2044 4e53 2063 6163 6865 2069   Use DNS cache i
+000415f0: 6620 7769 7468 696e 2054 544c 2028 5052  f within TTL (PR
+00041600: 2023 3637 3729 0a2d 2020 204c 6574 2075   #677).-   Let u
+00041610: 7365 7273 2073 6565 2074 6865 6972 206f  sers see their o
+00041620: 776e 206c 6561 7665 2065 7665 6e74 7320  wn leave events 
+00041630: 2850 5220 2336 3939 290a 2d20 2020 4465  (PR #699).-   De
+00041640: 6475 706c 6963 6174 6520 6d65 6d62 6572  duplicate member
+00041650: 7368 6970 2063 6861 6e67 6573 2028 5052  ship changes (PR
+00041660: 2023 3730 3029 0a2d 2020 2049 6e63 7265   #700).-   Incre
+00041670: 6173 6520 7065 7266 6f72 6d61 6e63 6520  ase performance 
+00041680: 6f66 2070 7573 6865 7220 636f 6465 2028  of pusher code (
+00041690: 5052 2023 3730 3529 0a2d 2020 2052 6573  PR #705).-   Res
+000416a0: 706f 6e64 2077 6974 6820 6572 726f 7220  pond with error 
+000416b0: 7374 6174 7573 2035 3034 2069 6620 6661  status 504 if fa
+000416c0: 696c 6564 2074 6f20 7461 6c6b 2074 6f20  iled to talk to 
+000416d0: 7265 6d6f 7465 2073 6572 7665 7220 2850  remote server (P
+000416e0: 5220 2337 3331 290a 2d20 2020 496e 6372  R #731).-   Incr
+000416f0: 6561 7365 2073 6561 7263 6820 7065 7266  ease search perf
+00041700: 6f72 6d61 6e63 6520 6f6e 2070 6f73 7467  ormance on postg
+00041710: 7265 7320 2850 5220 2337 3435 290a 0a42  res (PR #745)..B
+00041720: 7567 2066 6978 6573 3a0a 0a2d 2020 2046  ug fixes:..-   F
+00041730: 6978 2062 7567 2077 6865 7265 2064 6973  ix bug where dis
+00041740: 6162 6c69 6e67 2061 6c6c 206e 6f74 6966  abling all notif
+00041750: 6963 6174 696f 6e73 2073 7469 6c6c 2072  ications still r
+00041760: 6573 756c 7465 6420 696e 2070 7573 6820  esulted in push 
+00041770: 2850 5220 2336 3738 290a 2d20 2020 4669  (PR #678).-   Fi
+00041780: 7820 6275 6720 7768 6572 6520 7573 6572  x bug where user
+00041790: 7320 636f 756c 646e 5c27 7420 7265 6a65  s couldn\'t reje
+000417a0: 6374 2072 656d 6f74 6520 696e 7669 7465  ct remote invite
+000417b0: 7320 6966 2072 656d 6f74 6520 7265 6675  s if remote refu
+000417c0: 7365 6420 2850 5220 2336 3931 290a 2d20  sed (PR #691).- 
+000417d0: 2020 4669 7820 6275 6720 7768 6572 6520    Fix bug where 
+000417e0: 7379 6e61 7073 6520 6174 7465 6d70 7465  synapse attempte
+000417f0: 6420 746f 2062 6163 6b66 696c 6c20 6672  d to backfill fr
+00041800: 6f6d 2069 7473 656c 6620 2850 5220 2336  om itself (PR #6
+00041810: 3933 290a 2d20 2020 4669 7820 6275 6720  93).-   Fix bug 
+00041820: 7768 6572 6520 7072 6f66 696c 6520 696e  where profile in
+00041830: 666f 726d 6174 696f 6e20 7761 7320 6e6f  formation was no
+00041840: 7420 636f 7272 6563 746c 7920 6164 6465  t correctly adde
+00041850: 6420 7768 656e 206a 6f69 6e69 6e67 2072  d when joining r
+00041860: 656d 6f74 6520 726f 6f6d 7320 2850 5220  emote rooms (PR 
+00041870: 2337 3033 290a 2d20 2020 4669 7820 6275  #703).-   Fix bu
+00041880: 6720 7768 6572 6520 7265 6769 7374 6572  g where register
+00041890: 2041 5049 2072 6571 7569 7265 6420 696e   API required in
+000418a0: 636f 7272 6563 7420 6b65 7920 6e61 6d65  correct key name
+000418b0: 2066 6f72 2041 5320 7265 6769 7374 7261   for AS registra
+000418c0: 7469 6f6e 2028 5052 2023 3732 3729 0a0a  tion (PR #727)..
+000418d0: 4368 616e 6765 7320 696e 2073 796e 6170  Changes in synap
+000418e0: 7365 2076 302e 3134 2e30 2028 3230 3136  se v0.14.0 (2016
+000418f0: 2d30 332d 3330 290a 3d3d 3d3d 3d3d 3d3d  -03-30).========
+00041900: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00041910: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a  ===============.
+00041920: 0a4e 6f20 6368 616e 6765 7320 6672 6f6d  .No changes from
+00041930: 2076 302e 3134 2e30 2d72 6332 0a0a 4368   v0.14.0-rc2..Ch
+00041940: 616e 6765 7320 696e 2073 796e 6170 7365  anges in synapse
+00041950: 2076 302e 3134 2e30 2d72 6332 2028 3230   v0.14.0-rc2 (20
+00041960: 3136 2d30 332d 3233 290a 3d3d 3d3d 3d3d  16-03-23).======
+00041970: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00041980: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00041990: 3d3d 3d3d 3d0a 0a46 6561 7475 7265 733a  =====..Features:
+000419a0: 0a0a 2d20 2020 4164 6420 7075 626c 6973  ..-   Add publis
+000419b0: 6865 6420 726f 6f6d 206c 6973 7420 4150  hed room list AP
+000419c0: 4920 2850 5220 2336 3537 290a 0a43 6861  I (PR #657)..Cha
+000419d0: 6e67 6573 3a0a 0a2d 2020 2043 6861 6e67  nges:..-   Chang
+000419e0: 6520 7661 7269 6f75 7320 6361 6368 6573  e various caches
+000419f0: 2074 6f20 636f 6e73 756d 6520 6c65 7373   to consume less
+00041a00: 206d 656d 6f72 7920 2850 5220 2336 3536   memory (PR #656
+00041a10: 2c20 2336 3538 2c20 2336 3630 2c20 2336  , #658, #660, #6
+00041a20: 3632 2c20 2336 3633 2c20 2336 3635 290a  62, #663, #665).
+00041a30: 2d20 2020 416c 6c6f 7720 726f 6f6d 7320  -   Allow rooms 
+00041a40: 746f 2062 6520 7075 626c 6973 6865 6420  to be published 
+00041a50: 7769 7468 6f75 7420 7265 7175 6972 696e  without requirin
+00041a60: 6720 616e 2061 6c69 6173 2028 5052 2023  g an alias (PR #
+00041a70: 3636 3429 0a2d 2020 2049 6e74 6572 6e20  664).-   Intern 
+00041a80: 636f 6d6d 6f6e 2073 7472 696e 6773 2069  common strings i
+00041a90: 6e20 6361 6368 6573 2074 6f20 7265 6475  n caches to redu
+00041aa0: 6365 206d 656d 6f72 7920 666f 6f74 7072  ce memory footpr
+00041ab0: 696e 7420 285c 2336 3636 290a 0a42 7567  int (\#666)..Bug
+00041ac0: 2066 6978 6573 3a0a 0a2d 2020 2046 6978   fixes:..-   Fix
+00041ad0: 2072 656a 6563 7420 696e 7669 7465 7320   reject invites 
+00041ae0: 6f76 6572 2066 6564 6572 6174 696f 6e20  over federation 
+00041af0: 2850 5220 2336 3436 290a 2d20 2020 4669  (PR #646).-   Fi
+00041b00: 7820 6275 6720 7768 6572 6520 7265 6769  x bug where regi
+00041b10: 7374 7261 7469 6f6e 2077 6173 206e 6f74  stration was not
+00041b20: 2069 6465 6d70 6f74 656e 7420 2850 5220   idempotent (PR 
+00041b30: 2336 3439 290a 2d20 2020 5570 6461 7465  #649).-   Update
+00041b40: 2061 6c69 6173 6573 2065 7665 6e74 2061   aliases event a
+00041b50: 6674 6572 2064 656c 6574 696e 6720 616c  fter deleting al
+00041b60: 6961 7365 7320 2850 5220 2336 3532 290a  iases (PR #652).
+00041b70: 2d20 2020 4669 7820 756e 7265 6164 206e  -   Fix unread n
+00041b80: 6f74 6966 6963 6174 696f 6e20 636f 756e  otification coun
+00041b90: 742c 2077 6869 6368 2077 6173 2073 6f6d  t, which was som
+00041ba0: 6574 696d 6573 2077 726f 6e67 2028 5052  etimes wrong (PR
+00041bb0: 2023 3636 3129 0a0a 4368 616e 6765 7320   #661)..Changes 
+00041bc0: 696e 2073 796e 6170 7365 2076 302e 3134  in synapse v0.14
+00041bd0: 2e30 2d72 6331 2028 3230 3136 2d30 332d  .0-rc1 (2016-03-
+00041be0: 3134 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  14).============
+00041bf0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00041c00: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a  ===============.
+00041c10: 0a46 6561 7475 7265 733a 0a0a 2d20 2020  .Features:..-   
+00041c20: 4164 6420 6576 656e 745c 5f69 6420 746f  Add event\_id to
+00041c30: 2072 6573 706f 6e73 6520 746f 2073 7461   response to sta
+00041c40: 7465 2065 7665 6e74 2050 5554 2028 5052  te event PUT (PR
+00041c50: 2023 3538 3129 0a2d 2020 2041 6c6c 6f77   #581).-   Allow
+00041c60: 2067 7565 7374 2075 7365 7273 2061 6363   guest users acc
+00041c70: 6573 7320 746f 206d 6573 7361 6765 7320  ess to messages 
+00041c80: 696e 2072 6f6f 6d73 2074 6865 7920 6861  in rooms they ha
+00041c90: 7665 206a 6f69 6e65 6420 2850 5220 2335  ve joined (PR #5
+00041ca0: 3837 290a 2d20 2020 4164 6420 636f 6e66  87).-   Add conf
+00041cb0: 6967 2066 6f72 2077 6861 7420 7374 6174  ig for what stat
+00041cc0: 6520 6973 2069 6e63 6c75 6465 6420 696e  e is included in
+00041cd0: 2061 2072 6f6f 6d20 696e 7669 7465 2028   a room invite (
+00041ce0: 5052 2023 3539 3829 0a2d 2020 2053 656e  PR #598).-   Sen
+00041cf0: 6420 7468 6520 696e 7669 7465 725c 2773  d the inviter\'s
+00041d00: 206d 656d 6265 7220 6576 656e 7420 696e   member event in
+00041d10: 2072 6f6f 6d20 696e 7669 7465 2073 7461   room invite sta
+00041d20: 7465 2028 5052 2023 3630 3729 0a2d 2020  te (PR #607).-  
+00041d30: 2041 6464 2065 7272 6f72 2063 6f64 6573   Add error codes
+00041d40: 2066 6f72 206d 616c 666f 726d 6564 2f62   for malformed/b
+00041d50: 6164 204a 534f 4e20 696e 202f 6c6f 6769  ad JSON in /logi
+00041d60: 6e20 2850 5220 2336 3038 290a 2d20 2020  n (PR #608).-   
+00041d70: 4164 6420 7375 7070 6f72 7420 666f 7220  Add support for 
+00041d80: 6368 616e 6769 6e67 2074 6865 2061 6374  changing the act
+00041d90: 696f 6e73 2066 6f72 2064 6566 6175 6c74  ions for default
+00041da0: 2072 756c 6573 2028 5052 2023 3630 3929   rules (PR #609)
+00041db0: 0a2d 2020 2041 6464 2065 6e76 6972 6f6e  .-   Add environ
+00041dc0: 6d65 6e74 2076 6172 6961 626c 6520 5359  ment variable SY
+00041dd0: 4e41 5053 455c 5f43 4143 4845 5c5f 4641  NAPSE\_CACHE\_FA
+00041de0: 4354 4f52 2c20 6465 6661 756c 7420 6974  CTOR, default it
+00041df0: 2074 6f20 302e 3120 2850 5220 2336 3132   to 0.1 (PR #612
+00041e00: 290a 2d20 2020 4164 6420 6162 696c 6974  ).-   Add abilit
+00041e10: 7920 666f 7220 616c 6961 7320 6372 6561  y for alias crea
+00041e20: 746f 7273 2074 6f20 6465 6c65 7465 2061  tors to delete a
+00041e30: 6c69 6173 6573 2028 5052 2023 3631 3429  liases (PR #614)
+00041e40: 0a2d 2020 2041 6464 2070 726f 6669 6c65  .-   Add profile
+00041e50: 2069 6e66 6f72 6d61 7469 6f6e 2074 6f20   information to 
+00041e60: 696e 7669 7465 7320 2850 5220 2336 3234  invites (PR #624
+00041e70: 290a 0a43 6861 6e67 6573 3a0a 0a2d 2020  )..Changes:..-  
+00041e80: 2045 6e66 6f72 6365 2075 7365 725c 5f69   Enforce user\_i
+00041e90: 6420 6578 636c 7573 6976 6974 7920 666f  d exclusivity fo
+00041ea0: 7220 4153 2072 6567 6973 7472 6174 696f  r AS registratio
+00041eb0: 6e73 2028 5052 2023 3537 3229 0a2d 2020  ns (PR #572).-  
+00041ec0: 204d 616b 6520 6164 6469 6e67 2070 7573   Make adding pus
+00041ed0: 6820 7275 6c65 7320 6964 656d 706f 7465  h rules idempote
+00041ee0: 6e74 2028 5052 2023 3538 3729 0a2d 2020  nt (PR #587).-  
+00041ef0: 2049 6d70 726f 7665 2070 7265 7365 6e63   Improve presenc
+00041f00: 6520 7065 7266 6f72 6d61 6e63 6520 2850  e performance (P
+00041f10: 5220 2335 3832 2c20 2335 3836 290a 2d20  R #582, #586).- 
+00041f20: 2020 4368 616e 6765 2070 7265 7365 6e63    Change presenc
+00041f30: 6520 7365 6d61 6e74 6963 7320 666f 7220  e semantics for 
+00041f40: 606c 6173 745f 6163 7469 7665 5f61 676f  `last_active_ago
+00041f50: 6020 2850 5220 2335 3832 2c20 2335 3836  ` (PR #582, #586
+00041f60: 290a 2d20 2020 446f 6e5c 2774 2061 6c6c  ).-   Don\'t all
+00041f70: 6f77 2060 6d2e 726f 6f6d 2e63 7265 6174  ow `m.room.creat
+00041f80: 6560 2074 6f20 6265 2063 6861 6e67 6564  e` to be changed
+00041f90: 2028 5052 2023 3539 3629 0a2d 2020 2041   (PR #596).-   A
+00041fa0: 6464 2038 3030 7836 3030 2074 6f20 6465  dd 800x600 to de
+00041fb0: 6661 756c 7420 6c69 7374 206f 6620 7661  fault list of va
+00041fc0: 6c69 6420 7468 756d 626e 6169 6c20 7369  lid thumbnail si
+00041fd0: 7a65 7320 2850 5220 2336 3136 290a 2d20  zes (PR #616).- 
+00041fe0: 2020 416c 7761 7973 2069 6e63 6c75 6465    Always include
+00041ff0: 206b 6963 6b73 2061 6e64 2062 616e 7320   kicks and bans 
+00042000: 696e 2066 756c 6c20 2f73 796e 6320 2850  in full /sync (P
+00042010: 5220 2336 3235 290a 2d20 2020 5365 6e64  R #625).-   Send
+00042020: 2068 6973 746f 7279 2076 6973 6962 696c   history visibil
+00042030: 6974 7920 6f6e 2062 6f75 6e64 6172 7920  ity on boundary 
+00042040: 6368 616e 6765 7320 2850 5220 2336 3236  changes (PR #626
+00042050: 290a 2d20 2020 5265 6769 7374 6572 2065  ).-   Register e
+00042060: 6e64 706f 696e 7420 6e6f 7720 7265 7475  ndpoint now retu
+00042070: 726e 7320 6120 7265 6672 6573 685c 5f74  rns a refresh\_t
+00042080: 6f6b 656e 2028 5052 2023 3633 3729 0a0a  oken (PR #637)..
+00042090: 4275 6720 6669 7865 733a 0a0a 2d20 2020  Bug fixes:..-   
+000420a0: 4669 7820 6275 6720 7768 6572 6520 7765  Fix bug where we
+000420b0: 2072 6574 7572 6e65 6420 696e 636f 7272   returned incorr
+000420c0: 6563 7420 7374 6174 6520 696e 202f 7379  ect state in /sy
+000420d0: 6e63 2028 5052 2023 3537 3329 0a2d 2020  nc (PR #573).-  
+000420e0: 2041 6c77 6179 7320 7265 7475 726e 2061   Always return a
+000420f0: 204a 534f 4e20 6f62 6a65 6374 2066 726f   JSON object fro
+00042100: 6d20 7075 7368 2072 756c 6520 4150 4920  m push rule API 
+00042110: 2850 5220 2336 3036 290a 2d20 2020 4669  (PR #606).-   Fi
+00042120: 7820 6275 6720 7768 6572 6520 7265 6769  x bug where regi
+00042130: 7374 6572 696e 6720 7769 7468 6f75 7420  stering without 
+00042140: 6120 7573 6572 2069 6420 736f 6d65 7469  a user id someti
+00042150: 6d65 7320 6661 696c 6564 2028 5052 2023  mes failed (PR #
+00042160: 3631 3029 0a2d 2020 2052 6570 6f72 7420  610).-   Report 
+00042170: 7369 7a65 206f 6620 4578 7069 7269 6e67  size of Expiring
+00042180: 4361 6368 6520 696e 2063 6163 6865 2073  Cache in cache s
+00042190: 697a 6520 6d65 7472 6963 7320 2850 5220  ize metrics (PR 
+000421a0: 2336 3131 290a 2d20 2020 4669 7820 7265  #611).-   Fix re
+000421b0: 6a65 6374 696f 6e20 6f66 2069 6e76 6974  jection of invit
+000421c0: 6573 2074 6f20 656d 7074 7920 726f 6f6d  es to empty room
+000421d0: 7320 2850 5220 2336 3135 290a 2d20 2020  s (PR #615).-   
+000421e0: 4669 7820 7573 6167 6520 6f66 2060 6263  Fix usage of `bc
+000421f0: 7279 7074 6020 746f 206e 6f74 2075 7365  rypt` to not use
+00042200: 2060 6368 6563 6b70 7760 2028 5052 2023   `checkpw` (PR #
+00042210: 3631 3929 0a2d 2020 2050 696e 2060 7079  619).-   Pin `py
+00042220: 7361 6d6c 3260 2064 6570 656e 6465 6e63  saml2` dependenc
+00042230: 7920 2850 5220 2336 3334 290a 2d20 2020  y (PR #634).-   
+00042240: 4669 7820 6275 6720 696e 2060 2f73 796e  Fix bug in `/syn
+00042250: 6360 2077 6865 7265 2074 696d 656c 696e  c` where timelin
+00042260: 6520 6f72 6465 7220 7761 7320 696e 636f  e order was inco
+00042270: 7272 6563 7420 666f 7220 6261 636b 6669  rrect for backfi
+00042280: 6c6c 6564 2065 7665 6e74 7320 2850 5220  lled events (PR 
+00042290: 2336 3335 290a 0a43 6861 6e67 6573 2069  #635)..Changes i
+000422a0: 6e20 7379 6e61 7073 6520 7630 2e31 332e  n synapse v0.13.
+000422b0: 3320 2832 3031 362d 3032 2d31 3129 0a3d  3 (2016-02-11).=
+000422c0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000422d0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000422e0: 3d3d 3d3d 3d3d 0a0a 2d20 2020 4669 7820  ======..-   Fix 
+000422f0: 6275 6720 7768 6572 6520 602f 7379 6e63  bug where `/sync
+00042300: 6020 776f 756c 6420 6f63 6361 7369 6f6e  ` would occasion
+00042310: 616c 6c79 2072 6574 7572 6e20 6576 656e  ally return even
+00042320: 7473 2069 6e20 7468 6520 7772 6f6e 6720  ts in the wrong 
+00042330: 726f 6f6d 2e0a 0a43 6861 6e67 6573 2069  room...Changes i
+00042340: 6e20 7379 6e61 7073 6520 7630 2e31 332e  n synapse v0.13.
+00042350: 3220 2832 3031 362d 3032 2d31 3129 0a3d  2 (2016-02-11).=
+00042360: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00042370: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00042380: 3d3d 3d3d 3d3d 0a0a 2d20 2020 4669 7820  ======..-   Fix 
+00042390: 6275 6720 7768 6572 6520 602f 6576 656e  bug where `/even
+000423a0: 7473 6020 776f 756c 6420 6661 696c 2074  ts` would fail t
+000423b0: 6f20 736b 6970 2073 6f6d 6520 6576 656e  o skip some even
+000423c0: 7473 2069 6620 7468 6572 6520 6861 6420  ts if there had 
+000423d0: 6265 656e 206d 6f72 6520 6576 656e 7473  been more events
+000423e0: 2074 6861 6e20 7468 6520 6c69 6d69 7420   than the limit 
+000423f0: 7370 6563 6966 6965 6420 7369 6e63 6520  specified since 
+00042400: 7468 6520 6c61 7374 2072 6571 7565 7374  the last request
+00042410: 2028 5052 2023 3537 3029 0a0a 4368 616e   (PR #570)..Chan
+00042420: 6765 7320 696e 2073 796e 6170 7365 2076  ges in synapse v
+00042430: 302e 3133 2e31 2028 3230 3136 2d30 322d  0.13.1 (2016-02-
+00042440: 3130 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  10).============
+00042450: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00042460: 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a2d 2020  ===========..-  
+00042470: 2042 756d 7020 6d61 7472 6978 2d61 6e67   Bump matrix-ang
+00042480: 756c 6172 2d73 646b 2028 6d61 7472 6978  ular-sdk (matrix
+00042490: 2077 6562 2063 6f6e 736f 6c65 2920 6465   web console) de
+000424a0: 7065 6e64 656e 6379 2074 6f20 302e 362e  pendency to 0.6.
+000424b0: 3820 746f 2070 756c 6c20 696e 2074 6865  8 to pull in the
+000424c0: 2066 6978 2066 6f72 2053 5957 4542 2d33   fix for SYWEB-3
+000424d0: 3631 2073 6f20 7468 6174 2074 6865 2064  61 so that the d
+000424e0: 6566 6175 6c74 2063 6c69 656e 7420 6361  efault client ca
+000424f0: 6e20 6469 7370 6c61 7920 4854 4d4c 206d  n display HTML m
+00042500: 6573 7361 6765 7320 6167 6169 6e28 2129  essages again(!)
+00042510: 0a0a 4368 616e 6765 7320 696e 2073 796e  ..Changes in syn
+00042520: 6170 7365 2076 302e 3133 2e30 2028 3230  apse v0.13.0 (20
+00042530: 3136 2d30 322d 3130 290a 3d3d 3d3d 3d3d  16-02-10).======
+00042540: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00042550: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00042560: 3d0a 0a54 6869 7320 7665 7273 696f 6e20  =..This version 
+00042570: 696e 636c 7564 6573 2061 6e20 7570 6772  includes an upgr
+00042580: 6164 6520 6f66 2074 6865 2073 6368 656d  ade of the schem
+00042590: 612c 2073 7065 6369 6669 6361 6c6c 7920  a, specifically 
+000425a0: 6164 6469 6e67 2061 6e20 696e 6465 7820  adding an index 
+000425b0: 746f 2074 6865 2060 6576 656e 7473 6020  to the `events` 
+000425c0: 7461 626c 652e 2054 6869 7320 6d61 7920  table. This may 
+000425d0: 6361 7573 6520 7379 6e61 7073 6520 746f  cause synapse to
+000425e0: 2070 6175 7365 2066 6f72 2073 6576 6572   pause for sever
+000425f0: 616c 206d 696e 7574 6573 2074 6865 2066  al minutes the f
+00042600: 6972 7374 2074 696d 6520 6974 2069 7320  irst time it is 
+00042610: 7374 6172 7465 6420 6166 7465 7220 7468  started after th
+00042620: 6520 7570 6772 6164 652e 0a0a 4368 616e  e upgrade...Chan
+00042630: 6765 733a 0a0a 2d20 2020 496d 7072 6f76  ges:..-   Improv
+00042640: 6520 6765 6e65 7261 6c20 7065 7266 6f72  e general perfor
+00042650: 6d61 6e63 6520 2850 5220 2335 3430 2c20  mance (PR #540, 
+00042660: 2335 3433 2e20 5c23 3534 342c 2023 3534  #543. \#544, #54
+00042670: 2c20 2335 3439 2c20 2335 3637 290a 2d20  , #549, #567).- 
+00042680: 2020 4368 616e 6765 2067 7565 7374 2075    Change guest u
+00042690: 7365 7220 6964 7320 746f 2062 6520 696e  ser ids to be in
+000426a0: 6372 656d 656e 7469 6e67 2069 6e74 6567  crementing integ
+000426b0: 6572 7320 2850 5220 2335 3530 290a 2d20  ers (PR #550).- 
+000426c0: 2020 496d 7072 6f76 6520 7065 7266 6f72    Improve perfor
+000426d0: 6d61 6e63 6520 6f66 2070 7562 6c69 6320  mance of public 
+000426e0: 726f 6f6d 206c 6973 7420 4150 4920 2850  room list API (P
+000426f0: 5220 2335 3532 290a 2d20 2020 4368 616e  R #552).-   Chan
+00042700: 6765 2070 726f 6669 6c65 2041 5049 2074  ge profile API t
+00042710: 6f20 6f6d 6974 206b 6579 7320 7261 7468  o omit keys rath
+00042720: 6572 2074 6861 6e20 7265 7475 726e 206e  er than return n
+00042730: 756c 6c20 2850 5220 2335 3537 290a 2d20  ull (PR #557).- 
+00042740: 2020 4164 6420 602f 6d65 6469 612f 7230    Add `/media/r0
+00042750: 6020 656e 6470 6f69 6e74 2070 7265 6669  ` endpoint prefi
+00042760: 782c 2077 6869 6368 2069 7320 6571 7569  x, which is equi
+00042770: 7661 6c65 6e74 2074 6f20 602f 6d65 6469  valent to `/medi
+00042780: 612f 7631 2f60 2028 5052 2023 3539 3529  a/v1/` (PR #595)
+00042790: 0a0a 4275 6720 6669 7865 733a 0a0a 2d20  ..Bug fixes:..- 
+000427a0: 2020 4669 7820 6275 6720 7769 7468 2075    Fix bug with u
+000427b0: 7067 7261 6469 6e67 2067 7565 7374 2061  pgrading guest a
+000427c0: 6363 6f75 6e74 7320 7768 6572 6520 6974  ccounts where it
+000427d0: 2077 6f75 6c64 2066 6169 6c20 6966 2079   would fail if y
+000427e0: 6f75 206f 7065 6e65 6420 7468 6520 7265  ou opened the re
+000427f0: 6769 7374 7261 7469 6f6e 2065 6d61 696c  gistration email
+00042800: 206f 6e20 6120 6469 6666 6572 656e 7420   on a different 
+00042810: 6465 7669 6365 2028 5052 2023 3534 3729  device (PR #547)
+00042820: 0a2d 2020 2046 6978 2062 7567 2077 6865  .-   Fix bug whe
+00042830: 7265 2075 6e72 6561 6420 636f 756e 7420  re unread count 
+00042840: 636f 756c 6420 6265 2077 726f 6e67 2028  could be wrong (
+00042850: 5052 2023 3536 3829 0a0a 4368 616e 6765  PR #568)..Change
+00042860: 7320 696e 2073 796e 6170 7365 2076 302e  s in synapse v0.
+00042870: 3132 2e31 2d72 6331 2028 3230 3136 2d30  12.1-rc1 (2016-0
+00042880: 312d 3239 290a 3d3d 3d3d 3d3d 3d3d 3d3d  1-29).==========
+00042890: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000428a0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000428b0: 3d0a 0a46 6561 7475 7265 733a 0a0a 2d20  =..Features:..- 
+000428c0: 2020 4164 6420 756e 7265 6164 206e 6f74    Add unread not
+000428d0: 6966 6963 6174 696f 6e20 636f 756e 7473  ification counts
+000428e0: 2069 6e20 602f 7379 6e63 6020 2850 5220   in `/sync` (PR 
+000428f0: 2334 3536 290a 2d20 2020 4164 6420 7375  #456).-   Add su
+00042900: 7070 6f72 7420 666f 7220 696e 7669 7469  pport for inviti
+00042910: 6e67 2033 7069 6473 2069 6e20 602f 6372  ng 3pids in `/cr
+00042920: 6561 7465 526f 6f6d 6020 2850 5220 2334  eateRoom` (PR #4
+00042930: 3630 290a 2d20 2020 4164 6420 6162 696c  60).-   Add abil
+00042940: 6974 7920 666f 7220 6775 6573 7420 6163  ity for guest ac
+00042950: 636f 756e 7473 2074 6f20 7570 6772 6164  counts to upgrad
+00042960: 6520 2850 5220 2334 3632 290a 2d20 2020  e (PR #462).-   
+00042970: 4164 6420 602f 7665 7273 696f 6e73 6020  Add `/versions` 
+00042980: 4150 4920 2850 5220 2334 3638 290a 2d20  API (PR #468).- 
+00042990: 2020 4164 6420 6065 7665 6e74 6020 746f    Add `event` to
+000429a0: 2060 2f63 6f6e 7465 7874 6020 4150 4920   `/context` API 
+000429b0: 2850 5220 2334 3932 290a 2d20 2020 4164  (PR #492).-   Ad
+000429c0: 6420 7370 6563 6966 6963 2065 7272 6f72  d specific error
+000429d0: 2063 6f64 6520 666f 7220 696e 7661 6c69   code for invali
+000429e0: 6420 7573 6572 206e 616d 6573 2069 6e20  d user names in 
+000429f0: 602f 7265 6769 7374 6572 6020 2850 5220  `/register` (PR 
+00042a00: 2334 3939 290a 2d20 2020 4164 6420 7375  #499).-   Add su
+00042a10: 7070 6f72 7420 666f 7220 7075 7368 2062  pport for push b
+00042a20: 6164 6765 2063 6f75 6e74 7320 2850 5220  adge counts (PR 
+00042a30: 2335 3037 290a 2d20 2020 4164 6420 7375  #507).-   Add su
+00042a40: 7070 6f72 7420 666f 7220 6e6f 6e2d 6775  pport for non-gu
+00042a50: 6573 7420 7573 6572 7320 746f 2070 6565  est users to pee
+00042a60: 6b20 696e 2072 6f6f 6d73 2075 7369 6e67  k in rooms using
+00042a70: 2060 2f65 7665 6e74 7360 2028 5052 2023   `/events` (PR #
+00042a80: 3531 3029 0a0a 4368 616e 6765 733a 0a0a  510)..Changes:..
+00042a90: 2d20 2020 4368 616e 6765 2060 2f73 796e  -   Change `/syn
+00042aa0: 6360 2073 6f20 7468 6174 2067 7565 7374  c` so that guest
+00042ab0: 2075 7365 7273 206f 6e6c 7920 6765 7420   users only get 
+00042ac0: 726f 6f6d 7320 7468 6579 5c27 7665 206a  rooms they\'ve j
+00042ad0: 6f69 6e65 6420 2850 5220 2334 3639 290a  oined (PR #469).
+00042ae0: 2d20 2020 4368 616e 6765 2074 6f20 7265  -   Change to re
+00042af0: 7175 6972 6520 756e 6261 6e6e 696e 6720  quire unbanning 
+00042b00: 6265 666f 7265 206f 7468 6572 206d 656d  before other mem
+00042b10: 6265 7273 6869 7020 6368 616e 6765 7320  bership changes 
+00042b20: 2850 5220 2335 3031 290a 2d20 2020 4368  (PR #501).-   Ch
+00042b30: 616e 6765 2064 6566 6175 6c74 2070 7573  ange default pus
+00042b40: 6820 7275 6c65 7320 746f 206e 6f74 6966  h rules to notif
+00042b50: 7920 666f 7220 616c 6c20 6d65 7373 6167  y for all messag
+00042b60: 6573 2028 5052 2023 3438 3629 0a2d 2020  es (PR #486).-  
+00042b70: 2043 6861 6e67 6520 6465 6661 756c 7420   Change default 
+00042b80: 7075 7368 2072 756c 6573 2074 6f20 6e6f  push rules to no
+00042b90: 7420 6e6f 7469 6679 206f 6e20 6d65 6d62  t notify on memb
+00042ba0: 6572 7368 6970 2063 6861 6e67 6573 2028  ership changes (
+00042bb0: 5052 2023 3531 3429 0a2d 2020 2043 6861  PR #514).-   Cha
+00042bc0: 6e67 6520 6465 6661 756c 7420 7075 7368  nge default push
+00042bd0: 2072 756c 6573 2069 6e20 6f6e 6520 746f   rules in one to
+00042be0: 206f 6e65 2072 6f6f 6d73 2074 6f20 6f6e   one rooms to on
+00042bf0: 6c79 206e 6f74 6966 7920 666f 7220 6576  ly notify for ev
+00042c00: 656e 7473 2074 6861 7420 6172 6520 6d65  ents that are me
+00042c10: 7373 6167 6573 2028 5052 2023 3532 3929  ssages (PR #529)
+00042c20: 0a2d 2020 2043 6861 6e67 6520 602f 7379  .-   Change `/sy
+00042c30: 6e63 6020 746f 2072 656a 6563 7420 7265  nc` to reject re
+00042c40: 7175 6573 7473 2077 6974 6820 6120 6066  quests with a `f
+00042c50: 726f 6d60 2071 7565 7279 2070 6172 616d  rom` query param
+00042c60: 2028 5052 2023 3531 3229 0a2d 2020 2043   (PR #512).-   C
+00042c70: 6861 6e67 6520 7365 7276 6572 206d 616e  hange server man
+00042c80: 686f 6c65 2074 6f20 7573 6520 5353 4820  hole to use SSH 
+00042c90: 7261 7468 6572 2074 6861 6e20 7465 6c6e  rather than teln
+00042ca0: 6574 2028 5052 2023 3437 3329 0a2d 2020  et (PR #473).-  
+00042cb0: 2043 6861 6e67 6520 7365 7276 6572 2074   Change server t
+00042cc0: 6f20 7265 7175 6972 6520 4153 2075 7365  o require AS use
+00042cd0: 7273 2074 6f20 6265 2072 6567 6973 7465  rs to be registe
+00042ce0: 7265 6420 6265 666f 7265 2075 7365 2028  red before use (
+00042cf0: 5052 2023 3438 3729 0a2d 2020 2043 6861  PR #487).-   Cha
+00042d00: 6e67 6520 7365 7276 6572 206e 6f74 2074  nge server not t
+00042d10: 6f20 7374 6172 7420 7768 656e 2041 5365  o start when ASe
+00042d20: 7320 6172 6520 696e 7661 6c69 646c 7920  s are invalidly 
+00042d30: 636f 6e66 6967 7572 6564 2028 5052 2023  configured (PR #
+00042d40: 3439 3429 0a2d 2020 2043 6861 6e67 6520  494).-   Change 
+00042d50: 7365 7276 6572 2074 6f20 7265 7175 6972  server to requir
+00042d60: 6520 4944 2061 6e64 2060 6173 5f74 6f6b  e ID and `as_tok
+00042d70: 656e 6020 746f 2062 6520 756e 6971 7565  en` to be unique
+00042d80: 2066 6f72 2041 535c 2773 2028 5052 2023   for AS\'s (PR #
+00042d90: 3439 3629 0a2d 2020 2043 6861 6e67 6520  496).-   Change 
+00042da0: 6d61 7869 6d75 6d20 7061 6769 6e61 7469  maximum paginati
+00042db0: 6f6e 206c 696d 6974 2074 6f20 3130 3030  on limit to 1000
+00042dc0: 2028 5052 2023 3439 3729 0a0a 4275 6720   (PR #497)..Bug 
+00042dd0: 6669 7865 733a 0a0a 2d20 2020 4669 7820  fixes:..-   Fix 
+00042de0: 6275 6720 7768 6572 6520 602f 7379 6e63  bug where `/sync
+00042df0: 6020 6469 646e 5c27 7420 7265 7475 726e  ` didn\'t return
+00042e00: 2077 6865 6e20 736f 6d65 7468 696e 6720   when something 
+00042e10: 756e 6465 7220 7468 6520 6c65 6176 6520  under the leave 
+00042e20: 6b65 7920 6368 616e 6765 6420 2850 5220  key changed (PR 
+00042e30: 2334 3631 290a 2d20 2020 4669 7820 6275  #461).-   Fix bu
+00042e40: 6720 7768 6572 6520 7765 2072 6574 7572  g where we retur
+00042e50: 6e65 6420 736d 616c 6c65 7220 7261 7468  ned smaller rath
+00042e60: 6572 2074 6861 6e20 6c61 7267 6572 2074  er than larger t
+00042e70: 6861 6e20 7265 7175 6573 7465 6420 7468  han requested th
+00042e80: 756d 626e 6169 6c73 2077 6865 6e20 606d  umbnails when `m
+00042e90: 6574 686f 643d 6372 6f70 6020 2850 5220  ethod=crop` (PR 
+00042ea0: 2334 3634 290a 2d20 2020 4669 7820 7468  #464).-   Fix th
+00042eb0: 756d 626e 6169 6c73 2041 5049 2074 6f20  umbnails API to 
+00042ec0: 6f6e 6c79 2072 6574 7572 6e20 6372 6f70  only return crop
+00042ed0: 7065 6420 7468 756d 626e 6169 6c73 2077  ped thumbnails w
+00042ee0: 6865 6e20 6173 6b69 6e67 2066 6f72 2061  hen asking for a
+00042ef0: 2063 726f 7070 6564 2074 6875 6d62 6e61   cropped thumbna
+00042f00: 696c 2028 5052 2023 3437 3529 0a2d 2020  il (PR #475).-  
+00042f10: 2046 6978 2062 7567 2077 6865 7265 2077   Fix bug where w
+00042f20: 6520 6f63 6361 7369 6f6e 616c 6c79 2073  e occasionally s
+00042f30: 7469 6c6c 206c 6f67 6765 6420 6163 6365  till logged acce
+00042f40: 7373 2074 6f6b 656e 7320 2850 5220 2334  ss tokens (PR #4
+00042f50: 3737 290a 2d20 2020 4669 7820 6275 6720  77).-   Fix bug 
+00042f60: 7768 6572 6520 602f 6576 656e 7473 6020  where `/events` 
+00042f70: 776f 756c 6420 616c 7761 7973 2072 6574  would always ret
+00042f80: 7572 6e20 696d 6d65 6469 6174 656c 7920  urn immediately 
+00042f90: 666f 7220 6775 6573 7420 7573 6572 7320  for guest users 
+00042fa0: 2850 5220 2334 3830 290a 2d20 2020 4669  (PR #480).-   Fi
+00042fb0: 7820 6275 6720 7768 6572 6520 602f 7379  x bug where `/sy
+00042fc0: 6e63 6020 756e 6578 7065 6374 6564 6c79  nc` unexpectedly
+00042fd0: 2072 6574 7572 6e65 6420 6f6c 6420 6c65   returned old le
+00042fe0: 6674 2072 6f6f 6d73 2028 5052 2023 3438  ft rooms (PR #48
+00042ff0: 3129 0a2d 2020 2046 6978 2065 6e61 626c  1).-   Fix enabl
+00043000: 696e 6720 616e 6420 6469 7361 626c 696e  ing and disablin
+00043010: 6720 7075 7368 2072 756c 6573 2028 5052  g push rules (PR
+00043020: 2023 3439 3829 0a2d 2020 2046 6978 2062   #498).-   Fix b
+00043030: 7567 2077 6865 7265 2060 2f72 6567 6973  ug where `/regis
+00043040: 7465 7260 2072 6574 7572 6e65 6420 3530  ter` returned 50
+00043050: 3020 7768 656e 2067 6976 656e 2075 6e69  0 when given uni
+00043060: 636f 6465 2075 7365 726e 616d 6520 2850  code username (P
+00043070: 5220 2335 3133 290a 0a43 6861 6e67 6573  R #513)..Changes
+00043080: 2069 6e20 7379 6e61 7073 6520 7630 2e31   in synapse v0.1
+00043090: 322e 3020 2832 3031 362d 3031 2d30 3429  2.0 (2016-01-04)
+000430a0: 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  .===============
+000430b0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000430c0: 3d3d 3d3d 3d3d 3d3d 0a0a 2d20 2020 4578  ========..-   Ex
+000430d0: 706f 7365 2060 2f6c 6f67 696e 6020 756e  pose `/login` un
+000430e0: 6465 7220 6072 3060 2028 5052 2023 3435  der `r0` (PR #45
+000430f0: 3929 0a0a 4368 616e 6765 7320 696e 2073  9)..Changes in s
+00043100: 796e 6170 7365 2076 302e 3132 2e30 2d72  ynapse v0.12.0-r
+00043110: 6333 2028 3230 3135 2d31 322d 3233 290a  c3 (2015-12-23).
+00043120: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00043130: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00043140: 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a2d 2020  ===========..-  
+00043150: 2041 6c6c 6f77 2067 7565 7374 2061 6363   Allow guest acc
+00043160: 6f75 6e74 7320 6163 6365 7373 2074 6f20  ounts access to 
+00043170: 602f 7379 6e63 6020 2850 5220 2334 3535  `/sync` (PR #455
+00043180: 290a 2d20 2020 416c 6c6f 7720 6669 6c74  ).-   Allow filt
+00043190: 6572 7320 746f 2069 6e63 6c75 6465 2f65  ers to include/e
+000431a0: 7863 6c75 6465 2072 6f6f 6d73 2061 7420  xclude rooms at 
+000431b0: 7468 6520 726f 6f6d 206c 6576 656c 2072  the room level r
+000431c0: 6174 6865 7220 7468 616e 206a 7573 7420  ather than just 
+000431d0: 6672 6f6d 2074 6865 2063 6f6d 706f 6e65  from the compone
+000431e0: 6e74 7320 6f66 2074 6865 2073 796e 6320  nts of the sync 
+000431f0: 666f 7220 6561 6368 2072 6f6f 6d2e 2028  for each room. (
+00043200: 5052 2023 3435 3429 0a2d 2020 2049 6e63  PR #454).-   Inc
+00043210: 6c75 6465 2075 726c 7320 666f 7220 726f  lude urls for ro
+00043220: 6f6d 2061 7661 7461 7273 2069 6e20 7468  om avatars in th
+00043230: 6520 7265 7370 6f6e 7365 2074 6f20 602f  e response to `/
+00043240: 7075 626c 6963 526f 6f6d 7360 2028 5052  publicRooms` (PR
+00043250: 2023 3435 3329 0a2d 2020 2044 6f6e 5c27   #453).-   Don\'
+00043260: 7420 7365 7420 6120 6964 656e 7469 636f  t set a identico
+00043270: 6e20 6173 2074 6865 2061 7661 7461 7220  n as the avatar 
+00043280: 666f 7220 6120 7573 6572 2077 6865 6e20  for a user when 
+00043290: 7468 6579 2072 6567 6973 7465 7220 2850  they register (P
+000432a0: 5220 2334 3530 290a 2d20 2020 4164 6420  R #450).-   Add 
+000432b0: 6120 6064 6973 706c 6179 5f6e 616d 6560  a `display_name`
+000432c0: 2074 6f20 7468 6972 642d 7061 7274 7920   to third-party 
+000432d0: 696e 7669 7465 7320 2850 5220 2334 3439  invites (PR #449
+000432e0: 290a 2d20 2020 5365 6e64 206d 6f72 6520  ).-   Send more 
+000432f0: 696e 666f 726d 6174 696f 6e20 746f 2074  information to t
+00043300: 6865 2069 6465 6e74 6974 7920 7365 7276  he identity serv
+00043310: 6572 2066 6f72 2074 6869 7264 2d70 6172  er for third-par
+00043320: 7479 2069 6e76 6974 6573 2073 6f20 7468  ty invites so th
+00043330: 6174 2069 7420 6361 6e20 7365 6e64 2072  at it can send r
+00043340: 6963 6865 7220 6d65 7373 6167 6573 2074  icher messages t
+00043350: 6f20 7468 6520 696e 7669 7465 6520 2850  o the invitee (P
+00043360: 5220 2334 3436 290a 2d20 2020 4361 6368  R #446).-   Cach
+00043370: 6520 7468 6520 7265 7370 6f6e 7365 7320  e the responses 
+00043380: 746f 2060 2f69 6e69 7469 616c 5379 6e63  to `/initialSync
+00043390: 6020 666f 7220 3520 6d69 6e75 7465 732e  ` for 5 minutes.
+000433a0: 2049 6620 6120 636c 6965 6e74 2072 6574   If a client ret
+000433b0: 7269 6573 2061 2072 6571 7565 7374 2074  ries a request t
+000433c0: 6f20 602f 696e 6974 6961 6c53 796e 6360  o `/initialSync`
+000433d0: 2062 6566 6f72 6520 7468 6520 6120 7265   before the a re
+000433e0: 7370 6f6e 7365 2077 6173 2063 6f6d 7075  sponse was compu
+000433f0: 7465 6420 746f 2074 6865 2066 6972 7374  ted to the first
+00043400: 2072 6571 7565 7374 2074 6865 6e20 7468   request then th
+00043410: 6520 7361 6d65 2072 6573 706f 6e73 6520  e same response 
+00043420: 6973 2075 7365 6420 666f 7220 626f 7468  is used for both
+00043430: 2072 6571 7565 7374 7320 2850 5220 2334   requests (PR #4
+00043440: 3537 290a 2d20 2020 4669 7820 6120 6275  57).-   Fix a bu
+00043450: 6720 7768 6572 6520 7379 6e61 7073 6520  g where synapse 
+00043460: 776f 756c 6420 616c 7761 7973 2072 6571  would always req
+00043470: 7565 7374 2074 6865 2073 6967 6e69 6e67  uest the signing
+00043480: 206b 6579 7320 6f66 2072 656d 6f74 6520   keys of remote 
+00043490: 7365 7276 6572 7320 6576 656e 2077 6865  servers even whe
+000434a0: 6e20 7468 6520 6b65 7920 7761 7320 6361  n the key was ca
+000434b0: 6368 6564 206c 6f63 616c 6c79 2028 5052  ched locally (PR
+000434c0: 2023 3435 3229 0a2d 2020 2046 6978 2035   #452).-   Fix 5
+000434d0: 3030 2077 6865 6e20 7061 6769 6e61 7469  00 when paginati
+000434e0: 6f6e 2073 6561 7263 6820 7265 7375 6c74  on search result
+000434f0: 7320 2850 5220 2334 3437 290a 2d20 2020  s (PR #447).-   
+00043500: 4669 7820 6120 6275 6720 7768 6572 6520  Fix a bug where 
+00043510: 7379 6e61 7073 6520 7761 7320 6c65 616b  synapse was leak
+00043520: 696e 6720 7261 7720 656d 6169 6c20 6164  ing raw email ad
+00043530: 6472 6573 7320 696e 2074 6869 7264 2d70  dress in third-p
+00043540: 6172 7479 2069 6e76 6974 6573 2028 5052  arty invites (PR
+00043550: 2023 3434 3829 0a0a 4368 616e 6765 7320   #448)..Changes 
+00043560: 696e 2073 796e 6170 7365 2076 302e 3132  in synapse v0.12
+00043570: 2e30 2d72 6332 2028 3230 3135 2d31 322d  .0-rc2 (2015-12-
+00043580: 3134 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  14).============
 00043590: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000435a0: 3d3d 3d3d 3d3d 3d0a 0a2d 2020 2048 6f73  =======..-   Hos
-000435b0: 7420 7468 6520 636c 6965 6e74 2041 5049  t the client API
-000435c0: 7320 7265 6c65 6173 6564 2061 7320 7230  s released as r0
-000435d0: 2062 7920 3c68 7474 7073 3a2f 2f6d 6174   by <https://mat
-000435e0: 7269 782e 6f72 672f 646f 6373 2f73 7065  rix.org/docs/spe
-000435f0: 632f 7230 2e30 2e30 2f63 6c69 656e 745f  c/r0.0.0/client_
-00043600: 7365 7276 6572 2e68 746d 6c3e 206f 6e20  server.html> on 
-00043610: 7061 7468 7320 7072 6566 6978 6564 2062  paths prefixed b
-00043620: 7920 602f 5f6d 6174 7269 782f 636c 6965  y `/_matrix/clie
-00043630: 6e74 2f72 3060 2e20 2850 5220 2334 3330  nt/r0`. (PR #430
-00043640: 2c20 5052 2023 3431 352c 2050 5220 2334  , PR #415, PR #4
-00043650: 3030 290a 2d20 2020 5570 6461 7465 7320  00).-   Updates 
-00043660: 7468 6520 636c 6965 6e74 2041 5049 7320  the client APIs 
-00043670: 746f 206d 6174 6368 2072 3020 6f66 2074  to match r0 of t
-00043680: 6865 206d 6174 7269 7820 7370 6563 6966  he matrix specif
-00043690: 6963 6174 696f 6e2e 0a20 2020 202d 2020  ication..    -  
-000436a0: 2041 6c6c 2041 5049 7320 7265 7475 726e   All APIs return
-000436b0: 2065 7665 6e74 7320 696e 2074 6865 206e   events in the n
-000436c0: 6577 2065 7665 6e74 2066 6f72 6d61 742c  ew event format,
-000436d0: 206f 6c64 2041 5049 7320 616c 736f 2069   old APIs also i
-000436e0: 6e63 6c75 6465 2074 6865 2066 6965 6c64  nclude the field
-000436f0: 7320 6e65 6564 6564 2074 6f20 7061 7273  s needed to pars
-00043700: 6520 7468 6520 6576 656e 7420 7573 696e  e the event usin
-00043710: 6720 7468 6520 6f6c 6420 666f 726d 6174  g the old format
-00043720: 2066 6f72 2063 6f6d 7061 7469 6269 6c69   for compatibili
-00043730: 7479 2e20 2850 5220 2334 3032 290a 2020  ty. (PR #402).  
-00043740: 2020 2d20 2020 5365 6172 6368 2072 6573    -   Search res
-00043750: 756c 7473 2061 7265 206e 6f77 2067 6976  ults are now giv
-00043760: 656e 2061 7320 6120 4a53 4f4e 2061 7272  en as a JSON arr
-00043770: 6179 2072 6174 6865 7220 7468 616e 2061  ay rather than a
-00043780: 204a 534f 4e20 6f62 6a65 6374 2028 5052   JSON object (PR
-00043790: 2023 3430 3529 0a20 2020 202d 2020 204d   #405).    -   M
-000437a0: 6973 6365 6c6c 616e 656f 7573 2063 6861  iscellaneous cha
-000437b0: 6e67 6573 2074 6f20 7365 6172 6368 2028  nges to search (
-000437c0: 5052 2023 3430 332c 2050 5220 2334 3036  PR #403, PR #406
-000437d0: 2c20 5052 2023 3431 3229 0a20 2020 202d  , PR #412).    -
-000437e0: 2020 2046 696c 7465 7220 4a53 4f4e 206f     Filter JSON o
-000437f0: 626a 6563 7473 206d 6179 206e 6f77 2062  bjects may now b
-00043800: 6520 7061 7373 6564 2061 7320 7175 6572  e passed as quer
-00043810: 7920 7061 7261 6d65 7465 7273 2074 6f20  y parameters to 
-00043820: 602f 7379 6e63 6020 2850 5220 2334 3331  `/sync` (PR #431
-00043830: 290a 2020 2020 2d20 2020 4669 7820 696d  ).    -   Fix im
-00043840: 706c 656d 656e 7461 7469 6f6e 206f 6620  plementation of 
-00043850: 602f 6164 6d69 6e2f 7768 6f69 7360 2028  `/admin/whois` (
-00043860: 5052 2023 3431 3829 0a20 2020 202d 2020  PR #418).    -  
-00043870: 204f 6e6c 7920 696e 636c 7564 6520 7468   Only include th
-00043880: 6520 726f 6f6d 7320 7468 6174 2075 7365  e rooms that use
-00043890: 7220 6861 7320 6c65 6674 2069 6e20 602f  r has left in `/
-000438a0: 7379 6e63 6020 6966 2074 6865 2063 6c69  sync` if the cli
-000438b0: 656e 7420 7265 7175 6573 7473 2074 6865  ent requests the
-000438c0: 6d20 696e 2074 6865 2066 696c 7465 7220  m in the filter 
-000438d0: 2850 5220 2334 3233 290a 2020 2020 2d20  (PR #423).    - 
-000438e0: 2020 446f 6e5c 2774 2070 7573 6820 666f    Don\'t push fo
-000438f0: 7220 606d 2e72 6f6f 6d2e 6d65 7373 6167  r `m.room.messag
-00043900: 6560 2062 7920 6465 6661 756c 7420 2850  e` by default (P
-00043910: 5220 2334 3131 290a 2020 2020 2d20 2020  R #411).    -   
-00043920: 4164 6420 4150 4920 666f 7220 7365 7474  Add API for sett
-00043930: 696e 6720 7065 7220 6163 636f 756e 7420  ing per account 
-00043940: 7573 6572 2064 6174 6120 2850 5220 2333  user data (PR #3
-00043950: 3932 290a 2020 2020 2d20 2020 416c 6c6f  92).    -   Allo
-00043960: 7720 7573 6572 7320 746f 2066 6f72 6765  w users to forge
-00043970: 7420 726f 6f6d 7320 2850 5220 2333 3835  t rooms (PR #385
-00043980: 290a 2d20 2020 5065 7266 6f72 6d61 6e63  ).-   Performanc
-00043990: 6520 696d 7072 6f76 656d 656e 7473 2061  e improvements a
-000439a0: 6e64 206d 6f6e 6974 6f72 696e 673a 0a20  nd monitoring:. 
-000439b0: 2020 202d 2020 2041 6464 2070 6572 2d72     -   Add per-r
-000439c0: 6571 7565 7374 2063 6f75 6e74 6572 7320  equest counters 
-000439d0: 666f 7220 4350 5520 7469 6d65 2073 7065  for CPU time spe
-000439e0: 6e74 206f 6e20 7468 6520 6d61 696e 2070  nt on the main p
-000439f0: 7974 686f 6e20 7468 7265 6164 2e20 2850  ython thread. (P
-00043a00: 5220 2334 3231 2c20 5052 2023 3432 3029  R #421, PR #420)
-00043a10: 0a20 2020 202d 2020 2041 6464 2070 6572  .    -   Add per
-00043a20: 2d72 6571 7565 7374 2063 6f75 6e74 6572  -request counter
-00043a30: 7320 666f 7220 7469 6d65 2073 7065 6e74  s for time spent
-00043a40: 2069 6e20 7468 6520 6461 7461 6261 7365   in the database
-00043a50: 2028 5052 2023 3432 3929 0a20 2020 202d   (PR #429).    -
-00043a60: 2020 204d 616b 6520 7374 6174 6520 7570     Make state up
-00043a70: 6461 7465 7320 696e 2074 6865 2043 2b53  dates in the C+S
-00043a80: 2041 5049 2069 6465 6d70 6f74 656e 7420   API idempotent 
-00043a90: 2850 5220 2334 3136 290a 2020 2020 2d20  (PR #416).    - 
-00043aa0: 2020 4f6e 6c79 2066 6972 6520 6075 7365    Only fire `use
-00043ab0: 725f 6a6f 696e 6564 5f72 6f6f 6d60 2069  r_joined_room` i
-00043ac0: 6620 7468 6520 7573 6572 2068 6173 2061  f the user has a
-00043ad0: 6374 7561 6c6c 7920 6a6f 696e 6564 2e20  ctually joined. 
-00043ae0: 2850 5220 2334 3130 290a 2020 2020 2d20  (PR #410).    - 
-00043af0: 2020 5265 7573 6520 6120 7369 6e67 6c65    Reuse a single
-00043b00: 2068 7474 7020 636c 6965 6e74 2c20 7261   http client, ra
-00043b10: 7468 6572 2074 6861 6e20 6372 6561 7469  ther than creati
-00043b20: 6e67 206e 6577 206f 6e65 7320 2850 5220  ng new ones (PR 
-00043b30: 2334 3133 290a 2d20 2020 4669 7865 6420  #413).-   Fixed 
-00043b40: 6120 6275 6720 7570 6772 6164 696e 6720  a bug upgrading 
-00043b50: 6672 6f6d 206f 6c64 6572 2076 6572 7369  from older versi
-00043b60: 6f6e 7320 6f66 2073 796e 6170 7365 206f  ons of synapse o
-00043b70: 6e20 706f 7374 6772 6573 716c 2028 5052  n postgresql (PR
-00043b80: 2023 3431 3729 0a0a 4368 616e 6765 7320   #417)..Changes 
-00043b90: 696e 2073 796e 6170 7365 2076 302e 3131  in synapse v0.11
-00043ba0: 2e31 2028 3230 3135 2d31 312d 3230 290a  .1 (2015-11-20).
-00043bb0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00043bc0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00043bd0: 3d3d 3d3d 3d3d 3d0a 0a2d 2020 2041 6464  =======..-   Add
-00043be0: 2065 7874 7261 206f 7074 696f 6e73 2074   extra options t
-00043bf0: 6f20 7365 6172 6368 2041 5049 2028 5052  o search API (PR
-00043c00: 2023 3339 3429 0a2d 2020 2046 6978 2062   #394).-   Fix b
-00043c10: 7567 2077 6865 7265 2077 6520 6469 6420  ug where we did 
-00043c20: 6e6f 7420 636f 7272 6563 746c 7920 6361  not correctly ca
-00043c30: 7020 6665 6465 7261 7469 6f6e 2072 6574  p federation ret
-00043c40: 7279 2074 696d 6572 732e 2054 6869 7320  ry timers. This 
-00043c50: 6d65 616e 7420 6974 2063 6f75 6c64 2074  meant it could t
-00043c60: 616b 6520 7365 7665 7261 6c20 686f 7572  ake several hour
-00043c70: 7320 666f 7220 7365 7276 6572 7320 746f  s for servers to
-00043c80: 2073 7461 7274 2074 616c 6b69 6e67 2074   start talking t
-00043c90: 6f20 7265 7373 7572 6563 7465 6420 7365  o ressurected se
-00043ca0: 7276 6572 732c 2065 7665 6e20 7768 656e  rvers, even when
-00043cb0: 2074 6865 7920 7765 7265 2072 6563 6569   they were recei
-00043cc0: 7669 6e67 2074 7261 6666 6963 2066 726f  ving traffic fro
-00043cd0: 6d20 7468 656d 2028 5052 2023 3339 3329  m them (PR #393)
-00043ce0: 0a2d 2020 2044 6f6e 5c27 7420 6164 7665  .-   Don\'t adve
-00043cf0: 7274 6973 6520 6c6f 6769 6e20 746f 6b65  rtise login toke
-00043d00: 6e20 666c 6f77 2075 6e6c 6573 7320 4341  n flow unless CA
-00043d10: 5320 6973 2065 6e61 626c 6564 2e20 5468  S is enabled. Th
-00043d20: 6973 2063 6175 7365 6420 6973 7375 6573  is caused issues
-00043d30: 2077 6865 7265 2073 6f6d 6520 636c 6965   where some clie
-00043d40: 6e74 7320 776f 756c 6420 616c 7761 7973  nts would always
-00043d50: 2075 7365 2074 6865 2066 616c 6c62 6163   use the fallbac
-00043d60: 6b20 4150 4920 6966 2074 6865 7920 6469  k API if they di
-00043d70: 6420 6e6f 7420 7265 636f 676e 697a 6520  d not recognize 
-00043d80: 616c 6c20 6c6f 6769 6e20 666c 6f77 7320  all login flows 
-00043d90: 2850 5220 2333 3931 290a 2d20 2020 4368  (PR #391).-   Ch
-00043da0: 616e 6765 202f 7632 2073 796e 6320 4150  ange /v2 sync AP
-00043db0: 4920 746f 2072 656e 616d 6520 6070 7269  I to rename `pri
-00043dc0: 7661 7465 5f75 7365 725f 6461 7461 6020  vate_user_data` 
-00043dd0: 746f 2060 6163 636f 756e 745f 6461 7461  to `account_data
-00043de0: 6020 2850 5220 2333 3836 290a 2d20 2020  ` (PR #386).-   
-00043df0: 4368 616e 6765 202f 7632 2073 796e 6320  Change /v2 sync 
-00043e00: 4150 4920 746f 2072 656d 6f76 6520 7468  API to remove th
-00043e10: 6520 6065 7665 6e74 5f6d 6170 6020 616e  e `event_map` an
-00043e20: 6420 7265 6e61 6d65 206b 6579 7320 696e  d rename keys in
-00043e30: 2060 726f 6f6d 7360 206f 626a 6563 7420   `rooms` object 
-00043e40: 2850 5220 2333 3839 290a 0a43 6861 6e67  (PR #389)..Chang
-00043e50: 6573 2069 6e20 7379 6e61 7073 6520 7630  es in synapse v0
-00043e60: 2e31 312e 302d 7232 2028 3230 3135 2d31  .11.0-r2 (2015-1
-00043e70: 312d 3139 290a 3d3d 3d3d 3d3d 3d3d 3d3d  1-19).==========
-00043e80: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00043e90: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00043ea0: 0a0a 2d20 2020 4669 7820 6275 6720 696e  ..-   Fix bug in
-00043eb0: 2064 6174 6162 6173 6520 706f 7274 2073   database port s
-00043ec0: 6372 6970 7420 2850 5220 2333 3837 290a  cript (PR #387).
-00043ed0: 0a43 6861 6e67 6573 2069 6e20 7379 6e61  .Changes in syna
-00043ee0: 7073 6520 7630 2e31 312e 302d 7231 2028  pse v0.11.0-r1 (
-00043ef0: 3230 3135 2d31 312d 3138 290a 3d3d 3d3d  2015-11-18).====
-00043f00: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00043f10: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00043f20: 3d3d 3d3d 3d3d 0a0a 2d20 2020 5265 7472  ======..-   Retr
-00043f30: 7920 616e 6420 6661 696c 2066 6564 6572  y and fail feder
-00043f40: 6174 696f 6e20 7265 7175 6573 7473 206d  ation requests m
-00043f50: 6f72 6520 6167 6772 6573 7369 7665 6c79  ore aggressively
-00043f60: 2066 6f72 2072 6571 7565 7374 7320 7468   for requests th
-00043f70: 6174 2062 6c6f 636b 2063 6c69 656e 7420  at block client 
-00043f80: 7369 6465 2072 6571 7565 7374 7320 2850  side requests (P
-00043f90: 5220 2333 3834 290a 0a43 6861 6e67 6573  R #384)..Changes
-00043fa0: 2069 6e20 7379 6e61 7073 6520 7630 2e31   in synapse v0.1
-00043fb0: 312e 3020 2832 3031 352d 3131 2d31 3729  1.0 (2015-11-17)
-00043fc0: 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  .===============
-00043fd0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00043fe0: 3d3d 3d3d 3d3d 3d3d 0a0a 2d20 2020 4368  ========..-   Ch
-00043ff0: 616e 6765 2043 4153 206c 6f67 696e 2041  ange CAS login A
-00044000: 5049 2028 5052 2023 3334 3929 0a0a 4368  PI (PR #349)..Ch
-00044010: 616e 6765 7320 696e 2073 796e 6170 7365  anges in synapse
-00044020: 2076 302e 3131 2e30 2d72 6332 2028 3230   v0.11.0-rc2 (20
-00044030: 3135 2d31 312d 3133 290a 3d3d 3d3d 3d3d  15-11-13).======
-00044040: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00044050: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00044060: 3d3d 3d3d 3d0a 0a2d 2020 2056 6172 696f  =====..-   Vario
-00044070: 7573 2063 6861 6e67 6573 2074 6f20 2f73  us changes to /s
-00044080: 796e 6320 4150 4920 7265 7370 6f6e 7365  ync API response
-00044090: 2066 6f72 6d61 7420 2850 5220 2333 3733   format (PR #373
-000440a0: 290a 2d20 2020 4669 7820 7265 6772 6573  ).-   Fix regres
-000440b0: 7369 6f6e 2077 6865 6e20 7365 7474 696e  sion when settin
-000440c0: 6720 6469 7370 6c61 7920 6e61 6d65 2069  g display name i
-000440d0: 6e20 6e65 776c 7920 6a6f 696e 6564 2072  n newly joined r
-000440e0: 6f6f 6d20 6f76 6572 2066 6564 6572 6174  oom over federat
-000440f0: 696f 6e20 2850 5220 2333 3638 290a 2d20  ion (PR #368).- 
-00044100: 2020 4669 7820 7072 6f62 6c65 6d20 7768    Fix problem wh
-00044110: 6572 6520 2f73 6561 7263 6820 7761 7320  ere /search was 
-00044120: 736c 6f77 2077 6865 6e20 7573 696e 6720  slow when using 
-00044130: 5351 4c69 7465 2028 5052 2023 3336 3629  SQLite (PR #366)
-00044140: 0a0a 4368 616e 6765 7320 696e 2073 796e  ..Changes in syn
-00044150: 6170 7365 2076 302e 3131 2e30 2d72 6331  apse v0.11.0-rc1
-00044160: 2028 3230 3135 2d31 312d 3131 290a 3d3d   (2015-11-11).==
-00044170: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00044180: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00044190: 3d3d 3d3d 3d3d 3d3d 3d0a 0a2d 2020 2041  =========..-   A
-000441a0: 6464 2053 6561 7263 6820 4150 4920 2850  dd Search API (P
-000441b0: 5220 2333 3037 2c20 2333 3234 2c20 2333  R #307, #324, #3
-000441c0: 3237 2c20 2333 3336 2c20 2333 3530 2c20  27, #336, #350, 
-000441d0: 2333 3539 290a 2d20 2020 4164 6420 5c27  #359).-   Add \'
-000441e0: 6172 6368 6976 6564 5c27 2073 7461 7465  archived\' state
-000441f0: 2074 6f20 7632 202f 7379 6e63 2041 5049   to v2 /sync API
-00044200: 2028 5052 2023 3331 3629 0a2d 2020 2041   (PR #316).-   A
-00044210: 6464 2061 6269 6c69 7479 2074 6f20 7265  dd ability to re
-00044220: 6a65 6374 2069 6e76 6974 6573 2028 5052  ject invites (PR
-00044230: 2023 3331 3729 0a2d 2020 2041 6464 2063   #317).-   Add c
-00044240: 6f6e 6669 6720 6f70 7469 6f6e 2074 6f20  onfig option to 
-00044250: 6469 7361 626c 6520 7061 7373 776f 7264  disable password
-00044260: 206c 6f67 696e 2028 5052 2023 3332 3229   login (PR #322)
-00044270: 0a2d 2020 2041 6464 2074 6865 206c 6f67  .-   Add the log
-00044280: 696e 2066 616c 6c62 6163 6b20 4150 4920  in fallback API 
-00044290: 2850 5220 2333 3330 290a 2d20 2020 4164  (PR #330).-   Ad
-000442a0: 6420 726f 6f6d 2063 6f6e 7465 7874 2041  d room context A
-000442b0: 5049 2028 5052 2023 3333 3429 0a2d 2020  PI (PR #334).-  
-000442c0: 2041 6464 2072 6f6f 6d20 7461 6767 696e   Add room taggin
-000442d0: 6720 7375 7070 6f72 7420 2850 5220 2333  g support (PR #3
-000442e0: 3335 290a 2d20 2020 5570 6461 7465 2076  35).-   Update v
-000442f0: 3220 2f73 796e 6320 4150 4920 746f 206d  2 /sync API to m
-00044300: 6174 6368 2073 7065 6320 2850 5220 2333  atch spec (PR #3
-00044310: 3035 2c20 2333 3136 2c20 2333 3231 2c20  05, #316, #321, 
-00044320: 2333 3332 2c20 2333 3337 2c20 2333 3431  #332, #337, #341
-00044330: 290a 2d20 2020 4368 616e 6765 2072 6574  ).-   Change ret
-00044340: 7279 2073 6368 6564 756c 6520 666f 7220  ry schedule for 
-00044350: 6170 706c 6963 6174 696f 6e20 7365 7276  application serv
-00044360: 6963 6573 2028 5052 2023 3332 3029 0a2d  ices (PR #320).-
-00044370: 2020 2043 6861 6e67 6520 7265 7472 7920     Change retry 
-00044380: 7363 6865 6475 6c65 2066 6f72 2072 656d  schedule for rem
-00044390: 6f74 6520 7365 7276 6572 7320 2850 5220  ote servers (PR 
-000443a0: 2333 3430 290a 2d20 2020 4669 7820 6275  #340).-   Fix bu
-000443b0: 6720 7768 6572 6520 7765 2068 6f73 7465  g where we hoste
-000443c0: 6420 7374 6174 6963 2063 6f6e 7465 6e74  d static content
-000443d0: 2069 6e20 7468 6520 696e 636f 7272 6563   in the incorrec
-000443e0: 7420 706c 6163 6520 2850 5220 2333 3239  t place (PR #329
-000443f0: 290a 2d20 2020 4669 7820 6275 6720 7768  ).-   Fix bug wh
-00044400: 6572 6520 7765 2064 6964 6e5c 2774 2069  ere we didn\'t i
-00044410: 6e63 7265 6d65 6e74 2072 6574 7279 2069  ncrement retry i
-00044420: 6e74 6572 7661 6c20 666f 7220 7265 6d6f  nterval for remo
-00044430: 7465 2073 6572 7665 7273 2028 5052 2023  te servers (PR #
-00044440: 3334 3329 0a0a 4368 616e 6765 7320 696e  343)..Changes in
-00044450: 2073 796e 6170 7365 2076 302e 3130 2e31   synapse v0.10.1
-00044460: 2d72 6331 2028 3230 3135 2d31 302d 3135  -rc1 (2015-10-15
-00044470: 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ).==============
-00044480: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00044490: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a2d  =============..-
-000444a0: 2020 2041 6464 2073 7570 706f 7274 2066     Add support f
-000444b0: 6f72 2043 4153 2c20 7468 616e 6b73 2074  or CAS, thanks t
-000444c0: 6f20 5374 6576 656e 2048 616d 6d65 7274  o Steven Hammert
-000444d0: 6f6e 2028 5052 2023 3239 352c 2023 3239  on (PR #295, #29
-000444e0: 3629 0a2d 2020 2041 6464 2073 7570 706f  6).-   Add suppo
-000444f0: 7274 2066 6f72 2075 7369 6e67 206d 6163  rt for using mac
-00044500: 6172 6f6f 6e73 2066 6f72 2060 6163 6365  aroons for `acce
-00044510: 7373 5f74 6f6b 656e 6020 2850 5220 2332  ss_token` (PR #2
-00044520: 3536 2c20 2332 3239 290a 2d20 2020 4164  56, #229).-   Ad
-00044530: 6420 7375 7070 6f72 7420 666f 7220 606d  d support for `m
-00044540: 2e72 6f6f 6d2e 6361 6e6f 6e69 6361 6c5f  .room.canonical_
-00044550: 616c 6961 7360 2028 5052 2023 3238 3729  alias` (PR #287)
-00044560: 0a2d 2020 2041 6464 2073 7570 706f 7274  .-   Add support
-00044570: 2066 6f72 2076 6965 7769 6e67 2074 6865   for viewing the
-00044580: 2068 6973 746f 7279 206f 6620 726f 6f6d   history of room
-00044590: 7320 7468 6174 2074 6865 7920 6861 7665  s that they have
-000445a0: 206c 6566 742e 2028 5052 2023 3237 362c   left. (PR #276,
-000445b0: 2023 3239 3429 0a2d 2020 2041 6464 2073   #294).-   Add s
-000445c0: 7570 706f 7274 2066 6f72 2072 6566 7265  upport for refre
-000445d0: 7368 2074 6f6b 656e 7320 2850 5220 2332  sh tokens (PR #2
-000445e0: 3430 290a 2d20 2020 4164 6420 666c 6167  40).-   Add flag
-000445f0: 206f 6e20 6372 6561 7469 6f6e 2077 6869   on creation whi
-00044600: 6368 2064 6973 6162 6c65 7320 6665 6465  ch disables fede
-00044610: 7261 7469 6f6e 206f 6620 7468 6520 726f  ration of the ro
-00044620: 6f6d 2028 5052 2023 3237 3929 0a2d 2020  om (PR #279).-  
-00044630: 2041 6464 2073 6f6d 6520 726f 6f6d 2073   Add some room s
-00044640: 7461 7465 2074 6f20 696e 7669 7465 732e  tate to invites.
-00044650: 2028 5052 2023 3237 3529 0a2d 2020 2041   (PR #275).-   A
-00044660: 746f 6d69 6361 6c6c 7920 7065 7273 6973  tomically persis
-00044670: 7420 6576 656e 7473 2077 6865 6e20 6a6f  t events when jo
-00044680: 696e 696e 6720 6120 726f 6f6d 206f 7665  ining a room ove
-00044690: 7220 6665 6465 7261 7469 6f6e 2028 5052  r federation (PR
-000446a0: 2023 3238 3329 0a2d 2020 2043 6861 6e67   #283).-   Chang
-000446b0: 6520 6465 6661 756c 7420 6869 7374 6f72  e default histor
-000446c0: 7920 7669 7369 6269 6c69 7479 2066 6f72  y visibility for
-000446d0: 2070 7269 7661 7465 2072 6f6f 6d73 2028   private rooms (
-000446e0: 5052 2023 3237 3129 0a2d 2020 2041 6c6c  PR #271).-   All
-000446f0: 6f77 2075 7365 7273 2074 6f20 7265 6461  ow users to reda
-00044700: 6374 2074 6865 6972 206f 776e 2073 656e  ct their own sen
-00044710: 7420 6576 656e 7473 2028 5052 2023 3236  t events (PR #26
-00044720: 3229 0a2d 2020 2055 7365 2074 6f78 2066  2).-   Use tox f
-00044730: 6f72 2074 6573 7473 2028 5052 2023 3234  or tests (PR #24
-00044740: 3729 0a2d 2020 2053 706c 6974 2075 7020  7).-   Split up 
-00044750: 7379 7574 696c 2069 6e74 6f20 7365 7061  syutil into sepa
-00044760: 7261 7465 206c 6962 7261 7269 6573 2028  rate libraries (
-00044770: 5052 2023 3234 3329 0a0a 4368 616e 6765  PR #243)..Change
-00044780: 7320 696e 2073 796e 6170 7365 2076 302e  s in synapse v0.
-00044790: 3130 2e30 2d72 3220 2832 3031 352d 3039  10.0-r2 (2015-09
-000447a0: 2d31 3629 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d  -16).===========
-000447b0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000447c0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a  ===============.
-000447d0: 0a2d 2020 2046 6978 2062 7567 2077 6865  .-   Fix bug whe
-000447e0: 7265 2077 6520 616c 7761 7973 2066 6574  re we always fet
-000447f0: 6368 6564 2072 656d 6f74 6520 7365 7276  ched remote serv
-00044800: 6572 2073 6967 6e69 6e67 206b 6579 7320  er signing keys 
-00044810: 696e 7374 6561 6420 6f66 2075 7369 6e67  instead of using
-00044820: 206f 6e65 7320 696e 206f 7572 2063 6163   ones in our cac
-00044830: 6865 2e0a 2d20 2020 4669 7820 6164 6469  he..-   Fix addi
-00044840: 6e67 2074 6872 6565 7069 6473 2074 6f20  ng threepids to 
-00044850: 616e 2065 7869 7374 696e 6720 6163 636f  an existing acco
-00044860: 756e 742e 0a2d 2020 2046 6978 2062 7567  unt..-   Fix bug
-00044870: 2077 6974 6820 696e 7669 6e74 696e 6720   with invinting 
-00044880: 6f76 6572 2066 6564 6572 6174 696f 6e20  over federation 
-00044890: 7768 6572 6520 7265 6d6f 7465 2073 6572  where remote ser
-000448a0: 7665 7220 7761 7320 616c 7265 6164 7920  ver was already 
-000448b0: 696e 2074 6865 2072 6f6f 6d2e 2028 5052  in the room. (PR
-000448c0: 2023 3238 312c 2053 594e 2d33 3932 290a   #281, SYN-392).
-000448d0: 0a43 6861 6e67 6573 2069 6e20 7379 6e61  .Changes in syna
-000448e0: 7073 6520 7630 2e31 302e 302d 7231 2028  pse v0.10.0-r1 (
-000448f0: 3230 3135 2d30 392d 3038 290a 3d3d 3d3d  2015-09-08).====
-00044900: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00044910: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00044920: 3d3d 3d3d 3d3d 0a0a 2d20 2020 4669 7820  ======..-   Fix 
-00044930: 6275 6720 7769 7468 2070 7974 686f 6e20  bug with python 
-00044940: 7061 636b 6167 696e 670a 0a43 6861 6e67  packaging..Chang
-00044950: 6573 2069 6e20 7379 6e61 7073 6520 7630  es in synapse v0
-00044960: 2e31 302e 3020 2832 3031 352d 3039 2d30  .10.0 (2015-09-0
-00044970: 3329 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  3).=============
-00044980: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00044990: 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 4e6f 2063  ==========..No c
-000449a0: 6861 6e67 6520 6672 6f6d 2072 656c 6561  hange from relea
-000449b0: 7365 2063 616e 6469 6461 7465 2e0a 0a43  se candidate...C
-000449c0: 6861 6e67 6573 2069 6e20 7379 6e61 7073  hanges in synaps
-000449d0: 6520 7630 2e31 302e 302d 7263 3620 2832  e v0.10.0-rc6 (2
-000449e0: 3031 352d 3039 2d30 3229 0a3d 3d3d 3d3d  015-09-02).=====
-000449f0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00044a00: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00044a10: 3d3d 3d3d 3d3d 0a0a 2d20 2020 5265 6d6f  ======..-   Remo
-00044a20: 7665 2073 6f6d 6520 6f66 2074 6865 206f  ve some of the o
-00044a30: 6c64 2064 6174 6162 6173 6520 7570 6772  ld database upgr
-00044a40: 6164 6520 7363 7269 7074 732e 0a2d 2020  ade scripts..-  
-00044a50: 2046 6978 2064 6174 6162 6173 6520 706f   Fix database po
-00044a60: 7274 2073 6372 6970 7420 746f 2077 6f72  rt script to wor
-00044a70: 6b20 7769 7468 206e 6577 6c79 2063 7265  k with newly cre
-00044a80: 6174 6564 2073 716c 6974 6520 6461 7461  ated sqlite data
-00044a90: 6261 7365 732e 0a0a 4368 616e 6765 7320  bases...Changes 
-00044aa0: 696e 2073 796e 6170 7365 2076 302e 3130  in synapse v0.10
-00044ab0: 2e30 2d72 6335 2028 3230 3135 2d30 382d  .0-rc5 (2015-08-
-00044ac0: 3237 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  27).============
-00044ad0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00044ae0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a  ===============.
-00044af0: 0a2d 2020 2046 6978 2062 7567 2074 6861  .-   Fix bug tha
-00044b00: 7420 6272 6f6b 6520 646f 776e 6c6f 6164  t broke download
-00044b10: 696e 6720 6669 6c65 7320 7769 7468 2061  ing files with a
-00044b20: 7363 6969 2066 696c 656e 616d 6573 2061  scii filenames a
-00044b30: 6372 6f73 7320 6665 6465 7261 7469 6f6e  cross federation
-00044b40: 2e0a 0a43 6861 6e67 6573 2069 6e20 7379  ...Changes in sy
-00044b50: 6e61 7073 6520 7630 2e31 302e 302d 7263  napse v0.10.0-rc
-00044b60: 3420 2832 3031 352d 3038 2d32 3729 0a3d  4 (2015-08-27).=
-00044b70: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000435a0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a  ===============.
+000435b0: 0a2d 2020 2041 6464 2063 6163 6865 7320  .-   Add caches 
+000435c0: 666f 7220 7768 6574 6865 7220 726f 6f6d  for whether room
+000435d0: 7320 6861 7665 2062 6565 6e20 666f 7267  s have been forg
+000435e0: 6f74 7465 6e20 6279 2061 2075 7365 7220  otten by a user 
+000435f0: 2850 5220 2334 3334 290a 2d20 2020 5265  (PR #434).-   Re
+00043600: 6d6f 7665 2069 6e73 7472 7563 7469 6f6e  move instruction
+00043610: 7320 746f 2075 7365 2060 2d2d 7072 6f63  s to use `--proc
+00043620: 6573 732d 6465 7065 6e64 656e 6379 2d6c  ess-dependency-l
+00043630: 696e 6b60 2073 696e 6365 2061 6c6c 206f  ink` since all o
+00043640: 6620 7468 6520 6465 7065 6e64 656e 6369  f the dependenci
+00043650: 6573 206f 6620 7379 6e61 7073 6520 6172  es of synapse ar
+00043660: 6520 6f6e 2050 7950 4920 2850 5220 2334  e on PyPI (PR #4
+00043670: 3336 290a 2d20 2020 5061 7261 6c6c 656c  36).-   Parallel
+00043680: 6973 6520 7468 6520 7072 6f63 6573 7369  ise the processi
+00043690: 6e67 206f 6620 602f 7379 6e63 6020 7265  ng of `/sync` re
+000436a0: 7175 6573 7473 2028 5052 2023 3433 3729  quests (PR #437)
+000436b0: 0a2d 2020 2046 6978 2072 6163 6520 7570  .-   Fix race up
+000436c0: 6461 7469 6e67 2070 7265 7365 6e63 6520  dating presence 
+000436d0: 696e 2060 2f65 7665 6e74 7360 2028 5052  in `/events` (PR
+000436e0: 2023 3434 3429 0a2d 2020 2046 6978 2062   #444).-   Fix b
+000436f0: 7567 2062 6163 6b2d 706f 7075 6c61 7469  ug back-populati
+00043700: 6e67 2073 6561 7263 6820 7265 7375 6c74  ng search result
+00043710: 7320 2850 5220 2334 3431 290a 2d20 2020  s (PR #441).-   
+00043720: 4669 7820 6275 6720 6361 6c63 756c 6174  Fix bug calculat
+00043730: 696e 6720 7374 6174 6520 696e 2060 2f73  ing state in `/s
+00043740: 796e 6360 2072 6571 7565 7374 7320 2850  ync` requests (P
+00043750: 5220 2334 3432 290a 0a43 6861 6e67 6573  R #442)..Changes
+00043760: 2069 6e20 7379 6e61 7073 6520 7630 2e31   in synapse v0.1
+00043770: 322e 302d 7263 3120 2832 3031 352d 3132  2.0-rc1 (2015-12
+00043780: 2d31 3029 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d  -10).===========
+00043790: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000437a0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000437b0: 0a0a 2d20 2020 486f 7374 2074 6865 2063  ..-   Host the c
+000437c0: 6c69 656e 7420 4150 4973 2072 656c 6561  lient APIs relea
+000437d0: 7365 6420 6173 2072 3020 6279 203c 6874  sed as r0 by <ht
+000437e0: 7470 733a 2f2f 6d61 7472 6978 2e6f 7267  tps://matrix.org
+000437f0: 2f64 6f63 732f 7370 6563 2f72 302e 302e  /docs/spec/r0.0.
+00043800: 302f 636c 6965 6e74 5f73 6572 7665 722e  0/client_server.
+00043810: 6874 6d6c 3e20 6f6e 2070 6174 6873 2070  html> on paths p
+00043820: 7265 6669 7865 6420 6279 2060 2f5f 6d61  refixed by `/_ma
+00043830: 7472 6978 2f63 6c69 656e 742f 7230 602e  trix/client/r0`.
+00043840: 2028 5052 2023 3433 302c 2050 5220 2334   (PR #430, PR #4
+00043850: 3135 2c20 5052 2023 3430 3029 0a2d 2020  15, PR #400).-  
+00043860: 2055 7064 6174 6573 2074 6865 2063 6c69   Updates the cli
+00043870: 656e 7420 4150 4973 2074 6f20 6d61 7463  ent APIs to matc
+00043880: 6820 7230 206f 6620 7468 6520 6d61 7472  h r0 of the matr
+00043890: 6978 2073 7065 6369 6669 6361 7469 6f6e  ix specification
+000438a0: 2e0a 2020 2020 2d20 2020 416c 6c20 4150  ..    -   All AP
+000438b0: 4973 2072 6574 7572 6e20 6576 656e 7473  Is return events
+000438c0: 2069 6e20 7468 6520 6e65 7720 6576 656e   in the new even
+000438d0: 7420 666f 726d 6174 2c20 6f6c 6420 4150  t format, old AP
+000438e0: 4973 2061 6c73 6f20 696e 636c 7564 6520  Is also include 
+000438f0: 7468 6520 6669 656c 6473 206e 6565 6465  the fields neede
+00043900: 6420 746f 2070 6172 7365 2074 6865 2065  d to parse the e
+00043910: 7665 6e74 2075 7369 6e67 2074 6865 206f  vent using the o
+00043920: 6c64 2066 6f72 6d61 7420 666f 7220 636f  ld format for co
+00043930: 6d70 6174 6962 696c 6974 792e 2028 5052  mpatibility. (PR
+00043940: 2023 3430 3229 0a20 2020 202d 2020 2053   #402).    -   S
+00043950: 6561 7263 6820 7265 7375 6c74 7320 6172  earch results ar
+00043960: 6520 6e6f 7720 6769 7665 6e20 6173 2061  e now given as a
+00043970: 204a 534f 4e20 6172 7261 7920 7261 7468   JSON array rath
+00043980: 6572 2074 6861 6e20 6120 4a53 4f4e 206f  er than a JSON o
+00043990: 626a 6563 7420 2850 5220 2334 3035 290a  bject (PR #405).
+000439a0: 2020 2020 2d20 2020 4d69 7363 656c 6c61      -   Miscella
+000439b0: 6e65 6f75 7320 6368 616e 6765 7320 746f  neous changes to
+000439c0: 2073 6561 7263 6820 2850 5220 2334 3033   search (PR #403
+000439d0: 2c20 5052 2023 3430 362c 2050 5220 2334  , PR #406, PR #4
+000439e0: 3132 290a 2020 2020 2d20 2020 4669 6c74  12).    -   Filt
+000439f0: 6572 204a 534f 4e20 6f62 6a65 6374 7320  er JSON objects 
+00043a00: 6d61 7920 6e6f 7720 6265 2070 6173 7365  may now be passe
+00043a10: 6420 6173 2071 7565 7279 2070 6172 616d  d as query param
+00043a20: 6574 6572 7320 746f 2060 2f73 796e 6360  eters to `/sync`
+00043a30: 2028 5052 2023 3433 3129 0a20 2020 202d   (PR #431).    -
+00043a40: 2020 2046 6978 2069 6d70 6c65 6d65 6e74     Fix implement
+00043a50: 6174 696f 6e20 6f66 2060 2f61 646d 696e  ation of `/admin
+00043a60: 2f77 686f 6973 6020 2850 5220 2334 3138  /whois` (PR #418
+00043a70: 290a 2020 2020 2d20 2020 4f6e 6c79 2069  ).    -   Only i
+00043a80: 6e63 6c75 6465 2074 6865 2072 6f6f 6d73  nclude the rooms
+00043a90: 2074 6861 7420 7573 6572 2068 6173 206c   that user has l
+00043aa0: 6566 7420 696e 2060 2f73 796e 6360 2069  eft in `/sync` i
+00043ab0: 6620 7468 6520 636c 6965 6e74 2072 6571  f the client req
+00043ac0: 7565 7374 7320 7468 656d 2069 6e20 7468  uests them in th
+00043ad0: 6520 6669 6c74 6572 2028 5052 2023 3432  e filter (PR #42
+00043ae0: 3329 0a20 2020 202d 2020 2044 6f6e 5c27  3).    -   Don\'
+00043af0: 7420 7075 7368 2066 6f72 2060 6d2e 726f  t push for `m.ro
+00043b00: 6f6d 2e6d 6573 7361 6765 6020 6279 2064  om.message` by d
+00043b10: 6566 6175 6c74 2028 5052 2023 3431 3129  efault (PR #411)
+00043b20: 0a20 2020 202d 2020 2041 6464 2041 5049  .    -   Add API
+00043b30: 2066 6f72 2073 6574 7469 6e67 2070 6572   for setting per
+00043b40: 2061 6363 6f75 6e74 2075 7365 7220 6461   account user da
+00043b50: 7461 2028 5052 2023 3339 3229 0a20 2020  ta (PR #392).   
+00043b60: 202d 2020 2041 6c6c 6f77 2075 7365 7273   -   Allow users
+00043b70: 2074 6f20 666f 7267 6574 2072 6f6f 6d73   to forget rooms
+00043b80: 2028 5052 2023 3338 3529 0a2d 2020 2050   (PR #385).-   P
+00043b90: 6572 666f 726d 616e 6365 2069 6d70 726f  erformance impro
+00043ba0: 7665 6d65 6e74 7320 616e 6420 6d6f 6e69  vements and moni
+00043bb0: 746f 7269 6e67 3a0a 2020 2020 2d20 2020  toring:.    -   
+00043bc0: 4164 6420 7065 722d 7265 7175 6573 7420  Add per-request 
+00043bd0: 636f 756e 7465 7273 2066 6f72 2043 5055  counters for CPU
+00043be0: 2074 696d 6520 7370 656e 7420 6f6e 2074   time spent on t
+00043bf0: 6865 206d 6169 6e20 7079 7468 6f6e 2074  he main python t
+00043c00: 6872 6561 642e 2028 5052 2023 3432 312c  hread. (PR #421,
+00043c10: 2050 5220 2334 3230 290a 2020 2020 2d20   PR #420).    - 
+00043c20: 2020 4164 6420 7065 722d 7265 7175 6573    Add per-reques
+00043c30: 7420 636f 756e 7465 7273 2066 6f72 2074  t counters for t
+00043c40: 696d 6520 7370 656e 7420 696e 2074 6865  ime spent in the
+00043c50: 2064 6174 6162 6173 6520 2850 5220 2334   database (PR #4
+00043c60: 3239 290a 2020 2020 2d20 2020 4d61 6b65  29).    -   Make
+00043c70: 2073 7461 7465 2075 7064 6174 6573 2069   state updates i
+00043c80: 6e20 7468 6520 432b 5320 4150 4920 6964  n the C+S API id
+00043c90: 656d 706f 7465 6e74 2028 5052 2023 3431  empotent (PR #41
+00043ca0: 3629 0a20 2020 202d 2020 204f 6e6c 7920  6).    -   Only 
+00043cb0: 6669 7265 2060 7573 6572 5f6a 6f69 6e65  fire `user_joine
+00043cc0: 645f 726f 6f6d 6020 6966 2074 6865 2075  d_room` if the u
+00043cd0: 7365 7220 6861 7320 6163 7475 616c 6c79  ser has actually
+00043ce0: 206a 6f69 6e65 642e 2028 5052 2023 3431   joined. (PR #41
+00043cf0: 3029 0a20 2020 202d 2020 2052 6575 7365  0).    -   Reuse
+00043d00: 2061 2073 696e 676c 6520 6874 7470 2063   a single http c
+00043d10: 6c69 656e 742c 2072 6174 6865 7220 7468  lient, rather th
+00043d20: 616e 2063 7265 6174 696e 6720 6e65 7720  an creating new 
+00043d30: 6f6e 6573 2028 5052 2023 3431 3329 0a2d  ones (PR #413).-
+00043d40: 2020 2046 6978 6564 2061 2062 7567 2075     Fixed a bug u
+00043d50: 7067 7261 6469 6e67 2066 726f 6d20 6f6c  pgrading from ol
+00043d60: 6465 7220 7665 7273 696f 6e73 206f 6620  der versions of 
+00043d70: 7379 6e61 7073 6520 6f6e 2070 6f73 7467  synapse on postg
+00043d80: 7265 7371 6c20 2850 5220 2334 3137 290a  resql (PR #417).
+00043d90: 0a43 6861 6e67 6573 2069 6e20 7379 6e61  .Changes in syna
+00043da0: 7073 6520 7630 2e31 312e 3120 2832 3031  pse v0.11.1 (201
+00043db0: 352d 3131 2d32 3029 0a3d 3d3d 3d3d 3d3d  5-11-20).=======
+00043dc0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00043dd0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00043de0: 0a0a 2d20 2020 4164 6420 6578 7472 6120  ..-   Add extra 
+00043df0: 6f70 7469 6f6e 7320 746f 2073 6561 7263  options to searc
+00043e00: 6820 4150 4920 2850 5220 2333 3934 290a  h API (PR #394).
+00043e10: 2d20 2020 4669 7820 6275 6720 7768 6572  -   Fix bug wher
+00043e20: 6520 7765 2064 6964 206e 6f74 2063 6f72  e we did not cor
+00043e30: 7265 6374 6c79 2063 6170 2066 6564 6572  rectly cap feder
+00043e40: 6174 696f 6e20 7265 7472 7920 7469 6d65  ation retry time
+00043e50: 7273 2e20 5468 6973 206d 6561 6e74 2069  rs. This meant i
+00043e60: 7420 636f 756c 6420 7461 6b65 2073 6576  t could take sev
+00043e70: 6572 616c 2068 6f75 7273 2066 6f72 2073  eral hours for s
+00043e80: 6572 7665 7273 2074 6f20 7374 6172 7420  ervers to start 
+00043e90: 7461 6c6b 696e 6720 746f 2072 6573 7375  talking to ressu
+00043ea0: 7265 6374 6564 2073 6572 7665 7273 2c20  rected servers, 
+00043eb0: 6576 656e 2077 6865 6e20 7468 6579 2077  even when they w
+00043ec0: 6572 6520 7265 6365 6976 696e 6720 7472  ere receiving tr
+00043ed0: 6166 6669 6320 6672 6f6d 2074 6865 6d20  affic from them 
+00043ee0: 2850 5220 2333 3933 290a 2d20 2020 446f  (PR #393).-   Do
+00043ef0: 6e5c 2774 2061 6476 6572 7469 7365 206c  n\'t advertise l
+00043f00: 6f67 696e 2074 6f6b 656e 2066 6c6f 7720  ogin token flow 
+00043f10: 756e 6c65 7373 2043 4153 2069 7320 656e  unless CAS is en
+00043f20: 6162 6c65 642e 2054 6869 7320 6361 7573  abled. This caus
+00043f30: 6564 2069 7373 7565 7320 7768 6572 6520  ed issues where 
+00043f40: 736f 6d65 2063 6c69 656e 7473 2077 6f75  some clients wou
+00043f50: 6c64 2061 6c77 6179 7320 7573 6520 7468  ld always use th
+00043f60: 6520 6661 6c6c 6261 636b 2041 5049 2069  e fallback API i
+00043f70: 6620 7468 6579 2064 6964 206e 6f74 2072  f they did not r
+00043f80: 6563 6f67 6e69 7a65 2061 6c6c 206c 6f67  ecognize all log
+00043f90: 696e 2066 6c6f 7773 2028 5052 2023 3339  in flows (PR #39
+00043fa0: 3129 0a2d 2020 2043 6861 6e67 6520 2f76  1).-   Change /v
+00043fb0: 3220 7379 6e63 2041 5049 2074 6f20 7265  2 sync API to re
+00043fc0: 6e61 6d65 2060 7072 6976 6174 655f 7573  name `private_us
+00043fd0: 6572 5f64 6174 6160 2074 6f20 6061 6363  er_data` to `acc
+00043fe0: 6f75 6e74 5f64 6174 6160 2028 5052 2023  ount_data` (PR #
+00043ff0: 3338 3629 0a2d 2020 2043 6861 6e67 6520  386).-   Change 
+00044000: 2f76 3220 7379 6e63 2041 5049 2074 6f20  /v2 sync API to 
+00044010: 7265 6d6f 7665 2074 6865 2060 6576 656e  remove the `even
+00044020: 745f 6d61 7060 2061 6e64 2072 656e 616d  t_map` and renam
+00044030: 6520 6b65 7973 2069 6e20 6072 6f6f 6d73  e keys in `rooms
+00044040: 6020 6f62 6a65 6374 2028 5052 2023 3338  ` object (PR #38
+00044050: 3929 0a0a 4368 616e 6765 7320 696e 2073  9)..Changes in s
+00044060: 796e 6170 7365 2076 302e 3131 2e30 2d72  ynapse v0.11.0-r
+00044070: 3220 2832 3031 352d 3131 2d31 3929 0a3d  2 (2015-11-19).=
+00044080: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00044090: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000440a0: 3d3d 3d3d 3d3d 3d3d 3d0a 0a2d 2020 2046  =========..-   F
+000440b0: 6978 2062 7567 2069 6e20 6461 7461 6261  ix bug in databa
+000440c0: 7365 2070 6f72 7420 7363 7269 7074 2028  se port script (
+000440d0: 5052 2023 3338 3729 0a0a 4368 616e 6765  PR #387)..Change
+000440e0: 7320 696e 2073 796e 6170 7365 2076 302e  s in synapse v0.
+000440f0: 3131 2e30 2d72 3120 2832 3031 352d 3131  11.0-r1 (2015-11
+00044100: 2d31 3829 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d  -18).===========
+00044110: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00044120: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a  ===============.
+00044130: 0a2d 2020 2052 6574 7279 2061 6e64 2066  .-   Retry and f
+00044140: 6169 6c20 6665 6465 7261 7469 6f6e 2072  ail federation r
+00044150: 6571 7565 7374 7320 6d6f 7265 2061 6767  equests more agg
+00044160: 7265 7373 6976 656c 7920 666f 7220 7265  ressively for re
+00044170: 7175 6573 7473 2074 6861 7420 626c 6f63  quests that bloc
+00044180: 6b20 636c 6965 6e74 2073 6964 6520 7265  k client side re
+00044190: 7175 6573 7473 2028 5052 2023 3338 3429  quests (PR #384)
+000441a0: 0a0a 4368 616e 6765 7320 696e 2073 796e  ..Changes in syn
+000441b0: 6170 7365 2076 302e 3131 2e30 2028 3230  apse v0.11.0 (20
+000441c0: 3135 2d31 312d 3137 290a 3d3d 3d3d 3d3d  15-11-17).======
+000441d0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000441e0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000441f0: 3d0a 0a2d 2020 2043 6861 6e67 6520 4341  =..-   Change CA
+00044200: 5320 6c6f 6769 6e20 4150 4920 2850 5220  S login API (PR 
+00044210: 2333 3439 290a 0a43 6861 6e67 6573 2069  #349)..Changes i
+00044220: 6e20 7379 6e61 7073 6520 7630 2e31 312e  n synapse v0.11.
+00044230: 302d 7263 3220 2832 3031 352d 3131 2d31  0-rc2 (2015-11-1
+00044240: 3329 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  3).=============
+00044250: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00044260: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a  ==============..
+00044270: 2d20 2020 5661 7269 6f75 7320 6368 616e  -   Various chan
+00044280: 6765 7320 746f 202f 7379 6e63 2041 5049  ges to /sync API
+00044290: 2072 6573 706f 6e73 6520 666f 726d 6174   response format
+000442a0: 2028 5052 2023 3337 3329 0a2d 2020 2046   (PR #373).-   F
+000442b0: 6978 2072 6567 7265 7373 696f 6e20 7768  ix regression wh
+000442c0: 656e 2073 6574 7469 6e67 2064 6973 706c  en setting displ
+000442d0: 6179 206e 616d 6520 696e 206e 6577 6c79  ay name in newly
+000442e0: 206a 6f69 6e65 6420 726f 6f6d 206f 7665   joined room ove
+000442f0: 7220 6665 6465 7261 7469 6f6e 2028 5052  r federation (PR
+00044300: 2023 3336 3829 0a2d 2020 2046 6978 2070   #368).-   Fix p
+00044310: 726f 626c 656d 2077 6865 7265 202f 7365  roblem where /se
+00044320: 6172 6368 2077 6173 2073 6c6f 7720 7768  arch was slow wh
+00044330: 656e 2075 7369 6e67 2053 514c 6974 6520  en using SQLite 
+00044340: 2850 5220 2333 3636 290a 0a43 6861 6e67  (PR #366)..Chang
+00044350: 6573 2069 6e20 7379 6e61 7073 6520 7630  es in synapse v0
+00044360: 2e31 312e 302d 7263 3120 2832 3031 352d  .11.0-rc1 (2015-
+00044370: 3131 2d31 3129 0a3d 3d3d 3d3d 3d3d 3d3d  11-11).=========
+00044380: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00044390: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000443a0: 3d3d 0a0a 2d20 2020 4164 6420 5365 6172  ==..-   Add Sear
+000443b0: 6368 2041 5049 2028 5052 2023 3330 372c  ch API (PR #307,
+000443c0: 2023 3332 342c 2023 3332 372c 2023 3333   #324, #327, #33
+000443d0: 362c 2023 3335 302c 2023 3335 3929 0a2d  6, #350, #359).-
+000443e0: 2020 2041 6464 205c 2761 7263 6869 7665     Add \'archive
+000443f0: 645c 2720 7374 6174 6520 746f 2076 3220  d\' state to v2 
+00044400: 2f73 796e 6320 4150 4920 2850 5220 2333  /sync API (PR #3
+00044410: 3136 290a 2d20 2020 4164 6420 6162 696c  16).-   Add abil
+00044420: 6974 7920 746f 2072 656a 6563 7420 696e  ity to reject in
+00044430: 7669 7465 7320 2850 5220 2333 3137 290a  vites (PR #317).
+00044440: 2d20 2020 4164 6420 636f 6e66 6967 206f  -   Add config o
+00044450: 7074 696f 6e20 746f 2064 6973 6162 6c65  ption to disable
+00044460: 2070 6173 7377 6f72 6420 6c6f 6769 6e20   password login 
+00044470: 2850 5220 2333 3232 290a 2d20 2020 4164  (PR #322).-   Ad
+00044480: 6420 7468 6520 6c6f 6769 6e20 6661 6c6c  d the login fall
+00044490: 6261 636b 2041 5049 2028 5052 2023 3333  back API (PR #33
+000444a0: 3029 0a2d 2020 2041 6464 2072 6f6f 6d20  0).-   Add room 
+000444b0: 636f 6e74 6578 7420 4150 4920 2850 5220  context API (PR 
+000444c0: 2333 3334 290a 2d20 2020 4164 6420 726f  #334).-   Add ro
+000444d0: 6f6d 2074 6167 6769 6e67 2073 7570 706f  om tagging suppo
+000444e0: 7274 2028 5052 2023 3333 3529 0a2d 2020  rt (PR #335).-  
+000444f0: 2055 7064 6174 6520 7632 202f 7379 6e63   Update v2 /sync
+00044500: 2041 5049 2074 6f20 6d61 7463 6820 7370   API to match sp
+00044510: 6563 2028 5052 2023 3330 352c 2023 3331  ec (PR #305, #31
+00044520: 362c 2023 3332 312c 2023 3333 322c 2023  6, #321, #332, #
+00044530: 3333 372c 2023 3334 3129 0a2d 2020 2043  337, #341).-   C
+00044540: 6861 6e67 6520 7265 7472 7920 7363 6865  hange retry sche
+00044550: 6475 6c65 2066 6f72 2061 7070 6c69 6361  dule for applica
+00044560: 7469 6f6e 2073 6572 7669 6365 7320 2850  tion services (P
+00044570: 5220 2333 3230 290a 2d20 2020 4368 616e  R #320).-   Chan
+00044580: 6765 2072 6574 7279 2073 6368 6564 756c  ge retry schedul
+00044590: 6520 666f 7220 7265 6d6f 7465 2073 6572  e for remote ser
+000445a0: 7665 7273 2028 5052 2023 3334 3029 0a2d  vers (PR #340).-
+000445b0: 2020 2046 6978 2062 7567 2077 6865 7265     Fix bug where
+000445c0: 2077 6520 686f 7374 6564 2073 7461 7469   we hosted stati
+000445d0: 6320 636f 6e74 656e 7420 696e 2074 6865  c content in the
+000445e0: 2069 6e63 6f72 7265 6374 2070 6c61 6365   incorrect place
+000445f0: 2028 5052 2023 3332 3929 0a2d 2020 2046   (PR #329).-   F
+00044600: 6978 2062 7567 2077 6865 7265 2077 6520  ix bug where we 
+00044610: 6469 646e 5c27 7420 696e 6372 656d 656e  didn\'t incremen
+00044620: 7420 7265 7472 7920 696e 7465 7276 616c  t retry interval
+00044630: 2066 6f72 2072 656d 6f74 6520 7365 7276   for remote serv
+00044640: 6572 7320 2850 5220 2333 3433 290a 0a43  ers (PR #343)..C
+00044650: 6861 6e67 6573 2069 6e20 7379 6e61 7073  hanges in synaps
+00044660: 6520 7630 2e31 302e 312d 7263 3120 2832  e v0.10.1-rc1 (2
+00044670: 3031 352d 3130 2d31 3529 0a3d 3d3d 3d3d  015-10-15).=====
+00044680: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00044690: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000446a0: 3d3d 3d3d 3d3d 0a0a 2d20 2020 4164 6420  ======..-   Add 
+000446b0: 7375 7070 6f72 7420 666f 7220 4341 532c  support for CAS,
+000446c0: 2074 6861 6e6b 7320 746f 2053 7465 7665   thanks to Steve
+000446d0: 6e20 4861 6d6d 6572 746f 6e20 2850 5220  n Hammerton (PR 
+000446e0: 2332 3935 2c20 2332 3936 290a 2d20 2020  #295, #296).-   
+000446f0: 4164 6420 7375 7070 6f72 7420 666f 7220  Add support for 
+00044700: 7573 696e 6720 6d61 6361 726f 6f6e 7320  using macaroons 
+00044710: 666f 7220 6061 6363 6573 735f 746f 6b65  for `access_toke
+00044720: 6e60 2028 5052 2023 3235 362c 2023 3232  n` (PR #256, #22
+00044730: 3929 0a2d 2020 2041 6464 2073 7570 706f  9).-   Add suppo
+00044740: 7274 2066 6f72 2060 6d2e 726f 6f6d 2e63  rt for `m.room.c
+00044750: 616e 6f6e 6963 616c 5f61 6c69 6173 6020  anonical_alias` 
+00044760: 2850 5220 2332 3837 290a 2d20 2020 4164  (PR #287).-   Ad
+00044770: 6420 7375 7070 6f72 7420 666f 7220 7669  d support for vi
+00044780: 6577 696e 6720 7468 6520 6869 7374 6f72  ewing the histor
+00044790: 7920 6f66 2072 6f6f 6d73 2074 6861 7420  y of rooms that 
+000447a0: 7468 6579 2068 6176 6520 6c65 6674 2e20  they have left. 
+000447b0: 2850 5220 2332 3736 2c20 2332 3934 290a  (PR #276, #294).
+000447c0: 2d20 2020 4164 6420 7375 7070 6f72 7420  -   Add support 
+000447d0: 666f 7220 7265 6672 6573 6820 746f 6b65  for refresh toke
+000447e0: 6e73 2028 5052 2023 3234 3029 0a2d 2020  ns (PR #240).-  
+000447f0: 2041 6464 2066 6c61 6720 6f6e 2063 7265   Add flag on cre
+00044800: 6174 696f 6e20 7768 6963 6820 6469 7361  ation which disa
+00044810: 626c 6573 2066 6564 6572 6174 696f 6e20  bles federation 
+00044820: 6f66 2074 6865 2072 6f6f 6d20 2850 5220  of the room (PR 
+00044830: 2332 3739 290a 2d20 2020 4164 6420 736f  #279).-   Add so
+00044840: 6d65 2072 6f6f 6d20 7374 6174 6520 746f  me room state to
+00044850: 2069 6e76 6974 6573 2e20 2850 5220 2332   invites. (PR #2
+00044860: 3735 290a 2d20 2020 4174 6f6d 6963 616c  75).-   Atomical
+00044870: 6c79 2070 6572 7369 7374 2065 7665 6e74  ly persist event
+00044880: 7320 7768 656e 206a 6f69 6e69 6e67 2061  s when joining a
+00044890: 2072 6f6f 6d20 6f76 6572 2066 6564 6572   room over feder
+000448a0: 6174 696f 6e20 2850 5220 2332 3833 290a  ation (PR #283).
+000448b0: 2d20 2020 4368 616e 6765 2064 6566 6175  -   Change defau
+000448c0: 6c74 2068 6973 746f 7279 2076 6973 6962  lt history visib
+000448d0: 696c 6974 7920 666f 7220 7072 6976 6174  ility for privat
+000448e0: 6520 726f 6f6d 7320 2850 5220 2332 3731  e rooms (PR #271
+000448f0: 290a 2d20 2020 416c 6c6f 7720 7573 6572  ).-   Allow user
+00044900: 7320 746f 2072 6564 6163 7420 7468 6569  s to redact thei
+00044910: 7220 6f77 6e20 7365 6e74 2065 7665 6e74  r own sent event
+00044920: 7320 2850 5220 2332 3632 290a 2d20 2020  s (PR #262).-   
+00044930: 5573 6520 746f 7820 666f 7220 7465 7374  Use tox for test
+00044940: 7320 2850 5220 2332 3437 290a 2d20 2020  s (PR #247).-   
+00044950: 5370 6c69 7420 7570 2073 7975 7469 6c20  Split up syutil 
+00044960: 696e 746f 2073 6570 6172 6174 6520 6c69  into separate li
+00044970: 6272 6172 6965 7320 2850 5220 2332 3433  braries (PR #243
+00044980: 290a 0a43 6861 6e67 6573 2069 6e20 7379  )..Changes in sy
+00044990: 6e61 7073 6520 7630 2e31 302e 302d 7232  napse v0.10.0-r2
+000449a0: 2028 3230 3135 2d30 392d 3136 290a 3d3d   (2015-09-16).==
+000449b0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000449c0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000449d0: 3d3d 3d3d 3d3d 3d3d 0a0a 2d20 2020 4669  ========..-   Fi
+000449e0: 7820 6275 6720 7768 6572 6520 7765 2061  x bug where we a
+000449f0: 6c77 6179 7320 6665 7463 6865 6420 7265  lways fetched re
+00044a00: 6d6f 7465 2073 6572 7665 7220 7369 676e  mote server sign
+00044a10: 696e 6720 6b65 7973 2069 6e73 7465 6164  ing keys instead
+00044a20: 206f 6620 7573 696e 6720 6f6e 6573 2069   of using ones i
+00044a30: 6e20 6f75 7220 6361 6368 652e 0a2d 2020  n our cache..-  
+00044a40: 2046 6978 2061 6464 696e 6720 7468 7265   Fix adding thre
+00044a50: 6570 6964 7320 746f 2061 6e20 6578 6973  epids to an exis
+00044a60: 7469 6e67 2061 6363 6f75 6e74 2e0a 2d20  ting account..- 
+00044a70: 2020 4669 7820 6275 6720 7769 7468 2069    Fix bug with i
+00044a80: 6e76 696e 7469 6e67 206f 7665 7220 6665  nvinting over fe
+00044a90: 6465 7261 7469 6f6e 2077 6865 7265 2072  deration where r
+00044aa0: 656d 6f74 6520 7365 7276 6572 2077 6173  emote server was
+00044ab0: 2061 6c72 6561 6479 2069 6e20 7468 6520   already in the 
+00044ac0: 726f 6f6d 2e20 2850 5220 2332 3831 2c20  room. (PR #281, 
+00044ad0: 5359 4e2d 3339 3229 0a0a 4368 616e 6765  SYN-392)..Change
+00044ae0: 7320 696e 2073 796e 6170 7365 2076 302e  s in synapse v0.
+00044af0: 3130 2e30 2d72 3120 2832 3031 352d 3039  10.0-r1 (2015-09
+00044b00: 2d30 3829 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d  -08).===========
+00044b10: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00044b20: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a  ===============.
+00044b30: 0a2d 2020 2046 6978 2062 7567 2077 6974  .-   Fix bug wit
+00044b40: 6820 7079 7468 6f6e 2070 6163 6b61 6769  h python packagi
+00044b50: 6e67 0a0a 4368 616e 6765 7320 696e 2073  ng..Changes in s
+00044b60: 796e 6170 7365 2076 302e 3130 2e30 2028  ynapse v0.10.0 (
+00044b70: 3230 3135 2d30 392d 3033 290a 3d3d 3d3d  2015-09-03).====
 00044b80: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00044b90: 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 2d20 2020  ==========..-   
-00044ba0: 416c 6c6f 7720 5554 462d 3820 6669 6c65  Allow UTF-8 file
-00044bb0: 6e61 6d65 7320 666f 7220 7570 6c6f 6164  names for upload
-00044bc0: 2e20 2850 5220 2332 3539 290a 0a43 6861  . (PR #259)..Cha
-00044bd0: 6e67 6573 2069 6e20 7379 6e61 7073 6520  nges in synapse 
-00044be0: 7630 2e31 302e 302d 7263 3320 2832 3031  v0.10.0-rc3 (201
-00044bf0: 352d 3038 2d32 3529 0a3d 3d3d 3d3d 3d3d  5-08-25).=======
+00044b90: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00044ba0: 3d3d 3d0a 0a4e 6f20 6368 616e 6765 2066  ===..No change f
+00044bb0: 726f 6d20 7265 6c65 6173 6520 6361 6e64  rom release cand
+00044bc0: 6964 6174 652e 0a0a 4368 616e 6765 7320  idate...Changes 
+00044bd0: 696e 2073 796e 6170 7365 2076 302e 3130  in synapse v0.10
+00044be0: 2e30 2d72 6336 2028 3230 3135 2d30 392d  .0-rc6 (2015-09-
+00044bf0: 3032 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  02).============
 00044c00: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00044c10: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00044c20: 3d3d 3d3d 0a0a 2d20 2020 4164 6420 602d  ====..-   Add `-
-00044c30: 2d6b 6579 732d 6469 7265 6374 6f72 7960  -keys-directory`
-00044c40: 2063 6f6e 6669 6720 6f70 7469 6f6e 2074   config option t
-00044c50: 6f20 7370 6563 6966 7920 7768 6572 6520  o specify where 
-00044c60: 6669 6c65 7320 7375 6368 2061 7320 6365  files such as ce
-00044c70: 7274 7320 616e 6420 7369 676e 696e 6720  rts and signing 
-00044c80: 6b65 7973 2073 686f 756c 6420 6265 2073  keys should be s
-00044c90: 746f 7265 6420 696e 2c20 7768 656e 2075  tored in, when u
-00044ca0: 7369 6e67 2060 2d2d 6765 6e65 7261 7465  sing `--generate
-00044cb0: 2d63 6f6e 6669 6760 206f 7220 602d 2d67  -config` or `--g
-00044cc0: 656e 6572 6174 652d 6b65 7973 602e 2028  enerate-keys`. (
-00044cd0: 5052 2023 3235 3029 0a2d 2020 2041 6c6c  PR #250).-   All
-00044ce0: 6f77 2060 2d2d 636f 6e66 6967 2d70 6174  ow `--config-pat
-00044cf0: 6860 2074 6f20 7370 6563 6966 7920 6120  h` to specify a 
-00044d00: 6469 7265 6374 6f72 792c 2063 6175 7369  directory, causi
-00044d10: 6e67 2073 796e 6170 7365 2074 6f20 7573  ng synapse to us
-00044d20: 6520 616c 6c20 5c2a 2e79 616d 6c20 6669  e all \*.yaml fi
-00044d30: 6c65 7320 696e 2074 6865 2064 6972 6563  les in the direc
-00044d40: 746f 7279 2061 7320 636f 6e66 6967 2066  tory as config f
-00044d50: 696c 6573 2e20 2850 5220 2332 3439 290a  iles. (PR #249).
-00044d60: 2d20 2020 4164 6420 6077 6562 5f63 6c69  -   Add `web_cli
-00044d70: 656e 745f 6c6f 6361 7469 6f6e 6020 636f  ent_location` co
-00044d80: 6e66 6967 206f 7074 696f 6e20 746f 2073  nfig option to s
-00044d90: 7065 6369 6679 2073 7461 7469 6320 6669  pecify static fi
-00044da0: 6c65 7320 746f 2062 6520 686f 7374 6564  les to be hosted
-00044db0: 2062 7920 7379 6e61 7073 6520 756e 6465   by synapse unde
-00044dc0: 7220 602f 5f6d 6174 7269 782f 636c 6965  r `/_matrix/clie
-00044dd0: 6e74 602e 2028 5052 2023 3234 3529 0a2d  nt`. (PR #245).-
-00044de0: 2020 2041 6464 2068 656c 7065 7220 7574     Add helper ut
-00044df0: 696c 6974 7920 746f 2073 796e 6170 7365  ility to synapse
-00044e00: 2074 6f20 7265 6164 2061 6e64 2070 6172   to read and par
-00044e10: 7365 2074 6865 2063 6f6e 6669 6720 6669  se the config fi
-00044e20: 6c65 7320 616e 6420 6578 7472 6163 7420  les and extract 
-00044e30: 7468 6520 7661 6c75 6520 6f66 2061 2067  the value of a g
-00044e40: 6976 656e 206b 6579 2e20 466f 7220 6578  iven key. For ex
-00044e50: 616d 706c 653a 0a0a 2020 2020 2020 2020  ample:..        
-00044e60: 2420 7079 7468 6f6e 202d 6d20 7379 6e61  $ python -m syna
-00044e70: 7073 652e 636f 6e66 6967 2072 6561 6420  pse.config read 
-00044e80: 7365 7276 6572 5f6e 616d 6520 2d63 2068  server_name -c h
-00044e90: 6f6d 6573 6572 7665 722e 7961 6d6c 0a20  omeserver.yaml. 
-00044ea0: 2020 2020 2020 206c 6f63 616c 686f 7374         localhost
-00044eb0: 0a0a 2020 2020 2850 5220 2332 3436 290a  ..    (PR #246).
-00044ec0: 0a43 6861 6e67 6573 2069 6e20 7379 6e61  .Changes in syna
-00044ed0: 7073 6520 7630 2e31 302e 302d 7263 3220  pse v0.10.0-rc2 
-00044ee0: 2832 3031 352d 3038 2d32 3429 0a3d 3d3d  (2015-08-24).===
-00044ef0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00044f00: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00044f10: 3d3d 3d3d 3d3d 3d3d 0a0a 2d20 2020 4669  ========..-   Fi
-00044f20: 7820 6275 6720 7768 6572 6520 7765 2069  x bug where we i
-00044f30: 6e63 6f72 7265 6374 6c79 2070 6f70 756c  ncorrectly popul
-00044f40: 6174 6564 2074 6865 2060 6576 656e 745f  ated the `event_
-00044f50: 666f 7277 6172 645f 6578 7472 656d 6974  forward_extremit
-00044f60: 6965 7360 2074 6162 6c65 2c20 7265 7375  ies` table, resu
-00044f70: 6c74 696e 6720 696e 2070 726f 626c 656d  lting in problem
-00044f80: 7320 6a6f 696e 696e 6720 6c61 7267 6520  s joining large 
-00044f90: 7265 6d6f 7465 2072 6f6f 6d73 2028 652e  remote rooms (e.
-00044fa0: 672e 2060 236d 6174 7269 783a 6d61 7472  g. `#matrix:matr
-00044fb0: 6978 2e6f 7267 6029 0a2d 2020 2052 6564  ix.org`).-   Red
-00044fc0: 7563 6520 7468 6520 6e75 6d62 6572 206f  uce the number o
-00044fd0: 6620 7469 6d65 7320 7765 2077 616b 6520  f times we wake 
-00044fe0: 7570 2070 7573 6865 7273 2062 7920 6e6f  up pushers by no
-00044ff0: 7420 6c69 7374 656e 696e 6720 666f 7220  t listening for 
-00045000: 7072 6573 656e 6365 206f 7220 7479 7069  presence or typi
-00045010: 6e67 2065 7665 6e74 732c 2072 6564 7563  ng events, reduc
-00045020: 696e 6720 7468 6520 4350 5520 636f 7374  ing the CPU cost
-00045030: 206f 6620 6561 6368 2070 7573 6865 722e   of each pusher.
-00045040: 0a0a 4368 616e 6765 7320 696e 2073 796e  ..Changes in syn
-00045050: 6170 7365 2076 302e 3130 2e30 2d72 6331  apse v0.10.0-rc1
-00045060: 2028 3230 3135 2d30 382d 3231 290a 3d3d   (2015-08-21).==
-00045070: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00045080: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00045090: 3d3d 3d3d 3d3d 3d3d 3d0a 0a41 6c73 6f20  =========..Also 
-000450a0: 7365 6520 7630 2e39 2e34 2d72 6331 2063  see v0.9.4-rc1 c
-000450b0: 6861 6e67 656c 6f67 2c20 7768 6963 6820  hangelog, which 
-000450c0: 6861 7320 6265 656e 2061 6d61 6c67 616d  has been amalgam
-000450d0: 6174 6564 2069 6e74 6f20 7468 6973 2072  ated into this r
-000450e0: 656c 6561 7365 2e0a 0a47 656e 6572 616c  elease...General
-000450f0: 3a0a 0a2d 2020 2055 7067 7261 6465 2074  :..-   Upgrade t
-00045100: 6f20 5477 6973 7465 6420 3135 2028 5052  o Twisted 15 (PR
-00045110: 2023 3137 3329 0a2d 2020 2041 6464 2073   #173).-   Add s
-00045120: 7570 706f 7274 2066 6f72 2073 6572 7669  upport for servi
-00045130: 6e67 2061 6e64 2066 6574 6368 696e 6720  ng and fetching 
-00045140: 656e 6372 7970 7469 6f6e 206b 6579 7320  encryption keys 
-00045150: 6f76 6572 2066 6564 6572 6174 696f 6e2e  over federation.
-00045160: 2028 5052 2023 3230 3829 0a2d 2020 2041   (PR #208).-   A
-00045170: 6464 2073 7570 706f 7274 2066 6f72 206c  dd support for l
-00045180: 6f67 6769 6e67 2069 6e20 7769 7468 2065  ogging in with e
-00045190: 6d61 696c 2061 6464 7265 7373 2028 5052  mail address (PR
-000451a0: 2023 3233 3429 0a2d 2020 2041 6464 2073   #234).-   Add s
-000451b0: 7570 706f 7274 2066 6f72 206e 6577 2060  upport for new `
-000451c0: 6d2e 726f 6f6d 2e63 616e 6f6e 6963 616c  m.room.canonical
-000451d0: 5f61 6c69 6173 6020 6576 656e 742e 2028  _alias` event. (
-000451e0: 5052 2023 3233 3329 0a2d 2020 2043 6861  PR #233).-   Cha
-000451f0: 6e67 6520 7379 6e61 7073 6520 746f 2074  nge synapse to t
-00045200: 7265 6174 2075 7365 7220 4944 7320 6361  reat user IDs ca
-00045210: 7365 2069 6e73 656e 7369 7469 7665 6c79  se insensitively
-00045220: 2064 7572 696e 6720 7265 6769 7374 7261   during registra
-00045230: 7469 6f6e 2061 6e64 206c 6f67 696e 2e20  tion and login. 
-00045240: 2849 6620 7477 6f20 7573 6572 7320 616c  (If two users al
-00045250: 7265 6164 7920 6578 6973 7420 7769 7468  ready exist with
-00045260: 2063 6173 6520 696e 7365 6e73 6974 6976   case insensitiv
-00045270: 6520 6d61 7463 6869 6e67 2075 7365 7220  e matching user 
-00045280: 6964 732c 2073 796e 6170 7365 2077 696c  ids, synapse wil
-00045290: 6c20 636f 6e74 696e 7565 2074 6f20 7265  l continue to re
-000452a0: 7175 6972 6520 7468 656d 2074 6f20 7370  quire them to sp
-000452b0: 6563 6966 7920 7468 6569 7220 7573 6572  ecify their user
-000452c0: 2069 6473 2065 7861 6374 6c79 2e29 0a2d   ids exactly.).-
-000452d0: 2020 2045 7272 6f72 2069 6620 6120 7573     Error if a us
-000452e0: 6572 2074 7269 6573 2074 6f20 7265 6769  er tries to regi
-000452f0: 7374 6572 2077 6974 6820 616e 2065 6d61  ster with an ema
-00045300: 696c 2061 6c72 6561 6479 2069 6e20 7573  il already in us
-00045310: 652e 2028 5052 2023 3231 3129 0a2d 2020  e. (PR #211).-  
-00045320: 2041 6464 2065 7874 7261 2061 6e64 2069   Add extra and i
-00045330: 6d70 726f 7665 2065 7869 7374 696e 6720  mprove existing 
-00045340: 6361 6368 6573 2028 5052 2023 3231 322c  caches (PR #212,
-00045350: 2023 3231 392c 2023 3232 362c 2023 3232   #219, #226, #22
-00045360: 3829 0a2d 2020 2042 6174 6368 2076 6172  8).-   Batch var
-00045370: 696f 7573 2073 746f 7261 6765 2072 6571  ious storage req
-00045380: 7565 7374 2028 5052 2023 3232 362c 2023  uest (PR #226, #
-00045390: 3232 3829 0a2d 2020 2046 6978 2062 7567  228).-   Fix bug
-000453a0: 2077 6865 7265 2077 6520 6469 646e 5c27   where we didn\'
-000453b0: 7420 636f 7272 6563 746c 7920 6c6f 6720  t correctly log 
-000453c0: 7468 6520 656e 7469 7479 2074 6861 7420  the entity that 
-000453d0: 7472 6967 6765 7265 6420 7468 6520 7265  triggered the re
-000453e0: 7175 6573 7420 6966 2074 6865 2072 6571  quest if the req
-000453f0: 7565 7374 2063 616d 6520 696e 2076 6961  uest came in via
-00045400: 2061 6e20 6170 706c 6963 6174 696f 6e20   an application 
-00045410: 7365 7276 6963 6520 2850 5220 2332 3330  service (PR #230
-00045420: 290a 2d20 2020 4669 7820 6275 6720 7768  ).-   Fix bug wh
-00045430: 6572 6520 7765 206e 6565 646c 6573 736c  ere we needlessl
-00045440: 7920 7265 6765 6e65 7261 7465 6420 7468  y regenerated th
-00045450: 6520 6675 6c6c 206c 6973 7420 6f66 2072  e full list of r
-00045460: 6f6f 6d73 2061 6e20 4153 2069 7320 696e  ooms an AS is in
-00045470: 7465 7265 7374 6564 2069 6e2e 2028 5052  terested in. (PR
-00045480: 2023 3233 3229 0a2d 2020 2041 6464 2073   #232).-   Add s
-00045490: 7570 706f 7274 2066 6f72 2041 535c 2773  upport for AS\'s
-000454a0: 2074 6f20 7573 6520 7632 5c5f 616c 7068   to use v2\_alph
-000454b0: 6120 7265 6769 7374 7261 7469 6f6e 2041  a registration A
-000454c0: 5049 2028 5052 2023 3231 3029 0a0a 436f  PI (PR #210)..Co
-000454d0: 6e66 6967 7572 6174 696f 6e3a 0a0a 2d20  nfiguration:..- 
-000454e0: 2020 4164 6420 602d 2d67 656e 6572 6174    Add `--generat
-000454f0: 652d 6b65 7973 6020 7468 6174 2077 696c  e-keys` that wil
-00045500: 6c20 6765 6e65 7261 7465 2061 6e79 206d  l generate any m
-00045510: 6973 7369 6e67 2063 6572 7420 616e 6420  issing cert and 
-00045520: 6b65 7920 6669 6c65 7320 696e 2074 6865  key files in the
-00045530: 2063 6f6e 6669 6775 7261 7469 6f6e 2066   configuration f
-00045540: 696c 6573 2e20 5468 6973 2069 7320 6571  iles. This is eq
-00045550: 7569 7661 6c65 6e74 2074 6f20 7275 6e6e  uivalent to runn
-00045560: 696e 6720 602d 2d67 656e 6572 6174 652d  ing `--generate-
-00045570: 636f 6e66 6967 6020 6f6e 2061 6e20 6578  config` on an ex
-00045580: 6973 7469 6e67 2063 6f6e 6669 6775 7261  isting configura
-00045590: 7469 6f6e 2066 696c 652e 2028 5052 2023  tion file. (PR #
-000455a0: 3232 3029 0a2d 2020 2060 2d2d 6765 6e65  220).-   `--gene
-000455b0: 7261 7465 2d63 6f6e 6669 6760 206e 6f77  rate-config` now
-000455c0: 206e 6f20 6c6f 6e67 6572 2072 6571 7569   no longer requi
-000455d0: 7265 7320 6120 602d 2d73 6572 7665 722d  res a `--server-
-000455e0: 6e61 6d65 6020 7061 7261 6d65 7465 7220  name` parameter 
-000455f0: 7768 656e 2075 7365 6420 6f6e 2065 7869  when used on exi
-00045600: 7374 696e 6720 636f 6e66 6967 7572 6174  sting configurat
-00045610: 696f 6e20 6669 6c65 732e 2028 5052 2023  ion files. (PR #
-00045620: 3232 3029 0a2d 2020 2041 6464 2060 2d2d  220).-   Add `--
-00045630: 7072 696e 742d 7069 6466 696c 6560 2066  print-pidfile` f
-00045640: 6c61 6720 7468 6174 2063 6f6e 7472 6f6c  lag that control
-00045650: 7320 7468 6520 7072 696e 7469 6e67 206f  s the printing o
-00045660: 6620 7468 6520 7069 6420 746f 2073 7464  f the pid to std
-00045670: 6f75 7420 6f66 2074 6865 2064 656d 6f6e  out of the demon
-00045680: 6973 6564 2070 726f 6365 7373 2e20 2850  ised process. (P
-00045690: 5220 2332 3133 290a 0a4d 6564 6961 2052  R #213)..Media R
-000456a0: 6570 6f73 6974 6f72 793a 0a0a 2d20 2020  epository:..-   
-000456b0: 4669 7820 6275 6720 7768 6572 6520 7765  Fix bug where we
-000456c0: 2070 6963 6b65 6420 6120 6c6f 7765 7220   picked a lower 
-000456d0: 7265 736f 6c75 7469 6f6e 2069 6d61 6765  resolution image
-000456e0: 2074 6861 6e20 7265 7175 6573 7465 642e   than requested.
-000456f0: 2028 5052 2023 3230 3529 0a2d 2020 2041   (PR #205).-   A
-00045700: 6464 2073 7570 706f 7274 2066 6f72 2073  dd support for s
-00045710: 7065 6369 6679 696e 6720 6966 2061 2074  pecifying if a t
-00045720: 6865 206d 6564 6961 2072 6570 6f73 6974  he media reposit
-00045730: 6f72 7920 7368 6f75 6c64 2064 796e 616d  ory should dynam
-00045740: 6963 616c 6c79 2074 6875 6d62 6e61 696c  ically thumbnail
-00045750: 2069 6d61 6765 7320 6f72 206e 6f74 2e20   images or not. 
-00045760: 2850 5220 2332 3036 290a 0a4d 6574 7269  (PR #206)..Metri
-00045770: 6373 3a0a 0a2d 2020 2041 6464 2073 7461  cs:..-   Add sta
-00045780: 7469 7374 6963 7320 6672 6f6d 2074 6865  tistics from the
-00045790: 2072 6561 6374 6f72 2074 6f20 7468 6520   reactor to the 
-000457a0: 6d65 7472 6963 7320 4150 492e 2028 5052  metrics API. (PR
-000457b0: 2023 3232 342c 2023 3232 3529 0a0a 4465   #224, #225)..De
-000457c0: 6d6f 2048 6f6d 6573 6572 7665 7273 3a0a  mo Homeservers:.
-000457d0: 0a2d 2020 2046 6978 2073 7461 7274 696e  .-   Fix startin
-000457e0: 6720 7468 6520 6465 6d6f 2068 6f6d 6573  g the demo homes
-000457f0: 6572 7665 7273 2077 6974 686f 7574 2072  ervers without r
-00045800: 6174 652d 6c69 6d69 7469 6e67 2065 6e61  ate-limiting ena
-00045810: 626c 6564 2e20 2850 5220 2331 3832 290a  bled. (PR #182).
-00045820: 2d20 2020 4669 7820 656e 6162 6c69 6e67  -   Fix enabling
-00045830: 2072 6567 6973 7472 6174 696f 6e20 6f6e   registration on
-00045840: 2064 656d 6f20 686f 6d65 7365 7276 6572   demo homeserver
-00045850: 7320 2850 5220 2332 3233 290a 0a43 6861  s (PR #223)..Cha
-00045860: 6e67 6573 2069 6e20 7379 6e61 7073 6520  nges in synapse 
-00045870: 7630 2e39 2e34 2d72 6331 2028 3230 3135  v0.9.4-rc1 (2015
-00045880: 2d30 372d 3231 290a 3d3d 3d3d 3d3d 3d3d  -07-21).========
-00045890: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000458a0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000458b0: 3d3d 0a0a 4765 6e65 7261 6c3a 0a0a 2d20  ==..General:..- 
-000458c0: 2020 4164 6420 6261 7369 6320 696d 706c    Add basic impl
-000458d0: 656d 656e 7461 7469 6f6e 206f 6620 7265  ementation of re
-000458e0: 6365 6970 7473 2e20 2853 5045 432d 3939  ceipts. (SPEC-99
-000458f0: 290a 2d20 2020 4164 6420 7375 7070 6f72  ).-   Add suppor
-00045900: 7420 666f 7220 636f 6e66 6967 7572 6174  t for configurat
-00045910: 696f 6e20 7072 6573 6574 7320 696e 2072  ion presets in r
-00045920: 6f6f 6d20 6372 6561 7469 6f6e 2041 5049  oom creation API
-00045930: 2e20 2850 5220 2332 3033 290a 2d20 2020  . (PR #203).-   
-00045940: 4164 6420 6175 7468 2065 7665 6e74 2074  Add auth event t
-00045950: 6861 7420 6c69 6d69 7473 2074 6865 2076  hat limits the v
-00045960: 6973 6962 696c 6974 7920 6f66 2068 6973  isibility of his
-00045970: 746f 7279 2066 6f72 206e 6577 2075 7365  tory for new use
-00045980: 7273 2e20 2853 5045 432d 3133 3429 0a2d  rs. (SPEC-134).-
-00045990: 2020 2041 6464 2053 414d 4c32 206c 6f67     Add SAML2 log
-000459a0: 696e 2f72 6567 6973 7472 6174 696f 6e20  in/registration 
-000459b0: 7375 7070 6f72 742e 2028 5052 2023 3230  support. (PR #20
-000459c0: 312e 2054 6861 6e6b 7320 4d75 7468 7520  1. Thanks Muthu 
-000459d0: 5375 6272 616d 616e 6961 6e21 290a 2d20  Subramanian!).- 
-000459e0: 2020 4164 6420 636c 6965 6e74 2073 6964    Add client sid
-000459f0: 6520 6b65 7920 6d61 6e61 6765 6d65 6e74  e key management
-00045a00: 2041 5049 7320 666f 7220 656e 6420 746f   APIs for end to
-00045a10: 2065 6e64 2065 6e63 7279 7074 696f 6e2e   end encryption.
-00045a20: 2028 5052 2023 3139 3829 0a2d 2020 2043   (PR #198).-   C
-00045a30: 6861 6e67 6520 706f 7765 7220 6c65 7665  hange power leve
-00045a40: 6c20 7365 6d61 6e74 6963 7320 736f 2074  l semantics so t
-00045a50: 6861 7420 796f 7520 6361 6e6e 6f74 206b  hat you cannot k
-00045a60: 6963 6b2c 2062 616e 206f 7220 6368 616e  ick, ban or chan
-00045a70: 6765 2070 6f77 6572 206c 6576 656c 7320  ge power levels 
-00045a80: 6f66 2075 7365 7273 2074 6861 7420 6861  of users that ha
-00045a90: 7665 2065 7175 616c 206f 7220 6772 6561  ve equal or grea
-00045aa0: 7465 7220 706f 7765 7220 6c65 7665 6c20  ter power level 
-00045ab0: 7468 616e 2079 6f75 2e20 2853 594e 2d31  than you. (SYN-1
-00045ac0: 3932 290a 2d20 2020 496d 7072 6f76 6520  92).-   Improve 
-00045ad0: 7065 7266 6f72 6d61 6e63 6520 6279 2062  performance by b
-00045ae0: 756c 6b20 696e 7365 7274 696e 6720 6576  ulk inserting ev
-00045af0: 656e 7473 2077 6865 7265 2070 6f73 7369  ents where possi
-00045b00: 626c 652e 2028 5052 2023 3139 3329 0a2d  ble. (PR #193).-
-00045b10: 2020 2049 6d70 726f 7665 2070 6572 666f     Improve perfo
-00045b20: 726d 616e 6365 2062 7920 6275 6c6b 2076  rmance by bulk v
-00045b30: 6572 6966 7969 6e67 2073 6967 6e61 7475  erifying signatu
-00045b40: 7265 7320 7768 6572 6520 706f 7373 6962  res where possib
-00045b50: 6c65 2e20 2850 5220 2331 3934 290a 0a43  le. (PR #194)..C
-00045b60: 6f6e 6669 6775 7261 7469 6f6e 3a0a 0a2d  onfiguration:..-
-00045b70: 2020 2041 6464 2073 7570 706f 7274 2066     Add support f
-00045b80: 6f72 2069 6e63 6c75 6469 6e67 2054 4c53  or including TLS
-00045b90: 2063 6572 7469 6669 6361 7465 2063 6861   certificate cha
-00045ba0: 696e 732e 0a0a 4d65 6469 6120 5265 706f  ins...Media Repo
-00045bb0: 7369 746f 7279 3a0a 0a2d 2020 2041 6464  sitory:..-   Add
-00045bc0: 2043 6f6e 7465 6e74 2d44 6973 706f 7369   Content-Disposi
-00045bd0: 7469 6f6e 2068 6561 6465 7273 2074 6f20  tion headers to 
-00045be0: 636f 6e74 656e 7420 7265 706f 7369 746f  content reposito
-00045bf0: 7279 2072 6573 706f 6e73 6573 2e20 2853  ry responses. (S
-00045c00: 594e 2d31 3530 290a 0a43 6861 6e67 6573  YN-150)..Changes
-00045c10: 2069 6e20 7379 6e61 7073 6520 7630 2e39   in synapse v0.9
-00045c20: 2e33 2028 3230 3135 2d30 372d 3031 290a  .3 (2015-07-01).
-00045c30: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00045c40: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00045c50: 3d3d 3d3d 3d3d 0a0a 4e6f 2063 6861 6e67  ======..No chang
-00045c60: 6573 2066 726f 6d20 7630 2e39 2e33 2052  es from v0.9.3 R
-00045c70: 656c 6561 7365 2043 616e 6469 6461 7465  elease Candidate
-00045c80: 2031 2e0a 0a43 6861 6e67 6573 2069 6e20   1...Changes in 
-00045c90: 7379 6e61 7073 6520 7630 2e39 2e33 2d72  synapse v0.9.3-r
-00045ca0: 6331 2028 3230 3135 2d30 362d 3233 290a  c1 (2015-06-23).
-00045cb0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00045cc0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00045cd0: 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 4765 6e65  ==========..Gene
-00045ce0: 7261 6c3a 0a0a 2d20 2020 4669 7820 6120  ral:..-   Fix a 
-00045cf0: 6d65 6d6f 7279 206c 6561 6b20 696e 2074  memory leak in t
-00045d00: 6865 206e 6f74 6966 6965 722e 2028 5359  he notifier. (SY
-00045d10: 4e2d 3431 3229 0a2d 2020 2049 6d70 726f  N-412).-   Impro
-00045d20: 7665 2070 6572 666f 726d 616e 6365 206f  ve performance o
-00045d30: 6620 726f 6f6d 2069 6e69 7469 616c 2073  f room initial s
-00045d40: 796e 632e 2028 5359 4e2d 3431 3829 0a2d  ync. (SYN-418).-
-00045d50: 2020 2047 656e 6572 616c 2069 6d70 726f     General impro
-00045d60: 7665 6d65 6e74 7320 746f 206c 6f67 6769  vements to loggi
-00045d70: 6e67 2e0a 2d20 2020 5265 6d6f 7665 2060  ng..-   Remove `
-00045d80: 6163 6365 7373 5f74 6f6b 656e 6020 7175  access_token` qu
-00045d90: 6572 7920 7061 7261 6d73 2066 726f 6d20  ery params from 
-00045da0: 6049 4e46 4f60 206c 6576 656c 206c 6f67  `INFO` level log
-00045db0: 6769 6e67 2e0a 0a43 6f6e 6669 6775 7261  ging...Configura
-00045dc0: 7469 6f6e 3a0a 0a2d 2020 2041 6464 2073  tion:..-   Add s
-00045dd0: 7570 706f 7274 2066 6f72 2073 7065 6369  upport for speci
-00045de0: 6679 696e 6720 616e 6420 636f 6e66 6967  fying and config
-00045df0: 7572 696e 6720 6d75 6c74 6970 6c65 206c  uring multiple l
-00045e00: 6973 7465 6e65 7273 2e20 2853 594e 2d33  isteners. (SYN-3
-00045e10: 3839 290a 0a41 7070 6c69 6361 7469 6f6e  89)..Application
-00045e20: 2073 6572 7669 6365 733a 0a0a 2d20 2020   services:..-   
-00045e30: 4669 7820 6275 6720 7768 6572 6520 7379  Fix bug where sy
-00045e40: 6e61 7073 6520 6661 696c 6564 2074 6f20  napse failed to 
-00045e50: 7365 6e64 2075 7365 7220 7175 6572 6965  send user querie
-00045e60: 7320 746f 2061 7070 6c69 6361 7469 6f6e  s to application
-00045e70: 2073 6572 7669 6365 732e 0a0a 4368 616e   services...Chan
-00045e80: 6765 7320 696e 2073 796e 6170 7365 2076  ges in synapse v
-00045e90: 302e 392e 322d 7232 2028 3230 3135 2d30  0.9.2-r2 (2015-0
-00045ea0: 362d 3135 290a 3d3d 3d3d 3d3d 3d3d 3d3d  6-15).==========
-00045eb0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00045ec0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a  ===============.
-00045ed0: 0a46 6978 2070 6163 6b61 6769 6e67 2073  .Fix packaging s
-00045ee0: 6f20 7468 6174 2073 6368 656d 6120 6465  o that schema de
-00045ef0: 6c74 6120 7079 7468 6f6e 2066 696c 6573  lta python files
-00045f00: 2067 6574 2069 6e63 6c75 6465 6420 696e   get included in
-00045f10: 2074 6865 2070 6163 6b61 6765 2e0a 0a43   the package...C
-00045f20: 6861 6e67 6573 2069 6e20 7379 6e61 7073  hanges in synaps
-00045f30: 6520 7630 2e39 2e32 2028 3230 3135 2d30  e v0.9.2 (2015-0
-00045f40: 362d 3132 290a 3d3d 3d3d 3d3d 3d3d 3d3d  6-12).==========
-00045f50: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00045f60: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 4765  ============..Ge
-00045f70: 6e65 7261 6c3a 0a0a 2d20 2020 5573 6520  neral:..-   Use 
-00045f80: 756c 7472 616a 736f 6e20 666f 7220 6a73  ultrajson for js
-00045f90: 6f6e 2028 6465 2973 6572 6961 6c69 7361  on (de)serialisa
-00045fa0: 7469 6f6e 2077 6865 6e20 6120 6361 6e6f  tion when a cano
-00045fb0: 6e69 6361 6c20 656e 636f 6469 6e67 2069  nical encoding i
-00045fc0: 7320 6e6f 7420 7265 7175 6972 6564 2e20  s not required. 
-00045fd0: 556c 7472 616a 736f 6e20 6973 2073 6967  Ultrajson is sig
-00045fe0: 6e69 6669 6361 6e74 6c79 2066 6173 7465  nificantly faste
-00045ff0: 7220 7468 616e 2073 696d 706c 656a 736f  r than simplejso
-00046000: 6e20 696e 2063 6572 7461 696e 2063 6972  n in certain cir
-00046010: 6375 6d73 7461 6e63 6573 2e0a 2d20 2020  cumstances..-   
-00046020: 5573 6520 636f 6e6e 6563 7469 6f6e 2070  Use connection p
-00046030: 6f6f 6c73 2066 6f72 206f 7574 676f 696e  ools for outgoin
-00046040: 6720 4854 5450 2063 6f6e 6e65 6374 696f  g HTTP connectio
-00046050: 6e73 2e0a 2d20 2020 5072 6f63 6573 7320  ns..-   Process 
-00046060: 7468 756d 626e 6169 6c73 206f 6e20 7365  thumbnails on se
-00046070: 7061 7261 7465 2074 6872 6561 6473 2e0a  parate threads..
-00046080: 0a43 6f6e 6669 6775 7261 7469 6f6e 3a0a  .Configuration:.
-00046090: 0a2d 2020 2041 6464 206f 7074 696f 6e2c  .-   Add option,
-000460a0: 2060 677a 6970 5f72 6573 706f 6e73 6573   `gzip_responses
-000460b0: 602c 2074 6f20 6469 7361 626c 6520 4854  `, to disable HT
-000460c0: 5450 2072 6573 706f 6e73 6520 636f 6d70  TP response comp
-000460d0: 7265 7373 696f 6e2e 0a0a 4665 6465 7261  ression...Federa
-000460e0: 7469 6f6e 3a0a 0a2d 2020 2049 6d70 726f  tion:..-   Impro
-000460f0: 7665 2072 6573 696c 6965 6e63 6520 6f66  ve resilience of
-00046100: 2062 6163 6b66 696c 6c20 6279 2065 6e73   backfill by ens
-00046110: 7572 696e 6720 7765 2066 6574 6368 2061  uring we fetch a
-00046120: 6e79 206d 6973 7369 6e67 2061 7574 6820  ny missing auth 
-00046130: 6576 656e 7473 2e0a 2d20 2020 496d 7072  events..-   Impr
-00046140: 6f76 6520 7065 7266 6f72 6d61 6e63 6520  ove performance 
-00046150: 6f66 2062 6163 6b66 696c 6c20 616e 6420  of backfill and 
-00046160: 6a6f 696e 696e 6720 7265 6d6f 7465 2072  joining remote r
-00046170: 6f6f 6d73 2062 7920 7265 6d6f 7669 6e67  ooms by removing
-00046180: 2075 6e6e 6563 6573 7361 7279 2063 6f6d   unnecessary com
-00046190: 7075 7461 7469 6f6e 732e 2054 6869 7320  putations. This 
-000461a0: 696e 636c 7564 6564 2068 616e 646c 696e  included handlin
-000461b0: 6720 6576 656e 7473 2077 655c 2764 2070  g events we\'d p
-000461c0: 7265 7669 6f75 736c 7920 6861 6e64 6c65  reviously handle
-000461d0: 6420 6173 2077 656c 6c20 6173 2061 7474  d as well as att
-000461e0: 656d 7074 696e 6720 746f 2063 6f6d 7075  empting to compu
-000461f0: 7465 2074 6865 2063 7572 7265 6e74 2073  te the current s
-00046200: 7461 7465 2066 6f72 206f 7574 6c69 6572  tate for outlier
-00046210: 732e 0a0a 4368 616e 6765 7320 696e 2073  s...Changes in s
-00046220: 796e 6170 7365 2076 302e 392e 3120 2832  ynapse v0.9.1 (2
-00046230: 3031 352d 3035 2d32 3629 0a3d 3d3d 3d3d  015-05-26).=====
-00046240: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00046250: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00046260: 3d0a 0a47 656e 6572 616c 3a0a 0a2d 2020  =..General:..-  
-00046270: 2041 6464 2073 7570 706f 7274 2066 6f72   Add support for
-00046280: 2062 6163 6b66 696c 6c69 6e67 2077 6865   backfilling whe
-00046290: 6e20 6120 636c 6965 6e74 2070 6167 696e  n a client pagin
-000462a0: 6174 6573 2e20 5468 6973 2061 6c6c 6f77  ates. This allow
-000462b0: 7320 7365 7276 6572 7320 746f 2072 6571  s servers to req
-000462c0: 7565 7374 2068 6973 746f 7279 2066 6f72  uest history for
-000462d0: 2061 2072 6f6f 6d20 6672 6f6d 2072 656d   a room from rem
-000462e0: 6f74 6520 7365 7276 6572 7320 7768 656e  ote servers when
-000462f0: 2061 2063 6c69 656e 7420 7472 6965 7320   a client tries 
-00046300: 746f 2070 6167 696e 6174 6520 6869 7374  to paginate hist
-00046310: 6f72 7920 7468 6520 7365 7276 6572 2064  ory the server d
-00046320: 6f65 7320 6e6f 7420 6861 7665 202d 2053  oes not have - S
-00046330: 594e 2d33 360a 2d20 2020 4669 7820 6275  YN-36.-   Fix bu
-00046340: 6720 7768 6572 6520 796f 7520 636f 756c  g where you coul
-00046350: 646e 5c27 7420 6469 7361 626c 6520 6e6f  dn\'t disable no
-00046360: 6e2d 6465 6661 756c 7420 7075 7368 7275  n-default pushru
-00046370: 6c65 7320 2d20 5359 4e2d 3337 380a 2d20  les - SYN-378.- 
-00046380: 2020 4669 7820 6072 6567 6973 7465 725f    Fix `register_
-00046390: 6e65 775f 7573 6572 6020 7363 7269 7074  new_user` script
-000463a0: 202d 2053 594e 2d33 3539 0a2d 2020 2049   - SYN-359.-   I
-000463b0: 6d70 726f 7665 2070 6572 666f 726d 616e  mprove performan
-000463c0: 6365 206f 6620 6665 7463 6869 6e67 2065  ce of fetching e
-000463d0: 7665 6e74 7320 6672 6f6d 2074 6865 2064  vents from the d
-000463e0: 6174 6162 6173 652c 2074 6869 7320 696d  atabase, this im
-000463f0: 7072 6f76 6573 2062 6f74 6820 696e 6974  proves both init
-00046400: 6961 6c53 796e 6320 616e 6420 7365 6e64  ialSync and send
-00046410: 696e 6720 6f66 2065 7665 6e74 732e 0a2d  ing of events..-
-00046420: 2020 2049 6d70 726f 7665 2070 6572 666f     Improve perfo
-00046430: 726d 616e 6365 206f 6620 6576 656e 7420  rmance of event 
-00046440: 7374 7265 616d 732c 2061 6c6c 6f77 696e  streams, allowin
-00046450: 6720 7379 6e61 7073 6520 746f 2068 616e  g synapse to han
-00046460: 646c 6520 6d6f 7265 2073 696d 756c 7461  dle more simulta
-00046470: 6e65 6f75 7320 636f 6e6e 6563 7465 6420  neous connected 
-00046480: 636c 6965 6e74 732e 0a0a 4665 6465 7261  clients...Federa
-00046490: 7469 6f6e 3a0a 0a2d 2020 2046 6978 2062  tion:..-   Fix b
-000464a0: 7567 2077 6974 6820 6578 6973 7469 6e67  ug with existing
-000464b0: 2062 6163 6b66 696c 6c20 696d 706c 656d   backfill implem
-000464c0: 656e 7461 7469 6f6e 2077 6865 7265 2069  entation where i
-000464d0: 7420 7265 7475 726e 6564 2074 6865 2077  t returned the w
-000464e0: 726f 6e67 2073 656c 6563 7469 6f6e 206f  rong selection o
-000464f0: 6620 6576 656e 7473 2069 6e20 736f 6d65  f events in some
-00046500: 2063 6972 6375 6d73 7461 6e63 6573 2e0a   circumstances..
-00046510: 2d20 2020 496d 7072 6f76 6520 7065 7266  -   Improve perf
-00046520: 6f72 6d61 6e63 6520 6f66 206a 6f69 6e69  ormance of joini
-00046530: 6e67 2072 656d 6f74 6520 726f 6f6d 732e  ng remote rooms.
-00046540: 0a0a 436f 6e66 6967 7572 6174 696f 6e3a  ..Configuration:
-00046550: 0a0a 2d20 2020 4164 6420 7375 7070 6f72  ..-   Add suppor
-00046560: 7420 666f 7220 6368 616e 6769 6e67 2074  t for changing t
-00046570: 6865 2062 696e 6420 686f 7374 206f 6620  he bind host of 
-00046580: 7468 6520 6d65 7472 6963 7320 6c69 7374  the metrics list
-00046590: 656e 6572 2076 6961 2074 6865 2060 6d65  ener via the `me
-000465a0: 7472 6963 735f 6269 6e64 5f68 6f73 7460  trics_bind_host`
-000465b0: 206f 7074 696f 6e2e 0a0a 4368 616e 6765   option...Change
-000465c0: 7320 696e 2073 796e 6170 7365 2076 302e  s in synapse v0.
-000465d0: 392e 302d 7235 2028 3230 3135 2d30 352d  9.0-r5 (2015-05-
-000465e0: 3231 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  21).============
-000465f0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00046600: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a2d  =============..-
-00046610: 2020 2041 6464 206d 6f72 6520 6461 7461     Add more data
-00046620: 6261 7365 2063 6163 6865 7320 746f 2072  base caches to r
-00046630: 6564 7563 6520 616d 6f75 6e74 206f 6620  educe amount of 
-00046640: 776f 726b 2064 6f6e 6520 666f 7220 6561  work done for ea
-00046650: 6368 2070 7573 6865 722e 2054 6869 7320  ch pusher. This 
-00046660: 7261 6469 6361 6c6c 7920 7265 6475 6365  radically reduce
-00046670: 7320 4350 5520 7573 6167 6520 7768 656e  s CPU usage when
-00046680: 206d 756c 7469 706c 6520 7075 7368 6572   multiple pusher
-00046690: 7320 6172 6520 7365 7420 7570 2069 6e20  s are set up in 
-000466a0: 7468 6520 7361 6d65 2072 6f6f 6d2e 0a0a  the same room...
-000466b0: 4368 616e 6765 7320 696e 2073 796e 6170  Changes in synap
-000466c0: 7365 2076 302e 392e 3020 2832 3031 352d  se v0.9.0 (2015-
-000466d0: 3035 2d30 3729 0a3d 3d3d 3d3d 3d3d 3d3d  05-07).=========
-000466e0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000466f0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a47  =============..G
-00046700: 656e 6572 616c 3a0a 0a2d 2020 2041 6464  eneral:..-   Add
-00046710: 2073 7570 706f 7274 2066 6f72 2075 7369   support for usi
-00046720: 6e67 2061 2050 6f73 7467 7265 5351 4c20  ng a PostgreSQL 
-00046730: 6461 7461 6261 7365 2069 6e73 7465 6164  database instead
-00046740: 206f 6620 5351 4c69 7465 2e20 5365 6520   of SQLite. See 
-00046750: 5b64 6f63 732f 706f 7374 6772 6573 2e72  [docs/postgres.r
-00046760: 7374 5d28 646f 6373 2f70 6f73 7467 7265  st](docs/postgre
-00046770: 732e 7273 7429 2066 6f72 2064 6574 6169  s.rst) for detai
-00046780: 6c73 2e0a 2d20 2020 4164 6420 7061 7373  ls..-   Add pass
-00046790: 776f 7264 2063 6861 6e67 6520 616e 6420  word change and 
-000467a0: 7265 7365 7420 4150 4973 2e20 5365 6520  reset APIs. See 
-000467b0: 5b52 6567 6973 7472 6174 696f 6e5d 2868  [Registration](h
-000467c0: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
-000467d0: 6d2f 6d61 7472 6978 2d6f 7267 2f6d 6174  m/matrix-org/mat
-000467e0: 7269 782d 646f 632f 626c 6f62 2f6d 6173  rix-doc/blob/mas
-000467f0: 7465 722f 7370 6563 6966 6963 6174 696f  ter/specificatio
-00046800: 6e2f 3130 5f63 6c69 656e 745f 7365 7276  n/10_client_serv
-00046810: 6572 5f61 7069 2e72 7374 2372 6567 6973  er_api.rst#regis
-00046820: 7472 6174 696f 6e29 2069 6e20 7468 6520  tration) in the 
-00046830: 7370 6563 2e0a 2d20 2020 4669 7820 6d65  spec..-   Fix me
-00046840: 6d6f 7279 206c 6561 6b20 6475 6520 746f  mory leak due to
-00046850: 206e 6f74 2072 656c 6561 7369 6e67 2073   not releasing s
-00046860: 7461 6c65 206e 6f74 6966 6965 7273 202d  tale notifiers -
-00046870: 2053 594e 2d33 3339 2e0a 2d20 2020 4669   SYN-339..-   Fi
-00046880: 7820 7261 6365 2069 6e20 6361 6368 6573  x race in caches
-00046890: 2074 6861 7420 6f63 6361 7369 6f6e 616c   that occasional
-000468a0: 6c79 2063 6175 7365 6420 736f 6d65 2070  ly caused some p
-000468b0: 7265 7365 6e63 6520 7570 6461 7465 7320  resence updates 
-000468c0: 746f 2062 6520 6472 6f70 7065 6420 2d20  to be dropped - 
-000468d0: 5359 4e2d 3336 392e 0a2d 2020 2043 6865  SYN-369..-   Che
-000468e0: 636b 2073 6572 7665 7220 6e61 6d65 2068  ck server name h
-000468f0: 6173 206e 6f74 2063 6861 6e67 6564 206f  as not changed o
-00046900: 6e20 7265 7374 6172 742e 0a2d 2020 2041  n restart..-   A
-00046910: 6464 2061 2073 616d 706c 6520 7379 7374  dd a sample syst
-00046920: 656d 6420 756e 6974 2066 696c 6520 616e  emd unit file an
-00046930: 6420 6120 6c6f 6767 6572 2063 6f6e 6669  d a logger confi
-00046940: 6775 7261 7469 6f6e 2069 6e20 636f 6e74  guration in cont
-00046950: 7269 622f 7379 7374 656d 642e 2043 6f6e  rib/systemd. Con
-00046960: 7472 6962 7574 6564 2049 7661 6e20 5368  tributed Ivan Sh
-00046970: 6170 6f76 616c 6f76 2e0a 0a46 6564 6572  apovalov...Feder
-00046980: 6174 696f 6e3a 0a0a 2d20 2020 4164 6420  ation:..-   Add 
-00046990: 6b65 7920 6469 7374 7269 6275 7469 6f6e  key distribution
-000469a0: 206d 6563 6861 6e69 736d 7320 666f 7220   mechanisms for 
-000469b0: 6665 7463 6869 6e67 2070 7562 6c69 6320  fetching public 
-000469c0: 6b65 7973 206f 6620 756e 6176 6169 6c61  keys of unavaila
-000469d0: 626c 6520 7265 6d6f 7465 2068 6f6d 6520  ble remote home 
-000469e0: 7365 7276 6572 732e 2053 6565 205b 5265  servers. See [Re
-000469f0: 7472 6965 7669 6e67 2053 6572 7665 7220  trieving Server 
-00046a00: 4b65 7973 5d28 6874 7470 733a 2f2f 6769  Keys](https://gi
-00046a10: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
-00046a20: 6f72 672f 6d61 7472 6978 2d64 6f63 2f62  org/matrix-doc/b
-00046a30: 6c6f 622f 3666 3236 3938 2f73 7065 6369  lob/6f2698/speci
-00046a40: 6669 6361 7469 6f6e 2f33 305f 7365 7276  fication/30_serv
-00046a50: 6572 5f73 6572 7665 725f 6170 692e 7273  er_server_api.rs
-00046a60: 7423 7265 7472 6965 7669 6e67 2d73 6572  t#retrieving-ser
-00046a70: 7665 722d 6b65 7973 2920 696e 2074 6865  ver-keys) in the
-00046a80: 2073 7065 632e 0a0a 436f 6e66 6967 7572   spec...Configur
-00046a90: 6174 696f 6e3a 0a0a 2d20 2020 4164 6420  ation:..-   Add 
-00046aa0: 7375 7070 6f72 7420 666f 7220 6d75 6c74  support for mult
-00046ab0: 6970 6c65 2063 6f6e 6669 6720 6669 6c65  iple config file
-00046ac0: 732e 0a2d 2020 2041 6464 2073 7570 706f  s..-   Add suppo
-00046ad0: 7274 2066 6f72 2064 6963 7469 6f6e 6172  rt for dictionar
-00046ae0: 6965 7320 696e 2063 6f6e 6669 6720 6669  ies in config fi
-00046af0: 6c65 732e 0a2d 2020 2052 656d 6f76 6520  les..-   Remove 
-00046b00: 7375 7070 6f72 7420 666f 7220 7370 6563  support for spec
-00046b10: 6966 7969 6e67 2063 6f6e 6669 6720 6f70  ifying config op
-00046b20: 7469 6f6e 7320 6f6e 2074 6865 2063 6f6d  tions on the com
-00046b30: 6d61 6e64 206c 696e 652c 2065 7863 6570  mand line, excep
-00046b40: 7420 666f 723a 0a20 2020 202d 2020 2060  t for:.    -   `
-00046b50: 2d2d 6461 656d 6f6e 697a 6560 202d 2044  --daemonize` - D
-00046b60: 6165 6d6f 6e69 7a65 2074 6865 2068 6f6d  aemonize the hom
-00046b70: 6520 7365 7276 6572 2e0a 2020 2020 2d20  e server..    - 
-00046b80: 2020 602d 2d6d 616e 686f 6c65 6020 2d20    `--manhole` - 
-00046b90: 5475 726e 206f 6e20 7468 6520 7477 6973  Turn on the twis
-00046ba0: 7465 6420 7465 6c6e 6574 206d 616e 686f  ted telnet manho
-00046bb0: 6c65 2073 6572 7669 6365 206f 6e20 7468  le service on th
-00046bc0: 6520 6769 7665 6e20 706f 7274 2e0a 2020  e given port..  
-00046bd0: 2020 2d20 2020 602d 2d64 6174 6162 6173    -   `--databas
-00046be0: 652d 7061 7468 6020 2d20 5468 6520 7061  e-path` - The pa
-00046bf0: 7468 2074 6f20 6120 7371 6c69 7465 2064  th to a sqlite d
-00046c00: 6174 6162 6173 6520 746f 2075 7365 2e0a  atabase to use..
-00046c10: 2020 2020 2d20 2020 602d 2d76 6572 626f      -   `--verbo
-00046c20: 7365 6020 2d20 5468 6520 7665 7262 6f73  se` - The verbos
-00046c30: 6974 7920 6c65 7665 6c2e 0a20 2020 202d  ity level..    -
-00046c40: 2020 2060 2d2d 6c6f 672d 6669 6c65 6020     `--log-file` 
-00046c50: 2d20 4669 6c65 2074 6f20 6c6f 6720 746f  - File to log to
-00046c60: 2e0a 2020 2020 2d20 2020 602d 2d6c 6f67  ..    -   `--log
-00046c70: 2d63 6f6e 6669 6760 202d 2050 7974 686f  -config` - Pytho
-00046c80: 6e20 6c6f 6767 696e 6720 636f 6e66 6967  n logging config
-00046c90: 2066 696c 652e 0a20 2020 202d 2020 2060   file..    -   `
-00046ca0: 2d2d 656e 6162 6c65 2d72 6567 6973 7472  --enable-registr
-00046cb0: 6174 696f 6e60 202d 2045 6e61 626c 6520  ation` - Enable 
-00046cc0: 7265 6769 7374 7261 7469 6f6e 2066 6f72  registration for
-00046cd0: 206e 6577 2075 7365 7273 2e0a 0a41 7070   new users...App
-00046ce0: 6c69 6361 7469 6f6e 2073 6572 7669 6365  lication service
-00046cf0: 733a 0a0a 2d20 2020 5265 6c69 6162 6c79  s:..-   Reliably
-00046d00: 2072 6574 7279 2073 656e 6469 6e67 206f   retry sending o
-00046d10: 6620 6576 656e 7473 2066 726f 6d20 5379  f events from Sy
-00046d20: 6e61 7073 6520 746f 2061 7070 6c69 6361  napse to applica
-00046d30: 7469 6f6e 2073 6572 7669 6365 732c 2061  tion services, a
-00046d40: 7320 7065 7220 5b41 7070 6c69 6361 7469  s per [Applicati
-00046d50: 6f6e 2053 6572 7669 6365 735d 2868 7474  on Services](htt
-00046d60: 7073 3a2f 2f67 6974 6875 622e 636f 6d2f  ps://github.com/
-00046d70: 6d61 7472 6978 2d6f 7267 2f6d 6174 7269  matrix-org/matri
-00046d80: 782d 646f 632f 626c 6f62 2f30 6336 6264  x-doc/blob/0c6bd
-00046d90: 392f 7370 6563 6966 6963 6174 696f 6e2f  9/specification/
-00046da0: 3235 5f61 7070 6c69 6361 7469 6f6e 5f73  25_application_s
-00046db0: 6572 7669 6365 5f61 7069 2e72 7374 2368  ervice_api.rst#h
-00046dc0: 6f6d 652d 7365 7276 6572 2d2d 2d61 7070  ome-server---app
-00046dd0: 6c69 6361 7469 6f6e 2d73 6572 7669 6365  lication-service
-00046de0: 2d61 7069 2920 7370 6563 2e0a 2d20 2020  -api) spec..-   
-00046df0: 4170 706c 6963 6174 696f 6e20 7365 7276  Application serv
-00046e00: 6963 6573 2063 616e 206e 6f20 6c6f 6e67  ices can no long
-00046e10: 6572 2072 6567 6973 7465 7220 7669 6120  er register via 
-00046e20: 7468 6520 602f 7265 6769 7374 6572 6020  the `/register` 
-00046e30: 4150 492c 2069 6e73 7465 6164 2074 6865  API, instead the
-00046e40: 6972 2063 6f6e 6669 6775 7261 7469 6f6e  ir configuration
-00046e50: 2073 686f 756c 6420 6265 2073 6176 6564   should be saved
-00046e60: 2074 6f20 6120 6669 6c65 2061 6e64 206c   to a file and l
-00046e70: 6973 7465 6420 696e 2074 6865 2073 796e  isted in the syn
-00046e80: 6170 7365 2060 6170 705f 7365 7276 6963  apse `app_servic
-00046e90: 655f 636f 6e66 6967 5f66 696c 6573 6020  e_config_files` 
-00046ea0: 636f 6e66 6967 206f 7074 696f 6e2e 2054  config option. T
-00046eb0: 6865 2041 5320 636f 6e66 6967 7572 6174  he AS configurat
-00046ec0: 696f 6e20 6669 6c65 2068 6173 2074 6865  ion file has the
-00046ed0: 2073 616d 6520 666f 726d 6174 2061 7320   same format as 
-00046ee0: 7468 6520 6f6c 6420 602f 7265 6769 7374  the old `/regist
-00046ef0: 6572 6020 7265 7175 6573 742e 2053 6565  er` request. See
-00046f00: 205b 646f 6373 2f61 7070 6c69 6361 7469   [docs/applicati
-00046f10: 6f6e 5c5f 7365 7276 6963 6573 2e72 7374  on\_services.rst
-00046f20: 5d28 646f 6373 2f61 7070 6c69 6361 7469  ](docs/applicati
-00046f30: 6f6e 5f73 6572 7669 6365 732e 7273 7429  on_services.rst)
-00046f40: 2066 6f72 206d 6f72 6520 696e 666f 726d   for more inform
-00046f50: 6174 696f 6e2e 0a0a 4368 616e 6765 7320  ation...Changes 
-00046f60: 696e 2073 796e 6170 7365 2076 302e 382e  in synapse v0.8.
-00046f70: 3120 2832 3031 352d 3033 2d31 3829 0a3d  1 (2015-03-18).=
-00046f80: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00046f90: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00046fa0: 3d3d 3d3d 3d0a 0a2d 2020 2044 6973 6162  =====..-   Disab
-00046fb0: 6c65 2072 6567 6973 7472 6174 696f 6e20  le registration 
-00046fc0: 6279 2064 6566 6175 6c74 2e20 4e65 7720  by default. New 
-00046fd0: 7573 6572 7320 6361 6e20 6265 2061 6464  users can be add
-00046fe0: 6564 2075 7369 6e67 2074 6865 2063 6f6d  ed using the com
-00046ff0: 6d61 6e64 2060 7265 6769 7374 6572 5f6e  mand `register_n
-00047000: 6577 5f6d 6174 7269 785f 7573 6572 6020  ew_matrix_user` 
-00047010: 6f72 2062 7920 656e 6162 6c69 6e67 2072  or by enabling r
-00047020: 6567 6973 7472 6174 696f 6e20 696e 2074  egistration in t
-00047030: 6865 2063 6f6e 6669 672e 0a2d 2020 2041  he config..-   A
-00047040: 6464 206d 6574 7269 6373 2074 6f20 7379  dd metrics to sy
-00047050: 6e61 7073 652e 2054 6f20 656e 6162 6c65  napse. To enable
-00047060: 206d 6574 7269 6373 2075 7365 2063 6f6e   metrics use con
-00047070: 6669 6720 6f70 7469 6f6e 7320 6065 6e61  fig options `ena
-00047080: 626c 655f 6d65 7472 6963 7360 2061 6e64  ble_metrics` and
-00047090: 2060 6d65 7472 6963 735f 706f 7274 602e   `metrics_port`.
-000470a0: 0a2d 2020 2046 6978 2062 7567 2077 6865  .-   Fix bug whe
-000470b0: 7265 2062 616e 6e69 6e67 206f 6e6c 7920  re banning only 
-000470c0: 6b69 636b 6564 2074 6865 2075 7365 722e  kicked the user.
-000470d0: 0a0a 4368 616e 6765 7320 696e 2073 796e  ..Changes in syn
-000470e0: 6170 7365 2076 302e 382e 3020 2832 3031  apse v0.8.0 (201
-000470f0: 352d 3033 2d30 3629 0a3d 3d3d 3d3d 3d3d  5-03-06).=======
-00047100: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00047110: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a  ===============.
-00047120: 0a47 656e 6572 616c 3a0a 0a2d 2020 2041  .General:..-   A
-00047130: 6464 2073 7570 706f 7274 2066 6f72 2072  dd support for r
-00047140: 6567 6973 7472 6174 696f 6e20 6661 6c6c  egistration fall
-00047150: 6261 636b 2e20 5468 6973 2069 7320 6120  back. This is a 
-00047160: 7061 6765 2068 6f73 7465 6420 6f6e 2074  page hosted on t
-00047170: 6865 2073 6572 7665 7220 7768 6963 6820  he server which 
-00047180: 616c 6c6f 7773 2061 2075 7365 7220 746f  allows a user to
-00047190: 2072 6567 6973 7465 7220 666f 7220 616e   register for an
-000471a0: 2061 6363 6f75 6e74 2c20 7265 6761 7264   account, regard
-000471b0: 6c65 7373 206f 6620 7768 6174 2063 6c69  less of what cli
-000471c0: 656e 7420 7468 6579 2061 7265 2075 7369  ent they are usi
-000471d0: 6e67 2028 652e 672e 206d 6f62 696c 6520  ng (e.g. mobile 
-000471e0: 6465 7669 6365 7329 2e0a 2d20 2020 4164  devices)..-   Ad
-000471f0: 6465 6420 6e65 7720 6465 6661 756c 7420  ded new default 
-00047200: 7075 7368 2072 756c 6573 2061 6e64 206d  push rules and m
-00047210: 6164 6520 7468 656d 2063 6f6e 6669 6775  ade them configu
-00047220: 7261 626c 6520 6279 2063 6c69 656e 7473  rable by clients
-00047230: 3a0a 2020 2020 2d20 2020 5375 7070 7265  :.    -   Suppre
-00047240: 7373 2061 6c6c 206e 6f74 6963 6520 6d65  ss all notice me
-00047250: 7373 6167 6573 2e0a 2020 2020 2d20 2020  ssages..    -   
-00047260: 4e6f 7469 6679 2077 6865 6e20 696e 7669  Notify when invi
-00047270: 7465 6420 746f 2061 206e 6577 2072 6f6f  ted to a new roo
-00047280: 6d2e 0a20 2020 202d 2020 204e 6f74 6966  m..    -   Notif
-00047290: 7920 666f 7220 6d65 7373 6167 6573 2074  y for messages t
-000472a0: 6861 7420 646f 6e5c 2774 206d 6174 6368  hat don\'t match
-000472b0: 2061 6e79 2072 756c 652e 0a20 2020 202d   any rule..    -
-000472c0: 2020 204e 6f74 6966 7920 6f6e 2069 6e63     Notify on inc
-000472d0: 6f6d 696e 6720 6361 6c6c 2e0a 0a46 6564  oming call...Fed
-000472e0: 6572 6174 696f 6e3a 0a0a 2d20 2020 4164  eration:..-   Ad
-000472f0: 6465 6420 7065 7220 686f 7374 2073 6572  ded per host ser
-00047300: 7665 7220 7369 6465 2072 6174 652d 6c69  ver side rate-li
-00047310: 6d69 7469 6e67 206f 6620 696e 636f 6d69  miting of incomi
-00047320: 6e67 2066 6564 6572 6174 696f 6e20 7265  ng federation re
-00047330: 7175 6573 7473 2e0a 2d20 2020 4164 6465  quests..-   Adde
-00047340: 6420 6120 602f 6765 745f 6d69 7373 696e  d a `/get_missin
-00047350: 675f 6576 656e 7473 2f60 2041 5049 2074  g_events/` API t
-00047360: 6f20 6665 6465 7261 7469 6f6e 2074 6f20  o federation to 
-00047370: 7265 6475 6365 206e 756d 6265 7220 6f66  reduce number of
-00047380: 2060 2f65 7665 6e74 732f 6020 7265 7175   `/events/` requ
-00047390: 6573 7473 2e0a 0a43 6f6e 6669 6775 7261  ests...Configura
-000473a0: 7469 6f6e 3a0a 0a2d 2020 2041 6464 6564  tion:..-   Added
-000473b0: 2063 6f6e 6669 6775 7261 7469 6f6e 206f   configuration o
-000473c0: 7074 696f 6e20 746f 2064 6973 6162 6c65  ption to disable
-000473d0: 2072 6567 6973 7472 6174 696f 6e3a 2060   registration: `
-000473e0: 6469 7361 626c 655f 7265 6769 7374 7261  disable_registra
-000473f0: 7469 6f6e 602e 0a2d 2020 2041 6464 6564  tion`..-   Added
-00047400: 2063 6f6e 6669 6775 7261 7469 6f6e 206f   configuration o
-00047410: 7074 696f 6e20 746f 2063 6861 6e67 6520  ption to change 
-00047420: 736f 6674 206c 696d 6974 206f 6620 6e75  soft limit of nu
-00047430: 6d62 6572 206f 6620 6f70 656e 2066 696c  mber of open fil
-00047440: 6520 6465 7363 7269 7074 6f72 733a 2060  e descriptors: `
-00047450: 736f 6674 5f66 696c 655f 6c69 6d69 7460  soft_file_limit`
-00047460: 2e0a 2d20 2020 4d61 6b65 2060 746c 735f  ..-   Make `tls_
-00047470: 7072 6976 6174 655f 6b65 795f 7061 7468  private_key_path
-00047480: 6020 6f70 7469 6f6e 616c 2077 6865 6e20  ` optional when 
-00047490: 7275 6e6e 696e 6720 7769 7468 2060 6e6f  running with `no
-000474a0: 5f74 6c73 602e 0a0a 4170 706c 6963 6174  _tls`...Applicat
-000474b0: 696f 6e20 7365 7276 6963 6573 3a0a 0a2d  ion services:..-
-000474c0: 2020 2041 7070 6c69 6361 7469 6f6e 2073     Application s
-000474d0: 6572 7669 6365 7320 6361 6e20 6e6f 7720  ervices can now 
-000474e0: 706f 6c6c 206f 6e20 7468 6520 4353 2041  poll on the CS A
-000474f0: 5049 2060 2f65 7665 6e74 7360 2066 6f72  PI `/events` for
-00047500: 2074 6865 6972 2065 7665 6e74 732c 2062   their events, b
-00047510: 7920 7072 6f76 6964 696e 6720 7468 6569  y providing thei
-00047520: 7220 6170 706c 6963 6174 696f 6e20 7365  r application se
-00047530: 7276 6963 6520 6061 6363 6573 735f 746f  rvice `access_to
-00047540: 6b65 6e60 2e0a 2d20 2020 4164 6465 6420  ken`..-   Added 
-00047550: 6578 636c 7573 6976 6520 6e61 6d65 7370  exclusive namesp
-00047560: 6163 6520 7375 7070 6f72 7420 746f 2061  ace support to a
-00047570: 7070 6c69 6361 7469 6f6e 2073 6572 7669  pplication servi
-00047580: 6365 7320 4150 492e 0a0a 4368 616e 6765  ces API...Change
-00047590: 7320 696e 2073 796e 6170 7365 2076 302e  s in synapse v0.
-000475a0: 372e 3120 2832 3031 352d 3032 2d31 3929  7.1 (2015-02-19)
-000475b0: 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  .===============
-000475c0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000475d0: 3d3d 3d3d 3d3d 3d0a 0a2d 2020 2049 6e69  =======..-   Ini
-000475e0: 7469 616c 2061 6c70 6861 2069 6d70 6c65  tial alpha imple
-000475f0: 6d65 6e74 6174 696f 6e20 6f66 2070 6172  mentation of par
-00047600: 7473 206f 6620 7468 6520 4170 706c 6963  ts of the Applic
-00047610: 6174 696f 6e20 5365 7276 6963 6573 2041  ation Services A
-00047620: 5049 2e20 496e 636c 7564 696e 673a 0a20  PI. Including:. 
-00047630: 2020 202d 2020 2041 5320 5265 6769 7374     -   AS Regist
-00047640: 7261 7469 6f6e 202f 2055 6e72 6567 6973  ration / Unregis
-00047650: 7472 6174 696f 6e0a 2020 2020 2d20 2020  tration.    -   
-00047660: 5573 6572 2051 7565 7279 2041 5049 0a20  User Query API. 
-00047670: 2020 202d 2020 2052 6f6f 6d20 416c 6961     -   Room Alia
-00047680: 7320 5175 6572 7920 4150 490a 2020 2020  s Query API.    
-00047690: 2d20 2020 5075 7368 2074 7261 6e73 706f  -   Push transpo
-000476a0: 7274 2066 6f72 2072 6563 6569 7669 6e67  rt for receiving
-000476b0: 2065 7665 6e74 732e 0a20 2020 202d 2020   events..    -  
-000476c0: 2055 7365 722f 416c 6961 7320 6e61 6d65   User/Alias name
-000476d0: 7370 6163 6520 6164 6d69 6e20 636f 6e74  space admin cont
-000476e0: 726f 6c0a 2d20 2020 4164 6420 6361 6368  rol.-   Add cach
-000476f0: 6520 7768 656e 2066 6574 6368 696e 6720  e when fetching 
-00047700: 6576 656e 7473 2066 726f 6d20 7265 6d6f  events from remo
-00047710: 7465 2073 6572 7665 7273 2074 6f20 7374  te servers to st
-00047720: 6f70 2072 6570 6561 7465 646c 7920 6665  op repeatedly fe
-00047730: 7463 6869 6e67 2065 7665 6e74 7320 7769  tching events wi
-00047740: 7468 2062 6164 2073 6967 6e61 7475 7265  th bad signature
-00047750: 732e 0a2d 2020 2052 6573 7065 6374 2074  s..-   Respect t
-00047760: 6865 2070 6572 2072 656d 6f74 6520 7365  he per remote se
-00047770: 7276 6572 2072 6574 7279 2073 6368 656d  rver retry schem
-00047780: 6520 7768 656e 2066 6574 6368 696e 6720  e when fetching 
-00047790: 626f 7468 2065 7665 6e74 7320 616e 6420  both events and 
-000477a0: 7365 7276 6572 206b 6579 7320 746f 2072  server keys to r
-000477b0: 6564 7563 6520 7468 6520 6e75 6d62 6572  educe the number
-000477c0: 206f 6620 7469 6d65 7320 7765 2073 656e   of times we sen
-000477d0: 6420 7265 7175 6573 7473 2074 6f20 6465  d requests to de
-000477e0: 6164 2073 6572 7665 7273 2e0a 2d20 2020  ad servers..-   
-000477f0: 496e 666f 726d 2072 656d 6f74 6520 7365  Inform remote se
-00047800: 7276 6572 7320 7768 656e 2074 6865 206c  rvers when the l
-00047810: 6f63 616c 2073 6572 7665 7220 6661 696c  ocal server fail
-00047820: 7320 746f 2068 616e 646c 6520 6120 7265  s to handle a re
-00047830: 6365 6976 6564 2065 7665 6e74 2e0a 2d20  ceived event..- 
-00047840: 2020 5475 726e 206f 6666 2070 7974 686f    Turn off pytho
-00047850: 6e20 6279 7465 636f 6465 2067 656e 6572  n bytecode gener
-00047860: 6174 696f 6e20 6475 6520 746f 2070 726f  ation due to pro
-00047870: 626c 656d 7320 6578 7065 7269 656e 6365  blems experience
-00047880: 6420 7768 656e 2075 7067 7261 6469 6e67  d when upgrading
-00047890: 2066 726f 6d20 7072 6576 696f 7573 2076   from previous v
-000478a0: 6572 7369 6f6e 732e 0a0a 4368 616e 6765  ersions...Change
-000478b0: 7320 696e 2073 796e 6170 7365 2076 302e  s in synapse v0.
-000478c0: 372e 3020 2832 3031 352d 3032 2d31 3229  7.0 (2015-02-12)
-000478d0: 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  .===============
-000478e0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000478f0: 3d3d 3d3d 3d3d 3d0a 0a2d 2020 2041 6464  =======..-   Add
-00047900: 2069 6e69 7469 616c 2069 6d70 6c65 6d65   initial impleme
-00047910: 6e74 6174 696f 6e20 6f66 2074 6865 2071  ntation of the q
-00047920: 7565 7279 2061 7574 6820 6665 6465 7261  uery auth federa
-00047930: 7469 6f6e 2041 5049 2c20 616c 6c6f 7769  tion API, allowi
-00047940: 6e67 2073 6572 7665 7273 2074 6f20 6167  ng servers to ag
-00047950: 7265 6520 6f6e 2077 6865 7468 6572 2061  ree on whether a
-00047960: 6e20 6576 656e 7420 7368 6f75 6c64 2062  n event should b
-00047970: 6520 616c 6c6f 7765 6420 6f72 2072 656a  e allowed or rej
-00047980: 6563 7465 642e 0a2d 2020 2050 6572 7369  ected..-   Persi
-00047990: 7374 2065 7665 6e74 7320 7765 2068 6176  st events we hav
-000479a0: 6520 7265 6a65 6374 6564 2066 726f 6d20  e rejected from 
-000479b0: 6665 6465 7261 7469 6f6e 2c20 6669 7869  federation, fixi
-000479c0: 6e67 2074 6865 2062 7567 2077 6865 7265  ng the bug where
-000479d0: 2073 6572 7665 7273 2077 6f75 6c64 206b   servers would k
-000479e0: 6565 7020 7265 7175 6573 7469 6e67 2074  eep requesting t
-000479f0: 6865 2073 616d 6520 6576 656e 7473 2e0a  he same events..
-00047a00: 2d20 2020 5661 7269 6f75 7320 6665 6465  -   Various fede
-00047a10: 7261 7469 6f6e 2070 6572 666f 726d 616e  ration performan
-00047a20: 6365 2069 6d70 726f 7665 6d65 6e74 732c  ce improvements,
-00047a30: 2069 6e63 6c75 6469 6e67 3a0a 2020 2020   including:.    
-00047a40: 2d20 2020 4164 6420 696e 206d 656d 6f72  -   Add in memor
-00047a50: 7920 6361 6368 6573 206f 6e20 7175 6572  y caches on quer
-00047a60: 6965 7320 7375 6368 2061 733a 0a0a 2020  ies such as:..  
-00047a70: 2020 2020 2020 3e20 2d20 2020 436f 6d70        > -   Comp
-00047a80: 7574 696e 6720 7468 6520 7374 6174 6520  uting the state 
-00047a90: 6f66 2061 2072 6f6f 6d20 6174 2061 2070  of a room at a p
-00047aa0: 6f69 6e74 2069 6e20 7469 6d65 2c20 7573  oint in time, us
-00047ab0: 6564 2066 6f72 2061 7574 686f 7269 7a61  ed for authoriza
-00047ac0: 7469 6f6e 206f 6e20 6665 6465 7261 7469  tion on federati
-00047ad0: 6f6e 2072 6571 7565 7374 732e 0a20 2020  on requests..   
-00047ae0: 2020 2020 203e 202d 2020 2046 6574 6368       > -   Fetch
-00047af0: 696e 6720 6576 656e 7473 2066 726f 6d20  ing events from 
-00047b00: 7468 6520 6461 7461 6261 7365 2e0a 2020  the database..  
-00047b10: 2020 2020 2020 3e20 2d20 2020 5573 6572        > -   User
-00047b20: 5c27 7320 726f 6f6d 206d 656d 6265 7273  \'s room members
-00047b30: 6869 702c 2075 7365 6420 666f 7220 6175  hip, used for au
-00047b40: 7468 6f72 697a 696e 6720 7072 6573 656e  thorizing presen
-00047b50: 6365 2075 7064 6174 6573 2e0a 0a20 2020  ce updates...   
-00047b60: 202d 2020 2055 7067 7261 6465 6420 4a53   -   Upgraded JS
-00047b70: 4f4e 206c 6962 7261 7279 2074 6f20 696d  ON library to im
-00047b80: 7072 6f76 6520 7061 7273 696e 6720 616e  prove parsing an
-00047b90: 6420 7365 7269 616c 6973 6174 696f 6e20  d serialisation 
-00047ba0: 7370 6565 6473 2e0a 0a2d 2020 2041 6464  speeds...-   Add
-00047bb0: 2064 6566 6175 6c74 2061 7661 7461 7273   default avatars
-00047bc0: 2074 6f20 6e65 7720 7573 6572 2061 6363   to new user acc
-00047bd0: 6f75 6e74 7320 7573 696e 6720 7079 6465  ounts using pyde
-00047be0: 6e74 6963 6f6e 206c 6962 7261 7279 2e0a  nticon library..
-00047bf0: 2d20 2020 436f 7272 6563 746c 7920 7469  -   Correctly ti
-00047c00: 6d65 206f 7574 2066 6564 6572 6174 696f  me out federatio
-00047c10: 6e20 7265 7175 6573 7473 2e0a 2d20 2020  n requests..-   
-00047c20: 5265 7472 7920 6665 6465 7261 7469 6f6e  Retry federation
-00047c30: 2072 6571 7565 7374 7320 6167 6169 6e73   requests agains
-00047c40: 7420 6469 6666 6572 656e 7420 7365 7276  t different serv
-00047c50: 6572 732e 0a2d 2020 2041 6464 2073 7570  ers..-   Add sup
-00047c60: 706f 7274 2066 6f72 2070 7573 6820 616e  port for push an
-00047c70: 6420 7075 7368 2072 756c 6573 2e0a 2d20  d push rules..- 
-00047c80: 2020 4164 6420 616c 7068 6120 7665 7273    Add alpha vers
-00047c90: 696f 6e73 206f 6620 7072 6f70 6f73 6564  ions of proposed
-00047ca0: 206e 6577 2043 5376 3220 4150 4973 2c20   new CSv2 APIs, 
-00047cb0: 696e 636c 7564 696e 6720 602f 7379 6e63  including `/sync
-00047cc0: 6020 4150 492e 0a0a 4368 616e 6765 7320  ` API...Changes 
-00047cd0: 696e 2073 796e 6170 7365 2030 2e36 2e31  in synapse 0.6.1
-00047ce0: 2028 3230 3135 2d30 312d 3037 290a 3d3d   (2015-01-07).==
-00047cf0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00047d00: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00047d10: 3d3d 3d0a 0a2d 2020 204d 616a 6f72 206f  ===..-   Major o
-00047d20: 7074 696d 697a 6174 696f 6e73 2074 6f20  ptimizations to 
-00047d30: 696d 7072 6f76 6520 7065 7266 6f72 6d61  improve performa
-00047d40: 6e63 6520 6f66 2069 6e69 7469 616c 2073  nce of initial s
-00047d50: 796e 6320 616e 6420 6576 656e 7420 7365  ync and event se
-00047d60: 6e64 696e 6720 696e 206c 6172 6765 2072  nding in large r
-00047d70: 6f6f 6d73 2028 6279 2075 7020 746f 2031  ooms (by up to 1
-00047d80: 3078 290a 2d20 2020 4d65 6469 6120 7265  0x).-   Media re
-00047d90: 706f 7369 746f 7279 206e 6f77 2069 6e63  pository now inc
-00047da0: 6c75 6465 7320 6120 436f 6e74 656e 742d  ludes a Content-
-00047db0: 4c65 6e67 7468 2068 6561 6465 7220 6f6e  Length header on
-00047dc0: 206d 6564 6961 2064 6f77 6e6c 6f61 6473   media downloads
-00047dd0: 2e0a 2d20 2020 496d 7072 6f76 6520 7175  ..-   Improve qu
-00047de0: 616c 6974 7920 6f66 2074 6875 6d62 6e61  ality of thumbna
-00047df0: 696c 7320 6279 2063 6861 6e67 696e 6720  ils by changing 
-00047e00: 7265 7369 7a69 6e67 2061 6c67 6f72 6974  resizing algorit
-00047e10: 686d 2e0a 0a43 6861 6e67 6573 2069 6e20  hm...Changes in 
-00047e20: 7379 6e61 7073 6520 302e 362e 3020 2832  synapse 0.6.0 (2
-00047e30: 3031 342d 3132 2d31 3629 0a3d 3d3d 3d3d  014-12-16).=====
-00047e40: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00047e50: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00047e60: 0a0a 2d20 2020 4164 6420 6e65 7720 4150  ..-   Add new AP
-00047e70: 4920 666f 7220 6d65 6469 6120 7570 6c6f  I for media uplo
-00047e80: 6164 2061 6e64 2064 6f77 6e6c 6f61 6420  ad and download 
-00047e90: 7468 6174 2073 7570 706f 7274 7320 7468  that supports th
-00047ea0: 756d 626e 6169 6c69 6e67 2e0a 2d20 2020  umbnailing..-   
-00047eb0: 5265 706c 6963 6174 6520 6d65 6469 6120  Replicate media 
-00047ec0: 7570 6c6f 6164 7320 6f76 6572 206d 756c  uploads over mul
-00047ed0: 7469 706c 6520 686f 6d65 7365 7276 6572  tiple homeserver
-00047ee0: 7320 736f 206d 6564 6961 2069 7320 616c  s so media is al
-00047ef0: 7761 7973 2073 6572 7665 6420 746f 2063  ways served to c
-00047f00: 6c69 656e 7473 2066 726f 6d20 7468 6569  lients from thei
-00047f10: 7220 6c6f 6361 6c20 686f 6d65 7365 7276  r local homeserv
-00047f20: 6572 2e20 5468 6973 206f 6273 6f6c 6574  er. This obsolet
-00047f30: 6573 2074 6865 205c 2d2d 636f 6e74 656e  es the \--conten
-00047f40: 742d 6164 6472 2070 6172 616d 6574 6572  t-addr parameter
-00047f50: 2061 6e64 2063 6f6e 6675 7369 6f6e 206f   and confusion o
-00047f60: 7665 7220 6163 6365 7373 696e 6720 636f  ver accessing co
-00047f70: 6e74 656e 7420 6469 7265 6374 6c79 2066  ntent directly f
-00047f80: 726f 6d20 7265 6d6f 7465 2068 6f6d 6573  rom remote homes
-00047f90: 6572 7665 7273 2e0a 2d20 2020 496d 706c  ervers..-   Impl
-00047fa0: 656d 656e 7420 6578 706f 6e65 6e74 6961  ement exponentia
-00047fb0: 6c20 6261 636b 6f66 6620 7768 656e 2072  l backoff when r
-00047fc0: 6574 7279 696e 6720 6665 6465 7261 7469  etrying federati
-00047fd0: 6f6e 2072 6571 7565 7374 7320 7768 656e  on requests when
-00047fe0: 2073 656e 6469 6e67 2074 6f20 7265 6d6f   sending to remo
-00047ff0: 7465 2068 6f6d 6573 6572 7665 7273 2077  te homeservers w
-00048000: 6869 6368 2061 7265 206f 6666 6c69 6e65  hich are offline
-00048010: 2e0a 2d20 2020 496d 706c 656d 656e 7420  ..-   Implement 
-00048020: 7479 7069 6e67 206e 6f74 6966 6963 6174  typing notificat
-00048030: 696f 6e73 2e0a 2d20 2020 4669 7820 6275  ions..-   Fix bu
-00048040: 6773 2077 6865 7265 2077 6520 7365 6e74  gs where we sent
-00048050: 2065 7665 6e74 7320 7769 7468 2069 6e76   events with inv
-00048060: 616c 6964 2073 6967 6e61 7475 7265 7320  alid signatures 
-00048070: 6475 6520 746f 2062 7567 7320 7768 6572  due to bugs wher
-00048080: 6520 7765 2069 6e63 6f72 7265 6374 6c79  e we incorrectly
-00048090: 2070 6572 7369 7374 6564 2065 7665 6e74   persisted event
-000480a0: 732e 0a2d 2020 2049 6d70 726f 7665 2070  s..-   Improve p
-000480b0: 6572 666f 726d 616e 6365 206f 6620 6461  erformance of da
-000480c0: 7461 6261 7365 2071 7565 7269 6573 2069  tabase queries i
-000480d0: 6e76 6f6c 7669 6e67 2072 6574 7269 6576  nvolving retriev
-000480e0: 696e 6720 6576 656e 7473 2e0a 0a43 6861  ing events...Cha
-000480f0: 6e67 6573 2069 6e20 7379 6e61 7073 6520  nges in synapse 
-00048100: 302e 352e 3461 2028 3230 3134 2d31 322d  0.5.4a (2014-12-
-00048110: 3133 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  13).============
-00048120: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00048130: 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 2d20 2020  ==========..-   
-00048140: 4669 7820 6275 6720 7768 696c 6520 6765  Fix bug while ge
-00048150: 6e65 7261 7469 6e67 2074 6865 2065 7272  nerating the err
-00048160: 6f72 206d 6573 7361 6765 2077 6865 6e20  or message when 
-00048170: 6120 6669 6c65 2070 6174 6820 7370 6563  a file path spec
-00048180: 6966 6965 6420 696e 2074 6865 2063 6f6e  ified in the con
-00048190: 6669 6720 646f 6573 6e5c 2774 2065 7869  fig doesn\'t exi
-000481a0: 7374 2e0a 0a43 6861 6e67 6573 2069 6e20  st...Changes in 
-000481b0: 7379 6e61 7073 6520 302e 352e 3420 2832  synapse 0.5.4 (2
-000481c0: 3031 342d 3132 2d30 3329 0a3d 3d3d 3d3d  014-12-03).=====
-000481d0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000481e0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000481f0: 0a0a 2d20 2020 4669 7820 7072 6573 656e  ..-   Fix presen
-00048200: 6365 2062 7567 2077 6865 7265 2073 6f6d  ce bug where som
-00048210: 6520 726f 6f6d 7320 6469 6420 6e6f 7420  e rooms did not 
-00048220: 6469 7370 6c61 7920 7072 6573 656e 6365  display presence
-00048230: 2075 7064 6174 6573 2066 6f72 2072 656d   updates for rem
-00048240: 6f74 6520 7573 6572 732e 0a2d 2020 2044  ote users..-   D
-00048250: 6f20 6e6f 7420 6c6f 6720 5351 4c20 7469  o not log SQL ti
-00048260: 6d69 6e67 206c 6f67 206c 696e 6573 2077  ming log lines w
-00048270: 6865 6e20 7374 6172 7465 6420 7769 7468  hen started with
-00048280: 205c 222d 765c 220a 2d20 2020 4669 7820   \"-v\".-   Fix 
-00048290: 706f 7465 6e74 6961 6c20 6d65 6d6f 7279  potential memory
-000482a0: 206c 6561 6b2e 0a0a 4368 616e 6765 7320   leak...Changes 
-000482b0: 696e 2073 796e 6170 7365 2030 2e35 2e33  in synapse 0.5.3
-000482c0: 6320 2832 3031 342d 3132 2d30 3229 0a3d  c (2014-12-02).=
-000482d0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000482e0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000482f0: 3d3d 3d3d 3d0a 0a2d 2020 2043 6861 6e67  =====..-   Chang
-00048300: 6520 7468 6520 6465 6661 756c 7420 7661  e the default va
-00048310: 6c75 6520 666f 7220 7468 6520 636f 6e74  lue for the cont
-00048320: 656e 745c 5f61 6464 7220 6f70 7469 6f6e  ent\_addr option
-00048330: 2074 6f20 7573 6520 7468 6520 4854 5450   to use the HTTP
-00048340: 206c 6973 7465 6e65 722c 2061 7320 6279   listener, as by
-00048350: 2064 6566 6175 6c74 2074 6865 2048 5454   default the HTT
-00048360: 5053 206c 6973 7465 6e65 7220 7769 6c6c  PS listener will
-00048370: 2062 6520 7573 696e 6720 6120 7365 6c66   be using a self
-00048380: 2d73 6967 6e65 6420 6365 7274 6966 6963  -signed certific
-00048390: 6174 652e 0a0a 4368 616e 6765 7320 696e  ate...Changes in
-000483a0: 2073 796e 6170 7365 2030 2e35 2e33 2028   synapse 0.5.3 (
-000483b0: 3230 3134 2d31 312d 3237 290a 3d3d 3d3d  2014-11-27).====
-000483c0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000483d0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000483e0: 3d0a 0a2d 2020 2046 6978 2062 7567 2074  =..-   Fix bug t
-000483f0: 6861 7420 6361 7573 6564 206a 6f69 6e69  hat caused joini
-00048400: 6e67 2061 2072 656d 6f74 6520 726f 6f6d  ng a remote room
-00048410: 2074 6f20 6661 696c 2069 6620 6120 7369   to fail if a si
-00048420: 6e67 6c65 2065 7665 6e74 2077 6173 206e  ngle event was n
-00048430: 6f74 2073 6967 6e65 6420 636f 7272 6563  ot signed correc
-00048440: 746c 792e 0a2d 2020 2046 6978 2062 7567  tly..-   Fix bug
-00048450: 2077 6869 6368 2063 6175 7365 6420 7365   which caused se
-00048460: 7276 6572 7320 746f 2063 6f6e 7469 6e75  rvers to continu
-00048470: 6f75 736c 7920 7472 7920 616e 6420 6665  ously try and fe
-00048480: 7463 6820 6576 656e 7473 2066 726f 6d20  tch events from 
-00048490: 6f74 6865 7220 7365 7276 6572 732e 0a0a  other servers...
-000484a0: 4368 616e 6765 7320 696e 2073 796e 6170  Changes in synap
-000484b0: 7365 2030 2e35 2e32 2028 3230 3134 2d31  se 0.5.2 (2014-1
-000484c0: 312d 3236 290a 3d3d 3d3d 3d3d 3d3d 3d3d  1-26).==========
-000484d0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000484e0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a46 6978  ===========..Fix
-000484f0: 206d 616a 6f72 2062 7567 2074 6861 7420   major bug that 
-00048500: 6361 7573 6564 2072 6f6f 6d73 2074 6f20  caused rooms to 
-00048510: 6469 7361 7070 6561 7220 6672 6f6d 2070  disappear from p
-00048520: 656f 706c 6573 2069 6e69 7469 616c 2073  eoples initial s
-00048530: 796e 632e 0a0a 4368 616e 6765 7320 696e  ync...Changes in
-00048540: 2073 796e 6170 7365 2030 2e35 2e31 2028   synapse 0.5.1 (
-00048550: 3230 3134 2d31 312d 3236 290a 3d3d 3d3d  2014-11-26).====
-00048560: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00048570: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00048580: 3d0a 0a53 6565 2055 5047 5241 4445 532e  =..See UPGRADES.
-00048590: 7273 7420 666f 7220 7370 6563 6966 6963  rst for specific
-000485a0: 2069 6e73 7472 7563 7469 6f6e 7320 6f6e   instructions on
-000485b0: 2068 6f77 2074 6f20 7570 6772 6164 652e   how to upgrade.
-000485c0: 0a0a 3e20 2d20 2020 4669 7820 6275 6720  ..> -   Fix bug 
-000485d0: 7768 6572 6520 7765 2073 6572 7665 6420  where we served 
-000485e0: 7570 2061 6e20 4576 656e 7420 7468 6174  up an Event that
-000485f0: 2064 6964 206e 6f74 206d 6174 6368 2069   did not match i
-00048600: 7473 2073 6967 6e61 7475 7265 732e 0a3e  ts signatures..>
-00048610: 202d 2020 2046 6978 2072 6567 7265 7373   -   Fix regress
-00048620: 696f 6e20 7768 6572 6520 7765 206e 6f20  ion where we no 
-00048630: 6c6f 6e67 6572 2063 6f72 7265 6374 6c79  longer correctly
-00048640: 2068 616e 646c 6564 2074 6865 2063 6173   handled the cas
-00048650: 6520 7768 6572 6520 6120 686f 6d65 7365  e where a homese
-00048660: 7276 6572 2072 6563 6569 7665 7320 616e  rver receives an
-00048670: 2065 7665 6e74 2066 6f72 2061 2072 6f6f   event for a roo
-00048680: 6d20 6974 2064 6f65 736e 5c27 7420 7265  m it doesn\'t re
-00048690: 636f 676e 6973 6520 2862 7574 2069 7320  cognise (but is 
-000486a0: 696e 2e29 0a0a 4368 616e 6765 7320 696e  in.)..Changes in
-000486b0: 2073 796e 6170 7365 2030 2e35 2e30 2028   synapse 0.5.0 (
-000486c0: 3230 3134 2d31 312d 3139 290a 3d3d 3d3d  2014-11-19).====
+00044c10: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a  ===============.
+00044c20: 0a2d 2020 2052 656d 6f76 6520 736f 6d65  .-   Remove some
+00044c30: 206f 6620 7468 6520 6f6c 6420 6461 7461   of the old data
+00044c40: 6261 7365 2075 7067 7261 6465 2073 6372  base upgrade scr
+00044c50: 6970 7473 2e0a 2d20 2020 4669 7820 6461  ipts..-   Fix da
+00044c60: 7461 6261 7365 2070 6f72 7420 7363 7269  tabase port scri
+00044c70: 7074 2074 6f20 776f 726b 2077 6974 6820  pt to work with 
+00044c80: 6e65 776c 7920 6372 6561 7465 6420 7371  newly created sq
+00044c90: 6c69 7465 2064 6174 6162 6173 6573 2e0a  lite databases..
+00044ca0: 0a43 6861 6e67 6573 2069 6e20 7379 6e61  .Changes in syna
+00044cb0: 7073 6520 7630 2e31 302e 302d 7263 3520  pse v0.10.0-rc5 
+00044cc0: 2832 3031 352d 3038 2d32 3729 0a3d 3d3d  (2015-08-27).===
+00044cd0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00044ce0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00044cf0: 3d3d 3d3d 3d3d 3d3d 0a0a 2d20 2020 4669  ========..-   Fi
+00044d00: 7820 6275 6720 7468 6174 2062 726f 6b65  x bug that broke
+00044d10: 2064 6f77 6e6c 6f61 6469 6e67 2066 696c   downloading fil
+00044d20: 6573 2077 6974 6820 6173 6369 6920 6669  es with ascii fi
+00044d30: 6c65 6e61 6d65 7320 6163 726f 7373 2066  lenames across f
+00044d40: 6564 6572 6174 696f 6e2e 0a0a 4368 616e  ederation...Chan
+00044d50: 6765 7320 696e 2073 796e 6170 7365 2076  ges in synapse v
+00044d60: 302e 3130 2e30 2d72 6334 2028 3230 3135  0.10.0-rc4 (2015
+00044d70: 2d30 382d 3237 290a 3d3d 3d3d 3d3d 3d3d  -08-27).========
+00044d80: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00044d90: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00044da0: 3d3d 3d0a 0a2d 2020 2041 6c6c 6f77 2055  ===..-   Allow U
+00044db0: 5446 2d38 2066 696c 656e 616d 6573 2066  TF-8 filenames f
+00044dc0: 6f72 2075 706c 6f61 642e 2028 5052 2023  or upload. (PR #
+00044dd0: 3235 3929 0a0a 4368 616e 6765 7320 696e  259)..Changes in
+00044de0: 2073 796e 6170 7365 2076 302e 3130 2e30   synapse v0.10.0
+00044df0: 2d72 6333 2028 3230 3135 2d30 382d 3235  -rc3 (2015-08-25
+00044e00: 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ).==============
+00044e10: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00044e20: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a2d  =============..-
+00044e30: 2020 2041 6464 2060 2d2d 6b65 7973 2d64     Add `--keys-d
+00044e40: 6972 6563 746f 7279 6020 636f 6e66 6967  irectory` config
+00044e50: 206f 7074 696f 6e20 746f 2073 7065 6369   option to speci
+00044e60: 6679 2077 6865 7265 2066 696c 6573 2073  fy where files s
+00044e70: 7563 6820 6173 2063 6572 7473 2061 6e64  uch as certs and
+00044e80: 2073 6967 6e69 6e67 206b 6579 7320 7368   signing keys sh
+00044e90: 6f75 6c64 2062 6520 7374 6f72 6564 2069  ould be stored i
+00044ea0: 6e2c 2077 6865 6e20 7573 696e 6720 602d  n, when using `-
+00044eb0: 2d67 656e 6572 6174 652d 636f 6e66 6967  -generate-config
+00044ec0: 6020 6f72 2060 2d2d 6765 6e65 7261 7465  ` or `--generate
+00044ed0: 2d6b 6579 7360 2e20 2850 5220 2332 3530  -keys`. (PR #250
+00044ee0: 290a 2d20 2020 416c 6c6f 7720 602d 2d63  ).-   Allow `--c
+00044ef0: 6f6e 6669 672d 7061 7468 6020 746f 2073  onfig-path` to s
+00044f00: 7065 6369 6679 2061 2064 6972 6563 746f  pecify a directo
+00044f10: 7279 2c20 6361 7573 696e 6720 7379 6e61  ry, causing syna
+00044f20: 7073 6520 746f 2075 7365 2061 6c6c 205c  pse to use all \
+00044f30: 2a2e 7961 6d6c 2066 696c 6573 2069 6e20  *.yaml files in 
+00044f40: 7468 6520 6469 7265 6374 6f72 7920 6173  the directory as
+00044f50: 2063 6f6e 6669 6720 6669 6c65 732e 2028   config files. (
+00044f60: 5052 2023 3234 3929 0a2d 2020 2041 6464  PR #249).-   Add
+00044f70: 2060 7765 625f 636c 6965 6e74 5f6c 6f63   `web_client_loc
+00044f80: 6174 696f 6e60 2063 6f6e 6669 6720 6f70  ation` config op
+00044f90: 7469 6f6e 2074 6f20 7370 6563 6966 7920  tion to specify 
+00044fa0: 7374 6174 6963 2066 696c 6573 2074 6f20  static files to 
+00044fb0: 6265 2068 6f73 7465 6420 6279 2073 796e  be hosted by syn
+00044fc0: 6170 7365 2075 6e64 6572 2060 2f5f 6d61  apse under `/_ma
+00044fd0: 7472 6978 2f63 6c69 656e 7460 2e20 2850  trix/client`. (P
+00044fe0: 5220 2332 3435 290a 2d20 2020 4164 6420  R #245).-   Add 
+00044ff0: 6865 6c70 6572 2075 7469 6c69 7479 2074  helper utility t
+00045000: 6f20 7379 6e61 7073 6520 746f 2072 6561  o synapse to rea
+00045010: 6420 616e 6420 7061 7273 6520 7468 6520  d and parse the 
+00045020: 636f 6e66 6967 2066 696c 6573 2061 6e64  config files and
+00045030: 2065 7874 7261 6374 2074 6865 2076 616c   extract the val
+00045040: 7565 206f 6620 6120 6769 7665 6e20 6b65  ue of a given ke
+00045050: 792e 2046 6f72 2065 7861 6d70 6c65 3a0a  y. For example:.
+00045060: 0a20 2020 2020 2020 2024 2070 7974 686f  .        $ pytho
+00045070: 6e20 2d6d 2073 796e 6170 7365 2e63 6f6e  n -m synapse.con
+00045080: 6669 6720 7265 6164 2073 6572 7665 725f  fig read server_
+00045090: 6e61 6d65 202d 6320 686f 6d65 7365 7276  name -c homeserv
+000450a0: 6572 2e79 616d 6c0a 2020 2020 2020 2020  er.yaml.        
+000450b0: 6c6f 6361 6c68 6f73 740a 0a20 2020 2028  localhost..    (
+000450c0: 5052 2023 3234 3629 0a0a 4368 616e 6765  PR #246)..Change
+000450d0: 7320 696e 2073 796e 6170 7365 2076 302e  s in synapse v0.
+000450e0: 3130 2e30 2d72 6332 2028 3230 3135 2d30  10.0-rc2 (2015-0
+000450f0: 382d 3234 290a 3d3d 3d3d 3d3d 3d3d 3d3d  8-24).==========
+00045100: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00045110: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00045120: 3d0a 0a2d 2020 2046 6978 2062 7567 2077  =..-   Fix bug w
+00045130: 6865 7265 2077 6520 696e 636f 7272 6563  here we incorrec
+00045140: 746c 7920 706f 7075 6c61 7465 6420 7468  tly populated th
+00045150: 6520 6065 7665 6e74 5f66 6f72 7761 7264  e `event_forward
+00045160: 5f65 7874 7265 6d69 7469 6573 6020 7461  _extremities` ta
+00045170: 626c 652c 2072 6573 756c 7469 6e67 2069  ble, resulting i
+00045180: 6e20 7072 6f62 6c65 6d73 206a 6f69 6e69  n problems joini
+00045190: 6e67 206c 6172 6765 2072 656d 6f74 6520  ng large remote 
+000451a0: 726f 6f6d 7320 2865 2e67 2e20 6023 6d61  rooms (e.g. `#ma
+000451b0: 7472 6978 3a6d 6174 7269 782e 6f72 6760  trix:matrix.org`
+000451c0: 290a 2d20 2020 5265 6475 6365 2074 6865  ).-   Reduce the
+000451d0: 206e 756d 6265 7220 6f66 2074 696d 6573   number of times
+000451e0: 2077 6520 7761 6b65 2075 7020 7075 7368   we wake up push
+000451f0: 6572 7320 6279 206e 6f74 206c 6973 7465  ers by not liste
+00045200: 6e69 6e67 2066 6f72 2070 7265 7365 6e63  ning for presenc
+00045210: 6520 6f72 2074 7970 696e 6720 6576 656e  e or typing even
+00045220: 7473 2c20 7265 6475 6369 6e67 2074 6865  ts, reducing the
+00045230: 2043 5055 2063 6f73 7420 6f66 2065 6163   CPU cost of eac
+00045240: 6820 7075 7368 6572 2e0a 0a43 6861 6e67  h pusher...Chang
+00045250: 6573 2069 6e20 7379 6e61 7073 6520 7630  es in synapse v0
+00045260: 2e31 302e 302d 7263 3120 2832 3031 352d  .10.0-rc1 (2015-
+00045270: 3038 2d32 3129 0a3d 3d3d 3d3d 3d3d 3d3d  08-21).=========
+00045280: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00045290: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000452a0: 3d3d 0a0a 416c 736f 2073 6565 2076 302e  ==..Also see v0.
+000452b0: 392e 342d 7263 3120 6368 616e 6765 6c6f  9.4-rc1 changelo
+000452c0: 672c 2077 6869 6368 2068 6173 2062 6565  g, which has bee
+000452d0: 6e20 616d 616c 6761 6d61 7465 6420 696e  n amalgamated in
+000452e0: 746f 2074 6869 7320 7265 6c65 6173 652e  to this release.
+000452f0: 0a0a 4765 6e65 7261 6c3a 0a0a 2d20 2020  ..General:..-   
+00045300: 5570 6772 6164 6520 746f 2054 7769 7374  Upgrade to Twist
+00045310: 6564 2031 3520 2850 5220 2331 3733 290a  ed 15 (PR #173).
+00045320: 2d20 2020 4164 6420 7375 7070 6f72 7420  -   Add support 
+00045330: 666f 7220 7365 7276 696e 6720 616e 6420  for serving and 
+00045340: 6665 7463 6869 6e67 2065 6e63 7279 7074  fetching encrypt
+00045350: 696f 6e20 6b65 7973 206f 7665 7220 6665  ion keys over fe
+00045360: 6465 7261 7469 6f6e 2e20 2850 5220 2332  deration. (PR #2
+00045370: 3038 290a 2d20 2020 4164 6420 7375 7070  08).-   Add supp
+00045380: 6f72 7420 666f 7220 6c6f 6767 696e 6720  ort for logging 
+00045390: 696e 2077 6974 6820 656d 6169 6c20 6164  in with email ad
+000453a0: 6472 6573 7320 2850 5220 2332 3334 290a  dress (PR #234).
+000453b0: 2d20 2020 4164 6420 7375 7070 6f72 7420  -   Add support 
+000453c0: 666f 7220 6e65 7720 606d 2e72 6f6f 6d2e  for new `m.room.
+000453d0: 6361 6e6f 6e69 6361 6c5f 616c 6961 7360  canonical_alias`
+000453e0: 2065 7665 6e74 2e20 2850 5220 2332 3333   event. (PR #233
+000453f0: 290a 2d20 2020 4368 616e 6765 2073 796e  ).-   Change syn
+00045400: 6170 7365 2074 6f20 7472 6561 7420 7573  apse to treat us
+00045410: 6572 2049 4473 2063 6173 6520 696e 7365  er IDs case inse
+00045420: 6e73 6974 6976 656c 7920 6475 7269 6e67  nsitively during
+00045430: 2072 6567 6973 7472 6174 696f 6e20 616e   registration an
+00045440: 6420 6c6f 6769 6e2e 2028 4966 2074 776f  d login. (If two
+00045450: 2075 7365 7273 2061 6c72 6561 6479 2065   users already e
+00045460: 7869 7374 2077 6974 6820 6361 7365 2069  xist with case i
+00045470: 6e73 656e 7369 7469 7665 206d 6174 6368  nsensitive match
+00045480: 696e 6720 7573 6572 2069 6473 2c20 7379  ing user ids, sy
+00045490: 6e61 7073 6520 7769 6c6c 2063 6f6e 7469  napse will conti
+000454a0: 6e75 6520 746f 2072 6571 7569 7265 2074  nue to require t
+000454b0: 6865 6d20 746f 2073 7065 6369 6679 2074  hem to specify t
+000454c0: 6865 6972 2075 7365 7220 6964 7320 6578  heir user ids ex
+000454d0: 6163 746c 792e 290a 2d20 2020 4572 726f  actly.).-   Erro
+000454e0: 7220 6966 2061 2075 7365 7220 7472 6965  r if a user trie
+000454f0: 7320 746f 2072 6567 6973 7465 7220 7769  s to register wi
+00045500: 7468 2061 6e20 656d 6169 6c20 616c 7265  th an email alre
+00045510: 6164 7920 696e 2075 7365 2e20 2850 5220  ady in use. (PR 
+00045520: 2332 3131 290a 2d20 2020 4164 6420 6578  #211).-   Add ex
+00045530: 7472 6120 616e 6420 696d 7072 6f76 6520  tra and improve 
+00045540: 6578 6973 7469 6e67 2063 6163 6865 7320  existing caches 
+00045550: 2850 5220 2332 3132 2c20 2332 3139 2c20  (PR #212, #219, 
+00045560: 2332 3236 2c20 2332 3238 290a 2d20 2020  #226, #228).-   
+00045570: 4261 7463 6820 7661 7269 6f75 7320 7374  Batch various st
+00045580: 6f72 6167 6520 7265 7175 6573 7420 2850  orage request (P
+00045590: 5220 2332 3236 2c20 2332 3238 290a 2d20  R #226, #228).- 
+000455a0: 2020 4669 7820 6275 6720 7768 6572 6520    Fix bug where 
+000455b0: 7765 2064 6964 6e5c 2774 2063 6f72 7265  we didn\'t corre
+000455c0: 6374 6c79 206c 6f67 2074 6865 2065 6e74  ctly log the ent
+000455d0: 6974 7920 7468 6174 2074 7269 6767 6572  ity that trigger
+000455e0: 6564 2074 6865 2072 6571 7565 7374 2069  ed the request i
+000455f0: 6620 7468 6520 7265 7175 6573 7420 6361  f the request ca
+00045600: 6d65 2069 6e20 7669 6120 616e 2061 7070  me in via an app
+00045610: 6c69 6361 7469 6f6e 2073 6572 7669 6365  lication service
+00045620: 2028 5052 2023 3233 3029 0a2d 2020 2046   (PR #230).-   F
+00045630: 6978 2062 7567 2077 6865 7265 2077 6520  ix bug where we 
+00045640: 6e65 6564 6c65 7373 6c79 2072 6567 656e  needlessly regen
+00045650: 6572 6174 6564 2074 6865 2066 756c 6c20  erated the full 
+00045660: 6c69 7374 206f 6620 726f 6f6d 7320 616e  list of rooms an
+00045670: 2041 5320 6973 2069 6e74 6572 6573 7465   AS is intereste
+00045680: 6420 696e 2e20 2850 5220 2332 3332 290a  d in. (PR #232).
+00045690: 2d20 2020 4164 6420 7375 7070 6f72 7420  -   Add support 
+000456a0: 666f 7220 4153 5c27 7320 746f 2075 7365  for AS\'s to use
+000456b0: 2076 325c 5f61 6c70 6861 2072 6567 6973   v2\_alpha regis
+000456c0: 7472 6174 696f 6e20 4150 4920 2850 5220  tration API (PR 
+000456d0: 2332 3130 290a 0a43 6f6e 6669 6775 7261  #210)..Configura
+000456e0: 7469 6f6e 3a0a 0a2d 2020 2041 6464 2060  tion:..-   Add `
+000456f0: 2d2d 6765 6e65 7261 7465 2d6b 6579 7360  --generate-keys`
+00045700: 2074 6861 7420 7769 6c6c 2067 656e 6572   that will gener
+00045710: 6174 6520 616e 7920 6d69 7373 696e 6720  ate any missing 
+00045720: 6365 7274 2061 6e64 206b 6579 2066 696c  cert and key fil
+00045730: 6573 2069 6e20 7468 6520 636f 6e66 6967  es in the config
+00045740: 7572 6174 696f 6e20 6669 6c65 732e 2054  uration files. T
+00045750: 6869 7320 6973 2065 7175 6976 616c 656e  his is equivalen
+00045760: 7420 746f 2072 756e 6e69 6e67 2060 2d2d  t to running `--
+00045770: 6765 6e65 7261 7465 2d63 6f6e 6669 6760  generate-config`
+00045780: 206f 6e20 616e 2065 7869 7374 696e 6720   on an existing 
+00045790: 636f 6e66 6967 7572 6174 696f 6e20 6669  configuration fi
+000457a0: 6c65 2e20 2850 5220 2332 3230 290a 2d20  le. (PR #220).- 
+000457b0: 2020 602d 2d67 656e 6572 6174 652d 636f    `--generate-co
+000457c0: 6e66 6967 6020 6e6f 7720 6e6f 206c 6f6e  nfig` now no lon
+000457d0: 6765 7220 7265 7175 6972 6573 2061 2060  ger requires a `
+000457e0: 2d2d 7365 7276 6572 2d6e 616d 6560 2070  --server-name` p
+000457f0: 6172 616d 6574 6572 2077 6865 6e20 7573  arameter when us
+00045800: 6564 206f 6e20 6578 6973 7469 6e67 2063  ed on existing c
+00045810: 6f6e 6669 6775 7261 7469 6f6e 2066 696c  onfiguration fil
+00045820: 6573 2e20 2850 5220 2332 3230 290a 2d20  es. (PR #220).- 
+00045830: 2020 4164 6420 602d 2d70 7269 6e74 2d70    Add `--print-p
+00045840: 6964 6669 6c65 6020 666c 6167 2074 6861  idfile` flag tha
+00045850: 7420 636f 6e74 726f 6c73 2074 6865 2070  t controls the p
+00045860: 7269 6e74 696e 6720 6f66 2074 6865 2070  rinting of the p
+00045870: 6964 2074 6f20 7374 646f 7574 206f 6620  id to stdout of 
+00045880: 7468 6520 6465 6d6f 6e69 7365 6420 7072  the demonised pr
+00045890: 6f63 6573 732e 2028 5052 2023 3231 3329  ocess. (PR #213)
+000458a0: 0a0a 4d65 6469 6120 5265 706f 7369 746f  ..Media Reposito
+000458b0: 7279 3a0a 0a2d 2020 2046 6978 2062 7567  ry:..-   Fix bug
+000458c0: 2077 6865 7265 2077 6520 7069 636b 6564   where we picked
+000458d0: 2061 206c 6f77 6572 2072 6573 6f6c 7574   a lower resolut
+000458e0: 696f 6e20 696d 6167 6520 7468 616e 2072  ion image than r
+000458f0: 6571 7565 7374 6564 2e20 2850 5220 2332  equested. (PR #2
+00045900: 3035 290a 2d20 2020 4164 6420 7375 7070  05).-   Add supp
+00045910: 6f72 7420 666f 7220 7370 6563 6966 7969  ort for specifyi
+00045920: 6e67 2069 6620 6120 7468 6520 6d65 6469  ng if a the medi
+00045930: 6120 7265 706f 7369 746f 7279 2073 686f  a repository sho
+00045940: 756c 6420 6479 6e61 6d69 6361 6c6c 7920  uld dynamically 
+00045950: 7468 756d 626e 6169 6c20 696d 6167 6573  thumbnail images
+00045960: 206f 7220 6e6f 742e 2028 5052 2023 3230   or not. (PR #20
+00045970: 3629 0a0a 4d65 7472 6963 733a 0a0a 2d20  6)..Metrics:..- 
+00045980: 2020 4164 6420 7374 6174 6973 7469 6373    Add statistics
+00045990: 2066 726f 6d20 7468 6520 7265 6163 746f   from the reacto
+000459a0: 7220 746f 2074 6865 206d 6574 7269 6373  r to the metrics
+000459b0: 2041 5049 2e20 2850 5220 2332 3234 2c20   API. (PR #224, 
+000459c0: 2332 3235 290a 0a44 656d 6f20 486f 6d65  #225)..Demo Home
+000459d0: 7365 7276 6572 733a 0a0a 2d20 2020 4669  servers:..-   Fi
+000459e0: 7820 7374 6172 7469 6e67 2074 6865 2064  x starting the d
+000459f0: 656d 6f20 686f 6d65 7365 7276 6572 7320  emo homeservers 
+00045a00: 7769 7468 6f75 7420 7261 7465 2d6c 696d  without rate-lim
+00045a10: 6974 696e 6720 656e 6162 6c65 642e 2028  iting enabled. (
+00045a20: 5052 2023 3138 3229 0a2d 2020 2046 6978  PR #182).-   Fix
+00045a30: 2065 6e61 626c 696e 6720 7265 6769 7374   enabling regist
+00045a40: 7261 7469 6f6e 206f 6e20 6465 6d6f 2068  ration on demo h
+00045a50: 6f6d 6573 6572 7665 7273 2028 5052 2023  omeservers (PR #
+00045a60: 3232 3329 0a0a 4368 616e 6765 7320 696e  223)..Changes in
+00045a70: 2073 796e 6170 7365 2076 302e 392e 342d   synapse v0.9.4-
+00045a80: 7263 3120 2832 3031 352d 3037 2d32 3129  rc1 (2015-07-21)
+00045a90: 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  .===============
+00045aa0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00045ab0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a47 656e  ===========..Gen
+00045ac0: 6572 616c 3a0a 0a2d 2020 2041 6464 2062  eral:..-   Add b
+00045ad0: 6173 6963 2069 6d70 6c65 6d65 6e74 6174  asic implementat
+00045ae0: 696f 6e20 6f66 2072 6563 6569 7074 732e  ion of receipts.
+00045af0: 2028 5350 4543 2d39 3929 0a2d 2020 2041   (SPEC-99).-   A
+00045b00: 6464 2073 7570 706f 7274 2066 6f72 2063  dd support for c
+00045b10: 6f6e 6669 6775 7261 7469 6f6e 2070 7265  onfiguration pre
+00045b20: 7365 7473 2069 6e20 726f 6f6d 2063 7265  sets in room cre
+00045b30: 6174 696f 6e20 4150 492e 2028 5052 2023  ation API. (PR #
+00045b40: 3230 3329 0a2d 2020 2041 6464 2061 7574  203).-   Add aut
+00045b50: 6820 6576 656e 7420 7468 6174 206c 696d  h event that lim
+00045b60: 6974 7320 7468 6520 7669 7369 6269 6c69  its the visibili
+00045b70: 7479 206f 6620 6869 7374 6f72 7920 666f  ty of history fo
+00045b80: 7220 6e65 7720 7573 6572 732e 2028 5350  r new users. (SP
+00045b90: 4543 2d31 3334 290a 2d20 2020 4164 6420  EC-134).-   Add 
+00045ba0: 5341 4d4c 3220 6c6f 6769 6e2f 7265 6769  SAML2 login/regi
+00045bb0: 7374 7261 7469 6f6e 2073 7570 706f 7274  stration support
+00045bc0: 2e20 2850 5220 2332 3031 2e20 5468 616e  . (PR #201. Than
+00045bd0: 6b73 204d 7574 6875 2053 7562 7261 6d61  ks Muthu Subrama
+00045be0: 6e69 616e 2129 0a2d 2020 2041 6464 2063  nian!).-   Add c
+00045bf0: 6c69 656e 7420 7369 6465 206b 6579 206d  lient side key m
+00045c00: 616e 6167 656d 656e 7420 4150 4973 2066  anagement APIs f
+00045c10: 6f72 2065 6e64 2074 6f20 656e 6420 656e  or end to end en
+00045c20: 6372 7970 7469 6f6e 2e20 2850 5220 2331  cryption. (PR #1
+00045c30: 3938 290a 2d20 2020 4368 616e 6765 2070  98).-   Change p
+00045c40: 6f77 6572 206c 6576 656c 2073 656d 616e  ower level seman
+00045c50: 7469 6373 2073 6f20 7468 6174 2079 6f75  tics so that you
+00045c60: 2063 616e 6e6f 7420 6b69 636b 2c20 6261   cannot kick, ba
+00045c70: 6e20 6f72 2063 6861 6e67 6520 706f 7765  n or change powe
+00045c80: 7220 6c65 7665 6c73 206f 6620 7573 6572  r levels of user
+00045c90: 7320 7468 6174 2068 6176 6520 6571 7561  s that have equa
+00045ca0: 6c20 6f72 2067 7265 6174 6572 2070 6f77  l or greater pow
+00045cb0: 6572 206c 6576 656c 2074 6861 6e20 796f  er level than yo
+00045cc0: 752e 2028 5359 4e2d 3139 3229 0a2d 2020  u. (SYN-192).-  
+00045cd0: 2049 6d70 726f 7665 2070 6572 666f 726d   Improve perform
+00045ce0: 616e 6365 2062 7920 6275 6c6b 2069 6e73  ance by bulk ins
+00045cf0: 6572 7469 6e67 2065 7665 6e74 7320 7768  erting events wh
+00045d00: 6572 6520 706f 7373 6962 6c65 2e20 2850  ere possible. (P
+00045d10: 5220 2331 3933 290a 2d20 2020 496d 7072  R #193).-   Impr
+00045d20: 6f76 6520 7065 7266 6f72 6d61 6e63 6520  ove performance 
+00045d30: 6279 2062 756c 6b20 7665 7269 6679 696e  by bulk verifyin
+00045d40: 6720 7369 676e 6174 7572 6573 2077 6865  g signatures whe
+00045d50: 7265 2070 6f73 7369 626c 652e 2028 5052  re possible. (PR
+00045d60: 2023 3139 3429 0a0a 436f 6e66 6967 7572   #194)..Configur
+00045d70: 6174 696f 6e3a 0a0a 2d20 2020 4164 6420  ation:..-   Add 
+00045d80: 7375 7070 6f72 7420 666f 7220 696e 636c  support for incl
+00045d90: 7564 696e 6720 544c 5320 6365 7274 6966  uding TLS certif
+00045da0: 6963 6174 6520 6368 6169 6e73 2e0a 0a4d  icate chains...M
+00045db0: 6564 6961 2052 6570 6f73 6974 6f72 793a  edia Repository:
+00045dc0: 0a0a 2d20 2020 4164 6420 436f 6e74 656e  ..-   Add Conten
+00045dd0: 742d 4469 7370 6f73 6974 696f 6e20 6865  t-Disposition he
+00045de0: 6164 6572 7320 746f 2063 6f6e 7465 6e74  aders to content
+00045df0: 2072 6570 6f73 6974 6f72 7920 7265 7370   repository resp
+00045e00: 6f6e 7365 732e 2028 5359 4e2d 3135 3029  onses. (SYN-150)
+00045e10: 0a0a 4368 616e 6765 7320 696e 2073 796e  ..Changes in syn
+00045e20: 6170 7365 2076 302e 392e 3320 2832 3031  apse v0.9.3 (201
+00045e30: 352d 3037 2d30 3129 0a3d 3d3d 3d3d 3d3d  5-07-01).=======
+00045e40: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00045e50: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a  ===============.
+00045e60: 0a4e 6f20 6368 616e 6765 7320 6672 6f6d  .No changes from
+00045e70: 2076 302e 392e 3320 5265 6c65 6173 6520   v0.9.3 Release 
+00045e80: 4361 6e64 6964 6174 6520 312e 0a0a 4368  Candidate 1...Ch
+00045e90: 616e 6765 7320 696e 2073 796e 6170 7365  anges in synapse
+00045ea0: 2076 302e 392e 332d 7263 3120 2832 3031   v0.9.3-rc1 (201
+00045eb0: 352d 3036 2d32 3329 0a3d 3d3d 3d3d 3d3d  5-06-23).=======
+00045ec0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00045ed0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00045ee0: 3d3d 3d0a 0a47 656e 6572 616c 3a0a 0a2d  ===..General:..-
+00045ef0: 2020 2046 6978 2061 206d 656d 6f72 7920     Fix a memory 
+00045f00: 6c65 616b 2069 6e20 7468 6520 6e6f 7469  leak in the noti
+00045f10: 6669 6572 2e20 2853 594e 2d34 3132 290a  fier. (SYN-412).
+00045f20: 2d20 2020 496d 7072 6f76 6520 7065 7266  -   Improve perf
+00045f30: 6f72 6d61 6e63 6520 6f66 2072 6f6f 6d20  ormance of room 
+00045f40: 696e 6974 6961 6c20 7379 6e63 2e20 2853  initial sync. (S
+00045f50: 594e 2d34 3138 290a 2d20 2020 4765 6e65  YN-418).-   Gene
+00045f60: 7261 6c20 696d 7072 6f76 656d 656e 7473  ral improvements
+00045f70: 2074 6f20 6c6f 6767 696e 672e 0a2d 2020   to logging..-  
+00045f80: 2052 656d 6f76 6520 6061 6363 6573 735f   Remove `access_
+00045f90: 746f 6b65 6e60 2071 7565 7279 2070 6172  token` query par
+00045fa0: 616d 7320 6672 6f6d 2060 494e 464f 6020  ams from `INFO` 
+00045fb0: 6c65 7665 6c20 6c6f 6767 696e 672e 0a0a  level logging...
+00045fc0: 436f 6e66 6967 7572 6174 696f 6e3a 0a0a  Configuration:..
+00045fd0: 2d20 2020 4164 6420 7375 7070 6f72 7420  -   Add support 
+00045fe0: 666f 7220 7370 6563 6966 7969 6e67 2061  for specifying a
+00045ff0: 6e64 2063 6f6e 6669 6775 7269 6e67 206d  nd configuring m
+00046000: 756c 7469 706c 6520 6c69 7374 656e 6572  ultiple listener
+00046010: 732e 2028 5359 4e2d 3338 3929 0a0a 4170  s. (SYN-389)..Ap
+00046020: 706c 6963 6174 696f 6e20 7365 7276 6963  plication servic
+00046030: 6573 3a0a 0a2d 2020 2046 6978 2062 7567  es:..-   Fix bug
+00046040: 2077 6865 7265 2073 796e 6170 7365 2066   where synapse f
+00046050: 6169 6c65 6420 746f 2073 656e 6420 7573  ailed to send us
+00046060: 6572 2071 7565 7269 6573 2074 6f20 6170  er queries to ap
+00046070: 706c 6963 6174 696f 6e20 7365 7276 6963  plication servic
+00046080: 6573 2e0a 0a43 6861 6e67 6573 2069 6e20  es...Changes in 
+00046090: 7379 6e61 7073 6520 7630 2e39 2e32 2d72  synapse v0.9.2-r
+000460a0: 3220 2832 3031 352d 3036 2d31 3529 0a3d  2 (2015-06-15).=
+000460b0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000460c0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000460d0: 3d3d 3d3d 3d3d 3d3d 0a0a 4669 7820 7061  ========..Fix pa
+000460e0: 636b 6167 696e 6720 736f 2074 6861 7420  ckaging so that 
+000460f0: 7363 6865 6d61 2064 656c 7461 2070 7974  schema delta pyt
+00046100: 686f 6e20 6669 6c65 7320 6765 7420 696e  hon files get in
+00046110: 636c 7564 6564 2069 6e20 7468 6520 7061  cluded in the pa
+00046120: 636b 6167 652e 0a0a 4368 616e 6765 7320  ckage...Changes 
+00046130: 696e 2073 796e 6170 7365 2076 302e 392e  in synapse v0.9.
+00046140: 3220 2832 3031 352d 3036 2d31 3229 0a3d  2 (2015-06-12).=
+00046150: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00046160: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00046170: 3d3d 3d3d 3d0a 0a47 656e 6572 616c 3a0a  =====..General:.
+00046180: 0a2d 2020 2055 7365 2075 6c74 7261 6a73  .-   Use ultrajs
+00046190: 6f6e 2066 6f72 206a 736f 6e20 2864 6529  on for json (de)
+000461a0: 7365 7269 616c 6973 6174 696f 6e20 7768  serialisation wh
+000461b0: 656e 2061 2063 616e 6f6e 6963 616c 2065  en a canonical e
+000461c0: 6e63 6f64 696e 6720 6973 206e 6f74 2072  ncoding is not r
+000461d0: 6571 7569 7265 642e 2055 6c74 7261 6a73  equired. Ultrajs
+000461e0: 6f6e 2069 7320 7369 676e 6966 6963 616e  on is significan
+000461f0: 746c 7920 6661 7374 6572 2074 6861 6e20  tly faster than 
+00046200: 7369 6d70 6c65 6a73 6f6e 2069 6e20 6365  simplejson in ce
+00046210: 7274 6169 6e20 6369 7263 756d 7374 616e  rtain circumstan
+00046220: 6365 732e 0a2d 2020 2055 7365 2063 6f6e  ces..-   Use con
+00046230: 6e65 6374 696f 6e20 706f 6f6c 7320 666f  nection pools fo
+00046240: 7220 6f75 7467 6f69 6e67 2048 5454 5020  r outgoing HTTP 
+00046250: 636f 6e6e 6563 7469 6f6e 732e 0a2d 2020  connections..-  
+00046260: 2050 726f 6365 7373 2074 6875 6d62 6e61   Process thumbna
+00046270: 696c 7320 6f6e 2073 6570 6172 6174 6520  ils on separate 
+00046280: 7468 7265 6164 732e 0a0a 436f 6e66 6967  threads...Config
+00046290: 7572 6174 696f 6e3a 0a0a 2d20 2020 4164  uration:..-   Ad
+000462a0: 6420 6f70 7469 6f6e 2c20 6067 7a69 705f  d option, `gzip_
+000462b0: 7265 7370 6f6e 7365 7360 2c20 746f 2064  responses`, to d
+000462c0: 6973 6162 6c65 2048 5454 5020 7265 7370  isable HTTP resp
+000462d0: 6f6e 7365 2063 6f6d 7072 6573 7369 6f6e  onse compression
+000462e0: 2e0a 0a46 6564 6572 6174 696f 6e3a 0a0a  ...Federation:..
+000462f0: 2d20 2020 496d 7072 6f76 6520 7265 7369  -   Improve resi
+00046300: 6c69 656e 6365 206f 6620 6261 636b 6669  lience of backfi
+00046310: 6c6c 2062 7920 656e 7375 7269 6e67 2077  ll by ensuring w
+00046320: 6520 6665 7463 6820 616e 7920 6d69 7373  e fetch any miss
+00046330: 696e 6720 6175 7468 2065 7665 6e74 732e  ing auth events.
+00046340: 0a2d 2020 2049 6d70 726f 7665 2070 6572  .-   Improve per
+00046350: 666f 726d 616e 6365 206f 6620 6261 636b  formance of back
+00046360: 6669 6c6c 2061 6e64 206a 6f69 6e69 6e67  fill and joining
+00046370: 2072 656d 6f74 6520 726f 6f6d 7320 6279   remote rooms by
+00046380: 2072 656d 6f76 696e 6720 756e 6e65 6365   removing unnece
+00046390: 7373 6172 7920 636f 6d70 7574 6174 696f  ssary computatio
+000463a0: 6e73 2e20 5468 6973 2069 6e63 6c75 6465  ns. This include
+000463b0: 6420 6861 6e64 6c69 6e67 2065 7665 6e74  d handling event
+000463c0: 7320 7765 5c27 6420 7072 6576 696f 7573  s we\'d previous
+000463d0: 6c79 2068 616e 646c 6564 2061 7320 7765  ly handled as we
+000463e0: 6c6c 2061 7320 6174 7465 6d70 7469 6e67  ll as attempting
+000463f0: 2074 6f20 636f 6d70 7574 6520 7468 6520   to compute the 
+00046400: 6375 7272 656e 7420 7374 6174 6520 666f  current state fo
+00046410: 7220 6f75 746c 6965 7273 2e0a 0a43 6861  r outliers...Cha
+00046420: 6e67 6573 2069 6e20 7379 6e61 7073 6520  nges in synapse 
+00046430: 7630 2e39 2e31 2028 3230 3135 2d30 352d  v0.9.1 (2015-05-
+00046440: 3236 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  26).============
+00046450: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00046460: 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 4765 6e65  ==========..Gene
+00046470: 7261 6c3a 0a0a 2d20 2020 4164 6420 7375  ral:..-   Add su
+00046480: 7070 6f72 7420 666f 7220 6261 636b 6669  pport for backfi
+00046490: 6c6c 696e 6720 7768 656e 2061 2063 6c69  lling when a cli
+000464a0: 656e 7420 7061 6769 6e61 7465 732e 2054  ent paginates. T
+000464b0: 6869 7320 616c 6c6f 7773 2073 6572 7665  his allows serve
+000464c0: 7273 2074 6f20 7265 7175 6573 7420 6869  rs to request hi
+000464d0: 7374 6f72 7920 666f 7220 6120 726f 6f6d  story for a room
+000464e0: 2066 726f 6d20 7265 6d6f 7465 2073 6572   from remote ser
+000464f0: 7665 7273 2077 6865 6e20 6120 636c 6965  vers when a clie
+00046500: 6e74 2074 7269 6573 2074 6f20 7061 6769  nt tries to pagi
+00046510: 6e61 7465 2068 6973 746f 7279 2074 6865  nate history the
+00046520: 2073 6572 7665 7220 646f 6573 206e 6f74   server does not
+00046530: 2068 6176 6520 2d20 5359 4e2d 3336 0a2d   have - SYN-36.-
+00046540: 2020 2046 6978 2062 7567 2077 6865 7265     Fix bug where
+00046550: 2079 6f75 2063 6f75 6c64 6e5c 2774 2064   you couldn\'t d
+00046560: 6973 6162 6c65 206e 6f6e 2d64 6566 6175  isable non-defau
+00046570: 6c74 2070 7573 6872 756c 6573 202d 2053  lt pushrules - S
+00046580: 594e 2d33 3738 0a2d 2020 2046 6978 2060  YN-378.-   Fix `
+00046590: 7265 6769 7374 6572 5f6e 6577 5f75 7365  register_new_use
+000465a0: 7260 2073 6372 6970 7420 2d20 5359 4e2d  r` script - SYN-
+000465b0: 3335 390a 2d20 2020 496d 7072 6f76 6520  359.-   Improve 
+000465c0: 7065 7266 6f72 6d61 6e63 6520 6f66 2066  performance of f
+000465d0: 6574 6368 696e 6720 6576 656e 7473 2066  etching events f
+000465e0: 726f 6d20 7468 6520 6461 7461 6261 7365  rom the database
+000465f0: 2c20 7468 6973 2069 6d70 726f 7665 7320  , this improves 
+00046600: 626f 7468 2069 6e69 7469 616c 5379 6e63  both initialSync
+00046610: 2061 6e64 2073 656e 6469 6e67 206f 6620   and sending of 
+00046620: 6576 656e 7473 2e0a 2d20 2020 496d 7072  events..-   Impr
+00046630: 6f76 6520 7065 7266 6f72 6d61 6e63 6520  ove performance 
+00046640: 6f66 2065 7665 6e74 2073 7472 6561 6d73  of event streams
+00046650: 2c20 616c 6c6f 7769 6e67 2073 796e 6170  , allowing synap
+00046660: 7365 2074 6f20 6861 6e64 6c65 206d 6f72  se to handle mor
+00046670: 6520 7369 6d75 6c74 616e 656f 7573 2063  e simultaneous c
+00046680: 6f6e 6e65 6374 6564 2063 6c69 656e 7473  onnected clients
+00046690: 2e0a 0a46 6564 6572 6174 696f 6e3a 0a0a  ...Federation:..
+000466a0: 2d20 2020 4669 7820 6275 6720 7769 7468  -   Fix bug with
+000466b0: 2065 7869 7374 696e 6720 6261 636b 6669   existing backfi
+000466c0: 6c6c 2069 6d70 6c65 6d65 6e74 6174 696f  ll implementatio
+000466d0: 6e20 7768 6572 6520 6974 2072 6574 7572  n where it retur
+000466e0: 6e65 6420 7468 6520 7772 6f6e 6720 7365  ned the wrong se
+000466f0: 6c65 6374 696f 6e20 6f66 2065 7665 6e74  lection of event
+00046700: 7320 696e 2073 6f6d 6520 6369 7263 756d  s in some circum
+00046710: 7374 616e 6365 732e 0a2d 2020 2049 6d70  stances..-   Imp
+00046720: 726f 7665 2070 6572 666f 726d 616e 6365  rove performance
+00046730: 206f 6620 6a6f 696e 696e 6720 7265 6d6f   of joining remo
+00046740: 7465 2072 6f6f 6d73 2e0a 0a43 6f6e 6669  te rooms...Confi
+00046750: 6775 7261 7469 6f6e 3a0a 0a2d 2020 2041  guration:..-   A
+00046760: 6464 2073 7570 706f 7274 2066 6f72 2063  dd support for c
+00046770: 6861 6e67 696e 6720 7468 6520 6269 6e64  hanging the bind
+00046780: 2068 6f73 7420 6f66 2074 6865 206d 6574   host of the met
+00046790: 7269 6373 206c 6973 7465 6e65 7220 7669  rics listener vi
+000467a0: 6120 7468 6520 606d 6574 7269 6373 5f62  a the `metrics_b
+000467b0: 696e 645f 686f 7374 6020 6f70 7469 6f6e  ind_host` option
+000467c0: 2e0a 0a43 6861 6e67 6573 2069 6e20 7379  ...Changes in sy
+000467d0: 6e61 7073 6520 7630 2e39 2e30 2d72 3520  napse v0.9.0-r5 
+000467e0: 2832 3031 352d 3035 2d32 3129 0a3d 3d3d  (2015-05-21).===
+000467f0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00046800: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00046810: 3d3d 3d3d 3d3d 0a0a 2d20 2020 4164 6420  ======..-   Add 
+00046820: 6d6f 7265 2064 6174 6162 6173 6520 6361  more database ca
+00046830: 6368 6573 2074 6f20 7265 6475 6365 2061  ches to reduce a
+00046840: 6d6f 756e 7420 6f66 2077 6f72 6b20 646f  mount of work do
+00046850: 6e65 2066 6f72 2065 6163 6820 7075 7368  ne for each push
+00046860: 6572 2e20 5468 6973 2072 6164 6963 616c  er. This radical
+00046870: 6c79 2072 6564 7563 6573 2043 5055 2075  ly reduces CPU u
+00046880: 7361 6765 2077 6865 6e20 6d75 6c74 6970  sage when multip
+00046890: 6c65 2070 7573 6865 7273 2061 7265 2073  le pushers are s
+000468a0: 6574 2075 7020 696e 2074 6865 2073 616d  et up in the sam
+000468b0: 6520 726f 6f6d 2e0a 0a43 6861 6e67 6573  e room...Changes
+000468c0: 2069 6e20 7379 6e61 7073 6520 7630 2e39   in synapse v0.9
+000468d0: 2e30 2028 3230 3135 2d30 352d 3037 290a  .0 (2015-05-07).
+000468e0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000468f0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00046900: 3d3d 3d3d 3d3d 0a0a 4765 6e65 7261 6c3a  ======..General:
+00046910: 0a0a 2d20 2020 4164 6420 7375 7070 6f72  ..-   Add suppor
+00046920: 7420 666f 7220 7573 696e 6720 6120 506f  t for using a Po
+00046930: 7374 6772 6553 514c 2064 6174 6162 6173  stgreSQL databas
+00046940: 6520 696e 7374 6561 6420 6f66 2053 514c  e instead of SQL
+00046950: 6974 652e 2053 6565 205b 646f 6373 2f70  ite. See [docs/p
+00046960: 6f73 7467 7265 732e 7273 745d 2864 6f63  ostgres.rst](doc
+00046970: 732f 706f 7374 6772 6573 2e72 7374 2920  s/postgres.rst) 
+00046980: 666f 7220 6465 7461 696c 732e 0a2d 2020  for details..-  
+00046990: 2041 6464 2070 6173 7377 6f72 6420 6368   Add password ch
+000469a0: 616e 6765 2061 6e64 2072 6573 6574 2041  ange and reset A
+000469b0: 5049 732e 2053 6565 205b 5265 6769 7374  PIs. See [Regist
+000469c0: 7261 7469 6f6e 5d28 6874 7470 733a 2f2f  ration](https://
+000469d0: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+000469e0: 782d 6f72 672f 6d61 7472 6978 2d64 6f63  x-org/matrix-doc
+000469f0: 2f62 6c6f 622f 6d61 7374 6572 2f73 7065  /blob/master/spe
+00046a00: 6369 6669 6361 7469 6f6e 2f31 305f 636c  cification/10_cl
+00046a10: 6965 6e74 5f73 6572 7665 725f 6170 692e  ient_server_api.
+00046a20: 7273 7423 7265 6769 7374 7261 7469 6f6e  rst#registration
+00046a30: 2920 696e 2074 6865 2073 7065 632e 0a2d  ) in the spec..-
+00046a40: 2020 2046 6978 206d 656d 6f72 7920 6c65     Fix memory le
+00046a50: 616b 2064 7565 2074 6f20 6e6f 7420 7265  ak due to not re
+00046a60: 6c65 6173 696e 6720 7374 616c 6520 6e6f  leasing stale no
+00046a70: 7469 6669 6572 7320 2d20 5359 4e2d 3333  tifiers - SYN-33
+00046a80: 392e 0a2d 2020 2046 6978 2072 6163 6520  9..-   Fix race 
+00046a90: 696e 2063 6163 6865 7320 7468 6174 206f  in caches that o
+00046aa0: 6363 6173 696f 6e61 6c6c 7920 6361 7573  ccasionally caus
+00046ab0: 6564 2073 6f6d 6520 7072 6573 656e 6365  ed some presence
+00046ac0: 2075 7064 6174 6573 2074 6f20 6265 2064   updates to be d
+00046ad0: 726f 7070 6564 202d 2053 594e 2d33 3639  ropped - SYN-369
+00046ae0: 2e0a 2d20 2020 4368 6563 6b20 7365 7276  ..-   Check serv
+00046af0: 6572 206e 616d 6520 6861 7320 6e6f 7420  er name has not 
+00046b00: 6368 616e 6765 6420 6f6e 2072 6573 7461  changed on resta
+00046b10: 7274 2e0a 2d20 2020 4164 6420 6120 7361  rt..-   Add a sa
+00046b20: 6d70 6c65 2073 7973 7465 6d64 2075 6e69  mple systemd uni
+00046b30: 7420 6669 6c65 2061 6e64 2061 206c 6f67  t file and a log
+00046b40: 6765 7220 636f 6e66 6967 7572 6174 696f  ger configuratio
+00046b50: 6e20 696e 2063 6f6e 7472 6962 2f73 7973  n in contrib/sys
+00046b60: 7465 6d64 2e20 436f 6e74 7269 6275 7465  temd. Contribute
+00046b70: 6420 4976 616e 2053 6861 706f 7661 6c6f  d Ivan Shapovalo
+00046b80: 762e 0a0a 4665 6465 7261 7469 6f6e 3a0a  v...Federation:.
+00046b90: 0a2d 2020 2041 6464 206b 6579 2064 6973  .-   Add key dis
+00046ba0: 7472 6962 7574 696f 6e20 6d65 6368 616e  tribution mechan
+00046bb0: 6973 6d73 2066 6f72 2066 6574 6368 696e  isms for fetchin
+00046bc0: 6720 7075 626c 6963 206b 6579 7320 6f66  g public keys of
+00046bd0: 2075 6e61 7661 696c 6162 6c65 2072 656d   unavailable rem
+00046be0: 6f74 6520 686f 6d65 2073 6572 7665 7273  ote home servers
+00046bf0: 2e20 5365 6520 5b52 6574 7269 6576 696e  . See [Retrievin
+00046c00: 6720 5365 7276 6572 204b 6579 735d 2868  g Server Keys](h
+00046c10: 7474 7073 3a2f 2f67 6974 6875 622e 636f  ttps://github.co
+00046c20: 6d2f 6d61 7472 6978 2d6f 7267 2f6d 6174  m/matrix-org/mat
+00046c30: 7269 782d 646f 632f 626c 6f62 2f36 6632  rix-doc/blob/6f2
+00046c40: 3639 382f 7370 6563 6966 6963 6174 696f  698/specificatio
+00046c50: 6e2f 3330 5f73 6572 7665 725f 7365 7276  n/30_server_serv
+00046c60: 6572 5f61 7069 2e72 7374 2372 6574 7269  er_api.rst#retri
+00046c70: 6576 696e 672d 7365 7276 6572 2d6b 6579  eving-server-key
+00046c80: 7329 2069 6e20 7468 6520 7370 6563 2e0a  s) in the spec..
+00046c90: 0a43 6f6e 6669 6775 7261 7469 6f6e 3a0a  .Configuration:.
+00046ca0: 0a2d 2020 2041 6464 2073 7570 706f 7274  .-   Add support
+00046cb0: 2066 6f72 206d 756c 7469 706c 6520 636f   for multiple co
+00046cc0: 6e66 6967 2066 696c 6573 2e0a 2d20 2020  nfig files..-   
+00046cd0: 4164 6420 7375 7070 6f72 7420 666f 7220  Add support for 
+00046ce0: 6469 6374 696f 6e61 7269 6573 2069 6e20  dictionaries in 
+00046cf0: 636f 6e66 6967 2066 696c 6573 2e0a 2d20  config files..- 
+00046d00: 2020 5265 6d6f 7665 2073 7570 706f 7274    Remove support
+00046d10: 2066 6f72 2073 7065 6369 6679 696e 6720   for specifying 
+00046d20: 636f 6e66 6967 206f 7074 696f 6e73 206f  config options o
+00046d30: 6e20 7468 6520 636f 6d6d 616e 6420 6c69  n the command li
+00046d40: 6e65 2c20 6578 6365 7074 2066 6f72 3a0a  ne, except for:.
+00046d50: 2020 2020 2d20 2020 602d 2d64 6165 6d6f      -   `--daemo
+00046d60: 6e69 7a65 6020 2d20 4461 656d 6f6e 697a  nize` - Daemoniz
+00046d70: 6520 7468 6520 686f 6d65 2073 6572 7665  e the home serve
+00046d80: 722e 0a20 2020 202d 2020 2060 2d2d 6d61  r..    -   `--ma
+00046d90: 6e68 6f6c 6560 202d 2054 7572 6e20 6f6e  nhole` - Turn on
+00046da0: 2074 6865 2074 7769 7374 6564 2074 656c   the twisted tel
+00046db0: 6e65 7420 6d61 6e68 6f6c 6520 7365 7276  net manhole serv
+00046dc0: 6963 6520 6f6e 2074 6865 2067 6976 656e  ice on the given
+00046dd0: 2070 6f72 742e 0a20 2020 202d 2020 2060   port..    -   `
+00046de0: 2d2d 6461 7461 6261 7365 2d70 6174 6860  --database-path`
+00046df0: 202d 2054 6865 2070 6174 6820 746f 2061   - The path to a
+00046e00: 2073 716c 6974 6520 6461 7461 6261 7365   sqlite database
+00046e10: 2074 6f20 7573 652e 0a20 2020 202d 2020   to use..    -  
+00046e20: 2060 2d2d 7665 7262 6f73 6560 202d 2054   `--verbose` - T
+00046e30: 6865 2076 6572 626f 7369 7479 206c 6576  he verbosity lev
+00046e40: 656c 2e0a 2020 2020 2d20 2020 602d 2d6c  el..    -   `--l
+00046e50: 6f67 2d66 696c 6560 202d 2046 696c 6520  og-file` - File 
+00046e60: 746f 206c 6f67 2074 6f2e 0a20 2020 202d  to log to..    -
+00046e70: 2020 2060 2d2d 6c6f 672d 636f 6e66 6967     `--log-config
+00046e80: 6020 2d20 5079 7468 6f6e 206c 6f67 6769  ` - Python loggi
+00046e90: 6e67 2063 6f6e 6669 6720 6669 6c65 2e0a  ng config file..
+00046ea0: 2020 2020 2d20 2020 602d 2d65 6e61 626c      -   `--enabl
+00046eb0: 652d 7265 6769 7374 7261 7469 6f6e 6020  e-registration` 
+00046ec0: 2d20 456e 6162 6c65 2072 6567 6973 7472  - Enable registr
+00046ed0: 6174 696f 6e20 666f 7220 6e65 7720 7573  ation for new us
+00046ee0: 6572 732e 0a0a 4170 706c 6963 6174 696f  ers...Applicatio
+00046ef0: 6e20 7365 7276 6963 6573 3a0a 0a2d 2020  n services:..-  
+00046f00: 2052 656c 6961 626c 7920 7265 7472 7920   Reliably retry 
+00046f10: 7365 6e64 696e 6720 6f66 2065 7665 6e74  sending of event
+00046f20: 7320 6672 6f6d 2053 796e 6170 7365 2074  s from Synapse t
+00046f30: 6f20 6170 706c 6963 6174 696f 6e20 7365  o application se
+00046f40: 7276 6963 6573 2c20 6173 2070 6572 205b  rvices, as per [
+00046f50: 4170 706c 6963 6174 696f 6e20 5365 7276  Application Serv
+00046f60: 6963 6573 5d28 6874 7470 733a 2f2f 6769  ices](https://gi
+00046f70: 7468 7562 2e63 6f6d 2f6d 6174 7269 782d  thub.com/matrix-
+00046f80: 6f72 672f 6d61 7472 6978 2d64 6f63 2f62  org/matrix-doc/b
+00046f90: 6c6f 622f 3063 3662 6439 2f73 7065 6369  lob/0c6bd9/speci
+00046fa0: 6669 6361 7469 6f6e 2f32 355f 6170 706c  fication/25_appl
+00046fb0: 6963 6174 696f 6e5f 7365 7276 6963 655f  ication_service_
+00046fc0: 6170 692e 7273 7423 686f 6d65 2d73 6572  api.rst#home-ser
+00046fd0: 7665 722d 2d2d 6170 706c 6963 6174 696f  ver---applicatio
+00046fe0: 6e2d 7365 7276 6963 652d 6170 6929 2073  n-service-api) s
+00046ff0: 7065 632e 0a2d 2020 2041 7070 6c69 6361  pec..-   Applica
+00047000: 7469 6f6e 2073 6572 7669 6365 7320 6361  tion services ca
+00047010: 6e20 6e6f 206c 6f6e 6765 7220 7265 6769  n no longer regi
+00047020: 7374 6572 2076 6961 2074 6865 2060 2f72  ster via the `/r
+00047030: 6567 6973 7465 7260 2041 5049 2c20 696e  egister` API, in
+00047040: 7374 6561 6420 7468 6569 7220 636f 6e66  stead their conf
+00047050: 6967 7572 6174 696f 6e20 7368 6f75 6c64  iguration should
+00047060: 2062 6520 7361 7665 6420 746f 2061 2066   be saved to a f
+00047070: 696c 6520 616e 6420 6c69 7374 6564 2069  ile and listed i
+00047080: 6e20 7468 6520 7379 6e61 7073 6520 6061  n the synapse `a
+00047090: 7070 5f73 6572 7669 6365 5f63 6f6e 6669  pp_service_confi
+000470a0: 675f 6669 6c65 7360 2063 6f6e 6669 6720  g_files` config 
+000470b0: 6f70 7469 6f6e 2e20 5468 6520 4153 2063  option. The AS c
+000470c0: 6f6e 6669 6775 7261 7469 6f6e 2066 696c  onfiguration fil
+000470d0: 6520 6861 7320 7468 6520 7361 6d65 2066  e has the same f
+000470e0: 6f72 6d61 7420 6173 2074 6865 206f 6c64  ormat as the old
+000470f0: 2060 2f72 6567 6973 7465 7260 2072 6571   `/register` req
+00047100: 7565 7374 2e20 5365 6520 5b64 6f63 732f  uest. See [docs/
+00047110: 6170 706c 6963 6174 696f 6e5c 5f73 6572  application\_ser
+00047120: 7669 6365 732e 7273 745d 2864 6f63 732f  vices.rst](docs/
+00047130: 6170 706c 6963 6174 696f 6e5f 7365 7276  application_serv
+00047140: 6963 6573 2e72 7374 2920 666f 7220 6d6f  ices.rst) for mo
+00047150: 7265 2069 6e66 6f72 6d61 7469 6f6e 2e0a  re information..
+00047160: 0a43 6861 6e67 6573 2069 6e20 7379 6e61  .Changes in syna
+00047170: 7073 6520 7630 2e38 2e31 2028 3230 3135  pse v0.8.1 (2015
+00047180: 2d30 332d 3138 290a 3d3d 3d3d 3d3d 3d3d  -03-18).========
+00047190: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000471a0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a  ==============..
+000471b0: 2d20 2020 4469 7361 626c 6520 7265 6769  -   Disable regi
+000471c0: 7374 7261 7469 6f6e 2062 7920 6465 6661  stration by defa
+000471d0: 756c 742e 204e 6577 2075 7365 7273 2063  ult. New users c
+000471e0: 616e 2062 6520 6164 6465 6420 7573 696e  an be added usin
+000471f0: 6720 7468 6520 636f 6d6d 616e 6420 6072  g the command `r
+00047200: 6567 6973 7465 725f 6e65 775f 6d61 7472  egister_new_matr
+00047210: 6978 5f75 7365 7260 206f 7220 6279 2065  ix_user` or by e
+00047220: 6e61 626c 696e 6720 7265 6769 7374 7261  nabling registra
+00047230: 7469 6f6e 2069 6e20 7468 6520 636f 6e66  tion in the conf
+00047240: 6967 2e0a 2d20 2020 4164 6420 6d65 7472  ig..-   Add metr
+00047250: 6963 7320 746f 2073 796e 6170 7365 2e20  ics to synapse. 
+00047260: 546f 2065 6e61 626c 6520 6d65 7472 6963  To enable metric
+00047270: 7320 7573 6520 636f 6e66 6967 206f 7074  s use config opt
+00047280: 696f 6e73 2060 656e 6162 6c65 5f6d 6574  ions `enable_met
+00047290: 7269 6373 6020 616e 6420 606d 6574 7269  rics` and `metri
+000472a0: 6373 5f70 6f72 7460 2e0a 2d20 2020 4669  cs_port`..-   Fi
+000472b0: 7820 6275 6720 7768 6572 6520 6261 6e6e  x bug where bann
+000472c0: 696e 6720 6f6e 6c79 206b 6963 6b65 6420  ing only kicked 
+000472d0: 7468 6520 7573 6572 2e0a 0a43 6861 6e67  the user...Chang
+000472e0: 6573 2069 6e20 7379 6e61 7073 6520 7630  es in synapse v0
+000472f0: 2e38 2e30 2028 3230 3135 2d30 332d 3036  .8.0 (2015-03-06
+00047300: 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ).==============
+00047310: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00047320: 3d3d 3d3d 3d3d 3d3d 0a0a 4765 6e65 7261  ========..Genera
+00047330: 6c3a 0a0a 2d20 2020 4164 6420 7375 7070  l:..-   Add supp
+00047340: 6f72 7420 666f 7220 7265 6769 7374 7261  ort for registra
+00047350: 7469 6f6e 2066 616c 6c62 6163 6b2e 2054  tion fallback. T
+00047360: 6869 7320 6973 2061 2070 6167 6520 686f  his is a page ho
+00047370: 7374 6564 206f 6e20 7468 6520 7365 7276  sted on the serv
+00047380: 6572 2077 6869 6368 2061 6c6c 6f77 7320  er which allows 
+00047390: 6120 7573 6572 2074 6f20 7265 6769 7374  a user to regist
+000473a0: 6572 2066 6f72 2061 6e20 6163 636f 756e  er for an accoun
+000473b0: 742c 2072 6567 6172 646c 6573 7320 6f66  t, regardless of
+000473c0: 2077 6861 7420 636c 6965 6e74 2074 6865   what client the
+000473d0: 7920 6172 6520 7573 696e 6720 2865 2e67  y are using (e.g
+000473e0: 2e20 6d6f 6269 6c65 2064 6576 6963 6573  . mobile devices
+000473f0: 292e 0a2d 2020 2041 6464 6564 206e 6577  )..-   Added new
+00047400: 2064 6566 6175 6c74 2070 7573 6820 7275   default push ru
+00047410: 6c65 7320 616e 6420 6d61 6465 2074 6865  les and made the
+00047420: 6d20 636f 6e66 6967 7572 6162 6c65 2062  m configurable b
+00047430: 7920 636c 6965 6e74 733a 0a20 2020 202d  y clients:.    -
+00047440: 2020 2053 7570 7072 6573 7320 616c 6c20     Suppress all 
+00047450: 6e6f 7469 6365 206d 6573 7361 6765 732e  notice messages.
+00047460: 0a20 2020 202d 2020 204e 6f74 6966 7920  .    -   Notify 
+00047470: 7768 656e 2069 6e76 6974 6564 2074 6f20  when invited to 
+00047480: 6120 6e65 7720 726f 6f6d 2e0a 2020 2020  a new room..    
+00047490: 2d20 2020 4e6f 7469 6679 2066 6f72 206d  -   Notify for m
+000474a0: 6573 7361 6765 7320 7468 6174 2064 6f6e  essages that don
+000474b0: 5c27 7420 6d61 7463 6820 616e 7920 7275  \'t match any ru
+000474c0: 6c65 2e0a 2020 2020 2d20 2020 4e6f 7469  le..    -   Noti
+000474d0: 6679 206f 6e20 696e 636f 6d69 6e67 2063  fy on incoming c
+000474e0: 616c 6c2e 0a0a 4665 6465 7261 7469 6f6e  all...Federation
+000474f0: 3a0a 0a2d 2020 2041 6464 6564 2070 6572  :..-   Added per
+00047500: 2068 6f73 7420 7365 7276 6572 2073 6964   host server sid
+00047510: 6520 7261 7465 2d6c 696d 6974 696e 6720  e rate-limiting 
+00047520: 6f66 2069 6e63 6f6d 696e 6720 6665 6465  of incoming fede
+00047530: 7261 7469 6f6e 2072 6571 7565 7374 732e  ration requests.
+00047540: 0a2d 2020 2041 6464 6564 2061 2060 2f67  .-   Added a `/g
+00047550: 6574 5f6d 6973 7369 6e67 5f65 7665 6e74  et_missing_event
+00047560: 732f 6020 4150 4920 746f 2066 6564 6572  s/` API to feder
+00047570: 6174 696f 6e20 746f 2072 6564 7563 6520  ation to reduce 
+00047580: 6e75 6d62 6572 206f 6620 602f 6576 656e  number of `/even
+00047590: 7473 2f60 2072 6571 7565 7374 732e 0a0a  ts/` requests...
+000475a0: 436f 6e66 6967 7572 6174 696f 6e3a 0a0a  Configuration:..
+000475b0: 2d20 2020 4164 6465 6420 636f 6e66 6967  -   Added config
+000475c0: 7572 6174 696f 6e20 6f70 7469 6f6e 2074  uration option t
+000475d0: 6f20 6469 7361 626c 6520 7265 6769 7374  o disable regist
+000475e0: 7261 7469 6f6e 3a20 6064 6973 6162 6c65  ration: `disable
+000475f0: 5f72 6567 6973 7472 6174 696f 6e60 2e0a  _registration`..
+00047600: 2d20 2020 4164 6465 6420 636f 6e66 6967  -   Added config
+00047610: 7572 6174 696f 6e20 6f70 7469 6f6e 2074  uration option t
+00047620: 6f20 6368 616e 6765 2073 6f66 7420 6c69  o change soft li
+00047630: 6d69 7420 6f66 206e 756d 6265 7220 6f66  mit of number of
+00047640: 206f 7065 6e20 6669 6c65 2064 6573 6372   open file descr
+00047650: 6970 746f 7273 3a20 6073 6f66 745f 6669  iptors: `soft_fi
+00047660: 6c65 5f6c 696d 6974 602e 0a2d 2020 204d  le_limit`..-   M
+00047670: 616b 6520 6074 6c73 5f70 7269 7661 7465  ake `tls_private
+00047680: 5f6b 6579 5f70 6174 6860 206f 7074 696f  _key_path` optio
+00047690: 6e61 6c20 7768 656e 2072 756e 6e69 6e67  nal when running
+000476a0: 2077 6974 6820 606e 6f5f 746c 7360 2e0a   with `no_tls`..
+000476b0: 0a41 7070 6c69 6361 7469 6f6e 2073 6572  .Application ser
+000476c0: 7669 6365 733a 0a0a 2d20 2020 4170 706c  vices:..-   Appl
+000476d0: 6963 6174 696f 6e20 7365 7276 6963 6573  ication services
+000476e0: 2063 616e 206e 6f77 2070 6f6c 6c20 6f6e   can now poll on
+000476f0: 2074 6865 2043 5320 4150 4920 602f 6576   the CS API `/ev
+00047700: 656e 7473 6020 666f 7220 7468 6569 7220  ents` for their 
+00047710: 6576 656e 7473 2c20 6279 2070 726f 7669  events, by provi
+00047720: 6469 6e67 2074 6865 6972 2061 7070 6c69  ding their appli
+00047730: 6361 7469 6f6e 2073 6572 7669 6365 2060  cation service `
+00047740: 6163 6365 7373 5f74 6f6b 656e 602e 0a2d  access_token`..-
+00047750: 2020 2041 6464 6564 2065 7863 6c75 7369     Added exclusi
+00047760: 7665 206e 616d 6573 7061 6365 2073 7570  ve namespace sup
+00047770: 706f 7274 2074 6f20 6170 706c 6963 6174  port to applicat
+00047780: 696f 6e20 7365 7276 6963 6573 2041 5049  ion services API
+00047790: 2e0a 0a43 6861 6e67 6573 2069 6e20 7379  ...Changes in sy
+000477a0: 6e61 7073 6520 7630 2e37 2e31 2028 3230  napse v0.7.1 (20
+000477b0: 3135 2d30 322d 3139 290a 3d3d 3d3d 3d3d  15-02-19).======
+000477c0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000477d0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000477e0: 0a0a 2d20 2020 496e 6974 6961 6c20 616c  ..-   Initial al
+000477f0: 7068 6120 696d 706c 656d 656e 7461 7469  pha implementati
+00047800: 6f6e 206f 6620 7061 7274 7320 6f66 2074  on of parts of t
+00047810: 6865 2041 7070 6c69 6361 7469 6f6e 2053  he Application S
+00047820: 6572 7669 6365 7320 4150 492e 2049 6e63  ervices API. Inc
+00047830: 6c75 6469 6e67 3a0a 2020 2020 2d20 2020  luding:.    -   
+00047840: 4153 2052 6567 6973 7472 6174 696f 6e20  AS Registration 
+00047850: 2f20 556e 7265 6769 7374 7261 7469 6f6e  / Unregistration
+00047860: 0a20 2020 202d 2020 2055 7365 7220 5175  .    -   User Qu
+00047870: 6572 7920 4150 490a 2020 2020 2d20 2020  ery API.    -   
+00047880: 526f 6f6d 2041 6c69 6173 2051 7565 7279  Room Alias Query
+00047890: 2041 5049 0a20 2020 202d 2020 2050 7573   API.    -   Pus
+000478a0: 6820 7472 616e 7370 6f72 7420 666f 7220  h transport for 
+000478b0: 7265 6365 6976 696e 6720 6576 656e 7473  receiving events
+000478c0: 2e0a 2020 2020 2d20 2020 5573 6572 2f41  ..    -   User/A
+000478d0: 6c69 6173 206e 616d 6573 7061 6365 2061  lias namespace a
+000478e0: 646d 696e 2063 6f6e 7472 6f6c 0a2d 2020  dmin control.-  
+000478f0: 2041 6464 2063 6163 6865 2077 6865 6e20   Add cache when 
+00047900: 6665 7463 6869 6e67 2065 7665 6e74 7320  fetching events 
+00047910: 6672 6f6d 2072 656d 6f74 6520 7365 7276  from remote serv
+00047920: 6572 7320 746f 2073 746f 7020 7265 7065  ers to stop repe
+00047930: 6174 6564 6c79 2066 6574 6368 696e 6720  atedly fetching 
+00047940: 6576 656e 7473 2077 6974 6820 6261 6420  events with bad 
+00047950: 7369 676e 6174 7572 6573 2e0a 2d20 2020  signatures..-   
+00047960: 5265 7370 6563 7420 7468 6520 7065 7220  Respect the per 
+00047970: 7265 6d6f 7465 2073 6572 7665 7220 7265  remote server re
+00047980: 7472 7920 7363 6865 6d65 2077 6865 6e20  try scheme when 
+00047990: 6665 7463 6869 6e67 2062 6f74 6820 6576  fetching both ev
+000479a0: 656e 7473 2061 6e64 2073 6572 7665 7220  ents and server 
+000479b0: 6b65 7973 2074 6f20 7265 6475 6365 2074  keys to reduce t
+000479c0: 6865 206e 756d 6265 7220 6f66 2074 696d  he number of tim
+000479d0: 6573 2077 6520 7365 6e64 2072 6571 7565  es we send reque
+000479e0: 7374 7320 746f 2064 6561 6420 7365 7276  sts to dead serv
+000479f0: 6572 732e 0a2d 2020 2049 6e66 6f72 6d20  ers..-   Inform 
+00047a00: 7265 6d6f 7465 2073 6572 7665 7273 2077  remote servers w
+00047a10: 6865 6e20 7468 6520 6c6f 6361 6c20 7365  hen the local se
+00047a20: 7276 6572 2066 6169 6c73 2074 6f20 6861  rver fails to ha
+00047a30: 6e64 6c65 2061 2072 6563 6569 7665 6420  ndle a received 
+00047a40: 6576 656e 742e 0a2d 2020 2054 7572 6e20  event..-   Turn 
+00047a50: 6f66 6620 7079 7468 6f6e 2062 7974 6563  off python bytec
+00047a60: 6f64 6520 6765 6e65 7261 7469 6f6e 2064  ode generation d
+00047a70: 7565 2074 6f20 7072 6f62 6c65 6d73 2065  ue to problems e
+00047a80: 7870 6572 6965 6e63 6564 2077 6865 6e20  xperienced when 
+00047a90: 7570 6772 6164 696e 6720 6672 6f6d 2070  upgrading from p
+00047aa0: 7265 7669 6f75 7320 7665 7273 696f 6e73  revious versions
+00047ab0: 2e0a 0a43 6861 6e67 6573 2069 6e20 7379  ...Changes in sy
+00047ac0: 6e61 7073 6520 7630 2e37 2e30 2028 3230  napse v0.7.0 (20
+00047ad0: 3135 2d30 322d 3132 290a 3d3d 3d3d 3d3d  15-02-12).======
+00047ae0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00047af0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00047b00: 0a0a 2d20 2020 4164 6420 696e 6974 6961  ..-   Add initia
+00047b10: 6c20 696d 706c 656d 656e 7461 7469 6f6e  l implementation
+00047b20: 206f 6620 7468 6520 7175 6572 7920 6175   of the query au
+00047b30: 7468 2066 6564 6572 6174 696f 6e20 4150  th federation AP
+00047b40: 492c 2061 6c6c 6f77 696e 6720 7365 7276  I, allowing serv
+00047b50: 6572 7320 746f 2061 6772 6565 206f 6e20  ers to agree on 
+00047b60: 7768 6574 6865 7220 616e 2065 7665 6e74  whether an event
+00047b70: 2073 686f 756c 6420 6265 2061 6c6c 6f77   should be allow
+00047b80: 6564 206f 7220 7265 6a65 6374 6564 2e0a  ed or rejected..
+00047b90: 2d20 2020 5065 7273 6973 7420 6576 656e  -   Persist even
+00047ba0: 7473 2077 6520 6861 7665 2072 656a 6563  ts we have rejec
+00047bb0: 7465 6420 6672 6f6d 2066 6564 6572 6174  ted from federat
+00047bc0: 696f 6e2c 2066 6978 696e 6720 7468 6520  ion, fixing the 
+00047bd0: 6275 6720 7768 6572 6520 7365 7276 6572  bug where server
+00047be0: 7320 776f 756c 6420 6b65 6570 2072 6571  s would keep req
+00047bf0: 7565 7374 696e 6720 7468 6520 7361 6d65  uesting the same
+00047c00: 2065 7665 6e74 732e 0a2d 2020 2056 6172   events..-   Var
+00047c10: 696f 7573 2066 6564 6572 6174 696f 6e20  ious federation 
+00047c20: 7065 7266 6f72 6d61 6e63 6520 696d 7072  performance impr
+00047c30: 6f76 656d 656e 7473 2c20 696e 636c 7564  ovements, includ
+00047c40: 696e 673a 0a20 2020 202d 2020 2041 6464  ing:.    -   Add
+00047c50: 2069 6e20 6d65 6d6f 7279 2063 6163 6865   in memory cache
+00047c60: 7320 6f6e 2071 7565 7269 6573 2073 7563  s on queries suc
+00047c70: 6820 6173 3a0a 0a20 2020 2020 2020 203e  h as:..        >
+00047c80: 202d 2020 2043 6f6d 7075 7469 6e67 2074   -   Computing t
+00047c90: 6865 2073 7461 7465 206f 6620 6120 726f  he state of a ro
+00047ca0: 6f6d 2061 7420 6120 706f 696e 7420 696e  om at a point in
+00047cb0: 2074 696d 652c 2075 7365 6420 666f 7220   time, used for 
+00047cc0: 6175 7468 6f72 697a 6174 696f 6e20 6f6e  authorization on
+00047cd0: 2066 6564 6572 6174 696f 6e20 7265 7175   federation requ
+00047ce0: 6573 7473 2e0a 2020 2020 2020 2020 3e20  ests..        > 
+00047cf0: 2d20 2020 4665 7463 6869 6e67 2065 7665  -   Fetching eve
+00047d00: 6e74 7320 6672 6f6d 2074 6865 2064 6174  nts from the dat
+00047d10: 6162 6173 652e 0a20 2020 2020 2020 203e  abase..        >
+00047d20: 202d 2020 2055 7365 725c 2773 2072 6f6f   -   User\'s roo
+00047d30: 6d20 6d65 6d62 6572 7368 6970 2c20 7573  m membership, us
+00047d40: 6564 2066 6f72 2061 7574 686f 7269 7a69  ed for authorizi
+00047d50: 6e67 2070 7265 7365 6e63 6520 7570 6461  ng presence upda
+00047d60: 7465 732e 0a0a 2020 2020 2d20 2020 5570  tes...    -   Up
+00047d70: 6772 6164 6564 204a 534f 4e20 6c69 6272  graded JSON libr
+00047d80: 6172 7920 746f 2069 6d70 726f 7665 2070  ary to improve p
+00047d90: 6172 7369 6e67 2061 6e64 2073 6572 6961  arsing and seria
+00047da0: 6c69 7361 7469 6f6e 2073 7065 6564 732e  lisation speeds.
+00047db0: 0a0a 2d20 2020 4164 6420 6465 6661 756c  ..-   Add defaul
+00047dc0: 7420 6176 6174 6172 7320 746f 206e 6577  t avatars to new
+00047dd0: 2075 7365 7220 6163 636f 756e 7473 2075   user accounts u
+00047de0: 7369 6e67 2070 7964 656e 7469 636f 6e20  sing pydenticon 
+00047df0: 6c69 6272 6172 792e 0a2d 2020 2043 6f72  library..-   Cor
+00047e00: 7265 6374 6c79 2074 696d 6520 6f75 7420  rectly time out 
+00047e10: 6665 6465 7261 7469 6f6e 2072 6571 7565  federation reque
+00047e20: 7374 732e 0a2d 2020 2052 6574 7279 2066  sts..-   Retry f
+00047e30: 6564 6572 6174 696f 6e20 7265 7175 6573  ederation reques
+00047e40: 7473 2061 6761 696e 7374 2064 6966 6665  ts against diffe
+00047e50: 7265 6e74 2073 6572 7665 7273 2e0a 2d20  rent servers..- 
+00047e60: 2020 4164 6420 7375 7070 6f72 7420 666f    Add support fo
+00047e70: 7220 7075 7368 2061 6e64 2070 7573 6820  r push and push 
+00047e80: 7275 6c65 732e 0a2d 2020 2041 6464 2061  rules..-   Add a
+00047e90: 6c70 6861 2076 6572 7369 6f6e 7320 6f66  lpha versions of
+00047ea0: 2070 726f 706f 7365 6420 6e65 7720 4353   proposed new CS
+00047eb0: 7632 2041 5049 732c 2069 6e63 6c75 6469  v2 APIs, includi
+00047ec0: 6e67 2060 2f73 796e 6360 2041 5049 2e0a  ng `/sync` API..
+00047ed0: 0a43 6861 6e67 6573 2069 6e20 7379 6e61  .Changes in syna
+00047ee0: 7073 6520 302e 362e 3120 2832 3031 352d  pse 0.6.1 (2015-
+00047ef0: 3031 2d30 3729 0a3d 3d3d 3d3d 3d3d 3d3d  01-07).=========
+00047f00: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00047f10: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 2d20  ============..- 
+00047f20: 2020 4d61 6a6f 7220 6f70 7469 6d69 7a61    Major optimiza
+00047f30: 7469 6f6e 7320 746f 2069 6d70 726f 7665  tions to improve
+00047f40: 2070 6572 666f 726d 616e 6365 206f 6620   performance of 
+00047f50: 696e 6974 6961 6c20 7379 6e63 2061 6e64  initial sync and
+00047f60: 2065 7665 6e74 2073 656e 6469 6e67 2069   event sending i
+00047f70: 6e20 6c61 7267 6520 726f 6f6d 7320 2862  n large rooms (b
+00047f80: 7920 7570 2074 6f20 3130 7829 0a2d 2020  y up to 10x).-  
+00047f90: 204d 6564 6961 2072 6570 6f73 6974 6f72   Media repositor
+00047fa0: 7920 6e6f 7720 696e 636c 7564 6573 2061  y now includes a
+00047fb0: 2043 6f6e 7465 6e74 2d4c 656e 6774 6820   Content-Length 
+00047fc0: 6865 6164 6572 206f 6e20 6d65 6469 6120  header on media 
+00047fd0: 646f 776e 6c6f 6164 732e 0a2d 2020 2049  downloads..-   I
+00047fe0: 6d70 726f 7665 2071 7561 6c69 7479 206f  mprove quality o
+00047ff0: 6620 7468 756d 626e 6169 6c73 2062 7920  f thumbnails by 
+00048000: 6368 616e 6769 6e67 2072 6573 697a 696e  changing resizin
+00048010: 6720 616c 676f 7269 7468 6d2e 0a0a 4368  g algorithm...Ch
+00048020: 616e 6765 7320 696e 2073 796e 6170 7365  anges in synapse
+00048030: 2030 2e36 2e30 2028 3230 3134 2d31 322d   0.6.0 (2014-12-
+00048040: 3136 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  16).============
+00048050: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00048060: 3d3d 3d3d 3d3d 3d3d 3d0a 0a2d 2020 2041  =========..-   A
+00048070: 6464 206e 6577 2041 5049 2066 6f72 206d  dd new API for m
+00048080: 6564 6961 2075 706c 6f61 6420 616e 6420  edia upload and 
+00048090: 646f 776e 6c6f 6164 2074 6861 7420 7375  download that su
+000480a0: 7070 6f72 7473 2074 6875 6d62 6e61 696c  pports thumbnail
+000480b0: 696e 672e 0a2d 2020 2052 6570 6c69 6361  ing..-   Replica
+000480c0: 7465 206d 6564 6961 2075 706c 6f61 6473  te media uploads
+000480d0: 206f 7665 7220 6d75 6c74 6970 6c65 2068   over multiple h
+000480e0: 6f6d 6573 6572 7665 7273 2073 6f20 6d65  omeservers so me
+000480f0: 6469 6120 6973 2061 6c77 6179 7320 7365  dia is always se
+00048100: 7276 6564 2074 6f20 636c 6965 6e74 7320  rved to clients 
+00048110: 6672 6f6d 2074 6865 6972 206c 6f63 616c  from their local
+00048120: 2068 6f6d 6573 6572 7665 722e 2054 6869   homeserver. Thi
+00048130: 7320 6f62 736f 6c65 7465 7320 7468 6520  s obsoletes the 
+00048140: 5c2d 2d63 6f6e 7465 6e74 2d61 6464 7220  \--content-addr 
+00048150: 7061 7261 6d65 7465 7220 616e 6420 636f  parameter and co
+00048160: 6e66 7573 696f 6e20 6f76 6572 2061 6363  nfusion over acc
+00048170: 6573 7369 6e67 2063 6f6e 7465 6e74 2064  essing content d
+00048180: 6972 6563 746c 7920 6672 6f6d 2072 656d  irectly from rem
+00048190: 6f74 6520 686f 6d65 7365 7276 6572 732e  ote homeservers.
+000481a0: 0a2d 2020 2049 6d70 6c65 6d65 6e74 2065  .-   Implement e
+000481b0: 7870 6f6e 656e 7469 616c 2062 6163 6b6f  xponential backo
+000481c0: 6666 2077 6865 6e20 7265 7472 7969 6e67  ff when retrying
+000481d0: 2066 6564 6572 6174 696f 6e20 7265 7175   federation requ
+000481e0: 6573 7473 2077 6865 6e20 7365 6e64 696e  ests when sendin
+000481f0: 6720 746f 2072 656d 6f74 6520 686f 6d65  g to remote home
+00048200: 7365 7276 6572 7320 7768 6963 6820 6172  servers which ar
+00048210: 6520 6f66 666c 696e 652e 0a2d 2020 2049  e offline..-   I
+00048220: 6d70 6c65 6d65 6e74 2074 7970 696e 6720  mplement typing 
+00048230: 6e6f 7469 6669 6361 7469 6f6e 732e 0a2d  notifications..-
+00048240: 2020 2046 6978 2062 7567 7320 7768 6572     Fix bugs wher
+00048250: 6520 7765 2073 656e 7420 6576 656e 7473  e we sent events
+00048260: 2077 6974 6820 696e 7661 6c69 6420 7369   with invalid si
+00048270: 676e 6174 7572 6573 2064 7565 2074 6f20  gnatures due to 
+00048280: 6275 6773 2077 6865 7265 2077 6520 696e  bugs where we in
+00048290: 636f 7272 6563 746c 7920 7065 7273 6973  correctly persis
+000482a0: 7465 6420 6576 656e 7473 2e0a 2d20 2020  ted events..-   
+000482b0: 496d 7072 6f76 6520 7065 7266 6f72 6d61  Improve performa
+000482c0: 6e63 6520 6f66 2064 6174 6162 6173 6520  nce of database 
+000482d0: 7175 6572 6965 7320 696e 766f 6c76 696e  queries involvin
+000482e0: 6720 7265 7472 6965 7669 6e67 2065 7665  g retrieving eve
+000482f0: 6e74 732e 0a0a 4368 616e 6765 7320 696e  nts...Changes in
+00048300: 2073 796e 6170 7365 2030 2e35 2e34 6120   synapse 0.5.4a 
+00048310: 2832 3031 342d 3132 2d31 3329 0a3d 3d3d  (2014-12-13).===
+00048320: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00048330: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00048340: 3d3d 3d0a 0a2d 2020 2046 6978 2062 7567  ===..-   Fix bug
+00048350: 2077 6869 6c65 2067 656e 6572 6174 696e   while generatin
+00048360: 6720 7468 6520 6572 726f 7220 6d65 7373  g the error mess
+00048370: 6167 6520 7768 656e 2061 2066 696c 6520  age when a file 
+00048380: 7061 7468 2073 7065 6369 6669 6564 2069  path specified i
+00048390: 6e20 7468 6520 636f 6e66 6967 2064 6f65  n the config doe
+000483a0: 736e 5c27 7420 6578 6973 742e 0a0a 4368  sn\'t exist...Ch
+000483b0: 616e 6765 7320 696e 2073 796e 6170 7365  anges in synapse
+000483c0: 2030 2e35 2e34 2028 3230 3134 2d31 322d   0.5.4 (2014-12-
+000483d0: 3033 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  03).============
+000483e0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000483f0: 3d3d 3d3d 3d3d 3d3d 3d0a 0a2d 2020 2046  =========..-   F
+00048400: 6978 2070 7265 7365 6e63 6520 6275 6720  ix presence bug 
+00048410: 7768 6572 6520 736f 6d65 2072 6f6f 6d73  where some rooms
+00048420: 2064 6964 206e 6f74 2064 6973 706c 6179   did not display
+00048430: 2070 7265 7365 6e63 6520 7570 6461 7465   presence update
+00048440: 7320 666f 7220 7265 6d6f 7465 2075 7365  s for remote use
+00048450: 7273 2e0a 2d20 2020 446f 206e 6f74 206c  rs..-   Do not l
+00048460: 6f67 2053 514c 2074 696d 696e 6720 6c6f  og SQL timing lo
+00048470: 6720 6c69 6e65 7320 7768 656e 2073 7461  g lines when sta
+00048480: 7274 6564 2077 6974 6820 5c22 2d76 5c22  rted with \"-v\"
+00048490: 0a2d 2020 2046 6978 2070 6f74 656e 7469  .-   Fix potenti
+000484a0: 616c 206d 656d 6f72 7920 6c65 616b 2e0a  al memory leak..
+000484b0: 0a43 6861 6e67 6573 2069 6e20 7379 6e61  .Changes in syna
+000484c0: 7073 6520 302e 352e 3363 2028 3230 3134  pse 0.5.3c (2014
+000484d0: 2d31 322d 3032 290a 3d3d 3d3d 3d3d 3d3d  -12-02).========
+000484e0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000484f0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a  ==============..
+00048500: 2d20 2020 4368 616e 6765 2074 6865 2064  -   Change the d
+00048510: 6566 6175 6c74 2076 616c 7565 2066 6f72  efault value for
+00048520: 2074 6865 2063 6f6e 7465 6e74 5c5f 6164   the content\_ad
+00048530: 6472 206f 7074 696f 6e20 746f 2075 7365  dr option to use
+00048540: 2074 6865 2048 5454 5020 6c69 7374 656e   the HTTP listen
+00048550: 6572 2c20 6173 2062 7920 6465 6661 756c  er, as by defaul
+00048560: 7420 7468 6520 4854 5450 5320 6c69 7374  t the HTTPS list
+00048570: 656e 6572 2077 696c 6c20 6265 2075 7369  ener will be usi
+00048580: 6e67 2061 2073 656c 662d 7369 676e 6564  ng a self-signed
+00048590: 2063 6572 7469 6669 6361 7465 2e0a 0a43   certificate...C
+000485a0: 6861 6e67 6573 2069 6e20 7379 6e61 7073  hanges in synaps
+000485b0: 6520 302e 352e 3320 2832 3031 342d 3131  e 0.5.3 (2014-11
+000485c0: 2d32 3729 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d  -27).===========
+000485d0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000485e0: 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 2d20 2020  ==========..-   
+000485f0: 4669 7820 6275 6720 7468 6174 2063 6175  Fix bug that cau
+00048600: 7365 6420 6a6f 696e 696e 6720 6120 7265  sed joining a re
+00048610: 6d6f 7465 2072 6f6f 6d20 746f 2066 6169  mote room to fai
+00048620: 6c20 6966 2061 2073 696e 676c 6520 6576  l if a single ev
+00048630: 656e 7420 7761 7320 6e6f 7420 7369 676e  ent was not sign
+00048640: 6564 2063 6f72 7265 6374 6c79 2e0a 2d20  ed correctly..- 
+00048650: 2020 4669 7820 6275 6720 7768 6963 6820    Fix bug which 
+00048660: 6361 7573 6564 2073 6572 7665 7273 2074  caused servers t
+00048670: 6f20 636f 6e74 696e 756f 7573 6c79 2074  o continuously t
+00048680: 7279 2061 6e64 2066 6574 6368 2065 7665  ry and fetch eve
+00048690: 6e74 7320 6672 6f6d 206f 7468 6572 2073  nts from other s
+000486a0: 6572 7665 7273 2e0a 0a43 6861 6e67 6573  ervers...Changes
+000486b0: 2069 6e20 7379 6e61 7073 6520 302e 352e   in synapse 0.5.
+000486c0: 3220 2832 3031 342d 3131 2d32 3629 0a3d  2 (2014-11-26).=
 000486d0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
 000486e0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-000486f0: 3d0a 0a54 6869 7320 7265 6c65 6173 6520  =..This release 
-00048700: 696e 636c 7564 6573 2063 6861 6e67 6573  includes changes
-00048710: 2074 6f20 7468 6520 6665 6465 7261 7469   to the federati
-00048720: 6f6e 2070 726f 746f 636f 6c20 616e 6420  on protocol and 
-00048730: 636c 6965 6e74 2d73 6572 7665 7220 4150  client-server AP
-00048740: 4920 7468 6174 2069 7320 6e6f 7420 6261  I that is not ba
-00048750: 636b 7761 7264 7320 636f 6d70 6174 6962  ckwards compatib
-00048760: 6c65 2e0a 0a54 6869 7320 7265 6c65 6173  le...This releas
-00048770: 6520 616c 736f 2063 6861 6e67 6573 2074  e also changes t
-00048780: 6865 2069 6e74 6572 6e61 6c20 6461 7461  he internal data
-00048790: 6261 7365 2073 6368 656d 6173 2061 6e64  base schemas and
-000487a0: 2073 6f20 7265 7175 6972 6573 2073 6572   so requires ser
-000487b0: 7665 7273 2074 6f20 6472 6f70 2074 6865  vers to drop the
-000487c0: 6972 2063 7572 7265 6e74 2068 6973 746f  ir current histo
-000487d0: 7279 2e20 5365 6520 5550 4752 4144 4553  ry. See UPGRADES
-000487e0: 2e72 7374 2066 6f72 2064 6574 6169 6c73  .rst for details
-000487f0: 2e0a 0a48 6f6d 6573 6572 7665 723a 0a0a  ...Homeserver:..
-00048800: 3a20 2020 2d20 2020 4164 6420 6175 7468  :   -   Add auth
-00048810: 656e 7469 6361 7469 6f6e 2061 6e64 2061  entication and a
-00048820: 7574 686f 7269 7a61 7469 6f6e 2074 6f20  uthorization to 
-00048830: 7468 6520 6665 6465 7261 7469 6f6e 2070  the federation p
-00048840: 726f 746f 636f 6c2e 2045 7665 6e74 7320  rotocol. Events 
-00048850: 6172 6520 6e6f 7720 7369 676e 6564 2062  are now signed b
-00048860: 7920 7468 6569 7220 6f72 6967 696e 6174  y their originat
-00048870: 696e 6720 686f 6d65 7365 7276 6572 732e  ing homeservers.
-00048880: 0a20 2020 202d 2020 2049 6d70 6c65 6d65  .    -   Impleme
-00048890: 6e74 2074 6865 206e 6577 2061 7574 686f  nt the new autho
-000488a0: 7269 7a61 7469 6f6e 206d 6f64 656c 2066  rization model f
-000488b0: 6f72 2072 6f6f 6d73 2e0a 2020 2020 2d20  or rooms..    - 
-000488c0: 2020 5370 6c69 7420 6f75 7420 7765 6220    Split out web 
-000488d0: 636c 6965 6e74 2069 6e74 6f20 6120 7365  client into a se
-000488e0: 7065 7261 7465 2072 6570 6f73 6974 6f72  perate repositor
-000488f0: 793a 206d 6174 7269 782d 616e 6775 6c61  y: matrix-angula
-00048900: 722d 7364 6b2e 0a20 2020 202d 2020 2043  r-sdk..    -   C
-00048910: 6861 6e67 6520 7468 6520 7374 7275 6374  hange the struct
-00048920: 7572 6520 6f66 2050 4455 732e 0a20 2020  ure of PDUs..   
-00048930: 202d 2020 2046 6978 2062 7567 2077 6865   -   Fix bug whe
-00048940: 7265 2075 7365 7220 636f 756c 6420 6e6f  re user could no
-00048950: 7420 6a6f 696e 2072 6f6f 6d73 2076 6961  t join rooms via
-00048960: 2061 6e20 616c 6961 7320 636f 6e74 6169   an alias contai
-00048970: 6e69 6e67 2034 2d62 7974 6520 5554 462d  ning 4-byte UTF-
-00048980: 3820 6368 6172 6163 7465 7273 2e0a 2020  8 characters..  
-00048990: 2020 2d20 2020 4d65 7267 6520 636f 6e63    -   Merge conc
-000489a0: 6570 7420 6f66 2050 4455 7320 616e 6420  ept of PDUs and 
-000489b0: 4576 656e 7473 2069 6e74 6572 6e61 6c6c  Events internall
-000489c0: 792e 0a20 2020 202d 2020 2049 6d70 726f  y..    -   Impro
-000489d0: 7665 206c 6f67 6769 6e67 2062 7920 6164  ve logging by ad
-000489e0: 6469 6e67 2072 6571 7565 7374 2069 6473  ding request ids
-000489f0: 2074 6f20 6c6f 6720 6c69 6e65 732e 0a20   to log lines.. 
-00048a00: 2020 202d 2020 2049 6d70 6c65 6d65 6e74     -   Implement
-00048a10: 2061 2076 6572 7920 6261 7369 6320 726f   a very basic ro
-00048a20: 6f6d 2069 6e69 7469 616c 2073 796e 6320  om initial sync 
-00048a30: 4150 492e 0a20 2020 202d 2020 2049 6d70  API..    -   Imp
-00048a40: 6c65 6d65 6e74 2074 6865 206e 6577 2069  lement the new i
-00048a50: 6e76 6974 652f 6a6f 696e 2066 6564 6572  nvite/join feder
-00048a60: 6174 696f 6e20 4150 4973 2e0a 0a57 6562  ation APIs...Web
-00048a70: 636c 6965 6e74 3a0a 0a3a 2020 202d 2020  client:..:   -  
-00048a80: 2054 6865 2077 6562 636c 6965 6e74 2068   The webclient h
-00048a90: 6173 2062 6565 6e20 6d6f 7665 6420 746f  as been moved to
-00048aa0: 2061 2073 6570 6572 6174 6520 7265 706f   a seperate repo
-00048ab0: 7369 746f 7279 2e0a 0a43 6861 6e67 6573  sitory...Changes
-00048ac0: 2069 6e20 7379 6e61 7073 6520 302e 342e   in synapse 0.4.
-00048ad0: 3220 2832 3031 342d 3130 2d33 3129 0a3d  2 (2014-10-31).=
-00048ae0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00048af0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00048b00: 3d3d 3d3d 0a0a 486f 6d65 7365 7276 6572  ====..Homeserver
-00048b10: 3a0a 0a3a 2020 202d 2020 2046 6978 2062  :..:   -   Fix b
-00048b20: 7567 7320 7768 6572 6520 7765 2064 6964  ugs where we did
-00048b30: 206e 6f74 206e 6f74 6966 7920 7573 6572   not notify user
-00048b40: 7320 6f66 2063 6f72 7265 6374 2070 7265  s of correct pre
-00048b50: 7365 6e63 6520 7570 6461 7465 732e 0a20  sence updates.. 
-00048b60: 2020 202d 2020 2046 6978 2062 7567 2077     -   Fix bug w
-00048b70: 6865 7265 2077 6520 6469 6420 6e6f 7420  here we did not 
-00048b80: 6861 6e64 6c65 2073 7562 2073 6563 6f6e  handle sub secon
-00048b90: 6420 6576 656e 7420 7374 7265 616d 2074  d event stream t
-00048ba0: 696d 656f 7574 732e 0a0a 5765 6263 6c69  imeouts...Webcli
-00048bb0: 656e 743a 0a0a 3a20 2020 2d20 2020 4164  ent:..:   -   Ad
-00048bc0: 6420 6162 696c 6974 7920 746f 2063 6c69  d ability to cli
-00048bd0: 636b 206f 6e20 6d65 7373 6167 6573 2074  ck on messages t
-00048be0: 6f20 7365 6520 4a53 4f4e 2e0a 2020 2020  o see JSON..    
-00048bf0: 2d20 2020 4164 6420 6162 696c 6974 7920  -   Add ability 
-00048c00: 746f 2072 6564 6163 7420 6d65 7373 6167  to redact messag
-00048c10: 6573 2e0a 2020 2020 2d20 2020 4164 6420  es..    -   Add 
-00048c20: 6162 696c 6974 7920 746f 2076 6965 7720  ability to view 
-00048c30: 616e 6420 6564 6974 2061 6c6c 2072 6f6f  and edit all roo
-00048c40: 6d20 7374 6174 6520 4a53 4f4e 2e0a 2020  m state JSON..  
-00048c50: 2020 2d20 2020 4861 6e64 6c65 2069 6e63    -   Handle inc
-00048c60: 6f6d 696e 6720 7265 6461 6374 696f 6e73  oming redactions
-00048c70: 2e0a 2020 2020 2d20 2020 496d 7072 6f76  ..    -   Improv
-00048c80: 6520 6665 6564 6261 636b 206f 6e20 6572  e feedback on er
-00048c90: 726f 7273 2e0a 2020 2020 2d20 2020 4669  rors..    -   Fi
-00048ca0: 7820 6275 6773 2069 6e20 6d6f 6269 6c65  x bugs in mobile
-00048cb0: 2043 5353 2e0a 2020 2020 2d20 2020 4669   CSS..    -   Fi
-00048cc0: 7820 6275 6773 2077 6974 6820 6465 736b  x bugs with desk
-00048cd0: 746f 7020 6e6f 7469 6669 6361 7469 6f6e  top notification
-00048ce0: 732e 0a0a 4368 616e 6765 7320 696e 2073  s...Changes in s
-00048cf0: 796e 6170 7365 2030 2e34 2e31 2028 3230  ynapse 0.4.1 (20
-00048d00: 3134 2d31 302d 3137 290a 3d3d 3d3d 3d3d  14-10-17).======
-00048d10: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00048d20: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a  ===============.
-00048d30: 0a57 6562 636c 6965 6e74 3a0a 0a3a 2020  .Webclient:..:  
-00048d40: 202d 2020 2046 6978 2062 7567 2077 6974   -   Fix bug wit
-00048d50: 6820 6469 7370 6c61 7920 6f66 2074 696d  h display of tim
-00048d60: 6573 7461 6d70 732e 0a0a 4368 616e 6765  estamps...Change
-00048d70: 7320 696e 2073 796e 7061 7365 2030 2e34  s in synpase 0.4
-00048d80: 2e30 2028 3230 3134 2d31 302d 3137 290a  .0 (2014-10-17).
-00048d90: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00048da0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00048db0: 3d3d 3d3d 3d0a 0a54 6869 7320 7265 6c65  =====..This rele
-00048dc0: 6173 6520 696e 636c 7564 6573 2063 6861  ase includes cha
-00048dd0: 6e67 6573 2074 6f20 7468 6520 6665 6465  nges to the fede
-00048de0: 7261 7469 6f6e 2070 726f 746f 636f 6c20  ration protocol 
-00048df0: 616e 6420 636c 6965 6e74 2d73 6572 7665  and client-serve
-00048e00: 7220 4150 4920 7468 6174 2069 7320 6e6f  r API that is no
-00048e10: 7420 6261 636b 7761 7264 7320 636f 6d70  t backwards comp
-00048e20: 6174 6962 6c65 2e0a 0a54 6865 204d 6174  atible...The Mat
-00048e30: 7269 7820 7370 6563 6966 6963 6174 696f  rix specificatio
-00048e40: 6e20 6861 7320 6265 656e 206d 6f76 6564  n has been moved
-00048e50: 2074 6f20 6120 7365 7061 7261 7465 2067   to a separate g
-00048e60: 6974 2072 6570 6f73 6974 6f72 793a 203c  it repository: <
-00048e70: 6874 7470 3a2f 2f67 6974 6875 622e 636f  http://github.co
-00048e80: 6d2f 6d61 7472 6978 2d6f 7267 2f6d 6174  m/matrix-org/mat
-00048e90: 7269 782d 646f 633e 0a0a 596f 7520 7769  rix-doc>..You wi
-00048ea0: 6c6c 2061 6c73 6f20 6e65 6564 2061 6e20  ll also need an 
-00048eb0: 7570 6461 7465 6420 7379 7574 696c 2061  updated syutil a
-00048ec0: 6e64 2063 6f6e 6669 672e 2053 6565 2055  nd config. See U
-00048ed0: 5047 5241 4445 532e 7273 742e 0a0a 486f  PGRADES.rst...Ho
-00048ee0: 6d65 7365 7276 6572 3a0a 0a3a 2020 202d  meserver:..:   -
-00048ef0: 2020 2053 6967 6e20 6665 6465 7261 7469     Sign federati
-00048f00: 6f6e 2074 7261 6e73 6163 7469 6f6e 7320  on transactions 
-00048f10: 746f 2061 7373 6572 7420 7374 726f 6e67  to assert strong
-00048f20: 2069 6465 6e74 6974 7920 6f76 6572 2066   identity over f
-00048f30: 6564 6572 6174 696f 6e2e 0a20 2020 202d  ederation..    -
-00048f40: 2020 2052 656e 616d 6520 7469 6d65 7374     Rename timest
-00048f50: 616d 7020 6b65 7973 2069 6e20 5044 5573  amp keys in PDUs
-00048f60: 2061 6e64 2065 7665 6e74 7320 6672 6f6d   and events from
-00048f70: 205c 2774 735c 2720 616e 6420 5c27 6873   \'ts\' and \'hs
-00048f80: 6f62 5c5f 7473 5c27 2074 6f20 5c27 6f72  ob\_ts\' to \'or
-00048f90: 6967 696e 5c5f 7365 7276 6572 5c5f 7473  igin\_server\_ts
-00048fa0: 5c27 2e0a 0a43 6861 6e67 6573 2069 6e20  \'...Changes in 
-00048fb0: 7379 6e61 7073 6520 302e 332e 3420 2832  synapse 0.3.4 (2
-00048fc0: 3031 342d 3039 2d32 3529 0a3d 3d3d 3d3d  014-09-25).=====
-00048fd0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00048fe0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00048ff0: 0a0a 5468 6973 2076 6572 7369 6f6e 2061  ..This version a
-00049000: 6464 7320 7375 7070 6f72 7420 666f 7220  dds support for 
-00049010: 7573 696e 6720 6120 5455 524e 2073 6572  using a TURN ser
-00049020: 7665 722e 2053 6565 2064 6f63 732f 7475  ver. See docs/tu
-00049030: 726e 2d68 6f77 746f 2e72 7374 206f 6e20  rn-howto.rst on 
-00049040: 686f 7720 746f 2073 6574 206f 6e65 2075  how to set one u
-00049050: 702e 0a0a 486f 6d65 7365 7276 6572 3a0a  p...Homeserver:.
-00049060: 0a3a 2020 202d 2020 2041 6464 2073 7570  .:   -   Add sup
-00049070: 706f 7274 2066 6f72 2072 6564 6163 7469  port for redacti
-00049080: 6f6e 206f 6620 6d65 7373 6167 6573 2e0a  on of messages..
-00049090: 2020 2020 2d20 2020 4669 7820 6275 6720      -   Fix bug 
-000490a0: 7768 6572 6520 696e 7669 7469 6e67 2061  where inviting a
-000490b0: 2075 7365 7220 6f6e 2061 2072 656d 6f74   user on a remot
-000490c0: 6520 686f 6d65 2073 6572 7665 7220 636f  e home server co
-000490d0: 756c 6420 7461 6b65 2075 7020 746f 2032  uld take up to 2
-000490e0: 302d 3330 732e 0a20 2020 202d 2020 2049  0-30s..    -   I
-000490f0: 6d70 6c65 6d65 6e74 2061 2067 6574 2063  mplement a get c
-00049100: 7572 7265 6e74 2072 6f6f 6d20 7374 6174  urrent room stat
-00049110: 6520 4150 492e 0a20 2020 202d 2020 2041  e API..    -   A
-00049120: 6464 2073 7570 706f 7274 2073 7065 6369  dd support speci
-00049130: 6679 696e 6720 616e 6420 7265 7472 6965  fying and retrie
-00049140: 7669 6e67 2074 7572 6e20 7365 7276 6572  ving turn server
-00049150: 2063 6f6e 6669 6775 7261 7469 6f6e 2e0a   configuration..
-00049160: 0a57 6562 636c 6965 6e74 3a0a 0a3a 2020  .Webclient:..:  
-00049170: 202d 2020 2041 6464 2062 7574 746f 6e20   -   Add button 
-00049180: 746f 2073 656e 6420 6d65 7373 6167 6573  to send messages
-00049190: 2074 6f20 7573 6572 7320 6672 6f6d 2074   to users from t
-000491a0: 6865 2068 6f6d 6520 7061 6765 2e0a 2020  he home page..  
-000491b0: 2020 2d20 2020 4164 6420 7375 7070 6f72    -   Add suppor
-000491c0: 7420 666f 7220 7573 696e 6720 5455 524e  t for using TURN
-000491d0: 2066 6f72 2056 6f49 5020 6361 6c6c 732e   for VoIP calls.
-000491e0: 0a20 2020 202d 2020 2053 686f 7720 6469  .    -   Show di
-000491f0: 7370 6c61 7920 6e61 6d65 2063 6861 6e67  splay name chang
-00049200: 6520 6d65 7373 6167 6573 2e0a 2020 2020  e messages..    
-00049210: 2d20 2020 4669 7820 6275 6720 7768 6572  -   Fix bug wher
-00049220: 6520 7468 6520 636c 6965 6e74 2064 6964  e the client did
-00049230: 6e5c 2774 2067 6574 2074 6865 2073 7461  n\'t get the sta
-00049240: 7465 206f 6620 6120 6e65 776c 7920 6a6f  te of a newly jo
-00049250: 696e 6564 2072 6f6f 6d20 756e 7469 6c20  ined room until 
-00049260: 6166 7465 7220 6974 2068 6173 2062 6565  after it has bee
-00049270: 6e20 7265 6672 6573 6865 642e 0a20 2020  n refreshed..   
-00049280: 202d 2020 2046 6978 2062 7567 7320 7769   -   Fix bugs wi
-00049290: 7468 2074 6162 2063 6f6d 706c 6574 652e  th tab complete.
-000492a0: 0a20 2020 202d 2020 2046 6978 2062 7567  .    -   Fix bug
-000492b0: 2077 6865 7265 2068 6f6c 6469 6e67 2064   where holding d
-000492c0: 6f77 6e20 7468 6520 646f 776e 2061 7272  own the down arr
-000492d0: 6f77 2063 6175 7365 6420 6368 726f 6d65  ow caused chrome
-000492e0: 2074 6f20 6368 6577 2031 3030 2520 4350   to chew 100% CP
-000492f0: 552e 0a20 2020 202d 2020 2046 6978 2062  U..    -   Fix b
-00049300: 7567 2077 6865 7265 2064 6573 6b74 6f70  ug where desktop
-00049310: 206e 6f74 6966 6963 6174 696f 6e73 206f   notifications o
-00049320: 6363 6173 696f 6e61 6c6c 7920 7573 6564  ccasionally used
-00049330: 205c 2255 6e64 6566 696e 6564 5c22 2061   \"Undefined\" a
-00049340: 7320 7468 6520 6469 7370 6c61 7920 6e61  s the display na
-00049350: 6d65 2e0a 2020 2020 2d20 2020 4669 7820  me..    -   Fix 
-00049360: 6d6f 7265 2070 6c61 6365 7320 7768 6572  more places wher
-00049370: 6520 7765 2073 6f6d 6574 696d 6573 2073  e we sometimes s
-00049380: 6177 2072 6f6f 6d20 4944 7320 696e 636f  aw room IDs inco
-00049390: 7272 6563 746c 792e 0a20 2020 202d 2020  rrectly..    -  
-000493a0: 2046 6978 2062 7567 2077 6869 6368 2063   Fix bug which c
-000493b0: 6175 7365 6420 6c61 6720 7768 656e 2065  aused lag when e
-000493c0: 6e74 6572 696e 6720 7465 7874 2069 6e20  ntering text in 
-000493d0: 7468 6520 7465 7874 2062 6f78 2e0a 0a43  the text box...C
-000493e0: 6861 6e67 6573 2069 6e20 7379 6e61 7073  hanges in synaps
-000493f0: 6520 302e 332e 3320 2832 3031 342d 3039  e 0.3.3 (2014-09
-00049400: 2d32 3229 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d  -22).===========
-00049410: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00049420: 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 486f 6d65  ==========..Home
-00049430: 7365 7276 6572 3a0a 0a3a 2020 202d 2020  server:..:   -  
-00049440: 2046 6978 2062 7567 2077 6865 7265 2079   Fix bug where y
-00049450: 6f75 2063 6f6e 7469 6e75 6564 2074 6f20  ou continued to 
-00049460: 6765 7420 6576 656e 7473 2066 6f72 2072  get events for r
-00049470: 6f6f 6d73 2079 6f75 2068 6164 206c 6566  ooms you had lef
-00049480: 742e 0a0a 5765 6263 6c69 656e 743a 0a0a  t...Webclient:..
-00049490: 3a20 2020 2d20 2020 4164 6420 7375 7070  :   -   Add supp
-000494a0: 6f72 7420 666f 7220 7669 6465 6f20 6361  ort for video ca
-000494b0: 6c6c 7320 7769 7468 2062 6173 6963 2055  lls with basic U
-000494c0: 492e 0a20 2020 202d 2020 2046 6978 2062  I..    -   Fix b
-000494d0: 7567 2077 6865 7265 206f 6e65 2074 6f20  ug where one to 
-000494e0: 6f6e 6520 6368 6174 7320 7765 7265 206e  one chats were n
-000494f0: 616d 6564 2061 6674 6572 2079 6f75 7220  amed after your 
-00049500: 6469 7370 6c61 7920 6e61 6d65 2072 6174  display name rat
-00049510: 6865 7220 7468 616e 2074 6865 206f 7468  her than the oth
-00049520: 6572 2070 6572 736f 6e5c 2773 2e0a 2020  er person\'s..  
-00049530: 2020 2d20 2020 4669 7820 6275 6720 7768    -   Fix bug wh
-00049540: 6963 6820 6361 7573 6564 206c 6167 2077  ich caused lag w
-00049550: 6865 6e20 7479 7069 6e67 2069 6e20 7468  hen typing in th
-00049560: 6520 7465 7874 6172 6561 2e0a 2020 2020  e textarea..    
-00049570: 2d20 2020 5265 6675 7365 2074 6f20 7275  -   Refuse to ru
-00049580: 6e20 6f6e 2062 726f 7773 6572 7320 7765  n on browsers we
-00049590: 206b 6e6f 7720 776f 6e5c 2774 2077 6f72   know won\'t wor
-000495a0: 6b2e 0a20 2020 202d 2020 2054 7269 6767  k..    -   Trigg
-000495b0: 6572 2070 6167 696e 6174 696f 6e20 7768  er pagination wh
-000495c0: 656e 206a 6f69 6e69 6e67 206e 6577 2072  en joining new r
-000495d0: 6f6f 6d73 2e0a 2020 2020 2d20 2020 4669  ooms..    -   Fi
-000495e0: 7820 6275 6720 7768 6572 6520 7765 2073  x bug where we s
-000495f0: 6f6d 6574 696d 6573 2064 6964 6e5c 2774  ometimes didn\'t
-00049600: 2064 6973 706c 6179 2069 6e76 6974 6174   display invitat
-00049610: 696f 6e73 2069 6e20 7265 6365 6e74 732e  ions in recents.
-00049620: 0a20 2020 202d 2020 2041 7574 6f6d 6174  .    -   Automat
-00049630: 6963 616c 6c79 206a 6f69 6e20 726f 6f6d  ically join room
-00049640: 2077 6865 6e20 6163 6365 7074 696e 6720   when accepting 
-00049650: 6120 566f 4950 2063 616c 6c2e 0a20 2020  a VoIP call..   
-00049660: 202d 2020 2044 6973 6162 6c65 206f 7574   -   Disable out
-00049670: 676f 696e 6720 616e 6420 7265 6a65 6374  going and reject
-00049680: 2069 6e63 6f6d 696e 6720 6361 6c6c 7320   incoming calls 
-00049690: 6f6e 2062 726f 7773 6572 7320 7765 2064  on browsers we d
-000496a0: 6f6e 5c27 7420 7375 7070 6f72 7420 566f  on\'t support Vo
-000496b0: 4950 2069 6e2e 0a20 2020 202d 2020 2044  IP in..    -   D
-000496c0: 6f6e 5c27 7420 6469 7370 6c61 7920 6465  on\'t display de
-000496d0: 736b 746f 7020 6e6f 7469 6669 6361 7469  sktop notificati
-000496e0: 6f6e 7320 666f 7220 6d65 7373 6167 6573  ons for messages
-000496f0: 2069 6e20 7468 6520 726f 6f6d 2079 6f75   in the room you
-00049700: 2061 7265 206e 6f6e 2d69 646c 6520 616e   are non-idle an
-00049710: 6420 7370 6561 6b69 6e67 2069 6e2e 0a0a  d speaking in...
-00049720: 4368 616e 6765 7320 696e 2073 796e 6170  Changes in synap
-00049730: 7365 2030 2e33 2e32 2028 3230 3134 2d30  se 0.3.2 (2014-0
-00049740: 392d 3138 290a 3d3d 3d3d 3d3d 3d3d 3d3d  9-18).==========
-00049750: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00049760: 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a57 6562  ===========..Web
-00049770: 636c 6965 6e74 3a0a 0a3a 2020 202d 2020  client:..:   -  
-00049780: 2046 6978 2062 7567 2077 6865 7265 2061   Fix bug where a
-00049790: 6e20 656d 7074 7920 5c22 6269 6e67 2077  n empty \"bing w
-000497a0: 6f72 6473 5c22 206c 6973 7420 696e 206f  ords\" list in o
-000497b0: 6c64 2061 6363 6f75 6e74 7320 6469 646e  ld accounts didn
-000497c0: 5c27 7420 7365 6e64 206e 6f74 6966 6963  \'t send notific
-000497d0: 6174 696f 6e73 2077 6865 6e20 6974 2073  ations when it s
-000497e0: 686f 756c 6420 6861 7665 2064 6f6e 652e  hould have done.
-000497f0: 0a0a 4368 616e 6765 7320 696e 2073 796e  ..Changes in syn
-00049800: 6170 7365 2030 2e33 2e31 2028 3230 3134  apse 0.3.1 (2014
-00049810: 2d30 392d 3138 290a 3d3d 3d3d 3d3d 3d3d  -09-18).========
-00049820: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00049830: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a54  =============..T
-00049840: 6869 7320 6973 2061 2072 656c 6561 7365  his is a release
-00049850: 2074 6f20 686f 7466 6978 2076 302e 332e   to hotfix v0.3.
-00049860: 3020 746f 2066 6978 2074 776f 2072 6567  0 to fix two reg
-00049870: 7265 7373 696f 6e73 2e0a 0a57 6562 636c  ressions...Webcl
-00049880: 6965 6e74 3a0a 0a3a 2020 202d 2020 2046  ient:..:   -   F
-00049890: 6978 2061 2072 6567 7265 7373 696f 6e20  ix a regression 
-000498a0: 7768 6572 6520 7765 2073 6f6d 6574 696d  where we sometim
-000498b0: 6573 2064 6973 706c 6179 6564 2064 7570  es displayed dup
-000498c0: 6c69 6361 7465 2065 7665 6e74 732e 0a20  licate events.. 
-000498d0: 2020 202d 2020 2046 6978 2061 2072 6567     -   Fix a reg
-000498e0: 7265 7373 696f 6e20 7768 6572 6520 7765  ression where we
-000498f0: 2064 6964 6e5c 2774 2069 6d6d 6564 6961   didn\'t immedia
-00049900: 7465 6c79 2072 656d 6f76 6520 726f 6f6d  tely remove room
-00049910: 7320 796f 7520 7765 7265 2062 616e 6e65  s you were banne
-00049920: 6420 696e 2066 726f 6d20 7468 6520 7265  d in from the re
-00049930: 6365 6e74 7320 6c69 7374 2e0a 0a43 6861  cents list...Cha
-00049940: 6e67 6573 2069 6e20 7379 6e61 7073 6520  nges in synapse 
-00049950: 302e 332e 3020 2832 3031 342d 3039 2d31  0.3.0 (2014-09-1
-00049960: 3829 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  8).=============
-00049970: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-00049980: 3d3d 3d3d 3d3d 3d3d 0a0a 5365 6520 5550  ========..See UP
-00049990: 4752 4144 4520 666f 7220 696e 666f 726d  GRADE for inform
-000499a0: 6174 696f 6e20 6162 6f75 7420 6368 616e  ation about chan
-000499b0: 6765 7320 746f 2074 6865 2063 6c69 656e  ges to the clien
-000499c0: 7420 7365 7276 6572 2041 5049 2c20 696e  t server API, in
-000499d0: 636c 7564 696e 6720 6272 6561 6b69 6e67  cluding breaking
-000499e0: 2062 6163 6b77 6172 6473 2063 6f6d 7061   backwards compa
-000499f0: 7469 6269 6c69 7479 2077 6974 6820 566f  tibility with Vo
-00049a00: 4950 2063 616c 6c73 2061 6e64 2072 6567  IP calls and reg
-00049a10: 6973 7472 6174 696f 6e20 4150 492e 0a0a  istration API...
-00049a20: 486f 6d65 7365 7276 6572 3a0a 0a3a 2020  Homeserver:..:  
-00049a30: 202d 2020 2057 6865 6e20 6120 7573 6572   -   When a user
-00049a40: 2063 6861 6e67 6573 2074 6865 6972 2064   changes their d
-00049a50: 6973 706c 6179 6e61 6d65 206f 7220 6176  isplayname or av
-00049a60: 6174 6172 2074 6865 2073 6572 7665 7220  atar the server 
-00049a70: 7769 6c6c 206e 6f77 2075 7064 6174 6520  will now update 
-00049a80: 616c 6c20 7468 6569 7220 6a6f 696e 2073  all their join s
-00049a90: 7461 7465 7320 746f 2072 6566 6c65 6374  tates to reflect
-00049aa0: 2074 6869 732e 0a20 2020 202d 2020 2054   this..    -   T
-00049ab0: 6865 2073 6572 7665 7220 6e6f 7720 6164  he server now ad
-00049ac0: 6473 205c 2261 6765 5c22 206b 6579 2074  ds \"age\" key t
-00049ad0: 6f20 6576 656e 7473 2074 6f20 696e 6469  o events to indi
-00049ae0: 6361 7465 2068 6f77 206f 6c64 2074 6865  cate how old the
-00049af0: 7920 6172 652e 2054 6869 7320 6973 2063  y are. This is c
-00049b00: 6c6f 636b 2069 6e64 6570 656e 6465 6e74  lock independent
-00049b10: 2c20 736f 2061 7420 6e6f 2070 6f69 6e74  , so at no point
-00049b20: 2064 6f65 7320 616e 7920 7365 7276 6572   does any server
-00049b30: 206f 7220 7765 6263 6c69 656e 7420 6861   or webclient ha
-00049b40: 7665 2074 6f20 6173 7375 6d65 2074 6865  ve to assume the
-00049b50: 6972 2063 6c6f 636b 2069 7320 696e 2073  ir clock is in s
-00049b60: 796e 6320 7769 7468 2065 7665 7279 6f6e  ync with everyon
-00049b70: 6520 656c 7365 2e0a 2020 2020 2d20 2020  e else..    -   
-00049b80: 4669 7820 6275 6720 7768 6572 6520 7765  Fix bug where we
-00049b90: 2064 6964 6e5c 2774 2063 6f72 7265 6374   didn\'t correct
-00049ba0: 6c79 2070 756c 6c20 696e 206d 6973 7369  ly pull in missi
-00049bb0: 6e67 2050 4455 732e 0a20 2020 202d 2020  ng PDUs..    -  
-00049bc0: 2046 6978 2062 7567 2077 6865 7265 2070   Fix bug where p
-00049bd0: 7265 765c 5f63 6f6e 7465 6e74 206b 6579  rev\_content key
-00049be0: 2077 6173 6e5c 2774 2061 6c77 6179 7320   wasn\'t always 
-00049bf0: 7265 7475 726e 6564 2e0a 2020 2020 2d20  returned..    - 
-00049c00: 2020 4164 6420 7375 7070 6f72 7420 666f    Add support fo
-00049c10: 7220 7061 7373 776f 7264 2072 6573 6574  r password reset
-00049c20: 732e 0a0a 5765 6263 6c69 656e 743a 0a0a  s...Webclient:..
-00049c30: 3a20 2020 2d20 2020 496d 7072 6f76 6520  :   -   Improve 
-00049c40: 7061 6765 2063 6f6e 7465 6e74 206c 6f61  page content loa
-00049c50: 6469 6e67 2e0a 2020 2020 2d20 2020 4a6f  ding..    -   Jo
-00049c60: 696e 2f70 6172 7473 206e 6f77 2074 7269  in/parts now tri
-00049c70: 6767 6572 2064 6573 6b74 6f70 206e 6f74  gger desktop not
-00049c80: 6966 6963 6174 696f 6e73 2e0a 2020 2020  ifications..    
-00049c90: 2d20 2020 416c 7761 7973 2073 686f 7720  -   Always show 
-00049ca0: 726f 6f6d 2061 6c69 6173 6573 2069 6e20  room aliases in 
-00049cb0: 7468 6520 5549 2069 6620 6f6e 6520 6973  the UI if one is
-00049cc0: 2070 7265 7365 6e74 2e0a 2020 2020 2d20   present..    - 
-00049cd0: 2020 4e6f 206c 6f6e 6765 7220 7368 6f77    No longer show
-00049ce0: 2075 7365 722d 636f 756e 7420 696e 2074   user-count in t
-00049cf0: 6865 2072 6563 656e 7473 2073 6964 6520  he recents side 
-00049d00: 7061 6e65 6c2e 0a20 2020 202d 2020 2041  panel..    -   A
-00049d10: 6464 2075 7020 2620 646f 776e 2061 7272  dd up & down arr
-00049d20: 6f77 2073 7570 706f 7274 2074 6f20 7468  ow support to th
-00049d30: 6520 7465 7874 2062 6f78 2066 6f72 206d  e text box for m
-00049d40: 6573 7361 6765 2073 656e 6469 6e67 2074  essage sending t
-00049d50: 6f20 7374 6570 2074 6872 6f75 6768 2079  o step through y
-00049d60: 6f75 7220 7365 6e74 2068 6973 746f 7279  our sent history
-00049d70: 2e0a 2020 2020 2d20 2020 446f 6e5c 2774  ..    -   Don\'t
-00049d80: 2064 6973 706c 6179 206e 6f74 6966 6963   display notific
-00049d90: 6174 696f 6e73 2066 6f72 206f 7572 206f  ations for our o
-00049da0: 776e 206d 6573 7361 6765 732e 0a20 2020  wn messages..   
-00049db0: 202d 2020 2045 6d6f 7465 7320 6172 6520   -   Emotes are 
-00049dc0: 6e6f 7720 666f 726d 6174 7465 6420 636f  now formatted co
-00049dd0: 7272 6563 746c 7920 696e 2064 6573 6b74  rrectly in deskt
-00049de0: 6f70 206e 6f74 6966 6963 6174 696f 6e73  op notifications
-00049df0: 2e0a 2020 2020 2d20 2020 5468 6520 7265  ..    -   The re
-00049e00: 6365 6e74 7320 6c69 7374 206e 6f77 2064  cents list now d
-00049e10: 6966 6665 7265 6e74 6961 7465 7320 6265  ifferentiates be
-00049e20: 7477 6565 6e20 7075 626c 6963 2026 2070  tween public & p
-00049e30: 7269 7661 7465 2072 6f6f 6d73 2e0a 2020  rivate rooms..  
-00049e40: 2020 2d20 2020 4669 7820 6275 6720 7768    -   Fix bug wh
-00049e50: 6572 6520 7768 656e 2073 7769 7463 6869  ere when switchi
-00049e60: 6e67 2062 6574 7765 656e 2072 6f6f 6d73  ng between rooms
-00049e70: 2074 6865 2070 6167 696e 6174 696f 6e20   the pagination 
-00049e80: 666c 6963 6b65 7265 6420 6265 666f 7265  flickered before
-00049e90: 2074 6865 2076 6965 7720 6a75 6d70 6564   the view jumped
-00049ea0: 2074 6f20 7468 6520 626f 7474 6f6d 206f   to the bottom o
-00049eb0: 6620 7468 6520 7363 7265 656e 2e0a 2020  f the screen..  
-00049ec0: 2020 2d20 2020 4164 6420 6269 6e67 2077    -   Add bing w
-00049ed0: 6f72 6420 7375 7070 6f72 742e 0a0a 5265  ord support...Re
-00049ee0: 6769 7374 7261 7469 6f6e 2041 5049 3a0a  gistration API:.
-00049ef0: 0a3a 2020 202d 2020 2054 6865 2072 6567  .:   -   The reg
-00049f00: 6973 7472 6174 696f 6e20 4150 4920 6861  istration API ha
-00049f10: 7320 6265 656e 206f 7665 7268 6175 6c65  s been overhaule
-00049f20: 6420 746f 2066 756e 6374 696f 6e20 6c69  d to function li
-00049f30: 6b65 2074 6865 206c 6f67 696e 2041 5049  ke the login API
-00049f40: 2e20 496e 2070 7261 6374 6963 652c 2074  . In practice, t
-00049f50: 6869 7320 6d65 616e 7320 7265 6769 7374  his means regist
-00049f60: 7261 7469 6f6e 2072 6571 7565 7374 7320  ration requests 
-00049f70: 6d75 7374 206e 6f77 2069 6e63 6c75 6465  must now include
-00049f80: 2074 6865 2066 6f6c 6c6f 7769 6e67 3a20   the following: 
-00049f90: 5c27 7479 7065 5c27 3a5c 276d 2e6c 6f67  \'type\':\'m.log
-00049fa0: 696e 2e70 6173 7377 6f72 645c 272e 2053  in.password\'. S
-00049fb0: 6565 2055 5047 5241 4445 2066 6f72 206d  ee UPGRADE for m
-00049fc0: 6f72 6520 696e 666f 726d 6174 696f 6e20  ore information 
-00049fd0: 6f6e 2074 6869 732e 0a20 2020 202d 2020  on this..    -  
-00049fe0: 2054 6865 205c 2775 7365 725c 5f69 645c   The \'user\_id\
-00049ff0: 2720 6b65 7920 6861 7320 6265 656e 2072  ' key has been r
-0004a000: 656e 616d 6564 2074 6f20 5c27 7573 6572  enamed to \'user
-0004a010: 5c27 2074 6f20 6265 7474 6572 206d 6174  \' to better mat
-0004a020: 6368 2074 6865 206c 6f67 696e 2041 5049  ch the login API
-0004a030: 2e0a 2020 2020 2d20 2020 5468 6572 6520  ..    -   There 
-0004a040: 6973 2061 6e20 6164 6469 7469 6f6e 616c  is an additional
-0004a050: 206c 6f67 696e 2074 7970 653a 205c 276d   login type: \'m
-0004a060: 2e6c 6f67 696e 2e65 6d61 696c 2e69 6465  .login.email.ide
-0004a070: 6e74 6974 795c 272e 0a20 2020 202d 2020  ntity\'..    -  
-0004a080: 2054 6865 2063 6f6d 6d61 6e64 2063 6c69   The command cli
-0004a090: 656e 7420 616e 6420 7765 6220 636c 6965  ent and web clie
-0004a0a0: 6e74 2068 6176 6520 6265 656e 2075 7064  nt have been upd
-0004a0b0: 6174 6564 2074 6f20 7265 666c 6563 7420  ated to reflect 
-0004a0c0: 7468 6573 6520 6368 616e 6765 732e 0a0a  these changes...
-0004a0d0: 4368 616e 6765 7320 696e 2073 796e 6170  Changes in synap
-0004a0e0: 7365 2030 2e32 2e33 2028 3230 3134 2d30  se 0.2.3 (2014-0
-0004a0f0: 392d 3132 290a 3d3d 3d3d 3d3d 3d3d 3d3d  9-12).==========
-0004a100: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0004a110: 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a48 6f6d  ===========..Hom
-0004a120: 6573 6572 7665 723a 0a0a 3a20 2020 2d20  eserver:..:   - 
-0004a130: 2020 4669 7820 6275 6720 7768 6572 6520    Fix bug where 
-0004a140: 7765 2073 746f 7070 6564 2073 656e 6469  we stopped sendi
-0004a150: 6e67 2065 7665 6e74 7320 746f 2072 656d  ng events to rem
-0004a160: 6f74 6520 686f 6d65 2073 6572 7665 7273  ote home servers
-0004a170: 2069 6620 6120 7573 6572 2066 726f 6d20   if a user from 
-0004a180: 7468 6174 2068 6f6d 6520 7365 7276 6572  that home server
-0004a190: 206c 6566 742c 2065 7665 6e20 6966 2074   left, even if t
-0004a1a0: 6865 7265 2077 6572 6520 736f 6d65 2073  here were some s
-0004a1b0: 7469 6c6c 2069 6e20 7468 6520 726f 6f6d  till in the room
-0004a1c0: 2e0a 2020 2020 2d20 2020 4669 7820 6275  ..    -   Fix bu
-0004a1d0: 6773 2069 6e20 7468 6520 7374 6174 6520  gs in the state 
-0004a1e0: 636f 6e66 6c69 6374 2072 6573 6f6c 7574  conflict resolut
-0004a1f0: 696f 6e20 7768 6572 6520 6974 2077 6173  ion where it was
-0004a200: 2069 6e63 6f72 7265 6374 6c79 2072 656a   incorrectly rej
-0004a210: 6563 7469 6e67 2065 7665 6e74 732e 0a0a  ecting events...
-0004a220: 5765 6263 6c69 656e 743a 0a0a 3a20 2020  Webclient:..:   
-0004a230: 2d20 2020 4469 7370 6c61 7920 726f 6f6d  -   Display room
-0004a240: 206e 616d 6573 2061 6e64 2074 6f70 6963   names and topic
-0004a250: 732e 0a20 2020 202d 2020 2041 6c6c 6f77  s..    -   Allow
-0004a260: 2073 6574 7469 6e67 2f65 6469 7469 6e67   setting/editing
-0004a270: 206f 6620 726f 6f6d 206e 616d 6573 2061   of room names a
-0004a280: 6e64 2074 6f70 6963 732e 0a20 2020 202d  nd topics..    -
-0004a290: 2020 2044 6973 706c 6179 2069 6e66 6f72     Display infor
-0004a2a0: 6d61 7469 6f6e 2061 626f 7574 2072 6f6f  mation about roo
-0004a2b0: 6d73 206f 6e20 7468 6520 6d61 696e 2070  ms on the main p
-0004a2c0: 6167 652e 0a20 2020 202d 2020 2048 616e  age..    -   Han
-0004a2d0: 646c 6520 6261 6e20 616e 6420 6b69 636b  dle ban and kick
-0004a2e0: 2065 7665 6e74 7320 696e 2072 6561 6c20   events in real 
-0004a2f0: 7469 6d65 2e0a 2020 2020 2d20 2020 566f  time..    -   Vo
-0004a300: 4950 2055 4920 616e 6420 7265 6c69 6162  IP UI and reliab
-0004a310: 696c 6974 7920 696d 7072 6f76 656d 656e  ility improvemen
-0004a320: 7473 2e0a 2020 2020 2d20 2020 4164 6420  ts..    -   Add 
-0004a330: 676c 6172 6520 7375 7070 6f72 7420 666f  glare support fo
-0004a340: 7220 566f 4950 2e0a 2020 2020 2d20 2020  r VoIP..    -   
-0004a350: 496d 7072 6f76 656d 656e 7473 2074 6f20  Improvements to 
-0004a360: 696e 6974 6961 6c20 7374 6172 7475 7020  initial startup 
-0004a370: 7370 6565 642e 0a20 2020 202d 2020 2044  speed..    -   D
-0004a380: 6f6e 5c27 7420 6469 7370 6c61 7920 6475  on\'t display du
-0004a390: 706c 6963 6174 6520 6a6f 696e 2065 7665  plicate join eve
-0004a3a0: 6e74 732e 0a20 2020 202d 2020 204c 6f63  nts..    -   Loc
-0004a3b0: 616c 2065 6368 6f20 6f66 206d 6573 7361  al echo of messa
-0004a3c0: 6765 732e 0a20 2020 202d 2020 2044 6966  ges..    -   Dif
-0004a3d0: 6665 7265 6e74 6961 7465 2073 656e 6469  ferentiate sendi
-0004a3e0: 6e67 2061 6e64 2073 656e 7420 6f66 206c  ng and sent of l
-0004a3f0: 6f63 616c 2065 6368 6f2e 0a20 2020 202d  ocal echo..    -
-0004a400: 2020 2056 6172 696f 7573 206d 696e 6f72     Various minor
-0004a410: 2062 7567 2066 6978 6573 2e0a 0a43 6861   bug fixes...Cha
-0004a420: 6e67 6573 2069 6e20 7379 6e61 7073 6520  nges in synapse 
-0004a430: 302e 322e 3220 2832 3031 342d 3039 2d30  0.2.2 (2014-09-0
-0004a440: 3629 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  6).=============
-0004a450: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0004a460: 3d3d 3d3d 3d3d 3d3d 0a0a 486f 6d65 7365  ========..Homese
-0004a470: 7276 6572 3a0a 0a3a 2020 202d 2020 2057  rver:..:   -   W
-0004a480: 6865 6e20 7468 6520 7365 7276 6572 2072  hen the server r
-0004a490: 6574 7572 6e73 2073 7461 7465 2065 7665  eturns state eve
-0004a4a0: 6e74 7320 6974 206e 6f77 2061 6c73 6f20  nts it now also 
-0004a4b0: 696e 636c 7564 6573 2074 6865 2070 7265  includes the pre
-0004a4c0: 7669 6f75 7320 636f 6e74 656e 742e 0a20  vious content.. 
-0004a4d0: 2020 202d 2020 2041 6464 2073 7570 706f     -   Add suppo
-0004a4e0: 7274 2066 6f72 2069 6e76 6974 696e 6720  rt for inviting 
-0004a4f0: 7065 6f70 6c65 2077 6865 6e20 6372 6561  people when crea
-0004a500: 7469 6e67 2061 206e 6577 2072 6f6f 6d2e  ting a new room.
-0004a510: 0a20 2020 202d 2020 204d 616b 6520 7468  .    -   Make th
-0004a520: 6520 686f 6d65 7365 7276 6572 2069 6e66  e homeserver inf
-0004a530: 6f72 6d20 7468 6520 726f 6f6d 2076 6961  orm the room via
-0004a540: 206d 2e72 6f6f 6d2e 616c 6961 7365 7320   m.room.aliases 
-0004a550: 7768 656e 2061 206e 6577 2061 6c69 6173  when a new alias
-0004a560: 2069 7320 6164 6465 6420 666f 7220 6120   is added for a 
-0004a570: 726f 6f6d 2e0a 2020 2020 2d20 2020 5661  room..    -   Va
-0004a580: 6c69 6461 7465 206d 2e72 6f6f 6d2e 706f  lidate m.room.po
-0004a590: 7765 725c 5f6c 6576 656c 2065 7665 6e74  wer\_level event
-0004a5a0: 732e 0a0a 5765 6263 6c69 656e 743a 0a0a  s...Webclient:..
-0004a5b0: 3a20 2020 2d20 2020 4164 6420 7375 7070  :   -   Add supp
-0004a5c0: 6f72 7420 666f 7220 6361 7074 6368 6173  ort for captchas
-0004a5d0: 206f 6e20 7265 6769 7374 7261 7469 6f6e   on registration
-0004a5e0: 2e0a 2020 2020 2d20 2020 4861 6e64 6c65  ..    -   Handle
-0004a5f0: 206d 2e72 6f6f 6d2e 616c 6961 7365 7320   m.room.aliases 
-0004a600: 6576 656e 7473 2e0a 2020 2020 2d20 2020  events..    -   
-0004a610: 4173 796e 6368 726f 6e6f 7573 6c79 2073  Asynchronously s
-0004a620: 656e 6420 6d65 7373 6167 6573 2061 6e64  end messages and
-0004a630: 2073 686f 7720 6120 6c6f 6361 6c20 6563   show a local ec
-0004a640: 686f 2e0a 2020 2020 2d20 2020 496e 666f  ho..    -   Info
-0004a650: 726d 2074 6865 2055 4920 7768 656e 2061  rm the UI when a
-0004a660: 206d 6573 7361 6765 2066 6169 6c65 6420   message failed 
-0004a670: 746f 2073 656e 642e 0a20 2020 202d 2020  to send..    -  
-0004a680: 204f 6e6c 7920 6175 746f 7363 726f 6c6c   Only autoscroll
-0004a690: 206f 6e20 7265 6365 6976 696e 6720 6120   on receiving a 
-0004a6a0: 6e65 7720 6d65 7373 6167 6520 6966 2074  new message if t
-0004a6b0: 6865 2075 7365 7220 7761 7320 616c 7265  he user was alre
-0004a6c0: 6164 7920 6174 2074 6865 2062 6f74 746f  ady at the botto
-0004a6d0: 6d20 6f66 2074 6865 2073 6372 6565 6e2e  m of the screen.
-0004a6e0: 0a20 2020 202d 2020 2041 6464 2073 7570  .    -   Add sup
-0004a6f0: 706f 7274 2066 6f72 2062 616e 2f6b 6963  port for ban/kic
-0004a700: 6b20 7265 6173 6f6e 732e 0a0a 4368 616e  k reasons...Chan
-0004a710: 6765 7320 696e 2073 796e 6170 7365 2030  ges in synapse 0
-0004a720: 2e32 2e31 2028 3230 3134 2d30 392d 3033  .2.1 (2014-09-03
-0004a730: 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ).==============
-0004a740: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0004a750: 3d3d 3d3d 3d3d 3d0a 0a48 6f6d 6573 6572  =======..Homeser
-0004a760: 7665 723a 0a0a 3a20 2020 2d20 2020 4164  ver:..:   -   Ad
-0004a770: 6465 6420 7375 7070 6f72 7420 666f 7220  ded support for 
-0004a780: 7369 676e 696e 6720 7570 2077 6974 6820  signing up with 
-0004a790: 6120 7468 6972 6420 7061 7274 7920 6964  a third party id
-0004a7a0: 2e0a 2020 2020 2d20 2020 4164 6420 7379  ..    -   Add sy
-0004a7b0: 6e63 746c 2073 6372 6970 7473 2e0a 2020  nctl scripts..  
-0004a7c0: 2020 2d20 2020 4164 6465 6420 7261 7465    -   Added rate
-0004a7d0: 206c 696d 6974 696e 672e 0a20 2020 202d   limiting..    -
-0004a7e0: 2020 2041 6464 206f 7074 696f 6e20 746f     Add option to
-0004a7f0: 2063 6861 6e67 6520 7468 6520 6578 7465   change the exte
-0004a800: 726e 616c 2061 6464 7265 7373 2074 6865  rnal address the
-0004a810: 2063 6f6e 7465 6e74 2072 6570 6f20 7573   content repo us
-0004a820: 6573 2e0a 2020 2020 2d20 2020 5072 6573  es..    -   Pres
-0004a830: 656e 6365 2062 7567 2066 6978 6573 2e0a  ence bug fixes..
-0004a840: 0a57 6562 636c 6965 6e74 3a0a 0a3a 2020  .Webclient:..:  
-0004a850: 202d 2020 2041 6464 6564 2073 7570 706f   -   Added suppo
-0004a860: 7274 2066 6f72 2073 6967 6e69 6e67 2075  rt for signing u
-0004a870: 7020 7769 7468 2061 2074 6869 7264 2070  p with a third p
-0004a880: 6172 7479 2069 642e 0a20 2020 202d 2020  arty id..    -  
-0004a890: 2041 6464 6564 2073 7570 706f 7274 2066   Added support f
-0004a8a0: 6f72 2062 616e 6e69 6e67 2061 6e64 206b  or banning and k
-0004a8b0: 6963 6b69 6e67 2075 7365 7273 2e0a 2020  icking users..  
-0004a8c0: 2020 2d20 2020 4164 6465 6420 7375 7070    -   Added supp
-0004a8d0: 6f72 7420 666f 7220 6469 7370 6c61 7969  ort for displayi
-0004a8e0: 6e67 2061 6e64 2073 6574 7469 6e67 206f  ng and setting o
-0004a8f0: 7073 2e0a 2020 2020 2d20 2020 4164 6465  ps..    -   Adde
-0004a900: 6420 7375 7070 6f72 7420 666f 7220 726f  d support for ro
-0004a910: 6f6d 206e 616d 6573 2e0a 2020 2020 2d20  om names..    - 
-0004a920: 2020 4669 7820 6275 6773 2077 6974 6820    Fix bugs with 
-0004a930: 726f 6f6d 206d 656d 6265 7273 6869 7020  room membership 
-0004a940: 6576 656e 7420 6469 7370 6c61 792e 0a0a  event display...
-0004a950: 4368 616e 6765 7320 696e 2073 796e 6170  Changes in synap
-0004a960: 7365 2030 2e32 2e30 2028 3230 3134 2d30  se 0.2.0 (2014-0
-0004a970: 392d 3032 290a 3d3d 3d3d 3d3d 3d3d 3d3d  9-02).==========
-0004a980: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0004a990: 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a54 6869  ===========..Thi
-0004a9a0: 7320 7570 6461 7465 2063 6861 6e67 6573  s update changes
-0004a9b0: 206d 616e 7920 636f 6e66 6967 7572 6174   many configurat
-0004a9c0: 696f 6e20 6f70 7469 6f6e 732c 2075 7064  ion options, upd
-0004a9d0: 6174 6573 2074 6865 2064 6174 6162 6173  ates the databas
-0004a9e0: 6520 7363 6865 6d61 2061 6e64 206d 616e  e schema and man
-0004a9f0: 6461 7465 7320 5353 4c20 666f 7220 7365  dates SSL for se
-0004aa00: 7276 6572 2d73 6572 7665 7220 636f 6e6e  rver-server conn
-0004aa10: 6563 7469 6f6e 732e 0a0a 486f 6d65 7365  ections...Homese
-0004aa20: 7276 6572 3a0a 0a3a 2020 202d 2020 2052  rver:..:   -   R
-0004aa30: 6571 7569 7265 2053 534c 2066 6f72 2073  equire SSL for s
-0004aa40: 6572 7665 722d 7365 7276 6572 2063 6f6e  erver-server con
-0004aa50: 6e65 6374 696f 6e73 2e0a 2020 2020 2d20  nections..    - 
-0004aa60: 2020 4164 6420 5353 4c20 6c69 7374 656e    Add SSL listen
-0004aa70: 6572 2066 6f72 2063 6c69 656e 742d 7365  er for client-se
-0004aa80: 7276 6572 2063 6f6e 6e65 6374 696f 6e73  rver connections
-0004aa90: 2e0a 2020 2020 2d20 2020 4164 6420 6162  ..    -   Add ab
-0004aaa0: 696c 6974 7920 746f 2075 7365 2063 6f6e  ility to use con
-0004aab0: 6669 6720 6669 6c65 732e 0a20 2020 202d  fig files..    -
-0004aac0: 2020 2041 6464 2073 7570 706f 7274 2066     Add support f
-0004aad0: 6f72 206b 6963 6b69 6e67 2f62 616e 6e69  or kicking/banni
-0004aae0: 6e67 2061 6e64 2070 6f77 6572 206c 6576  ng and power lev
-0004aaf0: 656c 732e 0a20 2020 202d 2020 2041 6c6c  els..    -   All
-0004ab00: 6f77 2073 6574 7469 6e67 206f 6620 726f  ow setting of ro
-0004ab10: 6f6d 206e 616d 6573 2061 6e64 2074 6f70  om names and top
-0004ab20: 6963 7320 6f6e 2063 7265 6174 696f 6e2e  ics on creation.
-0004ab30: 0a20 2020 202d 2020 2043 6861 6e67 6520  .    -   Change 
-0004ab40: 7072 6573 656e 6365 2074 6f20 696e 636c  presence to incl
-0004ab50: 7564 6520 6c61 7374 2073 6565 6e20 7469  ude last seen ti
-0004ab60: 6d65 206f 6620 7468 6520 7573 6572 2e0a  me of the user..
-0004ab70: 2020 2020 2d20 2020 4368 616e 6765 2075      -   Change u
-0004ab80: 726c 2070 6174 6820 7072 6566 6978 2074  rl path prefix t
-0004ab90: 6f20 2f5c 5f6d 6174 7269 782f 5c2e 2e2e  o /\_matrix/\...
-0004aba0: 0a20 2020 202d 2020 2042 7567 2066 6978  .    -   Bug fix
-0004abb0: 6573 2074 6f20 7072 6573 656e 6365 2e0a  es to presence..
-0004abc0: 0a57 6562 636c 6965 6e74 3a0a 0a3a 2020  .Webclient:..:  
-0004abd0: 202d 2020 2052 6573 6b69 6e20 7468 6520   -   Reskin the 
-0004abe0: 4353 5320 666f 7220 7265 6769 7374 7261  CSS for registra
-0004abf0: 7469 6f6e 2061 6e64 206c 6f67 696e 2e0a  tion and login..
-0004ac00: 2020 2020 2d20 2020 5661 7269 6f75 7320      -   Various 
-0004ac10: 696d 7072 6f76 656d 656e 7473 2074 6f20  improvements to 
-0004ac20: 726f 6f6d 7320 4353 532e 0a20 2020 202d  rooms CSS..    -
-0004ac30: 2020 2053 7570 706f 7274 2063 6861 6e67     Support chang
-0004ac40: 6573 2069 6e20 636c 6965 6e74 2d73 6572  es in client-ser
-0004ac50: 7665 7220 4150 492e 0a20 2020 202d 2020  ver API..    -  
-0004ac60: 2042 7567 2066 6978 6573 2074 6f20 564f   Bug fixes to VO
-0004ac70: 4950 2055 492e 0a20 2020 202d 2020 2056  IP UI..    -   V
-0004ac80: 6172 696f 7573 2062 7567 2066 6978 6573  arious bug fixes
-0004ac90: 2074 6f20 6861 6e64 6c69 6e67 206f 6620   to handling of 
-0004aca0: 6368 616e 6765 7320 746f 2072 6f6f 6d20  changes to room 
-0004acb0: 6d65 6d62 6572 206c 6973 742e 0a0a 4368  member list...Ch
-0004acc0: 616e 6765 7320 696e 2073 796e 6170 7365  anges in synapse
-0004acd0: 2030 2e31 2e32 2028 3230 3134 2d30 382d   0.1.2 (2014-08-
-0004ace0: 3239 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  29).============
-0004acf0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0004ad00: 3d3d 3d3d 3d3d 3d3d 3d0a 0a57 6562 636c  =========..Webcl
-0004ad10: 6965 6e74 3a0a 0a3a 2020 202d 2020 2041  ient:..:   -   A
-0004ad20: 6464 2062 6173 6963 2063 616c 6c20 7374  dd basic call st
-0004ad30: 6174 6520 5549 2066 6f72 2056 6f49 5020  ate UI for VoIP 
-0004ad40: 6361 6c6c 732e 0a0a 4368 616e 6765 7320  calls...Changes 
-0004ad50: 696e 2073 796e 6170 7365 2030 2e31 2e31  in synapse 0.1.1
-0004ad60: 2028 3230 3134 2d30 382d 3239 290a 3d3d   (2014-08-29).==
-0004ad70: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0004ad80: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0004ad90: 3d3d 3d0a 0a48 6f6d 6573 6572 7665 723a  ===..Homeserver:
-0004ada0: 0a0a 3a20 2020 2d20 2020 4669 7820 6275  ..:   -   Fix bu
-0004adb0: 6720 7468 6174 2063 6175 7365 6420 7468  g that caused th
-0004adc0: 6520 6576 656e 7420 7374 7265 616d 2074  e event stream t
-0004add0: 6f20 6e6f 7420 6e6f 7469 6679 2073 6f6d  o not notify som
-0004ade0: 6520 636c 6965 6e74 7320 6162 6f75 7420  e clients about 
-0004adf0: 6368 616e 6765 732e 0a0a 4368 616e 6765  changes...Change
-0004ae00: 7320 696e 2073 796e 6170 7365 2030 2e31  s in synapse 0.1
-0004ae10: 2e30 2028 3230 3134 2d30 382d 3239 290a  .0 (2014-08-29).
-0004ae20: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0004ae30: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0004ae40: 3d3d 3d3d 3d0a 0a50 7265 7365 6e63 6520  =====..Presence 
-0004ae50: 6861 7320 6265 656e 2072 6565 6e61 626c  has been reenabl
-0004ae60: 6564 2069 6e20 7468 6973 2072 656c 6561  ed in this relea
-0004ae70: 7365 2e0a 0a48 6f6d 6573 6572 7665 723a  se...Homeserver:
-0004ae80: 0a0a 3a20 2020 2d0a 0a20 2020 2020 2020  ..:   -..       
-0004ae90: 2055 7064 6174 6520 636c 6965 6e74 2074   Update client t
-0004aea0: 6f20 7365 7276 6572 2041 5049 2c20 696e  o server API, in
-0004aeb0: 636c 7564 696e 673a 0a0a 2020 2020 2020  cluding:..      
-0004aec0: 2020 3a20 2020 2d20 2020 5573 6520 6120    :   -   Use a 
-0004aed0: 6d6f 7265 2063 6f6e 7369 7374 656e 7420  more consistent 
-0004aee0: 7572 6c20 7363 6865 6d65 2e0a 2020 2020  url scheme..    
-0004aef0: 2020 2020 2020 2020 2d20 2020 5072 6f76          -   Prov
-0004af00: 6964 6520 6d6f 7265 2075 7365 6675 6c20  ide more useful 
-0004af10: 696e 666f 726d 6174 696f 6e20 696e 2074  information in t
-0004af20: 6865 2069 6e69 7469 616c 2073 796e 6320  he initial sync 
-0004af30: 6170 692e 0a0a 2020 2020 2d20 2020 4368  api...    -   Ch
-0004af40: 616e 6765 2074 6865 2070 7265 7365 6e63  ange the presenc
-0004af50: 6520 6861 6e64 6c69 6e67 2074 6f20 6265  e handling to be
-0004af60: 206d 7563 6820 6d6f 7265 2065 6666 6963   much more effic
-0004af70: 6965 6e74 2e0a 2020 2020 2d20 2020 4368  ient..    -   Ch
-0004af80: 616e 6765 2074 6865 2070 7265 7365 6e63  ange the presenc
-0004af90: 6520 7365 7276 6572 2074 6f20 7365 7276  e server to serv
-0004afa0: 6572 2041 5049 2074 6f20 6e6f 7420 7265  er API to not re
-0004afb0: 7175 6972 6520 6578 706c 6963 6974 2070  quire explicit p
-0004afc0: 6f6c 6c69 6e67 206f 6620 616c 6c20 7573  olling of all us
-0004afd0: 6572 7320 7768 6f20 7368 6172 6520 6120  ers who share a 
-0004afe0: 726f 6f6d 2077 6974 6820 6120 7573 6572  room with a user
-0004aff0: 2e0a 2020 2020 2d20 2020 4669 7820 7261  ..    -   Fix ra
-0004b000: 6365 7320 696e 2074 6865 2065 7665 6e74  ces in the event
-0004b010: 2073 7472 6561 6d69 6e67 206c 6f67 6963   streaming logic
-0004b020: 2e0a 0a57 6562 636c 6965 6e74 3a0a 0a3a  ...Webclient:..:
-0004b030: 2020 202d 2020 2055 7064 6174 6520 746f     -   Update to
-0004b040: 2075 7365 206e 6577 2063 6c69 656e 7420   use new client 
-0004b050: 746f 2073 6572 7665 7220 4150 492e 0a20  to server API.. 
-0004b060: 2020 202d 2020 2041 6464 2062 6173 6963     -   Add basic
-0004b070: 2056 4f49 5020 7375 7070 6f72 742e 0a20   VOIP support.. 
-0004b080: 2020 202d 2020 2041 6464 2069 646c 6520     -   Add idle 
-0004b090: 7469 6d65 7273 2074 6861 7420 6368 616e  timers that chan
-0004b0a0: 6765 2079 6f75 7220 7374 6174 7573 2074  ge your status t
-0004b0b0: 6f20 6177 6179 2e0a 2020 2020 2d20 2020  o away..    -   
-0004b0c0: 4164 6420 7265 6365 6e74 2072 6f6f 6d73  Add recent rooms
-0004b0d0: 2063 6f6c 756d 6e20 7768 656e 2076 6965   column when vie
-0004b0e0: 7769 6e67 2061 2072 6f6f 6d2e 0a20 2020  wing a room..   
-0004b0f0: 202d 2020 2056 6172 696f 7573 206e 6574   -   Various net
-0004b100: 776f 726b 2065 6666 6963 6965 6e63 7920  work efficiency 
-0004b110: 696d 7072 6f76 656d 656e 7473 2e0a 2020  improvements..  
-0004b120: 2020 2d20 2020 4164 6420 6261 7369 6320    -   Add basic 
-0004b130: 6d6f 6269 6c65 2062 726f 7773 6572 2073  mobile browser s
-0004b140: 7570 706f 7274 2e0a 2020 2020 2d20 2020  upport..    -   
-0004b150: 4164 6420 6120 7365 7474 696e 6773 2070  Add a settings p
-0004b160: 6167 652e 0a0a 4368 616e 6765 7320 696e  age...Changes in
-0004b170: 2073 796e 6170 7365 2030 2e30 2e31 2028   synapse 0.0.1 (
-0004b180: 3230 3134 2d30 382d 3232 290a 3d3d 3d3d  2014-08-22).====
-0004b190: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0004b1a0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0004b1b0: 3d0a 0a50 7265 7365 6e63 6520 6861 7320  =..Presence has 
-0004b1c0: 6265 656e 2064 6973 6162 6c65 6420 696e  been disabled in
-0004b1d0: 2074 6869 7320 7265 6c65 6173 6520 6475   this release du
-0004b1e0: 6520 746f 2061 2062 7567 2074 6861 7420  e to a bug that 
-0004b1f0: 6361 7573 6564 2074 6865 2068 6f6d 6573  caused the homes
-0004b200: 6572 7665 7220 746f 2073 7061 6d20 6f74  erver to spam ot
-0004b210: 6865 7220 7265 6d6f 7465 2068 6f6d 6573  her remote homes
-0004b220: 6572 7665 7273 2e0a 0a48 6f6d 6573 6572  ervers...Homeser
-0004b230: 7665 723a 0a0a 3a20 2020 2d20 2020 436f  ver:..:   -   Co
-0004b240: 6d70 6c65 7465 6c79 2063 6861 6e67 6520  mpletely change 
-0004b250: 7468 6520 6461 7461 6261 7365 2073 6368  the database sch
-0004b260: 656d 6120 746f 2073 7570 706f 7274 2067  ema to support g
-0004b270: 656e 6572 6963 2065 7665 6e74 2074 7970  eneric event typ
-0004b280: 6573 2e0a 2020 2020 2d20 2020 496d 7072  es..    -   Impr
-0004b290: 6f76 6520 7072 6573 656e 6365 2072 656c  ove presence rel
-0004b2a0: 6961 6269 6c69 7479 2e0a 2020 2020 2d20  iability..    - 
-0004b2b0: 2020 496d 7072 6f76 6520 7265 6c69 6162    Improve reliab
-0004b2c0: 696c 6974 7920 6f66 206a 6f69 6e69 6e67  ility of joining
-0004b2d0: 2072 656d 6f74 6520 726f 6f6d 732e 0a20   remote rooms.. 
-0004b2e0: 2020 202d 2020 2046 6978 2062 7567 2077     -   Fix bug w
-0004b2f0: 6865 7265 2072 6f6f 6d20 6a6f 696e 2065  here room join e
-0004b300: 7665 6e74 7320 7765 7265 2064 7570 6c69  vents were dupli
-0004b310: 6361 7465 642e 0a20 2020 202d 2020 2049  cated..    -   I
-0004b320: 6d70 726f 7665 2069 6e69 7469 616c 2073  mprove initial s
-0004b330: 796e 6320 4150 4920 746f 2072 6574 7572  ync API to retur
-0004b340: 6e20 6d6f 7265 2069 6e66 6f72 6d61 7469  n more informati
-0004b350: 6f6e 2074 6f20 7468 6520 636c 6965 6e74  on to the client
-0004b360: 2e0a 2020 2020 2d20 2020 5374 6f70 2067  ..    -   Stop g
-0004b370: 656e 6572 6174 696e 6720 6661 6b65 206d  enerating fake m
-0004b380: 6573 7361 6765 7320 666f 7220 726f 6f6d  essages for room
-0004b390: 206d 656d 6265 7273 6869 7020 6576 656e   membership even
-0004b3a0: 7473 2e0a 0a57 6562 636c 6965 6e74 3a0a  ts...Webclient:.
-0004b3b0: 0a3a 2020 202d 2020 2041 6464 2074 6162  .:   -   Add tab
-0004b3c0: 2063 6f6d 706c 6574 696f 6e20 6f66 206e   completion of n
-0004b3d0: 616d 6573 2e0a 2020 2020 2d20 2020 4164  ames..    -   Ad
-0004b3e0: 6420 6162 696c 6974 7920 746f 2075 706c  d ability to upl
-0004b3f0: 6f61 6420 616e 6420 7365 6e64 2069 6d61  oad and send ima
-0004b400: 6765 732e 0a20 2020 202d 2020 2041 6464  ges..    -   Add
-0004b410: 2070 726f 6669 6c65 2070 6167 6573 2e0a   profile pages..
-0004b420: 2020 2020 2d20 2020 496d 7072 6f76 6520      -   Improve 
-0004b430: 4353 5320 6c61 796f 7574 206f 6620 726f  CSS layout of ro
-0004b440: 6f6d 2e0a 2020 2020 2d20 2020 4469 7361  om..    -   Disa
-0004b450: 6d62 6967 7561 7465 2069 6465 6e74 6963  mbiguate identic
-0004b460: 616c 2064 6973 706c 6179 206e 616d 6573  al display names
-0004b470: 2e0a 2020 2020 2d20 2020 446f 6e5c 2774  ..    -   Don\'t
-0004b480: 2067 6574 2072 656d 6f74 6520 7573 6572   get remote user
-0004b490: 7320 6469 7370 6c61 7920 6e61 6d65 7320  s display names 
-0004b4a0: 616e 6420 6176 6174 6172 7320 696e 6469  and avatars indi
-0004b4b0: 7669 6475 616c 6c79 2e0a 2020 2020 2d20  vidually..    - 
-0004b4c0: 2020 5573 6520 7468 6520 6e65 7720 696e    Use the new in
-0004b4d0: 6974 6961 6c20 7379 6e63 2041 5049 2074  itial sync API t
-0004b4e0: 6f20 7265 6475 6365 206e 756d 6265 7220  o reduce number 
-0004b4f0: 6f66 2072 6f75 6e64 2074 7269 7073 2074  of round trips t
-0004b500: 6f20 7468 6520 686f 6d65 7365 7276 6572  o the homeserver
-0004b510: 2e0a 2020 2020 2d20 2020 4368 616e 6765  ..    -   Change
-0004b520: 2075 726c 2073 6368 656d 6520 746f 2075   url scheme to u
-0004b530: 7365 2072 6f6f 6d20 616c 6961 7365 7320  se room aliases 
-0004b540: 696e 7374 6561 6420 6f66 2072 6f6f 6d20  instead of room 
-0004b550: 6964 7320 7768 6572 6520 6b6e 6f77 6e2e  ids where known.
-0004b560: 0a20 2020 202d 2020 2049 6e63 7265 6173  .    -   Increas
-0004b570: 6520 6c6f 6e67 706f 6c6c 2074 696d 656f  e longpoll timeo
-0004b580: 7574 2e0a 0a43 6861 6e67 6573 2069 6e20  ut...Changes in 
-0004b590: 7379 6e61 7073 6520 302e 302e 3020 2832  synapse 0.0.0 (2
-0004b5a0: 3031 342d 3038 2d31 3329 0a3d 3d3d 3d3d  014-08-13).=====
-0004b5b0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0004b5c0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
-0004b5d0: 0a0a 3e20 2d20 2020 496e 6974 6961 6c20  ..> -   Initial 
-0004b5e0: 616c 7068 6120 7265 6c65 6173 650a       alpha release.
+000486f0: 3d3d 3d3d 0a0a 4669 7820 6d61 6a6f 7220  ====..Fix major 
+00048700: 6275 6720 7468 6174 2063 6175 7365 6420  bug that caused 
+00048710: 726f 6f6d 7320 746f 2064 6973 6170 7065  rooms to disappe
+00048720: 6172 2066 726f 6d20 7065 6f70 6c65 7320  ar from peoples 
+00048730: 696e 6974 6961 6c20 7379 6e63 2e0a 0a43  initial sync...C
+00048740: 6861 6e67 6573 2069 6e20 7379 6e61 7073  hanges in synaps
+00048750: 6520 302e 352e 3120 2832 3031 342d 3131  e 0.5.1 (2014-11
+00048760: 2d32 3629 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d  -26).===========
+00048770: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00048780: 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 5365 6520  ==========..See 
+00048790: 5550 4752 4144 4553 2e72 7374 2066 6f72  UPGRADES.rst for
+000487a0: 2073 7065 6369 6669 6320 696e 7374 7275   specific instru
+000487b0: 6374 696f 6e73 206f 6e20 686f 7720 746f  ctions on how to
+000487c0: 2075 7067 7261 6465 2e0a 0a3e 202d 2020   upgrade...> -  
+000487d0: 2046 6978 2062 7567 2077 6865 7265 2077   Fix bug where w
+000487e0: 6520 7365 7276 6564 2075 7020 616e 2045  e served up an E
+000487f0: 7665 6e74 2074 6861 7420 6469 6420 6e6f  vent that did no
+00048800: 7420 6d61 7463 6820 6974 7320 7369 676e  t match its sign
+00048810: 6174 7572 6573 2e0a 3e20 2d20 2020 4669  atures..> -   Fi
+00048820: 7820 7265 6772 6573 7369 6f6e 2077 6865  x regression whe
+00048830: 7265 2077 6520 6e6f 206c 6f6e 6765 7220  re we no longer 
+00048840: 636f 7272 6563 746c 7920 6861 6e64 6c65  correctly handle
+00048850: 6420 7468 6520 6361 7365 2077 6865 7265  d the case where
+00048860: 2061 2068 6f6d 6573 6572 7665 7220 7265   a homeserver re
+00048870: 6365 6976 6573 2061 6e20 6576 656e 7420  ceives an event 
+00048880: 666f 7220 6120 726f 6f6d 2069 7420 646f  for a room it do
+00048890: 6573 6e5c 2774 2072 6563 6f67 6e69 7365  esn\'t recognise
+000488a0: 2028 6275 7420 6973 2069 6e2e 290a 0a43   (but is in.)..C
+000488b0: 6861 6e67 6573 2069 6e20 7379 6e61 7073  hanges in synaps
+000488c0: 6520 302e 352e 3020 2832 3031 342d 3131  e 0.5.0 (2014-11
+000488d0: 2d31 3929 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d  -19).===========
+000488e0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000488f0: 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 5468 6973  ==========..This
+00048900: 2072 656c 6561 7365 2069 6e63 6c75 6465   release include
+00048910: 7320 6368 616e 6765 7320 746f 2074 6865  s changes to the
+00048920: 2066 6564 6572 6174 696f 6e20 7072 6f74   federation prot
+00048930: 6f63 6f6c 2061 6e64 2063 6c69 656e 742d  ocol and client-
+00048940: 7365 7276 6572 2041 5049 2074 6861 7420  server API that 
+00048950: 6973 206e 6f74 2062 6163 6b77 6172 6473  is not backwards
+00048960: 2063 6f6d 7061 7469 626c 652e 0a0a 5468   compatible...Th
+00048970: 6973 2072 656c 6561 7365 2061 6c73 6f20  is release also 
+00048980: 6368 616e 6765 7320 7468 6520 696e 7465  changes the inte
+00048990: 726e 616c 2064 6174 6162 6173 6520 7363  rnal database sc
+000489a0: 6865 6d61 7320 616e 6420 736f 2072 6571  hemas and so req
+000489b0: 7569 7265 7320 7365 7276 6572 7320 746f  uires servers to
+000489c0: 2064 726f 7020 7468 6569 7220 6375 7272   drop their curr
+000489d0: 656e 7420 6869 7374 6f72 792e 2053 6565  ent history. See
+000489e0: 2055 5047 5241 4445 532e 7273 7420 666f   UPGRADES.rst fo
+000489f0: 7220 6465 7461 696c 732e 0a0a 486f 6d65  r details...Home
+00048a00: 7365 7276 6572 3a0a 0a3a 2020 202d 2020  server:..:   -  
+00048a10: 2041 6464 2061 7574 6865 6e74 6963 6174   Add authenticat
+00048a20: 696f 6e20 616e 6420 6175 7468 6f72 697a  ion and authoriz
+00048a30: 6174 696f 6e20 746f 2074 6865 2066 6564  ation to the fed
+00048a40: 6572 6174 696f 6e20 7072 6f74 6f63 6f6c  eration protocol
+00048a50: 2e20 4576 656e 7473 2061 7265 206e 6f77  . Events are now
+00048a60: 2073 6967 6e65 6420 6279 2074 6865 6972   signed by their
+00048a70: 206f 7269 6769 6e61 7469 6e67 2068 6f6d   originating hom
+00048a80: 6573 6572 7665 7273 2e0a 2020 2020 2d20  eservers..    - 
+00048a90: 2020 496d 706c 656d 656e 7420 7468 6520    Implement the 
+00048aa0: 6e65 7720 6175 7468 6f72 697a 6174 696f  new authorizatio
+00048ab0: 6e20 6d6f 6465 6c20 666f 7220 726f 6f6d  n model for room
+00048ac0: 732e 0a20 2020 202d 2020 2053 706c 6974  s..    -   Split
+00048ad0: 206f 7574 2077 6562 2063 6c69 656e 7420   out web client 
+00048ae0: 696e 746f 2061 2073 6570 6572 6174 6520  into a seperate 
+00048af0: 7265 706f 7369 746f 7279 3a20 6d61 7472  repository: matr
+00048b00: 6978 2d61 6e67 756c 6172 2d73 646b 2e0a  ix-angular-sdk..
+00048b10: 2020 2020 2d20 2020 4368 616e 6765 2074      -   Change t
+00048b20: 6865 2073 7472 7563 7475 7265 206f 6620  he structure of 
+00048b30: 5044 5573 2e0a 2020 2020 2d20 2020 4669  PDUs..    -   Fi
+00048b40: 7820 6275 6720 7768 6572 6520 7573 6572  x bug where user
+00048b50: 2063 6f75 6c64 206e 6f74 206a 6f69 6e20   could not join 
+00048b60: 726f 6f6d 7320 7669 6120 616e 2061 6c69  rooms via an ali
+00048b70: 6173 2063 6f6e 7461 696e 696e 6720 342d  as containing 4-
+00048b80: 6279 7465 2055 5446 2d38 2063 6861 7261  byte UTF-8 chara
+00048b90: 6374 6572 732e 0a20 2020 202d 2020 204d  cters..    -   M
+00048ba0: 6572 6765 2063 6f6e 6365 7074 206f 6620  erge concept of 
+00048bb0: 5044 5573 2061 6e64 2045 7665 6e74 7320  PDUs and Events 
+00048bc0: 696e 7465 726e 616c 6c79 2e0a 2020 2020  internally..    
+00048bd0: 2d20 2020 496d 7072 6f76 6520 6c6f 6767  -   Improve logg
+00048be0: 696e 6720 6279 2061 6464 696e 6720 7265  ing by adding re
+00048bf0: 7175 6573 7420 6964 7320 746f 206c 6f67  quest ids to log
+00048c00: 206c 696e 6573 2e0a 2020 2020 2d20 2020   lines..    -   
+00048c10: 496d 706c 656d 656e 7420 6120 7665 7279  Implement a very
+00048c20: 2062 6173 6963 2072 6f6f 6d20 696e 6974   basic room init
+00048c30: 6961 6c20 7379 6e63 2041 5049 2e0a 2020  ial sync API..  
+00048c40: 2020 2d20 2020 496d 706c 656d 656e 7420    -   Implement 
+00048c50: 7468 6520 6e65 7720 696e 7669 7465 2f6a  the new invite/j
+00048c60: 6f69 6e20 6665 6465 7261 7469 6f6e 2041  oin federation A
+00048c70: 5049 732e 0a0a 5765 6263 6c69 656e 743a  PIs...Webclient:
+00048c80: 0a0a 3a20 2020 2d20 2020 5468 6520 7765  ..:   -   The we
+00048c90: 6263 6c69 656e 7420 6861 7320 6265 656e  bclient has been
+00048ca0: 206d 6f76 6564 2074 6f20 6120 7365 7065   moved to a sepe
+00048cb0: 7261 7465 2072 6570 6f73 6974 6f72 792e  rate repository.
+00048cc0: 0a0a 4368 616e 6765 7320 696e 2073 796e  ..Changes in syn
+00048cd0: 6170 7365 2030 2e34 2e32 2028 3230 3134  apse 0.4.2 (2014
+00048ce0: 2d31 302d 3331 290a 3d3d 3d3d 3d3d 3d3d  -10-31).========
+00048cf0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00048d00: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d0a 0a48  =============..H
+00048d10: 6f6d 6573 6572 7665 723a 0a0a 3a20 2020  omeserver:..:   
+00048d20: 2d20 2020 4669 7820 6275 6773 2077 6865  -   Fix bugs whe
+00048d30: 7265 2077 6520 6469 6420 6e6f 7420 6e6f  re we did not no
+00048d40: 7469 6679 2075 7365 7273 206f 6620 636f  tify users of co
+00048d50: 7272 6563 7420 7072 6573 656e 6365 2075  rrect presence u
+00048d60: 7064 6174 6573 2e0a 2020 2020 2d20 2020  pdates..    -   
+00048d70: 4669 7820 6275 6720 7768 6572 6520 7765  Fix bug where we
+00048d80: 2064 6964 206e 6f74 2068 616e 646c 6520   did not handle 
+00048d90: 7375 6220 7365 636f 6e64 2065 7665 6e74  sub second event
+00048da0: 2073 7472 6561 6d20 7469 6d65 6f75 7473   stream timeouts
+00048db0: 2e0a 0a57 6562 636c 6965 6e74 3a0a 0a3a  ...Webclient:..:
+00048dc0: 2020 202d 2020 2041 6464 2061 6269 6c69     -   Add abili
+00048dd0: 7479 2074 6f20 636c 6963 6b20 6f6e 206d  ty to click on m
+00048de0: 6573 7361 6765 7320 746f 2073 6565 204a  essages to see J
+00048df0: 534f 4e2e 0a20 2020 202d 2020 2041 6464  SON..    -   Add
+00048e00: 2061 6269 6c69 7479 2074 6f20 7265 6461   ability to reda
+00048e10: 6374 206d 6573 7361 6765 732e 0a20 2020  ct messages..   
+00048e20: 202d 2020 2041 6464 2061 6269 6c69 7479   -   Add ability
+00048e30: 2074 6f20 7669 6577 2061 6e64 2065 6469   to view and edi
+00048e40: 7420 616c 6c20 726f 6f6d 2073 7461 7465  t all room state
+00048e50: 204a 534f 4e2e 0a20 2020 202d 2020 2048   JSON..    -   H
+00048e60: 616e 646c 6520 696e 636f 6d69 6e67 2072  andle incoming r
+00048e70: 6564 6163 7469 6f6e 732e 0a20 2020 202d  edactions..    -
+00048e80: 2020 2049 6d70 726f 7665 2066 6565 6462     Improve feedb
+00048e90: 6163 6b20 6f6e 2065 7272 6f72 732e 0a20  ack on errors.. 
+00048ea0: 2020 202d 2020 2046 6978 2062 7567 7320     -   Fix bugs 
+00048eb0: 696e 206d 6f62 696c 6520 4353 532e 0a20  in mobile CSS.. 
+00048ec0: 2020 202d 2020 2046 6978 2062 7567 7320     -   Fix bugs 
+00048ed0: 7769 7468 2064 6573 6b74 6f70 206e 6f74  with desktop not
+00048ee0: 6966 6963 6174 696f 6e73 2e0a 0a43 6861  ifications...Cha
+00048ef0: 6e67 6573 2069 6e20 7379 6e61 7073 6520  nges in synapse 
+00048f00: 302e 342e 3120 2832 3031 342d 3130 2d31  0.4.1 (2014-10-1
+00048f10: 3729 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  7).=============
+00048f20: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00048f30: 3d3d 3d3d 3d3d 3d3d 0a0a 5765 6263 6c69  ========..Webcli
+00048f40: 656e 743a 0a0a 3a20 2020 2d20 2020 4669  ent:..:   -   Fi
+00048f50: 7820 6275 6720 7769 7468 2064 6973 706c  x bug with displ
+00048f60: 6179 206f 6620 7469 6d65 7374 616d 7073  ay of timestamps
+00048f70: 2e0a 0a43 6861 6e67 6573 2069 6e20 7379  ...Changes in sy
+00048f80: 6e70 6173 6520 302e 342e 3020 2832 3031  npase 0.4.0 (201
+00048f90: 342d 3130 2d31 3729 0a3d 3d3d 3d3d 3d3d  4-10-17).=======
+00048fa0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00048fb0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a  ==============..
+00048fc0: 5468 6973 2072 656c 6561 7365 2069 6e63  This release inc
+00048fd0: 6c75 6465 7320 6368 616e 6765 7320 746f  ludes changes to
+00048fe0: 2074 6865 2066 6564 6572 6174 696f 6e20   the federation 
+00048ff0: 7072 6f74 6f63 6f6c 2061 6e64 2063 6c69  protocol and cli
+00049000: 656e 742d 7365 7276 6572 2041 5049 2074  ent-server API t
+00049010: 6861 7420 6973 206e 6f74 2062 6163 6b77  hat is not backw
+00049020: 6172 6473 2063 6f6d 7061 7469 626c 652e  ards compatible.
+00049030: 0a0a 5468 6520 4d61 7472 6978 2073 7065  ..The Matrix spe
+00049040: 6369 6669 6361 7469 6f6e 2068 6173 2062  cification has b
+00049050: 6565 6e20 6d6f 7665 6420 746f 2061 2073  een moved to a s
+00049060: 6570 6172 6174 6520 6769 7420 7265 706f  eparate git repo
+00049070: 7369 746f 7279 3a20 3c68 7474 703a 2f2f  sitory: <http://
+00049080: 6769 7468 7562 2e63 6f6d 2f6d 6174 7269  github.com/matri
+00049090: 782d 6f72 672f 6d61 7472 6978 2d64 6f63  x-org/matrix-doc
+000490a0: 3e0a 0a59 6f75 2077 696c 6c20 616c 736f  >..You will also
+000490b0: 206e 6565 6420 616e 2075 7064 6174 6564   need an updated
+000490c0: 2073 7975 7469 6c20 616e 6420 636f 6e66   syutil and conf
+000490d0: 6967 2e20 5365 6520 5550 4752 4144 4553  ig. See UPGRADES
+000490e0: 2e72 7374 2e0a 0a48 6f6d 6573 6572 7665  .rst...Homeserve
+000490f0: 723a 0a0a 3a20 2020 2d20 2020 5369 676e  r:..:   -   Sign
+00049100: 2066 6564 6572 6174 696f 6e20 7472 616e   federation tran
+00049110: 7361 6374 696f 6e73 2074 6f20 6173 7365  sactions to asse
+00049120: 7274 2073 7472 6f6e 6720 6964 656e 7469  rt strong identi
+00049130: 7479 206f 7665 7220 6665 6465 7261 7469  ty over federati
+00049140: 6f6e 2e0a 2020 2020 2d20 2020 5265 6e61  on..    -   Rena
+00049150: 6d65 2074 696d 6573 7461 6d70 206b 6579  me timestamp key
+00049160: 7320 696e 2050 4455 7320 616e 6420 6576  s in PDUs and ev
+00049170: 656e 7473 2066 726f 6d20 5c27 7473 5c27  ents from \'ts\'
+00049180: 2061 6e64 205c 2768 736f 625c 5f74 735c   and \'hsob\_ts\
+00049190: 2720 746f 205c 276f 7269 6769 6e5c 5f73  ' to \'origin\_s
+000491a0: 6572 7665 725c 5f74 735c 272e 0a0a 4368  erver\_ts\'...Ch
+000491b0: 616e 6765 7320 696e 2073 796e 6170 7365  anges in synapse
+000491c0: 2030 2e33 2e34 2028 3230 3134 2d30 392d   0.3.4 (2014-09-
+000491d0: 3235 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  25).============
+000491e0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+000491f0: 3d3d 3d3d 3d3d 3d3d 3d0a 0a54 6869 7320  =========..This 
+00049200: 7665 7273 696f 6e20 6164 6473 2073 7570  version adds sup
+00049210: 706f 7274 2066 6f72 2075 7369 6e67 2061  port for using a
+00049220: 2054 5552 4e20 7365 7276 6572 2e20 5365   TURN server. Se
+00049230: 6520 646f 6373 2f74 7572 6e2d 686f 7774  e docs/turn-howt
+00049240: 6f2e 7273 7420 6f6e 2068 6f77 2074 6f20  o.rst on how to 
+00049250: 7365 7420 6f6e 6520 7570 2e0a 0a48 6f6d  set one up...Hom
+00049260: 6573 6572 7665 723a 0a0a 3a20 2020 2d20  eserver:..:   - 
+00049270: 2020 4164 6420 7375 7070 6f72 7420 666f    Add support fo
+00049280: 7220 7265 6461 6374 696f 6e20 6f66 206d  r redaction of m
+00049290: 6573 7361 6765 732e 0a20 2020 202d 2020  essages..    -  
+000492a0: 2046 6978 2062 7567 2077 6865 7265 2069   Fix bug where i
+000492b0: 6e76 6974 696e 6720 6120 7573 6572 206f  nviting a user o
+000492c0: 6e20 6120 7265 6d6f 7465 2068 6f6d 6520  n a remote home 
+000492d0: 7365 7276 6572 2063 6f75 6c64 2074 616b  server could tak
+000492e0: 6520 7570 2074 6f20 3230 2d33 3073 2e0a  e up to 20-30s..
+000492f0: 2020 2020 2d20 2020 496d 706c 656d 656e      -   Implemen
+00049300: 7420 6120 6765 7420 6375 7272 656e 7420  t a get current 
+00049310: 726f 6f6d 2073 7461 7465 2041 5049 2e0a  room state API..
+00049320: 2020 2020 2d20 2020 4164 6420 7375 7070      -   Add supp
+00049330: 6f72 7420 7370 6563 6966 7969 6e67 2061  ort specifying a
+00049340: 6e64 2072 6574 7269 6576 696e 6720 7475  nd retrieving tu
+00049350: 726e 2073 6572 7665 7220 636f 6e66 6967  rn server config
+00049360: 7572 6174 696f 6e2e 0a0a 5765 6263 6c69  uration...Webcli
+00049370: 656e 743a 0a0a 3a20 2020 2d20 2020 4164  ent:..:   -   Ad
+00049380: 6420 6275 7474 6f6e 2074 6f20 7365 6e64  d button to send
+00049390: 206d 6573 7361 6765 7320 746f 2075 7365   messages to use
+000493a0: 7273 2066 726f 6d20 7468 6520 686f 6d65  rs from the home
+000493b0: 2070 6167 652e 0a20 2020 202d 2020 2041   page..    -   A
+000493c0: 6464 2073 7570 706f 7274 2066 6f72 2075  dd support for u
+000493d0: 7369 6e67 2054 5552 4e20 666f 7220 566f  sing TURN for Vo
+000493e0: 4950 2063 616c 6c73 2e0a 2020 2020 2d20  IP calls..    - 
+000493f0: 2020 5368 6f77 2064 6973 706c 6179 206e    Show display n
+00049400: 616d 6520 6368 616e 6765 206d 6573 7361  ame change messa
+00049410: 6765 732e 0a20 2020 202d 2020 2046 6978  ges..    -   Fix
+00049420: 2062 7567 2077 6865 7265 2074 6865 2063   bug where the c
+00049430: 6c69 656e 7420 6469 646e 5c27 7420 6765  lient didn\'t ge
+00049440: 7420 7468 6520 7374 6174 6520 6f66 2061  t the state of a
+00049450: 206e 6577 6c79 206a 6f69 6e65 6420 726f   newly joined ro
+00049460: 6f6d 2075 6e74 696c 2061 6674 6572 2069  om until after i
+00049470: 7420 6861 7320 6265 656e 2072 6566 7265  t has been refre
+00049480: 7368 6564 2e0a 2020 2020 2d20 2020 4669  shed..    -   Fi
+00049490: 7820 6275 6773 2077 6974 6820 7461 6220  x bugs with tab 
+000494a0: 636f 6d70 6c65 7465 2e0a 2020 2020 2d20  complete..    - 
+000494b0: 2020 4669 7820 6275 6720 7768 6572 6520    Fix bug where 
+000494c0: 686f 6c64 696e 6720 646f 776e 2074 6865  holding down the
+000494d0: 2064 6f77 6e20 6172 726f 7720 6361 7573   down arrow caus
+000494e0: 6564 2063 6872 6f6d 6520 746f 2063 6865  ed chrome to che
+000494f0: 7720 3130 3025 2043 5055 2e0a 2020 2020  w 100% CPU..    
+00049500: 2d20 2020 4669 7820 6275 6720 7768 6572  -   Fix bug wher
+00049510: 6520 6465 736b 746f 7020 6e6f 7469 6669  e desktop notifi
+00049520: 6361 7469 6f6e 7320 6f63 6361 7369 6f6e  cations occasion
+00049530: 616c 6c79 2075 7365 6420 5c22 556e 6465  ally used \"Unde
+00049540: 6669 6e65 645c 2220 6173 2074 6865 2064  fined\" as the d
+00049550: 6973 706c 6179 206e 616d 652e 0a20 2020  isplay name..   
+00049560: 202d 2020 2046 6978 206d 6f72 6520 706c   -   Fix more pl
+00049570: 6163 6573 2077 6865 7265 2077 6520 736f  aces where we so
+00049580: 6d65 7469 6d65 7320 7361 7720 726f 6f6d  metimes saw room
+00049590: 2049 4473 2069 6e63 6f72 7265 6374 6c79   IDs incorrectly
+000495a0: 2e0a 2020 2020 2d20 2020 4669 7820 6275  ..    -   Fix bu
+000495b0: 6720 7768 6963 6820 6361 7573 6564 206c  g which caused l
+000495c0: 6167 2077 6865 6e20 656e 7465 7269 6e67  ag when entering
+000495d0: 2074 6578 7420 696e 2074 6865 2074 6578   text in the tex
+000495e0: 7420 626f 782e 0a0a 4368 616e 6765 7320  t box...Changes 
+000495f0: 696e 2073 796e 6170 7365 2030 2e33 2e33  in synapse 0.3.3
+00049600: 2028 3230 3134 2d30 392d 3232 290a 3d3d   (2014-09-22).==
+00049610: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00049620: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00049630: 3d3d 3d0a 0a48 6f6d 6573 6572 7665 723a  ===..Homeserver:
+00049640: 0a0a 3a20 2020 2d20 2020 4669 7820 6275  ..:   -   Fix bu
+00049650: 6720 7768 6572 6520 796f 7520 636f 6e74  g where you cont
+00049660: 696e 7565 6420 746f 2067 6574 2065 7665  inued to get eve
+00049670: 6e74 7320 666f 7220 726f 6f6d 7320 796f  nts for rooms yo
+00049680: 7520 6861 6420 6c65 6674 2e0a 0a57 6562  u had left...Web
+00049690: 636c 6965 6e74 3a0a 0a3a 2020 202d 2020  client:..:   -  
+000496a0: 2041 6464 2073 7570 706f 7274 2066 6f72   Add support for
+000496b0: 2076 6964 656f 2063 616c 6c73 2077 6974   video calls wit
+000496c0: 6820 6261 7369 6320 5549 2e0a 2020 2020  h basic UI..    
+000496d0: 2d20 2020 4669 7820 6275 6720 7768 6572  -   Fix bug wher
+000496e0: 6520 6f6e 6520 746f 206f 6e65 2063 6861  e one to one cha
+000496f0: 7473 2077 6572 6520 6e61 6d65 6420 6166  ts were named af
+00049700: 7465 7220 796f 7572 2064 6973 706c 6179  ter your display
+00049710: 206e 616d 6520 7261 7468 6572 2074 6861   name rather tha
+00049720: 6e20 7468 6520 6f74 6865 7220 7065 7273  n the other pers
+00049730: 6f6e 5c27 732e 0a20 2020 202d 2020 2046  on\'s..    -   F
+00049740: 6978 2062 7567 2077 6869 6368 2063 6175  ix bug which cau
+00049750: 7365 6420 6c61 6720 7768 656e 2074 7970  sed lag when typ
+00049760: 696e 6720 696e 2074 6865 2074 6578 7461  ing in the texta
+00049770: 7265 612e 0a20 2020 202d 2020 2052 6566  rea..    -   Ref
+00049780: 7573 6520 746f 2072 756e 206f 6e20 6272  use to run on br
+00049790: 6f77 7365 7273 2077 6520 6b6e 6f77 2077  owsers we know w
+000497a0: 6f6e 5c27 7420 776f 726b 2e0a 2020 2020  on\'t work..    
+000497b0: 2d20 2020 5472 6967 6765 7220 7061 6769  -   Trigger pagi
+000497c0: 6e61 7469 6f6e 2077 6865 6e20 6a6f 696e  nation when join
+000497d0: 696e 6720 6e65 7720 726f 6f6d 732e 0a20  ing new rooms.. 
+000497e0: 2020 202d 2020 2046 6978 2062 7567 2077     -   Fix bug w
+000497f0: 6865 7265 2077 6520 736f 6d65 7469 6d65  here we sometime
+00049800: 7320 6469 646e 5c27 7420 6469 7370 6c61  s didn\'t displa
+00049810: 7920 696e 7669 7461 7469 6f6e 7320 696e  y invitations in
+00049820: 2072 6563 656e 7473 2e0a 2020 2020 2d20   recents..    - 
+00049830: 2020 4175 746f 6d61 7469 6361 6c6c 7920    Automatically 
+00049840: 6a6f 696e 2072 6f6f 6d20 7768 656e 2061  join room when a
+00049850: 6363 6570 7469 6e67 2061 2056 6f49 5020  ccepting a VoIP 
+00049860: 6361 6c6c 2e0a 2020 2020 2d20 2020 4469  call..    -   Di
+00049870: 7361 626c 6520 6f75 7467 6f69 6e67 2061  sable outgoing a
+00049880: 6e64 2072 656a 6563 7420 696e 636f 6d69  nd reject incomi
+00049890: 6e67 2063 616c 6c73 206f 6e20 6272 6f77  ng calls on brow
+000498a0: 7365 7273 2077 6520 646f 6e5c 2774 2073  sers we don\'t s
+000498b0: 7570 706f 7274 2056 6f49 5020 696e 2e0a  upport VoIP in..
+000498c0: 2020 2020 2d20 2020 446f 6e5c 2774 2064      -   Don\'t d
+000498d0: 6973 706c 6179 2064 6573 6b74 6f70 206e  isplay desktop n
+000498e0: 6f74 6966 6963 6174 696f 6e73 2066 6f72  otifications for
+000498f0: 206d 6573 7361 6765 7320 696e 2074 6865   messages in the
+00049900: 2072 6f6f 6d20 796f 7520 6172 6520 6e6f   room you are no
+00049910: 6e2d 6964 6c65 2061 6e64 2073 7065 616b  n-idle and speak
+00049920: 696e 6720 696e 2e0a 0a43 6861 6e67 6573  ing in...Changes
+00049930: 2069 6e20 7379 6e61 7073 6520 302e 332e   in synapse 0.3.
+00049940: 3220 2832 3031 342d 3039 2d31 3829 0a3d  2 (2014-09-18).=
+00049950: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00049960: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00049970: 3d3d 3d3d 0a0a 5765 6263 6c69 656e 743a  ====..Webclient:
+00049980: 0a0a 3a20 2020 2d20 2020 4669 7820 6275  ..:   -   Fix bu
+00049990: 6720 7768 6572 6520 616e 2065 6d70 7479  g where an empty
+000499a0: 205c 2262 696e 6720 776f 7264 735c 2220   \"bing words\" 
+000499b0: 6c69 7374 2069 6e20 6f6c 6420 6163 636f  list in old acco
+000499c0: 756e 7473 2064 6964 6e5c 2774 2073 656e  unts didn\'t sen
+000499d0: 6420 6e6f 7469 6669 6361 7469 6f6e 7320  d notifications 
+000499e0: 7768 656e 2069 7420 7368 6f75 6c64 2068  when it should h
+000499f0: 6176 6520 646f 6e65 2e0a 0a43 6861 6e67  ave done...Chang
+00049a00: 6573 2069 6e20 7379 6e61 7073 6520 302e  es in synapse 0.
+00049a10: 332e 3120 2832 3031 342d 3039 2d31 3829  3.1 (2014-09-18)
+00049a20: 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  .===============
+00049a30: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00049a40: 3d3d 3d3d 3d3d 0a0a 5468 6973 2069 7320  ======..This is 
+00049a50: 6120 7265 6c65 6173 6520 746f 2068 6f74  a release to hot
+00049a60: 6669 7820 7630 2e33 2e30 2074 6f20 6669  fix v0.3.0 to fi
+00049a70: 7820 7477 6f20 7265 6772 6573 7369 6f6e  x two regression
+00049a80: 732e 0a0a 5765 6263 6c69 656e 743a 0a0a  s...Webclient:..
+00049a90: 3a20 2020 2d20 2020 4669 7820 6120 7265  :   -   Fix a re
+00049aa0: 6772 6573 7369 6f6e 2077 6865 7265 2077  gression where w
+00049ab0: 6520 736f 6d65 7469 6d65 7320 6469 7370  e sometimes disp
+00049ac0: 6c61 7965 6420 6475 706c 6963 6174 6520  layed duplicate 
+00049ad0: 6576 656e 7473 2e0a 2020 2020 2d20 2020  events..    -   
+00049ae0: 4669 7820 6120 7265 6772 6573 7369 6f6e  Fix a regression
+00049af0: 2077 6865 7265 2077 6520 6469 646e 5c27   where we didn\'
+00049b00: 7420 696d 6d65 6469 6174 656c 7920 7265  t immediately re
+00049b10: 6d6f 7665 2072 6f6f 6d73 2079 6f75 2077  move rooms you w
+00049b20: 6572 6520 6261 6e6e 6564 2069 6e20 6672  ere banned in fr
+00049b30: 6f6d 2074 6865 2072 6563 656e 7473 206c  om the recents l
+00049b40: 6973 742e 0a0a 4368 616e 6765 7320 696e  ist...Changes in
+00049b50: 2073 796e 6170 7365 2030 2e33 2e30 2028   synapse 0.3.0 (
+00049b60: 3230 3134 2d30 392d 3138 290a 3d3d 3d3d  2014-09-18).====
+00049b70: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00049b80: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+00049b90: 3d0a 0a53 6565 2055 5047 5241 4445 2066  =..See UPGRADE f
+00049ba0: 6f72 2069 6e66 6f72 6d61 7469 6f6e 2061  or information a
+00049bb0: 626f 7574 2063 6861 6e67 6573 2074 6f20  bout changes to 
+00049bc0: 7468 6520 636c 6965 6e74 2073 6572 7665  the client serve
+00049bd0: 7220 4150 492c 2069 6e63 6c75 6469 6e67  r API, including
+00049be0: 2062 7265 616b 696e 6720 6261 636b 7761   breaking backwa
+00049bf0: 7264 7320 636f 6d70 6174 6962 696c 6974  rds compatibilit
+00049c00: 7920 7769 7468 2056 6f49 5020 6361 6c6c  y with VoIP call
+00049c10: 7320 616e 6420 7265 6769 7374 7261 7469  s and registrati
+00049c20: 6f6e 2041 5049 2e0a 0a48 6f6d 6573 6572  on API...Homeser
+00049c30: 7665 723a 0a0a 3a20 2020 2d20 2020 5768  ver:..:   -   Wh
+00049c40: 656e 2061 2075 7365 7220 6368 616e 6765  en a user change
+00049c50: 7320 7468 6569 7220 6469 7370 6c61 796e  s their displayn
+00049c60: 616d 6520 6f72 2061 7661 7461 7220 7468  ame or avatar th
+00049c70: 6520 7365 7276 6572 2077 696c 6c20 6e6f  e server will no
+00049c80: 7720 7570 6461 7465 2061 6c6c 2074 6865  w update all the
+00049c90: 6972 206a 6f69 6e20 7374 6174 6573 2074  ir join states t
+00049ca0: 6f20 7265 666c 6563 7420 7468 6973 2e0a  o reflect this..
+00049cb0: 2020 2020 2d20 2020 5468 6520 7365 7276      -   The serv
+00049cc0: 6572 206e 6f77 2061 6464 7320 5c22 6167  er now adds \"ag
+00049cd0: 655c 2220 6b65 7920 746f 2065 7665 6e74  e\" key to event
+00049ce0: 7320 746f 2069 6e64 6963 6174 6520 686f  s to indicate ho
+00049cf0: 7720 6f6c 6420 7468 6579 2061 7265 2e20  w old they are. 
+00049d00: 5468 6973 2069 7320 636c 6f63 6b20 696e  This is clock in
+00049d10: 6465 7065 6e64 656e 742c 2073 6f20 6174  dependent, so at
+00049d20: 206e 6f20 706f 696e 7420 646f 6573 2061   no point does a
+00049d30: 6e79 2073 6572 7665 7220 6f72 2077 6562  ny server or web
+00049d40: 636c 6965 6e74 2068 6176 6520 746f 2061  client have to a
+00049d50: 7373 756d 6520 7468 6569 7220 636c 6f63  ssume their cloc
+00049d60: 6b20 6973 2069 6e20 7379 6e63 2077 6974  k is in sync wit
+00049d70: 6820 6576 6572 796f 6e65 2065 6c73 652e  h everyone else.
+00049d80: 0a20 2020 202d 2020 2046 6978 2062 7567  .    -   Fix bug
+00049d90: 2077 6865 7265 2077 6520 6469 646e 5c27   where we didn\'
+00049da0: 7420 636f 7272 6563 746c 7920 7075 6c6c  t correctly pull
+00049db0: 2069 6e20 6d69 7373 696e 6720 5044 5573   in missing PDUs
+00049dc0: 2e0a 2020 2020 2d20 2020 4669 7820 6275  ..    -   Fix bu
+00049dd0: 6720 7768 6572 6520 7072 6576 5c5f 636f  g where prev\_co
+00049de0: 6e74 656e 7420 6b65 7920 7761 736e 5c27  ntent key wasn\'
+00049df0: 7420 616c 7761 7973 2072 6574 7572 6e65  t always returne
+00049e00: 642e 0a20 2020 202d 2020 2041 6464 2073  d..    -   Add s
+00049e10: 7570 706f 7274 2066 6f72 2070 6173 7377  upport for passw
+00049e20: 6f72 6420 7265 7365 7473 2e0a 0a57 6562  ord resets...Web
+00049e30: 636c 6965 6e74 3a0a 0a3a 2020 202d 2020  client:..:   -  
+00049e40: 2049 6d70 726f 7665 2070 6167 6520 636f   Improve page co
+00049e50: 6e74 656e 7420 6c6f 6164 696e 672e 0a20  ntent loading.. 
+00049e60: 2020 202d 2020 204a 6f69 6e2f 7061 7274     -   Join/part
+00049e70: 7320 6e6f 7720 7472 6967 6765 7220 6465  s now trigger de
+00049e80: 736b 746f 7020 6e6f 7469 6669 6361 7469  sktop notificati
+00049e90: 6f6e 732e 0a20 2020 202d 2020 2041 6c77  ons..    -   Alw
+00049ea0: 6179 7320 7368 6f77 2072 6f6f 6d20 616c  ays show room al
+00049eb0: 6961 7365 7320 696e 2074 6865 2055 4920  iases in the UI 
+00049ec0: 6966 206f 6e65 2069 7320 7072 6573 656e  if one is presen
+00049ed0: 742e 0a20 2020 202d 2020 204e 6f20 6c6f  t..    -   No lo
+00049ee0: 6e67 6572 2073 686f 7720 7573 6572 2d63  nger show user-c
+00049ef0: 6f75 6e74 2069 6e20 7468 6520 7265 6365  ount in the rece
+00049f00: 6e74 7320 7369 6465 2070 616e 656c 2e0a  nts side panel..
+00049f10: 2020 2020 2d20 2020 4164 6420 7570 2026      -   Add up &
+00049f20: 2064 6f77 6e20 6172 726f 7720 7375 7070   down arrow supp
+00049f30: 6f72 7420 746f 2074 6865 2074 6578 7420  ort to the text 
+00049f40: 626f 7820 666f 7220 6d65 7373 6167 6520  box for message 
+00049f50: 7365 6e64 696e 6720 746f 2073 7465 7020  sending to step 
+00049f60: 7468 726f 7567 6820 796f 7572 2073 656e  through your sen
+00049f70: 7420 6869 7374 6f72 792e 0a20 2020 202d  t history..    -
+00049f80: 2020 2044 6f6e 5c27 7420 6469 7370 6c61     Don\'t displa
+00049f90: 7920 6e6f 7469 6669 6361 7469 6f6e 7320  y notifications 
+00049fa0: 666f 7220 6f75 7220 6f77 6e20 6d65 7373  for our own mess
+00049fb0: 6167 6573 2e0a 2020 2020 2d20 2020 456d  ages..    -   Em
+00049fc0: 6f74 6573 2061 7265 206e 6f77 2066 6f72  otes are now for
+00049fd0: 6d61 7474 6564 2063 6f72 7265 6374 6c79  matted correctly
+00049fe0: 2069 6e20 6465 736b 746f 7020 6e6f 7469   in desktop noti
+00049ff0: 6669 6361 7469 6f6e 732e 0a20 2020 202d  fications..    -
+0004a000: 2020 2054 6865 2072 6563 656e 7473 206c     The recents l
+0004a010: 6973 7420 6e6f 7720 6469 6666 6572 656e  ist now differen
+0004a020: 7469 6174 6573 2062 6574 7765 656e 2070  tiates between p
+0004a030: 7562 6c69 6320 2620 7072 6976 6174 6520  ublic & private 
+0004a040: 726f 6f6d 732e 0a20 2020 202d 2020 2046  rooms..    -   F
+0004a050: 6978 2062 7567 2077 6865 7265 2077 6865  ix bug where whe
+0004a060: 6e20 7377 6974 6368 696e 6720 6265 7477  n switching betw
+0004a070: 6565 6e20 726f 6f6d 7320 7468 6520 7061  een rooms the pa
+0004a080: 6769 6e61 7469 6f6e 2066 6c69 636b 6572  gination flicker
+0004a090: 6564 2062 6566 6f72 6520 7468 6520 7669  ed before the vi
+0004a0a0: 6577 206a 756d 7065 6420 746f 2074 6865  ew jumped to the
+0004a0b0: 2062 6f74 746f 6d20 6f66 2074 6865 2073   bottom of the s
+0004a0c0: 6372 6565 6e2e 0a20 2020 202d 2020 2041  creen..    -   A
+0004a0d0: 6464 2062 696e 6720 776f 7264 2073 7570  dd bing word sup
+0004a0e0: 706f 7274 2e0a 0a52 6567 6973 7472 6174  port...Registrat
+0004a0f0: 696f 6e20 4150 493a 0a0a 3a20 2020 2d20  ion API:..:   - 
+0004a100: 2020 5468 6520 7265 6769 7374 7261 7469    The registrati
+0004a110: 6f6e 2041 5049 2068 6173 2062 6565 6e20  on API has been 
+0004a120: 6f76 6572 6861 756c 6564 2074 6f20 6675  overhauled to fu
+0004a130: 6e63 7469 6f6e 206c 696b 6520 7468 6520  nction like the 
+0004a140: 6c6f 6769 6e20 4150 492e 2049 6e20 7072  login API. In pr
+0004a150: 6163 7469 6365 2c20 7468 6973 206d 6561  actice, this mea
+0004a160: 6e73 2072 6567 6973 7472 6174 696f 6e20  ns registration 
+0004a170: 7265 7175 6573 7473 206d 7573 7420 6e6f  requests must no
+0004a180: 7720 696e 636c 7564 6520 7468 6520 666f  w include the fo
+0004a190: 6c6c 6f77 696e 673a 205c 2774 7970 655c  llowing: \'type\
+0004a1a0: 273a 5c27 6d2e 6c6f 6769 6e2e 7061 7373  ':\'m.login.pass
+0004a1b0: 776f 7264 5c27 2e20 5365 6520 5550 4752  word\'. See UPGR
+0004a1c0: 4144 4520 666f 7220 6d6f 7265 2069 6e66  ADE for more inf
+0004a1d0: 6f72 6d61 7469 6f6e 206f 6e20 7468 6973  ormation on this
+0004a1e0: 2e0a 2020 2020 2d20 2020 5468 6520 5c27  ..    -   The \'
+0004a1f0: 7573 6572 5c5f 6964 5c27 206b 6579 2068  user\_id\' key h
+0004a200: 6173 2062 6565 6e20 7265 6e61 6d65 6420  as been renamed 
+0004a210: 746f 205c 2775 7365 725c 2720 746f 2062  to \'user\' to b
+0004a220: 6574 7465 7220 6d61 7463 6820 7468 6520  etter match the 
+0004a230: 6c6f 6769 6e20 4150 492e 0a20 2020 202d  login API..    -
+0004a240: 2020 2054 6865 7265 2069 7320 616e 2061     There is an a
+0004a250: 6464 6974 696f 6e61 6c20 6c6f 6769 6e20  dditional login 
+0004a260: 7479 7065 3a20 5c27 6d2e 6c6f 6769 6e2e  type: \'m.login.
+0004a270: 656d 6169 6c2e 6964 656e 7469 7479 5c27  email.identity\'
+0004a280: 2e0a 2020 2020 2d20 2020 5468 6520 636f  ..    -   The co
+0004a290: 6d6d 616e 6420 636c 6965 6e74 2061 6e64  mmand client and
+0004a2a0: 2077 6562 2063 6c69 656e 7420 6861 7665   web client have
+0004a2b0: 2062 6565 6e20 7570 6461 7465 6420 746f   been updated to
+0004a2c0: 2072 6566 6c65 6374 2074 6865 7365 2063   reflect these c
+0004a2d0: 6861 6e67 6573 2e0a 0a43 6861 6e67 6573  hanges...Changes
+0004a2e0: 2069 6e20 7379 6e61 7073 6520 302e 322e   in synapse 0.2.
+0004a2f0: 3320 2832 3031 342d 3039 2d31 3229 0a3d  3 (2014-09-12).=
+0004a300: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0004a310: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0004a320: 3d3d 3d3d 0a0a 486f 6d65 7365 7276 6572  ====..Homeserver
+0004a330: 3a0a 0a3a 2020 202d 2020 2046 6978 2062  :..:   -   Fix b
+0004a340: 7567 2077 6865 7265 2077 6520 7374 6f70  ug where we stop
+0004a350: 7065 6420 7365 6e64 696e 6720 6576 656e  ped sending even
+0004a360: 7473 2074 6f20 7265 6d6f 7465 2068 6f6d  ts to remote hom
+0004a370: 6520 7365 7276 6572 7320 6966 2061 2075  e servers if a u
+0004a380: 7365 7220 6672 6f6d 2074 6861 7420 686f  ser from that ho
+0004a390: 6d65 2073 6572 7665 7220 6c65 6674 2c20  me server left, 
+0004a3a0: 6576 656e 2069 6620 7468 6572 6520 7765  even if there we
+0004a3b0: 7265 2073 6f6d 6520 7374 696c 6c20 696e  re some still in
+0004a3c0: 2074 6865 2072 6f6f 6d2e 0a20 2020 202d   the room..    -
+0004a3d0: 2020 2046 6978 2062 7567 7320 696e 2074     Fix bugs in t
+0004a3e0: 6865 2073 7461 7465 2063 6f6e 666c 6963  he state conflic
+0004a3f0: 7420 7265 736f 6c75 7469 6f6e 2077 6865  t resolution whe
+0004a400: 7265 2069 7420 7761 7320 696e 636f 7272  re it was incorr
+0004a410: 6563 746c 7920 7265 6a65 6374 696e 6720  ectly rejecting 
+0004a420: 6576 656e 7473 2e0a 0a57 6562 636c 6965  events...Webclie
+0004a430: 6e74 3a0a 0a3a 2020 202d 2020 2044 6973  nt:..:   -   Dis
+0004a440: 706c 6179 2072 6f6f 6d20 6e61 6d65 7320  play room names 
+0004a450: 616e 6420 746f 7069 6373 2e0a 2020 2020  and topics..    
+0004a460: 2d20 2020 416c 6c6f 7720 7365 7474 696e  -   Allow settin
+0004a470: 672f 6564 6974 696e 6720 6f66 2072 6f6f  g/editing of roo
+0004a480: 6d20 6e61 6d65 7320 616e 6420 746f 7069  m names and topi
+0004a490: 6373 2e0a 2020 2020 2d20 2020 4469 7370  cs..    -   Disp
+0004a4a0: 6c61 7920 696e 666f 726d 6174 696f 6e20  lay information 
+0004a4b0: 6162 6f75 7420 726f 6f6d 7320 6f6e 2074  about rooms on t
+0004a4c0: 6865 206d 6169 6e20 7061 6765 2e0a 2020  he main page..  
+0004a4d0: 2020 2d20 2020 4861 6e64 6c65 2062 616e    -   Handle ban
+0004a4e0: 2061 6e64 206b 6963 6b20 6576 656e 7473   and kick events
+0004a4f0: 2069 6e20 7265 616c 2074 696d 652e 0a20   in real time.. 
+0004a500: 2020 202d 2020 2056 6f49 5020 5549 2061     -   VoIP UI a
+0004a510: 6e64 2072 656c 6961 6269 6c69 7479 2069  nd reliability i
+0004a520: 6d70 726f 7665 6d65 6e74 732e 0a20 2020  mprovements..   
+0004a530: 202d 2020 2041 6464 2067 6c61 7265 2073   -   Add glare s
+0004a540: 7570 706f 7274 2066 6f72 2056 6f49 502e  upport for VoIP.
+0004a550: 0a20 2020 202d 2020 2049 6d70 726f 7665  .    -   Improve
+0004a560: 6d65 6e74 7320 746f 2069 6e69 7469 616c  ments to initial
+0004a570: 2073 7461 7274 7570 2073 7065 6564 2e0a   startup speed..
+0004a580: 2020 2020 2d20 2020 446f 6e5c 2774 2064      -   Don\'t d
+0004a590: 6973 706c 6179 2064 7570 6c69 6361 7465  isplay duplicate
+0004a5a0: 206a 6f69 6e20 6576 656e 7473 2e0a 2020   join events..  
+0004a5b0: 2020 2d20 2020 4c6f 6361 6c20 6563 686f    -   Local echo
+0004a5c0: 206f 6620 6d65 7373 6167 6573 2e0a 2020   of messages..  
+0004a5d0: 2020 2d20 2020 4469 6666 6572 656e 7469    -   Differenti
+0004a5e0: 6174 6520 7365 6e64 696e 6720 616e 6420  ate sending and 
+0004a5f0: 7365 6e74 206f 6620 6c6f 6361 6c20 6563  sent of local ec
+0004a600: 686f 2e0a 2020 2020 2d20 2020 5661 7269  ho..    -   Vari
+0004a610: 6f75 7320 6d69 6e6f 7220 6275 6720 6669  ous minor bug fi
+0004a620: 7865 732e 0a0a 4368 616e 6765 7320 696e  xes...Changes in
+0004a630: 2073 796e 6170 7365 2030 2e32 2e32 2028   synapse 0.2.2 (
+0004a640: 3230 3134 2d30 392d 3036 290a 3d3d 3d3d  2014-09-06).====
+0004a650: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0004a660: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0004a670: 3d0a 0a48 6f6d 6573 6572 7665 723a 0a0a  =..Homeserver:..
+0004a680: 3a20 2020 2d20 2020 5768 656e 2074 6865  :   -   When the
+0004a690: 2073 6572 7665 7220 7265 7475 726e 7320   server returns 
+0004a6a0: 7374 6174 6520 6576 656e 7473 2069 7420  state events it 
+0004a6b0: 6e6f 7720 616c 736f 2069 6e63 6c75 6465  now also include
+0004a6c0: 7320 7468 6520 7072 6576 696f 7573 2063  s the previous c
+0004a6d0: 6f6e 7465 6e74 2e0a 2020 2020 2d20 2020  ontent..    -   
+0004a6e0: 4164 6420 7375 7070 6f72 7420 666f 7220  Add support for 
+0004a6f0: 696e 7669 7469 6e67 2070 656f 706c 6520  inviting people 
+0004a700: 7768 656e 2063 7265 6174 696e 6720 6120  when creating a 
+0004a710: 6e65 7720 726f 6f6d 2e0a 2020 2020 2d20  new room..    - 
+0004a720: 2020 4d61 6b65 2074 6865 2068 6f6d 6573    Make the homes
+0004a730: 6572 7665 7220 696e 666f 726d 2074 6865  erver inform the
+0004a740: 2072 6f6f 6d20 7669 6120 6d2e 726f 6f6d   room via m.room
+0004a750: 2e61 6c69 6173 6573 2077 6865 6e20 6120  .aliases when a 
+0004a760: 6e65 7720 616c 6961 7320 6973 2061 6464  new alias is add
+0004a770: 6564 2066 6f72 2061 2072 6f6f 6d2e 0a20  ed for a room.. 
+0004a780: 2020 202d 2020 2056 616c 6964 6174 6520     -   Validate 
+0004a790: 6d2e 726f 6f6d 2e70 6f77 6572 5c5f 6c65  m.room.power\_le
+0004a7a0: 7665 6c20 6576 656e 7473 2e0a 0a57 6562  vel events...Web
+0004a7b0: 636c 6965 6e74 3a0a 0a3a 2020 202d 2020  client:..:   -  
+0004a7c0: 2041 6464 2073 7570 706f 7274 2066 6f72   Add support for
+0004a7d0: 2063 6170 7463 6861 7320 6f6e 2072 6567   captchas on reg
+0004a7e0: 6973 7472 6174 696f 6e2e 0a20 2020 202d  istration..    -
+0004a7f0: 2020 2048 616e 646c 6520 6d2e 726f 6f6d     Handle m.room
+0004a800: 2e61 6c69 6173 6573 2065 7665 6e74 732e  .aliases events.
+0004a810: 0a20 2020 202d 2020 2041 7379 6e63 6872  .    -   Asynchr
+0004a820: 6f6e 6f75 736c 7920 7365 6e64 206d 6573  onously send mes
+0004a830: 7361 6765 7320 616e 6420 7368 6f77 2061  sages and show a
+0004a840: 206c 6f63 616c 2065 6368 6f2e 0a20 2020   local echo..   
+0004a850: 202d 2020 2049 6e66 6f72 6d20 7468 6520   -   Inform the 
+0004a860: 5549 2077 6865 6e20 6120 6d65 7373 6167  UI when a messag
+0004a870: 6520 6661 696c 6564 2074 6f20 7365 6e64  e failed to send
+0004a880: 2e0a 2020 2020 2d20 2020 4f6e 6c79 2061  ..    -   Only a
+0004a890: 7574 6f73 6372 6f6c 6c20 6f6e 2072 6563  utoscroll on rec
+0004a8a0: 6569 7669 6e67 2061 206e 6577 206d 6573  eiving a new mes
+0004a8b0: 7361 6765 2069 6620 7468 6520 7573 6572  sage if the user
+0004a8c0: 2077 6173 2061 6c72 6561 6479 2061 7420   was already at 
+0004a8d0: 7468 6520 626f 7474 6f6d 206f 6620 7468  the bottom of th
+0004a8e0: 6520 7363 7265 656e 2e0a 2020 2020 2d20  e screen..    - 
+0004a8f0: 2020 4164 6420 7375 7070 6f72 7420 666f    Add support fo
+0004a900: 7220 6261 6e2f 6b69 636b 2072 6561 736f  r ban/kick reaso
+0004a910: 6e73 2e0a 0a43 6861 6e67 6573 2069 6e20  ns...Changes in 
+0004a920: 7379 6e61 7073 6520 302e 322e 3120 2832  synapse 0.2.1 (2
+0004a930: 3031 342d 3039 2d30 3329 0a3d 3d3d 3d3d  014-09-03).=====
+0004a940: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0004a950: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0004a960: 0a0a 486f 6d65 7365 7276 6572 3a0a 0a3a  ..Homeserver:..:
+0004a970: 2020 202d 2020 2041 6464 6564 2073 7570     -   Added sup
+0004a980: 706f 7274 2066 6f72 2073 6967 6e69 6e67  port for signing
+0004a990: 2075 7020 7769 7468 2061 2074 6869 7264   up with a third
+0004a9a0: 2070 6172 7479 2069 642e 0a20 2020 202d   party id..    -
+0004a9b0: 2020 2041 6464 2073 796e 6374 6c20 7363     Add synctl sc
+0004a9c0: 7269 7074 732e 0a20 2020 202d 2020 2041  ripts..    -   A
+0004a9d0: 6464 6564 2072 6174 6520 6c69 6d69 7469  dded rate limiti
+0004a9e0: 6e67 2e0a 2020 2020 2d20 2020 4164 6420  ng..    -   Add 
+0004a9f0: 6f70 7469 6f6e 2074 6f20 6368 616e 6765  option to change
+0004aa00: 2074 6865 2065 7874 6572 6e61 6c20 6164   the external ad
+0004aa10: 6472 6573 7320 7468 6520 636f 6e74 656e  dress the conten
+0004aa20: 7420 7265 706f 2075 7365 732e 0a20 2020  t repo uses..   
+0004aa30: 202d 2020 2050 7265 7365 6e63 6520 6275   -   Presence bu
+0004aa40: 6720 6669 7865 732e 0a0a 5765 6263 6c69  g fixes...Webcli
+0004aa50: 656e 743a 0a0a 3a20 2020 2d20 2020 4164  ent:..:   -   Ad
+0004aa60: 6465 6420 7375 7070 6f72 7420 666f 7220  ded support for 
+0004aa70: 7369 676e 696e 6720 7570 2077 6974 6820  signing up with 
+0004aa80: 6120 7468 6972 6420 7061 7274 7920 6964  a third party id
+0004aa90: 2e0a 2020 2020 2d20 2020 4164 6465 6420  ..    -   Added 
+0004aaa0: 7375 7070 6f72 7420 666f 7220 6261 6e6e  support for bann
+0004aab0: 696e 6720 616e 6420 6b69 636b 696e 6720  ing and kicking 
+0004aac0: 7573 6572 732e 0a20 2020 202d 2020 2041  users..    -   A
+0004aad0: 6464 6564 2073 7570 706f 7274 2066 6f72  dded support for
+0004aae0: 2064 6973 706c 6179 696e 6720 616e 6420   displaying and 
+0004aaf0: 7365 7474 696e 6720 6f70 732e 0a20 2020  setting ops..   
+0004ab00: 202d 2020 2041 6464 6564 2073 7570 706f   -   Added suppo
+0004ab10: 7274 2066 6f72 2072 6f6f 6d20 6e61 6d65  rt for room name
+0004ab20: 732e 0a20 2020 202d 2020 2046 6978 2062  s..    -   Fix b
+0004ab30: 7567 7320 7769 7468 2072 6f6f 6d20 6d65  ugs with room me
+0004ab40: 6d62 6572 7368 6970 2065 7665 6e74 2064  mbership event d
+0004ab50: 6973 706c 6179 2e0a 0a43 6861 6e67 6573  isplay...Changes
+0004ab60: 2069 6e20 7379 6e61 7073 6520 302e 322e   in synapse 0.2.
+0004ab70: 3020 2832 3031 342d 3039 2d30 3229 0a3d  0 (2014-09-02).=
+0004ab80: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0004ab90: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0004aba0: 3d3d 3d3d 0a0a 5468 6973 2075 7064 6174  ====..This updat
+0004abb0: 6520 6368 616e 6765 7320 6d61 6e79 2063  e changes many c
+0004abc0: 6f6e 6669 6775 7261 7469 6f6e 206f 7074  onfiguration opt
+0004abd0: 696f 6e73 2c20 7570 6461 7465 7320 7468  ions, updates th
+0004abe0: 6520 6461 7461 6261 7365 2073 6368 656d  e database schem
+0004abf0: 6120 616e 6420 6d61 6e64 6174 6573 2053  a and mandates S
+0004ac00: 534c 2066 6f72 2073 6572 7665 722d 7365  SL for server-se
+0004ac10: 7276 6572 2063 6f6e 6e65 6374 696f 6e73  rver connections
+0004ac20: 2e0a 0a48 6f6d 6573 6572 7665 723a 0a0a  ...Homeserver:..
+0004ac30: 3a20 2020 2d20 2020 5265 7175 6972 6520  :   -   Require 
+0004ac40: 5353 4c20 666f 7220 7365 7276 6572 2d73  SSL for server-s
+0004ac50: 6572 7665 7220 636f 6e6e 6563 7469 6f6e  erver connection
+0004ac60: 732e 0a20 2020 202d 2020 2041 6464 2053  s..    -   Add S
+0004ac70: 534c 206c 6973 7465 6e65 7220 666f 7220  SL listener for 
+0004ac80: 636c 6965 6e74 2d73 6572 7665 7220 636f  client-server co
+0004ac90: 6e6e 6563 7469 6f6e 732e 0a20 2020 202d  nnections..    -
+0004aca0: 2020 2041 6464 2061 6269 6c69 7479 2074     Add ability t
+0004acb0: 6f20 7573 6520 636f 6e66 6967 2066 696c  o use config fil
+0004acc0: 6573 2e0a 2020 2020 2d20 2020 4164 6420  es..    -   Add 
+0004acd0: 7375 7070 6f72 7420 666f 7220 6b69 636b  support for kick
+0004ace0: 696e 672f 6261 6e6e 696e 6720 616e 6420  ing/banning and 
+0004acf0: 706f 7765 7220 6c65 7665 6c73 2e0a 2020  power levels..  
+0004ad00: 2020 2d20 2020 416c 6c6f 7720 7365 7474    -   Allow sett
+0004ad10: 696e 6720 6f66 2072 6f6f 6d20 6e61 6d65  ing of room name
+0004ad20: 7320 616e 6420 746f 7069 6373 206f 6e20  s and topics on 
+0004ad30: 6372 6561 7469 6f6e 2e0a 2020 2020 2d20  creation..    - 
+0004ad40: 2020 4368 616e 6765 2070 7265 7365 6e63    Change presenc
+0004ad50: 6520 746f 2069 6e63 6c75 6465 206c 6173  e to include las
+0004ad60: 7420 7365 656e 2074 696d 6520 6f66 2074  t seen time of t
+0004ad70: 6865 2075 7365 722e 0a20 2020 202d 2020  he user..    -  
+0004ad80: 2043 6861 6e67 6520 7572 6c20 7061 7468   Change url path
+0004ad90: 2070 7265 6669 7820 746f 202f 5c5f 6d61   prefix to /\_ma
+0004ada0: 7472 6978 2f5c 2e2e 2e0a 2020 2020 2d20  trix/\....    - 
+0004adb0: 2020 4275 6720 6669 7865 7320 746f 2070    Bug fixes to p
+0004adc0: 7265 7365 6e63 652e 0a0a 5765 6263 6c69  resence...Webcli
+0004add0: 656e 743a 0a0a 3a20 2020 2d20 2020 5265  ent:..:   -   Re
+0004ade0: 736b 696e 2074 6865 2043 5353 2066 6f72  skin the CSS for
+0004adf0: 2072 6567 6973 7472 6174 696f 6e20 616e   registration an
+0004ae00: 6420 6c6f 6769 6e2e 0a20 2020 202d 2020  d login..    -  
+0004ae10: 2056 6172 696f 7573 2069 6d70 726f 7665   Various improve
+0004ae20: 6d65 6e74 7320 746f 2072 6f6f 6d73 2043  ments to rooms C
+0004ae30: 5353 2e0a 2020 2020 2d20 2020 5375 7070  SS..    -   Supp
+0004ae40: 6f72 7420 6368 616e 6765 7320 696e 2063  ort changes in c
+0004ae50: 6c69 656e 742d 7365 7276 6572 2041 5049  lient-server API
+0004ae60: 2e0a 2020 2020 2d20 2020 4275 6720 6669  ..    -   Bug fi
+0004ae70: 7865 7320 746f 2056 4f49 5020 5549 2e0a  xes to VOIP UI..
+0004ae80: 2020 2020 2d20 2020 5661 7269 6f75 7320      -   Various 
+0004ae90: 6275 6720 6669 7865 7320 746f 2068 616e  bug fixes to han
+0004aea0: 646c 696e 6720 6f66 2063 6861 6e67 6573  dling of changes
+0004aeb0: 2074 6f20 726f 6f6d 206d 656d 6265 7220   to room member 
+0004aec0: 6c69 7374 2e0a 0a43 6861 6e67 6573 2069  list...Changes i
+0004aed0: 6e20 7379 6e61 7073 6520 302e 312e 3220  n synapse 0.1.2 
+0004aee0: 2832 3031 342d 3038 2d32 3929 0a3d 3d3d  (2014-08-29).===
+0004aef0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0004af00: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0004af10: 3d3d 0a0a 5765 6263 6c69 656e 743a 0a0a  ==..Webclient:..
+0004af20: 3a20 2020 2d20 2020 4164 6420 6261 7369  :   -   Add basi
+0004af30: 6320 6361 6c6c 2073 7461 7465 2055 4920  c call state UI 
+0004af40: 666f 7220 566f 4950 2063 616c 6c73 2e0a  for VoIP calls..
+0004af50: 0a43 6861 6e67 6573 2069 6e20 7379 6e61  .Changes in syna
+0004af60: 7073 6520 302e 312e 3120 2832 3031 342d  pse 0.1.1 (2014-
+0004af70: 3038 2d32 3929 0a3d 3d3d 3d3d 3d3d 3d3d  08-29).=========
+0004af80: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0004af90: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 486f  ============..Ho
+0004afa0: 6d65 7365 7276 6572 3a0a 0a3a 2020 202d  meserver:..:   -
+0004afb0: 2020 2046 6978 2062 7567 2074 6861 7420     Fix bug that 
+0004afc0: 6361 7573 6564 2074 6865 2065 7665 6e74  caused the event
+0004afd0: 2073 7472 6561 6d20 746f 206e 6f74 206e   stream to not n
+0004afe0: 6f74 6966 7920 736f 6d65 2063 6c69 656e  otify some clien
+0004aff0: 7473 2061 626f 7574 2063 6861 6e67 6573  ts about changes
+0004b000: 2e0a 0a43 6861 6e67 6573 2069 6e20 7379  ...Changes in sy
+0004b010: 6e61 7073 6520 302e 312e 3020 2832 3031  napse 0.1.0 (201
+0004b020: 342d 3038 2d32 3929 0a3d 3d3d 3d3d 3d3d  4-08-29).=======
+0004b030: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0004b040: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a  ==============..
+0004b050: 5072 6573 656e 6365 2068 6173 2062 6565  Presence has bee
+0004b060: 6e20 7265 656e 6162 6c65 6420 696e 2074  n reenabled in t
+0004b070: 6869 7320 7265 6c65 6173 652e 0a0a 486f  his release...Ho
+0004b080: 6d65 7365 7276 6572 3a0a 0a3a 2020 202d  meserver:..:   -
+0004b090: 0a0a 2020 2020 2020 2020 5570 6461 7465  ..        Update
+0004b0a0: 2063 6c69 656e 7420 746f 2073 6572 7665   client to serve
+0004b0b0: 7220 4150 492c 2069 6e63 6c75 6469 6e67  r API, including
+0004b0c0: 3a0a 0a20 2020 2020 2020 203a 2020 202d  :..        :   -
+0004b0d0: 2020 2055 7365 2061 206d 6f72 6520 636f     Use a more co
+0004b0e0: 6e73 6973 7465 6e74 2075 726c 2073 6368  nsistent url sch
+0004b0f0: 656d 652e 0a20 2020 2020 2020 2020 2020  eme..           
+0004b100: 202d 2020 2050 726f 7669 6465 206d 6f72   -   Provide mor
+0004b110: 6520 7573 6566 756c 2069 6e66 6f72 6d61  e useful informa
+0004b120: 7469 6f6e 2069 6e20 7468 6520 696e 6974  tion in the init
+0004b130: 6961 6c20 7379 6e63 2061 7069 2e0a 0a20  ial sync api... 
+0004b140: 2020 202d 2020 2043 6861 6e67 6520 7468     -   Change th
+0004b150: 6520 7072 6573 656e 6365 2068 616e 646c  e presence handl
+0004b160: 696e 6720 746f 2062 6520 6d75 6368 206d  ing to be much m
+0004b170: 6f72 6520 6566 6669 6369 656e 742e 0a20  ore efficient.. 
+0004b180: 2020 202d 2020 2043 6861 6e67 6520 7468     -   Change th
+0004b190: 6520 7072 6573 656e 6365 2073 6572 7665  e presence serve
+0004b1a0: 7220 746f 2073 6572 7665 7220 4150 4920  r to server API 
+0004b1b0: 746f 206e 6f74 2072 6571 7569 7265 2065  to not require e
+0004b1c0: 7870 6c69 6369 7420 706f 6c6c 696e 6720  xplicit polling 
+0004b1d0: 6f66 2061 6c6c 2075 7365 7273 2077 686f  of all users who
+0004b1e0: 2073 6861 7265 2061 2072 6f6f 6d20 7769   share a room wi
+0004b1f0: 7468 2061 2075 7365 722e 0a20 2020 202d  th a user..    -
+0004b200: 2020 2046 6978 2072 6163 6573 2069 6e20     Fix races in 
+0004b210: 7468 6520 6576 656e 7420 7374 7265 616d  the event stream
+0004b220: 696e 6720 6c6f 6769 632e 0a0a 5765 6263  ing logic...Webc
+0004b230: 6c69 656e 743a 0a0a 3a20 2020 2d20 2020  lient:..:   -   
+0004b240: 5570 6461 7465 2074 6f20 7573 6520 6e65  Update to use ne
+0004b250: 7720 636c 6965 6e74 2074 6f20 7365 7276  w client to serv
+0004b260: 6572 2041 5049 2e0a 2020 2020 2d20 2020  er API..    -   
+0004b270: 4164 6420 6261 7369 6320 564f 4950 2073  Add basic VOIP s
+0004b280: 7570 706f 7274 2e0a 2020 2020 2d20 2020  upport..    -   
+0004b290: 4164 6420 6964 6c65 2074 696d 6572 7320  Add idle timers 
+0004b2a0: 7468 6174 2063 6861 6e67 6520 796f 7572  that change your
+0004b2b0: 2073 7461 7475 7320 746f 2061 7761 792e   status to away.
+0004b2c0: 0a20 2020 202d 2020 2041 6464 2072 6563  .    -   Add rec
+0004b2d0: 656e 7420 726f 6f6d 7320 636f 6c75 6d6e  ent rooms column
+0004b2e0: 2077 6865 6e20 7669 6577 696e 6720 6120   when viewing a 
+0004b2f0: 726f 6f6d 2e0a 2020 2020 2d20 2020 5661  room..    -   Va
+0004b300: 7269 6f75 7320 6e65 7477 6f72 6b20 6566  rious network ef
+0004b310: 6669 6369 656e 6379 2069 6d70 726f 7665  ficiency improve
+0004b320: 6d65 6e74 732e 0a20 2020 202d 2020 2041  ments..    -   A
+0004b330: 6464 2062 6173 6963 206d 6f62 696c 6520  dd basic mobile 
+0004b340: 6272 6f77 7365 7220 7375 7070 6f72 742e  browser support.
+0004b350: 0a20 2020 202d 2020 2041 6464 2061 2073  .    -   Add a s
+0004b360: 6574 7469 6e67 7320 7061 6765 2e0a 0a43  ettings page...C
+0004b370: 6861 6e67 6573 2069 6e20 7379 6e61 7073  hanges in synaps
+0004b380: 6520 302e 302e 3120 2832 3031 342d 3038  e 0.0.1 (2014-08
+0004b390: 2d32 3229 0a3d 3d3d 3d3d 3d3d 3d3d 3d3d  -22).===========
+0004b3a0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0004b3b0: 3d3d 3d3d 3d3d 3d3d 3d3d 0a0a 5072 6573  ==========..Pres
+0004b3c0: 656e 6365 2068 6173 2062 6565 6e20 6469  ence has been di
+0004b3d0: 7361 626c 6564 2069 6e20 7468 6973 2072  sabled in this r
+0004b3e0: 656c 6561 7365 2064 7565 2074 6f20 6120  elease due to a 
+0004b3f0: 6275 6720 7468 6174 2063 6175 7365 6420  bug that caused 
+0004b400: 7468 6520 686f 6d65 7365 7276 6572 2074  the homeserver t
+0004b410: 6f20 7370 616d 206f 7468 6572 2072 656d  o spam other rem
+0004b420: 6f74 6520 686f 6d65 7365 7276 6572 732e  ote homeservers.
+0004b430: 0a0a 486f 6d65 7365 7276 6572 3a0a 0a3a  ..Homeserver:..:
+0004b440: 2020 202d 2020 2043 6f6d 706c 6574 656c     -   Completel
+0004b450: 7920 6368 616e 6765 2074 6865 2064 6174  y change the dat
+0004b460: 6162 6173 6520 7363 6865 6d61 2074 6f20  abase schema to 
+0004b470: 7375 7070 6f72 7420 6765 6e65 7269 6320  support generic 
+0004b480: 6576 656e 7420 7479 7065 732e 0a20 2020  event types..   
+0004b490: 202d 2020 2049 6d70 726f 7665 2070 7265   -   Improve pre
+0004b4a0: 7365 6e63 6520 7265 6c69 6162 696c 6974  sence reliabilit
+0004b4b0: 792e 0a20 2020 202d 2020 2049 6d70 726f  y..    -   Impro
+0004b4c0: 7665 2072 656c 6961 6269 6c69 7479 206f  ve reliability o
+0004b4d0: 6620 6a6f 696e 696e 6720 7265 6d6f 7465  f joining remote
+0004b4e0: 2072 6f6f 6d73 2e0a 2020 2020 2d20 2020   rooms..    -   
+0004b4f0: 4669 7820 6275 6720 7768 6572 6520 726f  Fix bug where ro
+0004b500: 6f6d 206a 6f69 6e20 6576 656e 7473 2077  om join events w
+0004b510: 6572 6520 6475 706c 6963 6174 6564 2e0a  ere duplicated..
+0004b520: 2020 2020 2d20 2020 496d 7072 6f76 6520      -   Improve 
+0004b530: 696e 6974 6961 6c20 7379 6e63 2041 5049  initial sync API
+0004b540: 2074 6f20 7265 7475 726e 206d 6f72 6520   to return more 
+0004b550: 696e 666f 726d 6174 696f 6e20 746f 2074  information to t
+0004b560: 6865 2063 6c69 656e 742e 0a20 2020 202d  he client..    -
+0004b570: 2020 2053 746f 7020 6765 6e65 7261 7469     Stop generati
+0004b580: 6e67 2066 616b 6520 6d65 7373 6167 6573  ng fake messages
+0004b590: 2066 6f72 2072 6f6f 6d20 6d65 6d62 6572   for room member
+0004b5a0: 7368 6970 2065 7665 6e74 732e 0a0a 5765  ship events...We
+0004b5b0: 6263 6c69 656e 743a 0a0a 3a20 2020 2d20  bclient:..:   - 
+0004b5c0: 2020 4164 6420 7461 6220 636f 6d70 6c65    Add tab comple
+0004b5d0: 7469 6f6e 206f 6620 6e61 6d65 732e 0a20  tion of names.. 
+0004b5e0: 2020 202d 2020 2041 6464 2061 6269 6c69     -   Add abili
+0004b5f0: 7479 2074 6f20 7570 6c6f 6164 2061 6e64  ty to upload and
+0004b600: 2073 656e 6420 696d 6167 6573 2e0a 2020   send images..  
+0004b610: 2020 2d20 2020 4164 6420 7072 6f66 696c    -   Add profil
+0004b620: 6520 7061 6765 732e 0a20 2020 202d 2020  e pages..    -  
+0004b630: 2049 6d70 726f 7665 2043 5353 206c 6179   Improve CSS lay
+0004b640: 6f75 7420 6f66 2072 6f6f 6d2e 0a20 2020  out of room..   
+0004b650: 202d 2020 2044 6973 616d 6269 6775 6174   -   Disambiguat
+0004b660: 6520 6964 656e 7469 6361 6c20 6469 7370  e identical disp
+0004b670: 6c61 7920 6e61 6d65 732e 0a20 2020 202d  lay names..    -
+0004b680: 2020 2044 6f6e 5c27 7420 6765 7420 7265     Don\'t get re
+0004b690: 6d6f 7465 2075 7365 7273 2064 6973 706c  mote users displ
+0004b6a0: 6179 206e 616d 6573 2061 6e64 2061 7661  ay names and ava
+0004b6b0: 7461 7273 2069 6e64 6976 6964 7561 6c6c  tars individuall
+0004b6c0: 792e 0a20 2020 202d 2020 2055 7365 2074  y..    -   Use t
+0004b6d0: 6865 206e 6577 2069 6e69 7469 616c 2073  he new initial s
+0004b6e0: 796e 6320 4150 4920 746f 2072 6564 7563  ync API to reduc
+0004b6f0: 6520 6e75 6d62 6572 206f 6620 726f 756e  e number of roun
+0004b700: 6420 7472 6970 7320 746f 2074 6865 2068  d trips to the h
+0004b710: 6f6d 6573 6572 7665 722e 0a20 2020 202d  omeserver..    -
+0004b720: 2020 2043 6861 6e67 6520 7572 6c20 7363     Change url sc
+0004b730: 6865 6d65 2074 6f20 7573 6520 726f 6f6d  heme to use room
+0004b740: 2061 6c69 6173 6573 2069 6e73 7465 6164   aliases instead
+0004b750: 206f 6620 726f 6f6d 2069 6473 2077 6865   of room ids whe
+0004b760: 7265 206b 6e6f 776e 2e0a 2020 2020 2d20  re known..    - 
+0004b770: 2020 496e 6372 6561 7365 206c 6f6e 6770    Increase longp
+0004b780: 6f6c 6c20 7469 6d65 6f75 742e 0a0a 4368  oll timeout...Ch
+0004b790: 616e 6765 7320 696e 2073 796e 6170 7365  anges in synapse
+0004b7a0: 2030 2e30 2e30 2028 3230 3134 2d30 382d   0.0.0 (2014-08-
+0004b7b0: 3133 290a 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  13).============
+0004b7c0: 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d 3d3d  ================
+0004b7d0: 3d3d 3d3d 3d3d 3d3d 3d0a 0a3e 202d 2020  =========..> -  
+0004b7e0: 2049 6e69 7469 616c 2061 6c70 6861 2072   Initial alpha r
+0004b7f0: 656c 6561 7365 0a                        elease.
```

### Comparing `matrix-synapse-1.9.0rc1/CONTRIBUTING.md` & `matrix-synapse-1.9.1/CONTRIBUTING.md`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/INSTALL.md` & `matrix-synapse-1.9.1/INSTALL.md`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/LICENSE` & `matrix-synapse-1.9.1/LICENSE`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/MANIFEST.in` & `matrix-synapse-1.9.1/MANIFEST.in`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/PKG-INFO` & `matrix-synapse-1.9.1/PKG-INFO`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: matrix-synapse
-Version: 1.9.0rc1
+Version: 1.9.1
 Summary: Reference homeserver for the Matrix decentralised comms protocol
 Home-page: UNKNOWN
 License: UNKNOWN
 Description: .. contents::
         
         Introduction
         ============
```

### Comparing `matrix-synapse-1.9.0rc1/README.rst` & `matrix-synapse-1.9.1/README.rst`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/UPGRADE.rst` & `matrix-synapse-1.9.1/UPGRADE.rst`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/demo/README` & `matrix-synapse-1.9.1/demo/README`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/demo/start.sh` & `matrix-synapse-1.9.1/demo/start.sh`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/demo/webserver.py` & `matrix-synapse-1.9.1/demo/webserver.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/docs/.sample_config_header.yaml` & `matrix-synapse-1.9.1/docs/.sample_config_header.yaml`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/docs/ACME.md` & `matrix-synapse-1.9.1/docs/ACME.md`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/docs/CAPTCHA_SETUP.md` & `matrix-synapse-1.9.1/docs/CAPTCHA_SETUP.md`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/docs/MSC1711_certificates_FAQ.md` & `matrix-synapse-1.9.1/docs/MSC1711_certificates_FAQ.md`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/docs/admin_api/README.rst` & `matrix-synapse-1.9.1/docs/admin_api/README.rst`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/docs/admin_api/account_validity.rst` & `matrix-synapse-1.9.1/docs/admin_api/account_validity.rst`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/docs/admin_api/media_admin_api.md` & `matrix-synapse-1.9.1/docs/admin_api/media_admin_api.md`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/docs/admin_api/purge_history_api.rst` & `matrix-synapse-1.9.1/docs/admin_api/purge_history_api.rst`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/docs/admin_api/register_api.rst` & `matrix-synapse-1.9.1/docs/admin_api/register_api.rst`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/docs/admin_api/rooms.md` & `matrix-synapse-1.9.1/docs/admin_api/rooms.md`

 * *Files 6% similar despite different names*

```diff
@@ -42,15 +42,15 @@
                  get the "previous page" of results.
 
 ## Usage
 
 A standard request with no filtering:
 
 ```
-GET /_synapse/admin/rooms
+GET /_synapse/admin/v1/rooms
 
 {}
 ```
 
 Response:
 
 ```
@@ -74,15 +74,15 @@
   "total_rooms": 10
 }
 ```
 
 Filtering by room name:
 
 ```
-GET /_synapse/admin/rooms?search_term=TWIM
+GET /_synapse/admin/v1/rooms?search_term=TWIM
 
 {}
 ```
 
 Response:
 
 ```
@@ -99,15 +99,15 @@
   "total_rooms": 1
 }
 ```
 
 Paginating through a list of rooms:
 
 ```
-GET /_synapse/admin/rooms?order_by=size
+GET /_synapse/admin/v1/rooms?order_by=size
 
 {}
 ```
 
 Response:
 
 ```
@@ -135,15 +135,15 @@
 
 The presence of the `next_token` parameter tells us that there are more rooms
 than returned in this request, and we need to make another request to get them.
 To get the next batch of room results, we repeat our request, setting the `from`
 parameter to the value of `next_token`.
 
 ```
-GET /_synapse/admin/rooms?order_by=size&from=100
+GET /_synapse/admin/v1/rooms?order_by=size&from=100
 
 {}
 ```
 
 Response:
 
 ```
```

### Comparing `matrix-synapse-1.9.0rc1/docs/admin_api/server_notices.md` & `matrix-synapse-1.9.1/docs/admin_api/server_notices.md`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/docs/admin_api/shutdown_room.md` & `matrix-synapse-1.9.1/docs/admin_api/shutdown_room.md`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/docs/admin_api/user_admin_api.rst` & `matrix-synapse-1.9.1/docs/admin_api/user_admin_api.rst`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/docs/ancient_architecture_notes.md` & `matrix-synapse-1.9.1/docs/ancient_architecture_notes.md`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/docs/application_services.md` & `matrix-synapse-1.9.1/docs/application_services.md`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/docs/architecture.md` & `matrix-synapse-1.9.1/docs/architecture.md`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/docs/code_style.md` & `matrix-synapse-1.9.1/docs/code_style.md`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/docs/consent_tracking.md` & `matrix-synapse-1.9.1/docs/consent_tracking.md`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/docs/dev/saml.md` & `matrix-synapse-1.9.1/docs/dev/saml.md`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/docs/federate.md` & `matrix-synapse-1.9.1/docs/federate.md`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/docs/log_contexts.md` & `matrix-synapse-1.9.1/docs/log_contexts.md`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/docs/manhole.md` & `matrix-synapse-1.9.1/docs/manhole.md`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/docs/media_repository.md` & `matrix-synapse-1.9.1/docs/media_repository.md`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/docs/message_retention_policies.md` & `matrix-synapse-1.9.1/docs/message_retention_policies.md`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/docs/metrics-howto.md` & `matrix-synapse-1.9.1/docs/metrics-howto.md`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/docs/opentracing.md` & `matrix-synapse-1.9.1/docs/opentracing.md`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/docs/password_auth_providers.md` & `matrix-synapse-1.9.1/docs/password_auth_providers.md`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/docs/postgres.md` & `matrix-synapse-1.9.1/docs/postgres.md`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/docs/privacy_policy_templates/en/1.0.html` & `matrix-synapse-1.9.1/docs/privacy_policy_templates/en/1.0.html`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/docs/replication.md` & `matrix-synapse-1.9.1/docs/replication.md`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/docs/reverse_proxy.md` & `matrix-synapse-1.9.1/docs/reverse_proxy.md`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/docs/room_and_user_statistics.md` & `matrix-synapse-1.9.1/docs/room_and_user_statistics.md`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/docs/saml_mapping_providers.md` & `matrix-synapse-1.9.1/docs/saml_mapping_providers.md`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/docs/sample_config.yaml` & `matrix-synapse-1.9.1/docs/sample_config.yaml`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/docs/sample_log_config.yaml` & `matrix-synapse-1.9.1/docs/sample_log_config.yaml`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/docs/server_notices.md` & `matrix-synapse-1.9.1/docs/server_notices.md`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/docs/sphinx/conf.py` & `matrix-synapse-1.9.1/docs/sphinx/conf.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/docs/structured_logging.md` & `matrix-synapse-1.9.1/docs/structured_logging.md`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/docs/tcp_replication.md` & `matrix-synapse-1.9.1/docs/tcp_replication.md`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/docs/turn-howto.md` & `matrix-synapse-1.9.1/docs/turn-howto.md`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/docs/url_previews.md` & `matrix-synapse-1.9.1/docs/url_previews.md`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/docs/user_directory.md` & `matrix-synapse-1.9.1/docs/user_directory.md`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/docs/workers.md` & `matrix-synapse-1.9.1/docs/workers.md`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/matrix_synapse.egg-info/PKG-INFO` & `matrix-synapse-1.9.1/matrix_synapse.egg-info/PKG-INFO`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: matrix-synapse
-Version: 1.9.0rc1
+Version: 1.9.1
 Summary: Reference homeserver for the Matrix decentralised comms protocol
 Home-page: UNKNOWN
 License: UNKNOWN
 Description: .. contents::
         
         Introduction
         ============
```

### Comparing `matrix-synapse-1.9.0rc1/matrix_synapse.egg-info/SOURCES.txt` & `matrix-synapse-1.9.1/matrix_synapse.egg-info/SOURCES.txt`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/matrix_synapse.egg-info/requires.txt` & `matrix-synapse-1.9.1/matrix_synapse.egg-info/requires.txt`

 * *Ordering differences only*

 * *Files 9% similar despite different names*

```diff
@@ -31,25 +31,25 @@
 txacme>=0.9.2
 
 [acme:python_version < "3.5.3"]
 eliot<1.8.0
 
 [all]
 opentracing>=2.2.0
-lxml>=3.5.0
-jaeger-client>=4.0.0
-sentry-sdk>=0.7.2
 matrix-synapse-ldap3>=0.1
-mock>=2.0
-txacme>=0.9.2
-pyjwt>=1.6.4
 Jinja2>=2.9
+pyjwt>=1.6.4
+jaeger-client>=4.0.0
+parameterized
+txacme>=0.9.2
+lxml>=3.5.0
+mock>=2.0
 psycopg2>=2.7
+sentry-sdk>=0.7.2
 pysaml2>=4.5.0
-parameterized
 
 [all:python_version < "3.5.3"]
 eliot<1.8.0
 
 [jwt]
 pyjwt>=1.6.4
```

### Comparing `matrix-synapse-1.9.0rc1/pyproject.toml` & `matrix-synapse-1.9.1/pyproject.toml`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/scripts/export_signing_key` & `matrix-synapse-1.9.1/scripts/export_signing_key`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/scripts/generate_config` & `matrix-synapse-1.9.1/scripts/generate_config`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/scripts/generate_log_config` & `matrix-synapse-1.9.1/scripts/generate_log_config`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/scripts/generate_signing_key.py` & `matrix-synapse-1.9.1/scripts/generate_signing_key.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/scripts/hash_password` & `matrix-synapse-1.9.1/scripts/hash_password`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/scripts/move_remote_media_to_new_store.py` & `matrix-synapse-1.9.1/scripts/move_remote_media_to_new_store.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/scripts/register_new_matrix_user` & `matrix-synapse-1.9.1/scripts/register_new_matrix_user`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/scripts/synapse_port_db` & `matrix-synapse-1.9.1/scripts/synapse_port_db`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/scripts/sync_room_to_group.pl` & `matrix-synapse-1.9.1/scripts/sync_room_to_group.pl`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/scripts-dev/build_debian_packages` & `matrix-synapse-1.9.1/scripts-dev/build_debian_packages`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/scripts-dev/check-newsfragment` & `matrix-synapse-1.9.1/scripts-dev/check-newsfragment`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/scripts-dev/check_signature.py` & `matrix-synapse-1.9.1/scripts-dev/check_signature.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/scripts-dev/convert_server_keys.py` & `matrix-synapse-1.9.1/scripts-dev/convert_server_keys.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/scripts-dev/definitions.py` & `matrix-synapse-1.9.1/scripts-dev/definitions.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/scripts-dev/dump_macaroon.py` & `matrix-synapse-1.9.1/scripts-dev/dump_macaroon.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/scripts-dev/federation_client.py` & `matrix-synapse-1.9.1/scripts-dev/federation_client.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/scripts-dev/generate_sample_config` & `matrix-synapse-1.9.1/scripts-dev/generate_sample_config`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/scripts-dev/hash_history.py` & `matrix-synapse-1.9.1/scripts-dev/hash_history.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/scripts-dev/list_url_patterns.py` & `matrix-synapse-1.9.1/scripts-dev/list_url_patterns.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/scripts-dev/make_full_schema.sh` & `matrix-synapse-1.9.1/scripts-dev/make_full_schema.sh`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/scripts-dev/tail-synapse.py` & `matrix-synapse-1.9.1/scripts-dev/tail-synapse.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/scripts-dev/update_database` & `matrix-synapse-1.9.1/scripts-dev/update_database`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/setup.cfg` & `matrix-synapse-1.9.1/setup.cfg`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/setup.py` & `matrix-synapse-1.9.1/setup.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/__init__.py` & `matrix-synapse-1.9.1/synapse/__init__.py`

 * *Files 0% similar despite different names*

```diff
@@ -32,15 +32,15 @@
 
     protocol.Factory.noisy = False
     Factory.noisy = False
     DNSDatagramProtocol.noisy = False
 except ImportError:
     pass
 
-__version__ = "1.9.0rc1"
+__version__ = "1.9.1"
 
 if bool(os.environ.get("SYNAPSE_TEST_PATCH_LOG_CONTEXTS", False)):
     # We import here so that we don't have to install a bunch of deps when
     # running the packaging tox test.
     from synapse.util.patch_inline_callbacks import do_patch
 
     do_patch()
```

### Comparing `matrix-synapse-1.9.0rc1/synapse/_scripts/register_new_matrix_user.py` & `matrix-synapse-1.9.1/synapse/_scripts/register_new_matrix_user.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/api/__init__.py` & `matrix-synapse-1.9.1/synapse/api/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/api/auth.py` & `matrix-synapse-1.9.1/synapse/api/auth.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/api/constants.py` & `matrix-synapse-1.9.1/synapse/api/constants.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/api/errors.py` & `matrix-synapse-1.9.1/synapse/api/errors.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/api/filtering.py` & `matrix-synapse-1.9.1/synapse/api/filtering.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/api/ratelimiting.py` & `matrix-synapse-1.9.1/synapse/api/ratelimiting.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/api/room_versions.py` & `matrix-synapse-1.9.1/synapse/api/room_versions.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/api/urls.py` & `matrix-synapse-1.9.1/synapse/api/urls.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/app/__init__.py` & `matrix-synapse-1.9.1/synapse/app/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/app/_base.py` & `matrix-synapse-1.9.1/synapse/app/_base.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/app/admin_cmd.py` & `matrix-synapse-1.9.1/synapse/app/admin_cmd.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/app/appservice.py` & `matrix-synapse-1.9.1/synapse/app/appservice.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/app/client_reader.py` & `matrix-synapse-1.9.1/synapse/app/client_reader.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/app/event_creator.py` & `matrix-synapse-1.9.1/synapse/app/event_creator.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/app/federation_reader.py` & `matrix-synapse-1.9.1/synapse/app/federation_reader.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/app/federation_sender.py` & `matrix-synapse-1.9.1/synapse/app/federation_sender.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/app/frontend_proxy.py` & `matrix-synapse-1.9.1/synapse/app/frontend_proxy.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/app/homeserver.py` & `matrix-synapse-1.9.1/synapse/app/homeserver.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/app/media_repository.py` & `matrix-synapse-1.9.1/synapse/app/media_repository.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/app/pusher.py` & `matrix-synapse-1.9.1/synapse/app/pusher.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/app/synchrotron.py` & `matrix-synapse-1.9.1/synapse/app/synchrotron.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/app/user_dir.py` & `matrix-synapse-1.9.1/synapse/app/user_dir.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/appservice/__init__.py` & `matrix-synapse-1.9.1/synapse/appservice/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/appservice/api.py` & `matrix-synapse-1.9.1/synapse/appservice/api.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/appservice/scheduler.py` & `matrix-synapse-1.9.1/synapse/appservice/scheduler.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/config/__init__.py` & `matrix-synapse-1.9.1/synapse/config/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/config/__main__.py` & `matrix-synapse-1.9.1/synapse/config/__main__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/config/_base.py` & `matrix-synapse-1.9.1/synapse/config/_base.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/config/_base.pyi` & `matrix-synapse-1.9.1/synapse/config/_base.pyi`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/config/api.py` & `matrix-synapse-1.9.1/synapse/config/api.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/config/appservice.py` & `matrix-synapse-1.9.1/synapse/config/appservice.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/config/captcha.py` & `matrix-synapse-1.9.1/synapse/config/captcha.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/config/cas.py` & `matrix-synapse-1.9.1/synapse/config/cas.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/config/consent_config.py` & `matrix-synapse-1.9.1/synapse/config/consent_config.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/config/database.py` & `matrix-synapse-1.9.1/synapse/config/database.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/config/emailconfig.py` & `matrix-synapse-1.9.1/synapse/config/emailconfig.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/config/groups.py` & `matrix-synapse-1.9.1/synapse/config/groups.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/config/homeserver.py` & `matrix-synapse-1.9.1/synapse/config/homeserver.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/config/jwt_config.py` & `matrix-synapse-1.9.1/synapse/config/jwt_config.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/config/key.py` & `matrix-synapse-1.9.1/synapse/config/key.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/config/logger.py` & `matrix-synapse-1.9.1/synapse/config/logger.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/config/metrics.py` & `matrix-synapse-1.9.1/synapse/config/metrics.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/config/password.py` & `matrix-synapse-1.9.1/synapse/config/password.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/config/password_auth_providers.py` & `matrix-synapse-1.9.1/synapse/config/password_auth_providers.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/config/push.py` & `matrix-synapse-1.9.1/synapse/config/push.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/config/ratelimiting.py` & `matrix-synapse-1.9.1/synapse/config/ratelimiting.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/config/registration.py` & `matrix-synapse-1.9.1/synapse/config/registration.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/config/repository.py` & `matrix-synapse-1.9.1/synapse/config/repository.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/config/room_directory.py` & `matrix-synapse-1.9.1/synapse/config/room_directory.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/config/saml2_config.py` & `matrix-synapse-1.9.1/synapse/config/saml2_config.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/config/server.py` & `matrix-synapse-1.9.1/synapse/config/server.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/config/server_notices_config.py` & `matrix-synapse-1.9.1/synapse/config/server_notices_config.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/config/spam_checker.py` & `matrix-synapse-1.9.1/synapse/config/spam_checker.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/config/stats.py` & `matrix-synapse-1.9.1/synapse/config/stats.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/config/third_party_event_rules.py` & `matrix-synapse-1.9.1/synapse/config/third_party_event_rules.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/config/tls.py` & `matrix-synapse-1.9.1/synapse/config/tls.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/config/tracer.py` & `matrix-synapse-1.9.1/synapse/config/tracer.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/config/user_directory.py` & `matrix-synapse-1.9.1/synapse/config/user_directory.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/config/voip.py` & `matrix-synapse-1.9.1/synapse/config/voip.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/config/workers.py` & `matrix-synapse-1.9.1/synapse/config/workers.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/crypto/__init__.py` & `matrix-synapse-1.9.1/synapse/crypto/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/crypto/context_factory.py` & `matrix-synapse-1.9.1/synapse/crypto/context_factory.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/crypto/event_signing.py` & `matrix-synapse-1.9.1/synapse/crypto/event_signing.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/crypto/keyring.py` & `matrix-synapse-1.9.1/synapse/crypto/keyring.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/event_auth.py` & `matrix-synapse-1.9.1/synapse/event_auth.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/events/__init__.py` & `matrix-synapse-1.9.1/synapse/events/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/events/builder.py` & `matrix-synapse-1.9.1/synapse/events/builder.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/events/snapshot.py` & `matrix-synapse-1.9.1/synapse/events/snapshot.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/events/spamcheck.py` & `matrix-synapse-1.9.1/synapse/events/spamcheck.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/events/third_party_rules.py` & `matrix-synapse-1.9.1/synapse/events/third_party_rules.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/events/utils.py` & `matrix-synapse-1.9.1/synapse/events/utils.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/events/validator.py` & `matrix-synapse-1.9.1/synapse/events/validator.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/federation/__init__.py` & `matrix-synapse-1.9.1/synapse/federation/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/federation/federation_base.py` & `matrix-synapse-1.9.1/synapse/federation/federation_base.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/federation/federation_client.py` & `matrix-synapse-1.9.1/synapse/federation/federation_client.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/federation/federation_server.py` & `matrix-synapse-1.9.1/synapse/federation/federation_server.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/federation/persistence.py` & `matrix-synapse-1.9.1/synapse/federation/persistence.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/federation/send_queue.py` & `matrix-synapse-1.9.1/synapse/federation/send_queue.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/federation/sender/__init__.py` & `matrix-synapse-1.9.1/synapse/federation/sender/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/federation/sender/per_destination_queue.py` & `matrix-synapse-1.9.1/synapse/federation/sender/per_destination_queue.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/federation/sender/transaction_manager.py` & `matrix-synapse-1.9.1/synapse/federation/sender/transaction_manager.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/federation/transport/__init__.py` & `matrix-synapse-1.9.1/synapse/federation/transport/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/federation/transport/client.py` & `matrix-synapse-1.9.1/synapse/federation/transport/client.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/federation/transport/server.py` & `matrix-synapse-1.9.1/synapse/federation/transport/server.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/federation/units.py` & `matrix-synapse-1.9.1/synapse/federation/units.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/groups/attestations.py` & `matrix-synapse-1.9.1/synapse/groups/attestations.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/groups/groups_server.py` & `matrix-synapse-1.9.1/synapse/groups/groups_server.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/handlers/__init__.py` & `matrix-synapse-1.9.1/synapse/handlers/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/handlers/_base.py` & `matrix-synapse-1.9.1/synapse/handlers/_base.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/handlers/account_data.py` & `matrix-synapse-1.9.1/synapse/handlers/account_data.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/handlers/account_validity.py` & `matrix-synapse-1.9.1/synapse/handlers/account_validity.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/handlers/acme.py` & `matrix-synapse-1.9.1/synapse/handlers/acme.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/handlers/acme_issuing_service.py` & `matrix-synapse-1.9.1/synapse/handlers/acme_issuing_service.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/handlers/admin.py` & `matrix-synapse-1.9.1/synapse/handlers/admin.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/handlers/appservice.py` & `matrix-synapse-1.9.1/synapse/handlers/appservice.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/handlers/auth.py` & `matrix-synapse-1.9.1/synapse/handlers/auth.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/handlers/deactivate_account.py` & `matrix-synapse-1.9.1/synapse/handlers/deactivate_account.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/handlers/device.py` & `matrix-synapse-1.9.1/synapse/handlers/device.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/handlers/devicemessage.py` & `matrix-synapse-1.9.1/synapse/handlers/devicemessage.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/handlers/directory.py` & `matrix-synapse-1.9.1/synapse/handlers/directory.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/handlers/e2e_keys.py` & `matrix-synapse-1.9.1/synapse/handlers/e2e_keys.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/handlers/e2e_room_keys.py` & `matrix-synapse-1.9.1/synapse/handlers/e2e_room_keys.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/handlers/events.py` & `matrix-synapse-1.9.1/synapse/handlers/events.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/handlers/federation.py` & `matrix-synapse-1.9.1/synapse/handlers/federation.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/handlers/groups_local.py` & `matrix-synapse-1.9.1/synapse/handlers/groups_local.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/handlers/identity.py` & `matrix-synapse-1.9.1/synapse/handlers/identity.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/handlers/initial_sync.py` & `matrix-synapse-1.9.1/synapse/handlers/initial_sync.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/handlers/message.py` & `matrix-synapse-1.9.1/synapse/handlers/message.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/handlers/pagination.py` & `matrix-synapse-1.9.1/synapse/handlers/pagination.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/handlers/presence.py` & `matrix-synapse-1.9.1/synapse/handlers/presence.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/handlers/profile.py` & `matrix-synapse-1.9.1/synapse/handlers/profile.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/handlers/read_marker.py` & `matrix-synapse-1.9.1/synapse/handlers/read_marker.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/handlers/receipts.py` & `matrix-synapse-1.9.1/synapse/handlers/receipts.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/handlers/register.py` & `matrix-synapse-1.9.1/synapse/handlers/register.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/handlers/room.py` & `matrix-synapse-1.9.1/synapse/handlers/room.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/handlers/room_list.py` & `matrix-synapse-1.9.1/synapse/handlers/room_list.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/handlers/room_member.py` & `matrix-synapse-1.9.1/synapse/handlers/room_member.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/handlers/room_member_worker.py` & `matrix-synapse-1.9.1/synapse/handlers/room_member_worker.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/handlers/saml_handler.py` & `matrix-synapse-1.9.1/synapse/handlers/saml_handler.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/handlers/search.py` & `matrix-synapse-1.9.1/synapse/handlers/search.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/handlers/set_password.py` & `matrix-synapse-1.9.1/synapse/handlers/set_password.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/handlers/state_deltas.py` & `matrix-synapse-1.9.1/synapse/handlers/state_deltas.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/handlers/stats.py` & `matrix-synapse-1.9.1/synapse/handlers/stats.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/handlers/sync.py` & `matrix-synapse-1.9.1/synapse/handlers/sync.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/handlers/typing.py` & `matrix-synapse-1.9.1/synapse/handlers/typing.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/handlers/ui_auth/__init__.py` & `matrix-synapse-1.9.1/synapse/handlers/ui_auth/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/handlers/ui_auth/checkers.py` & `matrix-synapse-1.9.1/synapse/handlers/ui_auth/checkers.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/handlers/user_directory.py` & `matrix-synapse-1.9.1/synapse/handlers/user_directory.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/http/__init__.py` & `matrix-synapse-1.9.1/synapse/http/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/http/additional_resource.py` & `matrix-synapse-1.9.1/synapse/http/additional_resource.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/http/client.py` & `matrix-synapse-1.9.1/synapse/http/client.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/http/connectproxyclient.py` & `matrix-synapse-1.9.1/synapse/http/connectproxyclient.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/http/endpoint.py` & `matrix-synapse-1.9.1/synapse/http/endpoint.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/http/federation/__init__.py` & `matrix-synapse-1.9.1/synapse/http/federation/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/http/federation/matrix_federation_agent.py` & `matrix-synapse-1.9.1/synapse/http/federation/matrix_federation_agent.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/http/federation/srv_resolver.py` & `matrix-synapse-1.9.1/synapse/http/federation/srv_resolver.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/http/federation/well_known_resolver.py` & `matrix-synapse-1.9.1/synapse/http/federation/well_known_resolver.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/http/matrixfederationclient.py` & `matrix-synapse-1.9.1/synapse/http/matrixfederationclient.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/http/proxyagent.py` & `matrix-synapse-1.9.1/synapse/http/proxyagent.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/http/request_metrics.py` & `matrix-synapse-1.9.1/synapse/http/request_metrics.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/http/server.py` & `matrix-synapse-1.9.1/synapse/http/server.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/http/servlet.py` & `matrix-synapse-1.9.1/synapse/http/servlet.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/http/site.py` & `matrix-synapse-1.9.1/synapse/http/site.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/logging/_structured.py` & `matrix-synapse-1.9.1/synapse/logging/_structured.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/logging/_terse_json.py` & `matrix-synapse-1.9.1/synapse/logging/_terse_json.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/logging/context.py` & `matrix-synapse-1.9.1/synapse/logging/context.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/logging/formatter.py` & `matrix-synapse-1.9.1/synapse/logging/formatter.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/logging/opentracing.py` & `matrix-synapse-1.9.1/synapse/logging/opentracing.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/logging/scopecontextmanager.py` & `matrix-synapse-1.9.1/synapse/logging/scopecontextmanager.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/logging/utils.py` & `matrix-synapse-1.9.1/synapse/logging/utils.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/metrics/__init__.py` & `matrix-synapse-1.9.1/synapse/metrics/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/metrics/_exposition.py` & `matrix-synapse-1.9.1/synapse/metrics/_exposition.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/metrics/background_process_metrics.py` & `matrix-synapse-1.9.1/synapse/metrics/background_process_metrics.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/module_api/__init__.py` & `matrix-synapse-1.9.1/synapse/module_api/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/module_api/errors.py` & `matrix-synapse-1.9.1/synapse/module_api/errors.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/notifier.py` & `matrix-synapse-1.9.1/synapse/notifier.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/push/__init__.py` & `matrix-synapse-1.9.1/synapse/push/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/push/action_generator.py` & `matrix-synapse-1.9.1/synapse/push/action_generator.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/push/baserules.py` & `matrix-synapse-1.9.1/synapse/push/baserules.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/push/bulk_push_rule_evaluator.py` & `matrix-synapse-1.9.1/synapse/push/bulk_push_rule_evaluator.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/push/clientformat.py` & `matrix-synapse-1.9.1/synapse/push/clientformat.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/push/emailpusher.py` & `matrix-synapse-1.9.1/synapse/push/emailpusher.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/push/httppusher.py` & `matrix-synapse-1.9.1/synapse/push/httppusher.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/push/mailer.py` & `matrix-synapse-1.9.1/synapse/push/mailer.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/push/presentable_names.py` & `matrix-synapse-1.9.1/synapse/push/presentable_names.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/push/push_rule_evaluator.py` & `matrix-synapse-1.9.1/synapse/push/push_rule_evaluator.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/push/push_tools.py` & `matrix-synapse-1.9.1/synapse/push/push_tools.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/push/pusher.py` & `matrix-synapse-1.9.1/synapse/push/pusher.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/push/pusherpool.py` & `matrix-synapse-1.9.1/synapse/push/pusherpool.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/push/rulekinds.py` & `matrix-synapse-1.9.1/synapse/push/rulekinds.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/python_dependencies.py` & `matrix-synapse-1.9.1/synapse/python_dependencies.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/replication/__init__.py` & `matrix-synapse-1.9.1/synapse/replication/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/replication/http/__init__.py` & `matrix-synapse-1.9.1/synapse/replication/http/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/replication/http/_base.py` & `matrix-synapse-1.9.1/synapse/replication/http/_base.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/replication/http/devices.py` & `matrix-synapse-1.9.1/synapse/replication/http/devices.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/replication/http/federation.py` & `matrix-synapse-1.9.1/synapse/replication/http/federation.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/replication/http/login.py` & `matrix-synapse-1.9.1/synapse/replication/http/login.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/replication/http/membership.py` & `matrix-synapse-1.9.1/synapse/replication/http/membership.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/replication/http/register.py` & `matrix-synapse-1.9.1/synapse/replication/http/register.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/replication/http/send_event.py` & `matrix-synapse-1.9.1/synapse/replication/http/send_event.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/replication/slave/__init__.py` & `matrix-synapse-1.9.1/synapse/replication/slave/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/replication/slave/storage/__init__.py` & `matrix-synapse-1.9.1/synapse/replication/slave/storage/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/replication/slave/storage/_base.py` & `matrix-synapse-1.9.1/synapse/replication/slave/storage/_base.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/replication/slave/storage/_slaved_id_tracker.py` & `matrix-synapse-1.9.1/synapse/replication/slave/storage/_slaved_id_tracker.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/replication/slave/storage/account_data.py` & `matrix-synapse-1.9.1/synapse/replication/slave/storage/account_data.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/replication/slave/storage/appservice.py` & `matrix-synapse-1.9.1/synapse/replication/slave/storage/appservice.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/replication/slave/storage/client_ips.py` & `matrix-synapse-1.9.1/synapse/replication/slave/storage/client_ips.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/replication/slave/storage/deviceinbox.py` & `matrix-synapse-1.9.1/synapse/replication/slave/storage/deviceinbox.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/replication/slave/storage/devices.py` & `matrix-synapse-1.9.1/synapse/replication/slave/storage/devices.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/replication/slave/storage/directory.py` & `matrix-synapse-1.9.1/synapse/replication/slave/storage/directory.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/replication/slave/storage/events.py` & `matrix-synapse-1.9.1/synapse/replication/slave/storage/events.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/replication/slave/storage/filtering.py` & `matrix-synapse-1.9.1/synapse/replication/slave/storage/filtering.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/replication/slave/storage/groups.py` & `matrix-synapse-1.9.1/synapse/replication/slave/storage/groups.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/replication/slave/storage/keys.py` & `matrix-synapse-1.9.1/synapse/replication/slave/storage/keys.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/replication/slave/storage/presence.py` & `matrix-synapse-1.9.1/synapse/replication/slave/storage/presence.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/replication/slave/storage/profile.py` & `matrix-synapse-1.9.1/synapse/replication/slave/storage/profile.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/replication/slave/storage/push_rule.py` & `matrix-synapse-1.9.1/synapse/replication/slave/storage/push_rule.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/replication/slave/storage/pushers.py` & `matrix-synapse-1.9.1/synapse/replication/slave/storage/pushers.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/replication/slave/storage/receipts.py` & `matrix-synapse-1.9.1/synapse/replication/slave/storage/receipts.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/replication/slave/storage/registration.py` & `matrix-synapse-1.9.1/synapse/replication/slave/storage/registration.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/replication/slave/storage/room.py` & `matrix-synapse-1.9.1/synapse/replication/slave/storage/room.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/replication/slave/storage/transactions.py` & `matrix-synapse-1.9.1/synapse/replication/slave/storage/transactions.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/replication/tcp/__init__.py` & `matrix-synapse-1.9.1/synapse/replication/tcp/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/replication/tcp/client.py` & `matrix-synapse-1.9.1/synapse/replication/tcp/client.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/replication/tcp/commands.py` & `matrix-synapse-1.9.1/synapse/replication/tcp/commands.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/replication/tcp/protocol.py` & `matrix-synapse-1.9.1/synapse/replication/tcp/protocol.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/replication/tcp/resource.py` & `matrix-synapse-1.9.1/synapse/replication/tcp/resource.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/replication/tcp/streams/__init__.py` & `matrix-synapse-1.9.1/synapse/replication/tcp/streams/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/replication/tcp/streams/_base.py` & `matrix-synapse-1.9.1/synapse/replication/tcp/streams/_base.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/replication/tcp/streams/events.py` & `matrix-synapse-1.9.1/synapse/replication/tcp/streams/events.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/replication/tcp/streams/federation.py` & `matrix-synapse-1.9.1/synapse/replication/tcp/streams/federation.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/res/templates/mail.css` & `matrix-synapse-1.9.1/synapse/res/templates/mail.css`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/res/templates/notice_expiry.html` & `matrix-synapse-1.9.1/synapse/res/templates/notice_expiry.html`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/res/templates/notif.html` & `matrix-synapse-1.9.1/synapse/res/templates/notif.html`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/res/templates/notif.txt` & `matrix-synapse-1.9.1/synapse/res/templates/notif.txt`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/res/templates/notif_mail.html` & `matrix-synapse-1.9.1/synapse/res/templates/notif_mail.html`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/res/templates/room.html` & `matrix-synapse-1.9.1/synapse/res/templates/room.html`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/__init__.py` & `matrix-synapse-1.9.1/synapse/rest/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/admin/__init__.py` & `matrix-synapse-1.9.1/synapse/rest/admin/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/admin/_base.py` & `matrix-synapse-1.9.1/synapse/rest/admin/_base.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/admin/groups.py` & `matrix-synapse-1.9.1/synapse/rest/admin/groups.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/admin/media.py` & `matrix-synapse-1.9.1/synapse/rest/admin/media.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/admin/purge_room_servlet.py` & `matrix-synapse-1.9.1/synapse/rest/admin/purge_room_servlet.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/admin/rooms.py` & `matrix-synapse-1.9.1/synapse/rest/admin/rooms.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/admin/server_notice_servlet.py` & `matrix-synapse-1.9.1/synapse/rest/admin/server_notice_servlet.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/admin/users.py` & `matrix-synapse-1.9.1/synapse/rest/admin/users.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/client/__init__.py` & `matrix-synapse-1.9.1/synapse/rest/client/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/client/transactions.py` & `matrix-synapse-1.9.1/synapse/rest/client/transactions.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/client/v1/__init__.py` & `matrix-synapse-1.9.1/synapse/rest/client/v1/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/client/v1/directory.py` & `matrix-synapse-1.9.1/synapse/rest/client/v1/directory.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/client/v1/events.py` & `matrix-synapse-1.9.1/synapse/rest/client/v1/events.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/client/v1/initial_sync.py` & `matrix-synapse-1.9.1/synapse/rest/client/v1/initial_sync.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/client/v1/login.py` & `matrix-synapse-1.9.1/synapse/rest/client/v1/login.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/client/v1/logout.py` & `matrix-synapse-1.9.1/synapse/rest/client/v1/logout.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/client/v1/presence.py` & `matrix-synapse-1.9.1/synapse/rest/client/v1/presence.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/client/v1/profile.py` & `matrix-synapse-1.9.1/synapse/rest/client/v1/profile.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/client/v1/push_rule.py` & `matrix-synapse-1.9.1/synapse/rest/client/v1/push_rule.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/client/v1/pusher.py` & `matrix-synapse-1.9.1/synapse/rest/client/v1/pusher.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/client/v1/room.py` & `matrix-synapse-1.9.1/synapse/rest/client/v1/room.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/client/v1/voip.py` & `matrix-synapse-1.9.1/synapse/rest/client/v1/voip.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/__init__.py` & `matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/_base.py` & `matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/_base.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/account.py` & `matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/account.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/account_data.py` & `matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/account_data.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/account_validity.py` & `matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/account_validity.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/auth.py` & `matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/auth.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/capabilities.py` & `matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/capabilities.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/devices.py` & `matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/devices.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/filter.py` & `matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/filter.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/groups.py` & `matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/groups.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/keys.py` & `matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/keys.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/notifications.py` & `matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/notifications.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/openid.py` & `matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/openid.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/read_marker.py` & `matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/read_marker.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/receipts.py` & `matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/receipts.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/register.py` & `matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/register.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/relations.py` & `matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/relations.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/report_event.py` & `matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/report_event.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/room_keys.py` & `matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/room_keys.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/room_upgrade_rest_servlet.py` & `matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/room_upgrade_rest_servlet.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/sendtodevice.py` & `matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/sendtodevice.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/sync.py` & `matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/sync.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/tags.py` & `matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/tags.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/thirdparty.py` & `matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/thirdparty.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/tokenrefresh.py` & `matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/tokenrefresh.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/client/v2_alpha/user_directory.py` & `matrix-synapse-1.9.1/synapse/rest/client/v2_alpha/user_directory.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/client/versions.py` & `matrix-synapse-1.9.1/synapse/rest/client/versions.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/consent/consent_resource.py` & `matrix-synapse-1.9.1/synapse/rest/consent/consent_resource.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/key/__init__.py` & `matrix-synapse-1.9.1/synapse/rest/key/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/key/v2/__init__.py` & `matrix-synapse-1.9.1/synapse/rest/key/v2/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/key/v2/local_key_resource.py` & `matrix-synapse-1.9.1/synapse/rest/key/v2/local_key_resource.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/key/v2/remote_key_resource.py` & `matrix-synapse-1.9.1/synapse/rest/key/v2/remote_key_resource.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/media/v1/__init__.py` & `matrix-synapse-1.9.1/synapse/rest/media/v1/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/media/v1/_base.py` & `matrix-synapse-1.9.1/synapse/rest/media/v1/_base.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/media/v1/config_resource.py` & `matrix-synapse-1.9.1/synapse/rest/media/v1/config_resource.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/media/v1/download_resource.py` & `matrix-synapse-1.9.1/synapse/rest/media/v1/download_resource.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/media/v1/filepath.py` & `matrix-synapse-1.9.1/synapse/rest/media/v1/filepath.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/media/v1/media_repository.py` & `matrix-synapse-1.9.1/synapse/rest/media/v1/media_repository.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/media/v1/media_storage.py` & `matrix-synapse-1.9.1/synapse/rest/media/v1/media_storage.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/media/v1/preview_url_resource.py` & `matrix-synapse-1.9.1/synapse/rest/media/v1/preview_url_resource.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/media/v1/storage_provider.py` & `matrix-synapse-1.9.1/synapse/rest/media/v1/storage_provider.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/media/v1/thumbnail_resource.py` & `matrix-synapse-1.9.1/synapse/rest/media/v1/thumbnail_resource.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/media/v1/thumbnailer.py` & `matrix-synapse-1.9.1/synapse/rest/media/v1/thumbnailer.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/media/v1/upload_resource.py` & `matrix-synapse-1.9.1/synapse/rest/media/v1/upload_resource.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/saml2/__init__.py` & `matrix-synapse-1.9.1/synapse/rest/saml2/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/saml2/metadata_resource.py` & `matrix-synapse-1.9.1/synapse/rest/saml2/metadata_resource.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/saml2/response_resource.py` & `matrix-synapse-1.9.1/synapse/rest/saml2/response_resource.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/rest/well_known.py` & `matrix-synapse-1.9.1/synapse/rest/well_known.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/secrets.py` & `matrix-synapse-1.9.1/synapse/secrets.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/server.py` & `matrix-synapse-1.9.1/synapse/server.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/server.pyi` & `matrix-synapse-1.9.1/synapse/server.pyi`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/server_notices/consent_server_notices.py` & `matrix-synapse-1.9.1/synapse/server_notices/consent_server_notices.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/server_notices/resource_limits_server_notices.py` & `matrix-synapse-1.9.1/synapse/server_notices/resource_limits_server_notices.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/server_notices/server_notices_manager.py` & `matrix-synapse-1.9.1/synapse/server_notices/server_notices_manager.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/server_notices/server_notices_sender.py` & `matrix-synapse-1.9.1/synapse/server_notices/server_notices_sender.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/server_notices/worker_server_notices_sender.py` & `matrix-synapse-1.9.1/synapse/server_notices/worker_server_notices_sender.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/spam_checker_api/__init__.py` & `matrix-synapse-1.9.1/synapse/spam_checker_api/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/state/__init__.py` & `matrix-synapse-1.9.1/synapse/state/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/state/v1.py` & `matrix-synapse-1.9.1/synapse/state/v1.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/state/v2.py` & `matrix-synapse-1.9.1/synapse/state/v2.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/static/client/login/index.html` & `matrix-synapse-1.9.1/synapse/static/client/login/index.html`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/static/client/login/js/jquery-2.1.3.min.js` & `matrix-synapse-1.9.1/synapse/static/client/login/js/jquery-2.1.3.min.js`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/static/client/login/js/login.js` & `matrix-synapse-1.9.1/synapse/static/client/login/js/login.js`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/static/client/login/spinner.gif` & `matrix-synapse-1.9.1/synapse/static/client/login/spinner.gif`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/static/client/login/style.css` & `matrix-synapse-1.9.1/synapse/static/client/login/style.css`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/static/client/register/index.html` & `matrix-synapse-1.9.1/synapse/static/client/register/index.html`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/static/client/register/js/jquery-2.1.3.min.js` & `matrix-synapse-1.9.1/synapse/static/client/register/js/jquery-2.1.3.min.js`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/static/client/register/js/register.js` & `matrix-synapse-1.9.1/synapse/static/client/register/js/register.js`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/static/client/register/style.css` & `matrix-synapse-1.9.1/synapse/static/client/register/style.css`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/static/index.html` & `matrix-synapse-1.9.1/synapse/static/index.html`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/__init__.py` & `matrix-synapse-1.9.1/synapse/storage/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/_base.py` & `matrix-synapse-1.9.1/synapse/storage/_base.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/background_updates.py` & `matrix-synapse-1.9.1/synapse/storage/background_updates.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/__init__.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/__init__.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/account_data.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/account_data.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/appservice.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/appservice.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/cache.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/cache.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/client_ips.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/client_ips.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/deviceinbox.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/deviceinbox.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/devices.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/devices.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/directory.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/directory.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/e2e_room_keys.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/e2e_room_keys.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/end_to_end_keys.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/end_to_end_keys.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/event_federation.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/event_federation.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/event_push_actions.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/event_push_actions.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/events.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/events.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/events_bg_updates.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/events_bg_updates.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/events_worker.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/events_worker.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/filtering.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/filtering.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/group_server.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/group_server.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/keys.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/keys.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/media_repository.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/media_repository.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/monthly_active_users.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/monthly_active_users.py`

 * *Files 1% similar despite different names*

```diff
@@ -117,15 +117,21 @@
 
         for tp in threepids:
             user_id = self.get_user_id_by_threepid_txn(txn, tp["medium"], tp["address"])
 
             if user_id:
                 is_support = self.is_support_user_txn(txn, user_id)
                 if not is_support:
-                    self.upsert_monthly_active_user_txn(txn, user_id)
+                    # We do this manually here to avoid hitting #6791
+                    self.db.simple_upsert_txn(
+                        txn,
+                        table="monthly_active_users",
+                        keyvalues={"user_id": user_id},
+                        values={"timestamp": int(self._clock.time_msec())},
+                    )
             else:
                 logger.warning("mau limit reserved threepid %s not found in db" % tp)
 
     @defer.inlineCallbacks
     def reap_monthly_active_users(self):
         """Cleans out monthly active user table to ensure that no stale
         entries exist.
```

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/openid.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/openid.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/presence.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/presence.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/profile.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/profile.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/push_rule.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/push_rule.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/pusher.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/pusher.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/receipts.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/receipts.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/registration.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/registration.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/rejections.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/rejections.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/relations.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/relations.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/room.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/room.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/roommember.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/roommember.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/12/v12.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/12/v12.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/13/v13.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/13/v13.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/14/v14.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/14/v14.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/15/appservice_txns.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/15/appservice_txns.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/15/v15.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/15/v15.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/16/unique_constraints.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/16/unique_constraints.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/16/users.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/16/users.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/17/drop_indexes.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/17/drop_indexes.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/17/server_keys.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/17/server_keys.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/18/server_keys_bigger_ints.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/18/server_keys_bigger_ints.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/19/event_index.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/19/event_index.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/20/pushers.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/20/pushers.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/21/end_to_end_keys.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/21/end_to_end_keys.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/21/receipts.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/21/receipts.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/22/receipts_index.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/22/receipts_index.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/22/user_threepids_unique.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/22/user_threepids_unique.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/24/stats_reporting.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/24/stats_reporting.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/25/fts.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/25/fts.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/25/guest_access.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/25/guest_access.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/25/history_visibility.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/25/history_visibility.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/25/tags.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/25/tags.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/26/account_data.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/26/account_data.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/27/account_data.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/27/account_data.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/27/forgotten_memberships.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/27/forgotten_memberships.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/27/ts.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/27/ts.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/28/event_push_actions.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/28/event_push_actions.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/28/events_room_stream.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/28/events_room_stream.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/28/public_roms_index.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/28/public_roms_index.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/28/receipts_user_id_index.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/28/receipts_user_id_index.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/28/upgrade_times.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/28/upgrade_times.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/28/users_is_guest.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/28/users_is_guest.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/29/push_actions.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/29/push_actions.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/30/alias_creator.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/30/alias_creator.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/30/as_users.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/30/as_users.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/30/deleted_pushers.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/30/deleted_pushers.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/30/presence_stream.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/30/presence_stream.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/30/public_rooms.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/30/public_rooms.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/30/push_rule_stream.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/30/push_rule_stream.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/30/threepid_guest_access_tokens.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/30/threepid_guest_access_tokens.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/31/invites.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/31/invites.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/31/local_media_repository_url_cache.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/31/local_media_repository_url_cache.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/31/pushers.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/31/pushers.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/31/pushers_index.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/31/pushers_index.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/31/search_update.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/31/search_update.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/32/events.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/32/events.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/32/pusher_throttle.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/32/pusher_throttle.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/32/remove_indices.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/32/remove_indices.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/32/reports.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/32/reports.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/33/access_tokens_device_index.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/33/access_tokens_device_index.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/33/devices.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/33/devices.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/33/devices_for_e2e_keys.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/33/devices_for_e2e_keys.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/33/devices_for_e2e_keys_clear_unknown_device.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/33/devices_for_e2e_keys_clear_unknown_device.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/33/event_fields.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/33/event_fields.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/33/remote_media_ts.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/33/remote_media_ts.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/33/user_ips_index.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/33/user_ips_index.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/34/appservice_stream.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/34/appservice_stream.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/34/cache_stream.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/34/cache_stream.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/34/device_inbox.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/34/device_inbox.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/34/push_display_name_rename.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/34/push_display_name_rename.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/34/received_txn_purge.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/34/received_txn_purge.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/35/contains_url.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/35/contains_url.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/35/device_outbox.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/35/device_outbox.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/35/device_stream_id.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/35/device_stream_id.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/35/event_push_actions_index.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/35/event_push_actions_index.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/35/public_room_list_change_stream.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/35/public_room_list_change_stream.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/35/stream_order_to_extrem.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/35/stream_order_to_extrem.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/36/readd_public_rooms.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/36/readd_public_rooms.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/37/remove_auth_idx.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/37/remove_auth_idx.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/37/user_threepids.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/37/user_threepids.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/38/postgres_fts_gist.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/38/postgres_fts_gist.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/39/appservice_room_list.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/39/appservice_room_list.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/39/device_federation_stream_idx.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/39/device_federation_stream_idx.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/39/event_push_index.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/39/event_push_index.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/39/federation_out_position.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/39/federation_out_position.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/39/membership_profile.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/39/membership_profile.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/40/current_state_idx.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/40/current_state_idx.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/40/device_inbox.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/40/device_inbox.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/40/device_list_streams.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/40/device_list_streams.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/40/event_push_summary.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/40/event_push_summary.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/40/pushers.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/40/pushers.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/41/device_list_stream_idx.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/41/device_list_stream_idx.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/41/device_outbound_index.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/41/device_outbound_index.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/41/event_search_event_id_idx.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/41/event_search_event_id_idx.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/41/ratelimit.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/41/ratelimit.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/42/current_state_delta.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/42/current_state_delta.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/42/device_list_last_id.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/42/device_list_last_id.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/42/event_auth_state_only.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/42/event_auth_state_only.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/42/user_dir.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/42/user_dir.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/43/blocked_rooms.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/43/blocked_rooms.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/43/quarantine_media.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/43/quarantine_media.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/43/url_cache.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/43/url_cache.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/43/user_share.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/43/user_share.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/44/expire_url_cache.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/44/expire_url_cache.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/45/group_server.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/45/group_server.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/45/profile_cache.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/45/profile_cache.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/46/drop_refresh_tokens.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/46/drop_refresh_tokens.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/46/drop_unique_deleted_pushers.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/46/drop_unique_deleted_pushers.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/46/group_server.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/46/group_server.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/46/local_media_repository_url_idx.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/46/local_media_repository_url_idx.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/46/user_dir_null_room_ids.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/46/user_dir_null_room_ids.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/46/user_dir_typos.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/46/user_dir_typos.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/47/last_access_media.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/47/last_access_media.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/47/postgres_fts_gin.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/47/postgres_fts_gin.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/47/push_actions_staging.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/47/push_actions_staging.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/48/add_user_consent.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/48/add_user_consent.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/48/add_user_ips_last_seen_index.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/48/add_user_ips_last_seen_index.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/48/deactivated_users.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/48/deactivated_users.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/48/group_unique_indexes.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/48/group_unique_indexes.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/48/groups_joinable.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/48/groups_joinable.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/49/add_user_consent_server_notice_sent.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/49/add_user_consent_server_notice_sent.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/49/add_user_daily_visits.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/49/add_user_daily_visits.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/49/add_user_ips_last_seen_only_index.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/49/add_user_ips_last_seen_only_index.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/50/add_creation_ts_users_index.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/50/add_creation_ts_users_index.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/50/erasure_store.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/50/erasure_store.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/50/make_event_content_nullable.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/50/make_event_content_nullable.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/51/e2e_room_keys.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/51/e2e_room_keys.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/51/monthly_active_users.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/51/monthly_active_users.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/52/add_event_to_state_group_index.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/52/add_event_to_state_group_index.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/52/device_list_streams_unique_idx.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/52/device_list_streams_unique_idx.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/52/e2e_room_keys.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/52/e2e_room_keys.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/53/add_user_type_to_users.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/53/add_user_type_to_users.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/53/drop_sent_transactions.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/53/drop_sent_transactions.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/53/event_format_version.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/53/event_format_version.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/53/user_dir_populate.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/53/user_dir_populate.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/53/user_ips_index.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/53/user_ips_index.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/53/user_share.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/53/user_share.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/53/user_threepid_id.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/53/user_threepid_id.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/53/users_in_public_rooms.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/53/users_in_public_rooms.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/54/account_validity_with_renewal.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/54/account_validity_with_renewal.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/54/add_validity_to_server_keys.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/54/add_validity_to_server_keys.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/54/delete_forward_extremities.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/54/delete_forward_extremities.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/54/drop_legacy_tables.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/54/drop_legacy_tables.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/54/drop_presence_list.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/54/drop_presence_list.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/54/relations.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/54/relations.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/54/stats.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/54/stats.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/54/stats2.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/54/stats2.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/55/access_token_expiry.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/55/access_token_expiry.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/55/track_threepid_validations.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/55/track_threepid_validations.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/55/users_alter_deactivated.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/55/users_alter_deactivated.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/add_spans_to_device_lists.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/add_spans_to_device_lists.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/current_state_events_membership.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/current_state_events_membership.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/current_state_events_membership_mk2.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/current_state_events_membership_mk2.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/delete_keys_from_deleted_backups.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/delete_keys_from_deleted_backups.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/destinations_failure_ts.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/destinations_failure_ts.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/destinations_retry_interval_type.sql.postgres` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/destinations_retry_interval_type.sql.postgres`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/device_stream_id_insert.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/device_stream_id_insert.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/devices_last_seen.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/devices_last_seen.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/drop_unused_event_tables.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/drop_unused_event_tables.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/event_expiry.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/event_expiry.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/event_labels.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/event_labels.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/event_labels_background_update.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/event_labels_background_update.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/fix_room_keys_index.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/fix_room_keys_index.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/hidden_devices.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/hidden_devices.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/hidden_devices_fix.sql.sqlite` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/hidden_devices_fix.sql.sqlite`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/nuke_empty_communities_from_db.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/nuke_empty_communities_from_db.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/public_room_list_idx.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/public_room_list_idx.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/redaction_censor.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/redaction_censor.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/redaction_censor2.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/redaction_censor2.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/redaction_censor3_fix_update.sql.postgres` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/redaction_censor3_fix_update.sql.postgres`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/redaction_censor4.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/redaction_censor4.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/remove_tombstoned_rooms_from_directory.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/remove_tombstoned_rooms_from_directory.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/room_key_etag.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/room_key_etag.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/room_membership_idx.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/room_membership_idx.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/room_retention.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/room_retention.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/signing_keys.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/signing_keys.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/signing_keys_nonunique_signatures.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/signing_keys_nonunique_signatures.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/stats_separated.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/stats_separated.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/unique_user_filter_index.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/unique_user_filter_index.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/user_external_ids.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/user_external_ids.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/56/users_in_public_rooms_idx.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/56/users_in_public_rooms_idx.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/delta/57/local_current_membership.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/delta/57/local_current_membership.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/full_schemas/16/application_services.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/full_schemas/16/application_services.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/full_schemas/16/event_edges.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/full_schemas/16/event_edges.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/full_schemas/16/event_signatures.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/full_schemas/16/event_signatures.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/full_schemas/16/im.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/full_schemas/16/im.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/full_schemas/16/keys.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/full_schemas/16/keys.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/full_schemas/16/media_repository.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/full_schemas/16/media_repository.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/full_schemas/16/presence.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/full_schemas/16/presence.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/full_schemas/16/profiles.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/full_schemas/16/profiles.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/full_schemas/16/push.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/full_schemas/16/push.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/full_schemas/16/redactions.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/full_schemas/16/redactions.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/full_schemas/16/room_aliases.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/full_schemas/16/room_aliases.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/full_schemas/16/state.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/full_schemas/16/state.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/full_schemas/16/transactions.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/full_schemas/16/transactions.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/full_schemas/16/users.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/full_schemas/16/users.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/full_schemas/54/full.sql.postgres` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/full_schemas/54/full.sql.postgres`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/full_schemas/54/full.sql.sqlite` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/full_schemas/54/full.sql.sqlite`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/schema/full_schemas/54/stream_positions.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/schema/full_schemas/54/stream_positions.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/search.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/search.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/signatures.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/signatures.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/state.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/state.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/state_deltas.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/state_deltas.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/stats.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/stats.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/stream.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/stream.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/tags.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/tags.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/transactions.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/transactions.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/user_directory.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/user_directory.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/main/user_erasure_store.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/main/user_erasure_store.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/state/__init__.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/state/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/state/bg_updates.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/state/bg_updates.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/state/schema/delta/23/drop_state_index.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/state/schema/delta/23/drop_state_index.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/state/schema/delta/30/state_stream.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/state/schema/delta/30/state_stream.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/state/schema/delta/32/remove_state_indices.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/state/schema/delta/32/remove_state_indices.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/state/schema/delta/35/add_state_index.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/state/schema/delta/35/add_state_index.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/state/schema/delta/35/state.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/state/schema/delta/35/state.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/state/schema/delta/35/state_dedupe.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/state/schema/delta/35/state_dedupe.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/state/schema/delta/47/state_group_seq.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/state/schema/delta/47/state_group_seq.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/state/schema/delta/56/state_group_room_idx.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/state/schema/delta/56/state_group_room_idx.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/state/schema/full_schemas/54/full.sql` & `matrix-synapse-1.9.1/synapse/storage/data_stores/state/schema/full_schemas/54/full.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/state/schema/full_schemas/54/sequence.sql.postgres` & `matrix-synapse-1.9.1/synapse/storage/data_stores/state/schema/full_schemas/54/sequence.sql.postgres`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/data_stores/state/store.py` & `matrix-synapse-1.9.1/synapse/storage/data_stores/state/store.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/database.py` & `matrix-synapse-1.9.1/synapse/storage/database.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/engines/__init__.py` & `matrix-synapse-1.9.1/synapse/storage/engines/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/engines/_base.py` & `matrix-synapse-1.9.1/synapse/storage/engines/_base.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/engines/postgres.py` & `matrix-synapse-1.9.1/synapse/storage/engines/postgres.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/engines/sqlite.py` & `matrix-synapse-1.9.1/synapse/storage/engines/sqlite.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/keys.py` & `matrix-synapse-1.9.1/synapse/storage/keys.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/persist_events.py` & `matrix-synapse-1.9.1/synapse/storage/persist_events.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/prepare_database.py` & `matrix-synapse-1.9.1/synapse/storage/prepare_database.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/presence.py` & `matrix-synapse-1.9.1/synapse/storage/presence.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/purge_events.py` & `matrix-synapse-1.9.1/synapse/storage/purge_events.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/push_rule.py` & `matrix-synapse-1.9.1/synapse/storage/push_rule.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/relations.py` & `matrix-synapse-1.9.1/synapse/storage/relations.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/roommember.py` & `matrix-synapse-1.9.1/synapse/storage/roommember.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/schema/delta/25/00background_updates.sql` & `matrix-synapse-1.9.1/synapse/storage/schema/delta/25/00background_updates.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/schema/delta/35/00background_updates_add_col.sql` & `matrix-synapse-1.9.1/synapse/storage/schema/delta/35/00background_updates_add_col.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/schema/schema_version.sql` & `matrix-synapse-1.9.1/synapse/storage/schema/schema_version.sql`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/state.py` & `matrix-synapse-1.9.1/synapse/storage/state.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/util/__init__.py` & `matrix-synapse-1.9.1/synapse/storage/util/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/storage/util/id_generators.py` & `matrix-synapse-1.9.1/synapse/storage/util/id_generators.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/streams/__init__.py` & `matrix-synapse-1.9.1/synapse/streams/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/streams/config.py` & `matrix-synapse-1.9.1/synapse/streams/config.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/streams/events.py` & `matrix-synapse-1.9.1/synapse/streams/events.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/types.py` & `matrix-synapse-1.9.1/synapse/types.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/util/__init__.py` & `matrix-synapse-1.9.1/synapse/util/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/util/async_helpers.py` & `matrix-synapse-1.9.1/synapse/util/async_helpers.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/util/caches/__init__.py` & `matrix-synapse-1.9.1/synapse/util/caches/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/util/caches/descriptors.py` & `matrix-synapse-1.9.1/synapse/util/caches/descriptors.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/util/caches/dictionary_cache.py` & `matrix-synapse-1.9.1/synapse/util/caches/dictionary_cache.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/util/caches/expiringcache.py` & `matrix-synapse-1.9.1/synapse/util/caches/expiringcache.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/util/caches/lrucache.py` & `matrix-synapse-1.9.1/synapse/util/caches/lrucache.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/util/caches/response_cache.py` & `matrix-synapse-1.9.1/synapse/util/caches/response_cache.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/util/caches/stream_change_cache.py` & `matrix-synapse-1.9.1/synapse/util/caches/stream_change_cache.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/util/caches/treecache.py` & `matrix-synapse-1.9.1/synapse/util/caches/treecache.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/util/caches/ttlcache.py` & `matrix-synapse-1.9.1/synapse/util/caches/ttlcache.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/util/distributor.py` & `matrix-synapse-1.9.1/synapse/util/distributor.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/util/file_consumer.py` & `matrix-synapse-1.9.1/synapse/util/file_consumer.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/util/frozenutils.py` & `matrix-synapse-1.9.1/synapse/util/frozenutils.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/util/hash.py` & `matrix-synapse-1.9.1/synapse/util/hash.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/util/httpresourcetree.py` & `matrix-synapse-1.9.1/synapse/util/httpresourcetree.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/util/iterutils.py` & `matrix-synapse-1.9.1/synapse/util/iterutils.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/util/jsonobject.py` & `matrix-synapse-1.9.1/synapse/util/jsonobject.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/util/logcontext.py` & `matrix-synapse-1.9.1/synapse/util/logcontext.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/util/logformatter.py` & `matrix-synapse-1.9.1/synapse/util/logformatter.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/util/manhole.py` & `matrix-synapse-1.9.1/synapse/util/manhole.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/util/metrics.py` & `matrix-synapse-1.9.1/synapse/util/metrics.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/util/module_loader.py` & `matrix-synapse-1.9.1/synapse/util/module_loader.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/util/msisdn.py` & `matrix-synapse-1.9.1/synapse/util/msisdn.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/util/patch_inline_callbacks.py` & `matrix-synapse-1.9.1/synapse/util/patch_inline_callbacks.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/util/ratelimitutils.py` & `matrix-synapse-1.9.1/synapse/util/ratelimitutils.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/util/retryutils.py` & `matrix-synapse-1.9.1/synapse/util/retryutils.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/util/rlimit.py` & `matrix-synapse-1.9.1/synapse/util/rlimit.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/util/stringutils.py` & `matrix-synapse-1.9.1/synapse/util/stringutils.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/util/threepids.py` & `matrix-synapse-1.9.1/synapse/util/threepids.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/util/versionstring.py` & `matrix-synapse-1.9.1/synapse/util/versionstring.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/util/wheel_timer.py` & `matrix-synapse-1.9.1/synapse/util/wheel_timer.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synapse/visibility.py` & `matrix-synapse-1.9.1/synapse/visibility.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synctl` & `matrix-synapse-1.9.1/synctl`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synmark/__init__.py` & `matrix-synapse-1.9.1/synmark/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synmark/__main__.py` & `matrix-synapse-1.9.1/synmark/__main__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/synmark/suites/logging.py` & `matrix-synapse-1.9.1/synmark/suites/logging.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/__init__.py` & `matrix-synapse-1.9.1/tests/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/api/test_auth.py` & `matrix-synapse-1.9.1/tests/api/test_auth.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/api/test_filtering.py` & `matrix-synapse-1.9.1/tests/api/test_filtering.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/api/test_ratelimiting.py` & `matrix-synapse-1.9.1/tests/api/test_ratelimiting.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/app/test_frontend_proxy.py` & `matrix-synapse-1.9.1/tests/app/test_frontend_proxy.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/app/test_openid_listener.py` & `matrix-synapse-1.9.1/tests/app/test_openid_listener.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/appservice/__init__.py` & `matrix-synapse-1.9.1/tests/appservice/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/appservice/test_appservice.py` & `matrix-synapse-1.9.1/tests/appservice/test_appservice.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/appservice/test_scheduler.py` & `matrix-synapse-1.9.1/tests/appservice/test_scheduler.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/config/__init__.py` & `matrix-synapse-1.9.1/tests/config/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/config/test_database.py` & `matrix-synapse-1.9.1/tests/config/test_database.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/config/test_generate.py` & `matrix-synapse-1.9.1/tests/config/test_generate.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/config/test_load.py` & `matrix-synapse-1.9.1/tests/config/test_load.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/config/test_ratelimiting.py` & `matrix-synapse-1.9.1/tests/config/test_ratelimiting.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/config/test_room_directory.py` & `matrix-synapse-1.9.1/tests/config/test_room_directory.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/config/test_server.py` & `matrix-synapse-1.9.1/tests/config/test_server.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/config/test_tls.py` & `matrix-synapse-1.9.1/tests/config/test_tls.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/crypto/__init__.py` & `matrix-synapse-1.9.1/tests/crypto/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/crypto/test_event_signing.py` & `matrix-synapse-1.9.1/tests/crypto/test_event_signing.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/crypto/test_keyring.py` & `matrix-synapse-1.9.1/tests/crypto/test_keyring.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/events/test_utils.py` & `matrix-synapse-1.9.1/tests/events/test_utils.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/federation/test_complexity.py` & `matrix-synapse-1.9.1/tests/federation/test_complexity.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/federation/test_federation_sender.py` & `matrix-synapse-1.9.1/tests/federation/test_federation_sender.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/federation/test_federation_server.py` & `matrix-synapse-1.9.1/tests/federation/test_federation_server.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/federation/transport/test_server.py` & `matrix-synapse-1.9.1/tests/federation/transport/test_server.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/handlers/test_admin.py` & `matrix-synapse-1.9.1/tests/handlers/test_admin.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/handlers/test_appservice.py` & `matrix-synapse-1.9.1/tests/handlers/test_appservice.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/handlers/test_auth.py` & `matrix-synapse-1.9.1/tests/handlers/test_auth.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/handlers/test_device.py` & `matrix-synapse-1.9.1/tests/handlers/test_device.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/handlers/test_directory.py` & `matrix-synapse-1.9.1/tests/handlers/test_directory.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/handlers/test_e2e_keys.py` & `matrix-synapse-1.9.1/tests/handlers/test_e2e_keys.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/handlers/test_e2e_room_keys.py` & `matrix-synapse-1.9.1/tests/handlers/test_e2e_room_keys.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/handlers/test_federation.py` & `matrix-synapse-1.9.1/tests/handlers/test_federation.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/handlers/test_presence.py` & `matrix-synapse-1.9.1/tests/handlers/test_presence.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/handlers/test_profile.py` & `matrix-synapse-1.9.1/tests/handlers/test_profile.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/handlers/test_register.py` & `matrix-synapse-1.9.1/tests/handlers/test_register.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/handlers/test_stats.py` & `matrix-synapse-1.9.1/tests/handlers/test_stats.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/handlers/test_sync.py` & `matrix-synapse-1.9.1/tests/handlers/test_sync.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/handlers/test_typing.py` & `matrix-synapse-1.9.1/tests/handlers/test_typing.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/handlers/test_user_directory.py` & `matrix-synapse-1.9.1/tests/handlers/test_user_directory.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/http/__init__.py` & `matrix-synapse-1.9.1/tests/http/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/http/ca.crt` & `matrix-synapse-1.9.1/tests/http/ca.crt`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/http/ca.key` & `matrix-synapse-1.9.1/tests/http/ca.key`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/http/federation/__init__.py` & `matrix-synapse-1.9.1/tests/http/federation/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/http/federation/test_matrix_federation_agent.py` & `matrix-synapse-1.9.1/tests/http/federation/test_matrix_federation_agent.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/http/federation/test_srv_resolver.py` & `matrix-synapse-1.9.1/tests/http/federation/test_srv_resolver.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/http/server.key` & `matrix-synapse-1.9.1/tests/http/server.key`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/http/test_endpoint.py` & `matrix-synapse-1.9.1/tests/http/test_endpoint.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/http/test_fedclient.py` & `matrix-synapse-1.9.1/tests/http/test_fedclient.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/http/test_proxyagent.py` & `matrix-synapse-1.9.1/tests/http/test_proxyagent.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/logging/test_structured.py` & `matrix-synapse-1.9.1/tests/logging/test_structured.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/logging/test_terse_json.py` & `matrix-synapse-1.9.1/tests/logging/test_terse_json.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/push/test_email.py` & `matrix-synapse-1.9.1/tests/push/test_email.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/push/test_http.py` & `matrix-synapse-1.9.1/tests/push/test_http.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/replication/__init__.py` & `matrix-synapse-1.9.1/tests/replication/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/replication/slave/__init__.py` & `matrix-synapse-1.9.1/tests/replication/slave/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/replication/slave/storage/__init__.py` & `matrix-synapse-1.9.1/tests/replication/slave/storage/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/replication/slave/storage/_base.py` & `matrix-synapse-1.9.1/tests/replication/slave/storage/_base.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/replication/slave/storage/test_account_data.py` & `matrix-synapse-1.9.1/tests/replication/slave/storage/test_account_data.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/replication/slave/storage/test_events.py` & `matrix-synapse-1.9.1/tests/replication/slave/storage/test_events.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/replication/slave/storage/test_receipts.py` & `matrix-synapse-1.9.1/tests/replication/slave/storage/test_receipts.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/replication/tcp/__init__.py` & `matrix-synapse-1.9.1/tests/replication/tcp/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/replication/tcp/streams/__init__.py` & `matrix-synapse-1.9.1/tests/replication/tcp/streams/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/replication/tcp/streams/_base.py` & `matrix-synapse-1.9.1/tests/replication/tcp/streams/_base.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/replication/tcp/streams/test_receipts.py` & `matrix-synapse-1.9.1/tests/replication/tcp/streams/test_receipts.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/rest/__init__.py` & `matrix-synapse-1.9.1/tests/rest/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/rest/admin/__init__.py` & `matrix-synapse-1.9.1/tests/rest/admin/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/rest/admin/test_admin.py` & `matrix-synapse-1.9.1/tests/rest/admin/test_admin.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/rest/admin/test_user.py` & `matrix-synapse-1.9.1/tests/rest/admin/test_user.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/rest/client/__init__.py` & `matrix-synapse-1.9.1/tests/rest/client/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/rest/client/test_consent.py` & `matrix-synapse-1.9.1/tests/rest/client/test_consent.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/rest/client/test_ephemeral_message.py` & `matrix-synapse-1.9.1/tests/rest/client/test_ephemeral_message.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/rest/client/test_identity.py` & `matrix-synapse-1.9.1/tests/rest/client/test_identity.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/rest/client/test_redactions.py` & `matrix-synapse-1.9.1/tests/rest/client/test_redactions.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/rest/client/test_retention.py` & `matrix-synapse-1.9.1/tests/rest/client/test_retention.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/rest/client/test_transactions.py` & `matrix-synapse-1.9.1/tests/rest/client/test_transactions.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/rest/client/third_party_rules.py` & `matrix-synapse-1.9.1/tests/rest/client/third_party_rules.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/rest/client/v1/__init__.py` & `matrix-synapse-1.9.1/tests/rest/client/v1/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/rest/client/v1/test_directory.py` & `matrix-synapse-1.9.1/tests/rest/client/v1/test_directory.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/rest/client/v1/test_events.py` & `matrix-synapse-1.9.1/tests/rest/client/v1/test_events.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/rest/client/v1/test_login.py` & `matrix-synapse-1.9.1/tests/rest/client/v1/test_login.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/rest/client/v1/test_presence.py` & `matrix-synapse-1.9.1/tests/rest/client/v1/test_presence.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/rest/client/v1/test_profile.py` & `matrix-synapse-1.9.1/tests/rest/client/v1/test_profile.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/rest/client/v1/test_rooms.py` & `matrix-synapse-1.9.1/tests/rest/client/v1/test_rooms.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/rest/client/v1/test_typing.py` & `matrix-synapse-1.9.1/tests/rest/client/v1/test_typing.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/rest/client/v1/utils.py` & `matrix-synapse-1.9.1/tests/rest/client/v1/utils.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/rest/client/v2_alpha/test_account.py` & `matrix-synapse-1.9.1/tests/rest/client/v2_alpha/test_account.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/rest/client/v2_alpha/test_auth.py` & `matrix-synapse-1.9.1/tests/rest/client/v2_alpha/test_auth.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/rest/client/v2_alpha/test_capabilities.py` & `matrix-synapse-1.9.1/tests/rest/client/v2_alpha/test_capabilities.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/rest/client/v2_alpha/test_filter.py` & `matrix-synapse-1.9.1/tests/rest/client/v2_alpha/test_filter.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/rest/client/v2_alpha/test_register.py` & `matrix-synapse-1.9.1/tests/rest/client/v2_alpha/test_register.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/rest/client/v2_alpha/test_relations.py` & `matrix-synapse-1.9.1/tests/rest/client/v2_alpha/test_relations.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/rest/client/v2_alpha/test_sync.py` & `matrix-synapse-1.9.1/tests/rest/client/v2_alpha/test_sync.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/rest/key/v2/test_remote_key_resource.py` & `matrix-synapse-1.9.1/tests/rest/key/v2/test_remote_key_resource.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/rest/media/__init__.py` & `matrix-synapse-1.9.1/tests/rest/media/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/rest/media/v1/__init__.py` & `matrix-synapse-1.9.1/tests/rest/media/v1/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/rest/media/v1/test_base.py` & `matrix-synapse-1.9.1/tests/rest/media/v1/test_base.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/rest/media/v1/test_media_storage.py` & `matrix-synapse-1.9.1/tests/rest/media/v1/test_media_storage.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/rest/media/v1/test_url_preview.py` & `matrix-synapse-1.9.1/tests/rest/media/v1/test_url_preview.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/rest/test_well_known.py` & `matrix-synapse-1.9.1/tests/rest/test_well_known.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/scripts/test_new_matrix_user.py` & `matrix-synapse-1.9.1/tests/scripts/test_new_matrix_user.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/server.py` & `matrix-synapse-1.9.1/tests/server.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/server_notices/test_consent.py` & `matrix-synapse-1.9.1/tests/server_notices/test_consent.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/server_notices/test_resource_limits_server_notices.py` & `matrix-synapse-1.9.1/tests/server_notices/test_resource_limits_server_notices.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/state/test_v2.py` & `matrix-synapse-1.9.1/tests/state/test_v2.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/storage/test__base.py` & `matrix-synapse-1.9.1/tests/storage/test__base.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/storage/test_appservice.py` & `matrix-synapse-1.9.1/tests/storage/test_appservice.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/storage/test_background_update.py` & `matrix-synapse-1.9.1/tests/storage/test_background_update.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/storage/test_base.py` & `matrix-synapse-1.9.1/tests/storage/test_base.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/storage/test_cleanup_extrems.py` & `matrix-synapse-1.9.1/tests/storage/test_cleanup_extrems.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/storage/test_client_ips.py` & `matrix-synapse-1.9.1/tests/storage/test_client_ips.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/storage/test_devices.py` & `matrix-synapse-1.9.1/tests/storage/test_devices.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/storage/test_directory.py` & `matrix-synapse-1.9.1/tests/storage/test_directory.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/storage/test_e2e_room_keys.py` & `matrix-synapse-1.9.1/tests/storage/test_e2e_room_keys.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/storage/test_end_to_end_keys.py` & `matrix-synapse-1.9.1/tests/storage/test_end_to_end_keys.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/storage/test_event_federation.py` & `matrix-synapse-1.9.1/tests/storage/test_event_federation.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/storage/test_event_metrics.py` & `matrix-synapse-1.9.1/tests/storage/test_event_metrics.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/storage/test_event_push_actions.py` & `matrix-synapse-1.9.1/tests/storage/test_event_push_actions.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/storage/test_keys.py` & `matrix-synapse-1.9.1/tests/storage/test_keys.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/storage/test_monthly_active_users.py` & `matrix-synapse-1.9.1/tests/storage/test_monthly_active_users.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/storage/test_profile.py` & `matrix-synapse-1.9.1/tests/storage/test_profile.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/storage/test_purge.py` & `matrix-synapse-1.9.1/tests/storage/test_purge.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/storage/test_redaction.py` & `matrix-synapse-1.9.1/tests/storage/test_redaction.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/storage/test_registration.py` & `matrix-synapse-1.9.1/tests/storage/test_registration.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/storage/test_room.py` & `matrix-synapse-1.9.1/tests/storage/test_room.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/storage/test_roommember.py` & `matrix-synapse-1.9.1/tests/storage/test_roommember.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/storage/test_state.py` & `matrix-synapse-1.9.1/tests/storage/test_state.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/storage/test_transactions.py` & `matrix-synapse-1.9.1/tests/storage/test_transactions.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/storage/test_user_directory.py` & `matrix-synapse-1.9.1/tests/storage/test_user_directory.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/test_distributor.py` & `matrix-synapse-1.9.1/tests/test_distributor.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/test_event_auth.py` & `matrix-synapse-1.9.1/tests/test_event_auth.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/test_federation.py` & `matrix-synapse-1.9.1/tests/test_federation.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/test_mau.py` & `matrix-synapse-1.9.1/tests/test_mau.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/test_metrics.py` & `matrix-synapse-1.9.1/tests/test_metrics.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/test_phone_home.py` & `matrix-synapse-1.9.1/tests/test_phone_home.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/test_preview.py` & `matrix-synapse-1.9.1/tests/test_preview.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/test_server.py` & `matrix-synapse-1.9.1/tests/test_server.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/test_state.py` & `matrix-synapse-1.9.1/tests/test_state.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/test_terms_auth.py` & `matrix-synapse-1.9.1/tests/test_terms_auth.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/test_test_utils.py` & `matrix-synapse-1.9.1/tests/test_test_utils.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/test_types.py` & `matrix-synapse-1.9.1/tests/test_types.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/test_utils/__init__.py` & `matrix-synapse-1.9.1/tests/test_utils/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/test_utils/logging_setup.py` & `matrix-synapse-1.9.1/tests/test_utils/logging_setup.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/test_visibility.py` & `matrix-synapse-1.9.1/tests/test_visibility.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/unittest.py` & `matrix-synapse-1.9.1/tests/unittest.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/util/__init__.py` & `matrix-synapse-1.9.1/tests/util/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/util/caches/__init__.py` & `matrix-synapse-1.9.1/tests/util/caches/__init__.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/util/caches/test_descriptors.py` & `matrix-synapse-1.9.1/tests/util/caches/test_descriptors.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/util/caches/test_ttlcache.py` & `matrix-synapse-1.9.1/tests/util/caches/test_ttlcache.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/util/test_async_utils.py` & `matrix-synapse-1.9.1/tests/util/test_async_utils.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/util/test_dict_cache.py` & `matrix-synapse-1.9.1/tests/util/test_dict_cache.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/util/test_expiring_cache.py` & `matrix-synapse-1.9.1/tests/util/test_expiring_cache.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/util/test_file_consumer.py` & `matrix-synapse-1.9.1/tests/util/test_file_consumer.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/util/test_itertools.py` & `matrix-synapse-1.9.1/tests/util/test_itertools.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/util/test_linearizer.py` & `matrix-synapse-1.9.1/tests/util/test_linearizer.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/util/test_logcontext.py` & `matrix-synapse-1.9.1/tests/util/test_logcontext.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/util/test_logformatter.py` & `matrix-synapse-1.9.1/tests/util/test_logformatter.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/util/test_lrucache.py` & `matrix-synapse-1.9.1/tests/util/test_lrucache.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/util/test_ratelimitutils.py` & `matrix-synapse-1.9.1/tests/util/test_ratelimitutils.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/util/test_retryutils.py` & `matrix-synapse-1.9.1/tests/util/test_retryutils.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/util/test_rwlock.py` & `matrix-synapse-1.9.1/tests/util/test_rwlock.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/util/test_stream_change_cache.py` & `matrix-synapse-1.9.1/tests/util/test_stream_change_cache.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/util/test_treecache.py` & `matrix-synapse-1.9.1/tests/util/test_treecache.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/util/test_wheel_timer.py` & `matrix-synapse-1.9.1/tests/util/test_wheel_timer.py`

 * *Files identical despite different names*

### Comparing `matrix-synapse-1.9.0rc1/tests/utils.py` & `matrix-synapse-1.9.1/tests/utils.py`

 * *Files identical despite different names*

