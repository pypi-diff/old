<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="x-ua-compatible" content="IE=edge">
  <meta name="referrer" content="no-referrer" />
  <meta name="generator" content="diffoscope" />
  <link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAADdgAAA3YBfdWCzAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAM8SURBVFiF7dZdaJZlGAfw3/O+e9XNjy3XllZzWImBxIpifqTgsmUHBSIeBNFBdRh0UHQ0xGdb66CFBIERZEFRQRRUw0HkQkLMYQSBdpCFWdgSP6jpNn2393k68Nn2bj3vXtb6UOh/cl/39b/u67mem/913zf/4z9GUDw5xNI8n5WIzW9m/QF2YluJmI8203mALzEvLWAerRs4Pz6vSIkZSlsYk0/GkaB0zEgyDgWMlijyWsJuS2fkQwu8pqpMTA0ypeiShG71Bp0rU8Q+A47MWEDgvHZbZl/Av4SpIgxVYB3IqwZDmoUuYkzosDaNchpAoFqkSmgjGPWzLieF1k3JHVsjvCJQHBYaSy9g1E3m+QImQiK9SbNGqJDzuiDZ0lggQJCsyelDq8BB47sbCWTsnvhG3kqcLL833eqF4hk1EOoTOjZjnnaRdq2l6KtMAyl4/g23bKJrun+Mt9uOq7nvqOVbebWYy9Adc1fM/R/3CO780dONbIeFPHsPw+ULeM5ZHTbXHfUtXpxOZzgT5z02UGsZThRzF/ilht9G+fr4zfbfccIxXIa7uVTup69i7LJXaEEqF3on1d9ludBLpVLOVoT1lky9QYtwQ6p3WAVqSyUslWwSbRrkPJrMtgn0iBVk7BPJ4sGE24EPQKW3jLgdzWKLBTbg0yTuZeGkDsp2gcUGDesHGQ/gK5G8nLMigWiCe3jCrnTRiJ9EYjm1ImsUEq5l8hScPXbpsVtlKhfan+pv0yD0ZqmU5XegGBmnDIo/pylj8oYLOP3Eab/v5Zmi6EtZ3vv1FU/2r7LioYSL2dNybbdiMdptFU57++20Vqh+iq/Tap1WpaWY611wmyWyUzxZDbIWTvEV1Ildn5agfBumoUMTtoisFvhebAAHZWxX0ChwTuScvHdVeVykToysMyJ7ittwbmj31J+6IrRDp5XTfBt1WJ+WYnZdMB0F3xlUgD5uDVj2Sa+a4SrzH+FeyHHmw17V112waBOZgP4WczkLZsILar1fpIliMU4XZoK/poE0XHl+N8v6QcGAUbVymnDIZVnzrTXqGzmnhKLxZX/niyiDjIJgwg4Se1GR/Y8idGPysh6fr0i1i/AHMWHgrwUJgNAAAAAASUVORK5CYII=" />
  <title>/srv/diffoscope/bin/diffoscope --no-progress tmp/peaksjs_widget-0.1.0.dev1.tar.gz tmp/peaksjs_widget-0.1.1.dev0.tar.gz --html versions/p/peaksjs-widget/0.1.0.dev1-0.1.1.dev0/index.html --text versions/p/peaksjs-widget/0.1.0.dev1-0.1.1.dev0/diff.txt --markdown versions/p/peaksjs-widget/0.1.0.dev1-0.1.1.dev0/diff.md</title>
<style>
body.diffoscope {
  background: white;
  color: black;
}
.diffoscope .footer {
  font-size: small;
}
.diffoscope .difference {
  border: outset #888 1px;
  background: #E8E8E8;
  background: rgba(0,0,0,.1);
  padding: 0.5em;
  margin: 0.5em 0;
}
.diffoscope .difference table {
  table-layout: fixed;
  width: 100%;
  border: 0;
}
.diffoscope .difference th,
.diffoscope .difference td {
  border: 0;
}
.diffoscope table.diff {
  border: 0;
  border-collapse:collapse;
  font-size:0.75em;
  font-family: 'Lucida Console', monospace;
  word-break: break-word;
}
.diffoscope table.diff tr:hover td {
  background: #FFFF00;
}
.diffoscope .line {
  color:#8080a0
}
.diffoscope th {
  background: black;
  color: white
}
.diffoscope .diffunmodified td {
  background: #D0D0E0
}
.diffoscope .diffhunk td {
  background: #A0A0A0
}
.diffoscope .diffadded td {
  background: #CCFFCC
}
.diffoscope .diffdeleted td {
  background: #FFCCCC
}
.diffoscope .diffchanged td {
  background: #FFFFA0
}
.diffoscope ins, del {
  background: #E0C880;
  text-decoration: none
}
.diffoscope .dp {
  color: #B08080
}
.diffoscope .comment {
  font-style: italic;
}
.diffoscope .comment.multiline {
  font-style: normal;
  font-family: monospace;
  white-space: pre;
}
.diffoscope .source {
  font-weight: bold;
}
.diffoscope .error {
  border: solid black 1px;
  background: red;
  color: white;
  padding: 0.2em;
}
.diffoscope .anchor {
  margin-left: 0.5em;
  font-size: 80%;
  color: #333;
  text-decoration: none;
  display: none;
}
.diffoscope .diffheader:hover .anchor {
  display: inline;
}
.diffoscope .diffcontrol, .diffoscope .diffcontrol-nochildren {
  float: left;
  margin-right: 0.3em;
  cursor: pointer;
  display: none; /* currently, only available in html-dir output where jquery is enabled */
}
.diffoscope .colines {
  width: 3em;
}
.diffoscope .coldiff {
  width: 99%;
}
.diffoscope .diffsize {
  float: right;
}
.diffoscope table.diff tr.ondemand td, .diffoscope div.ondemand-details {
  background: #f99;
  text-align: center;
  padding: 0.5em 0;
}
.diffoscope table.diff tr.ondemand:hover td, .diffoscope div.ondemand-details:hover {
  background: #faa;
  cursor: pointer;
}
</style>
</head>
<body class="diffoscope">
<div class="difference">
  <div class="diffheader">
  <div class="diffcontrol diffcontrol-double">⊟</div>
  <div><span class="diffsize">1.08 MB</span></div>
  <div><span class="source">tmp/peaksjs_widget-0.1.0.dev1.tar.gz</span> vs.</div>
  <div id="top"><span class="source">tmp/peaksjs_widget-0.1.1.dev0.tar.gz</span>
    <a class="anchor" href="#top">¶</a>
  </div>
  </div>
  <div class="difference">
    <div class="diffheader">
    <div class="diffcontrol diffcontrol-double">⊟</div>
    <div><span class="diffsize">1.08 MB</span></div>
    <div><span class="source">peaksjs_widget-0.1.0.dev1.tar</span> vs.</div>
    <div id="peaksjs_widget--.-.-.dev-.tar"><span class="source">peaksjs_widget-0.1.1.dev0.tar</span>
      <a class="anchor" href="#peaksjs_widget--.-.-.dev-.tar">¶</a>
    </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol">⊟</div>
      <div><span class="diffsize">17.5 KB</span></div>
      <div id="peaksjs_widget--.-.-.dev-.tar---file-list"><span class="source">file list</span>
        <a class="anchor" href="#peaksjs_widget--.-.-.dev-.tar---file-list">¶</a>
      </div>
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 74 lines modified</td><td colspan="2">Offset 1, 66 lines modified</td></tr>
<tr class="diffchanged"><td class="diffline">1 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>36<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/.coveragerc</td><td class="diffline">1 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>36<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/.coveragerc</td></tr>
<tr class="diffchanged"><td class="diffline">2 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>42<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/.eslintignore</td><td class="diffline">2 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>42<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/.eslintignore</td></tr>
<tr class="diffchanged"><td class="diffline">3 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>807<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/.eslintrc.js</td><td class="diffline">3 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>807<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/.eslintrc.js</td></tr>
<tr class="diffchanged"><td class="diffline">4 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>107<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/.npmignore</td><td class="diffline">4 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>107<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/.npmignore</td></tr>
<tr class="diffchanged"><td class="diffline">5 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>51<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/.prettierignore</td><td class="diffline">5 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>51<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/.prettierignore</td></tr>
<tr class="diffchanged"><td class="diffline">6 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>27<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/.prettierrc</td><td class="diffline">6 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>27<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/.prettierrc</td></tr>
<tr class="diffchanged"><td class="diffline">7 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>477<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/MANIFEST.in</td><td class="diffline">7 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>477<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/MANIFEST.in</td></tr>
<tr class="diffchanged"><td class="diffline">8 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>177<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/babel.config.js</td><td class="diffline">8 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>177<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/babel.config.js</td></tr>
<tr class="diffchanged"><td class="diffline">9 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>222<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/codecov.yml</td><td class="diffline">9 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>222<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/codecov.yml</td></tr>
<tr class="diffchanged"><td class="diffline">10 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>189<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/install.json</td><td class="diffline">10 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>189<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/install.json</td></tr>
<tr class="diffchanged"><td class="diffline">11 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>495<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/jest.config.js</td><td class="diffline">11 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>495<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/jest.config.js</td></tr>
<tr class="diffdeleted"><td class="diffline">12 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span>1130803<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.0.dev1/package-lock.json</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">13 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>3<del>078</del><span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/package.json</td><td class="diffline">12 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>3<ins>115</ins><span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/package.json</td></tr>
<tr class="diffchanged"><td class="diffline">14 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>68<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/peaksjs_widget.json</td><td class="diffline">13 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>68<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/peaksjs_widget.json</td></tr>
<tr class="diffchanged"><td class="diffline">15 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>131<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/pytest.ini</td><td class="diffline">14 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>131<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/pytest.ini</td></tr>
<tr class="diffchanged"><td class="diffline">16 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>140<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/readthedocs.yml</td><td class="diffline">15 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>140<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/readthedocs.yml</td></tr>
<tr class="diffchanged"><td class="diffline">17 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>92<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/setup.py</td><td class="diffline">16 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>92<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/setup.py</td></tr>
<tr class="diffchanged"><td class="diffline">18 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>97<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/tsconfig.eslint.json</td><td class="diffline">17 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>97<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/tsconfig.eslint.json</td></tr>
<tr class="diffchanged"><td class="diffline">19 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>553<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/tsconfig.json</td><td class="diffline">18 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>553<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/tsconfig.json</td></tr>
<tr class="diffchanged"><td class="diffline">20 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>2142<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/webpack.config.js</td><td class="diffline">19 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>2142<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/webpack.config.js</td></tr>
<tr class="diffchanged"><td class="diffline">21 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>322<del>23</del>0<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/yarn.lock</td><td class="diffline">20 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>322<ins>51</ins>0<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/yarn.lock</td></tr>
<tr class="diffchanged"><td class="diffline">22 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/css/widget.css</td><td class="diffline">21 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/css/widget.css</td></tr>
<tr class="diffchanged"><td class="diffline">23 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>616<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/docs/Makefile</td><td class="diffline">22 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>616<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/docs/Makefile</td></tr>
<tr class="diffchanged"><td class="diffline">24 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>175<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/docs/environment.yml</td><td class="diffline">23 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>175<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/docs/environment.yml</td></tr>
<tr class="diffchanged"><td class="diffline">25 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>786<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/docs/make.bat</td><td class="diffline">24 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>786<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/docs/make.bat</td></tr>
<tr class="diffchanged"><td class="diffline">26 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>6389<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/docs/source/conf.py</td><td class="diffline">25 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>6389<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/docs/source/conf.py</td></tr>
<tr class="diffchanged"><td class="diffline">27 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>846<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/docs/source/develop-install.rst</td><td class="diffline">26 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>846<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/docs/source/develop-install.rst</td></tr>
<tr class="diffchanged"><td class="diffline">28 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>676<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/docs/source/index.rst</td><td class="diffline">27 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>676<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/docs/source/index.rst</td></tr>
<tr class="diffchanged"><td class="diffline">29 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1041<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/docs/source/installing.rst</td><td class="diffline">28 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1041<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/docs/source/installing.rst</td></tr>
<tr class="diffchanged"><td class="diffline">30 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>109<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/docs/source/introduction.rst</td><td class="diffline">29 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>109<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/docs/source/introduction.rst</td></tr>
<tr class="diffchanged"><td class="diffline">31 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>120<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/docs/source/_static/helper.js</td><td class="diffline">30 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>120<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/docs/source/_static/helper.js</td></tr>
<tr class="diffchanged"><td class="diffline">32 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>385<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/docs/source/examples/index.rst</td><td class="diffline">31 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>385<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/docs/source/examples/index.rst</td></tr>
<tr class="diffchanged"><td class="diffline">33 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>53<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/docs/source/examples/introduction.nblink</td><td class="diffline">32 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>53<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/docs/source/examples/introduction.nblink</td></tr>
<tr class="diffchanged"><td class="diffline">34 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1010<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/examples/introduction.ipynb</td><td class="diffline">33 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1010<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/examples/introduction.ipynb</td></tr>
<tr class="diffchanged"><td class="diffline">35 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1831<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/peaksjs_widget/__init__.py</td><td class="diffline">34 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1831<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/peaksjs_widget/__init__.py</td></tr>
<tr class="diffchanged"><td class="diffline">36 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>251<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/peaksjs_widget/_frontend.py</td><td class="diffline">35 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>251<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/peaksjs_widget/_frontend.py</td></tr>
<tr class="diffchanged"><td class="diffline">37 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>209<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/peaksjs_widget/_version.py</td><td class="diffline">36 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>209<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/peaksjs_widget/_version.py</td></tr>
<tr class="diffchanged"><td class="diffline">38 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>5510<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/peaksjs_widget/widget.py</td><td class="diffline">37 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>5510<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/peaksjs_widget/widget.py</td></tr>
<tr class="diffdeleted"><td class="diffline">39 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>19889<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.0.dev1/peaksjs_widget/labextension/build_log.json</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">40 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>3<del>194</del><span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/peaksjs_widget/labextension/package.json</td><td class="diffline">38 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>3<ins>231</ins><span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/peaksjs_widget/labextension/package.json</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">39 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>102446<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.1.dev0/peaksjs_widget/labextension/static/328.d9fe65c100b4dcbbfa98.js</td></tr>
<tr class="diffchanged"><td class="diffline">41 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del><span class="dp">·</span>1241</del><span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/peaksjs_widget/labextension/static/<del>lib_i</del><del>ndex_js.a</del>a9<del>684</del><del>cf55</del>6<del>0</del><del>3a3</del>1<del>fb28</del>.js</td><td class="diffline">40 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>89409</ins><span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/peaksjs_widget/labextension/static/<ins>338.69191</ins>a9<ins>7db7</ins>6<ins>8e4</ins>1<ins>9662</ins>.js</td></tr>
<tr class="diffdeleted"><td class="diffline">42 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1198<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.0.dev1/peaksjs_widget/labextension/static/lib_index_js.aa9684cf55603a31fb28.js.map</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">43 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del><span class="dp">·</span>2393</del><span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/peaksjs_widget/labextension/static/<del>lib_plugin</del><del>_js</del>.<del>9d45d</del>d<del>6d39</del>3<del>c</del><del>850b</del>6<del>9</del>ef.js</td><td class="diffline">41 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>13772</ins><span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/peaksjs_widget/labextension/static/<ins>367</ins>.<ins>cef8c</ins>d<ins>3e54</ins>3<ins>768c</ins>6<ins>c</ins>ef<ins>4</ins>.js</td></tr>
<tr class="diffdeleted"><td class="diffline">44 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>2540<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.0.dev1/peaksjs_widget/labextension/static/lib_plugin_js.9d45dd6d393c850b69ef.js.map</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">45 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>32686<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.0.dev1/peaksjs_widget/labextension/static/lib_widget_js.5353f7be27828093f671.js</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">46 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>34051<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.0.dev1/peaksjs_widget/labextension/static/lib_widget_js.5353f7be27828093f671.js.map</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">47 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>28</del>9<del>60</del><span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/peaksjs_widget/labextension/static/<del>remoteEntry.1</del>7<del>6b</del><del>b</del>1<del>cb</del>4<del>73</del>4<del>f</del><del>9</del>f3b<del>96d</del>.js</td><td class="diffline">42 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins><span class="dp">·</span><span class="dp">·</span></ins>9<ins>36</ins><span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/peaksjs_widget/labextension/static/<ins>480.8b1740af9</ins>7<ins>0</ins>1<ins>e9</ins>44<ins>e</ins>f3b.js</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">43 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>19823<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.1.dev0/peaksjs_widget/labextension/static/537.215758051d710979d9cd.js</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">44 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>522<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.1.dev0/peaksjs_widget/labextension/static/568.79131bbd8f289d6200e2.js</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">45 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>58773<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.1.dev0/peaksjs_widget/labextension/static/882.113942f81a9ff27461d8.js</td></tr>
<tr class="diffchanged"><td class="diffline">48 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>2</del>7<del>7</del>7<del>3</del><span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/peaksjs_widget/labextension/static/remoteEntry.<del>176bb1cb47</del>3<del>4f9</del>f<del>3b9</del>6<del>d</del>.js<del>.map</del></td><td class="diffline">46 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins><span class="dp">·</span></ins>7<ins>4</ins>7<ins>4</ins><span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/peaksjs_widget/labextension/static/remoteEntry.<ins>0</ins><ins>ef5693efff</ins>3<ins>3ec</ins>f<ins>cfd</ins>6.js</td></tr>
<tr class="diffchanged"><td class="diffline">49 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>118<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/peaksjs_widget/labextension/static/style.js</td><td class="diffline">47 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>118<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/peaksjs_widget/labextension/static/style.js</td></tr>
<tr class="diffdeleted"><td class="diffline">50 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>257922<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.0.dev1/peaksjs_widget/labextension/static/vendors-node_modules_konva_lib__CoreInternals_js-node_modules_konva_lib_shapes_Line_js-node_m-6fe63c.1477f4b629ede6e21f67.js</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">51 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>267708<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.0.dev1/peaksjs_widget/labextension/static/vendors-node_modules_konva_lib__CoreInternals_js-node_modules_konva_lib_shapes_Line_js-node_m-6fe63c.1477f4b629ede6e21f67.js.map</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">52 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>195116<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.0.dev1/peaksjs_widget/labextension/static/vendors-node_modules_konva_lib_index_js.7ae7e76cf0460a75bb3f.js</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">53 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>179918<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.0.dev1/peaksjs_widget/labextension/static/vendors-node_modules_konva_lib_index_js.7ae7e76cf0460a75bb3f.js.map</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">54 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>229717<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.0.dev1/peaksjs_widget/labextension/static/vendors-node_modules_peaks_js_dist_peaks_esm_js.2e16f156fa8f7dd1c574.js</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">55 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>279096<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.0.dev1/peaksjs_widget/labextension/static/vendors-node_modules_peaks_js_dist_peaks_esm_js.2e16f156fa8f7dd1c574.js.map</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">56 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del><span class="dp">·</span><span class="dp">·</span>4</del>1<del>8</del><span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/peaksjs_widget/<del>n</del>bextension/<del>ex</del>tens<del>i</del><del>on</del>.js</td><td class="diffline">48 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>115</ins>1<ins>0</ins><span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/peaksjs_widget/<ins>l</ins><ins>a</ins>bextension<ins>/static</ins>/<ins>third-p</ins><ins>ar</ins>t<ins>y-lic</ins>ens<ins>es</ins>.js<ins>on</ins></td></tr>
<tr class="diffchanged"><td class="diffline">57 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>285<del>286</del><span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/peaksjs_widget/nbextension/index.js</td><td class="diffline">49 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>285<ins>567</ins><span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/peaksjs_widget/nbextension/index.js</td></tr>
<tr class="diffchanged"><td class="diffline">58 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span>10<del>19249</del><span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/peaksjs_widget/nbextension/index.js.map</td><td class="diffline">50 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span>10<ins>20013</ins><span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/peaksjs_widget/nbextension/index.js.map</td></tr>
<tr class="diffchanged"><td class="diffline">59 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/peaksjs_widget/tests/__init__.py</td><td class="diffline">51 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/peaksjs_widget/tests/__init__.py</td></tr>
<tr class="diffchanged"><td class="diffline">60 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1411<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/peaksjs_widget/tests/conftest.py</td><td class="diffline">52 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1411<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/peaksjs_widget/tests/conftest.py</td></tr>
<tr class="diffchanged"><td class="diffline">61 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>278<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/peaksjs_widget/tests/test_example.py</td><td class="diffline">53 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>278<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/peaksjs_widget/tests/test_example.py</td></tr>
<tr class="diffchanged"><td class="diffline">62 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>467<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/peaksjs_widget/tests/test_nbextension_path.py</td><td class="diffline">54 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>467<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/peaksjs_widget/tests/test_nbextension_path.py</td></tr>
<tr class="diffchanged"><td class="diffline">63 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>622<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/src/extension.ts</td><td class="diffline">55 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>622<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/src/extension.ts</td></tr>
<tr class="diffchanged"><td class="diffline">64 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>145<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/src/index.ts</td><td class="diffline">56 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>145<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/src/index.ts</td></tr>
<tr class="diffchanged"><td class="diffline">65 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1119<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/src/plugin.ts</td><td class="diffline">57 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1119<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/src/plugin.ts</td></tr>
<tr class="diffchanged"><td class="diffline">66 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>573<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/src/version.ts</td><td class="diffline">58 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>573<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/src/version.ts</td></tr>
<tr class="diffchanged"><td class="diffline">67 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>16927<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/src/widget.ts</td><td class="diffline">59 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>16927<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/src/widget.ts</td></tr>
<tr class="diffchanged"><td class="diffline">68 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>829<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/src/__tests__/index.spec.ts</td><td class="diffline">60 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>829<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/src/__tests__/index.spec.ts</td></tr>
<tr class="diffchanged"><td class="diffline">69 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>2909<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/src/__tests__/utils.ts</td><td class="diffline">61 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>2909<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/src/__tests__/utils.ts</td></tr>
<tr class="diffchanged"><td class="diffline">70 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>19<del>69</del><span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/.gitignore</td><td class="diffline">62 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>19<ins>81</ins><span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/.gitignore</td></tr>
<tr class="diffchanged"><td class="diffline">71 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1498<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/LICENSE.txt</td><td class="diffline">63 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1498<span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/LICENSE.txt</td></tr>
<tr class="diffchanged"><td class="diffline">72 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>2<del>446</del><span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/README.md</td><td class="diffline">64 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>2<ins>507</ins><span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/README.md</td></tr>
<tr class="diffchanged"><td class="diffline">73 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>288<del>1</del><span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/pyproject.toml</td><td class="diffline">65 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>288<ins>0</ins><span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/pyproject.toml</td></tr>
<tr class="diffchanged"><td class="diffline">74 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>56<del>35</del><span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<del>0</del>.dev<del>1</del>/PKG-INFO</td><td class="diffline">66 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>56<ins>96</ins><span class="dp">·</span>2020-02-02<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>peaksjs_widget-0.1.<ins>1</ins>.dev<ins>0</ins>/PKG-INFO</td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">115 B</span></div>
      <div><span class="source">peaksjs_widget-0.1.0.dev1/.eslintrc.js</span> vs.</div>
      <div id="peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--.eslintrc.js"><span class="source">peaksjs_widget-0.1.1.dev0/.eslintrc.js</span>
        <a class="anchor" href="#peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--.eslintrc.js">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">895 B</span></div>
      <div><span class="source">peaksjs_widget-0.1.0.dev1/package.json</span> vs.</div>
      <div id="peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--package.json"><span class="source">peaksjs_widget-0.1.1.dev0/package.json</span>
        <a class="anchor" href="#peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--package.json">¶</a>
      </div>
      </div>
      <div class="comment">Files 2% similar despite different names
      </div>
      <div class="difference">
        <div class="diffheader">
        <div class="diffcontrol">⊟</div>
        <div><span class="diffsize">779 B</span></div>
        <div id="peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--package.json---Pretty-printed"><span class="source">Pretty-printed</span>
          <a class="anchor" href="#peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--package.json---Pretty-printed">¶</a>
        </div>
        </div>
        <div class="comment multiline">Similarity: 0.9947916666666666%
Differences: {&quot;&#x27;dependencies&#x27;&quot;: &quot;{&#x27;waveform-data&#x27;: &#x27;&gt;= 4.3.0 &lt; 5&#x27;}&quot;}
        </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 7, 15 lines modified</td><td colspan="2">Offset 7, 16 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;url&quot;:<span class="dp">·</span>&quot;https://github.com/ktonal/peaksjs-widget/issues&quot;</td><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;url&quot;:<span class="dp">·</span>&quot;https://github.com/ktonal/peaksjs-widget/issues&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},</td><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},</td></tr>
<tr class="diffunmodified"><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;dependencies&quot;:<span class="dp">·</span>{</td><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;dependencies&quot;:<span class="dp">·</span>{</td></tr>
<tr class="diffunmodified"><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;@jupyter-widgets/base&quot;:<span class="dp">·</span>&quot;^6&quot;,</td><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;@jupyter-widgets/base&quot;:<span class="dp">·</span>&quot;^6&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;@jupyter-widgets/controls&quot;:<span class="dp">·</span>&quot;^5&quot;,</td><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;@jupyter-widgets/controls&quot;:<span class="dp">·</span>&quot;^5&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;konva&quot;:<span class="dp">·</span>&quot;^8.3.10&quot;,</td><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;konva&quot;:<span class="dp">·</span>&quot;^8.3.10&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">13 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;peaks.js&quot;:<span class="dp">·</span>&quot;^2.0.2&quot;,</td><td class="diffline">13 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;peaks.js&quot;:<span class="dp">·</span>&quot;^2.0.2&quot;,</td></tr>
<tr class="diffchanged"><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;underscore&quot;:<span class="dp">·</span>&quot;^1.13.6&quot;</td><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;underscore&quot;:<span class="dp">·</span>&quot;^1.13.6&quot;<ins>,</ins></td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;waveform-data&quot;:<span class="dp">·</span>&quot;&gt;=<span class="dp">·</span>4.3.0<span class="dp">·</span>&lt;<span class="dp">·</span>5&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},</td><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},</td></tr>
<tr class="diffunmodified"><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;description&quot;:<span class="dp">·</span>&quot;ipywidget<span class="dp">·</span>to<span class="dp">·</span>interact<span class="dp">·</span>with<span class="dp">·</span>audio<span class="dp">·</span>waveforms<span class="dp">·</span>through<span class="dp">·</span>peaks.js&quot;,</td><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;description&quot;:<span class="dp">·</span>&quot;ipywidget<span class="dp">·</span>to<span class="dp">·</span>interact<span class="dp">·</span>with<span class="dp">·</span>audio<span class="dp">·</span>waveforms<span class="dp">·</span>through<span class="dp">·</span>peaks.js&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;devDependencies&quot;:<span class="dp">·</span>{</td><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;devDependencies&quot;:<span class="dp">·</span>{</td></tr>
<tr class="diffunmodified"><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;@babel/core&quot;:<span class="dp">·</span>&quot;^7.5.0&quot;,</td><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;@babel/core&quot;:<span class="dp">·</span>&quot;^7.5.0&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;@babel/preset-env&quot;:<span class="dp">·</span>&quot;^7.5.0&quot;,</td><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;@babel/preset-env&quot;:<span class="dp">·</span>&quot;^7.5.0&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;@jupyter-widgets/base-manager&quot;:<span class="dp">·</span>&quot;^1.0.2&quot;,</td><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;@jupyter-widgets/base-manager&quot;:<span class="dp">·</span>&quot;^1.0.2&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;@jupyterlab/builder&quot;:<span class="dp">·</span>&quot;^3.0.0&quot;,</td><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;@jupyterlab/builder&quot;:<span class="dp">·</span>&quot;^3.0.0&quot;,</td></tr>
</table>      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">117 B</span></div>
      <div><span class="source">peaksjs_widget-0.1.0.dev1/tsconfig.json</span> vs.</div>
      <div id="peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--tsconfig.json"><span class="source">peaksjs_widget-0.1.1.dev0/tsconfig.json</span>
        <a class="anchor" href="#peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--tsconfig.json">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">125 B</span></div>
      <div><span class="source">peaksjs_widget-0.1.0.dev1/webpack.config.js</span> vs.</div>
      <div id="peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--webpack.config.js"><span class="source">peaksjs_widget-0.1.1.dev0/webpack.config.js</span>
        <a class="anchor" href="#peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--webpack.config.js">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">1.05 KB</span></div>
      <div><span class="source">peaksjs_widget-0.1.0.dev1/yarn.lock</span> vs.</div>
      <div id="peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--yarn.lock"><span class="source">peaksjs_widget-0.1.1.dev0/yarn.lock</span>
        <a class="anchor" href="#peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--yarn.lock">¶</a>
      </div>
      </div>
      <div class="comment">Files 0% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 6635, 14 lines modified</td><td colspan="2">Offset 6635, 19 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">6635 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>version<span class="dp">·</span>&quot;2.4.0&quot;</td><td class="diffline">6635 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>version<span class="dp">·</span>&quot;2.4.0&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">6636 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>resolved<span class="dp">·</span>&quot;https://registry.yarnpkg.com/watchpack/-/watchpack-2.4.0.tgz#fa33032374962c78113f93c7f2fb4c54c9862a5d&quot;</td><td class="diffline">6636 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>resolved<span class="dp">·</span>&quot;https://registry.yarnpkg.com/watchpack/-/watchpack-2.4.0.tgz#fa33032374962c78113f93c7f2fb4c54c9862a5d&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">6637 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>integrity<span class="dp">·</span>sha512-Lcvm7MGST/4fup+ifyKi2hjyIAwcdI4HRgtvTpIUxBRhB+RFtUh8XtDOxUfctVCnhVi+QQj49i91OyvzkJl6cg==</td><td class="diffline">6637 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>integrity<span class="dp">·</span>sha512-Lcvm7MGST/4fup+ifyKi2hjyIAwcdI4HRgtvTpIUxBRhB+RFtUh8XtDOxUfctVCnhVi+QQj49i91OyvzkJl6cg==</td></tr>
<tr class="diffunmodified"><td class="diffline">6638 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>dependencies:</td><td class="diffline">6638 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>dependencies:</td></tr>
<tr class="diffunmodified"><td class="diffline">6639 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>glob-to-regexp<span class="dp">·</span>&quot;^0.4.1&quot;</td><td class="diffline">6639 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>glob-to-regexp<span class="dp">·</span>&quot;^0.4.1&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">6640 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>graceful-fs<span class="dp">·</span>&quot;^4.1.2&quot;</td><td class="diffline">6640 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>graceful-fs<span class="dp">·</span>&quot;^4.1.2&quot;</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">6641 </td><td class="diffpresent">&quot;waveform-data@&gt;=<span class="dp">·</span>4.3.0<span class="dp">·</span>&lt;<span class="dp">·</span>5&quot;:</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">6642 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>version<span class="dp">·</span>&quot;4.3.0&quot;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">6643 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>resolved<span class="dp">·</span>&quot;https://registry.yarnpkg.com/waveform-data/-/waveform-data-4.3.0.tgz#03fcafa522ec1302f48583cc0c9ffd20737d499d&quot;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">6644 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>integrity<span class="dp">·</span>sha512-gddZgTV1dM8Mfaqn+mCJjwTAc7O/GbX2LgOrijRCHEGC60ZVdd/qTzrgEcCE5MfBoBPgwQ85huy1icSf5IZY5Q==</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">6641 </td><td class="diffpresent">webidl-conversions@^3.0.0:</td><td class="diffline">6645 </td><td class="diffpresent">webidl-conversions@^3.0.0:</td></tr>
<tr class="diffunmodified"><td class="diffline">6642 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>version<span class="dp">·</span>&quot;3.0.1&quot;</td><td class="diffline">6646 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>version<span class="dp">·</span>&quot;3.0.1&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">6643 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>resolved<span class="dp">·</span>&quot;https://registry.yarnpkg.com/webidl-conversions/-/webidl-conversions-3.0.1.tgz#24534275e2a7bc6be7bc86611cc16ae0a5654871&quot;</td><td class="diffline">6647 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>resolved<span class="dp">·</span>&quot;https://registry.yarnpkg.com/webidl-conversions/-/webidl-conversions-3.0.1.tgz#24534275e2a7bc6be7bc86611cc16ae0a5654871&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">6644 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>integrity<span class="dp">·</span>sha512-2JAn3z8AR6rjK8Sm8orRC0h/bcl/DqL7tRPdGZ4I1CjdF+EaMLmYxBHyXuKL849eucPFhvBoxMsflfOb8kxaeQ==</td><td class="diffline">6648 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>integrity<span class="dp">·</span>sha512-2JAn3z8AR6rjK8Sm8orRC0h/bcl/DqL7tRPdGZ4I1CjdF+EaMLmYxBHyXuKL849eucPFhvBoxMsflfOb8kxaeQ==</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">6645 </td><td class="diffpresent">webidl-conversions@^5.0.0:</td><td class="diffline">6649 </td><td class="diffpresent">webidl-conversions@^5.0.0:</td></tr>
<tr class="diffunmodified"><td class="diffline">6646 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>version<span class="dp">·</span>&quot;5.0.0&quot;</td><td class="diffline">6650 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>version<span class="dp">·</span>&quot;5.0.0&quot;</td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">117 B</span></div>
      <div><span class="source">peaksjs_widget-0.1.0.dev1/docs/Makefile</span> vs.</div>
      <div id="peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--docs-Makefile"><span class="source">peaksjs_widget-0.1.1.dev0/docs/Makefile</span>
        <a class="anchor" href="#peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--docs-Makefile">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">117 B</span></div>
      <div><span class="source">peaksjs_widget-0.1.0.dev1/docs/make.bat</span> vs.</div>
      <div id="peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--docs-make.bat"><span class="source">peaksjs_widget-0.1.1.dev0/docs/make.bat</span>
        <a class="anchor" href="#peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--docs-make.bat">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">129 B</span></div>
      <div><span class="source">peaksjs_widget-0.1.0.dev1/docs/source/conf.py</span> vs.</div>
      <div id="peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--docs-source-conf.py"><span class="source">peaksjs_widget-0.1.1.dev0/docs/source/conf.py</span>
        <a class="anchor" href="#peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--docs-source-conf.py">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">153 B</span></div>
      <div><span class="source">peaksjs_widget-0.1.0.dev1/docs/source/develop-install.rst</span> vs.</div>
      <div id="peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--docs-source-develop-install.rst"><span class="source">peaksjs_widget-0.1.1.dev0/docs/source/develop-install.rst</span>
        <a class="anchor" href="#peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--docs-source-develop-install.rst">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">133 B</span></div>
      <div><span class="source">peaksjs_widget-0.1.0.dev1/docs/source/index.rst</span> vs.</div>
      <div id="peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--docs-source-index.rst"><span class="source">peaksjs_widget-0.1.1.dev0/docs/source/index.rst</span>
        <a class="anchor" href="#peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--docs-source-index.rst">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">143 B</span></div>
      <div><span class="source">peaksjs_widget-0.1.0.dev1/docs/source/installing.rst</span> vs.</div>
      <div id="peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--docs-source-installing.rst"><span class="source">peaksjs_widget-0.1.1.dev0/docs/source/installing.rst</span>
        <a class="anchor" href="#peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--docs-source-installing.rst">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">145 B</span></div>
      <div><span class="source">peaksjs_widget-0.1.0.dev1/examples/introduction.ipynb</span> vs.</div>
      <div id="peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--examples-introduction.ipynb"><span class="source">peaksjs_widget-0.1.1.dev0/examples/introduction.ipynb</span>
        <a class="anchor" href="#peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--examples-introduction.ipynb">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">143 B</span></div>
      <div><span class="source">peaksjs_widget-0.1.0.dev1/peaksjs_widget/__init__.py</span> vs.</div>
      <div id="peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--peaksjs_widget-__init__.py"><span class="source">peaksjs_widget-0.1.1.dev0/peaksjs_widget/__init__.py</span>
        <a class="anchor" href="#peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--peaksjs_widget-__init__.py">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">139 B</span></div>
      <div><span class="source">peaksjs_widget-0.1.0.dev1/peaksjs_widget/widget.py</span> vs.</div>
      <div id="peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--peaksjs_widget-widget.py"><span class="source">peaksjs_widget-0.1.1.dev0/peaksjs_widget/widget.py</span>
        <a class="anchor" href="#peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--peaksjs_widget-widget.py">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">1.59 KB</span></div>
      <div><span class="source">peaksjs_widget-0.1.0.dev1/peaksjs_widget/labextension/package.json</span> vs.</div>
      <div id="peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--peaksjs_widget-labextension-package.json"><span class="source">peaksjs_widget-0.1.1.dev0/peaksjs_widget/labextension/package.json</span>
        <a class="anchor" href="#peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--peaksjs_widget-labextension-package.json">¶</a>
      </div>
      </div>
      <div class="comment">Files 2% similar despite different names
      </div>
      <div class="difference">
        <div class="diffheader">
        <div class="diffcontrol">⊟</div>
        <div><span class="diffsize">1.42 KB</span></div>
        <div id="peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--peaksjs_widget-labextension-package.json---Pretty-printed"><span class="source">Pretty-printed</span>
          <a class="anchor" href="#peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--peaksjs_widget-labextension-package.json---Pretty-printed">¶</a>
        </div>
        </div>
        <div class="comment multiline">Similarity: 0.9938151041666666%
Differences: {&quot;&#x27;dependencies&#x27;&quot;: &quot;{&#x27;waveform-data&#x27;: &#x27;&gt;= 4.3.0 &lt; 5&#x27;}&quot;,
 &quot;&#x27;jupyterlab&#x27;&quot;: &quot;{&#x27;_build&#x27;: {&#x27;load&#x27;: &#x27;static/remoteEntry.0ef5693efff33ecfcfd6.js&#x27;}}&quot;}
        </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 7, 15 lines modified</td><td colspan="2">Offset 7, 16 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;url&quot;:<span class="dp">·</span>&quot;https://github.com/ktonal/peaksjs-widget/issues&quot;</td><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;url&quot;:<span class="dp">·</span>&quot;https://github.com/ktonal/peaksjs-widget/issues&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},</td><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},</td></tr>
<tr class="diffunmodified"><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;dependencies&quot;:<span class="dp">·</span>{</td><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;dependencies&quot;:<span class="dp">·</span>{</td></tr>
<tr class="diffunmodified"><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;@jupyter-widgets/base&quot;:<span class="dp">·</span>&quot;^6&quot;,</td><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;@jupyter-widgets/base&quot;:<span class="dp">·</span>&quot;^6&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;@jupyter-widgets/controls&quot;:<span class="dp">·</span>&quot;^5&quot;,</td><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;@jupyter-widgets/controls&quot;:<span class="dp">·</span>&quot;^5&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;konva&quot;:<span class="dp">·</span>&quot;^8.3.10&quot;,</td><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;konva&quot;:<span class="dp">·</span>&quot;^8.3.10&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">13 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;peaks.js&quot;:<span class="dp">·</span>&quot;^2.0.2&quot;,</td><td class="diffline">13 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;peaks.js&quot;:<span class="dp">·</span>&quot;^2.0.2&quot;,</td></tr>
<tr class="diffchanged"><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;underscore&quot;:<span class="dp">·</span>&quot;^1.13.6&quot;</td><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;underscore&quot;:<span class="dp">·</span>&quot;^1.13.6&quot;<ins>,</ins></td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;waveform-data&quot;:<span class="dp">·</span>&quot;&gt;=<span class="dp">·</span>4.3.0<span class="dp">·</span>&lt;<span class="dp">·</span>5&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},</td><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},</td></tr>
<tr class="diffunmodified"><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;description&quot;:<span class="dp">·</span>&quot;ipywidget<span class="dp">·</span>to<span class="dp">·</span>interact<span class="dp">·</span>with<span class="dp">·</span>audio<span class="dp">·</span>waveforms<span class="dp">·</span>through<span class="dp">·</span>peaks.js&quot;,</td><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;description&quot;:<span class="dp">·</span>&quot;ipywidget<span class="dp">·</span>to<span class="dp">·</span>interact<span class="dp">·</span>with<span class="dp">·</span>audio<span class="dp">·</span>waveforms<span class="dp">·</span>through<span class="dp">·</span>peaks.js&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;devDependencies&quot;:<span class="dp">·</span>{</td><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;devDependencies&quot;:<span class="dp">·</span>{</td></tr>
<tr class="diffunmodified"><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;@babel/core&quot;:<span class="dp">·</span>&quot;^7.5.0&quot;,</td><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;@babel/core&quot;:<span class="dp">·</span>&quot;^7.5.0&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;@babel/preset-env&quot;:<span class="dp">·</span>&quot;^7.5.0&quot;,</td><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;@babel/preset-env&quot;:<span class="dp">·</span>&quot;^7.5.0&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;@jupyter-widgets/base-manager&quot;:<span class="dp">·</span>&quot;^1.0.2&quot;,</td><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;@jupyter-widgets/base-manager&quot;:<span class="dp">·</span>&quot;^1.0.2&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;@jupyterlab/builder&quot;:<span class="dp">·</span>&quot;^3.0.0&quot;,</td><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;@jupyterlab/builder&quot;:<span class="dp">·</span>&quot;^3.0.0&quot;,</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 50, 15 lines modified</td><td colspan="2">Offset 51, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;dist/*.js&quot;,</td><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;dist/*.js&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;css/*.css&quot;</td><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;css/*.css&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>],</td><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>],</td></tr>
<tr class="diffunmodified"><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;homepage&quot;:<span class="dp">·</span>&quot;https://github.com/ktonal/peaksjs-widget&quot;,</td><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;homepage&quot;:<span class="dp">·</span>&quot;https://github.com/ktonal/peaksjs-widget&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;jupyterlab&quot;:<span class="dp">·</span>{</td><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;jupyterlab&quot;:<span class="dp">·</span>{</td></tr>
<tr class="diffunmodified"><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;_build&quot;:<span class="dp">·</span>{</td><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;_build&quot;:<span class="dp">·</span>{</td></tr>
<tr class="diffunmodified"><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;extension&quot;:<span class="dp">·</span>&quot;./extension&quot;,</td><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;extension&quot;:<span class="dp">·</span>&quot;./extension&quot;,</td></tr>
<tr class="diffchanged"><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;load&quot;:<span class="dp">·</span>&quot;static/remoteEntry.<del>176bb1cb47</del>3<del>4f9</del>f<del>3b9</del>6<del>d</del>.js&quot;</td><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;load&quot;:<span class="dp">·</span>&quot;static/remoteEntry.<ins>0</ins><ins>ef5693efff</ins>3<ins>3ec</ins>f<ins>cfd</ins>6.js&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},</td><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},</td></tr>
<tr class="diffunmodified"><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;extension&quot;:<span class="dp">·</span>&quot;lib/plugin&quot;,</td><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;extension&quot;:<span class="dp">·</span>&quot;lib/plugin&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;outputDir&quot;:<span class="dp">·</span>&quot;peaksjs_widget/labextension/&quot;,</td><td class="diffline">61 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;outputDir&quot;:<span class="dp">·</span>&quot;peaksjs_widget/labextension/&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">61 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;sharedPackages&quot;:<span class="dp">·</span>{</td><td class="diffline">62 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;sharedPackages&quot;:<span class="dp">·</span>{</td></tr>
<tr class="diffunmodified"><td class="diffline">62 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;@jupyter-widgets/base&quot;:<span class="dp">·</span>{</td><td class="diffline">63 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;@jupyter-widgets/base&quot;:<span class="dp">·</span>{</td></tr>
<tr class="diffunmodified"><td class="diffline">63 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;bundled&quot;:<span class="dp">·</span>false,</td><td class="diffline">64 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;bundled&quot;:<span class="dp">·</span>false,</td></tr>
<tr class="diffunmodified"><td class="diffline">64 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;singleton&quot;:<span class="dp">·</span>true</td><td class="diffline">65 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;singleton&quot;:<span class="dp">·</span>true</td></tr>
</table>      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">27.2 KB</span></div>
      <div><span class="source">peaksjs_widget-0.1.0.dev1/peaksjs_widget/nbextension/index.js</span> vs.</div>
      <div id="peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--peaksjs_widget-nbextension-index.js"><span class="source">peaksjs_widget-0.1.1.dev0/peaksjs_widget/nbextension/index.js</span>
        <a class="anchor" href="#peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--peaksjs_widget-nbextension-index.js">¶</a>
      </div>
      </div>
      <div class="comment">Files 0% similar despite different names
      </div>
      <div class="difference">
        <div class="diffheader">
        <div class="diffcontrol">⊟</div>
        <div><span class="diffsize">27.1 KB</span></div>
        <div id="peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--peaksjs_widget-nbextension-index.js---js-beautify---"><span class="source">js-beautify {}</span>
          <a class="anchor" href="#peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--peaksjs_widget-nbextension-index.js---js-beautify---">¶</a>
        </div>
        </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 3223, 19 lines modified</td><td colspan="2">Offset 3223, 20 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">3223 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td><td class="diffline">3223 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td></tr>
<tr class="diffunmodified"><td class="diffline">3224 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>destroyChildren()<span class="dp">·</span>{</td><td class="diffline">3224 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>destroyChildren()<span class="dp">·</span>{</td></tr>
<tr class="diffunmodified"><td class="diffline">3225 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.getChildren().forEach((t<span class="dp">·</span>=&gt;<span class="dp">·</span>{</td><td class="diffline">3225 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.getChildren().forEach((t<span class="dp">·</span>=&gt;<span class="dp">·</span>{</td></tr>
<tr class="diffunmodified"><td class="diffline">3226 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>t.parent<span class="dp">·</span>=<span class="dp">·</span>null,<span class="dp">·</span>t.index<span class="dp">·</span>=<span class="dp">·</span>0,<span class="dp">·</span>t.destroy()</td><td class="diffline">3226 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>t.parent<span class="dp">·</span>=<span class="dp">·</span>null,<span class="dp">·</span>t.index<span class="dp">·</span>=<span class="dp">·</span>0,<span class="dp">·</span>t.destroy()</td></tr>
<tr class="diffunmodified"><td class="diffline">3227 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>})),<span class="dp">·</span>this.children<span class="dp">·</span>=<span class="dp">·</span>[],<span class="dp">·</span>this._requestDraw(),<span class="dp">·</span>this</td><td class="diffline">3227 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>})),<span class="dp">·</span>this.children<span class="dp">·</span>=<span class="dp">·</span>[],<span class="dp">·</span>this._requestDraw(),<span class="dp">·</span>this</td></tr>
<tr class="diffunmodified"><td class="diffline">3228 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td><td class="diffline">3228 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td></tr>
<tr class="diffunmodified"><td class="diffline">3229 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>add(...t)<span class="dp">·</span>{</td><td class="diffline">3229 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>add(...t)<span class="dp">·</span>{</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">3230 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(0<span class="dp">·</span>===<span class="dp">·</span>t.length)<span class="dp">·</span>return<span class="dp">·</span>this;</td></tr>
<tr class="diffchanged"><td class="diffline">3230 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(<del>argumen</del>t<del>s</del>.length<span class="dp">·</span>&gt;<span class="dp">·</span>1)<span class="dp">·</span>{</td><td class="diffline">3231 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(t.length<span class="dp">·</span>&gt;<span class="dp">·</span>1)<span class="dp">·</span>{</td></tr>
<tr class="diffchanged"><td class="diffline">3231 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(var<span class="dp">·</span>e<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>e<span class="dp">·</span>&lt;<span class="dp">·</span><del>argumen</del>t<del>s</del>.length;<span class="dp">·</span>e++)<span class="dp">·</span>this.add(<del>argumen</del>t<del>s</del>[e]);</td><td class="diffline">3232 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(var<span class="dp">·</span>e<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>e<span class="dp">·</span>&lt;<span class="dp">·</span>t.length;<span class="dp">·</span>e++)<span class="dp">·</span>this.add(t[e]);</td></tr>
<tr class="diffunmodified"><td class="diffline">3232 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this</td><td class="diffline">3233 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this</td></tr>
<tr class="diffunmodified"><td class="diffline">3233 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td><td class="diffline">3234 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td></tr>
<tr class="diffchanged"><td class="diffline">3234 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>var</del><span class="dp">·</span>i<span class="dp">·</span>=<span class="dp">·</span>t[0];</td><td class="diffline">3235 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>co</ins><ins>nst</ins><span class="dp">·</span>i<span class="dp">·</span>=<span class="dp">·</span>t[0];</td></tr>
<tr class="diffunmodified"><td class="diffline">3235 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>i.getParent()<span class="dp">·</span>?<span class="dp">·</span>(i.moveTo(this),<span class="dp">·</span>this)<span class="dp">·</span>:<span class="dp">·</span>(this._validateAdd(i),<span class="dp">·</span>i.index<span class="dp">·</span>=<span class="dp">·</span>this.getChildren().length,<span class="dp">·</span>i.parent<span class="dp">·</span>=<span class="dp">·</span>this,<span class="dp">·</span>i._clearCaches(),<span class="dp">·</span>this.getChildren().push(i),<span class="dp">·</span>this._fire(&quot;add&quot;,<span class="dp">·</span>{</td><td class="diffline">3236 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>i.getParent()<span class="dp">·</span>?<span class="dp">·</span>(i.moveTo(this),<span class="dp">·</span>this)<span class="dp">·</span>:<span class="dp">·</span>(this._validateAdd(i),<span class="dp">·</span>i.index<span class="dp">·</span>=<span class="dp">·</span>this.getChildren().length,<span class="dp">·</span>i.parent<span class="dp">·</span>=<span class="dp">·</span>this,<span class="dp">·</span>i._clearCaches(),<span class="dp">·</span>this.getChildren().push(i),<span class="dp">·</span>this._fire(&quot;add&quot;,<span class="dp">·</span>{</td></tr>
<tr class="diffunmodified"><td class="diffline">3236 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>child:<span class="dp">·</span>i</td><td class="diffline">3237 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>child:<span class="dp">·</span>i</td></tr>
<tr class="diffunmodified"><td class="diffline">3237 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}),<span class="dp">·</span>this._requestDraw(),<span class="dp">·</span>this)</td><td class="diffline">3238 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}),<span class="dp">·</span>this._requestDraw(),<span class="dp">·</span>this)</td></tr>
<tr class="diffunmodified"><td class="diffline">3238 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td><td class="diffline">3239 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td></tr>
<tr class="diffunmodified"><td class="diffline">3239 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>destroy()<span class="dp">·</span>{</td><td class="diffline">3240 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>destroy()<span class="dp">·</span>{</td></tr>
<tr class="diffunmodified"><td class="diffline">3240 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.hasChildren()<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>this.destroyChildren(),<span class="dp">·</span>super.destroy(),<span class="dp">·</span>this</td><td class="diffline">3241 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.hasChildren()<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>this.destroyChildren(),<span class="dp">·</span>super.destroy(),<span class="dp">·</span>this</td></tr>
<tr class="diffunmodified"><td class="diffline">3241 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td><td class="diffline">3242 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 3383, 30 lines modified</td><td colspan="2">Offset 3384, 22 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">3383 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td><td class="diffline">3384 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td></tr>
<tr class="diffunmodified"><td class="diffline">3384 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td><td class="diffline">3385 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td></tr>
<tr class="diffunmodified"><td class="diffline">3385 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n.F.addComponentsGetterSetter(s,<span class="dp">·</span>&quot;clip&quot;,<span class="dp">·</span>[&quot;x&quot;,<span class="dp">·</span>&quot;y&quot;,<span class="dp">·</span>&quot;width&quot;,<span class="dp">·</span>&quot;height&quot;]),<span class="dp">·</span>n.F.addGetterSetter(s,<span class="dp">·</span>&quot;clipX&quot;,<span class="dp">·</span>void<span class="dp">·</span>0,<span class="dp">·</span>(0,<span class="dp">·</span>r.Kg)()),<span class="dp">·</span>n.F.addGetterSetter(s,<span class="dp">·</span>&quot;clipY&quot;,<span class="dp">·</span>void<span class="dp">·</span>0,<span class="dp">·</span>(0,<span class="dp">·</span>r.Kg)()),<span class="dp">·</span>n.F.addGetterSetter(s,<span class="dp">·</span>&quot;clipWidth&quot;,<span class="dp">·</span>void<span class="dp">·</span>0,<span class="dp">·</span>(0,<span class="dp">·</span>r.Kg)()),<span class="dp">·</span>n.F.addGetterSetter(s,<span class="dp">·</span>&quot;clipHeight&quot;,<span class="dp">·</span>void<span class="dp">·</span>0,<span class="dp">·</span>(0,<span class="dp">·</span>r.Kg)()),<span class="dp">·</span>n.F.addGetterSetter(s,<span class="dp">·</span>&quot;clipFunc&quot;)</td><td class="diffline">3386 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n.F.addComponentsGetterSetter(s,<span class="dp">·</span>&quot;clip&quot;,<span class="dp">·</span>[&quot;x&quot;,<span class="dp">·</span>&quot;y&quot;,<span class="dp">·</span>&quot;width&quot;,<span class="dp">·</span>&quot;height&quot;]),<span class="dp">·</span>n.F.addGetterSetter(s,<span class="dp">·</span>&quot;clipX&quot;,<span class="dp">·</span>void<span class="dp">·</span>0,<span class="dp">·</span>(0,<span class="dp">·</span>r.Kg)()),<span class="dp">·</span>n.F.addGetterSetter(s,<span class="dp">·</span>&quot;clipY&quot;,<span class="dp">·</span>void<span class="dp">·</span>0,<span class="dp">·</span>(0,<span class="dp">·</span>r.Kg)()),<span class="dp">·</span>n.F.addGetterSetter(s,<span class="dp">·</span>&quot;clipWidth&quot;,<span class="dp">·</span>void<span class="dp">·</span>0,<span class="dp">·</span>(0,<span class="dp">·</span>r.Kg)()),<span class="dp">·</span>n.F.addGetterSetter(s,<span class="dp">·</span>&quot;clipHeight&quot;,<span class="dp">·</span>void<span class="dp">·</span>0,<span class="dp">·</span>(0,<span class="dp">·</span>r.Kg)()),<span class="dp">·</span>n.F.addGetterSetter(s,<span class="dp">·</span>&quot;clipFunc&quot;)</td></tr>
<tr class="diffunmodified"><td class="diffline">3386 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},</td><td class="diffline">3387 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},</td></tr>
<tr class="diffunmodified"><td class="diffline">3387 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>339:<span class="dp">·</span>(t,<span class="dp">·</span>e,<span class="dp">·</span>i)<span class="dp">·</span>=&gt;<span class="dp">·</span>{</td><td class="diffline">3388 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>339:<span class="dp">·</span>(t,<span class="dp">·</span>e,<span class="dp">·</span>i)<span class="dp">·</span>=&gt;<span class="dp">·</span>{</td></tr>
<tr class="diffunmodified"><td class="diffline">3388 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;use<span class="dp">·</span>strict&quot;;</td><td class="diffline">3389 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;use<span class="dp">·</span>strict&quot;;</td></tr>
<tr class="diffunmodified"><td class="diffline">3389 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>i.d(e,<span class="dp">·</span>{</td><td class="diffline">3390 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>i.d(e,<span class="dp">·</span>{</td></tr>
<tr class="diffchanged"><td class="diffline">3390 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_y:<span class="dp">·</span>()<span class="dp">·</span>=&gt;<span class="dp">·</span><del>o</del>,</td><td class="diffline">3391 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_y:<span class="dp">·</span>()<span class="dp">·</span>=&gt;<span class="dp">·</span><ins>s</ins>,</td></tr>
<tr class="diffchanged"><td class="diffline">3391 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>jR:<span class="dp">·</span>()<span class="dp">·</span>=&gt;<span class="dp">·</span><del>l</del>,</td><td class="diffline">3392 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>jR:<span class="dp">·</span>()<span class="dp">·</span>=&gt;<span class="dp">·</span><ins>h</ins>,</td></tr>
<tr class="diffchanged"><td class="diffline">3392 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>xn:<span class="dp">·</span>()<span class="dp">·</span>=&gt;<span class="dp">·</span><del>h</del></td><td class="diffline">3393 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>xn:<span class="dp">·</span>()<span class="dp">·</span>=&gt;<span class="dp">·</span><ins>o</ins></td></tr>
<tr class="diffunmodified"><td class="diffline">3393 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});</td><td class="diffline">3394 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});</td></tr>
<tr class="diffunmodified"><td class="diffline">3394 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>n<span class="dp">·</span>=<span class="dp">·</span>i(241),</td><td class="diffline">3395 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>n<span class="dp">·</span>=<span class="dp">·</span>i(241),</td></tr>
<tr class="diffchanged"><td class="diffline">3395 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>a<span class="dp">·</span>=<span class="dp">·</span>i(897)<del>;</del></td><td class="diffline">3396 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>a<span class="dp">·</span>=<span class="dp">·</span>i(897)<ins>,</ins></td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">3396 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>function<span class="dp">·</span>r(t)<span class="dp">·</span>{</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">3397 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>e,<span class="dp">·</span>i,<span class="dp">·</span>a<span class="dp">·</span>=<span class="dp">·</span>[],</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">3398 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>r<span class="dp">·</span>=<span class="dp">·</span>t.length,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">3399 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>s<span class="dp">·</span>=<span class="dp">·</span>n.Z;</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">3400 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(e<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>e<span class="dp">·</span>&lt;<span class="dp">·</span>r;<span class="dp">·</span>e++)<span class="dp">·</span>i<span class="dp">·</span>=<span class="dp">·</span>t[e],<span class="dp">·</span>s._isNumber(i)<span class="dp">·</span>?<span class="dp">·</span>i<span class="dp">·</span>=<span class="dp">·</span>Math.round(1e3<span class="dp">·</span>*<span class="dp">·</span>i)<span class="dp">·</span>/<span class="dp">·</span>1e3<span class="dp">·</span>:<span class="dp">·</span>s._isString(i)<span class="dp">·</span>||<span class="dp">·</span>(i<span class="dp">·</span>+=<span class="dp">·</span>&quot;&quot;),<span class="dp">·</span>a.push(i);</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">3401 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>a</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">3402 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">3403 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>var</del><span class="dp">·</span><del>s</del><span class="dp">·</span>=<span class="dp">·</span>[&quot;arc&quot;,<span class="dp">·</span>&quot;arcTo&quot;,<span class="dp">·</span>&quot;beginPath&quot;,<span class="dp">·</span>&quot;bezierCurveTo&quot;,<span class="dp">·</span>&quot;clearRect&quot;,<span class="dp">·</span>&quot;clip&quot;,<span class="dp">·</span>&quot;closePath&quot;,<span class="dp">·</span>&quot;createLinearGradient&quot;,<span class="dp">·</span>&quot;createPattern&quot;,<span class="dp">·</span>&quot;createRadialGradient&quot;,<span class="dp">·</span>&quot;drawImage&quot;,<span class="dp">·</span>&quot;ellipse&quot;,<span class="dp">·</span>&quot;fill&quot;,<span class="dp">·</span>&quot;fillText&quot;,<span class="dp">·</span>&quot;getImageData&quot;,<span class="dp">·</span>&quot;createImageData&quot;,<span class="dp">·</span>&quot;lineTo&quot;,<span class="dp">·</span>&quot;moveTo&quot;,<span class="dp">·</span>&quot;putImageData&quot;,<span class="dp">·</span>&quot;quadraticCurveTo&quot;,<span class="dp">·</span>&quot;rect&quot;,<span class="dp">·</span>&quot;restore&quot;,<span class="dp">·</span>&quot;rotate&quot;,<span class="dp">·</span>&quot;save&quot;,<span class="dp">·</span>&quot;scale&quot;,<span class="dp">·</span>&quot;setLineDash&quot;,<span class="dp">·</span>&quot;setTransform&quot;,<span class="dp">·</span>&quot;stroke&quot;,<span class="dp">·</span>&quot;strokeText&quot;,<span class="dp">·</span>&quot;transform&quot;,<span class="dp">·</span>&quot;translate&quot;];</td><td class="diffline">3397 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></ins><span class="dp">·</span><ins>r</ins><span class="dp">·</span>=<span class="dp">·</span>[&quot;arc&quot;,<span class="dp">·</span>&quot;arcTo&quot;,<span class="dp">·</span>&quot;beginPath&quot;,<span class="dp">·</span>&quot;bezierCurveTo&quot;,<span class="dp">·</span>&quot;clearRect&quot;,<span class="dp">·</span>&quot;clip&quot;,<span class="dp">·</span>&quot;closePath&quot;,<span class="dp">·</span>&quot;createLinearGradient&quot;,<span class="dp">·</span>&quot;createPattern&quot;,<span class="dp">·</span>&quot;createRadialGradient&quot;,<span class="dp">·</span>&quot;drawImage&quot;,<span class="dp">·</span>&quot;ellipse&quot;,<span class="dp">·</span>&quot;fill&quot;,<span class="dp">·</span>&quot;fillText&quot;,<span class="dp">·</span>&quot;getImageData&quot;,<span class="dp">·</span>&quot;createImageData&quot;,<span class="dp">·</span>&quot;lineTo&quot;,<span class="dp">·</span>&quot;moveTo&quot;,<span class="dp">·</span>&quot;putImageData&quot;,<span class="dp">·</span>&quot;quadraticCurveTo&quot;,<span class="dp">·</span>&quot;rect&quot;,<span class="dp">·</span>&quot;restore&quot;,<span class="dp">·</span>&quot;rotate&quot;,<span class="dp">·</span>&quot;save&quot;,<span class="dp">·</span>&quot;scale&quot;,<span class="dp">·</span>&quot;setLineDash&quot;,<span class="dp">·</span>&quot;setTransform&quot;,<span class="dp">·</span>&quot;stroke&quot;,<span class="dp">·</span>&quot;strokeText&quot;,<span class="dp">·</span>&quot;transform&quot;,<span class="dp">·</span>&quot;translate&quot;];</td></tr>
<tr class="diffchanged"><td class="diffline">3404 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>class<span class="dp">·</span><del>o</del><span class="dp">·</span>{</td><td class="diffline">3398 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>class<span class="dp">·</span><ins>s</ins><span class="dp">·</span>{</td></tr>
<tr class="diffunmodified"><td class="diffline">3405 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>constructor(t)<span class="dp">·</span>{</td><td class="diffline">3399 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>constructor(t)<span class="dp">·</span>{</td></tr>
<tr class="diffunmodified"><td class="diffline">3406 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.canvas<span class="dp">·</span>=<span class="dp">·</span>t,<span class="dp">·</span>a.So.enableTrace<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>(this.traceArr<span class="dp">·</span>=<span class="dp">·</span>[],<span class="dp">·</span>this._enableTrace())</td><td class="diffline">3400 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.canvas<span class="dp">·</span>=<span class="dp">·</span>t,<span class="dp">·</span>a.So.enableTrace<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>(this.traceArr<span class="dp">·</span>=<span class="dp">·</span>[],<span class="dp">·</span>this._enableTrace())</td></tr>
<tr class="diffunmodified"><td class="diffline">3407 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td><td class="diffline">3401 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td></tr>
<tr class="diffunmodified"><td class="diffline">3408 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>fillShape(t)<span class="dp">·</span>{</td><td class="diffline">3402 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>fillShape(t)<span class="dp">·</span>{</td></tr>
<tr class="diffunmodified"><td class="diffline">3409 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>t.fillEnabled()<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>this._fill(t)</td><td class="diffline">3403 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>t.fillEnabled()<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>this._fill(t)</td></tr>
<tr class="diffunmodified"><td class="diffline">3410 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td><td class="diffline">3404 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td></tr>
<tr class="diffunmodified"><td class="diffline">3411 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_fill(t)<span class="dp">·</span>{}</td><td class="diffline">3405 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_fill(t)<span class="dp">·</span>{}</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 3439, 23 lines modified</td><td colspan="2">Offset 3432, 23 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">3439 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.canvas</td><td class="diffline">3432 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.canvas</td></tr>
<tr class="diffunmodified"><td class="diffline">3440 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td><td class="diffline">3433 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td></tr>
<tr class="diffunmodified"><td class="diffline">3441 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>clear(t)<span class="dp">·</span>{</td><td class="diffline">3434 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>clear(t)<span class="dp">·</span>{</td></tr>
<tr class="diffunmodified"><td class="diffline">3442 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>e<span class="dp">·</span>=<span class="dp">·</span>this.getCanvas();</td><td class="diffline">3435 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>e<span class="dp">·</span>=<span class="dp">·</span>this.getCanvas();</td></tr>
<tr class="diffunmodified"><td class="diffline">3443 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>t<span class="dp">·</span>?<span class="dp">·</span>this.clearRect(t.x<span class="dp">·</span>||<span class="dp">·</span>0,<span class="dp">·</span>t.y<span class="dp">·</span>||<span class="dp">·</span>0,<span class="dp">·</span>t.width<span class="dp">·</span>||<span class="dp">·</span>0,<span class="dp">·</span>t.height<span class="dp">·</span>||<span class="dp">·</span>0)<span class="dp">·</span>:<span class="dp">·</span>this.clearRect(0,<span class="dp">·</span>0,<span class="dp">·</span>e.getWidth()<span class="dp">·</span>/<span class="dp">·</span>e.pixelRatio,<span class="dp">·</span>e.getHeight()<span class="dp">·</span>/<span class="dp">·</span>e.pixelRatio)</td><td class="diffline">3436 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>t<span class="dp">·</span>?<span class="dp">·</span>this.clearRect(t.x<span class="dp">·</span>||<span class="dp">·</span>0,<span class="dp">·</span>t.y<span class="dp">·</span>||<span class="dp">·</span>0,<span class="dp">·</span>t.width<span class="dp">·</span>||<span class="dp">·</span>0,<span class="dp">·</span>t.height<span class="dp">·</span>||<span class="dp">·</span>0)<span class="dp">·</span>:<span class="dp">·</span>this.clearRect(0,<span class="dp">·</span>0,<span class="dp">·</span>e.getWidth()<span class="dp">·</span>/<span class="dp">·</span>e.pixelRatio,<span class="dp">·</span>e.getHeight()<span class="dp">·</span>/<span class="dp">·</span>e.pixelRatio)</td></tr>
<tr class="diffunmodified"><td class="diffline">3444 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td><td class="diffline">3437 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td></tr>
<tr class="diffunmodified"><td class="diffline">3445 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_applyLineCap(t)<span class="dp">·</span>{</td><td class="diffline">3438 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_applyLineCap(t)<span class="dp">·</span>{</td></tr>
<tr class="diffchanged"><td class="diffline">3446 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>var</del><span class="dp">·</span>e<span class="dp">·</span>=<span class="dp">·</span>t.<del>ge</del>t<del>L</del>ineCap<del>()</del>;</td><td class="diffline">3439 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>co</ins><ins>nst</ins><span class="dp">·</span>e<span class="dp">·</span>=<span class="dp">·</span>t.<ins>at</ins>t<ins>rs.</ins><ins>l</ins>ineCap;</td></tr>
<tr class="diffunmodified"><td class="diffline">3447 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>e<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>this.setAttr(&quot;lineCap&quot;,<span class="dp">·</span>e)</td><td class="diffline">3440 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>e<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>this.setAttr(&quot;lineCap&quot;,<span class="dp">·</span>e)</td></tr>
<tr class="diffunmodified"><td class="diffline">3448 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td><td class="diffline">3441 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td></tr>
<tr class="diffunmodified"><td class="diffline">3449 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_applyOpacity(t)<span class="dp">·</span>{</td><td class="diffline">3442 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_applyOpacity(t)<span class="dp">·</span>{</td></tr>
<tr class="diffunmodified"><td class="diffline">3450 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>e<span class="dp">·</span>=<span class="dp">·</span>t.getAbsoluteOpacity();</td><td class="diffline">3443 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>e<span class="dp">·</span>=<span class="dp">·</span>t.getAbsoluteOpacity();</td></tr>
<tr class="diffunmodified"><td class="diffline">3451 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1<span class="dp">·</span>!==<span class="dp">·</span>e<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>this.setAttr(&quot;globalAlpha&quot;,<span class="dp">·</span>e)</td><td class="diffline">3444 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1<span class="dp">·</span>!==<span class="dp">·</span>e<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>this.setAttr(&quot;globalAlpha&quot;,<span class="dp">·</span>e)</td></tr>
<tr class="diffunmodified"><td class="diffline">3452 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td><td class="diffline">3445 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td></tr>
<tr class="diffunmodified"><td class="diffline">3453 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_applyLineJoin(t)<span class="dp">·</span>{</td><td class="diffline">3446 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_applyLineJoin(t)<span class="dp">·</span>{</td></tr>
<tr class="diffchanged"><td class="diffline">3454 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>var</del><span class="dp">·</span>e<span class="dp">·</span>=<span class="dp">·</span>t.attrs.lineJoin;</td><td class="diffline">3447 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>co</ins><ins>nst</ins><span class="dp">·</span>e<span class="dp">·</span>=<span class="dp">·</span>t.attrs.lineJoin;</td></tr>
<tr class="diffunmodified"><td class="diffline">3455 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>e<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>this.setAttr(&quot;lineJoin&quot;,<span class="dp">·</span>e)</td><td class="diffline">3448 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>e<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>this.setAttr(&quot;lineJoin&quot;,<span class="dp">·</span>e)</td></tr>
<tr class="diffunmodified"><td class="diffline">3456 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td><td class="diffline">3449 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td></tr>
<tr class="diffunmodified"><td class="diffline">3457 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>setAttr(t,<span class="dp">·</span>e)<span class="dp">·</span>{</td><td class="diffline">3450 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>setAttr(t,<span class="dp">·</span>e)<span class="dp">·</span>{</td></tr>
<tr class="diffunmodified"><td class="diffline">3458 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._context[t]<span class="dp">·</span>=<span class="dp">·</span>e</td><td class="diffline">3451 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._context[t]<span class="dp">·</span>=<span class="dp">·</span>e</td></tr>
<tr class="diffunmodified"><td class="diffline">3459 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td><td class="diffline">3452 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td></tr>
<tr class="diffunmodified"><td class="diffline">3460 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>arc(t,<span class="dp">·</span>e,<span class="dp">·</span>i,<span class="dp">·</span>n,<span class="dp">·</span>a,<span class="dp">·</span>r)<span class="dp">·</span>{</td><td class="diffline">3453 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>arc(t,<span class="dp">·</span>e,<span class="dp">·</span>i,<span class="dp">·</span>n,<span class="dp">·</span>a,<span class="dp">·</span>r)<span class="dp">·</span>{</td></tr>
<tr class="diffunmodified"><td class="diffline">3461 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._context.arc(t,<span class="dp">·</span>e,<span class="dp">·</span>i,<span class="dp">·</span>n,<span class="dp">·</span>a,<span class="dp">·</span>r)</td><td class="diffline">3454 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._context.arc(t,<span class="dp">·</span>e,<span class="dp">·</span>i,<span class="dp">·</span>n,<span class="dp">·</span>a,<span class="dp">·</span>r)</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 3566, 51 lines modified</td><td colspan="2">Offset 3559, 57 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">3566 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._context.transform(t,<span class="dp">·</span>e,<span class="dp">·</span>i,<span class="dp">·</span>n,<span class="dp">·</span>a,<span class="dp">·</span>r)</td><td class="diffline">3559 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._context.transform(t,<span class="dp">·</span>e,<span class="dp">·</span>i,<span class="dp">·</span>n,<span class="dp">·</span>a,<span class="dp">·</span>r)</td></tr>
<tr class="diffunmodified"><td class="diffline">3567 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td><td class="diffline">3560 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td></tr>
<tr class="diffunmodified"><td class="diffline">3568 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>translate(t,<span class="dp">·</span>e)<span class="dp">·</span>{</td><td class="diffline">3561 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>translate(t,<span class="dp">·</span>e)<span class="dp">·</span>{</td></tr>
<tr class="diffunmodified"><td class="diffline">3569 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._context.translate(t,<span class="dp">·</span>e)</td><td class="diffline">3562 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._context.translate(t,<span class="dp">·</span>e)</td></tr>
<tr class="diffunmodified"><td class="diffline">3570 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td><td class="diffline">3563 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td></tr>
<tr class="diffunmodified"><td class="diffline">3571 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_enableTrace()<span class="dp">·</span>{</td><td class="diffline">3564 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_enableTrace()<span class="dp">·</span>{</td></tr>
<tr class="diffunmodified"><td class="diffline">3572 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>t,<span class="dp">·</span>e,<span class="dp">·</span>i<span class="dp">·</span>=<span class="dp">·</span>this,</td><td class="diffline">3565 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>t,<span class="dp">·</span>e,<span class="dp">·</span>i<span class="dp">·</span>=<span class="dp">·</span>this,</td></tr>
<tr class="diffchanged"><td class="diffline">3573 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>n</del><span class="dp">·</span>=<span class="dp">·</span><del>s</del>.length,</td><td class="diffline">3566 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>a</ins><span class="dp">·</span>=<span class="dp">·</span><ins>r</ins>.length,</td></tr>
<tr class="diffchanged"><td class="diffline">3574 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>a</del><span class="dp">·</span>=<span class="dp">·</span>this.setAttr,</td><td class="diffline">3567 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>s</ins><span class="dp">·</span>=<span class="dp">·</span>this.setAttr,</td></tr>
<tr class="diffunmodified"><td class="diffline">3575 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>o<span class="dp">·</span>=<span class="dp">·</span>function(t)<span class="dp">·</span>{</td><td class="diffline">3568 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>o<span class="dp">·</span>=<span class="dp">·</span>function(t)<span class="dp">·</span>{</td></tr>
<tr class="diffchanged"><td class="diffline">3576 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span><del>n</del>,<span class="dp">·</span><del>a</del><span class="dp">·</span>=<span class="dp">·</span>i[t];</td><td class="diffline">3569 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span><ins>a</ins>,<span class="dp">·</span><ins>r</ins><span class="dp">·</span>=<span class="dp">·</span>i[t];</td></tr>
<tr class="diffunmodified"><td class="diffline">3577 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>i[t]<span class="dp">·</span>=<span class="dp">·</span>function()<span class="dp">·</span>{</td><td class="diffline">3570 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>i[t]<span class="dp">·</span>=<span class="dp">·</span>function()<span class="dp">·</span>{</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">3571 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>e<span class="dp">·</span>=<span class="dp">·</span>function(t)<span class="dp">·</span>{</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">3572 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>e,<span class="dp">·</span>i,<span class="dp">·</span>a<span class="dp">·</span>=<span class="dp">·</span>[],</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">3573 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>r<span class="dp">·</span>=<span class="dp">·</span>t.length,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">3574 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>s<span class="dp">·</span>=<span class="dp">·</span>n.Z;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">3575 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(e<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>e<span class="dp">·</span>&lt;<span class="dp">·</span>r;<span class="dp">·</span>e++)<span class="dp">·</span>i<span class="dp">·</span>=<span class="dp">·</span>t[e],<span class="dp">·</span>s._isNumber(i)<span class="dp">·</span>?<span class="dp">·</span>i<span class="dp">·</span>=<span class="dp">·</span>Math.round(1e3<span class="dp">·</span>*<span class="dp">·</span>i)<span class="dp">·</span>/<span class="dp">·</span>1e3<span class="dp">·</span>:<span class="dp">·</span>s._isString(i)<span class="dp">·</span>||<span class="dp">·</span>(i<span class="dp">·</span>+=<span class="dp">·</span>&quot;&quot;),<span class="dp">·</span>a.push(i);</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">3576 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>a</td></tr>
<tr class="diffchanged"><td class="diffline">3578 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>return<span class="dp">·</span>e<span class="dp">·</span>=<span class="dp">·</span></del><del>r</del>(Array.prototype.slice.call(arguments,<span class="dp">·</span>0)),<span class="dp">·</span><del>n</del><span class="dp">·</span>=<span class="dp">·</span><del>a</del>.apply(i,<span class="dp">·</span>arguments),<span class="dp">·</span>i._trace({</td><td class="diffline">3577 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>}</ins>(Array.prototype.slice.call(arguments,<span class="dp">·</span>0)),<span class="dp">·</span><ins>a</ins><span class="dp">·</span>=<span class="dp">·</span><ins>r</ins>.apply(i,<span class="dp">·</span>arguments),<span class="dp">·</span>i._trace({</td></tr>
<tr class="diffunmodified"><td class="diffline">3579 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>method:<span class="dp">·</span>t,</td><td class="diffline">3578 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>method:<span class="dp">·</span>t,</td></tr>
<tr class="diffunmodified"><td class="diffline">3580 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>args:<span class="dp">·</span>e</td><td class="diffline">3579 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>args:<span class="dp">·</span>e</td></tr>
<tr class="diffchanged"><td class="diffline">3581 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}),<span class="dp">·</span><del>n</del></td><td class="diffline">3580 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}),<span class="dp">·</span><ins>a</ins></td></tr>
<tr class="diffunmodified"><td class="diffline">3582 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td><td class="diffline">3581 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td></tr>
<tr class="diffunmodified"><td class="diffline">3583 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};</td><td class="diffline">3582 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};</td></tr>
<tr class="diffchanged"><td class="diffline">3584 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(t<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>t<span class="dp">·</span>&lt;<span class="dp">·</span><del>n</del>;<span class="dp">·</span>t++)<span class="dp">·</span>o(<del>s</del>[t]);</td><td class="diffline">3583 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(t<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>t<span class="dp">·</span>&lt;<span class="dp">·</span><ins>a</ins>;<span class="dp">·</span>t++)<span class="dp">·</span>o(<ins>r</ins>[t]);</td></tr>
<tr class="diffunmodified"><td class="diffline">3585 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>i.setAttr<span class="dp">·</span>=<span class="dp">·</span>function()<span class="dp">·</span>{</td><td class="diffline">3584 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>i.setAttr<span class="dp">·</span>=<span class="dp">·</span>function()<span class="dp">·</span>{</td></tr>
<tr class="diffchanged"><td class="diffline">3586 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>a</del>.apply(i,<span class="dp">·</span>arguments);</td><td class="diffline">3585 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>s</ins>.apply(i,<span class="dp">·</span>arguments);</td></tr>
<tr class="diffunmodified"><td class="diffline">3587 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>t<span class="dp">·</span>=<span class="dp">·</span>arguments[0],</td><td class="diffline">3586 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>t<span class="dp">·</span>=<span class="dp">·</span>arguments[0],</td></tr>
<tr class="diffunmodified"><td class="diffline">3588 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>e<span class="dp">·</span>=<span class="dp">·</span>arguments[1];</td><td class="diffline">3587 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>e<span class="dp">·</span>=<span class="dp">·</span>arguments[1];</td></tr>
<tr class="diffunmodified"><td class="diffline">3589 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;shadowOffsetX&quot;<span class="dp">·</span>!==<span class="dp">·</span>t<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>&quot;shadowOffsetY&quot;<span class="dp">·</span>!==<span class="dp">·</span>t<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>&quot;shadowBlur&quot;<span class="dp">·</span>!==<span class="dp">·</span>t<span class="dp">·</span>||<span class="dp">·</span>(e<span class="dp">·</span>/=<span class="dp">·</span>this.canvas.getPixelRatio()),<span class="dp">·</span>i._trace({</td><td class="diffline">3588 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;shadowOffsetX&quot;<span class="dp">·</span>!==<span class="dp">·</span>t<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>&quot;shadowOffsetY&quot;<span class="dp">·</span>!==<span class="dp">·</span>t<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>&quot;shadowBlur&quot;<span class="dp">·</span>!==<span class="dp">·</span>t<span class="dp">·</span>||<span class="dp">·</span>(e<span class="dp">·</span>/=<span class="dp">·</span>this.canvas.getPixelRatio()),<span class="dp">·</span>i._trace({</td></tr>
<tr class="diffunmodified"><td class="diffline">3590 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>property:<span class="dp">·</span>t,</td><td class="diffline">3589 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>property:<span class="dp">·</span>t,</td></tr>
<tr class="diffunmodified"><td class="diffline">3591 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>val:<span class="dp">·</span>e</td><td class="diffline">3590 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>val:<span class="dp">·</span>e</td></tr>
<tr class="diffunmodified"><td class="diffline">3592 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>})</td><td class="diffline">3591 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>})</td></tr>
<tr class="diffunmodified"><td class="diffline">3593 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td><td class="diffline">3592 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td></tr>
<tr class="diffunmodified"><td class="diffline">3594 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td><td class="diffline">3593 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td></tr>
<tr class="diffunmodified"><td class="diffline">3595 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_applyGlobalCompositeOperation(t)<span class="dp">·</span>{</td><td class="diffline">3594 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_applyGlobalCompositeOperation(t)<span class="dp">·</span>{</td></tr>
<tr class="diffunmodified"><td class="diffline">3596 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>e<span class="dp">·</span>=<span class="dp">·</span>t.attrs.globalCompositeOperation;</td><td class="diffline">3595 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>e<span class="dp">·</span>=<span class="dp">·</span>t.attrs.globalCompositeOperation;</td></tr>
<tr class="diffunmodified"><td class="diffline">3597 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>!e<span class="dp">·</span>||<span class="dp">·</span>&quot;source-over&quot;<span class="dp">·</span>===<span class="dp">·</span>e<span class="dp">·</span>||<span class="dp">·</span>this.setAttr(&quot;globalCompositeOperation&quot;,<span class="dp">·</span>e)</td><td class="diffline">3596 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>!e<span class="dp">·</span>||<span class="dp">·</span>&quot;source-over&quot;<span class="dp">·</span>===<span class="dp">·</span>e<span class="dp">·</span>||<span class="dp">·</span>this.setAttr(&quot;globalCompositeOperation&quot;,<span class="dp">·</span>e)</td></tr>
<tr class="diffunmodified"><td class="diffline">3598 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td><td class="diffline">3597 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td></tr>
<tr class="diffunmodified"><td class="diffline">3599 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}<span class="dp">·</span>[&quot;fillStyle&quot;,<span class="dp">·</span>&quot;strokeStyle&quot;,<span class="dp">·</span>&quot;shadowColor&quot;,<span class="dp">·</span>&quot;shadowBlur&quot;,<span class="dp">·</span>&quot;shadowOffsetX&quot;,<span class="dp">·</span>&quot;shadowOffsetY&quot;,<span class="dp">·</span>&quot;lineCap&quot;,<span class="dp">·</span>&quot;lineDashOffset&quot;,<span class="dp">·</span>&quot;lineJoin&quot;,<span class="dp">·</span>&quot;lineWidth&quot;,<span class="dp">·</span>&quot;miterLimit&quot;,<span class="dp">·</span>&quot;font&quot;,<span class="dp">·</span>&quot;textAlign&quot;,<span class="dp">·</span>&quot;textBaseline&quot;,<span class="dp">·</span>&quot;globalAlpha&quot;,<span class="dp">·</span>&quot;globalCompositeOperation&quot;,<span class="dp">·</span>&quot;imageSmoothingEnabled&quot;].forEach((function(t)<span class="dp">·</span>{</td><td class="diffline">3598 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}<span class="dp">·</span>[&quot;fillStyle&quot;,<span class="dp">·</span>&quot;strokeStyle&quot;,<span class="dp">·</span>&quot;shadowColor&quot;,<span class="dp">·</span>&quot;shadowBlur&quot;,<span class="dp">·</span>&quot;shadowOffsetX&quot;,<span class="dp">·</span>&quot;shadowOffsetY&quot;,<span class="dp">·</span>&quot;lineCap&quot;,<span class="dp">·</span>&quot;lineDashOffset&quot;,<span class="dp">·</span>&quot;lineJoin&quot;,<span class="dp">·</span>&quot;lineWidth&quot;,<span class="dp">·</span>&quot;miterLimit&quot;,<span class="dp">·</span>&quot;font&quot;,<span class="dp">·</span>&quot;textAlign&quot;,<span class="dp">·</span>&quot;textBaseline&quot;,<span class="dp">·</span>&quot;globalAlpha&quot;,<span class="dp">·</span>&quot;globalCompositeOperation&quot;,<span class="dp">·</span>&quot;imageSmoothingEnabled&quot;].forEach((function(t)<span class="dp">·</span>{</td></tr>
<tr class="diffchanged"><td class="diffline">3600 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Object.defineProperty(<del>o</del>.prototype,<span class="dp">·</span>t,<span class="dp">·</span>{</td><td class="diffline">3599 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Object.defineProperty(<ins>s</ins>.prototype,<span class="dp">·</span>t,<span class="dp">·</span>{</td></tr>
<tr class="diffunmodified"><td class="diffline">3601 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>get()<span class="dp">·</span>{</td><td class="diffline">3600 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>get()<span class="dp">·</span>{</td></tr>
<tr class="diffunmodified"><td class="diffline">3602 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._context[t]</td><td class="diffline">3601 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._context[t]</td></tr>
<tr class="diffunmodified"><td class="diffline">3603 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},</td><td class="diffline">3602 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},</td></tr>
<tr class="diffunmodified"><td class="diffline">3604 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>set(e)<span class="dp">·</span>{</td><td class="diffline">3603 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>set(e)<span class="dp">·</span>{</td></tr>
<tr class="diffunmodified"><td class="diffline">3605 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._context[t]<span class="dp">·</span>=<span class="dp">·</span>e</td><td class="diffline">3604 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._context[t]<span class="dp">·</span>=<span class="dp">·</span>e</td></tr>
<tr class="diffunmodified"><td class="diffline">3606 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td><td class="diffline">3605 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td></tr>
<tr class="diffunmodified"><td class="diffline">3607 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>})</td><td class="diffline">3606 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>})</td></tr>
<tr class="diffunmodified"><td class="diffline">3608 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}));</td><td class="diffline">3607 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}));</td></tr>
<tr class="diffchanged"><td class="diffline">3609 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>class<span class="dp">·</span><del>h</del><span class="dp">·</span>extends<span class="dp">·</span><del>o</del><span class="dp">·</span>{</td><td class="diffline">3608 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>class<span class="dp">·</span><ins>o</ins><span class="dp">·</span>extends<span class="dp">·</span><ins>s</ins><span class="dp">·</span>{</td></tr>
<tr class="diffunmodified"><td class="diffline">3610 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>constructor(t)<span class="dp">·</span>{</td><td class="diffline">3609 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>constructor(t)<span class="dp">·</span>{</td></tr>
<tr class="error"><td colspan="4">
Max diff block lines reached; 19275/27713 bytes (69.55%) of diff not shown.
</td></tr></table>      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">1.03 MB</span></div>
      <div><span class="source">peaksjs_widget-0.1.0.dev1/peaksjs_widget/nbextension/index.js.map</span> vs.</div>
      <div id="peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--peaksjs_widget-nbextension-index.js.map"><span class="source">peaksjs_widget-0.1.1.dev0/peaksjs_widget/nbextension/index.js.map</span>
        <a class="anchor" href="#peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--peaksjs_widget-nbextension-index.js.map">¶</a>
      </div>
      </div>
      <div class="comment">Files 2% similar despite different names
      </div>
      <div class="difference">
        <div class="diffheader">
        <div class="diffcontrol">⊟</div>
        <div><span class="diffsize">1.03 MB</span></div>
        <div id="peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--peaksjs_widget-nbextension-index.js.map---Pretty-printed"><span class="source">Pretty-printed</span>
          <a class="anchor" href="#peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--peaksjs_widget-nbextension-index.js.map---Pretty-printed">¶</a>
        </div>
        </div>
        <div class="comment multiline">Similarity: 0.919158071612415%
Differences: {&quot;&#x27;mappings&#x27;&quot;: &quot;&#x27;iEAEAA,EADkC,EAAQ,IAChCC,EAA4B,IAE9BC,KAAK,CAACC,EAAOC,GAAI,KAAM,KAE/BD,EAAOH,QAAUA,C,uBCEjBG,EAAOH,QAAU,SAAUK,GACzB,IAAIC,EAAO,GAuDX,OArDAA,EAAKC,SAAW,WACd,OAAOC,KAAKC,KAAI,SAAUC,GACxB,IAAIC,EAsDV,SAAgCD,EAAML,GACpC,IAoBiBO,EAEbC,EACAC,EAvBAH,EAAUD,EAAK,IAAM,GAErBK,EAAaL,EAAK,GAEtB,IAAKK,EACH,OAAOJ,EAGT,GAAIN,GAAgC,mBAATW,KAAqB,CAC9C,IAAIC,GAWWL,EAXeG,EAa5BF,EAASG,KAAKE,SAASC,mBAAmBC,KAAKC,UAAUT,MACzDE,EAAO,+DAA+DQ,OAAOT,GAC1E,OAAOS,OAAOR,EAAM,QAdrBS,EAAaR,EAAWS,QAAQf,KAAI,SAAUgB,GAChD,MAA […]
        </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 10 lines modified</td><td colspan="2">Offset 1, 10 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">1 </td><td class="diffpresent">{</td><td class="diffline">1 </td><td class="diffpresent">{</td></tr>
<tr class="diffunmodified"><td class="diffline">2 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;file&quot;:<span class="dp">·</span>&quot;index.js&quot;,</td><td class="diffline">2 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;file&quot;:<span class="dp">·</span>&quot;index.js&quot;,</td></tr>
<tr class="diffchanged"><td class="diffline">3 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;mappings&quot;:<span class="dp">·</span>&quot;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<del>I</del>hB,CA<del>F</del>E,MAAOhoB,GAET,CAKF,gBAAqB,EACrByB,EAAK0mB,iBAAmB,KACxB1mB,EAAKuT,OAAS,IAAI,QAAY,CAC5BkS,UAAWA,EACX9mB,MAAOqB,EAAKumB,OACZ5K,OAAQ3b,EAAKwY,UAEfxY,EAAK2mB,eAAiB3mB,EAAK4lB,aAAagB,cACxC5mB,EAAK6mB,qBAAuB7mB,EAAK4lB,aAAakB,oBAE9C9mB,EAAK+mB,kBAEL/mB,EA[<span class="dp">·</span>...<span class="dp">·</span>truncated<span class="dp">·</span>by<span class="dp">·</span>diffoscope;<span class="dp">·</span>len:<span class="dp">·</span>270<del>755</del>,<span class="dp">·</span>SHA:<span class="dp">·</span><del>f52f1</del>f<del>416e6a4f</del>29<del>c5f4</del>e<del>e73b0013b</del>2<del>25a0af4</del>a<del>ee76a</del>1<del>acc6</del>4<del>7</del>b<del>d9</del>ed<del>2ac</del>c<del>6</del>3<del>be</del><span class="dp">·</span>...<span class="dp">·</span>]F,EAAoB,I&quot;,</td><td class="diffline">3 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;mappings&quot;:<span class="dp">·</span>&quot;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<ins>E</ins>hB,CA<ins>A</ins>E,MAAOhoB,GAET,CAKF,gBAAqB,EACrByB,EAAK0mB,iBAAmB,KACxB1mB,EAAKuT,OAAS,IAAI,QAAY,CAC5BkS,UAAWA,EACX9mB,MAAOqB,EAAKumB,OACZ5K,OAAQ3b,EAAKwY,UAEfxY,EAAK2mB,eAAiB3mB,EAAK4lB,aAAagB,cACxC5mB,EAAK6mB,qBAAuB7mB,EAAK4lB,aAAakB,oBAE9C9mB,EAAK+mB,kBAEL/mB,EA[<span class="dp">·</span>...<span class="dp">·</span>truncated<span class="dp">·</span>by<span class="dp">·</span>diffoscope;<span class="dp">·</span>len:<span class="dp">·</span>270<ins>991</ins>,<span class="dp">·</span>SHA:<span class="dp">·</span><ins>2</ins><ins>9c32c</ins>f<ins>30c9f9eb</ins>2<ins>6</ins>9<ins>0</ins><ins>3691</ins>e<ins>dbd744fe6</ins>2<ins>cc85623</ins>a<ins>941a9</ins>1<ins>cfaa</ins>4<ins>d</ins>b<ins>64</ins>edc<ins>a</ins>3<ins>70</ins><span class="dp">·</span>...<span class="dp">·</span>]F,EAAoB,I&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">4 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;names&quot;:<span class="dp">·</span>[</td><td class="diffline">4 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;names&quot;:<span class="dp">·</span>[</td></tr>
<tr class="diffunmodified"><td class="diffline">5 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;exports&quot;,</td><td class="diffline">5 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;exports&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">6 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;___CSS_LOADER_API_IMPORT___&quot;,</td><td class="diffline">6 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;___CSS_LOADER_API_IMPORT___&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;push&quot;,</td><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;push&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;module&quot;,</td><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;module&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;id&quot;,</td><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;id&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;useSourceMap&quot;,</td><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;useSourceMap&quot;,</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1323, 20 lines modified</td><td colspan="2">Offset 1323, 14 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">1323 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;relativeTo&quot;,</td><td class="diffline">1323 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;relativeTo&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1324 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;skipShadow&quot;,</td><td class="diffline">1324 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;skipShadow&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1325 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;skipStroke&quot;,</td><td class="diffline">1325 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;skipStroke&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1326 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;shapes&quot;,</td><td class="diffline">1326 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;shapes&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1327 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;hasVisible&quot;,</td><td class="diffline">1327 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;hasVisible&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1328 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;_isVisible&quot;,</td><td class="diffline">1328 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;_isVisible&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1329 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;_transformedRect&quot;,</td><td class="diffline">1329 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;_transformedRect&quot;,</td></tr>
<tr class="diffdeleted"><td class="diffline">1330 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;simplifyArray&quot;,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">1331 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;val&quot;,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">1332 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;util&quot;,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">1333 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;_isNumber&quot;,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">1334 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;round&quot;,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">1335 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;_isString&quot;,</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">1336 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;CONTEXT_METHODS&quot;,</td><td class="diffline">1330 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;CONTEXT_METHODS&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1337 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;Context&quot;,</td><td class="diffline">1331 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;Context&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1338 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;traceArr&quot;,</td><td class="diffline">1332 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;traceArr&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1339 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;_enableTrace&quot;,</td><td class="diffline">1333 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;_enableTrace&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1340 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;fillEnabled&quot;,</td><td class="diffline">1334 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;fillEnabled&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1341 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;_fill&quot;,</td><td class="diffline">1335 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;_fill&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1342 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;strokeShape&quot;,</td><td class="diffline">1336 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;strokeShape&quot;,</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1345, 25 lines modified</td><td colspan="2">Offset 1339, 25 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">1345 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;fillAfterStrokeEnabled&quot;,</td><td class="diffline">1339 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;fillAfterStrokeEnabled&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1346 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;getTrace&quot;,</td><td class="diffline">1340 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;getTrace&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1347 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;relaxed&quot;,</td><td class="diffline">1341 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;relaxed&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1348 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;rounded&quot;,</td><td class="diffline">1342 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;rounded&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1349 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;trace&quot;,</td><td class="diffline">1343 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;trace&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1350 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;str&quot;,</td><td class="diffline">1344 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;str&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1351 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;property&quot;,</td><td class="diffline">1345 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;property&quot;,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">1346 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;val&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1352 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;clearTrace&quot;,</td><td class="diffline">1347 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;clearTrace&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1353 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;_trace&quot;,</td><td class="diffline">1348 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;_trace&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1354 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;shift&quot;,</td><td class="diffline">1349 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;shift&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1355 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;reset&quot;,</td><td class="diffline">1350 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;reset&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1356 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;setTransform&quot;,</td><td class="diffline">1351 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;setTransform&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1357 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;clear&quot;,</td><td class="diffline">1352 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;clear&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1358 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;bounds&quot;,</td><td class="diffline">1353 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;bounds&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1359 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;clearRect&quot;,</td><td class="diffline">1354 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;clearRect&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1360 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;_applyLineCap&quot;,</td><td class="diffline">1355 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;_applyLineCap&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1361 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;lineCap&quot;,</td><td class="diffline">1356 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;lineCap&quot;,</td></tr>
<tr class="diffdeleted"><td class="diffline">1362 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;getLineCap&quot;,</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">1363 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;_applyOpacity&quot;,</td><td class="diffline">1357 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;_applyOpacity&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1364 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;absOpacity&quot;,</td><td class="diffline">1358 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;absOpacity&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1365 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;getAbsoluteOpacity&quot;,</td><td class="diffline">1359 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;getAbsoluteOpacity&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1366 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;_applyLineJoin&quot;,</td><td class="diffline">1360 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;_applyLineJoin&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1367 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;lineJoin&quot;,</td><td class="diffline">1361 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;lineJoin&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1368 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;arc&quot;,</td><td class="diffline">1362 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;arc&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1369 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;a0&quot;,</td><td class="diffline">1363 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;a0&quot;,</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1393, 14 lines modified</td><td colspan="2">Offset 1387, 19 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">1393 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;getLineDash&quot;,</td><td class="diffline">1387 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;getLineDash&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1394 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;strokeText&quot;,</td><td class="diffline">1388 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;strokeText&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1395 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;translate&quot;,</td><td class="diffline">1389 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;translate&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1396 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;origSetter&quot;,</td><td class="diffline">1390 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;origSetter&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1397 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;methodName&quot;,</td><td class="diffline">1391 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;methodName&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1398 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;ret&quot;,</td><td class="diffline">1392 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;ret&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1399 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;origMethod&quot;,</td><td class="diffline">1393 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;origMethod&quot;,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">1394 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;util&quot;,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">1395 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;_isNumber&quot;,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">1396 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;round&quot;,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">1397 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;_isString&quot;,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">1398 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;simplifyArray&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1400 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;prop&quot;,</td><td class="diffline">1399 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;prop&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1401 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;op&quot;,</td><td class="diffline">1400 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;op&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1402 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;defineProperty&quot;,</td><td class="diffline">1401 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;defineProperty&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1403 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;SceneContext&quot;,</td><td class="diffline">1402 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;SceneContext&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1404 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;_fillColor&quot;,</td><td class="diffline">1403 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;_fillColor&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1405 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;_fillFunc&quot;,</td><td class="diffline">1404 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;_fillFunc&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">1406 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;_fillPattern&quot;,</td><td class="diffline">1405 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;_fillPattern&quot;,</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 2505, 14 lines modified</td><td colspan="2">Offset 2504, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">2505 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;getNode&quot;,</td><td class="diffline">2504 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;getNode&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">2506 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;attachTo&quot;,</td><td class="diffline">2505 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;attachTo&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">2507 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;setNode&quot;,</td><td class="diffline">2506 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;setNode&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">2508 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;setNodes&quot;,</td><td class="diffline">2507 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;setNodes&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">2509 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;_nodes&quot;,</td><td class="diffline">2508 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;_nodes&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">2510 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;_getEventNamespace&quot;,</td><td class="diffline">2509 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;_getEventNamespace&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">2511 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;detach&quot;,</td><td class="diffline">2510 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;detach&quot;,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">2511 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;filteredNodes&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">2512 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;useSingleNodeRotation&quot;,</td><td class="diffline">2512 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;useSingleNodeRotation&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">2513 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;onChange&quot;,</td><td class="diffline">2513 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;onChange&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">2514 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;_resetTransformCache&quot;,</td><td class="diffline">2514 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;_resetTransformCache&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">2515 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;additionalEvents&quot;,</td><td class="diffline">2515 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;additionalEvents&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">2516 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;_proxyDrag&quot;,</td><td class="diffline">2516 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;_proxyDrag&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">2517 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;lastPos&quot;,</td><td class="diffline">2517 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;lastPos&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">2518 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;otherNode&quot;,</td><td class="diffline">2518 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;otherNode&quot;,</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 2832, 14 lines modified</td><td colspan="2">Offset 2832, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">2832 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;shouldLineThrough&quot;,</td><td class="diffline">2832 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;shouldLineThrough&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">2833 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;translateY&quot;,</td><td class="diffline">2833 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;translateY&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">2834 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;lineTranslateX&quot;,</td><td class="diffline">2834 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;lineTranslateX&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">2835 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;lineTranslateY&quot;,</td><td class="diffline">2835 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;lineTranslateY&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">2836 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;oneWord&quot;,</td><td class="diffline">2836 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;oneWord&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">2837 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;lastLine&quot;,</td><td class="diffline">2837 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;lastLine&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">2838 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;lastInParagraph&quot;,</td><td class="diffline">2838 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;lastInParagraph&quot;,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">2839 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;gradient&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">2839 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;li&quot;,</td><td class="diffline">2840 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;li&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">2840 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;letter&quot;,</td><td class="diffline">2841 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;letter&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">2841 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;_partialText&quot;,</td><td class="diffline">2842 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;_partialText&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">2842 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;measureSize&quot;,</td><td class="diffline">2843 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;measureSize&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">2843 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;fontVariant&quot;,</td><td class="diffline">2844 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;fontVariant&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">2844 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;hasSpace&quot;,</td><td class="diffline">2845 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;hasSpace&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">2845 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;trim&quot;,</td><td class="diffline">2846 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;trim&quot;,</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 2965, 19 lines modified</td><td colspan="2">Offset 2966, 19 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">2965 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;//<span class="dp">·</span>Copyright<span class="dp">·</span>(c)<span class="dp">·</span>Jupyter<span class="dp">·</span>Development<span class="dp">·</span>Team.\n//<span class="dp">·</span>Distributed<span class="dp">·</span>under<span class="dp">·</span>the<span class="dp">·</span>terms<span class="dp">·</span>of<span class="dp">·</span>the<span class="dp">·</span>Modified<span class="dp">·</span>BSD<span class="dp">·</span>License.\n\n//<span class="dp">·</span>Entry<span class="dp">·</span>point<span class="dp">·</span>for<span class="dp">·</span>the<span class="dp">·</span>notebook<span class="dp">·</span>bundle<span class="dp">·</span>containing<span class="dp">·</span>custom<span class="dp">·</span>model<span class="dp">·</span>definitions.\n//\n//<span class="dp">·</span>Setup<span class="dp">·</span>notebook<span class="dp">·</span>base<span class="dp">·</span>URL\n//\n//<span class="dp">·</span>Some<span class="dp">·</span>static<span class="dp">·</span>assets<span class="dp">·</span>may<span class="dp">·</span>be<span class="dp">·</span>required<span class="dp">·</span>by<span class="dp">·</span>the<span class="dp">·</span>custom<span class="dp">·</span>widget<span class="dp">·</span>javascript.<span class="dp">·</span>The<span class="dp">·</span>base\n//<span class="dp">·</span>url<span class="dp">·</span>for<span class="dp">·</span>the<span class="dp">·</span>notebook<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>known<span class="dp">·</span>at<span class="dp">·</span>build<span class="dp">·</span>time<span class="dp">·</span>and<span class="dp">·</span>is<span class="dp">·</span>therefore<span class="dp">·</span>computed\n//<span class="dp">·</span>dynamically.\n//<span class="dp">·</span>eslint-disable-next-line<span class="dp">·</span>@typescript-eslint/no-non-null-assertion\n(window<span class="dp">·</span>as<span class="dp">·</span>any).__webpack_public_path__<span class="dp">·</span>=\n<span class="dp">·</span><span class="dp">·</span>document.querySelector(&#x27;body&#x27;)!.getAttribute(&#x27;data-base-url&#x27;)<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span>&#x27;nbextensions/peaksjs_widget&#x27;;\n\nexport<span class="dp">·</span>*<span class="dp">·</span>from<span class="dp">·</span>&#x27;./index&#x27;;\n&quot;,</td><td class="diffline">2966 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;//<span class="dp">·</span>Copyright<span class="dp">·</span>(c)<span class="dp">·</span>Jupyter<span class="dp">·</span>Development<span class="dp">·</span>Team.\n//<span class="dp">·</span>Distributed<span class="dp">·</span>under<span class="dp">·</span>the<span class="dp">·</span>terms<span class="dp">·</span>of<span class="dp">·</span>the<span class="dp">·</span>Modified<span class="dp">·</span>BSD<span class="dp">·</span>License.\n\n//<span class="dp">·</span>Entry<span class="dp">·</span>point<span class="dp">·</span>for<span class="dp">·</span>the<span class="dp">·</span>notebook<span class="dp">·</span>bundle<span class="dp">·</span>containing<span class="dp">·</span>custom<span class="dp">·</span>model<span class="dp">·</span>definitions.\n//\n//<span class="dp">·</span>Setup<span class="dp">·</span>notebook<span class="dp">·</span>base<span class="dp">·</span>URL\n//\n//<span class="dp">·</span>Some<span class="dp">·</span>static<span class="dp">·</span>assets<span class="dp">·</span>may<span class="dp">·</span>be<span class="dp">·</span>required<span class="dp">·</span>by<span class="dp">·</span>the<span class="dp">·</span>custom<span class="dp">·</span>widget<span class="dp">·</span>javascript.<span class="dp">·</span>The<span class="dp">·</span>base\n//<span class="dp">·</span>url<span class="dp">·</span>for<span class="dp">·</span>the<span class="dp">·</span>notebook<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>known<span class="dp">·</span>at<span class="dp">·</span>build<span class="dp">·</span>time<span class="dp">·</span>and<span class="dp">·</span>is<span class="dp">·</span>therefore<span class="dp">·</span>computed\n//<span class="dp">·</span>dynamically.\n//<span class="dp">·</span>eslint-disable-next-line<span class="dp">·</span>@typescript-eslint/no-non-null-assertion\n(window<span class="dp">·</span>as<span class="dp">·</span>any).__webpack_public_path__<span class="dp">·</span>=\n<span class="dp">·</span><span class="dp">·</span>document.querySelector(&#x27;body&#x27;)!.getAttribute(&#x27;data-base-url&#x27;)<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span>&#x27;nbextensions/peaksjs_widget&#x27;;\n\nexport<span class="dp">·</span>*<span class="dp">·</span>from<span class="dp">·</span>&#x27;./index&#x27;;\n&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">2966 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;//<span class="dp">·</span>Copyright<span class="dp">·</span>(c)<span class="dp">·</span>AntoineDaurat\n//<span class="dp">·</span>Distributed<span class="dp">·</span>under<span class="dp">·</span>the<span class="dp">·</span>terms<span class="dp">·</span>of<span class="dp">·</span>the<span class="dp">·</span>Modified<span class="dp">·</span>BSD<span class="dp">·</span>License.\n\nexport<span class="dp">·</span>*<span class="dp">·</span>from<span class="dp">·</span>&#x27;./version&#x27;;\nexport<span class="dp">·</span>*<span class="dp">·</span>from<span class="dp">·</span>&#x27;./widget&#x27;;\n&quot;,</td><td class="diffline">2967 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;//<span class="dp">·</span>Copyright<span class="dp">·</span>(c)<span class="dp">·</span>AntoineDaurat\n//<span class="dp">·</span>Distributed<span class="dp">·</span>under<span class="dp">·</span>the<span class="dp">·</span>terms<span class="dp">·</span>of<span class="dp">·</span>the<span class="dp">·</span>Modified<span class="dp">·</span>BSD<span class="dp">·</span>License.\n\nexport<span class="dp">·</span>*<span class="dp">·</span>from<span class="dp">·</span>&#x27;./version&#x27;;\nexport<span class="dp">·</span>*<span class="dp">·</span>from<span class="dp">·</span>&#x27;./widget&#x27;;\n&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">2967 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;//<span class="dp">·</span>Copyright<span class="dp">·</span>(c)<span class="dp">·</span>AntoineDaurat\n//<span class="dp">·</span>Distributed<span class="dp">·</span>under<span class="dp">·</span>the<span class="dp">·</span>terms<span class="dp">·</span>of<span class="dp">·</span>the<span class="dp">·</span>Modified<span class="dp">·</span>BSD<span class="dp">·</span>License.\n\n//<span class="dp">·</span>eslint-disable-next-line<span class="dp">·</span>@typescript-eslint/ban-ts-comment\n//<span class="dp">·</span>@ts-ignore\n//<span class="dp">·</span>eslint-disable-next-line<span class="dp">·</span>@typescript-eslint/no-var-requires\nconst<span class="dp">·</span>data<span class="dp">·</span>=<span class="dp">·</span>require(&#x27;../package.json&#x27;);\n\n/**\n<span class="dp">·</span>*<span class="dp">·</span>The<span class="dp">·</span>_model_module_version/_view_module_version<span class="dp">·</span>this<span class="dp">·</span>package<span class="dp">·</span>implements.\n<span class="dp">·</span>*\n<span class="dp">·</span>*<span class="dp">·</span>The<span class="dp">·</span>html<span class="dp">·</span>widget<span class="dp">·</span>manager<span class="dp">·</span>assumes<span class="dp">·</span>that<span class="dp">·</span>this<span class="dp">·</span>is<span class="dp">·</span>the<span class="dp">·</span>same<span class="dp">·</span>as<span class="dp">·</span>the<span class="dp">·</span>npm<span class="dp">·</span>package\n<span class="dp">·</span>*<span class="dp">·</span>version<span class="dp">·</span>number.\n<span class="dp">·</span>*/\nexport<span class="dp">·</span>const<span class="dp">·</span>MODULE_VERSION<span class="dp">·</span>=<span class="dp">·</span>data.version;\n\n/*\n<span class="dp">·</span>*<span class="dp">·</span>The<span class="dp">·</span>current<span class="dp">·</span>package<span class="dp">·</span>name.\n<span class="dp">·</span>*/\nexport<span class="dp">·</span>const<span class="dp">·</span>MODULE_NAME<span class="dp">·</span>=<span class="dp">·</span>data.name;\n&quot;,</td><td class="diffline">2968 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;//<span class="dp">·</span>Copyright<span class="dp">·</span>(c)<span class="dp">·</span>AntoineDaurat\n//<span class="dp">·</span>Distributed<span class="dp">·</span>under<span class="dp">·</span>the<span class="dp">·</span>terms<span class="dp">·</span>of<span class="dp">·</span>the<span class="dp">·</span>Modified<span class="dp">·</span>BSD<span class="dp">·</span>License.\n\n//<span class="dp">·</span>eslint-disable-next-line<span class="dp">·</span>@typescript-eslint/ban-ts-comment\n//<span class="dp">·</span>@ts-ignore\n//<span class="dp">·</span>eslint-disable-next-line<span class="dp">·</span>@typescript-eslint/no-var-requires\nconst<span class="dp">·</span>data<span class="dp">·</span>=<span class="dp">·</span>require(&#x27;../package.json&#x27;);\n\n/**\n<span class="dp">·</span>*<span class="dp">·</span>The<span class="dp">·</span>_model_module_version/_view_module_version<span class="dp">·</span>this<span class="dp">·</span>package<span class="dp">·</span>implements.\n<span class="dp">·</span>*\n<span class="dp">·</span>*<span class="dp">·</span>The<span class="dp">·</span>html<span class="dp">·</span>widget<span class="dp">·</span>manager<span class="dp">·</span>assumes<span class="dp">·</span>that<span class="dp">·</span>this<span class="dp">·</span>is<span class="dp">·</span>the<span class="dp">·</span>same<span class="dp">·</span>as<span class="dp">·</span>the<span class="dp">·</span>npm<span class="dp">·</span>package\n<span class="dp">·</span>*<span class="dp">·</span>version<span class="dp">·</span>number.\n<span class="dp">·</span>*/\nexport<span class="dp">·</span>const<span class="dp">·</span>MODULE_VERSION<span class="dp">·</span>=<span class="dp">·</span>data.version;\n\n/*\n<span class="dp">·</span>*<span class="dp">·</span>The<span class="dp">·</span>current<span class="dp">·</span>package<span class="dp">·</span>name.\n<span class="dp">·</span>*/\nexport<span class="dp">·</span>const<span class="dp">·</span>MODULE_NAME<span class="dp">·</span>=<span class="dp">·</span>data.name;\n&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">2968 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;//<span class="dp">·</span>Copyright<span class="dp">·</span>(c)<span class="dp">·</span>AntoineDaurat\n//<span class="dp">·</span>Distributed<span class="dp">·</span>under<span class="dp">·</span>the<span class="dp">·</span>terms<span class="dp">·</span>of<span class="dp">·</span>the<span class="dp">·</span>Modified<span class="dp">·</span>BSD<span class="dp">·</span>License.\n\nimport<span class="dp">·</span>{MODULE_NAME,<span class="dp">·</span>MODULE_VERSION}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./version&#x27;;\n\n//<span class="dp">·</span>Import<span class="dp">·</span>the<span class="dp">·</span>CSS\nimport<span class="dp">·</span>&#x27;../css/widget.css&#x27;;\nimport<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>DOMWidgetModel,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>DOMWidgetView,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>ISerializers,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>unpack_models,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>ViewList,\n}<span class="dp">·</span>from<span class="dp">·</span>\&quot;@jupyter-widgets/base\&quot;;\nimport<span class="dp">·</span>Peaks,<span class="dp">·</span>{PeaksOptions,<span class="dp">·</span>PeaksInstance,<span class="dp">·</span>CreateSegmentMarkerOptions}<span class="dp">·</span>from<span class="dp">·</span>&#x27;peaks.js&#x27;;\nimport<span class="dp">·</span>Konva<span class="dp">·</span>from<span class="dp">·</span>\&quot;konva\&quot;;\n\nclass<span class="dp">·</span>CustomSegmentMarker<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>protected<span class="dp">·</span>_options:<span class="dp">·</span>CreateSegmentMarkerOptions;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>protected<span class="dp">·</span>_handle:<span class="dp">·</span>Konva.Rect;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>protected<span class="dp">·</span>_line:<span class="dp">·</span>Konva.Line;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>protected<span class="dp">·</span>handleHeight:<span class="dp">·</span>number;\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>constructor(options:<span class="dp">·</span>CreateSegmentMarkerOptions)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._options<span class="dp">·</span>=<span class="dp">·</span>options;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>init(group:<span class="dp">·</span>Konva.Group)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>handleWidth<span class="dp">·</span>=<span class="dp">·</span>10;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.handleHeight<span class="dp">·</span>=<span class="dp">·</span>20;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>handleX<span class="dp">·</span>=<span class="dp">·</span>-(handleWidth<span class="dp">·</span>/<span class="dp">·</span>2)<span class="dp">·</span>+<span class="dp">·</span>0.5;<span class="dp">·</span>//<span class="dp">·</span>Place<span class="dp">·</span>in<span class="dp">·</span>the<span class="dp">·</span>middle<span class="dp">·</span>of<span class="dp">·</span>the<span class="dp">·</span>marker\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._handle<span class="dp">·</span>=<span class="dp">·</span>new<span class="dp">·</span>Konva.Rect({\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>x:<span class="dp">·</span>handleX,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y:<span class="dp">·</span>0,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>width:<span class="dp">·</span>handleWidth,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>height:<span class="dp">·</span>this.handleHeight,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>fill:<span class="dp">·</span>this._options.color<span class="dp">·</span>as<span class="dp">·</span>string\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._line<span class="dp">·</span>=<span class="dp">·</span>new<span class="dp">·</span>Konva.Line({\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>stroke:<span class="dp">·</span>this._options.color<span class="dp">·</span>as<span class="dp">·</span>string,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>strokeWidth:<span class="dp">·</span>1\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>group.add(this._handle);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>group.add(this._line);\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.fitToView();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>fitToView()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>layer<span class="dp">·</span>=<span class="dp">·</span>this._options.layer;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>height<span class="dp">·</span>=<span class="dp">·</span>layer.getHeight();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._handle.y(height<span class="dp">·</span>/<span class="dp">·</span>2<span class="dp">·</span>-<span class="dp">·</span>this.handleHeight<span class="dp">·</span>/<span class="dp">·</span>2);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._line.points([0.5,<span class="dp">·</span>0,<span class="dp">·</span>0.5,<span class="dp">·</span>height]);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>timeUpdated()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span>(optional,<span class="dp">·</span>see<span class="dp">·</span>below)\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>destroy()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span>(optional,<span class="dp">·</span>see<span class="dp">·</span>below)\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n}\n\nfunction<span class="dp">·</span>newSegmentMarker(options:<span class="dp">·</span>CreateSegmentMarkerOptions)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>new<span class="dp">·</span>CustomSegmentMarker(options);\n}\n\nexport<span class="dp">·</span>class<span class="dp">·</span>PeaksJSModel<span class="dp">·</span>extends<span class="dp">·</span>DOMWidgetModel<span class="dp">·</span>{\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>defaults()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>...super.defaults(),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_model_name:<span class="dp">·</span>PeaksJSModel.model_name,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_model_module:<span class="dp">·</span>PeaksJSModel.model_module,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_model_module_version:<span class="dp">·</span>PeaksJSModel.model_module_version,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_view_name:<span class="dp">·</span>PeaksJSModel.view_name,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_view_module:<span class="dp">·</span>PeaksJSModel.view_module,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_view_module_version:<span class="dp">·</span>PeaksJSModel.view_module_version,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>static<span class="dp">·</span>serializers:<span class="dp">·</span>ISerializers<span class="dp">·</span>=<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>zoomview:<span class="dp">·</span>{deserialize:<span class="dp">·</span>unpack_models},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>overview:<span class="dp">·</span>{deserialize:<span class="dp">·</span>unpack_models},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>play_button:<span class="dp">·</span>{deserialize:<span class="dp">·</span>unpack_models},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_button:<span class="dp">·</span>{deserialize:<span class="dp">·</span>unpack_models},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>audio:<span class="dp">·</span>{deserialize:<span class="dp">·</span>unpack_models},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>...DOMWidgetModel.serializers\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>static<span class="dp">·</span>model_name<span class="dp">·</span>=<span class="dp">·</span>&#x27;PeaksJSModel&#x27;;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>static<span class="dp">·</span>model_module<span class="dp">·</span>=<span class="dp">·</span>MODULE_NAME;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>static<span class="dp">·</span>model_module_version<span class="dp">·</span>=<span class="dp">·</span>MODULE_VERSION;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>static<span class="dp">·</span>view_name<span class="dp">·</span>=<span class="dp">·</span>&#x27;PeaksJSView&#x27;;<span class="dp">·</span>//<span class="dp">·</span>Set<span class="dp">·</span>to<span class="dp">·</span>null<span class="dp">·</span>if<span class="dp">·</span>no<span class="dp">·</span>view\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>static<span class="dp">·</span>view_module<span class="dp">·</span>=<span class="dp">·</span>MODULE_NAME;<span class="dp">·</span>//<span class="dp">·</span>Set<span class="dp">·</span>to<span class="dp">·</span>null<span class="dp">·</span>if<span class="dp">·</span>no<span class="dp">·</span>view\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>static<span class="dp">·</span>view_module_version<span class="dp">·</span>=<span class="dp">·</span>MODULE_VERSION;\n}\n\nexport<span class="dp">·</span>class<span class="dp">·</span>PeaksJSView<span class="dp">·</span>extends<span class="dp">·</span>DOMWidgetView<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>peaks:<span class="dp">·</span>PeaksInstance;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>views:<span class="dp">·</span>ViewList&lt;DOMWidgetView&gt;;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>audio:<span class="dp">·</span>HTMLMediaElement;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>zoomview:<span class="dp">·</span>JQuery;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>overview:<span class="dp">·</span>JQuery;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>playBtn:<span class="dp">·</span>JQuery;\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>render()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>super.render();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.model.on(\&quot;change:zoomview\&quot;,<span class="dp">·</span>this.init_zoomview,<span class="dp">·</span>this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.model.on(\&quot;change:overview\&quot;,<span class="dp">·</span>this.init_overview,<span class="dp">·</span>this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.model.on(\&quot;change:play_button\&quot;,<span class="dp">·</span>this.init_play_button,<span class="dp">·</span>this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.model.on(\&quot;change:save_button\&quot;,<span class="dp">·</span>this.init_save_button,<span class="dp">·</span>this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.model.on(\&quot;change:audio\&quot;,<span class="dp">·</span>this.init_peaks,<span class="dp">·</span>this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.model.on(\&quot;change:segments\&quot;,<span class="dp">·</span>this.segments_changed,<span class="dp">·</span>this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.model.on(\&quot;change:points\&quot;,<span class="dp">·</span>this.points_changed,<span class="dp">·</span>this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.model.on(\&quot;change:playing\&quot;,<span class="dp">·</span>this.toggle_playing,<span class="dp">·</span>this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.views<span class="dp">·</span>=<span class="dp">·</span>new<span class="dp">·</span>ViewList(this.add_view,<span class="dp">·</span>null,<span class="dp">·</span>this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>_this<span class="dp">·</span>=<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span>this.listenTo(this.model,<span class="dp">·</span>\&quot;change:zoomview\&quot;,<span class="dp">·</span>(model,<span class="dp">·</span>value)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_this.views.update([value,]);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span>this.listenTo(this.model,<span class="dp">·</span>\&quot;change:overview\&quot;,<span class="dp">·</span>(model,<span class="dp">·</span>value)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_this.views.update([value,]);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span>this.listenTo(this.model,<span class="dp">·</span>\&quot;change:play_button\&quot;,<span class="dp">·</span>(model,<span class="dp">·</span>value)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_this.views.update([value,]);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span>this.listenTo(this.model,<span class="dp">·</span>\&quot;change:audio\&quot;,<span class="dp">·</span>(model,<span class="dp">·</span>value)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_this.views.update([value,]);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.listenTo(this.model,<span class="dp">·</span>\&quot;change:segments\&quot;,<span class="dp">·</span>this.segments_changed);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.listenTo(this.model,<span class="dp">·</span>\&quot;change:points\&quot;,<span class="dp">·</span>this.points_changed);\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.displayed.then(()<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_this.init_zoomview();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_this.init_overview();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_this.init_play_button();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_this.init_save_button();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_this.init_peaks();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.views.update(\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>[\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.model.get(\&quot;zoomview\&quot;),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.model.get(\&quot;overview\&quot;),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.model.get(\&quot;play_button\&quot;),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.model.get(\&quot;save_button\&quot;),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.model.get(\&quot;audio\&quot;)\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>]).then(r<span class="dp">·</span>=&gt;<span class="dp">·</span>r.map(v<span class="dp">·</span>=&gt;<span class="dp">·</span>v.render()));\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>elementId<span class="dp">·</span>=<span class="dp">·</span>this.model.get(\&quot;element_id\&quot;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>$(this.el).attr(\&quot;id\&quot;,<span class="dp">·</span>elementId);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>add_view(child_model:<span class="dp">·</span>DOMWidgetModel,<span class="dp">·</span>index:<span class="dp">·</span>number)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.create_child_view(child_model,<span class="dp">·</span>{parent:<span class="dp">·</span>this})\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>.then(view<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>view.trigger(\&quot;displayed\&quot;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>view;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>})\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>.catch(err<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>err\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>init_zoomview()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>that<span class="dp">·</span>=<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>elementId<span class="dp">·</span>=<span class="dp">·</span>this.model.get(\&quot;element_id\&quot;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.views.views[0].then(v<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>that.zoomview<span class="dp">·</span>=<span class="dp">·</span>$(v.el)\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>.text(\&quot;\\n\&quot;)\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>.attr(\&quot;id\&quot;,<span class="dp">·</span>\&quot;zoomview-\&quot;<span class="dp">·</span>+<span class="dp">·</span>elementId)\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>.attr(\&quot;tabindex\&quot;,<span class="dp">·</span>\&quot;0\&quot;)\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>.css({width:<span class="dp">·</span>&#x27;100%&#x27;,<span class="dp">·</span>height:<span class="dp">·</span>&#x27;200px&#x27;,<span class="dp">·</span>&#x27;white-space&#x27;:<span class="dp">·</span>&#x27;pre&#x27;});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(that.model.get(\&quot;as_container\&quot;))<span class="dp">·</span>$(that.el).append(that.zoomview);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>init_overview()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>that<span class="dp">·</span>=<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>elementId<span class="dp">·</span>=<span class="dp">·</span>this.model.get(\&quot;element_id\&quot;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.views.views[1].then(v<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>that.overview<span class="dp">·</span>=<span class="dp">·</span>$(v.el)\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>.text(\&quot;\\n\&quot;)\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>.attr(\&quot;id\&quot;,<span class="dp">·</span>\&quot;overview-\&quot;<span class="dp">·</span>+<span class="dp">·</span>elementId)\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>.css({width:<span class="dp">·</span>&#x27;100%&#x27;,<span class="dp">·</span>height:<span class="dp">·</span>&#x27;15px&#x27;,<span class="dp">·</span>&#x27;white-space&#x27;:<span class="dp">·</span>&#x27;pre&#x27;});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(that.model.get(\&quot;as_container\&quot;))<span class="dp">·</span>$(that.el).append(that.overview);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>init_play_button()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>model<span class="dp">·</span>=<span class="dp">·</span>this.model;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>that<span class="dp">·</span>=<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.views.views[2].then(v<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.playBtn<span class="dp">·</span>=<span class="dp">·</span>$(v.el)\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>.on(\&quot;click\&quot;,<span class="dp">·</span>function<span class="dp">·</span>()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>playing<span class="dp">·</span>=<span class="dp">·</span>model.get(&#x27;playing&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model.set(&#x27;playing&#x27;,<span class="dp">·</span>!playing);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model.save_changes();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>that.touch();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>that.send({playing:<span class="dp">·</span>!playing});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(that.model.get(\&quot;as_container\&quot;))<span class="dp">·</span>$((this.el))\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>.append(this.playBtn);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>})\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>init_save_button()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>that<span class="dp">·</span>=<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.views.views[3].then(v<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>$(that.el).append($(v.el).on(\&quot;click\&quot;,<span class="dp">·</span>function<span class="dp">·</span>()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>link<span class="dp">·</span>=<span class="dp">·</span>document.createElement(&#x27;a&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>link.href<span class="dp">·</span>=<span class="dp">·</span>that.audio.src;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>link.setAttribute(&#x27;download&#x27;,<span class="dp">·</span>`${that.model.get(\&quot;element_id\&quot;)}.mp3`);<span class="dp">·</span>//or<span class="dp">·</span>any<span class="dp">·</span>other<span class="dp">·</span>extension\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>document.body.appendChild(link);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>link.click();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}));\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>})\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>init_peaks()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>that<span class="dp">·</span>=<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>audioContext<span class="dp">·</span>=<span class="dp">·</span>new<span class="dp">·</span>AudioContext();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>segments<span class="dp">·</span>=<span class="dp">·</span>this.model.get(\&quot;segments\&quot;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>points<span class="dp">·</span>=<span class="dp">·</span>this.model.get(\&quot;points\&quot;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Promise.all(this.views.views).then(v<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>a<span class="dp">·</span>=<span class="dp">·</span>v[4];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>audioElement<span class="dp">·</span>=<span class="dp">·</span>a.el<span class="dp">·</span>as<span class="dp">·</span>HTMLMediaElement;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>zoomview<span class="dp">·</span>=<span class="dp">·</span>v[0].el;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>overview<span class="dp">·</span>=<span class="dp">·</span>v[1].el;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>$(that.el).append(audioElement);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>that.audio<span class="dp">·</span>=<span class="dp">·</span>audioElement;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span>@ts-ignore\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>options:<span class="dp">·</span>PeaksOptions<span class="dp">·</span>=<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>zoomview:<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>container:<span class="dp">·</span>zoomview,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>waveformColor:<span class="dp">·</span>&#x27;rgba(0,100,255,0.95)&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>playheadColor:<span class="dp">·</span>&#x27;#000000&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>wheelMode:<span class="dp">·</span>\&quot;scroll\&quot;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>overview:<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>container:<span class="dp">·</span>overview,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>waveformColor:<span class="dp">·</span>&#x27;rgba(0,100,255,0.95)&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>playheadColor:<span class="dp">·</span>&#x27;#000000&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>showAxisLabels:<span class="dp">·</span>false,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>highlightColor:<span class="dp">·</span>\&quot;rgba(64,94,103,0.51)\&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>highlightOffset:<span class="dp">·</span>0,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>zoomLevels:<span class="dp">·</span>[16],\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>mediaElement:<span class="dp">·</span>audioElement,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>webAudio:<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>audioContext:<span class="dp">·</span>audioContext,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>scale:<span class="dp">·</span>16,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>multiChannel:<span class="dp">·</span>false\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span>Bind<span class="dp">·</span>keyboard<span class="dp">·</span>controls\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>keyboard:<span class="dp">·</span>false,\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span>Keyboard<span class="dp">·</span>nudge<span class="dp">·</span>increment<span class="dp">·</span>in<span class="dp">·</span>seconds<span class="dp">·</span>(left<span class="dp">·</span>arrow/right<span class="dp">·</span>arrow)\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>nudgeIncrement:<span class="dp">·</span>1.,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>segments:<span class="dp">·</span>segments,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>points:<span class="dp">·</span>points,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span>@ts-ignore\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>createSegmentMarker:<span class="dp">·</span>newSegmentMarker,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Peaks.init(options,<span class="dp">·</span>function<span class="dp">·</span>(err,<span class="dp">·</span>peaks)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(err<span class="dp">·</span>||<span class="dp">·</span>peaks<span class="dp">·</span>===<span class="dp">·</span>undefined<span class="dp">·</span>||<span class="dp">·</span>peaks<span class="dp">·</span>===<span class="dp">·</span>null)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>console.error(&#x27;Failed<span class="dp">·</span>to<span class="dp">·</span>initialize<span class="dp">·</span>Peaks<span class="dp">·</span>instance:<span class="dp">·</span>&#x27;<span class="dp">·</span>+<span class="dp">·</span>err.message);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>that.peaks<span class="dp">·</span>=<span class="dp">·</span>peaks;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>peaksZoomView<span class="dp">·</span>=<span class="dp">·</span>peaks.views.getView(&#x27;zoomview&#x27;)!;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>peaksZoomView.setZoom({seconds:<span class="dp">·</span>Math.min(audioElement.duration,<span class="dp">·</span>180.)});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>/*\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>*<span class="dp">·</span>alt<span class="dp">·</span>+<span class="dp">·</span>click:<span class="dp">·</span>add<span class="dp">·</span>segment\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>*<span class="dp">·</span>alt<span class="dp">·</span>+<span class="dp">·</span>SHIFT<span class="dp">·</span>+<span class="dp">·</span>click:<span class="dp">·</span>remove<span class="dp">·</span>segment\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>*<span class="dp">·</span>Ctrl<span class="dp">·</span>+<span class="dp">·</span>alt<span class="dp">·</span>+<span class="dp">·</span>click:<span class="dp">·</span>edit<span class="dp">·</span>segment&#x27;s<span class="dp">·</span>label\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>*<span class="dp">·</span>Ctrl<span class="dp">·</span>+<span class="dp">·</span>click:<span class="dp">·</span>add<span class="dp">·</span>point\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>*<span class="dp">·</span>Ctrl<span class="dp">·</span>+<span class="dp">·</span>SHIFT<span class="dp">·</span>+<span class="dp">·</span>click:<span class="dp">·</span>remove<span class="dp">·</span>point\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>*<span class="dp">·</span>Ctrl<span class="dp">·</span>+<span class="dp">·</span>wheel:<span class="dp">·</span>zoom\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>*<span class="dp">·</span>Ctr<span class="dp">·</span>+<span class="dp">·</span>dbl-click:<span class="dp">·</span>reset<span class="dp">·</span>zoom\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>*<span class="dp">·</span>SHIFT<span class="dp">·</span>+<span class="dp">·</span>wheel:<span class="dp">·</span>scroll<span class="dp">·</span>wvaveform\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>*<span class="dp">·</span>*/\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>peaks.on(\&quot;zoomview.click\&quot;,<span class="dp">·</span>(event)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(event.evt.altKey<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>!event.evt.shiftKey<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>!event.evt.ctrlKey)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>newSegment<span class="dp">·</span>=<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>startTime:<span class="dp">·</span>event.time,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>endTime:<span class="dp">·</span>event.time<span class="dp">·</span>+<span class="dp">·</span>.1,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>editable:<span class="dp">·</span>true,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>id:<span class="dp">·</span>that.model.get(\&quot;id_count\&quot;),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>color:<span class="dp">·</span>\&quot;#ff640e\&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>labelText:<span class="dp">·</span>&#x27;&#x27;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>peaks.segments.add(newSegment);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>that.model.set(\&quot;id_count\&quot;,<span class="dp">·</span>newSegment.id<span class="dp">·</span>+<span class="dp">·</span>1);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>that.touch();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>that.send({newSegment:<span class="dp">·</span>newSegment});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}<span class="dp">·</span>else<span class="dp">·</span>if<span class="dp">·</span>(event.evt.ctrlKey<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>!event.evt.altKey<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>!event.evt.shiftKey)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>newPoint<span class="dp">·</span>=<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>time:<span class="dp">·</span>event.time\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>peaks.points.add(newPoint);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>that.send({newPoint:<span class="dp">·</span>newPoint});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>peaks.on(\&quot;segments.click\&quot;,<span class="dp">·</span>(event)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(event.evt.altKey<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>event.evt.shiftKey)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>peaks.segments.removeById(&lt;string&gt;event.segment.id);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>that.send({\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>removeSegment:<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>startTime:<span class="dp">·</span>event.segment.startTime,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>endTime:<span class="dp">·</span>event.segment.endTime,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>id:<span class="dp">·</span>event.segment.id,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>color:<span class="dp">·</span>event.segment.color,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>labelText:<span class="dp">·</span>event.segment.labelText\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>})\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}<span class="dp">·</span>else<span class="dp">·</span>if<span class="dp">·</span>(event.evt.ctrlKey<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>event.evt.altKey)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>i<span class="dp">·</span>=<span class="dp">·</span>prompt(\&quot;Enter<span class="dp">·</span>cluster<span class="dp">·</span>index\&quot;,<span class="dp">·</span>\&quot;0\&quot;)<span class="dp">·</span>as<span class="dp">·</span>string;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>event.segment.update({labelText:<span class="dp">·</span>i});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>that.send({\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>editSegment:<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>startTime:<span class="dp">·</span>event.segment.startTime,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>endTime:<span class="dp">·</span>event.segment.endTime,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>id:<span class="dp">·</span>event.segment.id,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>color:<span class="dp">·</span>event.segment.color,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>labelText:<span class="dp">·</span>i,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>editable:<span class="dp">·</span>true\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>})\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}<span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>that.send({\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>clickSegment:<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>startTime:<span class="dp">·</span>event.segment.startTime,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>endTime:<span class="dp">·</span>event.segment.endTime,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>id:<span class="dp">·</span>event.segment.id,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>color:<span class="dp">·</span>event.segment.color,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>labelText:<span class="dp">·</span>event.segment.labelText,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>editable:<span class="dp">·</span>event.segment.editable\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>})\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>peaks.on(\&quot;segments.dragend\&quot;,<span class="dp">·</span>(event)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>that.send({\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>editSegment:<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>startTime:<span class="dp">·</span>event.segment.startTime,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>endTime:<span class="dp">·</span>event.segment.endTime,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>id:<span class="dp">·</span>event.segment.id,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>color:<span class="dp">·</span>event.segment.color,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>labelText:<span class="dp">·</span>event.segment.labelText,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>editable:<span class="dp">·</span>true\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>peaks.on(\&quot;player.seeked\&quot;,<span class="dp">·</span>(event)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>zoomview.addEventListener(\&quot;keydown\&quot;,<span class="dp">·</span>(e)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(e.code<span class="dp">·</span>===<span class="dp">·</span>&#x27;Space&#x27;)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>that.playBtn.trigger(\&quot;click\&quot;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>e.preventDefault();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}<span class="dp">·</span>else<span class="dp">·</span>if<span class="dp">·</span>(e.code.includes(\&quot;Arrow\&quot;))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>currentTime<span class="dp">·</span>=<span class="dp">·</span>peaks.player.getCurrentTime();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>zoomview<span class="dp">·</span>=<span class="dp">·</span>peaks.views.getView(&#x27;zoomview&#x27;)!;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span>@ts-ignore\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>scale<span class="dp">·</span>=<span class="dp">·</span>zoomview.getEndTime()<span class="dp">·</span>-<span class="dp">·</span>zoomview.getStartTime();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>let<span class="dp">·</span>factor<span class="dp">·</span>=<span class="dp">·</span>1<span class="dp">·</span>/<span class="dp">·</span>500;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(e.shiftKey)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>factor<span class="dp">·</span>=<span class="dp">·</span>1<span class="dp">·</span>/<span class="dp">·</span>50;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(e.code<span class="dp">·</span>===<span class="dp">·</span>\&quot;ArrowRight\&quot;)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>peaks.player.seek(currentTime<span class="dp">·</span>+<span class="dp">·</span>(scale<span class="dp">·</span>*<span class="dp">·</span>factor))\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}<span class="dp">·</span>else<span class="dp">·</span>if<span class="dp">·</span>(e.code<span class="dp">·</span>===<span class="dp">·</span>\&quot;ArrowLeft\&quot;)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>peaks.player.seek(currentTime<span class="dp">·</span>-<span class="dp">·</span>(scale<span class="dp">·</span>*<span class="dp">·</span>factor))\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>zoomview.addEventListener(\&quot;wheel\&quot;,<span class="dp">·</span>(event)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>zoomview<span class="dp">·</span>=<span class="dp">·</span>peaks.views.getView(&#x27;zoomview&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!zoomview)<span class="dp">·</span>return;\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(event.ctrlKey)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span>@ts-ignore\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>startTime<span class="dp">·</span>=<span class="dp">·</span>zoomview.getStartTime();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span>@ts-ignore\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>endTime<span class="dp">·</span>=<span class="dp">·</span>zoomview.getEndTime();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span>@ts-ignore\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>newDuration<span class="dp">·</span>=<span class="dp">·</span>(endTime<span class="dp">·</span>-<span class="dp">·</span>startTime)<span class="dp">·</span>*<span class="dp">·</span>(event.wheelDelta<span class="dp">·</span>&gt;<span class="dp">·</span>0<span class="dp">·</span>?<span class="dp">·</span>1.1<span class="dp">·</span>:<span class="dp">·</span>.9);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>zoomview.setZoom({\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seconds:<span class="dp">·</span>Math.min(audioElement.duration,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Math.max(newDuration,<span class="dp">·</span>0.356))\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>event.preventDefault();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>that.send({\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span>@ts-ignore\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>updateZoomView:<span class="dp">·</span>{startTime:<span class="dp">·</span>zoomview.getStartTime(),<span class="dp">·</span>endTime:<span class="dp">·</span>zoomview.getEndTime()}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>})\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>zoomview.addEventListener(\&quot;dblclick\&quot;,<span class="dp">·</span>(event)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(event.ctrlKey)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>peaks.views.getView(&#x27;zoomview&#x27;)!.setZoom({seconds:<span class="dp">·</span>peaks.player.getDuration()})\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}<span class="dp">·</span>else<span class="dp">·</span>if<span class="dp">·</span>(!event.altKey)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>that.playBtn.trigger(\&quot;click\&quot;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>})\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>})\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>segments_changed()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>let<span class="dp">·</span>segments<span class="dp">·</span>=<span class="dp">·</span>this.model.get(\&quot;segments\&quot;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.peaks.segments.removeAll();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.peaks.segments.add(segments);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>points_changed()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>let<span class="dp">·</span>points<span class="dp">·</span>=<span class="dp">·</span>this.model.get(\&quot;points\&quot;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.peaks.points.removeAll();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.peaks.points.add(points);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>toggle_playing()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>playing<span class="dp">·</span>=<span class="dp">·</span>this.model.get(\&quot;playing\&quot;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(playing)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.peaks.player.play();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.playBtn.children(\&quot;i\&quot;).removeClass(\&quot;fa-play\&quot;).addClass(\&quot;fa-pause\&quot;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}<span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.peaks.player.pause();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.playBtn.children(\&quot;i\&quot;).removeClass(\&quot;fa-pause\&quot;).addClass(\&quot;fa-play\&quot;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n}\n&quot;,</td><td class="diffline">2969 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;//<span class="dp">·</span>Copyright<span class="dp">·</span>(c)<span class="dp">·</span>AntoineDaurat\n//<span class="dp">·</span>Distributed<span class="dp">·</span>under<span class="dp">·</span>the<span class="dp">·</span>terms<span class="dp">·</span>of<span class="dp">·</span>the<span class="dp">·</span>Modified<span class="dp">·</span>BSD<span class="dp">·</span>License.\n\nimport<span class="dp">·</span>{MODULE_NAME,<span class="dp">·</span>MODULE_VERSION}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./version&#x27;;\n\n//<span class="dp">·</span>Import<span class="dp">·</span>the<span class="dp">·</span>CSS\nimport<span class="dp">·</span>&#x27;../css/widget.css&#x27;;\nimport<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>DOMWidgetModel,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>DOMWidgetView,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>ISerializers,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>unpack_models,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>ViewList,\n}<span class="dp">·</span>from<span class="dp">·</span>\&quot;@jupyter-widgets/base\&quot;;\nimport<span class="dp">·</span>Peaks,<span class="dp">·</span>{PeaksOptions,<span class="dp">·</span>PeaksInstance,<span class="dp">·</span>CreateSegmentMarkerOptions}<span class="dp">·</span>from<span class="dp">·</span>&#x27;peaks.js&#x27;;\nimport<span class="dp">·</span>Konva<span class="dp">·</span>from<span class="dp">·</span>\&quot;konva\&quot;;\n\nclass<span class="dp">·</span>CustomSegmentMarker<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>protected<span class="dp">·</span>_options:<span class="dp">·</span>CreateSegmentMarkerOptions;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>protected<span class="dp">·</span>_handle:<span class="dp">·</span>Konva.Rect;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>protected<span class="dp">·</span>_line:<span class="dp">·</span>Konva.Line;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>protected<span class="dp">·</span>handleHeight:<span class="dp">·</span>number;\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>constructor(options:<span class="dp">·</span>CreateSegmentMarkerOptions)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._options<span class="dp">·</span>=<span class="dp">·</span>options;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>init(group:<span class="dp">·</span>Konva.Group)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>handleWidth<span class="dp">·</span>=<span class="dp">·</span>10;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.handleHeight<span class="dp">·</span>=<span class="dp">·</span>20;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>handleX<span class="dp">·</span>=<span class="dp">·</span>-(handleWidth<span class="dp">·</span>/<span class="dp">·</span>2)<span class="dp">·</span>+<span class="dp">·</span>0.5;<span class="dp">·</span>//<span class="dp">·</span>Place<span class="dp">·</span>in<span class="dp">·</span>the<span class="dp">·</span>middle<span class="dp">·</span>of<span class="dp">·</span>the<span class="dp">·</span>marker\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._handle<span class="dp">·</span>=<span class="dp">·</span>new<span class="dp">·</span>Konva.Rect({\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>x:<span class="dp">·</span>handleX,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y:<span class="dp">·</span>0,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>width:<span class="dp">·</span>handleWidth,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>height:<span class="dp">·</span>this.handleHeight,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>fill:<span class="dp">·</span>this._options.color<span class="dp">·</span>as<span class="dp">·</span>string\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._line<span class="dp">·</span>=<span class="dp">·</span>new<span class="dp">·</span>Konva.Line({\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>stroke:<span class="dp">·</span>this._options.color<span class="dp">·</span>as<span class="dp">·</span>string,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>strokeWidth:<span class="dp">·</span>1\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>group.add(this._handle);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>group.add(this._line);\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.fitToView();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>fitToView()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>layer<span class="dp">·</span>=<span class="dp">·</span>this._options.layer;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>height<span class="dp">·</span>=<span class="dp">·</span>layer.getHeight();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._handle.y(height<span class="dp">·</span>/<span class="dp">·</span>2<span class="dp">·</span>-<span class="dp">·</span>this.handleHeight<span class="dp">·</span>/<span class="dp">·</span>2);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._line.points([0.5,<span class="dp">·</span>0,<span class="dp">·</span>0.5,<span class="dp">·</span>height]);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>timeUpdated()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span>(optional,<span class="dp">·</span>see<span class="dp">·</span>below)\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>destroy()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span>(optional,<span class="dp">·</span>see<span class="dp">·</span>below)\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n}\n\nfunction<span class="dp">·</span>newSegmentMarker(options:<span class="dp">·</span>CreateSegmentMarkerOptions)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>new<span class="dp">·</span>CustomSegmentMarker(options);\n}\n\nexport<span class="dp">·</span>class<span class="dp">·</span>PeaksJSModel<span class="dp">·</span>extends<span class="dp">·</span>DOMWidgetModel<span class="dp">·</span>{\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>defaults()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>...super.defaults(),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_model_name:<span class="dp">·</span>PeaksJSModel.model_name,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_model_module:<span class="dp">·</span>PeaksJSModel.model_module,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_model_module_version:<span class="dp">·</span>PeaksJSModel.model_module_version,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_view_name:<span class="dp">·</span>PeaksJSModel.view_name,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_view_module:<span class="dp">·</span>PeaksJSModel.view_module,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_view_module_version:<span class="dp">·</span>PeaksJSModel.view_module_version,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>static<span class="dp">·</span>serializers:<span class="dp">·</span>ISerializers<span class="dp">·</span>=<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>zoomview:<span class="dp">·</span>{deserialize:<span class="dp">·</span>unpack_models},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>overview:<span class="dp">·</span>{deserialize:<span class="dp">·</span>unpack_models},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>play_button:<span class="dp">·</span>{deserialize:<span class="dp">·</span>unpack_models},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_button:<span class="dp">·</span>{deserialize:<span class="dp">·</span>unpack_models},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>audio:<span class="dp">·</span>{deserialize:<span class="dp">·</span>unpack_models},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>...DOMWidgetModel.serializers\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>static<span class="dp">·</span>model_name<span class="dp">·</span>=<span class="dp">·</span>&#x27;PeaksJSModel&#x27;;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>static<span class="dp">·</span>model_module<span class="dp">·</span>=<span class="dp">·</span>MODULE_NAME;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>static<span class="dp">·</span>model_module_version<span class="dp">·</span>=<span class="dp">·</span>MODULE_VERSION;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>static<span class="dp">·</span>view_name<span class="dp">·</span>=<span class="dp">·</span>&#x27;PeaksJSView&#x27;;<span class="dp">·</span>//<span class="dp">·</span>Set<span class="dp">·</span>to<span class="dp">·</span>null<span class="dp">·</span>if<span class="dp">·</span>no<span class="dp">·</span>view\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>static<span class="dp">·</span>view_module<span class="dp">·</span>=<span class="dp">·</span>MODULE_NAME;<span class="dp">·</span>//<span class="dp">·</span>Set<span class="dp">·</span>to<span class="dp">·</span>null<span class="dp">·</span>if<span class="dp">·</span>no<span class="dp">·</span>view\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>static<span class="dp">·</span>view_module_version<span class="dp">·</span>=<span class="dp">·</span>MODULE_VERSION;\n}\n\nexport<span class="dp">·</span>class<span class="dp">·</span>PeaksJSView<span class="dp">·</span>extends<span class="dp">·</span>DOMWidgetView<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>peaks:<span class="dp">·</span>PeaksInstance;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>views:<span class="dp">·</span>ViewList&lt;DOMWidgetView&gt;;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>audio:<span class="dp">·</span>HTMLMediaElement;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>zoomview:<span class="dp">·</span>JQuery;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>overview:<span class="dp">·</span>JQuery;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>playBtn:<span class="dp">·</span>JQuery;\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>render()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>super.render();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.model.on(\&quot;change:zoomview\&quot;,<span class="dp">·</span>this.init_zoomview,<span class="dp">·</span>this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.model.on(\&quot;change:overview\&quot;,<span class="dp">·</span>this.init_overview,<span class="dp">·</span>this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.model.on(\&quot;change:play_button\&quot;,<span class="dp">·</span>this.init_play_button,<span class="dp">·</span>this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.model.on(\&quot;change:save_button\&quot;,<span class="dp">·</span>this.init_save_button,<span class="dp">·</span>this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.model.on(\&quot;change:audio\&quot;,<span class="dp">·</span>this.init_peaks,<span class="dp">·</span>this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.model.on(\&quot;change:segments\&quot;,<span class="dp">·</span>this.segments_changed,<span class="dp">·</span>this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.model.on(\&quot;change:points\&quot;,<span class="dp">·</span>this.points_changed,<span class="dp">·</span>this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.model.on(\&quot;change:playing\&quot;,<span class="dp">·</span>this.toggle_playing,<span class="dp">·</span>this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.views<span class="dp">·</span>=<span class="dp">·</span>new<span class="dp">·</span>ViewList(this.add_view,<span class="dp">·</span>null,<span class="dp">·</span>this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>_this<span class="dp">·</span>=<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span>this.listenTo(this.model,<span class="dp">·</span>\&quot;change:zoomview\&quot;,<span class="dp">·</span>(model,<span class="dp">·</span>value)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_this.views.update([value,]);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span>this.listenTo(this.model,<span class="dp">·</span>\&quot;change:overview\&quot;,<span class="dp">·</span>(model,<span class="dp">·</span>value)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_this.views.update([value,]);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span>this.listenTo(this.model,<span class="dp">·</span>\&quot;change:play_button\&quot;,<span class="dp">·</span>(model,<span class="dp">·</span>value)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_this.views.update([value,]);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span>this.listenTo(this.model,<span class="dp">·</span>\&quot;change:audio\&quot;,<span class="dp">·</span>(model,<span class="dp">·</span>value)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_this.views.update([value,]);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.listenTo(this.model,<span class="dp">·</span>\&quot;change:segments\&quot;,<span class="dp">·</span>this.segments_changed);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.listenTo(this.model,<span class="dp">·</span>\&quot;change:points\&quot;,<span class="dp">·</span>this.points_changed);\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.displayed.then(()<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_this.init_zoomview();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_this.init_overview();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_this.init_play_button();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_this.init_save_button();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_this.init_peaks();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.views.update(\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>[\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.model.get(\&quot;zoomview\&quot;),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.model.get(\&quot;overview\&quot;),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.model.get(\&quot;play_button\&quot;),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.model.get(\&quot;save_button\&quot;),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.model.get(\&quot;audio\&quot;)\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>]).then(r<span class="dp">·</span>=&gt;<span class="dp">·</span>r.map(v<span class="dp">·</span>=&gt;<span class="dp">·</span>v.render()));\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>elementId<span class="dp">·</span>=<span class="dp">·</span>this.model.get(\&quot;element_id\&quot;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>$(this.el).attr(\&quot;id\&quot;,<span class="dp">·</span>elementId);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>add_view(child_model:<span class="dp">·</span>DOMWidgetModel,<span class="dp">·</span>index:<span class="dp">·</span>number)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.create_child_view(child_model,<span class="dp">·</span>{parent:<span class="dp">·</span>this})\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>.then(view<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>view.trigger(\&quot;displayed\&quot;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>view;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>})\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>.catch(err<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>err\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>init_zoomview()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>that<span class="dp">·</span>=<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>elementId<span class="dp">·</span>=<span class="dp">·</span>this.model.get(\&quot;element_id\&quot;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.views.views[0].then(v<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>that.zoomview<span class="dp">·</span>=<span class="dp">·</span>$(v.el)\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>.text(\&quot;\\n\&quot;)\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>.attr(\&quot;id\&quot;,<span class="dp">·</span>\&quot;zoomview-\&quot;<span class="dp">·</span>+<span class="dp">·</span>elementId)\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>.attr(\&quot;tabindex\&quot;,<span class="dp">·</span>\&quot;0\&quot;)\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>.css({width:<span class="dp">·</span>&#x27;100%&#x27;,<span class="dp">·</span>height:<span class="dp">·</span>&#x27;200px&#x27;,<span class="dp">·</span>&#x27;white-space&#x27;:<span class="dp">·</span>&#x27;pre&#x27;});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(that.model.get(\&quot;as_container\&quot;))<span class="dp">·</span>$(that.el).append(that.zoomview);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>init_overview()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>that<span class="dp">·</span>=<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>elementId<span class="dp">·</span>=<span class="dp">·</span>this.model.get(\&quot;element_id\&quot;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.views.views[1].then(v<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>that.overview<span class="dp">·</span>=<span class="dp">·</span>$(v.el)\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>.text(\&quot;\\n\&quot;)\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>.attr(\&quot;id\&quot;,<span class="dp">·</span>\&quot;overview-\&quot;<span class="dp">·</span>+<span class="dp">·</span>elementId)\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>.css({width:<span class="dp">·</span>&#x27;100%&#x27;,<span class="dp">·</span>height:<span class="dp">·</span>&#x27;15px&#x27;,<span class="dp">·</span>&#x27;white-space&#x27;:<span class="dp">·</span>&#x27;pre&#x27;});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(that.model.get(\&quot;as_container\&quot;))<span class="dp">·</span>$(that.el).append(that.overview);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>init_play_button()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>model<span class="dp">·</span>=<span class="dp">·</span>this.model;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>that<span class="dp">·</span>=<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.views.views[2].then(v<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.playBtn<span class="dp">·</span>=<span class="dp">·</span>$(v.el)\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>.on(\&quot;click\&quot;,<span class="dp">·</span>function<span class="dp">·</span>()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>playing<span class="dp">·</span>=<span class="dp">·</span>model.get(&#x27;playing&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model.set(&#x27;playing&#x27;,<span class="dp">·</span>!playing);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model.save_changes();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>that.touch();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>that.send({playing:<span class="dp">·</span>!playing});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(that.model.get(\&quot;as_container\&quot;))<span class="dp">·</span>$((this.el))\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>.append(this.playBtn);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>})\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>init_save_button()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>that<span class="dp">·</span>=<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.views.views[3].then(v<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>$(that.el).append($(v.el).on(\&quot;click\&quot;,<span class="dp">·</span>function<span class="dp">·</span>()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>link<span class="dp">·</span>=<span class="dp">·</span>document.createElement(&#x27;a&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>link.href<span class="dp">·</span>=<span class="dp">·</span>that.audio.src;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>link.setAttribute(&#x27;download&#x27;,<span class="dp">·</span>`${that.model.get(\&quot;element_id\&quot;)}.mp3`);<span class="dp">·</span>//or<span class="dp">·</span>any<span class="dp">·</span>other<span class="dp">·</span>extension\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>document.body.appendChild(link);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>link.click();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}));\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>})\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>init_peaks()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>that<span class="dp">·</span>=<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>audioContext<span class="dp">·</span>=<span class="dp">·</span>new<span class="dp">·</span>AudioContext();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>segments<span class="dp">·</span>=<span class="dp">·</span>this.model.get(\&quot;segments\&quot;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>points<span class="dp">·</span>=<span class="dp">·</span>this.model.get(\&quot;points\&quot;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Promise.all(this.views.views).then(v<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>a<span class="dp">·</span>=<span class="dp">·</span>v[4];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>audioElement<span class="dp">·</span>=<span class="dp">·</span>a.el<span class="dp">·</span>as<span class="dp">·</span>HTMLMediaElement;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>zoomview<span class="dp">·</span>=<span class="dp">·</span>v[0].el;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>overview<span class="dp">·</span>=<span class="dp">·</span>v[1].el;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>$(that.el).append(audioElement);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>that.audio<span class="dp">·</span>=<span class="dp">·</span>audioElement;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span>@ts-ignore\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>options:<span class="dp">·</span>PeaksOptions<span class="dp">·</span>=<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>zoomview:<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>container:<span class="dp">·</span>zoomview,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>waveformColor:<span class="dp">·</span>&#x27;rgba(0,100,255,0.95)&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>playheadColor:<span class="dp">·</span>&#x27;#000000&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>wheelMode:<span class="dp">·</span>\&quot;scroll\&quot;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>overview:<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>container:<span class="dp">·</span>overview,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>waveformColor:<span class="dp">·</span>&#x27;rgba(0,100,255,0.95)&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>playheadColor:<span class="dp">·</span>&#x27;#000000&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>showAxisLabels:<span class="dp">·</span>false,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>highlightColor:<span class="dp">·</span>\&quot;rgba(64,94,103,0.51)\&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>highlightOffset:<span class="dp">·</span>0,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>zoomLevels:<span class="dp">·</span>[16],\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>mediaElement:<span class="dp">·</span>audioElement,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>webAudio:<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>audioContext:<span class="dp">·</span>audioContext,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>scale:<span class="dp">·</span>16,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>multiChannel:<span class="dp">·</span>false\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span>Bind<span class="dp">·</span>keyboard<span class="dp">·</span>controls\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>keyboard:<span class="dp">·</span>false,\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span>Keyboard<span class="dp">·</span>nudge<span class="dp">·</span>increment<span class="dp">·</span>in<span class="dp">·</span>seconds<span class="dp">·</span>(left<span class="dp">·</span>arrow/right<span class="dp">·</span>arrow)\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>nudgeIncrement:<span class="dp">·</span>1.,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>segments:<span class="dp">·</span>segments,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>points:<span class="dp">·</span>points,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span>@ts-ignore\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>createSegmentMarker:<span class="dp">·</span>newSegmentMarker,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Peaks.init(options,<span class="dp">·</span>function<span class="dp">·</span>(err,<span class="dp">·</span>peaks)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(err<span class="dp">·</span>||<span class="dp">·</span>peaks<span class="dp">·</span>===<span class="dp">·</span>undefined<span class="dp">·</span>||<span class="dp">·</span>peaks<span class="dp">·</span>===<span class="dp">·</span>null)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>console.error(&#x27;Failed<span class="dp">·</span>to<span class="dp">·</span>initialize<span class="dp">·</span>Peaks<span class="dp">·</span>instance:<span class="dp">·</span>&#x27;<span class="dp">·</span>+<span class="dp">·</span>err.message);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>that.peaks<span class="dp">·</span>=<span class="dp">·</span>peaks;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>peaksZoomView<span class="dp">·</span>=<span class="dp">·</span>peaks.views.getView(&#x27;zoomview&#x27;)!;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>peaksZoomView.setZoom({seconds:<span class="dp">·</span>Math.min(audioElement.duration,<span class="dp">·</span>180.)});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>/*\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>*<span class="dp">·</span>alt<span class="dp">·</span>+<span class="dp">·</span>click:<span class="dp">·</span>add<span class="dp">·</span>segment\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>*<span class="dp">·</span>alt<span class="dp">·</span>+<span class="dp">·</span>SHIFT<span class="dp">·</span>+<span class="dp">·</span>click:<span class="dp">·</span>remove<span class="dp">·</span>segment\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>*<span class="dp">·</span>Ctrl<span class="dp">·</span>+<span class="dp">·</span>alt<span class="dp">·</span>+<span class="dp">·</span>click:<span class="dp">·</span>edit<span class="dp">·</span>segment&#x27;s<span class="dp">·</span>label\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>*<span class="dp">·</span>Ctrl<span class="dp">·</span>+<span class="dp">·</span>click:<span class="dp">·</span>add<span class="dp">·</span>point\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>*<span class="dp">·</span>Ctrl<span class="dp">·</span>+<span class="dp">·</span>SHIFT<span class="dp">·</span>+<span class="dp">·</span>click:<span class="dp">·</span>remove<span class="dp">·</span>point\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>*<span class="dp">·</span>Ctrl<span class="dp">·</span>+<span class="dp">·</span>wheel:<span class="dp">·</span>zoom\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>*<span class="dp">·</span>Ctr<span class="dp">·</span>+<span class="dp">·</span>dbl-click:<span class="dp">·</span>reset<span class="dp">·</span>zoom\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>*<span class="dp">·</span>SHIFT<span class="dp">·</span>+<span class="dp">·</span>wheel:<span class="dp">·</span>scroll<span class="dp">·</span>wvaveform\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>*<span class="dp">·</span>*/\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>peaks.on(\&quot;zoomview.click\&quot;,<span class="dp">·</span>(event)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(event.evt.altKey<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>!event.evt.shiftKey<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>!event.evt.ctrlKey)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>newSegment<span class="dp">·</span>=<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>startTime:<span class="dp">·</span>event.time,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>endTime:<span class="dp">·</span>event.time<span class="dp">·</span>+<span class="dp">·</span>.1,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>editable:<span class="dp">·</span>true,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>id:<span class="dp">·</span>that.model.get(\&quot;id_count\&quot;),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>color:<span class="dp">·</span>\&quot;#ff640e\&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>labelText:<span class="dp">·</span>&#x27;&#x27;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>peaks.segments.add(newSegment);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>that.model.set(\&quot;id_count\&quot;,<span class="dp">·</span>newSegment.id<span class="dp">·</span>+<span class="dp">·</span>1);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>that.touch();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>that.send({newSegment:<span class="dp">·</span>newSegment});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}<span class="dp">·</span>else<span class="dp">·</span>if<span class="dp">·</span>(event.evt.ctrlKey<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>!event.evt.altKey<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>!event.evt.shiftKey)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>newPoint<span class="dp">·</span>=<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>time:<span class="dp">·</span>event.time\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>peaks.points.add(newPoint);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>that.send({newPoint:<span class="dp">·</span>newPoint});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>peaks.on(\&quot;segments.click\&quot;,<span class="dp">·</span>(event)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(event.evt.altKey<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>event.evt.shiftKey)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>peaks.segments.removeById(&lt;string&gt;event.segment.id);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>that.send({\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>removeSegment:<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>startTime:<span class="dp">·</span>event.segment.startTime,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>endTime:<span class="dp">·</span>event.segment.endTime,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>id:<span class="dp">·</span>event.segment.id,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>color:<span class="dp">·</span>event.segment.color,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>labelText:<span class="dp">·</span>event.segment.labelText\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>})\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}<span class="dp">·</span>else<span class="dp">·</span>if<span class="dp">·</span>(event.evt.ctrlKey<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>event.evt.altKey)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>i<span class="dp">·</span>=<span class="dp">·</span>prompt(\&quot;Enter<span class="dp">·</span>cluster<span class="dp">·</span>index\&quot;,<span class="dp">·</span>\&quot;0\&quot;)<span class="dp">·</span>as<span class="dp">·</span>string;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>event.segment.update({labelText:<span class="dp">·</span>i});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>that.send({\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>editSegment:<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>startTime:<span class="dp">·</span>event.segment.startTime,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>endTime:<span class="dp">·</span>event.segment.endTime,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>id:<span class="dp">·</span>event.segment.id,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>color:<span class="dp">·</span>event.segment.color,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>labelText:<span class="dp">·</span>i,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>editable:<span class="dp">·</span>true\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>})\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}<span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>that.send({\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>clickSegment:<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>startTime:<span class="dp">·</span>event.segment.startTime,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>endTime:<span class="dp">·</span>event.segment.endTime,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>id:<span class="dp">·</span>event.segment.id,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>color:<span class="dp">·</span>event.segment.color,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>labelText:<span class="dp">·</span>event.segment.labelText,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>editable:<span class="dp">·</span>event.segment.editable\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>})\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>peaks.on(\&quot;segments.dragend\&quot;,<span class="dp">·</span>(event)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>that.send({\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>editSegment:<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>startTime:<span class="dp">·</span>event.segment.startTime,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>endTime:<span class="dp">·</span>event.segment.endTime,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>id:<span class="dp">·</span>event.segment.id,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>color:<span class="dp">·</span>event.segment.color,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>labelText:<span class="dp">·</span>event.segment.labelText,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>editable:<span class="dp">·</span>true\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>peaks.on(\&quot;player.seeked\&quot;,<span class="dp">·</span>(event)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>zoomview.addEventListener(\&quot;keydown\&quot;,<span class="dp">·</span>(e)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(e.code<span class="dp">·</span>===<span class="dp">·</span>&#x27;Space&#x27;)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>that.playBtn.trigger(\&quot;click\&quot;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>e.preventDefault();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}<span class="dp">·</span>else<span class="dp">·</span>if<span class="dp">·</span>(e.code.includes(\&quot;Arrow\&quot;))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>currentTime<span class="dp">·</span>=<span class="dp">·</span>peaks.player.getCurrentTime();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>zoomview<span class="dp">·</span>=<span class="dp">·</span>peaks.views.getView(&#x27;zoomview&#x27;)!;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span>@ts-ignore\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>scale<span class="dp">·</span>=<span class="dp">·</span>zoomview.getEndTime()<span class="dp">·</span>-<span class="dp">·</span>zoomview.getStartTime();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>let<span class="dp">·</span>factor<span class="dp">·</span>=<span class="dp">·</span>1<span class="dp">·</span>/<span class="dp">·</span>500;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(e.shiftKey)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>factor<span class="dp">·</span>=<span class="dp">·</span>1<span class="dp">·</span>/<span class="dp">·</span>50;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(e.code<span class="dp">·</span>===<span class="dp">·</span>\&quot;ArrowRight\&quot;)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>peaks.player.seek(currentTime<span class="dp">·</span>+<span class="dp">·</span>(scale<span class="dp">·</span>*<span class="dp">·</span>factor))\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}<span class="dp">·</span>else<span class="dp">·</span>if<span class="dp">·</span>(e.code<span class="dp">·</span>===<span class="dp">·</span>\&quot;ArrowLeft\&quot;)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>peaks.player.seek(currentTime<span class="dp">·</span>-<span class="dp">·</span>(scale<span class="dp">·</span>*<span class="dp">·</span>factor))\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>zoomview.addEventListener(\&quot;wheel\&quot;,<span class="dp">·</span>(event)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>zoomview<span class="dp">·</span>=<span class="dp">·</span>peaks.views.getView(&#x27;zoomview&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!zoomview)<span class="dp">·</span>return;\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(event.ctrlKey)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span>@ts-ignore\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>startTime<span class="dp">·</span>=<span class="dp">·</span>zoomview.getStartTime();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span>@ts-ignore\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>endTime<span class="dp">·</span>=<span class="dp">·</span>zoomview.getEndTime();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span>@ts-ignore\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>newDuration<span class="dp">·</span>=<span class="dp">·</span>(endTime<span class="dp">·</span>-<span class="dp">·</span>startTime)<span class="dp">·</span>*<span class="dp">·</span>(event.wheelDelta<span class="dp">·</span>&gt;<span class="dp">·</span>0<span class="dp">·</span>?<span class="dp">·</span>1.1<span class="dp">·</span>:<span class="dp">·</span>.9);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>zoomview.setZoom({\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seconds:<span class="dp">·</span>Math.min(audioElement.duration,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Math.max(newDuration,<span class="dp">·</span>0.356))\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>event.preventDefault();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>that.send({\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>//<span class="dp">·</span>@ts-ignore\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>updateZoomView:<span class="dp">·</span>{startTime:<span class="dp">·</span>zoomview.getStartTime(),<span class="dp">·</span>endTime:<span class="dp">·</span>zoomview.getEndTime()}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>})\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>zoomview.addEventListener(\&quot;dblclick\&quot;,<span class="dp">·</span>(event)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(event.ctrlKey)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>peaks.views.getView(&#x27;zoomview&#x27;)!.setZoom({seconds:<span class="dp">·</span>peaks.player.getDuration()})\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}<span class="dp">·</span>else<span class="dp">·</span>if<span class="dp">·</span>(!event.altKey)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>that.playBtn.trigger(\&quot;click\&quot;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>})\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>})\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>segments_changed()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>let<span class="dp">·</span>segments<span class="dp">·</span>=<span class="dp">·</span>this.model.get(\&quot;segments\&quot;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.peaks.segments.removeAll();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.peaks.segments.add(segments);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>points_changed()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>let<span class="dp">·</span>points<span class="dp">·</span>=<span class="dp">·</span>this.model.get(\&quot;points\&quot;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.peaks.points.removeAll();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.peaks.points.add(points);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>toggle_playing()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>playing<span class="dp">·</span>=<span class="dp">·</span>this.model.get(\&quot;playing\&quot;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(playing)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.peaks.player.play();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.playBtn.children(\&quot;i\&quot;).removeClass(\&quot;fa-play\&quot;).addClass(\&quot;fa-pause\&quot;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}<span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.peaks.player.pause();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.playBtn.children(\&quot;i\&quot;).removeClass(\&quot;fa-pause\&quot;).addClass(\&quot;fa-play\&quot;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n}\n&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">2969 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;module.exports<span class="dp">·</span>=<span class="dp">·</span>__WEBPACK_EXTERNAL_MODULE__146__;&quot;,</td><td class="diffline">2970 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;module.exports<span class="dp">·</span>=<span class="dp">·</span>__WEBPACK_EXTERNAL_MODULE__146__;&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">2970 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;import<span class="dp">·</span>{<span class="dp">·</span>glob<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Global.js&#x27;;\nimport<span class="dp">·</span>{<span class="dp">·</span>Util<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Util.js&#x27;;\nvar<span class="dp">·</span>now<span class="dp">·</span>=<span class="dp">·</span>(function<span class="dp">·</span>()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(glob.performance<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>glob.performance.now)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>function<span class="dp">·</span>()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>glob.performance.now();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>function<span class="dp">·</span>()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>new<span class="dp">·</span>Date().getTime();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n})();\nexport<span class="dp">·</span>class<span class="dp">·</span>Animation<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>constructor(func,<span class="dp">·</span>layers)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.id<span class="dp">·</span>=<span class="dp">·</span>Animation.animIdCounter++;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.frame<span class="dp">·</span>=<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>time:<span class="dp">·</span>0,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>timeDiff:<span class="dp">·</span>0,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lastTime:<span class="dp">·</span>now(),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>frameRate:<span class="dp">·</span>0,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.func<span class="dp">·</span>=<span class="dp">·</span>func;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.setLayers(layers);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>setLayers(layers)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>lays<span class="dp">·</span>=<span class="dp">·</span>[];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!layers)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lays<span class="dp">·</span>=<span class="dp">·</span>[];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>if<span class="dp">·</span>(layers.length<span class="dp">·</span>&gt;<span class="dp">·</span>0)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lays<span class="dp">·</span>=<span class="dp">·</span>layers;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lays<span class="dp">·</span>=<span class="dp">·</span>[layers];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.layers<span class="dp">·</span>=<span class="dp">·</span>lays;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getLayers()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.layers;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>addLayer(layer)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>layers<span class="dp">·</span>=<span class="dp">·</span>this.layers,<span class="dp">·</span>len<span class="dp">·</span>=<span class="dp">·</span>layers.length,<span class="dp">·</span>n;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(n<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>n<span class="dp">·</span>&lt;<span class="dp">·</span>len;<span class="dp">·</span>n++)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(layers[n]._id<span class="dp">·</span>===<span class="dp">·</span>layer._id)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.layers.push(layer);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>isRunning()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>a<span class="dp">·</span>=<span class="dp">·</span>Animation,<span class="dp">·</span>animations<span class="dp">·</span>=<span class="dp">·</span>a.animations,<span class="dp">·</span>len<span class="dp">·</span>=<span class="dp">·</span>animations.length,<span class="dp">·</span>n;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(n<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>n<span class="dp">·</span>&lt;<span class="dp">·</span>len;<span class="dp">·</span>n++)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(animations[n].id<span class="dp">·</span>===<span class="dp">·</span>this.id)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>start()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.stop();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.frame.timeDiff<span class="dp">·</span>=<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.frame.lastTime<span class="dp">·</span>=<span class="dp">·</span>now();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Animation._addAnimation(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>stop()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Animation._removeAnimation(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_updateFrameObject(time)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.frame.timeDiff<span class="dp">·</span>=<span class="dp">·</span>time<span class="dp">·</span>-<span class="dp">·</span>this.frame.lastTime;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.frame.lastTime<span class="dp">·</span>=<span class="dp">·</span>time;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.frame.time<span class="dp">·</span>+=<span class="dp">·</span>this.frame.timeDiff;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.frame.frameRate<span class="dp">·</span>=<span class="dp">·</span>1000<span class="dp">·</span>/<span class="dp">·</span>this.frame.timeDiff;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>static<span class="dp">·</span>_addAnimation(anim)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.animations.push(anim);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._handleAnimation();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>static<span class="dp">·</span>_removeAnimation(anim)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>id<span class="dp">·</span>=<span class="dp">·</span>anim.id,<span class="dp">·</span>animations<span class="dp">·</span>=<span class="dp">·</span>this.animations,<span class="dp">·</span>len<span class="dp">·</span>=<span class="dp">·</span>animations.length,<span class="dp">·</span>n;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(n<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>n<span class="dp">·</span>&lt;<span class="dp">·</span>len;<span class="dp">·</span>n++)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(animations[n].id<span class="dp">·</span>===<span class="dp">·</span>id)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.animations.splice(n,<span class="dp">·</span>1);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>break;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>static<span class="dp">·</span>_runFrames()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>layerHash<span class="dp">·</span>=<span class="dp">·</span>{},<span class="dp">·</span>animations<span class="dp">·</span>=<span class="dp">·</span>this.animations,<span class="dp">·</span>anim,<span class="dp">·</span>layers,<span class="dp">·</span>func,<span class="dp">·</span>n,<span class="dp">·</span>i,<span class="dp">·</span>layersLen,<span class="dp">·</span>layer,<span class="dp">·</span>key,<span class="dp">·</span>needRedraw;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(n<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>n<span class="dp">·</span>&lt;<span class="dp">·</span>animations.length;<span class="dp">·</span>n++)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>anim<span class="dp">·</span>=<span class="dp">·</span>animations[n];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>layers<span class="dp">·</span>=<span class="dp">·</span>anim.layers;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>func<span class="dp">·</span>=<span class="dp">·</span>anim.func;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>anim._updateFrameObject(now());\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>layersLen<span class="dp">·</span>=<span class="dp">·</span>layers.length;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(func)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>needRedraw<span class="dp">·</span>=<span class="dp">·</span>func.call(anim,<span class="dp">·</span>anim.frame)<span class="dp">·</span>!==<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>needRedraw<span class="dp">·</span>=<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!needRedraw)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>continue;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(i<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>i<span class="dp">·</span>&lt;<span class="dp">·</span>layersLen;<span class="dp">·</span>i++)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>layer<span class="dp">·</span>=<span class="dp">·</span>layers[i];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(layer._id<span class="dp">·</span>!==<span class="dp">·</span>undefined)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>layerHash[layer._id]<span class="dp">·</span>=<span class="dp">·</span>layer;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(key<span class="dp">·</span>in<span class="dp">·</span>layerHash)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!layerHash.hasOwnProperty(key))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>continue;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>layerHash[key].batchDraw();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>static<span class="dp">·</span>_animationLoop()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>Anim<span class="dp">·</span>=<span class="dp">·</span>Animation;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(Anim.animations.length)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Anim._runFrames();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.requestAnimFrame(Anim._animationLoop);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Anim.animRunning<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>static<span class="dp">·</span>_handleAnimation()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!this.animRunning)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.animRunning<span class="dp">·</span>=<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.requestAnimFrame(this._animationLoop);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n}\nAnimation.animations<span class="dp">·</span>=<span class="dp">·</span>[];\nAnimation.animIdCounter<span class="dp">·</span>=<span class="dp">·</span>0;\nAnimation.animRunning<span class="dp">·</span>=<span class="dp">·</span>false;\n&quot;,</td><td class="diffline">2971 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;import<span class="dp">·</span>{<span class="dp">·</span>glob<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Global.js&#x27;;\nimport<span class="dp">·</span>{<span class="dp">·</span>Util<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Util.js&#x27;;\nvar<span class="dp">·</span>now<span class="dp">·</span>=<span class="dp">·</span>(function<span class="dp">·</span>()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(glob.performance<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>glob.performance.now)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>function<span class="dp">·</span>()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>glob.performance.now();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>function<span class="dp">·</span>()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>new<span class="dp">·</span>Date().getTime();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n})();\nexport<span class="dp">·</span>class<span class="dp">·</span>Animation<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>constructor(func,<span class="dp">·</span>layers)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.id<span class="dp">·</span>=<span class="dp">·</span>Animation.animIdCounter++;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.frame<span class="dp">·</span>=<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>time:<span class="dp">·</span>0,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>timeDiff:<span class="dp">·</span>0,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lastTime:<span class="dp">·</span>now(),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>frameRate:<span class="dp">·</span>0,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.func<span class="dp">·</span>=<span class="dp">·</span>func;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.setLayers(layers);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>setLayers(layers)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>lays<span class="dp">·</span>=<span class="dp">·</span>[];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!layers)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lays<span class="dp">·</span>=<span class="dp">·</span>[];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>if<span class="dp">·</span>(layers.length<span class="dp">·</span>&gt;<span class="dp">·</span>0)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lays<span class="dp">·</span>=<span class="dp">·</span>layers;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lays<span class="dp">·</span>=<span class="dp">·</span>[layers];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.layers<span class="dp">·</span>=<span class="dp">·</span>lays;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getLayers()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.layers;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>addLayer(layer)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>layers<span class="dp">·</span>=<span class="dp">·</span>this.layers,<span class="dp">·</span>len<span class="dp">·</span>=<span class="dp">·</span>layers.length,<span class="dp">·</span>n;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(n<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>n<span class="dp">·</span>&lt;<span class="dp">·</span>len;<span class="dp">·</span>n++)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(layers[n]._id<span class="dp">·</span>===<span class="dp">·</span>layer._id)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.layers.push(layer);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>isRunning()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>a<span class="dp">·</span>=<span class="dp">·</span>Animation,<span class="dp">·</span>animations<span class="dp">·</span>=<span class="dp">·</span>a.animations,<span class="dp">·</span>len<span class="dp">·</span>=<span class="dp">·</span>animations.length,<span class="dp">·</span>n;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(n<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>n<span class="dp">·</span>&lt;<span class="dp">·</span>len;<span class="dp">·</span>n++)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(animations[n].id<span class="dp">·</span>===<span class="dp">·</span>this.id)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>start()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.stop();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.frame.timeDiff<span class="dp">·</span>=<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.frame.lastTime<span class="dp">·</span>=<span class="dp">·</span>now();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Animation._addAnimation(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>stop()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Animation._removeAnimation(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_updateFrameObject(time)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.frame.timeDiff<span class="dp">·</span>=<span class="dp">·</span>time<span class="dp">·</span>-<span class="dp">·</span>this.frame.lastTime;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.frame.lastTime<span class="dp">·</span>=<span class="dp">·</span>time;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.frame.time<span class="dp">·</span>+=<span class="dp">·</span>this.frame.timeDiff;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.frame.frameRate<span class="dp">·</span>=<span class="dp">·</span>1000<span class="dp">·</span>/<span class="dp">·</span>this.frame.timeDiff;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>static<span class="dp">·</span>_addAnimation(anim)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.animations.push(anim);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._handleAnimation();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>static<span class="dp">·</span>_removeAnimation(anim)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>id<span class="dp">·</span>=<span class="dp">·</span>anim.id,<span class="dp">·</span>animations<span class="dp">·</span>=<span class="dp">·</span>this.animations,<span class="dp">·</span>len<span class="dp">·</span>=<span class="dp">·</span>animations.length,<span class="dp">·</span>n;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(n<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>n<span class="dp">·</span>&lt;<span class="dp">·</span>len;<span class="dp">·</span>n++)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(animations[n].id<span class="dp">·</span>===<span class="dp">·</span>id)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.animations.splice(n,<span class="dp">·</span>1);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>break;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>static<span class="dp">·</span>_runFrames()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>layerHash<span class="dp">·</span>=<span class="dp">·</span>{},<span class="dp">·</span>animations<span class="dp">·</span>=<span class="dp">·</span>this.animations,<span class="dp">·</span>anim,<span class="dp">·</span>layers,<span class="dp">·</span>func,<span class="dp">·</span>n,<span class="dp">·</span>i,<span class="dp">·</span>layersLen,<span class="dp">·</span>layer,<span class="dp">·</span>key,<span class="dp">·</span>needRedraw;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(n<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>n<span class="dp">·</span>&lt;<span class="dp">·</span>animations.length;<span class="dp">·</span>n++)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>anim<span class="dp">·</span>=<span class="dp">·</span>animations[n];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>layers<span class="dp">·</span>=<span class="dp">·</span>anim.layers;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>func<span class="dp">·</span>=<span class="dp">·</span>anim.func;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>anim._updateFrameObject(now());\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>layersLen<span class="dp">·</span>=<span class="dp">·</span>layers.length;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(func)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>needRedraw<span class="dp">·</span>=<span class="dp">·</span>func.call(anim,<span class="dp">·</span>anim.frame)<span class="dp">·</span>!==<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>needRedraw<span class="dp">·</span>=<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!needRedraw)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>continue;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(i<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>i<span class="dp">·</span>&lt;<span class="dp">·</span>layersLen;<span class="dp">·</span>i++)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>layer<span class="dp">·</span>=<span class="dp">·</span>layers[i];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(layer._id<span class="dp">·</span>!==<span class="dp">·</span>undefined)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>layerHash[layer._id]<span class="dp">·</span>=<span class="dp">·</span>layer;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(key<span class="dp">·</span>in<span class="dp">·</span>layerHash)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!layerHash.hasOwnProperty(key))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>continue;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>layerHash[key].batchDraw();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>static<span class="dp">·</span>_animationLoop()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>Anim<span class="dp">·</span>=<span class="dp">·</span>Animation;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(Anim.animations.length)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Anim._runFrames();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.requestAnimFrame(Anim._animationLoop);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Anim.animRunning<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>static<span class="dp">·</span>_handleAnimation()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!this.animRunning)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.animRunning<span class="dp">·</span>=<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.requestAnimFrame(this._animationLoop);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n}\nAnimation.animations<span class="dp">·</span>=<span class="dp">·</span>[];\nAnimation.animIdCounter<span class="dp">·</span>=<span class="dp">·</span>0;\nAnimation.animRunning<span class="dp">·</span>=<span class="dp">·</span>false;\n&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">2971 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;import<span class="dp">·</span>{<span class="dp">·</span>Util<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Util.js&#x27;;\nimport<span class="dp">·</span>{<span class="dp">·</span>SceneContext,<span class="dp">·</span>HitContext<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Context.js&#x27;;\nimport<span class="dp">·</span>{<span class="dp">·</span>Konva<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Global.js&#x27;;\nimport<span class="dp">·</span>{<span class="dp">·</span>Factory<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Factory.js&#x27;;\nimport<span class="dp">·</span>{<span class="dp">·</span>getNumberValidator<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Validators.js&#x27;;\nvar<span class="dp">·</span>_pixelRatio;\nfunction<span class="dp">·</span>getDevicePixelRatio()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(_pixelRatio)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>_pixelRatio;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>canvas<span class="dp">·</span>=<span class="dp">·</span>Util.createCanvasElement();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>context<span class="dp">·</span>=<span class="dp">·</span>canvas.getContext(&#x27;2d&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_pixelRatio<span class="dp">·</span>=<span class="dp">·</span>(function<span class="dp">·</span>()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>devicePixelRatio<span class="dp">·</span>=<span class="dp">·</span>Konva._global.devicePixelRatio<span class="dp">·</span>||<span class="dp">·</span>1,<span class="dp">·</span>backingStoreRatio<span class="dp">·</span>=<span class="dp">·</span>context.webkitBackingStorePixelRatio<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.mozBackingStorePixelRatio<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.msBackingStorePixelRatio<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.oBackingStorePixelRatio<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.backingStorePixelRatio<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>devicePixelRatio<span class="dp">·</span>/<span class="dp">·</span>backingStoreRatio;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>})();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.releaseCanvas(canvas);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>_pixelRatio;\n}\nexport<span class="dp">·</span>class<span class="dp">·</span>Canvas<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>constructor(config)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.pixelRatio<span class="dp">·</span>=<span class="dp">·</span>1;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.width<span class="dp">·</span>=<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.height<span class="dp">·</span>=<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.isCache<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>conf<span class="dp">·</span>=<span class="dp">·</span>config<span class="dp">·</span>||<span class="dp">·</span>{};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>pixelRatio<span class="dp">·</span>=<span class="dp">·</span>conf.pixelRatio<span class="dp">·</span>||<span class="dp">·</span>Konva.pixelRatio<span class="dp">·</span>||<span class="dp">·</span>getDevicePixelRatio();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.pixelRatio<span class="dp">·</span>=<span class="dp">·</span>pixelRatio;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._canvas<span class="dp">·</span>=<span class="dp">·</span>Util.createCanvasElement();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._canvas.style.padding<span class="dp">·</span>=<span class="dp">·</span>&#x27;0&#x27;;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._canvas.style.margin<span class="dp">·</span>=<span class="dp">·</span>&#x27;0&#x27;;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._canvas.style.border<span class="dp">·</span>=<span class="dp">·</span>&#x27;0&#x27;;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._canvas.style.background<span class="dp">·</span>=<span class="dp">·</span>&#x27;transparent&#x27;;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._canvas.style.position<span class="dp">·</span>=<span class="dp">·</span>&#x27;absolute&#x27;;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._canvas.style.top<span class="dp">·</span>=<span class="dp">·</span>&#x27;0&#x27;;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._canvas.style.left<span class="dp">·</span>=<span class="dp">·</span>&#x27;0&#x27;;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getContext()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.context;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getPixelRatio()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.pixelRatio;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>setPixelRatio(pixelRatio)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>previousRatio<span class="dp">·</span>=<span class="dp">·</span>this.pixelRatio;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.pixelRatio<span class="dp">·</span>=<span class="dp">·</span>pixelRatio;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.setSize(this.getWidth()<span class="dp">·</span>/<span class="dp">·</span>previousRatio,<span class="dp">·</span>this.getHeight()<span class="dp">·</span>/<span class="dp">·</span>previousRatio);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>setWidth(width)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.width<span class="dp">·</span>=<span class="dp">·</span>this._canvas.width<span class="dp">·</span>=<span class="dp">·</span>width<span class="dp">·</span>*<span class="dp">·</span>this.pixelRatio;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._canvas.style.width<span class="dp">·</span>=<span class="dp">·</span>width<span class="dp">·</span>+<span class="dp">·</span>&#x27;px&#x27;;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>pixelRatio<span class="dp">·</span>=<span class="dp">·</span>this.pixelRatio,<span class="dp">·</span>_context<span class="dp">·</span>=<span class="dp">·</span>this.getContext()._context;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_context.scale(pixelRatio,<span class="dp">·</span>pixelRatio);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>setHeight(height)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.height<span class="dp">·</span>=<span class="dp">·</span>this._canvas.height<span class="dp">·</span>=<span class="dp">·</span>height<span class="dp">·</span>*<span class="dp">·</span>this.pixelRatio;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._canvas.style.height<span class="dp">·</span>=<span class="dp">·</span>height<span class="dp">·</span>+<span class="dp">·</span>&#x27;px&#x27;;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>pixelRatio<span class="dp">·</span>=<span class="dp">·</span>this.pixelRatio,<span class="dp">·</span>_context<span class="dp">·</span>=<span class="dp">·</span>this.getContext()._context;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_context.scale(pixelRatio,<span class="dp">·</span>pixelRatio);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getWidth()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.width;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getHeight()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.height;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>setSize(width,<span class="dp">·</span>height)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.setWidth(width<span class="dp">·</span>||<span class="dp">·</span>0);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.setHeight(height<span class="dp">·</span>||<span class="dp">·</span>0);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>toDataURL(mimeType,<span class="dp">·</span>quality)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>try<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._canvas.toDataURL(mimeType,<span class="dp">·</span>quality);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>catch<span class="dp">·</span>(e)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>try<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._canvas.toDataURL();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>catch<span class="dp">·</span>(err)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.error(&#x27;Unable<span class="dp">·</span>to<span class="dp">·</span>get<span class="dp">·</span>data<span class="dp">·</span>URL.<span class="dp">·</span>&#x27;<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>err.message<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;<span class="dp">·</span>For<span class="dp">·</span>more<span class="dp">·</span>info<span class="dp">·</span>read<span class="dp">·</span>https://konvajs.org/docs/posts/Tainted_Canvas.html.&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>&#x27;&#x27;;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n}\nFactory.addGetterSetter(Canvas,<span class="dp">·</span>&#x27;pixelRatio&#x27;,<span class="dp">·</span>undefined,<span class="dp">·</span>getNumberValidator());\nexport<span class="dp">·</span>class<span class="dp">·</span>SceneCanvas<span class="dp">·</span>extends<span class="dp">·</span>Canvas<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>constructor(config<span class="dp">·</span>=<span class="dp">·</span>{<span class="dp">·</span>width:<span class="dp">·</span>0,<span class="dp">·</span>height:<span class="dp">·</span>0<span class="dp">·</span>})<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>super(config);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.context<span class="dp">·</span>=<span class="dp">·</span>new<span class="dp">·</span>SceneContext(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.setSize(config.width,<span class="dp">·</span>config.height);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n}\nexport<span class="dp">·</span>class<span class="dp">·</span>HitCanvas<span class="dp">·</span>extends<span class="dp">·</span>Canvas<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>constructor(config<span class="dp">·</span>=<span class="dp">·</span>{<span class="dp">·</span>width:<span class="dp">·</span>0,<span class="dp">·</span>height:<span class="dp">·</span>0<span class="dp">·</span>})<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>super(config);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.hitCanvas<span class="dp">·</span>=<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.context<span class="dp">·</span>=<span class="dp">·</span>new<span class="dp">·</span>HitContext(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.setSize(config.width,<span class="dp">·</span>config.height);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n}\n&quot;,</td><td class="diffline">2972 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;import<span class="dp">·</span>{<span class="dp">·</span>Util<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Util.js&#x27;;\nimport<span class="dp">·</span>{<span class="dp">·</span>SceneContext,<span class="dp">·</span>HitContext<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Context.js&#x27;;\nimport<span class="dp">·</span>{<span class="dp">·</span>Konva<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Global.js&#x27;;\nimport<span class="dp">·</span>{<span class="dp">·</span>Factory<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Factory.js&#x27;;\nimport<span class="dp">·</span>{<span class="dp">·</span>getNumberValidator<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Validators.js&#x27;;\nvar<span class="dp">·</span>_pixelRatio;\nfunction<span class="dp">·</span>getDevicePixelRatio()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(_pixelRatio)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>_pixelRatio;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>canvas<span class="dp">·</span>=<span class="dp">·</span>Util.createCanvasElement();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>context<span class="dp">·</span>=<span class="dp">·</span>canvas.getContext(&#x27;2d&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_pixelRatio<span class="dp">·</span>=<span class="dp">·</span>(function<span class="dp">·</span>()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>devicePixelRatio<span class="dp">·</span>=<span class="dp">·</span>Konva._global.devicePixelRatio<span class="dp">·</span>||<span class="dp">·</span>1,<span class="dp">·</span>backingStoreRatio<span class="dp">·</span>=<span class="dp">·</span>context.webkitBackingStorePixelRatio<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.mozBackingStorePixelRatio<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.msBackingStorePixelRatio<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.oBackingStorePixelRatio<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.backingStorePixelRatio<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>devicePixelRatio<span class="dp">·</span>/<span class="dp">·</span>backingStoreRatio;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>})();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.releaseCanvas(canvas);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>_pixelRatio;\n}\nexport<span class="dp">·</span>class<span class="dp">·</span>Canvas<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>constructor(config)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.pixelRatio<span class="dp">·</span>=<span class="dp">·</span>1;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.width<span class="dp">·</span>=<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.height<span class="dp">·</span>=<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.isCache<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>conf<span class="dp">·</span>=<span class="dp">·</span>config<span class="dp">·</span>||<span class="dp">·</span>{};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>pixelRatio<span class="dp">·</span>=<span class="dp">·</span>conf.pixelRatio<span class="dp">·</span>||<span class="dp">·</span>Konva.pixelRatio<span class="dp">·</span>||<span class="dp">·</span>getDevicePixelRatio();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.pixelRatio<span class="dp">·</span>=<span class="dp">·</span>pixelRatio;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._canvas<span class="dp">·</span>=<span class="dp">·</span>Util.createCanvasElement();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._canvas.style.padding<span class="dp">·</span>=<span class="dp">·</span>&#x27;0&#x27;;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._canvas.style.margin<span class="dp">·</span>=<span class="dp">·</span>&#x27;0&#x27;;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._canvas.style.border<span class="dp">·</span>=<span class="dp">·</span>&#x27;0&#x27;;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._canvas.style.background<span class="dp">·</span>=<span class="dp">·</span>&#x27;transparent&#x27;;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._canvas.style.position<span class="dp">·</span>=<span class="dp">·</span>&#x27;absolute&#x27;;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._canvas.style.top<span class="dp">·</span>=<span class="dp">·</span>&#x27;0&#x27;;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._canvas.style.left<span class="dp">·</span>=<span class="dp">·</span>&#x27;0&#x27;;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getContext()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.context;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getPixelRatio()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.pixelRatio;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>setPixelRatio(pixelRatio)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>previousRatio<span class="dp">·</span>=<span class="dp">·</span>this.pixelRatio;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.pixelRatio<span class="dp">·</span>=<span class="dp">·</span>pixelRatio;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.setSize(this.getWidth()<span class="dp">·</span>/<span class="dp">·</span>previousRatio,<span class="dp">·</span>this.getHeight()<span class="dp">·</span>/<span class="dp">·</span>previousRatio);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>setWidth(width)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.width<span class="dp">·</span>=<span class="dp">·</span>this._canvas.width<span class="dp">·</span>=<span class="dp">·</span>width<span class="dp">·</span>*<span class="dp">·</span>this.pixelRatio;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._canvas.style.width<span class="dp">·</span>=<span class="dp">·</span>width<span class="dp">·</span>+<span class="dp">·</span>&#x27;px&#x27;;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>pixelRatio<span class="dp">·</span>=<span class="dp">·</span>this.pixelRatio,<span class="dp">·</span>_context<span class="dp">·</span>=<span class="dp">·</span>this.getContext()._context;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_context.scale(pixelRatio,<span class="dp">·</span>pixelRatio);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>setHeight(height)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.height<span class="dp">·</span>=<span class="dp">·</span>this._canvas.height<span class="dp">·</span>=<span class="dp">·</span>height<span class="dp">·</span>*<span class="dp">·</span>this.pixelRatio;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._canvas.style.height<span class="dp">·</span>=<span class="dp">·</span>height<span class="dp">·</span>+<span class="dp">·</span>&#x27;px&#x27;;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>pixelRatio<span class="dp">·</span>=<span class="dp">·</span>this.pixelRatio,<span class="dp">·</span>_context<span class="dp">·</span>=<span class="dp">·</span>this.getContext()._context;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_context.scale(pixelRatio,<span class="dp">·</span>pixelRatio);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getWidth()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.width;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getHeight()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.height;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>setSize(width,<span class="dp">·</span>height)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.setWidth(width<span class="dp">·</span>||<span class="dp">·</span>0);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.setHeight(height<span class="dp">·</span>||<span class="dp">·</span>0);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>toDataURL(mimeType,<span class="dp">·</span>quality)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>try<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._canvas.toDataURL(mimeType,<span class="dp">·</span>quality);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>catch<span class="dp">·</span>(e)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>try<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._canvas.toDataURL();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>catch<span class="dp">·</span>(err)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.error(&#x27;Unable<span class="dp">·</span>to<span class="dp">·</span>get<span class="dp">·</span>data<span class="dp">·</span>URL.<span class="dp">·</span>&#x27;<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>err.message<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;<span class="dp">·</span>For<span class="dp">·</span>more<span class="dp">·</span>info<span class="dp">·</span>read<span class="dp">·</span>https://konvajs.org/docs/posts/Tainted_Canvas.html.&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>&#x27;&#x27;;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n}\nFactory.addGetterSetter(Canvas,<span class="dp">·</span>&#x27;pixelRatio&#x27;,<span class="dp">·</span>undefined,<span class="dp">·</span>getNumberValidator());\nexport<span class="dp">·</span>class<span class="dp">·</span>SceneCanvas<span class="dp">·</span>extends<span class="dp">·</span>Canvas<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>constructor(config<span class="dp">·</span>=<span class="dp">·</span>{<span class="dp">·</span>width:<span class="dp">·</span>0,<span class="dp">·</span>height:<span class="dp">·</span>0<span class="dp">·</span>})<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>super(config);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.context<span class="dp">·</span>=<span class="dp">·</span>new<span class="dp">·</span>SceneContext(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.setSize(config.width,<span class="dp">·</span>config.height);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n}\nexport<span class="dp">·</span>class<span class="dp">·</span>HitCanvas<span class="dp">·</span>extends<span class="dp">·</span>Canvas<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>constructor(config<span class="dp">·</span>=<span class="dp">·</span>{<span class="dp">·</span>width:<span class="dp">·</span>0,<span class="dp">·</span>height:<span class="dp">·</span>0<span class="dp">·</span>})<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>super(config);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.hitCanvas<span class="dp">·</span>=<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.context<span class="dp">·</span>=<span class="dp">·</span>new<span class="dp">·</span>HitContext(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.setSize(config.width,<span class="dp">·</span>config.height);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n}\n&quot;,</td></tr>
<tr class="diffchanged"><td class="diffline">2972 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;import<span class="dp">·</span>{<span class="dp">·</span>Factory<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Factory.js&#x27;;\nimport<span class="dp">·</span>{<span class="dp">·</span>Node<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Node.js&#x27;;\nimport<span class="dp">·</span>{<span class="dp">·</span>getNumberValidator<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Validators.js&#x27;;\nexport<span class="dp">·</span>class<span class="dp">·</span>Container<span class="dp">·</span>extends<span class="dp">·</span>Node<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>constructor()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>super(...arguments);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.children<span class="dp">·</span>=<span class="dp">·</span>[];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getChildren(filterFunc)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!filterFunc)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.children<span class="dp">·</span>||<span class="dp">·</span>[];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>children<span class="dp">·</span>=<span class="dp">·</span>this.children<span class="dp">·</span>||<span class="dp">·</span>[];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>results<span class="dp">·</span>=<span class="dp">·</span>[];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>children.forEach(function<span class="dp">·</span>(child)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(filterFunc(child))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>results.push(child);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>results;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hasChildren()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.getChildren().length<span class="dp">·</span>&gt;<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>removeChildren()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.getChildren().forEach((child)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>child.parent<span class="dp">·</span>=<span class="dp">·</span>null;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>child.index<span class="dp">·</span>=<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>child.remove();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.children<span class="dp">·</span>=<span class="dp">·</span>[];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._requestDraw();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>destroyChildren()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.getChildren().forEach((child)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>child.parent<span class="dp">·</span>=<span class="dp">·</span>null;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>child.index<span class="dp">·</span>=<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>child.destroy();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.children<span class="dp">·</span>=<span class="dp">·</span>[];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._requestDraw();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>add(...children)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(<del>a</del>rg<del>um</del>ents.length<span class="dp">·</span>&gt;<span class="dp">·</span>1)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(var<span class="dp">·</span>i<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>i<span class="dp">·</span>&lt;<span class="dp">·</span><del>argum</del>en<del>ts</del>.length;<span class="dp">·</span>i++)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.add(<del>argum</del>en<del>ts</del>[i]);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>v</del>a<del>r</del><span class="dp">·</span>child<span class="dp">·</span>=<span class="dp">·</span>children[0];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(child.getParent())<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>child.moveTo(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._validateAdd(child);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>child.index<span class="dp">·</span>=<span class="dp">·</span>this.getChildren().length;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>child.parent<span class="dp">·</span>=<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>child._clearCaches();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.getChildren().push(child);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._fire(&#x27;add&#x27;,<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>child:<span class="dp">·</span>child,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._requestDraw();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>destroy()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(this.hasChildren())<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.destroyChildren();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>super.destroy();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>find(selector)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._generalFind(selector,<span class="dp">·</span>false);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>findOne(selector)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>result<span class="dp">·</span>=<span class="dp">·</span>this._generalFind(selector,<span class="dp">·</span>true);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>result.length<span class="dp">·</span>&gt;<span class="dp">·</span>0<span class="dp">·</span>?<span class="dp">·</span>result[0]<span class="dp">·</span>:<span class="dp">·</span>undefined;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_generalFind(selector,<span class="dp">·</span>findOne)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>retArr<span class="dp">·</span>=<span class="dp">·</span>[];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._descendants((node)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>valid<span class="dp">·</span>=<span class="dp">·</span>node._isMatch(selector);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(valid)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>retArr.push(node);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(valid<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>findOne)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>retArr;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_descendants(fn)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>let<span class="dp">·</span>shouldStop<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>children<span class="dp">·</span>=<span class="dp">·</span>this.getChildren();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(const<span class="dp">·</span>child<span class="dp">·</span>of<span class="dp">·</span>children)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>shouldStop<span class="dp">·</span>=<span class="dp">·</span>fn(child);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(shouldStop)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!child.hasChildren())<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>continue;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>shouldStop<span class="dp">·</span>=<span class="dp">·</span>child._descendants(fn);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(shouldStop)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>toObject()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>obj<span class="dp">·</span>=<span class="dp">·</span>Node.prototype.toObject.call(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>obj.children<span class="dp">·</span>=<span class="dp">·</span>[];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.getChildren().forEach((child)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>obj.children.push(child.toObject());\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>obj;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>isAncestorOf(node)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>parent<span class="dp">·</span>=<span class="dp">·</span>node.getParent();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>while<span class="dp">·</span>(parent)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(parent._id<span class="dp">·</span>===<span class="dp">·</span>this._id)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>parent<span class="dp">·</span>=<span class="dp">·</span>parent.getParent();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>clone(obj)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>node<span class="dp">·</span>=<span class="dp">·</span>Node.prototype.clone.call(this,<span class="dp">·</span>obj);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.getChildren().forEach(function<span class="dp">·</span>(no)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>node.add(no.clone());\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>node;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getAllIntersections(pos)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>arr<span class="dp">·</span>=<span class="dp">·</span>[];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.find(&#x27;Shape&#x27;).forEach(function<span class="dp">·</span>(shape)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(shape.isVisible()<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>shape.intersects(pos))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>arr.push(shape);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>arr;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_clearSelfAndDescendantCache(attr)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>_a;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>super._clearSelfAndDescendantCache(attr);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(this.isCached())<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(_a<span class="dp">·</span>=<span class="dp">·</span>this.children)<span class="dp">·</span>===<span class="dp">·</span>null<span class="dp">·</span>||<span class="dp">·</span>_a<span class="dp">·</span>===<span class="dp">·</span>void<span class="dp">·</span>0<span class="dp">·</span>?<span class="dp">·</span>void<span class="dp">·</span>0<span class="dp">·</span>:<span class="dp">·</span>_a.forEach(function<span class="dp">·</span>(node)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>node._clearSelfAndDescendantCache(attr);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_setChildrenIndices()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>_a;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(_a<span class="dp">·</span>=<span class="dp">·</span>this.children)<span class="dp">·</span>===<span class="dp">·</span>null<span class="dp">·</span>||<span class="dp">·</span>_a<span class="dp">·</span>===<span class="dp">·</span>void<span class="dp">·</span>0<span class="dp">·</span>?<span class="dp">·</span>void<span class="dp">·</span>0<span class="dp">·</span>:<span class="dp">·</span>_a.forEach(function<span class="dp">·</span>(child,<span class="dp">·</span>n)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>child.index<span class="dp">·</span>=<span class="dp">·</span>n;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._requestDraw();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>drawScene(can,<span class="dp">·</span>top)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>layer<span class="dp">·</span>=<span class="dp">·</span>this.getLayer(),<span class="dp">·</span>canvas<span class="dp">·</span>=<span class="dp">·</span>can<span class="dp">·</span>||<span class="dp">·</span>(layer<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>layer.getCanvas()),<span class="dp">·</span>context<span class="dp">·</span>=<span class="dp">·</span>canvas<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>canvas.getContext(),<span class="dp">·</span>cachedCanvas<span class="dp">·</span>=<span class="dp">·</span>this._getCanvasCache(),<span class="dp">·</span>cachedSceneCanvas<span class="dp">·</span>=<span class="dp">·</span>cachedCanvas<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>cachedCanvas.scene;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>caching<span class="dp">·</span>=<span class="dp">·</span>canvas<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>canvas.isCache;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!this.isVisible()<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>!caching)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(cachedSceneCanvas)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.save();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>m<span class="dp">·</span>=<span class="dp">·</span>this.getAbsoluteTransform(top).getMatrix();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.transform(m[0],<span class="dp">·</span>m[1],<span class="dp">·</span>m[2],<span class="dp">·</span>m[3],<span class="dp">·</span>m[4],<span class="dp">·</span>m[5]);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._drawCachedSceneCanvas(context);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.restore();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._drawChildren(&#x27;drawScene&#x27;,<span class="dp">·</span>canvas,<span class="dp">·</span>top);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>drawHit(can,<span class="dp">·</span>top)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!this.shouldDrawHit(top))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>layer<span class="dp">·</span>=<span class="dp">·</span>this.getLayer(),<span class="dp">·</span>canvas<span class="dp">·</span>=<span class="dp">·</span>can<span class="dp">·</span>||<span class="dp">·</span>(layer<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>layer.hitCanvas),<span class="dp">·</span>context<span class="dp">·</span>=<span class="dp">·</span>canvas<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>canvas.getContext(),<span class="dp">·</span>cachedCanvas<span class="dp">·</span>=<span class="dp">·</span>this._getCanvasCache(),<span class="dp">·</span>cachedHitCanvas<span class="dp">·</span>=<span class="dp">·</span>cachedCanvas<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>cachedCanvas.hit;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(cachedHitCanvas)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.save();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>m<span class="dp">·</span>=<span class="dp">·</span>this.getAbsoluteTransform(top).getMatrix();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.transform(m[0],<span class="dp">·</span>m[1],<span class="dp">·</span>m[2],<span class="dp">·</span>m[3],<span class="dp">·</span>m[4],<span class="dp">·</span>m[5]);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._drawCachedHitCanvas(context);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.restore();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._drawChildren(&#x27;drawHit&#x27;,<span class="dp">·</span>canvas,<span class="dp">·</span>top);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_drawChildren(drawMethod,<span class="dp">·</span>canvas,<span class="dp">·</span>top)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>_a;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>context<span class="dp">·</span>=<span class="dp">·</span>canvas<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>canvas.getContext(),<span class="dp">·</span>clipWidth<span class="dp">·</span>=<span class="dp">·</span>this.clipWidth(),<span class="dp">·</span>clipHeight<span class="dp">·</span>=<span class="dp">·</span>this.clipHeight(),<span class="dp">·</span>clipFunc<span class="dp">·</span>=<span class="dp">·</span>this.clipFunc(),<span class="dp">·</span>hasClip<span class="dp">·</span>=<span class="dp">·</span>(clipWidth<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>clipHeight)<span class="dp">·</span>||<span class="dp">·</span>clipFunc;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>selfCache<span class="dp">·</span>=<span class="dp">·</span>top<span class="dp">·</span>===<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(hasClip)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.save();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>transform<span class="dp">·</span>=<span class="dp">·</span>this.getAbsoluteTransform(top);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>m<span class="dp">·</span>=<span class="dp">·</span>transform.getMatrix();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.transform(m[0],<span class="dp">·</span>m[1],<span class="dp">·</span>m[2],<span class="dp">·</span>m[3],<span class="dp">·</span>m[4],<span class="dp">·</span>m[5]);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.beginPath();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(clipFunc)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>clipFunc.call(this,<span class="dp">·</span>context,<span class="dp">·</span>this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>clipX<span class="dp">·</span>=<span class="dp">·</span>this.clipX();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>clipY<span class="dp">·</span>=<span class="dp">·</span>this.clipY();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.rect(clipX,<span class="dp">·</span>clipY,<span class="dp">·</span>clipWidth,<span class="dp">·</span>clipHeight);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.clip();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>m<span class="dp">·</span>=<span class="dp">·</span>transform.copy().invert().getMatrix();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.transform(m[0],<span class="dp">·</span>m[1],<span class="dp">·</span>m[2],<span class="dp">·</span>m[3],<span class="dp">·</span>m[4],<span class="dp">·</span>m[5]);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>hasComposition<span class="dp">·</span>=<span class="dp">·</span>!selfCache<span class="dp">·</span>&amp;&amp;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.globalCompositeOperation()<span class="dp">·</span>!==<span class="dp">·</span>&#x27;source-over&#x27;<span class="dp">·</span>&amp;&amp;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>drawMethod<span class="dp">·</span>===<span class="dp">·</span>&#x27;drawScene&#x27;;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(hasComposition)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.save();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context._applyGlobalCompositeOperation(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(_a<span class="dp">·</span>=<span class="dp">·</span>this.children)<span class="dp">·</span>===<span class="dp">·</span>null<span class="dp">·</span>||<span class="dp">·</span>_a<span class="dp">·</span>===<span class="dp">·</span>void<span class="dp">·</span>0<span class="dp">·</span>?<span class="dp">·</span>void<span class="dp">·</span>0<span class="dp">·</span>:<span class="dp">·</span>_a.forEach(function<span class="dp">·</span>(child)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>child[drawMethod](canvas,<span class="dp">·</span>top);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(hasComposition)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.restore();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(hasClip)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.restore();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getClientRect(config)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>_a;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>config<span class="dp">·</span>=<span class="dp">·</span>config<span class="dp">·</span>||<span class="dp">·</span>{};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>skipTransform<span class="dp">·</span>=<span class="dp">·</span>config.skipTransform;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>relativeTo<span class="dp">·</span>=<span class="dp">·</span>config.relativeTo;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>minX,<span class="dp">·</span>minY,<span class="dp">·</span>maxX,<span class="dp">·</span>maxY;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>selfRect<span class="dp">·</span>=<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>x:<span class="dp">·</span>Infinity,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y:<span class="dp">·</span>Infinity,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>width:<span class="dp">·</span>0,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>height:<span class="dp">·</span>0,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>that<span class="dp">·</span>=<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(_a<span class="dp">·</span>=<span class="dp">·</span>this.children)<span class="dp">·</span>===<span class="dp">·</span>null<span class="dp">·</span>||<span class="dp">·</span>_a<span class="dp">·</span>===<span class="dp">·</span>void<span class="dp">·</span>0<span class="dp">·</span>?<span class="dp">·</span>void<span class="dp">·</span>0<span class="dp">·</span>:<span class="dp">·</span>_a.forEach(function<span class="dp">·</span>(child)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!child.visible())<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>rect<span class="dp">·</span>=<span class="dp">·</span>child.getClientRect({\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>relativeTo:<span class="dp">·</span>that,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>skipShadow:<span class="dp">·</span>config.skipShadow,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>skipStroke:<span class="dp">·</span>config.skipStroke,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(rect.width<span class="dp">·</span>===<span class="dp">·</span>0<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>rect.height<span class="dp">·</span>===<span class="dp">·</span>0)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(minX<span class="dp">·</span>===<span class="dp">·</span>undefined)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>minX<span class="dp">·</span>=<span class="dp">·</span>rect.x;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>minY<span class="dp">·</span>=<span class="dp">·</span>rect.y;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>maxX<span class="dp">·</span>=<span class="dp">·</span>rect.x<span class="dp">·</span>+<span class="dp">·</span>rect.width;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>maxY<span class="dp">·</span>=<span class="dp">·</span>rect.y<span class="dp">·</span>+<span class="dp">·</span>rect.height;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>minX<span class="dp">·</span>=<span class="dp">·</span>Math.min(minX,<span class="dp">·</span>rect.x);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>minY<span class="dp">·</span>=<span class="dp">·</span>Math.min(minY,<span class="dp">·</span>rect.y);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>maxX<span class="dp">·</span>=<span class="dp">·</span>Math.max(maxX,<span class="dp">·</span>rect.x<span class="dp">·</span>+<span class="dp">·</span>rect.width);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>maxY<span class="dp">·</span>=<span class="dp">·</span>Math.max(maxY,<span class="dp">·</span>rect.y<span class="dp">·</span>+<span class="dp">·</span>rect.height);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>shapes<span class="dp">·</span>=<span class="dp">·</span>this.find(&#x27;Shape&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>hasVisible<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(var<span class="dp">·</span>i<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>i<span class="dp">·</span>&lt;<span class="dp">·</span>shapes.length;<span class="dp">·</span>i++)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>shape<span class="dp">·</span>=<span class="dp">·</span>shapes[i];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(shape._isVisible(this))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hasVisible<span class="dp">·</span>=<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>break;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(hasVisible<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>minX<span class="dp">·</span>!==<span class="dp">·</span>undefined)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>selfRect<span class="dp">·</span>=<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>x:<span class="dp">·</span>minX,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y:<span class="dp">·</span>minY,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>width:<span class="dp">·</span>maxX<span class="dp">·</span>-<span class="dp">·</span>minX,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>height:<span class="dp">·</span>maxY<span class="dp">·</span>-<span class="dp">·</span>minY,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>selfRect<span class="dp">·</span>=<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>x:<span class="dp">·</span>0,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y:<span class="dp">·</span>0,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>width:<span class="dp">·</span>0,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>height:<span class="dp">·</span>0,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!skipTransform)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._transformedRect(selfRect,<span class="dp">·</span>relativeTo);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>selfRect;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n}\nFactory.addComponentsGetterSetter(Container,<span class="dp">·</span>&#x27;clip&#x27;,<span class="dp">·</span>[\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;x&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;y&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;width&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;height&#x27;,\n]);\nFactory.addGetterSetter(Container,<span class="dp">·</span>&#x27;clipX&#x27;,<span class="dp">·</span>undefined,<span class="dp">·</span>getNumberValidator());\nFactory.addGetterSetter(Container,<span class="dp">·</span>&#x27;clipY&#x27;,<span class="dp">·</span>undefined,<span class="dp">·</span>getNumberValidator());\nFactory.addGetterSetter(Container,<span class="dp">·</span>&#x27;clipWidth&#x27;,<span class="dp">·</span>undefined,<span class="dp">·</span>getNumberValidator());\nFactory.addGetterSetter(Container,<span class="dp">·</span>&#x27;clipHeight&#x27;,<span class="dp">·</span>undefined,<span class="dp">·</span>getNumberValidator());\nFactory.addGetterSetter(Container,<span class="dp">·</span>&#x27;clipFunc&#x27;);\n&quot;,</td><td class="diffline">2973 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;import<span class="dp">·</span>{<span class="dp">·</span>Factory<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Factory.js&#x27;;\nimport<span class="dp">·</span>{<span class="dp">·</span>Node<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Node.js&#x27;;\nimport<span class="dp">·</span>{<span class="dp">·</span>getNumberValidator<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Validators.js&#x27;;\nexport<span class="dp">·</span>class<span class="dp">·</span>Container<span class="dp">·</span>extends<span class="dp">·</span>Node<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>constructor()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>super(...arguments);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.children<span class="dp">·</span>=<span class="dp">·</span>[];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getChildren(filterFunc)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!filterFunc)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.children<span class="dp">·</span>||<span class="dp">·</span>[];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>children<span class="dp">·</span>=<span class="dp">·</span>this.children<span class="dp">·</span>||<span class="dp">·</span>[];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>results<span class="dp">·</span>=<span class="dp">·</span>[];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>children.forEach(function<span class="dp">·</span>(child)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(filterFunc(child))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>results.push(child);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>results;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hasChildren()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.getChildren().length<span class="dp">·</span>&gt;<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>removeChildren()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.getChildren().forEach((child)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>child.parent<span class="dp">·</span>=<span class="dp">·</span>null;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>child.index<span class="dp">·</span>=<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>child.remove();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.children<span class="dp">·</span>=<span class="dp">·</span>[];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._requestDraw();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>destroyChildren()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.getChildren().forEach((child)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>child.parent<span class="dp">·</span>=<span class="dp">·</span>null;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>child.index<span class="dp">·</span>=<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>child.destroy();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.children<span class="dp">·</span>=<span class="dp">·</span>[];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._requestDraw();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>add(...children)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(<ins>chil</ins><ins>d</ins>r<ins>en.len</ins>g<ins>th<span class="dp">·</span>===<span class="dp">·</span>0)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></ins><ins><span class="dp">·</span>r</ins>e<ins>tur</ins>n<ins><span class="dp">·</span></ins>t<ins>hi</ins>s<ins>;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(children</ins>.length<span class="dp">·</span>&gt;<span class="dp">·</span>1)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(var<span class="dp">·</span>i<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>i<span class="dp">·</span>&lt;<span class="dp">·</span><ins>c</ins><ins>hildr</ins>en.length;<span class="dp">·</span>i++)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.add(<ins>c</ins><ins>hildr</ins>en[i]);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<ins><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>[</ins><span class="dp">·</span><ins>...</ins><span class="dp">·</span><ins>truncated</ins><span class="dp">·</span><ins>by</ins><span class="dp">·</span><ins>diffoscope;</ins><span class="dp">·</span><ins>len:</ins><span class="dp">·</span><ins>5,</ins><span class="dp">·</span><ins>SHA:</ins><span class="dp">·</span><ins>f75c6596507878933aa2bc17dfd9a8689ad0da4f85427ba457666ae5917</ins><ins>f</ins>a<ins>631<span class="dp">·</span>...<span class="dp">·</span></ins><ins>]</ins><span class="dp">·</span>child<span class="dp">·</span>=<span class="dp">·</span>children[0];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(child.getParent())<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>child.moveTo(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._validateAdd(child);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>child.index<span class="dp">·</span>=<span class="dp">·</span>this.getChildren().length;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>child.parent<span class="dp">·</span>=<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>child._clearCaches();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.getChildren().push(child);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._fire(&#x27;add&#x27;,<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>child:<span class="dp">·</span>child,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._requestDraw();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>destroy()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(this.hasChildren())<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.destroyChildren();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>super.destroy();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>find(selector)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._generalFind(selector,<span class="dp">·</span>false);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>findOne(selector)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>result<span class="dp">·</span>=<span class="dp">·</span>this._generalFind(selector,<span class="dp">·</span>true);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>result.length<span class="dp">·</span>&gt;<span class="dp">·</span>0<span class="dp">·</span>?<span class="dp">·</span>result[0]<span class="dp">·</span>:<span class="dp">·</span>undefined;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_generalFind(selector,<span class="dp">·</span>findOne)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>retArr<span class="dp">·</span>=<span class="dp">·</span>[];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._descendants((node)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>valid<span class="dp">·</span>=<span class="dp">·</span>node._isMatch(selector);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(valid)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>retArr.push(node);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(valid<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>findOne)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>retArr;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_descendants(fn)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>let<span class="dp">·</span>shouldStop<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>children<span class="dp">·</span>=<span class="dp">·</span>this.getChildren();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(const<span class="dp">·</span>child<span class="dp">·</span>of<span class="dp">·</span>children)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>shouldStop<span class="dp">·</span>=<span class="dp">·</span>fn(child);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(shouldStop)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!child.hasChildren())<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>continue;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>shouldStop<span class="dp">·</span>=<span class="dp">·</span>child._descendants(fn);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(shouldStop)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>toObject()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>obj<span class="dp">·</span>=<span class="dp">·</span>Node.prototype.toObject.call(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>obj.children<span class="dp">·</span>=<span class="dp">·</span>[];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.getChildren().forEach((child)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>obj.children.push(child.toObject());\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>obj;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>isAncestorOf(node)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>parent<span class="dp">·</span>=<span class="dp">·</span>node.getParent();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>while<span class="dp">·</span>(parent)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(parent._id<span class="dp">·</span>===<span class="dp">·</span>this._id)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>parent<span class="dp">·</span>=<span class="dp">·</span>parent.getParent();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>clone(obj)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>node<span class="dp">·</span>=<span class="dp">·</span>Node.prototype.clone.call(this,<span class="dp">·</span>obj);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.getChildren().forEach(function<span class="dp">·</span>(no)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>node.add(no.clone());\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>node;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getAllIntersections(pos)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>arr<span class="dp">·</span>=<span class="dp">·</span>[];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.find(&#x27;Shape&#x27;).forEach(function<span class="dp">·</span>(shape)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(shape.isVisible()<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>shape.intersects(pos))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>arr.push(shape);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>arr;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_clearSelfAndDescendantCache(attr)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>_a;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>super._clearSelfAndDescendantCache(attr);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(this.isCached())<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(_a<span class="dp">·</span>=<span class="dp">·</span>this.children)<span class="dp">·</span>===<span class="dp">·</span>null<span class="dp">·</span>||<span class="dp">·</span>_a<span class="dp">·</span>===<span class="dp">·</span>void<span class="dp">·</span>0<span class="dp">·</span>?<span class="dp">·</span>void<span class="dp">·</span>0<span class="dp">·</span>:<span class="dp">·</span>_a.forEach(function<span class="dp">·</span>(node)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>node._clearSelfAndDescendantCache(attr);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_setChildrenIndices()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>_a;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(_a<span class="dp">·</span>=<span class="dp">·</span>this.children)<span class="dp">·</span>===<span class="dp">·</span>null<span class="dp">·</span>||<span class="dp">·</span>_a<span class="dp">·</span>===<span class="dp">·</span>void<span class="dp">·</span>0<span class="dp">·</span>?<span class="dp">·</span>void<span class="dp">·</span>0<span class="dp">·</span>:<span class="dp">·</span>_a.forEach(function<span class="dp">·</span>(child,<span class="dp">·</span>n)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>child.index<span class="dp">·</span>=<span class="dp">·</span>n;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._requestDraw();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>drawScene(can,<span class="dp">·</span>top)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>layer<span class="dp">·</span>=<span class="dp">·</span>this.getLayer(),<span class="dp">·</span>canvas<span class="dp">·</span>=<span class="dp">·</span>can<span class="dp">·</span>||<span class="dp">·</span>(layer<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>layer.getCanvas()),<span class="dp">·</span>context<span class="dp">·</span>=<span class="dp">·</span>canvas<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>canvas.getContext(),<span class="dp">·</span>cachedCanvas<span class="dp">·</span>=<span class="dp">·</span>this._getCanvasCache(),<span class="dp">·</span>cachedSceneCanvas<span class="dp">·</span>=<span class="dp">·</span>cachedCanvas<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>cachedCanvas.scene;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>caching<span class="dp">·</span>=<span class="dp">·</span>canvas<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>canvas.isCache;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!this.isVisible()<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>!caching)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(cachedSceneCanvas)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.save();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>m<span class="dp">·</span>=<span class="dp">·</span>this.getAbsoluteTransform(top).getMatrix();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.transform(m[0],<span class="dp">·</span>m[1],<span class="dp">·</span>m[2],<span class="dp">·</span>m[3],<span class="dp">·</span>m[4],<span class="dp">·</span>m[5]);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._drawCachedSceneCanvas(context);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.restore();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._drawChildren(&#x27;drawScene&#x27;,<span class="dp">·</span>canvas,<span class="dp">·</span>top);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>drawHit(can,<span class="dp">·</span>top)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!this.shouldDrawHit(top))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>layer<span class="dp">·</span>=<span class="dp">·</span>this.getLayer(),<span class="dp">·</span>canvas<span class="dp">·</span>=<span class="dp">·</span>can<span class="dp">·</span>||<span class="dp">·</span>(layer<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>layer.hitCanvas),<span class="dp">·</span>context<span class="dp">·</span>=<span class="dp">·</span>canvas<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>canvas.getContext(),<span class="dp">·</span>cachedCanvas<span class="dp">·</span>=<span class="dp">·</span>this._getCanvasCache(),<span class="dp">·</span>cachedHitCanvas<span class="dp">·</span>=<span class="dp">·</span>cachedCanvas<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>cachedCanvas.hit;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(cachedHitCanvas)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.save();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>m<span class="dp">·</span>=<span class="dp">·</span>this.getAbsoluteTransform(top).getMatrix();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.transform(m[0],<span class="dp">·</span>m[1],<span class="dp">·</span>m[2],<span class="dp">·</span>m[3],<span class="dp">·</span>m[4],<span class="dp">·</span>m[5]);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._drawCachedHitCanvas(context);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.restore();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._drawChildren(&#x27;drawHit&#x27;,<span class="dp">·</span>canvas,<span class="dp">·</span>top);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_drawChildren(drawMethod,<span class="dp">·</span>canvas,<span class="dp">·</span>top)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>_a;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>context<span class="dp">·</span>=<span class="dp">·</span>canvas<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>canvas.getContext(),<span class="dp">·</span>clipWidth<span class="dp">·</span>=<span class="dp">·</span>this.clipWidth(),<span class="dp">·</span>clipHeight<span class="dp">·</span>=<span class="dp">·</span>this.clipHeight(),<span class="dp">·</span>clipFunc<span class="dp">·</span>=<span class="dp">·</span>this.clipFunc(),<span class="dp">·</span>hasClip<span class="dp">·</span>=<span class="dp">·</span>(clipWidth<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>clipHeight)<span class="dp">·</span>||<span class="dp">·</span>clipFunc;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>selfCache<span class="dp">·</span>=<span class="dp">·</span>top<span class="dp">·</span>===<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(hasClip)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.save();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>transform<span class="dp">·</span>=<span class="dp">·</span>this.getAbsoluteTransform(top);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>m<span class="dp">·</span>=<span class="dp">·</span>transform.getMatrix();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.transform(m[0],<span class="dp">·</span>m[1],<span class="dp">·</span>m[2],<span class="dp">·</span>m[3],<span class="dp">·</span>m[4],<span class="dp">·</span>m[5]);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.beginPath();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(clipFunc)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>clipFunc.call(this,<span class="dp">·</span>context,<span class="dp">·</span>this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>clipX<span class="dp">·</span>=<span class="dp">·</span>this.clipX();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>clipY<span class="dp">·</span>=<span class="dp">·</span>this.clipY();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.rect(clipX,<span class="dp">·</span>clipY,<span class="dp">·</span>clipWidth,<span class="dp">·</span>clipHeight);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.clip();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>m<span class="dp">·</span>=<span class="dp">·</span>transform.copy().invert().getMatrix();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.transform(m[0],<span class="dp">·</span>m[1],<span class="dp">·</span>m[2],<span class="dp">·</span>m[3],<span class="dp">·</span>m[4],<span class="dp">·</span>m[5]);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>hasComposition<span class="dp">·</span>=<span class="dp">·</span>!selfCache<span class="dp">·</span>&amp;&amp;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.globalCompositeOperation()<span class="dp">·</span>!==<span class="dp">·</span>&#x27;source-over&#x27;<span class="dp">·</span>&amp;&amp;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>drawMethod<span class="dp">·</span>===<span class="dp">·</span>&#x27;drawScene&#x27;;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(hasComposition)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.save();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context._applyGlobalCompositeOperation(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(_a<span class="dp">·</span>=<span class="dp">·</span>this.children)<span class="dp">·</span>===<span class="dp">·</span>null<span class="dp">·</span>||<span class="dp">·</span>_a<span class="dp">·</span>===<span class="dp">·</span>void<span class="dp">·</span>0<span class="dp">·</span>?<span class="dp">·</span>void<span class="dp">·</span>0<span class="dp">·</span>:<span class="dp">·</span>_a.forEach(function<span class="dp">·</span>(child)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>child[drawMethod](canvas,<span class="dp">·</span>top);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(hasComposition)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.restore();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(hasClip)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.restore();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getClientRect(config)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>_a;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>config<span class="dp">·</span>=<span class="dp">·</span>config<span class="dp">·</span>||<span class="dp">·</span>{};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>skipTransform<span class="dp">·</span>=<span class="dp">·</span>config.skipTransform;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>relativeTo<span class="dp">·</span>=<span class="dp">·</span>config.relativeTo;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>minX,<span class="dp">·</span>minY,<span class="dp">·</span>maxX,<span class="dp">·</span>maxY;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>selfRect<span class="dp">·</span>=<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>x:<span class="dp">·</span>Infinity,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y:<span class="dp">·</span>Infinity,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>width:<span class="dp">·</span>0,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>height:<span class="dp">·</span>0,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>that<span class="dp">·</span>=<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(_a<span class="dp">·</span>=<span class="dp">·</span>this.children)<span class="dp">·</span>===<span class="dp">·</span>null<span class="dp">·</span>||<span class="dp">·</span>_a<span class="dp">·</span>===<span class="dp">·</span>void<span class="dp">·</span>0<span class="dp">·</span>?<span class="dp">·</span>void<span class="dp">·</span>0<span class="dp">·</span>:<span class="dp">·</span>_a.forEach(function<span class="dp">·</span>(child)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!child.visible())<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>rect<span class="dp">·</span>=<span class="dp">·</span>child.getClientRect({\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>relativeTo:<span class="dp">·</span>that,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>skipShadow:<span class="dp">·</span>config.skipShadow,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>skipStroke:<span class="dp">·</span>config.skipStroke,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(rect.width<span class="dp">·</span>===<span class="dp">·</span>0<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>rect.height<span class="dp">·</span>===<span class="dp">·</span>0)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(minX<span class="dp">·</span>===<span class="dp">·</span>undefined)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>minX<span class="dp">·</span>=<span class="dp">·</span>rect.x;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>minY<span class="dp">·</span>=<span class="dp">·</span>rect.y;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>maxX<span class="dp">·</span>=<span class="dp">·</span>rect.x<span class="dp">·</span>+<span class="dp">·</span>rect.width;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>maxY<span class="dp">·</span>=<span class="dp">·</span>rect.y<span class="dp">·</span>+<span class="dp">·</span>rect.height;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>minX<span class="dp">·</span>=<span class="dp">·</span>Math.min(minX,<span class="dp">·</span>rect.x);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>minY<span class="dp">·</span>=<span class="dp">·</span>Math.min(minY,<span class="dp">·</span>rect.y);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>maxX<span class="dp">·</span>=<span class="dp">·</span>Math.max(maxX,<span class="dp">·</span>rect.x<span class="dp">·</span>+<span class="dp">·</span>rect.width);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>maxY<span class="dp">·</span>=<span class="dp">·</span>Math.max(maxY,<span class="dp">·</span>rect.y<span class="dp">·</span>+<span class="dp">·</span>rect.height);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>shapes<span class="dp">·</span>=<span class="dp">·</span>this.find(&#x27;Shape&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>hasVisible<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(var<span class="dp">·</span>i<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>i<span class="dp">·</span>&lt;<span class="dp">·</span>shapes.length;<span class="dp">·</span>i++)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>shape<span class="dp">·</span>=<span class="dp">·</span>shapes[i];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(shape._isVisible(this))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hasVisible<span class="dp">·</span>=<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>break;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(hasVisible<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>minX<span class="dp">·</span>!==<span class="dp">·</span>undefined)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>selfRect<span class="dp">·</span>=<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>x:<span class="dp">·</span>minX,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y:<span class="dp">·</span>minY,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>width:<span class="dp">·</span>maxX<span class="dp">·</span>-<span class="dp">·</span>minX,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>height:<span class="dp">·</span>maxY<span class="dp">·</span>-<span class="dp">·</span>minY,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>selfRect<span class="dp">·</span>=<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>x:<span class="dp">·</span>0,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y:<span class="dp">·</span>0,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>width:<span class="dp">·</span>0,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>height:<span class="dp">·</span>0,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!skipTransform)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._transformedRect(selfRect,<span class="dp">·</span>relativeTo);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>selfRect;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n}\nFactory.addComponentsGetterSetter(Container,<span class="dp">·</span>&#x27;clip&#x27;,<span class="dp">·</span>[\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;x&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;y&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;width&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;height&#x27;,\n]);\nFactory.addGetterSetter(Container,<span class="dp">·</span>&#x27;clipX&#x27;,<span class="dp">·</span>undefined,<span class="dp">·</span>getNumberValidator());\nFactory.addGetterSetter(Container,<span class="dp">·</span>&#x27;clipY&#x27;,<span class="dp">·</span>undefined,<span class="dp">·</span>getNumberValidator());\nFactory.addGetterSetter(Container,<span class="dp">·</span>&#x27;clipWidth&#x27;,<span class="dp">·</span>undefined,<span class="dp">·</span>getNumberValidator());\nFactory.addGetterSetter(Container,<span class="dp">·</span>&#x27;clipHeight&#x27;,<span class="dp">·</span>undefined,<span class="dp">·</span>getNumberValidator());\nFactory.addGetterSetter(Container,<span class="dp">·</span>&#x27;clipFunc&#x27;);\n&quot;,</td></tr>
<tr class="diffchanged"><td class="diffline">2973 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;import<span class="dp">·</span>{<span class="dp">·</span>Util<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Util.js&#x27;;\nimport<span class="dp">·</span>{<span class="dp">·</span>Konva<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Global.js&#x27;;\nfunction<span class="dp">·</span>simplifyArray(arr)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>retArr<span class="dp">·</span>=<span class="dp">·</span>[],<span class="dp">·</span>len<span class="dp">·</span>=<span class="dp">·</span>arr.length,<span class="dp">·</span>util<span class="dp">·</span>=<span class="dp">·</span>Util,<span class="dp">·</span>n,<span class="dp">·</span>val;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(n<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>n<span class="dp">·</span>&lt;<span class="dp">·</span>len;<span class="dp">·</span>n++)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>val<span class="dp">·</span>=<span class="dp">·</span>arr[n];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(util._isNumber(val))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>val<span class="dp">·</span>=<span class="dp">·</span>Math.round(val<span class="dp">·</span>*<span class="dp">·</span>1000)<span class="dp">·</span>/<span class="dp">·</span>1000;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>if<span class="dp">·</span>(!util._isString(val))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>val<span class="dp">·</span>=<span class="dp">·</span>val<span class="dp">·</span>+<span class="dp">·</span>&#x27;&#x27;;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>retArr.push(val);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>retArr;\n}\nvar<span class="dp">·</span>COMMA<span class="dp">·</span>=<span class="dp">·</span>&#x27;,&#x27;,<span class="dp">·</span>OPEN_PAREN<span class="dp">·</span>=<span class="dp">·</span>&#x27;(&#x27;,<span class="dp">·</span>CLOSE_PAREN<span class="dp">·</span>=<span class="dp">·</span>&#x27;)&#x27;,<span class="dp">·</span>OPEN_PAREN_BRACKET<span class="dp">·</span>=<span class="dp">·</span>&#x27;([&#x27;,<span class="dp">·</span>CLOSE_BRACKET_PAREN<span class="dp">·</span>=<span class="dp">·</span>&#x27;])&#x27;,<span class="dp">·</span>SEMICOLON<span class="dp">·</span>=<span class="dp">·</span>&#x27;;&#x27;,<span class="dp">·</span>DOUBLE_PAREN<span class="dp">·</span>=<span class="dp">·</span>&#x27;()&#x27;,<span class="dp">·</span>EQUALS<span class="dp">·</span>=<span class="dp">·</span>&#x27;=&#x27;,<span class="dp">·</span>CONTEXT_METHODS<span class="dp">·</span>=<span class="dp">·</span>[\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;arc&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;arcTo&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;beginPath&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;bezierCurveTo&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;clearRect&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;clip&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;closePath&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;createLinearGradient&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;createPattern&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;createRadialGradient&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;drawImage&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;ellipse&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;fill&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;fillText&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;getImageData&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;createImageData&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;lineTo&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;moveTo&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;putImageData&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;quadraticCurveTo&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;rect&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;restore&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;rotate&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;save&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;scale&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;setLineDash&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;setTransform&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;stroke&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;strokeText&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;transform&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;translate&#x27;,\n];\nvar<span class="dp">·</span>CONTEXT_PROPERTIES<span class="dp">·</span>=<span class="dp">·</span>[\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;fillStyle&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;strokeStyle&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;shadowColor&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;shadowBlur&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;shadowOffsetX&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;shadowOffsetY&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;lineCap&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;lineDashOffset&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;lineJoin&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;lineWidth&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;miterLimit&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;font&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;textAlign&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;textBaseline&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;globalAlpha&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;globalCompositeOperation&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;imageSmoothingEnabled&#x27;,\n];\nconst<span class="dp">·</span>traceArrMax<span class="dp">·</span>=<span class="dp">·</span>100;\nexport<span class="dp">·</span>class<span class="dp">·</span>Context<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>constructor(canvas)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.canvas<span class="dp">·</span>=<span class="dp">·</span>canvas;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(Konva.enableTrace)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.traceArr<span class="dp">·</span>=<span class="dp">·</span>[];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._enableTrace();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>fillShape(shape)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(shape.fillEnabled())<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._fill(shape);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_fill(shape)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>strokeShape(shape)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(shape.hasStroke())<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._stroke(shape);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_stroke(shape)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>fillStrokeShape(shape)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(shape.attrs.fillAfterStrokeEnabled)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.strokeShape(shape);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.fillShape(shape);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.fillShape(shape);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.strokeShape(shape);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getTrace(relaxed,<span class="dp">·</span>rounded)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>traceArr<span class="dp">·</span>=<span class="dp">·</span>this.traceArr,<span class="dp">·</span>len<span class="dp">·</span>=<span class="dp">·</span>traceArr.length,<span class="dp">·</span>str<span class="dp">·</span>=<span class="dp">·</span>&#x27;&#x27;,<span class="dp">·</span>n,<span class="dp">·</span>trace,<span class="dp">·</span>method,<span class="dp">·</span>args;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(n<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>n<span class="dp">·</span>&lt;<span class="dp">·</span>len;<span class="dp">·</span>n++)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>trace<span class="dp">·</span>=<span class="dp">·</span>traceArr[n];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>method<span class="dp">·</span>=<span class="dp">·</span>trace.method;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(method)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>args<span class="dp">·</span>=<span class="dp">·</span>trace.args;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>str<span class="dp">·</span>+=<span class="dp">·</span>method;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(relaxed)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>str<span class="dp">·</span>+=<span class="dp">·</span>DOUBLE_PAREN;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(Util._isArray(args[0]))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>str<span class="dp">·</span>+=<span class="dp">·</span>OPEN_PAREN_BRACKET<span class="dp">·</span>+<span class="dp">·</span>args.join(COMMA)<span class="dp">·</span>+<span class="dp">·</span>CLOSE_BRACKET_PAREN;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(rounded)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>args<span class="dp">·</span>=<span class="dp">·</span>args.map((a)<span class="dp">·</span>=&gt;<span class="dp">·</span>typeof<span class="dp">·</span>a<span class="dp">·</span>===<span class="dp">·</span>&#x27;number&#x27;<span class="dp">·</span>?<span class="dp">·</span>Math.floor(a)<span class="dp">·</span>:<span class="dp">·</span>a);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>str<span class="dp">·</span>+=<span class="dp">·</span>OPEN_PAREN<span class="dp">·</span>+<span class="dp">·</span>args.join(COMMA)<span class="dp">·</span>+<span class="dp">·</span>CLOSE_PAREN;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>str<span class="dp">·</span>+=<span class="dp">·</span>trace.property;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!relaxed)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>str<span class="dp">·</span>+=<span class="dp">·</span>EQUALS<span class="dp">·</span>+<span class="dp">·</span>trace.val;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>str<span class="dp">·</span>+=<span class="dp">·</span>SEMICOLON;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>str;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>clearTrace()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.traceArr<span class="dp">·</span>=<span class="dp">·</span>[];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_trace(str)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>traceArr<span class="dp">·</span>=<span class="dp">·</span>this.traceArr,<span class="dp">·</span>len;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>traceArr.push(str);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>len<span class="dp">·</span>=<span class="dp">·</span>traceArr.length;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(len<span class="dp">·</span>&gt;=<span class="dp">·</span>traceArrMax)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>traceArr.shift();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reset()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>pixelRatio<span class="dp">·</span>=<span class="dp">·</span>this.getCanvas().getPixelRatio();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.setTransform(1<span class="dp">·</span>*<span class="dp">·</span>pixelRatio,<span class="dp">·</span>0,<span class="dp">·</span>0,<span class="dp">·</span>1<span class="dp">·</span>*<span class="dp">·</span>pixelRatio,<span class="dp">·</span>0,<span class="dp">·</span>0);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getCanvas()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.canvas;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>clear(bounds)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>canvas<span class="dp">·</span>=<span class="dp">·</span>this.getCanvas();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(bounds)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.clearRect(bounds.x<span class="dp">·</span>||<span class="dp">·</span>0,<span class="dp">·</span>bounds.y<span class="dp">·</span>||<span class="dp">·</span>0,<span class="dp">·</span>bounds.width<span class="dp">·</span>||<span class="dp">·</span>0,<span class="dp">·</span>bounds.height<span class="dp">·</span>||<span class="dp">·</span>0);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.clearRect(0,<span class="dp">·</span>0,<span class="dp">·</span>canvas.getWidth()<span class="dp">·</span>/<span class="dp">·</span>canvas.pixelRatio,<span class="dp">·</span>canvas.getHeight()<span class="dp">·</span>/<span class="dp">·</span>canvas.pixelRatio);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_applyLineCap(shape)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>var</del><span class="dp">·</span>lineCap<span class="dp">·</span>=<span class="dp">·</span>shape.<del>ge</del>t<del>L</del>ineCap<del>()</del>;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(lineCap)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.setAttr(&#x27;lineCap&#x27;,<span class="dp">·</span>lineCap);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_applyOpacity(shape)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>absOpacity<span class="dp">·</span>=<span class="dp">·</span>shape.getAbsoluteOpacity();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(absOpacity<span class="dp">·</span>!==<span class="dp">·</span>1)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>th<del>is.</del>[<span class="dp">·</span>...<span class="dp">·</span>truncated<span class="dp">·</span>by<span class="dp">·</span>diffoscope;<span class="dp">·</span>len:<span class="dp">·</span>11<del>290</del>,<span class="dp">·</span>SHA:<span class="dp">·</span><del>4</del><del>3</del>f<del>3</del><del>d8</del>e<del>1c2</del>f<del>5</del>79<del>1</del>9<del>e40849316</del>c<del>ae</del>5<del>2e</del>97<del>f8eaa5</del>3<del>6d6dff1254</del>7<del>a9ecb1dd0ccb</del>0<span class="dp">·</span>...<span class="dp">·</span>]<span class="dp">·</span>strokeScaleEnabled<span class="dp">·</span>=<span class="dp">·</span>shape.getStrokeScaleEnabled();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!strokeScaleEnabled)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.save();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>pixelRatio<span class="dp">·</span>=<span class="dp">·</span>this.getCanvas().getPixelRatio();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.setTransform(pixelRatio,<span class="dp">·</span>0,<span class="dp">·</span>0,<span class="dp">·</span>pixelRatio,<span class="dp">·</span>0,<span class="dp">·</span>0);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._applyLineCap(shape);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>hitStrokeWidth<span class="dp">·</span>=<span class="dp">·</span>shape.hitStrokeWidth();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>strokeWidth<span class="dp">·</span>=<span class="dp">·</span>hitStrokeWidth<span class="dp">·</span>===<span class="dp">·</span>&#x27;auto&#x27;<span class="dp">·</span>?<span class="dp">·</span>shape.strokeWidth()<span class="dp">·</span>:<span class="dp">·</span>hitStrokeWidth;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.setAttr(&#x27;lineWidth&#x27;,<span class="dp">·</span>strokeWidth);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.setAttr(&#x27;strokeStyle&#x27;,<span class="dp">·</span>shape.colorKey);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>shape._strokeFuncHit(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!strokeScaleEnabled)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.restore();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n}\n&quot;,</td><td class="diffline">2974 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;import<span class="dp">·</span>{<span class="dp">·</span>Util<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Util.js&#x27;;\nimport<span class="dp">·</span>{<span class="dp">·</span>Konva<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Global.js&#x27;;\nfunction<span class="dp">·</span>simplifyArray(arr)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>retArr<span class="dp">·</span>=<span class="dp">·</span>[],<span class="dp">·</span>len<span class="dp">·</span>=<span class="dp">·</span>arr.length,<span class="dp">·</span>util<span class="dp">·</span>=<span class="dp">·</span>Util,<span class="dp">·</span>n,<span class="dp">·</span>val;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(n<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>n<span class="dp">·</span>&lt;<span class="dp">·</span>len;<span class="dp">·</span>n++)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>val<span class="dp">·</span>=<span class="dp">·</span>arr[n];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(util._isNumber(val))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>val<span class="dp">·</span>=<span class="dp">·</span>Math.round(val<span class="dp">·</span>*<span class="dp">·</span>1000)<span class="dp">·</span>/<span class="dp">·</span>1000;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>if<span class="dp">·</span>(!util._isString(val))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>val<span class="dp">·</span>=<span class="dp">·</span>val<span class="dp">·</span>+<span class="dp">·</span>&#x27;&#x27;;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>retArr.push(val);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>retArr;\n}\nvar<span class="dp">·</span>COMMA<span class="dp">·</span>=<span class="dp">·</span>&#x27;,&#x27;,<span class="dp">·</span>OPEN_PAREN<span class="dp">·</span>=<span class="dp">·</span>&#x27;(&#x27;,<span class="dp">·</span>CLOSE_PAREN<span class="dp">·</span>=<span class="dp">·</span>&#x27;)&#x27;,<span class="dp">·</span>OPEN_PAREN_BRACKET<span class="dp">·</span>=<span class="dp">·</span>&#x27;([&#x27;,<span class="dp">·</span>CLOSE_BRACKET_PAREN<span class="dp">·</span>=<span class="dp">·</span>&#x27;])&#x27;,<span class="dp">·</span>SEMICOLON<span class="dp">·</span>=<span class="dp">·</span>&#x27;;&#x27;,<span class="dp">·</span>DOUBLE_PAREN<span class="dp">·</span>=<span class="dp">·</span>&#x27;()&#x27;,<span class="dp">·</span>EQUALS<span class="dp">·</span>=<span class="dp">·</span>&#x27;=&#x27;,<span class="dp">·</span>CONTEXT_METHODS<span class="dp">·</span>=<span class="dp">·</span>[\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;arc&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;arcTo&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;beginPath&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;bezierCurveTo&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;clearRect&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;clip&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;closePath&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;createLinearGradient&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;createPattern&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;createRadialGradient&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;drawImage&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;ellipse&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;fill&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;fillText&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;getImageData&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;createImageData&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;lineTo&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;moveTo&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;putImageData&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;quadraticCurveTo&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;rect&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;restore&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;rotate&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;save&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;scale&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;setLineDash&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;setTransform&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;stroke&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;strokeText&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;transform&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;translate&#x27;,\n];\nvar<span class="dp">·</span>CONTEXT_PROPERTIES<span class="dp">·</span>=<span class="dp">·</span>[\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;fillStyle&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;strokeStyle&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;shadowColor&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;shadowBlur&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;shadowOffsetX&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;shadowOffsetY&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;lineCap&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;lineDashOffset&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;lineJoin&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;lineWidth&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;miterLimit&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;font&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;textAlign&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;textBaseline&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;globalAlpha&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;globalCompositeOperation&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;imageSmoothingEnabled&#x27;,\n];\nconst<span class="dp">·</span>traceArrMax<span class="dp">·</span>=<span class="dp">·</span>100;\nexport<span class="dp">·</span>class<span class="dp">·</span>Context<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>constructor(canvas)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.canvas<span class="dp">·</span>=<span class="dp">·</span>canvas;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(Konva.enableTrace)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.traceArr<span class="dp">·</span>=<span class="dp">·</span>[];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._enableTrace();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>fillShape(shape)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(shape.fillEnabled())<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._fill(shape);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_fill(shape)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>strokeShape(shape)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(shape.hasStroke())<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._stroke(shape);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_stroke(shape)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>fillStrokeShape(shape)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(shape.attrs.fillAfterStrokeEnabled)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.strokeShape(shape);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.fillShape(shape);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.fillShape(shape);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.strokeShape(shape);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getTrace(relaxed,<span class="dp">·</span>rounded)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>traceArr<span class="dp">·</span>=<span class="dp">·</span>this.traceArr,<span class="dp">·</span>len<span class="dp">·</span>=<span class="dp">·</span>traceArr.length,<span class="dp">·</span>str<span class="dp">·</span>=<span class="dp">·</span>&#x27;&#x27;,<span class="dp">·</span>n,<span class="dp">·</span>trace,<span class="dp">·</span>method,<span class="dp">·</span>args;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(n<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>n<span class="dp">·</span>&lt;<span class="dp">·</span>len;<span class="dp">·</span>n++)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>trace<span class="dp">·</span>=<span class="dp">·</span>traceArr[n];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>method<span class="dp">·</span>=<span class="dp">·</span>trace.method;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(method)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>args<span class="dp">·</span>=<span class="dp">·</span>trace.args;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>str<span class="dp">·</span>+=<span class="dp">·</span>method;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(relaxed)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>str<span class="dp">·</span>+=<span class="dp">·</span>DOUBLE_PAREN;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(Util._isArray(args[0]))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>str<span class="dp">·</span>+=<span class="dp">·</span>OPEN_PAREN_BRACKET<span class="dp">·</span>+<span class="dp">·</span>args.join(COMMA)<span class="dp">·</span>+<span class="dp">·</span>CLOSE_BRACKET_PAREN;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(rounded)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>args<span class="dp">·</span>=<span class="dp">·</span>args.map((a)<span class="dp">·</span>=&gt;<span class="dp">·</span>typeof<span class="dp">·</span>a<span class="dp">·</span>===<span class="dp">·</span>&#x27;number&#x27;<span class="dp">·</span>?<span class="dp">·</span>Math.floor(a)<span class="dp">·</span>:<span class="dp">·</span>a);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>str<span class="dp">·</span>+=<span class="dp">·</span>OPEN_PAREN<span class="dp">·</span>+<span class="dp">·</span>args.join(COMMA)<span class="dp">·</span>+<span class="dp">·</span>CLOSE_PAREN;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>str<span class="dp">·</span>+=<span class="dp">·</span>trace.property;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!relaxed)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>str<span class="dp">·</span>+=<span class="dp">·</span>EQUALS<span class="dp">·</span>+<span class="dp">·</span>trace.val;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>str<span class="dp">·</span>+=<span class="dp">·</span>SEMICOLON;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>str;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>clearTrace()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.traceArr<span class="dp">·</span>=<span class="dp">·</span>[];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_trace(str)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>traceArr<span class="dp">·</span>=<span class="dp">·</span>this.traceArr,<span class="dp">·</span>len;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>traceArr.push(str);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>len<span class="dp">·</span>=<span class="dp">·</span>traceArr.length;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(len<span class="dp">·</span>&gt;=<span class="dp">·</span>traceArrMax)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>traceArr.shift();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reset()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>pixelRatio<span class="dp">·</span>=<span class="dp">·</span>this.getCanvas().getPixelRatio();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.setTransform(1<span class="dp">·</span>*<span class="dp">·</span>pixelRatio,<span class="dp">·</span>0,<span class="dp">·</span>0,<span class="dp">·</span>1<span class="dp">·</span>*<span class="dp">·</span>pixelRatio,<span class="dp">·</span>0,<span class="dp">·</span>0);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getCanvas()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.canvas;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>clear(bounds)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>canvas<span class="dp">·</span>=<span class="dp">·</span>this.getCanvas();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(bounds)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.clearRect(bounds.x<span class="dp">·</span>||<span class="dp">·</span>0,<span class="dp">·</span>bounds.y<span class="dp">·</span>||<span class="dp">·</span>0,<span class="dp">·</span>bounds.width<span class="dp">·</span>||<span class="dp">·</span>0,<span class="dp">·</span>bounds.height<span class="dp">·</span>||<span class="dp">·</span>0);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.clearRect(0,<span class="dp">·</span>0,<span class="dp">·</span>canvas.getWidth()<span class="dp">·</span>/<span class="dp">·</span>canvas.pixelRatio,<span class="dp">·</span>canvas.getHeight()<span class="dp">·</span>/<span class="dp">·</span>canvas.pixelRatio);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_applyLineCap(shape)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>co</ins><ins>nst</ins><span class="dp">·</span>lineCap<span class="dp">·</span>=<span class="dp">·</span>shape.<ins>at</ins>t<ins>rs.</ins><ins>l</ins>ineCap;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(lineCap)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.setAttr(&#x27;lineCap&#x27;,<span class="dp">·</span>lineCap);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_applyOpacity(shape)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>absOpacity<span class="dp">·</span>=<span class="dp">·</span>shape.getAbsoluteOpacity();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(absOpacity<span class="dp">·</span>!==<span class="dp">·</span>1)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>th[<span class="dp">·</span>...<span class="dp">·</span>truncated<span class="dp">·</span>by<span class="dp">·</span>diffoscope;<span class="dp">·</span>len:<span class="dp">·</span>11<ins>306</ins>,<span class="dp">·</span>SHA:<span class="dp">·</span><ins>0</ins>f<ins>02</ins>e<ins>611</ins>f79<ins>2</ins>9<ins>8</ins><ins>aa1f64cd2</ins>c<ins>4c</ins>5<ins>c7</ins>97<ins>ac</ins><ins>b4f020</ins>3<ins>16090e38aa</ins>7<ins>12faff59a59d</ins>0<span class="dp">·</span>...<span class="dp">·</span>]<span class="dp">·</span>strokeScaleEnabled<span class="dp">·</span>=<span class="dp">·</span>shape.getStrokeScaleEnabled();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!strokeScaleEnabled)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.save();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>pixelRatio<span class="dp">·</span>=<span class="dp">·</span>this.getCanvas().getPixelRatio();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.setTransform(pixelRatio,<span class="dp">·</span>0,<span class="dp">·</span>0,<span class="dp">·</span>pixelRatio,<span class="dp">·</span>0,<span class="dp">·</span>0);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._applyLineCap(shape);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>hitStrokeWidth<span class="dp">·</span>=<span class="dp">·</span>shape.hitStrokeWidth();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>strokeWidth<span class="dp">·</span>=<span class="dp">·</span>hitStrokeWidth<span class="dp">·</span>===<span class="dp">·</span>&#x27;auto&#x27;<span class="dp">·</span>?<span class="dp">·</span>shape.strokeWidth()<span class="dp">·</span>:<span class="dp">·</span>hitStrokeWidth;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.setAttr(&#x27;lineWidth&#x27;,<span class="dp">·</span>strokeWidth);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.setAttr(&#x27;strokeStyle&#x27;,<span class="dp">·</span>shape.colorKey);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>shape._strokeFuncHit(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!strokeScaleEnabled)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.restore();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n}\n&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">2974 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;import<span class="dp">·</span>{<span class="dp">·</span>Konva<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Global.js&#x27;;\nimport<span class="dp">·</span>{<span class="dp">·</span>Util<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Util.js&#x27;;\nexport<span class="dp">·</span>const<span class="dp">·</span>DD<span class="dp">·</span>=<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>get<span class="dp">·</span>isDragging()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>flag<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>DD._dragElements.forEach((elem)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(elem.dragStatus<span class="dp">·</span>===<span class="dp">·</span>&#x27;dragging&#x27;)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>flag<span class="dp">·</span>=<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>flag;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>justDragged:<span class="dp">·</span>false,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>get<span class="dp">·</span>node()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>node;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>DD._dragElements.forEach((elem)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>node<span class="dp">·</span>=<span class="dp">·</span>elem.node;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>node;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_dragElements:<span class="dp">·</span>new<span class="dp">·</span>Map(),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_drag(evt)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>nodesToFireEvents<span class="dp">·</span>=<span class="dp">·</span>[];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>DD._dragElements.forEach((elem,<span class="dp">·</span>key)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>{<span class="dp">·</span>node<span class="dp">·</span>}<span class="dp">·</span>=<span class="dp">·</span>elem;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>stage<span class="dp">·</span>=<span class="dp">·</span>node.getStage();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>stage.setPointersPositions(evt);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(elem.pointerId<span class="dp">·</span>===<span class="dp">·</span>undefined)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>elem.pointerId<span class="dp">·</span>=<span class="dp">·</span>Util._getFirstPointerId(evt);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>pos<span class="dp">·</span>=<span class="dp">·</span>stage._changedPointerPositions.find((pos)<span class="dp">·</span>=&gt;<span class="dp">·</span>pos.id<span class="dp">·</span>===<span class="dp">·</span>elem.pointerId);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!pos)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(elem.dragStatus<span class="dp">·</span>!==<span class="dp">·</span>&#x27;dragging&#x27;)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>dragDistance<span class="dp">·</span>=<span class="dp">·</span>node.dragDistance();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>distance<span class="dp">·</span>=<span class="dp">·</span>Math.max(Math.abs(pos.x<span class="dp">·</span>-<span class="dp">·</span>elem.startPointerPos.x),<span class="dp">·</span>Math.abs(pos.y<span class="dp">·</span>-<span class="dp">·</span>elem.startPointerPos.y));\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(distance<span class="dp">·</span>&lt;<span class="dp">·</span>dragDistance)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>node.startDrag({<span class="dp">·</span>evt<span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!node.isDragging())<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>node._setDragPosition(evt,<span class="dp">·</span>elem);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>nodesToFireEvents.push(node);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>nodesToFireEvents.forEach((node)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>node.fire(&#x27;dragmove&#x27;,<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>type:<span class="dp">·</span>&#x27;dragmove&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>target:<span class="dp">·</span>node,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>evt:<span class="dp">·</span>evt,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},<span class="dp">·</span>true);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_endDragBefore(evt)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>drawNodes<span class="dp">·</span>=<span class="dp">·</span>[];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>DD._dragElements.forEach((elem)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>{<span class="dp">·</span>node<span class="dp">·</span>}<span class="dp">·</span>=<span class="dp">·</span>elem;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>stage<span class="dp">·</span>=<span class="dp">·</span>node.getStage();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(evt)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>stage.setPointersPositions(evt);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>pos<span class="dp">·</span>=<span class="dp">·</span>stage._changedPointerPositions.find((pos)<span class="dp">·</span>=&gt;<span class="dp">·</span>pos.id<span class="dp">·</span>===<span class="dp">·</span>elem.pointerId);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!pos)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(elem.dragStatus<span class="dp">·</span>===<span class="dp">·</span>&#x27;dragging&#x27;<span class="dp">·</span>||<span class="dp">·</span>elem.dragStatus<span class="dp">·</span>===<span class="dp">·</span>&#x27;stopped&#x27;)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>DD.justDragged<span class="dp">·</span>=<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Konva._mouseListenClick<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Konva._touchListenClick<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Konva._pointerListenClick<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>elem.dragStatus<span class="dp">·</span>=<span class="dp">·</span>&#x27;stopped&#x27;;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>drawNode<span class="dp">·</span>=<span class="dp">·</span>elem.node.getLayer()<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(elem.node<span class="dp">·</span>instanceof<span class="dp">·</span>Konva[&#x27;Stage&#x27;]<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>elem.node);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(drawNode<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>drawNodes.indexOf(drawNode)<span class="dp">·</span>===<span class="dp">·</span>-1)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>drawNodes.push(drawNode);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>drawNodes.forEach((drawNode)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>drawNode.draw();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_endDragAfter(evt)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>DD._dragElements.forEach((elem,<span class="dp">·</span>key)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(elem.dragStatus<span class="dp">·</span>===<span class="dp">·</span>&#x27;stopped&#x27;)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>elem.node.fire(&#x27;dragend&#x27;,<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>type:<span class="dp">·</span>&#x27;dragend&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>target:<span class="dp">·</span>elem.node,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>evt:<span class="dp">·</span>evt,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},<span class="dp">·</span>true);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(elem.dragStatus<span class="dp">·</span>!==<span class="dp">·</span>&#x27;dragging&#x27;)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>DD._dragElements.delete(key);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n};\nif<span class="dp">·</span>(Konva.isBrowser)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>window.addEventListener(&#x27;mouseup&#x27;,<span class="dp">·</span>DD._endDragBefore,<span class="dp">·</span>true);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>window.addEventListener(&#x27;touchend&#x27;,<span class="dp">·</span>DD._endDragBefore,<span class="dp">·</span>true);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>window.addEventListener(&#x27;mousemove&#x27;,<span class="dp">·</span>DD._drag);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>window.addEventListener(&#x27;touchmove&#x27;,<span class="dp">·</span>DD._drag);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>window.addEventListener(&#x27;mouseup&#x27;,<span class="dp">·</span>DD._endDragAfter,<span class="dp">·</span>false);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>window.addEventListener(&#x27;touchend&#x27;,<span class="dp">·</span>DD._endDragAfter,<span class="dp">·</span>false);\n}\n&quot;,</td><td class="diffline">2975 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;import<span class="dp">·</span>{<span class="dp">·</span>Konva<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Global.js&#x27;;\nimport<span class="dp">·</span>{<span class="dp">·</span>Util<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Util.js&#x27;;\nexport<span class="dp">·</span>const<span class="dp">·</span>DD<span class="dp">·</span>=<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>get<span class="dp">·</span>isDragging()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>flag<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>DD._dragElements.forEach((elem)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(elem.dragStatus<span class="dp">·</span>===<span class="dp">·</span>&#x27;dragging&#x27;)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>flag<span class="dp">·</span>=<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>flag;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>justDragged:<span class="dp">·</span>false,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>get<span class="dp">·</span>node()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>node;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>DD._dragElements.forEach((elem)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>node<span class="dp">·</span>=<span class="dp">·</span>elem.node;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>node;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_dragElements:<span class="dp">·</span>new<span class="dp">·</span>Map(),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_drag(evt)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>nodesToFireEvents<span class="dp">·</span>=<span class="dp">·</span>[];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>DD._dragElements.forEach((elem,<span class="dp">·</span>key)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>{<span class="dp">·</span>node<span class="dp">·</span>}<span class="dp">·</span>=<span class="dp">·</span>elem;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>stage<span class="dp">·</span>=<span class="dp">·</span>node.getStage();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>stage.setPointersPositions(evt);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(elem.pointerId<span class="dp">·</span>===<span class="dp">·</span>undefined)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>elem.pointerId<span class="dp">·</span>=<span class="dp">·</span>Util._getFirstPointerId(evt);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>pos<span class="dp">·</span>=<span class="dp">·</span>stage._changedPointerPositions.find((pos)<span class="dp">·</span>=&gt;<span class="dp">·</span>pos.id<span class="dp">·</span>===<span class="dp">·</span>elem.pointerId);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!pos)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(elem.dragStatus<span class="dp">·</span>!==<span class="dp">·</span>&#x27;dragging&#x27;)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>dragDistance<span class="dp">·</span>=<span class="dp">·</span>node.dragDistance();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>distance<span class="dp">·</span>=<span class="dp">·</span>Math.max(Math.abs(pos.x<span class="dp">·</span>-<span class="dp">·</span>elem.startPointerPos.x),<span class="dp">·</span>Math.abs(pos.y<span class="dp">·</span>-<span class="dp">·</span>elem.startPointerPos.y));\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(distance<span class="dp">·</span>&lt;<span class="dp">·</span>dragDistance)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>node.startDrag({<span class="dp">·</span>evt<span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!node.isDragging())<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>node._setDragPosition(evt,<span class="dp">·</span>elem);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>nodesToFireEvents.push(node);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>nodesToFireEvents.forEach((node)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>node.fire(&#x27;dragmove&#x27;,<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>type:<span class="dp">·</span>&#x27;dragmove&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>target:<span class="dp">·</span>node,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>evt:<span class="dp">·</span>evt,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},<span class="dp">·</span>true);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_endDragBefore(evt)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>drawNodes<span class="dp">·</span>=<span class="dp">·</span>[];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>DD._dragElements.forEach((elem)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>{<span class="dp">·</span>node<span class="dp">·</span>}<span class="dp">·</span>=<span class="dp">·</span>elem;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>stage<span class="dp">·</span>=<span class="dp">·</span>node.getStage();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(evt)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>stage.setPointersPositions(evt);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>pos<span class="dp">·</span>=<span class="dp">·</span>stage._changedPointerPositions.find((pos)<span class="dp">·</span>=&gt;<span class="dp">·</span>pos.id<span class="dp">·</span>===<span class="dp">·</span>elem.pointerId);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!pos)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(elem.dragStatus<span class="dp">·</span>===<span class="dp">·</span>&#x27;dragging&#x27;<span class="dp">·</span>||<span class="dp">·</span>elem.dragStatus<span class="dp">·</span>===<span class="dp">·</span>&#x27;stopped&#x27;)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>DD.justDragged<span class="dp">·</span>=<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Konva._mouseListenClick<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Konva._touchListenClick<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Konva._pointerListenClick<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>elem.dragStatus<span class="dp">·</span>=<span class="dp">·</span>&#x27;stopped&#x27;;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>drawNode<span class="dp">·</span>=<span class="dp">·</span>elem.node.getLayer()<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(elem.node<span class="dp">·</span>instanceof<span class="dp">·</span>Konva[&#x27;Stage&#x27;]<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>elem.node);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(drawNode<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>drawNodes.indexOf(drawNode)<span class="dp">·</span>===<span class="dp">·</span>-1)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>drawNodes.push(drawNode);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>drawNodes.forEach((drawNode)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>drawNode.draw();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_endDragAfter(evt)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>DD._dragElements.forEach((elem,<span class="dp">·</span>key)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(elem.dragStatus<span class="dp">·</span>===<span class="dp">·</span>&#x27;stopped&#x27;)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>elem.node.fire(&#x27;dragend&#x27;,<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>type:<span class="dp">·</span>&#x27;dragend&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>target:<span class="dp">·</span>elem.node,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>evt:<span class="dp">·</span>evt,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},<span class="dp">·</span>true);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(elem.dragStatus<span class="dp">·</span>!==<span class="dp">·</span>&#x27;dragging&#x27;)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>DD._dragElements.delete(key);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n};\nif<span class="dp">·</span>(Konva.isBrowser)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>window.addEventListener(&#x27;mouseup&#x27;,<span class="dp">·</span>DD._endDragBefore,<span class="dp">·</span>true);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>window.addEventListener(&#x27;touchend&#x27;,<span class="dp">·</span>DD._endDragBefore,<span class="dp">·</span>true);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>window.addEventListener(&#x27;mousemove&#x27;,<span class="dp">·</span>DD._drag);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>window.addEventListener(&#x27;touchmove&#x27;,<span class="dp">·</span>DD._drag);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>window.addEventListener(&#x27;mouseup&#x27;,<span class="dp">·</span>DD._endDragAfter,<span class="dp">·</span>false);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>window.addEventListener(&#x27;touchend&#x27;,<span class="dp">·</span>DD._endDragAfter,<span class="dp">·</span>false);\n}\n&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">2975 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;import<span class="dp">·</span>{<span class="dp">·</span>Util<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Util.js&#x27;;\nimport<span class="dp">·</span>{<span class="dp">·</span>getComponentValidator<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Validators.js&#x27;;\nvar<span class="dp">·</span>GET<span class="dp">·</span>=<span class="dp">·</span>&#x27;get&#x27;,<span class="dp">·</span>SET<span class="dp">·</span>=<span class="dp">·</span>&#x27;set&#x27;;\nexport<span class="dp">·</span>const<span class="dp">·</span>Factory<span class="dp">·</span>=<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>addGetterSetter(constructor,<span class="dp">·</span>attr,<span class="dp">·</span>def,<span class="dp">·</span>validator,<span class="dp">·</span>after)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Factory.addGetter(constructor,<span class="dp">·</span>attr,<span class="dp">·</span>def);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Factory.addSetter(constructor,<span class="dp">·</span>attr,<span class="dp">·</span>validator,<span class="dp">·</span>after);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Factory.addOverloadedGetterSetter(constructor,<span class="dp">·</span>attr);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>addGetter(constructor,<span class="dp">·</span>attr,<span class="dp">·</span>def)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>method<span class="dp">·</span>=<span class="dp">·</span>GET<span class="dp">·</span>+<span class="dp">·</span>Util._capitalize(attr);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>constructor.prototype[method]<span class="dp">·</span>=\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>constructor.prototype[method]<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>function<span class="dp">·</span>()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>val<span class="dp">·</span>=<span class="dp">·</span>this.attrs[attr];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>val<span class="dp">·</span>===<span class="dp">·</span>undefined<span class="dp">·</span>?<span class="dp">·</span>def<span class="dp">·</span>:<span class="dp">·</span>val;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>addSetter(constructor,<span class="dp">·</span>attr,<span class="dp">·</span>validator,<span class="dp">·</span>after)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>method<span class="dp">·</span>=<span class="dp">·</span>SET<span class="dp">·</span>+<span class="dp">·</span>Util._capitalize(attr);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!constructor.prototype[method])<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Factory.overWriteSetter(constructor,<span class="dp">·</span>attr,<span class="dp">·</span>validator,<span class="dp">·</span>after);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>overWriteSetter(constructor,<span class="dp">·</span>attr,<span class="dp">·</span>validator,<span class="dp">·</span>after)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>method<span class="dp">·</span>=<span class="dp">·</span>SET<span class="dp">·</span>+<span class="dp">·</span>Util._capitalize(attr);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>constructor.prototype[method]<span class="dp">·</span>=<span class="dp">·</span>function<span class="dp">·</span>(val)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(validator<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>val<span class="dp">·</span>!==<span class="dp">·</span>undefined<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>val<span class="dp">·</span>!==<span class="dp">·</span>null)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>val<span class="dp">·</span>=<span class="dp">·</span>validator.call(this,<span class="dp">·</span>val,<span class="dp">·</span>attr);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._setAttr(attr,<span class="dp">·</span>val);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(after)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>after.call(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>addComponentsGetterSetter(constructor,<span class="dp">·</span>attr,<span class="dp">·</span>components,<span class="dp">·</span>validator,<span class="dp">·</span>after)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>len<span class="dp">·</span>=<span class="dp">·</span>components.length,<span class="dp">·</span>capitalize<span class="dp">·</span>=<span class="dp">·</span>Util._capitalize,<span class="dp">·</span>getter<span class="dp">·</span>=<span class="dp">·</span>GET<span class="dp">·</span>+<span class="dp">·</span>capitalize(attr),<span class="dp">·</span>setter<span class="dp">·</span>=<span class="dp">·</span>SET<span class="dp">·</span>+<span class="dp">·</span>capitalize(attr),<span class="dp">·</span>n,<span class="dp">·</span>component;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>constructor.prototype[getter]<span class="dp">·</span>=<span class="dp">·</span>function<span class="dp">·</span>()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>ret<span class="dp">·</span>=<span class="dp">·</span>{};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(n<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>n<span class="dp">·</span>&lt;<span class="dp">·</span>len;<span class="dp">·</span>n++)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>component<span class="dp">·</span>=<span class="dp">·</span>components[n];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>ret[component]<span class="dp">·</span>=<span class="dp">·</span>this.getAttr(attr<span class="dp">·</span>+<span class="dp">·</span>capitalize(component));\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>ret;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>basicValidator<span class="dp">·</span>=<span class="dp">·</span>getComponentValidator(components);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>constructor.prototype[setter]<span class="dp">·</span>=<span class="dp">·</span>function<span class="dp">·</span>(val)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>oldVal<span class="dp">·</span>=<span class="dp">·</span>this.attrs[attr],<span class="dp">·</span>key;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(validator)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>val<span class="dp">·</span>=<span class="dp">·</span>validator.call(this,<span class="dp">·</span>val);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(basicValidator)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>basicValidator.call(this,<span class="dp">·</span>val,<span class="dp">·</span>attr);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(key<span class="dp">·</span>in<span class="dp">·</span>val)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!val.hasOwnProperty(key))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>continue;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._setAttr(attr<span class="dp">·</span>+<span class="dp">·</span>capitalize(key),<span class="dp">·</span>val[key]);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!val)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>components.forEach((component)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._setAttr(attr<span class="dp">·</span>+<span class="dp">·</span>capitalize(component),<span class="dp">·</span>undefined);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._fireChangeEvent(attr,<span class="dp">·</span>oldVal,<span class="dp">·</span>val);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(after)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>after.call(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Factory.addOverloadedGetterSetter(constructor,<span class="dp">·</span>attr);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>addOverloadedGetterSetter(constructor,<span class="dp">·</span>attr)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>capitalizedAttr<span class="dp">·</span>=<span class="dp">·</span>Util._capitalize(attr),<span class="dp">·</span>setter<span class="dp">·</span>=<span class="dp">·</span>SET<span class="dp">·</span>+<span class="dp">·</span>capitalizedAttr,<span class="dp">·</span>getter<span class="dp">·</span>=<span class="dp">·</span>GET<span class="dp">·</span>+<span class="dp">·</span>capitalizedAttr;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>constructor.prototype[attr]<span class="dp">·</span>=<span class="dp">·</span>function<span class="dp">·</span>()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(arguments.length)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this[setter](arguments[0]);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this[getter]();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>addDeprecatedGetterSetter(constructor,<span class="dp">·</span>attr,<span class="dp">·</span>def,<span class="dp">·</span>validator)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.error(&#x27;Adding<span class="dp">·</span>deprecated<span class="dp">·</span>&#x27;<span class="dp">·</span>+<span class="dp">·</span>attr);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>method<span class="dp">·</span>=<span class="dp">·</span>GET<span class="dp">·</span>+<span class="dp">·</span>Util._capitalize(attr);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>message<span class="dp">·</span>=<span class="dp">·</span>attr<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;<span class="dp">·</span>property<span class="dp">·</span>is<span class="dp">·</span>deprecated<span class="dp">·</span>and<span class="dp">·</span>will<span class="dp">·</span>be<span class="dp">·</span>removed<span class="dp">·</span>soon.<span class="dp">·</span>Look<span class="dp">·</span>at<span class="dp">·</span>Konva<span class="dp">·</span>change<span class="dp">·</span>log<span class="dp">·</span>for<span class="dp">·</span>more<span class="dp">·</span>information.&#x27;;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>constructor.prototype[method]<span class="dp">·</span>=<span class="dp">·</span>function<span class="dp">·</span>()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.error(message);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>val<span class="dp">·</span>=<span class="dp">·</span>this.attrs[attr];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>val<span class="dp">·</span>===<span class="dp">·</span>undefined<span class="dp">·</span>?<span class="dp">·</span>def<span class="dp">·</span>:<span class="dp">·</span>val;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Factory.addSetter(constructor,<span class="dp">·</span>attr,<span class="dp">·</span>validator,<span class="dp">·</span>function<span class="dp">·</span>()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.error(message);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Factory.addOverloadedGetterSetter(constructor,<span class="dp">·</span>attr);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>backCompat(constructor,<span class="dp">·</span>methods)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.each(methods,<span class="dp">·</span>function<span class="dp">·</span>(oldMethodName,<span class="dp">·</span>newMethodName)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>method<span class="dp">·</span>=<span class="dp">·</span>constructor.prototype[newMethodName];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>oldGetter<span class="dp">·</span>=<span class="dp">·</span>GET<span class="dp">·</span>+<span class="dp">·</span>Util._capitalize(oldMethodName);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>oldSetter<span class="dp">·</span>=<span class="dp">·</span>SET<span class="dp">·</span>+<span class="dp">·</span>Util._capitalize(oldMethodName);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>function<span class="dp">·</span>deprecated()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>method.apply(this,<span class="dp">·</span>arguments);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.error(&#x27;\&quot;&#x27;<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>oldMethodName<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;\&quot;<span class="dp">·</span>method<span class="dp">·</span>is<span class="dp">·</span>deprecated<span class="dp">·</span>and<span class="dp">·</span>will<span class="dp">·</span>be<span class="dp">·</span>removed<span class="dp">·</span>soon.<span class="dp">·</span>Use<span class="dp">·</span>\&quot;\&quot;&#x27;<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>newMethodName<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;\&quot;<span class="dp">·</span>instead.&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>constructor.prototype[oldMethodName]<span class="dp">·</span>=<span class="dp">·</span>deprecated;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>constructor.prototype[oldGetter]<span class="dp">·</span>=<span class="dp">·</span>deprecated;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>constructor.prototype[oldSetter]<span class="dp">·</span>=<span class="dp">·</span>deprecated;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>afterSetFilter()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._filterUpToDate<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n};\n&quot;,</td><td class="diffline">2976 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;import<span class="dp">·</span>{<span class="dp">·</span>Util<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Util.js&#x27;;\nimport<span class="dp">·</span>{<span class="dp">·</span>getComponentValidator<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Validators.js&#x27;;\nvar<span class="dp">·</span>GET<span class="dp">·</span>=<span class="dp">·</span>&#x27;get&#x27;,<span class="dp">·</span>SET<span class="dp">·</span>=<span class="dp">·</span>&#x27;set&#x27;;\nexport<span class="dp">·</span>const<span class="dp">·</span>Factory<span class="dp">·</span>=<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>addGetterSetter(constructor,<span class="dp">·</span>attr,<span class="dp">·</span>def,<span class="dp">·</span>validator,<span class="dp">·</span>after)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Factory.addGetter(constructor,<span class="dp">·</span>attr,<span class="dp">·</span>def);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Factory.addSetter(constructor,<span class="dp">·</span>attr,<span class="dp">·</span>validator,<span class="dp">·</span>after);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Factory.addOverloadedGetterSetter(constructor,<span class="dp">·</span>attr);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>addGetter(constructor,<span class="dp">·</span>attr,<span class="dp">·</span>def)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>method<span class="dp">·</span>=<span class="dp">·</span>GET<span class="dp">·</span>+<span class="dp">·</span>Util._capitalize(attr);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>constructor.prototype[method]<span class="dp">·</span>=\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>constructor.prototype[method]<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>function<span class="dp">·</span>()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>val<span class="dp">·</span>=<span class="dp">·</span>this.attrs[attr];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>val<span class="dp">·</span>===<span class="dp">·</span>undefined<span class="dp">·</span>?<span class="dp">·</span>def<span class="dp">·</span>:<span class="dp">·</span>val;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>addSetter(constructor,<span class="dp">·</span>attr,<span class="dp">·</span>validator,<span class="dp">·</span>after)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>method<span class="dp">·</span>=<span class="dp">·</span>SET<span class="dp">·</span>+<span class="dp">·</span>Util._capitalize(attr);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!constructor.prototype[method])<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Factory.overWriteSetter(constructor,<span class="dp">·</span>attr,<span class="dp">·</span>validator,<span class="dp">·</span>after);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>overWriteSetter(constructor,<span class="dp">·</span>attr,<span class="dp">·</span>validator,<span class="dp">·</span>after)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>method<span class="dp">·</span>=<span class="dp">·</span>SET<span class="dp">·</span>+<span class="dp">·</span>Util._capitalize(attr);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>constructor.prototype[method]<span class="dp">·</span>=<span class="dp">·</span>function<span class="dp">·</span>(val)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(validator<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>val<span class="dp">·</span>!==<span class="dp">·</span>undefined<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>val<span class="dp">·</span>!==<span class="dp">·</span>null)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>val<span class="dp">·</span>=<span class="dp">·</span>validator.call(this,<span class="dp">·</span>val,<span class="dp">·</span>attr);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._setAttr(attr,<span class="dp">·</span>val);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(after)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>after.call(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>addComponentsGetterSetter(constructor,<span class="dp">·</span>attr,<span class="dp">·</span>components,<span class="dp">·</span>validator,<span class="dp">·</span>after)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>len<span class="dp">·</span>=<span class="dp">·</span>components.length,<span class="dp">·</span>capitalize<span class="dp">·</span>=<span class="dp">·</span>Util._capitalize,<span class="dp">·</span>getter<span class="dp">·</span>=<span class="dp">·</span>GET<span class="dp">·</span>+<span class="dp">·</span>capitalize(attr),<span class="dp">·</span>setter<span class="dp">·</span>=<span class="dp">·</span>SET<span class="dp">·</span>+<span class="dp">·</span>capitalize(attr),<span class="dp">·</span>n,<span class="dp">·</span>component;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>constructor.prototype[getter]<span class="dp">·</span>=<span class="dp">·</span>function<span class="dp">·</span>()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>ret<span class="dp">·</span>=<span class="dp">·</span>{};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(n<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>n<span class="dp">·</span>&lt;<span class="dp">·</span>len;<span class="dp">·</span>n++)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>component<span class="dp">·</span>=<span class="dp">·</span>components[n];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>ret[component]<span class="dp">·</span>=<span class="dp">·</span>this.getAttr(attr<span class="dp">·</span>+<span class="dp">·</span>capitalize(component));\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>ret;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>basicValidator<span class="dp">·</span>=<span class="dp">·</span>getComponentValidator(components);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>constructor.prototype[setter]<span class="dp">·</span>=<span class="dp">·</span>function<span class="dp">·</span>(val)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>oldVal<span class="dp">·</span>=<span class="dp">·</span>this.attrs[attr],<span class="dp">·</span>key;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(validator)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>val<span class="dp">·</span>=<span class="dp">·</span>validator.call(this,<span class="dp">·</span>val);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(basicValidator)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>basicValidator.call(this,<span class="dp">·</span>val,<span class="dp">·</span>attr);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(key<span class="dp">·</span>in<span class="dp">·</span>val)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!val.hasOwnProperty(key))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>continue;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._setAttr(attr<span class="dp">·</span>+<span class="dp">·</span>capitalize(key),<span class="dp">·</span>val[key]);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!val)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>components.forEach((component)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._setAttr(attr<span class="dp">·</span>+<span class="dp">·</span>capitalize(component),<span class="dp">·</span>undefined);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._fireChangeEvent(attr,<span class="dp">·</span>oldVal,<span class="dp">·</span>val);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(after)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>after.call(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Factory.addOverloadedGetterSetter(constructor,<span class="dp">·</span>attr);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>addOverloadedGetterSetter(constructor,<span class="dp">·</span>attr)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>capitalizedAttr<span class="dp">·</span>=<span class="dp">·</span>Util._capitalize(attr),<span class="dp">·</span>setter<span class="dp">·</span>=<span class="dp">·</span>SET<span class="dp">·</span>+<span class="dp">·</span>capitalizedAttr,<span class="dp">·</span>getter<span class="dp">·</span>=<span class="dp">·</span>GET<span class="dp">·</span>+<span class="dp">·</span>capitalizedAttr;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>constructor.prototype[attr]<span class="dp">·</span>=<span class="dp">·</span>function<span class="dp">·</span>()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(arguments.length)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this[setter](arguments[0]);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this[getter]();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>addDeprecatedGetterSetter(constructor,<span class="dp">·</span>attr,<span class="dp">·</span>def,<span class="dp">·</span>validator)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.error(&#x27;Adding<span class="dp">·</span>deprecated<span class="dp">·</span>&#x27;<span class="dp">·</span>+<span class="dp">·</span>attr);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>method<span class="dp">·</span>=<span class="dp">·</span>GET<span class="dp">·</span>+<span class="dp">·</span>Util._capitalize(attr);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>message<span class="dp">·</span>=<span class="dp">·</span>attr<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;<span class="dp">·</span>property<span class="dp">·</span>is<span class="dp">·</span>deprecated<span class="dp">·</span>and<span class="dp">·</span>will<span class="dp">·</span>be<span class="dp">·</span>removed<span class="dp">·</span>soon.<span class="dp">·</span>Look<span class="dp">·</span>at<span class="dp">·</span>Konva<span class="dp">·</span>change<span class="dp">·</span>log<span class="dp">·</span>for<span class="dp">·</span>more<span class="dp">·</span>information.&#x27;;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>constructor.prototype[method]<span class="dp">·</span>=<span class="dp">·</span>function<span class="dp">·</span>()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.error(message);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>val<span class="dp">·</span>=<span class="dp">·</span>this.attrs[attr];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>val<span class="dp">·</span>===<span class="dp">·</span>undefined<span class="dp">·</span>?<span class="dp">·</span>def<span class="dp">·</span>:<span class="dp">·</span>val;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Factory.addSetter(constructor,<span class="dp">·</span>attr,<span class="dp">·</span>validator,<span class="dp">·</span>function<span class="dp">·</span>()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.error(message);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Factory.addOverloadedGetterSetter(constructor,<span class="dp">·</span>attr);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>backCompat(constructor,<span class="dp">·</span>methods)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.each(methods,<span class="dp">·</span>function<span class="dp">·</span>(oldMethodName,<span class="dp">·</span>newMethodName)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>method<span class="dp">·</span>=<span class="dp">·</span>constructor.prototype[newMethodName];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>oldGetter<span class="dp">·</span>=<span class="dp">·</span>GET<span class="dp">·</span>+<span class="dp">·</span>Util._capitalize(oldMethodName);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>oldSetter<span class="dp">·</span>=<span class="dp">·</span>SET<span class="dp">·</span>+<span class="dp">·</span>Util._capitalize(oldMethodName);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>function<span class="dp">·</span>deprecated()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>method.apply(this,<span class="dp">·</span>arguments);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.error(&#x27;\&quot;&#x27;<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>oldMethodName<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;\&quot;<span class="dp">·</span>method<span class="dp">·</span>is<span class="dp">·</span>deprecated<span class="dp">·</span>and<span class="dp">·</span>will<span class="dp">·</span>be<span class="dp">·</span>removed<span class="dp">·</span>soon.<span class="dp">·</span>Use<span class="dp">·</span>\&quot;\&quot;&#x27;<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>newMethodName<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;\&quot;<span class="dp">·</span>instead.&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>constructor.prototype[oldMethodName]<span class="dp">·</span>=<span class="dp">·</span>deprecated;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>constructor.prototype[oldGetter]<span class="dp">·</span>=<span class="dp">·</span>deprecated;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>constructor.prototype[oldSetter]<span class="dp">·</span>=<span class="dp">·</span>deprecated;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>afterSetFilter()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._filterUpToDate<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n};\n&quot;,</td></tr>
<tr class="diffchanged"><td class="diffline">2976 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;var<span class="dp">·</span>PI_OVER_180<span class="dp">·</span>=<span class="dp">·</span>Math.PI<span class="dp">·</span>/<span class="dp">·</span>180;\nfunction<span class="dp">·</span>detectBrowser()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>(typeof<span class="dp">·</span>window<span class="dp">·</span>!==<span class="dp">·</span>&#x27;undefined&#x27;<span class="dp">·</span>&amp;&amp;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>({}.toString.call(window)<span class="dp">·</span>===<span class="dp">·</span>&#x27;[object<span class="dp">·</span>Window]&#x27;<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>{}.toString.call(window)<span class="dp">·</span>===<span class="dp">·</span>&#x27;[object<span class="dp">·</span>global]&#x27;));\n}\nexport<span class="dp">·</span>const<span class="dp">·</span>glob<span class="dp">·</span>=<span class="dp">·</span>typeof<span class="dp">·</span>global<span class="dp">·</span>!==<span class="dp">·</span>&#x27;undefined&#x27;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>?<span class="dp">·</span>global\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>:<span class="dp">·</span>typeof<span class="dp">·</span>window<span class="dp">·</span>!==<span class="dp">·</span>&#x27;undefined&#x27;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>?<span class="dp">·</span>window\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>:<span class="dp">·</span>typeof<span class="dp">·</span>WorkerGlobalScope<span class="dp">·</span>!==<span class="dp">·</span>&#x27;undefined&#x27;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>?<span class="dp">·</span>self\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>:<span class="dp">·</span>{};\nexport<span class="dp">·</span>const<span class="dp">·</span>Konva<span class="dp">·</span>=<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_global:<span class="dp">·</span>glob,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>version:<span class="dp">·</span>&#x27;8.4.<del>0</del>&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>isBrowser:<span class="dp">·</span>detectBrowser(),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>isUnminified:<span class="dp">·</span>/param/.test(function<span class="dp">·</span>(param)<span class="dp">·</span>{<span class="dp">·</span>}.toString()),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dblClickWindow:<span class="dp">·</span>400,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getAngle(angle)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>Konva.angleDeg<span class="dp">·</span>?<span class="dp">·</span>angle<span class="dp">·</span>*<span class="dp">·</span>PI_OVER_180<span class="dp">·</span>:<span class="dp">·</span>angle;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>enableTrace:<span class="dp">·</span>false,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>pointerEventsEnabled:<span class="dp">·</span>true,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>autoDrawEnabled:<span class="dp">·</span>true,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hitOnDragEnabled:<span class="dp">·</span>false,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>capturePointerEventsEnabled:<span class="dp">·</span>false,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_mouseListenClick:<span class="dp">·</span>false,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_touchListenClick:<span class="dp">·</span>false,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_pointerListenClick:<span class="dp">·</span>false,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_mouseInDblClickWindow:<span class="dp">·</span>false,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_touchInDblClickWindow:<span class="dp">·</span>false,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_pointerInDblClickWindow:<span class="dp">·</span>false,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_mouseDblClickPointerId:<span class="dp">·</span>null,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_touchDblClickPointerId:<span class="dp">·</span>null,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_pointerDblClickPointerId:<span class="dp">·</span>null,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>pixelRatio:<span class="dp">·</span>(typeof<span class="dp">·</span>window<span class="dp">·</span>!==<span class="dp">·</span>&#x27;undefined&#x27;<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>window.devicePixelRatio)<span class="dp">·</span>||<span class="dp">·</span>1,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dragDistance:<span class="dp">·</span>3,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>angleDeg:<span class="dp">·</span>true,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>showWarnings:<span class="dp">·</span>true,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dragButtons:<span class="dp">·</span>[0,<span class="dp">·</span>1],\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>isDragging()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>Konva[&#x27;DD&#x27;].isDragging;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>isDragReady()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>!!Konva[&#x27;DD&#x27;].node;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>releaseCanvasOnDestroy:<span class="dp">·</span>true,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>document:<span class="dp">·</span>glob.document,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_injectGlobal(Konva)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>glob.Konva<span class="dp">·</span>=<span class="dp">·</span>Konva;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n};\nexport<span class="dp">·</span>const<span class="dp">·</span>_registerNode<span class="dp">·</span>=<span class="dp">·</span>(NodeClass)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Konva[NodeClass.prototype.getClassName()]<span class="dp">·</span>=<span class="dp">·</span>NodeClass;\n};\nKonva._injectGlobal(Konva);\n&quot;,</td><td class="diffline">2977 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;var<span class="dp">·</span>PI_OVER_180<span class="dp">·</span>=<span class="dp">·</span>Math.PI<span class="dp">·</span>/<span class="dp">·</span>180;\nfunction<span class="dp">·</span>detectBrowser()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>(typeof<span class="dp">·</span>window<span class="dp">·</span>!==<span class="dp">·</span>&#x27;undefined&#x27;<span class="dp">·</span>&amp;&amp;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>({}.toString.call(window)<span class="dp">·</span>===<span class="dp">·</span>&#x27;[object<span class="dp">·</span>Window]&#x27;<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>{}.toString.call(window)<span class="dp">·</span>===<span class="dp">·</span>&#x27;[object<span class="dp">·</span>global]&#x27;));\n}\nexport<span class="dp">·</span>const<span class="dp">·</span>glob<span class="dp">·</span>=<span class="dp">·</span>typeof<span class="dp">·</span>global<span class="dp">·</span>!==<span class="dp">·</span>&#x27;undefined&#x27;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>?<span class="dp">·</span>global\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>:<span class="dp">·</span>typeof<span class="dp">·</span>window<span class="dp">·</span>!==<span class="dp">·</span>&#x27;undefined&#x27;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>?<span class="dp">·</span>window\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>:<span class="dp">·</span>typeof<span class="dp">·</span>WorkerGlobalScope<span class="dp">·</span>!==<span class="dp">·</span>&#x27;undefined&#x27;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>?<span class="dp">·</span>self\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>:<span class="dp">·</span>{};\nexport<span class="dp">·</span>const<span class="dp">·</span>Konva<span class="dp">·</span>=<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_global:<span class="dp">·</span>glob,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>version:<span class="dp">·</span>&#x27;8.4.<ins>3</ins>&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>isBrowser:<span class="dp">·</span>detectBrowser(),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>isUnminified:<span class="dp">·</span>/param/.test(function<span class="dp">·</span>(param)<span class="dp">·</span>{<span class="dp">·</span>}.toString()),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dblClickWindow:<span class="dp">·</span>400,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getAngle(angle)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>Konva.angleDeg<span class="dp">·</span>?<span class="dp">·</span>angle<span class="dp">·</span>*<span class="dp">·</span>PI_OVER_180<span class="dp">·</span>:<span class="dp">·</span>angle;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>enableTrace:<span class="dp">·</span>false,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>pointerEventsEnabled:<span class="dp">·</span>true,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>autoDrawEnabled:<span class="dp">·</span>true,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hitOnDragEnabled:<span class="dp">·</span>false,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>capturePointerEventsEnabled:<span class="dp">·</span>false,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_mouseListenClick:<span class="dp">·</span>false,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_touchListenClick:<span class="dp">·</span>false,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_pointerListenClick:<span class="dp">·</span>false,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_mouseInDblClickWindow:<span class="dp">·</span>false,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_touchInDblClickWindow:<span class="dp">·</span>false,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_pointerInDblClickWindow:<span class="dp">·</span>false,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_mouseDblClickPointerId:<span class="dp">·</span>null,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_touchDblClickPointerId:<span class="dp">·</span>null,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_pointerDblClickPointerId:<span class="dp">·</span>null,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>pixelRatio:<span class="dp">·</span>(typeof<span class="dp">·</span>window<span class="dp">·</span>!==<span class="dp">·</span>&#x27;undefined&#x27;<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>window.devicePixelRatio)<span class="dp">·</span>||<span class="dp">·</span>1,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dragDistance:<span class="dp">·</span>3,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>angleDeg:<span class="dp">·</span>true,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>showWarnings:<span class="dp">·</span>true,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dragButtons:<span class="dp">·</span>[0,<span class="dp">·</span>1],\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>isDragging()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>Konva[&#x27;DD&#x27;].isDragging;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>isDragReady()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>!!Konva[&#x27;DD&#x27;].node;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>releaseCanvasOnDestroy:<span class="dp">·</span>true,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>document:<span class="dp">·</span>glob.document,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_injectGlobal(Konva)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>glob.Konva<span class="dp">·</span>=<span class="dp">·</span>Konva;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n};\nexport<span class="dp">·</span>const<span class="dp">·</span>_registerNode<span class="dp">·</span>=<span class="dp">·</span>(NodeClass)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Konva[NodeClass.prototype.getClassName()]<span class="dp">·</span>=<span class="dp">·</span>NodeClass;\n};\nKonva._injectGlobal(Konva);\n&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">2977 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;import<span class="dp">·</span>{<span class="dp">·</span>Util<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Util.js&#x27;;\nimport<span class="dp">·</span>{<span class="dp">·</span>Container<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Container.js&#x27;;\nimport<span class="dp">·</span>{<span class="dp">·</span>_registerNode<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Global.js&#x27;;\nexport<span class="dp">·</span>class<span class="dp">·</span>Group<span class="dp">·</span>extends<span class="dp">·</span>Container<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_validateAdd(child)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>type<span class="dp">·</span>=<span class="dp">·</span>child.getType();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(type<span class="dp">·</span>!==<span class="dp">·</span>&#x27;Group&#x27;<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>type<span class="dp">·</span>!==<span class="dp">·</span>&#x27;Shape&#x27;)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.throw(&#x27;You<span class="dp">·</span>may<span class="dp">·</span>only<span class="dp">·</span>add<span class="dp">·</span>groups<span class="dp">·</span>and<span class="dp">·</span>shapes<span class="dp">·</span>to<span class="dp">·</span>groups.&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n}\nGroup.prototype.nodeType<span class="dp">·</span>=<span class="dp">·</span>&#x27;Group&#x27;;\n_registerNode(Group);\n&quot;,</td><td class="diffline">2978 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;import<span class="dp">·</span>{<span class="dp">·</span>Util<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Util.js&#x27;;\nimport<span class="dp">·</span>{<span class="dp">·</span>Container<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Container.js&#x27;;\nimport<span class="dp">·</span>{<span class="dp">·</span>_registerNode<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Global.js&#x27;;\nexport<span class="dp">·</span>class<span class="dp">·</span>Group<span class="dp">·</span>extends<span class="dp">·</span>Container<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_validateAdd(child)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>type<span class="dp">·</span>=<span class="dp">·</span>child.getType();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(type<span class="dp">·</span>!==<span class="dp">·</span>&#x27;Group&#x27;<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>type<span class="dp">·</span>!==<span class="dp">·</span>&#x27;Shape&#x27;)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.throw(&#x27;You<span class="dp">·</span>may<span class="dp">·</span>only<span class="dp">·</span>add<span class="dp">·</span>groups<span class="dp">·</span>and<span class="dp">·</span>shapes<span class="dp">·</span>to<span class="dp">·</span>groups.&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n}\nGroup.prototype.nodeType<span class="dp">·</span>=<span class="dp">·</span>&#x27;Group&#x27;;\n_registerNode(Group);\n&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">2978 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;import<span class="dp">·</span>{<span class="dp">·</span>Util,<span class="dp">·</span>Transform<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Util.js&#x27;;\nimport<span class="dp">·</span>{<span class="dp">·</span>Factory<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Factory.js&#x27;;\nimport<span class="dp">·</span>{<span class="dp">·</span>SceneCanvas,<span class="dp">·</span>HitCanvas<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Canvas.js&#x27;;\nimport<span class="dp">·</span>{<span class="dp">·</span>Konva<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Global.js&#x27;;\nimport<span class="dp">·</span>{<span class="dp">·</span>DD<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./DragAndDrop.js&#x27;;\nimport<span class="dp">·</span>{<span class="dp">·</span>getNumberValidator,<span class="dp">·</span>getStringValidator,<span class="dp">·</span>getBooleanValidator,<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Validators.js&#x27;;\nvar<span class="dp">·</span>ABSOLUTE_OPACITY<span class="dp">·</span>=<span class="dp">·</span>&#x27;absoluteOpacity&#x27;,<span class="dp">·</span>ALL_LISTENERS<span class="dp">·</span>=<span class="dp">·</span>&#x27;allEventListeners&#x27;,<span class="dp">·</span>ABSOLUTE_TRANSFORM<span class="dp">·</span>=<span class="dp">·</span>&#x27;absoluteTransform&#x27;,<span class="dp">·</span>ABSOLUTE_SCALE<span class="dp">·</span>=<span class="dp">·</span>&#x27;absoluteScale&#x27;,<span class="dp">·</span>CANVAS<span class="dp">·</span>=<span class="dp">·</span>&#x27;canvas&#x27;,<span class="dp">·</span>CHANGE<span class="dp">·</span>=<span class="dp">·</span>&#x27;Change&#x27;,<span class="dp">·</span>CHILDREN<span class="dp">·</span>=<span class="dp">·</span>&#x27;children&#x27;,<span class="dp">·</span>KONVA<span class="dp">·</span>=<span class="dp">·</span>&#x27;konva&#x27;,<span class="dp">·</span>LISTENING<span class="dp">·</span>=<span class="dp">·</span>&#x27;listening&#x27;,<span class="dp">·</span>MOUSEENTER<span class="dp">·</span>=<span class="dp">·</span>&#x27;mouseenter&#x27;,<span class="dp">·</span>MOUSELEAVE<span class="dp">·</span>=<span class="dp">·</span>&#x27;mouseleave&#x27;,<span class="dp">·</span>NAME<span class="dp">·</span>=<span class="dp">·</span>&#x27;name&#x27;,<span class="dp">·</span>SET<span class="dp">·</span>=<span class="dp">·</span>&#x27;set&#x27;,<span class="dp">·</span>SHAPE<span class="dp">·</span>=<span class="dp">·</span>&#x27;Shape&#x27;,<span class="dp">·</span>SPACE<span class="dp">·</span>=<span class="dp">·</span>&#x27;<span class="dp">·</span>&#x27;,<span class="dp">·</span>STAGE<span class="dp">·</span>=<span class="dp">·</span>&#x27;stage&#x27;,<span class="dp">·</span>TRANSFORM<span class="dp">·</span>=<span class="dp">·</span>&#x27;transform&#x27;,<span class="dp">·</span>UPPER_STAGE<span class="dp">·</span>=<span class="dp">·</span>&#x27;Stage&#x27;,<span class="dp">·</span>VISIBLE<span class="dp">·</span>=<span class="dp">·</span>&#x27;visible&#x27;,<span class="dp">·</span>TRANSFORM_CHANGE_STR<span class="dp">·</span>=<span class="dp">·</span>[\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;xChange.konva&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;yChange.konva&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;scaleXChange.konva&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;scaleYChange.konva&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;skewXChange.konva&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;skewYChange.konva&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;rotationChange.konva&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;offsetXChange.konva&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;offsetYChange.konva&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;transformsEnabledChange.konva&#x27;,\n].join(SPACE);\nlet<span class="dp">·</span>idCounter<span class="dp">·</span>=<span class="dp">·</span>1;\nexport<span class="dp">·</span>class<span class="dp">·</span>Node<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>constructor(config)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._id<span class="dp">·</span>=<span class="dp">·</span>idCounter++;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.eventListeners<span class="dp">·</span>=<span class="dp">·</span>{};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.attrs<span class="dp">·</span>=<span class="dp">·</span>{};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.index<span class="dp">·</span>=<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._allEventListeners<span class="dp">·</span>=<span class="dp">·</span>null;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.parent<span class="dp">·</span>=<span class="dp">·</span>null;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._cache<span class="dp">·</span>=<span class="dp">·</span>new<span class="dp">·</span>Map();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._attachedDepsListeners<span class="dp">·</span>=<span class="dp">·</span>new<span class="dp">·</span>Map();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._lastPos<span class="dp">·</span>=<span class="dp">·</span>null;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._batchingTransformChange<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._needClearTransformCache<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._filterUpToDate<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._isUnderCache<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._dragEventId<span class="dp">·</span>=<span class="dp">·</span>null;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._shouldFireChangeEvents<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.setAttrs(config);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._shouldFireChangeEvents<span class="dp">·</span>=<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hasChildren()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_clearCache(attr)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>((attr<span class="dp">·</span>===<span class="dp">·</span>TRANSFORM<span class="dp">·</span>||<span class="dp">·</span>attr<span class="dp">·</span>===<span class="dp">·</span>ABSOLUTE_TRANSFORM)<span class="dp">·</span>&amp;&amp;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._cache.get(attr))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._cache.get(attr).dirty<span class="dp">·</span>=<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>if<span class="dp">·</span>(attr)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._cache.delete(attr);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._cache.clear();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_getCache(attr,<span class="dp">·</span>privateGetter)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>cache<span class="dp">·</span>=<span class="dp">·</span>this._cache.get(attr);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>isTransform<span class="dp">·</span>=<span class="dp">·</span>attr<span class="dp">·</span>===<span class="dp">·</span>TRANSFORM<span class="dp">·</span>||<span class="dp">·</span>attr<span class="dp">·</span>===<span class="dp">·</span>ABSOLUTE_TRANSFORM;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>invalid<span class="dp">·</span>=<span class="dp">·</span>cache<span class="dp">·</span>===<span class="dp">·</span>undefined<span class="dp">·</span>||<span class="dp">·</span>(isTransform<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>cache.dirty<span class="dp">·</span>===<span class="dp">·</span>true);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(invalid)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>cache<span class="dp">·</span>=<span class="dp">·</span>privateGetter.call(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._cache.set(attr,<span class="dp">·</span>cache);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>cache;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_calculate(name,<span class="dp">·</span>deps,<span class="dp">·</span>getter)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!this._attachedDepsListeners.get(name))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>depsString<span class="dp">·</span>=<span class="dp">·</span>deps.map((dep)<span class="dp">·</span>=&gt;<span class="dp">·</span>dep<span class="dp">·</span>+<span class="dp">·</span>&#x27;Change.konva&#x27;).join(SPACE);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.on(depsString,<span class="dp">·</span>()<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearCache(name);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._attachedDepsListeners.set(name,<span class="dp">·</span>true);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._getCache(name,<span class="dp">·</span>getter);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_getCanvasCache()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._cache.get(CANVAS);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_clearSelfAndDescendantCache(attr)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearCache(attr);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(attr<span class="dp">·</span>===<span class="dp">·</span>ABSOLUTE_TRANSFORM)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.fire(&#x27;absoluteTransformChange&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>clearCache()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(this._cache.has(CANVAS))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>{<span class="dp">·</span>scene,<span class="dp">·</span>filter,<span class="dp">·</span>hit<span class="dp">·</span>}<span class="dp">·</span>=<span class="dp">·</span>this._cache.get(CANVAS);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.releaseCanvas(scene,<span class="dp">·</span>filter,<span class="dp">·</span>hit);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._cache.delete(CANVAS);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearSelfAndDescendantCache();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._requestDraw();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>cache(config)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>conf<span class="dp">·</span>=<span class="dp">·</span>config<span class="dp">·</span>||<span class="dp">·</span>{};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>rect<span class="dp">·</span>=<span class="dp">·</span>{};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(conf.x<span class="dp">·</span>===<span class="dp">·</span>undefined<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>conf.y<span class="dp">·</span>===<span class="dp">·</span>undefined<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>conf.width<span class="dp">·</span>===<span class="dp">·</span>undefined<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>conf.height<span class="dp">·</span>===<span class="dp">·</span>undefined)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>rect<span class="dp">·</span>=<span class="dp">·</span>this.getClientRect({\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>skipTransform:<span class="dp">·</span>true,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>relativeTo:<span class="dp">·</span>this.getParent(),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>width<span class="dp">·</span>=<span class="dp">·</span>Math.ceil(conf.width<span class="dp">·</span>||<span class="dp">·</span>rect.width),<span class="dp">·</span>height<span class="dp">·</span>=<span class="dp">·</span>Math.ceil(conf.height<span class="dp">·</span>||<span class="dp">·</span>rect.height),<span class="dp">·</span>pixelRatio<span class="dp">·</span>=<span class="dp">·</span>conf.pixelRatio,<span class="dp">·</span>x<span class="dp">·</span>=<span class="dp">·</span>conf.x<span class="dp">·</span>===<span class="dp">·</span>undefined<span class="dp">·</span>?<span class="dp">·</span>Math.floor(rect.x)<span class="dp">·</span>:<span class="dp">·</span>conf.x,<span class="dp">·</span>y<span class="dp">·</span>=<span class="dp">·</span>conf.y<span class="dp">·</span>===<span class="dp">·</span>undefined<span class="dp">·</span>?<span class="dp">·</span>Math.floor(rect.y)<span class="dp">·</span>:<span class="dp">·</span>conf.y,<span class="dp">·</span>offset<span class="dp">·</span>=<span class="dp">·</span>conf.offset<span class="dp">·</span>||<span class="dp">·</span>0,<span class="dp">·</span>drawBorder<span class="dp">·</span>=<span class="dp">·</span>conf.drawBorder<span class="dp">·</span>||<span class="dp">·</span>false,<span class="dp">·</span>hitCanvasPixelRatio<span class="dp">·</span>=<span class="dp">·</span>conf.hitCanvasPixelRatio<span class="dp">·</span>||<span class="dp">·</span>1;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!width<span class="dp">·</span>||<span class="dp">·</span>!height)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.error(&#x27;Can<span class="dp">·</span>not<span class="dp">·</span>cache<span class="dp">·</span>the<span class="dp">·</span>node.<span class="dp">·</span>Width<span class="dp">·</span>or<span class="dp">·</span>height<span class="dp">·</span>of<span class="dp">·</span>the<span class="dp">·</span>node<span class="dp">·</span>equals<span class="dp">·</span>0.<span class="dp">·</span>Caching<span class="dp">·</span>is<span class="dp">·</span>skipped.&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>width<span class="dp">·</span>+=<span class="dp">·</span>offset<span class="dp">·</span>*<span class="dp">·</span>2<span class="dp">·</span>+<span class="dp">·</span>1;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>height<span class="dp">·</span>+=<span class="dp">·</span>offset<span class="dp">·</span>*<span class="dp">·</span>2<span class="dp">·</span>+<span class="dp">·</span>1;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>x<span class="dp">·</span>-=<span class="dp">·</span>offset;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y<span class="dp">·</span>-=<span class="dp">·</span>offset;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>cachedSceneCanvas<span class="dp">·</span>=<span class="dp">·</span>new<span class="dp">·</span>SceneCanvas({\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>pixelRatio:<span class="dp">·</span>pixelRatio,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>width:<span class="dp">·</span>width,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>height:<span class="dp">·</span>height,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}),<span class="dp">·</span>cachedFilterCanvas<span class="dp">·</span>=<span class="dp">·</span>new<span class="dp">·</span>SceneCanvas({\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>pixelRatio:<span class="dp">·</span>pixelRatio,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>width:<span class="dp">·</span>0,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>height:<span class="dp">·</span>0,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}),<span class="dp">·</span>cachedHitCanvas<span class="dp">·</span>=<span class="dp">·</span>new<span class="dp">·</span>HitCanvas({\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>pixelRatio:<span class="dp">·</span>hitCanvasPixelRatio,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>width:<span class="dp">·</span>width,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>height:<span class="dp">·</span>height,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}),<span class="dp">·</span>sceneContext<span class="dp">·</span>=<span class="dp">·</span>cachedSceneCanvas.getContext(),<span class="dp">·</span>hitContext<span class="dp">·</span>=<span class="dp">·</span>cachedHitCanvas.getContext();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>cachedHitCanvas.isCache<span class="dp">·</span>=<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>cachedSceneCanvas.isCache<span class="dp">·</span>=<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._cache.delete(CANVAS);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._filterUpToDate<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(conf.imageSmoothingEnabled<span class="dp">·</span>===<span class="dp">·</span>false)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>cachedSceneCanvas.getContext()._context.imageSmoothingEnabled<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>cachedFilterCanvas.getContext()._context.imageSmoothingEnabled<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sceneContext.save();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hitContext.save();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sceneContext.translate(-x,<span class="dp">·</span>-y);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hitContext.translate(-x,<span class="dp">·</span>-y);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._isUnderCache<span class="dp">·</span>=<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearSelfAndDescendantCache(ABSOLUTE_SCALE);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.drawScene(cachedSceneCanvas,<span class="dp">·</span>this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.drawHit(cachedHitCanvas,<span class="dp">·</span>this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._isUnderCache<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sceneContext.restore();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hitContext.restore();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(drawBorder)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sceneContext.save();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sceneContext.beginPath();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sceneContext.rect(0,<span class="dp">·</span>0,<span class="dp">·</span>width,<span class="dp">·</span>height);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sceneContext.closePath();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sceneContext.setAttr(&#x27;strokeStyle&#x27;,<span class="dp">·</span>&#x27;red&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sceneContext.setAttr(&#x27;lineWidth&#x27;,<span class="dp">·</span>5);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sceneContext.stroke();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sceneContext.restore();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._cache.set(CANVAS,<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>scene:<span class="dp">·</span>cachedSceneCanvas,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>filter:<span class="dp">·</span>cachedFilterCanvas,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hit:<span class="dp">·</span>cachedHitCanvas,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>x:<span class="dp">·</span>x,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y:<span class="dp">·</span>y,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._requestDraw();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>isCached()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._cache.has(CANVAS);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getClientRect(config)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>throw<span class="dp">·</span>new<span class="dp">·</span>Error(&#x27;abstract<span class="dp">·</span>\&quot;getClientRect\&quot;<span class="dp">·</span>method<span class="dp">·</span>call&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_transformedRect(rect,<span class="dp">·</span>top)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>points<span class="dp">·</span>=<span class="dp">·</span>[\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>{<span class="dp">·</span>x:<span class="dp">·</span>rect.x,<span class="dp">·</span>y:<span class="dp">·</span>rect.y<span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>{<span class="dp">·</span>x:<span class="dp">·</span>rect.x<span class="dp">·</span>+<span class="dp">·</span>rect.width,<span class="dp">·</span>y:<span class="dp">·</span>rect.y<span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>{<span class="dp">·</span>x:<span class="dp">·</span>rect.x<span class="dp">·</span>+<span class="dp">·</span>rect.width,<span class="dp">·</span>y:<span class="dp">·</span>rect.y<span class="dp">·</span>+<span class="dp">·</span>rect.height<span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>{<span class="dp">·</span>x:<span class="dp">·</span>rect.x,<span class="dp">·</span>y:<span class="dp">·</span>rect.y<span class="dp">·</span>+<span class="dp">·</span>rect.height<span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>minX,<span class="dp">·</span>minY,<span class="dp">·</span>maxX,<span class="dp">·</span>maxY;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>trans<span class="dp">·</span>=<span class="dp">·</span>this.getAbsoluteTransform(top);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>points.forEach(function<span class="dp">·</span>(point)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>transformed<span class="dp">·</span>=<span class="dp">·</span>trans.point(point);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(minX<span class="dp">·</span>===<span class="dp">·</span>undefined)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>minX<span class="dp">·</span>=<span class="dp">·</span>maxX<span class="dp">·</span>=<span class="dp">·</span>transformed.x;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>minY<span class="dp">·</span>=<span class="dp">·</span>maxY<span class="dp">·</span>=<span class="dp">·</span>transformed.y;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>minX<span class="dp">·</span>=<span class="dp">·</span>Math.min(minX,<span class="dp">·</span>transformed.x);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>minY<span class="dp">·</span>=<span class="dp">·</span>Math.min(minY,<span class="dp">·</span>transformed.y);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>maxX<span class="dp">·</span>=<span class="dp">·</span>Math.max(maxX,<span class="dp">·</span>transformed.x);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>maxY<span class="dp">·</span>=<span class="dp">·</span>Math.max(maxY,<span class="dp">·</span>transformed.y);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>x:<span class="dp">·</span>minX,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y:<span class="dp">·</span>minY,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>width:<span class="dp">·</span>maxX<span class="dp">·</span>-<span class="dp">·</span>minX,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>height:<span class="dp">·</span>maxY<span class="dp">·</span>-<span class="dp">·</span>minY,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_drawCachedSceneCanvas(context)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.save();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context._applyOpacity(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context._applyGlobalCompositeOperation(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>canvasCache<span class="dp">·</span>=<span class="dp">·</span>this._getCanvasCache();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.translate(canvasCache.x,<span class="dp">·</span>canvasCache.y);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>cacheCanvas<span class="dp">·</span>=<span class="dp">·</span>this._getCachedSceneCanvas();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>ratio<span class="dp">·</span>=<span class="dp">·</span>cacheCanvas.pixelRatio;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.drawImage(cacheCanvas._canvas,<span class="dp">·</span>0,<span class="dp">·</span>0,<span class="dp">·</span>cacheCanvas.width<span class="dp">·</span>/<span class="dp">·</span>ratio,<span class="dp">·</span>cacheCanvas.height<span class="dp">·</span>/<span class="dp">·</span>ratio);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.restore();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_drawCachedHitCanvas(context)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>canvasCache<span class="dp">·</span>=<span class="dp">·</span>this._getCanvasCache(),<span class="dp">·</span>hitCanvas<span class="dp">·</span>=<span class="dp">·</span>canvasCache.hit;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.save();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.translate(canvasCache.x,<span class="dp">·</span>canvasCache.y);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.drawImage(hitCanvas._canvas,<span class="dp">·</span>0,<span class="dp">·</span>0,<span class="dp">·</span>hitCanvas.width<span class="dp">·</span>/<span class="dp">·</span>hitCanvas.pixelRatio,<span class="dp">·</span>hitCanvas.height<span class="dp">·</span>/<span class="dp">·</span>hitCanvas.pixelRatio);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.restore();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_getCachedSceneCanvas()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>filters<span class="dp">·</span>=<span class="dp">·</span>this.filters(),<span class="dp">·</span>cachedCanvas<span class="dp">·</span>=<span class="dp">·</span>this._getCanvasCache(),<span class="dp">·</span>sceneCanvas<span class="dp">·</span>=<span class="dp">·</span>cachedCanvas.scene,<span class="dp">·</span>filterCanvas<span class="dp">·</span>=<span class="dp">·</span>cachedCanvas.filter,<span class="dp">·</span>filterContext<span class="dp">·</span>=<span class="dp">·</span>filterCanvas.getContext(),<span class="dp">·</span>len,<span class="dp">·</span>imageData,<span class="dp">·</span>n,<span class="dp">·</span>filter;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(filters)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!this._filterUpToDate)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>ratio<span class="dp">·</span>=<span class="dp">·</span>sceneCanvas.pixelRatio;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>filterCanvas.setSize(sceneCanvas.width<span class="dp">·</span>/<span class="dp">·</span>sceneCanvas.pixelRatio,<span class="dp">·</span>sceneCanvas.height<span class="dp">·</span>/<span class="dp">·</span>sceneCanvas.pixelRatio);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>try<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>len<span class="dp">·</span>=<span class="dp">·</span>filters.length;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>filterContext.clear();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>filterContext.drawImage(sceneCanvas._canvas,<span class="dp">·</span>0,<span class="dp">·</span>0,<span class="dp">·</span>sceneCanvas.getWidth()<span class="dp">·</span>/<span class="dp">·</span>ratio,<span class="dp">·</span>sceneCanvas.getHeight()<span class="dp">·</span>/<span class="dp">·</span>ratio);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>imageData<span class="dp">·</span>=<span class="dp">·</span>filterContext.getImageData(0,<span class="dp">·</span>0,<span class="dp">·</span>filterCanvas.getWidth(),<span class="dp">·</span>filterCanvas.getHeight());\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(n<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>n<span class="dp">·</span>&lt;<span class="dp">·</span>len;<span class="dp">·</span>n++)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>filter<span class="dp">·</span>=<span class="dp">·</span>filters[n];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(typeof<span class="dp">·</span>filter<span class="dp">·</span>!==<span class="dp">·</span>&#x27;function&#x27;)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.error(&#x27;Filter<span class="dp">·</span>should<span class="dp">·</span>be<span class="dp">·</span>type<span class="dp">·</span>of<span class="dp">·</span>function,<span class="dp">·</span>but<span class="dp">·</span>got<span class="dp">·</span>&#x27;<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>typeof<span class="dp">·</span>filter<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;<span class="dp">·</span>instead.<span class="dp">·</span>Please<span class="dp">·</span>check<span class="dp">·</span>correct<span class="dp">·</span>filters&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>continue;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>filter.call(this,<span class="dp">·</span>imageData);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>filterContext.putImageData(imageData,<span class="dp">·</span>0,<span class="dp">·</span>0);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>catch<span class="dp">·</span>(e)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.error(&#x27;Unable<span class="dp">·</span>to<span class="dp">·</span>apply<span class="dp">·</span>filter.<span class="dp">·</span>&#x27;<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>e.message<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;<span class="dp">·</span>This<span class="dp">·</span>post<span class="dp">·</span>my<span class="dp">·</span>help<span class="dp">·</span>you<span class="dp">·</span>https://konvajs.org/docs/posts/Tainted_Canvas.html.&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._filterUpToDate<span class="dp">·</span>=<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>filterCanvas;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>sceneCanvas;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>on(evtStr,<span class="dp">·</span>handler)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._cache<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>this._cache.delete(ALL_LISTENERS);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(arguments.length<span class="dp">·</span>===<span class="dp">·</span>3)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._delegate.apply(this,<span class="dp">·</span>arguments);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>events<span class="dp">·</span>=<span class="dp">·</span>evtStr.split(SPACE),<span class="dp">·</span>len<span class="dp">·</span>=<span class="dp">·</span>events.length,<span class="dp">·</span>n,<span class="dp">·</span>event,<span class="dp">·</span>parts,<span class="dp">·</span>baseEvent,<span class="dp">·</span>name;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(n<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>n<span class="dp">·</span>&lt;<span class="dp">·</span>len;<span class="dp">·</span>n++)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>event<span class="dp">·</span>=<span class="dp">·</span>events[n];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>parts<span class="dp">·</span>=<span class="dp">·</span>event.split(&#x27;.&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>baseEvent<span class="dp">·</span>=<span class="dp">·</span>parts[0];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>name<span class="dp">·</span>=<span class="dp">·</span>parts[1]<span class="dp">·</span>||<span class="dp">·</span>&#x27;&#x27;;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!this.eventListeners[baseEvent])<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.eventListeners[baseEvent]<span class="dp">·</span>=<span class="dp">·</span>[];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.eventListeners[baseEvent].push({\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>name:<span class="dp">·</span>name,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>handler:<span class="dp">·</span>handler,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>off(evtStr,<span class="dp">·</span>callback)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>events<span class="dp">·</span>=<span class="dp">·</span>(evtStr<span class="dp">·</span>||<span class="dp">·</span>&#x27;&#x27;).split(SPACE),<span class="dp">·</span>len<span class="dp">·</span>=<span class="dp">·</span>events.length,<span class="dp">·</span>n,<span class="dp">·</span>t,<span class="dp">·</span>event,<span class="dp">·</span>parts,<span class="dp">·</span>baseEvent,<span class="dp">·</span>name;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._cache<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>this._cache.delete(ALL_LISTENERS);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!evtStr)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(t<span class="dp">·</span>in<span class="dp">·</span>this.eventListeners)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._off(t);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(n<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>n<span class="dp">·</span>&lt;<span class="dp">·</span>len;<span class="dp">·</span>n++)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>event<span class="dp">·</span>=<span class="dp">·</span>events[n];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>parts<span class="dp">·</span>=<span class="dp">·</span>event.split(&#x27;.&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>baseEvent<span class="dp">·</span>=<span class="dp">·</span>parts[0];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>name<span class="dp">·</span>=<span class="dp">·</span>parts[1];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(baseEvent)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(this.eventListeners[baseEvent])<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._off(baseEvent,<span class="dp">·</span>name,<span class="dp">·</span>callback);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(t<span class="dp">·</span>in<span class="dp">·</span>this.eventListeners)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._off(t,<span class="dp">·</span>name,<span class="dp">·</span>callback);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dispatchEvent(evt)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>e<span class="dp">·</span>=<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>target:<span class="dp">·</span>this,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>type:<span class="dp">·</span>evt.type,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>evt:<span class="dp">·</span>evt,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.fire(evt.type,<span class="dp">·</span>e);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>addEventListener(type,<span class="dp">·</span>handler)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.on(type,<span class="dp">·</span>function<span class="dp">·</span>(evt)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>handler.call(this,<span class="dp">·</span>evt.evt);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>removeEventListener(type)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.off(type);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_delegate(event,<span class="dp">·</span>selector,<span class="dp">·</span>handler)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>stopNode<span class="dp">·</span>=<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.on(event,<span class="dp">·</span>function<span class="dp">·</span>(evt)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>targets<span class="dp">·</span>=<span class="dp">·</span>evt.target.findAncestors(selector,<span class="dp">·</span>true,<span class="dp">·</span>stopNode);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(var<span class="dp">·</span>i<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>i<span class="dp">·</span>&lt;<span class="dp">·</span>targets.length;<span class="dp">·</span>i++)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>evt<span class="dp">·</span>=<span class="dp">·</span>Util.cloneObject(evt);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>evt.currentTarget<span class="dp">·</span>=<span class="dp">·</span>targets[i];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>handler.call(targets[i],<span class="dp">·</span>evt);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>remove()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(this.isDragging())<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.stopDrag();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>DD._dragElements.delete(this._id);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._remove();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_clearCaches()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearSelfAndDescendantCache(ABSOLUTE_SCALE);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearSelfAndDescendantCache(STAGE);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearSelfAndDescendantCache(VISIBLE);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearSelfAndDescendantCache(LISTENING);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_remove()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearCaches();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>parent<span class="dp">·</span>=<span class="dp">·</span>this.getParent();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(parent<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>parent.children)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>parent.children.splice(this.index,<span class="dp">·</span>1);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>parent._setChildrenIndices();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.parent<span class="dp">·</span>=<span class="dp">·</span>null;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>destroy()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.remove();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.clearCache();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getAttr(attr)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>method<span class="dp">·</span>=<span class="dp">·</span>&#x27;get&#x27;<span class="dp">·</span>+<span class="dp">·</span>Util._capitalize(attr);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(Util._isFunction(this[method]))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this[method]();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.attrs[attr];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getAncestors()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>parent<span class="dp">·</span>=<span class="dp">·</span>this.getParent(),<span class="dp">·</span>ancestors<span class="dp">·</span>=<span class="dp">·</span>[];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>while<span class="dp">·</span>(parent)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>ancestors.push(parent);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>parent<span class="dp">·</span>=<span class="dp">·</span>parent.getParent();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>ancestors;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getAttrs()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.attrs<span class="dp">·</span>||<span class="dp">·</span>{};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>setAttrs(config)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._batchTransformChanges(()<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>key,<span class="dp">·</span>method;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!config)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(key<span class="dp">·</span>in<span class="dp">·</span>config)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(key<span class="dp">·</span>===<span class="dp">·</span>CHILDREN)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>continue;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>method<span class="dp">·</span>=<span class="dp">·</span>SET<span class="dp">·</span>+<span class="dp">·</span>Util._capitalize(key);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(Util._isFunction(this[method]))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this[method](config[key]);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._setAttr(key,<span class="dp">·</span>config[key]);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>isListening()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._getCache(LISTENING,<span class="dp">·</span>this._isListening);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_isListening(relativeTo)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>listening<span class="dp">·</span>=<span class="dp">·</span>this.listening();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!listening)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>parent<span class="dp">·</span>=<span class="dp">·</span>this.getParent();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(parent<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>parent<span class="dp">·</span>!==<span class="dp">·</span>relativeTo<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>this<span class="dp">·</span>!==<span class="dp">·</span>relativeTo)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>parent._isListening(relativeTo);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>isVisible()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._getCache(VISIBLE,<span class="dp">·</span>this._isVisible);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_isVisible(relativeTo)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>visible<span class="dp">·</span>=<span class="dp">·</span>this.visible();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!visible)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>parent<span class="dp">·</span>=<span class="dp">·</span>this.getParent();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(parent<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>parent<span class="dp">·</span>!==<span class="dp">·</span>relativeTo<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>this<span class="dp">·</span>!==<span class="dp">·</span>relativeTo)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>parent._isVisible(relativeTo);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>shouldDrawHit(top,<span class="dp">·</span>skipDragCheck<span class="dp">·</span>=<span class="dp">·</span>false)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(top)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._isVisible(top)<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>this._isListening(top);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>layer<span class="dp">·</span>=<span class="dp">·</span>this.getLayer();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>layerUnderDrag<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>DD._dragElements.forEach((elem)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(elem.dragStatus<span class="dp">·</span>!==<span class="dp">·</span>&#x27;dragging&#x27;)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>if<span class="dp">·</span>(elem.node.nodeType<span class="dp">·</span>===<span class="dp">·</span>&#x27;Stage&#x27;)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>layerUnderDrag<span class="dp">·</span>=<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>if<span class="dp">·</span>(elem.node.getLayer()<span class="dp">·</span>===<span class="dp">·</span>layer)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>layerUnderDrag<span class="dp">·</span>=<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>dragSkip<span class="dp">·</span>=<span class="dp">·</span>!skipDragCheck<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>!Konva.hitOnDragEnabled<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>layerUnderDrag;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.isListening()<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>this.isVisible()<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>!dragSkip;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>show()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.visible(true);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hide()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.visible(false);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getZIndex()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.index<span class="dp">·</span>||<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getAbsoluteZIndex()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>depth<span class="dp">·</span>=<span class="dp">·</span>this.getDepth(),<span class="dp">·</span>that<span class="dp">·</span>=<span class="dp">·</span>this,<span class="dp">·</span>index<span class="dp">·</span>=<span class="dp">·</span>0,<span class="dp">·</span>nodes,<span class="dp">·</span>len,<span class="dp">·</span>n,<span class="dp">·</span>child;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>function<span class="dp">·</span>addChildren(children)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>nodes<span class="dp">·</span>=<span class="dp">·</span>[];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>len<span class="dp">·</span>=<span class="dp">·</span>children.length;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(n<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>n<span class="dp">·</span>&lt;<span class="dp">·</span>len;<span class="dp">·</span>n++)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>child<span class="dp">·</span>=<span class="dp">·</span>children[n];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>index++;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(child.nodeType<span class="dp">·</span>!==<span class="dp">·</span>SHAPE)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>nodes<span class="dp">·</span>=<span class="dp">·</span>nodes.concat(child.getChildren().slice());\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(child._id<span class="dp">·</span>===<span class="dp">·</span>that._id)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n<span class="dp">·</span>=<span class="dp">·</span>len;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(nodes.length<span class="dp">·</span>&gt;<span class="dp">·</span>0<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>nodes[0].getDepth()<span class="dp">·</span>&lt;=<span class="dp">·</span>depth)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>addChildren(nodes);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(that.nodeType<span class="dp">·</span>!==<span class="dp">·</span>UPPER_STAGE)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>addChildren(that.getStage().getChildren());\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>index;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getDepth()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>depth<span class="dp">·</span>=<span class="dp">·</span>0,<span class="dp">·</span>parent<span class="dp">·</span>=<span class="dp">·</span>this.parent;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>while<span class="dp">·</span>(parent)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>depth++;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>parent<span class="dp">·</span>=<span class="dp">·</span>parent.parent;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>depth;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_batchTransformChanges(func)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._batchingTransformChange<span class="dp">·</span>=<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>func();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._batchingTransformChange<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(this._needClearTransformCache)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearCache(TRANSFORM);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._needClearTransformCache<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>setPosition(pos)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._batchTransformChanges(()<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.x(pos.x);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.y(pos.y);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getPosition()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>x:<span class="dp">·</span>this.x(),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y:<span class="dp">·</span>this.y(),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getRelativePointerPosition()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!this.getStage())<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>null;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>pos<span class="dp">·</span>=<span class="dp">·</span>this.getStage().getPointerPosition();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!pos)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>null;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>transform<span class="dp">·</span>=<span class="dp">·</span>this.getAbsoluteTransform().copy();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>transform.invert();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>transform.point(pos);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getAbsolutePosition(top)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>let<span class="dp">·</span>haveCachedParent<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>let<span class="dp">·</span>parent<span class="dp">·</span>=<span class="dp">·</span>this.parent;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>while<span class="dp">·</span>(parent)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(parent.isCached())<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>haveCachedParent<span class="dp">·</span>=<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>break;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>parent<span class="dp">·</span>=<span class="dp">·</span>parent.parent;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(haveCachedParent<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>!top)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>top<span class="dp">·</span>=<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>absoluteMatrix<span class="dp">·</span>=<span class="dp">·</span>this.getAbsoluteTransform(top).getMatrix(),<span class="dp">·</span>absoluteTransform<span class="dp">·</span>=<span class="dp">·</span>new<span class="dp">·</span>Transform(),<span class="dp">·</span>offset<span class="dp">·</span>=<span class="dp">·</span>this.offset();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>absoluteTransform.m<span class="dp">·</span>=<span class="dp">·</span>absoluteMatrix.slice();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>absoluteTransform.translate(offset.x,<span class="dp">·</span>offset.y);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>absoluteTransform.getTranslation();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>setAbsolutePosition(pos)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>origTrans<span class="dp">·</span>=<span class="dp">·</span>this._clearTransform();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.attrs.x<span class="dp">·</span>=<span class="dp">·</span>origTrans.x;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.attrs.y<span class="dp">·</span>=<span class="dp">·</span>origTrans.y;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>delete<span class="dp">·</span>origTrans.x;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>delete<span class="dp">·</span>origTrans.y;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearCache(TRANSFORM);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>it<span class="dp">·</span>=<span class="dp">·</span>this._getAbsoluteTransform().copy();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>it.invert();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>it.translate(pos.x,<span class="dp">·</span>pos.y);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>pos<span class="dp">·</span>=<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>x:<span class="dp">·</span>this.attrs.x<span class="dp">·</span>+<span class="dp">·</span>it.getTranslation().x,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y:<span class="dp">·</span>this.attrs.y<span class="dp">·</span>+<span class="dp">·</span>it.getTranslation().y,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._setTransform(origTrans);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.setPosition({<span class="dp">·</span>x:<span class="dp">·</span>pos.x,<span class="dp">·</span>y:<span class="dp">·</span>pos.y<span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearCache(TRANSFORM);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_setTransform(trans)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>key;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(key<span class="dp">·</span>in<span class="dp">·</span>trans)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.attrs[key]<span class="dp">·</span>=<span class="dp">·</span>trans[key];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_clearTransform()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>trans<span class="dp">·</span>=<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>x:<span class="dp">·</span>this.x(),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y:<span class="dp">·</span>this.y(),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>rotation:<span class="dp">·</span>this.rotation(),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>scaleX:<span class="dp">·</span>this.scaleX(),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>scaleY:<span class="dp">·</span>this.scaleY(),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>offsetX:<span class="dp">·</span>this.offsetX(),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>offsetY:<span class="dp">·</span>this.offsetY(),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>skewX:<span class="dp">·</span>this.skewX(),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>skewY:<span class="dp">·</span>this.skewY(),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.attrs.x<span class="dp">·</span>=<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.attrs.y<span class="dp">·</span>=<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.attrs.rotation<span class="dp">·</span>=<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.attrs.scaleX<span class="dp">·</span>=<span class="dp">·</span>1;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.attrs.scaleY<span class="dp">·</span>=<span class="dp">·</span>1;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.attrs.offsetX<span class="dp">·</span>=<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.attrs.offsetY<span class="dp">·</span>=<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.attrs.skewX<span class="dp">·</span>=<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.attrs.skewY<span class="dp">·</span>=<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>trans;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>move(change)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>changeX<span class="dp">·</span>=<span class="dp">·</span>change.x,<span class="dp">·</span>changeY<span class="dp">·</span>=<span class="dp">·</span>change.y,<span class="dp">·</span>x<span class="dp">·</span>=<span class="dp">·</span>this.x(),<span class="dp">·</span>y<span class="dp">·</span>=<span class="dp">·</span>this.y();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(changeX<span class="dp">·</span>!==<span class="dp">·</span>undefined)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>x<span class="dp">·</span>+=<span class="dp">·</span>changeX;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(changeY<span class="dp">·</span>!==<span class="dp">·</span>undefined)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y<span class="dp">·</span>+=<span class="dp">·</span>changeY;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.setPosition({<span class="dp">·</span>x:<span class="dp">·</span>x,<span class="dp">·</span>y:<span class="dp">·</span>y<span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_eachAncestorReverse(func,<span class="dp">·</span>top)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>family<span class="dp">·</span>=<span class="dp">·</span>[],<span class="dp">·</span>parent<span class="dp">·</span>=<span class="dp">·</span>this.getParent(),<span class="dp">·</span>len,<span class="dp">·</span>n;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(top<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>top._id<span class="dp">·</span>===<span class="dp">·</span>this._id)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>family.unshift(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>while<span class="dp">·</span>(parent<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>(!top<span class="dp">·</span>||<span class="dp">·</span>parent._id<span class="dp">·</span>!==<span class="dp">·</span>top._id))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>family.unshift(parent);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>parent<span class="dp">·</span>=<span class="dp">·</span>parent.parent;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>len<span class="dp">·</span>=<span class="dp">·</span>family.length;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(n<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>n<span class="dp">·</span>&lt;<span class="dp">·</span>len;<span class="dp">·</span>n++)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>func(family[n]);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>rotate(theta)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.rotation(this.rotation()<span class="dp">·</span>+<span class="dp">·</span>theta);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>moveToTop()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!this.parent)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.warn(&#x27;Node<span class="dp">·</span>has<span class="dp">·</span>no<span class="dp">·</span>parent.<span class="dp">·</span>moveToTop<span class="dp">·</span>function<span class="dp">·</span>is<span class="dp">·</span>ignored.&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>index<span class="dp">·</span>=<span class="dp">·</span>this.index,<span class="dp">·</span>len<span class="dp">·</span>=<span class="dp">·</span>this.parent.getChildren().length;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(index<span class="dp">·</span>&lt;<span class="dp">·</span>len<span class="dp">·</span>-<span class="dp">·</span>1)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.parent.children.splice(index,<span class="dp">·</span>1);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.parent.children.push(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.parent._setChildrenIndices();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>moveUp()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!this.parent)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.warn(&#x27;Node<span class="dp">·</span>has<span class="dp">·</span>no<span class="dp">·</span>parent.<span class="dp">·</span>moveUp<span class="dp">·</span>function<span class="dp">·</span>is<span class="dp">·</span>ignored.&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>index<span class="dp">·</span>=<span class="dp">·</span>this.index,<span class="dp">·</span>len<span class="dp">·</span>=<span class="dp">·</span>this.parent.getChildren().length;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(index<span class="dp">·</span>&lt;<span class="dp">·</span>len<span class="dp">·</span>-<span class="dp">·</span>1)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.parent.children.splice(index,<span class="dp">·</span>1);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.parent.children.splice(index<span class="dp">·</span>+<span class="dp">·</span>1,<span class="dp">·</span>0,<span class="dp">·</span>this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.parent._setChildrenIndices();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>moveDown()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!this.parent)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.warn(&#x27;Node<span class="dp">·</span>has<span class="dp">·</span>no<span class="dp">·</span>parent.<span class="dp">·</span>moveDown<span class="dp">·</span>function<span class="dp">·</span>is<span class="dp">·</span>ignored.&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>index<span class="dp">·</span>=<span class="dp">·</span>this.index;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(index<span class="dp">·</span>&gt;<span class="dp">·</span>0)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.parent.children.splice(index,<span class="dp">·</span>1);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.parent.children.splice(index<span class="dp">·</span>-<span class="dp">·</span>1,<span class="dp">·</span>0,<span class="dp">·</span>this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.parent._setChildrenIndices();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>moveToBottom()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!this.parent)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.warn(&#x27;Node<span class="dp">·</span>has<span class="dp">·</span>no<span class="dp">·</span>parent.<span class="dp">·</span>moveToBottom<span class="dp">·</span>function<span class="dp">·</span>is<span class="dp">·</span>ignored.&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>index<span class="dp">·</span>=<span class="dp">·</span>this.index;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(index<span class="dp">·</span>&gt;<span class="dp">·</span>0)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.parent.children.splice(index,<span class="dp">·</span>1);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.parent.children.unshift(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.parent._setChildrenIndices();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>setZIndex(zIndex)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!this.parent)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.warn(&#x27;Node<span class="dp">·</span>has<span class="dp">·</span>no<span class="dp">·</span>parent.<span class="dp">·</span>zIndex<span class="dp">·</span>parameter<span class="dp">·</span>is<span class="dp">·</span>ignored.&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(zIndex<span class="dp">·</span>&lt;<span class="dp">·</span>0<span class="dp">·</span>||<span class="dp">·</span>zIndex<span class="dp">·</span>&gt;=<span class="dp">·</span>this.parent.children.length)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.warn(&#x27;Unexpected<span class="dp">·</span>value<span class="dp">·</span>&#x27;<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>zIndex<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;<span class="dp">·</span>for<span class="dp">·</span>zIndex<span class="dp">·</span>property.<span class="dp">·</span>zIndex<span class="dp">·</span>is<span class="dp">·</span>just<span class="dp">·</span>index<span class="dp">·</span>of<span class="dp">·</span>a<span class="dp">·</span>node<span class="dp">·</span>in<span class="dp">·</span>children<span class="dp">·</span>of<span class="dp">·</span>its<span class="dp">·</span>parent.<span class="dp">·</span>Expected<span class="dp">·</span>value<span class="dp">·</span>is<span class="dp">·</span>from<span class="dp">·</span>0<span class="dp">·</span>to<span class="dp">·</span>&#x27;<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(this.parent.children.length<span class="dp">·</span>-<span class="dp">·</span>1)<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;.&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>index<span class="dp">·</span>=<span class="dp">·</span>this.index;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.parent.children.splice(index,<span class="dp">·</span>1);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.parent.children.splice(zIndex,<span class="dp">·</span>0,<span class="dp">·</span>this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.parent._setChildrenIndices();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getAbsoluteOpacity()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._getCache(ABSOLUTE_OPACITY,<span class="dp">·</span>this._getAbsoluteOpacity);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_getAbsoluteOpacity()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>absOpacity<span class="dp">·</span>=<span class="dp">·</span>this.opacity();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>parent<span class="dp">·</span>=<span class="dp">·</span>this.getParent();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(parent<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>!parent._isUnderCache)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>absOpacity<span class="dp">·</span>*=<span class="dp">·</span>parent.getAbsoluteOpacity();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>absOpacity;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>moveTo(newContainer)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(this.getParent()<span class="dp">·</span>!==<span class="dp">·</span>newContainer)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._remove();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>newContainer.add(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>toObject()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>obj<span class="dp">·</span>=<span class="dp">·</span>{},<span class="dp">·</span>attrs<span class="dp">·</span>=<span class="dp">·</span>this.getAttrs(),<span class="dp">·</span>key,<span class="dp">·</span>val,<span class="dp">·</span>getter,<span class="dp">·</span>defaultValue,<span class="dp">·</span>nonPlainObject;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>obj.attrs<span class="dp">·</span>=<span class="dp">·</span>{};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(key<span class="dp">·</span>in<span class="dp">·</span>attrs)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>val<span class="dp">·</span>=<span class="dp">·</span>attrs[key];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>nonPlainObject<span class="dp">·</span>=\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.isObject(val)<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>!Util._isPlainObject(val)<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>!Util._isArray(val);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(nonPlainObject)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>continue;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getter<span class="dp">·</span>=<span class="dp">·</span>typeof<span class="dp">·</span>this[key]<span class="dp">·</span>===<span class="dp">·</span>&#x27;function&#x27;<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>this[key];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>delete<span class="dp">·</span>attrs[key];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>defaultValue<span class="dp">·</span>=<span class="dp">·</span>getter<span class="dp">·</span>?<span class="dp">·</span>getter.call(this)<span class="dp">·</span>:<span class="dp">·</span>null;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>attrs[key]<span class="dp">·</span>=<span class="dp">·</span>val;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(defaultValue<span class="dp">·</span>!==<span class="dp">·</span>val)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>obj.attrs[key]<span class="dp">·</span>=<span class="dp">·</span>val;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>obj.className<span class="dp">·</span>=<span class="dp">·</span>this.getClassName();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>Util._prepareToStringify(obj);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>toJSON()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>JSON.stringify(this.toObject());\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getParent()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.parent;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>findAncestors(selector,<span class="dp">·</span>includeSelf,<span class="dp">·</span>stopNode)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>res<span class="dp">·</span>=<span class="dp">·</span>[];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(includeSelf<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>this._isMatch(selector))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>res.push(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>ancestor<span class="dp">·</span>=<span class="dp">·</span>this.parent;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>while<span class="dp">·</span>(ancestor)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(ancestor<span class="dp">·</span>===<span class="dp">·</span>stopNode)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>res;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(ancestor._isMatch(selector))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>res.push(ancestor);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>ancestor<span class="dp">·</span>=<span class="dp">·</span>ancestor.parent;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>res;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>isAncestorOf(node)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>findAncestor(selector,<span class="dp">·</span>includeSelf,<span class="dp">·</span>stopNode)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.findAncestors(selector,<span class="dp">·</span>includeSelf,<span class="dp">·</span>stopNode)[0];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_isMatch(selector)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!selector)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(typeof<span class="dp">·</span>selector<span class="dp">·</span>===<span class="dp">·</span>&#x27;function&#x27;)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>selector(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>selectorArr<span class="dp">·</span>=<span class="dp">·</span>selector.replace(/<span class="dp">·</span>/g,<span class="dp">·</span>&#x27;&#x27;).split(&#x27;,&#x27;),<span class="dp">·</span>len<span class="dp">·</span>=<span class="dp">·</span>selectorArr.length,<span class="dp">·</span>n,<span class="dp">·</span>sel;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(n<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>n<span class="dp">·</span>&lt;<span class="dp">·</span>len;<span class="dp">·</span>n++)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sel<span class="dp">·</span>=<span class="dp">·</span>selectorArr[n];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!Util.isValidSelector(sel))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.warn(&#x27;Selector<span class="dp">·</span>\&quot;&#x27;<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sel<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;\&quot;<span class="dp">·</span>is<span class="dp">·</span>invalid.<span class="dp">·</span>Allowed<span class="dp">·</span>selectors<span class="dp">·</span>examples<span class="dp">·</span>are<span class="dp">·</span>\&quot;#foo\&quot;,<span class="dp">·</span>\&quot;.bar\&quot;<span class="dp">·</span>or<span class="dp">·</span>\&quot;Group\&quot;.&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.warn(&#x27;If<span class="dp">·</span>you<span class="dp">·</span>have<span class="dp">·</span>a<span class="dp">·</span>custom<span class="dp">·</span>shape<span class="dp">·</span>with<span class="dp">·</span>such<span class="dp">·</span>className,<span class="dp">·</span>please<span class="dp">·</span>change<span class="dp">·</span>it<span class="dp">·</span>to<span class="dp">·</span>start<span class="dp">·</span>with<span class="dp">·</span>upper<span class="dp">·</span>letter<span class="dp">·</span>like<span class="dp">·</span>\&quot;Triangle\&quot;.&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.warn(&#x27;Konva<span class="dp">·</span>is<span class="dp">·</span>awesome,<span class="dp">·</span>right?&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(sel.charAt(0)<span class="dp">·</span>===<span class="dp">·</span>&#x27;#&#x27;)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(this.id()<span class="dp">·</span>===<span class="dp">·</span>sel.slice(1))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>if<span class="dp">·</span>(sel.charAt(0)<span class="dp">·</span>===<span class="dp">·</span>&#x27;.&#x27;)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(this.hasName(sel.slice(1)))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>if<span class="dp">·</span>(this.className<span class="dp">·</span>===<span class="dp">·</span>sel<span class="dp">·</span>||<span class="dp">·</span>this.nodeType<span class="dp">·</span>===<span class="dp">·</span>sel)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getLayer()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>parent<span class="dp">·</span>=<span class="dp">·</span>this.getParent();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>parent<span class="dp">·</span>?<span class="dp">·</span>parent.getLayer()<span class="dp">·</span>:<span class="dp">·</span>null;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getStage()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._getCache(STAGE,<span class="dp">·</span>this._getStage);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_getStage()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>parent<span class="dp">·</span>=<span class="dp">·</span>this.getParent();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(parent)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>parent.getStage();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>undefined;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>fire(eventType,<span class="dp">·</span>evt<span class="dp">·</span>=<span class="dp">·</span>{},<span class="dp">·</span>bubble)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>evt.target<span class="dp">·</span>=<span class="dp">·</span>evt.target<span class="dp">·</span>||<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(bubble)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._fireAndBubble(eventType,<span class="dp">·</span>evt);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._fire(eventType,<span class="dp">·</span>evt);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getAbsoluteTransform(top)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(top)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._getAbsoluteTransform(top);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._getCache(ABSOLUTE_TRANSFORM,<span class="dp">·</span>this._getAbsoluteTransform);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_getAbsoluteTransform(top)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>at;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(top)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>at<span class="dp">·</span>=<span class="dp">·</span>new<span class="dp">·</span>Transform();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._eachAncestorReverse(function<span class="dp">·</span>(node)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>transformsEnabled<span class="dp">·</span>=<span class="dp">·</span>node.transformsEnabled();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(transformsEnabled<span class="dp">·</span>===<span class="dp">·</span>&#x27;all&#x27;)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>at.multiply(node.getTransform());\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>if<span class="dp">·</span>(transformsEnabled<span class="dp">·</span>===<span class="dp">·</span>&#x27;position&#x27;)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>at.translate(node.x()<span class="dp">·</span>-<span class="dp">·</span>node.offsetX(),<span class="dp">·</span>node.y()<span class="dp">·</span>-<span class="dp">·</span>node.offsetY());\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},<span class="dp">·</span>top);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>at;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>at<span class="dp">·</span>=<span class="dp">·</span>this._cache.get(ABSOLUTE_TRANSFORM)<span class="dp">·</span>||<span class="dp">·</span>new<span class="dp">·</span>Transform();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(this.parent)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.parent.getAbsoluteTransform().copyInto(at);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>at.reset();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>transformsEnabled<span class="dp">·</span>=<span class="dp">·</span>this.transformsEnabled();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(transformsEnabled<span class="dp">·</span>===<span class="dp">·</span>&#x27;all&#x27;)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>at.multiply(this.getTransform());\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>if<span class="dp">·</span>(transformsEnabled<span class="dp">·</span>===<span class="dp">·</span>&#x27;position&#x27;)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>x<span class="dp">·</span>=<span class="dp">·</span>this.attrs.x<span class="dp">·</span>||<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>y<span class="dp">·</span>=<span class="dp">·</span>this.attrs.y<span class="dp">·</span>||<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>offsetX<span class="dp">·</span>=<span class="dp">·</span>this.attrs.offsetX<span class="dp">·</span>||<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>offsetY<span class="dp">·</span>=<span class="dp">·</span>this.attrs.offsetY<span class="dp">·</span>||<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>at.translate(x<span class="dp">·</span>-<span class="dp">·</span>offsetX,<span class="dp">·</span>y<span class="dp">·</span>-<span class="dp">·</span>offsetY);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>at.dirty<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>at;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getAbsoluteScale(top)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>parent<span class="dp">·</span>=<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>while<span class="dp">·</span>(parent)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(parent._isUnderCache)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>top<span class="dp">·</span>=<span class="dp">·</span>parent;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>parent<span class="dp">·</span>=<span class="dp">·</span>parent.getParent();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>transform<span class="dp">·</span>=<span class="dp">·</span>this.getAbsoluteTransform(top);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>attrs<span class="dp">·</span>=<span class="dp">·</span>transform.decompose();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>x:<span class="dp">·</span>attrs.scaleX,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y:<span class="dp">·</span>attrs.scaleY,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getAbsoluteRotation()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.getAbsoluteTransform().decompose().rotation;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getTransform()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._getCache(TRANSFORM,<span class="dp">·</span>this._getTransform);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_getTransform()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>_a,<span class="dp">·</span>_b;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>m<span class="dp">·</span>=<span class="dp">·</span>this._cache.get(TRANSFORM)<span class="dp">·</span>||<span class="dp">·</span>new<span class="dp">·</span>Transform();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>m.reset();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>x<span class="dp">·</span>=<span class="dp">·</span>this.x(),<span class="dp">·</span>y<span class="dp">·</span>=<span class="dp">·</span>this.y(),<span class="dp">·</span>rotation<span class="dp">·</span>=<span class="dp">·</span>Konva.getAngle(this.rotation()),<span class="dp">·</span>scaleX<span class="dp">·</span>=<span class="dp">·</span>(_a<span class="dp">·</span>=<span class="dp">·</span>this.attrs.scaleX)<span class="dp">·</span>!==<span class="dp">·</span>null<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>_a<span class="dp">·</span>!==<span class="dp">·</span>void<span class="dp">·</span>0<span class="dp">·</span>?<span class="dp">·</span>_a<span class="dp">·</span>:<span class="dp">·</span>1,<span class="dp">·</span>scaleY<span class="dp">·</span>=<span class="dp">·</span>(_b<span class="dp">·</span>=<span class="dp">·</span>this.attrs.scaleY)<span class="dp">·</span>!==<span class="dp">·</span>null<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>_b<span class="dp">·</span>!==<span class="dp">·</span>void<span class="dp">·</span>0<span class="dp">·</span>?<span class="dp">·</span>_b<span class="dp">·</span>:<span class="dp">·</span>1,<span class="dp">·</span>skewX<span class="dp">·</span>=<span class="dp">·</span>this.attrs.skewX<span class="dp">·</span>||<span class="dp">·</span>0,<span class="dp">·</span>skewY<span class="dp">·</span>=<span class="dp">·</span>this.attrs.skewY<span class="dp">·</span>||<span class="dp">·</span>0,<span class="dp">·</span>offsetX<span class="dp">·</span>=<span class="dp">·</span>this.attrs.offsetX<span class="dp">·</span>||<span class="dp">·</span>0,<span class="dp">·</span>offsetY<span class="dp">·</span>=<span class="dp">·</span>this.attrs.offsetY<span class="dp">·</span>||<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(x<span class="dp">·</span>!==<span class="dp">·</span>0<span class="dp">·</span>||<span class="dp">·</span>y<span class="dp">·</span>!==<span class="dp">·</span>0)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>m.translate(x,<span class="dp">·</span>y);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(rotation<span class="dp">·</span>!==<span class="dp">·</span>0)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>m.rotate(rotation);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(skewX<span class="dp">·</span>!==<span class="dp">·</span>0<span class="dp">·</span>||<span class="dp">·</span>skewY<span class="dp">·</span>!==<span class="dp">·</span>0)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>m.skew(skewX,<span class="dp">·</span>skewY);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(scaleX<span class="dp">·</span>!==<span class="dp">·</span>1<span class="dp">·</span>||<span class="dp">·</span>scaleY<span class="dp">·</span>!==<span class="dp">·</span>1)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>m.scale(scaleX,<span class="dp">·</span>scaleY);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(offsetX<span class="dp">·</span>!==<span class="dp">·</span>0<span class="dp">·</span>||<span class="dp">·</span>offsetY<span class="dp">·</span>!==<span class="dp">·</span>0)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>m.translate(-1<span class="dp">·</span>*<span class="dp">·</span>offsetX,<span class="dp">·</span>-1<span class="dp">·</span>*<span class="dp">·</span>offsetY);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>m.dirty<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>m;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>clone(obj)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>attrs<span class="dp">·</span>=<span class="dp">·</span>Util.cloneObject(this.attrs),<span class="dp">·</span>key,<span class="dp">·</span>allListeners,<span class="dp">·</span>len,<span class="dp">·</span>n,<span class="dp">·</span>listener;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(key<span class="dp">·</span>in<span class="dp">·</span>obj)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>attrs[key]<span class="dp">·</span>=<span class="dp">·</span>obj[key];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>node<span class="dp">·</span>=<span class="dp">·</span>new<span class="dp">·</span>this.constructor(attrs);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(key<span class="dp">·</span>in<span class="dp">·</span>this.eventListeners)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>allListeners<span class="dp">·</span>=<span class="dp">·</span>this.eventListeners[key];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>len<span class="dp">·</span>=<span class="dp">·</span>allListeners.length;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(n<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>n<span class="dp">·</span>&lt;<span class="dp">·</span>len;<span class="dp">·</span>n++)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>listener<span class="dp">·</span>=<span class="dp">·</span>allListeners[n];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(listener.name.indexOf(KONVA)<span class="dp">·</span>&lt;<span class="dp">·</span>0)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!node.eventListeners[key])<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>node.eventListeners[key]<span class="dp">·</span>=<span class="dp">·</span>[];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>node.eventListeners[key].push(listener);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>node;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_toKonvaCanvas(config)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>config<span class="dp">·</span>=<span class="dp">·</span>config<span class="dp">·</span>||<span class="dp">·</span>{};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>box<span class="dp">·</span>=<span class="dp">·</span>this.getClientRect();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>stage<span class="dp">·</span>=<span class="dp">·</span>this.getStage(),<span class="dp">·</span>x<span class="dp">·</span>=<span class="dp">·</span>config.x<span class="dp">·</span>!==<span class="dp">·</span>undefined<span class="dp">·</span>?<span class="dp">·</span>config.x<span class="dp">·</span>:<span class="dp">·</span>Math.floor(box.x),<span class="dp">·</span>y<span class="dp">·</span>=<span class="dp">·</span>config.y<span class="dp">·</span>!==<span class="dp">·</span>undefined<span class="dp">·</span>?<span class="dp">·</span>config.y<span class="dp">·</span>:<span class="dp">·</span>Math.floor(box.y),<span class="dp">·</span>pixelRatio<span class="dp">·</span>=<span class="dp">·</span>config.pixelRatio<span class="dp">·</span>||<span class="dp">·</span>1,<span class="dp">·</span>canvas<span class="dp">·</span>=<span class="dp">·</span>new<span class="dp">·</span>SceneCanvas({\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>width:<span class="dp">·</span>config.width<span class="dp">·</span>||<span class="dp">·</span>Math.ceil(box.width)<span class="dp">·</span>||<span class="dp">·</span>(stage<span class="dp">·</span>?<span class="dp">·</span>stage.width()<span class="dp">·</span>:<span class="dp">·</span>0),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>height:<span class="dp">·</span>config.height<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Math.ceil(box.height)<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(stage<span class="dp">·</span>?<span class="dp">·</span>stage.height()<span class="dp">·</span>:<span class="dp">·</span>0),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>pixelRatio:<span class="dp">·</span>pixelRatio,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}),<span class="dp">·</span>context<span class="dp">·</span>=<span class="dp">·</span>canvas.getContext();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(config.imageSmoothingEnabled<span class="dp">·</span>===<span class="dp">·</span>false)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context._context.imageSmoothingEnabled<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.save();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(x<span class="dp">·</span>||<span class="dp">·</span>y)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.translate(-1<span class="dp">·</span>*<span class="dp">·</span>x,<span class="dp">·</span>-1<span class="dp">·</span>*<span class="dp">·</span>y);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.drawScene(canvas);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.restore();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>canvas;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>toCanvas(config)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._toKonvaCanvas(config)._canvas;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>toDataURL(config)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>config<span class="dp">·</span>=<span class="dp">·</span>config<span class="dp">·</span>||<span class="dp">·</span>{};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>mimeType<span class="dp">·</span>=<span class="dp">·</span>config.mimeType<span class="dp">·</span>||<span class="dp">·</span>null,<span class="dp">·</span>quality<span class="dp">·</span>=<span class="dp">·</span>config.quality<span class="dp">·</span>||<span class="dp">·</span>null;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>url<span class="dp">·</span>=<span class="dp">·</span>this._toKonvaCanvas(config).toDataURL(mimeType,<span class="dp">·</span>quality);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(config.callback)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>config.callback(url);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>url;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>toImage(config)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>new<span class="dp">·</span>Promise((resolve,<span class="dp">·</span>reject)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>try<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>callback<span class="dp">·</span>=<span class="dp">·</span>config<span class="dp">·</span>===<span class="dp">·</span>null<span class="dp">·</span>||<span class="dp">·</span>config<span class="dp">·</span>===<span class="dp">·</span>void<span class="dp">·</span>0<span class="dp">·</span>?<span class="dp">·</span>void<span class="dp">·</span>0<span class="dp">·</span>:<span class="dp">·</span>config.callback;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(callback)\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>delete<span class="dp">·</span>config.callback;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util._urlToImage(this.toDataURL(config),<span class="dp">·</span>function<span class="dp">·</span>(img)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>resolve(img);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>callback<span class="dp">·</span>===<span class="dp">·</span>null<span class="dp">·</span>||<span class="dp">·</span>callback<span class="dp">·</span>===<span class="dp">·</span>void<span class="dp">·</span>0<span class="dp">·</span>?<span class="dp">·</span>void<span class="dp">·</span>0<span class="dp">·</span>:<span class="dp">·</span>callback(img);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>catch<span class="dp">·</span>(err)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reject(err);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>toBlob(config)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>new<span class="dp">·</span>Promise((resolve,<span class="dp">·</span>reject)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>try<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>callback<span class="dp">·</span>=<span class="dp">·</span>config<span class="dp">·</span>===<span class="dp">·</span>null<span class="dp">·</span>||<span class="dp">·</span>config<span class="dp">·</span>===<span class="dp">·</span>void<span class="dp">·</span>0<span class="dp">·</span>?<span class="dp">·</span>void<span class="dp">·</span>0<span class="dp">·</span>:<span class="dp">·</span>config.callback;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(callback)\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>delete<span class="dp">·</span>config.callback;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.toCanvas(config).toBlob((blob)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>resolve(blob);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>callback<span class="dp">·</span>===<span class="dp">·</span>null<span class="dp">·</span>||<span class="dp">·</span>callback<span class="dp">·</span>===<span class="dp">·</span>void<span class="dp">·</span>0<span class="dp">·</span>?<span class="dp">·</span>void<span class="dp">·</span>0<span class="dp">·</span>:<span class="dp">·</span>callback(blob);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>catch<span class="dp">·</span>(err)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reject(err);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>setSize(size)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.width(size.width);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.height(size.height);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getSize()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>width:<span class="dp">·</span>this.width(),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>height:<span class="dp">·</span>this.height(),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getClassName()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.className<span class="dp">·</span>||<span class="dp">·</span>this.nodeType;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getType()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.nodeType;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getDragDistance()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(this.attrs.dragDistance<span class="dp">·</span>!==<span class="dp">·</span>undefined)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.attrs.dragDistance;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>if<span class="dp">·</span>(this.parent)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.parent.getDragDistance();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>Konva.dragDistance;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_off(type,<span class="dp">·</span>name,<span class="dp">·</span>callback)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>evtListeners<span class="dp">·</span>=<span class="dp">·</span>this.eventListeners[type],<span class="dp">·</span>i,<span class="dp">·</span>evtName,<span class="dp">·</span>handler;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(i<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>i<span class="dp">·</span>&lt;<span class="dp">·</span>evtListeners.length;<span class="dp">·</span>i++)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>evtName<span class="dp">·</span>=<span class="dp">·</span>evtListeners[i].name;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>handler<span class="dp">·</span>=<span class="dp">·</span>evtListeners[i].handler;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>((evtName<span class="dp">·</span>!==<span class="dp">·</span>&#x27;konva&#x27;<span class="dp">·</span>||<span class="dp">·</span>name<span class="dp">·</span>===<span class="dp">·</span>&#x27;konva&#x27;)<span class="dp">·</span>&amp;&amp;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(!name<span class="dp">·</span>||<span class="dp">·</span>evtName<span class="dp">·</span>===<span class="dp">·</span>name)<span class="dp">·</span>&amp;&amp;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(!callback<span class="dp">·</span>||<span class="dp">·</span>callback<span class="dp">·</span>===<span class="dp">·</span>handler))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>evtListeners.splice(i,<span class="dp">·</span>1);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(evtListeners.length<span class="dp">·</span>===<span class="dp">·</span>0)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>delete<span class="dp">·</span>this.eventListeners[type];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>break;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>i--;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_fireChangeEvent(attr,<span class="dp">·</span>oldVal,<span class="dp">·</span>newVal)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._fire(attr<span class="dp">·</span>+<span class="dp">·</span>CHANGE,<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>oldVal:<span class="dp">·</span>oldVal,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>newVal:<span class="dp">·</span>newVal,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>addName(name)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!this.hasName(name))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>oldName<span class="dp">·</span>=<span class="dp">·</span>this.name();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>newName<span class="dp">·</span>=<span class="dp">·</span>oldName<span class="dp">·</span>?<span class="dp">·</span>oldName<span class="dp">·</span>+<span class="dp">·</span>&#x27;<span class="dp">·</span>&#x27;<span class="dp">·</span>+<span class="dp">·</span>name<span class="dp">·</span>:<span class="dp">·</span>name;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.name(newName);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hasName(name)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!name)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>fullName<span class="dp">·</span>=<span class="dp">·</span>this.name();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!fullName)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>names<span class="dp">·</span>=<span class="dp">·</span>(fullName<span class="dp">·</span>||<span class="dp">·</span>&#x27;&#x27;).split(/\\s/g);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>names.indexOf(name)<span class="dp">·</span>!==<span class="dp">·</span>-1;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>removeName(name)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>names<span class="dp">·</span>=<span class="dp">·</span>(this.name()<span class="dp">·</span>||<span class="dp">·</span>&#x27;&#x27;).split(/\\s/g);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>index<span class="dp">·</span>=<span class="dp">·</span>names.indexOf(name);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(index<span class="dp">·</span>!==<span class="dp">·</span>-1)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>names.splice(index,<span class="dp">·</span>1);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.name(names.join(&#x27;<span class="dp">·</span>&#x27;));\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>setAttr(attr,<span class="dp">·</span>val)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>func<span class="dp">·</span>=<span class="dp">·</span>this[SET<span class="dp">·</span>+<span class="dp">·</span>Util._capitalize(attr)];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(Util._isFunction(func))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>func.call(this,<span class="dp">·</span>val);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._setAttr(attr,<span class="dp">·</span>val);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_requestDraw()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(Konva.autoDrawEnabled)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>drawNode<span class="dp">·</span>=<span class="dp">·</span>this.getLayer()<span class="dp">·</span>||<span class="dp">·</span>this.getStage();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>drawNode<span class="dp">·</span>===<span class="dp">·</span>null<span class="dp">·</span>||<span class="dp">·</span>drawNode<span class="dp">·</span>===<span class="dp">·</span>void<span class="dp">·</span>0<span class="dp">·</span>?<span class="dp">·</span>void<span class="dp">·</span>0<span class="dp">·</span>:<span class="dp">·</span>drawNode.batchDraw();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_setAttr(key,<span class="dp">·</span>val)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>oldVal<span class="dp">·</span>=<span class="dp">·</span>this.attrs[key];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(oldVal<span class="dp">·</span>===<span class="dp">·</span>val<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>!Util.isObject(val))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(val<span class="dp">·</span>===<span class="dp">·</span>undefined<span class="dp">·</span>||<span class="dp">·</span>val<span class="dp">·</span>===<span class="dp">·</span>null)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>delete<span class="dp">·</span>this.attrs[key];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.attrs[key]<span class="dp">·</span>=<span class="dp">·</span>val;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(this._shouldFireChangeEvents)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._fireChangeEvent(key,<span class="dp">·</span>oldVal,<span class="dp">·</span>val);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._requestDraw();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_setComponentAttr(key,<span class="dp">·</span>component,<span class="dp">·</span>val)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>oldVal;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(val<span class="dp">·</span>!==<span class="dp">·</span>undefined)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>oldVal<span class="dp">·</span>=<span class="dp">·</span>this.attrs[key];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!oldVal)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.attrs[key]<span class="dp">·</span>=<span class="dp">·</span>this.getAttr(key);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.attrs[key][component]<span class="dp">·</span>=<span class="dp">·</span>val;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._fireChangeEvent(key,<span class="dp">·</span>oldVal,<span class="dp">·</span>val);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_fireAndBubble(eventType,<span class="dp">·</span>evt,<span class="dp">·</span>compareShape)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(evt<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>this.nodeType<span class="dp">·</span>===<span class="dp">·</span>SHAPE)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>evt.target<span class="dp">·</span>=<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>shouldStop<span class="dp">·</span>=<span class="dp">·</span>(eventType<span class="dp">·</span>===<span class="dp">·</span>MOUSEENTER<span class="dp">·</span>||<span class="dp">·</span>eventType<span class="dp">·</span>===<span class="dp">·</span>MOUSELEAVE)<span class="dp">·</span>&amp;&amp;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>((compareShape<span class="dp">·</span>&amp;&amp;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(this<span class="dp">·</span>===<span class="dp">·</span>compareShape<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(this.isAncestorOf<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>this.isAncestorOf(compareShape))))<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(this.nodeType<span class="dp">·</span>===<span class="dp">·</span>&#x27;Stage&#x27;<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>!compareShape));\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!shouldStop)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._fire(eventType,<span class="dp">·</span>evt);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>stopBubble<span class="dp">·</span>=<span class="dp">·</span>(eventType<span class="dp">·</span>===<span class="dp">·</span>MOUSEENTER<span class="dp">·</span>||<span class="dp">·</span>eventType<span class="dp">·</span>===<span class="dp">·</span>MOUSELEAVE)<span class="dp">·</span>&amp;&amp;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>compareShape<span class="dp">·</span>&amp;&amp;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>compareShape.isAncestorOf<span class="dp">·</span>&amp;&amp;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>compareShape.isAncestorOf(this)<span class="dp">·</span>&amp;&amp;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>!compareShape.isAncestorOf(this.parent);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(((evt<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>!evt.cancelBubble)<span class="dp">·</span>||<span class="dp">·</span>!evt)<span class="dp">·</span>&amp;&amp;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.parent<span class="dp">·</span>&amp;&amp;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.parent.isListening()<span class="dp">·</span>&amp;&amp;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>!stopBubble)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(compareShape<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>compareShape.parent)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._fireAndBubble.call(this.parent,<span class="dp">·</span>eventType,<span class="dp">·</span>evt,<span class="dp">·</span>compareShape);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._fireAndBubble.call(this.parent,<span class="dp">·</span>eventType,<span class="dp">·</span>evt);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_getProtoListeners(eventType)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>let<span class="dp">·</span>listeners<span class="dp">·</span>=<span class="dp">·</span>this._cache.get(ALL_LISTENERS);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!listeners)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>listeners<span class="dp">·</span>=<span class="dp">·</span>{};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>let<span class="dp">·</span>obj<span class="dp">·</span>=<span class="dp">·</span>Object.getPrototypeOf(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>while<span class="dp">·</span>(obj)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!obj.eventListeners)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>obj<span class="dp">·</span>=<span class="dp">·</span>Object.getPrototypeOf(obj);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>continue;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(var<span class="dp">·</span>event<span class="dp">·</span>in<span class="dp">·</span>obj.eventListeners)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>newEvents<span class="dp">·</span>=<span class="dp">·</span>obj.eventListeners[event];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>oldEvents<span class="dp">·</span>=<span class="dp">·</span>listeners[event]<span class="dp">·</span>||<span class="dp">·</span>[];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>listeners[event]<span class="dp">·</span>=<span class="dp">·</span>newEvents.concat(oldEvents);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>obj<span class="dp">·</span>=<span class="dp">·</span>Object.getPrototypeOf(obj);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._cache.set(ALL_LISTENERS,<span class="dp">·</span>listeners);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>listeners[eventType];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_fire(eventType,<span class="dp">·</span>evt)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>evt<span class="dp">·</span>=<span class="dp">·</span>evt<span class="dp">·</span>||<span class="dp">·</span>{};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>evt.currentTarget<span class="dp">·</span>=<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>evt.type<span class="dp">·</span>=<span class="dp">·</span>eventType;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>topListeners<span class="dp">·</span>=<span class="dp">·</span>this._getProtoListeners(eventType);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(topListeners)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(var<span class="dp">·</span>i<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>i<span class="dp">·</span>&lt;<span class="dp">·</span>topListeners.length;<span class="dp">·</span>i++)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>topListeners[i].handler.call(this,<span class="dp">·</span>evt);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>selfListeners<span class="dp">·</span>=<span class="dp">·</span>this.eventListeners[eventType];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(selfListeners)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(var<span class="dp">·</span>i<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>i<span class="dp">·</span>&lt;<span class="dp">·</span>selfListeners.length;<span class="dp">·</span>i++)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>selfListeners[i].handler.call(this,<span class="dp">·</span>evt);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>draw()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.drawScene();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.drawHit();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_createDragElement(evt)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>pointerId<span class="dp">·</span>=<span class="dp">·</span>evt<span class="dp">·</span>?<span class="dp">·</span>evt.pointerId<span class="dp">·</span>:<span class="dp">·</span>undefined;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>stage<span class="dp">·</span>=<span class="dp">·</span>this.getStage();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>ap<span class="dp">·</span>=<span class="dp">·</span>this.getAbsolutePosition();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>pos<span class="dp">·</span>=<span class="dp">·</span>stage._getPointerById(pointerId)<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>stage._changedPointerPositions[0]<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>ap;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>DD._dragElements.set(this._id,<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>node:<span class="dp">·</span>this,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>startPointerPos:<span class="dp">·</span>pos,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>offset:<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>x:<span class="dp">·</span>pos.x<span class="dp">·</span>-<span class="dp">·</span>ap.x,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y:<span class="dp">·</span>pos.y<span class="dp">·</span>-<span class="dp">·</span>ap.y,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dragStatus:<span class="dp">·</span>&#x27;ready&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>pointerId,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>startDrag(evt,<span class="dp">·</span>bubbleEvent<span class="dp">·</span>=<span class="dp">·</span>true)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!DD._dragElements.has(this._id))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._createDragElement(evt);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>elem<span class="dp">·</span>=<span class="dp">·</span>DD._dragElements.get(this._id);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>elem.dragStatus<span class="dp">·</span>=<span class="dp">·</span>&#x27;dragging&#x27;;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.fire(&#x27;dragstart&#x27;,<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>type:<span class="dp">·</span>&#x27;dragstart&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>target:<span class="dp">·</span>this,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>evt:<span class="dp">·</span>evt<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>evt.evt,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},<span class="dp">·</span>bubbleEvent);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_setDragPosition(evt,<span class="dp">·</span>elem)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>pos<span class="dp">·</span>=<span class="dp">·</span>this.getStage()._getPointerById(elem.pointerId);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!pos)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>newNodePos<span class="dp">·</span>=<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>x:<span class="dp">·</span>pos.x<span class="dp">·</span>-<span class="dp">·</span>elem.offset.x,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y:<span class="dp">·</span>pos.y<span class="dp">·</span>-<span class="dp">·</span>elem.offset.y,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>dbf<span class="dp">·</span>=<span class="dp">·</span>this.dragBoundFunc();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(dbf<span class="dp">·</span>!==<span class="dp">·</span>undefined)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>bounded<span class="dp">·</span>=<span class="dp">·</span>dbf.call(this,<span class="dp">·</span>newNodePos,<span class="dp">·</span>evt);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!bounded)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.warn(&#x27;dragBoundFunc<span class="dp">·</span>did<span class="dp">·</span>not<span class="dp">·</span>return<span class="dp">·</span>any<span class="dp">·</span>value.<span class="dp">·</span>That<span class="dp">·</span>is<span class="dp">·</span>unexpected<span class="dp">·</span>behavior.<span class="dp">·</span>You<span class="dp">·</span>must<span class="dp">·</span>return<span class="dp">·</span>new<span class="dp">·</span>absolute<span class="dp">·</span>position<span class="dp">·</span>from<span class="dp">·</span>dragBoundFunc.&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>newNodePos<span class="dp">·</span>=<span class="dp">·</span>bounded;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!this._lastPos<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._lastPos.x<span class="dp">·</span>!==<span class="dp">·</span>newNodePos.x<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._lastPos.y<span class="dp">·</span>!==<span class="dp">·</span>newNodePos.y)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.setAbsolutePosition(newNodePos);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._requestDraw();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._lastPos<span class="dp">·</span>=<span class="dp">·</span>newNodePos;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>stopDrag(evt)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>elem<span class="dp">·</span>=<span class="dp">·</span>DD._dragElements.get(this._id);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(elem)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>elem.dragStatus<span class="dp">·</span>=<span class="dp">·</span>&#x27;stopped&#x27;;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>DD._endDragBefore(evt);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>DD._endDragAfter(evt);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>setDraggable(draggable)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._setAttr(&#x27;draggable&#x27;,<span class="dp">·</span>draggable);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._dragChange();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>isDragging()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>elem<span class="dp">·</span>=<span class="dp">·</span>DD._dragElements.get(this._id);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>elem<span class="dp">·</span>?<span class="dp">·</span>elem.dragStatus<span class="dp">·</span>===<span class="dp">·</span>&#x27;dragging&#x27;<span class="dp">·</span>:<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_listenDrag()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._dragCleanup();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.on(&#x27;mousedown.konva<span class="dp">·</span>touchstart.konva&#x27;,<span class="dp">·</span>function<span class="dp">·</span>(evt)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>shouldCheckButton<span class="dp">·</span>=<span class="dp">·</span>evt.evt[&#x27;button&#x27;]<span class="dp">·</span>!==<span class="dp">·</span>undefined;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>canDrag<span class="dp">·</span>=<span class="dp">·</span>!shouldCheckButton<span class="dp">·</span>||<span class="dp">·</span>Konva.dragButtons.indexOf(evt.evt[&#x27;button&#x27;])<span class="dp">·</span>&gt;=<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!canDrag)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(this.isDragging())<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>hasDraggingChild<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>DD._dragElements.forEach((elem)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(this.isAncestorOf(elem.node))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hasDraggingChild<span class="dp">·</span>=<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!hasDraggingChild)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._createDragElement(evt);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_dragChange()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(this.attrs.draggable)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._listenDrag();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._dragCleanup();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>stage<span class="dp">·</span>=<span class="dp">·</span>this.getStage();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!stage)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>dragElement<span class="dp">·</span>=<span class="dp">·</span>DD._dragElements.get(this._id);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>isDragging<span class="dp">·</span>=<span class="dp">·</span>dragElement<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>dragElement.dragStatus<span class="dp">·</span>===<span class="dp">·</span>&#x27;dragging&#x27;;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>isReady<span class="dp">·</span>=<span class="dp">·</span>dragElement<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>dragElement.dragStatus<span class="dp">·</span>===<span class="dp">·</span>&#x27;ready&#x27;;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(isDragging)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.stopDrag();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>if<span class="dp">·</span>(isReady)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>DD._dragElements.delete(this._id);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_dragCleanup()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.off(&#x27;mousedown.konva&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.off(&#x27;touchstart.konva&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>isClientRectOnScreen(margin<span class="dp">·</span>=<span class="dp">·</span>{<span class="dp">·</span>x:<span class="dp">·</span>0,<span class="dp">·</span>y:<span class="dp">·</span>0<span class="dp">·</span>})<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>stage<span class="dp">·</span>=<span class="dp">·</span>this.getStage();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!stage)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>screenRect<span class="dp">·</span>=<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>x:<span class="dp">·</span>-margin.x,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y:<span class="dp">·</span>-margin.y,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>width:<span class="dp">·</span>stage.width()<span class="dp">·</span>+<span class="dp">·</span>2<span class="dp">·</span>*<span class="dp">·</span>margin.x,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>height:<span class="dp">·</span>stage.height()<span class="dp">·</span>+<span class="dp">·</span>2<span class="dp">·</span>*<span class="dp">·</span>margin.y,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>Util.haveIntersection(screenRect,<span class="dp">·</span>this.getClientRect());\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>static<span class="dp">·</span>create(data,<span class="dp">·</span>container)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(Util._isString(data))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data<span class="dp">·</span>=<span class="dp">·</span>JSON.parse(data);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._createNode(data,<span class="dp">·</span>container);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>static<span class="dp">·</span>_createNode(obj,<span class="dp">·</span>container)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>className<span class="dp">·</span>=<span class="dp">·</span>Node.prototype.getClassName.call(obj),<span class="dp">·</span>children<span class="dp">·</span>=<span class="dp">·</span>obj.children,<span class="dp">·</span>no,<span class="dp">·</span>len,<span class="dp">·</span>n;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(container)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>obj.attrs.container<span class="dp">·</span>=<span class="dp">·</span>container;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!Konva[className])<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.warn(&#x27;Can<span class="dp">·</span>not<span class="dp">·</span>find<span class="dp">·</span>a<span class="dp">·</span>node<span class="dp">·</span>with<span class="dp">·</span>class<span class="dp">·</span>name<span class="dp">·</span>\&quot;&#x27;<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>className<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;\&quot;.<span class="dp">·</span>Fallback<span class="dp">·</span>to<span class="dp">·</span>\&quot;Shape\&quot;.&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>className<span class="dp">·</span>=<span class="dp">·</span>&#x27;Shape&#x27;;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>Class<span class="dp">·</span>=<span class="dp">·</span>Konva[className];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>no<span class="dp">·</span>=<span class="dp">·</span>new<span class="dp">·</span>Class(obj.attrs);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(children)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>len<span class="dp">·</span>=<span class="dp">·</span>children.length;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(n<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>n<span class="dp">·</span>&lt;<span class="dp">·</span>len;<span class="dp">·</span>n++)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>no.add(Node._createNode(children[n]));\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>no;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n}\nNode.prototype.nodeType<span class="dp">·</span>=<span class="dp">·</span>&#x27;Node&#x27;;\nNode.prototype._attrsAffectingSize<span class="dp">·</span>=<span class="dp">·</span>[];\nNode.prototype.eventListeners<span class="dp">·</span>=<span class="dp">·</span>{};\nNode.prototype.on.call(Node.prototype,<span class="dp">·</span>TRANSFORM_CHANGE_STR,<span class="dp">·</span>function<span class="dp">·</span>()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(this._batchingTransformChange)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._needClearTransformCache<span class="dp">·</span>=<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearCache(TRANSFORM);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n});\nNode.prototype.on.call(Node.prototype,<span class="dp">·</span>&#x27;visibleChange.konva&#x27;,<span class="dp">·</span>function<span class="dp">·</span>()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearSelfAndDescendantCache(VISIBLE);\n});\nNode.prototype.on.call(Node.prototype,<span class="dp">·</span>&#x27;listeningChange.konva&#x27;,<span class="dp">·</span>function<span class="dp">·</span>()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearSelfAndDescendantCache(LISTENING);\n});\nNode.prototype.on.call(Node.prototype,<span class="dp">·</span>&#x27;opacityChange.konva&#x27;,<span class="dp">·</span>function<span class="dp">·</span>()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY);\n});\nconst<span class="dp">·</span>addGetterSetter<span class="dp">·</span>=<span class="dp">·</span>Factory.addGetterSetter;\naddGetterSetter(Node,<span class="dp">·</span>&#x27;zIndex&#x27;);\naddGetterSetter(Node,<span class="dp">·</span>&#x27;absolutePosition&#x27;);\naddGetterSetter(Node,<span class="dp">·</span>&#x27;position&#x27;);\naddGetterSetter(Node,<span class="dp">·</span>&#x27;x&#x27;,<span class="dp">·</span>0,<span class="dp">·</span>getNumberValidator());\naddGetterSetter(Node,<span class="dp">·</span>&#x27;y&#x27;,<span class="dp">·</span>0,<span class="dp">·</span>getNumberValidator());\naddGetterSetter(Node,<span class="dp">·</span>&#x27;globalCompositeOperation&#x27;,<span class="dp">·</span>&#x27;source-over&#x27;,<span class="dp">·</span>getStringValidator());\naddGetterSetter(Node,<span class="dp">·</span>&#x27;opacity&#x27;,<span class="dp">·</span>1,<span class="dp">·</span>getNumberValidator());\naddGetterSetter(Node,<span class="dp">·</span>&#x27;name&#x27;,<span class="dp">·</span>&#x27;&#x27;,<span class="dp">·</span>getStringValidator());\naddGetterSetter(Node,<span class="dp">·</span>&#x27;id&#x27;,<span class="dp">·</span>&#x27;&#x27;,<span class="dp">·</span>getStringValidator());\naddGetterSetter(Node,<span class="dp">·</span>&#x27;rotation&#x27;,<span class="dp">·</span>0,<span class="dp">·</span>getNumberValidator());\nFactory.addComponentsGetterSetter(Node,<span class="dp">·</span>&#x27;scale&#x27;,<span class="dp">·</span>[&#x27;x&#x27;,<span class="dp">·</span>&#x27;y&#x27;]);\naddGetterSetter(Node,<span class="dp">·</span>&#x27;scaleX&#x27;,<span class="dp">·</span>1,<span class="dp">·</span>getNumberValidator());\naddGetterSetter(Node,<span class="dp">·</span>&#x27;scaleY&#x27;,<span class="dp">·</span>1,<span class="dp">·</span>getNumberValidator());\nFactory.addComponentsGetterSetter(Node,<span class="dp">·</span>&#x27;skew&#x27;,<span class="dp">·</span>[&#x27;x&#x27;,<span class="dp">·</span>&#x27;y&#x27;]);\naddGetterSetter(Node,<span class="dp">·</span>&#x27;skewX&#x27;,<span class="dp">·</span>0,<span class="dp">·</span>getNumberValidator());\naddGetterSetter(Node,<span class="dp">·</span>&#x27;skewY&#x27;,<span class="dp">·</span>0,<span class="dp">·</span>getNumberValidator());\nFactory.addComponentsGetterSetter(Node,<span class="dp">·</span>&#x27;offset&#x27;,<span class="dp">·</span>[&#x27;x&#x27;,<span class="dp">·</span>&#x27;y&#x27;]);\naddGetterSetter(Node,<span class="dp">·</span>&#x27;offsetX&#x27;,<span class="dp">·</span>0,<span class="dp">·</span>getNumberValidator());\naddGetterSetter(Node,<span class="dp">·</span>&#x27;offsetY&#x27;,<span class="dp">·</span>0,<span class="dp">·</span>getNumberValidator());\naddGetterSetter(Node,<span class="dp">·</span>&#x27;dragDistance&#x27;,<span class="dp">·</span>null,<span class="dp">·</span>getNumberValidator());\naddGetterSetter(Node,<span class="dp">·</span>&#x27;width&#x27;,<span class="dp">·</span>0,<span class="dp">·</span>getNumberValidator());\naddGetterSetter(Node,<span class="dp">·</span>&#x27;height&#x27;,<span class="dp">·</span>0,<span class="dp">·</span>getNumberValidator());\naddGetterSetter(Node,<span class="dp">·</span>&#x27;listening&#x27;,<span class="dp">·</span>true,<span class="dp">·</span>getBooleanValidator());\naddGetterSetter(Node,<span class="dp">·</span>&#x27;preventDefault&#x27;,<span class="dp">·</span>true,<span class="dp">·</span>getBooleanValidator());\naddGetterSetter(Node,<span class="dp">·</span>&#x27;filters&#x27;,<span class="dp">·</span>null,<span class="dp">·</span>function<span class="dp">·</span>(val)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._filterUpToDate<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>val;\n});\naddGetterSetter(Node,<span class="dp">·</span>&#x27;visible&#x27;,<span class="dp">·</span>true,<span class="dp">·</span>getBooleanValidator());\naddGetterSetter(Node,<span class="dp">·</span>&#x27;transformsEnabled&#x27;,<span class="dp">·</span>&#x27;all&#x27;,<span class="dp">·</span>getStringValidator());\naddGetterSetter(Node,<span class="dp">·</span>&#x27;size&#x27;);\naddGetterSetter(Node,<span class="dp">·</span>&#x27;dragBoundFunc&#x27;);\naddGetterSetter(Node,<span class="dp">·</span>&#x27;draggable&#x27;,<span class="dp">·</span>false,<span class="dp">·</span>getBooleanValidator());\nFactory.backCompat(Node,<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>rotateDeg:<span class="dp">·</span>&#x27;rotate&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>setRotationDeg:<span class="dp">·</span>&#x27;setRotation&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getRotationDeg:<span class="dp">·</span>&#x27;getRotation&#x27;,\n});\n&quot;,</td><td class="diffline">2979 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;import<span class="dp">·</span>{<span class="dp">·</span>Util,<span class="dp">·</span>Transform<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Util.js&#x27;;\nimport<span class="dp">·</span>{<span class="dp">·</span>Factory<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Factory.js&#x27;;\nimport<span class="dp">·</span>{<span class="dp">·</span>SceneCanvas,<span class="dp">·</span>HitCanvas<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Canvas.js&#x27;;\nimport<span class="dp">·</span>{<span class="dp">·</span>Konva<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Global.js&#x27;;\nimport<span class="dp">·</span>{<span class="dp">·</span>DD<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./DragAndDrop.js&#x27;;\nimport<span class="dp">·</span>{<span class="dp">·</span>getNumberValidator,<span class="dp">·</span>getStringValidator,<span class="dp">·</span>getBooleanValidator,<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Validators.js&#x27;;\nvar<span class="dp">·</span>ABSOLUTE_OPACITY<span class="dp">·</span>=<span class="dp">·</span>&#x27;absoluteOpacity&#x27;,<span class="dp">·</span>ALL_LISTENERS<span class="dp">·</span>=<span class="dp">·</span>&#x27;allEventListeners&#x27;,<span class="dp">·</span>ABSOLUTE_TRANSFORM<span class="dp">·</span>=<span class="dp">·</span>&#x27;absoluteTransform&#x27;,<span class="dp">·</span>ABSOLUTE_SCALE<span class="dp">·</span>=<span class="dp">·</span>&#x27;absoluteScale&#x27;,<span class="dp">·</span>CANVAS<span class="dp">·</span>=<span class="dp">·</span>&#x27;canvas&#x27;,<span class="dp">·</span>CHANGE<span class="dp">·</span>=<span class="dp">·</span>&#x27;Change&#x27;,<span class="dp">·</span>CHILDREN<span class="dp">·</span>=<span class="dp">·</span>&#x27;children&#x27;,<span class="dp">·</span>KONVA<span class="dp">·</span>=<span class="dp">·</span>&#x27;konva&#x27;,<span class="dp">·</span>LISTENING<span class="dp">·</span>=<span class="dp">·</span>&#x27;listening&#x27;,<span class="dp">·</span>MOUSEENTER<span class="dp">·</span>=<span class="dp">·</span>&#x27;mouseenter&#x27;,<span class="dp">·</span>MOUSELEAVE<span class="dp">·</span>=<span class="dp">·</span>&#x27;mouseleave&#x27;,<span class="dp">·</span>NAME<span class="dp">·</span>=<span class="dp">·</span>&#x27;name&#x27;,<span class="dp">·</span>SET<span class="dp">·</span>=<span class="dp">·</span>&#x27;set&#x27;,<span class="dp">·</span>SHAPE<span class="dp">·</span>=<span class="dp">·</span>&#x27;Shape&#x27;,<span class="dp">·</span>SPACE<span class="dp">·</span>=<span class="dp">·</span>&#x27;<span class="dp">·</span>&#x27;,<span class="dp">·</span>STAGE<span class="dp">·</span>=<span class="dp">·</span>&#x27;stage&#x27;,<span class="dp">·</span>TRANSFORM<span class="dp">·</span>=<span class="dp">·</span>&#x27;transform&#x27;,<span class="dp">·</span>UPPER_STAGE<span class="dp">·</span>=<span class="dp">·</span>&#x27;Stage&#x27;,<span class="dp">·</span>VISIBLE<span class="dp">·</span>=<span class="dp">·</span>&#x27;visible&#x27;,<span class="dp">·</span>TRANSFORM_CHANGE_STR<span class="dp">·</span>=<span class="dp">·</span>[\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;xChange.konva&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;yChange.konva&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;scaleXChange.konva&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;scaleYChange.konva&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;skewXChange.konva&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;skewYChange.konva&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;rotationChange.konva&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;offsetXChange.konva&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;offsetYChange.konva&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;transformsEnabledChange.konva&#x27;,\n].join(SPACE);\nlet<span class="dp">·</span>idCounter<span class="dp">·</span>=<span class="dp">·</span>1;\nexport<span class="dp">·</span>class<span class="dp">·</span>Node<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>constructor(config)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._id<span class="dp">·</span>=<span class="dp">·</span>idCounter++;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.eventListeners<span class="dp">·</span>=<span class="dp">·</span>{};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.attrs<span class="dp">·</span>=<span class="dp">·</span>{};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.index<span class="dp">·</span>=<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._allEventListeners<span class="dp">·</span>=<span class="dp">·</span>null;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.parent<span class="dp">·</span>=<span class="dp">·</span>null;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._cache<span class="dp">·</span>=<span class="dp">·</span>new<span class="dp">·</span>Map();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._attachedDepsListeners<span class="dp">·</span>=<span class="dp">·</span>new<span class="dp">·</span>Map();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._lastPos<span class="dp">·</span>=<span class="dp">·</span>null;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._batchingTransformChange<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._needClearTransformCache<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._filterUpToDate<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._isUnderCache<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._dragEventId<span class="dp">·</span>=<span class="dp">·</span>null;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._shouldFireChangeEvents<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.setAttrs(config);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._shouldFireChangeEvents<span class="dp">·</span>=<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hasChildren()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_clearCache(attr)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>((attr<span class="dp">·</span>===<span class="dp">·</span>TRANSFORM<span class="dp">·</span>||<span class="dp">·</span>attr<span class="dp">·</span>===<span class="dp">·</span>ABSOLUTE_TRANSFORM)<span class="dp">·</span>&amp;&amp;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._cache.get(attr))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._cache.get(attr).dirty<span class="dp">·</span>=<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>if<span class="dp">·</span>(attr)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._cache.delete(attr);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._cache.clear();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_getCache(attr,<span class="dp">·</span>privateGetter)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>cache<span class="dp">·</span>=<span class="dp">·</span>this._cache.get(attr);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>isTransform<span class="dp">·</span>=<span class="dp">·</span>attr<span class="dp">·</span>===<span class="dp">·</span>TRANSFORM<span class="dp">·</span>||<span class="dp">·</span>attr<span class="dp">·</span>===<span class="dp">·</span>ABSOLUTE_TRANSFORM;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>invalid<span class="dp">·</span>=<span class="dp">·</span>cache<span class="dp">·</span>===<span class="dp">·</span>undefined<span class="dp">·</span>||<span class="dp">·</span>(isTransform<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>cache.dirty<span class="dp">·</span>===<span class="dp">·</span>true);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(invalid)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>cache<span class="dp">·</span>=<span class="dp">·</span>privateGetter.call(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._cache.set(attr,<span class="dp">·</span>cache);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>cache;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_calculate(name,<span class="dp">·</span>deps,<span class="dp">·</span>getter)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!this._attachedDepsListeners.get(name))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>depsString<span class="dp">·</span>=<span class="dp">·</span>deps.map((dep)<span class="dp">·</span>=&gt;<span class="dp">·</span>dep<span class="dp">·</span>+<span class="dp">·</span>&#x27;Change.konva&#x27;).join(SPACE);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.on(depsString,<span class="dp">·</span>()<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearCache(name);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._attachedDepsListeners.set(name,<span class="dp">·</span>true);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._getCache(name,<span class="dp">·</span>getter);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_getCanvasCache()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._cache.get(CANVAS);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_clearSelfAndDescendantCache(attr)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearCache(attr);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(attr<span class="dp">·</span>===<span class="dp">·</span>ABSOLUTE_TRANSFORM)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.fire(&#x27;absoluteTransformChange&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>clearCache()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(this._cache.has(CANVAS))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>{<span class="dp">·</span>scene,<span class="dp">·</span>filter,<span class="dp">·</span>hit<span class="dp">·</span>}<span class="dp">·</span>=<span class="dp">·</span>this._cache.get(CANVAS);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.releaseCanvas(scene,<span class="dp">·</span>filter,<span class="dp">·</span>hit);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._cache.delete(CANVAS);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearSelfAndDescendantCache();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._requestDraw();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>cache(config)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>conf<span class="dp">·</span>=<span class="dp">·</span>config<span class="dp">·</span>||<span class="dp">·</span>{};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>rect<span class="dp">·</span>=<span class="dp">·</span>{};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(conf.x<span class="dp">·</span>===<span class="dp">·</span>undefined<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>conf.y<span class="dp">·</span>===<span class="dp">·</span>undefined<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>conf.width<span class="dp">·</span>===<span class="dp">·</span>undefined<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>conf.height<span class="dp">·</span>===<span class="dp">·</span>undefined)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>rect<span class="dp">·</span>=<span class="dp">·</span>this.getClientRect({\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>skipTransform:<span class="dp">·</span>true,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>relativeTo:<span class="dp">·</span>this.getParent(),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>width<span class="dp">·</span>=<span class="dp">·</span>Math.ceil(conf.width<span class="dp">·</span>||<span class="dp">·</span>rect.width),<span class="dp">·</span>height<span class="dp">·</span>=<span class="dp">·</span>Math.ceil(conf.height<span class="dp">·</span>||<span class="dp">·</span>rect.height),<span class="dp">·</span>pixelRatio<span class="dp">·</span>=<span class="dp">·</span>conf.pixelRatio,<span class="dp">·</span>x<span class="dp">·</span>=<span class="dp">·</span>conf.x<span class="dp">·</span>===<span class="dp">·</span>undefined<span class="dp">·</span>?<span class="dp">·</span>Math.floor(rect.x)<span class="dp">·</span>:<span class="dp">·</span>conf.x,<span class="dp">·</span>y<span class="dp">·</span>=<span class="dp">·</span>conf.y<span class="dp">·</span>===<span class="dp">·</span>undefined<span class="dp">·</span>?<span class="dp">·</span>Math.floor(rect.y)<span class="dp">·</span>:<span class="dp">·</span>conf.y,<span class="dp">·</span>offset<span class="dp">·</span>=<span class="dp">·</span>conf.offset<span class="dp">·</span>||<span class="dp">·</span>0,<span class="dp">·</span>drawBorder<span class="dp">·</span>=<span class="dp">·</span>conf.drawBorder<span class="dp">·</span>||<span class="dp">·</span>false,<span class="dp">·</span>hitCanvasPixelRatio<span class="dp">·</span>=<span class="dp">·</span>conf.hitCanvasPixelRatio<span class="dp">·</span>||<span class="dp">·</span>1;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!width<span class="dp">·</span>||<span class="dp">·</span>!height)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.error(&#x27;Can<span class="dp">·</span>not<span class="dp">·</span>cache<span class="dp">·</span>the<span class="dp">·</span>node.<span class="dp">·</span>Width<span class="dp">·</span>or<span class="dp">·</span>height<span class="dp">·</span>of<span class="dp">·</span>the<span class="dp">·</span>node<span class="dp">·</span>equals<span class="dp">·</span>0.<span class="dp">·</span>Caching<span class="dp">·</span>is<span class="dp">·</span>skipped.&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>width<span class="dp">·</span>+=<span class="dp">·</span>offset<span class="dp">·</span>*<span class="dp">·</span>2<span class="dp">·</span>+<span class="dp">·</span>1;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>height<span class="dp">·</span>+=<span class="dp">·</span>offset<span class="dp">·</span>*<span class="dp">·</span>2<span class="dp">·</span>+<span class="dp">·</span>1;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>x<span class="dp">·</span>-=<span class="dp">·</span>offset;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y<span class="dp">·</span>-=<span class="dp">·</span>offset;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>cachedSceneCanvas<span class="dp">·</span>=<span class="dp">·</span>new<span class="dp">·</span>SceneCanvas({\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>pixelRatio:<span class="dp">·</span>pixelRatio,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>width:<span class="dp">·</span>width,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>height:<span class="dp">·</span>height,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}),<span class="dp">·</span>cachedFilterCanvas<span class="dp">·</span>=<span class="dp">·</span>new<span class="dp">·</span>SceneCanvas({\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>pixelRatio:<span class="dp">·</span>pixelRatio,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>width:<span class="dp">·</span>0,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>height:<span class="dp">·</span>0,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}),<span class="dp">·</span>cachedHitCanvas<span class="dp">·</span>=<span class="dp">·</span>new<span class="dp">·</span>HitCanvas({\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>pixelRatio:<span class="dp">·</span>hitCanvasPixelRatio,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>width:<span class="dp">·</span>width,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>height:<span class="dp">·</span>height,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}),<span class="dp">·</span>sceneContext<span class="dp">·</span>=<span class="dp">·</span>cachedSceneCanvas.getContext(),<span class="dp">·</span>hitContext<span class="dp">·</span>=<span class="dp">·</span>cachedHitCanvas.getContext();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>cachedHitCanvas.isCache<span class="dp">·</span>=<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>cachedSceneCanvas.isCache<span class="dp">·</span>=<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._cache.delete(CANVAS);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._filterUpToDate<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(conf.imageSmoothingEnabled<span class="dp">·</span>===<span class="dp">·</span>false)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>cachedSceneCanvas.getContext()._context.imageSmoothingEnabled<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>cachedFilterCanvas.getContext()._context.imageSmoothingEnabled<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sceneContext.save();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hitContext.save();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sceneContext.translate(-x,<span class="dp">·</span>-y);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hitContext.translate(-x,<span class="dp">·</span>-y);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._isUnderCache<span class="dp">·</span>=<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearSelfAndDescendantCache(ABSOLUTE_SCALE);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.drawScene(cachedSceneCanvas,<span class="dp">·</span>this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.drawHit(cachedHitCanvas,<span class="dp">·</span>this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._isUnderCache<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sceneContext.restore();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hitContext.restore();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(drawBorder)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sceneContext.save();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sceneContext.beginPath();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sceneContext.rect(0,<span class="dp">·</span>0,<span class="dp">·</span>width,<span class="dp">·</span>height);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sceneContext.closePath();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sceneContext.setAttr(&#x27;strokeStyle&#x27;,<span class="dp">·</span>&#x27;red&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sceneContext.setAttr(&#x27;lineWidth&#x27;,<span class="dp">·</span>5);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sceneContext.stroke();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sceneContext.restore();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._cache.set(CANVAS,<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>scene:<span class="dp">·</span>cachedSceneCanvas,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>filter:<span class="dp">·</span>cachedFilterCanvas,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hit:<span class="dp">·</span>cachedHitCanvas,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>x:<span class="dp">·</span>x,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y:<span class="dp">·</span>y,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._requestDraw();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>isCached()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._cache.has(CANVAS);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getClientRect(config)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>throw<span class="dp">·</span>new<span class="dp">·</span>Error(&#x27;abstract<span class="dp">·</span>\&quot;getClientRect\&quot;<span class="dp">·</span>method<span class="dp">·</span>call&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_transformedRect(rect,<span class="dp">·</span>top)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>points<span class="dp">·</span>=<span class="dp">·</span>[\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>{<span class="dp">·</span>x:<span class="dp">·</span>rect.x,<span class="dp">·</span>y:<span class="dp">·</span>rect.y<span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>{<span class="dp">·</span>x:<span class="dp">·</span>rect.x<span class="dp">·</span>+<span class="dp">·</span>rect.width,<span class="dp">·</span>y:<span class="dp">·</span>rect.y<span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>{<span class="dp">·</span>x:<span class="dp">·</span>rect.x<span class="dp">·</span>+<span class="dp">·</span>rect.width,<span class="dp">·</span>y:<span class="dp">·</span>rect.y<span class="dp">·</span>+<span class="dp">·</span>rect.height<span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>{<span class="dp">·</span>x:<span class="dp">·</span>rect.x,<span class="dp">·</span>y:<span class="dp">·</span>rect.y<span class="dp">·</span>+<span class="dp">·</span>rect.height<span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>minX,<span class="dp">·</span>minY,<span class="dp">·</span>maxX,<span class="dp">·</span>maxY;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>trans<span class="dp">·</span>=<span class="dp">·</span>this.getAbsoluteTransform(top);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>points.forEach(function<span class="dp">·</span>(point)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>transformed<span class="dp">·</span>=<span class="dp">·</span>trans.point(point);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(minX<span class="dp">·</span>===<span class="dp">·</span>undefined)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>minX<span class="dp">·</span>=<span class="dp">·</span>maxX<span class="dp">·</span>=<span class="dp">·</span>transformed.x;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>minY<span class="dp">·</span>=<span class="dp">·</span>maxY<span class="dp">·</span>=<span class="dp">·</span>transformed.y;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>minX<span class="dp">·</span>=<span class="dp">·</span>Math.min(minX,<span class="dp">·</span>transformed.x);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>minY<span class="dp">·</span>=<span class="dp">·</span>Math.min(minY,<span class="dp">·</span>transformed.y);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>maxX<span class="dp">·</span>=<span class="dp">·</span>Math.max(maxX,<span class="dp">·</span>transformed.x);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>maxY<span class="dp">·</span>=<span class="dp">·</span>Math.max(maxY,<span class="dp">·</span>transformed.y);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>x:<span class="dp">·</span>minX,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y:<span class="dp">·</span>minY,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>width:<span class="dp">·</span>maxX<span class="dp">·</span>-<span class="dp">·</span>minX,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>height:<span class="dp">·</span>maxY<span class="dp">·</span>-<span class="dp">·</span>minY,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_drawCachedSceneCanvas(context)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.save();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context._applyOpacity(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context._applyGlobalCompositeOperation(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>canvasCache<span class="dp">·</span>=<span class="dp">·</span>this._getCanvasCache();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.translate(canvasCache.x,<span class="dp">·</span>canvasCache.y);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>cacheCanvas<span class="dp">·</span>=<span class="dp">·</span>this._getCachedSceneCanvas();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>ratio<span class="dp">·</span>=<span class="dp">·</span>cacheCanvas.pixelRatio;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.drawImage(cacheCanvas._canvas,<span class="dp">·</span>0,<span class="dp">·</span>0,<span class="dp">·</span>cacheCanvas.width<span class="dp">·</span>/<span class="dp">·</span>ratio,<span class="dp">·</span>cacheCanvas.height<span class="dp">·</span>/<span class="dp">·</span>ratio);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.restore();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_drawCachedHitCanvas(context)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>canvasCache<span class="dp">·</span>=<span class="dp">·</span>this._getCanvasCache(),<span class="dp">·</span>hitCanvas<span class="dp">·</span>=<span class="dp">·</span>canvasCache.hit;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.save();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.translate(canvasCache.x,<span class="dp">·</span>canvasCache.y);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.drawImage(hitCanvas._canvas,<span class="dp">·</span>0,<span class="dp">·</span>0,<span class="dp">·</span>hitCanvas.width<span class="dp">·</span>/<span class="dp">·</span>hitCanvas.pixelRatio,<span class="dp">·</span>hitCanvas.height<span class="dp">·</span>/<span class="dp">·</span>hitCanvas.pixelRatio);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.restore();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_getCachedSceneCanvas()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>filters<span class="dp">·</span>=<span class="dp">·</span>this.filters(),<span class="dp">·</span>cachedCanvas<span class="dp">·</span>=<span class="dp">·</span>this._getCanvasCache(),<span class="dp">·</span>sceneCanvas<span class="dp">·</span>=<span class="dp">·</span>cachedCanvas.scene,<span class="dp">·</span>filterCanvas<span class="dp">·</span>=<span class="dp">·</span>cachedCanvas.filter,<span class="dp">·</span>filterContext<span class="dp">·</span>=<span class="dp">·</span>filterCanvas.getContext(),<span class="dp">·</span>len,<span class="dp">·</span>imageData,<span class="dp">·</span>n,<span class="dp">·</span>filter;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(filters)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!this._filterUpToDate)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>ratio<span class="dp">·</span>=<span class="dp">·</span>sceneCanvas.pixelRatio;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>filterCanvas.setSize(sceneCanvas.width<span class="dp">·</span>/<span class="dp">·</span>sceneCanvas.pixelRatio,<span class="dp">·</span>sceneCanvas.height<span class="dp">·</span>/<span class="dp">·</span>sceneCanvas.pixelRatio);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>try<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>len<span class="dp">·</span>=<span class="dp">·</span>filters.length;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>filterContext.clear();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>filterContext.drawImage(sceneCanvas._canvas,<span class="dp">·</span>0,<span class="dp">·</span>0,<span class="dp">·</span>sceneCanvas.getWidth()<span class="dp">·</span>/<span class="dp">·</span>ratio,<span class="dp">·</span>sceneCanvas.getHeight()<span class="dp">·</span>/<span class="dp">·</span>ratio);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>imageData<span class="dp">·</span>=<span class="dp">·</span>filterContext.getImageData(0,<span class="dp">·</span>0,<span class="dp">·</span>filterCanvas.getWidth(),<span class="dp">·</span>filterCanvas.getHeight());\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(n<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>n<span class="dp">·</span>&lt;<span class="dp">·</span>len;<span class="dp">·</span>n++)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>filter<span class="dp">·</span>=<span class="dp">·</span>filters[n];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(typeof<span class="dp">·</span>filter<span class="dp">·</span>!==<span class="dp">·</span>&#x27;function&#x27;)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.error(&#x27;Filter<span class="dp">·</span>should<span class="dp">·</span>be<span class="dp">·</span>type<span class="dp">·</span>of<span class="dp">·</span>function,<span class="dp">·</span>but<span class="dp">·</span>got<span class="dp">·</span>&#x27;<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>typeof<span class="dp">·</span>filter<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;<span class="dp">·</span>instead.<span class="dp">·</span>Please<span class="dp">·</span>check<span class="dp">·</span>correct<span class="dp">·</span>filters&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>continue;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>filter.call(this,<span class="dp">·</span>imageData);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>filterContext.putImageData(imageData,<span class="dp">·</span>0,<span class="dp">·</span>0);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>catch<span class="dp">·</span>(e)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.error(&#x27;Unable<span class="dp">·</span>to<span class="dp">·</span>apply<span class="dp">·</span>filter.<span class="dp">·</span>&#x27;<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>e.message<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;<span class="dp">·</span>This<span class="dp">·</span>post<span class="dp">·</span>my<span class="dp">·</span>help<span class="dp">·</span>you<span class="dp">·</span>https://konvajs.org/docs/posts/Tainted_Canvas.html.&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._filterUpToDate<span class="dp">·</span>=<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>filterCanvas;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>sceneCanvas;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>on(evtStr,<span class="dp">·</span>handler)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._cache<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>this._cache.delete(ALL_LISTENERS);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(arguments.length<span class="dp">·</span>===<span class="dp">·</span>3)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._delegate.apply(this,<span class="dp">·</span>arguments);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>events<span class="dp">·</span>=<span class="dp">·</span>evtStr.split(SPACE),<span class="dp">·</span>len<span class="dp">·</span>=<span class="dp">·</span>events.length,<span class="dp">·</span>n,<span class="dp">·</span>event,<span class="dp">·</span>parts,<span class="dp">·</span>baseEvent,<span class="dp">·</span>name;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(n<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>n<span class="dp">·</span>&lt;<span class="dp">·</span>len;<span class="dp">·</span>n++)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>event<span class="dp">·</span>=<span class="dp">·</span>events[n];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>parts<span class="dp">·</span>=<span class="dp">·</span>event.split(&#x27;.&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>baseEvent<span class="dp">·</span>=<span class="dp">·</span>parts[0];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>name<span class="dp">·</span>=<span class="dp">·</span>parts[1]<span class="dp">·</span>||<span class="dp">·</span>&#x27;&#x27;;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!this.eventListeners[baseEvent])<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.eventListeners[baseEvent]<span class="dp">·</span>=<span class="dp">·</span>[];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.eventListeners[baseEvent].push({\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>name:<span class="dp">·</span>name,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>handler:<span class="dp">·</span>handler,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>off(evtStr,<span class="dp">·</span>callback)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>events<span class="dp">·</span>=<span class="dp">·</span>(evtStr<span class="dp">·</span>||<span class="dp">·</span>&#x27;&#x27;).split(SPACE),<span class="dp">·</span>len<span class="dp">·</span>=<span class="dp">·</span>events.length,<span class="dp">·</span>n,<span class="dp">·</span>t,<span class="dp">·</span>event,<span class="dp">·</span>parts,<span class="dp">·</span>baseEvent,<span class="dp">·</span>name;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._cache<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>this._cache.delete(ALL_LISTENERS);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!evtStr)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(t<span class="dp">·</span>in<span class="dp">·</span>this.eventListeners)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._off(t);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(n<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>n<span class="dp">·</span>&lt;<span class="dp">·</span>len;<span class="dp">·</span>n++)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>event<span class="dp">·</span>=<span class="dp">·</span>events[n];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>parts<span class="dp">·</span>=<span class="dp">·</span>event.split(&#x27;.&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>baseEvent<span class="dp">·</span>=<span class="dp">·</span>parts[0];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>name<span class="dp">·</span>=<span class="dp">·</span>parts[1];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(baseEvent)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(this.eventListeners[baseEvent])<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._off(baseEvent,<span class="dp">·</span>name,<span class="dp">·</span>callback);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(t<span class="dp">·</span>in<span class="dp">·</span>this.eventListeners)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._off(t,<span class="dp">·</span>name,<span class="dp">·</span>callback);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dispatchEvent(evt)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>e<span class="dp">·</span>=<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>target:<span class="dp">·</span>this,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>type:<span class="dp">·</span>evt.type,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>evt:<span class="dp">·</span>evt,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.fire(evt.type,<span class="dp">·</span>e);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>addEventListener(type,<span class="dp">·</span>handler)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.on(type,<span class="dp">·</span>function<span class="dp">·</span>(evt)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>handler.call(this,<span class="dp">·</span>evt.evt);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>removeEventListener(type)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.off(type);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_delegate(event,<span class="dp">·</span>selector,<span class="dp">·</span>handler)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>stopNode<span class="dp">·</span>=<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.on(event,<span class="dp">·</span>function<span class="dp">·</span>(evt)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>targets<span class="dp">·</span>=<span class="dp">·</span>evt.target.findAncestors(selector,<span class="dp">·</span>true,<span class="dp">·</span>stopNode);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(var<span class="dp">·</span>i<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>i<span class="dp">·</span>&lt;<span class="dp">·</span>targets.length;<span class="dp">·</span>i++)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>evt<span class="dp">·</span>=<span class="dp">·</span>Util.cloneObject(evt);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>evt.currentTarget<span class="dp">·</span>=<span class="dp">·</span>targets[i];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>handler.call(targets[i],<span class="dp">·</span>evt);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>remove()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(this.isDragging())<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.stopDrag();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>DD._dragElements.delete(this._id);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._remove();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_clearCaches()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearSelfAndDescendantCache(ABSOLUTE_SCALE);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearSelfAndDescendantCache(STAGE);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearSelfAndDescendantCache(VISIBLE);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearSelfAndDescendantCache(LISTENING);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_remove()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearCaches();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>parent<span class="dp">·</span>=<span class="dp">·</span>this.getParent();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(parent<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>parent.children)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>parent.children.splice(this.index,<span class="dp">·</span>1);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>parent._setChildrenIndices();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.parent<span class="dp">·</span>=<span class="dp">·</span>null;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>destroy()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.remove();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.clearCache();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getAttr(attr)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>method<span class="dp">·</span>=<span class="dp">·</span>&#x27;get&#x27;<span class="dp">·</span>+<span class="dp">·</span>Util._capitalize(attr);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(Util._isFunction(this[method]))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this[method]();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.attrs[attr];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getAncestors()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>parent<span class="dp">·</span>=<span class="dp">·</span>this.getParent(),<span class="dp">·</span>ancestors<span class="dp">·</span>=<span class="dp">·</span>[];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>while<span class="dp">·</span>(parent)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>ancestors.push(parent);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>parent<span class="dp">·</span>=<span class="dp">·</span>parent.getParent();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>ancestors;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getAttrs()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.attrs<span class="dp">·</span>||<span class="dp">·</span>{};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>setAttrs(config)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._batchTransformChanges(()<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>key,<span class="dp">·</span>method;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!config)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(key<span class="dp">·</span>in<span class="dp">·</span>config)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(key<span class="dp">·</span>===<span class="dp">·</span>CHILDREN)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>continue;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>method<span class="dp">·</span>=<span class="dp">·</span>SET<span class="dp">·</span>+<span class="dp">·</span>Util._capitalize(key);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(Util._isFunction(this[method]))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this[method](config[key]);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._setAttr(key,<span class="dp">·</span>config[key]);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>isListening()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._getCache(LISTENING,<span class="dp">·</span>this._isListening);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_isListening(relativeTo)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>listening<span class="dp">·</span>=<span class="dp">·</span>this.listening();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!listening)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>parent<span class="dp">·</span>=<span class="dp">·</span>this.getParent();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(parent<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>parent<span class="dp">·</span>!==<span class="dp">·</span>relativeTo<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>this<span class="dp">·</span>!==<span class="dp">·</span>relativeTo)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>parent._isListening(relativeTo);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>isVisible()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._getCache(VISIBLE,<span class="dp">·</span>this._isVisible);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_isVisible(relativeTo)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>visible<span class="dp">·</span>=<span class="dp">·</span>this.visible();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!visible)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>parent<span class="dp">·</span>=<span class="dp">·</span>this.getParent();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(parent<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>parent<span class="dp">·</span>!==<span class="dp">·</span>relativeTo<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>this<span class="dp">·</span>!==<span class="dp">·</span>relativeTo)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>parent._isVisible(relativeTo);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>shouldDrawHit(top,<span class="dp">·</span>skipDragCheck<span class="dp">·</span>=<span class="dp">·</span>false)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(top)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._isVisible(top)<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>this._isListening(top);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>layer<span class="dp">·</span>=<span class="dp">·</span>this.getLayer();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>layerUnderDrag<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>DD._dragElements.forEach((elem)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(elem.dragStatus<span class="dp">·</span>!==<span class="dp">·</span>&#x27;dragging&#x27;)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>if<span class="dp">·</span>(elem.node.nodeType<span class="dp">·</span>===<span class="dp">·</span>&#x27;Stage&#x27;)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>layerUnderDrag<span class="dp">·</span>=<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>if<span class="dp">·</span>(elem.node.getLayer()<span class="dp">·</span>===<span class="dp">·</span>layer)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>layerUnderDrag<span class="dp">·</span>=<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>dragSkip<span class="dp">·</span>=<span class="dp">·</span>!skipDragCheck<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>!Konva.hitOnDragEnabled<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>layerUnderDrag;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.isListening()<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>this.isVisible()<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>!dragSkip;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>show()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.visible(true);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hide()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.visible(false);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getZIndex()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.index<span class="dp">·</span>||<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getAbsoluteZIndex()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>depth<span class="dp">·</span>=<span class="dp">·</span>this.getDepth(),<span class="dp">·</span>that<span class="dp">·</span>=<span class="dp">·</span>this,<span class="dp">·</span>index<span class="dp">·</span>=<span class="dp">·</span>0,<span class="dp">·</span>nodes,<span class="dp">·</span>len,<span class="dp">·</span>n,<span class="dp">·</span>child;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>function<span class="dp">·</span>addChildren(children)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>nodes<span class="dp">·</span>=<span class="dp">·</span>[];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>len<span class="dp">·</span>=<span class="dp">·</span>children.length;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(n<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>n<span class="dp">·</span>&lt;<span class="dp">·</span>len;<span class="dp">·</span>n++)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>child<span class="dp">·</span>=<span class="dp">·</span>children[n];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>index++;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(child.nodeType<span class="dp">·</span>!==<span class="dp">·</span>SHAPE)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>nodes<span class="dp">·</span>=<span class="dp">·</span>nodes.concat(child.getChildren().slice());\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(child._id<span class="dp">·</span>===<span class="dp">·</span>that._id)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n<span class="dp">·</span>=<span class="dp">·</span>len;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(nodes.length<span class="dp">·</span>&gt;<span class="dp">·</span>0<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>nodes[0].getDepth()<span class="dp">·</span>&lt;=<span class="dp">·</span>depth)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>addChildren(nodes);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(that.nodeType<span class="dp">·</span>!==<span class="dp">·</span>UPPER_STAGE)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>addChildren(that.getStage().getChildren());\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>index;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getDepth()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>depth<span class="dp">·</span>=<span class="dp">·</span>0,<span class="dp">·</span>parent<span class="dp">·</span>=<span class="dp">·</span>this.parent;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>while<span class="dp">·</span>(parent)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>depth++;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>parent<span class="dp">·</span>=<span class="dp">·</span>parent.parent;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>depth;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_batchTransformChanges(func)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._batchingTransformChange<span class="dp">·</span>=<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>func();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._batchingTransformChange<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(this._needClearTransformCache)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearCache(TRANSFORM);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._needClearTransformCache<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>setPosition(pos)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._batchTransformChanges(()<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.x(pos.x);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.y(pos.y);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getPosition()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>x:<span class="dp">·</span>this.x(),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y:<span class="dp">·</span>this.y(),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getRelativePointerPosition()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!this.getStage())<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>null;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>pos<span class="dp">·</span>=<span class="dp">·</span>this.getStage().getPointerPosition();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!pos)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>null;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>transform<span class="dp">·</span>=<span class="dp">·</span>this.getAbsoluteTransform().copy();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>transform.invert();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>transform.point(pos);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getAbsolutePosition(top)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>let<span class="dp">·</span>haveCachedParent<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>let<span class="dp">·</span>parent<span class="dp">·</span>=<span class="dp">·</span>this.parent;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>while<span class="dp">·</span>(parent)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(parent.isCached())<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>haveCachedParent<span class="dp">·</span>=<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>break;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>parent<span class="dp">·</span>=<span class="dp">·</span>parent.parent;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(haveCachedParent<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>!top)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>top<span class="dp">·</span>=<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>absoluteMatrix<span class="dp">·</span>=<span class="dp">·</span>this.getAbsoluteTransform(top).getMatrix(),<span class="dp">·</span>absoluteTransform<span class="dp">·</span>=<span class="dp">·</span>new<span class="dp">·</span>Transform(),<span class="dp">·</span>offset<span class="dp">·</span>=<span class="dp">·</span>this.offset();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>absoluteTransform.m<span class="dp">·</span>=<span class="dp">·</span>absoluteMatrix.slice();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>absoluteTransform.translate(offset.x,<span class="dp">·</span>offset.y);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>absoluteTransform.getTranslation();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>setAbsolutePosition(pos)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>origTrans<span class="dp">·</span>=<span class="dp">·</span>this._clearTransform();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.attrs.x<span class="dp">·</span>=<span class="dp">·</span>origTrans.x;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.attrs.y<span class="dp">·</span>=<span class="dp">·</span>origTrans.y;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>delete<span class="dp">·</span>origTrans.x;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>delete<span class="dp">·</span>origTrans.y;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearCache(TRANSFORM);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>it<span class="dp">·</span>=<span class="dp">·</span>this._getAbsoluteTransform().copy();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>it.invert();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>it.translate(pos.x,<span class="dp">·</span>pos.y);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>pos<span class="dp">·</span>=<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>x:<span class="dp">·</span>this.attrs.x<span class="dp">·</span>+<span class="dp">·</span>it.getTranslation().x,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y:<span class="dp">·</span>this.attrs.y<span class="dp">·</span>+<span class="dp">·</span>it.getTranslation().y,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._setTransform(origTrans);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.setPosition({<span class="dp">·</span>x:<span class="dp">·</span>pos.x,<span class="dp">·</span>y:<span class="dp">·</span>pos.y<span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearCache(TRANSFORM);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_setTransform(trans)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>key;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(key<span class="dp">·</span>in<span class="dp">·</span>trans)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.attrs[key]<span class="dp">·</span>=<span class="dp">·</span>trans[key];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_clearTransform()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>trans<span class="dp">·</span>=<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>x:<span class="dp">·</span>this.x(),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y:<span class="dp">·</span>this.y(),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>rotation:<span class="dp">·</span>this.rotation(),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>scaleX:<span class="dp">·</span>this.scaleX(),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>scaleY:<span class="dp">·</span>this.scaleY(),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>offsetX:<span class="dp">·</span>this.offsetX(),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>offsetY:<span class="dp">·</span>this.offsetY(),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>skewX:<span class="dp">·</span>this.skewX(),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>skewY:<span class="dp">·</span>this.skewY(),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.attrs.x<span class="dp">·</span>=<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.attrs.y<span class="dp">·</span>=<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.attrs.rotation<span class="dp">·</span>=<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.attrs.scaleX<span class="dp">·</span>=<span class="dp">·</span>1;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.attrs.scaleY<span class="dp">·</span>=<span class="dp">·</span>1;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.attrs.offsetX<span class="dp">·</span>=<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.attrs.offsetY<span class="dp">·</span>=<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.attrs.skewX<span class="dp">·</span>=<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.attrs.skewY<span class="dp">·</span>=<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>trans;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>move(change)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>changeX<span class="dp">·</span>=<span class="dp">·</span>change.x,<span class="dp">·</span>changeY<span class="dp">·</span>=<span class="dp">·</span>change.y,<span class="dp">·</span>x<span class="dp">·</span>=<span class="dp">·</span>this.x(),<span class="dp">·</span>y<span class="dp">·</span>=<span class="dp">·</span>this.y();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(changeX<span class="dp">·</span>!==<span class="dp">·</span>undefined)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>x<span class="dp">·</span>+=<span class="dp">·</span>changeX;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(changeY<span class="dp">·</span>!==<span class="dp">·</span>undefined)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y<span class="dp">·</span>+=<span class="dp">·</span>changeY;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.setPosition({<span class="dp">·</span>x:<span class="dp">·</span>x,<span class="dp">·</span>y:<span class="dp">·</span>y<span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_eachAncestorReverse(func,<span class="dp">·</span>top)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>family<span class="dp">·</span>=<span class="dp">·</span>[],<span class="dp">·</span>parent<span class="dp">·</span>=<span class="dp">·</span>this.getParent(),<span class="dp">·</span>len,<span class="dp">·</span>n;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(top<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>top._id<span class="dp">·</span>===<span class="dp">·</span>this._id)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>family.unshift(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>while<span class="dp">·</span>(parent<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>(!top<span class="dp">·</span>||<span class="dp">·</span>parent._id<span class="dp">·</span>!==<span class="dp">·</span>top._id))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>family.unshift(parent);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>parent<span class="dp">·</span>=<span class="dp">·</span>parent.parent;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>len<span class="dp">·</span>=<span class="dp">·</span>family.length;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(n<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>n<span class="dp">·</span>&lt;<span class="dp">·</span>len;<span class="dp">·</span>n++)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>func(family[n]);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>rotate(theta)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.rotation(this.rotation()<span class="dp">·</span>+<span class="dp">·</span>theta);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>moveToTop()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!this.parent)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.warn(&#x27;Node<span class="dp">·</span>has<span class="dp">·</span>no<span class="dp">·</span>parent.<span class="dp">·</span>moveToTop<span class="dp">·</span>function<span class="dp">·</span>is<span class="dp">·</span>ignored.&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>index<span class="dp">·</span>=<span class="dp">·</span>this.index,<span class="dp">·</span>len<span class="dp">·</span>=<span class="dp">·</span>this.parent.getChildren().length;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(index<span class="dp">·</span>&lt;<span class="dp">·</span>len<span class="dp">·</span>-<span class="dp">·</span>1)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.parent.children.splice(index,<span class="dp">·</span>1);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.parent.children.push(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.parent._setChildrenIndices();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>moveUp()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!this.parent)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.warn(&#x27;Node<span class="dp">·</span>has<span class="dp">·</span>no<span class="dp">·</span>parent.<span class="dp">·</span>moveUp<span class="dp">·</span>function<span class="dp">·</span>is<span class="dp">·</span>ignored.&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>index<span class="dp">·</span>=<span class="dp">·</span>this.index,<span class="dp">·</span>len<span class="dp">·</span>=<span class="dp">·</span>this.parent.getChildren().length;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(index<span class="dp">·</span>&lt;<span class="dp">·</span>len<span class="dp">·</span>-<span class="dp">·</span>1)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.parent.children.splice(index,<span class="dp">·</span>1);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.parent.children.splice(index<span class="dp">·</span>+<span class="dp">·</span>1,<span class="dp">·</span>0,<span class="dp">·</span>this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.parent._setChildrenIndices();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>moveDown()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!this.parent)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.warn(&#x27;Node<span class="dp">·</span>has<span class="dp">·</span>no<span class="dp">·</span>parent.<span class="dp">·</span>moveDown<span class="dp">·</span>function<span class="dp">·</span>is<span class="dp">·</span>ignored.&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>index<span class="dp">·</span>=<span class="dp">·</span>this.index;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(index<span class="dp">·</span>&gt;<span class="dp">·</span>0)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.parent.children.splice(index,<span class="dp">·</span>1);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.parent.children.splice(index<span class="dp">·</span>-<span class="dp">·</span>1,<span class="dp">·</span>0,<span class="dp">·</span>this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.parent._setChildrenIndices();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>moveToBottom()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!this.parent)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.warn(&#x27;Node<span class="dp">·</span>has<span class="dp">·</span>no<span class="dp">·</span>parent.<span class="dp">·</span>moveToBottom<span class="dp">·</span>function<span class="dp">·</span>is<span class="dp">·</span>ignored.&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>index<span class="dp">·</span>=<span class="dp">·</span>this.index;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(index<span class="dp">·</span>&gt;<span class="dp">·</span>0)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.parent.children.splice(index,<span class="dp">·</span>1);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.parent.children.unshift(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.parent._setChildrenIndices();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>setZIndex(zIndex)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!this.parent)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.warn(&#x27;Node<span class="dp">·</span>has<span class="dp">·</span>no<span class="dp">·</span>parent.<span class="dp">·</span>zIndex<span class="dp">·</span>parameter<span class="dp">·</span>is<span class="dp">·</span>ignored.&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(zIndex<span class="dp">·</span>&lt;<span class="dp">·</span>0<span class="dp">·</span>||<span class="dp">·</span>zIndex<span class="dp">·</span>&gt;=<span class="dp">·</span>this.parent.children.length)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.warn(&#x27;Unexpected<span class="dp">·</span>value<span class="dp">·</span>&#x27;<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>zIndex<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;<span class="dp">·</span>for<span class="dp">·</span>zIndex<span class="dp">·</span>property.<span class="dp">·</span>zIndex<span class="dp">·</span>is<span class="dp">·</span>just<span class="dp">·</span>index<span class="dp">·</span>of<span class="dp">·</span>a<span class="dp">·</span>node<span class="dp">·</span>in<span class="dp">·</span>children<span class="dp">·</span>of<span class="dp">·</span>its<span class="dp">·</span>parent.<span class="dp">·</span>Expected<span class="dp">·</span>value<span class="dp">·</span>is<span class="dp">·</span>from<span class="dp">·</span>0<span class="dp">·</span>to<span class="dp">·</span>&#x27;<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(this.parent.children.length<span class="dp">·</span>-<span class="dp">·</span>1)<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;.&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>index<span class="dp">·</span>=<span class="dp">·</span>this.index;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.parent.children.splice(index,<span class="dp">·</span>1);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.parent.children.splice(zIndex,<span class="dp">·</span>0,<span class="dp">·</span>this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.parent._setChildrenIndices();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getAbsoluteOpacity()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._getCache(ABSOLUTE_OPACITY,<span class="dp">·</span>this._getAbsoluteOpacity);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_getAbsoluteOpacity()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>absOpacity<span class="dp">·</span>=<span class="dp">·</span>this.opacity();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>parent<span class="dp">·</span>=<span class="dp">·</span>this.getParent();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(parent<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>!parent._isUnderCache)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>absOpacity<span class="dp">·</span>*=<span class="dp">·</span>parent.getAbsoluteOpacity();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>absOpacity;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>moveTo(newContainer)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(this.getParent()<span class="dp">·</span>!==<span class="dp">·</span>newContainer)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._remove();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>newContainer.add(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>toObject()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>obj<span class="dp">·</span>=<span class="dp">·</span>{},<span class="dp">·</span>attrs<span class="dp">·</span>=<span class="dp">·</span>this.getAttrs(),<span class="dp">·</span>key,<span class="dp">·</span>val,<span class="dp">·</span>getter,<span class="dp">·</span>defaultValue,<span class="dp">·</span>nonPlainObject;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>obj.attrs<span class="dp">·</span>=<span class="dp">·</span>{};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(key<span class="dp">·</span>in<span class="dp">·</span>attrs)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>val<span class="dp">·</span>=<span class="dp">·</span>attrs[key];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>nonPlainObject<span class="dp">·</span>=\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.isObject(val)<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>!Util._isPlainObject(val)<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>!Util._isArray(val);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(nonPlainObject)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>continue;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getter<span class="dp">·</span>=<span class="dp">·</span>typeof<span class="dp">·</span>this[key]<span class="dp">·</span>===<span class="dp">·</span>&#x27;function&#x27;<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>this[key];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>delete<span class="dp">·</span>attrs[key];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>defaultValue<span class="dp">·</span>=<span class="dp">·</span>getter<span class="dp">·</span>?<span class="dp">·</span>getter.call(this)<span class="dp">·</span>:<span class="dp">·</span>null;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>attrs[key]<span class="dp">·</span>=<span class="dp">·</span>val;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(defaultValue<span class="dp">·</span>!==<span class="dp">·</span>val)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>obj.attrs[key]<span class="dp">·</span>=<span class="dp">·</span>val;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>obj.className<span class="dp">·</span>=<span class="dp">·</span>this.getClassName();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>Util._prepareToStringify(obj);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>toJSON()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>JSON.stringify(this.toObject());\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getParent()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.parent;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>findAncestors(selector,<span class="dp">·</span>includeSelf,<span class="dp">·</span>stopNode)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>res<span class="dp">·</span>=<span class="dp">·</span>[];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(includeSelf<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>this._isMatch(selector))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>res.push(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>ancestor<span class="dp">·</span>=<span class="dp">·</span>this.parent;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>while<span class="dp">·</span>(ancestor)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(ancestor<span class="dp">·</span>===<span class="dp">·</span>stopNode)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>res;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(ancestor._isMatch(selector))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>res.push(ancestor);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>ancestor<span class="dp">·</span>=<span class="dp">·</span>ancestor.parent;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>res;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>isAncestorOf(node)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>findAncestor(selector,<span class="dp">·</span>includeSelf,<span class="dp">·</span>stopNode)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.findAncestors(selector,<span class="dp">·</span>includeSelf,<span class="dp">·</span>stopNode)[0];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_isMatch(selector)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!selector)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(typeof<span class="dp">·</span>selector<span class="dp">·</span>===<span class="dp">·</span>&#x27;function&#x27;)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>selector(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>selectorArr<span class="dp">·</span>=<span class="dp">·</span>selector.replace(/<span class="dp">·</span>/g,<span class="dp">·</span>&#x27;&#x27;).split(&#x27;,&#x27;),<span class="dp">·</span>len<span class="dp">·</span>=<span class="dp">·</span>selectorArr.length,<span class="dp">·</span>n,<span class="dp">·</span>sel;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(n<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>n<span class="dp">·</span>&lt;<span class="dp">·</span>len;<span class="dp">·</span>n++)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sel<span class="dp">·</span>=<span class="dp">·</span>selectorArr[n];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!Util.isValidSelector(sel))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.warn(&#x27;Selector<span class="dp">·</span>\&quot;&#x27;<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sel<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;\&quot;<span class="dp">·</span>is<span class="dp">·</span>invalid.<span class="dp">·</span>Allowed<span class="dp">·</span>selectors<span class="dp">·</span>examples<span class="dp">·</span>are<span class="dp">·</span>\&quot;#foo\&quot;,<span class="dp">·</span>\&quot;.bar\&quot;<span class="dp">·</span>or<span class="dp">·</span>\&quot;Group\&quot;.&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.warn(&#x27;If<span class="dp">·</span>you<span class="dp">·</span>have<span class="dp">·</span>a<span class="dp">·</span>custom<span class="dp">·</span>shape<span class="dp">·</span>with<span class="dp">·</span>such<span class="dp">·</span>className,<span class="dp">·</span>please<span class="dp">·</span>change<span class="dp">·</span>it<span class="dp">·</span>to<span class="dp">·</span>start<span class="dp">·</span>with<span class="dp">·</span>upper<span class="dp">·</span>letter<span class="dp">·</span>like<span class="dp">·</span>\&quot;Triangle\&quot;.&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.warn(&#x27;Konva<span class="dp">·</span>is<span class="dp">·</span>awesome,<span class="dp">·</span>right?&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(sel.charAt(0)<span class="dp">·</span>===<span class="dp">·</span>&#x27;#&#x27;)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(this.id()<span class="dp">·</span>===<span class="dp">·</span>sel.slice(1))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>if<span class="dp">·</span>(sel.charAt(0)<span class="dp">·</span>===<span class="dp">·</span>&#x27;.&#x27;)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(this.hasName(sel.slice(1)))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>if<span class="dp">·</span>(this.className<span class="dp">·</span>===<span class="dp">·</span>sel<span class="dp">·</span>||<span class="dp">·</span>this.nodeType<span class="dp">·</span>===<span class="dp">·</span>sel)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getLayer()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>parent<span class="dp">·</span>=<span class="dp">·</span>this.getParent();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>parent<span class="dp">·</span>?<span class="dp">·</span>parent.getLayer()<span class="dp">·</span>:<span class="dp">·</span>null;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getStage()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._getCache(STAGE,<span class="dp">·</span>this._getStage);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_getStage()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>parent<span class="dp">·</span>=<span class="dp">·</span>this.getParent();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(parent)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>parent.getStage();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>undefined;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>fire(eventType,<span class="dp">·</span>evt<span class="dp">·</span>=<span class="dp">·</span>{},<span class="dp">·</span>bubble)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>evt.target<span class="dp">·</span>=<span class="dp">·</span>evt.target<span class="dp">·</span>||<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(bubble)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._fireAndBubble(eventType,<span class="dp">·</span>evt);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._fire(eventType,<span class="dp">·</span>evt);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getAbsoluteTransform(top)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(top)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._getAbsoluteTransform(top);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._getCache(ABSOLUTE_TRANSFORM,<span class="dp">·</span>this._getAbsoluteTransform);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_getAbsoluteTransform(top)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>at;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(top)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>at<span class="dp">·</span>=<span class="dp">·</span>new<span class="dp">·</span>Transform();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._eachAncestorReverse(function<span class="dp">·</span>(node)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>transformsEnabled<span class="dp">·</span>=<span class="dp">·</span>node.transformsEnabled();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(transformsEnabled<span class="dp">·</span>===<span class="dp">·</span>&#x27;all&#x27;)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>at.multiply(node.getTransform());\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>if<span class="dp">·</span>(transformsEnabled<span class="dp">·</span>===<span class="dp">·</span>&#x27;position&#x27;)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>at.translate(node.x()<span class="dp">·</span>-<span class="dp">·</span>node.offsetX(),<span class="dp">·</span>node.y()<span class="dp">·</span>-<span class="dp">·</span>node.offsetY());\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},<span class="dp">·</span>top);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>at;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>at<span class="dp">·</span>=<span class="dp">·</span>this._cache.get(ABSOLUTE_TRANSFORM)<span class="dp">·</span>||<span class="dp">·</span>new<span class="dp">·</span>Transform();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(this.parent)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.parent.getAbsoluteTransform().copyInto(at);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>at.reset();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>transformsEnabled<span class="dp">·</span>=<span class="dp">·</span>this.transformsEnabled();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(transformsEnabled<span class="dp">·</span>===<span class="dp">·</span>&#x27;all&#x27;)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>at.multiply(this.getTransform());\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>if<span class="dp">·</span>(transformsEnabled<span class="dp">·</span>===<span class="dp">·</span>&#x27;position&#x27;)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>x<span class="dp">·</span>=<span class="dp">·</span>this.attrs.x<span class="dp">·</span>||<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>y<span class="dp">·</span>=<span class="dp">·</span>this.attrs.y<span class="dp">·</span>||<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>offsetX<span class="dp">·</span>=<span class="dp">·</span>this.attrs.offsetX<span class="dp">·</span>||<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>offsetY<span class="dp">·</span>=<span class="dp">·</span>this.attrs.offsetY<span class="dp">·</span>||<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>at.translate(x<span class="dp">·</span>-<span class="dp">·</span>offsetX,<span class="dp">·</span>y<span class="dp">·</span>-<span class="dp">·</span>offsetY);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>at.dirty<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>at;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getAbsoluteScale(top)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>parent<span class="dp">·</span>=<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>while<span class="dp">·</span>(parent)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(parent._isUnderCache)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>top<span class="dp">·</span>=<span class="dp">·</span>parent;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>parent<span class="dp">·</span>=<span class="dp">·</span>parent.getParent();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>transform<span class="dp">·</span>=<span class="dp">·</span>this.getAbsoluteTransform(top);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>attrs<span class="dp">·</span>=<span class="dp">·</span>transform.decompose();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>x:<span class="dp">·</span>attrs.scaleX,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y:<span class="dp">·</span>attrs.scaleY,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getAbsoluteRotation()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.getAbsoluteTransform().decompose().rotation;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getTransform()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._getCache(TRANSFORM,<span class="dp">·</span>this._getTransform);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_getTransform()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>_a,<span class="dp">·</span>_b;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>m<span class="dp">·</span>=<span class="dp">·</span>this._cache.get(TRANSFORM)<span class="dp">·</span>||<span class="dp">·</span>new<span class="dp">·</span>Transform();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>m.reset();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>x<span class="dp">·</span>=<span class="dp">·</span>this.x(),<span class="dp">·</span>y<span class="dp">·</span>=<span class="dp">·</span>this.y(),<span class="dp">·</span>rotation<span class="dp">·</span>=<span class="dp">·</span>Konva.getAngle(this.rotation()),<span class="dp">·</span>scaleX<span class="dp">·</span>=<span class="dp">·</span>(_a<span class="dp">·</span>=<span class="dp">·</span>this.attrs.scaleX)<span class="dp">·</span>!==<span class="dp">·</span>null<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>_a<span class="dp">·</span>!==<span class="dp">·</span>void<span class="dp">·</span>0<span class="dp">·</span>?<span class="dp">·</span>_a<span class="dp">·</span>:<span class="dp">·</span>1,<span class="dp">·</span>scaleY<span class="dp">·</span>=<span class="dp">·</span>(_b<span class="dp">·</span>=<span class="dp">·</span>this.attrs.scaleY)<span class="dp">·</span>!==<span class="dp">·</span>null<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>_b<span class="dp">·</span>!==<span class="dp">·</span>void<span class="dp">·</span>0<span class="dp">·</span>?<span class="dp">·</span>_b<span class="dp">·</span>:<span class="dp">·</span>1,<span class="dp">·</span>skewX<span class="dp">·</span>=<span class="dp">·</span>this.attrs.skewX<span class="dp">·</span>||<span class="dp">·</span>0,<span class="dp">·</span>skewY<span class="dp">·</span>=<span class="dp">·</span>this.attrs.skewY<span class="dp">·</span>||<span class="dp">·</span>0,<span class="dp">·</span>offsetX<span class="dp">·</span>=<span class="dp">·</span>this.attrs.offsetX<span class="dp">·</span>||<span class="dp">·</span>0,<span class="dp">·</span>offsetY<span class="dp">·</span>=<span class="dp">·</span>this.attrs.offsetY<span class="dp">·</span>||<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(x<span class="dp">·</span>!==<span class="dp">·</span>0<span class="dp">·</span>||<span class="dp">·</span>y<span class="dp">·</span>!==<span class="dp">·</span>0)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>m.translate(x,<span class="dp">·</span>y);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(rotation<span class="dp">·</span>!==<span class="dp">·</span>0)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>m.rotate(rotation);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(skewX<span class="dp">·</span>!==<span class="dp">·</span>0<span class="dp">·</span>||<span class="dp">·</span>skewY<span class="dp">·</span>!==<span class="dp">·</span>0)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>m.skew(skewX,<span class="dp">·</span>skewY);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(scaleX<span class="dp">·</span>!==<span class="dp">·</span>1<span class="dp">·</span>||<span class="dp">·</span>scaleY<span class="dp">·</span>!==<span class="dp">·</span>1)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>m.scale(scaleX,<span class="dp">·</span>scaleY);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(offsetX<span class="dp">·</span>!==<span class="dp">·</span>0<span class="dp">·</span>||<span class="dp">·</span>offsetY<span class="dp">·</span>!==<span class="dp">·</span>0)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>m.translate(-1<span class="dp">·</span>*<span class="dp">·</span>offsetX,<span class="dp">·</span>-1<span class="dp">·</span>*<span class="dp">·</span>offsetY);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>m.dirty<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>m;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>clone(obj)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>attrs<span class="dp">·</span>=<span class="dp">·</span>Util.cloneObject(this.attrs),<span class="dp">·</span>key,<span class="dp">·</span>allListeners,<span class="dp">·</span>len,<span class="dp">·</span>n,<span class="dp">·</span>listener;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(key<span class="dp">·</span>in<span class="dp">·</span>obj)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>attrs[key]<span class="dp">·</span>=<span class="dp">·</span>obj[key];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>node<span class="dp">·</span>=<span class="dp">·</span>new<span class="dp">·</span>this.constructor(attrs);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(key<span class="dp">·</span>in<span class="dp">·</span>this.eventListeners)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>allListeners<span class="dp">·</span>=<span class="dp">·</span>this.eventListeners[key];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>len<span class="dp">·</span>=<span class="dp">·</span>allListeners.length;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(n<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>n<span class="dp">·</span>&lt;<span class="dp">·</span>len;<span class="dp">·</span>n++)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>listener<span class="dp">·</span>=<span class="dp">·</span>allListeners[n];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(listener.name.indexOf(KONVA)<span class="dp">·</span>&lt;<span class="dp">·</span>0)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!node.eventListeners[key])<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>node.eventListeners[key]<span class="dp">·</span>=<span class="dp">·</span>[];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>node.eventListeners[key].push(listener);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>node;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_toKonvaCanvas(config)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>config<span class="dp">·</span>=<span class="dp">·</span>config<span class="dp">·</span>||<span class="dp">·</span>{};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>box<span class="dp">·</span>=<span class="dp">·</span>this.getClientRect();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>stage<span class="dp">·</span>=<span class="dp">·</span>this.getStage(),<span class="dp">·</span>x<span class="dp">·</span>=<span class="dp">·</span>config.x<span class="dp">·</span>!==<span class="dp">·</span>undefined<span class="dp">·</span>?<span class="dp">·</span>config.x<span class="dp">·</span>:<span class="dp">·</span>Math.floor(box.x),<span class="dp">·</span>y<span class="dp">·</span>=<span class="dp">·</span>config.y<span class="dp">·</span>!==<span class="dp">·</span>undefined<span class="dp">·</span>?<span class="dp">·</span>config.y<span class="dp">·</span>:<span class="dp">·</span>Math.floor(box.y),<span class="dp">·</span>pixelRatio<span class="dp">·</span>=<span class="dp">·</span>config.pixelRatio<span class="dp">·</span>||<span class="dp">·</span>1,<span class="dp">·</span>canvas<span class="dp">·</span>=<span class="dp">·</span>new<span class="dp">·</span>SceneCanvas({\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>width:<span class="dp">·</span>config.width<span class="dp">·</span>||<span class="dp">·</span>Math.ceil(box.width)<span class="dp">·</span>||<span class="dp">·</span>(stage<span class="dp">·</span>?<span class="dp">·</span>stage.width()<span class="dp">·</span>:<span class="dp">·</span>0),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>height:<span class="dp">·</span>config.height<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Math.ceil(box.height)<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(stage<span class="dp">·</span>?<span class="dp">·</span>stage.height()<span class="dp">·</span>:<span class="dp">·</span>0),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>pixelRatio:<span class="dp">·</span>pixelRatio,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}),<span class="dp">·</span>context<span class="dp">·</span>=<span class="dp">·</span>canvas.getContext();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(config.imageSmoothingEnabled<span class="dp">·</span>===<span class="dp">·</span>false)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context._context.imageSmoothingEnabled<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.save();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(x<span class="dp">·</span>||<span class="dp">·</span>y)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.translate(-1<span class="dp">·</span>*<span class="dp">·</span>x,<span class="dp">·</span>-1<span class="dp">·</span>*<span class="dp">·</span>y);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.drawScene(canvas);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.restore();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>canvas;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>toCanvas(config)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._toKonvaCanvas(config)._canvas;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>toDataURL(config)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>config<span class="dp">·</span>=<span class="dp">·</span>config<span class="dp">·</span>||<span class="dp">·</span>{};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>mimeType<span class="dp">·</span>=<span class="dp">·</span>config.mimeType<span class="dp">·</span>||<span class="dp">·</span>null,<span class="dp">·</span>quality<span class="dp">·</span>=<span class="dp">·</span>config.quality<span class="dp">·</span>||<span class="dp">·</span>null;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>url<span class="dp">·</span>=<span class="dp">·</span>this._toKonvaCanvas(config).toDataURL(mimeType,<span class="dp">·</span>quality);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(config.callback)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>config.callback(url);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>url;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>toImage(config)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>new<span class="dp">·</span>Promise((resolve,<span class="dp">·</span>reject)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>try<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>callback<span class="dp">·</span>=<span class="dp">·</span>config<span class="dp">·</span>===<span class="dp">·</span>null<span class="dp">·</span>||<span class="dp">·</span>config<span class="dp">·</span>===<span class="dp">·</span>void<span class="dp">·</span>0<span class="dp">·</span>?<span class="dp">·</span>void<span class="dp">·</span>0<span class="dp">·</span>:<span class="dp">·</span>config.callback;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(callback)\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>delete<span class="dp">·</span>config.callback;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util._urlToImage(this.toDataURL(config),<span class="dp">·</span>function<span class="dp">·</span>(img)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>resolve(img);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>callback<span class="dp">·</span>===<span class="dp">·</span>null<span class="dp">·</span>||<span class="dp">·</span>callback<span class="dp">·</span>===<span class="dp">·</span>void<span class="dp">·</span>0<span class="dp">·</span>?<span class="dp">·</span>void<span class="dp">·</span>0<span class="dp">·</span>:<span class="dp">·</span>callback(img);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>catch<span class="dp">·</span>(err)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reject(err);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>toBlob(config)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>new<span class="dp">·</span>Promise((resolve,<span class="dp">·</span>reject)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>try<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>callback<span class="dp">·</span>=<span class="dp">·</span>config<span class="dp">·</span>===<span class="dp">·</span>null<span class="dp">·</span>||<span class="dp">·</span>config<span class="dp">·</span>===<span class="dp">·</span>void<span class="dp">·</span>0<span class="dp">·</span>?<span class="dp">·</span>void<span class="dp">·</span>0<span class="dp">·</span>:<span class="dp">·</span>config.callback;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(callback)\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>delete<span class="dp">·</span>config.callback;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.toCanvas(config).toBlob((blob)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>resolve(blob);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>callback<span class="dp">·</span>===<span class="dp">·</span>null<span class="dp">·</span>||<span class="dp">·</span>callback<span class="dp">·</span>===<span class="dp">·</span>void<span class="dp">·</span>0<span class="dp">·</span>?<span class="dp">·</span>void<span class="dp">·</span>0<span class="dp">·</span>:<span class="dp">·</span>callback(blob);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>catch<span class="dp">·</span>(err)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reject(err);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>setSize(size)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.width(size.width);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.height(size.height);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getSize()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>width:<span class="dp">·</span>this.width(),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>height:<span class="dp">·</span>this.height(),\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getClassName()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.className<span class="dp">·</span>||<span class="dp">·</span>this.nodeType;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getType()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.nodeType;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getDragDistance()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(this.attrs.dragDistance<span class="dp">·</span>!==<span class="dp">·</span>undefined)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.attrs.dragDistance;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>if<span class="dp">·</span>(this.parent)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.parent.getDragDistance();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>Konva.dragDistance;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_off(type,<span class="dp">·</span>name,<span class="dp">·</span>callback)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>evtListeners<span class="dp">·</span>=<span class="dp">·</span>this.eventListeners[type],<span class="dp">·</span>i,<span class="dp">·</span>evtName,<span class="dp">·</span>handler;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(i<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>i<span class="dp">·</span>&lt;<span class="dp">·</span>evtListeners.length;<span class="dp">·</span>i++)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>evtName<span class="dp">·</span>=<span class="dp">·</span>evtListeners[i].name;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>handler<span class="dp">·</span>=<span class="dp">·</span>evtListeners[i].handler;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>((evtName<span class="dp">·</span>!==<span class="dp">·</span>&#x27;konva&#x27;<span class="dp">·</span>||<span class="dp">·</span>name<span class="dp">·</span>===<span class="dp">·</span>&#x27;konva&#x27;)<span class="dp">·</span>&amp;&amp;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(!name<span class="dp">·</span>||<span class="dp">·</span>evtName<span class="dp">·</span>===<span class="dp">·</span>name)<span class="dp">·</span>&amp;&amp;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(!callback<span class="dp">·</span>||<span class="dp">·</span>callback<span class="dp">·</span>===<span class="dp">·</span>handler))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>evtListeners.splice(i,<span class="dp">·</span>1);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(evtListeners.length<span class="dp">·</span>===<span class="dp">·</span>0)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>delete<span class="dp">·</span>this.eventListeners[type];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>break;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>i--;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_fireChangeEvent(attr,<span class="dp">·</span>oldVal,<span class="dp">·</span>newVal)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._fire(attr<span class="dp">·</span>+<span class="dp">·</span>CHANGE,<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>oldVal:<span class="dp">·</span>oldVal,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>newVal:<span class="dp">·</span>newVal,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>addName(name)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!this.hasName(name))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>oldName<span class="dp">·</span>=<span class="dp">·</span>this.name();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>newName<span class="dp">·</span>=<span class="dp">·</span>oldName<span class="dp">·</span>?<span class="dp">·</span>oldName<span class="dp">·</span>+<span class="dp">·</span>&#x27;<span class="dp">·</span>&#x27;<span class="dp">·</span>+<span class="dp">·</span>name<span class="dp">·</span>:<span class="dp">·</span>name;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.name(newName);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hasName(name)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!name)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>fullName<span class="dp">·</span>=<span class="dp">·</span>this.name();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!fullName)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>names<span class="dp">·</span>=<span class="dp">·</span>(fullName<span class="dp">·</span>||<span class="dp">·</span>&#x27;&#x27;).split(/\\s/g);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>names.indexOf(name)<span class="dp">·</span>!==<span class="dp">·</span>-1;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>removeName(name)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>names<span class="dp">·</span>=<span class="dp">·</span>(this.name()<span class="dp">·</span>||<span class="dp">·</span>&#x27;&#x27;).split(/\\s/g);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>index<span class="dp">·</span>=<span class="dp">·</span>names.indexOf(name);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(index<span class="dp">·</span>!==<span class="dp">·</span>-1)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>names.splice(index,<span class="dp">·</span>1);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.name(names.join(&#x27;<span class="dp">·</span>&#x27;));\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>setAttr(attr,<span class="dp">·</span>val)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>func<span class="dp">·</span>=<span class="dp">·</span>this[SET<span class="dp">·</span>+<span class="dp">·</span>Util._capitalize(attr)];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(Util._isFunction(func))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>func.call(this,<span class="dp">·</span>val);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._setAttr(attr,<span class="dp">·</span>val);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_requestDraw()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(Konva.autoDrawEnabled)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>drawNode<span class="dp">·</span>=<span class="dp">·</span>this.getLayer()<span class="dp">·</span>||<span class="dp">·</span>this.getStage();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>drawNode<span class="dp">·</span>===<span class="dp">·</span>null<span class="dp">·</span>||<span class="dp">·</span>drawNode<span class="dp">·</span>===<span class="dp">·</span>void<span class="dp">·</span>0<span class="dp">·</span>?<span class="dp">·</span>void<span class="dp">·</span>0<span class="dp">·</span>:<span class="dp">·</span>drawNode.batchDraw();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_setAttr(key,<span class="dp">·</span>val)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>oldVal<span class="dp">·</span>=<span class="dp">·</span>this.attrs[key];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(oldVal<span class="dp">·</span>===<span class="dp">·</span>val<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>!Util.isObject(val))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(val<span class="dp">·</span>===<span class="dp">·</span>undefined<span class="dp">·</span>||<span class="dp">·</span>val<span class="dp">·</span>===<span class="dp">·</span>null)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>delete<span class="dp">·</span>this.attrs[key];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.attrs[key]<span class="dp">·</span>=<span class="dp">·</span>val;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(this._shouldFireChangeEvents)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._fireChangeEvent(key,<span class="dp">·</span>oldVal,<span class="dp">·</span>val);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._requestDraw();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_setComponentAttr(key,<span class="dp">·</span>component,<span class="dp">·</span>val)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>oldVal;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(val<span class="dp">·</span>!==<span class="dp">·</span>undefined)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>oldVal<span class="dp">·</span>=<span class="dp">·</span>this.attrs[key];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!oldVal)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.attrs[key]<span class="dp">·</span>=<span class="dp">·</span>this.getAttr(key);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.attrs[key][component]<span class="dp">·</span>=<span class="dp">·</span>val;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._fireChangeEvent(key,<span class="dp">·</span>oldVal,<span class="dp">·</span>val);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_fireAndBubble(eventType,<span class="dp">·</span>evt,<span class="dp">·</span>compareShape)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(evt<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>this.nodeType<span class="dp">·</span>===<span class="dp">·</span>SHAPE)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>evt.target<span class="dp">·</span>=<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>shouldStop<span class="dp">·</span>=<span class="dp">·</span>(eventType<span class="dp">·</span>===<span class="dp">·</span>MOUSEENTER<span class="dp">·</span>||<span class="dp">·</span>eventType<span class="dp">·</span>===<span class="dp">·</span>MOUSELEAVE)<span class="dp">·</span>&amp;&amp;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>((compareShape<span class="dp">·</span>&amp;&amp;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(this<span class="dp">·</span>===<span class="dp">·</span>compareShape<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(this.isAncestorOf<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>this.isAncestorOf(compareShape))))<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(this.nodeType<span class="dp">·</span>===<span class="dp">·</span>&#x27;Stage&#x27;<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>!compareShape));\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!shouldStop)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._fire(eventType,<span class="dp">·</span>evt);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>stopBubble<span class="dp">·</span>=<span class="dp">·</span>(eventType<span class="dp">·</span>===<span class="dp">·</span>MOUSEENTER<span class="dp">·</span>||<span class="dp">·</span>eventType<span class="dp">·</span>===<span class="dp">·</span>MOUSELEAVE)<span class="dp">·</span>&amp;&amp;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>compareShape<span class="dp">·</span>&amp;&amp;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>compareShape.isAncestorOf<span class="dp">·</span>&amp;&amp;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>compareShape.isAncestorOf(this)<span class="dp">·</span>&amp;&amp;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>!compareShape.isAncestorOf(this.parent);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(((evt<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>!evt.cancelBubble)<span class="dp">·</span>||<span class="dp">·</span>!evt)<span class="dp">·</span>&amp;&amp;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.parent<span class="dp">·</span>&amp;&amp;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.parent.isListening()<span class="dp">·</span>&amp;&amp;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>!stopBubble)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(compareShape<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>compareShape.parent)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._fireAndBubble.call(this.parent,<span class="dp">·</span>eventType,<span class="dp">·</span>evt,<span class="dp">·</span>compareShape);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._fireAndBubble.call(this.parent,<span class="dp">·</span>eventType,<span class="dp">·</span>evt);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_getProtoListeners(eventType)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>let<span class="dp">·</span>listeners<span class="dp">·</span>=<span class="dp">·</span>this._cache.get(ALL_LISTENERS);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!listeners)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>listeners<span class="dp">·</span>=<span class="dp">·</span>{};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>let<span class="dp">·</span>obj<span class="dp">·</span>=<span class="dp">·</span>Object.getPrototypeOf(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>while<span class="dp">·</span>(obj)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!obj.eventListeners)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>obj<span class="dp">·</span>=<span class="dp">·</span>Object.getPrototypeOf(obj);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>continue;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(var<span class="dp">·</span>event<span class="dp">·</span>in<span class="dp">·</span>obj.eventListeners)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>newEvents<span class="dp">·</span>=<span class="dp">·</span>obj.eventListeners[event];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>oldEvents<span class="dp">·</span>=<span class="dp">·</span>listeners[event]<span class="dp">·</span>||<span class="dp">·</span>[];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>listeners[event]<span class="dp">·</span>=<span class="dp">·</span>newEvents.concat(oldEvents);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>obj<span class="dp">·</span>=<span class="dp">·</span>Object.getPrototypeOf(obj);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._cache.set(ALL_LISTENERS,<span class="dp">·</span>listeners);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>listeners[eventType];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_fire(eventType,<span class="dp">·</span>evt)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>evt<span class="dp">·</span>=<span class="dp">·</span>evt<span class="dp">·</span>||<span class="dp">·</span>{};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>evt.currentTarget<span class="dp">·</span>=<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>evt.type<span class="dp">·</span>=<span class="dp">·</span>eventType;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>topListeners<span class="dp">·</span>=<span class="dp">·</span>this._getProtoListeners(eventType);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(topListeners)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(var<span class="dp">·</span>i<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>i<span class="dp">·</span>&lt;<span class="dp">·</span>topListeners.length;<span class="dp">·</span>i++)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>topListeners[i].handler.call(this,<span class="dp">·</span>evt);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>selfListeners<span class="dp">·</span>=<span class="dp">·</span>this.eventListeners[eventType];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(selfListeners)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(var<span class="dp">·</span>i<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>i<span class="dp">·</span>&lt;<span class="dp">·</span>selfListeners.length;<span class="dp">·</span>i++)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>selfListeners[i].handler.call(this,<span class="dp">·</span>evt);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>draw()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.drawScene();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.drawHit();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_createDragElement(evt)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>pointerId<span class="dp">·</span>=<span class="dp">·</span>evt<span class="dp">·</span>?<span class="dp">·</span>evt.pointerId<span class="dp">·</span>:<span class="dp">·</span>undefined;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>stage<span class="dp">·</span>=<span class="dp">·</span>this.getStage();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>ap<span class="dp">·</span>=<span class="dp">·</span>this.getAbsolutePosition();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>pos<span class="dp">·</span>=<span class="dp">·</span>stage._getPointerById(pointerId)<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>stage._changedPointerPositions[0]<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>ap;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>DD._dragElements.set(this._id,<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>node:<span class="dp">·</span>this,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>startPointerPos:<span class="dp">·</span>pos,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>offset:<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>x:<span class="dp">·</span>pos.x<span class="dp">·</span>-<span class="dp">·</span>ap.x,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y:<span class="dp">·</span>pos.y<span class="dp">·</span>-<span class="dp">·</span>ap.y,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dragStatus:<span class="dp">·</span>&#x27;ready&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>pointerId,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>startDrag(evt,<span class="dp">·</span>bubbleEvent<span class="dp">·</span>=<span class="dp">·</span>true)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!DD._dragElements.has(this._id))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._createDragElement(evt);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>elem<span class="dp">·</span>=<span class="dp">·</span>DD._dragElements.get(this._id);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>elem.dragStatus<span class="dp">·</span>=<span class="dp">·</span>&#x27;dragging&#x27;;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.fire(&#x27;dragstart&#x27;,<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>type:<span class="dp">·</span>&#x27;dragstart&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>target:<span class="dp">·</span>this,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>evt:<span class="dp">·</span>evt<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>evt.evt,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},<span class="dp">·</span>bubbleEvent);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_setDragPosition(evt,<span class="dp">·</span>elem)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>pos<span class="dp">·</span>=<span class="dp">·</span>this.getStage()._getPointerById(elem.pointerId);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!pos)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>newNodePos<span class="dp">·</span>=<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>x:<span class="dp">·</span>pos.x<span class="dp">·</span>-<span class="dp">·</span>elem.offset.x,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y:<span class="dp">·</span>pos.y<span class="dp">·</span>-<span class="dp">·</span>elem.offset.y,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>dbf<span class="dp">·</span>=<span class="dp">·</span>this.dragBoundFunc();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(dbf<span class="dp">·</span>!==<span class="dp">·</span>undefined)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>bounded<span class="dp">·</span>=<span class="dp">·</span>dbf.call(this,<span class="dp">·</span>newNodePos,<span class="dp">·</span>evt);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!bounded)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.warn(&#x27;dragBoundFunc<span class="dp">·</span>did<span class="dp">·</span>not<span class="dp">·</span>return<span class="dp">·</span>any<span class="dp">·</span>value.<span class="dp">·</span>That<span class="dp">·</span>is<span class="dp">·</span>unexpected<span class="dp">·</span>behavior.<span class="dp">·</span>You<span class="dp">·</span>must<span class="dp">·</span>return<span class="dp">·</span>new<span class="dp">·</span>absolute<span class="dp">·</span>position<span class="dp">·</span>from<span class="dp">·</span>dragBoundFunc.&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>newNodePos<span class="dp">·</span>=<span class="dp">·</span>bounded;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!this._lastPos<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._lastPos.x<span class="dp">·</span>!==<span class="dp">·</span>newNodePos.x<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._lastPos.y<span class="dp">·</span>!==<span class="dp">·</span>newNodePos.y)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.setAbsolutePosition(newNodePos);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._requestDraw();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._lastPos<span class="dp">·</span>=<span class="dp">·</span>newNodePos;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>stopDrag(evt)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>elem<span class="dp">·</span>=<span class="dp">·</span>DD._dragElements.get(this._id);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(elem)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>elem.dragStatus<span class="dp">·</span>=<span class="dp">·</span>&#x27;stopped&#x27;;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>DD._endDragBefore(evt);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>DD._endDragAfter(evt);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>setDraggable(draggable)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._setAttr(&#x27;draggable&#x27;,<span class="dp">·</span>draggable);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._dragChange();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>isDragging()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>elem<span class="dp">·</span>=<span class="dp">·</span>DD._dragElements.get(this._id);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>elem<span class="dp">·</span>?<span class="dp">·</span>elem.dragStatus<span class="dp">·</span>===<span class="dp">·</span>&#x27;dragging&#x27;<span class="dp">·</span>:<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_listenDrag()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._dragCleanup();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.on(&#x27;mousedown.konva<span class="dp">·</span>touchstart.konva&#x27;,<span class="dp">·</span>function<span class="dp">·</span>(evt)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>shouldCheckButton<span class="dp">·</span>=<span class="dp">·</span>evt.evt[&#x27;button&#x27;]<span class="dp">·</span>!==<span class="dp">·</span>undefined;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>canDrag<span class="dp">·</span>=<span class="dp">·</span>!shouldCheckButton<span class="dp">·</span>||<span class="dp">·</span>Konva.dragButtons.indexOf(evt.evt[&#x27;button&#x27;])<span class="dp">·</span>&gt;=<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!canDrag)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(this.isDragging())<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>hasDraggingChild<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>DD._dragElements.forEach((elem)<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(this.isAncestorOf(elem.node))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hasDraggingChild<span class="dp">·</span>=<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!hasDraggingChild)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._createDragElement(evt);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_dragChange()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(this.attrs.draggable)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._listenDrag();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._dragCleanup();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>stage<span class="dp">·</span>=<span class="dp">·</span>this.getStage();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!stage)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>dragElement<span class="dp">·</span>=<span class="dp">·</span>DD._dragElements.get(this._id);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>isDragging<span class="dp">·</span>=<span class="dp">·</span>dragElement<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>dragElement.dragStatus<span class="dp">·</span>===<span class="dp">·</span>&#x27;dragging&#x27;;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>isReady<span class="dp">·</span>=<span class="dp">·</span>dragElement<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>dragElement.dragStatus<span class="dp">·</span>===<span class="dp">·</span>&#x27;ready&#x27;;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(isDragging)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.stopDrag();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>if<span class="dp">·</span>(isReady)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>DD._dragElements.delete(this._id);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_dragCleanup()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.off(&#x27;mousedown.konva&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.off(&#x27;touchstart.konva&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>isClientRectOnScreen(margin<span class="dp">·</span>=<span class="dp">·</span>{<span class="dp">·</span>x:<span class="dp">·</span>0,<span class="dp">·</span>y:<span class="dp">·</span>0<span class="dp">·</span>})<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>stage<span class="dp">·</span>=<span class="dp">·</span>this.getStage();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!stage)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>screenRect<span class="dp">·</span>=<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>x:<span class="dp">·</span>-margin.x,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y:<span class="dp">·</span>-margin.y,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>width:<span class="dp">·</span>stage.width()<span class="dp">·</span>+<span class="dp">·</span>2<span class="dp">·</span>*<span class="dp">·</span>margin.x,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>height:<span class="dp">·</span>stage.height()<span class="dp">·</span>+<span class="dp">·</span>2<span class="dp">·</span>*<span class="dp">·</span>margin.y,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>Util.haveIntersection(screenRect,<span class="dp">·</span>this.getClientRect());\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>static<span class="dp">·</span>create(data,<span class="dp">·</span>container)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(Util._isString(data))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data<span class="dp">·</span>=<span class="dp">·</span>JSON.parse(data);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._createNode(data,<span class="dp">·</span>container);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>static<span class="dp">·</span>_createNode(obj,<span class="dp">·</span>container)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>className<span class="dp">·</span>=<span class="dp">·</span>Node.prototype.getClassName.call(obj),<span class="dp">·</span>children<span class="dp">·</span>=<span class="dp">·</span>obj.children,<span class="dp">·</span>no,<span class="dp">·</span>len,<span class="dp">·</span>n;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(container)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>obj.attrs.container<span class="dp">·</span>=<span class="dp">·</span>container;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!Konva[className])<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.warn(&#x27;Can<span class="dp">·</span>not<span class="dp">·</span>find<span class="dp">·</span>a<span class="dp">·</span>node<span class="dp">·</span>with<span class="dp">·</span>class<span class="dp">·</span>name<span class="dp">·</span>\&quot;&#x27;<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>className<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;\&quot;.<span class="dp">·</span>Fallback<span class="dp">·</span>to<span class="dp">·</span>\&quot;Shape\&quot;.&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>className<span class="dp">·</span>=<span class="dp">·</span>&#x27;Shape&#x27;;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>Class<span class="dp">·</span>=<span class="dp">·</span>Konva[className];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>no<span class="dp">·</span>=<span class="dp">·</span>new<span class="dp">·</span>Class(obj.attrs);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(children)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>len<span class="dp">·</span>=<span class="dp">·</span>children.length;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(n<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>n<span class="dp">·</span>&lt;<span class="dp">·</span>len;<span class="dp">·</span>n++)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>no.add(Node._createNode(children[n]));\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>no;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n}\nNode.prototype.nodeType<span class="dp">·</span>=<span class="dp">·</span>&#x27;Node&#x27;;\nNode.prototype._attrsAffectingSize<span class="dp">·</span>=<span class="dp">·</span>[];\nNode.prototype.eventListeners<span class="dp">·</span>=<span class="dp">·</span>{};\nNode.prototype.on.call(Node.prototype,<span class="dp">·</span>TRANSFORM_CHANGE_STR,<span class="dp">·</span>function<span class="dp">·</span>()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(this._batchingTransformChange)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._needClearTransformCache<span class="dp">·</span>=<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearCache(TRANSFORM);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearSelfAndDescendantCache(ABSOLUTE_TRANSFORM);\n});\nNode.prototype.on.call(Node.prototype,<span class="dp">·</span>&#x27;visibleChange.konva&#x27;,<span class="dp">·</span>function<span class="dp">·</span>()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearSelfAndDescendantCache(VISIBLE);\n});\nNode.prototype.on.call(Node.prototype,<span class="dp">·</span>&#x27;listeningChange.konva&#x27;,<span class="dp">·</span>function<span class="dp">·</span>()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearSelfAndDescendantCache(LISTENING);\n});\nNode.prototype.on.call(Node.prototype,<span class="dp">·</span>&#x27;opacityChange.konva&#x27;,<span class="dp">·</span>function<span class="dp">·</span>()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearSelfAndDescendantCache(ABSOLUTE_OPACITY);\n});\nconst<span class="dp">·</span>addGetterSetter<span class="dp">·</span>=<span class="dp">·</span>Factory.addGetterSetter;\naddGetterSetter(Node,<span class="dp">·</span>&#x27;zIndex&#x27;);\naddGetterSetter(Node,<span class="dp">·</span>&#x27;absolutePosition&#x27;);\naddGetterSetter(Node,<span class="dp">·</span>&#x27;position&#x27;);\naddGetterSetter(Node,<span class="dp">·</span>&#x27;x&#x27;,<span class="dp">·</span>0,<span class="dp">·</span>getNumberValidator());\naddGetterSetter(Node,<span class="dp">·</span>&#x27;y&#x27;,<span class="dp">·</span>0,<span class="dp">·</span>getNumberValidator());\naddGetterSetter(Node,<span class="dp">·</span>&#x27;globalCompositeOperation&#x27;,<span class="dp">·</span>&#x27;source-over&#x27;,<span class="dp">·</span>getStringValidator());\naddGetterSetter(Node,<span class="dp">·</span>&#x27;opacity&#x27;,<span class="dp">·</span>1,<span class="dp">·</span>getNumberValidator());\naddGetterSetter(Node,<span class="dp">·</span>&#x27;name&#x27;,<span class="dp">·</span>&#x27;&#x27;,<span class="dp">·</span>getStringValidator());\naddGetterSetter(Node,<span class="dp">·</span>&#x27;id&#x27;,<span class="dp">·</span>&#x27;&#x27;,<span class="dp">·</span>getStringValidator());\naddGetterSetter(Node,<span class="dp">·</span>&#x27;rotation&#x27;,<span class="dp">·</span>0,<span class="dp">·</span>getNumberValidator());\nFactory.addComponentsGetterSetter(Node,<span class="dp">·</span>&#x27;scale&#x27;,<span class="dp">·</span>[&#x27;x&#x27;,<span class="dp">·</span>&#x27;y&#x27;]);\naddGetterSetter(Node,<span class="dp">·</span>&#x27;scaleX&#x27;,<span class="dp">·</span>1,<span class="dp">·</span>getNumberValidator());\naddGetterSetter(Node,<span class="dp">·</span>&#x27;scaleY&#x27;,<span class="dp">·</span>1,<span class="dp">·</span>getNumberValidator());\nFactory.addComponentsGetterSetter(Node,<span class="dp">·</span>&#x27;skew&#x27;,<span class="dp">·</span>[&#x27;x&#x27;,<span class="dp">·</span>&#x27;y&#x27;]);\naddGetterSetter(Node,<span class="dp">·</span>&#x27;skewX&#x27;,<span class="dp">·</span>0,<span class="dp">·</span>getNumberValidator());\naddGetterSetter(Node,<span class="dp">·</span>&#x27;skewY&#x27;,<span class="dp">·</span>0,<span class="dp">·</span>getNumberValidator());\nFactory.addComponentsGetterSetter(Node,<span class="dp">·</span>&#x27;offset&#x27;,<span class="dp">·</span>[&#x27;x&#x27;,<span class="dp">·</span>&#x27;y&#x27;]);\naddGetterSetter(Node,<span class="dp">·</span>&#x27;offsetX&#x27;,<span class="dp">·</span>0,<span class="dp">·</span>getNumberValidator());\naddGetterSetter(Node,<span class="dp">·</span>&#x27;offsetY&#x27;,<span class="dp">·</span>0,<span class="dp">·</span>getNumberValidator());\naddGetterSetter(Node,<span class="dp">·</span>&#x27;dragDistance&#x27;,<span class="dp">·</span>null,<span class="dp">·</span>getNumberValidator());\naddGetterSetter(Node,<span class="dp">·</span>&#x27;width&#x27;,<span class="dp">·</span>0,<span class="dp">·</span>getNumberValidator());\naddGetterSetter(Node,<span class="dp">·</span>&#x27;height&#x27;,<span class="dp">·</span>0,<span class="dp">·</span>getNumberValidator());\naddGetterSetter(Node,<span class="dp">·</span>&#x27;listening&#x27;,<span class="dp">·</span>true,<span class="dp">·</span>getBooleanValidator());\naddGetterSetter(Node,<span class="dp">·</span>&#x27;preventDefault&#x27;,<span class="dp">·</span>true,<span class="dp">·</span>getBooleanValidator());\naddGetterSetter(Node,<span class="dp">·</span>&#x27;filters&#x27;,<span class="dp">·</span>null,<span class="dp">·</span>function<span class="dp">·</span>(val)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._filterUpToDate<span class="dp">·</span>=<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>val;\n});\naddGetterSetter(Node,<span class="dp">·</span>&#x27;visible&#x27;,<span class="dp">·</span>true,<span class="dp">·</span>getBooleanValidator());\naddGetterSetter(Node,<span class="dp">·</span>&#x27;transformsEnabled&#x27;,<span class="dp">·</span>&#x27;all&#x27;,<span class="dp">·</span>getStringValidator());\naddGetterSetter(Node,<span class="dp">·</span>&#x27;size&#x27;);\naddGetterSetter(Node,<span class="dp">·</span>&#x27;dragBoundFunc&#x27;);\naddGetterSetter(Node,<span class="dp">·</span>&#x27;draggable&#x27;,<span class="dp">·</span>false,<span class="dp">·</span>getBooleanValidator());\nFactory.backCompat(Node,<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>rotateDeg:<span class="dp">·</span>&#x27;rotate&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>setRotationDeg:<span class="dp">·</span>&#x27;setRotation&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getRotationDeg:<span class="dp">·</span>&#x27;getRotation&#x27;,\n});\n&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">2979 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;import<span class="dp">·</span>{<span class="dp">·</span>Konva<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Global.js&#x27;;\nconst<span class="dp">·</span>Captures<span class="dp">·</span>=<span class="dp">·</span>new<span class="dp">·</span>Map();\nconst<span class="dp">·</span>SUPPORT_POINTER_EVENTS<span class="dp">·</span>=<span class="dp">·</span>Konva._global[&#x27;PointerEvent&#x27;]<span class="dp">·</span>!==<span class="dp">·</span>undefined;\nexport<span class="dp">·</span>function<span class="dp">·</span>getCapturedShape(pointerId)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>Captures.get(pointerId);\n}\nexport<span class="dp">·</span>function<span class="dp">·</span>createEvent(evt)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>evt,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>pointerId:<span class="dp">·</span>evt.pointerId,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n}\nexport<span class="dp">·</span>function<span class="dp">·</span>hasPointerCapture(pointerId,<span class="dp">·</span>shape)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>Captures.get(pointerId)<span class="dp">·</span>===<span class="dp">·</span>shape;\n}\nexport<span class="dp">·</span>function<span class="dp">·</span>setPointerCapture(pointerId,<span class="dp">·</span>shape)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>releaseCapture(pointerId);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>stage<span class="dp">·</span>=<span class="dp">·</span>shape.getStage();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!stage)\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Captures.set(pointerId,<span class="dp">·</span>shape);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(SUPPORT_POINTER_EVENTS)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>shape._fire(&#x27;gotpointercapture&#x27;,<span class="dp">·</span>createEvent(new<span class="dp">·</span>PointerEvent(&#x27;gotpointercapture&#x27;)));\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n}\nexport<span class="dp">·</span>function<span class="dp">·</span>releaseCapture(pointerId,<span class="dp">·</span>target)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>shape<span class="dp">·</span>=<span class="dp">·</span>Captures.get(pointerId);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!shape)\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>stage<span class="dp">·</span>=<span class="dp">·</span>shape.getStage();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(stage<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>stage.content)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Captures.delete(pointerId);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(SUPPORT_POINTER_EVENTS)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>shape._fire(&#x27;lostpointercapture&#x27;,<span class="dp">·</span>createEvent(new<span class="dp">·</span>PointerEvent(&#x27;lostpointercapture&#x27;)));\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n}\n&quot;,</td><td class="diffline">2980 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;import<span class="dp">·</span>{<span class="dp">·</span>Konva<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Global.js&#x27;;\nconst<span class="dp">·</span>Captures<span class="dp">·</span>=<span class="dp">·</span>new<span class="dp">·</span>Map();\nconst<span class="dp">·</span>SUPPORT_POINTER_EVENTS<span class="dp">·</span>=<span class="dp">·</span>Konva._global[&#x27;PointerEvent&#x27;]<span class="dp">·</span>!==<span class="dp">·</span>undefined;\nexport<span class="dp">·</span>function<span class="dp">·</span>getCapturedShape(pointerId)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>Captures.get(pointerId);\n}\nexport<span class="dp">·</span>function<span class="dp">·</span>createEvent(evt)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>evt,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>pointerId:<span class="dp">·</span>evt.pointerId,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n}\nexport<span class="dp">·</span>function<span class="dp">·</span>hasPointerCapture(pointerId,<span class="dp">·</span>shape)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>Captures.get(pointerId)<span class="dp">·</span>===<span class="dp">·</span>shape;\n}\nexport<span class="dp">·</span>function<span class="dp">·</span>setPointerCapture(pointerId,<span class="dp">·</span>shape)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>releaseCapture(pointerId);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>stage<span class="dp">·</span>=<span class="dp">·</span>shape.getStage();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!stage)\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Captures.set(pointerId,<span class="dp">·</span>shape);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(SUPPORT_POINTER_EVENTS)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>shape._fire(&#x27;gotpointercapture&#x27;,<span class="dp">·</span>createEvent(new<span class="dp">·</span>PointerEvent(&#x27;gotpointercapture&#x27;)));\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n}\nexport<span class="dp">·</span>function<span class="dp">·</span>releaseCapture(pointerId,<span class="dp">·</span>target)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>shape<span class="dp">·</span>=<span class="dp">·</span>Captures.get(pointerId);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!shape)\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>stage<span class="dp">·</span>=<span class="dp">·</span>shape.getStage();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(stage<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>stage.content)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Captures.delete(pointerId);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(SUPPORT_POINTER_EVENTS)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>shape._fire(&#x27;lostpointercapture&#x27;,<span class="dp">·</span>createEvent(new<span class="dp">·</span>PointerEvent(&#x27;lostpointercapture&#x27;)));\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n}\n&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">2980 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;import<span class="dp">·</span>{<span class="dp">·</span>Konva<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Global.js&#x27;;\nimport<span class="dp">·</span>{<span class="dp">·</span>Transform,<span class="dp">·</span>Util<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Util.js&#x27;;\nimport<span class="dp">·</span>{<span class="dp">·</span>Factory<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Factory.js&#x27;;\nimport<span class="dp">·</span>{<span class="dp">·</span>Node<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Node.js&#x27;;\nimport<span class="dp">·</span>{<span class="dp">·</span>getNumberValidator,<span class="dp">·</span>getNumberOrAutoValidator,<span class="dp">·</span>getStringValidator,<span class="dp">·</span>getBooleanValidator,<span class="dp">·</span>getStringOrGradientValidator,<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Validators.js&#x27;;\nimport<span class="dp">·</span>{<span class="dp">·</span>_registerNode<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Global.js&#x27;;\nimport<span class="dp">·</span>*<span class="dp">·</span>as<span class="dp">·</span>PointerEvents<span class="dp">·</span>from<span class="dp">·</span>&#x27;./PointerEvents.js&#x27;;\nvar<span class="dp">·</span>HAS_SHADOW<span class="dp">·</span>=<span class="dp">·</span>&#x27;hasShadow&#x27;;\nvar<span class="dp">·</span>SHADOW_RGBA<span class="dp">·</span>=<span class="dp">·</span>&#x27;shadowRGBA&#x27;;\nvar<span class="dp">·</span>patternImage<span class="dp">·</span>=<span class="dp">·</span>&#x27;patternImage&#x27;;\nvar<span class="dp">·</span>linearGradient<span class="dp">·</span>=<span class="dp">·</span>&#x27;linearGradient&#x27;;\nvar<span class="dp">·</span>radialGradient<span class="dp">·</span>=<span class="dp">·</span>&#x27;radialGradient&#x27;;\nlet<span class="dp">·</span>dummyContext;\nfunction<span class="dp">·</span>getDummyContext()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(dummyContext)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>dummyContext;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dummyContext<span class="dp">·</span>=<span class="dp">·</span>Util.createCanvasElement().getContext(&#x27;2d&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>dummyContext;\n}\nexport<span class="dp">·</span>const<span class="dp">·</span>shapes<span class="dp">·</span>=<span class="dp">·</span>{};\nfunction<span class="dp">·</span>_fillFunc(context)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.fill();\n}\nfunction<span class="dp">·</span>_strokeFunc(context)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.stroke();\n}\nfunction<span class="dp">·</span>_fillFuncHit(context)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.fill();\n}\nfunction<span class="dp">·</span>_strokeFuncHit(context)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.stroke();\n}\nfunction<span class="dp">·</span>_clearHasShadowCache()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearCache(HAS_SHADOW);\n}\nfunction<span class="dp">·</span>_clearGetShadowRGBACache()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearCache(SHADOW_RGBA);\n}\nfunction<span class="dp">·</span>_clearFillPatternCache()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearCache(patternImage);\n}\nfunction<span class="dp">·</span>_clearLinearGradientCache()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearCache(linearGradient);\n}\nfunction<span class="dp">·</span>_clearRadialGradientCache()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearCache(radialGradient);\n}\nexport<span class="dp">·</span>class<span class="dp">·</span>Shape<span class="dp">·</span>extends<span class="dp">·</span>Node<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>constructor(config)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>super(config);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>let<span class="dp">·</span>key;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>while<span class="dp">·</span>(true)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>key<span class="dp">·</span>=<span class="dp">·</span>Util.getRandomColor();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(key<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>!(key<span class="dp">·</span>in<span class="dp">·</span>shapes))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>break;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.colorKey<span class="dp">·</span>=<span class="dp">·</span>key;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>shapes[key]<span class="dp">·</span>=<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getContext()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.warn(&#x27;shape.getContext()<span class="dp">·</span>method<span class="dp">·</span>is<span class="dp">·</span>deprecated.<span class="dp">·</span>Please<span class="dp">·</span>do<span class="dp">·</span>not<span class="dp">·</span>use<span class="dp">·</span>it.&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.getLayer().getContext();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getCanvas()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.warn(&#x27;shape.getCanvas()<span class="dp">·</span>method<span class="dp">·</span>is<span class="dp">·</span>deprecated.<span class="dp">·</span>Please<span class="dp">·</span>do<span class="dp">·</span>not<span class="dp">·</span>use<span class="dp">·</span>it.&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.getLayer().getCanvas();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getSceneFunc()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.attrs.sceneFunc<span class="dp">·</span>||<span class="dp">·</span>this[&#x27;_sceneFunc&#x27;];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getHitFunc()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.attrs.hitFunc<span class="dp">·</span>||<span class="dp">·</span>this[&#x27;_hitFunc&#x27;];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hasShadow()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._getCache(HAS_SHADOW,<span class="dp">·</span>this._hasShadow);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_hasShadow()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>(this.shadowEnabled()<span class="dp">·</span>&amp;&amp;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.shadowOpacity()<span class="dp">·</span>!==<span class="dp">·</span>0<span class="dp">·</span>&amp;&amp;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>!!(this.shadowColor()<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.shadowBlur()<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.shadowOffsetX()<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.shadowOffsetY()));\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_getFillPattern()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._getCache(patternImage,<span class="dp">·</span>this.__getFillPattern);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>__getFillPattern()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(this.fillPatternImage())<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>ctx<span class="dp">·</span>=<span class="dp">·</span>getDummyContext();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>pattern<span class="dp">·</span>=<span class="dp">·</span>ctx.createPattern(this.fillPatternImage(),<span class="dp">·</span>this.fillPatternRepeat()<span class="dp">·</span>||<span class="dp">·</span>&#x27;repeat&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(pattern<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>pattern.setTransform)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>tr<span class="dp">·</span>=<span class="dp">·</span>new<span class="dp">·</span>Transform();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tr.translate(this.fillPatternX(),<span class="dp">·</span>this.fillPatternY());\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tr.rotate(Konva.getAngle(this.fillPatternRotation()));\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tr.scale(this.fillPatternScaleX(),<span class="dp">·</span>this.fillPatternScaleY());\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tr.translate(-1<span class="dp">·</span>*<span class="dp">·</span>this.fillPatternOffsetX(),<span class="dp">·</span>-1<span class="dp">·</span>*<span class="dp">·</span>this.fillPatternOffsetY());\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>m<span class="dp">·</span>=<span class="dp">·</span>tr.getMatrix();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>matrix<span class="dp">·</span>=<span class="dp">·</span>typeof<span class="dp">·</span>DOMMatrix<span class="dp">·</span>===<span class="dp">·</span>&#x27;undefined&#x27;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>?<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>a:<span class="dp">·</span>m[0],\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>b:<span class="dp">·</span>m[1],\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>c:<span class="dp">·</span>m[2],\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>d:<span class="dp">·</span>m[3],\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>e:<span class="dp">·</span>m[4],\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>f:<span class="dp">·</span>m[5],\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>:<span class="dp">·</span>new<span class="dp">·</span>DOMMatrix(m);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>pattern.setTransform(matrix);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>pattern;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_getLinearGradient()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._getCache(linearGradient,<span class="dp">·</span>this.__getLinearGradient);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>__getLinearGradient()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>colorStops<span class="dp">·</span>=<span class="dp">·</span>this.fillLinearGradientColorStops();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(colorStops)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>ctx<span class="dp">·</span>=<span class="dp">·</span>getDummyContext();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>start<span class="dp">·</span>=<span class="dp">·</span>this.fillLinearGradientStartPoint();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>end<span class="dp">·</span>=<span class="dp">·</span>this.fillLinearGradientEndPoint();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>grd<span class="dp">·</span>=<span class="dp">·</span>ctx.createLinearGradient(start.x,<span class="dp">·</span>start.y,<span class="dp">·</span>end.x,<span class="dp">·</span>end.y);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(var<span class="dp">·</span>n<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>n<span class="dp">·</span>&lt;<span class="dp">·</span>colorStops.length;<span class="dp">·</span>n<span class="dp">·</span>+=<span class="dp">·</span>2)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>grd.addColorStop(colorStops[n],<span class="dp">·</span>colorStops[n<span class="dp">·</span>+<span class="dp">·</span>1]);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>grd;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_getRadialGradient()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._getCache(radialGradient,<span class="dp">·</span>this.__getRadialGradient);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>__getRadialGradient()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>colorStops<span class="dp">·</span>=<span class="dp">·</span>this.fillRadialGradientColorStops();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(colorStops)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>ctx<span class="dp">·</span>=<span class="dp">·</span>getDummyContext();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>start<span class="dp">·</span>=<span class="dp">·</span>this.fillRadialGradientStartPoint();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>end<span class="dp">·</span>=<span class="dp">·</span>this.fillRadialGradientEndPoint();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>grd<span class="dp">·</span>=<span class="dp">·</span>ctx.createRadialGradient(start.x,<span class="dp">·</span>start.y,<span class="dp">·</span>this.fillRadialGradientStartRadius(),<span class="dp">·</span>end.x,<span class="dp">·</span>end.y,<span class="dp">·</span>this.fillRadialGradientEndRadius());\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(var<span class="dp">·</span>n<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>n<span class="dp">·</span>&lt;<span class="dp">·</span>colorStops.length;<span class="dp">·</span>n<span class="dp">·</span>+=<span class="dp">·</span>2)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>grd.addColorStop(colorStops[n],<span class="dp">·</span>colorStops[n<span class="dp">·</span>+<span class="dp">·</span>1]);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>grd;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getShadowRGBA()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._getCache(SHADOW_RGBA,<span class="dp">·</span>this._getShadowRGBA);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_getShadowRGBA()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!this.hasShadow())<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>rgba<span class="dp">·</span>=<span class="dp">·</span>Util.colorToRGBA(this.shadowColor());\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(rgba)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>(&#x27;rgba(&#x27;<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>rgba.r<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;,&#x27;<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>rgba.g<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;,&#x27;<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>rgba.b<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;,&#x27;<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>rgba.a<span class="dp">·</span>*<span class="dp">·</span>(this.shadowOpacity()<span class="dp">·</span>||<span class="dp">·</span>1)<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;)&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hasFill()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._calculate(&#x27;hasFill&#x27;,<span class="dp">·</span>[\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;fillEnabled&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;fill&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;fillPatternImage&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;fillLinearGradientColorStops&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;fillRadialGradientColorStops&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>],<span class="dp">·</span>()<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>(this.fillEnabled()<span class="dp">·</span>&amp;&amp;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>!!(this.fill()<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.fillPatternImage()<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.fillLinearGradientColorStops()<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.fillRadialGradientColorStops()));\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hasStroke()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._calculate(&#x27;hasStroke&#x27;,<span class="dp">·</span>[\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;strokeEnabled&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;strokeWidth&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;stroke&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;strokeLinearGradientColorStops&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>],<span class="dp">·</span>()<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>(this.strokeEnabled()<span class="dp">·</span>&amp;&amp;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.strokeWidth()<span class="dp">·</span>&amp;&amp;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>!!(this.stroke()<span class="dp">·</span>||<span class="dp">·</span>this.strokeLinearGradientColorStops()));\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hasHitStroke()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>width<span class="dp">·</span>=<span class="dp">·</span>this.hitStrokeWidth();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(width<span class="dp">·</span>===<span class="dp">·</span>&#x27;auto&#x27;)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.hasStroke();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.strokeEnabled()<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>!!width;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>intersects(point)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>stage<span class="dp">·</span>=<span class="dp">·</span>this.getStage(),<span class="dp">·</span>bufferHitCanvas<span class="dp">·</span>=<span class="dp">·</span>stage.bufferHitCanvas,<span class="dp">·</span>p;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>bufferHitCanvas.getContext().clear();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.drawHit(bufferHitCanvas,<span class="dp">·</span>null,<span class="dp">·</span>true);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>p<span class="dp">·</span>=<span class="dp">·</span>bufferHitCanvas.context.getImageData(Math.round(point.x),<span class="dp">·</span>Math.round(point.y),<span class="dp">·</span>1,<span class="dp">·</span>1).data;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>p[3]<span class="dp">·</span>&gt;<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>destroy()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Node.prototype.destroy.call(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>delete<span class="dp">·</span>shapes[this.colorKey];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>delete<span class="dp">·</span>this.colorKey;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_useBufferCanvas(forceFill)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>_a;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!this.getStage())<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>perfectDrawEnabled<span class="dp">·</span>=<span class="dp">·</span>(_a<span class="dp">·</span>=<span class="dp">·</span>this.attrs.perfectDrawEnabled)<span class="dp">·</span>!==<span class="dp">·</span>null<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>_a<span class="dp">·</span>!==<span class="dp">·</span>void<span class="dp">·</span>0<span class="dp">·</span>?<span class="dp">·</span>_a<span class="dp">·</span>:<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!perfectDrawEnabled)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>hasFill<span class="dp">·</span>=<span class="dp">·</span>forceFill<span class="dp">·</span>||<span class="dp">·</span>this.hasFill();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>hasStroke<span class="dp">·</span>=<span class="dp">·</span>this.hasStroke();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>isTransparent<span class="dp">·</span>=<span class="dp">·</span>this.getAbsoluteOpacity()<span class="dp">·</span>!==<span class="dp">·</span>1;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(hasFill<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>hasStroke<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>isTransparent)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>hasShadow<span class="dp">·</span>=<span class="dp">·</span>this.hasShadow();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>strokeForShadow<span class="dp">·</span>=<span class="dp">·</span>this.shadowForStrokeEnabled();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(hasFill<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>hasStroke<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>hasShadow<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>strokeForShadow)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>setStrokeHitEnabled(val)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.warn(&#x27;strokeHitEnabled<span class="dp">·</span>property<span class="dp">·</span>is<span class="dp">·</span>deprecated.<span class="dp">·</span>Please<span class="dp">·</span>use<span class="dp">·</span>hitStrokeWidth<span class="dp">·</span>instead.&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(val)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.hitStrokeWidth(&#x27;auto&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.hitStrokeWidth(0);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getStrokeHitEnabled()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(this.hitStrokeWidth()<span class="dp">·</span>===<span class="dp">·</span>0)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getSelfRect()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>size<span class="dp">·</span>=<span class="dp">·</span>this.size();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>x:<span class="dp">·</span>this._centroid<span class="dp">·</span>?<span class="dp">·</span>-size.width<span class="dp">·</span>/<span class="dp">·</span>2<span class="dp">·</span>:<span class="dp">·</span>0,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y:<span class="dp">·</span>this._centroid<span class="dp">·</span>?<span class="dp">·</span>-size.height<span class="dp">·</span>/<span class="dp">·</span>2<span class="dp">·</span>:<span class="dp">·</span>0,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>width:<span class="dp">·</span>size.width,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>height:<span class="dp">·</span>size.height,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getClientRect(config<span class="dp">·</span>=<span class="dp">·</span>{})<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>skipTransform<span class="dp">·</span>=<span class="dp">·</span>config.skipTransform;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>relativeTo<span class="dp">·</span>=<span class="dp">·</span>config.relativeTo;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>fillRect<span class="dp">·</span>=<span class="dp">·</span>this.getSelfRect();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>applyStroke<span class="dp">·</span>=<span class="dp">·</span>!config.skipStroke<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>this.hasStroke();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>strokeWidth<span class="dp">·</span>=<span class="dp">·</span>(applyStroke<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>this.strokeWidth())<span class="dp">·</span>||<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>fillAndStrokeWidth<span class="dp">·</span>=<span class="dp">·</span>fillRect.width<span class="dp">·</span>+<span class="dp">·</span>strokeWidth;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>fillAndStrokeHeight<span class="dp">·</span>=<span class="dp">·</span>fillRect.height<span class="dp">·</span>+<span class="dp">·</span>strokeWidth;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>applyShadow<span class="dp">·</span>=<span class="dp">·</span>!config.skipShadow<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>this.hasShadow();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>shadowOffsetX<span class="dp">·</span>=<span class="dp">·</span>applyShadow<span class="dp">·</span>?<span class="dp">·</span>this.shadowOffsetX()<span class="dp">·</span>:<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>shadowOffsetY<span class="dp">·</span>=<span class="dp">·</span>applyShadow<span class="dp">·</span>?<span class="dp">·</span>this.shadowOffsetY()<span class="dp">·</span>:<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>preWidth<span class="dp">·</span>=<span class="dp">·</span>fillAndStrokeWidth<span class="dp">·</span>+<span class="dp">·</span>Math.abs(shadowOffsetX);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>preHeight<span class="dp">·</span>=<span class="dp">·</span>fillAndStrokeHeight<span class="dp">·</span>+<span class="dp">·</span>Math.abs(shadowOffsetY);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>blurRadius<span class="dp">·</span>=<span class="dp">·</span>(applyShadow<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>this.shadowBlur())<span class="dp">·</span>||<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>width<span class="dp">·</span>=<span class="dp">·</span>preWidth<span class="dp">·</span>+<span class="dp">·</span>blurRadius<span class="dp">·</span>*<span class="dp">·</span>2;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>height<span class="dp">·</span>=<span class="dp">·</span>preHeight<span class="dp">·</span>+<span class="dp">·</span>blurRadius<span class="dp">·</span>*<span class="dp">·</span>2;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>rect<span class="dp">·</span>=<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>width:<span class="dp">·</span>width,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>height:<span class="dp">·</span>height,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>x:<span class="dp">·</span>-(strokeWidth<span class="dp">·</span>/<span class="dp">·</span>2<span class="dp">·</span>+<span class="dp">·</span>blurRadius)<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Math.min(shadowOffsetX,<span class="dp">·</span>0)<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>fillRect.x,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y:<span class="dp">·</span>-(strokeWidth<span class="dp">·</span>/<span class="dp">·</span>2<span class="dp">·</span>+<span class="dp">·</span>blurRadius)<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Math.min(shadowOffsetY,<span class="dp">·</span>0)<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>fillRect.y,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!skipTransform)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._transformedRect(rect,<span class="dp">·</span>relativeTo);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>rect;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>drawScene(can,<span class="dp">·</span>top)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>layer<span class="dp">·</span>=<span class="dp">·</span>this.getLayer(),<span class="dp">·</span>canvas<span class="dp">·</span>=<span class="dp">·</span>can<span class="dp">·</span>||<span class="dp">·</span>layer.getCanvas(),<span class="dp">·</span>context<span class="dp">·</span>=<span class="dp">·</span>canvas.getContext(),<span class="dp">·</span>cachedCanvas<span class="dp">·</span>=<span class="dp">·</span>this._getCanvasCache(),<span class="dp">·</span>drawFunc<span class="dp">·</span>=<span class="dp">·</span>this.getSceneFunc(),<span class="dp">·</span>hasShadow<span class="dp">·</span>=<span class="dp">·</span>this.hasShadow(),<span class="dp">·</span>stage,<span class="dp">·</span>bufferCanvas,<span class="dp">·</span>bufferContext;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>skipBuffer<span class="dp">·</span>=<span class="dp">·</span>canvas.isCache;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>cachingSelf<span class="dp">·</span>=<span class="dp">·</span>top<span class="dp">·</span>===<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!this.isVisible()<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>!cachingSelf)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(cachedCanvas)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.save();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>m<span class="dp">·</span>=<span class="dp">·</span>this.getAbsoluteTransform(top).getMatrix();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.transform(m[0],<span class="dp">·</span>m[1],<span class="dp">·</span>m[2],<span class="dp">·</span>m[3],<span class="dp">·</span>m[4],<span class="dp">·</span>m[5]);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._drawCachedSceneCanvas(context);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.restore();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!drawFunc)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.save();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(this._useBufferCanvas()<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>!skipBuffer)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>stage<span class="dp">·</span>=<span class="dp">·</span>this.getStage();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>bufferCanvas<span class="dp">·</span>=<span class="dp">·</span>stage.bufferCanvas;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>bufferContext<span class="dp">·</span>=<span class="dp">·</span>bufferCanvas.getContext();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>bufferContext.clear();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>bufferContext.save();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>bufferContext._applyLineJoin(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>o<span class="dp">·</span>=<span class="dp">·</span>this.getAbsoluteTransform(top).getMatrix();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>bufferContext.transform(o[0],<span class="dp">·</span>o[1],<span class="dp">·</span>o[2],<span class="dp">·</span>o[3],<span class="dp">·</span>o[4],<span class="dp">·</span>o[5]);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>drawFunc.call(this,<span class="dp">·</span>bufferContext,<span class="dp">·</span>this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>bufferContext.restore();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>ratio<span class="dp">·</span>=<span class="dp">·</span>bufferCanvas.pixelRatio;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(hasShadow)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context._applyShadow(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context._applyOpacity(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context._applyGlobalCompositeOperation(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.drawImage(bufferCanvas._canvas,<span class="dp">·</span>0,<span class="dp">·</span>0,<span class="dp">·</span>bufferCanvas.width<span class="dp">·</span>/<span class="dp">·</span>ratio,<span class="dp">·</span>bufferCanvas.height<span class="dp">·</span>/<span class="dp">·</span>ratio);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context._applyLineJoin(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!cachingSelf)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>o<span class="dp">·</span>=<span class="dp">·</span>this.getAbsoluteTransform(top).getMatrix();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.transform(o[0],<span class="dp">·</span>o[1],<span class="dp">·</span>o[2],<span class="dp">·</span>o[3],<span class="dp">·</span>o[4],<span class="dp">·</span>o[5]);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context._applyOpacity(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context._applyGlobalCompositeOperation(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(hasShadow)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context._applyShadow(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>drawFunc.call(this,<span class="dp">·</span>context,<span class="dp">·</span>this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.restore();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>drawHit(can,<span class="dp">·</span>top,<span class="dp">·</span>skipDragCheck<span class="dp">·</span>=<span class="dp">·</span>false)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!this.shouldDrawHit(top,<span class="dp">·</span>skipDragCheck))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>layer<span class="dp">·</span>=<span class="dp">·</span>this.getLayer(),<span class="dp">·</span>canvas<span class="dp">·</span>=<span class="dp">·</span>can<span class="dp">·</span>||<span class="dp">·</span>layer.hitCanvas,<span class="dp">·</span>context<span class="dp">·</span>=<span class="dp">·</span>canvas<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>canvas.getContext(),<span class="dp">·</span>drawFunc<span class="dp">·</span>=<span class="dp">·</span>this.hitFunc()<span class="dp">·</span>||<span class="dp">·</span>this.sceneFunc(),<span class="dp">·</span>cachedCanvas<span class="dp">·</span>=<span class="dp">·</span>this._getCanvasCache(),<span class="dp">·</span>cachedHitCanvas<span class="dp">·</span>=<span class="dp">·</span>cachedCanvas<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>cachedCanvas.hit;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!this.colorKey)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.warn(&#x27;Looks<span class="dp">·</span>like<span class="dp">·</span>your<span class="dp">·</span>canvas<span class="dp">·</span>has<span class="dp">·</span>a<span class="dp">·</span>destroyed<span class="dp">·</span>shape<span class="dp">·</span>in<span class="dp">·</span>it.<span class="dp">·</span>Do<span class="dp">·</span>not<span class="dp">·</span>reuse<span class="dp">·</span>shape<span class="dp">·</span>after<span class="dp">·</span>you<span class="dp">·</span>destroyed<span class="dp">·</span>it.<span class="dp">·</span>If<span class="dp">·</span>you<span class="dp">·</span>want<span class="dp">·</span>to<span class="dp">·</span>reuse<span class="dp">·</span>shape<span class="dp">·</span>you<span class="dp">·</span>should<span class="dp">·</span>call<span class="dp">·</span>remove()<span class="dp">·</span>instead<span class="dp">·</span>of<span class="dp">·</span>destroy()&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(cachedHitCanvas)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.save();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>m<span class="dp">·</span>=<span class="dp">·</span>this.getAbsoluteTransform(top).getMatrix();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.transform(m[0],<span class="dp">·</span>m[1],<span class="dp">·</span>m[2],<span class="dp">·</span>m[3],<span class="dp">·</span>m[4],<span class="dp">·</span>m[5]);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._drawCachedHitCanvas(context);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.restore();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!drawFunc)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.save();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context._applyLineJoin(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>selfCache<span class="dp">·</span>=<span class="dp">·</span>this<span class="dp">·</span>===<span class="dp">·</span>top;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!selfCache)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>o<span class="dp">·</span>=<span class="dp">·</span>this.getAbsoluteTransform(top).getMatrix();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.transform(o[0],<span class="dp">·</span>o[1],<span class="dp">·</span>o[2],<span class="dp">·</span>o[3],<span class="dp">·</span>o[4],<span class="dp">·</span>o[5]);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>drawFunc.call(this,<span class="dp">·</span>context,<span class="dp">·</span>this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.restore();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>drawHitFromCache(alphaThreshold<span class="dp">·</span>=<span class="dp">·</span>0)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>cachedCanvas<span class="dp">·</span>=<span class="dp">·</span>this._getCanvasCache(),<span class="dp">·</span>sceneCanvas<span class="dp">·</span>=<span class="dp">·</span>this._getCachedSceneCanvas(),<span class="dp">·</span>hitCanvas<span class="dp">·</span>=<span class="dp">·</span>cachedCanvas.hit,<span class="dp">·</span>hitContext<span class="dp">·</span>=<span class="dp">·</span>hitCanvas.getContext(),<span class="dp">·</span>hitWidth<span class="dp">·</span>=<span class="dp">·</span>hitCanvas.getWidth(),<span class="dp">·</span>hitHeight<span class="dp">·</span>=<span class="dp">·</span>hitCanvas.getHeight(),<span class="dp">·</span>hitImageData,<span class="dp">·</span>hitData,<span class="dp">·</span>len,<span class="dp">·</span>rgbColorKey,<span class="dp">·</span>i,<span class="dp">·</span>alpha;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hitContext.clear();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hitContext.drawImage(sceneCanvas._canvas,<span class="dp">·</span>0,<span class="dp">·</span>0,<span class="dp">·</span>hitWidth,<span class="dp">·</span>hitHeight);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>try<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hitImageData<span class="dp">·</span>=<span class="dp">·</span>hitContext.getImageData(0,<span class="dp">·</span>0,<span class="dp">·</span>hitWidth,<span class="dp">·</span>hitHeight);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hitData<span class="dp">·</span>=<span class="dp">·</span>hitImageData.data;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>len<span class="dp">·</span>=<span class="dp">·</span>hitData.length;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>rgbColorKey<span class="dp">·</span>=<span class="dp">·</span>Util._hexToRgb(this.colorKey);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(i<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>i<span class="dp">·</span>&lt;<span class="dp">·</span>len;<span class="dp">·</span>i<span class="dp">·</span>+=<span class="dp">·</span>4)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>alpha<span class="dp">·</span>=<span class="dp">·</span>hitData[i<span class="dp">·</span>+<span class="dp">·</span>3];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(alpha<span class="dp">·</span>&gt;<span class="dp">·</span>alphaThreshold)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hitData[i]<span class="dp">·</span>=<span class="dp">·</span>rgbColorKey.r;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hitData[i<span class="dp">·</span>+<span class="dp">·</span>1]<span class="dp">·</span>=<span class="dp">·</span>rgbColorKey.g;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hitData[i<span class="dp">·</span>+<span class="dp">·</span>2]<span class="dp">·</span>=<span class="dp">·</span>rgbColorKey.b;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hitData[i<span class="dp">·</span>+<span class="dp">·</span>3]<span class="dp">·</span>=<span class="dp">·</span>255;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hitData[i<span class="dp">·</span>+<span class="dp">·</span>3]<span class="dp">·</span>=<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hitContext.putImageData(hitImageData,<span class="dp">·</span>0,<span class="dp">·</span>0);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>catch<span class="dp">·</span>(e)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.error(&#x27;Unable<span class="dp">·</span>to<span class="dp">·</span>draw<span class="dp">·</span>hit<span class="dp">·</span>graph<span class="dp">·</span>from<span class="dp">·</span>cached<span class="dp">·</span>scene<span class="dp">·</span>canvas.<span class="dp">·</span>&#x27;<span class="dp">·</span>+<span class="dp">·</span>e.message);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hasPointerCapture(pointerId)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>PointerEvents.hasPointerCapture(pointerId,<span class="dp">·</span>this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>setPointerCapture(pointerId)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>PointerEvents.setPointerCapture(pointerId,<span class="dp">·</span>this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>releaseCapture(pointerId)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>PointerEvents.releaseCapture(pointerId,<span class="dp">·</span>this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n}\nShape.prototype._fillFunc<span class="dp">·</span>=<span class="dp">·</span>_fillFunc;\nShape.prototype._strokeFunc<span class="dp">·</span>=<span class="dp">·</span>_strokeFunc;\nShape.prototype._fillFuncHit<span class="dp">·</span>=<span class="dp">·</span>_fillFuncHit;\nShape.prototype._strokeFuncHit<span class="dp">·</span>=<span class="dp">·</span>_strokeFuncHit;\nShape.prototype._centroid<span class="dp">·</span>=<span class="dp">·</span>false;\nShape.prototype.nodeType<span class="dp">·</span>=<span class="dp">·</span>&#x27;Shape&#x27;;\n_registerNode(Shape);\nShape.prototype.eventListeners<span class="dp">·</span>=<span class="dp">·</span>{};\nShape.prototype.on.call(Shape.prototype,<span class="dp">·</span>&#x27;shadowColorChange.konva<span class="dp">·</span>shadowBlurChange.konva<span class="dp">·</span>shadowOffsetChange.konva<span class="dp">·</span>shadowOpacityChange.konva<span class="dp">·</span>shadowEnabledChange.konva&#x27;,<span class="dp">·</span>_clearHasShadowCache);\nShape.prototype.on.call(Shape.prototype,<span class="dp">·</span>&#x27;shadowColorChange.konva<span class="dp">·</span>shadowOpacityChange.konva<span class="dp">·</span>shadowEnabledChange.konva&#x27;,<span class="dp">·</span>_clearGetShadowRGBACache);\nShape.prototype.on.call(Shape.prototype,<span class="dp">·</span>&#x27;fillPriorityChange.konva<span class="dp">·</span>fillPatternImageChange.konva<span class="dp">·</span>fillPatternRepeatChange.konva<span class="dp">·</span>fillPatternScaleXChange.konva<span class="dp">·</span>fillPatternScaleYChange.konva<span class="dp">·</span>fillPatternOffsetXChange.konva<span class="dp">·</span>fillPatternOffsetYChange.konva<span class="dp">·</span>fillPatternXChange.konva<span class="dp">·</span>fillPatternYChange.konva<span class="dp">·</span>fillPatternRotationChange.konva&#x27;,<span class="dp">·</span>_clearFillPatternCache);\nShape.prototype.on.call(Shape.prototype,<span class="dp">·</span>&#x27;fillPriorityChange.konva<span class="dp">·</span>fillLinearGradientColorStopsChange.konva<span class="dp">·</span>fillLinearGradientStartPointXChange.konva<span class="dp">·</span>fillLinearGradientStartPointYChange.konva<span class="dp">·</span>fillLinearGradientEndPointXChange.konva<span class="dp">·</span>fillLinearGradientEndPointYChange.konva&#x27;,<span class="dp">·</span>_clearLinearGradientCache);\nShape.prototype.on.call(Shape.prototype,<span class="dp">·</span>&#x27;fillPriorityChange.konva<span class="dp">·</span>fillRadialGradientColorStopsChange.konva<span class="dp">·</span>fillRadialGradientStartPointXChange.konva<span class="dp">·</span>fillRadialGradientStartPointYChange.konva<span class="dp">·</span>fillRadialGradientEndPointXChange.konva<span class="dp">·</span>fillRadialGradientEndPointYChange.konva<span class="dp">·</span>fillRadialGradientStartRadiusChange.konva<span class="dp">·</span>fillRadialGradientEndRadiusChange.konva&#x27;,<span class="dp">·</span>_clearRadialGradientCache);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;stroke&#x27;,<span class="dp">·</span>undefined,<span class="dp">·</span>getStringOrGradientValidator());\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;strokeWidth&#x27;,<span class="dp">·</span>2,<span class="dp">·</span>getNumberValidator());\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillAfterStrokeEnabled&#x27;,<span class="dp">·</span>false);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;hitStrokeWidth&#x27;,<span class="dp">·</span>&#x27;auto&#x27;,<span class="dp">·</span>getNumberOrAutoValidator());\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;strokeHitEnabled&#x27;,<span class="dp">·</span>true,<span class="dp">·</span>getBooleanValidator());\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;perfectDrawEnabled&#x27;,<span class="dp">·</span>true,<span class="dp">·</span>getBooleanValidator());\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;shadowForStrokeEnabled&#x27;,<span class="dp">·</span>true,<span class="dp">·</span>getBooleanValidator());\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;lineJoin&#x27;);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;lineCap&#x27;);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;sceneFunc&#x27;);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;hitFunc&#x27;);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;dash&#x27;);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;dashOffset&#x27;,<span class="dp">·</span>0,<span class="dp">·</span>getNumberValidator());\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;shadowColor&#x27;,<span class="dp">·</span>undefined,<span class="dp">·</span>getStringValidator());\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;shadowBlur&#x27;,<span class="dp">·</span>0,<span class="dp">·</span>getNumberValidator());\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;shadowOpacity&#x27;,<span class="dp">·</span>1,<span class="dp">·</span>getNumberValidator());\nFactory.addComponentsGetterSetter(Shape,<span class="dp">·</span>&#x27;shadowOffset&#x27;,<span class="dp">·</span>[&#x27;x&#x27;,<span class="dp">·</span>&#x27;y&#x27;]);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;shadowOffsetX&#x27;,<span class="dp">·</span>0,<span class="dp">·</span>getNumberValidator());\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;shadowOffsetY&#x27;,<span class="dp">·</span>0,<span class="dp">·</span>getNumberValidator());\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillPatternImage&#x27;);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fill&#x27;,<span class="dp">·</span>undefined,<span class="dp">·</span>getStringOrGradientValidator());\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillPatternX&#x27;,<span class="dp">·</span>0,<span class="dp">·</span>getNumberValidator());\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillPatternY&#x27;,<span class="dp">·</span>0,<span class="dp">·</span>getNumberValidator());\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillLinearGradientColorStops&#x27;);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;strokeLinearGradientColorStops&#x27;);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillRadialGradientStartRadius&#x27;,<span class="dp">·</span>0);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillRadialGradientEndRadius&#x27;,<span class="dp">·</span>0);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillRadialGradientColorStops&#x27;);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillPatternRepeat&#x27;,<span class="dp">·</span>&#x27;repeat&#x27;);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillEnabled&#x27;,<span class="dp">·</span>true);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;strokeEnabled&#x27;,<span class="dp">·</span>true);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;shadowEnabled&#x27;,<span class="dp">·</span>true);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;dashEnabled&#x27;,<span class="dp">·</span>true);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;strokeScaleEnabled&#x27;,<span class="dp">·</span>true);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillPriority&#x27;,<span class="dp">·</span>&#x27;color&#x27;);\nFactory.addComponentsGetterSetter(Shape,<span class="dp">·</span>&#x27;fillPatternOffset&#x27;,<span class="dp">·</span>[&#x27;x&#x27;,<span class="dp">·</span>&#x27;y&#x27;]);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillPatternOffsetX&#x27;,<span class="dp">·</span>0,<span class="dp">·</span>getNumberValidator());\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillPatternOffsetY&#x27;,<span class="dp">·</span>0,<span class="dp">·</span>getNumberValidator());\nFactory.addComponentsGetterSetter(Shape,<span class="dp">·</span>&#x27;fillPatternScale&#x27;,<span class="dp">·</span>[&#x27;x&#x27;,<span class="dp">·</span>&#x27;y&#x27;]);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillPatternScaleX&#x27;,<span class="dp">·</span>1,<span class="dp">·</span>getNumberValidator());\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillPatternScaleY&#x27;,<span class="dp">·</span>1,<span class="dp">·</span>getNumberValidator());\nFactory.addComponentsGetterSetter(Shape,<span class="dp">·</span>&#x27;fillLinearGradientStartPoint&#x27;,<span class="dp">·</span>[\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;x&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;y&#x27;,\n]);\nFactory.addComponentsGetterSetter(Shape,<span class="dp">·</span>&#x27;strokeLinearGradientStartPoint&#x27;,<span class="dp">·</span>[\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;x&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;y&#x27;,\n]);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillLinearGradientStartPointX&#x27;,<span class="dp">·</span>0);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;strokeLinearGradientStartPointX&#x27;,<span class="dp">·</span>0);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillLinearGradientStartPointY&#x27;,<span class="dp">·</span>0);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;strokeLinearGradientStartPointY&#x27;,<span class="dp">·</span>0);\nFactory.addComponentsGetterSetter(Shape,<span class="dp">·</span>&#x27;fillLinearGradientEndPoint&#x27;,<span class="dp">·</span>[\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;x&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;y&#x27;,\n]);\nFactory.addComponentsGetterSetter(Shape,<span class="dp">·</span>&#x27;strokeLinearGradientEndPoint&#x27;,<span class="dp">·</span>[\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;x&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;y&#x27;,\n]);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillLinearGradientEndPointX&#x27;,<span class="dp">·</span>0);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;strokeLinearGradientEndPointX&#x27;,<span class="dp">·</span>0);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillLinearGradientEndPointY&#x27;,<span class="dp">·</span>0);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;strokeLinearGradientEndPointY&#x27;,<span class="dp">·</span>0);\nFactory.addComponentsGetterSetter(Shape,<span class="dp">·</span>&#x27;fillRadialGradientStartPoint&#x27;,<span class="dp">·</span>[\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;x&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;y&#x27;,\n]);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillRadialGradientStartPointX&#x27;,<span class="dp">·</span>0);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillRadialGradientStartPointY&#x27;,<span class="dp">·</span>0);\nFactory.addComponentsGetterSetter(Shape,<span class="dp">·</span>&#x27;fillRadialGradientEndPoint&#x27;,<span class="dp">·</span>[\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;x&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;y&#x27;,\n]);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillRadialGradientEndPointX&#x27;,<span class="dp">·</span>0);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillRadialGradientEndPointY&#x27;,<span class="dp">·</span>0);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillPatternRotation&#x27;,<span class="dp">·</span>0);\nFactory.backCompat(Shape,<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dashArray:<span class="dp">·</span>&#x27;dash&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getDashArray:<span class="dp">·</span>&#x27;getDash&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>setDashArray:<span class="dp">·</span>&#x27;getDash&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>drawFunc:<span class="dp">·</span>&#x27;sceneFunc&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getDrawFunc:<span class="dp">·</span>&#x27;getSceneFunc&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>setDrawFunc:<span class="dp">·</span>&#x27;setSceneFunc&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>drawHitFunc:<span class="dp">·</span>&#x27;hitFunc&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getDrawHitFunc:<span class="dp">·</span>&#x27;getHitFunc&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>setDrawHitFunc:<span class="dp">·</span>&#x27;setHitFunc&#x27;,\n});\n&quot;,</td><td class="diffline">2981 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;import<span class="dp">·</span>{<span class="dp">·</span>Konva<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Global.js&#x27;;\nimport<span class="dp">·</span>{<span class="dp">·</span>Transform,<span class="dp">·</span>Util<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Util.js&#x27;;\nimport<span class="dp">·</span>{<span class="dp">·</span>Factory<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Factory.js&#x27;;\nimport<span class="dp">·</span>{<span class="dp">·</span>Node<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Node.js&#x27;;\nimport<span class="dp">·</span>{<span class="dp">·</span>getNumberValidator,<span class="dp">·</span>getNumberOrAutoValidator,<span class="dp">·</span>getStringValidator,<span class="dp">·</span>getBooleanValidator,<span class="dp">·</span>getStringOrGradientValidator,<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Validators.js&#x27;;\nimport<span class="dp">·</span>{<span class="dp">·</span>_registerNode<span class="dp">·</span>}<span class="dp">·</span>from<span class="dp">·</span>&#x27;./Global.js&#x27;;\nimport<span class="dp">·</span>*<span class="dp">·</span>as<span class="dp">·</span>PointerEvents<span class="dp">·</span>from<span class="dp">·</span>&#x27;./PointerEvents.js&#x27;;\nvar<span class="dp">·</span>HAS_SHADOW<span class="dp">·</span>=<span class="dp">·</span>&#x27;hasShadow&#x27;;\nvar<span class="dp">·</span>SHADOW_RGBA<span class="dp">·</span>=<span class="dp">·</span>&#x27;shadowRGBA&#x27;;\nvar<span class="dp">·</span>patternImage<span class="dp">·</span>=<span class="dp">·</span>&#x27;patternImage&#x27;;\nvar<span class="dp">·</span>linearGradient<span class="dp">·</span>=<span class="dp">·</span>&#x27;linearGradient&#x27;;\nvar<span class="dp">·</span>radialGradient<span class="dp">·</span>=<span class="dp">·</span>&#x27;radialGradient&#x27;;\nlet<span class="dp">·</span>dummyContext;\nfunction<span class="dp">·</span>getDummyContext()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(dummyContext)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>dummyContext;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dummyContext<span class="dp">·</span>=<span class="dp">·</span>Util.createCanvasElement().getContext(&#x27;2d&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>dummyContext;\n}\nexport<span class="dp">·</span>const<span class="dp">·</span>shapes<span class="dp">·</span>=<span class="dp">·</span>{};\nfunction<span class="dp">·</span>_fillFunc(context)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.fill();\n}\nfunction<span class="dp">·</span>_strokeFunc(context)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.stroke();\n}\nfunction<span class="dp">·</span>_fillFuncHit(context)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.fill();\n}\nfunction<span class="dp">·</span>_strokeFuncHit(context)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.stroke();\n}\nfunction<span class="dp">·</span>_clearHasShadowCache()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearCache(HAS_SHADOW);\n}\nfunction<span class="dp">·</span>_clearGetShadowRGBACache()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearCache(SHADOW_RGBA);\n}\nfunction<span class="dp">·</span>_clearFillPatternCache()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearCache(patternImage);\n}\nfunction<span class="dp">·</span>_clearLinearGradientCache()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearCache(linearGradient);\n}\nfunction<span class="dp">·</span>_clearRadialGradientCache()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._clearCache(radialGradient);\n}\nexport<span class="dp">·</span>class<span class="dp">·</span>Shape<span class="dp">·</span>extends<span class="dp">·</span>Node<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>constructor(config)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>super(config);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>let<span class="dp">·</span>key;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>while<span class="dp">·</span>(true)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>key<span class="dp">·</span>=<span class="dp">·</span>Util.getRandomColor();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(key<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>!(key<span class="dp">·</span>in<span class="dp">·</span>shapes))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>break;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.colorKey<span class="dp">·</span>=<span class="dp">·</span>key;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>shapes[key]<span class="dp">·</span>=<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getContext()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.warn(&#x27;shape.getContext()<span class="dp">·</span>method<span class="dp">·</span>is<span class="dp">·</span>deprecated.<span class="dp">·</span>Please<span class="dp">·</span>do<span class="dp">·</span>not<span class="dp">·</span>use<span class="dp">·</span>it.&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.getLayer().getContext();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getCanvas()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.warn(&#x27;shape.getCanvas()<span class="dp">·</span>method<span class="dp">·</span>is<span class="dp">·</span>deprecated.<span class="dp">·</span>Please<span class="dp">·</span>do<span class="dp">·</span>not<span class="dp">·</span>use<span class="dp">·</span>it.&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.getLayer().getCanvas();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getSceneFunc()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.attrs.sceneFunc<span class="dp">·</span>||<span class="dp">·</span>this[&#x27;_sceneFunc&#x27;];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getHitFunc()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.attrs.hitFunc<span class="dp">·</span>||<span class="dp">·</span>this[&#x27;_hitFunc&#x27;];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hasShadow()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._getCache(HAS_SHADOW,<span class="dp">·</span>this._hasShadow);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_hasShadow()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>(this.shadowEnabled()<span class="dp">·</span>&amp;&amp;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.shadowOpacity()<span class="dp">·</span>!==<span class="dp">·</span>0<span class="dp">·</span>&amp;&amp;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>!!(this.shadowColor()<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.shadowBlur()<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.shadowOffsetX()<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.shadowOffsetY()));\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_getFillPattern()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._getCache(patternImage,<span class="dp">·</span>this.__getFillPattern);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>__getFillPattern()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(this.fillPatternImage())<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>ctx<span class="dp">·</span>=<span class="dp">·</span>getDummyContext();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>pattern<span class="dp">·</span>=<span class="dp">·</span>ctx.createPattern(this.fillPatternImage(),<span class="dp">·</span>this.fillPatternRepeat()<span class="dp">·</span>||<span class="dp">·</span>&#x27;repeat&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(pattern<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>pattern.setTransform)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>tr<span class="dp">·</span>=<span class="dp">·</span>new<span class="dp">·</span>Transform();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tr.translate(this.fillPatternX(),<span class="dp">·</span>this.fillPatternY());\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tr.rotate(Konva.getAngle(this.fillPatternRotation()));\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tr.scale(this.fillPatternScaleX(),<span class="dp">·</span>this.fillPatternScaleY());\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tr.translate(-1<span class="dp">·</span>*<span class="dp">·</span>this.fillPatternOffsetX(),<span class="dp">·</span>-1<span class="dp">·</span>*<span class="dp">·</span>this.fillPatternOffsetY());\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>m<span class="dp">·</span>=<span class="dp">·</span>tr.getMatrix();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>matrix<span class="dp">·</span>=<span class="dp">·</span>typeof<span class="dp">·</span>DOMMatrix<span class="dp">·</span>===<span class="dp">·</span>&#x27;undefined&#x27;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>?<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>a:<span class="dp">·</span>m[0],\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>b:<span class="dp">·</span>m[1],\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>c:<span class="dp">·</span>m[2],\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>d:<span class="dp">·</span>m[3],\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>e:<span class="dp">·</span>m[4],\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>f:<span class="dp">·</span>m[5],\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>:<span class="dp">·</span>new<span class="dp">·</span>DOMMatrix(m);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>pattern.setTransform(matrix);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>pattern;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_getLinearGradient()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._getCache(linearGradient,<span class="dp">·</span>this.__getLinearGradient);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>__getLinearGradient()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>colorStops<span class="dp">·</span>=<span class="dp">·</span>this.fillLinearGradientColorStops();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(colorStops)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>ctx<span class="dp">·</span>=<span class="dp">·</span>getDummyContext();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>start<span class="dp">·</span>=<span class="dp">·</span>this.fillLinearGradientStartPoint();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>end<span class="dp">·</span>=<span class="dp">·</span>this.fillLinearGradientEndPoint();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>grd<span class="dp">·</span>=<span class="dp">·</span>ctx.createLinearGradient(start.x,<span class="dp">·</span>start.y,<span class="dp">·</span>end.x,<span class="dp">·</span>end.y);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(var<span class="dp">·</span>n<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>n<span class="dp">·</span>&lt;<span class="dp">·</span>colorStops.length;<span class="dp">·</span>n<span class="dp">·</span>+=<span class="dp">·</span>2)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>grd.addColorStop(colorStops[n],<span class="dp">·</span>colorStops[n<span class="dp">·</span>+<span class="dp">·</span>1]);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>grd;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_getRadialGradient()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._getCache(radialGradient,<span class="dp">·</span>this.__getRadialGradient);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>__getRadialGradient()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>colorStops<span class="dp">·</span>=<span class="dp">·</span>this.fillRadialGradientColorStops();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(colorStops)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>ctx<span class="dp">·</span>=<span class="dp">·</span>getDummyContext();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>start<span class="dp">·</span>=<span class="dp">·</span>this.fillRadialGradientStartPoint();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>end<span class="dp">·</span>=<span class="dp">·</span>this.fillRadialGradientEndPoint();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>grd<span class="dp">·</span>=<span class="dp">·</span>ctx.createRadialGradient(start.x,<span class="dp">·</span>start.y,<span class="dp">·</span>this.fillRadialGradientStartRadius(),<span class="dp">·</span>end.x,<span class="dp">·</span>end.y,<span class="dp">·</span>this.fillRadialGradientEndRadius());\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(var<span class="dp">·</span>n<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>n<span class="dp">·</span>&lt;<span class="dp">·</span>colorStops.length;<span class="dp">·</span>n<span class="dp">·</span>+=<span class="dp">·</span>2)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>grd.addColorStop(colorStops[n],<span class="dp">·</span>colorStops[n<span class="dp">·</span>+<span class="dp">·</span>1]);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>grd;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getShadowRGBA()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._getCache(SHADOW_RGBA,<span class="dp">·</span>this._getShadowRGBA);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_getShadowRGBA()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!this.hasShadow())<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>rgba<span class="dp">·</span>=<span class="dp">·</span>Util.colorToRGBA(this.shadowColor());\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(rgba)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>(&#x27;rgba(&#x27;<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>rgba.r<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;,&#x27;<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>rgba.g<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;,&#x27;<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>rgba.b<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;,&#x27;<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>rgba.a<span class="dp">·</span>*<span class="dp">·</span>(this.shadowOpacity()<span class="dp">·</span>||<span class="dp">·</span>1)<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;)&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hasFill()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._calculate(&#x27;hasFill&#x27;,<span class="dp">·</span>[\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;fillEnabled&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;fill&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;fillPatternImage&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;fillLinearGradientColorStops&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;fillRadialGradientColorStops&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>],<span class="dp">·</span>()<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>(this.fillEnabled()<span class="dp">·</span>&amp;&amp;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>!!(this.fill()<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.fillPatternImage()<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.fillLinearGradientColorStops()<span class="dp">·</span>||\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.fillRadialGradientColorStops()));\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hasStroke()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._calculate(&#x27;hasStroke&#x27;,<span class="dp">·</span>[\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;strokeEnabled&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;strokeWidth&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;stroke&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;strokeLinearGradientColorStops&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>],<span class="dp">·</span>()<span class="dp">·</span>=&gt;<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>(this.strokeEnabled()<span class="dp">·</span>&amp;&amp;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.strokeWidth()<span class="dp">·</span>&amp;&amp;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>!!(this.stroke()<span class="dp">·</span>||<span class="dp">·</span>this.strokeLinearGradientColorStops()));\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>});\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hasHitStroke()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>width<span class="dp">·</span>=<span class="dp">·</span>this.hitStrokeWidth();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(width<span class="dp">·</span>===<span class="dp">·</span>&#x27;auto&#x27;)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.hasStroke();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this.strokeEnabled()<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>!!width;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>intersects(point)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>stage<span class="dp">·</span>=<span class="dp">·</span>this.getStage(),<span class="dp">·</span>bufferHitCanvas<span class="dp">·</span>=<span class="dp">·</span>stage.bufferHitCanvas,<span class="dp">·</span>p;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>bufferHitCanvas.getContext().clear();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.drawHit(bufferHitCanvas,<span class="dp">·</span>null,<span class="dp">·</span>true);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>p<span class="dp">·</span>=<span class="dp">·</span>bufferHitCanvas.context.getImageData(Math.round(point.x),<span class="dp">·</span>Math.round(point.y),<span class="dp">·</span>1,<span class="dp">·</span>1).data;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>p[3]<span class="dp">·</span>&gt;<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>destroy()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Node.prototype.destroy.call(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>delete<span class="dp">·</span>shapes[this.colorKey];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>delete<span class="dp">·</span>this.colorKey;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_useBufferCanvas(forceFill)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>_a;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!this.getStage())<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>perfectDrawEnabled<span class="dp">·</span>=<span class="dp">·</span>(_a<span class="dp">·</span>=<span class="dp">·</span>this.attrs.perfectDrawEnabled)<span class="dp">·</span>!==<span class="dp">·</span>null<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>_a<span class="dp">·</span>!==<span class="dp">·</span>void<span class="dp">·</span>0<span class="dp">·</span>?<span class="dp">·</span>_a<span class="dp">·</span>:<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!perfectDrawEnabled)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>hasFill<span class="dp">·</span>=<span class="dp">·</span>forceFill<span class="dp">·</span>||<span class="dp">·</span>this.hasFill();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>hasStroke<span class="dp">·</span>=<span class="dp">·</span>this.hasStroke();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>isTransparent<span class="dp">·</span>=<span class="dp">·</span>this.getAbsoluteOpacity()<span class="dp">·</span>!==<span class="dp">·</span>1;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(hasFill<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>hasStroke<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>isTransparent)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>hasShadow<span class="dp">·</span>=<span class="dp">·</span>this.hasShadow();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>strokeForShadow<span class="dp">·</span>=<span class="dp">·</span>this.shadowForStrokeEnabled();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(hasFill<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>hasStroke<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>hasShadow<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>strokeForShadow)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>setStrokeHitEnabled(val)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.warn(&#x27;strokeHitEnabled<span class="dp">·</span>property<span class="dp">·</span>is<span class="dp">·</span>deprecated.<span class="dp">·</span>Please<span class="dp">·</span>use<span class="dp">·</span>hitStrokeWidth<span class="dp">·</span>instead.&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(val)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.hitStrokeWidth(&#x27;auto&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this.hitStrokeWidth(0);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getStrokeHitEnabled()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(this.hitStrokeWidth()<span class="dp">·</span>===<span class="dp">·</span>0)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>false;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>true;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getSelfRect()<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>size<span class="dp">·</span>=<span class="dp">·</span>this.size();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>x:<span class="dp">·</span>this._centroid<span class="dp">·</span>?<span class="dp">·</span>-size.width<span class="dp">·</span>/<span class="dp">·</span>2<span class="dp">·</span>:<span class="dp">·</span>0,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y:<span class="dp">·</span>this._centroid<span class="dp">·</span>?<span class="dp">·</span>-size.height<span class="dp">·</span>/<span class="dp">·</span>2<span class="dp">·</span>:<span class="dp">·</span>0,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>width:<span class="dp">·</span>size.width,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>height:<span class="dp">·</span>size.height,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getClientRect(config<span class="dp">·</span>=<span class="dp">·</span>{})<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>skipTransform<span class="dp">·</span>=<span class="dp">·</span>config.skipTransform;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>relativeTo<span class="dp">·</span>=<span class="dp">·</span>config.relativeTo;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>fillRect<span class="dp">·</span>=<span class="dp">·</span>this.getSelfRect();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>applyStroke<span class="dp">·</span>=<span class="dp">·</span>!config.skipStroke<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>this.hasStroke();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>strokeWidth<span class="dp">·</span>=<span class="dp">·</span>(applyStroke<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>this.strokeWidth())<span class="dp">·</span>||<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>fillAndStrokeWidth<span class="dp">·</span>=<span class="dp">·</span>fillRect.width<span class="dp">·</span>+<span class="dp">·</span>strokeWidth;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>fillAndStrokeHeight<span class="dp">·</span>=<span class="dp">·</span>fillRect.height<span class="dp">·</span>+<span class="dp">·</span>strokeWidth;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>applyShadow<span class="dp">·</span>=<span class="dp">·</span>!config.skipShadow<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>this.hasShadow();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>shadowOffsetX<span class="dp">·</span>=<span class="dp">·</span>applyShadow<span class="dp">·</span>?<span class="dp">·</span>this.shadowOffsetX()<span class="dp">·</span>:<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>shadowOffsetY<span class="dp">·</span>=<span class="dp">·</span>applyShadow<span class="dp">·</span>?<span class="dp">·</span>this.shadowOffsetY()<span class="dp">·</span>:<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>preWidth<span class="dp">·</span>=<span class="dp">·</span>fillAndStrokeWidth<span class="dp">·</span>+<span class="dp">·</span>Math.abs(shadowOffsetX);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>preHeight<span class="dp">·</span>=<span class="dp">·</span>fillAndStrokeHeight<span class="dp">·</span>+<span class="dp">·</span>Math.abs(shadowOffsetY);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>blurRadius<span class="dp">·</span>=<span class="dp">·</span>(applyShadow<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>this.shadowBlur())<span class="dp">·</span>||<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>width<span class="dp">·</span>=<span class="dp">·</span>preWidth<span class="dp">·</span>+<span class="dp">·</span>blurRadius<span class="dp">·</span>*<span class="dp">·</span>2;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>height<span class="dp">·</span>=<span class="dp">·</span>preHeight<span class="dp">·</span>+<span class="dp">·</span>blurRadius<span class="dp">·</span>*<span class="dp">·</span>2;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>rect<span class="dp">·</span>=<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>width:<span class="dp">·</span>width,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>height:<span class="dp">·</span>height,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>x:<span class="dp">·</span>-(strokeWidth<span class="dp">·</span>/<span class="dp">·</span>2<span class="dp">·</span>+<span class="dp">·</span>blurRadius)<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Math.min(shadowOffsetX,<span class="dp">·</span>0)<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>fillRect.x,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y:<span class="dp">·</span>-(strokeWidth<span class="dp">·</span>/<span class="dp">·</span>2<span class="dp">·</span>+<span class="dp">·</span>blurRadius)<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Math.min(shadowOffsetY,<span class="dp">·</span>0)<span class="dp">·</span>+\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>fillRect.y,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>};\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!skipTransform)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this._transformedRect(rect,<span class="dp">·</span>relativeTo);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>rect;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>drawScene(can,<span class="dp">·</span>top)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>layer<span class="dp">·</span>=<span class="dp">·</span>this.getLayer(),<span class="dp">·</span>canvas<span class="dp">·</span>=<span class="dp">·</span>can<span class="dp">·</span>||<span class="dp">·</span>layer.getCanvas(),<span class="dp">·</span>context<span class="dp">·</span>=<span class="dp">·</span>canvas.getContext(),<span class="dp">·</span>cachedCanvas<span class="dp">·</span>=<span class="dp">·</span>this._getCanvasCache(),<span class="dp">·</span>drawFunc<span class="dp">·</span>=<span class="dp">·</span>this.getSceneFunc(),<span class="dp">·</span>hasShadow<span class="dp">·</span>=<span class="dp">·</span>this.hasShadow(),<span class="dp">·</span>stage,<span class="dp">·</span>bufferCanvas,<span class="dp">·</span>bufferContext;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>skipBuffer<span class="dp">·</span>=<span class="dp">·</span>canvas.isCache;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>cachingSelf<span class="dp">·</span>=<span class="dp">·</span>top<span class="dp">·</span>===<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!this.isVisible()<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>!cachingSelf)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(cachedCanvas)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.save();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>m<span class="dp">·</span>=<span class="dp">·</span>this.getAbsoluteTransform(top).getMatrix();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.transform(m[0],<span class="dp">·</span>m[1],<span class="dp">·</span>m[2],<span class="dp">·</span>m[3],<span class="dp">·</span>m[4],<span class="dp">·</span>m[5]);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._drawCachedSceneCanvas(context);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.restore();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!drawFunc)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.save();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(this._useBufferCanvas()<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>!skipBuffer)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>stage<span class="dp">·</span>=<span class="dp">·</span>this.getStage();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>bufferCanvas<span class="dp">·</span>=<span class="dp">·</span>stage.bufferCanvas;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>bufferContext<span class="dp">·</span>=<span class="dp">·</span>bufferCanvas.getContext();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>bufferContext.clear();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>bufferContext.save();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>bufferContext._applyLineJoin(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>o<span class="dp">·</span>=<span class="dp">·</span>this.getAbsoluteTransform(top).getMatrix();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>bufferContext.transform(o[0],<span class="dp">·</span>o[1],<span class="dp">·</span>o[2],<span class="dp">·</span>o[3],<span class="dp">·</span>o[4],<span class="dp">·</span>o[5]);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>drawFunc.call(this,<span class="dp">·</span>bufferContext,<span class="dp">·</span>this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>bufferContext.restore();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>ratio<span class="dp">·</span>=<span class="dp">·</span>bufferCanvas.pixelRatio;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(hasShadow)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context._applyShadow(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context._applyOpacity(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context._applyGlobalCompositeOperation(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.drawImage(bufferCanvas._canvas,<span class="dp">·</span>0,<span class="dp">·</span>0,<span class="dp">·</span>bufferCanvas.width<span class="dp">·</span>/<span class="dp">·</span>ratio,<span class="dp">·</span>bufferCanvas.height<span class="dp">·</span>/<span class="dp">·</span>ratio);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context._applyLineJoin(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!cachingSelf)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>o<span class="dp">·</span>=<span class="dp">·</span>this.getAbsoluteTransform(top).getMatrix();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.transform(o[0],<span class="dp">·</span>o[1],<span class="dp">·</span>o[2],<span class="dp">·</span>o[3],<span class="dp">·</span>o[4],<span class="dp">·</span>o[5]);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context._applyOpacity(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context._applyGlobalCompositeOperation(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(hasShadow)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context._applyShadow(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>drawFunc.call(this,<span class="dp">·</span>context,<span class="dp">·</span>this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.restore();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>drawHit(can,<span class="dp">·</span>top,<span class="dp">·</span>skipDragCheck<span class="dp">·</span>=<span class="dp">·</span>false)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!this.shouldDrawHit(top,<span class="dp">·</span>skipDragCheck))<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>layer<span class="dp">·</span>=<span class="dp">·</span>this.getLayer(),<span class="dp">·</span>canvas<span class="dp">·</span>=<span class="dp">·</span>can<span class="dp">·</span>||<span class="dp">·</span>layer.hitCanvas,<span class="dp">·</span>context<span class="dp">·</span>=<span class="dp">·</span>canvas<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>canvas.getContext(),<span class="dp">·</span>drawFunc<span class="dp">·</span>=<span class="dp">·</span>this.hitFunc()<span class="dp">·</span>||<span class="dp">·</span>this.sceneFunc(),<span class="dp">·</span>cachedCanvas<span class="dp">·</span>=<span class="dp">·</span>this._getCanvasCache(),<span class="dp">·</span>cachedHitCanvas<span class="dp">·</span>=<span class="dp">·</span>cachedCanvas<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>cachedCanvas.hit;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!this.colorKey)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.warn(&#x27;Looks<span class="dp">·</span>like<span class="dp">·</span>your<span class="dp">·</span>canvas<span class="dp">·</span>has<span class="dp">·</span>a<span class="dp">·</span>destroyed<span class="dp">·</span>shape<span class="dp">·</span>in<span class="dp">·</span>it.<span class="dp">·</span>Do<span class="dp">·</span>not<span class="dp">·</span>reuse<span class="dp">·</span>shape<span class="dp">·</span>after<span class="dp">·</span>you<span class="dp">·</span>destroyed<span class="dp">·</span>it.<span class="dp">·</span>If<span class="dp">·</span>you<span class="dp">·</span>want<span class="dp">·</span>to<span class="dp">·</span>reuse<span class="dp">·</span>shape<span class="dp">·</span>you<span class="dp">·</span>should<span class="dp">·</span>call<span class="dp">·</span>remove()<span class="dp">·</span>instead<span class="dp">·</span>of<span class="dp">·</span>destroy()&#x27;);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(cachedHitCanvas)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.save();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>m<span class="dp">·</span>=<span class="dp">·</span>this.getAbsoluteTransform(top).getMatrix();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.transform(m[0],<span class="dp">·</span>m[1],<span class="dp">·</span>m[2],<span class="dp">·</span>m[3],<span class="dp">·</span>m[4],<span class="dp">·</span>m[5]);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>this._drawCachedHitCanvas(context);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.restore();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!drawFunc)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.save();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context._applyLineJoin(this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>const<span class="dp">·</span>selfCache<span class="dp">·</span>=<span class="dp">·</span>this<span class="dp">·</span>===<span class="dp">·</span>top;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(!selfCache)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>o<span class="dp">·</span>=<span class="dp">·</span>this.getAbsoluteTransform(top).getMatrix();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.transform(o[0],<span class="dp">·</span>o[1],<span class="dp">·</span>o[2],<span class="dp">·</span>o[3],<span class="dp">·</span>o[4],<span class="dp">·</span>o[5]);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>drawFunc.call(this,<span class="dp">·</span>context,<span class="dp">·</span>this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>context.restore();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>drawHitFromCache(alphaThreshold<span class="dp">·</span>=<span class="dp">·</span>0)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>var<span class="dp">·</span>cachedCanvas<span class="dp">·</span>=<span class="dp">·</span>this._getCanvasCache(),<span class="dp">·</span>sceneCanvas<span class="dp">·</span>=<span class="dp">·</span>this._getCachedSceneCanvas(),<span class="dp">·</span>hitCanvas<span class="dp">·</span>=<span class="dp">·</span>cachedCanvas.hit,<span class="dp">·</span>hitContext<span class="dp">·</span>=<span class="dp">·</span>hitCanvas.getContext(),<span class="dp">·</span>hitWidth<span class="dp">·</span>=<span class="dp">·</span>hitCanvas.getWidth(),<span class="dp">·</span>hitHeight<span class="dp">·</span>=<span class="dp">·</span>hitCanvas.getHeight(),<span class="dp">·</span>hitImageData,<span class="dp">·</span>hitData,<span class="dp">·</span>len,<span class="dp">·</span>rgbColorKey,<span class="dp">·</span>i,<span class="dp">·</span>alpha;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hitContext.clear();\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hitContext.drawImage(sceneCanvas._canvas,<span class="dp">·</span>0,<span class="dp">·</span>0,<span class="dp">·</span>hitWidth,<span class="dp">·</span>hitHeight);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>try<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hitImageData<span class="dp">·</span>=<span class="dp">·</span>hitContext.getImageData(0,<span class="dp">·</span>0,<span class="dp">·</span>hitWidth,<span class="dp">·</span>hitHeight);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hitData<span class="dp">·</span>=<span class="dp">·</span>hitImageData.data;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>len<span class="dp">·</span>=<span class="dp">·</span>hitData.length;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>rgbColorKey<span class="dp">·</span>=<span class="dp">·</span>Util._hexToRgb(this.colorKey);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>(i<span class="dp">·</span>=<span class="dp">·</span>0;<span class="dp">·</span>i<span class="dp">·</span>&lt;<span class="dp">·</span>len;<span class="dp">·</span>i<span class="dp">·</span>+=<span class="dp">·</span>4)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>alpha<span class="dp">·</span>=<span class="dp">·</span>hitData[i<span class="dp">·</span>+<span class="dp">·</span>3];\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(alpha<span class="dp">·</span>&gt;<span class="dp">·</span>alphaThreshold)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hitData[i]<span class="dp">·</span>=<span class="dp">·</span>rgbColorKey.r;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hitData[i<span class="dp">·</span>+<span class="dp">·</span>1]<span class="dp">·</span>=<span class="dp">·</span>rgbColorKey.g;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hitData[i<span class="dp">·</span>+<span class="dp">·</span>2]<span class="dp">·</span>=<span class="dp">·</span>rgbColorKey.b;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hitData[i<span class="dp">·</span>+<span class="dp">·</span>3]<span class="dp">·</span>=<span class="dp">·</span>255;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hitData[i<span class="dp">·</span>+<span class="dp">·</span>3]<span class="dp">·</span>=<span class="dp">·</span>0;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hitContext.putImageData(hitImageData,<span class="dp">·</span>0,<span class="dp">·</span>0);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>catch<span class="dp">·</span>(e)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Util.error(&#x27;Unable<span class="dp">·</span>to<span class="dp">·</span>draw<span class="dp">·</span>hit<span class="dp">·</span>graph<span class="dp">·</span>from<span class="dp">·</span>cached<span class="dp">·</span>scene<span class="dp">·</span>canvas.<span class="dp">·</span>&#x27;<span class="dp">·</span>+<span class="dp">·</span>e.message);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>this;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hasPointerCapture(pointerId)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>PointerEvents.hasPointerCapture(pointerId,<span class="dp">·</span>this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>setPointerCapture(pointerId)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>PointerEvents.setPointerCapture(pointerId,<span class="dp">·</span>this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>releaseCapture(pointerId)<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>PointerEvents.releaseCapture(pointerId,<span class="dp">·</span>this);\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n}\nShape.prototype._fillFunc<span class="dp">·</span>=<span class="dp">·</span>_fillFunc;\nShape.prototype._strokeFunc<span class="dp">·</span>=<span class="dp">·</span>_strokeFunc;\nShape.prototype._fillFuncHit<span class="dp">·</span>=<span class="dp">·</span>_fillFuncHit;\nShape.prototype._strokeFuncHit<span class="dp">·</span>=<span class="dp">·</span>_strokeFuncHit;\nShape.prototype._centroid<span class="dp">·</span>=<span class="dp">·</span>false;\nShape.prototype.nodeType<span class="dp">·</span>=<span class="dp">·</span>&#x27;Shape&#x27;;\n_registerNode(Shape);\nShape.prototype.eventListeners<span class="dp">·</span>=<span class="dp">·</span>{};\nShape.prototype.on.call(Shape.prototype,<span class="dp">·</span>&#x27;shadowColorChange.konva<span class="dp">·</span>shadowBlurChange.konva<span class="dp">·</span>shadowOffsetChange.konva<span class="dp">·</span>shadowOpacityChange.konva<span class="dp">·</span>shadowEnabledChange.konva&#x27;,<span class="dp">·</span>_clearHasShadowCache);\nShape.prototype.on.call(Shape.prototype,<span class="dp">·</span>&#x27;shadowColorChange.konva<span class="dp">·</span>shadowOpacityChange.konva<span class="dp">·</span>shadowEnabledChange.konva&#x27;,<span class="dp">·</span>_clearGetShadowRGBACache);\nShape.prototype.on.call(Shape.prototype,<span class="dp">·</span>&#x27;fillPriorityChange.konva<span class="dp">·</span>fillPatternImageChange.konva<span class="dp">·</span>fillPatternRepeatChange.konva<span class="dp">·</span>fillPatternScaleXChange.konva<span class="dp">·</span>fillPatternScaleYChange.konva<span class="dp">·</span>fillPatternOffsetXChange.konva<span class="dp">·</span>fillPatternOffsetYChange.konva<span class="dp">·</span>fillPatternXChange.konva<span class="dp">·</span>fillPatternYChange.konva<span class="dp">·</span>fillPatternRotationChange.konva&#x27;,<span class="dp">·</span>_clearFillPatternCache);\nShape.prototype.on.call(Shape.prototype,<span class="dp">·</span>&#x27;fillPriorityChange.konva<span class="dp">·</span>fillLinearGradientColorStopsChange.konva<span class="dp">·</span>fillLinearGradientStartPointXChange.konva<span class="dp">·</span>fillLinearGradientStartPointYChange.konva<span class="dp">·</span>fillLinearGradientEndPointXChange.konva<span class="dp">·</span>fillLinearGradientEndPointYChange.konva&#x27;,<span class="dp">·</span>_clearLinearGradientCache);\nShape.prototype.on.call(Shape.prototype,<span class="dp">·</span>&#x27;fillPriorityChange.konva<span class="dp">·</span>fillRadialGradientColorStopsChange.konva<span class="dp">·</span>fillRadialGradientStartPointXChange.konva<span class="dp">·</span>fillRadialGradientStartPointYChange.konva<span class="dp">·</span>fillRadialGradientEndPointXChange.konva<span class="dp">·</span>fillRadialGradientEndPointYChange.konva<span class="dp">·</span>fillRadialGradientStartRadiusChange.konva<span class="dp">·</span>fillRadialGradientEndRadiusChange.konva&#x27;,<span class="dp">·</span>_clearRadialGradientCache);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;stroke&#x27;,<span class="dp">·</span>undefined,<span class="dp">·</span>getStringOrGradientValidator());\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;strokeWidth&#x27;,<span class="dp">·</span>2,<span class="dp">·</span>getNumberValidator());\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillAfterStrokeEnabled&#x27;,<span class="dp">·</span>false);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;hitStrokeWidth&#x27;,<span class="dp">·</span>&#x27;auto&#x27;,<span class="dp">·</span>getNumberOrAutoValidator());\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;strokeHitEnabled&#x27;,<span class="dp">·</span>true,<span class="dp">·</span>getBooleanValidator());\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;perfectDrawEnabled&#x27;,<span class="dp">·</span>true,<span class="dp">·</span>getBooleanValidator());\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;shadowForStrokeEnabled&#x27;,<span class="dp">·</span>true,<span class="dp">·</span>getBooleanValidator());\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;lineJoin&#x27;);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;lineCap&#x27;);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;sceneFunc&#x27;);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;hitFunc&#x27;);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;dash&#x27;);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;dashOffset&#x27;,<span class="dp">·</span>0,<span class="dp">·</span>getNumberValidator());\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;shadowColor&#x27;,<span class="dp">·</span>undefined,<span class="dp">·</span>getStringValidator());\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;shadowBlur&#x27;,<span class="dp">·</span>0,<span class="dp">·</span>getNumberValidator());\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;shadowOpacity&#x27;,<span class="dp">·</span>1,<span class="dp">·</span>getNumberValidator());\nFactory.addComponentsGetterSetter(Shape,<span class="dp">·</span>&#x27;shadowOffset&#x27;,<span class="dp">·</span>[&#x27;x&#x27;,<span class="dp">·</span>&#x27;y&#x27;]);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;shadowOffsetX&#x27;,<span class="dp">·</span>0,<span class="dp">·</span>getNumberValidator());\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;shadowOffsetY&#x27;,<span class="dp">·</span>0,<span class="dp">·</span>getNumberValidator());\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillPatternImage&#x27;);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fill&#x27;,<span class="dp">·</span>undefined,<span class="dp">·</span>getStringOrGradientValidator());\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillPatternX&#x27;,<span class="dp">·</span>0,<span class="dp">·</span>getNumberValidator());\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillPatternY&#x27;,<span class="dp">·</span>0,<span class="dp">·</span>getNumberValidator());\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillLinearGradientColorStops&#x27;);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;strokeLinearGradientColorStops&#x27;);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillRadialGradientStartRadius&#x27;,<span class="dp">·</span>0);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillRadialGradientEndRadius&#x27;,<span class="dp">·</span>0);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillRadialGradientColorStops&#x27;);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillPatternRepeat&#x27;,<span class="dp">·</span>&#x27;repeat&#x27;);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillEnabled&#x27;,<span class="dp">·</span>true);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;strokeEnabled&#x27;,<span class="dp">·</span>true);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;shadowEnabled&#x27;,<span class="dp">·</span>true);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;dashEnabled&#x27;,<span class="dp">·</span>true);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;strokeScaleEnabled&#x27;,<span class="dp">·</span>true);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillPriority&#x27;,<span class="dp">·</span>&#x27;color&#x27;);\nFactory.addComponentsGetterSetter(Shape,<span class="dp">·</span>&#x27;fillPatternOffset&#x27;,<span class="dp">·</span>[&#x27;x&#x27;,<span class="dp">·</span>&#x27;y&#x27;]);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillPatternOffsetX&#x27;,<span class="dp">·</span>0,<span class="dp">·</span>getNumberValidator());\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillPatternOffsetY&#x27;,<span class="dp">·</span>0,<span class="dp">·</span>getNumberValidator());\nFactory.addComponentsGetterSetter(Shape,<span class="dp">·</span>&#x27;fillPatternScale&#x27;,<span class="dp">·</span>[&#x27;x&#x27;,<span class="dp">·</span>&#x27;y&#x27;]);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillPatternScaleX&#x27;,<span class="dp">·</span>1,<span class="dp">·</span>getNumberValidator());\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillPatternScaleY&#x27;,<span class="dp">·</span>1,<span class="dp">·</span>getNumberValidator());\nFactory.addComponentsGetterSetter(Shape,<span class="dp">·</span>&#x27;fillLinearGradientStartPoint&#x27;,<span class="dp">·</span>[\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;x&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;y&#x27;,\n]);\nFactory.addComponentsGetterSetter(Shape,<span class="dp">·</span>&#x27;strokeLinearGradientStartPoint&#x27;,<span class="dp">·</span>[\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;x&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;y&#x27;,\n]);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillLinearGradientStartPointX&#x27;,<span class="dp">·</span>0);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;strokeLinearGradientStartPointX&#x27;,<span class="dp">·</span>0);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillLinearGradientStartPointY&#x27;,<span class="dp">·</span>0);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;strokeLinearGradientStartPointY&#x27;,<span class="dp">·</span>0);\nFactory.addComponentsGetterSetter(Shape,<span class="dp">·</span>&#x27;fillLinearGradientEndPoint&#x27;,<span class="dp">·</span>[\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;x&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;y&#x27;,\n]);\nFactory.addComponentsGetterSetter(Shape,<span class="dp">·</span>&#x27;strokeLinearGradientEndPoint&#x27;,<span class="dp">·</span>[\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;x&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;y&#x27;,\n]);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillLinearGradientEndPointX&#x27;,<span class="dp">·</span>0);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;strokeLinearGradientEndPointX&#x27;,<span class="dp">·</span>0);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillLinearGradientEndPointY&#x27;,<span class="dp">·</span>0);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;strokeLinearGradientEndPointY&#x27;,<span class="dp">·</span>0);\nFactory.addComponentsGetterSetter(Shape,<span class="dp">·</span>&#x27;fillRadialGradientStartPoint&#x27;,<span class="dp">·</span>[\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;x&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;y&#x27;,\n]);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillRadialGradientStartPointX&#x27;,<span class="dp">·</span>0);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillRadialGradientStartPointY&#x27;,<span class="dp">·</span>0);\nFactory.addComponentsGetterSetter(Shape,<span class="dp">·</span>&#x27;fillRadialGradientEndPoint&#x27;,<span class="dp">·</span>[\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;x&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;y&#x27;,\n]);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillRadialGradientEndPointX&#x27;,<span class="dp">·</span>0);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillRadialGradientEndPointY&#x27;,<span class="dp">·</span>0);\nFactory.addGetterSetter(Shape,<span class="dp">·</span>&#x27;fillPatternRotation&#x27;,<span class="dp">·</span>0);\nFactory.backCompat(Shape,<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dashArray:<span class="dp">·</span>&#x27;dash&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getDashArray:<span class="dp">·</span>&#x27;getDash&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>setDashArray:<span class="dp">·</span>&#x27;getDash&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>drawFunc:<span class="dp">·</span>&#x27;sceneFunc&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getDrawFunc:<span class="dp">·</span>&#x27;getSceneFunc&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>setDrawFunc:<span class="dp">·</span>&#x27;setSceneFunc&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>drawHitFunc:<span class="dp">·</span>&#x27;hitFunc&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>getDrawHitFunc:<span class="dp">·</span>&#x27;getHitFunc&#x27;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>setDrawHitFunc:<span class="dp">·</span>&#x27;setHitFunc&#x27;,\n});\n&quot;,</td></tr>
<tr class="error"><td colspan="4">
Max diff block lines reached; 209578/1075963 bytes (19.48%) of diff not shown.
</td></tr></table>      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">155 B</span></div>
      <div><span class="source">peaksjs_widget-0.1.0.dev1/peaksjs_widget/tests/conftest.py</span> vs.</div>
      <div id="peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--peaksjs_widget-tests-conftest.py"><span class="source">peaksjs_widget-0.1.1.dev0/peaksjs_widget/tests/conftest.py</span>
        <a class="anchor" href="#peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--peaksjs_widget-tests-conftest.py">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">123 B</span></div>
      <div><span class="source">peaksjs_widget-0.1.0.dev1/src/extension.ts</span> vs.</div>
      <div id="peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--src-extension.ts"><span class="source">peaksjs_widget-0.1.1.dev0/src/extension.ts</span>
        <a class="anchor" href="#peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--src-extension.ts">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">117 B</span></div>
      <div><span class="source">peaksjs_widget-0.1.0.dev1/src/plugin.ts</span> vs.</div>
      <div id="peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--src-plugin.ts"><span class="source">peaksjs_widget-0.1.1.dev0/src/plugin.ts</span>
        <a class="anchor" href="#peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--src-plugin.ts">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">119 B</span></div>
      <div><span class="source">peaksjs_widget-0.1.0.dev1/src/version.ts</span> vs.</div>
      <div id="peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--src-version.ts"><span class="source">peaksjs_widget-0.1.1.dev0/src/version.ts</span>
        <a class="anchor" href="#peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--src-version.ts">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">117 B</span></div>
      <div><span class="source">peaksjs_widget-0.1.0.dev1/src/widget.ts</span> vs.</div>
      <div id="peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--src-widget.ts"><span class="source">peaksjs_widget-0.1.1.dev0/src/widget.ts</span>
        <a class="anchor" href="#peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--src-widget.ts">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">145 B</span></div>
      <div><span class="source">peaksjs_widget-0.1.0.dev1/src/__tests__/index.spec.ts</span> vs.</div>
      <div id="peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--src-__tests__-index.spec.ts"><span class="source">peaksjs_widget-0.1.1.dev0/src/__tests__/index.spec.ts</span>
        <a class="anchor" href="#peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--src-__tests__-index.spec.ts">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">135 B</span></div>
      <div><span class="source">peaksjs_widget-0.1.0.dev1/src/__tests__/utils.ts</span> vs.</div>
      <div id="peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--src-__tests__-utils.ts"><span class="source">peaksjs_widget-0.1.1.dev0/src/__tests__/utils.ts</span>
        <a class="anchor" href="#peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--src-__tests__-utils.ts">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">413 B</span></div>
      <div><span class="source">peaksjs_widget-0.1.0.dev1/.gitignore</span> vs.</div>
      <div id="peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--.gitignore"><span class="source">peaksjs_widget-0.1.1.dev0/.gitignore</span>
        <a class="anchor" href="#peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--.gitignore">¶</a>
      </div>
      </div>
      <div class="comment">Files 5% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 20, 14 lines modified</td><td colspan="2">Offset 20, 16 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">20 </td><td class="diffpresent">parts/</td><td class="diffline">20 </td><td class="diffpresent">parts/</td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent">sdist/</td><td class="diffline">21 </td><td class="diffpresent">sdist/</td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent">var/</td><td class="diffline">22 </td><td class="diffpresent">var/</td></tr>
<tr class="diffunmodified"><td class="diffline">23 </td><td class="diffpresent">*.egg-info/</td><td class="diffline">23 </td><td class="diffpresent">*.egg-info/</td></tr>
<tr class="diffunmodified"><td class="diffline">24 </td><td class="diffpresent">.installed.cfg</td><td class="diffline">24 </td><td class="diffpresent">.installed.cfg</td></tr>
<tr class="diffunmodified"><td class="diffline">25 </td><td class="diffpresent">*.egg</td><td class="diffline">25 </td><td class="diffpresent">*.egg</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">26 </td><td class="diffpresent">*lock.json</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">26 </td><td class="diffpresent">#<span class="dp">·</span>PyInstaller</td><td class="diffline">27 </td><td class="diffpresent">#<span class="dp">·</span>PyInstaller</td></tr>
<tr class="diffunmodified"><td class="diffline">27 </td><td class="diffpresent">#<span class="dp">·</span><span class="dp">·</span>Usually<span class="dp">·</span>these<span class="dp">·</span>files<span class="dp">·</span>are<span class="dp">·</span>written<span class="dp">·</span>by<span class="dp">·</span>a<span class="dp">·</span>python<span class="dp">·</span>script<span class="dp">·</span>from<span class="dp">·</span>a<span class="dp">·</span>template</td><td class="diffline">28 </td><td class="diffpresent">#<span class="dp">·</span><span class="dp">·</span>Usually<span class="dp">·</span>these<span class="dp">·</span>files<span class="dp">·</span>are<span class="dp">·</span>written<span class="dp">·</span>by<span class="dp">·</span>a<span class="dp">·</span>python<span class="dp">·</span>script<span class="dp">·</span>from<span class="dp">·</span>a<span class="dp">·</span>template</td></tr>
<tr class="diffunmodified"><td class="diffline">28 </td><td class="diffpresent">#<span class="dp">·</span><span class="dp">·</span>before<span class="dp">·</span>PyInstaller<span class="dp">·</span>builds<span class="dp">·</span>the<span class="dp">·</span>exe,<span class="dp">·</span>so<span class="dp">·</span>as<span class="dp">·</span>to<span class="dp">·</span>inject<span class="dp">·</span>date/other<span class="dp">·</span>infos<span class="dp">·</span>into<span class="dp">·</span>it.</td><td class="diffline">29 </td><td class="diffpresent">#<span class="dp">·</span><span class="dp">·</span>before<span class="dp">·</span>PyInstaller<span class="dp">·</span>builds<span class="dp">·</span>the<span class="dp">·</span>exe,<span class="dp">·</span>so<span class="dp">·</span>as<span class="dp">·</span>to<span class="dp">·</span>inject<span class="dp">·</span>date/other<span class="dp">·</span>infos<span class="dp">·</span>into<span class="dp">·</span>it.</td></tr>
<tr class="diffunmodified"><td class="diffline">29 </td><td class="diffpresent">*.manifest</td><td class="diffline">30 </td><td class="diffpresent">*.manifest</td></tr>
<tr class="diffunmodified"><td class="diffline">30 </td><td class="diffpresent">*.spec</td><td class="diffline">31 </td><td class="diffpresent">*.spec</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">31 </td><td class="diffpresent">#<span class="dp">·</span>Installer<span class="dp">·</span>logs</td><td class="diffline">32 </td><td class="diffpresent">#<span class="dp">·</span>Installer<span class="dp">·</span>logs</td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">113 B</span></div>
      <div><span class="source">peaksjs_widget-0.1.0.dev1/LICENSE.txt</span> vs.</div>
      <div id="peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--LICENSE.txt"><span class="source">peaksjs_widget-0.1.1.dev0/LICENSE.txt</span>
        <a class="anchor" href="#peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--LICENSE.txt">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">738 B</span></div>
      <div><span class="source">peaksjs_widget-0.1.0.dev1/README.md</span> vs.</div>
      <div id="peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--README.md"><span class="source">peaksjs_widget-0.1.1.dev0/README.md</span>
        <a class="anchor" href="#peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--README.md">¶</a>
      </div>
      </div>
      <div class="comment">Files 6% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 67, 17 lines modified</td><td colspan="2">Offset 67, 23 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">67 </td><td class="diffpresent">```</td><td class="diffline">67 </td><td class="diffpresent">```</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">68 </td><td class="diffpresent">After<span class="dp">·</span>a<span class="dp">·</span>change<span class="dp">·</span>wait<span class="dp">·</span>for<span class="dp">·</span>the<span class="dp">·</span>build<span class="dp">·</span>to<span class="dp">·</span>finish<span class="dp">·</span>and<span class="dp">·</span>then<span class="dp">·</span>refresh<span class="dp">·</span>your<span class="dp">·</span>browser<span class="dp">·</span>and<span class="dp">·</span>the<span class="dp">·</span>changes<span class="dp">·</span>should<span class="dp">·</span>take<span class="dp">·</span>effect.</td><td class="diffline">68 </td><td class="diffpresent">After<span class="dp">·</span>a<span class="dp">·</span>change<span class="dp">·</span>wait<span class="dp">·</span>for<span class="dp">·</span>the<span class="dp">·</span>build<span class="dp">·</span>to<span class="dp">·</span>finish<span class="dp">·</span>and<span class="dp">·</span>then<span class="dp">·</span>refresh<span class="dp">·</span>your<span class="dp">·</span>browser<span class="dp">·</span>and<span class="dp">·</span>the<span class="dp">·</span>changes<span class="dp">·</span>should<span class="dp">·</span>take<span class="dp">·</span>effect.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">69 </td><td class="diffpresent">####<span class="dp">·</span>Python:</td><td class="diffline">69 </td><td class="diffpresent">####<span class="dp">·</span>Python:</td></tr>
<tr class="diffunmodified"><td class="diffline">70 </td><td class="diffpresent">If<span class="dp">·</span>you<span class="dp">·</span>make<span class="dp">·</span>a<span class="dp">·</span>change<span class="dp">·</span>to<span class="dp">·</span>the<span class="dp">·</span>python<span class="dp">·</span>code<span class="dp">·</span>then<span class="dp">·</span>you<span class="dp">·</span>will<span class="dp">·</span>need<span class="dp">·</span>to<span class="dp">·</span>restart<span class="dp">·</span>the<span class="dp">·</span>notebook<span class="dp">·</span>kernel<span class="dp">·</span>to<span class="dp">·</span>have<span class="dp">·</span>it<span class="dp">·</span>take<span class="dp">·</span>effect.</td><td class="diffline">70 </td><td class="diffpresent">If<span class="dp">·</span>you<span class="dp">·</span>make<span class="dp">·</span>a<span class="dp">·</span>change<span class="dp">·</span>to<span class="dp">·</span>the<span class="dp">·</span>python<span class="dp">·</span>code<span class="dp">·</span>then<span class="dp">·</span>you<span class="dp">·</span>will<span class="dp">·</span>need<span class="dp">·</span>to<span class="dp">·</span>restart<span class="dp">·</span>the<span class="dp">·</span>notebook<span class="dp">·</span>kernel<span class="dp">·</span>to<span class="dp">·</span>have<span class="dp">·</span>it<span class="dp">·</span>take<span class="dp">·</span>effect.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">71 </td><td class="diffpresent">##<span class="dp">·</span><del>U</del><del>pdat</del>i<del>ng</del><span class="dp">·</span>the<span class="dp">·</span><del>version</del></td><td class="diffline">71 </td><td class="diffpresent">##<span class="dp">·</span><ins>Publ</ins>i<ins>sh</ins><span class="dp">·</span>the<span class="dp">·</span><ins>package</ins></td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">72 </td><td class="diffpresent"><del>To<span class="dp">·</span></del>upd<del>ate<span class="dp">·</span>the<span class="dp">·</span>version,<span class="dp">·</span>inst</del>a<del>ll<span class="dp">·</span></del>t<del>bump<span class="dp">·</span>and<span class="dp">·</span>us</del>e<del><span class="dp">·</span>it<span class="dp">·</span>to<span class="dp">·</span>bump</del><span class="dp">·</span>the<span class="dp">·</span>version.</td><td class="diffline">72 </td><td class="diffpresent">update<span class="dp">·</span>the<span class="dp">·</span>version.</td></tr>
<tr class="diffunmodified"><td class="diffline">73 </td><td class="diffpresent">By<span class="dp">·</span>default<span class="dp">·</span>it<span class="dp">·</span>will<span class="dp">·</span>also<span class="dp">·</span>create<span class="dp">·</span>a<span class="dp">·</span>tag.</td><td class="diffline">73 </td><td class="diffpresent">By<span class="dp">·</span>default<span class="dp">·</span>it<span class="dp">·</span>will<span class="dp">·</span>also<span class="dp">·</span>create<span class="dp">·</span>a<span class="dp">·</span>tag.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">74 </td><td class="diffpresent">```bash</td><td class="diffline">74 </td><td class="diffpresent">```bash</td></tr>
<tr class="diffunmodified"><td class="diffline">75 </td><td class="diffpresent">pip<span class="dp">·</span>install<span class="dp">·</span>tbump</td><td class="diffline">75 </td><td class="diffpresent">pip<span class="dp">·</span>install<span class="dp">·</span>tbump</td></tr>
<tr class="diffunmodified"><td class="diffline">76 </td><td class="diffpresent">tbump<span class="dp">·</span>&lt;new-version&gt;</td><td class="diffline">76 </td><td class="diffpresent">tbump<span class="dp">·</span>&lt;new-version&gt;</td></tr>
<tr class="diffunmodified"><td class="diffline">77 </td><td class="diffpresent">```</td><td class="diffline">77 </td><td class="diffpresent">```</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">78 </td><td class="diffpresent">```bash</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">79 </td><td class="diffpresent">yarn<span class="dp">·</span>run<span class="dp">·</span>clean<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>yarn<span class="dp">·</span>install</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">80 </td><td class="diffpresent">yarn<span class="dp">·</span>run<span class="dp">·</span>build:prod</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">81 </td><td class="diffpresent">pyproject-build<span class="dp">·</span>.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">82 </td><td class="diffpresent">twine<span class="dp">·</span>upload<span class="dp">·</span>dist/*<span class="dp">·</span>-u<span class="dp">·</span>k-tonal</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">83 </td><td class="diffpresent">```</td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">436 B</span></div>
      <div><span class="source">peaksjs_widget-0.1.0.dev1/pyproject.toml</span> vs.</div>
      <div id="peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--pyproject.toml"><span class="source">peaksjs_widget-0.1.1.dev0/pyproject.toml</span>
        <a class="anchor" href="#peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--pyproject.toml">¶</a>
      </div>
      </div>
      <div class="comment">Files 6% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 32, 15 lines modified</td><td colspan="2">Offset 32, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;Programming<span class="dp">·</span>Language<span class="dp">·</span>::<span class="dp">·</span>Python<span class="dp">·</span>::<span class="dp">·</span>3.10&quot;,</td><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;Programming<span class="dp">·</span>Language<span class="dp">·</span>::<span class="dp">·</span>Python<span class="dp">·</span>::<span class="dp">·</span>3.10&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">33 </td><td class="diffpresent">]</td><td class="diffline">33 </td><td class="diffpresent">]</td></tr>
<tr class="diffunmodified"><td class="diffline">34 </td><td class="diffpresent">dependencies<span class="dp">·</span>=<span class="dp">·</span>[</td><td class="diffline">34 </td><td class="diffpresent">dependencies<span class="dp">·</span>=<span class="dp">·</span>[</td></tr>
<tr class="diffunmodified"><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;ipywidgets&gt;=7.0.0&quot;,</td><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;ipywidgets&gt;=7.0.0&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;pydub&quot;,</td><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;pydub&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;numpy&quot;,</td><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;numpy&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">38 </td><td class="diffpresent">]</td><td class="diffline">38 </td><td class="diffpresent">]</td></tr>
<tr class="diffchanged"><td class="diffline">39 </td><td class="diffpresent">version<span class="dp">·</span>=<span class="dp">·</span>&quot;0.1.<del>0</del>.dev<del>1</del>&quot;</td><td class="diffline">39 </td><td class="diffpresent">version<span class="dp">·</span>=<span class="dp">·</span>&quot;0.1.<ins>1</ins>.dev&quot;</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">40 </td><td class="diffpresent">[project.optional-dependencies]</td><td class="diffline">40 </td><td class="diffpresent">[project.optional-dependencies]</td></tr>
<tr class="diffunmodified"><td class="diffline">41 </td><td class="diffpresent">docs<span class="dp">·</span>=<span class="dp">·</span>[</td><td class="diffline">41 </td><td class="diffpresent">docs<span class="dp">·</span>=<span class="dp">·</span>[</td></tr>
<tr class="diffunmodified"><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;jupyter_sphinx&quot;,</td><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;jupyter_sphinx&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;nbsphinx&quot;,</td><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;nbsphinx&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;nbsphinx-link&quot;,</td><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;nbsphinx-link&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;pypandoc&quot;,</td><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;pypandoc&quot;,</td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">1.16 KB</span></div>
      <div><span class="source">peaksjs_widget-0.1.0.dev1/PKG-INFO</span> vs.</div>
      <div id="peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--PKG-INFO"><span class="source">peaksjs_widget-0.1.1.dev0/PKG-INFO</span>
        <a class="anchor" href="#peaksjs_widget--.-.-.dev-.tar---peaksjs_widget--.-.-.dev--PKG-INFO">¶</a>
      </div>
      </div>
      <div class="comment">Files 2% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 10 lines modified</td><td colspan="2">Offset 1, 10 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">1 </td><td class="diffpresent">Metadata-Version:<span class="dp">·</span>2.1</td><td class="diffline">1 </td><td class="diffpresent">Metadata-Version:<span class="dp">·</span>2.1</td></tr>
<tr class="diffunmodified"><td class="diffline">2 </td><td class="diffpresent">Name:<span class="dp">·</span>peaksjs_widget</td><td class="diffline">2 </td><td class="diffpresent">Name:<span class="dp">·</span>peaksjs_widget</td></tr>
<tr class="diffchanged"><td class="diffline">3 </td><td class="diffpresent">Version:<span class="dp">·</span>0.1.<del>0</del>.dev<del>1</del></td><td class="diffline">3 </td><td class="diffpresent">Version:<span class="dp">·</span>0.1.<ins>1</ins>.dev<ins>0</ins></td></tr>
<tr class="diffunmodified"><td class="diffline">4 </td><td class="diffpresent">Summary:<span class="dp">·</span>ipywidget<span class="dp">·</span>to<span class="dp">·</span>interact<span class="dp">·</span>with<span class="dp">·</span>audio<span class="dp">·</span>waveforms<span class="dp">·</span>through<span class="dp">·</span>peaks.js</td><td class="diffline">4 </td><td class="diffpresent">Summary:<span class="dp">·</span>ipywidget<span class="dp">·</span>to<span class="dp">·</span>interact<span class="dp">·</span>with<span class="dp">·</span>audio<span class="dp">·</span>waveforms<span class="dp">·</span>through<span class="dp">·</span>peaks.js</td></tr>
<tr class="diffunmodified"><td class="diffline">5 </td><td class="diffpresent">Project-URL:<span class="dp">·</span>Homepage,<span class="dp">·</span>https://github.com/ktonal/peaksjs-widget</td><td class="diffline">5 </td><td class="diffpresent">Project-URL:<span class="dp">·</span>Homepage,<span class="dp">·</span>https://github.com/ktonal/peaksjs-widget</td></tr>
<tr class="diffunmodified"><td class="diffline">6 </td><td class="diffpresent">Author-email:<span class="dp">·</span>AntoineDaurat<span class="dp">·</span>&lt;ktonalberlin@gmail.com&gt;</td><td class="diffline">6 </td><td class="diffpresent">Author-email:<span class="dp">·</span>AntoineDaurat<span class="dp">·</span>&lt;ktonalberlin@gmail.com&gt;</td></tr>
<tr class="diffunmodified"><td class="diffline">7 </td><td class="diffpresent">License:<span class="dp">·</span>Copyright<span class="dp">·</span>(c)<span class="dp">·</span>2023<span class="dp">·</span>AntoineDaurat</td><td class="diffline">7 </td><td class="diffpresent">License:<span class="dp">·</span>Copyright<span class="dp">·</span>(c)<span class="dp">·</span>2023<span class="dp">·</span>AntoineDaurat</td></tr>
<tr class="diffunmodified"><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>All<span class="dp">·</span>rights<span class="dp">·</span>reserved.</td><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>All<span class="dp">·</span>rights<span class="dp">·</span>reserved.</td></tr>
<tr class="diffunmodified"><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></td><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></td></tr>
<tr class="diffunmodified"><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Redistribution<span class="dp">·</span>and<span class="dp">·</span>use<span class="dp">·</span>in<span class="dp">·</span>source<span class="dp">·</span>and<span class="dp">·</span>binary<span class="dp">·</span>forms,<span class="dp">·</span>with<span class="dp">·</span>or<span class="dp">·</span>without</td><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Redistribution<span class="dp">·</span>and<span class="dp">·</span>use<span class="dp">·</span>in<span class="dp">·</span>source<span class="dp">·</span>and<span class="dp">·</span>binary<span class="dp">·</span>forms,<span class="dp">·</span>with<span class="dp">·</span>or<span class="dp">·</span>without</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 132, 17 lines modified</td><td colspan="2">Offset 132, 23 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">132 </td><td class="diffpresent">```</td><td class="diffline">132 </td><td class="diffpresent">```</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">133 </td><td class="diffpresent">After<span class="dp">·</span>a<span class="dp">·</span>change<span class="dp">·</span>wait<span class="dp">·</span>for<span class="dp">·</span>the<span class="dp">·</span>build<span class="dp">·</span>to<span class="dp">·</span>finish<span class="dp">·</span>and<span class="dp">·</span>then<span class="dp">·</span>refresh<span class="dp">·</span>your<span class="dp">·</span>browser<span class="dp">·</span>and<span class="dp">·</span>the<span class="dp">·</span>changes<span class="dp">·</span>should<span class="dp">·</span>take<span class="dp">·</span>effect.</td><td class="diffline">133 </td><td class="diffpresent">After<span class="dp">·</span>a<span class="dp">·</span>change<span class="dp">·</span>wait<span class="dp">·</span>for<span class="dp">·</span>the<span class="dp">·</span>build<span class="dp">·</span>to<span class="dp">·</span>finish<span class="dp">·</span>and<span class="dp">·</span>then<span class="dp">·</span>refresh<span class="dp">·</span>your<span class="dp">·</span>browser<span class="dp">·</span>and<span class="dp">·</span>the<span class="dp">·</span>changes<span class="dp">·</span>should<span class="dp">·</span>take<span class="dp">·</span>effect.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">134 </td><td class="diffpresent">####<span class="dp">·</span>Python:</td><td class="diffline">134 </td><td class="diffpresent">####<span class="dp">·</span>Python:</td></tr>
<tr class="diffunmodified"><td class="diffline">135 </td><td class="diffpresent">If<span class="dp">·</span>you<span class="dp">·</span>make<span class="dp">·</span>a<span class="dp">·</span>change<span class="dp">·</span>to<span class="dp">·</span>the<span class="dp">·</span>python<span class="dp">·</span>code<span class="dp">·</span>then<span class="dp">·</span>you<span class="dp">·</span>will<span class="dp">·</span>need<span class="dp">·</span>to<span class="dp">·</span>restart<span class="dp">·</span>the<span class="dp">·</span>notebook<span class="dp">·</span>kernel<span class="dp">·</span>to<span class="dp">·</span>have<span class="dp">·</span>it<span class="dp">·</span>take<span class="dp">·</span>effect.</td><td class="diffline">135 </td><td class="diffpresent">If<span class="dp">·</span>you<span class="dp">·</span>make<span class="dp">·</span>a<span class="dp">·</span>change<span class="dp">·</span>to<span class="dp">·</span>the<span class="dp">·</span>python<span class="dp">·</span>code<span class="dp">·</span>then<span class="dp">·</span>you<span class="dp">·</span>will<span class="dp">·</span>need<span class="dp">·</span>to<span class="dp">·</span>restart<span class="dp">·</span>the<span class="dp">·</span>notebook<span class="dp">·</span>kernel<span class="dp">·</span>to<span class="dp">·</span>have<span class="dp">·</span>it<span class="dp">·</span>take<span class="dp">·</span>effect.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">136 </td><td class="diffpresent">##<span class="dp">·</span><del>U</del><del>pdat</del>i<del>ng</del><span class="dp">·</span>the<span class="dp">·</span><del>version</del></td><td class="diffline">136 </td><td class="diffpresent">##<span class="dp">·</span><ins>Publ</ins>i<ins>sh</ins><span class="dp">·</span>the<span class="dp">·</span><ins>package</ins></td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">137 </td><td class="diffpresent"><del>To<span class="dp">·</span></del>upd<del>ate<span class="dp">·</span>the<span class="dp">·</span>version,<span class="dp">·</span>inst</del>a<del>ll<span class="dp">·</span></del>t<del>bump<span class="dp">·</span>and<span class="dp">·</span>us</del>e<del><span class="dp">·</span>it<span class="dp">·</span>to<span class="dp">·</span>bump</del><span class="dp">·</span>the<span class="dp">·</span>version.</td><td class="diffline">137 </td><td class="diffpresent">update<span class="dp">·</span>the<span class="dp">·</span>version.</td></tr>
<tr class="diffunmodified"><td class="diffline">138 </td><td class="diffpresent">By<span class="dp">·</span>default<span class="dp">·</span>it<span class="dp">·</span>will<span class="dp">·</span>also<span class="dp">·</span>create<span class="dp">·</span>a<span class="dp">·</span>tag.</td><td class="diffline">138 </td><td class="diffpresent">By<span class="dp">·</span>default<span class="dp">·</span>it<span class="dp">·</span>will<span class="dp">·</span>also<span class="dp">·</span>create<span class="dp">·</span>a<span class="dp">·</span>tag.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">139 </td><td class="diffpresent">```bash</td><td class="diffline">139 </td><td class="diffpresent">```bash</td></tr>
<tr class="diffunmodified"><td class="diffline">140 </td><td class="diffpresent">pip<span class="dp">·</span>install<span class="dp">·</span>tbump</td><td class="diffline">140 </td><td class="diffpresent">pip<span class="dp">·</span>install<span class="dp">·</span>tbump</td></tr>
<tr class="diffunmodified"><td class="diffline">141 </td><td class="diffpresent">tbump<span class="dp">·</span>&lt;new-version&gt;</td><td class="diffline">141 </td><td class="diffpresent">tbump<span class="dp">·</span>&lt;new-version&gt;</td></tr>
<tr class="diffunmodified"><td class="diffline">142 </td><td class="diffpresent">```</td><td class="diffline">142 </td><td class="diffpresent">```</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">143 </td><td class="diffpresent">```bash</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">144 </td><td class="diffpresent">yarn<span class="dp">·</span>run<span class="dp">·</span>clean<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>yarn<span class="dp">·</span>install</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">145 </td><td class="diffpresent">yarn<span class="dp">·</span>run<span class="dp">·</span>build:prod</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">146 </td><td class="diffpresent">pyproject-build<span class="dp">·</span>.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">147 </td><td class="diffpresent">twine<span class="dp">·</span>upload<span class="dp">·</span>dist/*<span class="dp">·</span>-u<span class="dp">·</span>k-tonal</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">148 </td><td class="diffpresent">```</td></tr>
</table>    </div>
  </div>
</div>
<div class="footer">
Generated by
<a href="https://diffoscope.org" rel="noopener noreferrer" target="_blank">
diffoscope</a> 238
</div>
</body>
</html>

