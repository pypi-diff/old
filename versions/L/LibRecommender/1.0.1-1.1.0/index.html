<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="x-ua-compatible" content="IE=edge">
  <meta name="referrer" content="no-referrer" />
  <meta name="generator" content="diffoscope" />
  <link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAADdgAAA3YBfdWCzAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAM8SURBVFiF7dZdaJZlGAfw3/O+e9XNjy3XllZzWImBxIpifqTgsmUHBSIeBNFBdRh0UHQ0xGdb66CFBIERZEFRQRRUw0HkQkLMYQSBdpCFWdgSP6jpNn2393k68Nn2bj3vXtb6UOh/cl/39b/u67mem/913zf/4z9GUDw5xNI8n5WIzW9m/QF2YluJmI8203mALzEvLWAerRs4Pz6vSIkZSlsYk0/GkaB0zEgyDgWMlijyWsJuS2fkQwu8pqpMTA0ypeiShG71Bp0rU8Q+A47MWEDgvHZbZl/Av4SpIgxVYB3IqwZDmoUuYkzosDaNchpAoFqkSmgjGPWzLieF1k3JHVsjvCJQHBYaSy9g1E3m+QImQiK9SbNGqJDzuiDZ0lggQJCsyelDq8BB47sbCWTsnvhG3kqcLL833eqF4hk1EOoTOjZjnnaRdq2l6KtMAyl4/g23bKJrun+Mt9uOq7nvqOVbebWYy9Adc1fM/R/3CO780dONbIeFPHsPw+ULeM5ZHTbXHfUtXpxOZzgT5z02UGsZThRzF/ilht9G+fr4zfbfccIxXIa7uVTup69i7LJXaEEqF3on1d9ludBLpVLOVoT1lky9QYtwQ6p3WAVqSyUslWwSbRrkPJrMtgn0iBVk7BPJ4sGE24EPQKW3jLgdzWKLBTbg0yTuZeGkDsp2gcUGDesHGQ/gK5G8nLMigWiCe3jCrnTRiJ9EYjm1ImsUEq5l8hScPXbpsVtlKhfan+pv0yD0ZqmU5XegGBmnDIo/pylj8oYLOP3Eab/v5Zmi6EtZ3vv1FU/2r7LioYSL2dNybbdiMdptFU57++20Vqh+iq/Tap1WpaWY611wmyWyUzxZDbIWTvEV1Ildn5agfBumoUMTtoisFvhebAAHZWxX0ChwTuScvHdVeVykToysMyJ7ittwbmj31J+6IrRDp5XTfBt1WJ+WYnZdMB0F3xlUgD5uDVj2Sa+a4SrzH+FeyHHmw17V112waBOZgP4WczkLZsILar1fpIliMU4XZoK/poE0XHl+N8v6QcGAUbVymnDIZVnzrTXqGzmnhKLxZX/niyiDjIJgwg4Se1GR/Y8idGPysh6fr0i1i/AHMWHgrwUJgNAAAAAASUVORK5CYII=" />
  <title>/srv/diffoscope/bin/diffoscope --no-progress tmp/LibRecommender-1.0.1.tar.gz tmp/LibRecommender-1.1.0.tar.gz --html versions/L/LibRecommender/1.0.1-1.1.0/index.html --text versions/L/LibRecommender/1.0.1-1.1.0/diff.txt --markdown versions/L/LibRecommender/1.0.1-1.1.0/diff.md</title>
<style>
body.diffoscope {
  background: white;
  color: black;
}
.diffoscope .footer {
  font-size: small;
}
.diffoscope .difference {
  border: outset #888 1px;
  background: #E8E8E8;
  background: rgba(0,0,0,.1);
  padding: 0.5em;
  margin: 0.5em 0;
}
.diffoscope .difference table {
  table-layout: fixed;
  width: 100%;
  border: 0;
}
.diffoscope .difference th,
.diffoscope .difference td {
  border: 0;
}
.diffoscope table.diff {
  border: 0;
  border-collapse:collapse;
  font-size:0.75em;
  font-family: 'Lucida Console', monospace;
  word-break: break-word;
}
.diffoscope table.diff tr:hover td {
  background: #FFFF00;
}
.diffoscope .line {
  color:#8080a0
}
.diffoscope th {
  background: black;
  color: white
}
.diffoscope .diffunmodified td {
  background: #D0D0E0
}
.diffoscope .diffhunk td {
  background: #A0A0A0
}
.diffoscope .diffadded td {
  background: #CCFFCC
}
.diffoscope .diffdeleted td {
  background: #FFCCCC
}
.diffoscope .diffchanged td {
  background: #FFFFA0
}
.diffoscope ins, del {
  background: #E0C880;
  text-decoration: none
}
.diffoscope .dp {
  color: #B08080
}
.diffoscope .comment {
  font-style: italic;
}
.diffoscope .comment.multiline {
  font-style: normal;
  font-family: monospace;
  white-space: pre;
}
.diffoscope .source {
  font-weight: bold;
}
.diffoscope .error {
  border: solid black 1px;
  background: red;
  color: white;
  padding: 0.2em;
}
.diffoscope .anchor {
  margin-left: 0.5em;
  font-size: 80%;
  color: #333;
  text-decoration: none;
  display: none;
}
.diffoscope .diffheader:hover .anchor {
  display: inline;
}
.diffoscope .diffcontrol, .diffoscope .diffcontrol-nochildren {
  float: left;
  margin-right: 0.3em;
  cursor: pointer;
  display: none; /* currently, only available in html-dir output where jquery is enabled */
}
.diffoscope .colines {
  width: 3em;
}
.diffoscope .coldiff {
  width: 99%;
}
.diffoscope .diffsize {
  float: right;
}
.diffoscope table.diff tr.ondemand td, .diffoscope div.ondemand-details {
  background: #f99;
  text-align: center;
  padding: 0.5em 0;
}
.diffoscope table.diff tr.ondemand:hover td, .diffoscope div.ondemand-details:hover {
  background: #faa;
  cursor: pointer;
}
</style>
</head>
<body class="diffoscope">
<div class="difference">
  <div class="diffheader">
  <div class="diffcontrol diffcontrol-double">⊟</div>
  <div><span class="diffsize">579 KB</span></div>
  <div><span class="source">tmp/LibRecommender-1.0.1.tar.gz</span> vs.</div>
  <div id="top"><span class="source">tmp/LibRecommender-1.1.0.tar.gz</span>
    <a class="anchor" href="#top">¶</a>
  </div>
  </div>
  <div class="difference">
    <div class="diffheader">
    <div class="diffcontrol">⊟</div>
    <div><span class="diffsize">278 B</span></div>
    <div id="filetype-from-file---"><span class="source">filetype from file(1)</span>
      <a class="anchor" href="#filetype-from-file---">¶</a>
    </div>
    </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 1 lines modified</td><td colspan="2">Offset 1, 1 lines modified</td></tr>
<tr class="diffchanged"><td class="diffline">1 </td><td class="diffpresent">gzip<span class="dp">·</span>compressed<span class="dp">·</span>data,<span class="dp">·</span>was<span class="dp">·</span>&quot;LibRecommender-1.<del>0</del>.<del>1</del>.tar&quot;,<span class="dp">·</span>last<span class="dp">·</span>modified:<span class="dp">·</span><del>Mon</del><span class="dp">·</span><del>Feb</del><span class="dp">·</span><del>20</del><span class="dp">·</span><del>14</del>:<del>1</del>0:<del>50</del><span class="dp">·</span>2023,<span class="dp">·</span>max<span class="dp">·</span>compression</td><td class="diffline">1 </td><td class="diffpresent">gzip<span class="dp">·</span>compressed<span class="dp">·</span>data,<span class="dp">·</span>was<span class="dp">·</span>&quot;LibRecommender-1.<ins>1</ins>.<ins>0</ins>.tar&quot;,<span class="dp">·</span>last<span class="dp">·</span>modified:<span class="dp">·</span><ins>Thu</ins><span class="dp">·</span><ins>Apr</ins><span class="dp">·</span><ins><span class="dp">·</span>6</ins><span class="dp">·</span><ins>09</ins>:<ins>0</ins>0:<ins>37</ins><span class="dp">·</span>2023,<span class="dp">·</span>max<span class="dp">·</span>compression</td></tr>
</table>  </div>
  <div class="difference">
    <div class="diffheader">
    <div class="diffcontrol diffcontrol-double">⊟</div>
    <div><span class="diffsize">578 KB</span></div>
    <div><span class="source">LibRecommender-1.0.1.tar</span> vs.</div>
    <div id="LibRecommender--.-.-.tar"><span class="source">LibRecommender-1.1.0.tar</span>
      <a class="anchor" href="#LibRecommender--.-.-.tar">¶</a>
    </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol">⊟</div>
      <div><span class="diffsize">41.2 KB</span></div>
      <div id="LibRecommender--.-.-.tar---file-list"><span class="source">file list</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---file-list">¶</a>
      </div>
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 150 lines modified</td><td colspan="2">Offset 1, 163 lines modified</td></tr>
<tr class="diffchanged"><td class="diffline">1 </td><td class="diffpresent">drwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>1</del>0:<del>50</del>.<del>554699</del><span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/</td><td class="diffline">1 </td><td class="diffpresent">drwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>09</ins>:<ins>0</ins>0:<ins>37</ins>.<ins>182230</ins><span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/</td></tr>
<tr class="diffchanged"><td class="diffline">2 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1083<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/LICENSE</td><td class="diffline">2 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1083<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/LICENSE</td></tr>
<tr class="diffchanged"><td class="diffline">3 </td><td class="diffpresent">drwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>1</del>0:<del>50</del>.<del>5</del>14<del>69</del>9<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/LibRecommender.egg-info/</td><td class="diffline">3 </td><td class="diffpresent">drwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>09</ins>:<ins>0</ins>0:<ins>37</ins>.<ins>1</ins>14<ins>22</ins>9<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/LibRecommender.egg-info/</td></tr>
<tr class="diffchanged"><td class="diffline">4 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>28<del>560</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>1</del>0:<del>50</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/LibRecommender.egg-info/PKG-INFO</td><td class="diffline">4 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>28<ins>129</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>09</ins>:<ins>0</ins>0:<ins>37</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/LibRecommender.egg-info/PKG-INFO</td></tr>
<tr class="diffchanged"><td class="diffline">5 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>3767</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>1</del>0:<del>50</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/LibRecommender.egg-info/SOURCES.txt</td><td class="diffline">5 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>4103</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>09</ins>:<ins>0</ins>0:<ins>37</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/LibRecommender.egg-info/SOURCES.txt</td></tr>
<tr class="diffchanged"><td class="diffline">6 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>1</del>0:<del>50</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/LibRecommender.egg-info/dependency_links.txt</td><td class="diffline">6 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>09</ins>:<ins>0</ins>0:<ins>37</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/LibRecommender.egg-info/dependency_links.txt</td></tr>
<tr class="diffchanged"><td class="diffline">7 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>19<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>1</del>0:<del>50</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/LibRecommender.egg-info/requires.txt</td><td class="diffline">7 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>19<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>09</ins>:<ins>0</ins>0:<ins>37</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/LibRecommender.egg-info/requires.txt</td></tr>
<tr class="diffchanged"><td class="diffline">8 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>19<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>1</del>0:<del>50</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/LibRecommender.egg-info/top_level.txt</td><td class="diffline">8 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>19<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>09</ins>:<ins>0</ins>0:<ins>37</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/LibRecommender.egg-info/top_level.txt</td></tr>
<tr class="diffchanged"><td class="diffline">9 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>252<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/MANIFEST.in</td><td class="diffline">9 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>252<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/MANIFEST.in</td></tr>
<tr class="diffchanged"><td class="diffline">10 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>28<del>560</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>1</del>0:<del>50</del>.<del>558699</del><span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/PKG-INFO</td><td class="diffline">10 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>28<ins>129</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>09</ins>:<ins>0</ins>0:<ins>37</ins>.<ins>182230</ins><span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/PKG-INFO</td></tr>
<tr class="diffchanged"><td class="diffline">11 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>27<del>484</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/README.md</td><td class="diffline">11 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>27<ins>012</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/README.md</td></tr>
<tr class="diffchanged"><td class="diffline">12 </td><td class="diffpresent">drwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>1</del>0:<del>50</del>.<del>5</del>14<del>69</del>9<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/</td><td class="diffline">12 </td><td class="diffpresent">drwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>09</ins>:<ins>0</ins>0:<ins>37</ins>.<ins>1</ins>14<ins>22</ins>9<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/</td></tr>
<tr class="diffchanged"><td class="diffline">13 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>22<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/__init__.py</td><td class="diffline">13 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>22<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/__init__.py</td></tr>
<tr class="diffchanged"><td class="diffline">14 </td><td class="diffpresent">drwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>1</del>0:<del>50</del>.<del>5</del>26<del>69</del>9<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/algorithms/</td><td class="diffline">14 </td><td class="diffpresent">drwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>09</ins>:<ins>0</ins>0:<ins>37</ins>.<ins>1</ins>26<ins>22</ins>9<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/algorithms/</td></tr>
<tr class="diffchanged"><td class="diffline">15 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1108<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/algorithms/__init__.py</td><td class="diffline">15 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1108<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/algorithms/__init__.py</td></tr>
<tr class="diffchanged"><td class="diffline">16 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>9483<del>14</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>1</del>0:<del>47</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/algorithms/_als.cpp</td><td class="diffline">16 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>9483<ins>77</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>09</ins>:<ins>0</ins>0:<ins>33</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/algorithms/_als.cpp</td></tr>
<tr class="diffchanged"><td class="diffline">17 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>8810<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/algorithms/_als.pyx</td><td class="diffline">17 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>8810<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/algorithms/_als.pyx</td></tr>
<tr class="diffchanged"><td class="diffline">18 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span>100<del>5286</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>1</del>0:<del>48</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/algorithms/_bpr.cpp</td><td class="diffline">18 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span>100<ins>6940</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>09</ins>:<ins>0</ins>0:<ins>34</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/algorithms/_bpr.cpp</td></tr>
<tr class="diffchanged"><td class="diffline">19 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>16314<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/algorithms/_bpr.pyx</td><td class="diffline">19 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>16314<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/algorithms/_bpr.pyx</td></tr>
<tr class="diffchanged"><td class="diffline">20 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>11<del>096</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/algorithms/als.py</td><td class="diffline">20 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>11<ins>324</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/algorithms/als.py</td></tr>
<tr class="diffchanged"><td class="diffline">21 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1<del>0944</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/algorithms/autoint.py</td><td class="diffline">21 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1<ins>1397</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/algorithms/autoint.py</td></tr>
<tr class="diffchanged"><td class="diffline">22 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1<del>2608</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/algorithms/bpr.py</td><td class="diffline">22 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1<ins>3580</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/algorithms/bpr.py</td></tr>
<tr class="diffchanged"><td class="diffline">23 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>8<del>985</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/algorithms/caser.py</td><td class="diffline">23 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>8<ins>247</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/algorithms/caser.py</td></tr>
<tr class="diffchanged"><td class="diffline">24 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1<del>1706</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/algorithms/deepfm.py</td><td class="diffline">24 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1<ins>2159</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/algorithms/deepfm.py</td></tr>
<tr class="diffchanged"><td class="diffline">25 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>3609<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/algorithms/deepwalk.py</td><td class="diffline">25 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>3609<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/algorithms/deepwalk.py</td></tr>
<tr class="diffchanged"><td class="diffline">26 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>16<del>904</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/algorithms/din.py</td><td class="diffline">26 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>16<ins>879</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/algorithms/din.py</td></tr>
<tr class="diffchanged"><td class="diffline">27 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>11<del>037</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/algorithms/fm.py</td><td class="diffline">27 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>11<ins>490</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/algorithms/fm.py</td></tr>
<tr class="diffchanged"><td class="diffline">28 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>108</del>6<del>6</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/algorithms/graphsage.py</td><td class="diffline">28 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins><span class="dp">·</span>63</ins>6<ins>4</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/algorithms/graphsage.py</td></tr>
<tr class="diffchanged"><td class="diffline">29 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>12</del>5<del>87</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/algorithms/graphsage_dgl.py</td><td class="diffline">29 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins><span class="dp">·</span>7</ins>5<ins>35</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/algorithms/graphsage_dgl.py</td></tr>
<tr class="diffchanged"><td class="diffline">30 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>2579<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/algorithms/item2vec.py</td><td class="diffline">30 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>2579<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/algorithms/item2vec.py</td></tr>
<tr class="diffchanged"><td class="diffline">31 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>6082<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/algorithms/item_cf.py</td><td class="diffline">31 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>6082<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/algorithms/item_cf.py</td></tr>
<tr class="diffchanged"><td class="diffline">32 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>4725<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/algorithms/lightgcn.py</td><td class="diffline">32 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>4725<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/algorithms/lightgcn.py</td></tr>
<tr class="diffchanged"><td class="diffline">33 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>9209</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/algorithms/ncf.py</td><td class="diffline">33 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>6148</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/algorithms/ncf.py</td></tr>
<tr class="diffchanged"><td class="diffline">34 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>5062<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/algorithms/ngcf.py</td><td class="diffline">34 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>5062<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/algorithms/ngcf.py</td></tr>
<tr class="diffchanged"><td class="diffline">35 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>10305</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/algorithms/pinsage.py</td><td class="diffline">35 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins><span class="dp">·</span>6749</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/algorithms/pinsage.py</td></tr>
<tr class="diffchanged"><td class="diffline">36 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>7<del>494</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/algorithms/pinsage_dgl.py</td><td class="diffline">36 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>7<ins>210</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/algorithms/pinsage_dgl.py</td></tr>
<tr class="diffchanged"><td class="diffline">37 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>9268</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/algorithms/rnn4rec.py</td><td class="diffline">37 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>8733</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/algorithms/rnn4rec.py</td></tr>
<tr class="diffchanged"><td class="diffline">38 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>5<del>015</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/algorithms/svd.py</td><td class="diffline">38 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>5<ins>438</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/algorithms/svd.py</td></tr>
<tr class="diffchanged"><td class="diffline">39 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>6945</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/algorithms/svdpp.py</td><td class="diffline">39 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>7620</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/algorithms/svdpp.py</td></tr>
<tr class="diffchanged"><td class="diffline">40 </td><td class="diffpresent">drwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>1</del>0:<del>50</del>.<del>52669</del>9<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/algorithms/torch_modules/</td><td class="diffline">40 </td><td class="diffpresent">drwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>09</ins>:<ins>0</ins>0:<ins>37</ins>.<ins>13022</ins>9<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/algorithms/torch_modules/</td></tr>
<tr class="diffchanged"><td class="diffline">41 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>343<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/algorithms/torch_modules/__init__.py</td><td class="diffline">41 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>343<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/algorithms/torch_modules/__init__.py</td></tr>
<tr class="diffchanged"><td class="diffline">42 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>6<del>585</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/algorithms/torch_modules/graphsage_module.py</td><td class="diffline">42 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>6<ins>726</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/algorithms/torch_modules/graphsage_module.py</td></tr>
<tr class="diffchanged"><td class="diffline">43 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>35<del>8</del>0<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/algorithms/torch_modules/lightgcn_module.py</td><td class="diffline">43 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>35<ins>6</ins>0<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/algorithms/torch_modules/lightgcn_module.py</td></tr>
<tr class="diffchanged"><td class="diffline">44 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>52<del>6</del>0<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/algorithms/torch_modules/ngcf_module.py</td><td class="diffline">44 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>52<ins>4</ins>0<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/algorithms/torch_modules/ngcf_module.py</td></tr>
<tr class="diffchanged"><td class="diffline">45 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>7<del>816</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/algorithms/torch_modules/pinsage_module.py</td><td class="diffline">45 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>7<ins>945</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/algorithms/torch_modules/pinsage_module.py</td></tr>
<tr class="diffchanged"><td class="diffline">46 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>67<del>7</del>9<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/algorithms/user_cf.py</td><td class="diffline">46 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>67<ins>9</ins>9<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/algorithms/user_cf.py</td></tr>
<tr class="diffchanged"><td class="diffline">47 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>8742</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/algorithms/wave_net.py</td><td class="diffline">47 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>7960</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/algorithms/wave_net.py</td></tr>
<tr class="diffchanged"><td class="diffline">48 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>11<del>492</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/algorithms/wide_deep.py</td><td class="diffline">48 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>11<ins>945</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/algorithms/wide_deep.py</td></tr>
<tr class="diffchanged"><td class="diffline">49 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1<del>0623</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/algorithms/youtube_ranking.py</td><td class="diffline">49 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1<ins>1077</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/algorithms/youtube_ranking.py</td></tr>
<tr class="diffchanged"><td class="diffline">50 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>12<del>6</del>9<del>1</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/algorithms/youtube_retrieval.py</td><td class="diffline">50 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>12<ins>7</ins>9<ins>7</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/algorithms/youtube_retrieval.py</td></tr>
<tr class="diffchanged"><td class="diffline">51 </td><td class="diffpresent">drwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>1</del>0:<del>50</del>.<del>5</del>3<del>0699</del><span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/bases/</td><td class="diffline">51 </td><td class="diffpresent">drwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>09</ins>:<ins>0</ins>0:<ins>37</ins>.<ins>1</ins>3<ins>4230</ins><span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/bases/</td></tr>
<tr class="diffchanged"><td class="diffline">52 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>2</del>8<del>4</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/bases/__init__.py</td><td class="diffline">52 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>3</ins>8<ins>7</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/bases/__init__.py</td></tr>
<tr class="diffchanged"><td class="diffline">53 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>4<del>607</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/bases/base.py</td><td class="diffline">53 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>4<ins>731</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/bases/base.py</td></tr>
<tr class="diffchanged"><td class="diffline">54 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1<del>2659</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/bases/cf_base.py</td><td class="diffline">54 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1<ins>3085</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/bases/cf_base.py</td></tr>
<tr class="diffchanged"><td class="diffline">55 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1<del>7494</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/bases/embed_base.py</td><td class="diffline">55 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1<ins>9006</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/bases/embed_base.py</td></tr>
<tr class="diffchanged"><td class="diffline">56 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>4<del>618</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/bases/gensim_base.py</td><td class="diffline">56 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>4<ins>865</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/bases/gensim_base.py</td></tr>
<tr class="diffchanged"><td class="diffline">57 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>545<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/bases/meta.py</td><td class="diffline">57 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>545<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/bases/meta.py</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">58 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>5920<span class="dp">·</span>2023-04-06<span class="dp">·</span>08:59:10.000000<span class="dp">·</span>LibRecommender-1.1.0/libreco/bases/sage_base.py</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">59 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>2853<span class="dp">·</span>2023-04-06<span class="dp">·</span>08:59:10.000000<span class="dp">·</span>LibRecommender-1.1.0/libreco/bases/seq_base.py</td></tr>
<tr class="diffchanged"><td class="diffline">58 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1<del>1750</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/bases/tf_base.py</td><td class="diffline">60 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1<ins>3317</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/bases/tf_base.py</td></tr>
<tr class="diffchanged"><td class="diffline">59 </td><td class="diffpresent">drwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>1</del>0:<del>50</del>.<del>5</del>3<del>469</del>9<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/<del>d</del>at<del>a</del>/</td><td class="diffline">61 </td><td class="diffpresent">drwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>09</ins>:<ins>0</ins>0:<ins>37</ins>.<ins>1</ins>3<ins>822</ins>9<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/<ins>b</ins>at<ins>c</ins><ins>h</ins>/</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">62 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>169<span class="dp">·</span>2023-04-06<span class="dp">·</span>08:59:10.000000<span class="dp">·</span>LibRecommender-1.1.0/libreco/batch/__init__.py</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">63 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>3940<span class="dp">·</span>2023-04-06<span class="dp">·</span>08:59:10.000000<span class="dp">·</span>LibRecommender-1.1.0/libreco/batch/batch_data.py</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">64 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>5495<span class="dp">·</span>2023-04-06<span class="dp">·</span>08:59:10.000000<span class="dp">·</span>LibRecommender-1.1.0/libreco/batch/batch_unit.py</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">65 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>17782<span class="dp">·</span>2023-04-06<span class="dp">·</span>08:59:10.000000<span class="dp">·</span>LibRecommender-1.1.0/libreco/batch/collators.py</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">66 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>153<span class="dp">·</span>2023-04-06<span class="dp">·</span>08:59:10.000000<span class="dp">·</span>LibRecommender-1.1.0/libreco/batch/enums.py</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">67 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>3475<span class="dp">·</span>2023-04-06<span class="dp">·</span>08:59:10.000000<span class="dp">·</span>LibRecommender-1.1.0/libreco/batch/sequence.py</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">68 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>2642<span class="dp">·</span>2023-04-06<span class="dp">·</span>08:59:10.000000<span class="dp">·</span>LibRecommender-1.1.0/libreco/batch/tf_feed_dicts.py</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">69 </td><td class="diffpresent">drwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>2023-04-06<span class="dp">·</span>09:00:37.142230<span class="dp">·</span>LibRecommender-1.1.0/libreco/data/</td></tr>
<tr class="diffchanged"><td class="diffline">60 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>599<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/data/__init__.py</td><td class="diffline">70 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>599<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/data/__init__.py</td></tr>
<tr class="diffchanged"><td class="diffline">61 </td><td class="diffpresent">-rw<del>x</del>r-<del>x</del>r-<del>x</del><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>6528</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/data/<del>data_</del><del>ge</del>n<del>e</del><del>rator</del>.py</td><td class="diffline">71 </td><td class="diffpresent">-rw<ins>-</ins>r-<ins>-</ins>r-<ins>-</ins><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>2432</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/data/<ins>co</ins>n<ins>sumed</ins>.py</td></tr>
<tr class="diffchanged"><td class="diffline">62 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>2<del>790</del>3<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/data/data_info.py</td><td class="diffline">72 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>2<ins>084</ins>3<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/data/data_info.py</td></tr>
<tr class="diffchanged"><td class="diffline">63 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>2<del>329</del>2<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/data/dataset.py</td><td class="diffline">73 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>2<ins>642</ins>2<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/data/dataset.py</td></tr>
<tr class="diffchanged"><td class="diffline">64 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>4</del>59<del>1</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/data/processing.py</td><td class="diffline">74 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>59<ins>4</ins><ins>7</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/data/processing.py</td></tr>
<tr class="diffdeleted"><td class="diffline">65 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>4055<span class="dp">·</span>2023-02-20<span class="dp">·</span>14:09:31.000000<span class="dp">·</span>LibRecommender-1.0.1/libreco/data/sequence.py</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">66 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>13<del>797</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/data/split.py</td><td class="diffline">75 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>13<ins>829</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/data/split.py</td></tr>
<tr class="diffchanged"><td class="diffline">67 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>47<del>90</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/data/transformed.py</td><td class="diffline">76 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>47<ins>85</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/data/transformed.py</td></tr>
<tr class="diffchanged"><td class="diffline">68 </td><td class="diffpresent">drwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>1</del>0:<del>50</del>.<del>534699</del><span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/embedding/</td><td class="diffline">77 </td><td class="diffpresent">drwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>09</ins>:<ins>0</ins>0:<ins>37</ins>.<ins>142230</ins><span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/embedding/</td></tr>
<tr class="diffchanged"><td class="diffline">69 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/embedding/__init__.py</td><td class="diffline">78 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/embedding/__init__.py</td></tr>
<tr class="diffchanged"><td class="diffline">70 </td><td class="diffpresent">drwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>1</del>0:<del>50</del>.<del>5</del><del>3</del>46<del>99</del><span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/evaluation/</td><td class="diffline">79 </td><td class="diffpresent">drwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>09</ins>:<ins>0</ins>0:<ins>37</ins>.<ins>1</ins>46<ins>2</ins><ins>30</ins><span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/evaluation/</td></tr>
<tr class="diffchanged"><td class="diffline">71 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>87<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/evaluation/__init__.py</td><td class="diffline">80 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>87<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/evaluation/__init__.py</td></tr>
<tr class="diffchanged"><td class="diffline">72 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>4</del>8<del>78</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/evaluation/computation.py</td><td class="diffline">81 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>1</ins>8<ins>96</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/evaluation/computation.py</td></tr>
<tr class="diffchanged"><td class="diffline">73 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>9636</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/evaluation/evaluate.py</td><td class="diffline">82 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>5974</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/evaluation/evaluate.py</td></tr>
<tr class="diffchanged"><td class="diffline">74 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>2<del>610</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/evaluation/metrics.py</td><td class="diffline">83 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>2<ins>259</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/evaluation/metrics.py</td></tr>
<tr class="diffchanged"><td class="diffline">75 </td><td class="diffpresent">drwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>1</del>0:<del>50</del>.<del>5</del><del>3</del>46<del>99</del><span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/feature/</td><td class="diffline">84 </td><td class="diffpresent">drwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>09</ins>:<ins>0</ins>0:<ins>37</ins>.<ins>1</ins>46<ins>2</ins><ins>30</ins><span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/feature/</td></tr>
<tr class="diffchanged"><td class="diffline">76 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>1073</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/feature/__init__.py</td><td class="diffline">85 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/feature/__init__.py</td></tr>
<tr class="diffdeleted"><td class="diffline">77 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>10016<span class="dp">·</span>2023-02-20<span class="dp">·</span>14:09:31.000000<span class="dp">·</span>LibRecommender-1.0.1/libreco/feature/column.py</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">78 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>19<del>93</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/feature/column_mapping.py</td><td class="diffline">86 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>19<ins>79</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/feature/column_mapping.py</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">87 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>5187<span class="dp">·</span>2023-04-06<span class="dp">·</span>08:59:10.000000<span class="dp">·</span>LibRecommender-1.1.0/libreco/feature/multi_sparse.py</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">88 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>7384<span class="dp">·</span>2023-04-06<span class="dp">·</span>08:59:10.000000<span class="dp">·</span>LibRecommender-1.1.0/libreco/feature/sparse.py</td></tr>
<tr class="diffchanged"><td class="diffline">79 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>1347</del>7<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/feature/uniq<del>ue_feat</del>u<del>r</del>e<del>s</del>.py</td><td class="diffline">89 </td><td class="diffpresent">-rwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins><span class="dp">·</span>216</ins>7<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/feature/unique.py</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">90 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>8111<span class="dp">·</span>2023-04-06<span class="dp">·</span>08:59:10.000000<span class="dp">·</span>LibRecommender-1.1.0/libreco/feature/update.py</td></tr>
<tr class="diffchanged"><td class="diffline">80 </td><td class="diffpresent">drwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>1</del>0:<del>50</del>.<del>538699</del><span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/graph/</td><td class="diffline">91 </td><td class="diffpresent">drwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>09</ins>:<ins>0</ins>0:<ins>37</ins>.<ins>150230</ins><span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/graph/</td></tr>
<tr class="diffchanged"><td class="diffline">81 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>29</del>1<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/graph/__init__.py</td><td class="diffline">92 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>51</ins>1<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/graph/__init__.py</td></tr>
<tr class="diffchanged"><td class="diffline">82 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>3445</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/graph/from_dgl.py</td><td class="diffline">93 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>4594</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/graph/from_dgl.py</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">94 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>4371<span class="dp">·</span>2023-04-06<span class="dp">·</span>08:59:10.000000<span class="dp">·</span>LibRecommender-1.1.0/libreco/graph/message.py</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">95 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>6505<span class="dp">·</span>2023-04-06<span class="dp">·</span>08:59:10.000000<span class="dp">·</span>LibRecommender-1.1.0/libreco/graph/neighbor_walk.py</td></tr>
<tr class="diffchanged"><td class="diffline">83 </td><td class="diffpresent">drwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>1</del>0:<del>50</del>.<del>538699</del><span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/prediction/</td><td class="diffline">96 </td><td class="diffpresent">drwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>09</ins>:<ins>0</ins>0:<ins>37</ins>.<ins>150230</ins><span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/prediction/</td></tr>
<tr class="diffchanged"><td class="diffline">84 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>256<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/prediction/__init__.py</td><td class="diffline">97 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>256<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/prediction/__init__.py</td></tr>
<tr class="diffchanged"><td class="diffline">85 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>4<del>707</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/prediction/predict.py</td><td class="diffline">98 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>4<ins>016</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/prediction/predict.py</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">99 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>5571<span class="dp">·</span>2023-04-06<span class="dp">·</span>08:59:10.000000<span class="dp">·</span>LibRecommender-1.1.0/libreco/prediction/preprocess.py</td></tr>
<tr class="diffchanged"><td class="diffline">86 </td><td class="diffpresent">drwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>1</del>0:<del>50</del>.<del>538699</del><span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/recommendation/</td><td class="diffline">100 </td><td class="diffpresent">drwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>09</ins>:<ins>0</ins>0:<ins>37</ins>.<ins>154230</ins><span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/recommendation/</td></tr>
<tr class="diffchanged"><td class="diffline">87 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>362<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/recommendation/__init__.py</td><td class="diffline">101 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>362<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/recommendation/__init__.py</td></tr>
<tr class="diffchanged"><td class="diffline">88 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1091<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/recommendation/cold_start.py</td><td class="diffline">102 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1091<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/recommendation/cold_start.py</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">103 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>4309<span class="dp">·</span>2023-04-06<span class="dp">·</span>08:59:10.000000<span class="dp">·</span>LibRecommender-1.1.0/libreco/recommendation/preprocess.py</td></tr>
<tr class="diffchanged"><td class="diffline">89 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>2428<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/recommendation/ranking.py</td><td class="diffline">104 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>2428<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/recommendation/ranking.py</td></tr>
<tr class="diffchanged"><td class="diffline">90 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>4</del>2<del>16</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/recommendation/recommend.py</td><td class="diffline">105 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>2</ins>2<ins>61</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/recommendation/recommend.py</td></tr>
<tr class="diffchanged"><td class="diffline">91 </td><td class="diffpresent">drwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>1</del>0:<del>50</del>.<del>538699</del><span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/sampling/</td><td class="diffline">106 </td><td class="diffpresent">drwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>09</ins>:<ins>0</ins>0:<ins>37</ins>.<ins>154230</ins><span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/sampling/</td></tr>
<tr class="diffchanged"><td class="diffline">92 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>902</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/sampling/__init__.py</td><td class="diffline">107 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>624</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/sampling/__init__.py</td></tr>
<tr class="diffdeleted"><td class="diffline">93 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1420<span class="dp">·</span>2023-02-20<span class="dp">·</span>14:09:31.000000<span class="dp">·</span>LibRecommender-1.0.1/libreco/sampling/batch_unit.py</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">94 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>19322<span class="dp">·</span>2023-02-20<span class="dp">·</span>14:09:31.000000<span class="dp">·</span>LibRecommender-1.0.1/libreco/sampling/data_sampler.py</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">95 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>3<del>817</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/sampling/negatives.py</td><td class="diffline">108 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>3<ins>921</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/sampling/negatives.py</td></tr>
<tr class="diffchanged"><td class="diffline">96 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>5773<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/sampling/random_walks.py</td><td class="diffline">109 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>5773<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/sampling/random_walks.py</td></tr>
<tr class="diffchanged"><td class="diffline">97 </td><td class="diffpresent">drwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>1</del>0:<del>50</del>.5<del>4</del>2<del>6</del><del>99</del><span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/tfops/</td><td class="diffline">110 </td><td class="diffpresent">drwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>09</ins>:<ins>0</ins>0:<ins>37</ins>.<ins>1</ins>5<ins>8</ins>2<ins>30</ins><span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/tfops/</td></tr>
<tr class="diffchanged"><td class="diffline">98 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>742<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/tfops/__init__.py</td><td class="diffline">111 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>742<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/tfops/__init__.py</td></tr>
<tr class="diffchanged"><td class="diffline">99 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1676<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/tfops/configs.py</td><td class="diffline">112 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1676<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/tfops/configs.py</td></tr>
<tr class="diffchanged"><td class="diffline">100 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>3525<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/tfops/features.py</td><td class="diffline">113 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>3525<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/tfops/features.py</td></tr>
<tr class="diffchanged"><td class="diffline">101 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>5<del>560</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/tfops/layers.py</td><td class="diffline">114 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>5<ins>644</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/tfops/layers.py</td></tr>
<tr class="diffchanged"><td class="diffline">102 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1603<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/tfops/loss.py</td><td class="diffline">115 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1603<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/tfops/loss.py</td></tr>
<tr class="diffchanged"><td class="diffline">103 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>51<del>28</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/tfops/rebuild.py</td><td class="diffline">116 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>51<ins>14</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/tfops/rebuild.py</td></tr>
<tr class="diffchanged"><td class="diffline">104 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>2713<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/tfops/variables.py</td><td class="diffline">117 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>2713<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/tfops/variables.py</td></tr>
<tr class="diffchanged"><td class="diffline">105 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>99<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/tfops/version.py</td><td class="diffline">118 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>99<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/tfops/version.py</td></tr>
<tr class="diffchanged"><td class="diffline">106 </td><td class="diffpresent">drwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>1</del>0:<del>50</del>.<del>546699</del><span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/torchops/</td><td class="diffline">119 </td><td class="diffpresent">drwxr-xr-x<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>09</ins>:<ins>0</ins>0:<ins>37</ins>.<ins>162230</ins><span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/torchops/</td></tr>
<tr class="diffchanged"><td class="diffline">107 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>696</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/torchops/__init__.py</td><td class="diffline">120 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>533</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/torchops/__init__.py</td></tr>
<tr class="diffchanged"><td class="diffline">108 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>693<span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/torchops/configs.py</td><td class="diffline">121 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>693<span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/torchops/configs.py</td></tr>
<tr class="diffdeleted"><td class="diffline">109 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>2258<span class="dp">·</span>2023-02-20<span class="dp">·</span>14:09:31.000000<span class="dp">·</span>LibRecommender-1.0.1/libreco/torchops/features.py</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">110 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>3<del>056</del><span class="dp">·</span>2023-0<del>2</del>-<del>20</del><span class="dp">·</span><del>14</del>:<del>0</del>9:<del>31</del>.000000<span class="dp">·</span>LibRecommender-1.<del>0</del>.<del>1</del>/libreco/torchops/loss.py</td><td class="diffline">122 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>runner<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(1001)<span class="dp">·</span>docker<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(122)<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>3<ins>327</ins><span class="dp">·</span>2023-0<ins>4</ins>-<ins>06</ins><span class="dp">·</span><ins>08</ins>:<ins>5</ins>9:<ins>10</ins>.000000<span class="dp">·</span>LibRecommender-1.<ins>1</ins>.<ins>0</ins>/libreco/torchops/loss.py</td></tr>
<tr class="error"><td colspan="4">
Max diff block lines reached; -1/42178 bytes (-0.00%) of diff not shown.
</td></tr></table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">95.0 B</span></div>
      <div><span class="source">LibRecommender-1.0.1/LICENSE</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--LICENSE"><span class="source">LibRecommender-1.1.0/LICENSE</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--LICENSE">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">10.1 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/LibRecommender.egg-info/PKG-INFO</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--LibRecommender.egg-info-PKG-INFO"><span class="source">LibRecommender-1.1.0/LibRecommender.egg-info/PKG-INFO</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--LibRecommender.egg-info-PKG-INFO">¶</a>
      </div>
      </div>
      <div class="comment">Files 4% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 63 lines modified</td><td colspan="2">Offset 1, 63 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">1 </td><td class="diffpresent">Metadata-Version:<span class="dp">·</span>2.1</td><td class="diffline">1 </td><td class="diffpresent">Metadata-Version:<span class="dp">·</span>2.1</td></tr>
<tr class="diffunmodified"><td class="diffline">2 </td><td class="diffpresent">Name:<span class="dp">·</span>LibRecommender</td><td class="diffline">2 </td><td class="diffpresent">Name:<span class="dp">·</span>LibRecommender</td></tr>
<tr class="diffchanged"><td class="diffline">3 </td><td class="diffpresent">Version:<span class="dp">·</span>1.<del>0</del>.<del>1</del></td><td class="diffline">3 </td><td class="diffpresent">Version:<span class="dp">·</span>1.<ins>1</ins>.<ins>0</ins></td></tr>
<tr class="diffunmodified"><td class="diffline">4 </td><td class="diffpresent">Summary:<span class="dp">·</span>Versatile<span class="dp">·</span>end-to-end<span class="dp">·</span>recommender<span class="dp">·</span>system.</td><td class="diffline">4 </td><td class="diffpresent">Summary:<span class="dp">·</span>Versatile<span class="dp">·</span>end-to-end<span class="dp">·</span>recommender<span class="dp">·</span>system.</td></tr>
<tr class="diffunmodified"><td class="diffline">5 </td><td class="diffpresent">Home-page:<span class="dp">·</span>https://github.com/massquantity/LibRecommender</td><td class="diffline">5 </td><td class="diffpresent">Home-page:<span class="dp">·</span>https://github.com/massquantity/LibRecommender</td></tr>
<tr class="diffunmodified"><td class="diffline">6 </td><td class="diffpresent">Author:<span class="dp">·</span>massquantity</td><td class="diffline">6 </td><td class="diffpresent">Author:<span class="dp">·</span>massquantity</td></tr>
<tr class="diffunmodified"><td class="diffline">7 </td><td class="diffpresent">Author-email:<span class="dp">·</span>massquantity<span class="dp">·</span>&lt;jinxin_madie@163.com&gt;</td><td class="diffline">7 </td><td class="diffpresent">Author-email:<span class="dp">·</span>massquantity<span class="dp">·</span>&lt;jinxin_madie@163.com&gt;</td></tr>
<tr class="diffunmodified"><td class="diffline">8 </td><td class="diffpresent">License:<span class="dp">·</span>MIT</td><td class="diffline">8 </td><td class="diffpresent">License:<span class="dp">·</span>MIT</td></tr>
<tr class="diffchanged"><td class="diffline">9 </td><td class="diffpresent">Project-URL:<span class="dp">·</span>documentation,<span class="dp">·</span>https://librecommender.readthedocs.io/en/<del>stable</del>/</td><td class="diffline">9 </td><td class="diffpresent">Project-URL:<span class="dp">·</span>documentation,<span class="dp">·</span>https://librecommender.readthedocs.io/en/<ins>latest</ins>/</td></tr>
<tr class="diffunmodified"><td class="diffline">10 </td><td class="diffpresent">Project-URL:<span class="dp">·</span>repository,<span class="dp">·</span>https://github.com/massquantity/LibRecommender</td><td class="diffline">10 </td><td class="diffpresent">Project-URL:<span class="dp">·</span>repository,<span class="dp">·</span>https://github.com/massquantity/LibRecommender</td></tr>
<tr class="diffunmodified"><td class="diffline">11 </td><td class="diffpresent">Keywords:<span class="dp">·</span>Collaborative<span class="dp">·</span>Filtering,Recommender<span class="dp">·</span>System</td><td class="diffline">11 </td><td class="diffpresent">Keywords:<span class="dp">·</span>Collaborative<span class="dp">·</span>Filtering,Recommender<span class="dp">·</span>System</td></tr>
<tr class="diffunmodified"><td class="diffline">12 </td><td class="diffpresent">Classifier:<span class="dp">·</span>Development<span class="dp">·</span>Status<span class="dp">·</span>::<span class="dp">·</span>5<span class="dp">·</span>-<span class="dp">·</span>Production/Stable</td><td class="diffline">12 </td><td class="diffpresent">Classifier:<span class="dp">·</span>Development<span class="dp">·</span>Status<span class="dp">·</span>::<span class="dp">·</span>5<span class="dp">·</span>-<span class="dp">·</span>Production/Stable</td></tr>
<tr class="diffunmodified"><td class="diffline">13 </td><td class="diffpresent">Classifier:<span class="dp">·</span>Intended<span class="dp">·</span>Audience<span class="dp">·</span>::<span class="dp">·</span>Developers</td><td class="diffline">13 </td><td class="diffpresent">Classifier:<span class="dp">·</span>Intended<span class="dp">·</span>Audience<span class="dp">·</span>::<span class="dp">·</span>Developers</td></tr>
<tr class="diffunmodified"><td class="diffline">14 </td><td class="diffpresent">Classifier:<span class="dp">·</span>Intended<span class="dp">·</span>Audience<span class="dp">·</span>::<span class="dp">·</span>Education</td><td class="diffline">14 </td><td class="diffpresent">Classifier:<span class="dp">·</span>Intended<span class="dp">·</span>Audience<span class="dp">·</span>::<span class="dp">·</span>Education</td></tr>
<tr class="diffunmodified"><td class="diffline">15 </td><td class="diffpresent">Classifier:<span class="dp">·</span>Intended<span class="dp">·</span>Audience<span class="dp">·</span>::<span class="dp">·</span>Science/Research</td><td class="diffline">15 </td><td class="diffpresent">Classifier:<span class="dp">·</span>Intended<span class="dp">·</span>Audience<span class="dp">·</span>::<span class="dp">·</span>Science/Research</td></tr>
<tr class="diffunmodified"><td class="diffline">16 </td><td class="diffpresent">Classifier:<span class="dp">·</span>License<span class="dp">·</span>::<span class="dp">·</span>OSI<span class="dp">·</span>Approved<span class="dp">·</span>::<span class="dp">·</span>MIT<span class="dp">·</span>License</td><td class="diffline">16 </td><td class="diffpresent">Classifier:<span class="dp">·</span>License<span class="dp">·</span>::<span class="dp">·</span>OSI<span class="dp">·</span>Approved<span class="dp">·</span>::<span class="dp">·</span>MIT<span class="dp">·</span>License</td></tr>
<tr class="diffunmodified"><td class="diffline">17 </td><td class="diffpresent">Classifier:<span class="dp">·</span>Programming<span class="dp">·</span>Language<span class="dp">·</span>::<span class="dp">·</span>Python<span class="dp">·</span>::<span class="dp">·</span>3.6</td><td class="diffline">17 </td><td class="diffpresent">Classifier:<span class="dp">·</span>Programming<span class="dp">·</span>Language<span class="dp">·</span>::<span class="dp">·</span>Python<span class="dp">·</span>::<span class="dp">·</span>3.6</td></tr>
<tr class="diffunmodified"><td class="diffline">18 </td><td class="diffpresent">Classifier:<span class="dp">·</span>Programming<span class="dp">·</span>Language<span class="dp">·</span>::<span class="dp">·</span>Python<span class="dp">·</span>::<span class="dp">·</span>3.7</td><td class="diffline">18 </td><td class="diffpresent">Classifier:<span class="dp">·</span>Programming<span class="dp">·</span>Language<span class="dp">·</span>::<span class="dp">·</span>Python<span class="dp">·</span>::<span class="dp">·</span>3.7</td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent">Classifier:<span class="dp">·</span>Programming<span class="dp">·</span>Language<span class="dp">·</span>::<span class="dp">·</span>Python<span class="dp">·</span>::<span class="dp">·</span>3.8</td><td class="diffline">19 </td><td class="diffpresent">Classifier:<span class="dp">·</span>Programming<span class="dp">·</span>Language<span class="dp">·</span>::<span class="dp">·</span>Python<span class="dp">·</span>::<span class="dp">·</span>3.8</td></tr>
<tr class="diffunmodified"><td class="diffline">20 </td><td class="diffpresent">Classifier:<span class="dp">·</span>Programming<span class="dp">·</span>Language<span class="dp">·</span>::<span class="dp">·</span>Python<span class="dp">·</span>::<span class="dp">·</span>3.9</td><td class="diffline">20 </td><td class="diffpresent">Classifier:<span class="dp">·</span>Programming<span class="dp">·</span>Language<span class="dp">·</span>::<span class="dp">·</span>Python<span class="dp">·</span>::<span class="dp">·</span>3.9</td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent">Classifier:<span class="dp">·</span>Programming<span class="dp">·</span>Language<span class="dp">·</span>::<span class="dp">·</span>Python<span class="dp">·</span>::<span class="dp">·</span>3.10</td><td class="diffline">21 </td><td class="diffpresent">Classifier:<span class="dp">·</span>Programming<span class="dp">·</span>Language<span class="dp">·</span>::<span class="dp">·</span>Python<span class="dp">·</span>::<span class="dp">·</span>3.10</td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent">Classifier:<span class="dp">·</span>Programming<span class="dp">·</span>Language<span class="dp">·</span>::<span class="dp">·</span>Cython</td><td class="diffline">22 </td><td class="diffpresent">Classifier:<span class="dp">·</span>Programming<span class="dp">·</span>Language<span class="dp">·</span>::<span class="dp">·</span>Cython</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">23 </td><td class="diffpresent">Classifier:<span class="dp">·</span>Programming<span class="dp">·</span>Language<span class="dp">·</span>::<span class="dp">·</span>Rust</td></tr>
<tr class="diffunmodified"><td class="diffline">23 </td><td class="diffpresent">Requires-Python:<span class="dp">·</span>&gt;=3.6</td><td class="diffline">24 </td><td class="diffpresent">Requires-Python:<span class="dp">·</span>&gt;=3.6</td></tr>
<tr class="diffunmodified"><td class="diffline">24 </td><td class="diffpresent">Description-Content-Type:<span class="dp">·</span>text/markdown</td><td class="diffline">25 </td><td class="diffpresent">Description-Content-Type:<span class="dp">·</span>text/markdown</td></tr>
<tr class="diffunmodified"><td class="diffline">25 </td><td class="diffpresent">License-File:<span class="dp">·</span>LICENSE</td><td class="diffline">26 </td><td class="diffpresent">License-File:<span class="dp">·</span>LICENSE</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">26 </td><td class="diffpresent">#<span class="dp">·</span>LibRecommender</td><td class="diffline">27 </td><td class="diffpresent">#<span class="dp">·</span>LibRecommender</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">27 </td><td class="diffpresent">[![Build](https://img.shields.io/github/actions/workflow/status/massquantity/LibRecommender/wheels.yml?branch=master)](https://github.com/massquantity/LibRecommender/actions/workflows/wheels.yml)</td><td class="diffline">28 </td><td class="diffpresent">[![Build](https://img.shields.io/github/actions/workflow/status/massquantity/LibRecommender/wheels.yml?branch=master<ins>&amp;logo=github</ins>)](https://github.com/massquantity/LibRecommender/actions/workflows/wheels.yml)</td></tr>
<tr class="diffunmodified"><td class="diffline">28 </td><td class="diffpresent">[![CI](https://github.com/massquantity/LibRecommender/actions/workflows/ci.yml/badge.svg)](https://github.com/massquantity/LibRecommender/actions/workflows/ci.yml)</td><td class="diffline">29 </td><td class="diffpresent">[![CI](https://github.com/massquantity/LibRecommender/actions/workflows/ci.yml/badge.svg)](https://github.com/massquantity/LibRecommender/actions/workflows/ci.yml)</td></tr>
<tr class="diffchanged"><td class="diffline">29 </td><td class="diffpresent">[![<del>c</del>odecov](https://codecov<del>.</del><del>io</del>/gh/massquantity/LibRecommender<del>/branch/master/graph/badge.sv</del>g<del>?t</del>o<del>ken</del>=<del>BYOY</del>F<del>BUJRL</del>)](https://codecov.io/gh/massquantity/LibRecommender)</td><td class="diffline">30 </td><td class="diffpresent">[![<ins>C</ins>odecov](https:<ins>/</ins>/<ins>img.shields.io</ins>/codecov<ins>/c</ins>/g<ins>it</ins>h<ins>ub</ins>/massquantity/LibRecommender<ins>?color=ffdfba&amp;logo=codecov&amp;lo</ins>g<ins>oC</ins>o<ins>lor</ins>=<ins>%</ins><ins>2300</ins>F<ins>C87CD</ins>)](https://<ins>app.</ins>codecov.io/gh/massquantity/LibRecommender)</td></tr>
<tr class="diffunmodified"><td class="diffline">30 </td><td class="diffpresent">[![pypi](https://img.shields.io/pypi/v/LibRecommender?color=blue)](https://pypi.org/project/LibRecommender/)</td><td class="diffline">31 </td><td class="diffpresent">[![pypi](https://img.shields.io/pypi/v/LibRecommender?color=blue)](https://pypi.org/project/LibRecommender/)</td></tr>
<tr class="diffunmodified"><td class="diffline">31 </td><td class="diffpresent">[![Downloads](https://static.pepy.tech/personalized-badge/librecommender?period=total&amp;units=international_system&amp;left_color=grey&amp;right_color=lightgrey&amp;left_text=Downloads)](https://pepy.tech/project/librecommender)</td><td class="diffline">32 </td><td class="diffpresent">[![Downloads](https://static.pepy.tech/personalized-badge/librecommender?period=total&amp;units=international_system&amp;left_color=grey&amp;right_color=lightgrey&amp;left_text=Downloads)](https://pepy.tech/project/librecommender)</td></tr>
<tr class="diffdeleted"><td class="diffline">32 </td><td class="diffpresent">[![python<span class="dp">·</span>versions](https://img.shields.io/pypi/pyversions/LibRecommender?logo=python&amp;logoColor=ffffba)](https://pypi.org/project/LibRecommender/)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">33 </td><td class="diffpresent">[![Codacy<span class="dp">·</span>Badge](https://app.codacy.com/project/badge/Grade/860f0cb5339c41fba9bee5770d09be47)](https://www.codacy.com/gh/massquantity/LibRecommender/dashboard?utm_source=github.com&amp;amp;utm_medium=referral&amp;amp;utm_content=massquantity/LibRecommender&amp;amp;utm_campaign=Badge_Grade)</td><td class="diffline">33 </td><td class="diffpresent">[![Codacy<span class="dp">·</span>Badge](https://app.codacy.com/project/badge/Grade/860f0cb5339c41fba9bee5770d09be47)](https://www.codacy.com/gh/massquantity/LibRecommender/dashboard?utm_source=github.com&amp;amp;utm_medium=referral&amp;amp;utm_content=massquantity/LibRecommender&amp;amp;utm_campaign=Badge_Grade)</td></tr>
<tr class="diffunmodified"><td class="diffline">34 </td><td class="diffpresent">[![Code<span class="dp">·</span>style:<span class="dp">·</span>black](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black)</td><td class="diffline">34 </td><td class="diffpresent">[![Code<span class="dp">·</span>style:<span class="dp">·</span>black](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black)</td></tr>
<tr class="diffunmodified"><td class="diffline">35 </td><td class="diffpresent">[![Ruff](https://img.shields.io/endpoint?url=https://raw.githubusercontent.com/charliermarsh/ruff/main/assets/badge/v1.json)](https://github.com/charliermarsh/ruff)</td><td class="diffline">35 </td><td class="diffpresent">[![Ruff](https://img.shields.io/endpoint?url=https://raw.githubusercontent.com/charliermarsh/ruff/main/assets/badge/v1.json)](https://github.com/charliermarsh/ruff)</td></tr>
<tr class="diffdeleted"><td class="diffline">36 </td><td class="diffpresent">[![platform](https://img.shields.io/badge/platform-linux%20%7C%20macos%20%7C%20windows-%23ffdfba)](https://img.shields.io/badge/platform-linux%20%7C%20macos%20%7C%20windows-%23ffdfba)</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">37 </td><td class="diffpresent">[![Documentation<span class="dp">·</span>Status](https://readthedocs.org/projects/librecommender/badge/?version=<del>stable</del>)](https://librecommender.readthedocs.io/en/<del>stable</del>/?badge=<del>stable</del>)</td><td class="diffline">36 </td><td class="diffpresent">[![Documentation<span class="dp">·</span>Status](https://readthedocs.org/projects/librecommender/badge/?version=<ins>latest</ins>)](https://librecommender.readthedocs.io/en/<ins>latest</ins>/?badge=<ins>latest</ins>)</td></tr>
<tr class="diffunmodified"><td class="diffline">38 </td><td class="diffpresent">![visitors](https://visitor-badge.glitch.me/badge?page_id=massquantity.LibRecommender&amp;right_color=rgb(91,194,231))</td><td class="diffline">37 </td><td class="diffpresent">![visitors](https://visitor-badge.glitch.me/badge?page_id=massquantity.LibRecommender&amp;right_color=rgb(91,194,231))</td></tr>
<tr class="diffunmodified"><td class="diffline">39 </td><td class="diffpresent">[![License](https://img.shields.io/github/license/massquantity/LibRecommender?color=ff69b4)](https://github.com/massquantity/LibRecommender/blob/master/LICENSE)</td><td class="diffline">38 </td><td class="diffpresent">[![License](https://img.shields.io/github/license/massquantity/LibRecommender?color=ff69b4)](https://github.com/massquantity/LibRecommender/blob/master/LICENSE)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">40 </td><td class="diffpresent">##<span class="dp">·</span>Overview</td><td class="diffline">39 </td><td class="diffpresent">##<span class="dp">·</span>Overview</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">41 </td><td class="diffpresent">**LibRecommender**<span class="dp">·</span>is<span class="dp">·</span>an<span class="dp">·</span>easy-to-use<span class="dp">·</span>recommender<span class="dp">·</span>system<span class="dp">·</span>focused<span class="dp">·</span>on<span class="dp">·</span>end-to-end<span class="dp">·</span>recommendation<span class="dp">·</span>process.<span class="dp">·</span>It<span class="dp">·</span>contains<span class="dp">·</span>a<span class="dp">·</span>training([libreco](https://github.com/massquantity/LibRecommender/tree/master/libreco))<span class="dp">·</span>and<span class="dp">·</span>serving([libserving](https://github.com/massquantity/LibRecommender/tree/master/libserving))<span class="dp">·</span>module<span class="dp">·</span>to<span class="dp">·</span>let<span class="dp">·</span>users<span class="dp">·</span>quickly<span class="dp">·</span>train<span class="dp">·</span>and<span class="dp">·</span>deploy<span class="dp">·</span>different<span class="dp">·</span>kinds<span class="dp">·</span>of<span class="dp">·</span>recommendation<span class="dp">·</span>models.</td><td class="diffline">40 </td><td class="diffpresent">**LibRecommender**<span class="dp">·</span>is<span class="dp">·</span>an<span class="dp">·</span>easy-to-use<span class="dp">·</span>recommender<span class="dp">·</span>system<span class="dp">·</span>focused<span class="dp">·</span>on<span class="dp">·</span>end-to-end<span class="dp">·</span>recommendation<span class="dp">·</span>process.<span class="dp">·</span>It<span class="dp">·</span>contains<span class="dp">·</span>a<span class="dp">·</span>training([libreco](https://github.com/massquantity/LibRecommender/tree/master/libreco))<span class="dp">·</span>and<span class="dp">·</span>serving([libserving](https://github.com/massquantity/LibRecommender/tree/master/libserving))<span class="dp">·</span>module<span class="dp">·</span>to<span class="dp">·</span>let<span class="dp">·</span>users<span class="dp">·</span>quickly<span class="dp">·</span>train<span class="dp">·</span>and<span class="dp">·</span>deploy<span class="dp">·</span>different<span class="dp">·</span>kinds<span class="dp">·</span>of<span class="dp">·</span>recommendation<span class="dp">·</span>models.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">42 </td><td class="diffpresent">**The<span class="dp">·</span>main<span class="dp">·</span>features<span class="dp">·</span>are:**</td><td class="diffline">41 </td><td class="diffpresent">**The<span class="dp">·</span>main<span class="dp">·</span>features<span class="dp">·</span>are:**</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">43 </td><td class="diffpresent">+<span class="dp">·</span>Implements<span class="dp">·</span>a<span class="dp">·</span>number<span class="dp">·</span>of<span class="dp">·</span>popular<span class="dp">·</span>recommendation<span class="dp">·</span>algorithms<span class="dp">·</span>such<span class="dp">·</span>as<span class="dp">·</span>FM,<span class="dp">·</span>DIN,<span class="dp">·</span>LightGCN<span class="dp">·</span>etc.<span class="dp">·</span>See<span class="dp">·</span>[full<span class="dp">·</span>algorithm<span class="dp">·</span>list](#references).</td><td class="diffline">42 </td><td class="diffpresent">+<span class="dp">·</span>Implements<span class="dp">·</span>a<span class="dp">·</span>number<span class="dp">·</span>of<span class="dp">·</span>popular<span class="dp">·</span>recommendation<span class="dp">·</span>algorithms<span class="dp">·</span>such<span class="dp">·</span>as<span class="dp">·</span>FM,<span class="dp">·</span>DIN,<span class="dp">·</span>LightGCN<span class="dp">·</span>etc.<span class="dp">·</span>See<span class="dp">·</span>[full<span class="dp">·</span>algorithm<span class="dp">·</span>list](#references).</td></tr>
<tr class="diffunmodified"><td class="diffline">44 </td><td class="diffpresent">+<span class="dp">·</span>A<span class="dp">·</span>hybrid<span class="dp">·</span>recommender<span class="dp">·</span>system,<span class="dp">·</span>which<span class="dp">·</span>allows<span class="dp">·</span>user<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>either<span class="dp">·</span>collaborative-filtering<span class="dp">·</span>or<span class="dp">·</span>content-based<span class="dp">·</span>features.<span class="dp">·</span>New<span class="dp">·</span>features<span class="dp">·</span>can<span class="dp">·</span>be<span class="dp">·</span>added<span class="dp">·</span>on<span class="dp">·</span>the<span class="dp">·</span>fly.</td><td class="diffline">43 </td><td class="diffpresent">+<span class="dp">·</span>A<span class="dp">·</span>hybrid<span class="dp">·</span>recommender<span class="dp">·</span>system,<span class="dp">·</span>which<span class="dp">·</span>allows<span class="dp">·</span>user<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>either<span class="dp">·</span>collaborative-filtering<span class="dp">·</span>or<span class="dp">·</span>content-based<span class="dp">·</span>features.<span class="dp">·</span>New<span class="dp">·</span>features<span class="dp">·</span>can<span class="dp">·</span>be<span class="dp">·</span>added<span class="dp">·</span>on<span class="dp">·</span>the<span class="dp">·</span>fly.</td></tr>
<tr class="diffchanged"><td class="diffline">45 </td><td class="diffpresent">+<span class="dp">·</span>Low<span class="dp">·</span>memory<span class="dp">·</span>usage,<span class="dp">·</span>automatically<span class="dp">·</span>convert<span class="dp">·</span>categorical<span class="dp">·</span>and<span class="dp">·</span>multi-value<span class="dp">·</span>categorical<span class="dp">·</span>features<span class="dp">·</span>to<span class="dp">·</span>sparse<span class="dp">·</span>representation.</td><td class="diffline">44 </td><td class="diffpresent">+<span class="dp">·</span>Low<span class="dp">·</span>memory<span class="dp">·</span>usage,<span class="dp">·</span>automatically<span class="dp">·</span>convert<ins>s</ins><span class="dp">·</span>categorical<span class="dp">·</span>and<span class="dp">·</span>multi-value<span class="dp">·</span>categorical<span class="dp">·</span>features<span class="dp">·</span>to<span class="dp">·</span>sparse<span class="dp">·</span>representation.</td></tr>
<tr class="diffchanged"><td class="diffline">46 </td><td class="diffpresent">+<span class="dp">·</span>Support<span class="dp">·</span>training<span class="dp">·</span>for<span class="dp">·</span>both<span class="dp">·</span>explicit<span class="dp">·</span>and<span class="dp">·</span>implicit<span class="dp">·</span>datasets,<span class="dp">·</span>as<span class="dp">·</span>well<span class="dp">·</span>as<span class="dp">·</span>negative<span class="dp">·</span>sampling<span class="dp">·</span>on<span class="dp">·</span>implicit<span class="dp">·</span>data.</td><td class="diffline">45 </td><td class="diffpresent">+<span class="dp">·</span>Support<ins>s</ins><span class="dp">·</span>training<span class="dp">·</span>for<span class="dp">·</span>both<span class="dp">·</span>explicit<span class="dp">·</span>and<span class="dp">·</span>implicit<span class="dp">·</span>datasets,<span class="dp">·</span>as<span class="dp">·</span>well<span class="dp">·</span>as<span class="dp">·</span>negative<span class="dp">·</span>sampling<span class="dp">·</span>on<span class="dp">·</span>implicit<span class="dp">·</span>data.</td></tr>
<tr class="diffchanged"><td class="diffline">47 </td><td class="diffpresent">+<span class="dp">·</span>Provide<span class="dp">·</span>end-to-end<span class="dp">·</span>workflow,<span class="dp">·</span>i.e.<span class="dp">·</span>data<span class="dp">·</span>handling<span class="dp">·</span>/<span class="dp">·</span>preprocessing<span class="dp">·</span>-&gt;<span class="dp">·</span>model<span class="dp">·</span>training<span class="dp">·</span>-&gt;<span class="dp">·</span>evaluate<span class="dp">·</span>-&gt;<span class="dp">·</span>save/load<span class="dp">·</span>-&gt;<span class="dp">·</span>serving.</td><td class="diffline">46 </td><td class="diffpresent">+<span class="dp">·</span>Provide<ins>s</ins><span class="dp">·</span>end-to-end<span class="dp">·</span>workflow,<span class="dp">·</span>i.e.<span class="dp">·</span>data<span class="dp">·</span>handling<span class="dp">·</span>/<span class="dp">·</span>preprocessing<span class="dp">·</span>-&gt;<span class="dp">·</span>model<span class="dp">·</span>training<span class="dp">·</span>-&gt;<span class="dp">·</span>evaluate<span class="dp">·</span>-&gt;<span class="dp">·</span>save/load<span class="dp">·</span>-&gt;<span class="dp">·</span>serving.</td></tr>
<tr class="diffchanged"><td class="diffline">48 </td><td class="diffpresent">+<span class="dp">·</span>Support<span class="dp">·</span>cold-start<span class="dp">·</span>prediction<span class="dp">·</span>and<span class="dp">·</span>recommendation.</td><td class="diffline">47 </td><td class="diffpresent">+<span class="dp">·</span>Support<ins>s</ins><span class="dp">·</span>cold-start<span class="dp">·</span>prediction<span class="dp">·</span>and<span class="dp">·</span>recommendation.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">48 </td><td class="diffpresent">+<span class="dp">·</span>Supports<span class="dp">·</span>dynamic<span class="dp">·</span>feature<span class="dp">·</span>and<span class="dp">·</span>sequence<span class="dp">·</span>recommendation.</td></tr>
<tr class="diffchanged"><td class="diffline">49 </td><td class="diffpresent">+<span class="dp">·</span>Provide<span class="dp">·</span>unified<span class="dp">·</span>and<span class="dp">·</span>friendly<span class="dp">·</span>API<span class="dp">·</span>for<span class="dp">·</span>all<span class="dp">·</span>algorithms.<span class="dp">·</span></td><td class="diffline">49 </td><td class="diffpresent">+<span class="dp">·</span>Provide<ins>s</ins><span class="dp">·</span>unified<span class="dp">·</span>and<span class="dp">·</span>friendly<span class="dp">·</span>API<span class="dp">·</span>for<span class="dp">·</span>all<span class="dp">·</span>algorithms.<span class="dp">·</span></td></tr>
<tr class="diffunmodified"><td class="diffline">50 </td><td class="diffpresent">+<span class="dp">·</span>Easy<span class="dp">·</span>to<span class="dp">·</span>retrain<span class="dp">·</span>model<span class="dp">·</span>with<span class="dp">·</span>new<span class="dp">·</span>users/items<span class="dp">·</span>from<span class="dp">·</span>new<span class="dp">·</span>data.</td><td class="diffline">50 </td><td class="diffpresent">+<span class="dp">·</span>Easy<span class="dp">·</span>to<span class="dp">·</span>retrain<span class="dp">·</span>model<span class="dp">·</span>with<span class="dp">·</span>new<span class="dp">·</span>users/items<span class="dp">·</span>from<span class="dp">·</span>new<span class="dp">·</span>data.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">51 </td><td class="diffpresent">##<span class="dp">·</span>Usage</td><td class="diffline">51 </td><td class="diffpresent">##<span class="dp">·</span>Usage</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">52 </td><td class="diffpresent">####<span class="dp">·</span>_pure<span class="dp">·</span>collaborative-filtering<span class="dp">·</span>example_<span class="dp">·</span>:<span class="dp">·</span></td><td class="diffline">52 </td><td class="diffpresent">####<span class="dp">·</span>_pure<span class="dp">·</span>collaborative-filtering<span class="dp">·</span>example_<span class="dp">·</span>:<span class="dp">·</span></td></tr>
<tr class="diffhunk"><td colspan="2">Offset 74, 19 lines modified</td><td colspan="2">Offset 74, 14 lines modified</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">74 </td><td class="diffpresent">#<span class="dp">·</span>split<span class="dp">·</span>whole<span class="dp">·</span>data<span class="dp">·</span>into<span class="dp">·</span>three<span class="dp">·</span>folds<span class="dp">·</span>for<span class="dp">·</span>training,<span class="dp">·</span>evaluating<span class="dp">·</span>and<span class="dp">·</span>testing</td><td class="diffline">74 </td><td class="diffpresent">#<span class="dp">·</span>split<span class="dp">·</span>whole<span class="dp">·</span>data<span class="dp">·</span>into<span class="dp">·</span>three<span class="dp">·</span>folds<span class="dp">·</span>for<span class="dp">·</span>training,<span class="dp">·</span>evaluating<span class="dp">·</span>and<span class="dp">·</span>testing</td></tr>
<tr class="diffunmodified"><td class="diffline">75 </td><td class="diffpresent">train_data,<span class="dp">·</span>eval_data,<span class="dp">·</span>test_data<span class="dp">·</span>=<span class="dp">·</span>random_split(data,<span class="dp">·</span>multi_ratios=[0.8,<span class="dp">·</span>0.1,<span class="dp">·</span>0.1])</td><td class="diffline">75 </td><td class="diffpresent">train_data,<span class="dp">·</span>eval_data,<span class="dp">·</span>test_data<span class="dp">·</span>=<span class="dp">·</span>random_split(data,<span class="dp">·</span>multi_ratios=[0.8,<span class="dp">·</span>0.1,<span class="dp">·</span>0.1])</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">76 </td><td class="diffpresent">train_data,<span class="dp">·</span>data_info<span class="dp">·</span>=<span class="dp">·</span>DatasetPure.build_trainset(train_data)</td><td class="diffline">76 </td><td class="diffpresent">train_data,<span class="dp">·</span>data_info<span class="dp">·</span>=<span class="dp">·</span>DatasetPure.build_trainset(train_data)</td></tr>
<tr class="diffunmodified"><td class="diffline">77 </td><td class="diffpresent">eval_data<span class="dp">·</span>=<span class="dp">·</span>DatasetPure.build_evalset(eval_data)</td><td class="diffline">77 </td><td class="diffpresent">eval_data<span class="dp">·</span>=<span class="dp">·</span>DatasetPure.build_evalset(eval_data)</td></tr>
<tr class="diffunmodified"><td class="diffline">78 </td><td class="diffpresent">test_data<span class="dp">·</span>=<span class="dp">·</span>DatasetPure.build_testset(test_data)</td><td class="diffline">78 </td><td class="diffpresent">test_data<span class="dp">·</span>=<span class="dp">·</span>DatasetPure.build_testset(test_data)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">79 </td><td class="diffpresent">#<span class="dp">·</span>sample<span class="dp">·</span>negative<span class="dp">·</span>items<span class="dp">·</span>for<span class="dp">·</span>each<span class="dp">·</span>record</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">80 </td><td class="diffpresent">train_data.build_negative_samples(data_info)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">81 </td><td class="diffpresent">eval_data.build_negative_samples(data_info)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">82 </td><td class="diffpresent">test_data.build_negative_samples(data_info)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">83 </td><td class="diffpresent">print(data_info)<span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>n_users:<span class="dp">·</span>5894,<span class="dp">·</span>n_items:<span class="dp">·</span>3253,<span class="dp">·</span>data<span class="dp">·</span>sparsity:<span class="dp">·</span>0.4172<span class="dp">·</span>%</td><td class="diffline">79 </td><td class="diffpresent">print(data_info)<span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>n_users:<span class="dp">·</span>5894,<span class="dp">·</span>n_items:<span class="dp">·</span>3253,<span class="dp">·</span>data<span class="dp">·</span>sparsity:<span class="dp">·</span>0.4172<span class="dp">·</span>%</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">84 </td><td class="diffpresent">lightgcn<span class="dp">·</span>=<span class="dp">·</span>LightGCN(</td><td class="diffline">80 </td><td class="diffpresent">lightgcn<span class="dp">·</span>=<span class="dp">·</span>LightGCN(</td></tr>
<tr class="diffunmodified"><td class="diffline">85 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task=&quot;ranking&quot;,</td><td class="diffline">81 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task=&quot;ranking&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">86 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info=data_info,</td><td class="diffline">82 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info=data_info,</td></tr>
<tr class="diffunmodified"><td class="diffline">87 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>loss_type=&quot;bpr&quot;,</td><td class="diffline">83 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>loss_type=&quot;bpr&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">88 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size=16,</td><td class="diffline">84 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size=16,</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 95, 23 lines modified</td><td colspan="2">Offset 90, 25 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">95 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size=2048,</td><td class="diffline">90 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size=2048,</td></tr>
<tr class="diffunmodified"><td class="diffline">96 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg=1,</td><td class="diffline">91 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg=1,</td></tr>
<tr class="diffunmodified"><td class="diffline">97 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>device=&quot;cuda&quot;,</td><td class="diffline">92 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>device=&quot;cuda&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">98 </td><td class="diffpresent">)</td><td class="diffline">93 </td><td class="diffpresent">)</td></tr>
<tr class="diffunmodified"><td class="diffline">99 </td><td class="diffpresent">#<span class="dp">·</span>monitor<span class="dp">·</span>metrics<span class="dp">·</span>on<span class="dp">·</span>eval<span class="dp">·</span>data<span class="dp">·</span>during<span class="dp">·</span>training</td><td class="diffline">94 </td><td class="diffpresent">#<span class="dp">·</span>monitor<span class="dp">·</span>metrics<span class="dp">·</span>on<span class="dp">·</span>eval<span class="dp">·</span>data<span class="dp">·</span>during<span class="dp">·</span>training</td></tr>
<tr class="diffunmodified"><td class="diffline">100 </td><td class="diffpresent">lightgcn.fit(</td><td class="diffline">95 </td><td class="diffpresent">lightgcn.fit(</td></tr>
<tr class="diffunmodified"><td class="diffline">101 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data,</td><td class="diffline">96 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">97 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neg_sampling=True,</td></tr>
<tr class="diffunmodified"><td class="diffline">102 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>verbose=2,</td><td class="diffline">98 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>verbose=2,</td></tr>
<tr class="diffunmodified"><td class="diffline">103 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_data=eval_data,</td><td class="diffline">99 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_data=eval_data,</td></tr>
<tr class="diffunmodified"><td class="diffline">104 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics=[&quot;loss&quot;,<span class="dp">·</span>&quot;roc_auc&quot;,<span class="dp">·</span>&quot;precision&quot;,<span class="dp">·</span>&quot;recall&quot;,<span class="dp">·</span>&quot;ndcg&quot;],</td><td class="diffline">100 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics=[&quot;loss&quot;,<span class="dp">·</span>&quot;roc_auc&quot;,<span class="dp">·</span>&quot;precision&quot;,<span class="dp">·</span>&quot;recall&quot;,<span class="dp">·</span>&quot;ndcg&quot;],</td></tr>
<tr class="diffunmodified"><td class="diffline">105 </td><td class="diffpresent">)</td><td class="diffline">101 </td><td class="diffpresent">)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">106 </td><td class="diffpresent">#<span class="dp">·</span>do<span class="dp">·</span>final<span class="dp">·</span>evaluation<span class="dp">·</span>on<span class="dp">·</span>test<span class="dp">·</span>data</td><td class="diffline">102 </td><td class="diffpresent">#<span class="dp">·</span>do<span class="dp">·</span>final<span class="dp">·</span>evaluation<span class="dp">·</span>on<span class="dp">·</span>test<span class="dp">·</span>data</td></tr>
<tr class="diffunmodified"><td class="diffline">107 </td><td class="diffpresent">evaluate(</td><td class="diffline">103 </td><td class="diffpresent">evaluate(</td></tr>
<tr class="diffunmodified"><td class="diffline">108 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model=lightgcn,</td><td class="diffline">104 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model=lightgcn,</td></tr>
<tr class="diffunmodified"><td class="diffline">109 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data=test_data,</td><td class="diffline">105 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data=test_data,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">106 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neg_sampling=True,</td></tr>
<tr class="diffunmodified"><td class="diffline">110 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics=[&quot;loss&quot;,<span class="dp">·</span>&quot;roc_auc&quot;,<span class="dp">·</span>&quot;precision&quot;,<span class="dp">·</span>&quot;recall&quot;,<span class="dp">·</span>&quot;ndcg&quot;],</td><td class="diffline">107 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics=[&quot;loss&quot;,<span class="dp">·</span>&quot;roc_auc&quot;,<span class="dp">·</span>&quot;precision&quot;,<span class="dp">·</span>&quot;recall&quot;,<span class="dp">·</span>&quot;ndcg&quot;],</td></tr>
<tr class="diffunmodified"><td class="diffline">111 </td><td class="diffpresent">)</td><td class="diffline">108 </td><td class="diffpresent">)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">112 </td><td class="diffpresent">#<span class="dp">·</span>predict<span class="dp">·</span>preference<span class="dp">·</span>of<span class="dp">·</span>user<span class="dp">·</span>2211<span class="dp">·</span>to<span class="dp">·</span>item<span class="dp">·</span>110</td><td class="diffline">109 </td><td class="diffpresent">#<span class="dp">·</span>predict<span class="dp">·</span>preference<span class="dp">·</span>of<span class="dp">·</span>user<span class="dp">·</span>2211<span class="dp">·</span>to<span class="dp">·</span>item<span class="dp">·</span>110</td></tr>
<tr class="diffunmodified"><td class="diffline">113 </td><td class="diffpresent">lightgcn.predict(user=2211,<span class="dp">·</span>item=110)</td><td class="diffline">110 </td><td class="diffpresent">lightgcn.predict(user=2211,<span class="dp">·</span>item=110)</td></tr>
<tr class="diffunmodified"><td class="diffline">114 </td><td class="diffpresent">#<span class="dp">·</span>recommend<span class="dp">·</span>7<span class="dp">·</span>items<span class="dp">·</span>for<span class="dp">·</span>user<span class="dp">·</span>2211</td><td class="diffline">111 </td><td class="diffpresent">#<span class="dp">·</span>recommend<span class="dp">·</span>7<span class="dp">·</span>items<span class="dp">·</span>for<span class="dp">·</span>user<span class="dp">·</span>2211</td></tr>
<tr class="diffunmodified"><td class="diffline">115 </td><td class="diffpresent">lightgcn.recommend_user(user=2211,<span class="dp">·</span>n_rec=7)</td><td class="diffline">112 </td><td class="diffpresent">lightgcn.recommend_user(user=2211,<span class="dp">·</span>n_rec=7)</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 140, 32 lines modified</td><td colspan="2">Offset 137, 29 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">140 </td><td class="diffpresent">user_col<span class="dp">·</span>=<span class="dp">·</span>[&quot;sex&quot;,<span class="dp">·</span>&quot;age&quot;,<span class="dp">·</span>&quot;occupation&quot;]</td><td class="diffline">137 </td><td class="diffpresent">user_col<span class="dp">·</span>=<span class="dp">·</span>[&quot;sex&quot;,<span class="dp">·</span>&quot;age&quot;,<span class="dp">·</span>&quot;occupation&quot;]</td></tr>
<tr class="diffunmodified"><td class="diffline">141 </td><td class="diffpresent">item_col<span class="dp">·</span>=<span class="dp">·</span>[&quot;genre1&quot;,<span class="dp">·</span>&quot;genre2&quot;,<span class="dp">·</span>&quot;genre3&quot;]</td><td class="diffline">138 </td><td class="diffpresent">item_col<span class="dp">·</span>=<span class="dp">·</span>[&quot;genre1&quot;,<span class="dp">·</span>&quot;genre2&quot;,<span class="dp">·</span>&quot;genre3&quot;]</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">142 </td><td class="diffpresent">train_data,<span class="dp">·</span>data_info<span class="dp">·</span>=<span class="dp">·</span>DatasetFeat.build_trainset(</td><td class="diffline">139 </td><td class="diffpresent">train_data,<span class="dp">·</span>data_info<span class="dp">·</span>=<span class="dp">·</span>DatasetFeat.build_trainset(</td></tr>
<tr class="diffunmodified"><td class="diffline">143 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data,<span class="dp">·</span>user_col,<span class="dp">·</span>item_col,<span class="dp">·</span>sparse_col,<span class="dp">·</span>dense_col</td><td class="diffline">140 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data,<span class="dp">·</span>user_col,<span class="dp">·</span>item_col,<span class="dp">·</span>sparse_col,<span class="dp">·</span>dense_col</td></tr>
<tr class="diffunmodified"><td class="diffline">144 </td><td class="diffpresent">)</td><td class="diffline">141 </td><td class="diffpresent">)</td></tr>
<tr class="diffunmodified"><td class="diffline">145 </td><td class="diffpresent">test_data<span class="dp">·</span>=<span class="dp">·</span>DatasetFeat.build_testset(test_data)</td><td class="diffline">142 </td><td class="diffpresent">test_data<span class="dp">·</span>=<span class="dp">·</span>DatasetFeat.build_testset(test_data)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">146 </td><td class="diffpresent">#<span class="dp">·</span>sample<span class="dp">·</span>negative<span class="dp">·</span>items<span class="dp">·</span>for<span class="dp">·</span>each<span class="dp">·</span>record</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">147 </td><td class="diffpresent">train_data.build_negative_samples(data_info)<span class="dp">·</span><span class="dp">·</span></td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">148 </td><td class="diffpresent">test_data.build_negative_samples(data_info)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">149 </td><td class="diffpresent">print(data_info)<span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>n_users:<span class="dp">·</span>5962,<span class="dp">·</span>n_items:<span class="dp">·</span>3226,<span class="dp">·</span>data<span class="dp">·</span>sparsity:<span class="dp">·</span>0.4185<span class="dp">·</span>%</td><td class="diffline">143 </td><td class="diffpresent">print(data_info)<span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>n_users:<span class="dp">·</span>5962,<span class="dp">·</span>n_items:<span class="dp">·</span>3226,<span class="dp">·</span>data<span class="dp">·</span>sparsity:<span class="dp">·</span>0.4185<span class="dp">·</span>%</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">150 </td><td class="diffpresent">ytb_ranking<span class="dp">·</span>=<span class="dp">·</span>YouTubeRanking(</td><td class="diffline">144 </td><td class="diffpresent">ytb_ranking<span class="dp">·</span>=<span class="dp">·</span>YouTubeRanking(</td></tr>
<tr class="diffunmodified"><td class="diffline">151 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task=&quot;ranking&quot;,</td><td class="diffline">145 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task=&quot;ranking&quot;,</td></tr>
<tr class="error"><td colspan="4">
Max diff block lines reached; 2436/10204 bytes (23.87%) of diff not shown.
</td></tr></table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">3.02 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/LibRecommender.egg-info/SOURCES.txt</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--LibRecommender.egg-info-SOURCES.txt"><span class="source">LibRecommender-1.1.0/LibRecommender.egg-info/SOURCES.txt</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--LibRecommender.egg-info-SOURCES.txt">¶</a>
      </div>
      </div>
      <div class="comment">Files 7% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 49, 59 lines modified</td><td colspan="2">Offset 49, 71 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">49 </td><td class="diffpresent">libreco/algorithms/torch_modules/pinsage_module.py</td><td class="diffline">49 </td><td class="diffpresent">libreco/algorithms/torch_modules/pinsage_module.py</td></tr>
<tr class="diffunmodified"><td class="diffline">50 </td><td class="diffpresent">libreco/bases/__init__.py</td><td class="diffline">50 </td><td class="diffpresent">libreco/bases/__init__.py</td></tr>
<tr class="diffunmodified"><td class="diffline">51 </td><td class="diffpresent">libreco/bases/base.py</td><td class="diffline">51 </td><td class="diffpresent">libreco/bases/base.py</td></tr>
<tr class="diffunmodified"><td class="diffline">52 </td><td class="diffpresent">libreco/bases/cf_base.py</td><td class="diffline">52 </td><td class="diffpresent">libreco/bases/cf_base.py</td></tr>
<tr class="diffunmodified"><td class="diffline">53 </td><td class="diffpresent">libreco/bases/embed_base.py</td><td class="diffline">53 </td><td class="diffpresent">libreco/bases/embed_base.py</td></tr>
<tr class="diffunmodified"><td class="diffline">54 </td><td class="diffpresent">libreco/bases/gensim_base.py</td><td class="diffline">54 </td><td class="diffpresent">libreco/bases/gensim_base.py</td></tr>
<tr class="diffunmodified"><td class="diffline">55 </td><td class="diffpresent">libreco/bases/meta.py</td><td class="diffline">55 </td><td class="diffpresent">libreco/bases/meta.py</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">56 </td><td class="diffpresent">libreco/bases/sage_base.py</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">57 </td><td class="diffpresent">libreco/bases/seq_base.py</td></tr>
<tr class="diffunmodified"><td class="diffline">56 </td><td class="diffpresent">libreco/bases/tf_base.py</td><td class="diffline">58 </td><td class="diffpresent">libreco/bases/tf_base.py</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">59 </td><td class="diffpresent">libreco/batch/__init__.py</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">60 </td><td class="diffpresent">libreco/batch/batch_data.py</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">61 </td><td class="diffpresent">libreco/batch/batch_unit.py</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">62 </td><td class="diffpresent">libreco/batch/collators.py</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">63 </td><td class="diffpresent">libreco/batch/enums.py</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">64 </td><td class="diffpresent">libreco/batch/sequence.py</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">65 </td><td class="diffpresent">libreco/batch/tf_feed_dicts.py</td></tr>
<tr class="diffunmodified"><td class="diffline">57 </td><td class="diffpresent">libreco/data/__init__.py</td><td class="diffline">66 </td><td class="diffpresent">libreco/data/__init__.py</td></tr>
<tr class="diffchanged"><td class="diffline">58 </td><td class="diffpresent">libreco/data/<del>data_</del><del>ge</del>n<del>e</del><del>rator</del>.py</td><td class="diffline">67 </td><td class="diffpresent">libreco/data/<ins>co</ins>n<ins>sumed</ins>.py</td></tr>
<tr class="diffunmodified"><td class="diffline">59 </td><td class="diffpresent">libreco/data/data_info.py</td><td class="diffline">68 </td><td class="diffpresent">libreco/data/data_info.py</td></tr>
<tr class="diffunmodified"><td class="diffline">60 </td><td class="diffpresent">libreco/data/dataset.py</td><td class="diffline">69 </td><td class="diffpresent">libreco/data/dataset.py</td></tr>
<tr class="diffunmodified"><td class="diffline">61 </td><td class="diffpresent">libreco/data/processing.py</td><td class="diffline">70 </td><td class="diffpresent">libreco/data/processing.py</td></tr>
<tr class="diffdeleted"><td class="diffline">62 </td><td class="diffpresent">libreco/data/sequence.py</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">63 </td><td class="diffpresent">libreco/data/split.py</td><td class="diffline">71 </td><td class="diffpresent">libreco/data/split.py</td></tr>
<tr class="diffunmodified"><td class="diffline">64 </td><td class="diffpresent">libreco/data/transformed.py</td><td class="diffline">72 </td><td class="diffpresent">libreco/data/transformed.py</td></tr>
<tr class="diffunmodified"><td class="diffline">65 </td><td class="diffpresent">libreco/embedding/__init__.py</td><td class="diffline">73 </td><td class="diffpresent">libreco/embedding/__init__.py</td></tr>
<tr class="diffunmodified"><td class="diffline">66 </td><td class="diffpresent">libreco/evaluation/__init__.py</td><td class="diffline">74 </td><td class="diffpresent">libreco/evaluation/__init__.py</td></tr>
<tr class="diffunmodified"><td class="diffline">67 </td><td class="diffpresent">libreco/evaluation/computation.py</td><td class="diffline">75 </td><td class="diffpresent">libreco/evaluation/computation.py</td></tr>
<tr class="diffunmodified"><td class="diffline">68 </td><td class="diffpresent">libreco/evaluation/evaluate.py</td><td class="diffline">76 </td><td class="diffpresent">libreco/evaluation/evaluate.py</td></tr>
<tr class="diffunmodified"><td class="diffline">69 </td><td class="diffpresent">libreco/evaluation/metrics.py</td><td class="diffline">77 </td><td class="diffpresent">libreco/evaluation/metrics.py</td></tr>
<tr class="diffunmodified"><td class="diffline">70 </td><td class="diffpresent">libreco/feature/__init__.py</td><td class="diffline">78 </td><td class="diffpresent">libreco/feature/__init__.py</td></tr>
<tr class="diffdeleted"><td class="diffline">71 </td><td class="diffpresent">libreco/feature/column.py</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">72 </td><td class="diffpresent">libreco/feature/column_mapping.py</td><td class="diffline">79 </td><td class="diffpresent">libreco/feature/column_mapping.py</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">80 </td><td class="diffpresent">libreco/feature/multi_sparse.py</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">81 </td><td class="diffpresent">libreco/feature/sparse.py</td></tr>
<tr class="diffchanged"><td class="diffline">73 </td><td class="diffpresent">libreco/feature/unique<del>_features</del>.py</td><td class="diffline">82 </td><td class="diffpresent">libreco/feature/unique.py</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">83 </td><td class="diffpresent">libreco/feature/update.py</td></tr>
<tr class="diffunmodified"><td class="diffline">74 </td><td class="diffpresent">libreco/graph/__init__.py</td><td class="diffline">84 </td><td class="diffpresent">libreco/graph/__init__.py</td></tr>
<tr class="diffunmodified"><td class="diffline">75 </td><td class="diffpresent">libreco/graph/from_dgl.py</td><td class="diffline">85 </td><td class="diffpresent">libreco/graph/from_dgl.py</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">86 </td><td class="diffpresent">libreco/graph/message.py</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">87 </td><td class="diffpresent">libreco/graph/neighbor_walk.py</td></tr>
<tr class="diffunmodified"><td class="diffline">76 </td><td class="diffpresent">libreco/prediction/__init__.py</td><td class="diffline">88 </td><td class="diffpresent">libreco/prediction/__init__.py</td></tr>
<tr class="diffunmodified"><td class="diffline">77 </td><td class="diffpresent">libreco/prediction/predict.py</td><td class="diffline">89 </td><td class="diffpresent">libreco/prediction/predict.py</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">90 </td><td class="diffpresent">libreco/prediction/preprocess.py</td></tr>
<tr class="diffunmodified"><td class="diffline">78 </td><td class="diffpresent">libreco/recommendation/__init__.py</td><td class="diffline">91 </td><td class="diffpresent">libreco/recommendation/__init__.py</td></tr>
<tr class="diffunmodified"><td class="diffline">79 </td><td class="diffpresent">libreco/recommendation/cold_start.py</td><td class="diffline">92 </td><td class="diffpresent">libreco/recommendation/cold_start.py</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">93 </td><td class="diffpresent">libreco/recommendation/preprocess.py</td></tr>
<tr class="diffunmodified"><td class="diffline">80 </td><td class="diffpresent">libreco/recommendation/ranking.py</td><td class="diffline">94 </td><td class="diffpresent">libreco/recommendation/ranking.py</td></tr>
<tr class="diffunmodified"><td class="diffline">81 </td><td class="diffpresent">libreco/recommendation/recommend.py</td><td class="diffline">95 </td><td class="diffpresent">libreco/recommendation/recommend.py</td></tr>
<tr class="diffunmodified"><td class="diffline">82 </td><td class="diffpresent">libreco/sampling/__init__.py</td><td class="diffline">96 </td><td class="diffpresent">libreco/sampling/__init__.py</td></tr>
<tr class="diffdeleted"><td class="diffline">83 </td><td class="diffpresent">libreco/sampling/batch_unit.py</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">84 </td><td class="diffpresent">libreco/sampling/data_sampler.py</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">85 </td><td class="diffpresent">libreco/sampling/negatives.py</td><td class="diffline">97 </td><td class="diffpresent">libreco/sampling/negatives.py</td></tr>
<tr class="diffunmodified"><td class="diffline">86 </td><td class="diffpresent">libreco/sampling/random_walks.py</td><td class="diffline">98 </td><td class="diffpresent">libreco/sampling/random_walks.py</td></tr>
<tr class="diffunmodified"><td class="diffline">87 </td><td class="diffpresent">libreco/tfops/__init__.py</td><td class="diffline">99 </td><td class="diffpresent">libreco/tfops/__init__.py</td></tr>
<tr class="diffunmodified"><td class="diffline">88 </td><td class="diffpresent">libreco/tfops/configs.py</td><td class="diffline">100 </td><td class="diffpresent">libreco/tfops/configs.py</td></tr>
<tr class="diffunmodified"><td class="diffline">89 </td><td class="diffpresent">libreco/tfops/features.py</td><td class="diffline">101 </td><td class="diffpresent">libreco/tfops/features.py</td></tr>
<tr class="diffunmodified"><td class="diffline">90 </td><td class="diffpresent">libreco/tfops/layers.py</td><td class="diffline">102 </td><td class="diffpresent">libreco/tfops/layers.py</td></tr>
<tr class="diffunmodified"><td class="diffline">91 </td><td class="diffpresent">libreco/tfops/loss.py</td><td class="diffline">103 </td><td class="diffpresent">libreco/tfops/loss.py</td></tr>
<tr class="diffunmodified"><td class="diffline">92 </td><td class="diffpresent">libreco/tfops/rebuild.py</td><td class="diffline">104 </td><td class="diffpresent">libreco/tfops/rebuild.py</td></tr>
<tr class="diffunmodified"><td class="diffline">93 </td><td class="diffpresent">libreco/tfops/variables.py</td><td class="diffline">105 </td><td class="diffpresent">libreco/tfops/variables.py</td></tr>
<tr class="diffunmodified"><td class="diffline">94 </td><td class="diffpresent">libreco/tfops/version.py</td><td class="diffline">106 </td><td class="diffpresent">libreco/tfops/version.py</td></tr>
<tr class="diffunmodified"><td class="diffline">95 </td><td class="diffpresent">libreco/torchops/__init__.py</td><td class="diffline">107 </td><td class="diffpresent">libreco/torchops/__init__.py</td></tr>
<tr class="diffunmodified"><td class="diffline">96 </td><td class="diffpresent">libreco/torchops/configs.py</td><td class="diffline">108 </td><td class="diffpresent">libreco/torchops/configs.py</td></tr>
<tr class="diffdeleted"><td class="diffline">97 </td><td class="diffpresent">libreco/torchops/features.py</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">98 </td><td class="diffpresent">libreco/torchops/loss.py</td><td class="diffline">109 </td><td class="diffpresent">libreco/torchops/loss.py</td></tr>
<tr class="diffunmodified"><td class="diffline">99 </td><td class="diffpresent">libreco/torchops/rebuild.py</td><td class="diffline">110 </td><td class="diffpresent">libreco/torchops/rebuild.py</td></tr>
<tr class="diffunmodified"><td class="diffline">100 </td><td class="diffpresent">libreco/training/__init__.py</td><td class="diffline">111 </td><td class="diffpresent">libreco/training/__init__.py</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">112 </td><td class="diffpresent">libreco/training/dispatch.py</td></tr>
<tr class="diffunmodified"><td class="diffline">101 </td><td class="diffpresent">libreco/training/tf_trainer.py</td><td class="diffline">113 </td><td class="diffpresent">libreco/training/tf_trainer.py</td></tr>
<tr class="diffunmodified"><td class="diffline">102 </td><td class="diffpresent">libreco/training/torch_trainer.py</td><td class="diffline">114 </td><td class="diffpresent">libreco/training/torch_trainer.py</td></tr>
<tr class="diffunmodified"><td class="diffline">103 </td><td class="diffpresent">libreco/training/trainer.py</td><td class="diffline">115 </td><td class="diffpresent">libreco/training/trainer.py</td></tr>
<tr class="diffunmodified"><td class="diffline">104 </td><td class="diffpresent">libreco/utils/__init__.py</td><td class="diffline">116 </td><td class="diffpresent">libreco/utils/__init__.py</td></tr>
<tr class="diffunmodified"><td class="diffline">105 </td><td class="diffpresent">libreco/utils/_similarities.cpp</td><td class="diffline">117 </td><td class="diffpresent">libreco/utils/_similarities.cpp</td></tr>
<tr class="diffunmodified"><td class="diffline">106 </td><td class="diffpresent">libreco/utils/_similarities.pyx</td><td class="diffline">118 </td><td class="diffpresent">libreco/utils/_similarities.pyx</td></tr>
<tr class="diffunmodified"><td class="diffline">107 </td><td class="diffpresent">libreco/utils/constants.py</td><td class="diffline">119 </td><td class="diffpresent">libreco/utils/constants.py</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 109, 17 lines modified</td><td colspan="2">Offset 121, 17 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">109 </td><td class="diffpresent">libreco/utils/initializers.py</td><td class="diffline">121 </td><td class="diffpresent">libreco/utils/initializers.py</td></tr>
<tr class="diffunmodified"><td class="diffline">110 </td><td class="diffpresent">libreco/utils/misc.py</td><td class="diffline">122 </td><td class="diffpresent">libreco/utils/misc.py</td></tr>
<tr class="diffunmodified"><td class="diffline">111 </td><td class="diffpresent">libreco/utils/sampling.py</td><td class="diffline">123 </td><td class="diffpresent">libreco/utils/sampling.py</td></tr>
<tr class="diffunmodified"><td class="diffline">112 </td><td class="diffpresent">libreco/utils/save_load.py</td><td class="diffline">124 </td><td class="diffpresent">libreco/utils/save_load.py</td></tr>
<tr class="diffunmodified"><td class="diffline">113 </td><td class="diffpresent">libreco/utils/similarities.py</td><td class="diffline">125 </td><td class="diffpresent">libreco/utils/similarities.py</td></tr>
<tr class="diffunmodified"><td class="diffline">114 </td><td class="diffpresent">libreco/utils/validate.py</td><td class="diffline">126 </td><td class="diffpresent">libreco/utils/validate.py</td></tr>
<tr class="diffunmodified"><td class="diffline">115 </td><td class="diffpresent">libserving/__init__.py</td><td class="diffline">127 </td><td class="diffpresent">libserving/__init__.py</td></tr>
<tr class="diffdeleted"><td class="diffline">116 </td><td class="diffpresent">libserving/benchmark.py</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">117 </td><td class="diffpresent">libserving/request.py</td><td class="diffline">128 </td><td class="diffpresent">libserving/request.py</td></tr>
<tr class="diffunmodified"><td class="diffline">118 </td><td class="diffpresent">libserving/sanic_serving/__init__.py</td><td class="diffline">129 </td><td class="diffpresent">libserving/sanic_serving/__init__.py</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">130 </td><td class="diffpresent">libserving/sanic_serving/benchmark.py</td></tr>
<tr class="diffunmodified"><td class="diffline">119 </td><td class="diffpresent">libserving/sanic_serving/common.py</td><td class="diffline">131 </td><td class="diffpresent">libserving/sanic_serving/common.py</td></tr>
<tr class="diffunmodified"><td class="diffline">120 </td><td class="diffpresent">libserving/sanic_serving/embed_deploy.py</td><td class="diffline">132 </td><td class="diffpresent">libserving/sanic_serving/embed_deploy.py</td></tr>
<tr class="diffunmodified"><td class="diffline">121 </td><td class="diffpresent">libserving/sanic_serving/knn_deploy.py</td><td class="diffline">133 </td><td class="diffpresent">libserving/sanic_serving/knn_deploy.py</td></tr>
<tr class="diffunmodified"><td class="diffline">122 </td><td class="diffpresent">libserving/sanic_serving/tf_deploy.py</td><td class="diffline">134 </td><td class="diffpresent">libserving/sanic_serving/tf_deploy.py</td></tr>
<tr class="diffunmodified"><td class="diffline">123 </td><td class="diffpresent">libserving/serialization/__init__.py</td><td class="diffline">135 </td><td class="diffpresent">libserving/serialization/__init__.py</td></tr>
<tr class="diffunmodified"><td class="diffline">124 </td><td class="diffpresent">libserving/serialization/common.py</td><td class="diffline">136 </td><td class="diffpresent">libserving/serialization/common.py</td></tr>
<tr class="diffunmodified"><td class="diffline">125 </td><td class="diffpresent">libserving/serialization/embed.py</td><td class="diffline">137 </td><td class="diffpresent">libserving/serialization/embed.py</td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">10.1 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/PKG-INFO</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--PKG-INFO"><span class="source">LibRecommender-1.1.0/PKG-INFO</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--PKG-INFO">¶</a>
      </div>
      </div>
      <div class="comment">Files 4% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 63 lines modified</td><td colspan="2">Offset 1, 63 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">1 </td><td class="diffpresent">Metadata-Version:<span class="dp">·</span>2.1</td><td class="diffline">1 </td><td class="diffpresent">Metadata-Version:<span class="dp">·</span>2.1</td></tr>
<tr class="diffunmodified"><td class="diffline">2 </td><td class="diffpresent">Name:<span class="dp">·</span>LibRecommender</td><td class="diffline">2 </td><td class="diffpresent">Name:<span class="dp">·</span>LibRecommender</td></tr>
<tr class="diffchanged"><td class="diffline">3 </td><td class="diffpresent">Version:<span class="dp">·</span>1.<del>0</del>.<del>1</del></td><td class="diffline">3 </td><td class="diffpresent">Version:<span class="dp">·</span>1.<ins>1</ins>.<ins>0</ins></td></tr>
<tr class="diffunmodified"><td class="diffline">4 </td><td class="diffpresent">Summary:<span class="dp">·</span>Versatile<span class="dp">·</span>end-to-end<span class="dp">·</span>recommender<span class="dp">·</span>system.</td><td class="diffline">4 </td><td class="diffpresent">Summary:<span class="dp">·</span>Versatile<span class="dp">·</span>end-to-end<span class="dp">·</span>recommender<span class="dp">·</span>system.</td></tr>
<tr class="diffunmodified"><td class="diffline">5 </td><td class="diffpresent">Home-page:<span class="dp">·</span>https://github.com/massquantity/LibRecommender</td><td class="diffline">5 </td><td class="diffpresent">Home-page:<span class="dp">·</span>https://github.com/massquantity/LibRecommender</td></tr>
<tr class="diffunmodified"><td class="diffline">6 </td><td class="diffpresent">Author:<span class="dp">·</span>massquantity</td><td class="diffline">6 </td><td class="diffpresent">Author:<span class="dp">·</span>massquantity</td></tr>
<tr class="diffunmodified"><td class="diffline">7 </td><td class="diffpresent">Author-email:<span class="dp">·</span>massquantity<span class="dp">·</span>&lt;jinxin_madie@163.com&gt;</td><td class="diffline">7 </td><td class="diffpresent">Author-email:<span class="dp">·</span>massquantity<span class="dp">·</span>&lt;jinxin_madie@163.com&gt;</td></tr>
<tr class="diffunmodified"><td class="diffline">8 </td><td class="diffpresent">License:<span class="dp">·</span>MIT</td><td class="diffline">8 </td><td class="diffpresent">License:<span class="dp">·</span>MIT</td></tr>
<tr class="diffchanged"><td class="diffline">9 </td><td class="diffpresent">Project-URL:<span class="dp">·</span>documentation,<span class="dp">·</span>https://librecommender.readthedocs.io/en/<del>stable</del>/</td><td class="diffline">9 </td><td class="diffpresent">Project-URL:<span class="dp">·</span>documentation,<span class="dp">·</span>https://librecommender.readthedocs.io/en/<ins>latest</ins>/</td></tr>
<tr class="diffunmodified"><td class="diffline">10 </td><td class="diffpresent">Project-URL:<span class="dp">·</span>repository,<span class="dp">·</span>https://github.com/massquantity/LibRecommender</td><td class="diffline">10 </td><td class="diffpresent">Project-URL:<span class="dp">·</span>repository,<span class="dp">·</span>https://github.com/massquantity/LibRecommender</td></tr>
<tr class="diffunmodified"><td class="diffline">11 </td><td class="diffpresent">Keywords:<span class="dp">·</span>Collaborative<span class="dp">·</span>Filtering,Recommender<span class="dp">·</span>System</td><td class="diffline">11 </td><td class="diffpresent">Keywords:<span class="dp">·</span>Collaborative<span class="dp">·</span>Filtering,Recommender<span class="dp">·</span>System</td></tr>
<tr class="diffunmodified"><td class="diffline">12 </td><td class="diffpresent">Classifier:<span class="dp">·</span>Development<span class="dp">·</span>Status<span class="dp">·</span>::<span class="dp">·</span>5<span class="dp">·</span>-<span class="dp">·</span>Production/Stable</td><td class="diffline">12 </td><td class="diffpresent">Classifier:<span class="dp">·</span>Development<span class="dp">·</span>Status<span class="dp">·</span>::<span class="dp">·</span>5<span class="dp">·</span>-<span class="dp">·</span>Production/Stable</td></tr>
<tr class="diffunmodified"><td class="diffline">13 </td><td class="diffpresent">Classifier:<span class="dp">·</span>Intended<span class="dp">·</span>Audience<span class="dp">·</span>::<span class="dp">·</span>Developers</td><td class="diffline">13 </td><td class="diffpresent">Classifier:<span class="dp">·</span>Intended<span class="dp">·</span>Audience<span class="dp">·</span>::<span class="dp">·</span>Developers</td></tr>
<tr class="diffunmodified"><td class="diffline">14 </td><td class="diffpresent">Classifier:<span class="dp">·</span>Intended<span class="dp">·</span>Audience<span class="dp">·</span>::<span class="dp">·</span>Education</td><td class="diffline">14 </td><td class="diffpresent">Classifier:<span class="dp">·</span>Intended<span class="dp">·</span>Audience<span class="dp">·</span>::<span class="dp">·</span>Education</td></tr>
<tr class="diffunmodified"><td class="diffline">15 </td><td class="diffpresent">Classifier:<span class="dp">·</span>Intended<span class="dp">·</span>Audience<span class="dp">·</span>::<span class="dp">·</span>Science/Research</td><td class="diffline">15 </td><td class="diffpresent">Classifier:<span class="dp">·</span>Intended<span class="dp">·</span>Audience<span class="dp">·</span>::<span class="dp">·</span>Science/Research</td></tr>
<tr class="diffunmodified"><td class="diffline">16 </td><td class="diffpresent">Classifier:<span class="dp">·</span>License<span class="dp">·</span>::<span class="dp">·</span>OSI<span class="dp">·</span>Approved<span class="dp">·</span>::<span class="dp">·</span>MIT<span class="dp">·</span>License</td><td class="diffline">16 </td><td class="diffpresent">Classifier:<span class="dp">·</span>License<span class="dp">·</span>::<span class="dp">·</span>OSI<span class="dp">·</span>Approved<span class="dp">·</span>::<span class="dp">·</span>MIT<span class="dp">·</span>License</td></tr>
<tr class="diffunmodified"><td class="diffline">17 </td><td class="diffpresent">Classifier:<span class="dp">·</span>Programming<span class="dp">·</span>Language<span class="dp">·</span>::<span class="dp">·</span>Python<span class="dp">·</span>::<span class="dp">·</span>3.6</td><td class="diffline">17 </td><td class="diffpresent">Classifier:<span class="dp">·</span>Programming<span class="dp">·</span>Language<span class="dp">·</span>::<span class="dp">·</span>Python<span class="dp">·</span>::<span class="dp">·</span>3.6</td></tr>
<tr class="diffunmodified"><td class="diffline">18 </td><td class="diffpresent">Classifier:<span class="dp">·</span>Programming<span class="dp">·</span>Language<span class="dp">·</span>::<span class="dp">·</span>Python<span class="dp">·</span>::<span class="dp">·</span>3.7</td><td class="diffline">18 </td><td class="diffpresent">Classifier:<span class="dp">·</span>Programming<span class="dp">·</span>Language<span class="dp">·</span>::<span class="dp">·</span>Python<span class="dp">·</span>::<span class="dp">·</span>3.7</td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent">Classifier:<span class="dp">·</span>Programming<span class="dp">·</span>Language<span class="dp">·</span>::<span class="dp">·</span>Python<span class="dp">·</span>::<span class="dp">·</span>3.8</td><td class="diffline">19 </td><td class="diffpresent">Classifier:<span class="dp">·</span>Programming<span class="dp">·</span>Language<span class="dp">·</span>::<span class="dp">·</span>Python<span class="dp">·</span>::<span class="dp">·</span>3.8</td></tr>
<tr class="diffunmodified"><td class="diffline">20 </td><td class="diffpresent">Classifier:<span class="dp">·</span>Programming<span class="dp">·</span>Language<span class="dp">·</span>::<span class="dp">·</span>Python<span class="dp">·</span>::<span class="dp">·</span>3.9</td><td class="diffline">20 </td><td class="diffpresent">Classifier:<span class="dp">·</span>Programming<span class="dp">·</span>Language<span class="dp">·</span>::<span class="dp">·</span>Python<span class="dp">·</span>::<span class="dp">·</span>3.9</td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent">Classifier:<span class="dp">·</span>Programming<span class="dp">·</span>Language<span class="dp">·</span>::<span class="dp">·</span>Python<span class="dp">·</span>::<span class="dp">·</span>3.10</td><td class="diffline">21 </td><td class="diffpresent">Classifier:<span class="dp">·</span>Programming<span class="dp">·</span>Language<span class="dp">·</span>::<span class="dp">·</span>Python<span class="dp">·</span>::<span class="dp">·</span>3.10</td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent">Classifier:<span class="dp">·</span>Programming<span class="dp">·</span>Language<span class="dp">·</span>::<span class="dp">·</span>Cython</td><td class="diffline">22 </td><td class="diffpresent">Classifier:<span class="dp">·</span>Programming<span class="dp">·</span>Language<span class="dp">·</span>::<span class="dp">·</span>Cython</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">23 </td><td class="diffpresent">Classifier:<span class="dp">·</span>Programming<span class="dp">·</span>Language<span class="dp">·</span>::<span class="dp">·</span>Rust</td></tr>
<tr class="diffunmodified"><td class="diffline">23 </td><td class="diffpresent">Requires-Python:<span class="dp">·</span>&gt;=3.6</td><td class="diffline">24 </td><td class="diffpresent">Requires-Python:<span class="dp">·</span>&gt;=3.6</td></tr>
<tr class="diffunmodified"><td class="diffline">24 </td><td class="diffpresent">Description-Content-Type:<span class="dp">·</span>text/markdown</td><td class="diffline">25 </td><td class="diffpresent">Description-Content-Type:<span class="dp">·</span>text/markdown</td></tr>
<tr class="diffunmodified"><td class="diffline">25 </td><td class="diffpresent">License-File:<span class="dp">·</span>LICENSE</td><td class="diffline">26 </td><td class="diffpresent">License-File:<span class="dp">·</span>LICENSE</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">26 </td><td class="diffpresent">#<span class="dp">·</span>LibRecommender</td><td class="diffline">27 </td><td class="diffpresent">#<span class="dp">·</span>LibRecommender</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">27 </td><td class="diffpresent">[![Build](https://img.shields.io/github/actions/workflow/status/massquantity/LibRecommender/wheels.yml?branch=master)](https://github.com/massquantity/LibRecommender/actions/workflows/wheels.yml)</td><td class="diffline">28 </td><td class="diffpresent">[![Build](https://img.shields.io/github/actions/workflow/status/massquantity/LibRecommender/wheels.yml?branch=master<ins>&amp;logo=github</ins>)](https://github.com/massquantity/LibRecommender/actions/workflows/wheels.yml)</td></tr>
<tr class="diffunmodified"><td class="diffline">28 </td><td class="diffpresent">[![CI](https://github.com/massquantity/LibRecommender/actions/workflows/ci.yml/badge.svg)](https://github.com/massquantity/LibRecommender/actions/workflows/ci.yml)</td><td class="diffline">29 </td><td class="diffpresent">[![CI](https://github.com/massquantity/LibRecommender/actions/workflows/ci.yml/badge.svg)](https://github.com/massquantity/LibRecommender/actions/workflows/ci.yml)</td></tr>
<tr class="diffchanged"><td class="diffline">29 </td><td class="diffpresent">[![<del>c</del>odecov](https://codecov<del>.</del><del>io</del>/gh/massquantity/LibRecommender<del>/branch/master/graph/badge.sv</del>g<del>?t</del>o<del>ken</del>=<del>BYOY</del>F<del>BUJRL</del>)](https://codecov.io/gh/massquantity/LibRecommender)</td><td class="diffline">30 </td><td class="diffpresent">[![<ins>C</ins>odecov](https:<ins>/</ins>/<ins>img.shields.io</ins>/codecov<ins>/c</ins>/g<ins>it</ins>h<ins>ub</ins>/massquantity/LibRecommender<ins>?color=ffdfba&amp;logo=codecov&amp;lo</ins>g<ins>oC</ins>o<ins>lor</ins>=<ins>%</ins><ins>2300</ins>F<ins>C87CD</ins>)](https://<ins>app.</ins>codecov.io/gh/massquantity/LibRecommender)</td></tr>
<tr class="diffunmodified"><td class="diffline">30 </td><td class="diffpresent">[![pypi](https://img.shields.io/pypi/v/LibRecommender?color=blue)](https://pypi.org/project/LibRecommender/)</td><td class="diffline">31 </td><td class="diffpresent">[![pypi](https://img.shields.io/pypi/v/LibRecommender?color=blue)](https://pypi.org/project/LibRecommender/)</td></tr>
<tr class="diffunmodified"><td class="diffline">31 </td><td class="diffpresent">[![Downloads](https://static.pepy.tech/personalized-badge/librecommender?period=total&amp;units=international_system&amp;left_color=grey&amp;right_color=lightgrey&amp;left_text=Downloads)](https://pepy.tech/project/librecommender)</td><td class="diffline">32 </td><td class="diffpresent">[![Downloads](https://static.pepy.tech/personalized-badge/librecommender?period=total&amp;units=international_system&amp;left_color=grey&amp;right_color=lightgrey&amp;left_text=Downloads)](https://pepy.tech/project/librecommender)</td></tr>
<tr class="diffdeleted"><td class="diffline">32 </td><td class="diffpresent">[![python<span class="dp">·</span>versions](https://img.shields.io/pypi/pyversions/LibRecommender?logo=python&amp;logoColor=ffffba)](https://pypi.org/project/LibRecommender/)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">33 </td><td class="diffpresent">[![Codacy<span class="dp">·</span>Badge](https://app.codacy.com/project/badge/Grade/860f0cb5339c41fba9bee5770d09be47)](https://www.codacy.com/gh/massquantity/LibRecommender/dashboard?utm_source=github.com&amp;amp;utm_medium=referral&amp;amp;utm_content=massquantity/LibRecommender&amp;amp;utm_campaign=Badge_Grade)</td><td class="diffline">33 </td><td class="diffpresent">[![Codacy<span class="dp">·</span>Badge](https://app.codacy.com/project/badge/Grade/860f0cb5339c41fba9bee5770d09be47)](https://www.codacy.com/gh/massquantity/LibRecommender/dashboard?utm_source=github.com&amp;amp;utm_medium=referral&amp;amp;utm_content=massquantity/LibRecommender&amp;amp;utm_campaign=Badge_Grade)</td></tr>
<tr class="diffunmodified"><td class="diffline">34 </td><td class="diffpresent">[![Code<span class="dp">·</span>style:<span class="dp">·</span>black](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black)</td><td class="diffline">34 </td><td class="diffpresent">[![Code<span class="dp">·</span>style:<span class="dp">·</span>black](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black)</td></tr>
<tr class="diffunmodified"><td class="diffline">35 </td><td class="diffpresent">[![Ruff](https://img.shields.io/endpoint?url=https://raw.githubusercontent.com/charliermarsh/ruff/main/assets/badge/v1.json)](https://github.com/charliermarsh/ruff)</td><td class="diffline">35 </td><td class="diffpresent">[![Ruff](https://img.shields.io/endpoint?url=https://raw.githubusercontent.com/charliermarsh/ruff/main/assets/badge/v1.json)](https://github.com/charliermarsh/ruff)</td></tr>
<tr class="diffdeleted"><td class="diffline">36 </td><td class="diffpresent">[![platform](https://img.shields.io/badge/platform-linux%20%7C%20macos%20%7C%20windows-%23ffdfba)](https://img.shields.io/badge/platform-linux%20%7C%20macos%20%7C%20windows-%23ffdfba)</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">37 </td><td class="diffpresent">[![Documentation<span class="dp">·</span>Status](https://readthedocs.org/projects/librecommender/badge/?version=<del>stable</del>)](https://librecommender.readthedocs.io/en/<del>stable</del>/?badge=<del>stable</del>)</td><td class="diffline">36 </td><td class="diffpresent">[![Documentation<span class="dp">·</span>Status](https://readthedocs.org/projects/librecommender/badge/?version=<ins>latest</ins>)](https://librecommender.readthedocs.io/en/<ins>latest</ins>/?badge=<ins>latest</ins>)</td></tr>
<tr class="diffunmodified"><td class="diffline">38 </td><td class="diffpresent">![visitors](https://visitor-badge.glitch.me/badge?page_id=massquantity.LibRecommender&amp;right_color=rgb(91,194,231))</td><td class="diffline">37 </td><td class="diffpresent">![visitors](https://visitor-badge.glitch.me/badge?page_id=massquantity.LibRecommender&amp;right_color=rgb(91,194,231))</td></tr>
<tr class="diffunmodified"><td class="diffline">39 </td><td class="diffpresent">[![License](https://img.shields.io/github/license/massquantity/LibRecommender?color=ff69b4)](https://github.com/massquantity/LibRecommender/blob/master/LICENSE)</td><td class="diffline">38 </td><td class="diffpresent">[![License](https://img.shields.io/github/license/massquantity/LibRecommender?color=ff69b4)](https://github.com/massquantity/LibRecommender/blob/master/LICENSE)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">40 </td><td class="diffpresent">##<span class="dp">·</span>Overview</td><td class="diffline">39 </td><td class="diffpresent">##<span class="dp">·</span>Overview</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">41 </td><td class="diffpresent">**LibRecommender**<span class="dp">·</span>is<span class="dp">·</span>an<span class="dp">·</span>easy-to-use<span class="dp">·</span>recommender<span class="dp">·</span>system<span class="dp">·</span>focused<span class="dp">·</span>on<span class="dp">·</span>end-to-end<span class="dp">·</span>recommendation<span class="dp">·</span>process.<span class="dp">·</span>It<span class="dp">·</span>contains<span class="dp">·</span>a<span class="dp">·</span>training([libreco](https://github.com/massquantity/LibRecommender/tree/master/libreco))<span class="dp">·</span>and<span class="dp">·</span>serving([libserving](https://github.com/massquantity/LibRecommender/tree/master/libserving))<span class="dp">·</span>module<span class="dp">·</span>to<span class="dp">·</span>let<span class="dp">·</span>users<span class="dp">·</span>quickly<span class="dp">·</span>train<span class="dp">·</span>and<span class="dp">·</span>deploy<span class="dp">·</span>different<span class="dp">·</span>kinds<span class="dp">·</span>of<span class="dp">·</span>recommendation<span class="dp">·</span>models.</td><td class="diffline">40 </td><td class="diffpresent">**LibRecommender**<span class="dp">·</span>is<span class="dp">·</span>an<span class="dp">·</span>easy-to-use<span class="dp">·</span>recommender<span class="dp">·</span>system<span class="dp">·</span>focused<span class="dp">·</span>on<span class="dp">·</span>end-to-end<span class="dp">·</span>recommendation<span class="dp">·</span>process.<span class="dp">·</span>It<span class="dp">·</span>contains<span class="dp">·</span>a<span class="dp">·</span>training([libreco](https://github.com/massquantity/LibRecommender/tree/master/libreco))<span class="dp">·</span>and<span class="dp">·</span>serving([libserving](https://github.com/massquantity/LibRecommender/tree/master/libserving))<span class="dp">·</span>module<span class="dp">·</span>to<span class="dp">·</span>let<span class="dp">·</span>users<span class="dp">·</span>quickly<span class="dp">·</span>train<span class="dp">·</span>and<span class="dp">·</span>deploy<span class="dp">·</span>different<span class="dp">·</span>kinds<span class="dp">·</span>of<span class="dp">·</span>recommendation<span class="dp">·</span>models.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">42 </td><td class="diffpresent">**The<span class="dp">·</span>main<span class="dp">·</span>features<span class="dp">·</span>are:**</td><td class="diffline">41 </td><td class="diffpresent">**The<span class="dp">·</span>main<span class="dp">·</span>features<span class="dp">·</span>are:**</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">43 </td><td class="diffpresent">+<span class="dp">·</span>Implements<span class="dp">·</span>a<span class="dp">·</span>number<span class="dp">·</span>of<span class="dp">·</span>popular<span class="dp">·</span>recommendation<span class="dp">·</span>algorithms<span class="dp">·</span>such<span class="dp">·</span>as<span class="dp">·</span>FM,<span class="dp">·</span>DIN,<span class="dp">·</span>LightGCN<span class="dp">·</span>etc.<span class="dp">·</span>See<span class="dp">·</span>[full<span class="dp">·</span>algorithm<span class="dp">·</span>list](#references).</td><td class="diffline">42 </td><td class="diffpresent">+<span class="dp">·</span>Implements<span class="dp">·</span>a<span class="dp">·</span>number<span class="dp">·</span>of<span class="dp">·</span>popular<span class="dp">·</span>recommendation<span class="dp">·</span>algorithms<span class="dp">·</span>such<span class="dp">·</span>as<span class="dp">·</span>FM,<span class="dp">·</span>DIN,<span class="dp">·</span>LightGCN<span class="dp">·</span>etc.<span class="dp">·</span>See<span class="dp">·</span>[full<span class="dp">·</span>algorithm<span class="dp">·</span>list](#references).</td></tr>
<tr class="diffunmodified"><td class="diffline">44 </td><td class="diffpresent">+<span class="dp">·</span>A<span class="dp">·</span>hybrid<span class="dp">·</span>recommender<span class="dp">·</span>system,<span class="dp">·</span>which<span class="dp">·</span>allows<span class="dp">·</span>user<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>either<span class="dp">·</span>collaborative-filtering<span class="dp">·</span>or<span class="dp">·</span>content-based<span class="dp">·</span>features.<span class="dp">·</span>New<span class="dp">·</span>features<span class="dp">·</span>can<span class="dp">·</span>be<span class="dp">·</span>added<span class="dp">·</span>on<span class="dp">·</span>the<span class="dp">·</span>fly.</td><td class="diffline">43 </td><td class="diffpresent">+<span class="dp">·</span>A<span class="dp">·</span>hybrid<span class="dp">·</span>recommender<span class="dp">·</span>system,<span class="dp">·</span>which<span class="dp">·</span>allows<span class="dp">·</span>user<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>either<span class="dp">·</span>collaborative-filtering<span class="dp">·</span>or<span class="dp">·</span>content-based<span class="dp">·</span>features.<span class="dp">·</span>New<span class="dp">·</span>features<span class="dp">·</span>can<span class="dp">·</span>be<span class="dp">·</span>added<span class="dp">·</span>on<span class="dp">·</span>the<span class="dp">·</span>fly.</td></tr>
<tr class="diffchanged"><td class="diffline">45 </td><td class="diffpresent">+<span class="dp">·</span>Low<span class="dp">·</span>memory<span class="dp">·</span>usage,<span class="dp">·</span>automatically<span class="dp">·</span>convert<span class="dp">·</span>categorical<span class="dp">·</span>and<span class="dp">·</span>multi-value<span class="dp">·</span>categorical<span class="dp">·</span>features<span class="dp">·</span>to<span class="dp">·</span>sparse<span class="dp">·</span>representation.</td><td class="diffline">44 </td><td class="diffpresent">+<span class="dp">·</span>Low<span class="dp">·</span>memory<span class="dp">·</span>usage,<span class="dp">·</span>automatically<span class="dp">·</span>convert<ins>s</ins><span class="dp">·</span>categorical<span class="dp">·</span>and<span class="dp">·</span>multi-value<span class="dp">·</span>categorical<span class="dp">·</span>features<span class="dp">·</span>to<span class="dp">·</span>sparse<span class="dp">·</span>representation.</td></tr>
<tr class="diffchanged"><td class="diffline">46 </td><td class="diffpresent">+<span class="dp">·</span>Support<span class="dp">·</span>training<span class="dp">·</span>for<span class="dp">·</span>both<span class="dp">·</span>explicit<span class="dp">·</span>and<span class="dp">·</span>implicit<span class="dp">·</span>datasets,<span class="dp">·</span>as<span class="dp">·</span>well<span class="dp">·</span>as<span class="dp">·</span>negative<span class="dp">·</span>sampling<span class="dp">·</span>on<span class="dp">·</span>implicit<span class="dp">·</span>data.</td><td class="diffline">45 </td><td class="diffpresent">+<span class="dp">·</span>Support<ins>s</ins><span class="dp">·</span>training<span class="dp">·</span>for<span class="dp">·</span>both<span class="dp">·</span>explicit<span class="dp">·</span>and<span class="dp">·</span>implicit<span class="dp">·</span>datasets,<span class="dp">·</span>as<span class="dp">·</span>well<span class="dp">·</span>as<span class="dp">·</span>negative<span class="dp">·</span>sampling<span class="dp">·</span>on<span class="dp">·</span>implicit<span class="dp">·</span>data.</td></tr>
<tr class="diffchanged"><td class="diffline">47 </td><td class="diffpresent">+<span class="dp">·</span>Provide<span class="dp">·</span>end-to-end<span class="dp">·</span>workflow,<span class="dp">·</span>i.e.<span class="dp">·</span>data<span class="dp">·</span>handling<span class="dp">·</span>/<span class="dp">·</span>preprocessing<span class="dp">·</span>-&gt;<span class="dp">·</span>model<span class="dp">·</span>training<span class="dp">·</span>-&gt;<span class="dp">·</span>evaluate<span class="dp">·</span>-&gt;<span class="dp">·</span>save/load<span class="dp">·</span>-&gt;<span class="dp">·</span>serving.</td><td class="diffline">46 </td><td class="diffpresent">+<span class="dp">·</span>Provide<ins>s</ins><span class="dp">·</span>end-to-end<span class="dp">·</span>workflow,<span class="dp">·</span>i.e.<span class="dp">·</span>data<span class="dp">·</span>handling<span class="dp">·</span>/<span class="dp">·</span>preprocessing<span class="dp">·</span>-&gt;<span class="dp">·</span>model<span class="dp">·</span>training<span class="dp">·</span>-&gt;<span class="dp">·</span>evaluate<span class="dp">·</span>-&gt;<span class="dp">·</span>save/load<span class="dp">·</span>-&gt;<span class="dp">·</span>serving.</td></tr>
<tr class="diffchanged"><td class="diffline">48 </td><td class="diffpresent">+<span class="dp">·</span>Support<span class="dp">·</span>cold-start<span class="dp">·</span>prediction<span class="dp">·</span>and<span class="dp">·</span>recommendation.</td><td class="diffline">47 </td><td class="diffpresent">+<span class="dp">·</span>Support<ins>s</ins><span class="dp">·</span>cold-start<span class="dp">·</span>prediction<span class="dp">·</span>and<span class="dp">·</span>recommendation.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">48 </td><td class="diffpresent">+<span class="dp">·</span>Supports<span class="dp">·</span>dynamic<span class="dp">·</span>feature<span class="dp">·</span>and<span class="dp">·</span>sequence<span class="dp">·</span>recommendation.</td></tr>
<tr class="diffchanged"><td class="diffline">49 </td><td class="diffpresent">+<span class="dp">·</span>Provide<span class="dp">·</span>unified<span class="dp">·</span>and<span class="dp">·</span>friendly<span class="dp">·</span>API<span class="dp">·</span>for<span class="dp">·</span>all<span class="dp">·</span>algorithms.<span class="dp">·</span></td><td class="diffline">49 </td><td class="diffpresent">+<span class="dp">·</span>Provide<ins>s</ins><span class="dp">·</span>unified<span class="dp">·</span>and<span class="dp">·</span>friendly<span class="dp">·</span>API<span class="dp">·</span>for<span class="dp">·</span>all<span class="dp">·</span>algorithms.<span class="dp">·</span></td></tr>
<tr class="diffunmodified"><td class="diffline">50 </td><td class="diffpresent">+<span class="dp">·</span>Easy<span class="dp">·</span>to<span class="dp">·</span>retrain<span class="dp">·</span>model<span class="dp">·</span>with<span class="dp">·</span>new<span class="dp">·</span>users/items<span class="dp">·</span>from<span class="dp">·</span>new<span class="dp">·</span>data.</td><td class="diffline">50 </td><td class="diffpresent">+<span class="dp">·</span>Easy<span class="dp">·</span>to<span class="dp">·</span>retrain<span class="dp">·</span>model<span class="dp">·</span>with<span class="dp">·</span>new<span class="dp">·</span>users/items<span class="dp">·</span>from<span class="dp">·</span>new<span class="dp">·</span>data.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">51 </td><td class="diffpresent">##<span class="dp">·</span>Usage</td><td class="diffline">51 </td><td class="diffpresent">##<span class="dp">·</span>Usage</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">52 </td><td class="diffpresent">####<span class="dp">·</span>_pure<span class="dp">·</span>collaborative-filtering<span class="dp">·</span>example_<span class="dp">·</span>:<span class="dp">·</span></td><td class="diffline">52 </td><td class="diffpresent">####<span class="dp">·</span>_pure<span class="dp">·</span>collaborative-filtering<span class="dp">·</span>example_<span class="dp">·</span>:<span class="dp">·</span></td></tr>
<tr class="diffhunk"><td colspan="2">Offset 74, 19 lines modified</td><td colspan="2">Offset 74, 14 lines modified</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">74 </td><td class="diffpresent">#<span class="dp">·</span>split<span class="dp">·</span>whole<span class="dp">·</span>data<span class="dp">·</span>into<span class="dp">·</span>three<span class="dp">·</span>folds<span class="dp">·</span>for<span class="dp">·</span>training,<span class="dp">·</span>evaluating<span class="dp">·</span>and<span class="dp">·</span>testing</td><td class="diffline">74 </td><td class="diffpresent">#<span class="dp">·</span>split<span class="dp">·</span>whole<span class="dp">·</span>data<span class="dp">·</span>into<span class="dp">·</span>three<span class="dp">·</span>folds<span class="dp">·</span>for<span class="dp">·</span>training,<span class="dp">·</span>evaluating<span class="dp">·</span>and<span class="dp">·</span>testing</td></tr>
<tr class="diffunmodified"><td class="diffline">75 </td><td class="diffpresent">train_data,<span class="dp">·</span>eval_data,<span class="dp">·</span>test_data<span class="dp">·</span>=<span class="dp">·</span>random_split(data,<span class="dp">·</span>multi_ratios=[0.8,<span class="dp">·</span>0.1,<span class="dp">·</span>0.1])</td><td class="diffline">75 </td><td class="diffpresent">train_data,<span class="dp">·</span>eval_data,<span class="dp">·</span>test_data<span class="dp">·</span>=<span class="dp">·</span>random_split(data,<span class="dp">·</span>multi_ratios=[0.8,<span class="dp">·</span>0.1,<span class="dp">·</span>0.1])</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">76 </td><td class="diffpresent">train_data,<span class="dp">·</span>data_info<span class="dp">·</span>=<span class="dp">·</span>DatasetPure.build_trainset(train_data)</td><td class="diffline">76 </td><td class="diffpresent">train_data,<span class="dp">·</span>data_info<span class="dp">·</span>=<span class="dp">·</span>DatasetPure.build_trainset(train_data)</td></tr>
<tr class="diffunmodified"><td class="diffline">77 </td><td class="diffpresent">eval_data<span class="dp">·</span>=<span class="dp">·</span>DatasetPure.build_evalset(eval_data)</td><td class="diffline">77 </td><td class="diffpresent">eval_data<span class="dp">·</span>=<span class="dp">·</span>DatasetPure.build_evalset(eval_data)</td></tr>
<tr class="diffunmodified"><td class="diffline">78 </td><td class="diffpresent">test_data<span class="dp">·</span>=<span class="dp">·</span>DatasetPure.build_testset(test_data)</td><td class="diffline">78 </td><td class="diffpresent">test_data<span class="dp">·</span>=<span class="dp">·</span>DatasetPure.build_testset(test_data)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">79 </td><td class="diffpresent">#<span class="dp">·</span>sample<span class="dp">·</span>negative<span class="dp">·</span>items<span class="dp">·</span>for<span class="dp">·</span>each<span class="dp">·</span>record</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">80 </td><td class="diffpresent">train_data.build_negative_samples(data_info)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">81 </td><td class="diffpresent">eval_data.build_negative_samples(data_info)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">82 </td><td class="diffpresent">test_data.build_negative_samples(data_info)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">83 </td><td class="diffpresent">print(data_info)<span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>n_users:<span class="dp">·</span>5894,<span class="dp">·</span>n_items:<span class="dp">·</span>3253,<span class="dp">·</span>data<span class="dp">·</span>sparsity:<span class="dp">·</span>0.4172<span class="dp">·</span>%</td><td class="diffline">79 </td><td class="diffpresent">print(data_info)<span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>n_users:<span class="dp">·</span>5894,<span class="dp">·</span>n_items:<span class="dp">·</span>3253,<span class="dp">·</span>data<span class="dp">·</span>sparsity:<span class="dp">·</span>0.4172<span class="dp">·</span>%</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">84 </td><td class="diffpresent">lightgcn<span class="dp">·</span>=<span class="dp">·</span>LightGCN(</td><td class="diffline">80 </td><td class="diffpresent">lightgcn<span class="dp">·</span>=<span class="dp">·</span>LightGCN(</td></tr>
<tr class="diffunmodified"><td class="diffline">85 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task=&quot;ranking&quot;,</td><td class="diffline">81 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task=&quot;ranking&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">86 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info=data_info,</td><td class="diffline">82 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info=data_info,</td></tr>
<tr class="diffunmodified"><td class="diffline">87 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>loss_type=&quot;bpr&quot;,</td><td class="diffline">83 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>loss_type=&quot;bpr&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">88 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size=16,</td><td class="diffline">84 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size=16,</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 95, 23 lines modified</td><td colspan="2">Offset 90, 25 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">95 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size=2048,</td><td class="diffline">90 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size=2048,</td></tr>
<tr class="diffunmodified"><td class="diffline">96 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg=1,</td><td class="diffline">91 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg=1,</td></tr>
<tr class="diffunmodified"><td class="diffline">97 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>device=&quot;cuda&quot;,</td><td class="diffline">92 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>device=&quot;cuda&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">98 </td><td class="diffpresent">)</td><td class="diffline">93 </td><td class="diffpresent">)</td></tr>
<tr class="diffunmodified"><td class="diffline">99 </td><td class="diffpresent">#<span class="dp">·</span>monitor<span class="dp">·</span>metrics<span class="dp">·</span>on<span class="dp">·</span>eval<span class="dp">·</span>data<span class="dp">·</span>during<span class="dp">·</span>training</td><td class="diffline">94 </td><td class="diffpresent">#<span class="dp">·</span>monitor<span class="dp">·</span>metrics<span class="dp">·</span>on<span class="dp">·</span>eval<span class="dp">·</span>data<span class="dp">·</span>during<span class="dp">·</span>training</td></tr>
<tr class="diffunmodified"><td class="diffline">100 </td><td class="diffpresent">lightgcn.fit(</td><td class="diffline">95 </td><td class="diffpresent">lightgcn.fit(</td></tr>
<tr class="diffunmodified"><td class="diffline">101 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data,</td><td class="diffline">96 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">97 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neg_sampling=True,</td></tr>
<tr class="diffunmodified"><td class="diffline">102 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>verbose=2,</td><td class="diffline">98 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>verbose=2,</td></tr>
<tr class="diffunmodified"><td class="diffline">103 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_data=eval_data,</td><td class="diffline">99 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_data=eval_data,</td></tr>
<tr class="diffunmodified"><td class="diffline">104 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics=[&quot;loss&quot;,<span class="dp">·</span>&quot;roc_auc&quot;,<span class="dp">·</span>&quot;precision&quot;,<span class="dp">·</span>&quot;recall&quot;,<span class="dp">·</span>&quot;ndcg&quot;],</td><td class="diffline">100 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics=[&quot;loss&quot;,<span class="dp">·</span>&quot;roc_auc&quot;,<span class="dp">·</span>&quot;precision&quot;,<span class="dp">·</span>&quot;recall&quot;,<span class="dp">·</span>&quot;ndcg&quot;],</td></tr>
<tr class="diffunmodified"><td class="diffline">105 </td><td class="diffpresent">)</td><td class="diffline">101 </td><td class="diffpresent">)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">106 </td><td class="diffpresent">#<span class="dp">·</span>do<span class="dp">·</span>final<span class="dp">·</span>evaluation<span class="dp">·</span>on<span class="dp">·</span>test<span class="dp">·</span>data</td><td class="diffline">102 </td><td class="diffpresent">#<span class="dp">·</span>do<span class="dp">·</span>final<span class="dp">·</span>evaluation<span class="dp">·</span>on<span class="dp">·</span>test<span class="dp">·</span>data</td></tr>
<tr class="diffunmodified"><td class="diffline">107 </td><td class="diffpresent">evaluate(</td><td class="diffline">103 </td><td class="diffpresent">evaluate(</td></tr>
<tr class="diffunmodified"><td class="diffline">108 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model=lightgcn,</td><td class="diffline">104 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model=lightgcn,</td></tr>
<tr class="diffunmodified"><td class="diffline">109 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data=test_data,</td><td class="diffline">105 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data=test_data,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">106 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neg_sampling=True,</td></tr>
<tr class="diffunmodified"><td class="diffline">110 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics=[&quot;loss&quot;,<span class="dp">·</span>&quot;roc_auc&quot;,<span class="dp">·</span>&quot;precision&quot;,<span class="dp">·</span>&quot;recall&quot;,<span class="dp">·</span>&quot;ndcg&quot;],</td><td class="diffline">107 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics=[&quot;loss&quot;,<span class="dp">·</span>&quot;roc_auc&quot;,<span class="dp">·</span>&quot;precision&quot;,<span class="dp">·</span>&quot;recall&quot;,<span class="dp">·</span>&quot;ndcg&quot;],</td></tr>
<tr class="diffunmodified"><td class="diffline">111 </td><td class="diffpresent">)</td><td class="diffline">108 </td><td class="diffpresent">)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">112 </td><td class="diffpresent">#<span class="dp">·</span>predict<span class="dp">·</span>preference<span class="dp">·</span>of<span class="dp">·</span>user<span class="dp">·</span>2211<span class="dp">·</span>to<span class="dp">·</span>item<span class="dp">·</span>110</td><td class="diffline">109 </td><td class="diffpresent">#<span class="dp">·</span>predict<span class="dp">·</span>preference<span class="dp">·</span>of<span class="dp">·</span>user<span class="dp">·</span>2211<span class="dp">·</span>to<span class="dp">·</span>item<span class="dp">·</span>110</td></tr>
<tr class="diffunmodified"><td class="diffline">113 </td><td class="diffpresent">lightgcn.predict(user=2211,<span class="dp">·</span>item=110)</td><td class="diffline">110 </td><td class="diffpresent">lightgcn.predict(user=2211,<span class="dp">·</span>item=110)</td></tr>
<tr class="diffunmodified"><td class="diffline">114 </td><td class="diffpresent">#<span class="dp">·</span>recommend<span class="dp">·</span>7<span class="dp">·</span>items<span class="dp">·</span>for<span class="dp">·</span>user<span class="dp">·</span>2211</td><td class="diffline">111 </td><td class="diffpresent">#<span class="dp">·</span>recommend<span class="dp">·</span>7<span class="dp">·</span>items<span class="dp">·</span>for<span class="dp">·</span>user<span class="dp">·</span>2211</td></tr>
<tr class="diffunmodified"><td class="diffline">115 </td><td class="diffpresent">lightgcn.recommend_user(user=2211,<span class="dp">·</span>n_rec=7)</td><td class="diffline">112 </td><td class="diffpresent">lightgcn.recommend_user(user=2211,<span class="dp">·</span>n_rec=7)</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 140, 32 lines modified</td><td colspan="2">Offset 137, 29 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">140 </td><td class="diffpresent">user_col<span class="dp">·</span>=<span class="dp">·</span>[&quot;sex&quot;,<span class="dp">·</span>&quot;age&quot;,<span class="dp">·</span>&quot;occupation&quot;]</td><td class="diffline">137 </td><td class="diffpresent">user_col<span class="dp">·</span>=<span class="dp">·</span>[&quot;sex&quot;,<span class="dp">·</span>&quot;age&quot;,<span class="dp">·</span>&quot;occupation&quot;]</td></tr>
<tr class="diffunmodified"><td class="diffline">141 </td><td class="diffpresent">item_col<span class="dp">·</span>=<span class="dp">·</span>[&quot;genre1&quot;,<span class="dp">·</span>&quot;genre2&quot;,<span class="dp">·</span>&quot;genre3&quot;]</td><td class="diffline">138 </td><td class="diffpresent">item_col<span class="dp">·</span>=<span class="dp">·</span>[&quot;genre1&quot;,<span class="dp">·</span>&quot;genre2&quot;,<span class="dp">·</span>&quot;genre3&quot;]</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">142 </td><td class="diffpresent">train_data,<span class="dp">·</span>data_info<span class="dp">·</span>=<span class="dp">·</span>DatasetFeat.build_trainset(</td><td class="diffline">139 </td><td class="diffpresent">train_data,<span class="dp">·</span>data_info<span class="dp">·</span>=<span class="dp">·</span>DatasetFeat.build_trainset(</td></tr>
<tr class="diffunmodified"><td class="diffline">143 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data,<span class="dp">·</span>user_col,<span class="dp">·</span>item_col,<span class="dp">·</span>sparse_col,<span class="dp">·</span>dense_col</td><td class="diffline">140 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data,<span class="dp">·</span>user_col,<span class="dp">·</span>item_col,<span class="dp">·</span>sparse_col,<span class="dp">·</span>dense_col</td></tr>
<tr class="diffunmodified"><td class="diffline">144 </td><td class="diffpresent">)</td><td class="diffline">141 </td><td class="diffpresent">)</td></tr>
<tr class="diffunmodified"><td class="diffline">145 </td><td class="diffpresent">test_data<span class="dp">·</span>=<span class="dp">·</span>DatasetFeat.build_testset(test_data)</td><td class="diffline">142 </td><td class="diffpresent">test_data<span class="dp">·</span>=<span class="dp">·</span>DatasetFeat.build_testset(test_data)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">146 </td><td class="diffpresent">#<span class="dp">·</span>sample<span class="dp">·</span>negative<span class="dp">·</span>items<span class="dp">·</span>for<span class="dp">·</span>each<span class="dp">·</span>record</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">147 </td><td class="diffpresent">train_data.build_negative_samples(data_info)<span class="dp">·</span><span class="dp">·</span></td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">148 </td><td class="diffpresent">test_data.build_negative_samples(data_info)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">149 </td><td class="diffpresent">print(data_info)<span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>n_users:<span class="dp">·</span>5962,<span class="dp">·</span>n_items:<span class="dp">·</span>3226,<span class="dp">·</span>data<span class="dp">·</span>sparsity:<span class="dp">·</span>0.4185<span class="dp">·</span>%</td><td class="diffline">143 </td><td class="diffpresent">print(data_info)<span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>n_users:<span class="dp">·</span>5962,<span class="dp">·</span>n_items:<span class="dp">·</span>3226,<span class="dp">·</span>data<span class="dp">·</span>sparsity:<span class="dp">·</span>0.4185<span class="dp">·</span>%</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">150 </td><td class="diffpresent">ytb_ranking<span class="dp">·</span>=<span class="dp">·</span>YouTubeRanking(</td><td class="diffline">144 </td><td class="diffpresent">ytb_ranking<span class="dp">·</span>=<span class="dp">·</span>YouTubeRanking(</td></tr>
<tr class="diffunmodified"><td class="diffline">151 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task=&quot;ranking&quot;,</td><td class="diffline">145 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task=&quot;ranking&quot;,</td></tr>
<tr class="error"><td colspan="4">
Max diff block lines reached; 2436/10204 bytes (23.87%) of diff not shown.
</td></tr></table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">8.85 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/README.md</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--README.md"><span class="source">LibRecommender-1.1.0/README.md</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--README.md">¶</a>
      </div>
      </div>
      <div class="comment">Files 2% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 37 lines modified</td><td colspan="2">Offset 1, 36 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">1 </td><td class="diffpresent">#<span class="dp">·</span>LibRecommender</td><td class="diffline">1 </td><td class="diffpresent">#<span class="dp">·</span>LibRecommender</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">2 </td><td class="diffpresent">[![Build](https://img.shields.io/github/actions/workflow/status/massquantity/LibRecommender/wheels.yml?branch=master)](https://github.com/massquantity/LibRecommender/actions/workflows/wheels.yml)</td><td class="diffline">2 </td><td class="diffpresent">[![Build](https://img.shields.io/github/actions/workflow/status/massquantity/LibRecommender/wheels.yml?branch=master<ins>&amp;logo=github</ins>)](https://github.com/massquantity/LibRecommender/actions/workflows/wheels.yml)</td></tr>
<tr class="diffunmodified"><td class="diffline">3 </td><td class="diffpresent">[![CI](https://github.com/massquantity/LibRecommender/actions/workflows/ci.yml/badge.svg)](https://github.com/massquantity/LibRecommender/actions/workflows/ci.yml)</td><td class="diffline">3 </td><td class="diffpresent">[![CI](https://github.com/massquantity/LibRecommender/actions/workflows/ci.yml/badge.svg)](https://github.com/massquantity/LibRecommender/actions/workflows/ci.yml)</td></tr>
<tr class="diffchanged"><td class="diffline">4 </td><td class="diffpresent">[![<del>c</del>odecov](https://codecov<del>.</del><del>io</del>/gh/massquantity/LibRecommender<del>/branch/master/graph/badge.sv</del>g<del>?t</del>o<del>ken</del>=<del>BYOY</del>F<del>BUJRL</del>)](https://codecov.io/gh/massquantity/LibRecommender)</td><td class="diffline">4 </td><td class="diffpresent">[![<ins>C</ins>odecov](https:<ins>/</ins>/<ins>img.shields.io</ins>/codecov<ins>/c</ins>/g<ins>it</ins>h<ins>ub</ins>/massquantity/LibRecommender<ins>?color=ffdfba&amp;logo=codecov&amp;lo</ins>g<ins>oC</ins>o<ins>lor</ins>=<ins>%</ins><ins>2300</ins>F<ins>C87CD</ins>)](https://<ins>app.</ins>codecov.io/gh/massquantity/LibRecommender)</td></tr>
<tr class="diffunmodified"><td class="diffline">5 </td><td class="diffpresent">[![pypi](https://img.shields.io/pypi/v/LibRecommender?color=blue)](https://pypi.org/project/LibRecommender/)</td><td class="diffline">5 </td><td class="diffpresent">[![pypi](https://img.shields.io/pypi/v/LibRecommender?color=blue)](https://pypi.org/project/LibRecommender/)</td></tr>
<tr class="diffunmodified"><td class="diffline">6 </td><td class="diffpresent">[![Downloads](https://static.pepy.tech/personalized-badge/librecommender?period=total&amp;units=international_system&amp;left_color=grey&amp;right_color=lightgrey&amp;left_text=Downloads)](https://pepy.tech/project/librecommender)</td><td class="diffline">6 </td><td class="diffpresent">[![Downloads](https://static.pepy.tech/personalized-badge/librecommender?period=total&amp;units=international_system&amp;left_color=grey&amp;right_color=lightgrey&amp;left_text=Downloads)](https://pepy.tech/project/librecommender)</td></tr>
<tr class="diffdeleted"><td class="diffline">7 </td><td class="diffpresent">[![python<span class="dp">·</span>versions](https://img.shields.io/pypi/pyversions/LibRecommender?logo=python&amp;logoColor=ffffba)](https://pypi.org/project/LibRecommender/)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">8 </td><td class="diffpresent">[![Codacy<span class="dp">·</span>Badge](https://app.codacy.com/project/badge/Grade/860f0cb5339c41fba9bee5770d09be47)](https://www.codacy.com/gh/massquantity/LibRecommender/dashboard?utm_source=github.com&amp;amp;utm_medium=referral&amp;amp;utm_content=massquantity/LibRecommender&amp;amp;utm_campaign=Badge_Grade)</td><td class="diffline">7 </td><td class="diffpresent">[![Codacy<span class="dp">·</span>Badge](https://app.codacy.com/project/badge/Grade/860f0cb5339c41fba9bee5770d09be47)](https://www.codacy.com/gh/massquantity/LibRecommender/dashboard?utm_source=github.com&amp;amp;utm_medium=referral&amp;amp;utm_content=massquantity/LibRecommender&amp;amp;utm_campaign=Badge_Grade)</td></tr>
<tr class="diffunmodified"><td class="diffline">9 </td><td class="diffpresent">[![Code<span class="dp">·</span>style:<span class="dp">·</span>black](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black)</td><td class="diffline">8 </td><td class="diffpresent">[![Code<span class="dp">·</span>style:<span class="dp">·</span>black](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black)</td></tr>
<tr class="diffunmodified"><td class="diffline">10 </td><td class="diffpresent">[![Ruff](https://img.shields.io/endpoint?url=https://raw.githubusercontent.com/charliermarsh/ruff/main/assets/badge/v1.json)](https://github.com/charliermarsh/ruff)</td><td class="diffline">9 </td><td class="diffpresent">[![Ruff](https://img.shields.io/endpoint?url=https://raw.githubusercontent.com/charliermarsh/ruff/main/assets/badge/v1.json)](https://github.com/charliermarsh/ruff)</td></tr>
<tr class="diffdeleted"><td class="diffline">11 </td><td class="diffpresent">[![platform](https://img.shields.io/badge/platform-linux%20%7C%20macos%20%7C%20windows-%23ffdfba)](https://img.shields.io/badge/platform-linux%20%7C%20macos%20%7C%20windows-%23ffdfba)</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">12 </td><td class="diffpresent">[![Documentation<span class="dp">·</span>Status](https://readthedocs.org/projects/librecommender/badge/?version=<del>stable</del>)](https://librecommender.readthedocs.io/en/<del>stable</del>/?badge=<del>stable</del>)</td><td class="diffline">10 </td><td class="diffpresent">[![Documentation<span class="dp">·</span>Status](https://readthedocs.org/projects/librecommender/badge/?version=<ins>latest</ins>)](https://librecommender.readthedocs.io/en/<ins>latest</ins>/?badge=<ins>latest</ins>)</td></tr>
<tr class="diffunmodified"><td class="diffline">13 </td><td class="diffpresent">![visitors](https://visitor-badge.glitch.me/badge?page_id=massquantity.LibRecommender&amp;right_color=rgb(91,194,231))</td><td class="diffline">11 </td><td class="diffpresent">![visitors](https://visitor-badge.glitch.me/badge?page_id=massquantity.LibRecommender&amp;right_color=rgb(91,194,231))</td></tr>
<tr class="diffunmodified"><td class="diffline">14 </td><td class="diffpresent">[![License](https://img.shields.io/github/license/massquantity/LibRecommender?color=ff69b4)](https://github.com/massquantity/LibRecommender/blob/master/LICENSE)</td><td class="diffline">12 </td><td class="diffpresent">[![License](https://img.shields.io/github/license/massquantity/LibRecommender?color=ff69b4)](https://github.com/massquantity/LibRecommender/blob/master/LICENSE)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">15 </td><td class="diffpresent">##<span class="dp">·</span>Overview</td><td class="diffline">13 </td><td class="diffpresent">##<span class="dp">·</span>Overview</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">16 </td><td class="diffpresent">**LibRecommender**<span class="dp">·</span>is<span class="dp">·</span>an<span class="dp">·</span>easy-to-use<span class="dp">·</span>recommender<span class="dp">·</span>system<span class="dp">·</span>focused<span class="dp">·</span>on<span class="dp">·</span>end-to-end<span class="dp">·</span>recommendation<span class="dp">·</span>process.<span class="dp">·</span>It<span class="dp">·</span>contains<span class="dp">·</span>a<span class="dp">·</span>training([libreco](https://github.com/massquantity/LibRecommender/tree/master/libreco))<span class="dp">·</span>and<span class="dp">·</span>serving([libserving](https://github.com/massquantity/LibRecommender/tree/master/libserving))<span class="dp">·</span>module<span class="dp">·</span>to<span class="dp">·</span>let<span class="dp">·</span>users<span class="dp">·</span>quickly<span class="dp">·</span>train<span class="dp">·</span>and<span class="dp">·</span>deploy<span class="dp">·</span>different<span class="dp">·</span>kinds<span class="dp">·</span>of<span class="dp">·</span>recommendation<span class="dp">·</span>models.</td><td class="diffline">14 </td><td class="diffpresent">**LibRecommender**<span class="dp">·</span>is<span class="dp">·</span>an<span class="dp">·</span>easy-to-use<span class="dp">·</span>recommender<span class="dp">·</span>system<span class="dp">·</span>focused<span class="dp">·</span>on<span class="dp">·</span>end-to-end<span class="dp">·</span>recommendation<span class="dp">·</span>process.<span class="dp">·</span>It<span class="dp">·</span>contains<span class="dp">·</span>a<span class="dp">·</span>training([libreco](https://github.com/massquantity/LibRecommender/tree/master/libreco))<span class="dp">·</span>and<span class="dp">·</span>serving([libserving](https://github.com/massquantity/LibRecommender/tree/master/libserving))<span class="dp">·</span>module<span class="dp">·</span>to<span class="dp">·</span>let<span class="dp">·</span>users<span class="dp">·</span>quickly<span class="dp">·</span>train<span class="dp">·</span>and<span class="dp">·</span>deploy<span class="dp">·</span>different<span class="dp">·</span>kinds<span class="dp">·</span>of<span class="dp">·</span>recommendation<span class="dp">·</span>models.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">17 </td><td class="diffpresent">**The<span class="dp">·</span>main<span class="dp">·</span>features<span class="dp">·</span>are:**</td><td class="diffline">15 </td><td class="diffpresent">**The<span class="dp">·</span>main<span class="dp">·</span>features<span class="dp">·</span>are:**</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">18 </td><td class="diffpresent">+<span class="dp">·</span>Implements<span class="dp">·</span>a<span class="dp">·</span>number<span class="dp">·</span>of<span class="dp">·</span>popular<span class="dp">·</span>recommendation<span class="dp">·</span>algorithms<span class="dp">·</span>such<span class="dp">·</span>as<span class="dp">·</span>FM,<span class="dp">·</span>DIN,<span class="dp">·</span>LightGCN<span class="dp">·</span>etc.<span class="dp">·</span>See<span class="dp">·</span>[full<span class="dp">·</span>algorithm<span class="dp">·</span>list](#references).</td><td class="diffline">16 </td><td class="diffpresent">+<span class="dp">·</span>Implements<span class="dp">·</span>a<span class="dp">·</span>number<span class="dp">·</span>of<span class="dp">·</span>popular<span class="dp">·</span>recommendation<span class="dp">·</span>algorithms<span class="dp">·</span>such<span class="dp">·</span>as<span class="dp">·</span>FM,<span class="dp">·</span>DIN,<span class="dp">·</span>LightGCN<span class="dp">·</span>etc.<span class="dp">·</span>See<span class="dp">·</span>[full<span class="dp">·</span>algorithm<span class="dp">·</span>list](#references).</td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent">+<span class="dp">·</span>A<span class="dp">·</span>hybrid<span class="dp">·</span>recommender<span class="dp">·</span>system,<span class="dp">·</span>which<span class="dp">·</span>allows<span class="dp">·</span>user<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>either<span class="dp">·</span>collaborative-filtering<span class="dp">·</span>or<span class="dp">·</span>content-based<span class="dp">·</span>features.<span class="dp">·</span>New<span class="dp">·</span>features<span class="dp">·</span>can<span class="dp">·</span>be<span class="dp">·</span>added<span class="dp">·</span>on<span class="dp">·</span>the<span class="dp">·</span>fly.</td><td class="diffline">17 </td><td class="diffpresent">+<span class="dp">·</span>A<span class="dp">·</span>hybrid<span class="dp">·</span>recommender<span class="dp">·</span>system,<span class="dp">·</span>which<span class="dp">·</span>allows<span class="dp">·</span>user<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>either<span class="dp">·</span>collaborative-filtering<span class="dp">·</span>or<span class="dp">·</span>content-based<span class="dp">·</span>features.<span class="dp">·</span>New<span class="dp">·</span>features<span class="dp">·</span>can<span class="dp">·</span>be<span class="dp">·</span>added<span class="dp">·</span>on<span class="dp">·</span>the<span class="dp">·</span>fly.</td></tr>
<tr class="diffchanged"><td class="diffline">20 </td><td class="diffpresent">+<span class="dp">·</span>Low<span class="dp">·</span>memory<span class="dp">·</span>usage,<span class="dp">·</span>automatically<span class="dp">·</span>convert<span class="dp">·</span>categorical<span class="dp">·</span>and<span class="dp">·</span>multi-value<span class="dp">·</span>categorical<span class="dp">·</span>features<span class="dp">·</span>to<span class="dp">·</span>sparse<span class="dp">·</span>representation.</td><td class="diffline">18 </td><td class="diffpresent">+<span class="dp">·</span>Low<span class="dp">·</span>memory<span class="dp">·</span>usage,<span class="dp">·</span>automatically<span class="dp">·</span>convert<ins>s</ins><span class="dp">·</span>categorical<span class="dp">·</span>and<span class="dp">·</span>multi-value<span class="dp">·</span>categorical<span class="dp">·</span>features<span class="dp">·</span>to<span class="dp">·</span>sparse<span class="dp">·</span>representation.</td></tr>
<tr class="diffchanged"><td class="diffline">21 </td><td class="diffpresent">+<span class="dp">·</span>Support<span class="dp">·</span>training<span class="dp">·</span>for<span class="dp">·</span>both<span class="dp">·</span>explicit<span class="dp">·</span>and<span class="dp">·</span>implicit<span class="dp">·</span>datasets,<span class="dp">·</span>as<span class="dp">·</span>well<span class="dp">·</span>as<span class="dp">·</span>negative<span class="dp">·</span>sampling<span class="dp">·</span>on<span class="dp">·</span>implicit<span class="dp">·</span>data.</td><td class="diffline">19 </td><td class="diffpresent">+<span class="dp">·</span>Support<ins>s</ins><span class="dp">·</span>training<span class="dp">·</span>for<span class="dp">·</span>both<span class="dp">·</span>explicit<span class="dp">·</span>and<span class="dp">·</span>implicit<span class="dp">·</span>datasets,<span class="dp">·</span>as<span class="dp">·</span>well<span class="dp">·</span>as<span class="dp">·</span>negative<span class="dp">·</span>sampling<span class="dp">·</span>on<span class="dp">·</span>implicit<span class="dp">·</span>data.</td></tr>
<tr class="diffchanged"><td class="diffline">22 </td><td class="diffpresent">+<span class="dp">·</span>Provide<span class="dp">·</span>end-to-end<span class="dp">·</span>workflow,<span class="dp">·</span>i.e.<span class="dp">·</span>data<span class="dp">·</span>handling<span class="dp">·</span>/<span class="dp">·</span>preprocessing<span class="dp">·</span>-&gt;<span class="dp">·</span>model<span class="dp">·</span>training<span class="dp">·</span>-&gt;<span class="dp">·</span>evaluate<span class="dp">·</span>-&gt;<span class="dp">·</span>save/load<span class="dp">·</span>-&gt;<span class="dp">·</span>serving.</td><td class="diffline">20 </td><td class="diffpresent">+<span class="dp">·</span>Provide<ins>s</ins><span class="dp">·</span>end-to-end<span class="dp">·</span>workflow,<span class="dp">·</span>i.e.<span class="dp">·</span>data<span class="dp">·</span>handling<span class="dp">·</span>/<span class="dp">·</span>preprocessing<span class="dp">·</span>-&gt;<span class="dp">·</span>model<span class="dp">·</span>training<span class="dp">·</span>-&gt;<span class="dp">·</span>evaluate<span class="dp">·</span>-&gt;<span class="dp">·</span>save/load<span class="dp">·</span>-&gt;<span class="dp">·</span>serving.</td></tr>
<tr class="diffchanged"><td class="diffline">23 </td><td class="diffpresent">+<span class="dp">·</span>Support<span class="dp">·</span>cold-start<span class="dp">·</span>prediction<span class="dp">·</span>and<span class="dp">·</span>recommendation.</td><td class="diffline">21 </td><td class="diffpresent">+<span class="dp">·</span>Support<ins>s</ins><span class="dp">·</span>cold-start<span class="dp">·</span>prediction<span class="dp">·</span>and<span class="dp">·</span>recommendation.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">22 </td><td class="diffpresent">+<span class="dp">·</span>Supports<span class="dp">·</span>dynamic<span class="dp">·</span>feature<span class="dp">·</span>and<span class="dp">·</span>sequence<span class="dp">·</span>recommendation.</td></tr>
<tr class="diffchanged"><td class="diffline">24 </td><td class="diffpresent">+<span class="dp">·</span>Provide<span class="dp">·</span>unified<span class="dp">·</span>and<span class="dp">·</span>friendly<span class="dp">·</span>API<span class="dp">·</span>for<span class="dp">·</span>all<span class="dp">·</span>algorithms.<span class="dp">·</span></td><td class="diffline">23 </td><td class="diffpresent">+<span class="dp">·</span>Provide<ins>s</ins><span class="dp">·</span>unified<span class="dp">·</span>and<span class="dp">·</span>friendly<span class="dp">·</span>API<span class="dp">·</span>for<span class="dp">·</span>all<span class="dp">·</span>algorithms.<span class="dp">·</span></td></tr>
<tr class="diffunmodified"><td class="diffline">25 </td><td class="diffpresent">+<span class="dp">·</span>Easy<span class="dp">·</span>to<span class="dp">·</span>retrain<span class="dp">·</span>model<span class="dp">·</span>with<span class="dp">·</span>new<span class="dp">·</span>users/items<span class="dp">·</span>from<span class="dp">·</span>new<span class="dp">·</span>data.</td><td class="diffline">24 </td><td class="diffpresent">+<span class="dp">·</span>Easy<span class="dp">·</span>to<span class="dp">·</span>retrain<span class="dp">·</span>model<span class="dp">·</span>with<span class="dp">·</span>new<span class="dp">·</span>users/items<span class="dp">·</span>from<span class="dp">·</span>new<span class="dp">·</span>data.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">26 </td><td class="diffpresent">##<span class="dp">·</span>Usage</td><td class="diffline">25 </td><td class="diffpresent">##<span class="dp">·</span>Usage</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">27 </td><td class="diffpresent">####<span class="dp">·</span>_pure<span class="dp">·</span>collaborative-filtering<span class="dp">·</span>example_<span class="dp">·</span>:<span class="dp">·</span></td><td class="diffline">26 </td><td class="diffpresent">####<span class="dp">·</span>_pure<span class="dp">·</span>collaborative-filtering<span class="dp">·</span>example_<span class="dp">·</span>:<span class="dp">·</span></td></tr>
<tr class="diffhunk"><td colspan="2">Offset 48, 19 lines modified</td><td colspan="2">Offset 47, 14 lines modified</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">48 </td><td class="diffpresent">#<span class="dp">·</span>split<span class="dp">·</span>whole<span class="dp">·</span>data<span class="dp">·</span>into<span class="dp">·</span>three<span class="dp">·</span>folds<span class="dp">·</span>for<span class="dp">·</span>training,<span class="dp">·</span>evaluating<span class="dp">·</span>and<span class="dp">·</span>testing</td><td class="diffline">47 </td><td class="diffpresent">#<span class="dp">·</span>split<span class="dp">·</span>whole<span class="dp">·</span>data<span class="dp">·</span>into<span class="dp">·</span>three<span class="dp">·</span>folds<span class="dp">·</span>for<span class="dp">·</span>training,<span class="dp">·</span>evaluating<span class="dp">·</span>and<span class="dp">·</span>testing</td></tr>
<tr class="diffunmodified"><td class="diffline">49 </td><td class="diffpresent">train_data,<span class="dp">·</span>eval_data,<span class="dp">·</span>test_data<span class="dp">·</span>=<span class="dp">·</span>random_split(data,<span class="dp">·</span>multi_ratios=[0.8,<span class="dp">·</span>0.1,<span class="dp">·</span>0.1])</td><td class="diffline">48 </td><td class="diffpresent">train_data,<span class="dp">·</span>eval_data,<span class="dp">·</span>test_data<span class="dp">·</span>=<span class="dp">·</span>random_split(data,<span class="dp">·</span>multi_ratios=[0.8,<span class="dp">·</span>0.1,<span class="dp">·</span>0.1])</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">50 </td><td class="diffpresent">train_data,<span class="dp">·</span>data_info<span class="dp">·</span>=<span class="dp">·</span>DatasetPure.build_trainset(train_data)</td><td class="diffline">49 </td><td class="diffpresent">train_data,<span class="dp">·</span>data_info<span class="dp">·</span>=<span class="dp">·</span>DatasetPure.build_trainset(train_data)</td></tr>
<tr class="diffunmodified"><td class="diffline">51 </td><td class="diffpresent">eval_data<span class="dp">·</span>=<span class="dp">·</span>DatasetPure.build_evalset(eval_data)</td><td class="diffline">50 </td><td class="diffpresent">eval_data<span class="dp">·</span>=<span class="dp">·</span>DatasetPure.build_evalset(eval_data)</td></tr>
<tr class="diffunmodified"><td class="diffline">52 </td><td class="diffpresent">test_data<span class="dp">·</span>=<span class="dp">·</span>DatasetPure.build_testset(test_data)</td><td class="diffline">51 </td><td class="diffpresent">test_data<span class="dp">·</span>=<span class="dp">·</span>DatasetPure.build_testset(test_data)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">53 </td><td class="diffpresent">#<span class="dp">·</span>sample<span class="dp">·</span>negative<span class="dp">·</span>items<span class="dp">·</span>for<span class="dp">·</span>each<span class="dp">·</span>record</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">54 </td><td class="diffpresent">train_data.build_negative_samples(data_info)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">55 </td><td class="diffpresent">eval_data.build_negative_samples(data_info)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">56 </td><td class="diffpresent">test_data.build_negative_samples(data_info)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">57 </td><td class="diffpresent">print(data_info)<span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>n_users:<span class="dp">·</span>5894,<span class="dp">·</span>n_items:<span class="dp">·</span>3253,<span class="dp">·</span>data<span class="dp">·</span>sparsity:<span class="dp">·</span>0.4172<span class="dp">·</span>%</td><td class="diffline">52 </td><td class="diffpresent">print(data_info)<span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>n_users:<span class="dp">·</span>5894,<span class="dp">·</span>n_items:<span class="dp">·</span>3253,<span class="dp">·</span>data<span class="dp">·</span>sparsity:<span class="dp">·</span>0.4172<span class="dp">·</span>%</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">58 </td><td class="diffpresent">lightgcn<span class="dp">·</span>=<span class="dp">·</span>LightGCN(</td><td class="diffline">53 </td><td class="diffpresent">lightgcn<span class="dp">·</span>=<span class="dp">·</span>LightGCN(</td></tr>
<tr class="diffunmodified"><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task=&quot;ranking&quot;,</td><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task=&quot;ranking&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info=data_info,</td><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info=data_info,</td></tr>
<tr class="diffunmodified"><td class="diffline">61 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>loss_type=&quot;bpr&quot;,</td><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>loss_type=&quot;bpr&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">62 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size=16,</td><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size=16,</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 69, 23 lines modified</td><td colspan="2">Offset 63, 25 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">69 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size=2048,</td><td class="diffline">63 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size=2048,</td></tr>
<tr class="diffunmodified"><td class="diffline">70 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg=1,</td><td class="diffline">64 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg=1,</td></tr>
<tr class="diffunmodified"><td class="diffline">71 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>device=&quot;cuda&quot;,</td><td class="diffline">65 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>device=&quot;cuda&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">72 </td><td class="diffpresent">)</td><td class="diffline">66 </td><td class="diffpresent">)</td></tr>
<tr class="diffunmodified"><td class="diffline">73 </td><td class="diffpresent">#<span class="dp">·</span>monitor<span class="dp">·</span>metrics<span class="dp">·</span>on<span class="dp">·</span>eval<span class="dp">·</span>data<span class="dp">·</span>during<span class="dp">·</span>training</td><td class="diffline">67 </td><td class="diffpresent">#<span class="dp">·</span>monitor<span class="dp">·</span>metrics<span class="dp">·</span>on<span class="dp">·</span>eval<span class="dp">·</span>data<span class="dp">·</span>during<span class="dp">·</span>training</td></tr>
<tr class="diffunmodified"><td class="diffline">74 </td><td class="diffpresent">lightgcn.fit(</td><td class="diffline">68 </td><td class="diffpresent">lightgcn.fit(</td></tr>
<tr class="diffunmodified"><td class="diffline">75 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data,</td><td class="diffline">69 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">70 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neg_sampling=True,</td></tr>
<tr class="diffunmodified"><td class="diffline">76 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>verbose=2,</td><td class="diffline">71 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>verbose=2,</td></tr>
<tr class="diffunmodified"><td class="diffline">77 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_data=eval_data,</td><td class="diffline">72 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_data=eval_data,</td></tr>
<tr class="diffunmodified"><td class="diffline">78 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics=[&quot;loss&quot;,<span class="dp">·</span>&quot;roc_auc&quot;,<span class="dp">·</span>&quot;precision&quot;,<span class="dp">·</span>&quot;recall&quot;,<span class="dp">·</span>&quot;ndcg&quot;],</td><td class="diffline">73 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics=[&quot;loss&quot;,<span class="dp">·</span>&quot;roc_auc&quot;,<span class="dp">·</span>&quot;precision&quot;,<span class="dp">·</span>&quot;recall&quot;,<span class="dp">·</span>&quot;ndcg&quot;],</td></tr>
<tr class="diffunmodified"><td class="diffline">79 </td><td class="diffpresent">)</td><td class="diffline">74 </td><td class="diffpresent">)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">80 </td><td class="diffpresent">#<span class="dp">·</span>do<span class="dp">·</span>final<span class="dp">·</span>evaluation<span class="dp">·</span>on<span class="dp">·</span>test<span class="dp">·</span>data</td><td class="diffline">75 </td><td class="diffpresent">#<span class="dp">·</span>do<span class="dp">·</span>final<span class="dp">·</span>evaluation<span class="dp">·</span>on<span class="dp">·</span>test<span class="dp">·</span>data</td></tr>
<tr class="diffunmodified"><td class="diffline">81 </td><td class="diffpresent">evaluate(</td><td class="diffline">76 </td><td class="diffpresent">evaluate(</td></tr>
<tr class="diffunmodified"><td class="diffline">82 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model=lightgcn,</td><td class="diffline">77 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model=lightgcn,</td></tr>
<tr class="diffunmodified"><td class="diffline">83 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data=test_data,</td><td class="diffline">78 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data=test_data,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">79 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neg_sampling=True,</td></tr>
<tr class="diffunmodified"><td class="diffline">84 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics=[&quot;loss&quot;,<span class="dp">·</span>&quot;roc_auc&quot;,<span class="dp">·</span>&quot;precision&quot;,<span class="dp">·</span>&quot;recall&quot;,<span class="dp">·</span>&quot;ndcg&quot;],</td><td class="diffline">80 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics=[&quot;loss&quot;,<span class="dp">·</span>&quot;roc_auc&quot;,<span class="dp">·</span>&quot;precision&quot;,<span class="dp">·</span>&quot;recall&quot;,<span class="dp">·</span>&quot;ndcg&quot;],</td></tr>
<tr class="diffunmodified"><td class="diffline">85 </td><td class="diffpresent">)</td><td class="diffline">81 </td><td class="diffpresent">)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">86 </td><td class="diffpresent">#<span class="dp">·</span>predict<span class="dp">·</span>preference<span class="dp">·</span>of<span class="dp">·</span>user<span class="dp">·</span>2211<span class="dp">·</span>to<span class="dp">·</span>item<span class="dp">·</span>110</td><td class="diffline">82 </td><td class="diffpresent">#<span class="dp">·</span>predict<span class="dp">·</span>preference<span class="dp">·</span>of<span class="dp">·</span>user<span class="dp">·</span>2211<span class="dp">·</span>to<span class="dp">·</span>item<span class="dp">·</span>110</td></tr>
<tr class="diffunmodified"><td class="diffline">87 </td><td class="diffpresent">lightgcn.predict(user=2211,<span class="dp">·</span>item=110)</td><td class="diffline">83 </td><td class="diffpresent">lightgcn.predict(user=2211,<span class="dp">·</span>item=110)</td></tr>
<tr class="diffunmodified"><td class="diffline">88 </td><td class="diffpresent">#<span class="dp">·</span>recommend<span class="dp">·</span>7<span class="dp">·</span>items<span class="dp">·</span>for<span class="dp">·</span>user<span class="dp">·</span>2211</td><td class="diffline">84 </td><td class="diffpresent">#<span class="dp">·</span>recommend<span class="dp">·</span>7<span class="dp">·</span>items<span class="dp">·</span>for<span class="dp">·</span>user<span class="dp">·</span>2211</td></tr>
<tr class="diffunmodified"><td class="diffline">89 </td><td class="diffpresent">lightgcn.recommend_user(user=2211,<span class="dp">·</span>n_rec=7)</td><td class="diffline">85 </td><td class="diffpresent">lightgcn.recommend_user(user=2211,<span class="dp">·</span>n_rec=7)</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 114, 32 lines modified</td><td colspan="2">Offset 110, 29 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">114 </td><td class="diffpresent">user_col<span class="dp">·</span>=<span class="dp">·</span>[&quot;sex&quot;,<span class="dp">·</span>&quot;age&quot;,<span class="dp">·</span>&quot;occupation&quot;]</td><td class="diffline">110 </td><td class="diffpresent">user_col<span class="dp">·</span>=<span class="dp">·</span>[&quot;sex&quot;,<span class="dp">·</span>&quot;age&quot;,<span class="dp">·</span>&quot;occupation&quot;]</td></tr>
<tr class="diffunmodified"><td class="diffline">115 </td><td class="diffpresent">item_col<span class="dp">·</span>=<span class="dp">·</span>[&quot;genre1&quot;,<span class="dp">·</span>&quot;genre2&quot;,<span class="dp">·</span>&quot;genre3&quot;]</td><td class="diffline">111 </td><td class="diffpresent">item_col<span class="dp">·</span>=<span class="dp">·</span>[&quot;genre1&quot;,<span class="dp">·</span>&quot;genre2&quot;,<span class="dp">·</span>&quot;genre3&quot;]</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">116 </td><td class="diffpresent">train_data,<span class="dp">·</span>data_info<span class="dp">·</span>=<span class="dp">·</span>DatasetFeat.build_trainset(</td><td class="diffline">112 </td><td class="diffpresent">train_data,<span class="dp">·</span>data_info<span class="dp">·</span>=<span class="dp">·</span>DatasetFeat.build_trainset(</td></tr>
<tr class="diffunmodified"><td class="diffline">117 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data,<span class="dp">·</span>user_col,<span class="dp">·</span>item_col,<span class="dp">·</span>sparse_col,<span class="dp">·</span>dense_col</td><td class="diffline">113 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data,<span class="dp">·</span>user_col,<span class="dp">·</span>item_col,<span class="dp">·</span>sparse_col,<span class="dp">·</span>dense_col</td></tr>
<tr class="diffunmodified"><td class="diffline">118 </td><td class="diffpresent">)</td><td class="diffline">114 </td><td class="diffpresent">)</td></tr>
<tr class="diffunmodified"><td class="diffline">119 </td><td class="diffpresent">test_data<span class="dp">·</span>=<span class="dp">·</span>DatasetFeat.build_testset(test_data)</td><td class="diffline">115 </td><td class="diffpresent">test_data<span class="dp">·</span>=<span class="dp">·</span>DatasetFeat.build_testset(test_data)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">120 </td><td class="diffpresent">#<span class="dp">·</span>sample<span class="dp">·</span>negative<span class="dp">·</span>items<span class="dp">·</span>for<span class="dp">·</span>each<span class="dp">·</span>record</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">121 </td><td class="diffpresent">train_data.build_negative_samples(data_info)<span class="dp">·</span><span class="dp">·</span></td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">122 </td><td class="diffpresent">test_data.build_negative_samples(data_info)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">123 </td><td class="diffpresent">print(data_info)<span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>n_users:<span class="dp">·</span>5962,<span class="dp">·</span>n_items:<span class="dp">·</span>3226,<span class="dp">·</span>data<span class="dp">·</span>sparsity:<span class="dp">·</span>0.4185<span class="dp">·</span>%</td><td class="diffline">116 </td><td class="diffpresent">print(data_info)<span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>n_users:<span class="dp">·</span>5962,<span class="dp">·</span>n_items:<span class="dp">·</span>3226,<span class="dp">·</span>data<span class="dp">·</span>sparsity:<span class="dp">·</span>0.4185<span class="dp">·</span>%</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">124 </td><td class="diffpresent">ytb_ranking<span class="dp">·</span>=<span class="dp">·</span>YouTubeRanking(</td><td class="diffline">117 </td><td class="diffpresent">ytb_ranking<span class="dp">·</span>=<span class="dp">·</span>YouTubeRanking(</td></tr>
<tr class="diffunmodified"><td class="diffline">125 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task=&quot;ranking&quot;,</td><td class="diffline">118 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task=&quot;ranking&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">126 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info=data_info,</td><td class="diffline">119 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info=data_info,</td></tr>
<tr class="diffunmodified"><td class="diffline">127 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size=16,</td><td class="diffline">120 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size=16,</td></tr>
<tr class="diffunmodified"><td class="diffline">128 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_epochs=3,</td><td class="diffline">121 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_epochs=3,</td></tr>
<tr class="diffunmodified"><td class="diffline">129 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr=1e-4,</td><td class="diffline">122 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr=1e-4,</td></tr>
<tr class="diffunmodified"><td class="diffline">130 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size=512,</td><td class="diffline">123 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size=512,</td></tr>
<tr class="diffunmodified"><td class="diffline">131 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_bn=True,</td><td class="diffline">124 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_bn=True,</td></tr>
<tr class="diffunmodified"><td class="diffline">132 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hidden_units=(128,<span class="dp">·</span>64,<span class="dp">·</span>32),</td><td class="diffline">125 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hidden_units=(128,<span class="dp">·</span>64,<span class="dp">·</span>32),</td></tr>
<tr class="diffunmodified"><td class="diffline">133 </td><td class="diffpresent">)</td><td class="diffline">126 </td><td class="diffpresent">)</td></tr>
<tr class="diffunmodified"><td class="diffline">134 </td><td class="diffpresent">ytb_ranking.fit(</td><td class="diffline">127 </td><td class="diffpresent">ytb_ranking.fit(</td></tr>
<tr class="diffunmodified"><td class="diffline">135 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data,</td><td class="diffline">128 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">129 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neg_sampling=True,</td></tr>
<tr class="diffunmodified"><td class="diffline">136 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>verbose=2,</td><td class="diffline">130 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>verbose=2,</td></tr>
<tr class="diffunmodified"><td class="diffline">137 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>shuffle=True,</td><td class="diffline">131 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>shuffle=True,</td></tr>
<tr class="diffunmodified"><td class="diffline">138 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_data=test_data,</td><td class="diffline">132 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_data=test_data,</td></tr>
<tr class="diffunmodified"><td class="diffline">139 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics=[&quot;loss&quot;,<span class="dp">·</span>&quot;roc_auc&quot;,<span class="dp">·</span>&quot;precision&quot;,<span class="dp">·</span>&quot;recall&quot;,<span class="dp">·</span>&quot;map&quot;,<span class="dp">·</span>&quot;ndcg&quot;],</td><td class="diffline">133 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics=[&quot;loss&quot;,<span class="dp">·</span>&quot;roc_auc&quot;,<span class="dp">·</span>&quot;precision&quot;,<span class="dp">·</span>&quot;recall&quot;,<span class="dp">·</span>&quot;map&quot;,<span class="dp">·</span>&quot;ndcg&quot;],</td></tr>
<tr class="diffunmodified"><td class="diffline">140 </td><td class="diffpresent">)</td><td class="diffline">134 </td><td class="diffpresent">)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">141 </td><td class="diffpresent">#<span class="dp">·</span>predict<span class="dp">·</span>preference<span class="dp">·</span>of<span class="dp">·</span>user<span class="dp">·</span>2211<span class="dp">·</span>to<span class="dp">·</span>item<span class="dp">·</span>110</td><td class="diffline">135 </td><td class="diffpresent">#<span class="dp">·</span>predict<span class="dp">·</span>preference<span class="dp">·</span>of<span class="dp">·</span>user<span class="dp">·</span>2211<span class="dp">·</span>to<span class="dp">·</span>item<span class="dp">·</span>110</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 166, 15 lines modified</td><td colspan="2">Offset 159, 15 lines modified</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">166 </td><td class="diffpresent">**Also<span class="dp">·</span>note<span class="dp">·</span>that<span class="dp">·</span>your<span class="dp">·</span>data<span class="dp">·</span>should<span class="dp">·</span>not<span class="dp">·</span>contain<span class="dp">·</span>missing<span class="dp">·</span>values.**</td><td class="diffline">159 </td><td class="diffpresent">**Also<span class="dp">·</span>note<span class="dp">·</span>that<span class="dp">·</span>your<span class="dp">·</span>data<span class="dp">·</span>should<span class="dp">·</span>not<span class="dp">·</span>contain<span class="dp">·</span>missing<span class="dp">·</span>values.**</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">167 </td><td class="diffpresent">##<span class="dp">·</span>Documentation</td><td class="diffline">160 </td><td class="diffpresent">##<span class="dp">·</span>Documentation</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">168 </td><td class="diffpresent">The<span class="dp">·</span>tutorials<span class="dp">·</span>and<span class="dp">·</span>API<span class="dp">·</span>documentation<span class="dp">·</span>are<span class="dp">·</span>hosted<span class="dp">·</span>on<span class="dp">·</span>[librecommender.readthedocs.io](https://librecommender.readthedocs.io/en/<del>stable</del>/).</td><td class="diffline">161 </td><td class="diffpresent">The<span class="dp">·</span>tutorials<span class="dp">·</span>and<span class="dp">·</span>API<span class="dp">·</span>documentation<span class="dp">·</span>are<span class="dp">·</span>hosted<span class="dp">·</span>on<span class="dp">·</span>[librecommender.readthedocs.io](https://librecommender.readthedocs.io/en/<ins>latest</ins>/).</td></tr>
<tr class="error"><td colspan="4">
Max diff block lines reached; 1681/8966 bytes (18.75%) of diff not shown.
</td></tr></table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">141 B</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/algorithms/__init__.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-__init__.py"><span class="source">LibRecommender-1.1.0/libreco/algorithms/__init__.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-__init__.py">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">3.86 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/algorithms/_als.cpp</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-_als.cpp"><span class="source">LibRecommender-1.1.0/libreco/algorithms/_als.cpp</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-_als.cpp">¶</a>
      </div>
      </div>
      <div class="comment">Files 0% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 8 lines modified</td><td colspan="2">Offset 1, 8 lines modified</td></tr>
<tr class="diffchanged"><td class="diffline">1 </td><td class="diffpresent">/*<span class="dp">·</span>Generated<span class="dp">·</span>by<span class="dp">·</span>Cython<span class="dp">·</span>0.29.3<del>3</del><span class="dp">·</span>*/</td><td class="diffline">1 </td><td class="diffpresent">/*<span class="dp">·</span>Generated<span class="dp">·</span>by<span class="dp">·</span>Cython<span class="dp">·</span>0.29.3<ins>4</ins><span class="dp">·</span>*/</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">2 </td><td class="diffpresent">/*<span class="dp">·</span>BEGIN:<span class="dp">·</span>Cython<span class="dp">·</span>Metadata</td><td class="diffline">2 </td><td class="diffpresent">/*<span class="dp">·</span>BEGIN:<span class="dp">·</span>Cython<span class="dp">·</span>Metadata</td></tr>
<tr class="diffunmodified"><td class="diffline">3 </td><td class="diffpresent">{</td><td class="diffline">3 </td><td class="diffpresent">{</td></tr>
<tr class="diffunmodified"><td class="diffline">4 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;distutils&quot;:<span class="dp">·</span>{</td><td class="diffline">4 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;distutils&quot;:<span class="dp">·</span>{</td></tr>
<tr class="diffunmodified"><td class="diffline">5 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;depends&quot;:<span class="dp">·</span>[],</td><td class="diffline">5 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;depends&quot;:<span class="dp">·</span>[],</td></tr>
<tr class="diffunmodified"><td class="diffline">6 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;extra_compile_args&quot;:<span class="dp">·</span>[</td><td class="diffline">6 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;extra_compile_args&quot;:<span class="dp">·</span>[</td></tr>
<tr class="diffunmodified"><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;-Wno-unused-function&quot;,</td><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;-Wno-unused-function&quot;,</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 13, 15 lines modified</td><td colspan="2">Offset 13, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">13 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;-std=c++11&quot;</td><td class="diffline">13 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;-std=c++11&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>],</td><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>],</td></tr>
<tr class="diffunmodified"><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;extra_link_args&quot;:<span class="dp">·</span>[</td><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;extra_link_args&quot;:<span class="dp">·</span>[</td></tr>
<tr class="diffunmodified"><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;-fopenmp&quot;,</td><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;-fopenmp&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;-std=c++11&quot;</td><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;-std=c++11&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>],</td><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>],</td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;include_dirs&quot;:<span class="dp">·</span>[</td><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;include_dirs&quot;:<span class="dp">·</span>[</td></tr>
<tr class="diffchanged"><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;/tmp/build-env-<del>glkoam</del>7<del>d</del>/lib/python3.8/site-packages/numpy/core/include&quot;</td><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;/tmp/build-env-<ins>y58uqb</ins>7<ins>6</ins>/lib/python3.8/site-packages/numpy/core/include&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>],</td><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>],</td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;language&quot;:<span class="dp">·</span>&quot;c++&quot;,</td><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;language&quot;:<span class="dp">·</span>&quot;c++&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;name&quot;:<span class="dp">·</span>&quot;libreco.algorithms._als&quot;,</td><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;name&quot;:<span class="dp">·</span>&quot;libreco.algorithms._als&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;sources&quot;:<span class="dp">·</span>[</td><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;sources&quot;:<span class="dp">·</span>[</td></tr>
<tr class="diffunmodified"><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;libreco/algorithms/_als.pyx&quot;</td><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;libreco/algorithms/_als.pyx&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>]</td><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>]</td></tr>
<tr class="diffunmodified"><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},</td><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 34, 16 lines modified</td><td colspan="2">Offset 34, 16 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">34 </td><td class="diffpresent">#endif<span class="dp">·</span>/*<span class="dp">·</span>PY_SSIZE_T_CLEAN<span class="dp">·</span>*/</td><td class="diffline">34 </td><td class="diffpresent">#endif<span class="dp">·</span>/*<span class="dp">·</span>PY_SSIZE_T_CLEAN<span class="dp">·</span>*/</td></tr>
<tr class="diffunmodified"><td class="diffline">35 </td><td class="diffpresent">#include<span class="dp">·</span>&quot;Python.h&quot;</td><td class="diffline">35 </td><td class="diffpresent">#include<span class="dp">·</span>&quot;Python.h&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">36 </td><td class="diffpresent">#ifndef<span class="dp">·</span>Py_PYTHON_H</td><td class="diffline">36 </td><td class="diffpresent">#ifndef<span class="dp">·</span>Py_PYTHON_H</td></tr>
<tr class="diffunmodified"><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#error<span class="dp">·</span>Python<span class="dp">·</span>headers<span class="dp">·</span>needed<span class="dp">·</span>to<span class="dp">·</span>compile<span class="dp">·</span>C<span class="dp">·</span>extensions,<span class="dp">·</span>please<span class="dp">·</span>install<span class="dp">·</span>development<span class="dp">·</span>version<span class="dp">·</span>of<span class="dp">·</span>Python.</td><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#error<span class="dp">·</span>Python<span class="dp">·</span>headers<span class="dp">·</span>needed<span class="dp">·</span>to<span class="dp">·</span>compile<span class="dp">·</span>C<span class="dp">·</span>extensions,<span class="dp">·</span>please<span class="dp">·</span>install<span class="dp">·</span>development<span class="dp">·</span>version<span class="dp">·</span>of<span class="dp">·</span>Python.</td></tr>
<tr class="diffunmodified"><td class="diffline">38 </td><td class="diffpresent">#elif<span class="dp">·</span>PY_VERSION_HEX<span class="dp">·</span>&lt;<span class="dp">·</span>0x02060000<span class="dp">·</span>||<span class="dp">·</span>(0x03000000<span class="dp">·</span>&lt;=<span class="dp">·</span>PY_VERSION_HEX<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>PY_VERSION_HEX<span class="dp">·</span>&lt;<span class="dp">·</span>0x03030000)</td><td class="diffline">38 </td><td class="diffpresent">#elif<span class="dp">·</span>PY_VERSION_HEX<span class="dp">·</span>&lt;<span class="dp">·</span>0x02060000<span class="dp">·</span>||<span class="dp">·</span>(0x03000000<span class="dp">·</span>&lt;=<span class="dp">·</span>PY_VERSION_HEX<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>PY_VERSION_HEX<span class="dp">·</span>&lt;<span class="dp">·</span>0x03030000)</td></tr>
<tr class="diffunmodified"><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#error<span class="dp">·</span>Cython<span class="dp">·</span>requires<span class="dp">·</span>Python<span class="dp">·</span>2.6+<span class="dp">·</span>or<span class="dp">·</span>Python<span class="dp">·</span>3.3+.</td><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#error<span class="dp">·</span>Cython<span class="dp">·</span>requires<span class="dp">·</span>Python<span class="dp">·</span>2.6+<span class="dp">·</span>or<span class="dp">·</span>Python<span class="dp">·</span>3.3+.</td></tr>
<tr class="diffunmodified"><td class="diffline">40 </td><td class="diffpresent">#else</td><td class="diffline">40 </td><td class="diffpresent">#else</td></tr>
<tr class="diffchanged"><td class="diffline">41 </td><td class="diffpresent">#define<span class="dp">·</span>CYTHON_ABI<span class="dp">·</span>&quot;0_29_3<del>3</del>&quot;</td><td class="diffline">41 </td><td class="diffpresent">#define<span class="dp">·</span>CYTHON_ABI<span class="dp">·</span>&quot;0_29_3<ins>4</ins>&quot;</td></tr>
<tr class="diffchanged"><td class="diffline">42 </td><td class="diffpresent">#define<span class="dp">·</span>CYTHON_HEX_VERSION<span class="dp">·</span>0x001D2<del>1</del>F0</td><td class="diffline">42 </td><td class="diffpresent">#define<span class="dp">·</span>CYTHON_HEX_VERSION<span class="dp">·</span>0x001D2<ins>2</ins>F0</td></tr>
<tr class="diffunmodified"><td class="diffline">43 </td><td class="diffpresent">#define<span class="dp">·</span>CYTHON_FUTURE_DIVISION<span class="dp">·</span>0</td><td class="diffline">43 </td><td class="diffpresent">#define<span class="dp">·</span>CYTHON_FUTURE_DIVISION<span class="dp">·</span>0</td></tr>
<tr class="diffunmodified"><td class="diffline">44 </td><td class="diffpresent">#include<span class="dp">·</span>&lt;stddef.h&gt;</td><td class="diffline">44 </td><td class="diffpresent">#include<span class="dp">·</span>&lt;stddef.h&gt;</td></tr>
<tr class="diffunmodified"><td class="diffline">45 </td><td class="diffpresent">#ifndef<span class="dp">·</span>offsetof</td><td class="diffline">45 </td><td class="diffpresent">#ifndef<span class="dp">·</span>offsetof</td></tr>
<tr class="diffunmodified"><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>offsetof(type,<span class="dp">·</span>member)<span class="dp">·</span>(<span class="dp">·</span>(size_t)<span class="dp">·</span>&amp;<span class="dp">·</span>((type*)0)<span class="dp">·</span>-&gt;<span class="dp">·</span>member<span class="dp">·</span>)</td><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>offsetof(type,<span class="dp">·</span>member)<span class="dp">·</span>(<span class="dp">·</span>(size_t)<span class="dp">·</span>&amp;<span class="dp">·</span>((type*)0)<span class="dp">·</span>-&gt;<span class="dp">·</span>member<span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td class="diffline">47 </td><td class="diffpresent">#endif</td><td class="diffline">47 </td><td class="diffpresent">#endif</td></tr>
<tr class="diffunmodified"><td class="diffline">48 </td><td class="diffpresent">#if<span class="dp">·</span>!defined(WIN32)<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>!defined(MS_WINDOWS)</td><td class="diffline">48 </td><td class="diffpresent">#if<span class="dp">·</span>!defined(WIN32)<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>!defined(MS_WINDOWS)</td></tr>
<tr class="diffunmodified"><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#ifndef<span class="dp">·</span>__stdcall</td><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#ifndef<span class="dp">·</span>__stdcall</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 228, 15 lines modified</td><td colspan="2">Offset 228, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">228 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#elif<span class="dp">·</span>!defined(CYTHON_USE_ASYNC_SLOTS)</td><td class="diffline">228 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#elif<span class="dp">·</span>!defined(CYTHON_USE_ASYNC_SLOTS)</td></tr>
<tr class="diffunmodified"><td class="diffline">229 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_ASYNC_SLOTS<span class="dp">·</span>1</td><td class="diffline">229 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_ASYNC_SLOTS<span class="dp">·</span>1</td></tr>
<tr class="diffunmodified"><td class="diffline">230 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td><td class="diffline">230 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td></tr>
<tr class="diffunmodified"><td class="diffline">231 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#if<span class="dp">·</span>PY_VERSION_HEX<span class="dp">·</span>&lt;<span class="dp">·</span>0x02070000</td><td class="diffline">231 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#if<span class="dp">·</span>PY_VERSION_HEX<span class="dp">·</span>&lt;<span class="dp">·</span>0x02070000</td></tr>
<tr class="diffunmodified"><td class="diffline">232 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#undef<span class="dp">·</span>CYTHON_USE_PYLONG_INTERNALS</td><td class="diffline">232 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#undef<span class="dp">·</span>CYTHON_USE_PYLONG_INTERNALS</td></tr>
<tr class="diffunmodified"><td class="diffline">233 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_PYLONG_INTERNALS<span class="dp">·</span>0</td><td class="diffline">233 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_PYLONG_INTERNALS<span class="dp">·</span>0</td></tr>
<tr class="diffunmodified"><td class="diffline">234 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#elif<span class="dp">·</span>!defined(CYTHON_USE_PYLONG_INTERNALS)</td><td class="diffline">234 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#elif<span class="dp">·</span>!defined(CYTHON_USE_PYLONG_INTERNALS)</td></tr>
<tr class="diffchanged"><td class="diffline">235 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_PYLONG_INTERNALS<span class="dp">·</span><del>1</del></td><td class="diffline">235 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_PYLONG_INTERNALS<span class="dp">·</span><ins>(PY_VERSION_HEX<span class="dp">·</span>&lt;<span class="dp">·</span>0x030C00A5</ins><ins>)</ins></td></tr>
<tr class="diffunmodified"><td class="diffline">236 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td><td class="diffline">236 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td></tr>
<tr class="diffunmodified"><td class="diffline">237 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#ifndef<span class="dp">·</span>CYTHON_USE_PYLIST_INTERNALS</td><td class="diffline">237 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#ifndef<span class="dp">·</span>CYTHON_USE_PYLIST_INTERNALS</td></tr>
<tr class="diffunmodified"><td class="diffline">238 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_PYLIST_INTERNALS<span class="dp">·</span>1</td><td class="diffline">238 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_PYLIST_INTERNALS<span class="dp">·</span>1</td></tr>
<tr class="diffunmodified"><td class="diffline">239 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td><td class="diffline">239 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td></tr>
<tr class="diffunmodified"><td class="diffline">240 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#ifndef<span class="dp">·</span>CYTHON_USE_UNICODE_INTERNALS</td><td class="diffline">240 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#ifndef<span class="dp">·</span>CYTHON_USE_UNICODE_INTERNALS</td></tr>
<tr class="diffunmodified"><td class="diffline">241 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_UNICODE_INTERNALS<span class="dp">·</span>1</td><td class="diffline">241 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_UNICODE_INTERNALS<span class="dp">·</span>1</td></tr>
<tr class="diffunmodified"><td class="diffline">242 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td><td class="diffline">242 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 267, 15 lines modified</td><td colspan="2">Offset 267, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">267 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#ifndef<span class="dp">·</span>CYTHON_PEP489_MULTI_PHASE_INIT</td><td class="diffline">267 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#ifndef<span class="dp">·</span>CYTHON_PEP489_MULTI_PHASE_INIT</td></tr>
<tr class="diffunmodified"><td class="diffline">268 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_PEP489_MULTI_PHASE_INIT<span class="dp">·</span>(PY_VERSION_HEX<span class="dp">·</span>&gt;=<span class="dp">·</span>0x03050000)</td><td class="diffline">268 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_PEP489_MULTI_PHASE_INIT<span class="dp">·</span>(PY_VERSION_HEX<span class="dp">·</span>&gt;=<span class="dp">·</span>0x03050000)</td></tr>
<tr class="diffunmodified"><td class="diffline">269 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td><td class="diffline">269 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td></tr>
<tr class="diffunmodified"><td class="diffline">270 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#ifndef<span class="dp">·</span>CYTHON_USE_TP_FINALIZE</td><td class="diffline">270 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#ifndef<span class="dp">·</span>CYTHON_USE_TP_FINALIZE</td></tr>
<tr class="diffunmodified"><td class="diffline">271 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_TP_FINALIZE<span class="dp">·</span>(PY_VERSION_HEX<span class="dp">·</span>&gt;=<span class="dp">·</span>0x030400a1)</td><td class="diffline">271 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_TP_FINALIZE<span class="dp">·</span>(PY_VERSION_HEX<span class="dp">·</span>&gt;=<span class="dp">·</span>0x030400a1)</td></tr>
<tr class="diffunmodified"><td class="diffline">272 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td><td class="diffline">272 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td></tr>
<tr class="diffunmodified"><td class="diffline">273 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#ifndef<span class="dp">·</span>CYTHON_USE_DICT_VERSIONS</td><td class="diffline">273 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#ifndef<span class="dp">·</span>CYTHON_USE_DICT_VERSIONS</td></tr>
<tr class="diffchanged"><td class="diffline">274 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_DICT_VERSIONS<span class="dp">·</span>(PY_VERSION_HEX<span class="dp">·</span>&gt;=<span class="dp">·</span>0x030600B1)</td><td class="diffline">274 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_DICT_VERSIONS<span class="dp">·</span>(<ins>(</ins>PY_VERSION_HEX<span class="dp">·</span>&gt;=<span class="dp">·</span>0x030600B1<ins>)<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>(PY_VERSION_HEX<span class="dp">·</span>&lt;<span class="dp">·</span>0x030C00A5)</ins>)</td></tr>
<tr class="diffunmodified"><td class="diffline">275 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td><td class="diffline">275 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td></tr>
<tr class="diffunmodified"><td class="diffline">276 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#if<span class="dp">·</span>PY_VERSION_HEX<span class="dp">·</span>&gt;=<span class="dp">·</span>0x030B00A4</td><td class="diffline">276 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#if<span class="dp">·</span>PY_VERSION_HEX<span class="dp">·</span>&gt;=<span class="dp">·</span>0x030B00A4</td></tr>
<tr class="diffunmodified"><td class="diffline">277 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#undef<span class="dp">·</span>CYTHON_USE_EXC_INFO_STACK</td><td class="diffline">277 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#undef<span class="dp">·</span>CYTHON_USE_EXC_INFO_STACK</td></tr>
<tr class="diffunmodified"><td class="diffline">278 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_EXC_INFO_STACK<span class="dp">·</span>0</td><td class="diffline">278 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_EXC_INFO_STACK<span class="dp">·</span>0</td></tr>
<tr class="diffunmodified"><td class="diffline">279 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#elif<span class="dp">·</span>!defined(CYTHON_USE_EXC_INFO_STACK)</td><td class="diffline">279 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#elif<span class="dp">·</span>!defined(CYTHON_USE_EXC_INFO_STACK)</td></tr>
<tr class="diffunmodified"><td class="diffline">280 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_EXC_INFO_STACK<span class="dp">·</span>(PY_VERSION_HEX<span class="dp">·</span>&gt;=<span class="dp">·</span>0x030700A3)</td><td class="diffline">280 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_EXC_INFO_STACK<span class="dp">·</span>(PY_VERSION_HEX<span class="dp">·</span>&gt;=<span class="dp">·</span>0x030700A3)</td></tr>
<tr class="diffunmodified"><td class="diffline">281 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td><td class="diffline">281 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 21204, 28 lines modified</td><td colspan="2">Offset 21204, 28 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">21204 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;BaseException&quot;);</td><td class="diffline">21204 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;BaseException&quot;);</td></tr>
<tr class="diffunmodified"><td class="diffline">21205 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>goto<span class="dp">·</span>bad;</td><td class="diffline">21205 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>goto<span class="dp">·</span>bad;</td></tr>
<tr class="diffunmodified"><td class="diffline">21206 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td><td class="diffline">21206 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td></tr>
<tr class="diffunmodified"><td class="diffline">21207 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>PyException_SetCause(value,<span class="dp">·</span>fixed_cause);</td><td class="diffline">21207 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>PyException_SetCause(value,<span class="dp">·</span>fixed_cause);</td></tr>
<tr class="diffunmodified"><td class="diffline">21208 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td><td class="diffline">21208 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td></tr>
<tr class="diffunmodified"><td class="diffline">21209 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>PyErr_SetObject(type,<span class="dp">·</span>value);</td><td class="diffline">21209 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>PyErr_SetObject(type,<span class="dp">·</span>value);</td></tr>
<tr class="diffunmodified"><td class="diffline">21210 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(tb)<span class="dp">·</span>{</td><td class="diffline">21210 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(tb)<span class="dp">·</span>{</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">21211 </td><td class="diffpresent">#if<span class="dp">·</span>CYTHON_FAST_THREAD_STATE</td></tr>
<tr class="diffdeleted"><td class="diffline">21211 </td><td class="diffpresent">#if<span class="dp">·</span>CYTHON_COMPILING_IN_PYPY</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">21212 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>PyObject<span class="dp">·</span>*tmp_type,<span class="dp">·</span>*tmp_value,<span class="dp">·</span>*tmp_tb;</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">21213 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>PyErr_Fetch(&amp;tmp_type,<span class="dp">·</span>&amp;tmp_value,<span class="dp">·</span>&amp;tmp_tb);</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">21214 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Py_INCREF(tb);</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">21215 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>PyErr_Restore(tmp_type,<span class="dp">·</span>tmp_value,<span class="dp">·</span>tb);</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">21216 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Py_XDECREF(tmp_tb);</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">21217 </td><td class="diffpresent">#else</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">21218 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>PyThreadState<span class="dp">·</span>*tstate<span class="dp">·</span>=<span class="dp">·</span>__Pyx_PyThreadState_Current;</td><td class="diffline">21212 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>PyThreadState<span class="dp">·</span>*tstate<span class="dp">·</span>=<span class="dp">·</span>__Pyx_PyThreadState_Current;</td></tr>
<tr class="diffunmodified"><td class="diffline">21219 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>PyObject*<span class="dp">·</span>tmp_tb<span class="dp">·</span>=<span class="dp">·</span>tstate-&gt;curexc_traceback;</td><td class="diffline">21213 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>PyObject*<span class="dp">·</span>tmp_tb<span class="dp">·</span>=<span class="dp">·</span>tstate-&gt;curexc_traceback;</td></tr>
<tr class="diffunmodified"><td class="diffline">21220 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(tb<span class="dp">·</span>!=<span class="dp">·</span>tmp_tb)<span class="dp">·</span>{</td><td class="diffline">21214 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(tb<span class="dp">·</span>!=<span class="dp">·</span>tmp_tb)<span class="dp">·</span>{</td></tr>
<tr class="diffunmodified"><td class="diffline">21221 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Py_INCREF(tb);</td><td class="diffline">21215 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Py_INCREF(tb);</td></tr>
<tr class="diffunmodified"><td class="diffline">21222 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tstate-&gt;curexc_traceback<span class="dp">·</span>=<span class="dp">·</span>tb;</td><td class="diffline">21216 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tstate-&gt;curexc_traceback<span class="dp">·</span>=<span class="dp">·</span>tb;</td></tr>
<tr class="diffunmodified"><td class="diffline">21223 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Py_XDECREF(tmp_tb);</td><td class="diffline">21217 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Py_XDECREF(tmp_tb);</td></tr>
<tr class="diffunmodified"><td class="diffline">21224 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td><td class="diffline">21218 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">21219 </td><td class="diffpresent">#else</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">21220 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>PyObject<span class="dp">·</span>*tmp_type,<span class="dp">·</span>*tmp_value,<span class="dp">·</span>*tmp_tb;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">21221 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>PyErr_Fetch(&amp;tmp_type,<span class="dp">·</span>&amp;tmp_value,<span class="dp">·</span>&amp;tmp_tb);</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">21222 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Py_INCREF(tb);</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">21223 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>PyErr_Restore(tmp_type,<span class="dp">·</span>tmp_value,<span class="dp">·</span>tb);</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">21224 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Py_XDECREF(tmp_tb);</td></tr>
<tr class="diffunmodified"><td class="diffline">21225 </td><td class="diffpresent">#endif</td><td class="diffline">21225 </td><td class="diffpresent">#endif</td></tr>
<tr class="diffunmodified"><td class="diffline">21226 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td><td class="diffline">21226 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td></tr>
<tr class="diffunmodified"><td class="diffline">21227 </td><td class="diffpresent">bad:</td><td class="diffline">21227 </td><td class="diffpresent">bad:</td></tr>
<tr class="diffunmodified"><td class="diffline">21228 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Py_XDECREF(owned_instance);</td><td class="diffline">21228 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Py_XDECREF(owned_instance);</td></tr>
<tr class="diffunmodified"><td class="diffline">21229 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return;</td><td class="diffline">21229 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return;</td></tr>
<tr class="diffunmodified"><td class="diffline">21230 </td><td class="diffpresent">}</td><td class="diffline">21230 </td><td class="diffpresent">}</td></tr>
<tr class="diffunmodified"><td class="diffline">21231 </td><td class="diffpresent">#endif</td><td class="diffline">21231 </td><td class="diffpresent">#endif</td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">135 B</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/algorithms/_als.pyx</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-_als.pyx"><span class="source">LibRecommender-1.1.0/libreco/algorithms/_als.pyx</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-_als.pyx">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">67.3 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/algorithms/_bpr.cpp</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-_bpr.cpp"><span class="source">LibRecommender-1.1.0/libreco/algorithms/_bpr.cpp</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-_bpr.cpp">¶</a>
      </div>
      </div>
      <div class="comment">Files 1% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 33 lines modified</td><td colspan="2">Offset 1, 33 lines modified</td></tr>
<tr class="diffchanged"><td class="diffline">1 </td><td class="diffpresent">/*<span class="dp">·</span>Generated<span class="dp">·</span>by<span class="dp">·</span>Cython<span class="dp">·</span>0.29.3<del>3</del><span class="dp">·</span>*/</td><td class="diffline">1 </td><td class="diffpresent">/*<span class="dp">·</span>Generated<span class="dp">·</span>by<span class="dp">·</span>Cython<span class="dp">·</span>0.29.3<ins>4</ins><span class="dp">·</span>*/</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">2 </td><td class="diffpresent">/*<span class="dp">·</span>BEGIN:<span class="dp">·</span>Cython<span class="dp">·</span>Metadata</td><td class="diffline">2 </td><td class="diffpresent">/*<span class="dp">·</span>BEGIN:<span class="dp">·</span>Cython<span class="dp">·</span>Metadata</td></tr>
<tr class="diffunmodified"><td class="diffline">3 </td><td class="diffpresent">{</td><td class="diffline">3 </td><td class="diffpresent">{</td></tr>
<tr class="diffunmodified"><td class="diffline">4 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;distutils&quot;:<span class="dp">·</span>{</td><td class="diffline">4 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;distutils&quot;:<span class="dp">·</span>{</td></tr>
<tr class="diffunmodified"><td class="diffline">5 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;depends&quot;:<span class="dp">·</span>[</td><td class="diffline">5 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;depends&quot;:<span class="dp">·</span>[</td></tr>
<tr class="diffchanged"><td class="diffline">6 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;/tmp/build-env-<del>glkoam</del>7<del>d</del>/lib/python3.8/site-packages/numpy/core/include/numpy/arrayobject.h&quot;,</td><td class="diffline">6 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;/tmp/build-env-<ins>y58uqb</ins>7<ins>6</ins>/lib/python3.8/site-packages/numpy/core/include/numpy/arrayobject.h&quot;,</td></tr>
<tr class="diffchanged"><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;/tmp/build-env-<del>glkoam</del>7<del>d</del>/lib/python3.8/site-packages/numpy/core/include/numpy/arrayscalars.h&quot;,</td><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;/tmp/build-env-<ins>y58uqb</ins>7<ins>6</ins>/lib/python3.8/site-packages/numpy/core/include/numpy/arrayscalars.h&quot;,</td></tr>
<tr class="diffchanged"><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;/tmp/build-env-<del>glkoam</del>7<del>d</del>/lib/python3.8/site-packages/numpy/core/include/numpy/ndarrayobject.h&quot;,</td><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;/tmp/build-env-<ins>y58uqb</ins>7<ins>6</ins>/lib/python3.8/site-packages/numpy/core/include/numpy/ndarrayobject.h&quot;,</td></tr>
<tr class="diffchanged"><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;/tmp/build-env-<del>glkoam</del>7<del>d</del>/lib/python3.8/site-packages/numpy/core/include/numpy/ndarraytypes.h&quot;,</td><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;/tmp/build-env-<ins>y58uqb</ins>7<ins>6</ins>/lib/python3.8/site-packages/numpy/core/include/numpy/ndarraytypes.h&quot;,</td></tr>
<tr class="diffchanged"><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;/tmp/build-env-<del>glkoam</del>7<del>d</del>/lib/python3.8/site-packages/numpy/core/include/numpy/ufuncobject.h&quot;</td><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;/tmp/build-env-<ins>y58uqb</ins>7<ins>6</ins>/lib/python3.8/site-packages/numpy/core/include/numpy/ufuncobject.h&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>],</td><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>],</td></tr>
<tr class="diffunmodified"><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;extra_compile_args&quot;:<span class="dp">·</span>[</td><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;extra_compile_args&quot;:<span class="dp">·</span>[</td></tr>
<tr class="diffunmodified"><td class="diffline">13 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;-Wno-unused-function&quot;,</td><td class="diffline">13 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;-Wno-unused-function&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;-Wno-maybe-uninitialized&quot;,</td><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;-Wno-maybe-uninitialized&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;-O3&quot;,</td><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;-O3&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;-ffast-math&quot;,</td><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;-ffast-math&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;-fopenmp&quot;,</td><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;-fopenmp&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;-std=c++11&quot;</td><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;-std=c++11&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>],</td><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>],</td></tr>
<tr class="diffunmodified"><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;extra_link_args&quot;:<span class="dp">·</span>[</td><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;extra_link_args&quot;:<span class="dp">·</span>[</td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;-fopenmp&quot;,</td><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;-fopenmp&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;-std=c++11&quot;</td><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;-std=c++11&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>],</td><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>],</td></tr>
<tr class="diffunmodified"><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;include_dirs&quot;:<span class="dp">·</span>[</td><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;include_dirs&quot;:<span class="dp">·</span>[</td></tr>
<tr class="diffchanged"><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;/tmp/build-env-<del>glkoam</del>7<del>d</del>/lib/python3.8/site-packages/numpy/core/include&quot;</td><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;/tmp/build-env-<ins>y58uqb</ins>7<ins>6</ins>/lib/python3.8/site-packages/numpy/core/include&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>],</td><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>],</td></tr>
<tr class="diffunmodified"><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;language&quot;:<span class="dp">·</span>&quot;c++&quot;,</td><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;language&quot;:<span class="dp">·</span>&quot;c++&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">28 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;name&quot;:<span class="dp">·</span>&quot;libreco.algorithms._bpr&quot;,</td><td class="diffline">28 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;name&quot;:<span class="dp">·</span>&quot;libreco.algorithms._bpr&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;sources&quot;:<span class="dp">·</span>[</td><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;sources&quot;:<span class="dp">·</span>[</td></tr>
<tr class="diffunmodified"><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;libreco/algorithms/_bpr.pyx&quot;</td><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;libreco/algorithms/_bpr.pyx&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>]</td><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>]</td></tr>
<tr class="diffunmodified"><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},</td><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 40, 16 lines modified</td><td colspan="2">Offset 40, 16 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">40 </td><td class="diffpresent">#endif<span class="dp">·</span>/*<span class="dp">·</span>PY_SSIZE_T_CLEAN<span class="dp">·</span>*/</td><td class="diffline">40 </td><td class="diffpresent">#endif<span class="dp">·</span>/*<span class="dp">·</span>PY_SSIZE_T_CLEAN<span class="dp">·</span>*/</td></tr>
<tr class="diffunmodified"><td class="diffline">41 </td><td class="diffpresent">#include<span class="dp">·</span>&quot;Python.h&quot;</td><td class="diffline">41 </td><td class="diffpresent">#include<span class="dp">·</span>&quot;Python.h&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">42 </td><td class="diffpresent">#ifndef<span class="dp">·</span>Py_PYTHON_H</td><td class="diffline">42 </td><td class="diffpresent">#ifndef<span class="dp">·</span>Py_PYTHON_H</td></tr>
<tr class="diffunmodified"><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#error<span class="dp">·</span>Python<span class="dp">·</span>headers<span class="dp">·</span>needed<span class="dp">·</span>to<span class="dp">·</span>compile<span class="dp">·</span>C<span class="dp">·</span>extensions,<span class="dp">·</span>please<span class="dp">·</span>install<span class="dp">·</span>development<span class="dp">·</span>version<span class="dp">·</span>of<span class="dp">·</span>Python.</td><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#error<span class="dp">·</span>Python<span class="dp">·</span>headers<span class="dp">·</span>needed<span class="dp">·</span>to<span class="dp">·</span>compile<span class="dp">·</span>C<span class="dp">·</span>extensions,<span class="dp">·</span>please<span class="dp">·</span>install<span class="dp">·</span>development<span class="dp">·</span>version<span class="dp">·</span>of<span class="dp">·</span>Python.</td></tr>
<tr class="diffunmodified"><td class="diffline">44 </td><td class="diffpresent">#elif<span class="dp">·</span>PY_VERSION_HEX<span class="dp">·</span>&lt;<span class="dp">·</span>0x02060000<span class="dp">·</span>||<span class="dp">·</span>(0x03000000<span class="dp">·</span>&lt;=<span class="dp">·</span>PY_VERSION_HEX<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>PY_VERSION_HEX<span class="dp">·</span>&lt;<span class="dp">·</span>0x03030000)</td><td class="diffline">44 </td><td class="diffpresent">#elif<span class="dp">·</span>PY_VERSION_HEX<span class="dp">·</span>&lt;<span class="dp">·</span>0x02060000<span class="dp">·</span>||<span class="dp">·</span>(0x03000000<span class="dp">·</span>&lt;=<span class="dp">·</span>PY_VERSION_HEX<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>PY_VERSION_HEX<span class="dp">·</span>&lt;<span class="dp">·</span>0x03030000)</td></tr>
<tr class="diffunmodified"><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#error<span class="dp">·</span>Cython<span class="dp">·</span>requires<span class="dp">·</span>Python<span class="dp">·</span>2.6+<span class="dp">·</span>or<span class="dp">·</span>Python<span class="dp">·</span>3.3+.</td><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#error<span class="dp">·</span>Cython<span class="dp">·</span>requires<span class="dp">·</span>Python<span class="dp">·</span>2.6+<span class="dp">·</span>or<span class="dp">·</span>Python<span class="dp">·</span>3.3+.</td></tr>
<tr class="diffunmodified"><td class="diffline">46 </td><td class="diffpresent">#else</td><td class="diffline">46 </td><td class="diffpresent">#else</td></tr>
<tr class="diffchanged"><td class="diffline">47 </td><td class="diffpresent">#define<span class="dp">·</span>CYTHON_ABI<span class="dp">·</span>&quot;0_29_3<del>3</del>&quot;</td><td class="diffline">47 </td><td class="diffpresent">#define<span class="dp">·</span>CYTHON_ABI<span class="dp">·</span>&quot;0_29_3<ins>4</ins>&quot;</td></tr>
<tr class="diffchanged"><td class="diffline">48 </td><td class="diffpresent">#define<span class="dp">·</span>CYTHON_HEX_VERSION<span class="dp">·</span>0x001D2<del>1</del>F0</td><td class="diffline">48 </td><td class="diffpresent">#define<span class="dp">·</span>CYTHON_HEX_VERSION<span class="dp">·</span>0x001D2<ins>2</ins>F0</td></tr>
<tr class="diffunmodified"><td class="diffline">49 </td><td class="diffpresent">#define<span class="dp">·</span>CYTHON_FUTURE_DIVISION<span class="dp">·</span>0</td><td class="diffline">49 </td><td class="diffpresent">#define<span class="dp">·</span>CYTHON_FUTURE_DIVISION<span class="dp">·</span>0</td></tr>
<tr class="diffunmodified"><td class="diffline">50 </td><td class="diffpresent">#include<span class="dp">·</span>&lt;stddef.h&gt;</td><td class="diffline">50 </td><td class="diffpresent">#include<span class="dp">·</span>&lt;stddef.h&gt;</td></tr>
<tr class="diffunmodified"><td class="diffline">51 </td><td class="diffpresent">#ifndef<span class="dp">·</span>offsetof</td><td class="diffline">51 </td><td class="diffpresent">#ifndef<span class="dp">·</span>offsetof</td></tr>
<tr class="diffunmodified"><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>offsetof(type,<span class="dp">·</span>member)<span class="dp">·</span>(<span class="dp">·</span>(size_t)<span class="dp">·</span>&amp;<span class="dp">·</span>((type*)0)<span class="dp">·</span>-&gt;<span class="dp">·</span>member<span class="dp">·</span>)</td><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>offsetof(type,<span class="dp">·</span>member)<span class="dp">·</span>(<span class="dp">·</span>(size_t)<span class="dp">·</span>&amp;<span class="dp">·</span>((type*)0)<span class="dp">·</span>-&gt;<span class="dp">·</span>member<span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td class="diffline">53 </td><td class="diffpresent">#endif</td><td class="diffline">53 </td><td class="diffpresent">#endif</td></tr>
<tr class="diffunmodified"><td class="diffline">54 </td><td class="diffpresent">#if<span class="dp">·</span>!defined(WIN32)<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>!defined(MS_WINDOWS)</td><td class="diffline">54 </td><td class="diffpresent">#if<span class="dp">·</span>!defined(WIN32)<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>!defined(MS_WINDOWS)</td></tr>
<tr class="diffunmodified"><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#ifndef<span class="dp">·</span>__stdcall</td><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#ifndef<span class="dp">·</span>__stdcall</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 234, 15 lines modified</td><td colspan="2">Offset 234, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">234 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#elif<span class="dp">·</span>!defined(CYTHON_USE_ASYNC_SLOTS)</td><td class="diffline">234 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#elif<span class="dp">·</span>!defined(CYTHON_USE_ASYNC_SLOTS)</td></tr>
<tr class="diffunmodified"><td class="diffline">235 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_ASYNC_SLOTS<span class="dp">·</span>1</td><td class="diffline">235 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_ASYNC_SLOTS<span class="dp">·</span>1</td></tr>
<tr class="diffunmodified"><td class="diffline">236 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td><td class="diffline">236 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td></tr>
<tr class="diffunmodified"><td class="diffline">237 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#if<span class="dp">·</span>PY_VERSION_HEX<span class="dp">·</span>&lt;<span class="dp">·</span>0x02070000</td><td class="diffline">237 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#if<span class="dp">·</span>PY_VERSION_HEX<span class="dp">·</span>&lt;<span class="dp">·</span>0x02070000</td></tr>
<tr class="diffunmodified"><td class="diffline">238 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#undef<span class="dp">·</span>CYTHON_USE_PYLONG_INTERNALS</td><td class="diffline">238 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#undef<span class="dp">·</span>CYTHON_USE_PYLONG_INTERNALS</td></tr>
<tr class="diffunmodified"><td class="diffline">239 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_PYLONG_INTERNALS<span class="dp">·</span>0</td><td class="diffline">239 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_PYLONG_INTERNALS<span class="dp">·</span>0</td></tr>
<tr class="diffunmodified"><td class="diffline">240 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#elif<span class="dp">·</span>!defined(CYTHON_USE_PYLONG_INTERNALS)</td><td class="diffline">240 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#elif<span class="dp">·</span>!defined(CYTHON_USE_PYLONG_INTERNALS)</td></tr>
<tr class="diffchanged"><td class="diffline">241 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_PYLONG_INTERNALS<span class="dp">·</span><del>1</del></td><td class="diffline">241 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_PYLONG_INTERNALS<span class="dp">·</span><ins>(PY_VERSION_HEX<span class="dp">·</span>&lt;<span class="dp">·</span>0x030C00A5</ins><ins>)</ins></td></tr>
<tr class="diffunmodified"><td class="diffline">242 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td><td class="diffline">242 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td></tr>
<tr class="diffunmodified"><td class="diffline">243 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#ifndef<span class="dp">·</span>CYTHON_USE_PYLIST_INTERNALS</td><td class="diffline">243 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#ifndef<span class="dp">·</span>CYTHON_USE_PYLIST_INTERNALS</td></tr>
<tr class="diffunmodified"><td class="diffline">244 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_PYLIST_INTERNALS<span class="dp">·</span>1</td><td class="diffline">244 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_PYLIST_INTERNALS<span class="dp">·</span>1</td></tr>
<tr class="diffunmodified"><td class="diffline">245 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td><td class="diffline">245 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td></tr>
<tr class="diffunmodified"><td class="diffline">246 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#ifndef<span class="dp">·</span>CYTHON_USE_UNICODE_INTERNALS</td><td class="diffline">246 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#ifndef<span class="dp">·</span>CYTHON_USE_UNICODE_INTERNALS</td></tr>
<tr class="diffunmodified"><td class="diffline">247 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_UNICODE_INTERNALS<span class="dp">·</span>1</td><td class="diffline">247 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_UNICODE_INTERNALS<span class="dp">·</span>1</td></tr>
<tr class="diffunmodified"><td class="diffline">248 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td><td class="diffline">248 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 273, 15 lines modified</td><td colspan="2">Offset 273, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">273 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#ifndef<span class="dp">·</span>CYTHON_PEP489_MULTI_PHASE_INIT</td><td class="diffline">273 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#ifndef<span class="dp">·</span>CYTHON_PEP489_MULTI_PHASE_INIT</td></tr>
<tr class="diffunmodified"><td class="diffline">274 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_PEP489_MULTI_PHASE_INIT<span class="dp">·</span>(PY_VERSION_HEX<span class="dp">·</span>&gt;=<span class="dp">·</span>0x03050000)</td><td class="diffline">274 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_PEP489_MULTI_PHASE_INIT<span class="dp">·</span>(PY_VERSION_HEX<span class="dp">·</span>&gt;=<span class="dp">·</span>0x03050000)</td></tr>
<tr class="diffunmodified"><td class="diffline">275 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td><td class="diffline">275 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td></tr>
<tr class="diffunmodified"><td class="diffline">276 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#ifndef<span class="dp">·</span>CYTHON_USE_TP_FINALIZE</td><td class="diffline">276 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#ifndef<span class="dp">·</span>CYTHON_USE_TP_FINALIZE</td></tr>
<tr class="diffunmodified"><td class="diffline">277 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_TP_FINALIZE<span class="dp">·</span>(PY_VERSION_HEX<span class="dp">·</span>&gt;=<span class="dp">·</span>0x030400a1)</td><td class="diffline">277 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_TP_FINALIZE<span class="dp">·</span>(PY_VERSION_HEX<span class="dp">·</span>&gt;=<span class="dp">·</span>0x030400a1)</td></tr>
<tr class="diffunmodified"><td class="diffline">278 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td><td class="diffline">278 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td></tr>
<tr class="diffunmodified"><td class="diffline">279 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#ifndef<span class="dp">·</span>CYTHON_USE_DICT_VERSIONS</td><td class="diffline">279 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#ifndef<span class="dp">·</span>CYTHON_USE_DICT_VERSIONS</td></tr>
<tr class="diffchanged"><td class="diffline">280 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_DICT_VERSIONS<span class="dp">·</span>(PY_VERSION_HEX<span class="dp">·</span>&gt;=<span class="dp">·</span>0x030600B1)</td><td class="diffline">280 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_DICT_VERSIONS<span class="dp">·</span>(<ins>(</ins>PY_VERSION_HEX<span class="dp">·</span>&gt;=<span class="dp">·</span>0x030600B1<ins>)<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>(PY_VERSION_HEX<span class="dp">·</span>&lt;<span class="dp">·</span>0x030C00A5)</ins>)</td></tr>
<tr class="diffunmodified"><td class="diffline">281 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td><td class="diffline">281 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td></tr>
<tr class="diffunmodified"><td class="diffline">282 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#if<span class="dp">·</span>PY_VERSION_HEX<span class="dp">·</span>&gt;=<span class="dp">·</span>0x030B00A4</td><td class="diffline">282 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#if<span class="dp">·</span>PY_VERSION_HEX<span class="dp">·</span>&gt;=<span class="dp">·</span>0x030B00A4</td></tr>
<tr class="diffunmodified"><td class="diffline">283 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#undef<span class="dp">·</span>CYTHON_USE_EXC_INFO_STACK</td><td class="diffline">283 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#undef<span class="dp">·</span>CYTHON_USE_EXC_INFO_STACK</td></tr>
<tr class="diffunmodified"><td class="diffline">284 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_EXC_INFO_STACK<span class="dp">·</span>0</td><td class="diffline">284 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_EXC_INFO_STACK<span class="dp">·</span>0</td></tr>
<tr class="diffunmodified"><td class="diffline">285 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#elif<span class="dp">·</span>!defined(CYTHON_USE_EXC_INFO_STACK)</td><td class="diffline">285 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#elif<span class="dp">·</span>!defined(CYTHON_USE_EXC_INFO_STACK)</td></tr>
<tr class="diffunmodified"><td class="diffline">286 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_EXC_INFO_STACK<span class="dp">·</span>(PY_VERSION_HEX<span class="dp">·</span>&gt;=<span class="dp">·</span>0x030700A3)</td><td class="diffline">286 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_EXC_INFO_STACK<span class="dp">·</span>(PY_VERSION_HEX<span class="dp">·</span>&gt;=<span class="dp">·</span>0x030700A3)</td></tr>
<tr class="diffunmodified"><td class="diffline">287 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td><td class="diffline">287 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1148, 195 lines modified</td><td colspan="2">Offset 1148, 195 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">1148 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>char<span class="dp">·</span>enc_type;</td><td class="diffline">1148 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>char<span class="dp">·</span>enc_type;</td></tr>
<tr class="diffunmodified"><td class="diffline">1149 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>char<span class="dp">·</span>new_packmode;</td><td class="diffline">1149 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>char<span class="dp">·</span>new_packmode;</td></tr>
<tr class="diffunmodified"><td class="diffline">1150 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>char<span class="dp">·</span>enc_packmode;</td><td class="diffline">1150 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>char<span class="dp">·</span>enc_packmode;</td></tr>
<tr class="diffunmodified"><td class="diffline">1151 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>char<span class="dp">·</span>is_valid_array;</td><td class="diffline">1151 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>char<span class="dp">·</span>is_valid_array;</td></tr>
<tr class="diffunmodified"><td class="diffline">1152 </td><td class="diffpresent">}<span class="dp">·</span>__Pyx_BufFmt_Context;</td><td class="diffline">1152 </td><td class="diffpresent">}<span class="dp">·</span>__Pyx_BufFmt_Context;</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">1153 </td><td class="diffpresent">/*<span class="dp">·</span>&quot;../../../../../tmp/build-env-<del>glkoam</del>7<del>d</del>/lib/python3.8/site-packages/numpy/__init__.pxd&quot;:689</td><td class="diffline">1153 </td><td class="diffpresent">/*<span class="dp">·</span>&quot;../../../../../tmp/build-env-<ins>y58uqb</ins>7<ins>6</ins>/lib/python3.8/site-packages/numpy/__init__.pxd&quot;:689</td></tr>
<tr class="diffunmodified"><td class="diffline">1154 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>#<span class="dp">·</span>in<span class="dp">·</span>Cython<span class="dp">·</span>to<span class="dp">·</span>enable<span class="dp">·</span>them<span class="dp">·</span>only<span class="dp">·</span>on<span class="dp">·</span>the<span class="dp">·</span>right<span class="dp">·</span>systems.</td><td class="diffline">1154 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>#<span class="dp">·</span>in<span class="dp">·</span>Cython<span class="dp">·</span>to<span class="dp">·</span>enable<span class="dp">·</span>them<span class="dp">·</span>only<span class="dp">·</span>on<span class="dp">·</span>the<span class="dp">·</span>right<span class="dp">·</span>systems.</td></tr>
<tr class="diffunmodified"><td class="diffline">1155 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span></td><td class="diffline">1155 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span></td></tr>
<tr class="diffunmodified"><td class="diffline">1156 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int8<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int8_t<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</td><td class="diffline">1156 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int8<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int8_t<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</td></tr>
<tr class="diffunmodified"><td class="diffline">1157 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int16<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int16_t</td><td class="diffline">1157 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int16<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int16_t</td></tr>
<tr class="diffunmodified"><td class="diffline">1158 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int32<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int32_t</td><td class="diffline">1158 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int32<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int32_t</td></tr>
<tr class="diffunmodified"><td class="diffline">1159 </td><td class="diffpresent"><span class="dp">·</span>*/</td><td class="diffline">1159 </td><td class="diffpresent"><span class="dp">·</span>*/</td></tr>
<tr class="diffunmodified"><td class="diffline">1160 </td><td class="diffpresent">typedef<span class="dp">·</span>npy_int8<span class="dp">·</span>__pyx_t_5numpy_int8_t;</td><td class="diffline">1160 </td><td class="diffpresent">typedef<span class="dp">·</span>npy_int8<span class="dp">·</span>__pyx_t_5numpy_int8_t;</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">1161 </td><td class="diffpresent">/*<span class="dp">·</span>&quot;../../../../../tmp/build-env-<del>glkoam</del>7<del>d</del>/lib/python3.8/site-packages/numpy/__init__.pxd&quot;:690</td><td class="diffline">1161 </td><td class="diffpresent">/*<span class="dp">·</span>&quot;../../../../../tmp/build-env-<ins>y58uqb</ins>7<ins>6</ins>/lib/python3.8/site-packages/numpy/__init__.pxd&quot;:690</td></tr>
<tr class="diffunmodified"><td class="diffline">1162 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span></td><td class="diffline">1162 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span></td></tr>
<tr class="diffunmodified"><td class="diffline">1163 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int8<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int8_t</td><td class="diffline">1163 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int8<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int8_t</td></tr>
<tr class="diffunmodified"><td class="diffline">1164 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int16<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int16_t<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</td><td class="diffline">1164 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int16<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int16_t<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</td></tr>
<tr class="diffunmodified"><td class="diffline">1165 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int32<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int32_t</td><td class="diffline">1165 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int32<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int32_t</td></tr>
<tr class="diffunmodified"><td class="diffline">1166 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int64<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int64_t</td><td class="diffline">1166 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int64<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int64_t</td></tr>
<tr class="diffunmodified"><td class="diffline">1167 </td><td class="diffpresent"><span class="dp">·</span>*/</td><td class="diffline">1167 </td><td class="diffpresent"><span class="dp">·</span>*/</td></tr>
<tr class="diffunmodified"><td class="diffline">1168 </td><td class="diffpresent">typedef<span class="dp">·</span>npy_int16<span class="dp">·</span>__pyx_t_5numpy_int16_t;</td><td class="diffline">1168 </td><td class="diffpresent">typedef<span class="dp">·</span>npy_int16<span class="dp">·</span>__pyx_t_5numpy_int16_t;</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">1169 </td><td class="diffpresent">/*<span class="dp">·</span>&quot;../../../../../tmp/build-env-<del>glkoam</del>7<del>d</del>/lib/python3.8/site-packages/numpy/__init__.pxd&quot;:691</td><td class="diffline">1169 </td><td class="diffpresent">/*<span class="dp">·</span>&quot;../../../../../tmp/build-env-<ins>y58uqb</ins>7<ins>6</ins>/lib/python3.8/site-packages/numpy/__init__.pxd&quot;:691</td></tr>
<tr class="diffunmodified"><td class="diffline">1170 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int8<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int8_t</td><td class="diffline">1170 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int8<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int8_t</td></tr>
<tr class="diffunmodified"><td class="diffline">1171 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int16<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int16_t</td><td class="diffline">1171 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int16<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int16_t</td></tr>
<tr class="diffunmodified"><td class="diffline">1172 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int32<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int32_t<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</td><td class="diffline">1172 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int32<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int32_t<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</td></tr>
<tr class="diffunmodified"><td class="diffline">1173 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int64<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int64_t</td><td class="diffline">1173 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int64<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int64_t</td></tr>
<tr class="diffunmodified"><td class="diffline">1174 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>#ctypedef<span class="dp">·</span>npy_int96<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int96_t</td><td class="diffline">1174 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>#ctypedef<span class="dp">·</span>npy_int96<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int96_t</td></tr>
<tr class="diffunmodified"><td class="diffline">1175 </td><td class="diffpresent"><span class="dp">·</span>*/</td><td class="diffline">1175 </td><td class="diffpresent"><span class="dp">·</span>*/</td></tr>
<tr class="diffunmodified"><td class="diffline">1176 </td><td class="diffpresent">typedef<span class="dp">·</span>npy_int32<span class="dp">·</span>__pyx_t_5numpy_int32_t;</td><td class="diffline">1176 </td><td class="diffpresent">typedef<span class="dp">·</span>npy_int32<span class="dp">·</span>__pyx_t_5numpy_int32_t;</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">1177 </td><td class="diffpresent">/*<span class="dp">·</span>&quot;../../../../../tmp/build-env-<del>glkoam</del>7<del>d</del>/lib/python3.8/site-packages/numpy/__init__.pxd&quot;:692</td><td class="diffline">1177 </td><td class="diffpresent">/*<span class="dp">·</span>&quot;../../../../../tmp/build-env-<ins>y58uqb</ins>7<ins>6</ins>/lib/python3.8/site-packages/numpy/__init__.pxd&quot;:692</td></tr>
<tr class="diffunmodified"><td class="diffline">1178 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int16<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int16_t</td><td class="diffline">1178 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int16<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int16_t</td></tr>
<tr class="diffunmodified"><td class="diffline">1179 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int32<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int32_t</td><td class="diffline">1179 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int32<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int32_t</td></tr>
<tr class="diffunmodified"><td class="diffline">1180 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int64<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int64_t<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</td><td class="diffline">1180 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int64<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int64_t<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</td></tr>
<tr class="diffunmodified"><td class="diffline">1181 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>#ctypedef<span class="dp">·</span>npy_int96<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int96_t</td><td class="diffline">1181 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>#ctypedef<span class="dp">·</span>npy_int96<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int96_t</td></tr>
<tr class="diffunmodified"><td class="diffline">1182 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>#ctypedef<span class="dp">·</span>npy_int128<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int128_t</td><td class="diffline">1182 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>#ctypedef<span class="dp">·</span>npy_int128<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int128_t</td></tr>
<tr class="diffunmodified"><td class="diffline">1183 </td><td class="diffpresent"><span class="dp">·</span>*/</td><td class="diffline">1183 </td><td class="diffpresent"><span class="dp">·</span>*/</td></tr>
<tr class="diffunmodified"><td class="diffline">1184 </td><td class="diffpresent">typedef<span class="dp">·</span>npy_int64<span class="dp">·</span>__pyx_t_5numpy_int64_t;</td><td class="diffline">1184 </td><td class="diffpresent">typedef<span class="dp">·</span>npy_int64<span class="dp">·</span>__pyx_t_5numpy_int64_t;</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">1185 </td><td class="diffpresent">/*<span class="dp">·</span>&quot;../../../../../tmp/build-env-<del>glkoam</del>7<del>d</del>/lib/python3.8/site-packages/numpy/__init__.pxd&quot;:696</td><td class="diffline">1185 </td><td class="diffpresent">/*<span class="dp">·</span>&quot;../../../../../tmp/build-env-<ins>y58uqb</ins>7<ins>6</ins>/lib/python3.8/site-packages/numpy/__init__.pxd&quot;:696</td></tr>
<tr class="error"><td colspan="4">
Max diff block lines reached; 62661/68739 bytes (91.16%) of diff not shown.
</td></tr></table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">135 B</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/algorithms/_bpr.pyx</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-_bpr.pyx"><span class="source">LibRecommender-1.1.0/libreco/algorithms/_bpr.pyx</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-_bpr.pyx">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">3.97 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/algorithms/als.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-als.py"><span class="source">LibRecommender-1.1.0/libreco/algorithms/als.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-als.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 2% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 7, 14 lines modified</td><td colspan="2">Offset 7, 15 lines modified</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">7 </td><td class="diffpresent">from<span class="dp">·</span>..bases<span class="dp">·</span>import<span class="dp">·</span>EmbedBase</td><td class="diffline">7 </td><td class="diffpresent">from<span class="dp">·</span>..bases<span class="dp">·</span>import<span class="dp">·</span>EmbedBase</td></tr>
<tr class="diffunmodified"><td class="diffline">8 </td><td class="diffpresent">from<span class="dp">·</span>..evaluation<span class="dp">·</span>import<span class="dp">·</span>print_metrics</td><td class="diffline">8 </td><td class="diffpresent">from<span class="dp">·</span>..evaluation<span class="dp">·</span>import<span class="dp">·</span>print_metrics</td></tr>
<tr class="diffunmodified"><td class="diffline">9 </td><td class="diffpresent">from<span class="dp">·</span>..recommendation<span class="dp">·</span>import<span class="dp">·</span>recommend_from_embedding</td><td class="diffline">9 </td><td class="diffpresent">from<span class="dp">·</span>..recommendation<span class="dp">·</span>import<span class="dp">·</span>recommend_from_embedding</td></tr>
<tr class="diffunmodified"><td class="diffline">10 </td><td class="diffpresent">from<span class="dp">·</span>..utils.initializers<span class="dp">·</span>import<span class="dp">·</span>truncated_normal</td><td class="diffline">10 </td><td class="diffpresent">from<span class="dp">·</span>..utils.initializers<span class="dp">·</span>import<span class="dp">·</span>truncated_normal</td></tr>
<tr class="diffunmodified"><td class="diffline">11 </td><td class="diffpresent">from<span class="dp">·</span>..utils.misc<span class="dp">·</span>import<span class="dp">·</span>time_block</td><td class="diffline">11 </td><td class="diffpresent">from<span class="dp">·</span>..utils.misc<span class="dp">·</span>import<span class="dp">·</span>time_block</td></tr>
<tr class="diffunmodified"><td class="diffline">12 </td><td class="diffpresent">from<span class="dp">·</span>..utils.save_load<span class="dp">·</span>import<span class="dp">·</span>save_default_recs,<span class="dp">·</span>save_params</td><td class="diffline">12 </td><td class="diffpresent">from<span class="dp">·</span>..utils.save_load<span class="dp">·</span>import<span class="dp">·</span>save_default_recs,<span class="dp">·</span>save_params</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">13 </td><td class="diffpresent">from<span class="dp">·</span>..utils.validate<span class="dp">·</span>import<span class="dp">·</span>check_fitting</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">13 </td><td class="diffpresent">LOG_FORMAT<span class="dp">·</span>=<span class="dp">·</span>&quot;%(asctime)s<span class="dp">·</span>-<span class="dp">·</span>%(levelname)s<span class="dp">·</span>-<span class="dp">·</span>%(message)s&quot;</td><td class="diffline">14 </td><td class="diffpresent">LOG_FORMAT<span class="dp">·</span>=<span class="dp">·</span>&quot;%(asctime)s<span class="dp">·</span>-<span class="dp">·</span>%(levelname)s<span class="dp">·</span>-<span class="dp">·</span>%(message)s&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">14 </td><td class="diffpresent">logging.basicConfig(format=LOG_FORMAT)</td><td class="diffline">15 </td><td class="diffpresent">logging.basicConfig(format=LOG_FORMAT)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">15 </td><td class="diffpresent">class<span class="dp">·</span>ALS(EmbedBase):</td><td class="diffline">16 </td><td class="diffpresent">class<span class="dp">·</span>ALS(EmbedBase):</td></tr>
<tr class="diffunmodified"><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;*Alternating<span class="dp">·</span>Least<span class="dp">·</span>Squares*<span class="dp">·</span>algorithm.</td><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;*Alternating<span class="dp">·</span>Least<span class="dp">·</span>Squares*<span class="dp">·</span>algorithm.</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 88, 28 lines modified</td><td colspan="2">Offset 89, 35 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">88 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.item_embed<span class="dp">·</span>=<span class="dp">·</span>truncated_normal(</td><td class="diffline">89 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.item_embed<span class="dp">·</span>=<span class="dp">·</span>truncated_normal(</td></tr>
<tr class="diffunmodified"><td class="diffline">89 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>shape=[self.n_items,<span class="dp">·</span>self.embed_size],<span class="dp">·</span>mean=0.0,<span class="dp">·</span>scale=0.03</td><td class="diffline">90 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>shape=[self.n_items,<span class="dp">·</span>self.embed_size],<span class="dp">·</span>mean=0.0,<span class="dp">·</span>scale=0.03</td></tr>
<tr class="diffunmodified"><td class="diffline">90 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">91 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">91 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>fit(</td><td class="diffline">92 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>fit(</td></tr>
<tr class="diffunmodified"><td class="diffline">92 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self,</td><td class="diffline">93 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self,</td></tr>
<tr class="diffunmodified"><td class="diffline">93 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data,</td><td class="diffline">94 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">95 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neg_sampling,</td></tr>
<tr class="diffunmodified"><td class="diffline">94 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>verbose=1,</td><td class="diffline">96 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>verbose=1,</td></tr>
<tr class="diffunmodified"><td class="diffline">95 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>shuffle=True,</td><td class="diffline">97 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>shuffle=True,</td></tr>
<tr class="diffunmodified"><td class="diffline">96 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_data=None,</td><td class="diffline">98 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_data=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">97 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics=None,</td><td class="diffline">99 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">98 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>k=10,</td><td class="diffline">100 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>k=10,</td></tr>
<tr class="diffunmodified"><td class="diffline">99 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_batch_size=8192,</td><td class="diffline">101 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_batch_size=8192,</td></tr>
<tr class="diffunmodified"><td class="diffline">100 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_user_num=None,</td><td class="diffline">102 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_user_num=None,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">103 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>**kwargs,</td></tr>
<tr class="diffunmodified"><td class="diffline">101 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td><td class="diffline">104 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td></tr>
<tr class="diffunmodified"><td class="diffline">102 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;Fit<span class="dp">·</span>ALS<span class="dp">·</span>model<span class="dp">·</span>on<span class="dp">·</span>the<span class="dp">·</span>training<span class="dp">·</span>data.</td><td class="diffline">105 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;Fit<span class="dp">·</span>ALS<span class="dp">·</span>model<span class="dp">·</span>on<span class="dp">·</span>the<span class="dp">·</span>training<span class="dp">·</span>data.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">103 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td><td class="diffline">106 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td></tr>
<tr class="diffunmodified"><td class="diffline">104 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td><td class="diffline">107 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td></tr>
<tr class="diffunmodified"><td class="diffline">105 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data<span class="dp">·</span>:<span class="dp">·</span>:class:`~libreco.data.TransformedSet`<span class="dp">·</span>object</td><td class="diffline">108 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data<span class="dp">·</span>:<span class="dp">·</span>:class:`~libreco.data.TransformedSet`<span class="dp">·</span>object</td></tr>
<tr class="diffunmodified"><td class="diffline">106 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Data<span class="dp">·</span>object<span class="dp">·</span>used<span class="dp">·</span>for<span class="dp">·</span>training.</td><td class="diffline">109 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Data<span class="dp">·</span>object<span class="dp">·</span>used<span class="dp">·</span>for<span class="dp">·</span>training.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">110 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neg_sampling<span class="dp">·</span>:<span class="dp">·</span>bool</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">111 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Whether<span class="dp">·</span>to<span class="dp">·</span>perform<span class="dp">·</span>negative<span class="dp">·</span>sampling<span class="dp">·</span>for<span class="dp">·</span>evaluating<span class="dp">·</span>data.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">112 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>versionadded::<span class="dp">·</span>1.1.0</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">107 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>verbose<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>1</td><td class="diffline">113 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>verbose<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>1</td></tr>
<tr class="diffunmodified"><td class="diffline">108 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Print<span class="dp">·</span>verbosity.<span class="dp">·</span>If<span class="dp">·</span>`eval_data`<span class="dp">·</span>is<span class="dp">·</span>provided,<span class="dp">·</span>setting<span class="dp">·</span>it<span class="dp">·</span>to<span class="dp">·</span>higher<span class="dp">·</span>than<span class="dp">·</span>1</td><td class="diffline">114 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Print<span class="dp">·</span>verbosity.<span class="dp">·</span>If<span class="dp">·</span>`eval_data`<span class="dp">·</span>is<span class="dp">·</span>provided,<span class="dp">·</span>setting<span class="dp">·</span>it<span class="dp">·</span>to<span class="dp">·</span>higher<span class="dp">·</span>than<span class="dp">·</span>1</td></tr>
<tr class="diffunmodified"><td class="diffline">109 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>will<span class="dp">·</span>print<span class="dp">·</span>evaluation<span class="dp">·</span>metrics<span class="dp">·</span>during<span class="dp">·</span>training.</td><td class="diffline">115 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>will<span class="dp">·</span>print<span class="dp">·</span>evaluation<span class="dp">·</span>metrics<span class="dp">·</span>during<span class="dp">·</span>training.</td></tr>
<tr class="diffunmodified"><td class="diffline">110 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>shuffle<span class="dp">·</span>:<span class="dp">·</span>bool,<span class="dp">·</span>default:<span class="dp">·</span>True</td><td class="diffline">116 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>shuffle<span class="dp">·</span>:<span class="dp">·</span>bool,<span class="dp">·</span>default:<span class="dp">·</span>True</td></tr>
<tr class="diffunmodified"><td class="diffline">111 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Whether<span class="dp">·</span>to<span class="dp">·</span>shuffle<span class="dp">·</span>the<span class="dp">·</span>training<span class="dp">·</span>data.</td><td class="diffline">117 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Whether<span class="dp">·</span>to<span class="dp">·</span>shuffle<span class="dp">·</span>the<span class="dp">·</span>training<span class="dp">·</span>data.</td></tr>
<tr class="diffunmodified"><td class="diffline">112 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_data<span class="dp">·</span>:<span class="dp">·</span>:class:`~libreco.data.TransformedSet`<span class="dp">·</span>object,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">118 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_data<span class="dp">·</span>:<span class="dp">·</span>:class:`~libreco.data.TransformedSet`<span class="dp">·</span>object,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">113 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Data<span class="dp">·</span>object<span class="dp">·</span>used<span class="dp">·</span>for<span class="dp">·</span>evaluating.</td><td class="diffline">119 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Data<span class="dp">·</span>object<span class="dp">·</span>used<span class="dp">·</span>for<span class="dp">·</span>evaluating.</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 125, 21 lines modified</td><td colspan="2">Offset 133, 20 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">125 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;</td><td class="diffline">133 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">126 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>try:</td><td class="diffline">134 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>try:</td></tr>
<tr class="diffunmodified"><td class="diffline">127 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>from<span class="dp">·</span>._als<span class="dp">·</span>import<span class="dp">·</span>als_update</td><td class="diffline">135 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>from<span class="dp">·</span>._als<span class="dp">·</span>import<span class="dp">·</span>als_update</td></tr>
<tr class="diffunmodified"><td class="diffline">128 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>except<span class="dp">·</span>(ImportError,<span class="dp">·</span>ModuleNotFoundError):</td><td class="diffline">136 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>except<span class="dp">·</span>(ImportError,<span class="dp">·</span>ModuleNotFoundError):</td></tr>
<tr class="diffunmodified"><td class="diffline">129 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>logging.warning(&quot;Als<span class="dp">·</span>cython<span class="dp">·</span>version<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>available&quot;)</td><td class="diffline">137 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>logging.warning(&quot;Als<span class="dp">·</span>cython<span class="dp">·</span>version<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>available&quot;)</td></tr>
<tr class="diffunmodified"><td class="diffline">130 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>raise</td><td class="diffline">138 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>raise</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">131 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>s</del>e<del>l</del>f<del>.ch</del>e<del>ck_a</del>t<del>tr</del>i<del>bu</del>t<del>e(</del>eval_data,<span class="dp">·</span>k)</td><td class="diffline">139 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>c</ins><ins>h</ins>e<ins>ck</ins><ins>_</ins>f<ins>ittin</ins><ins>g(s</ins>e<ins>lf,<span class="dp">·</span></ins>t<ins>ra</ins>i<ins>n_</ins><ins>da</ins>t<ins>a</ins><ins>,<span class="dp">·</span></ins>eval_dat<ins>a,<span class="dp">·</span>neg_s</ins>a<ins>mpling</ins>,<span class="dp">·</span>k)</td></tr>
<tr class="diffunmodified"><td class="diffline">132 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.show_start_time()</td><td class="diffline">140 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.show_start_time()</td></tr>
<tr class="diffunmodified"><td class="diffline">133 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.build_model()</td><td class="diffline">141 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.build_model()</td></tr>
<tr class="diffunmodified"><td class="diffline">134 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_interaction<span class="dp">·</span>=<span class="dp">·</span>train_data.sparse_interaction<span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>sparse.csr_matrix</td><td class="diffline">142 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_interaction<span class="dp">·</span>=<span class="dp">·</span>train_data.sparse_interaction<span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>sparse.csr_matrix</td></tr>
<tr class="diffunmodified"><td class="diffline">135 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_interaction<span class="dp">·</span>=<span class="dp">·</span>user_interaction.T.tocsr()</td><td class="diffline">143 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_interaction<span class="dp">·</span>=<span class="dp">·</span>user_interaction.T.tocsr()</td></tr>
<tr class="diffunmodified"><td class="diffline">136 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>self.task<span class="dp">·</span>==<span class="dp">·</span>&quot;ranking&quot;:</td><td class="diffline">144 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>self.task<span class="dp">·</span>==<span class="dp">·</span>&quot;ranking&quot;:</td></tr>
<tr class="diffdeleted"><td class="diffline">137 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>check_has_sampled(train_data,<span class="dp">·</span>verbose)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">138 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_interaction.data<span class="dp">·</span>=<span class="dp">·</span>user_interaction.data<span class="dp">·</span>*<span class="dp">·</span>self.alpha<span class="dp">·</span>+<span class="dp">·</span>1</td><td class="diffline">145 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_interaction.data<span class="dp">·</span>=<span class="dp">·</span>user_interaction.data<span class="dp">·</span>*<span class="dp">·</span>self.alpha<span class="dp">·</span>+<span class="dp">·</span>1</td></tr>
<tr class="diffunmodified"><td class="diffline">139 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_interaction.data<span class="dp">·</span>=<span class="dp">·</span>item_interaction.data<span class="dp">·</span>*<span class="dp">·</span>self.alpha<span class="dp">·</span>+<span class="dp">·</span>1</td><td class="diffline">146 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_interaction.data<span class="dp">·</span>=<span class="dp">·</span>item_interaction.data<span class="dp">·</span>*<span class="dp">·</span>self.alpha<span class="dp">·</span>+<span class="dp">·</span>1</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">140 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>trainer<span class="dp">·</span>=<span class="dp">·</span>partial(als_update,<span class="dp">·</span>task=self.task,<span class="dp">·</span>use_cg=self.use_cg)</td><td class="diffline">147 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>trainer<span class="dp">·</span>=<span class="dp">·</span>partial(als_update,<span class="dp">·</span>task=self.task,<span class="dp">·</span>use_cg=self.use_cg)</td></tr>
<tr class="diffunmodified"><td class="diffline">141 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>epoch<span class="dp">·</span>in<span class="dp">·</span>range(1,<span class="dp">·</span>self.n_epochs<span class="dp">·</span>+<span class="dp">·</span>1):</td><td class="diffline">148 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>epoch<span class="dp">·</span>in<span class="dp">·</span>range(1,<span class="dp">·</span>self.n_epochs<span class="dp">·</span>+<span class="dp">·</span>1):</td></tr>
<tr class="diffunmodified"><td class="diffline">142 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>with<span class="dp">·</span>time_block(f&quot;Epoch<span class="dp">·</span>{epoch}&quot;,<span class="dp">·</span>verbose):</td><td class="diffline">149 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>with<span class="dp">·</span>time_block(f&quot;Epoch<span class="dp">·</span>{epoch}&quot;,<span class="dp">·</span>verbose):</td></tr>
<tr class="diffunmodified"><td class="diffline">143 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>trainer(</td><td class="diffline">150 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>trainer(</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 156, 31 lines modified</td><td colspan="2">Offset 163, 32 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">156 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg=self.reg,</td><td class="diffline">163 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg=self.reg,</td></tr>
<tr class="diffunmodified"><td class="diffline">157 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_threads=self.n_threads,</td><td class="diffline">164 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_threads=self.n_threads,</td></tr>
<tr class="diffunmodified"><td class="diffline">158 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">165 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">159 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>verbose<span class="dp">·</span>&gt;<span class="dp">·</span>1:</td><td class="diffline">166 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>verbose<span class="dp">·</span>&gt;<span class="dp">·</span>1:</td></tr>
<tr class="diffunmodified"><td class="diffline">160 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>print_metrics(</td><td class="diffline">167 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>print_metrics(</td></tr>
<tr class="diffunmodified"><td class="diffline">161 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model=self,</td><td class="diffline">168 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model=self,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">169 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neg_sampling=neg_sampling,</td></tr>
<tr class="diffunmodified"><td class="diffline">162 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data=train_data,</td><td class="diffline">170 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data=train_data,</td></tr>
<tr class="diffunmodified"><td class="diffline">163 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_data=eval_data,</td><td class="diffline">171 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_data=eval_data,</td></tr>
<tr class="diffunmodified"><td class="diffline">164 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics=metrics,</td><td class="diffline">172 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics=metrics,</td></tr>
<tr class="diffunmodified"><td class="diffline">165 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_batch_size=eval_batch_size,</td><td class="diffline">173 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_batch_size=eval_batch_size,</td></tr>
<tr class="diffunmodified"><td class="diffline">166 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>k=k,</td><td class="diffline">174 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>k=k,</td></tr>
<tr class="diffunmodified"><td class="diffline">167 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sample_user_num=eval_user_num,</td><td class="diffline">175 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sample_user_num=eval_user_num,</td></tr>
<tr class="diffunmodified"><td class="diffline">168 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed=self.seed,</td><td class="diffline">176 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed=self.seed,</td></tr>
<tr class="diffunmodified"><td class="diffline">169 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">177 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td class="diffline">170 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>print(&quot;=&quot;<span class="dp">·</span>*<span class="dp">·</span>30)</td><td class="diffline">178 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>print(&quot;=&quot;<span class="dp">·</span>*<span class="dp">·</span>30)</td></tr>
<tr class="diffunmodified"><td class="diffline">171 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.assign_embedding_oov()</td><td class="diffline">179 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.assign_embedding_oov()</td></tr>
<tr class="diffunmodified"><td class="diffline">172 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.default_recs<span class="dp">·</span>=<span class="dp">·</span>recommend_from_embedding(</td><td class="diffline">180 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.default_recs<span class="dp">·</span>=<span class="dp">·</span>recommend_from_embedding(</td></tr>
<tr class="diffchanged"><td class="diffline">173 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>task</del>=self<del>.task</del>,</td><td class="diffline">181 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>m</ins><ins>odel</ins>=self,</td></tr>
<tr class="diffunmodified"><td class="diffline">174 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_ids=[self.n_users],</td><td class="diffline">182 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_ids=[self.n_users],</td></tr>
<tr class="diffunmodified"><td class="diffline">175 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_rec=min(2000,<span class="dp">·</span>self.n_items),</td><td class="diffline">183 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_rec=min(2000,<span class="dp">·</span>self.n_items),</td></tr>
<tr class="diffdeleted"><td class="diffline">176 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info=self.data_info,</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">177 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_embed=self.user_embed,</td><td class="diffline">184 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_embed<ins>dings</ins>=self.user_embed,</td></tr>
<tr class="diffchanged"><td class="diffline">178 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_embed=self.item_embed,</td><td class="diffline">185 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_embed<ins>dings</ins>=self.item_embed,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">186 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seq=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">179 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>filter_consumed=False,</td><td class="diffline">187 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>filter_consumed=False,</td></tr>
<tr class="diffunmodified"><td class="diffline">180 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>random_rec=False,</td><td class="diffline">188 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>random_rec=False,</td></tr>
<tr class="diffunmodified"><td class="diffline">181 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>).flatten()</td><td class="diffline">189 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>).flatten()</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">182 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>@staticmethod</td><td class="diffline">190 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>@staticmethod</td></tr>
<tr class="diffunmodified"><td class="diffline">183 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>_check_reg(reg):</td><td class="diffline">191 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>_check_reg(reg):</td></tr>
<tr class="diffunmodified"><td class="diffline">184 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>not<span class="dp">·</span>isinstance(reg,<span class="dp">·</span>float)<span class="dp">·</span>or<span class="dp">·</span>reg<span class="dp">·</span>&lt;=<span class="dp">·</span>0.0:</td><td class="diffline">192 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>not<span class="dp">·</span>isinstance(reg,<span class="dp">·</span>float)<span class="dp">·</span>or<span class="dp">·</span>reg<span class="dp">·</span>&lt;=<span class="dp">·</span>0.0:</td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">2.99 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/algorithms/autoint.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-autoint.py"><span class="source">LibRecommender-1.1.0/libreco/algorithms/autoint.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-autoint.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 2% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 24 lines modified</td><td colspan="2">Offset 1, 24 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">1 </td><td class="diffpresent">&quot;&quot;&quot;Implementation<span class="dp">·</span>of<span class="dp">·</span>AutoInt.&quot;&quot;&quot;</td><td class="diffline">1 </td><td class="diffpresent">&quot;&quot;&quot;Implementation<span class="dp">·</span>of<span class="dp">·</span>AutoInt.&quot;&quot;&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">2 </td><td class="diffpresent">from<span class="dp">·</span>..bases<span class="dp">·</span>import<span class="dp">·</span>ModelMeta,<span class="dp">·</span>TfBase</td><td class="diffline">2 </td><td class="diffpresent">from<span class="dp">·</span>..bases<span class="dp">·</span>import<span class="dp">·</span>ModelMeta,<span class="dp">·</span>TfBase</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">3 </td><td class="diffpresent">from<span class="dp">·</span>..feature.multi_sparse<span class="dp">·</span>import<span class="dp">·</span>true_sparse_field_size</td></tr>
<tr class="diffunmodified"><td class="diffline">3 </td><td class="diffpresent">from<span class="dp">·</span>..tfops<span class="dp">·</span>import<span class="dp">·</span>(</td><td class="diffline">4 </td><td class="diffpresent">from<span class="dp">·</span>..tfops<span class="dp">·</span>import<span class="dp">·</span>(</td></tr>
<tr class="diffunmodified"><td class="diffline">4 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_config,</td><td class="diffline">5 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_config,</td></tr>
<tr class="diffunmodified"><td class="diffline">5 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>multi_sparse_combine_embedding,</td><td class="diffline">6 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>multi_sparse_combine_embedding,</td></tr>
<tr class="diffunmodified"><td class="diffline">6 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg_config,</td><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg_config,</td></tr>
<tr class="diffunmodified"><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf,</td><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf,</td></tr>
<tr class="diffunmodified"><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf_dense,</td><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf_dense,</td></tr>
<tr class="diffunmodified"><td class="diffline">9 </td><td class="diffpresent">)</td><td class="diffline">10 </td><td class="diffpresent">)</td></tr>
<tr class="diffunmodified"><td class="diffline">10 </td><td class="diffpresent">from<span class="dp">·</span>..utils.validate<span class="dp">·</span>import<span class="dp">·</span>(</td><td class="diffline">11 </td><td class="diffpresent">from<span class="dp">·</span>..utils.validate<span class="dp">·</span>import<span class="dp">·</span>(</td></tr>
<tr class="diffunmodified"><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_dense_values,</td><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_dense_values,</td></tr>
<tr class="diffunmodified"><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_multi_sparse,</td><td class="diffline">13 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_multi_sparse,</td></tr>
<tr class="diffunmodified"><td class="diffline">13 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_sparse_indices,</td><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_sparse_indices,</td></tr>
<tr class="diffunmodified"><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_field_size,</td><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_field_size,</td></tr>
<tr class="diffunmodified"><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_feat_size,</td><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_feat_size,</td></tr>
<tr class="diffunmodified"><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_field_size,</td><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_field_size,</td></tr>
<tr class="diffdeleted"><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>true_sparse_field_size,</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">18 </td><td class="diffpresent">)</td><td class="diffline">18 </td><td class="diffpresent">)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent">class<span class="dp">·</span>AutoInt(TfBase,<span class="dp">·</span>metaclass=ModelMeta):</td><td class="diffline">19 </td><td class="diffpresent">class<span class="dp">·</span>AutoInt(TfBase,<span class="dp">·</span>metaclass=ModelMeta):</td></tr>
<tr class="diffunmodified"><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;AutoInt<span class="dp">·</span>algorithm.</td><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;AutoInt<span class="dp">·</span>algorithm.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 43, 14 lines modified</td><td colspan="2">Offset 43, 23 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>According<span class="dp">·</span>to<span class="dp">·</span>the<span class="dp">·</span>`official<span class="dp">·</span>comment<span class="dp">·</span>&lt;https://github.com/tensorflow/tensorflow/blob/v1.15.0/tensorflow/python/training/adam.py#L64&gt;`_,</td><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>According<span class="dp">·</span>to<span class="dp">·</span>the<span class="dp">·</span>`official<span class="dp">·</span>comment<span class="dp">·</span>&lt;https://github.com/tensorflow/tensorflow/blob/v1.15.0/tensorflow/python/training/adam.py#L64&gt;`_,</td></tr>
<tr class="diffunmodified"><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>default<span class="dp">·</span>value<span class="dp">·</span>of<span class="dp">·</span>`1e-8`<span class="dp">·</span>for<span class="dp">·</span>`epsilon`<span class="dp">·</span>is<span class="dp">·</span>generally<span class="dp">·</span>not<span class="dp">·</span>good,<span class="dp">·</span>so<span class="dp">·</span>here<span class="dp">·</span>we<span class="dp">·</span>choose<span class="dp">·</span>`1e-5`.</td><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>default<span class="dp">·</span>value<span class="dp">·</span>of<span class="dp">·</span>`1e-8`<span class="dp">·</span>for<span class="dp">·</span>`epsilon`<span class="dp">·</span>is<span class="dp">·</span>generally<span class="dp">·</span>not<span class="dp">·</span>good,<span class="dp">·</span>so<span class="dp">·</span>here<span class="dp">·</span>we<span class="dp">·</span>choose<span class="dp">·</span>`1e-5`.</td></tr>
<tr class="diffunmodified"><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Users<span class="dp">·</span>can<span class="dp">·</span>try<span class="dp">·</span>tuning<span class="dp">·</span>this<span class="dp">·</span>hyperparameter<span class="dp">·</span>if<span class="dp">·</span>the<span class="dp">·</span>training<span class="dp">·</span>is<span class="dp">·</span>unstable.</td><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Users<span class="dp">·</span>can<span class="dp">·</span>try<span class="dp">·</span>tuning<span class="dp">·</span>this<span class="dp">·</span>hyperparameter<span class="dp">·</span>if<span class="dp">·</span>the<span class="dp">·</span>training<span class="dp">·</span>is<span class="dp">·</span>unstable.</td></tr>
<tr class="diffunmodified"><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Regularization<span class="dp">·</span>parameter,<span class="dp">·</span>must<span class="dp">·</span>be<span class="dp">·</span>non-negative<span class="dp">·</span>or<span class="dp">·</span>None.</td><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Regularization<span class="dp">·</span>parameter,<span class="dp">·</span>must<span class="dp">·</span>be<span class="dp">·</span>non-negative<span class="dp">·</span>or<span class="dp">·</span>None.</td></tr>
<tr class="diffunmodified"><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>256</td><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>256</td></tr>
<tr class="diffunmodified"><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Batch<span class="dp">·</span>size<span class="dp">·</span>for<span class="dp">·</span>training.</td><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Batch<span class="dp">·</span>size<span class="dp">·</span>for<span class="dp">·</span>training.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sampler<span class="dp">·</span>:<span class="dp">·</span>{&#x27;random&#x27;,<span class="dp">·</span>&#x27;unconsumed&#x27;,<span class="dp">·</span>&#x27;popular&#x27;},<span class="dp">·</span>default:<span class="dp">·</span>&#x27;random&#x27;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Negative<span class="dp">·</span>sampling<span class="dp">·</span>strategy.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-<span class="dp">·</span>``&#x27;random&#x27;``<span class="dp">·</span>means<span class="dp">·</span>random<span class="dp">·</span>sampling.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-<span class="dp">·</span>``&#x27;unconsumed&#x27;``<span class="dp">·</span>samples<span class="dp">·</span>items<span class="dp">·</span>that<span class="dp">·</span>the<span class="dp">·</span>target<span class="dp">·</span>user<span class="dp">·</span>did<span class="dp">·</span>not<span class="dp">·</span>consume<span class="dp">·</span>before.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-<span class="dp">·</span>``&#x27;popular&#x27;``<span class="dp">·</span>has<span class="dp">·</span>a<span class="dp">·</span>higher<span class="dp">·</span>probability<span class="dp">·</span>to<span class="dp">·</span>sample<span class="dp">·</span>popular<span class="dp">·</span>items<span class="dp">·</span>as<span class="dp">·</span>negative<span class="dp">·</span>samples.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>versionadded::<span class="dp">·</span>1.1.0</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>1</td><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>1</td></tr>
<tr class="diffunmodified"><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>negative<span class="dp">·</span>samples<span class="dp">·</span>for<span class="dp">·</span>each<span class="dp">·</span>positive<span class="dp">·</span>sample,<span class="dp">·</span>only<span class="dp">·</span>used<span class="dp">·</span>in<span class="dp">·</span>`ranking`<span class="dp">·</span>task.</td><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>negative<span class="dp">·</span>samples<span class="dp">·</span>for<span class="dp">·</span>each<span class="dp">·</span>positive<span class="dp">·</span>sample,<span class="dp">·</span>only<span class="dp">·</span>used<span class="dp">·</span>in<span class="dp">·</span>`ranking`<span class="dp">·</span>task.</td></tr>
<tr class="diffunmodified"><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_bn<span class="dp">·</span>:<span class="dp">·</span>bool,<span class="dp">·</span>default:<span class="dp">·</span>True</td><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_bn<span class="dp">·</span>:<span class="dp">·</span>bool,<span class="dp">·</span>default:<span class="dp">·</span>True</td></tr>
<tr class="diffunmodified"><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Whether<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>batch<span class="dp">·</span>normalization.</td><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Whether<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>batch<span class="dp">·</span>normalization.</td></tr>
<tr class="diffunmodified"><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_rate<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_rate<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Probability<span class="dp">·</span>of<span class="dp">·</span>an<span class="dp">·</span>element<span class="dp">·</span>to<span class="dp">·</span>be<span class="dp">·</span>zeroed.<span class="dp">·</span>If<span class="dp">·</span>it<span class="dp">·</span>is<span class="dp">·</span>None,<span class="dp">·</span>dropout<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>used.</td><td class="diffline">61 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Probability<span class="dp">·</span>of<span class="dp">·</span>an<span class="dp">·</span>element<span class="dp">·</span>to<span class="dp">·</span>be<span class="dp">·</span>zeroed.<span class="dp">·</span>If<span class="dp">·</span>it<span class="dp">·</span>is<span class="dp">·</span>None,<span class="dp">·</span>dropout<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>used.</td></tr>
<tr class="diffunmodified"><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>att_embed_size<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>list<span class="dp">·</span>of<span class="dp">·</span>int<span class="dp">·</span>or<span class="dp">·</span>tuple<span class="dp">·</span>of<span class="dp">·</span>(int,),<span class="dp">·</span>default:<span class="dp">·</span>(8,<span class="dp">·</span>8,<span class="dp">·</span>8)</td><td class="diffline">62 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>att_embed_size<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>list<span class="dp">·</span>of<span class="dp">·</span>int<span class="dp">·</span>or<span class="dp">·</span>tuple<span class="dp">·</span>of<span class="dp">·</span>(int,),<span class="dp">·</span>default:<span class="dp">·</span>(8,<span class="dp">·</span>8,<span class="dp">·</span>8)</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 88, 14 lines modified</td><td colspan="2">Offset 97, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">88 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size=16,</td><td class="diffline">97 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size=16,</td></tr>
<tr class="diffunmodified"><td class="diffline">89 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_epochs=10,</td><td class="diffline">98 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_epochs=10,</td></tr>
<tr class="diffunmodified"><td class="diffline">90 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr=0.001,</td><td class="diffline">99 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr=0.001,</td></tr>
<tr class="diffunmodified"><td class="diffline">91 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr_decay=False,</td><td class="diffline">100 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr_decay=False,</td></tr>
<tr class="diffunmodified"><td class="diffline">92 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>epsilon=1e-5,</td><td class="diffline">101 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>epsilon=1e-5,</td></tr>
<tr class="diffunmodified"><td class="diffline">93 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg=None,</td><td class="diffline">102 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">94 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size=256,</td><td class="diffline">103 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size=256,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">104 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sampler=&quot;random&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">95 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg=1,</td><td class="diffline">105 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg=1,</td></tr>
<tr class="diffunmodified"><td class="diffline">96 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_bn=True,</td><td class="diffline">106 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_bn=True,</td></tr>
<tr class="diffunmodified"><td class="diffline">97 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_rate=None,</td><td class="diffline">107 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_rate=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">98 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>att_embed_size=(8,<span class="dp">·</span>8,<span class="dp">·</span>8),</td><td class="diffline">108 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>att_embed_size=(8,<span class="dp">·</span>8,<span class="dp">·</span>8),</td></tr>
<tr class="diffunmodified"><td class="diffline">99 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_heads=2,</td><td class="diffline">109 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_heads=2,</td></tr>
<tr class="diffunmodified"><td class="diffline">100 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_residual=True,</td><td class="diffline">110 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_residual=True,</td></tr>
<tr class="diffunmodified"><td class="diffline">101 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>multi_sparse_combiner=&quot;sqrtn&quot;,</td><td class="diffline">111 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>multi_sparse_combiner=&quot;sqrtn&quot;,</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 110, 14 lines modified</td><td colspan="2">Offset 120, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">110 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.embed_size<span class="dp">·</span>=<span class="dp">·</span>embed_size</td><td class="diffline">120 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.embed_size<span class="dp">·</span>=<span class="dp">·</span>embed_size</td></tr>
<tr class="diffunmodified"><td class="diffline">111 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.n_epochs<span class="dp">·</span>=<span class="dp">·</span>n_epochs</td><td class="diffline">121 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.n_epochs<span class="dp">·</span>=<span class="dp">·</span>n_epochs</td></tr>
<tr class="diffunmodified"><td class="diffline">112 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.lr<span class="dp">·</span>=<span class="dp">·</span>lr</td><td class="diffline">122 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.lr<span class="dp">·</span>=<span class="dp">·</span>lr</td></tr>
<tr class="diffunmodified"><td class="diffline">113 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.lr_decay<span class="dp">·</span>=<span class="dp">·</span>lr_decay</td><td class="diffline">123 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.lr_decay<span class="dp">·</span>=<span class="dp">·</span>lr_decay</td></tr>
<tr class="diffunmodified"><td class="diffline">114 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.epsilon<span class="dp">·</span>=<span class="dp">·</span>epsilon</td><td class="diffline">124 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.epsilon<span class="dp">·</span>=<span class="dp">·</span>epsilon</td></tr>
<tr class="diffunmodified"><td class="diffline">115 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.reg<span class="dp">·</span>=<span class="dp">·</span>reg_config(reg)</td><td class="diffline">125 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.reg<span class="dp">·</span>=<span class="dp">·</span>reg_config(reg)</td></tr>
<tr class="diffunmodified"><td class="diffline">116 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.batch_size<span class="dp">·</span>=<span class="dp">·</span>batch_size</td><td class="diffline">126 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.batch_size<span class="dp">·</span>=<span class="dp">·</span>batch_size</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">127 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sampler<span class="dp">·</span>=<span class="dp">·</span>sampler</td></tr>
<tr class="diffunmodified"><td class="diffline">117 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.num_neg<span class="dp">·</span>=<span class="dp">·</span>num_neg</td><td class="diffline">128 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.num_neg<span class="dp">·</span>=<span class="dp">·</span>num_neg</td></tr>
<tr class="diffunmodified"><td class="diffline">118 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.use_bn<span class="dp">·</span>=<span class="dp">·</span>use_bn</td><td class="diffline">129 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.use_bn<span class="dp">·</span>=<span class="dp">·</span>use_bn</td></tr>
<tr class="diffunmodified"><td class="diffline">119 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.dropout_rate<span class="dp">·</span>=<span class="dp">·</span>dropout_config(dropout_rate)</td><td class="diffline">130 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.dropout_rate<span class="dp">·</span>=<span class="dp">·</span>dropout_config(dropout_rate)</td></tr>
<tr class="diffunmodified"><td class="diffline">120 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>`att_embed_size`<span class="dp">·</span>also<span class="dp">·</span>decides<span class="dp">·</span>the<span class="dp">·</span>num<span class="dp">·</span>of<span class="dp">·</span>attention<span class="dp">·</span>layer</td><td class="diffline">131 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>`att_embed_size`<span class="dp">·</span>also<span class="dp">·</span>decides<span class="dp">·</span>the<span class="dp">·</span>num<span class="dp">·</span>of<span class="dp">·</span>attention<span class="dp">·</span>layer</td></tr>
<tr class="diffunmodified"><td class="diffline">121 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.att_embed_size,<span class="dp">·</span>self.att_layer_num<span class="dp">·</span>=<span class="dp">·</span>self._att_config(att_embed_size)</td><td class="diffline">132 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.att_embed_size,<span class="dp">·</span>self.att_layer_num<span class="dp">·</span>=<span class="dp">·</span>self._att_config(att_embed_size)</td></tr>
<tr class="diffunmodified"><td class="diffline">122 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.num_heads<span class="dp">·</span>=<span class="dp">·</span>num_heads</td><td class="diffline">133 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.num_heads<span class="dp">·</span>=<span class="dp">·</span>num_heads</td></tr>
<tr class="diffunmodified"><td class="diffline">123 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.use_residual<span class="dp">·</span>=<span class="dp">·</span>use_residual</td><td class="diffline">134 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.use_residual<span class="dp">·</span>=<span class="dp">·</span>use_residual</td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">7.05 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/algorithms/bpr.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-bpr.py"><span class="source">LibRecommender-1.1.0/libreco/algorithms/bpr.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-bpr.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 10% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 4, 17 lines modified</td><td colspan="2">Offset 4, 18 lines modified</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">4 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td><td class="diffline">4 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">5 </td><td class="diffpresent">from<span class="dp">·</span>..bases<span class="dp">·</span>import<span class="dp">·</span>EmbedBase,<span class="dp">·</span>ModelMeta</td><td class="diffline">5 </td><td class="diffpresent">from<span class="dp">·</span>..bases<span class="dp">·</span>import<span class="dp">·</span>EmbedBase,<span class="dp">·</span>ModelMeta</td></tr>
<tr class="diffunmodified"><td class="diffline">6 </td><td class="diffpresent">from<span class="dp">·</span>..evaluation<span class="dp">·</span>import<span class="dp">·</span>print_metrics</td><td class="diffline">6 </td><td class="diffpresent">from<span class="dp">·</span>..evaluation<span class="dp">·</span>import<span class="dp">·</span>print_metrics</td></tr>
<tr class="diffunmodified"><td class="diffline">7 </td><td class="diffpresent">from<span class="dp">·</span>..recommendation<span class="dp">·</span>import<span class="dp">·</span>recommend_from_embedding</td><td class="diffline">7 </td><td class="diffpresent">from<span class="dp">·</span>..recommendation<span class="dp">·</span>import<span class="dp">·</span>recommend_from_embedding</td></tr>
<tr class="diffunmodified"><td class="diffline">8 </td><td class="diffpresent">from<span class="dp">·</span>..tfops<span class="dp">·</span>import<span class="dp">·</span>reg_config,<span class="dp">·</span>sess_config,<span class="dp">·</span>tf</td><td class="diffline">8 </td><td class="diffpresent">from<span class="dp">·</span>..tfops<span class="dp">·</span>import<span class="dp">·</span>reg_config,<span class="dp">·</span>sess_config,<span class="dp">·</span>tf</td></tr>
<tr class="diffchanged"><td class="diffline">9 </td><td class="diffpresent">from<span class="dp">·</span>..training<span class="dp">·</span>import<span class="dp">·</span>get_trainer</td><td class="diffline">9 </td><td class="diffpresent">from<span class="dp">·</span>..training<ins>.dispatch</ins><span class="dp">·</span>import<span class="dp">·</span>get_trainer</td></tr>
<tr class="diffunmodified"><td class="diffline">10 </td><td class="diffpresent">from<span class="dp">·</span>..utils.initializers<span class="dp">·</span>import<span class="dp">·</span>truncated_normal</td><td class="diffline">10 </td><td class="diffpresent">from<span class="dp">·</span>..utils.initializers<span class="dp">·</span>import<span class="dp">·</span>truncated_normal</td></tr>
<tr class="diffunmodified"><td class="diffline">11 </td><td class="diffpresent">from<span class="dp">·</span>..utils.misc<span class="dp">·</span>import<span class="dp">·</span>time_block</td><td class="diffline">11 </td><td class="diffpresent">from<span class="dp">·</span>..utils.misc<span class="dp">·</span>import<span class="dp">·</span>time_block</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">12 </td><td class="diffpresent">from<span class="dp">·</span>..utils.validate<span class="dp">·</span>import<span class="dp">·</span>check_fitting</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">12 </td><td class="diffpresent">LOG_FORMAT<span class="dp">·</span>=<span class="dp">·</span>&quot;%(asctime)s<span class="dp">·</span>-<span class="dp">·</span>%(levelname)s<span class="dp">·</span>-<span class="dp">·</span>%(message)s&quot;</td><td class="diffline">13 </td><td class="diffpresent">LOG_FORMAT<span class="dp">·</span>=<span class="dp">·</span>&quot;%(asctime)s<span class="dp">·</span>-<span class="dp">·</span>%(levelname)s<span class="dp">·</span>-<span class="dp">·</span>%(message)s&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">13 </td><td class="diffpresent">logging.basicConfig(format=LOG_FORMAT)</td><td class="diffline">14 </td><td class="diffpresent">logging.basicConfig(format=LOG_FORMAT)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">14 </td><td class="diffpresent">class<span class="dp">·</span>BPR(EmbedBase,<span class="dp">·</span>metaclass=ModelMeta,<span class="dp">·</span>backend=&quot;tensorflow&quot;):</td><td class="diffline">15 </td><td class="diffpresent">class<span class="dp">·</span>BPR(EmbedBase,<span class="dp">·</span>metaclass=ModelMeta,<span class="dp">·</span>backend=&quot;tensorflow&quot;):</td></tr>
<tr class="diffunmodified"><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;*Bayesian<span class="dp">·</span>Personalized<span class="dp">·</span>Ranking*<span class="dp">·</span>algorithm.</td><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;*Bayesian<span class="dp">·</span>Personalized<span class="dp">·</span>Ranking*<span class="dp">·</span>algorithm.</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 47, 14 lines modified</td><td colspan="2">Offset 48, 23 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>According<span class="dp">·</span>to<span class="dp">·</span>the<span class="dp">·</span>`official<span class="dp">·</span>comment<span class="dp">·</span>&lt;https://github.com/tensorflow/tensorflow/blob/v1.15.0/tensorflow/python/training/adam.py#L64&gt;`_,</td><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>According<span class="dp">·</span>to<span class="dp">·</span>the<span class="dp">·</span>`official<span class="dp">·</span>comment<span class="dp">·</span>&lt;https://github.com/tensorflow/tensorflow/blob/v1.15.0/tensorflow/python/training/adam.py#L64&gt;`_,</td></tr>
<tr class="diffunmodified"><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>default<span class="dp">·</span>value<span class="dp">·</span>of<span class="dp">·</span>`1e-8`<span class="dp">·</span>for<span class="dp">·</span>`epsilon`<span class="dp">·</span>is<span class="dp">·</span>generally<span class="dp">·</span>not<span class="dp">·</span>good,<span class="dp">·</span>so<span class="dp">·</span>here<span class="dp">·</span>we<span class="dp">·</span>choose<span class="dp">·</span>`1e-5`.</td><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>default<span class="dp">·</span>value<span class="dp">·</span>of<span class="dp">·</span>`1e-8`<span class="dp">·</span>for<span class="dp">·</span>`epsilon`<span class="dp">·</span>is<span class="dp">·</span>generally<span class="dp">·</span>not<span class="dp">·</span>good,<span class="dp">·</span>so<span class="dp">·</span>here<span class="dp">·</span>we<span class="dp">·</span>choose<span class="dp">·</span>`1e-5`.</td></tr>
<tr class="diffunmodified"><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Users<span class="dp">·</span>can<span class="dp">·</span>try<span class="dp">·</span>tuning<span class="dp">·</span>this<span class="dp">·</span>hyperparameter<span class="dp">·</span>if<span class="dp">·</span>the<span class="dp">·</span>training<span class="dp">·</span>is<span class="dp">·</span>unstable.</td><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Users<span class="dp">·</span>can<span class="dp">·</span>try<span class="dp">·</span>tuning<span class="dp">·</span>this<span class="dp">·</span>hyperparameter<span class="dp">·</span>if<span class="dp">·</span>the<span class="dp">·</span>training<span class="dp">·</span>is<span class="dp">·</span>unstable.</td></tr>
<tr class="diffunmodified"><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Regularization<span class="dp">·</span>parameter,<span class="dp">·</span>must<span class="dp">·</span>be<span class="dp">·</span>non-negative<span class="dp">·</span>or<span class="dp">·</span>None.</td><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Regularization<span class="dp">·</span>parameter,<span class="dp">·</span>must<span class="dp">·</span>be<span class="dp">·</span>non-negative<span class="dp">·</span>or<span class="dp">·</span>None.</td></tr>
<tr class="diffunmodified"><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>256</td><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>256</td></tr>
<tr class="diffunmodified"><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Batch<span class="dp">·</span>size<span class="dp">·</span>for<span class="dp">·</span>training.</td><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Batch<span class="dp">·</span>size<span class="dp">·</span>for<span class="dp">·</span>training.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sampler<span class="dp">·</span>:<span class="dp">·</span>{&#x27;random&#x27;,<span class="dp">·</span>&#x27;unconsumed&#x27;,<span class="dp">·</span>&#x27;popular&#x27;},<span class="dp">·</span>default:<span class="dp">·</span>&#x27;random&#x27;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Negative<span class="dp">·</span>sampling<span class="dp">·</span>strategy.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-<span class="dp">·</span>``&#x27;random&#x27;``<span class="dp">·</span>means<span class="dp">·</span>random<span class="dp">·</span>sampling.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-<span class="dp">·</span>``&#x27;unconsumed&#x27;``<span class="dp">·</span>samples<span class="dp">·</span>items<span class="dp">·</span>that<span class="dp">·</span>the<span class="dp">·</span>target<span class="dp">·</span>user<span class="dp">·</span>did<span class="dp">·</span>not<span class="dp">·</span>consume<span class="dp">·</span>before.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-<span class="dp">·</span>``&#x27;popular&#x27;``<span class="dp">·</span>has<span class="dp">·</span>a<span class="dp">·</span>higher<span class="dp">·</span>probability<span class="dp">·</span>to<span class="dp">·</span>sample<span class="dp">·</span>popular<span class="dp">·</span>items<span class="dp">·</span>as<span class="dp">·</span>negative<span class="dp">·</span>samples.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>versionadded::<span class="dp">·</span>1.1.0</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>1</td><td class="diffline">61 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>1</td></tr>
<tr class="diffunmodified"><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>negative<span class="dp">·</span>samples<span class="dp">·</span>for<span class="dp">·</span>each<span class="dp">·</span>positive<span class="dp">·</span>sample,<span class="dp">·</span>only<span class="dp">·</span>used<span class="dp">·</span>in<span class="dp">·</span>`ranking`<span class="dp">·</span>task.</td><td class="diffline">62 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>negative<span class="dp">·</span>samples<span class="dp">·</span>for<span class="dp">·</span>each<span class="dp">·</span>positive<span class="dp">·</span>sample,<span class="dp">·</span>only<span class="dp">·</span>used<span class="dp">·</span>in<span class="dp">·</span>`ranking`<span class="dp">·</span>task.</td></tr>
<tr class="diffunmodified"><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_tf<span class="dp">·</span>:<span class="dp">·</span>bool,<span class="dp">·</span>default:<span class="dp">·</span>True</td><td class="diffline">63 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_tf<span class="dp">·</span>:<span class="dp">·</span>bool,<span class="dp">·</span>default:<span class="dp">·</span>True</td></tr>
<tr class="diffunmodified"><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Whether<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>TensorFlow<span class="dp">·</span>or<span class="dp">·</span>Cython<span class="dp">·</span>version.<span class="dp">·</span>The<span class="dp">·</span>TensorFlow<span class="dp">·</span>version<span class="dp">·</span>is<span class="dp">·</span>more</td><td class="diffline">64 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Whether<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>TensorFlow<span class="dp">·</span>or<span class="dp">·</span>Cython<span class="dp">·</span>version.<span class="dp">·</span>The<span class="dp">·</span>TensorFlow<span class="dp">·</span>version<span class="dp">·</span>is<span class="dp">·</span>more</td></tr>
<tr class="diffunmodified"><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>accurate,<span class="dp">·</span>whereas<span class="dp">·</span>the<span class="dp">·</span>Cython<span class="dp">·</span>version<span class="dp">·</span>is<span class="dp">·</span>faster.</td><td class="diffline">65 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>accurate,<span class="dp">·</span>whereas<span class="dp">·</span>the<span class="dp">·</span>Cython<span class="dp">·</span>version<span class="dp">·</span>is<span class="dp">·</span>faster.</td></tr>
<tr class="diffunmodified"><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>42</td><td class="diffline">66 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>42</td></tr>
<tr class="diffunmodified"><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Random<span class="dp">·</span>seed.</td><td class="diffline">67 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Random<span class="dp">·</span>seed.</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 85, 14 lines modified</td><td colspan="2">Offset 95, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">85 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size=16,</td><td class="diffline">95 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size=16,</td></tr>
<tr class="diffunmodified"><td class="diffline">86 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_epochs=20,</td><td class="diffline">96 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_epochs=20,</td></tr>
<tr class="diffunmodified"><td class="diffline">87 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr=0.001,</td><td class="diffline">97 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr=0.001,</td></tr>
<tr class="diffunmodified"><td class="diffline">88 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr_decay=False,</td><td class="diffline">98 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr_decay=False,</td></tr>
<tr class="diffunmodified"><td class="diffline">89 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>epsilon=1e-5,</td><td class="diffline">99 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>epsilon=1e-5,</td></tr>
<tr class="diffunmodified"><td class="diffline">90 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg=None,</td><td class="diffline">100 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">91 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size=256,</td><td class="diffline">101 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size=256,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">102 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sampler=&quot;random&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">92 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg=1,</td><td class="diffline">103 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg=1,</td></tr>
<tr class="diffunmodified"><td class="diffline">93 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_tf=True,</td><td class="diffline">104 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_tf=True,</td></tr>
<tr class="diffunmodified"><td class="diffline">94 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed=42,</td><td class="diffline">105 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed=42,</td></tr>
<tr class="diffunmodified"><td class="diffline">95 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lower_upper_bound=None,</td><td class="diffline">106 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lower_upper_bound=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">96 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf_sess_config=None,</td><td class="diffline">107 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf_sess_config=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">97 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>optimizer=&quot;adam&quot;,</td><td class="diffline">108 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>optimizer=&quot;adam&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">98 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_threads=1,</td><td class="diffline">109 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_threads=1,</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 105, 14 lines modified</td><td colspan="2">Offset 116, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">105 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.loss_type<span class="dp">·</span>=<span class="dp">·</span>loss_type</td><td class="diffline">116 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.loss_type<span class="dp">·</span>=<span class="dp">·</span>loss_type</td></tr>
<tr class="diffunmodified"><td class="diffline">106 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.n_epochs<span class="dp">·</span>=<span class="dp">·</span>n_epochs</td><td class="diffline">117 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.n_epochs<span class="dp">·</span>=<span class="dp">·</span>n_epochs</td></tr>
<tr class="diffunmodified"><td class="diffline">107 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.lr<span class="dp">·</span>=<span class="dp">·</span>lr</td><td class="diffline">118 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.lr<span class="dp">·</span>=<span class="dp">·</span>lr</td></tr>
<tr class="diffunmodified"><td class="diffline">108 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.lr_decay<span class="dp">·</span>=<span class="dp">·</span>lr_decay</td><td class="diffline">119 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.lr_decay<span class="dp">·</span>=<span class="dp">·</span>lr_decay</td></tr>
<tr class="diffunmodified"><td class="diffline">109 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.epsilon<span class="dp">·</span>=<span class="dp">·</span>epsilon</td><td class="diffline">120 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.epsilon<span class="dp">·</span>=<span class="dp">·</span>epsilon</td></tr>
<tr class="diffunmodified"><td class="diffline">110 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.reg<span class="dp">·</span>=<span class="dp">·</span>reg_config(reg)<span class="dp">·</span>if<span class="dp">·</span>use_tf<span class="dp">·</span>else<span class="dp">·</span>reg</td><td class="diffline">121 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.reg<span class="dp">·</span>=<span class="dp">·</span>reg_config(reg)<span class="dp">·</span>if<span class="dp">·</span>use_tf<span class="dp">·</span>else<span class="dp">·</span>reg</td></tr>
<tr class="diffunmodified"><td class="diffline">111 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.batch_size<span class="dp">·</span>=<span class="dp">·</span>batch_size</td><td class="diffline">122 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.batch_size<span class="dp">·</span>=<span class="dp">·</span>batch_size</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">123 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sampler<span class="dp">·</span>=<span class="dp">·</span>sampler</td></tr>
<tr class="diffunmodified"><td class="diffline">112 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.num_neg<span class="dp">·</span>=<span class="dp">·</span>num_neg</td><td class="diffline">124 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.num_neg<span class="dp">·</span>=<span class="dp">·</span>num_neg</td></tr>
<tr class="diffunmodified"><td class="diffline">113 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.use_tf<span class="dp">·</span>=<span class="dp">·</span>use_tf</td><td class="diffline">125 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.use_tf<span class="dp">·</span>=<span class="dp">·</span>use_tf</td></tr>
<tr class="diffunmodified"><td class="diffline">114 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.seed<span class="dp">·</span>=<span class="dp">·</span>seed</td><td class="diffline">126 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.seed<span class="dp">·</span>=<span class="dp">·</span>seed</td></tr>
<tr class="diffunmodified"><td class="diffline">115 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.optimizer<span class="dp">·</span>=<span class="dp">·</span>optimizer</td><td class="diffline">127 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.optimizer<span class="dp">·</span>=<span class="dp">·</span>optimizer</td></tr>
<tr class="diffunmodified"><td class="diffline">116 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.num_threads<span class="dp">·</span>=<span class="dp">·</span>num_threads</td><td class="diffline">128 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.num_threads<span class="dp">·</span>=<span class="dp">·</span>num_threads</td></tr>
<tr class="diffunmodified"><td class="diffline">117 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>use_tf:</td><td class="diffline">129 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>use_tf:</td></tr>
<tr class="diffunmodified"><td class="diffline">118 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sess<span class="dp">·</span>=<span class="dp">·</span>sess_config(tf_sess_config)</td><td class="diffline">130 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sess<span class="dp">·</span>=<span class="dp">·</span>sess_config(tf_sess_config)</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 177, 28 lines modified</td><td colspan="2">Offset 189, 35 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">177 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf.multiply(embed_user,<span class="dp">·</span>tf.subtract(embed_item_pos,<span class="dp">·</span>embed_item_neg)),<span class="dp">·</span>axis=1</td><td class="diffline">189 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf.multiply(embed_user,<span class="dp">·</span>tf.subtract(embed_item_pos,<span class="dp">·</span>embed_item_neg)),<span class="dp">·</span>axis=1</td></tr>
<tr class="diffunmodified"><td class="diffline">178 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">190 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td class="diffline">179 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.bpr_loss<span class="dp">·</span>=<span class="dp">·</span>tf.log_sigmoid(item_diff)</td><td class="diffline">191 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.bpr_loss<span class="dp">·</span>=<span class="dp">·</span>tf.log_sigmoid(item_diff)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">180 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>fit(</td><td class="diffline">192 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>fit(</td></tr>
<tr class="diffunmodified"><td class="diffline">181 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self,</td><td class="diffline">193 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self,</td></tr>
<tr class="diffunmodified"><td class="diffline">182 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data,</td><td class="diffline">194 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">195 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neg_sampling,</td></tr>
<tr class="diffunmodified"><td class="diffline">183 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>verbose=1,</td><td class="diffline">196 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>verbose=1,</td></tr>
<tr class="diffunmodified"><td class="diffline">184 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>shuffle=True,</td><td class="diffline">197 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>shuffle=True,</td></tr>
<tr class="diffunmodified"><td class="diffline">185 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_data=None,</td><td class="diffline">198 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_data=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">186 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics=None,</td><td class="diffline">199 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">187 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>k=10,</td><td class="diffline">200 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>k=10,</td></tr>
<tr class="diffunmodified"><td class="diffline">188 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_batch_size=8192,</td><td class="diffline">201 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_batch_size=8192,</td></tr>
<tr class="diffunmodified"><td class="diffline">189 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_user_num=None,</td><td class="diffline">202 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_user_num=None,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">203 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_workers=0,</td></tr>
<tr class="diffunmodified"><td class="diffline">190 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td><td class="diffline">204 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td></tr>
<tr class="diffunmodified"><td class="diffline">191 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;Fit<span class="dp">·</span>BPR<span class="dp">·</span>model<span class="dp">·</span>on<span class="dp">·</span>the<span class="dp">·</span>training<span class="dp">·</span>data.</td><td class="diffline">205 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;Fit<span class="dp">·</span>BPR<span class="dp">·</span>model<span class="dp">·</span>on<span class="dp">·</span>the<span class="dp">·</span>training<span class="dp">·</span>data.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">192 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td><td class="diffline">206 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td></tr>
<tr class="diffunmodified"><td class="diffline">193 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td><td class="diffline">207 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td></tr>
<tr class="diffunmodified"><td class="diffline">194 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data<span class="dp">·</span>:<span class="dp">·</span>:class:`~libreco.data.TransformedSet`<span class="dp">·</span>object</td><td class="diffline">208 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data<span class="dp">·</span>:<span class="dp">·</span>:class:`~libreco.data.TransformedSet`<span class="dp">·</span>object</td></tr>
<tr class="diffunmodified"><td class="diffline">195 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Data<span class="dp">·</span>object<span class="dp">·</span>used<span class="dp">·</span>for<span class="dp">·</span>training.</td><td class="diffline">209 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Data<span class="dp">·</span>object<span class="dp">·</span>used<span class="dp">·</span>for<span class="dp">·</span>training.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">210 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neg_sampling<span class="dp">·</span>:<span class="dp">·</span>bool</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">211 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Whether<span class="dp">·</span>to<span class="dp">·</span>perform<span class="dp">·</span>negative<span class="dp">·</span>sampling<span class="dp">·</span>for<span class="dp">·</span>training<span class="dp">·</span>or<span class="dp">·</span>evaluating<span class="dp">·</span>data.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">212 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>versionadded::<span class="dp">·</span>1.1.0</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">196 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>verbose<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>1</td><td class="diffline">213 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>verbose<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>1</td></tr>
<tr class="diffunmodified"><td class="diffline">197 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Print<span class="dp">·</span>verbosity.<span class="dp">·</span>If<span class="dp">·</span>`eval_data`<span class="dp">·</span>is<span class="dp">·</span>provided,<span class="dp">·</span>setting<span class="dp">·</span>it<span class="dp">·</span>to<span class="dp">·</span>higher<span class="dp">·</span>than<span class="dp">·</span>1</td><td class="diffline">214 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Print<span class="dp">·</span>verbosity.<span class="dp">·</span>If<span class="dp">·</span>`eval_data`<span class="dp">·</span>is<span class="dp">·</span>provided,<span class="dp">·</span>setting<span class="dp">·</span>it<span class="dp">·</span>to<span class="dp">·</span>higher<span class="dp">·</span>than<span class="dp">·</span>1</td></tr>
<tr class="diffunmodified"><td class="diffline">198 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>will<span class="dp">·</span>print<span class="dp">·</span>evaluation<span class="dp">·</span>metrics<span class="dp">·</span>during<span class="dp">·</span>training.</td><td class="diffline">215 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>will<span class="dp">·</span>print<span class="dp">·</span>evaluation<span class="dp">·</span>metrics<span class="dp">·</span>during<span class="dp">·</span>training.</td></tr>
<tr class="diffunmodified"><td class="diffline">199 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>shuffle<span class="dp">·</span>:<span class="dp">·</span>bool,<span class="dp">·</span>default:<span class="dp">·</span>True</td><td class="diffline">216 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>shuffle<span class="dp">·</span>:<span class="dp">·</span>bool,<span class="dp">·</span>default:<span class="dp">·</span>True</td></tr>
<tr class="diffunmodified"><td class="diffline">200 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Whether<span class="dp">·</span>to<span class="dp">·</span>shuffle<span class="dp">·</span>the<span class="dp">·</span>training<span class="dp">·</span>data.</td><td class="diffline">217 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Whether<span class="dp">·</span>to<span class="dp">·</span>shuffle<span class="dp">·</span>the<span class="dp">·</span>training<span class="dp">·</span>data.</td></tr>
<tr class="diffunmodified"><td class="diffline">201 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_data<span class="dp">·</span>:<span class="dp">·</span>:class:`~libreco.data.TransformedSet`<span class="dp">·</span>object,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">218 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_data<span class="dp">·</span>:<span class="dp">·</span>:class:`~libreco.data.TransformedSet`<span class="dp">·</span>object,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">202 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Data<span class="dp">·</span>object<span class="dp">·</span>used<span class="dp">·</span>for<span class="dp">·</span>evaluating.</td><td class="diffline">219 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Data<span class="dp">·</span>object<span class="dp">·</span>used<span class="dp">·</span>for<span class="dp">·</span>evaluating.</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 207, 61 lines modified</td><td colspan="2">Offset 226, 67 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">207 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>k<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>10</td><td class="diffline">226 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>k<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>10</td></tr>
<tr class="diffunmodified"><td class="diffline">208 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameter<span class="dp">·</span>of<span class="dp">·</span>metrics,<span class="dp">·</span>e.g.<span class="dp">·</span>recall<span class="dp">·</span>at<span class="dp">·</span>k,<span class="dp">·</span>ndcg<span class="dp">·</span>at<span class="dp">·</span>k</td><td class="diffline">227 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameter<span class="dp">·</span>of<span class="dp">·</span>metrics,<span class="dp">·</span>e.g.<span class="dp">·</span>recall<span class="dp">·</span>at<span class="dp">·</span>k,<span class="dp">·</span>ndcg<span class="dp">·</span>at<span class="dp">·</span>k</td></tr>
<tr class="diffunmodified"><td class="diffline">209 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_batch_size<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>8192</td><td class="diffline">228 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_batch_size<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>8192</td></tr>
<tr class="diffunmodified"><td class="diffline">210 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Batch<span class="dp">·</span>size<span class="dp">·</span>for<span class="dp">·</span>evaluating.</td><td class="diffline">229 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Batch<span class="dp">·</span>size<span class="dp">·</span>for<span class="dp">·</span>evaluating.</td></tr>
<tr class="diffunmodified"><td class="diffline">211 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_user_num<span class="dp">·</span>:<span class="dp">·</span>int<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">230 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_user_num<span class="dp">·</span>:<span class="dp">·</span>int<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">212 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>users<span class="dp">·</span>for<span class="dp">·</span>evaluating.<span class="dp">·</span>Setting<span class="dp">·</span>it<span class="dp">·</span>to<span class="dp">·</span>a<span class="dp">·</span>positive<span class="dp">·</span>number<span class="dp">·</span>will<span class="dp">·</span>sample</td><td class="diffline">231 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>users<span class="dp">·</span>for<span class="dp">·</span>evaluating.<span class="dp">·</span>Setting<span class="dp">·</span>it<span class="dp">·</span>to<span class="dp">·</span>a<span class="dp">·</span>positive<span class="dp">·</span>number<span class="dp">·</span>will<span class="dp">·</span>sample</td></tr>
<tr class="diffunmodified"><td class="diffline">213 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>users<span class="dp">·</span>randomly<span class="dp">·</span>from<span class="dp">·</span>eval<span class="dp">·</span>data.</td><td class="diffline">232 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>users<span class="dp">·</span>randomly<span class="dp">·</span>from<span class="dp">·</span>eval<span class="dp">·</span>data.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">233 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_workers<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>0</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">234 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>How<span class="dp">·</span>many<span class="dp">·</span>subprocesses<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>for<span class="dp">·</span>data<span class="dp">·</span>loading.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">235 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>means<span class="dp">·</span>that<span class="dp">·</span>the<span class="dp">·</span>data<span class="dp">·</span>will<span class="dp">·</span>be<span class="dp">·</span>loaded<span class="dp">·</span>in<span class="dp">·</span>the<span class="dp">·</span>main<span class="dp">·</span>process.</td></tr>
<tr class="diffunmodified"><td class="diffline">214 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;</td><td class="diffline">236 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;</td></tr>
<tr class="diffchanged"><td class="diffline">215 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>s</del>e<del>l</del>f<del>.ch</del>e<del>ck_a</del>t<del>tr</del>i<del>bu</del>t<del>e(</del>eval_data,<span class="dp">·</span>k)</td><td class="diffline">237 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>c</ins><ins>h</ins>e<ins>ck</ins><ins>_</ins>f<ins>ittin</ins><ins>g(s</ins>e<ins>lf,<span class="dp">·</span></ins>t<ins>ra</ins>i<ins>n_</ins><ins>da</ins>t<ins>a</ins><ins>,<span class="dp">·</span></ins>eval_dat<ins>a,<span class="dp">·</span>neg_s</ins>a<ins>mpling</ins>,<span class="dp">·</span>k)</td></tr>
<tr class="diffunmodified"><td class="diffline">216 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.show_start_time()</td><td class="diffline">238 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.show_start_time()</td></tr>
<tr class="diffdeleted"><td class="diffline">217 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>check_has_sampled(train_data,<span class="dp">·</span>verbose)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">218 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>not<span class="dp">·</span>self.model_built:</td><td class="diffline">239 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>not<span class="dp">·</span>self.model_built:</td></tr>
<tr class="diffunmodified"><td class="diffline">219 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.build_model()</td><td class="diffline">240 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.build_model()</td></tr>
<tr class="error"><td colspan="4">
Max diff block lines reached; 2206/7090 bytes (31.11%) of diff not shown.
</td></tr></table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">5.75 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/algorithms/caser.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-caser.py"><span class="source">LibRecommender-1.1.0/libreco/algorithms/caser.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-caser.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 8% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 26 lines modified</td><td colspan="2">Offset 1, 14 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">1 </td><td class="diffpresent">&quot;&quot;&quot;Implementation<span class="dp">·</span>of<span class="dp">·</span>Caser.&quot;&quot;&quot;</td><td class="diffline">1 </td><td class="diffpresent">&quot;&quot;&quot;Implementation<span class="dp">·</span>of<span class="dp">·</span>Caser.&quot;&quot;&quot;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">2 </td><td class="diffpresent">from<span class="dp">·</span>..bases<span class="dp">·</span>import<span class="dp">·</span>ModelMeta,<span class="dp">·</span>SeqEmbedBase</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">3 </td><td class="diffpresent">from<span class="dp">·</span>..tfops<span class="dp">·</span>import<span class="dp">·</span>conv_nn,<span class="dp">·</span>dropout_config,<span class="dp">·</span>max_pool,<span class="dp">·</span>reg_config,<span class="dp">·</span>tf,<span class="dp">·</span>tf_dense</td></tr>
<tr class="diffdeleted"><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">3 </td><td class="diffpresent">from<span class="dp">·</span>..bases<span class="dp">·</span>import<span class="dp">·</span>EmbedBase,<span class="dp">·</span>ModelMeta</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">4 </td><td class="diffpresent">from<span class="dp">·</span>..data.sequence<span class="dp">·</span>import<span class="dp">·</span>get_user_last_interacted</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">5 </td><td class="diffpresent">from<span class="dp">·</span>..tfops<span class="dp">·</span>import<span class="dp">·</span>(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">6 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>conv_nn,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_config,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>max_pool,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg_config,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sess_config,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf_dense,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">13 </td><td class="diffpresent">)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">14 </td><td class="diffpresent">from<span class="dp">·</span>..utils.misc<span class="dp">·</span>import<span class="dp">·</span>count_params</td><td class="diffline">4 </td><td class="diffpresent">from<span class="dp">·</span>..utils.misc<span class="dp">·</span>import<span class="dp">·</span>count_params</td></tr>
<tr class="diffdeleted"><td class="diffline">15 </td><td class="diffpresent">from<span class="dp">·</span>..utils.validate<span class="dp">·</span>import<span class="dp">·</span>check_seq_mode</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">16 </td><td class="diffpresent">class<span class="dp">·</span>Caser(EmbedBase,<span class="dp">·</span>metaclass=ModelMeta,<span class="dp">·</span>backend=&quot;tensorflow&quot;):</td><td class="diffline">5 </td><td class="diffpresent">class<span class="dp">·</span>Caser(<ins>Seq</ins>EmbedBase,<span class="dp">·</span>metaclass=ModelMeta,<span class="dp">·</span>backend=&quot;tensorflow&quot;):</td></tr>
<tr class="diffunmodified"><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;*Caser*<span class="dp">·</span>algorithm.</td><td class="diffline">6 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;*Caser*<span class="dp">·</span>algorithm.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td></tr>
<tr class="diffunmodified"><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task<span class="dp">·</span>:<span class="dp">·</span>{&#x27;rating&#x27;,<span class="dp">·</span>&#x27;ranking&#x27;}</td><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task<span class="dp">·</span>:<span class="dp">·</span>{&#x27;rating&#x27;,<span class="dp">·</span>&#x27;ranking&#x27;}</td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Recommendation<span class="dp">·</span>task.<span class="dp">·</span>See<span class="dp">·</span>:ref:`Task`.</td><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Recommendation<span class="dp">·</span>task.<span class="dp">·</span>See<span class="dp">·</span>:ref:`Task`.</td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info<span class="dp">·</span>:<span class="dp">·</span>:class:`~libreco.data.DataInfo`<span class="dp">·</span>object</td><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info<span class="dp">·</span>:<span class="dp">·</span>:class:`~libreco.data.DataInfo`<span class="dp">·</span>object</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 41, 14 lines modified</td><td colspan="2">Offset 29, 23 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>According<span class="dp">·</span>to<span class="dp">·</span>the<span class="dp">·</span>`official<span class="dp">·</span>comment<span class="dp">·</span>&lt;https://github.com/tensorflow/tensorflow/blob/v1.15.0/tensorflow/python/training/adam.py#L64&gt;`_,</td><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>According<span class="dp">·</span>to<span class="dp">·</span>the<span class="dp">·</span>`official<span class="dp">·</span>comment<span class="dp">·</span>&lt;https://github.com/tensorflow/tensorflow/blob/v1.15.0/tensorflow/python/training/adam.py#L64&gt;`_,</td></tr>
<tr class="diffunmodified"><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>default<span class="dp">·</span>value<span class="dp">·</span>of<span class="dp">·</span>`1e-8`<span class="dp">·</span>for<span class="dp">·</span>`epsilon`<span class="dp">·</span>is<span class="dp">·</span>generally<span class="dp">·</span>not<span class="dp">·</span>good,<span class="dp">·</span>so<span class="dp">·</span>here<span class="dp">·</span>we<span class="dp">·</span>choose<span class="dp">·</span>`1e-5`.</td><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>default<span class="dp">·</span>value<span class="dp">·</span>of<span class="dp">·</span>`1e-8`<span class="dp">·</span>for<span class="dp">·</span>`epsilon`<span class="dp">·</span>is<span class="dp">·</span>generally<span class="dp">·</span>not<span class="dp">·</span>good,<span class="dp">·</span>so<span class="dp">·</span>here<span class="dp">·</span>we<span class="dp">·</span>choose<span class="dp">·</span>`1e-5`.</td></tr>
<tr class="diffunmodified"><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Users<span class="dp">·</span>can<span class="dp">·</span>try<span class="dp">·</span>tuning<span class="dp">·</span>this<span class="dp">·</span>hyperparameter<span class="dp">·</span>if<span class="dp">·</span>the<span class="dp">·</span>training<span class="dp">·</span>is<span class="dp">·</span>unstable.</td><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Users<span class="dp">·</span>can<span class="dp">·</span>try<span class="dp">·</span>tuning<span class="dp">·</span>this<span class="dp">·</span>hyperparameter<span class="dp">·</span>if<span class="dp">·</span>the<span class="dp">·</span>training<span class="dp">·</span>is<span class="dp">·</span>unstable.</td></tr>
<tr class="diffunmodified"><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Regularization<span class="dp">·</span>parameter,<span class="dp">·</span>must<span class="dp">·</span>be<span class="dp">·</span>non-negative<span class="dp">·</span>or<span class="dp">·</span>None.</td><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Regularization<span class="dp">·</span>parameter,<span class="dp">·</span>must<span class="dp">·</span>be<span class="dp">·</span>non-negative<span class="dp">·</span>or<span class="dp">·</span>None.</td></tr>
<tr class="diffunmodified"><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>256</td><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>256</td></tr>
<tr class="diffunmodified"><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Batch<span class="dp">·</span>size<span class="dp">·</span>for<span class="dp">·</span>training.</td><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Batch<span class="dp">·</span>size<span class="dp">·</span>for<span class="dp">·</span>training.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sampler<span class="dp">·</span>:<span class="dp">·</span>{&#x27;random&#x27;,<span class="dp">·</span>&#x27;unconsumed&#x27;,<span class="dp">·</span>&#x27;popular&#x27;},<span class="dp">·</span>default:<span class="dp">·</span>&#x27;random&#x27;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Negative<span class="dp">·</span>sampling<span class="dp">·</span>strategy.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-<span class="dp">·</span>``&#x27;random&#x27;``<span class="dp">·</span>means<span class="dp">·</span>random<span class="dp">·</span>sampling.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-<span class="dp">·</span>``&#x27;unconsumed&#x27;``<span class="dp">·</span>samples<span class="dp">·</span>items<span class="dp">·</span>that<span class="dp">·</span>the<span class="dp">·</span>target<span class="dp">·</span>user<span class="dp">·</span>did<span class="dp">·</span>not<span class="dp">·</span>consume<span class="dp">·</span>before.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-<span class="dp">·</span>``&#x27;popular&#x27;``<span class="dp">·</span>has<span class="dp">·</span>a<span class="dp">·</span>higher<span class="dp">·</span>probability<span class="dp">·</span>to<span class="dp">·</span>sample<span class="dp">·</span>popular<span class="dp">·</span>items<span class="dp">·</span>as<span class="dp">·</span>negative<span class="dp">·</span>samples.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>versionadded::<span class="dp">·</span>1.1.0</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>1</td><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>1</td></tr>
<tr class="diffunmodified"><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>negative<span class="dp">·</span>samples<span class="dp">·</span>for<span class="dp">·</span>each<span class="dp">·</span>positive<span class="dp">·</span>sample,<span class="dp">·</span>only<span class="dp">·</span>used<span class="dp">·</span>in<span class="dp">·</span>`ranking`<span class="dp">·</span>task.</td><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>negative<span class="dp">·</span>samples<span class="dp">·</span>for<span class="dp">·</span>each<span class="dp">·</span>positive<span class="dp">·</span>sample,<span class="dp">·</span>only<span class="dp">·</span>used<span class="dp">·</span>in<span class="dp">·</span>`ranking`<span class="dp">·</span>task.</td></tr>
<tr class="diffunmodified"><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_bn<span class="dp">·</span>:<span class="dp">·</span>bool,<span class="dp">·</span>default:<span class="dp">·</span>True</td><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_bn<span class="dp">·</span>:<span class="dp">·</span>bool,<span class="dp">·</span>default:<span class="dp">·</span>True</td></tr>
<tr class="diffunmodified"><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Whether<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>batch<span class="dp">·</span>normalization.</td><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Whether<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>batch<span class="dp">·</span>normalization.</td></tr>
<tr class="diffunmodified"><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_rate<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_rate<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Probability<span class="dp">·</span>of<span class="dp">·</span>an<span class="dp">·</span>element<span class="dp">·</span>to<span class="dp">·</span>be<span class="dp">·</span>zeroed.<span class="dp">·</span>If<span class="dp">·</span>it<span class="dp">·</span>is<span class="dp">·</span>None,<span class="dp">·</span>dropout<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>used.</td><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Probability<span class="dp">·</span>of<span class="dp">·</span>an<span class="dp">·</span>element<span class="dp">·</span>to<span class="dp">·</span>be<span class="dp">·</span>zeroed.<span class="dp">·</span>If<span class="dp">·</span>it<span class="dp">·</span>is<span class="dp">·</span>None,<span class="dp">·</span>dropout<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>used.</td></tr>
<tr class="diffunmodified"><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>nh_filters<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>2</td><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>nh_filters<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>2</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 85, 44 lines modified</td><td colspan="2">Offset 82, 50 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">85 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size=16,</td><td class="diffline">82 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size=16,</td></tr>
<tr class="diffunmodified"><td class="diffline">86 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_epochs=20,</td><td class="diffline">83 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_epochs=20,</td></tr>
<tr class="diffunmodified"><td class="diffline">87 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr=0.001,</td><td class="diffline">84 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr=0.001,</td></tr>
<tr class="diffunmodified"><td class="diffline">88 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr_decay=False,</td><td class="diffline">85 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr_decay=False,</td></tr>
<tr class="diffunmodified"><td class="diffline">89 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>epsilon=1e-5,</td><td class="diffline">86 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>epsilon=1e-5,</td></tr>
<tr class="diffunmodified"><td class="diffline">90 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg=None,</td><td class="diffline">87 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">91 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size=256,</td><td class="diffline">88 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size=256,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">89 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sampler=&quot;random&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">92 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg=1,</td><td class="diffline">90 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg=1,</td></tr>
<tr class="diffunmodified"><td class="diffline">93 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_bn=False,</td><td class="diffline">91 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_bn=False,</td></tr>
<tr class="diffunmodified"><td class="diffline">94 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_rate=None,</td><td class="diffline">92 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_rate=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">95 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>nh_filters=2,</td><td class="diffline">93 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>nh_filters=2,</td></tr>
<tr class="diffunmodified"><td class="diffline">96 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>nv_filters=4,</td><td class="diffline">94 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>nv_filters=4,</td></tr>
<tr class="diffunmodified"><td class="diffline">97 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>recent_num=10,</td><td class="diffline">95 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>recent_num=10,</td></tr>
<tr class="diffunmodified"><td class="diffline">98 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>random_num=None,</td><td class="diffline">96 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>random_num=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">99 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed=42,</td><td class="diffline">97 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed=42,</td></tr>
<tr class="diffunmodified"><td class="diffline">100 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lower_upper_bound=None,</td><td class="diffline">98 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lower_upper_bound=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">101 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf_sess_config=None,</td><td class="diffline">99 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf_sess_config=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">102 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td><td class="diffline">100 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td></tr>
<tr class="diffdeleted"><td class="diffline">103 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>super().__init__(task,<span class="dp">·</span>data_info,<span class="dp">·</span>embed_size,<span class="dp">·</span>lower_upper_bound)</td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">101 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>super().__init__(</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">102 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">103 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">104 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">105 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>recent_num,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">106 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>random_num,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">107 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lower_upper_bound,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">108 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf_sess_config,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">109 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td class="diffline">104 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.all_args<span class="dp">·</span>=<span class="dp">·</span>locals()</td><td class="diffline">110 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.all_args<span class="dp">·</span>=<span class="dp">·</span>locals()</td></tr>
<tr class="diffdeleted"><td class="diffline">105 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sess<span class="dp">·</span>=<span class="dp">·</span>sess_config(tf_sess_config)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">106 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.loss_type<span class="dp">·</span>=<span class="dp">·</span>loss_type</td><td class="diffline">111 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.loss_type<span class="dp">·</span>=<span class="dp">·</span>loss_type</td></tr>
<tr class="diffunmodified"><td class="diffline">107 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.n_epochs<span class="dp">·</span>=<span class="dp">·</span>n_epochs</td><td class="diffline">112 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.n_epochs<span class="dp">·</span>=<span class="dp">·</span>n_epochs</td></tr>
<tr class="diffunmodified"><td class="diffline">108 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.lr<span class="dp">·</span>=<span class="dp">·</span>lr</td><td class="diffline">113 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.lr<span class="dp">·</span>=<span class="dp">·</span>lr</td></tr>
<tr class="diffunmodified"><td class="diffline">109 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.lr_decay<span class="dp">·</span>=<span class="dp">·</span>lr_decay</td><td class="diffline">114 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.lr_decay<span class="dp">·</span>=<span class="dp">·</span>lr_decay</td></tr>
<tr class="diffunmodified"><td class="diffline">110 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.epsilon<span class="dp">·</span>=<span class="dp">·</span>epsilon</td><td class="diffline">115 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.epsilon<span class="dp">·</span>=<span class="dp">·</span>epsilon</td></tr>
<tr class="diffunmodified"><td class="diffline">111 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.reg<span class="dp">·</span>=<span class="dp">·</span>reg_config(reg)</td><td class="diffline">116 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.reg<span class="dp">·</span>=<span class="dp">·</span>reg_config(reg)</td></tr>
<tr class="diffunmodified"><td class="diffline">112 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.batch_size<span class="dp">·</span>=<span class="dp">·</span>batch_size</td><td class="diffline">117 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.batch_size<span class="dp">·</span>=<span class="dp">·</span>batch_size</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">118 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sampler<span class="dp">·</span>=<span class="dp">·</span>sampler</td></tr>
<tr class="diffunmodified"><td class="diffline">113 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.num_neg<span class="dp">·</span>=<span class="dp">·</span>num_neg</td><td class="diffline">119 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.num_neg<span class="dp">·</span>=<span class="dp">·</span>num_neg</td></tr>
<tr class="diffunmodified"><td class="diffline">114 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.dropout_rate<span class="dp">·</span>=<span class="dp">·</span>dropout_config(dropout_rate)</td><td class="diffline">120 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.dropout_rate<span class="dp">·</span>=<span class="dp">·</span>dropout_config(dropout_rate)</td></tr>
<tr class="diffunmodified"><td class="diffline">115 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.use_bn<span class="dp">·</span>=<span class="dp">·</span>use_bn</td><td class="diffline">121 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.use_bn<span class="dp">·</span>=<span class="dp">·</span>use_bn</td></tr>
<tr class="diffunmodified"><td class="diffline">116 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.nh_filters<span class="dp">·</span>=<span class="dp">·</span>nh_filters</td><td class="diffline">122 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.nh_filters<span class="dp">·</span>=<span class="dp">·</span>nh_filters</td></tr>
<tr class="diffunmodified"><td class="diffline">117 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.nv_filters<span class="dp">·</span>=<span class="dp">·</span>nv_filters</td><td class="diffline">123 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.nv_filters<span class="dp">·</span>=<span class="dp">·</span>nv_filters</td></tr>
<tr class="diffunmodified"><td class="diffline">118 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.seed<span class="dp">·</span>=<span class="dp">·</span>seed</td><td class="diffline">124 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.seed<span class="dp">·</span>=<span class="dp">·</span>seed</td></tr>
<tr class="diffdeleted"><td class="diffline">119 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.seq_mode,<span class="dp">·</span>self.max_seq_len<span class="dp">·</span>=<span class="dp">·</span>check_seq_mode(recent_num,<span class="dp">·</span>random_num)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">120 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.recent_seqs,<span class="dp">·</span>self.recent_seq_lens<span class="dp">·</span>=<span class="dp">·</span>self._set_recent_seqs()</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">121 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>build_model(self):</td><td class="diffline">125 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>build_model(self):</td></tr>
<tr class="diffunmodified"><td class="diffline">122 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf.set_random_seed(self.seed)</td><td class="diffline">126 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf.set_random_seed(self.seed)</td></tr>
<tr class="diffunmodified"><td class="diffline">123 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self._build_placeholders()</td><td class="diffline">127 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self._build_placeholders()</td></tr>
<tr class="diffunmodified"><td class="diffline">124 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self._build_variables()</td><td class="diffline">128 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self._build_variables()</td></tr>
<tr class="diffunmodified"><td class="diffline">125 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self._build_user_embeddings()</td><td class="diffline">129 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self._build_user_embeddings()</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffhunk"><td colspan="2">Offset 197, 17 lines modified</td><td colspan="2">Offset 200, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">197 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>strides=1,</td><td class="diffline">200 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>strides=1,</td></tr>
<tr class="diffunmodified"><td class="diffline">198 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>padding=&quot;valid&quot;,</td><td class="diffline">201 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>padding=&quot;valid&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">199 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>activation=&quot;relu&quot;,</td><td class="diffline">202 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>activation=&quot;relu&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">200 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)(inputs=seq_item_embed)</td><td class="diffline">203 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)(inputs=seq_item_embed)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">201 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>h_conv<span class="dp">·</span>=<span class="dp">·</span>tf.reduce_max(h_conv,<span class="dp">·</span>axis=1)</td><td class="diffline">204 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>h_conv<span class="dp">·</span>=<span class="dp">·</span>tf.reduce_max(h_conv,<span class="dp">·</span>axis=1)</td></tr>
<tr class="diffunmodified"><td class="diffline">202 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>h_size<span class="dp">·</span>=<span class="dp">·</span>h_conv.get_shape().as_list()[1]</td><td class="diffline">205 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>h_size<span class="dp">·</span>=<span class="dp">·</span>h_conv.get_shape().as_list()[1]</td></tr>
<tr class="diffchanged"><td class="diffline">203 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>h_conv<span class="dp">·</span>=<span class="dp">·</span>max_pool(pool_size=h_size,<span class="dp">·</span>strides=1,<span class="dp">·</span>padding=&quot;valid&quot;)(</td><td class="diffline">206 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>h_conv<span class="dp">·</span>=<span class="dp">·</span>max_pool(pool_size=h_size,<span class="dp">·</span>strides=1,<span class="dp">·</span>padding=&quot;valid&quot;)(<ins>h_conv)</ins></td></tr>
<tr class="diffdeleted"><td class="diffline">204 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>inputs=h_conv</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">205 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">206 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>h_conv<span class="dp">·</span>=<span class="dp">·</span>tf.squeeze(h_conv,<span class="dp">·</span>axis=1)</td><td class="diffline">207 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>h_conv<span class="dp">·</span>=<span class="dp">·</span>tf.squeeze(h_conv,<span class="dp">·</span>axis=1)</td></tr>
<tr class="diffunmodified"><td class="diffline">207 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>convs_out.append(h_conv)</td><td class="diffline">208 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>convs_out.append(h_conv)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">208 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>v_conv<span class="dp">·</span>=<span class="dp">·</span>conv_nn(</td><td class="diffline">209 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>v_conv<span class="dp">·</span>=<span class="dp">·</span>conv_nn(</td></tr>
<tr class="diffunmodified"><td class="diffline">209 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>filters=self.nv_filters,</td><td class="diffline">210 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>filters=self.nv_filters,</td></tr>
<tr class="diffunmodified"><td class="diffline">210 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>kernel_size=1,</td><td class="diffline">211 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>kernel_size=1,</td></tr>
<tr class="diffunmodified"><td class="diffline">211 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>strides=1,</td><td class="diffline">212 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>strides=1,</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 215, 28 lines modified</td><td colspan="2">Offset 216, 7 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">215 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>activation=&quot;relu&quot;,</td><td class="diffline">216 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>activation=&quot;relu&quot;,</td></tr>
<tr class="error"><td colspan="4">
Max diff block lines reached; 1190/5752 bytes (20.69%) of diff not shown.
</td></tr></table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">2.99 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/algorithms/deepfm.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-deepfm.py"><span class="source">LibRecommender-1.1.0/libreco/algorithms/deepfm.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-deepfm.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 5% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 9 lines modified</td><td colspan="2">Offset 1, 10 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">1 </td><td class="diffpresent">&quot;&quot;&quot;Implementation<span class="dp">·</span>of<span class="dp">·</span>DeepFM.&quot;&quot;&quot;</td><td class="diffline">1 </td><td class="diffpresent">&quot;&quot;&quot;Implementation<span class="dp">·</span>of<span class="dp">·</span>DeepFM.&quot;&quot;&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">2 </td><td class="diffpresent">from<span class="dp">·</span>..bases<span class="dp">·</span>import<span class="dp">·</span>ModelMeta,<span class="dp">·</span>TfBase</td><td class="diffline">2 </td><td class="diffpresent">from<span class="dp">·</span>..bases<span class="dp">·</span>import<span class="dp">·</span>ModelMeta,<span class="dp">·</span>TfBase</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">3 </td><td class="diffpresent">from<span class="dp">·</span>..feature.multi_sparse<span class="dp">·</span>import<span class="dp">·</span>true_sparse_field_size</td></tr>
<tr class="diffunmodified"><td class="diffline">3 </td><td class="diffpresent">from<span class="dp">·</span>..tfops<span class="dp">·</span>import<span class="dp">·</span>(</td><td class="diffline">4 </td><td class="diffpresent">from<span class="dp">·</span>..tfops<span class="dp">·</span>import<span class="dp">·</span>(</td></tr>
<tr class="diffunmodified"><td class="diffline">4 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_nn,</td><td class="diffline">5 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_nn,</td></tr>
<tr class="diffunmodified"><td class="diffline">5 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_config,</td><td class="diffline">6 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_config,</td></tr>
<tr class="diffunmodified"><td class="diffline">6 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>multi_sparse_combine_embedding,</td><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>multi_sparse_combine_embedding,</td></tr>
<tr class="diffunmodified"><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg_config,</td><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg_config,</td></tr>
<tr class="diffunmodified"><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf,</td><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf,</td></tr>
<tr class="diffunmodified"><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf_dense,</td><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf_dense,</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 13, 15 lines modified</td><td colspan="2">Offset 14, 14 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">13 </td><td class="diffpresent">from<span class="dp">·</span>..utils.validate<span class="dp">·</span>import<span class="dp">·</span>(</td><td class="diffline">14 </td><td class="diffpresent">from<span class="dp">·</span>..utils.validate<span class="dp">·</span>import<span class="dp">·</span>(</td></tr>
<tr class="diffunmodified"><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_dense_values,</td><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_dense_values,</td></tr>
<tr class="diffunmodified"><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_multi_sparse,</td><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_multi_sparse,</td></tr>
<tr class="diffunmodified"><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_sparse_indices,</td><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_sparse_indices,</td></tr>
<tr class="diffunmodified"><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_field_size,</td><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_field_size,</td></tr>
<tr class="diffunmodified"><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_feat_size,</td><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_feat_size,</td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_field_size,</td><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_field_size,</td></tr>
<tr class="diffdeleted"><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>true_sparse_field_size,</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent">)</td><td class="diffline">21 </td><td class="diffpresent">)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent">class<span class="dp">·</span>DeepFM(TfBase,<span class="dp">·</span>metaclass=ModelMeta):</td><td class="diffline">22 </td><td class="diffpresent">class<span class="dp">·</span>DeepFM(TfBase,<span class="dp">·</span>metaclass=ModelMeta):</td></tr>
<tr class="diffunmodified"><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;*DeepFM*<span class="dp">·</span>algorithm.</td><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;*DeepFM*<span class="dp">·</span>algorithm.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 46, 14 lines modified</td><td colspan="2">Offset 46, 23 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>According<span class="dp">·</span>to<span class="dp">·</span>the<span class="dp">·</span>`official<span class="dp">·</span>comment<span class="dp">·</span>&lt;https://github.com/tensorflow/tensorflow/blob/v1.15.0/tensorflow/python/training/adam.py#L64&gt;`_,</td><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>According<span class="dp">·</span>to<span class="dp">·</span>the<span class="dp">·</span>`official<span class="dp">·</span>comment<span class="dp">·</span>&lt;https://github.com/tensorflow/tensorflow/blob/v1.15.0/tensorflow/python/training/adam.py#L64&gt;`_,</td></tr>
<tr class="diffunmodified"><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>default<span class="dp">·</span>value<span class="dp">·</span>of<span class="dp">·</span>`1e-8`<span class="dp">·</span>for<span class="dp">·</span>`epsilon`<span class="dp">·</span>is<span class="dp">·</span>generally<span class="dp">·</span>not<span class="dp">·</span>good,<span class="dp">·</span>so<span class="dp">·</span>here<span class="dp">·</span>we<span class="dp">·</span>choose<span class="dp">·</span>`1e-5`.</td><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>default<span class="dp">·</span>value<span class="dp">·</span>of<span class="dp">·</span>`1e-8`<span class="dp">·</span>for<span class="dp">·</span>`epsilon`<span class="dp">·</span>is<span class="dp">·</span>generally<span class="dp">·</span>not<span class="dp">·</span>good,<span class="dp">·</span>so<span class="dp">·</span>here<span class="dp">·</span>we<span class="dp">·</span>choose<span class="dp">·</span>`1e-5`.</td></tr>
<tr class="diffunmodified"><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Users<span class="dp">·</span>can<span class="dp">·</span>try<span class="dp">·</span>tuning<span class="dp">·</span>this<span class="dp">·</span>hyperparameter<span class="dp">·</span>if<span class="dp">·</span>the<span class="dp">·</span>training<span class="dp">·</span>is<span class="dp">·</span>unstable.</td><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Users<span class="dp">·</span>can<span class="dp">·</span>try<span class="dp">·</span>tuning<span class="dp">·</span>this<span class="dp">·</span>hyperparameter<span class="dp">·</span>if<span class="dp">·</span>the<span class="dp">·</span>training<span class="dp">·</span>is<span class="dp">·</span>unstable.</td></tr>
<tr class="diffunmodified"><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Regularization<span class="dp">·</span>parameter,<span class="dp">·</span>must<span class="dp">·</span>be<span class="dp">·</span>non-negative<span class="dp">·</span>or<span class="dp">·</span>None.</td><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Regularization<span class="dp">·</span>parameter,<span class="dp">·</span>must<span class="dp">·</span>be<span class="dp">·</span>non-negative<span class="dp">·</span>or<span class="dp">·</span>None.</td></tr>
<tr class="diffunmodified"><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>256</td><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>256</td></tr>
<tr class="diffunmodified"><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Batch<span class="dp">·</span>size<span class="dp">·</span>for<span class="dp">·</span>training.</td><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Batch<span class="dp">·</span>size<span class="dp">·</span>for<span class="dp">·</span>training.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sampler<span class="dp">·</span>:<span class="dp">·</span>{&#x27;random&#x27;,<span class="dp">·</span>&#x27;unconsumed&#x27;,<span class="dp">·</span>&#x27;popular&#x27;},<span class="dp">·</span>default:<span class="dp">·</span>&#x27;random&#x27;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Negative<span class="dp">·</span>sampling<span class="dp">·</span>strategy.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-<span class="dp">·</span>``&#x27;random&#x27;``<span class="dp">·</span>means<span class="dp">·</span>random<span class="dp">·</span>sampling.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-<span class="dp">·</span>``&#x27;unconsumed&#x27;``<span class="dp">·</span>samples<span class="dp">·</span>items<span class="dp">·</span>that<span class="dp">·</span>the<span class="dp">·</span>target<span class="dp">·</span>user<span class="dp">·</span>did<span class="dp">·</span>not<span class="dp">·</span>consume<span class="dp">·</span>before.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-<span class="dp">·</span>``&#x27;popular&#x27;``<span class="dp">·</span>has<span class="dp">·</span>a<span class="dp">·</span>higher<span class="dp">·</span>probability<span class="dp">·</span>to<span class="dp">·</span>sample<span class="dp">·</span>popular<span class="dp">·</span>items<span class="dp">·</span>as<span class="dp">·</span>negative<span class="dp">·</span>samples.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>versionadded::<span class="dp">·</span>1.1.0</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>1</td><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>1</td></tr>
<tr class="diffunmodified"><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>negative<span class="dp">·</span>samples<span class="dp">·</span>for<span class="dp">·</span>each<span class="dp">·</span>positive<span class="dp">·</span>sample,<span class="dp">·</span>only<span class="dp">·</span>used<span class="dp">·</span>in<span class="dp">·</span>`ranking`<span class="dp">·</span>task.</td><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>negative<span class="dp">·</span>samples<span class="dp">·</span>for<span class="dp">·</span>each<span class="dp">·</span>positive<span class="dp">·</span>sample,<span class="dp">·</span>only<span class="dp">·</span>used<span class="dp">·</span>in<span class="dp">·</span>`ranking`<span class="dp">·</span>task.</td></tr>
<tr class="diffunmodified"><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_bn<span class="dp">·</span>:<span class="dp">·</span>bool,<span class="dp">·</span>default:<span class="dp">·</span>True</td><td class="diffline">61 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_bn<span class="dp">·</span>:<span class="dp">·</span>bool,<span class="dp">·</span>default:<span class="dp">·</span>True</td></tr>
<tr class="diffunmodified"><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Whether<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>batch<span class="dp">·</span>normalization.</td><td class="diffline">62 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Whether<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>batch<span class="dp">·</span>normalization.</td></tr>
<tr class="diffunmodified"><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_rate<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">63 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_rate<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Probability<span class="dp">·</span>of<span class="dp">·</span>an<span class="dp">·</span>element<span class="dp">·</span>to<span class="dp">·</span>be<span class="dp">·</span>zeroed.<span class="dp">·</span>If<span class="dp">·</span>it<span class="dp">·</span>is<span class="dp">·</span>None,<span class="dp">·</span>dropout<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>used.</td><td class="diffline">64 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Probability<span class="dp">·</span>of<span class="dp">·</span>an<span class="dp">·</span>element<span class="dp">·</span>to<span class="dp">·</span>be<span class="dp">·</span>zeroed.<span class="dp">·</span>If<span class="dp">·</span>it<span class="dp">·</span>is<span class="dp">·</span>None,<span class="dp">·</span>dropout<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>used.</td></tr>
<tr class="diffunmodified"><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hidden_units<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>list<span class="dp">·</span>of<span class="dp">·</span>int<span class="dp">·</span>or<span class="dp">·</span>tuple<span class="dp">·</span>of<span class="dp">·</span>(int,),<span class="dp">·</span>default:<span class="dp">·</span>(128,<span class="dp">·</span>64,<span class="dp">·</span>32)</td><td class="diffline">65 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hidden_units<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>list<span class="dp">·</span>of<span class="dp">·</span>int<span class="dp">·</span>or<span class="dp">·</span>tuple<span class="dp">·</span>of<span class="dp">·</span>(int,),<span class="dp">·</span>default:<span class="dp">·</span>(128,<span class="dp">·</span>64,<span class="dp">·</span>32)</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 91, 14 lines modified</td><td colspan="2">Offset 100, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">91 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size=16,</td><td class="diffline">100 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size=16,</td></tr>
<tr class="diffunmodified"><td class="diffline">92 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_epochs=20,</td><td class="diffline">101 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_epochs=20,</td></tr>
<tr class="diffunmodified"><td class="diffline">93 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr=0.001,</td><td class="diffline">102 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr=0.001,</td></tr>
<tr class="diffunmodified"><td class="diffline">94 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr_decay=False,</td><td class="diffline">103 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr_decay=False,</td></tr>
<tr class="diffunmodified"><td class="diffline">95 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>epsilon=1e-5,</td><td class="diffline">104 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>epsilon=1e-5,</td></tr>
<tr class="diffunmodified"><td class="diffline">96 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg=None,</td><td class="diffline">105 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">97 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size=256,</td><td class="diffline">106 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size=256,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">107 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sampler=&quot;random&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">98 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg=1,</td><td class="diffline">108 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg=1,</td></tr>
<tr class="diffunmodified"><td class="diffline">99 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_bn=True,</td><td class="diffline">109 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_bn=True,</td></tr>
<tr class="diffunmodified"><td class="diffline">100 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_rate=None,</td><td class="diffline">110 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_rate=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">101 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hidden_units=(128,<span class="dp">·</span>64,<span class="dp">·</span>32),</td><td class="diffline">111 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hidden_units=(128,<span class="dp">·</span>64,<span class="dp">·</span>32),</td></tr>
<tr class="diffunmodified"><td class="diffline">102 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>multi_sparse_combiner=&quot;sqrtn&quot;,</td><td class="diffline">112 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>multi_sparse_combiner=&quot;sqrtn&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">103 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed=42,</td><td class="diffline">113 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed=42,</td></tr>
<tr class="diffunmodified"><td class="diffline">104 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lower_upper_bound=None,</td><td class="diffline">114 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lower_upper_bound=None,</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 111, 14 lines modified</td><td colspan="2">Offset 121, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">111 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.embed_size<span class="dp">·</span>=<span class="dp">·</span>embed_size</td><td class="diffline">121 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.embed_size<span class="dp">·</span>=<span class="dp">·</span>embed_size</td></tr>
<tr class="diffunmodified"><td class="diffline">112 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.n_epochs<span class="dp">·</span>=<span class="dp">·</span>n_epochs</td><td class="diffline">122 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.n_epochs<span class="dp">·</span>=<span class="dp">·</span>n_epochs</td></tr>
<tr class="diffunmodified"><td class="diffline">113 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.lr<span class="dp">·</span>=<span class="dp">·</span>lr</td><td class="diffline">123 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.lr<span class="dp">·</span>=<span class="dp">·</span>lr</td></tr>
<tr class="diffunmodified"><td class="diffline">114 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.lr_decay<span class="dp">·</span>=<span class="dp">·</span>lr_decay</td><td class="diffline">124 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.lr_decay<span class="dp">·</span>=<span class="dp">·</span>lr_decay</td></tr>
<tr class="diffunmodified"><td class="diffline">115 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.epsilon<span class="dp">·</span>=<span class="dp">·</span>epsilon</td><td class="diffline">125 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.epsilon<span class="dp">·</span>=<span class="dp">·</span>epsilon</td></tr>
<tr class="diffunmodified"><td class="diffline">116 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.reg<span class="dp">·</span>=<span class="dp">·</span>reg_config(reg)</td><td class="diffline">126 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.reg<span class="dp">·</span>=<span class="dp">·</span>reg_config(reg)</td></tr>
<tr class="diffunmodified"><td class="diffline">117 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.batch_size<span class="dp">·</span>=<span class="dp">·</span>batch_size</td><td class="diffline">127 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.batch_size<span class="dp">·</span>=<span class="dp">·</span>batch_size</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">128 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sampler<span class="dp">·</span>=<span class="dp">·</span>sampler</td></tr>
<tr class="diffunmodified"><td class="diffline">118 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.num_neg<span class="dp">·</span>=<span class="dp">·</span>num_neg</td><td class="diffline">129 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.num_neg<span class="dp">·</span>=<span class="dp">·</span>num_neg</td></tr>
<tr class="diffunmodified"><td class="diffline">119 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.use_bn<span class="dp">·</span>=<span class="dp">·</span>use_bn</td><td class="diffline">130 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.use_bn<span class="dp">·</span>=<span class="dp">·</span>use_bn</td></tr>
<tr class="diffunmodified"><td class="diffline">120 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.dropout_rate<span class="dp">·</span>=<span class="dp">·</span>dropout_config(dropout_rate)</td><td class="diffline">131 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.dropout_rate<span class="dp">·</span>=<span class="dp">·</span>dropout_config(dropout_rate)</td></tr>
<tr class="diffunmodified"><td class="diffline">121 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.hidden_units<span class="dp">·</span>=<span class="dp">·</span>hidden_units_config(hidden_units)</td><td class="diffline">132 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.hidden_units<span class="dp">·</span>=<span class="dp">·</span>hidden_units_config(hidden_units)</td></tr>
<tr class="diffunmodified"><td class="diffline">122 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.seed<span class="dp">·</span>=<span class="dp">·</span>seed</td><td class="diffline">133 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.seed<span class="dp">·</span>=<span class="dp">·</span>seed</td></tr>
<tr class="diffunmodified"><td class="diffline">123 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sparse<span class="dp">·</span>=<span class="dp">·</span>check_sparse_indices(data_info)</td><td class="diffline">134 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sparse<span class="dp">·</span>=<span class="dp">·</span>check_sparse_indices(data_info)</td></tr>
<tr class="diffunmodified"><td class="diffline">124 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.dense<span class="dp">·</span>=<span class="dp">·</span>check_dense_values(data_info)</td><td class="diffline">135 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.dense<span class="dp">·</span>=<span class="dp">·</span>check_dense_values(data_info)</td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">141 B</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/algorithms/deepwalk.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-deepwalk.py"><span class="source">LibRecommender-1.1.0/libreco/algorithms/deepwalk.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-deepwalk.py">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">5.01 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/algorithms/din.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-din.py"><span class="source">LibRecommender-1.1.0/libreco/algorithms/din.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-din.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 7% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 31 lines modified</td><td colspan="2">Offset 1, 31 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">1 </td><td class="diffpresent">&quot;&quot;&quot;Implementation<span class="dp">·</span>of<span class="dp">·</span>DIN.&quot;&quot;&quot;</td><td class="diffline">1 </td><td class="diffpresent">&quot;&quot;&quot;Implementation<span class="dp">·</span>of<span class="dp">·</span>DIN.&quot;&quot;&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">3 </td><td class="diffpresent">from<span class="dp">·</span>..bases<span class="dp">·</span>import<span class="dp">·</span>ModelMeta,<span class="dp">·</span>TfBase</td><td class="diffline">3 </td><td class="diffpresent">from<span class="dp">·</span>..bases<span class="dp">·</span>import<span class="dp">·</span>ModelMeta,<span class="dp">·</span>TfBase</td></tr>
<tr class="diffchanged"><td class="diffline">4 </td><td class="diffpresent">from<span class="dp">·</span>..<del>d</del>at<del>a</del>.sequence<span class="dp">·</span>import<span class="dp">·</span>get_user_last_interacted</td><td class="diffline">4 </td><td class="diffpresent">from<span class="dp">·</span>..<ins>b</ins>at<ins>c</ins><ins>h</ins>.sequence<span class="dp">·</span>import<span class="dp">·</span>get_user_last_interacted</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">5 </td><td class="diffpresent">from<span class="dp">·</span>..feature.multi_sparse<span class="dp">·</span>import<span class="dp">·</span>true_sparse_field_size</td></tr>
<tr class="diffunmodified"><td class="diffline">5 </td><td class="diffpresent">from<span class="dp">·</span>..tfops<span class="dp">·</span>import<span class="dp">·</span>(</td><td class="diffline">6 </td><td class="diffpresent">from<span class="dp">·</span>..tfops<span class="dp">·</span>import<span class="dp">·</span>(</td></tr>
<tr class="diffunmodified"><td class="diffline">6 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_nn,</td><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_nn,</td></tr>
<tr class="diffunmodified"><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_config,</td><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_config,</td></tr>
<tr class="diffunmodified"><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>multi_sparse_combine_embedding,</td><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>multi_sparse_combine_embedding,</td></tr>
<tr class="diffunmodified"><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg_config,</td><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg_config,</td></tr>
<tr class="diffunmodified"><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf,</td><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf,</td></tr>
<tr class="diffunmodified"><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf_dense,</td><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf_dense,</td></tr>
<tr class="diffunmodified"><td class="diffline">12 </td><td class="diffpresent">)</td><td class="diffline">13 </td><td class="diffpresent">)</td></tr>
<tr class="diffunmodified"><td class="diffline">13 </td><td class="diffpresent">from<span class="dp">·</span>..torchops<span class="dp">·</span>import<span class="dp">·</span>hidden_units_config</td><td class="diffline">14 </td><td class="diffpresent">from<span class="dp">·</span>..torchops<span class="dp">·</span>import<span class="dp">·</span>hidden_units_config</td></tr>
<tr class="diffunmodified"><td class="diffline">14 </td><td class="diffpresent">from<span class="dp">·</span>..utils.misc<span class="dp">·</span>import<span class="dp">·</span>count_params</td><td class="diffline">15 </td><td class="diffpresent">from<span class="dp">·</span>..utils.misc<span class="dp">·</span>import<span class="dp">·</span>count_params</td></tr>
<tr class="diffunmodified"><td class="diffline">15 </td><td class="diffpresent">from<span class="dp">·</span>..utils.validate<span class="dp">·</span>import<span class="dp">·</span>(</td><td class="diffline">16 </td><td class="diffpresent">from<span class="dp">·</span>..utils.validate<span class="dp">·</span>import<span class="dp">·</span>(</td></tr>
<tr class="diffunmodified"><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_dense_values,</td><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_dense_values,</td></tr>
<tr class="diffdeleted"><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_seq_mode,</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_multi_sparse,</td><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_multi_sparse,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_seq_mode,</td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_sparse_indices,</td><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_sparse_indices,</td></tr>
<tr class="diffunmodified"><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_field_size,</td><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_field_size,</td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_feat_size,</td><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_feat_size,</td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_field_size,</td><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_field_size,</td></tr>
<tr class="diffdeleted"><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>true_sparse_field_size,</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">24 </td><td class="diffpresent">)</td><td class="diffline">24 </td><td class="diffpresent">)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">25 </td><td class="diffpresent">class<span class="dp">·</span>DIN(TfBase,<span class="dp">·</span>metaclass=ModelMeta):</td><td class="diffline">25 </td><td class="diffpresent">class<span class="dp">·</span>DIN(TfBase,<span class="dp">·</span>metaclass=ModelMeta):</td></tr>
<tr class="diffunmodified"><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;*Deep<span class="dp">·</span>Interest<span class="dp">·</span>Network*<span class="dp">·</span>algorithm.</td><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;*Deep<span class="dp">·</span>Interest<span class="dp">·</span>Network*<span class="dp">·</span>algorithm.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 50, 14 lines modified</td><td colspan="2">Offset 50, 23 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>According<span class="dp">·</span>to<span class="dp">·</span>the<span class="dp">·</span>`official<span class="dp">·</span>comment<span class="dp">·</span>&lt;https://github.com/tensorflow/tensorflow/blob/v1.15.0/tensorflow/python/training/adam.py#L64&gt;`_,</td><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>According<span class="dp">·</span>to<span class="dp">·</span>the<span class="dp">·</span>`official<span class="dp">·</span>comment<span class="dp">·</span>&lt;https://github.com/tensorflow/tensorflow/blob/v1.15.0/tensorflow/python/training/adam.py#L64&gt;`_,</td></tr>
<tr class="diffunmodified"><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>default<span class="dp">·</span>value<span class="dp">·</span>of<span class="dp">·</span>`1e-8`<span class="dp">·</span>for<span class="dp">·</span>`epsilon`<span class="dp">·</span>is<span class="dp">·</span>generally<span class="dp">·</span>not<span class="dp">·</span>good,<span class="dp">·</span>so<span class="dp">·</span>here<span class="dp">·</span>we<span class="dp">·</span>choose<span class="dp">·</span>`1e-5`.</td><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>default<span class="dp">·</span>value<span class="dp">·</span>of<span class="dp">·</span>`1e-8`<span class="dp">·</span>for<span class="dp">·</span>`epsilon`<span class="dp">·</span>is<span class="dp">·</span>generally<span class="dp">·</span>not<span class="dp">·</span>good,<span class="dp">·</span>so<span class="dp">·</span>here<span class="dp">·</span>we<span class="dp">·</span>choose<span class="dp">·</span>`1e-5`.</td></tr>
<tr class="diffunmodified"><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Users<span class="dp">·</span>can<span class="dp">·</span>try<span class="dp">·</span>tuning<span class="dp">·</span>this<span class="dp">·</span>hyperparameter<span class="dp">·</span>if<span class="dp">·</span>the<span class="dp">·</span>training<span class="dp">·</span>is<span class="dp">·</span>unstable.</td><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Users<span class="dp">·</span>can<span class="dp">·</span>try<span class="dp">·</span>tuning<span class="dp">·</span>this<span class="dp">·</span>hyperparameter<span class="dp">·</span>if<span class="dp">·</span>the<span class="dp">·</span>training<span class="dp">·</span>is<span class="dp">·</span>unstable.</td></tr>
<tr class="diffunmodified"><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Regularization<span class="dp">·</span>parameter,<span class="dp">·</span>must<span class="dp">·</span>be<span class="dp">·</span>non-negative<span class="dp">·</span>or<span class="dp">·</span>None.</td><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Regularization<span class="dp">·</span>parameter,<span class="dp">·</span>must<span class="dp">·</span>be<span class="dp">·</span>non-negative<span class="dp">·</span>or<span class="dp">·</span>None.</td></tr>
<tr class="diffunmodified"><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>256</td><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>256</td></tr>
<tr class="diffunmodified"><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Batch<span class="dp">·</span>size<span class="dp">·</span>for<span class="dp">·</span>training.</td><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Batch<span class="dp">·</span>size<span class="dp">·</span>for<span class="dp">·</span>training.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sampler<span class="dp">·</span>:<span class="dp">·</span>{&#x27;random&#x27;,<span class="dp">·</span>&#x27;unconsumed&#x27;,<span class="dp">·</span>&#x27;popular&#x27;},<span class="dp">·</span>default:<span class="dp">·</span>&#x27;random&#x27;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Negative<span class="dp">·</span>sampling<span class="dp">·</span>strategy.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-<span class="dp">·</span>``&#x27;random&#x27;``<span class="dp">·</span>means<span class="dp">·</span>random<span class="dp">·</span>sampling.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-<span class="dp">·</span>``&#x27;unconsumed&#x27;``<span class="dp">·</span>samples<span class="dp">·</span>items<span class="dp">·</span>that<span class="dp">·</span>the<span class="dp">·</span>target<span class="dp">·</span>user<span class="dp">·</span>did<span class="dp">·</span>not<span class="dp">·</span>consume<span class="dp">·</span>before.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">61 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-<span class="dp">·</span>``&#x27;popular&#x27;``<span class="dp">·</span>has<span class="dp">·</span>a<span class="dp">·</span>higher<span class="dp">·</span>probability<span class="dp">·</span>to<span class="dp">·</span>sample<span class="dp">·</span>popular<span class="dp">·</span>items<span class="dp">·</span>as<span class="dp">·</span>negative<span class="dp">·</span>samples.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">62 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>versionadded::<span class="dp">·</span>1.1.0</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>1</td><td class="diffline">63 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>1</td></tr>
<tr class="diffunmodified"><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>negative<span class="dp">·</span>samples<span class="dp">·</span>for<span class="dp">·</span>each<span class="dp">·</span>positive<span class="dp">·</span>sample,<span class="dp">·</span>only<span class="dp">·</span>used<span class="dp">·</span>in<span class="dp">·</span>`ranking`<span class="dp">·</span>task.</td><td class="diffline">64 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>negative<span class="dp">·</span>samples<span class="dp">·</span>for<span class="dp">·</span>each<span class="dp">·</span>positive<span class="dp">·</span>sample,<span class="dp">·</span>only<span class="dp">·</span>used<span class="dp">·</span>in<span class="dp">·</span>`ranking`<span class="dp">·</span>task.</td></tr>
<tr class="diffunmodified"><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_bn<span class="dp">·</span>:<span class="dp">·</span>bool,<span class="dp">·</span>default:<span class="dp">·</span>True</td><td class="diffline">65 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_bn<span class="dp">·</span>:<span class="dp">·</span>bool,<span class="dp">·</span>default:<span class="dp">·</span>True</td></tr>
<tr class="diffunmodified"><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Whether<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>batch<span class="dp">·</span>normalization.</td><td class="diffline">66 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Whether<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>batch<span class="dp">·</span>normalization.</td></tr>
<tr class="diffunmodified"><td class="diffline">61 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_rate<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">67 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_rate<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">62 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Probability<span class="dp">·</span>of<span class="dp">·</span>an<span class="dp">·</span>element<span class="dp">·</span>to<span class="dp">·</span>be<span class="dp">·</span>zeroed.<span class="dp">·</span>If<span class="dp">·</span>it<span class="dp">·</span>is<span class="dp">·</span>None,<span class="dp">·</span>dropout<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>used.</td><td class="diffline">68 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Probability<span class="dp">·</span>of<span class="dp">·</span>an<span class="dp">·</span>element<span class="dp">·</span>to<span class="dp">·</span>be<span class="dp">·</span>zeroed.<span class="dp">·</span>If<span class="dp">·</span>it<span class="dp">·</span>is<span class="dp">·</span>None,<span class="dp">·</span>dropout<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>used.</td></tr>
<tr class="diffunmodified"><td class="diffline">63 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hidden_units<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>list<span class="dp">·</span>of<span class="dp">·</span>int<span class="dp">·</span>or<span class="dp">·</span>tuple<span class="dp">·</span>of<span class="dp">·</span>(int,),<span class="dp">·</span>default:<span class="dp">·</span>(128,<span class="dp">·</span>64,<span class="dp">·</span>32)</td><td class="diffline">69 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hidden_units<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>list<span class="dp">·</span>of<span class="dp">·</span>int<span class="dp">·</span>or<span class="dp">·</span>tuple<span class="dp">·</span>of<span class="dp">·</span>(int,),<span class="dp">·</span>default:<span class="dp">·</span>(128,<span class="dp">·</span>64,<span class="dp">·</span>32)</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 104, 14 lines modified</td><td colspan="2">Offset 113, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">104 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size=16,</td><td class="diffline">113 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size=16,</td></tr>
<tr class="diffunmodified"><td class="diffline">105 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_epochs=20,</td><td class="diffline">114 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_epochs=20,</td></tr>
<tr class="diffunmodified"><td class="diffline">106 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr=0.001,</td><td class="diffline">115 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr=0.001,</td></tr>
<tr class="diffunmodified"><td class="diffline">107 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr_decay=False,</td><td class="diffline">116 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr_decay=False,</td></tr>
<tr class="diffunmodified"><td class="diffline">108 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>epsilon=1e-5,</td><td class="diffline">117 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>epsilon=1e-5,</td></tr>
<tr class="diffunmodified"><td class="diffline">109 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg=None,</td><td class="diffline">118 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">110 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size=256,</td><td class="diffline">119 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size=256,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">120 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sampler=&quot;random&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">111 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg=1,</td><td class="diffline">121 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg=1,</td></tr>
<tr class="diffunmodified"><td class="diffline">112 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_bn=True,</td><td class="diffline">122 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_bn=True,</td></tr>
<tr class="diffunmodified"><td class="diffline">113 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_rate=None,</td><td class="diffline">123 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_rate=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">114 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hidden_units=(128,<span class="dp">·</span>64,<span class="dp">·</span>32),</td><td class="diffline">124 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hidden_units=(128,<span class="dp">·</span>64,<span class="dp">·</span>32),</td></tr>
<tr class="diffunmodified"><td class="diffline">115 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>recent_num=10,</td><td class="diffline">125 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>recent_num=10,</td></tr>
<tr class="diffunmodified"><td class="diffline">116 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>random_num=None,</td><td class="diffline">126 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>random_num=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">117 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_tf_attention=False,</td><td class="diffline">127 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_tf_attention=False,</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 127, 14 lines modified</td><td colspan="2">Offset 137, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">127 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.embed_size<span class="dp">·</span>=<span class="dp">·</span>embed_size</td><td class="diffline">137 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.embed_size<span class="dp">·</span>=<span class="dp">·</span>embed_size</td></tr>
<tr class="diffunmodified"><td class="diffline">128 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.n_epochs<span class="dp">·</span>=<span class="dp">·</span>n_epochs</td><td class="diffline">138 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.n_epochs<span class="dp">·</span>=<span class="dp">·</span>n_epochs</td></tr>
<tr class="diffunmodified"><td class="diffline">129 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.lr<span class="dp">·</span>=<span class="dp">·</span>lr</td><td class="diffline">139 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.lr<span class="dp">·</span>=<span class="dp">·</span>lr</td></tr>
<tr class="diffunmodified"><td class="diffline">130 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.lr_decay<span class="dp">·</span>=<span class="dp">·</span>lr_decay</td><td class="diffline">140 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.lr_decay<span class="dp">·</span>=<span class="dp">·</span>lr_decay</td></tr>
<tr class="diffunmodified"><td class="diffline">131 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.epsilon<span class="dp">·</span>=<span class="dp">·</span>epsilon</td><td class="diffline">141 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.epsilon<span class="dp">·</span>=<span class="dp">·</span>epsilon</td></tr>
<tr class="diffunmodified"><td class="diffline">132 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.reg<span class="dp">·</span>=<span class="dp">·</span>reg_config(reg)</td><td class="diffline">142 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.reg<span class="dp">·</span>=<span class="dp">·</span>reg_config(reg)</td></tr>
<tr class="diffunmodified"><td class="diffline">133 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.batch_size<span class="dp">·</span>=<span class="dp">·</span>batch_size</td><td class="diffline">143 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.batch_size<span class="dp">·</span>=<span class="dp">·</span>batch_size</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">144 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sampler<span class="dp">·</span>=<span class="dp">·</span>sampler</td></tr>
<tr class="diffunmodified"><td class="diffline">134 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.num_neg<span class="dp">·</span>=<span class="dp">·</span>num_neg</td><td class="diffline">145 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.num_neg<span class="dp">·</span>=<span class="dp">·</span>num_neg</td></tr>
<tr class="diffunmodified"><td class="diffline">135 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.use_bn<span class="dp">·</span>=<span class="dp">·</span>use_bn</td><td class="diffline">146 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.use_bn<span class="dp">·</span>=<span class="dp">·</span>use_bn</td></tr>
<tr class="diffunmodified"><td class="diffline">136 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.dropout_rate<span class="dp">·</span>=<span class="dp">·</span>dropout_config(dropout_rate)</td><td class="diffline">147 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.dropout_rate<span class="dp">·</span>=<span class="dp">·</span>dropout_config(dropout_rate)</td></tr>
<tr class="diffunmodified"><td class="diffline">137 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.hidden_units<span class="dp">·</span>=<span class="dp">·</span>hidden_units_config(hidden_units)</td><td class="diffline">148 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.hidden_units<span class="dp">·</span>=<span class="dp">·</span>hidden_units_config(hidden_units)</td></tr>
<tr class="diffunmodified"><td class="diffline">138 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.use_tf_attention<span class="dp">·</span>=<span class="dp">·</span>use_tf_attention</td><td class="diffline">149 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.use_tf_attention<span class="dp">·</span>=<span class="dp">·</span>use_tf_attention</td></tr>
<tr class="diffunmodified"><td class="diffline">139 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.seq_mode,<span class="dp">·</span>self.max_seq_len<span class="dp">·</span>=<span class="dp">·</span>check_seq_mode(recent_num,<span class="dp">·</span>random_num)</td><td class="diffline">150 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.seq_mode,<span class="dp">·</span>self.max_seq_len<span class="dp">·</span>=<span class="dp">·</span>check_seq_mode(recent_num,<span class="dp">·</span>random_num)</td></tr>
<tr class="diffunmodified"><td class="diffline">140 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.recent_seqs,<span class="dp">·</span>self.recent_seq_lens<span class="dp">·</span>=<span class="dp">·</span>self._set_recent_seqs()</td><td class="diffline">151 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.recent_seqs,<span class="dp">·</span>self.recent_seq_lens<span class="dp">·</span>=<span class="dp">·</span>self._set_recent_seqs()</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 186, 15 lines modified</td><td colspan="2">Offset 197, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">186 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>count_params()</td><td class="diffline">197 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>count_params()</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">187 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>_build_placeholders(self):</td><td class="diffline">198 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>_build_placeholders(self):</td></tr>
<tr class="diffunmodified"><td class="diffline">188 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.user_indices<span class="dp">·</span>=<span class="dp">·</span>tf.placeholder(tf.int32,<span class="dp">·</span>shape=[None])</td><td class="diffline">199 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.user_indices<span class="dp">·</span>=<span class="dp">·</span>tf.placeholder(tf.int32,<span class="dp">·</span>shape=[None])</td></tr>
<tr class="diffunmodified"><td class="diffline">189 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.item_indices<span class="dp">·</span>=<span class="dp">·</span>tf.placeholder(tf.int32,<span class="dp">·</span>shape=[None])</td><td class="diffline">200 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.item_indices<span class="dp">·</span>=<span class="dp">·</span>tf.placeholder(tf.int32,<span class="dp">·</span>shape=[None])</td></tr>
<tr class="diffunmodified"><td class="diffline">190 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.user_interacted_seq<span class="dp">·</span>=<span class="dp">·</span>tf.placeholder(</td><td class="diffline">201 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.user_interacted_seq<span class="dp">·</span>=<span class="dp">·</span>tf.placeholder(</td></tr>
<tr class="diffunmodified"><td class="diffline">191 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf.int32,<span class="dp">·</span>shape=[None,<span class="dp">·</span>self.max_seq_len]</td><td class="diffline">202 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf.int32,<span class="dp">·</span>shape=[None,<span class="dp">·</span>self.max_seq_len]</td></tr>
<tr class="diffchanged"><td class="diffline">192 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)<del><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>B<span class="dp">·</span>*<span class="dp">·</span>seq</del></td><td class="diffline">203 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td class="diffline">193 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.user_interacted_len<span class="dp">·</span>=<span class="dp">·</span>tf.placeholder(tf.float32,<span class="dp">·</span>shape=[None])</td><td class="diffline">204 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.user_interacted_len<span class="dp">·</span>=<span class="dp">·</span>tf.placeholder(tf.float32,<span class="dp">·</span>shape=[None])</td></tr>
<tr class="diffunmodified"><td class="diffline">194 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.labels<span class="dp">·</span>=<span class="dp">·</span>tf.placeholder(tf.float32,<span class="dp">·</span>shape=[None])</td><td class="diffline">205 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.labels<span class="dp">·</span>=<span class="dp">·</span>tf.placeholder(tf.float32,<span class="dp">·</span>shape=[None])</td></tr>
<tr class="diffunmodified"><td class="diffline">195 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.is_training<span class="dp">·</span>=<span class="dp">·</span>tf.placeholder_with_default(False,<span class="dp">·</span>shape=[])</td><td class="diffline">206 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.is_training<span class="dp">·</span>=<span class="dp">·</span>tf.placeholder_with_default(False,<span class="dp">·</span>shape=[])</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">196 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>self.sparse:</td><td class="diffline">207 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>self.sparse:</td></tr>
<tr class="diffunmodified"><td class="diffline">197 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sparse_indices<span class="dp">·</span>=<span class="dp">·</span>tf.placeholder(</td><td class="diffline">208 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sparse_indices<span class="dp">·</span>=<span class="dp">·</span>tf.placeholder(</td></tr>
<tr class="diffunmodified"><td class="diffline">198 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf.int32,<span class="dp">·</span>shape=[None,<span class="dp">·</span>self.sparse_field_size]</td><td class="diffline">209 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf.int32,<span class="dp">·</span>shape=[None,<span class="dp">·</span>self.sparse_field_size]</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 266, 25 lines modified</td><td colspan="2">Offset 277, 14 lines modified</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">266 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>self.item_sparse:</td><td class="diffline">277 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>self.item_sparse:</td></tr>
<tr class="diffunmodified"><td class="diffline">267 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_sparse_embed<span class="dp">·</span>=<span class="dp">·</span>tf.keras.layers.Flatten()(</td><td class="diffline">278 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_sparse_embed<span class="dp">·</span>=<span class="dp">·</span>tf.keras.layers.Flatten()(</td></tr>
<tr class="diffunmodified"><td class="diffline">268 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf.gather(sparse_embed,<span class="dp">·</span>self.item_sparse_col_indices,<span class="dp">·</span>axis=1)</td><td class="diffline">279 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf.gather(sparse_embed,<span class="dp">·</span>self.item_sparse_col_indices,<span class="dp">·</span>axis=1)</td></tr>
<tr class="diffunmodified"><td class="diffline">269 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">280 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td class="diffline">270 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.item_embed.append(item_sparse_embed)</td><td class="diffline">281 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.item_embed.append(item_sparse_embed)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">271 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>sparse_embed<span class="dp">·</span>=<span class="dp">·</span>tf.nn.embedding_lookup(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">272 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sparse_feat,<span class="dp">·</span>self.sparse_indices)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">273 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>self.concat_embed.append(tf.reshape(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">274 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_embed,<span class="dp">·</span>[-1,<span class="dp">·</span>self.sparse_field_size<span class="dp">·</span>*<span class="dp">·</span>self.embed_size])</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">275 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">276 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>if<span class="dp">·</span>self.item_sparse:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">277 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_sparse_embed<span class="dp">·</span>=<span class="dp">·</span>tf.layers.flatten(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">278 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf.gather(sparse_embed,<span class="dp">·</span>self.item_sparse_col_indices,<span class="dp">·</span>axis=1)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">279 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">280 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.item_embed.append(item_sparse_embed)</td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">281 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>_build_dense(self):</td><td class="diffline">282 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>_build_dense(self):</td></tr>
<tr class="diffunmodified"><td class="diffline">282 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size<span class="dp">·</span>=<span class="dp">·</span>tf.shape(self.dense_values)[0]</td><td class="diffline">283 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size<span class="dp">·</span>=<span class="dp">·</span>tf.shape(self.dense_values)[0]</td></tr>
<tr class="diffunmodified"><td class="diffline">283 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>1<span class="dp">·</span>*<span class="dp">·</span>F_dense<span class="dp">·</span>*<span class="dp">·</span>K</td><td class="diffline">284 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>1<span class="dp">·</span>*<span class="dp">·</span>F_dense<span class="dp">·</span>*<span class="dp">·</span>K</td></tr>
<tr class="error"><td colspan="4">
Max diff block lines reached; 135/5000 bytes (2.70%) of diff not shown.
</td></tr></table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">3.0 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/algorithms/fm.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-fm.py"><span class="source">LibRecommender-1.1.0/libreco/algorithms/fm.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-fm.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 8% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 9 lines modified</td><td colspan="2">Offset 1, 10 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">1 </td><td class="diffpresent">&quot;&quot;&quot;Implementation<span class="dp">·</span>of<span class="dp">·</span>FM.&quot;&quot;&quot;</td><td class="diffline">1 </td><td class="diffpresent">&quot;&quot;&quot;Implementation<span class="dp">·</span>of<span class="dp">·</span>FM.&quot;&quot;&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">2 </td><td class="diffpresent">from<span class="dp">·</span>..bases<span class="dp">·</span>import<span class="dp">·</span>ModelMeta,<span class="dp">·</span>TfBase</td><td class="diffline">2 </td><td class="diffpresent">from<span class="dp">·</span>..bases<span class="dp">·</span>import<span class="dp">·</span>ModelMeta,<span class="dp">·</span>TfBase</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">3 </td><td class="diffpresent">from<span class="dp">·</span>..feature.multi_sparse<span class="dp">·</span>import<span class="dp">·</span>true_sparse_field_size</td></tr>
<tr class="diffunmodified"><td class="diffline">3 </td><td class="diffpresent">from<span class="dp">·</span>..tfops<span class="dp">·</span>import<span class="dp">·</span>(</td><td class="diffline">4 </td><td class="diffpresent">from<span class="dp">·</span>..tfops<span class="dp">·</span>import<span class="dp">·</span>(</td></tr>
<tr class="diffunmodified"><td class="diffline">4 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_config,</td><td class="diffline">5 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_config,</td></tr>
<tr class="diffunmodified"><td class="diffline">5 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>multi_sparse_combine_embedding,</td><td class="diffline">6 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>multi_sparse_combine_embedding,</td></tr>
<tr class="diffunmodified"><td class="diffline">6 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg_config,</td><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg_config,</td></tr>
<tr class="diffunmodified"><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf,</td><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf,</td></tr>
<tr class="diffunmodified"><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf_dense,</td><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf_dense,</td></tr>
<tr class="diffunmodified"><td class="diffline">9 </td><td class="diffpresent">)</td><td class="diffline">10 </td><td class="diffpresent">)</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 11, 15 lines modified</td><td colspan="2">Offset 12, 14 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">11 </td><td class="diffpresent">from<span class="dp">·</span>..utils.validate<span class="dp">·</span>import<span class="dp">·</span>(</td><td class="diffline">12 </td><td class="diffpresent">from<span class="dp">·</span>..utils.validate<span class="dp">·</span>import<span class="dp">·</span>(</td></tr>
<tr class="diffunmodified"><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_dense_values,</td><td class="diffline">13 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_dense_values,</td></tr>
<tr class="diffunmodified"><td class="diffline">13 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_multi_sparse,</td><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_multi_sparse,</td></tr>
<tr class="diffunmodified"><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_sparse_indices,</td><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_sparse_indices,</td></tr>
<tr class="diffunmodified"><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_field_size,</td><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_field_size,</td></tr>
<tr class="diffunmodified"><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_feat_size,</td><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_feat_size,</td></tr>
<tr class="diffunmodified"><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_field_size,</td><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_field_size,</td></tr>
<tr class="diffdeleted"><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>true_sparse_field_size,</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent">)</td><td class="diffline">19 </td><td class="diffpresent">)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">20 </td><td class="diffpresent">class<span class="dp">·</span>FM(TfBase,<span class="dp">·</span>metaclass=ModelMeta):</td><td class="diffline">20 </td><td class="diffpresent">class<span class="dp">·</span>FM(TfBase,<span class="dp">·</span>metaclass=ModelMeta):</td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;*Factorization<span class="dp">·</span>Machines*<span class="dp">·</span>algorithm.</td><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;*Factorization<span class="dp">·</span>Machines*<span class="dp">·</span>algorithm.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Note<span class="dp">·</span>this<span class="dp">·</span>implementation<span class="dp">·</span>is<span class="dp">·</span>actually<span class="dp">·</span>a<span class="dp">·</span>mixture<span class="dp">·</span>of<span class="dp">·</span>FM<span class="dp">·</span>and<span class="dp">·</span>NFM,<span class="dp">·</span>since<span class="dp">·</span>it<span class="dp">·</span>uses<span class="dp">·</span>one</td><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Note<span class="dp">·</span>this<span class="dp">·</span>implementation<span class="dp">·</span>is<span class="dp">·</span>actually<span class="dp">·</span>a<span class="dp">·</span>mixture<span class="dp">·</span>of<span class="dp">·</span>FM<span class="dp">·</span>and<span class="dp">·</span>NFM,<span class="dp">·</span>since<span class="dp">·</span>it<span class="dp">·</span>uses<span class="dp">·</span>one</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 47, 14 lines modified</td><td colspan="2">Offset 47, 23 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>According<span class="dp">·</span>to<span class="dp">·</span>the<span class="dp">·</span>`official<span class="dp">·</span>comment<span class="dp">·</span>&lt;https://github.com/tensorflow/tensorflow/blob/v1.15.0/tensorflow/python/training/adam.py#L64&gt;`_,</td><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>According<span class="dp">·</span>to<span class="dp">·</span>the<span class="dp">·</span>`official<span class="dp">·</span>comment<span class="dp">·</span>&lt;https://github.com/tensorflow/tensorflow/blob/v1.15.0/tensorflow/python/training/adam.py#L64&gt;`_,</td></tr>
<tr class="diffunmodified"><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>default<span class="dp">·</span>value<span class="dp">·</span>of<span class="dp">·</span>`1e-8`<span class="dp">·</span>for<span class="dp">·</span>`epsilon`<span class="dp">·</span>is<span class="dp">·</span>generally<span class="dp">·</span>not<span class="dp">·</span>good,<span class="dp">·</span>so<span class="dp">·</span>here<span class="dp">·</span>we<span class="dp">·</span>choose<span class="dp">·</span>`1e-5`.</td><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>default<span class="dp">·</span>value<span class="dp">·</span>of<span class="dp">·</span>`1e-8`<span class="dp">·</span>for<span class="dp">·</span>`epsilon`<span class="dp">·</span>is<span class="dp">·</span>generally<span class="dp">·</span>not<span class="dp">·</span>good,<span class="dp">·</span>so<span class="dp">·</span>here<span class="dp">·</span>we<span class="dp">·</span>choose<span class="dp">·</span>`1e-5`.</td></tr>
<tr class="diffunmodified"><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Users<span class="dp">·</span>can<span class="dp">·</span>try<span class="dp">·</span>tuning<span class="dp">·</span>this<span class="dp">·</span>hyperparameter<span class="dp">·</span>if<span class="dp">·</span>the<span class="dp">·</span>training<span class="dp">·</span>is<span class="dp">·</span>unstable.</td><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Users<span class="dp">·</span>can<span class="dp">·</span>try<span class="dp">·</span>tuning<span class="dp">·</span>this<span class="dp">·</span>hyperparameter<span class="dp">·</span>if<span class="dp">·</span>the<span class="dp">·</span>training<span class="dp">·</span>is<span class="dp">·</span>unstable.</td></tr>
<tr class="diffunmodified"><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Regularization<span class="dp">·</span>parameter,<span class="dp">·</span>must<span class="dp">·</span>be<span class="dp">·</span>non-negative<span class="dp">·</span>or<span class="dp">·</span>None.</td><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Regularization<span class="dp">·</span>parameter,<span class="dp">·</span>must<span class="dp">·</span>be<span class="dp">·</span>non-negative<span class="dp">·</span>or<span class="dp">·</span>None.</td></tr>
<tr class="diffunmodified"><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>256</td><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>256</td></tr>
<tr class="diffunmodified"><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Batch<span class="dp">·</span>size<span class="dp">·</span>for<span class="dp">·</span>training.</td><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Batch<span class="dp">·</span>size<span class="dp">·</span>for<span class="dp">·</span>training.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sampler<span class="dp">·</span>:<span class="dp">·</span>{&#x27;random&#x27;,<span class="dp">·</span>&#x27;unconsumed&#x27;,<span class="dp">·</span>&#x27;popular&#x27;},<span class="dp">·</span>default:<span class="dp">·</span>&#x27;random&#x27;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Negative<span class="dp">·</span>sampling<span class="dp">·</span>strategy.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-<span class="dp">·</span>``&#x27;random&#x27;``<span class="dp">·</span>means<span class="dp">·</span>random<span class="dp">·</span>sampling.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-<span class="dp">·</span>``&#x27;unconsumed&#x27;``<span class="dp">·</span>samples<span class="dp">·</span>items<span class="dp">·</span>that<span class="dp">·</span>the<span class="dp">·</span>target<span class="dp">·</span>user<span class="dp">·</span>did<span class="dp">·</span>not<span class="dp">·</span>consume<span class="dp">·</span>before.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-<span class="dp">·</span>``&#x27;popular&#x27;``<span class="dp">·</span>has<span class="dp">·</span>a<span class="dp">·</span>higher<span class="dp">·</span>probability<span class="dp">·</span>to<span class="dp">·</span>sample<span class="dp">·</span>popular<span class="dp">·</span>items<span class="dp">·</span>as<span class="dp">·</span>negative<span class="dp">·</span>samples.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>versionadded::<span class="dp">·</span>1.1.0</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>1</td><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>1</td></tr>
<tr class="diffunmodified"><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>negative<span class="dp">·</span>samples<span class="dp">·</span>for<span class="dp">·</span>each<span class="dp">·</span>positive<span class="dp">·</span>sample,<span class="dp">·</span>only<span class="dp">·</span>used<span class="dp">·</span>in<span class="dp">·</span>`ranking`<span class="dp">·</span>task.</td><td class="diffline">61 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>negative<span class="dp">·</span>samples<span class="dp">·</span>for<span class="dp">·</span>each<span class="dp">·</span>positive<span class="dp">·</span>sample,<span class="dp">·</span>only<span class="dp">·</span>used<span class="dp">·</span>in<span class="dp">·</span>`ranking`<span class="dp">·</span>task.</td></tr>
<tr class="diffunmodified"><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_bn<span class="dp">·</span>:<span class="dp">·</span>bool,<span class="dp">·</span>default:<span class="dp">·</span>True</td><td class="diffline">62 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_bn<span class="dp">·</span>:<span class="dp">·</span>bool,<span class="dp">·</span>default:<span class="dp">·</span>True</td></tr>
<tr class="diffunmodified"><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Whether<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>batch<span class="dp">·</span>normalization.</td><td class="diffline">63 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Whether<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>batch<span class="dp">·</span>normalization.</td></tr>
<tr class="diffunmodified"><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_rate<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">64 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_rate<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Probability<span class="dp">·</span>of<span class="dp">·</span>an<span class="dp">·</span>element<span class="dp">·</span>to<span class="dp">·</span>be<span class="dp">·</span>zeroed.<span class="dp">·</span>If<span class="dp">·</span>it<span class="dp">·</span>is<span class="dp">·</span>None,<span class="dp">·</span>dropout<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>used.</td><td class="diffline">65 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Probability<span class="dp">·</span>of<span class="dp">·</span>an<span class="dp">·</span>element<span class="dp">·</span>to<span class="dp">·</span>be<span class="dp">·</span>zeroed.<span class="dp">·</span>If<span class="dp">·</span>it<span class="dp">·</span>is<span class="dp">·</span>None,<span class="dp">·</span>dropout<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>used.</td></tr>
<tr class="diffunmodified"><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>multi_sparse_combiner<span class="dp">·</span>:<span class="dp">·</span>{&#x27;normal&#x27;,<span class="dp">·</span>&#x27;mean&#x27;,<span class="dp">·</span>&#x27;sum&#x27;,<span class="dp">·</span>&#x27;sqrtn&#x27;},<span class="dp">·</span>default:<span class="dp">·</span>&#x27;sqrtn&#x27;</td><td class="diffline">66 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>multi_sparse_combiner<span class="dp">·</span>:<span class="dp">·</span>{&#x27;normal&#x27;,<span class="dp">·</span>&#x27;mean&#x27;,<span class="dp">·</span>&#x27;sum&#x27;,<span class="dp">·</span>&#x27;sqrtn&#x27;},<span class="dp">·</span>default:<span class="dp">·</span>&#x27;sqrtn&#x27;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 89, 14 lines modified</td><td colspan="2">Offset 98, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">89 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size=16,</td><td class="diffline">98 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size=16,</td></tr>
<tr class="diffunmodified"><td class="diffline">90 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_epochs=20,</td><td class="diffline">99 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_epochs=20,</td></tr>
<tr class="diffunmodified"><td class="diffline">91 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr=0.001,</td><td class="diffline">100 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr=0.001,</td></tr>
<tr class="diffunmodified"><td class="diffline">92 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr_decay=False,</td><td class="diffline">101 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr_decay=False,</td></tr>
<tr class="diffunmodified"><td class="diffline">93 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>epsilon=1e-5,</td><td class="diffline">102 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>epsilon=1e-5,</td></tr>
<tr class="diffunmodified"><td class="diffline">94 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg=None,</td><td class="diffline">103 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">95 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size=256,</td><td class="diffline">104 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size=256,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">105 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sampler=&quot;random&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">96 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg=1,</td><td class="diffline">106 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg=1,</td></tr>
<tr class="diffunmodified"><td class="diffline">97 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_bn=True,</td><td class="diffline">107 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_bn=True,</td></tr>
<tr class="diffunmodified"><td class="diffline">98 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_rate=None,</td><td class="diffline">108 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_rate=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">99 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>multi_sparse_combiner=&quot;sqrtn&quot;,</td><td class="diffline">109 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>multi_sparse_combiner=&quot;sqrtn&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">100 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed=42,</td><td class="diffline">110 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed=42,</td></tr>
<tr class="diffunmodified"><td class="diffline">101 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lower_upper_bound=None,</td><td class="diffline">111 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lower_upper_bound=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">102 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf_sess_config=None,</td><td class="diffline">112 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf_sess_config=None,</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 108, 14 lines modified</td><td colspan="2">Offset 118, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">108 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.embed_size<span class="dp">·</span>=<span class="dp">·</span>embed_size</td><td class="diffline">118 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.embed_size<span class="dp">·</span>=<span class="dp">·</span>embed_size</td></tr>
<tr class="diffunmodified"><td class="diffline">109 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.n_epochs<span class="dp">·</span>=<span class="dp">·</span>n_epochs</td><td class="diffline">119 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.n_epochs<span class="dp">·</span>=<span class="dp">·</span>n_epochs</td></tr>
<tr class="diffunmodified"><td class="diffline">110 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.lr<span class="dp">·</span>=<span class="dp">·</span>lr</td><td class="diffline">120 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.lr<span class="dp">·</span>=<span class="dp">·</span>lr</td></tr>
<tr class="diffunmodified"><td class="diffline">111 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.lr_decay<span class="dp">·</span>=<span class="dp">·</span>lr_decay</td><td class="diffline">121 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.lr_decay<span class="dp">·</span>=<span class="dp">·</span>lr_decay</td></tr>
<tr class="diffunmodified"><td class="diffline">112 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.epsilon<span class="dp">·</span>=<span class="dp">·</span>epsilon</td><td class="diffline">122 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.epsilon<span class="dp">·</span>=<span class="dp">·</span>epsilon</td></tr>
<tr class="diffunmodified"><td class="diffline">113 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.reg<span class="dp">·</span>=<span class="dp">·</span>reg_config(reg)</td><td class="diffline">123 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.reg<span class="dp">·</span>=<span class="dp">·</span>reg_config(reg)</td></tr>
<tr class="diffunmodified"><td class="diffline">114 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.batch_size<span class="dp">·</span>=<span class="dp">·</span>batch_size</td><td class="diffline">124 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.batch_size<span class="dp">·</span>=<span class="dp">·</span>batch_size</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">125 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sampler<span class="dp">·</span>=<span class="dp">·</span>sampler</td></tr>
<tr class="diffunmodified"><td class="diffline">115 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.num_neg<span class="dp">·</span>=<span class="dp">·</span>num_neg</td><td class="diffline">126 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.num_neg<span class="dp">·</span>=<span class="dp">·</span>num_neg</td></tr>
<tr class="diffunmodified"><td class="diffline">116 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.use_bn<span class="dp">·</span>=<span class="dp">·</span>use_bn</td><td class="diffline">127 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.use_bn<span class="dp">·</span>=<span class="dp">·</span>use_bn</td></tr>
<tr class="diffunmodified"><td class="diffline">117 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.dropout_rate<span class="dp">·</span>=<span class="dp">·</span>dropout_config(dropout_rate)</td><td class="diffline">128 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.dropout_rate<span class="dp">·</span>=<span class="dp">·</span>dropout_config(dropout_rate)</td></tr>
<tr class="diffunmodified"><td class="diffline">118 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.seed<span class="dp">·</span>=<span class="dp">·</span>seed</td><td class="diffline">129 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.seed<span class="dp">·</span>=<span class="dp">·</span>seed</td></tr>
<tr class="diffunmodified"><td class="diffline">119 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sparse<span class="dp">·</span>=<span class="dp">·</span>check_sparse_indices(data_info)</td><td class="diffline">130 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sparse<span class="dp">·</span>=<span class="dp">·</span>check_sparse_indices(data_info)</td></tr>
<tr class="diffunmodified"><td class="diffline">120 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.dense<span class="dp">·</span>=<span class="dp">·</span>check_dense_values(data_info)</td><td class="diffline">131 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.dense<span class="dp">·</span>=<span class="dp">·</span>check_dense_values(data_info)</td></tr>
<tr class="diffunmodified"><td class="diffline">121 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>self.sparse:</td><td class="diffline">132 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>self.sparse:</td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">9.92 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/algorithms/graphsage.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-graphsage.py"><span class="source">LibRecommender-1.1.0/libreco/algorithms/graphsage_dgl.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-graphsage.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 25% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 31 lines modified</td><td colspan="2">Offset 1, 29 lines modified</td></tr>
<tr class="diffchanged"><td class="diffline">1 </td><td class="diffpresent">&quot;&quot;&quot;Implementation<span class="dp">·</span>of<span class="dp">·</span>GraphSage.&quot;&quot;&quot;</td><td class="diffline">1 </td><td class="diffpresent">&quot;&quot;&quot;Implementation<span class="dp">·</span>of<span class="dp">·</span>GraphSage<ins>DGL</ins>.&quot;&quot;&quot;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>importlib</td></tr>
<tr class="diffdeleted"><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">3 </td><td class="diffpresent">import<span class="dp">·</span>torch</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">4 </td><td class="diffpresent">from<span class="dp">·</span>tqdm<span class="dp">·</span>import<span class="dp">·</span>tqdm</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">5 </td><td class="diffpresent">from<span class="dp">·</span>..bases<span class="dp">·</span>import<span class="dp">·</span>EmbedBase,<span class="dp">·</span>ModelMeta</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">6 </td><td class="diffpresent">from<span class="dp">·</span>.<del>.sa</del>m<del>pling</del><span class="dp">·</span>import<span class="dp">·</span><del>bip</del><del>a</del>r<del>tite_n</del>e<del>ighb</del>o<del>rs</del></td><td class="diffline">3 </td><td class="diffpresent">from<span class="dp">·</span>.<ins>tor</ins><ins>ch_</ins>m<ins>o</ins><ins>dules</ins><span class="dp">·</span>import<span class="dp">·</span><ins>G</ins>r<ins>aphSag</ins>e<ins>DGLM</ins>o<ins>d</ins><ins>el</ins></td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">4 </td><td class="diffpresent">from<span class="dp">·</span>..bases<span class="dp">·</span>import<span class="dp">·</span>ModelMeta,<span class="dp">·</span>SageBase</td></tr>
<tr class="diffchanged"><td class="diffline">7 </td><td class="diffpresent">from<span class="dp">·</span>..<del>t</del><del>o</del>r<del>ch</del><del>o</del>p<del>s</del><span class="dp">·</span>import<span class="dp">·</span>(</td><td class="diffline">5 </td><td class="diffpresent">from<span class="dp">·</span>..<ins>g</ins>r<ins>a</ins>p<ins>h</ins><span class="dp">·</span>import<span class="dp">·</span>(</td></tr>
<tr class="diffdeleted"><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>device_config,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>feat_to_tensor,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_unique_to_tensor,</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>u</del><del>s</del>e<del>r_u</del><del>nique_to_t</del>e<del>nsor</del>,</td><td class="diffline">6 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>N</ins>e<ins>ighborWalk</ins>e<ins>rDGL</ins>,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>build_i2i_homo_graph,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>build_u2i_hetero_graph,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_dgl,</td></tr>
<tr class="diffunmodified"><td class="diffline">12 </td><td class="diffpresent">)</td><td class="diffline">10 </td><td class="diffpresent">)</td></tr>
<tr class="diffdeleted"><td class="diffline">13 </td><td class="diffpresent">from<span class="dp">·</span>.torch_modules<span class="dp">·</span>import<span class="dp">·</span>GraphSageModel</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">11 </td><td class="diffpresent">@check_dgl</td></tr>
<tr class="diffchanged"><td class="diffline">14 </td><td class="diffpresent">class<span class="dp">·</span>GraphSage(<del>Emb</del>e<del>d</del>Base,<span class="dp">·</span>metaclass=ModelMeta,<span class="dp">·</span>backend=&quot;torch&quot;):</td><td class="diffline">12 </td><td class="diffpresent">class<span class="dp">·</span>GraphSage<ins>DGL</ins>(<ins>Sag</ins>eBase,<span class="dp">·</span>metaclass=ModelMeta,<span class="dp">·</span>backend=&quot;torch&quot;):</td></tr>
<tr class="diffchanged"><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;*GraphSage*<span class="dp">·</span>algorithm.</td><td class="diffline">13 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;*GraphSage<ins>DGL</ins>*<span class="dp">·</span>algorithm.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>NOTE::</td><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>NOTE::</td></tr>
<tr class="diffchanged"><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>This<span class="dp">·</span>algorithm<span class="dp">·</span>is<span class="dp">·</span>implemented<span class="dp">·</span>in<span class="dp">·</span><del>PyT</del>o<del>r</del>c<del>h</del>.</td><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>This<span class="dp">·</span>algorithm<span class="dp">·</span>is<span class="dp">·</span>implemented<span class="dp">·</span>in<span class="dp">·</span><ins>`DGL<span class="dp">·</span>&lt;https://githu</ins><ins>b.c</ins>o<ins>m/dm</ins><ins>l</ins>c<ins>/dgl&gt;`</ins><ins>_</ins>.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>CAUTION::</td><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>CAUTION::</td></tr>
<tr class="diffchanged"><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>GraphSage<span class="dp">·</span>can<span class="dp">·</span>only<span class="dp">·</span>be<span class="dp">·</span>used<span class="dp">·</span>in<span class="dp">·</span>``ranking``<span class="dp">·</span>task.</td><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>GraphSage<ins>DGL</ins><span class="dp">·</span>can<span class="dp">·</span>only<span class="dp">·</span>be<span class="dp">·</span>used<span class="dp">·</span>in<span class="dp">·</span>``ranking``<span class="dp">·</span>task.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>versionadded::<span class="dp">·</span>0.12.0</td><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>versionadded::<span class="dp">·</span>0.12.0</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td></tr>
<tr class="diffunmodified"><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task<span class="dp">·</span>:<span class="dp">·</span>{&#x27;ranking&#x27;}</td><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task<span class="dp">·</span>:<span class="dp">·</span>{&#x27;ranking&#x27;}</td></tr>
<tr class="diffunmodified"><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Recommendation<span class="dp">·</span>task.<span class="dp">·</span>See<span class="dp">·</span>:ref:`Task`.</td><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Recommendation<span class="dp">·</span>task.<span class="dp">·</span>See<span class="dp">·</span>:ref:`Task`.</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 35, 14 lines modified</td><td colspan="2">Offset 33, 17 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Loss<span class="dp">·</span>for<span class="dp">·</span>model<span class="dp">·</span>training.</td><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Loss<span class="dp">·</span>for<span class="dp">·</span>model<span class="dp">·</span>training.</td></tr>
<tr class="diffunmodified"><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>paradigm<span class="dp">·</span>:<span class="dp">·</span>{&#x27;u2i&#x27;,<span class="dp">·</span>&#x27;i2i&#x27;},<span class="dp">·</span>default:<span class="dp">·</span>&#x27;i2i&#x27;</td><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>paradigm<span class="dp">·</span>:<span class="dp">·</span>{&#x27;u2i&#x27;,<span class="dp">·</span>&#x27;i2i&#x27;},<span class="dp">·</span>default:<span class="dp">·</span>&#x27;i2i&#x27;</td></tr>
<tr class="diffunmodified"><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Choice<span class="dp">·</span>for<span class="dp">·</span>features<span class="dp">·</span>in<span class="dp">·</span>model.</td><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Choice<span class="dp">·</span>for<span class="dp">·</span>features<span class="dp">·</span>in<span class="dp">·</span>model.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-<span class="dp">·</span>``&#x27;u2i&#x27;``<span class="dp">·</span>will<span class="dp">·</span>combine<span class="dp">·</span>user<span class="dp">·</span>features<span class="dp">·</span>and<span class="dp">·</span>item<span class="dp">·</span>features.</td><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-<span class="dp">·</span>``&#x27;u2i&#x27;``<span class="dp">·</span>will<span class="dp">·</span>combine<span class="dp">·</span>user<span class="dp">·</span>features<span class="dp">·</span>and<span class="dp">·</span>item<span class="dp">·</span>features.</td></tr>
<tr class="diffunmodified"><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-<span class="dp">·</span>``&#x27;i2i&#x27;``<span class="dp">·</span>will<span class="dp">·</span>only<span class="dp">·</span>use<span class="dp">·</span>item<span class="dp">·</span>features,<span class="dp">·</span>this<span class="dp">·</span>is<span class="dp">·</span>the<span class="dp">·</span>setting<span class="dp">·</span>in<span class="dp">·</span>the<span class="dp">·</span>original<span class="dp">·</span>paper.</td><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-<span class="dp">·</span>``&#x27;i2i&#x27;``<span class="dp">·</span>will<span class="dp">·</span>only<span class="dp">·</span>use<span class="dp">·</span>item<span class="dp">·</span>features,<span class="dp">·</span>this<span class="dp">·</span>is<span class="dp">·</span>the<span class="dp">·</span>setting<span class="dp">·</span>in<span class="dp">·</span>the<span class="dp">·</span>original<span class="dp">·</span>paper.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>aggregator_type<span class="dp">·</span>:<span class="dp">·</span>{&#x27;mean&#x27;,<span class="dp">·</span>&#x27;gcn&#x27;,<span class="dp">·</span>&#x27;pool&#x27;,<span class="dp">·</span>&#x27;lstm&#x27;},<span class="dp">·</span>default:<span class="dp">·</span>&#x27;mean&#x27;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Aggregator<span class="dp">·</span>type<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>in<span class="dp">·</span>GraphSage.<span class="dp">·</span>Refer<span class="dp">·</span>to<span class="dp">·</span>`SAGEConv</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&lt;https://docs.dgl.ai/en/latest/generated/dgl.nn.pytorch.conv.SAGEConv.html&gt;`_<span class="dp">·</span>in<span class="dp">·</span>DGL.</td></tr>
<tr class="diffunmodified"><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>16</td><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>16</td></tr>
<tr class="diffunmodified"><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Vector<span class="dp">·</span>size<span class="dp">·</span>of<span class="dp">·</span>embeddings.</td><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Vector<span class="dp">·</span>size<span class="dp">·</span>of<span class="dp">·</span>embeddings.</td></tr>
<tr class="diffunmodified"><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_epochs:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>10</td><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_epochs:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>10</td></tr>
<tr class="diffunmodified"><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>epochs<span class="dp">·</span>for<span class="dp">·</span>training.</td><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>epochs<span class="dp">·</span>for<span class="dp">·</span>training.</td></tr>
<tr class="diffunmodified"><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr<span class="dp">·</span>:<span class="dp">·</span>float,<span class="dp">·</span>default<span class="dp">·</span>0.001</td><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr<span class="dp">·</span>:<span class="dp">·</span>float,<span class="dp">·</span>default<span class="dp">·</span>0.001</td></tr>
<tr class="diffunmodified"><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Learning<span class="dp">·</span>rate<span class="dp">·</span>for<span class="dp">·</span>training.</td><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Learning<span class="dp">·</span>rate<span class="dp">·</span>for<span class="dp">·</span>training.</td></tr>
<tr class="diffunmodified"><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr_decay<span class="dp">·</span>:<span class="dp">·</span>bool,<span class="dp">·</span>default:<span class="dp">·</span>False</td><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr_decay<span class="dp">·</span>:<span class="dp">·</span>bool,<span class="dp">·</span>default:<span class="dp">·</span>False</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 105, 28 lines modified</td><td colspan="2">Offset 106, 35 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">105 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Accept<span class="dp">·</span>str<span class="dp">·</span>type<span class="dp">·</span>``&#x27;cpu&#x27;``<span class="dp">·</span>or<span class="dp">·</span>``&#x27;cuda&#x27;``,<span class="dp">·</span>instead<span class="dp">·</span>of<span class="dp">·</span>``torch.device(...)``.</td><td class="diffline">106 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Accept<span class="dp">·</span>str<span class="dp">·</span>type<span class="dp">·</span>``&#x27;cpu&#x27;``<span class="dp">·</span>or<span class="dp">·</span>``&#x27;cuda&#x27;``,<span class="dp">·</span>instead<span class="dp">·</span>of<span class="dp">·</span>``torch.device(...)``.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">106 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lower_upper_bound<span class="dp">·</span>:<span class="dp">·</span>tuple<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">107 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lower_upper_bound<span class="dp">·</span>:<span class="dp">·</span>tuple<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">107 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Lower<span class="dp">·</span>and<span class="dp">·</span>upper<span class="dp">·</span>score<span class="dp">·</span>bound<span class="dp">·</span>for<span class="dp">·</span>`rating`<span class="dp">·</span>task.</td><td class="diffline">108 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Lower<span class="dp">·</span>and<span class="dp">·</span>upper<span class="dp">·</span>score<span class="dp">·</span>bound<span class="dp">·</span>for<span class="dp">·</span>`rating`<span class="dp">·</span>task.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">108 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>See<span class="dp">·</span>Also</td><td class="diffline">109 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>See<span class="dp">·</span>Also</td></tr>
<tr class="diffunmodified"><td class="diffline">109 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>--------</td><td class="diffline">110 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>--------</td></tr>
<tr class="diffchanged"><td class="diffline">110 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>GraphSage<del>DGL</del></td><td class="diffline">111 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>GraphSage</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">111 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>References</td><td class="diffline">112 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>References</td></tr>
<tr class="diffunmodified"><td class="diffline">112 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td><td class="diffline">113 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td></tr>
<tr class="diffunmodified"><td class="diffline">113 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>*William<span class="dp">·</span>L.<span class="dp">·</span>Hamilton<span class="dp">·</span>et<span class="dp">·</span>al.*<span class="dp">·</span>`Inductive<span class="dp">·</span>Representation<span class="dp">·</span>Learning<span class="dp">·</span>on<span class="dp">·</span>Large<span class="dp">·</span>Graphs</td><td class="diffline">114 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>*William<span class="dp">·</span>L.<span class="dp">·</span>Hamilton<span class="dp">·</span>et<span class="dp">·</span>al.*<span class="dp">·</span>`Inductive<span class="dp">·</span>Representation<span class="dp">·</span>Learning<span class="dp">·</span>on<span class="dp">·</span>Large<span class="dp">·</span>Graphs</td></tr>
<tr class="diffunmodified"><td class="diffline">114 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&lt;https://arxiv.org/abs/1706.02216&gt;`_.</td><td class="diffline">115 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&lt;https://arxiv.org/abs/1706.02216&gt;`_.</td></tr>
<tr class="diffunmodified"><td class="diffline">115 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;</td><td class="diffline">116 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">117 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>__new__(cls,<span class="dp">·</span>*args,<span class="dp">·</span>**kwargs):</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">118 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>cls.dgl_error<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None:</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">119 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>raise<span class="dp">·</span>cls.dgl_error</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">120 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>cls._dgl<span class="dp">·</span>=<span class="dp">·</span>importlib.import_module(&quot;dgl&quot;)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">121 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>super().__new__(cls)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">116 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>__init__(</td><td class="diffline">122 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>__init__(</td></tr>
<tr class="diffunmodified"><td class="diffline">117 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self,</td><td class="diffline">123 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self,</td></tr>
<tr class="diffunmodified"><td class="diffline">118 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task,</td><td class="diffline">124 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task,</td></tr>
<tr class="diffunmodified"><td class="diffline">119 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info,</td><td class="diffline">125 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info,</td></tr>
<tr class="diffunmodified"><td class="diffline">120 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>loss_type=&quot;cross_entropy&quot;,</td><td class="diffline">126 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>loss_type=&quot;cross_entropy&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">121 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>paradigm=&quot;i2i&quot;,</td><td class="diffline">127 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>paradigm=&quot;i2i&quot;,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">128 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>aggregator_type=&quot;mean&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">122 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size=16,</td><td class="diffline">129 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size=16,</td></tr>
<tr class="diffunmodified"><td class="diffline">123 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_epochs=20,</td><td class="diffline">130 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_epochs=20,</td></tr>
<tr class="diffunmodified"><td class="diffline">124 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr=0.001,</td><td class="diffline">131 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr=0.001,</td></tr>
<tr class="diffunmodified"><td class="diffline">125 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr_decay=False,</td><td class="diffline">132 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr_decay=False,</td></tr>
<tr class="diffunmodified"><td class="diffline">126 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>epsilon=1e-8,</td><td class="diffline">133 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>epsilon=1e-8,</td></tr>
<tr class="diffunmodified"><td class="diffline">127 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>amsgrad=False,</td><td class="diffline">134 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>amsgrad=False,</td></tr>
<tr class="diffunmodified"><td class="diffline">128 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg=None,</td><td class="diffline">135 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg=None,</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 142, 142 lines modified</td><td colspan="2">Offset 150, 60 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">142 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sampler=&quot;random&quot;,</td><td class="diffline">150 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sampler=&quot;random&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">143 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>start_node=&quot;random&quot;,</td><td class="diffline">151 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>start_node=&quot;random&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">144 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>focus_start=False,</td><td class="diffline">152 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>focus_start=False,</td></tr>
<tr class="diffunmodified"><td class="diffline">145 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed=42,</td><td class="diffline">153 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed=42,</td></tr>
<tr class="diffunmodified"><td class="diffline">146 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>device=&quot;cuda&quot;,</td><td class="diffline">154 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>device=&quot;cuda&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">147 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lower_upper_bound=None,</td><td class="diffline">155 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lower_upper_bound=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">148 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td><td class="diffline">156 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td></tr>
<tr class="diffdeleted"><td class="diffline">149 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>super().__init__(task,<span class="dp">·</span>data_info,<span class="dp">·</span>embed_size,<span class="dp">·</span>lower_upper_bound)</td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">157 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>super().__init__(</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">158 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">159 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">160 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>loss_type,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">161 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>paradigm,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">162 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">163 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_epochs,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">164 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">165 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr_decay,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">166 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>epsilon,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">167 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>amsgrad,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">168 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">169 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">170 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">171 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_rate,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">172 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>remove_edges,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">173 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_layers,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">174 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neighbors,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">175 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_walks,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">176 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sample_walk_len,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">177 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>margin,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">178 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sampler,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">179 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>start_node,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">180 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>focus_start,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">181 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">182 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>device,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">183 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lower_upper_bound,</td></tr>
<tr class="error"><td colspan="4">
Max diff block lines reached; 6026/10012 bytes (60.19%) of diff not shown.
</td></tr></table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">25.7 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/algorithms/graphsage_dgl.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-graphsage_dgl.py"><span class="source">LibRecommender-1.1.0/libreco/bases/tf_base.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-graphsage_dgl.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 24% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 324 lines modified</td><td colspan="2">Offset 1, 370 lines modified</td></tr>
<tr class="diffdeleted"><td class="diffline">1 </td><td class="diffpresent">&quot;&quot;&quot;Implementation<span class="dp">·</span>of<span class="dp">·</span>GraphSageDGL.&quot;&quot;&quot;</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>importlib</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">3 </td><td class="diffpresent"><del>i</del>m<del>port</del><span class="dp">·</span><del>it</del>e<del>rtool</del>s</td><td class="diffline">1 </td><td class="diffpresent"><ins>&quot;&quot;&quot;TF</ins><ins><span class="dp">·</span></ins>m<ins>odel</ins><span class="dp">·</span><ins>b</ins><ins>as</ins>e<ins><span class="dp">·</span>clas</ins>s<ins>.&quot;&quot;&quot;</ins></td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>abc</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">3 </td><td class="diffpresent">import<span class="dp">·</span>os</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">4 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td><td class="diffline">4 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td></tr>
<tr class="diffdeleted"><td class="diffline">5 </td><td class="diffpresent">import<span class="dp">·</span>torch</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">6 </td><td class="diffpresent">from<span class="dp">·</span>tqdm<span class="dp">·</span>import<span class="dp">·</span>tqdm</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">7 </td><td class="diffpresent">from<span class="dp">·</span>..bases<span class="dp">·</span>import<span class="dp">·</span>EmbedBase,<span class="dp">·</span>ModelMeta</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">8 </td><td class="diffpresent">from<span class="dp">·</span>..graph<span class="dp">·</span>import<span class="dp">·</span>check_dgl</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">9 </td><td class="diffpresent">from<span class="dp">·</span>..torchops<span class="dp">·</span>import<span class="dp">·</span>device_config,<span class="dp">·</span>item_unique_to_tensor,<span class="dp">·</span>user_unique_to_tensor</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">10 </td><td class="diffpresent">from<span class="dp">·</span>.<del>torch_mo</del><del>dul</del>e<del>s</del><span class="dp">·</span>import<span class="dp">·</span><del>Graph</del><del>S</del>a<del>geDGLMo</del><del>d</del>e<del>l</del></td><td class="diffline">5 </td><td class="diffpresent">from<span class="dp">·</span>.<ins>bas</ins>e<span class="dp">·</span>import<span class="dp">·</span><ins>B</ins>a<ins>s</ins>e</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">6 </td><td class="diffpresent">from<span class="dp">·</span>..prediction<span class="dp">·</span>import<span class="dp">·</span>predict_tf_feat</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">7 </td><td class="diffpresent">from<span class="dp">·</span>..recommendation<span class="dp">·</span>import<span class="dp">·</span>cold_start_rec,<span class="dp">·</span>construct_rec,<span class="dp">·</span>recommend_tf_feat</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">8 </td><td class="diffpresent">from<span class="dp">·</span>..tfops<span class="dp">·</span>import<span class="dp">·</span>modify_variable_names,<span class="dp">·</span>sess_config,<span class="dp">·</span>tf</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">9 </td><td class="diffpresent">from<span class="dp">·</span>..training.dispatch<span class="dp">·</span>import<span class="dp">·</span>get_trainer</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">10 </td><td class="diffpresent">from<span class="dp">·</span>..utils.constants<span class="dp">·</span>import<span class="dp">·</span>SEQUENCE_RECOMMEND_MODELS</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">11 </td><td class="diffpresent">from<span class="dp">·</span>..utils.save_load<span class="dp">·</span>import<span class="dp">·</span>(</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>load_tf_model,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">13 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>load_tf_variables,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_default_recs,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_params,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_tf_model,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_tf_variables,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">18 </td><td class="diffpresent">)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">19 </td><td class="diffpresent">from<span class="dp">·</span>..utils.validate<span class="dp">·</span>import<span class="dp">·</span>check_fitting,<span class="dp">·</span>check_unknown_user</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">20 </td><td class="diffpresent">class<span class="dp">·</span>TfBase(Base):</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;Base<span class="dp">·</span>class<span class="dp">·</span>for<span class="dp">·</span>TF<span class="dp">·</span>models.</td></tr>
<tr class="diffdeleted"><td class="diffline">11 </td><td class="diffpresent">@check_dgl</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">12 </td><td class="diffpresent">class<span class="dp">·</span>GraphSageDGL(EmbedBase,<span class="dp">·</span>metaclass=ModelMeta,<span class="dp">·</span>backend=&quot;torch&quot;):</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">13 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;*GraphSageDGL*<span class="dp">·</span>algorithm.</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Models<span class="dp">·</span>that<span class="dp">·</span>relies<span class="dp">·</span>on<span class="dp">·</span>TensorFlow<span class="dp">·</span>graph<span class="dp">·</span>for<span class="dp">·</span>inference.<span class="dp">·</span>Although<span class="dp">·</span>some<span class="dp">·</span>models<span class="dp">·</span>such<span class="dp">·</span>as</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>`RNN4Rec`,<span class="dp">·</span>`SVD`<span class="dp">·</span>etc.,<span class="dp">·</span>are<span class="dp">·</span>trained<span class="dp">·</span>using<span class="dp">·</span>TensorFlow,<span class="dp">·</span>they<span class="dp">·</span>don&#x27;t<span class="dp">·</span>inherit<span class="dp">·</span>from<span class="dp">·</span>this</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>base<span class="dp">·</span>class<span class="dp">·</span>since<span class="dp">·</span>their<span class="dp">·</span>inference<span class="dp">·</span>only<span class="dp">·</span>uses<span class="dp">·</span>embeddings.</td></tr>
<tr class="diffdeleted"><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>NOTE::</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>This<span class="dp">·</span>algorithm<span class="dp">·</span>is<span class="dp">·</span>implemented<span class="dp">·</span>in<span class="dp">·</span>`DGL<span class="dp">·</span>&lt;https://github.com/dmlc/dgl&gt;`_.</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>CAUTION::</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>GraphSageDGL<span class="dp">·</span>can<span class="dp">·</span>only<span class="dp">·</span>be<span class="dp">·</span>used<span class="dp">·</span>in<span class="dp">·</span>``ranking``<span class="dp">·</span>task.</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>versionadded::<span class="dp">·</span>0.12.0</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td></tr>
<tr class="diffunmodified"><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td></tr>
<tr class="diffchanged"><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task<span class="dp">·</span>:<span class="dp">·</span>{&#x27;ranking&#x27;}</td><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task<span class="dp">·</span>:<span class="dp">·</span>{&#x27;ra<ins>ting&#x27;,<span class="dp">·</span>&#x27;ra</ins>nking&#x27;}</td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Recommendation<span class="dp">·</span>task.<span class="dp">·</span>See<span class="dp">·</span>:ref:`Task`.</td><td class="diffline">28 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Recommendation<span class="dp">·</span>task.<span class="dp">·</span>See<span class="dp">·</span>:ref:`Task`.</td></tr>
<tr class="diffunmodified"><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info<span class="dp">·</span>:<span class="dp">·</span>:class:`~libreco.data.DataInfo`<span class="dp">·</span>object</td><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info<span class="dp">·</span>:<span class="dp">·</span>:class:`~libreco.data.DataInfo`<span class="dp">·</span>object</td></tr>
<tr class="diffunmodified"><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Object<span class="dp">·</span>that<span class="dp">·</span>contains<span class="dp">·</span>useful<span class="dp">·</span>information<span class="dp">·</span>for<span class="dp">·</span>training<span class="dp">·</span>and<span class="dp">·</span>inference.</td><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Object<span class="dp">·</span>that<span class="dp">·</span>contains<span class="dp">·</span>useful<span class="dp">·</span>information<span class="dp">·</span>for<span class="dp">·</span>training<span class="dp">·</span>and<span class="dp">·</span>inference.</td></tr>
<tr class="diffdeleted"><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>loss_type<span class="dp">·</span>:<span class="dp">·</span>{&#x27;cross_entropy&#x27;,<span class="dp">·</span>&#x27;focal&#x27;,<span class="dp">·</span>&#x27;bpr&#x27;,<span class="dp">·</span>&#x27;max_margin&#x27;},<span class="dp">·</span>default:<span class="dp">·</span>&#x27;cross_entropy&#x27;</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Loss<span class="dp">·</span>for<span class="dp">·</span>model<span class="dp">·</span>training.</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>paradigm<span class="dp">·</span>:<span class="dp">·</span>{&#x27;u2i&#x27;,<span class="dp">·</span>&#x27;i2i&#x27;},<span class="dp">·</span>default:<span class="dp">·</span>&#x27;i2i&#x27;</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">28 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Choice<span class="dp">·</span>for<span class="dp">·</span>features<span class="dp">·</span>in<span class="dp">·</span>model.</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-<span class="dp">·</span>``&#x27;u2i&#x27;``<span class="dp">·</span>will<span class="dp">·</span>combine<span class="dp">·</span>user<span class="dp">·</span>features<span class="dp">·</span>and<span class="dp">·</span>item<span class="dp">·</span>features.</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-<span class="dp">·</span>``&#x27;i2i&#x27;``<span class="dp">·</span>will<span class="dp">·</span>only<span class="dp">·</span>use<span class="dp">·</span>item<span class="dp">·</span>features,<span class="dp">·</span>this<span class="dp">·</span>is<span class="dp">·</span>the<span class="dp">·</span>setting<span class="dp">·</span>in<span class="dp">·</span>the<span class="dp">·</span>original<span class="dp">·</span>paper.</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>aggregator_type<span class="dp">·</span>:<span class="dp">·</span>{&#x27;mean&#x27;,<span class="dp">·</span>&#x27;gcn&#x27;,<span class="dp">·</span>&#x27;pool&#x27;,<span class="dp">·</span>&#x27;lstm&#x27;},<span class="dp">·</span>default:<span class="dp">·</span>&#x27;mean&#x27;</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Aggregator<span class="dp">·</span>type<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>in<span class="dp">·</span>GraphSage.<span class="dp">·</span>Refer<span class="dp">·</span>to<span class="dp">·</span>`SAGEConv</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&lt;https://docs.dgl.ai/en/latest/generated/dgl.nn.pytorch.conv.SAGEConv.html&gt;`_<span class="dp">·</span>in<span class="dp">·</span>DGL.</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>16</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Vector<span class="dp">·</span>size<span class="dp">·</span>of<span class="dp">·</span>embeddings.</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_epochs:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>10</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>epochs<span class="dp">·</span>for<span class="dp">·</span>training.</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr<span class="dp">·</span>:<span class="dp">·</span>float,<span class="dp">·</span>default<span class="dp">·</span>0.001</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Learning<span class="dp">·</span>rate<span class="dp">·</span>for<span class="dp">·</span>training.</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr_decay<span class="dp">·</span>:<span class="dp">·</span>bool,<span class="dp">·</span>default:<span class="dp">·</span>False</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Whether<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>learning<span class="dp">·</span>rate<span class="dp">·</span>decay.</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>epsilon<span class="dp">·</span>:<span class="dp">·</span>float,<span class="dp">·</span>default:<span class="dp">·</span>1e-8</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>A<span class="dp">·</span>small<span class="dp">·</span>constant<span class="dp">·</span>added<span class="dp">·</span>to<span class="dp">·</span>the<span class="dp">·</span>denominator<span class="dp">·</span>to<span class="dp">·</span>improve<span class="dp">·</span>numerical<span class="dp">·</span>stability<span class="dp">·</span>in</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Adam<span class="dp">·</span>optimizer.</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>amsgrad<span class="dp">·</span>:<span class="dp">·</span>bool,<span class="dp">·</span>default:<span class="dp">·</span>False</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Whether<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>the<span class="dp">·</span>AMSGrad<span class="dp">·</span>variant<span class="dp">·</span>from<span class="dp">·</span>the<span class="dp">·</span>paper</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>`On<span class="dp">·</span>the<span class="dp">·</span>Convergence<span class="dp">·</span>of<span class="dp">·</span>Adam<span class="dp">·</span>and<span class="dp">·</span>Beyond<span class="dp">·</span>&lt;https://openreview.net/forum?id=ryQu7f-RZ&gt;`_.</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Regularization<span class="dp">·</span>parameter,<span class="dp">·</span>must<span class="dp">·</span>be<span class="dp">·</span>non-negative<span class="dp">·</span>or<span class="dp">·</span>None.</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>256</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Batch<span class="dp">·</span>size<span class="dp">·</span>for<span class="dp">·</span>training.</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>1</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>negative<span class="dp">·</span>samples<span class="dp">·</span>for<span class="dp">·</span>each<span class="dp">·</span>positive<span class="dp">·</span>sample.</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_rate<span class="dp">·</span>:<span class="dp">·</span>float,<span class="dp">·</span>default:<span class="dp">·</span>0.0</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Probability<span class="dp">·</span>of<span class="dp">·</span>a<span class="dp">·</span>node<span class="dp">·</span>being<span class="dp">·</span>dropped.<span class="dp">·</span>0.0<span class="dp">·</span>means<span class="dp">·</span>dropout<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>used.</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>remove_edges<span class="dp">·</span>:<span class="dp">·</span>bool,<span class="dp">·</span>default:<span class="dp">·</span>False</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Whether<span class="dp">·</span>to<span class="dp">·</span>remove<span class="dp">·</span>edges<span class="dp">·</span>between<span class="dp">·</span>target<span class="dp">·</span>node<span class="dp">·</span>and<span class="dp">·</span>its<span class="dp">·</span>positive<span class="dp">·</span>pair<span class="dp">·</span>nodes</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>when<span class="dp">·</span>target<span class="dp">·</span>node&#x27;s<span class="dp">·</span>sampled<span class="dp">·</span>neighbor<span class="dp">·</span>nodes<span class="dp">·</span>contain<span class="dp">·</span>positive<span class="dp">·</span>pair<span class="dp">·</span>nodes.</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>This<span class="dp">·</span>only<span class="dp">·</span>applies<span class="dp">·</span>in<span class="dp">·</span>&#x27;i2i&#x27;<span class="dp">·</span>paradigm.</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_layers<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>2</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">61 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>GCN<span class="dp">·</span>layers.</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">62 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neighbors<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>3</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">63 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>sampled<span class="dp">·</span>neighbors<span class="dp">·</span>in<span class="dp">·</span>each<span class="dp">·</span>layer</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">64 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_walks<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>10</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">65 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>random<span class="dp">·</span>walks<span class="dp">·</span>to<span class="dp">·</span>sample<span class="dp">·</span>positive<span class="dp">·</span>item<span class="dp">·</span>pairs.<span class="dp">·</span>This<span class="dp">·</span>only<span class="dp">·</span>applies<span class="dp">·</span>in</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">66 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;i2i&#x27;<span class="dp">·</span>paradigm.</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">67 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sample_walk_len<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>5</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">68 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Length<span class="dp">·</span>of<span class="dp">·</span>each<span class="dp">·</span>random<span class="dp">·</span>walk<span class="dp">·</span>to<span class="dp">·</span>sample<span class="dp">·</span>positive<span class="dp">·</span>item<span class="dp">·</span>pairs.</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">69 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>margin<span class="dp">·</span>:<span class="dp">·</span>float,<span class="dp">·</span>default:<span class="dp">·</span>1.0</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">70 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Margin<span class="dp">·</span>used<span class="dp">·</span>in<span class="dp">·</span>`max_margin`<span class="dp">·</span>loss.</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">71 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sampler<span class="dp">·</span>:<span class="dp">·</span>{&#x27;random&#x27;,<span class="dp">·</span>&#x27;unconsumed&#x27;,<span class="dp">·</span>&#x27;popular&#x27;,<span class="dp">·</span>&#x27;out-batch&#x27;},<span class="dp">·</span>default:<span class="dp">·</span>&#x27;random&#x27;</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">72 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Negative<span class="dp">·</span>sampling<span class="dp">·</span>strategy.<span class="dp">·</span>The<span class="dp">·</span>``&#x27;u2i&#x27;``<span class="dp">·</span>paradigm<span class="dp">·</span>can<span class="dp">·</span>use<span class="dp">·</span>``&#x27;random&#x27;``,<span class="dp">·</span>``&#x27;unconsumed&#x27;``,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">73 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>``&#x27;popular&#x27;``,<span class="dp">·</span>and<span class="dp">·</span>the<span class="dp">·</span>``&#x27;i2i&#x27;``<span class="dp">·</span>paradigm<span class="dp">·</span>can<span class="dp">·</span>use<span class="dp">·</span>``&#x27;random&#x27;``,<span class="dp">·</span>``&#x27;out-batch&#x27;``,<span class="dp">·</span>``&#x27;popular&#x27;``.</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">74 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-<span class="dp">·</span>``&#x27;random&#x27;``<span class="dp">·</span>means<span class="dp">·</span>random<span class="dp">·</span>sampling.</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">75 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-<span class="dp">·</span>``&#x27;unconsumed&#x27;``<span class="dp">·</span>samples<span class="dp">·</span>items<span class="dp">·</span>that<span class="dp">·</span>the<span class="dp">·</span>target<span class="dp">·</span>user<span class="dp">·</span>did<span class="dp">·</span>not<span class="dp">·</span>consume<span class="dp">·</span>before.</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">76 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>This<span class="dp">·</span>can&#x27;t<span class="dp">·</span>be<span class="dp">·</span>used<span class="dp">·</span>in<span class="dp">·</span>``&#x27;i2i&#x27;``<span class="dp">·</span>since<span class="dp">·</span>it<span class="dp">·</span>has<span class="dp">·</span>no<span class="dp">·</span>users.</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">77 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-<span class="dp">·</span>``&#x27;popular&#x27;``<span class="dp">·</span>has<span class="dp">·</span>a<span class="dp">·</span>higher<span class="dp">·</span>probability<span class="dp">·</span>to<span class="dp">·</span>sample<span class="dp">·</span>popular<span class="dp">·</span>items<span class="dp">·</span>as<span class="dp">·</span>negative<span class="dp">·</span>samples.</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">78 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-<span class="dp">·</span>``&#x27;out-batch&#x27;``<span class="dp">·</span>samples<span class="dp">·</span>items<span class="dp">·</span>that<span class="dp">·</span>didn&#x27;t<span class="dp">·</span>appear<span class="dp">·</span>in<span class="dp">·</span>the<span class="dp">·</span>batch.</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">79 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>This<span class="dp">·</span>can<span class="dp">·</span>only<span class="dp">·</span>be<span class="dp">·</span>used<span class="dp">·</span>in<span class="dp">·</span>``&#x27;i2i&#x27;``<span class="dp">·</span>paradigm.</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">80 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>start_node<span class="dp">·</span>:<span class="dp">·</span>{&#x27;random&#x27;,<span class="dp">·</span>&#x27;unpopular&#x27;},<span class="dp">·</span>default:<span class="dp">·</span>&#x27;random&#x27;</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">81 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Strategy<span class="dp">·</span>for<span class="dp">·</span>choosing<span class="dp">·</span>start<span class="dp">·</span>nodes<span class="dp">·</span>in<span class="dp">·</span>random<span class="dp">·</span>walks.<span class="dp">·</span>``&#x27;unpopular&#x27;``<span class="dp">·</span>will<span class="dp">·</span>place<span class="dp">·</span>a<span class="dp">·</span>higher</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">82 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>probability<span class="dp">·</span>on<span class="dp">·</span>unpopular<span class="dp">·</span>items,<span class="dp">·</span>which<span class="dp">·</span>may<span class="dp">·</span>increase<span class="dp">·</span>diversity<span class="dp">·</span>but<span class="dp">·</span>hurt<span class="dp">·</span>metrics.</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">83 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>This<span class="dp">·</span>only<span class="dp">·</span>applies<span class="dp">·</span>in<span class="dp">·</span>``&#x27;i2i&#x27;``<span class="dp">·</span>paradigm.</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">84 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>focus_start<span class="dp">·</span>:<span class="dp">·</span>bool,<span class="dp">·</span>default:<span class="dp">·</span>False</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">85 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Whether<span class="dp">·</span>to<span class="dp">·</span>keep<span class="dp">·</span>the<span class="dp">·</span>start<span class="dp">·</span>nodes<span class="dp">·</span>in<span class="dp">·</span>random<span class="dp">·</span>walk<span class="dp">·</span>sampling.<span class="dp">·</span>The<span class="dp">·</span>purpose<span class="dp">·</span>of<span class="dp">·</span>the</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">86 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>parameter<span class="dp">·</span>``start_node``<span class="dp">·</span>and<span class="dp">·</span>``focus_start``<span class="dp">·</span>is<span class="dp">·</span>oversampling<span class="dp">·</span>unpopular<span class="dp">·</span>items.</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">87 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>If<span class="dp">·</span>you<span class="dp">·</span>set<span class="dp">·</span>``start_node=&#x27;popular&#x27;``<span class="dp">·</span>and<span class="dp">·</span>``focus_start=True``,<span class="dp">·</span>unpopular<span class="dp">·</span>items<span class="dp">·</span>will</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">88 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>be<span class="dp">·</span>kept<span class="dp">·</span>in<span class="dp">·</span>positive<span class="dp">·</span>samples,<span class="dp">·</span>which<span class="dp">·</span>may<span class="dp">·</span>increase<span class="dp">·</span>diversity.</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">89 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>42</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">90 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Random<span class="dp">·</span>seed.</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">91 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>device<span class="dp">·</span>:<span class="dp">·</span>{&#x27;cpu&#x27;,<span class="dp">·</span>&#x27;cuda&#x27;},<span class="dp">·</span>default:<span class="dp">·</span>&#x27;cuda&#x27;</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">92 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Refer<span class="dp">·</span>to<span class="dp">·</span>`torch.device<span class="dp">·</span>&lt;https://pytorch.org/docs/stable/tensor_attributes.html#torch.device&gt;`_.</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">93 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>versionchanged::<span class="dp">·</span>1.0.0</td><td colspan="2"> </td></tr>
<tr class="error"><td colspan="4">
Max diff block lines reached; 20162/26215 bytes (76.91%) of diff not shown.
</td></tr></table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">141 B</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/algorithms/item2vec.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-item-vec.py"><span class="source">LibRecommender-1.1.0/libreco/algorithms/item2vec.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-item-vec.py">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">139 B</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/algorithms/item_cf.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-item_cf.py"><span class="source">LibRecommender-1.1.0/libreco/algorithms/item_cf.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-item_cf.py">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">576 B</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/algorithms/lightgcn.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-lightgcn.py"><span class="source">LibRecommender-1.1.0/libreco/algorithms/lightgcn.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-lightgcn.py">¶</a>
      </div>
      </div>
      <div class="comment multiline">Ordering differences only
Files 1% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 13 lines modified</td><td colspan="2">Offset 1, 13 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">1 </td><td class="diffpresent">&quot;&quot;&quot;Implementation<span class="dp">·</span>of<span class="dp">·</span>LightGCN.&quot;&quot;&quot;</td><td class="diffline">1 </td><td class="diffpresent">&quot;&quot;&quot;Implementation<span class="dp">·</span>of<span class="dp">·</span>LightGCN.&quot;&quot;&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>torch</td><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>torch</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">3 </td><td class="diffpresent">from<span class="dp">·</span>.torch_modules<span class="dp">·</span>import<span class="dp">·</span>LightGCNModel</td></tr>
<tr class="diffunmodified"><td class="diffline">3 </td><td class="diffpresent">from<span class="dp">·</span>..bases<span class="dp">·</span>import<span class="dp">·</span>EmbedBase,<span class="dp">·</span>ModelMeta</td><td class="diffline">4 </td><td class="diffpresent">from<span class="dp">·</span>..bases<span class="dp">·</span>import<span class="dp">·</span>EmbedBase,<span class="dp">·</span>ModelMeta</td></tr>
<tr class="diffunmodified"><td class="diffline">4 </td><td class="diffpresent">from<span class="dp">·</span>..torchops<span class="dp">·</span>import<span class="dp">·</span>device_config</td><td class="diffline">5 </td><td class="diffpresent">from<span class="dp">·</span>..torchops<span class="dp">·</span>import<span class="dp">·</span>device_config</td></tr>
<tr class="diffdeleted"><td class="diffline">5 </td><td class="diffpresent">from<span class="dp">·</span>.torch_modules<span class="dp">·</span>import<span class="dp">·</span>LightGCNModel</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">6 </td><td class="diffpresent">class<span class="dp">·</span>LightGCN(EmbedBase,<span class="dp">·</span>metaclass=ModelMeta,<span class="dp">·</span>backend=&quot;torch&quot;):</td><td class="diffline">6 </td><td class="diffpresent">class<span class="dp">·</span>LightGCN(EmbedBase,<span class="dp">·</span>metaclass=ModelMeta,<span class="dp">·</span>backend=&quot;torch&quot;):</td></tr>
<tr class="diffunmodified"><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;*LightGCN*<span class="dp">·</span>algorithm.</td><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;*LightGCN*<span class="dp">·</span>algorithm.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>CAUTION::</td><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>CAUTION::</td></tr>
<tr class="diffunmodified"><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>LightGCN<span class="dp">·</span>can<span class="dp">·</span>only<span class="dp">·</span>be<span class="dp">·</span>used<span class="dp">·</span>in<span class="dp">·</span>``ranking``<span class="dp">·</span>task.</td><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>LightGCN<span class="dp">·</span>can<span class="dp">·</span>only<span class="dp">·</span>be<span class="dp">·</span>used<span class="dp">·</span>in<span class="dp">·</span>``ranking``<span class="dp">·</span>task.</td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">14.7 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/algorithms/ncf.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-ncf.py"><span class="source">LibRecommender-1.1.0/libreco/algorithms/rnn4rec.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-ncf.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 20% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 26 lines modified</td><td colspan="2">Offset 1, 30 lines modified</td></tr>
<tr class="diffchanged"><td class="diffline">1 </td><td class="diffpresent">&quot;&quot;&quot;Implementation<span class="dp">·</span>of<span class="dp">·</span>N<del>CF</del>.&quot;&quot;&quot;</td><td class="diffline">1 </td><td class="diffpresent">&quot;&quot;&quot;Implementation<span class="dp">·</span>of<span class="dp">·</span><ins>RN</ins>N<ins>4Rec<span class="dp">·</span>mod</ins><ins>el</ins>.&quot;&quot;&quot;</td></tr>
<tr class="diffchanged"><td class="diffline">2 </td><td class="diffpresent">from<span class="dp">·</span>..bases<span class="dp">·</span>import<span class="dp">·</span>ModelMeta,<span class="dp">·</span><del>Tf</del>Base</td><td class="diffline">2 </td><td class="diffpresent">from<span class="dp">·</span>..bases<span class="dp">·</span>import<span class="dp">·</span>ModelMeta,<span class="dp">·</span><ins>SeqEmb</ins><ins>ed</ins>Base</td></tr>
<tr class="diffdeleted"><td class="diffline">3 </td><td class="diffpresent">from<span class="dp">·</span>..prediction<span class="dp">·</span>import<span class="dp">·</span>normalize_prediction</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">4 </td><td class="diffpresent">from<span class="dp">·</span>..tfops<span class="dp">·</span>import<span class="dp">·</span>d<del>ense_nn,<span class="dp">·</span>d</del>ropout_config,<span class="dp">·</span>reg_config,<span class="dp">·</span>tf,<span class="dp">·</span>tf_dense</td><td class="diffline">3 </td><td class="diffpresent">from<span class="dp">·</span>..tfops<span class="dp">·</span>import<span class="dp">·</span>dropout_config,<span class="dp">·</span>reg_config,<span class="dp">·</span>tf,<span class="dp">·</span>tf_dense<ins>,<span class="dp">·</span>tf_rnn</ins></td></tr>
<tr class="diffunmodified"><td class="diffline">5 </td><td class="diffpresent">from<span class="dp">·</span>..torchops<span class="dp">·</span>import<span class="dp">·</span>hidden_units_config</td><td class="diffline">4 </td><td class="diffpresent">from<span class="dp">·</span>..torchops<span class="dp">·</span>import<span class="dp">·</span>hidden_units_config</td></tr>
<tr class="diffchanged"><td class="diffline">6 </td><td class="diffpresent">from<span class="dp">·</span>..utils.<del>va</del><del>l</del>i<del>da</del><del>te</del><span class="dp">·</span>import<span class="dp">·</span><del>che</del>c<del>k_unkn</del>o<del>w</del>n<del>,<span class="dp">·</span>c</del><del>onve</del>r<del>t</del><del>_id</del></td><td class="diffline">5 </td><td class="diffpresent">from<span class="dp">·</span>..utils.<ins>m</ins>i<ins>sc</ins><span class="dp">·</span>import<span class="dp">·</span>co<ins>u</ins>n<ins>t_pa</ins>r<ins>ams</ins></td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">7 </td><td class="diffpresent">class<span class="dp">·</span>NCF(TfBase,<span class="dp">·</span>metaclass=ModelMeta):</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><del><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;*N</del>e<del>ur</del>a<del>l</del><span class="dp">·</span><del>Col</del>la<del>b</del>o<del>rative</del><span class="dp">·</span><del>Filt</del>e<del>r</del><del>ing*<span class="dp">·</span>alg</del>or<del>ithm.</del></td><td class="diffline">6 </td><td class="diffpresent"><ins>class</ins><span class="dp">·</span><ins>RNN4Re</ins><ins>c(SeqEmb</ins>e<ins>dB</ins>a<ins>se</ins><ins>,</ins><span class="dp">·</span><ins>me</ins><ins>tac</ins>la<ins>ss=</ins><ins>M</ins>o<ins>de</ins><ins>lMeta,</ins><span class="dp">·</span><ins>back</ins>e<ins>nd=&quot;tens</ins>or<ins>fl</ins><ins>ow&quot;):</ins></td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;*RNN4Rec*<span class="dp">·</span>algorithm.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>NOTE::</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>The<span class="dp">·</span>original<span class="dp">·</span>paper<span class="dp">·</span>used<span class="dp">·</span>GRU,<span class="dp">·</span>but<span class="dp">·</span>in<span class="dp">·</span>this<span class="dp">·</span>implementation<span class="dp">·</span>we<span class="dp">·</span>can<span class="dp">·</span>also<span class="dp">·</span>use<span class="dp">·</span>LSTM.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td></tr>
<tr class="diffunmodified"><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td></tr>
<tr class="diffunmodified"><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task<span class="dp">·</span>:<span class="dp">·</span>{&#x27;rating&#x27;,<span class="dp">·</span>&#x27;ranking&#x27;}</td><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task<span class="dp">·</span>:<span class="dp">·</span>{&#x27;rating&#x27;,<span class="dp">·</span>&#x27;ranking&#x27;}</td></tr>
<tr class="diffunmodified"><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Recommendation<span class="dp">·</span>task.<span class="dp">·</span>See<span class="dp">·</span>:ref:`Task`.</td><td class="diffline">13 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Recommendation<span class="dp">·</span>task.<span class="dp">·</span>See<span class="dp">·</span>:ref:`Task`.</td></tr>
<tr class="diffunmodified"><td class="diffline">13 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info<span class="dp">·</span>:<span class="dp">·</span>:class:`~libreco.data.DataInfo`<span class="dp">·</span>object</td><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info<span class="dp">·</span>:<span class="dp">·</span>:class:`~libreco.data.DataInfo`<span class="dp">·</span>object</td></tr>
<tr class="diffunmodified"><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Object<span class="dp">·</span>that<span class="dp">·</span>contains<span class="dp">·</span>useful<span class="dp">·</span>information<span class="dp">·</span>for<span class="dp">·</span>training<span class="dp">·</span>and<span class="dp">·</span>inference.</td><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Object<span class="dp">·</span>that<span class="dp">·</span>contains<span class="dp">·</span>useful<span class="dp">·</span>information<span class="dp">·</span>for<span class="dp">·</span>training<span class="dp">·</span>and<span class="dp">·</span>inference.</td></tr>
<tr class="diffchanged"><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>loss_type<span class="dp">·</span>:<span class="dp">·</span>{&#x27;cross_entropy&#x27;,<span class="dp">·</span>&#x27;focal&#x27;},<span class="dp">·</span>default:<span class="dp">·</span>&#x27;cross_entropy&#x27;</td><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>loss_type<span class="dp">·</span>:<span class="dp">·</span>{&#x27;cross_entropy&#x27;,<span class="dp">·</span>&#x27;focal&#x27;<ins>,<span class="dp">·</span>&#x27;bpr&#x27;</ins>},<span class="dp">·</span>default:<span class="dp">·</span>&#x27;cross_entropy&#x27;</td></tr>
<tr class="diffunmodified"><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Loss<span class="dp">·</span>for<span class="dp">·</span>model<span class="dp">·</span>training.</td><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Loss<span class="dp">·</span>for<span class="dp">·</span>model<span class="dp">·</span>training.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>rnn_type<span class="dp">·</span>:<span class="dp">·</span>{&#x27;lstm&#x27;,<span class="dp">·</span>&#x27;gru&#x27;},<span class="dp">·</span>default:<span class="dp">·</span>&#x27;gru&#x27;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>RNN<span class="dp">·</span>for<span class="dp">·</span>modeling.</td></tr>
<tr class="diffunmodified"><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>16</td><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>16</td></tr>
<tr class="diffunmodified"><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Vector<span class="dp">·</span>size<span class="dp">·</span>of<span class="dp">·</span>embeddings.</td><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Vector<span class="dp">·</span>size<span class="dp">·</span>of<span class="dp">·</span>embeddings.</td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_epochs:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>10</td><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_epochs:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>10</td></tr>
<tr class="diffunmodified"><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>epochs<span class="dp">·</span>for<span class="dp">·</span>training.</td><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>epochs<span class="dp">·</span>for<span class="dp">·</span>training.</td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr<span class="dp">·</span>:<span class="dp">·</span>float,<span class="dp">·</span>default<span class="dp">·</span>0.001</td><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr<span class="dp">·</span>:<span class="dp">·</span>float,<span class="dp">·</span>default<span class="dp">·</span>0.001</td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Learning<span class="dp">·</span>rate<span class="dp">·</span>for<span class="dp">·</span>training.</td><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Learning<span class="dp">·</span>rate<span class="dp">·</span>for<span class="dp">·</span>training.</td></tr>
<tr class="diffunmodified"><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr_decay<span class="dp">·</span>:<span class="dp">·</span>bool,<span class="dp">·</span>default:<span class="dp">·</span>False</td><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr_decay<span class="dp">·</span>:<span class="dp">·</span>bool,<span class="dp">·</span>default:<span class="dp">·</span>False</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 31, 216 lines modified</td><td colspan="2">Offset 35, 191 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>According<span class="dp">·</span>to<span class="dp">·</span>the<span class="dp">·</span>`official<span class="dp">·</span>comment<span class="dp">·</span>&lt;https://github.com/tensorflow/tensorflow/blob/v1.15.0/tensorflow/python/training/adam.py#L64&gt;`_,</td><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>According<span class="dp">·</span>to<span class="dp">·</span>the<span class="dp">·</span>`official<span class="dp">·</span>comment<span class="dp">·</span>&lt;https://github.com/tensorflow/tensorflow/blob/v1.15.0/tensorflow/python/training/adam.py#L64&gt;`_,</td></tr>
<tr class="diffunmodified"><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>default<span class="dp">·</span>value<span class="dp">·</span>of<span class="dp">·</span>`1e-8`<span class="dp">·</span>for<span class="dp">·</span>`epsilon`<span class="dp">·</span>is<span class="dp">·</span>generally<span class="dp">·</span>not<span class="dp">·</span>good,<span class="dp">·</span>so<span class="dp">·</span>here<span class="dp">·</span>we<span class="dp">·</span>choose<span class="dp">·</span>`1e-5`.</td><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>default<span class="dp">·</span>value<span class="dp">·</span>of<span class="dp">·</span>`1e-8`<span class="dp">·</span>for<span class="dp">·</span>`epsilon`<span class="dp">·</span>is<span class="dp">·</span>generally<span class="dp">·</span>not<span class="dp">·</span>good,<span class="dp">·</span>so<span class="dp">·</span>here<span class="dp">·</span>we<span class="dp">·</span>choose<span class="dp">·</span>`1e-5`.</td></tr>
<tr class="diffunmodified"><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Users<span class="dp">·</span>can<span class="dp">·</span>try<span class="dp">·</span>tuning<span class="dp">·</span>this<span class="dp">·</span>hyperparameter<span class="dp">·</span>if<span class="dp">·</span>the<span class="dp">·</span>training<span class="dp">·</span>is<span class="dp">·</span>unstable.</td><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Users<span class="dp">·</span>can<span class="dp">·</span>try<span class="dp">·</span>tuning<span class="dp">·</span>this<span class="dp">·</span>hyperparameter<span class="dp">·</span>if<span class="dp">·</span>the<span class="dp">·</span>training<span class="dp">·</span>is<span class="dp">·</span>unstable.</td></tr>
<tr class="diffunmodified"><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Regularization<span class="dp">·</span>parameter,<span class="dp">·</span>must<span class="dp">·</span>be<span class="dp">·</span>non-negative<span class="dp">·</span>or<span class="dp">·</span>None.</td><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Regularization<span class="dp">·</span>parameter,<span class="dp">·</span>must<span class="dp">·</span>be<span class="dp">·</span>non-negative<span class="dp">·</span>or<span class="dp">·</span>None.</td></tr>
<tr class="diffunmodified"><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>256</td><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>256</td></tr>
<tr class="diffunmodified"><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Batch<span class="dp">·</span>size<span class="dp">·</span>for<span class="dp">·</span>training.</td><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Batch<span class="dp">·</span>size<span class="dp">·</span>for<span class="dp">·</span>training.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sampler<span class="dp">·</span>:<span class="dp">·</span>{&#x27;random&#x27;,<span class="dp">·</span>&#x27;unconsumed&#x27;,<span class="dp">·</span>&#x27;popular&#x27;},<span class="dp">·</span>default:<span class="dp">·</span>&#x27;random&#x27;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Negative<span class="dp">·</span>sampling<span class="dp">·</span>strategy.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-<span class="dp">·</span>``&#x27;random&#x27;``<span class="dp">·</span>means<span class="dp">·</span>random<span class="dp">·</span>sampling.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-<span class="dp">·</span>``&#x27;unconsumed&#x27;``<span class="dp">·</span>samples<span class="dp">·</span>items<span class="dp">·</span>that<span class="dp">·</span>the<span class="dp">·</span>target<span class="dp">·</span>user<span class="dp">·</span>did<span class="dp">·</span>not<span class="dp">·</span>consume<span class="dp">·</span>before.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-<span class="dp">·</span>``&#x27;popular&#x27;``<span class="dp">·</span>has<span class="dp">·</span>a<span class="dp">·</span>higher<span class="dp">·</span>probability<span class="dp">·</span>to<span class="dp">·</span>sample<span class="dp">·</span>popular<span class="dp">·</span>items<span class="dp">·</span>as<span class="dp">·</span>negative<span class="dp">·</span>samples.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>versionadded::<span class="dp">·</span>1.1.0</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>1</td><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>1</td></tr>
<tr class="diffunmodified"><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>negative<span class="dp">·</span>samples<span class="dp">·</span>for<span class="dp">·</span>each<span class="dp">·</span>positive<span class="dp">·</span>sample,<span class="dp">·</span>only<span class="dp">·</span>used<span class="dp">·</span>in<span class="dp">·</span>`ranking`<span class="dp">·</span>task.</td><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>negative<span class="dp">·</span>samples<span class="dp">·</span>for<span class="dp">·</span>each<span class="dp">·</span>positive<span class="dp">·</span>sample,<span class="dp">·</span>only<span class="dp">·</span>used<span class="dp">·</span>in<span class="dp">·</span>`ranking`<span class="dp">·</span>task.</td></tr>
<tr class="diffdeleted"><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_bn<span class="dp">·</span>:<span class="dp">·</span>bool,<span class="dp">·</span>default:<span class="dp">·</span>True</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Whether<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>batch<span class="dp">·</span>normalization.</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_rate<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_rate<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Probability<span class="dp">·</span>of<span class="dp">·</span>an<span class="dp">·</span>element<span class="dp">·</span>to<span class="dp">·</span>be<span class="dp">·</span>zeroed.<span class="dp">·</span>If<span class="dp">·</span>it<span class="dp">·</span>is<span class="dp">·</span>None,<span class="dp">·</span>dropout<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>used.</td><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Probability<span class="dp">·</span>of<span class="dp">·</span>an<span class="dp">·</span>element<span class="dp">·</span>to<span class="dp">·</span>be<span class="dp">·</span>zeroed.<span class="dp">·</span>If<span class="dp">·</span>it<span class="dp">·</span>is<span class="dp">·</span>None,<span class="dp">·</span>dropout<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>used.</td></tr>
<tr class="diffchanged"><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hidden_units<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>list<span class="dp">·</span>of<span class="dp">·</span>int<span class="dp">·</span>or<span class="dp">·</span>tuple<span class="dp">·</span>of<span class="dp">·</span>(int,),<span class="dp">·</span>default:<span class="dp">·</span><del>(</del>1<del>28,<span class="dp">·</span></del>6<del>4,<span class="dp">·</span>32)</del></td><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hidden_units<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>list<span class="dp">·</span>of<span class="dp">·</span>int<span class="dp">·</span>or<span class="dp">·</span>tuple<span class="dp">·</span>of<span class="dp">·</span>(int,),<span class="dp">·</span>default:<span class="dp">·</span>16</td></tr>
<tr class="diffchanged"><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>layers<span class="dp">·</span>and<span class="dp">·</span>corresponding<span class="dp">·</span>layer<span class="dp">·</span>size<span class="dp">·</span>in<span class="dp">·</span><del>MLP</del>.</td><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>layers<span class="dp">·</span>and<span class="dp">·</span>corresponding<span class="dp">·</span>layer<span class="dp">·</span>size<span class="dp">·</span>in<span class="dp">·</span><ins>RNN</ins>.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>versionchanged::<span class="dp">·</span>1.0.0</td><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>versionchanged::<span class="dp">·</span>1.0.0</td></tr>
<tr class="diffunmodified"><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Accept<span class="dp">·</span>type<span class="dp">·</span>of<span class="dp">·</span>``int``,<span class="dp">·</span>``list``<span class="dp">·</span>or<span class="dp">·</span>``tuple``,<span class="dp">·</span>instead<span class="dp">·</span>of<span class="dp">·</span>``str``.</td><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Accept<span class="dp">·</span>type<span class="dp">·</span>of<span class="dp">·</span>``int``,<span class="dp">·</span>``list``<span class="dp">·</span>or<span class="dp">·</span>``tuple``,<span class="dp">·</span>instead<span class="dp">·</span>of<span class="dp">·</span>``str``.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_layer_norm<span class="dp">·</span>:<span class="dp">·</span>bool,<span class="dp">·</span>default:<span class="dp">·</span>False</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Whether<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>layer<span class="dp">·</span>normalization.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>recent_num<span class="dp">·</span>:<span class="dp">·</span>int<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>10</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>recent<span class="dp">·</span>items<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>in<span class="dp">·</span>user<span class="dp">·</span>behavior<span class="dp">·</span>sequence.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>random_num<span class="dp">·</span>:<span class="dp">·</span>int<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">61 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>random<span class="dp">·</span>sampled<span class="dp">·</span>items<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>in<span class="dp">·</span>user<span class="dp">·</span>behavior<span class="dp">·</span>sequence.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">62 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>If<span class="dp">·</span>`recent_num`<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None,<span class="dp">·</span>`random_num`<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>considered.</td></tr>
<tr class="diffunmodified"><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>42</td><td class="diffline">63 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>42</td></tr>
<tr class="diffunmodified"><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Random<span class="dp">·</span>seed.</td><td class="diffline">64 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Random<span class="dp">·</span>seed.</td></tr>
<tr class="diffunmodified"><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lower_upper_bound<span class="dp">·</span>:<span class="dp">·</span>tuple<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">65 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lower_upper_bound<span class="dp">·</span>:<span class="dp">·</span>tuple<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Lower<span class="dp">·</span>and<span class="dp">·</span>upper<span class="dp">·</span>score<span class="dp">·</span>bound<span class="dp">·</span>for<span class="dp">·</span>`rating`<span class="dp">·</span>task.</td><td class="diffline">66 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Lower<span class="dp">·</span>and<span class="dp">·</span>upper<span class="dp">·</span>score<span class="dp">·</span>bound<span class="dp">·</span>for<span class="dp">·</span>`rating`<span class="dp">·</span>task.</td></tr>
<tr class="diffunmodified"><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf_sess_config<span class="dp">·</span>:<span class="dp">·</span>dict<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">67 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf_sess_config<span class="dp">·</span>:<span class="dp">·</span>dict<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Optional<span class="dp">·</span>TensorFlow<span class="dp">·</span>session<span class="dp">·</span>config,<span class="dp">·</span>see<span class="dp">·</span>`ConfigProto<span class="dp">·</span>options</td><td class="diffline">68 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Optional<span class="dp">·</span>TensorFlow<span class="dp">·</span>session<span class="dp">·</span>config,<span class="dp">·</span>see<span class="dp">·</span>`ConfigProto<span class="dp">·</span>options</td></tr>
<tr class="diffunmodified"><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&lt;https://github.com/tensorflow/tensorflow/blob/v2.10.0/tensorflow/core/protobuf/config.proto#L431&gt;`_.</td><td class="diffline">69 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&lt;https://github.com/tensorflow/tensorflow/blob/v2.10.0/tensorflow/core/protobuf/config.proto#L431&gt;`_.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>References</td><td class="diffline">70 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>References</td></tr>
<tr class="diffunmodified"><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td><td class="diffline">71 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td></tr>
<tr class="diffchanged"><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>*<del>Xi</del>a<del>ngnan<span class="dp">·</span>He</del><span class="dp">·</span>et<span class="dp">·</span>al.*<span class="dp">·</span>`<del>N</del>e<del>ur</del>a<del>l</del><span class="dp">·</span><del>C</del>o<del>ll</del>a<del>b</del>or<del>a</del>t<del>iv</del>e<del><span class="dp">·</span>Fi</del>lt<del>ering</del></td><td class="diffline">72 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>*<ins>B</ins><ins>al</ins>a<ins>z</ins><ins>s<span class="dp">·</span>Hidasi</ins><span class="dp">·</span>et<span class="dp">·</span>al.*<span class="dp">·</span>`<ins>S</ins>e<ins>ssion</ins><ins>-b</ins>a<ins>se</ins><ins>d</ins><span class="dp">·</span><ins>Re</ins><ins>c</ins>o<ins>mme</ins><ins>nd</ins>a<ins>t</ins><ins>i</ins>o<ins>ns<span class="dp">·</span>with<span class="dp">·</span>Recur</ins>r<ins>e</ins><ins>n</ins>t<ins><span class="dp">·</span>N</ins>e<ins>ura</ins>l<ins><span class="dp">·</span>Ne</ins>t<ins>works</ins></td></tr>
<tr class="diffchanged"><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&lt;https://arxiv.org/pdf/1<del>708</del>.0<del>50</del>3<del>1</del>.pdf&gt;`_.</td><td class="diffline">73 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&lt;https://arxiv.org/pdf/1<ins>511</ins>.0<ins>69</ins>3<ins>9</ins>.pdf&gt;`_.</td></tr>
<tr class="diffunmodified"><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;</td><td class="diffline">74 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">75 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_variables<span class="dp">·</span>=<span class="dp">·</span>[&quot;item_weights&quot;,<span class="dp">·</span>&quot;item_biases&quot;,<span class="dp">·</span>&quot;input_embed&quot;]</td></tr>
<tr class="diffdeleted"><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_variables<span class="dp">·</span>=<span class="dp">·</span>[&quot;user_gmf&quot;,<span class="dp">·</span>&quot;user_mlp&quot;]</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">61 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_variables<span class="dp">·</span>=<span class="dp">·</span>[&quot;item_gmf&quot;,<span class="dp">·</span>&quot;item_mlp&quot;]</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">62 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>__init__(</td><td class="diffline">76 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>__init__(</td></tr>
<tr class="diffunmodified"><td class="diffline">63 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self,</td><td class="diffline">77 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self,</td></tr>
<tr class="diffunmodified"><td class="diffline">64 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task,</td><td class="diffline">78 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task,</td></tr>
<tr class="diffchanged"><td class="diffline">65 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info,</td><td class="diffline">79 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info<ins>=None</ins>,</td></tr>
<tr class="diffunmodified"><td class="diffline">66 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>loss_type=&quot;cross_entropy&quot;,</td><td class="diffline">80 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>loss_type=&quot;cross_entropy&quot;,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">81 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>rnn_type=&quot;gru&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">67 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size=16,</td><td class="diffline">82 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size=16,</td></tr>
<tr class="diffunmodified"><td class="diffline">68 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_epochs=20,</td><td class="diffline">83 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_epochs=20,</td></tr>
<tr class="diffchanged"><td class="diffline">69 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr=0.01,</td><td class="diffline">84 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr=0.0<ins>0</ins>1,</td></tr>
<tr class="diffunmodified"><td class="diffline">70 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr_decay=False,</td><td class="diffline">85 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr_decay=False,</td></tr>
<tr class="diffunmodified"><td class="diffline">71 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>epsilon=1e-5,</td><td class="diffline">86 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>epsilon=1e-5,</td></tr>
<tr class="diffunmodified"><td class="diffline">72 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg=None,</td><td class="diffline">87 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">73 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size=256,</td><td class="diffline">88 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size=256,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">89 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sampler=&quot;random&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">74 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg=1,</td><td class="diffline">90 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg=1,</td></tr>
<tr class="diffdeleted"><td class="diffline">75 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_bn=True,</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">76 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_rate=None,</td><td class="diffline">91 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_rate=None,</td></tr>
<tr class="diffchanged"><td class="diffline">77 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hidden_units=<del>(</del>1<del>28,<span class="dp">·</span></del>6<del>4,<span class="dp">·</span>32)</del>,</td><td class="diffline">92 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hidden_units=16,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">93 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_layer_norm=False,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">94 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>recent_num=10,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">95 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>random_num=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">78 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed=42,</td><td class="diffline">96 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed=42,</td></tr>
<tr class="diffunmodified"><td class="diffline">79 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lower_upper_bound=None,</td><td class="diffline">97 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lower_upper_bound=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">80 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf_sess_config=None,</td><td class="diffline">98 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf_sess_config=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">81 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td><td class="diffline">99 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td></tr>
<tr class="diffdeleted"><td class="diffline">82 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>super().__init__(task,<span class="dp">·</span>data_info,<span class="dp">·</span>lower_upper_bound,<span class="dp">·</span>tf_sess_config)</td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">100 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>super().__init__(</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">101 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">102 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">103 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">104 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>recent_num,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">105 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>random_num,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">106 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lower_upper_bound,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">107 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf_sess_config,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">108 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td class="diffline">83 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.all_args<span class="dp">·</span>=<span class="dp">·</span>locals()</td><td class="diffline">109 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.all_args<span class="dp">·</span>=<span class="dp">·</span>locals()</td></tr>
<tr class="diffunmodified"><td class="diffline">84 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.loss_type<span class="dp">·</span>=<span class="dp">·</span>loss_type</td><td class="diffline">110 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.loss_type<span class="dp">·</span>=<span class="dp">·</span>loss_type</td></tr>
<tr class="diffchanged"><td class="diffline">85 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.<del>em</del><del>bed</del>_<del>siz</del>e<span class="dp">·</span>=<span class="dp">·</span><del>emb</del>e<del>d_size</del></td><td class="diffline">111 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.<ins>rnn</ins>_<ins>typ</ins>e<span class="dp">·</span>=<span class="dp">·</span><ins>rnn_</ins><ins>typ</ins>e<ins>.l</ins><ins>ower()</ins></td></tr>
<tr class="diffunmodified"><td class="diffline">86 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.n_epochs<span class="dp">·</span>=<span class="dp">·</span>n_epochs</td><td class="diffline">112 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.n_epochs<span class="dp">·</span>=<span class="dp">·</span>n_epochs</td></tr>
<tr class="diffunmodified"><td class="diffline">87 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.lr<span class="dp">·</span>=<span class="dp">·</span>lr</td><td class="diffline">113 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.lr<span class="dp">·</span>=<span class="dp">·</span>lr</td></tr>
<tr class="diffunmodified"><td class="diffline">88 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.lr_decay<span class="dp">·</span>=<span class="dp">·</span>lr_decay</td><td class="diffline">114 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.lr_decay<span class="dp">·</span>=<span class="dp">·</span>lr_decay</td></tr>
<tr class="error"><td colspan="4">
Max diff block lines reached; 9295/14925 bytes (62.28%) of diff not shown.
</td></tr></table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">597 B</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/algorithms/ngcf.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-ngcf.py"><span class="source">LibRecommender-1.1.0/libreco/algorithms/ngcf.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-ngcf.py">¶</a>
      </div>
      </div>
      <div class="comment multiline">Ordering differences only
Files 1% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 13 lines modified</td><td colspan="2">Offset 1, 13 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">1 </td><td class="diffpresent">&quot;&quot;&quot;Implementation<span class="dp">·</span>of<span class="dp">·</span>NGCF.&quot;&quot;&quot;</td><td class="diffline">1 </td><td class="diffpresent">&quot;&quot;&quot;Implementation<span class="dp">·</span>of<span class="dp">·</span>NGCF.&quot;&quot;&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>torch</td><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>torch</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">3 </td><td class="diffpresent">from<span class="dp">·</span>.torch_modules<span class="dp">·</span>import<span class="dp">·</span>NGCFModel</td></tr>
<tr class="diffunmodified"><td class="diffline">3 </td><td class="diffpresent">from<span class="dp">·</span>..bases<span class="dp">·</span>import<span class="dp">·</span>EmbedBase,<span class="dp">·</span>ModelMeta</td><td class="diffline">4 </td><td class="diffpresent">from<span class="dp">·</span>..bases<span class="dp">·</span>import<span class="dp">·</span>EmbedBase,<span class="dp">·</span>ModelMeta</td></tr>
<tr class="diffunmodified"><td class="diffline">4 </td><td class="diffpresent">from<span class="dp">·</span>..torchops<span class="dp">·</span>import<span class="dp">·</span>device_config,<span class="dp">·</span>hidden_units_config</td><td class="diffline">5 </td><td class="diffpresent">from<span class="dp">·</span>..torchops<span class="dp">·</span>import<span class="dp">·</span>device_config,<span class="dp">·</span>hidden_units_config</td></tr>
<tr class="diffdeleted"><td class="diffline">5 </td><td class="diffpresent">from<span class="dp">·</span>.torch_modules<span class="dp">·</span>import<span class="dp">·</span>NGCFModel</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">6 </td><td class="diffpresent">class<span class="dp">·</span>NGCF(EmbedBase,<span class="dp">·</span>metaclass=ModelMeta,<span class="dp">·</span>backend=&quot;torch&quot;):</td><td class="diffline">6 </td><td class="diffpresent">class<span class="dp">·</span>NGCF(EmbedBase,<span class="dp">·</span>metaclass=ModelMeta,<span class="dp">·</span>backend=&quot;torch&quot;):</td></tr>
<tr class="diffunmodified"><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;*Neural<span class="dp">·</span>Graph<span class="dp">·</span>Collaborative<span class="dp">·</span>Filtering*<span class="dp">·</span>algorithm.</td><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;*Neural<span class="dp">·</span>Graph<span class="dp">·</span>Collaborative<span class="dp">·</span>Filtering*<span class="dp">·</span>algorithm.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>WARNING::</td><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>WARNING::</td></tr>
<tr class="diffunmodified"><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>NGCF<span class="dp">·</span>can<span class="dp">·</span>only<span class="dp">·</span>be<span class="dp">·</span>used<span class="dp">·</span>in<span class="dp">·</span>``ranking``<span class="dp">·</span>task.</td><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>NGCF<span class="dp">·</span>can<span class="dp">·</span>only<span class="dp">·</span>be<span class="dp">·</span>used<span class="dp">·</span>in<span class="dp">·</span>``ranking``<span class="dp">·</span>task.</td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">2.45 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/algorithms/pinsage_dgl.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-pinsage_dgl.py"><span class="source">LibRecommender-1.1.0/libreco/algorithms/pinsage_dgl.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-pinsage_dgl.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 6% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 18 lines modified</td><td colspan="2">Offset 1, 17 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">1 </td><td class="diffpresent">&quot;&quot;&quot;Implementation<span class="dp">·</span>of<span class="dp">·</span>PinSageDGL.&quot;&quot;&quot;</td><td class="diffline">1 </td><td class="diffpresent">&quot;&quot;&quot;Implementation<span class="dp">·</span>of<span class="dp">·</span>PinSageDGL.&quot;&quot;&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>importlib</td><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>importlib</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">3 </td><td class="diffpresent">from<span class="dp">·</span>..bases<span class="dp">·</span>import<span class="dp">·</span>ModelMeta</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">4 </td><td class="diffpresent">from<span class="dp">·</span>..graph<span class="dp">·</span>import<span class="dp">·</span>check_dgl</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">5 </td><td class="diffpresent">from<span class="dp">·</span>.graphsage_dgl<span class="dp">·</span>import<span class="dp">·</span>GraphSageDGL</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">6 </td><td class="diffpresent">from<span class="dp">·</span>.torch_modules<span class="dp">·</span>import<span class="dp">·</span>PinSageDGLModel</td><td class="diffline">3 </td><td class="diffpresent">from<span class="dp">·</span>.torch_modules<span class="dp">·</span>import<span class="dp">·</span>PinSageDGLModel</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">4 </td><td class="diffpresent">from<span class="dp">·</span>..bases<span class="dp">·</span>import<span class="dp">·</span>ModelMeta,<span class="dp">·</span>SageBase</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">5 </td><td class="diffpresent">from<span class="dp">·</span>..graph<span class="dp">·</span>import<span class="dp">·</span>NeighborWalkerDGL,<span class="dp">·</span>build_u2i_hetero_graph,<span class="dp">·</span>check_dgl</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">7 </td><td class="diffpresent">@check_dgl</td><td class="diffline">6 </td><td class="diffpresent">@check_dgl</td></tr>
<tr class="diffchanged"><td class="diffline">8 </td><td class="diffpresent">class<span class="dp">·</span>PinSageDGL(<del>Graph</del>Sage<del>DGL</del>,<span class="dp">·</span>metaclass=ModelMeta,<span class="dp">·</span>backend=&quot;torch&quot;):</td><td class="diffline">7 </td><td class="diffpresent">class<span class="dp">·</span>PinSageDGL(Sage<ins>B</ins><ins>ase</ins>,<span class="dp">·</span>metaclass=ModelMeta,<span class="dp">·</span>backend=&quot;torch&quot;):</td></tr>
<tr class="diffunmodified"><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;*PinSageDGL*<span class="dp">·</span>algorithm.</td><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;*PinSageDGL*<span class="dp">·</span>algorithm.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>NOTE::</td><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>NOTE::</td></tr>
<tr class="diffunmodified"><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>This<span class="dp">·</span>algorithm<span class="dp">·</span>is<span class="dp">·</span>implemented<span class="dp">·</span>in<span class="dp">·</span>`DGL<span class="dp">·</span>&lt;https://github.com/dmlc/dgl&gt;`_.</td><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>This<span class="dp">·</span>algorithm<span class="dp">·</span>is<span class="dp">·</span>implemented<span class="dp">·</span>in<span class="dp">·</span>`DGL<span class="dp">·</span>&lt;https://github.com/dmlc/dgl&gt;`_.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>CAUTION::</td><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>CAUTION::</td></tr>
<tr class="diffunmodified"><td class="diffline">13 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>PinSageDGL<span class="dp">·</span>can<span class="dp">·</span>only<span class="dp">·</span>be<span class="dp">·</span>used<span class="dp">·</span>in<span class="dp">·</span>``ranking``<span class="dp">·</span>task.</td><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>PinSageDGL<span class="dp">·</span>can<span class="dp">·</span>only<span class="dp">·</span>be<span class="dp">·</span>used<span class="dp">·</span>in<span class="dp">·</span>``ranking``<span class="dp">·</span>task.</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 153, 15 lines modified</td><td colspan="2">Offset 152, 14 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">153 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lower_upper_bound=None,</td><td class="diffline">152 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lower_upper_bound=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">154 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td><td class="diffline">153 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td></tr>
<tr class="diffunmodified"><td class="diffline">155 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>super().__init__(</td><td class="diffline">154 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>super().__init__(</td></tr>
<tr class="diffunmodified"><td class="diffline">156 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task,</td><td class="diffline">155 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task,</td></tr>
<tr class="diffunmodified"><td class="diffline">157 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info,</td><td class="diffline">156 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info,</td></tr>
<tr class="diffunmodified"><td class="diffline">158 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>loss_type,</td><td class="diffline">157 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>loss_type,</td></tr>
<tr class="diffunmodified"><td class="diffline">159 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>paradigm,</td><td class="diffline">158 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>paradigm,</td></tr>
<tr class="diffdeleted"><td class="diffline">160 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;mean&quot;,</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">161 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size,</td><td class="diffline">159 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size,</td></tr>
<tr class="diffunmodified"><td class="diffline">162 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_epochs,</td><td class="diffline">160 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_epochs,</td></tr>
<tr class="diffunmodified"><td class="diffline">163 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr,</td><td class="diffline">161 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr,</td></tr>
<tr class="diffunmodified"><td class="diffline">164 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr_decay,</td><td class="diffline">162 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr_decay,</td></tr>
<tr class="diffunmodified"><td class="diffline">165 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>epsilon,</td><td class="diffline">163 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>epsilon,</td></tr>
<tr class="diffunmodified"><td class="diffline">166 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>amsgrad,</td><td class="diffline">164 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>amsgrad,</td></tr>
<tr class="diffunmodified"><td class="diffline">167 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg,</td><td class="diffline">165 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg,</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 178, 33 lines modified</td><td colspan="2">Offset 176, 24 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">178 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>start_node,</td><td class="diffline">176 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>start_node,</td></tr>
<tr class="diffunmodified"><td class="diffline">179 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>focus_start,</td><td class="diffline">177 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>focus_start,</td></tr>
<tr class="diffunmodified"><td class="diffline">180 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed,</td><td class="diffline">178 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed,</td></tr>
<tr class="diffunmodified"><td class="diffline">181 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>device,</td><td class="diffline">179 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>device,</td></tr>
<tr class="diffunmodified"><td class="diffline">182 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lower_upper_bound,</td><td class="diffline">180 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lower_upper_bound,</td></tr>
<tr class="diffunmodified"><td class="diffline">183 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">181 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td class="diffline">184 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.all_args<span class="dp">·</span>=<span class="dp">·</span>locals()</td><td class="diffline">182 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.all_args<span class="dp">·</span>=<span class="dp">·</span>locals()</td></tr>
<tr class="diffdeleted"><td class="diffline">185 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.num_walks<span class="dp">·</span>=<span class="dp">·</span>num_walks</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">186 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.neighbor_walk_len<span class="dp">·</span>=<span class="dp">·</span>neighbor_walk_len</td><td class="diffline">183 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.neighbor_walk_len<span class="dp">·</span>=<span class="dp">·</span>neighbor_walk_len</td></tr>
<tr class="diffunmodified"><td class="diffline">187 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.termination_prob<span class="dp">·</span>=<span class="dp">·</span>termination_prob</td><td class="diffline">184 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.termination_prob<span class="dp">·</span>=<span class="dp">·</span>termination_prob</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">188 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>build_model(self):</td><td class="diffline">185 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>build_model(self):</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">186 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self._dgl.seed(self.seed)</td></tr>
<tr class="diffchanged"><td class="diffline">189 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.hetero_g<span class="dp">·</span>=<span class="dp">·</span><del>self.b</del>u<del>i</del><del>ld</del>_hetero_graph(<del>)</del></td><td class="diffline">187 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.hetero_g<span class="dp">·</span>=<span class="dp">·</span><ins>build_</ins>u<ins>2i</ins>_hetero_graph(</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">188 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.n_users,<span class="dp">·</span>self.n_items,<span class="dp">·</span>self.user_consumed</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">189 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">190 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.neighbor_walker<span class="dp">·</span>=<span class="dp">·</span>NeighborWalkerDGL(self,<span class="dp">·</span>self.data_info)</td></tr>
<tr class="diffunmodified"><td class="diffline">190 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.torch_model<span class="dp">·</span>=<span class="dp">·</span>PinSageDGLModel(</td><td class="diffline">191 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.torch_model<span class="dp">·</span>=<span class="dp">·</span>PinSageDGLModel(</td></tr>
<tr class="diffunmodified"><td class="diffline">191 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.paradigm,</td><td class="diffline">192 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.paradigm,</td></tr>
<tr class="diffunmodified"><td class="diffline">192 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.data_info,</td><td class="diffline">193 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.data_info,</td></tr>
<tr class="diffunmodified"><td class="diffline">193 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.embed_size,</td><td class="diffline">194 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.embed_size,</td></tr>
<tr class="diffunmodified"><td class="diffline">194 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.batch_size,</td><td class="diffline">195 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.batch_size,</td></tr>
<tr class="diffunmodified"><td class="diffline">195 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.num_layers,</td><td class="diffline">196 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.num_layers,</td></tr>
<tr class="diffunmodified"><td class="diffline">196 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.dropout_rate,</td><td class="diffline">197 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.dropout_rate,</td></tr>
<tr class="diffunmodified"><td class="diffline">197 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>).to(self.device)</td><td class="diffline">198 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>).to(self.device)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">198 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>sample_frontier(self,<span class="dp">·</span>nodes):</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">199 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sampler<span class="dp">·</span>=<span class="dp">·</span>self._dgl.sampling.PinSAGESampler(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">200 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.hetero_g,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">201 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>ntype=&quot;item&quot;,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">202 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>other_type=&quot;user&quot;,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">203 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_traversals=self.neighbor_walk_len,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">204 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>termination_prob=self.termination_prob,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">205 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_random_walks=self.num_walks,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">206 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neighbors=self.num_neighbors,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">207 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">208 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>sampler(nodes)</td><td colspan="2"> </td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">16.4 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/algorithms/rnn4rec.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-rnn-rec.py"><span class="source">LibRecommender-1.1.0/libreco/algorithms/youtube_ranking.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-rnn-rec.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 20% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 34 lines modified</td><td colspan="2">Offset 1, 52 lines modified</td></tr>
<tr class="diffchanged"><td class="diffline">1 </td><td class="diffpresent">&quot;&quot;&quot;Implementation<span class="dp">·</span>of<span class="dp">·</span><del>RNN4R</del>e<del>c<span class="dp">·</span>model</del>.&quot;&quot;&quot;</td><td class="diffline">1 </td><td class="diffpresent">&quot;&quot;&quot;Implementation<span class="dp">·</span>of<span class="dp">·</span><ins>Y</ins><ins>ouTub</ins>e<ins>Ranking</ins>.&quot;&quot;&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">3 </td><td class="diffpresent">from<span class="dp">·</span>..bases<span class="dp">·</span>import<span class="dp">·</span><del>Emb</del>e<del>dBase</del>,<span class="dp">·</span><del>M</del><del>odelM</del>e<del>ta</del></td><td class="diffline">3 </td><td class="diffpresent">from<span class="dp">·</span>..bases<span class="dp">·</span>import<span class="dp">·</span><ins>Mod</ins>e<ins>lMeta</ins>,<span class="dp">·</span><ins>TfBas</ins>e</td></tr>
<tr class="diffchanged"><td class="diffline">4 </td><td class="diffpresent">from<span class="dp">·</span>..<del>d</del>at<del>a</del>.sequence<span class="dp">·</span>import<span class="dp">·</span>get_user_last_interacted</td><td class="diffline">4 </td><td class="diffpresent">from<span class="dp">·</span>..<ins>b</ins>at<ins>c</ins><ins>h</ins>.sequence<span class="dp">·</span>import<span class="dp">·</span>get_user_last_interacted</td></tr>
<tr class="diffchanged"><td class="diffline">5 </td><td class="diffpresent">from<span class="dp">·</span>..<del>t</del>f<del>ops<span class="dp">·</span>imp</del><del>or</del>t<del><span class="dp">·</span></del><del>d</del>r<del>opo</del>ut<del>_config,</del><span class="dp">·</span><del>re</del><del>g_c</del>o<del>nfi</del><del>g,</del><span class="dp">·</span><del>sess</del>_<del>co</del><del>nfig,<span class="dp">·</span>t</del>f<del>,<span class="dp">·</span></del><del>tf_</del>d<del>e</del><del>n</del>s<del>e,<span class="dp">·</span>tf_</del><del>rnn</del></td><td class="diffline">5 </td><td class="diffpresent">from<span class="dp">·</span>..f<ins>ea</ins>t<ins>u</ins>r<ins>e.m</ins>u<ins>l</ins>t<ins>i_sparse</ins><span class="dp">·</span><ins>imp</ins>o<ins>rt</ins><span class="dp">·</span><ins>true</ins>_<ins>sparse_</ins>f<ins>iel</ins>d<ins>_</ins>s<ins>ize</ins></td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">6 </td><td class="diffpresent">from<span class="dp">·</span>..tfops<span class="dp">·</span>import<span class="dp">·</span>(</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_nn,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_config,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>multi_sparse_combine_embedding,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg_config,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf_dense,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">13 </td><td class="diffpresent">)</td></tr>
<tr class="diffunmodified"><td class="diffline">6 </td><td class="diffpresent">from<span class="dp">·</span>..torchops<span class="dp">·</span>import<span class="dp">·</span>hidden_units_config</td><td class="diffline">14 </td><td class="diffpresent">from<span class="dp">·</span>..torchops<span class="dp">·</span>import<span class="dp">·</span>hidden_units_config</td></tr>
<tr class="diffunmodified"><td class="diffline">7 </td><td class="diffpresent">from<span class="dp">·</span>..utils.misc<span class="dp">·</span>import<span class="dp">·</span>count_params</td><td class="diffline">15 </td><td class="diffpresent">from<span class="dp">·</span>..utils.misc<span class="dp">·</span>import<span class="dp">·</span>count_params</td></tr>
<tr class="diffchanged"><td class="diffline">8 </td><td class="diffpresent">from<span class="dp">·</span>..utils.validate<span class="dp">·</span>import<span class="dp">·</span><del>check_seq_mod</del><del>e</del></td><td class="diffline">16 </td><td class="diffpresent">from<span class="dp">·</span>..utils.validate<span class="dp">·</span>import<span class="dp">·</span><ins>(</ins></td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_dense_values,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_multi_sparse,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_seq_mode,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_sparse_indices,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_field_size,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_feat_size,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_field_size,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">24 </td><td class="diffpresent">)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">9 </td><td class="diffpresent">class<span class="dp">·</span>RNN4Rec(EmbedBase,<span class="dp">·</span>metaclass=ModelMeta,<span class="dp">·</span>backend=&quot;tensorflow&quot;):</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><del><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;*</del>R<del>NN4R</del>e<del>c*<span class="dp">·</span></del>al<del>g</del>o<del>ri</del>t<del>hm.</del></td><td class="diffline">25 </td><td class="diffpresent"><ins>class</ins><span class="dp">·</span><ins>YouTube</ins>R<ins>anking(T</ins><ins>fBas</ins>e<ins>,<span class="dp">·</span></ins><ins>met</ins>a<ins>c</ins>l<ins>ass=</ins><ins>M</ins>o<ins>del</ins><ins>Me</ins>t<ins>a):</ins></td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;*YouTubeRanking*<span class="dp">·</span>algorithm.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>NOTE::</td><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>NOTE::</td></tr>
<tr class="diffchanged"><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>The<span class="dp">·</span>ori<del>ginal<span class="dp">·</span></del>p<del>a</del><del>p</del>e<del>r<span class="dp">·</span>us</del>ed<del><span class="dp">·</span>GRU,</del><span class="dp">·</span><del>bu</del><del>t<span class="dp">·</span></del>in<del><span class="dp">·</span>th</del><del>is</del><span class="dp">·</span><del>impl</del>e<del>me</del>n<del>tati</del>o<del>n<span class="dp">·</span>w</del>e<span class="dp">·</span><del>c</del>an<del><span class="dp">·</span>also</del><del><span class="dp">·</span>use</del><span class="dp">·</span><del>LSTM.</del></td><td class="diffline">28 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>The<span class="dp">·</span><ins>alg</ins>ori<ins>thm<span class="dp">·</span>im</ins>p<ins>l</ins>e<ins>ment</ins>ed<span class="dp">·</span><ins>ma</ins>in<ins>ly</ins><span class="dp">·</span><ins>corr</ins>e<ins>s</ins><ins>po</ins>n<ins>ds<span class="dp">·</span>t</ins>o<ins><span class="dp">·</span>th</ins>e<span class="dp">·</span><ins>r</ins>an<ins>king</ins><span class="dp">·</span><ins>phase</ins></td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>based<span class="dp">·</span>on<span class="dp">·</span>the<span class="dp">·</span>original<span class="dp">·</span>paper.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>WARNING::</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>YouTubeRanking<span class="dp">·</span>can<span class="dp">·</span>only<span class="dp">·</span>be<span class="dp">·</span>used<span class="dp">·</span>in<span class="dp">·</span>`ranking`<span class="dp">·</span>task.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">13 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td></tr>
<tr class="diffunmodified"><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td></tr>
<tr class="diffchanged"><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task<span class="dp">·</span>:<span class="dp">·</span>{&#x27;ra<del>ting&#x27;,<span class="dp">·</span>&#x27;ra</del>nking&#x27;}</td><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task<span class="dp">·</span>:<span class="dp">·</span>{&#x27;ranking&#x27;}</td></tr>
<tr class="diffunmodified"><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Recommendation<span class="dp">·</span>task.<span class="dp">·</span>See<span class="dp">·</span>:ref:`Task`.</td><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Recommendation<span class="dp">·</span>task.<span class="dp">·</span>See<span class="dp">·</span>:ref:`Task`.</td></tr>
<tr class="diffunmodified"><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info<span class="dp">·</span>:<span class="dp">·</span>:class:`~libreco.data.DataInfo`<span class="dp">·</span>object</td><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info<span class="dp">·</span>:<span class="dp">·</span>:class:`~libreco.data.DataInfo`<span class="dp">·</span>object</td></tr>
<tr class="diffunmodified"><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Object<span class="dp">·</span>that<span class="dp">·</span>contains<span class="dp">·</span>useful<span class="dp">·</span>information<span class="dp">·</span>for<span class="dp">·</span>training<span class="dp">·</span>and<span class="dp">·</span>inference.</td><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Object<span class="dp">·</span>that<span class="dp">·</span>contains<span class="dp">·</span>useful<span class="dp">·</span>information<span class="dp">·</span>for<span class="dp">·</span>training<span class="dp">·</span>and<span class="dp">·</span>inference.</td></tr>
<tr class="diffchanged"><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>loss_type<span class="dp">·</span>:<span class="dp">·</span>{&#x27;cross_entropy&#x27;,<span class="dp">·</span>&#x27;focal&#x27;<del>,<span class="dp">·</span>&#x27;bpr&#x27;</del>},<span class="dp">·</span>default:<span class="dp">·</span>&#x27;cross_entropy&#x27;</td><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>loss_type<span class="dp">·</span>:<span class="dp">·</span>{&#x27;cross_entropy&#x27;,<span class="dp">·</span>&#x27;focal&#x27;},<span class="dp">·</span>default:<span class="dp">·</span>&#x27;cross_entropy&#x27;</td></tr>
<tr class="diffunmodified"><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Loss<span class="dp">·</span>for<span class="dp">·</span>model<span class="dp">·</span>training.</td><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Loss<span class="dp">·</span>for<span class="dp">·</span>model<span class="dp">·</span>training.</td></tr>
<tr class="diffdeleted"><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>rnn_type<span class="dp">·</span>:<span class="dp">·</span>{&#x27;lstm&#x27;,<span class="dp">·</span>&#x27;gru&#x27;},<span class="dp">·</span>default:<span class="dp">·</span>&#x27;gru&#x27;</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>RNN<span class="dp">·</span>for<span class="dp">·</span>modeling.</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>16</td><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>16</td></tr>
<tr class="diffunmodified"><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Vector<span class="dp">·</span>size<span class="dp">·</span>of<span class="dp">·</span>embeddings.</td><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Vector<span class="dp">·</span>size<span class="dp">·</span>of<span class="dp">·</span>embeddings.</td></tr>
<tr class="diffunmodified"><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_epochs:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>10</td><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_epochs:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>10</td></tr>
<tr class="diffunmodified"><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>epochs<span class="dp">·</span>for<span class="dp">·</span>training.</td><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>epochs<span class="dp">·</span>for<span class="dp">·</span>training.</td></tr>
<tr class="diffunmodified"><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr<span class="dp">·</span>:<span class="dp">·</span>float,<span class="dp">·</span>default<span class="dp">·</span>0.001</td><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr<span class="dp">·</span>:<span class="dp">·</span>float,<span class="dp">·</span>default<span class="dp">·</span>0.001</td></tr>
<tr class="diffunmodified"><td class="diffline">28 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Learning<span class="dp">·</span>rate<span class="dp">·</span>for<span class="dp">·</span>training.</td><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Learning<span class="dp">·</span>rate<span class="dp">·</span>for<span class="dp">·</span>training.</td></tr>
<tr class="diffunmodified"><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr_decay<span class="dp">·</span>:<span class="dp">·</span>bool,<span class="dp">·</span>default:<span class="dp">·</span>False</td><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr_decay<span class="dp">·</span>:<span class="dp">·</span>bool,<span class="dp">·</span>default:<span class="dp">·</span>False</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 39, 195 lines modified</td><td colspan="2">Offset 57, 235 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>According<span class="dp">·</span>to<span class="dp">·</span>the<span class="dp">·</span>`official<span class="dp">·</span>comment<span class="dp">·</span>&lt;https://github.com/tensorflow/tensorflow/blob/v1.15.0/tensorflow/python/training/adam.py#L64&gt;`_,</td><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>According<span class="dp">·</span>to<span class="dp">·</span>the<span class="dp">·</span>`official<span class="dp">·</span>comment<span class="dp">·</span>&lt;https://github.com/tensorflow/tensorflow/blob/v1.15.0/tensorflow/python/training/adam.py#L64&gt;`_,</td></tr>
<tr class="diffunmodified"><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>default<span class="dp">·</span>value<span class="dp">·</span>of<span class="dp">·</span>`1e-8`<span class="dp">·</span>for<span class="dp">·</span>`epsilon`<span class="dp">·</span>is<span class="dp">·</span>generally<span class="dp">·</span>not<span class="dp">·</span>good,<span class="dp">·</span>so<span class="dp">·</span>here<span class="dp">·</span>we<span class="dp">·</span>choose<span class="dp">·</span>`1e-5`.</td><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>default<span class="dp">·</span>value<span class="dp">·</span>of<span class="dp">·</span>`1e-8`<span class="dp">·</span>for<span class="dp">·</span>`epsilon`<span class="dp">·</span>is<span class="dp">·</span>generally<span class="dp">·</span>not<span class="dp">·</span>good,<span class="dp">·</span>so<span class="dp">·</span>here<span class="dp">·</span>we<span class="dp">·</span>choose<span class="dp">·</span>`1e-5`.</td></tr>
<tr class="diffunmodified"><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Users<span class="dp">·</span>can<span class="dp">·</span>try<span class="dp">·</span>tuning<span class="dp">·</span>this<span class="dp">·</span>hyperparameter<span class="dp">·</span>if<span class="dp">·</span>the<span class="dp">·</span>training<span class="dp">·</span>is<span class="dp">·</span>unstable.</td><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Users<span class="dp">·</span>can<span class="dp">·</span>try<span class="dp">·</span>tuning<span class="dp">·</span>this<span class="dp">·</span>hyperparameter<span class="dp">·</span>if<span class="dp">·</span>the<span class="dp">·</span>training<span class="dp">·</span>is<span class="dp">·</span>unstable.</td></tr>
<tr class="diffunmodified"><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Regularization<span class="dp">·</span>parameter,<span class="dp">·</span>must<span class="dp">·</span>be<span class="dp">·</span>non-negative<span class="dp">·</span>or<span class="dp">·</span>None.</td><td class="diffline">61 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Regularization<span class="dp">·</span>parameter,<span class="dp">·</span>must<span class="dp">·</span>be<span class="dp">·</span>non-negative<span class="dp">·</span>or<span class="dp">·</span>None.</td></tr>
<tr class="diffunmodified"><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>256</td><td class="diffline">62 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>256</td></tr>
<tr class="diffunmodified"><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Batch<span class="dp">·</span>size<span class="dp">·</span>for<span class="dp">·</span>training.</td><td class="diffline">63 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Batch<span class="dp">·</span>size<span class="dp">·</span>for<span class="dp">·</span>training.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">64 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sampler<span class="dp">·</span>:<span class="dp">·</span>{&#x27;random&#x27;,<span class="dp">·</span>&#x27;unconsumed&#x27;,<span class="dp">·</span>&#x27;popular&#x27;},<span class="dp">·</span>default:<span class="dp">·</span>&#x27;random&#x27;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">65 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Negative<span class="dp">·</span>sampling<span class="dp">·</span>strategy.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">66 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-<span class="dp">·</span>``&#x27;random&#x27;``<span class="dp">·</span>means<span class="dp">·</span>random<span class="dp">·</span>sampling.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">67 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-<span class="dp">·</span>``&#x27;unconsumed&#x27;``<span class="dp">·</span>samples<span class="dp">·</span>items<span class="dp">·</span>that<span class="dp">·</span>the<span class="dp">·</span>target<span class="dp">·</span>user<span class="dp">·</span>did<span class="dp">·</span>not<span class="dp">·</span>consume<span class="dp">·</span>before.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">68 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-<span class="dp">·</span>``&#x27;popular&#x27;``<span class="dp">·</span>has<span class="dp">·</span>a<span class="dp">·</span>higher<span class="dp">·</span>probability<span class="dp">·</span>to<span class="dp">·</span>sample<span class="dp">·</span>popular<span class="dp">·</span>items<span class="dp">·</span>as<span class="dp">·</span>negative<span class="dp">·</span>samples.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">69 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>versionadded::<span class="dp">·</span>1.1.0</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>1</td><td class="diffline">70 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>1</td></tr>
<tr class="diffunmodified"><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>negative<span class="dp">·</span>samples<span class="dp">·</span>for<span class="dp">·</span>each<span class="dp">·</span>positive<span class="dp">·</span>sample,<span class="dp">·</span>only<span class="dp">·</span>used<span class="dp">·</span>in<span class="dp">·</span>`ranking`<span class="dp">·</span>task.</td><td class="diffline">71 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>negative<span class="dp">·</span>samples<span class="dp">·</span>for<span class="dp">·</span>each<span class="dp">·</span>positive<span class="dp">·</span>sample,<span class="dp">·</span>only<span class="dp">·</span>used<span class="dp">·</span>in<span class="dp">·</span>`ranking`<span class="dp">·</span>task.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">72 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_bn<span class="dp">·</span>:<span class="dp">·</span>bool,<span class="dp">·</span>default:<span class="dp">·</span>True</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">73 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Whether<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>batch<span class="dp">·</span>normalization.</td></tr>
<tr class="diffunmodified"><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_rate<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">74 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_rate<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Probability<span class="dp">·</span>of<span class="dp">·</span>an<span class="dp">·</span>element<span class="dp">·</span>to<span class="dp">·</span>be<span class="dp">·</span>zeroed.<span class="dp">·</span>If<span class="dp">·</span>it<span class="dp">·</span>is<span class="dp">·</span>None,<span class="dp">·</span>dropout<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>used.</td><td class="diffline">75 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Probability<span class="dp">·</span>of<span class="dp">·</span>an<span class="dp">·</span>element<span class="dp">·</span>to<span class="dp">·</span>be<span class="dp">·</span>zeroed.<span class="dp">·</span>If<span class="dp">·</span>it<span class="dp">·</span>is<span class="dp">·</span>None,<span class="dp">·</span>dropout<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>used.</td></tr>
<tr class="diffchanged"><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hidden_units<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>list<span class="dp">·</span>of<span class="dp">·</span>int<span class="dp">·</span>or<span class="dp">·</span>tuple<span class="dp">·</span>of<span class="dp">·</span>(int,),<span class="dp">·</span>default:<span class="dp">·</span>16</td><td class="diffline">76 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hidden_units<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>list<span class="dp">·</span>of<span class="dp">·</span>int<span class="dp">·</span>or<span class="dp">·</span>tuple<span class="dp">·</span>of<span class="dp">·</span>(int,),<span class="dp">·</span>default:<span class="dp">·</span><ins>(</ins>1<ins>28,<span class="dp">·</span></ins>6<ins>4,<span class="dp">·</span>32)</ins></td></tr>
<tr class="diffchanged"><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>layers<span class="dp">·</span>and<span class="dp">·</span>corresponding<span class="dp">·</span>layer<span class="dp">·</span>size<span class="dp">·</span>in<span class="dp">·</span><del>RNN</del>.</td><td class="diffline">77 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>layers<span class="dp">·</span>and<span class="dp">·</span>corresponding<span class="dp">·</span>layer<span class="dp">·</span>size<span class="dp">·</span>in<span class="dp">·</span><ins>MLP</ins>.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>versionchanged::<span class="dp">·</span>1.0.0</td><td class="diffline">78 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>versionchanged::<span class="dp">·</span>1.0.0</td></tr>
<tr class="diffunmodified"><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Accept<span class="dp">·</span>type<span class="dp">·</span>of<span class="dp">·</span>``int``,<span class="dp">·</span>``list``<span class="dp">·</span>or<span class="dp">·</span>``tuple``,<span class="dp">·</span>instead<span class="dp">·</span>of<span class="dp">·</span>``str``.</td><td class="diffline">79 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Accept<span class="dp">·</span>type<span class="dp">·</span>of<span class="dp">·</span>``int``,<span class="dp">·</span>``list``<span class="dp">·</span>or<span class="dp">·</span>``tuple``,<span class="dp">·</span>instead<span class="dp">·</span>of<span class="dp">·</span>``str``.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_layer_norm<span class="dp">·</span>:<span class="dp">·</span>bool,<span class="dp">·</span>default:<span class="dp">·</span>False</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Whether<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>layer<span class="dp">·</span>normalization.</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>recent_num<span class="dp">·</span>:<span class="dp">·</span>int<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>10</td><td class="diffline">80 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>recent_num<span class="dp">·</span>:<span class="dp">·</span>int<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>10</td></tr>
<tr class="diffunmodified"><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>recent<span class="dp">·</span>items<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>in<span class="dp">·</span>user<span class="dp">·</span>behavior<span class="dp">·</span>sequence.</td><td class="diffline">81 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>recent<span class="dp">·</span>items<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>in<span class="dp">·</span>user<span class="dp">·</span>behavior<span class="dp">·</span>sequence.</td></tr>
<tr class="diffunmodified"><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>random_num<span class="dp">·</span>:<span class="dp">·</span>int<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">82 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>random_num<span class="dp">·</span>:<span class="dp">·</span>int<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>random<span class="dp">·</span>sampled<span class="dp">·</span>items<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>in<span class="dp">·</span>user<span class="dp">·</span>behavior<span class="dp">·</span>sequence.</td><td class="diffline">83 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>random<span class="dp">·</span>sampled<span class="dp">·</span>items<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>in<span class="dp">·</span>user<span class="dp">·</span>behavior<span class="dp">·</span>sequence.</td></tr>
<tr class="diffunmodified"><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>If<span class="dp">·</span>`recent_num`<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None,<span class="dp">·</span>`random_num`<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>considered.</td><td class="diffline">84 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>If<span class="dp">·</span>`recent_num`<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None,<span class="dp">·</span>`random_num`<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>considered.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">85 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>multi_sparse_combiner<span class="dp">·</span>:<span class="dp">·</span>{&#x27;normal&#x27;,<span class="dp">·</span>&#x27;mean&#x27;,<span class="dp">·</span>&#x27;sum&#x27;,<span class="dp">·</span>&#x27;sqrtn&#x27;},<span class="dp">·</span>default:<span class="dp">·</span>&#x27;sqrtn&#x27;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">86 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Options<span class="dp">·</span>for<span class="dp">·</span>combining<span class="dp">·</span>`multi_sparse`<span class="dp">·</span>features.</td></tr>
<tr class="diffunmodified"><td class="diffline">61 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>42</td><td class="diffline">87 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>42</td></tr>
<tr class="diffunmodified"><td class="diffline">62 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Random<span class="dp">·</span>seed.</td><td class="diffline">88 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Random<span class="dp">·</span>seed.</td></tr>
<tr class="diffunmodified"><td class="diffline">63 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lower_upper_bound<span class="dp">·</span>:<span class="dp">·</span>tuple<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">89 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lower_upper_bound<span class="dp">·</span>:<span class="dp">·</span>tuple<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">64 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Lower<span class="dp">·</span>and<span class="dp">·</span>upper<span class="dp">·</span>score<span class="dp">·</span>bound<span class="dp">·</span>for<span class="dp">·</span>`rating`<span class="dp">·</span>task.</td><td class="diffline">90 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Lower<span class="dp">·</span>and<span class="dp">·</span>upper<span class="dp">·</span>score<span class="dp">·</span>bound<span class="dp">·</span>for<span class="dp">·</span>`rating`<span class="dp">·</span>task.</td></tr>
<tr class="diffunmodified"><td class="diffline">65 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf_sess_config<span class="dp">·</span>:<span class="dp">·</span>dict<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">91 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf_sess_config<span class="dp">·</span>:<span class="dp">·</span>dict<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">66 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Optional<span class="dp">·</span>TensorFlow<span class="dp">·</span>session<span class="dp">·</span>config,<span class="dp">·</span>see<span class="dp">·</span>`ConfigProto<span class="dp">·</span>options</td><td class="diffline">92 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Optional<span class="dp">·</span>TensorFlow<span class="dp">·</span>session<span class="dp">·</span>config,<span class="dp">·</span>see<span class="dp">·</span>`ConfigProto<span class="dp">·</span>options</td></tr>
<tr class="diffunmodified"><td class="diffline">67 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&lt;https://github.com/tensorflow/tensorflow/blob/v2.10.0/tensorflow/core/protobuf/config.proto#L431&gt;`_.</td><td class="diffline">93 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&lt;https://github.com/tensorflow/tensorflow/blob/v2.10.0/tensorflow/core/protobuf/config.proto#L431&gt;`_.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">68 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>References</td><td class="diffline">94 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>References</td></tr>
<tr class="diffunmodified"><td class="diffline">69 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td><td class="diffline">95 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td></tr>
<tr class="diffdeleted"><td class="diffline">70 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>*Balazs<span class="dp">·</span>Hidasi<span class="dp">·</span>et<span class="dp">·</span>al.*<span class="dp">·</span>`Session-based<span class="dp">·</span>Recommendations<span class="dp">·</span>with<span class="dp">·</span>Recurrent<span class="dp">·</span>Neural<span class="dp">·</span>Networks</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">71 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>&lt;h</del>ttp<del>s://</del>ar<del>xiv.</del>or<del>g/pdf/1511.06939.pdf&gt;`_.</del></td><td class="diffline">96 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>*Paul<span class="dp">·</span>Covi</ins><ins>ng</ins>t<ins>on<span class="dp">·</span>e</ins>t<ins><span class="dp">·</span>al.*<span class="dp">·</span>`Dee</ins>p<ins><span class="dp">·</span></ins><ins>Neur</ins>a<ins>l<span class="dp">·</span>Netwo</ins>r<ins>ks<span class="dp">·</span>f</ins>or<ins><span class="dp">·</span>YouTube<span class="dp">·</span>Recommendations</ins></td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">97 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&lt;https://static.googleusercontent.com/media/research.google.com/zh-CN//pubs/archive/45530.pdf&gt;`_.</td></tr>
<tr class="diffunmodified"><td class="diffline">72 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;</td><td class="diffline">98 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">73 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>it</del>e<del>m</del>_variables<span class="dp">·</span>=<span class="dp">·</span>[&quot;<del>item_weigh</del><del>t</del>s<del>&quot;,<span class="dp">·</span>&quot;it</del>e<del>m</del>_<del>bia</del><del>s</del>e<del>s&quot;,<span class="dp">·</span>&quot;inp</del><del>u</del>t<del>_e</del><del>mb</del>e<del>d</del>&quot;]</td><td class="diffline">99 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>us</ins>e<ins>r</ins>_variables<span class="dp">·</span>=<span class="dp">·</span>[&quot;<ins>u</ins>se<ins>r</ins>_<ins>f</ins>e<ins>a</ins>t<ins>ur</ins>e<ins>s</ins>&quot;]</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">100 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_variables<span class="dp">·</span>=<span class="dp">·</span>[&quot;item_features&quot;]</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">101 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_variables<span class="dp">·</span>=<span class="dp">·</span>[&quot;sparse_features&quot;]</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">102 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_variables<span class="dp">·</span>=<span class="dp">·</span>[&quot;dense_features&quot;]</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">74 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>__init__(</td><td class="diffline">103 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>__init__(</td></tr>
<tr class="diffunmodified"><td class="diffline">75 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self,</td><td class="diffline">104 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self,</td></tr>
<tr class="diffchanged"><td class="diffline">76 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task,</td><td class="diffline">105 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task<ins>=&quot;ranking&quot;</ins>,</td></tr>
<tr class="diffunmodified"><td class="diffline">77 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info=None,</td><td class="diffline">106 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">78 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>loss_type=&quot;cross_entropy&quot;,</td><td class="diffline">107 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>loss_type=&quot;cross_entropy&quot;,</td></tr>
<tr class="diffdeleted"><td class="diffline">79 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>rnn_type=&quot;gru&quot;,</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">80 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size=16,</td><td class="diffline">108 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size=16,</td></tr>
<tr class="diffunmodified"><td class="diffline">81 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_epochs=20,</td><td class="diffline">109 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_epochs=20,</td></tr>
<tr class="diffunmodified"><td class="diffline">82 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr=0.001,</td><td class="diffline">110 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr=0.001,</td></tr>
<tr class="diffunmodified"><td class="diffline">83 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr_decay=False,</td><td class="diffline">111 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr_decay=False,</td></tr>
<tr class="diffunmodified"><td class="diffline">84 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>epsilon=1e-5,</td><td class="diffline">112 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>epsilon=1e-5,</td></tr>
<tr class="diffunmodified"><td class="diffline">85 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg=None,</td><td class="diffline">113 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">86 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size=256,</td><td class="diffline">114 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size=256,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">115 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sampler=&quot;random&quot;,</td></tr>
<tr class="error"><td colspan="4">
Max diff block lines reached; 10977/16662 bytes (65.88%) of diff not shown.
</td></tr></table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">2.26 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/algorithms/svd.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-svd.py"><span class="source">LibRecommender-1.1.0/libreco/algorithms/svd.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-svd.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 7% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 30, 14 lines modified</td><td colspan="2">Offset 30, 23 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>According<span class="dp">·</span>to<span class="dp">·</span>the<span class="dp">·</span>`official<span class="dp">·</span>comment<span class="dp">·</span>&lt;https://github.com/tensorflow/tensorflow/blob/v1.15.0/tensorflow/python/training/adam.py#L64&gt;`_,</td><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>According<span class="dp">·</span>to<span class="dp">·</span>the<span class="dp">·</span>`official<span class="dp">·</span>comment<span class="dp">·</span>&lt;https://github.com/tensorflow/tensorflow/blob/v1.15.0/tensorflow/python/training/adam.py#L64&gt;`_,</td></tr>
<tr class="diffunmodified"><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>default<span class="dp">·</span>value<span class="dp">·</span>of<span class="dp">·</span>`1e-8`<span class="dp">·</span>for<span class="dp">·</span>`epsilon`<span class="dp">·</span>is<span class="dp">·</span>generally<span class="dp">·</span>not<span class="dp">·</span>good,<span class="dp">·</span>so<span class="dp">·</span>here<span class="dp">·</span>we<span class="dp">·</span>choose<span class="dp">·</span>`1e-5`.</td><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>default<span class="dp">·</span>value<span class="dp">·</span>of<span class="dp">·</span>`1e-8`<span class="dp">·</span>for<span class="dp">·</span>`epsilon`<span class="dp">·</span>is<span class="dp">·</span>generally<span class="dp">·</span>not<span class="dp">·</span>good,<span class="dp">·</span>so<span class="dp">·</span>here<span class="dp">·</span>we<span class="dp">·</span>choose<span class="dp">·</span>`1e-5`.</td></tr>
<tr class="diffunmodified"><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Users<span class="dp">·</span>can<span class="dp">·</span>try<span class="dp">·</span>tuning<span class="dp">·</span>this<span class="dp">·</span>hyperparameter<span class="dp">·</span>if<span class="dp">·</span>the<span class="dp">·</span>training<span class="dp">·</span>is<span class="dp">·</span>unstable.</td><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Users<span class="dp">·</span>can<span class="dp">·</span>try<span class="dp">·</span>tuning<span class="dp">·</span>this<span class="dp">·</span>hyperparameter<span class="dp">·</span>if<span class="dp">·</span>the<span class="dp">·</span>training<span class="dp">·</span>is<span class="dp">·</span>unstable.</td></tr>
<tr class="diffunmodified"><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Regularization<span class="dp">·</span>parameter,<span class="dp">·</span>must<span class="dp">·</span>be<span class="dp">·</span>non-negative<span class="dp">·</span>or<span class="dp">·</span>None.</td><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Regularization<span class="dp">·</span>parameter,<span class="dp">·</span>must<span class="dp">·</span>be<span class="dp">·</span>non-negative<span class="dp">·</span>or<span class="dp">·</span>None.</td></tr>
<tr class="diffunmodified"><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>256</td><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>256</td></tr>
<tr class="diffunmodified"><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Batch<span class="dp">·</span>size<span class="dp">·</span>for<span class="dp">·</span>training.</td><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Batch<span class="dp">·</span>size<span class="dp">·</span>for<span class="dp">·</span>training.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sampler<span class="dp">·</span>:<span class="dp">·</span>{&#x27;random&#x27;,<span class="dp">·</span>&#x27;unconsumed&#x27;,<span class="dp">·</span>&#x27;popular&#x27;},<span class="dp">·</span>default:<span class="dp">·</span>&#x27;random&#x27;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Negative<span class="dp">·</span>sampling<span class="dp">·</span>strategy.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-<span class="dp">·</span>``&#x27;random&#x27;``<span class="dp">·</span>means<span class="dp">·</span>random<span class="dp">·</span>sampling.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-<span class="dp">·</span>``&#x27;unconsumed&#x27;``<span class="dp">·</span>samples<span class="dp">·</span>items<span class="dp">·</span>that<span class="dp">·</span>the<span class="dp">·</span>target<span class="dp">·</span>user<span class="dp">·</span>did<span class="dp">·</span>not<span class="dp">·</span>consume<span class="dp">·</span>before.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-<span class="dp">·</span>``&#x27;popular&#x27;``<span class="dp">·</span>has<span class="dp">·</span>a<span class="dp">·</span>higher<span class="dp">·</span>probability<span class="dp">·</span>to<span class="dp">·</span>sample<span class="dp">·</span>popular<span class="dp">·</span>items<span class="dp">·</span>as<span class="dp">·</span>negative<span class="dp">·</span>samples.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>versionadded::<span class="dp">·</span>1.1.0</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>1</td><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>1</td></tr>
<tr class="diffunmodified"><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>negative<span class="dp">·</span>samples<span class="dp">·</span>for<span class="dp">·</span>each<span class="dp">·</span>positive<span class="dp">·</span>sample,<span class="dp">·</span>only<span class="dp">·</span>used<span class="dp">·</span>in<span class="dp">·</span>`ranking`<span class="dp">·</span>task.</td><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>negative<span class="dp">·</span>samples<span class="dp">·</span>for<span class="dp">·</span>each<span class="dp">·</span>positive<span class="dp">·</span>sample,<span class="dp">·</span>only<span class="dp">·</span>used<span class="dp">·</span>in<span class="dp">·</span>`ranking`<span class="dp">·</span>task.</td></tr>
<tr class="diffunmodified"><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>42</td><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>42</td></tr>
<tr class="diffunmodified"><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Random<span class="dp">·</span>seed.</td><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Random<span class="dp">·</span>seed.</td></tr>
<tr class="diffunmodified"><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lower_upper_bound<span class="dp">·</span>:<span class="dp">·</span>tuple<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lower_upper_bound<span class="dp">·</span>:<span class="dp">·</span>tuple<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Lower<span class="dp">·</span>and<span class="dp">·</span>upper<span class="dp">·</span>score<span class="dp">·</span>bound<span class="dp">·</span>for<span class="dp">·</span>`rating`<span class="dp">·</span>task.</td><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Lower<span class="dp">·</span>and<span class="dp">·</span>upper<span class="dp">·</span>score<span class="dp">·</span>bound<span class="dp">·</span>for<span class="dp">·</span>`rating`<span class="dp">·</span>task.</td></tr>
<tr class="diffunmodified"><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf_sess_config<span class="dp">·</span>:<span class="dp">·</span>dict<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf_sess_config<span class="dp">·</span>:<span class="dp">·</span>dict<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 61, 14 lines modified</td><td colspan="2">Offset 70, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">61 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size=16,</td><td class="diffline">70 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size=16,</td></tr>
<tr class="diffunmodified"><td class="diffline">62 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_epochs=20,</td><td class="diffline">71 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_epochs=20,</td></tr>
<tr class="diffunmodified"><td class="diffline">63 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr=0.001,</td><td class="diffline">72 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr=0.001,</td></tr>
<tr class="diffunmodified"><td class="diffline">64 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr_decay=False,</td><td class="diffline">73 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr_decay=False,</td></tr>
<tr class="diffunmodified"><td class="diffline">65 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>epsilon=1e-5,</td><td class="diffline">74 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>epsilon=1e-5,</td></tr>
<tr class="diffunmodified"><td class="diffline">66 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg=None,</td><td class="diffline">75 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">67 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size=256,</td><td class="diffline">76 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size=256,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">77 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sampler=&quot;random&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">68 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg=1,</td><td class="diffline">78 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg=1,</td></tr>
<tr class="diffunmodified"><td class="diffline">69 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed=42,</td><td class="diffline">79 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed=42,</td></tr>
<tr class="diffunmodified"><td class="diffline">70 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lower_upper_bound=None,</td><td class="diffline">80 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lower_upper_bound=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">71 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf_sess_config=None,</td><td class="diffline">81 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf_sess_config=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">72 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td><td class="diffline">82 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td></tr>
<tr class="diffunmodified"><td class="diffline">73 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>super().__init__(task,<span class="dp">·</span>data_info,<span class="dp">·</span>embed_size,<span class="dp">·</span>lower_upper_bound)</td><td class="diffline">83 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>super().__init__(task,<span class="dp">·</span>data_info,<span class="dp">·</span>embed_size,<span class="dp">·</span>lower_upper_bound)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffhunk"><td colspan="2">Offset 77, 14 lines modified</td><td colspan="2">Offset 87, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">77 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.loss_type<span class="dp">·</span>=<span class="dp">·</span>loss_type</td><td class="diffline">87 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.loss_type<span class="dp">·</span>=<span class="dp">·</span>loss_type</td></tr>
<tr class="diffunmodified"><td class="diffline">78 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.n_epochs<span class="dp">·</span>=<span class="dp">·</span>n_epochs</td><td class="diffline">88 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.n_epochs<span class="dp">·</span>=<span class="dp">·</span>n_epochs</td></tr>
<tr class="diffunmodified"><td class="diffline">79 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.lr<span class="dp">·</span>=<span class="dp">·</span>lr</td><td class="diffline">89 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.lr<span class="dp">·</span>=<span class="dp">·</span>lr</td></tr>
<tr class="diffunmodified"><td class="diffline">80 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.lr_decay<span class="dp">·</span>=<span class="dp">·</span>lr_decay</td><td class="diffline">90 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.lr_decay<span class="dp">·</span>=<span class="dp">·</span>lr_decay</td></tr>
<tr class="diffunmodified"><td class="diffline">81 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.epsilon<span class="dp">·</span>=<span class="dp">·</span>epsilon</td><td class="diffline">91 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.epsilon<span class="dp">·</span>=<span class="dp">·</span>epsilon</td></tr>
<tr class="diffunmodified"><td class="diffline">82 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.reg<span class="dp">·</span>=<span class="dp">·</span>reg_config(reg)</td><td class="diffline">92 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.reg<span class="dp">·</span>=<span class="dp">·</span>reg_config(reg)</td></tr>
<tr class="diffunmodified"><td class="diffline">83 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.batch_size<span class="dp">·</span>=<span class="dp">·</span>batch_size</td><td class="diffline">93 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.batch_size<span class="dp">·</span>=<span class="dp">·</span>batch_size</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">94 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sampler<span class="dp">·</span>=<span class="dp">·</span>sampler</td></tr>
<tr class="diffunmodified"><td class="diffline">84 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.num_neg<span class="dp">·</span>=<span class="dp">·</span>num_neg</td><td class="diffline">95 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.num_neg<span class="dp">·</span>=<span class="dp">·</span>num_neg</td></tr>
<tr class="diffunmodified"><td class="diffline">85 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.seed<span class="dp">·</span>=<span class="dp">·</span>seed</td><td class="diffline">96 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.seed<span class="dp">·</span>=<span class="dp">·</span>seed</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">86 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>build_model(self):</td><td class="diffline">97 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>build_model(self):</td></tr>
<tr class="diffunmodified"><td class="diffline">87 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.user_indices<span class="dp">·</span>=<span class="dp">·</span>tf.placeholder(tf.int32,<span class="dp">·</span>shape=[None])</td><td class="diffline">98 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.user_indices<span class="dp">·</span>=<span class="dp">·</span>tf.placeholder(tf.int32,<span class="dp">·</span>shape=[None])</td></tr>
<tr class="diffunmodified"><td class="diffline">88 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.item_indices<span class="dp">·</span>=<span class="dp">·</span>tf.placeholder(tf.int32,<span class="dp">·</span>shape=[None])</td><td class="diffline">99 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.item_indices<span class="dp">·</span>=<span class="dp">·</span>tf.placeholder(tf.int32,<span class="dp">·</span>shape=[None])</td></tr>
<tr class="diffunmodified"><td class="diffline">89 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.labels<span class="dp">·</span>=<span class="dp">·</span>tf.placeholder(tf.float32,<span class="dp">·</span>shape=[None])</td><td class="diffline">100 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.labels<span class="dp">·</span>=<span class="dp">·</span>tf.placeholder(tf.float32,<span class="dp">·</span>shape=[None])</td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">3.27 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/algorithms/svdpp.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-svdpp.py"><span class="source">LibRecommender-1.1.0/libreco/algorithms/svdpp.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-svdpp.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 4% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 30, 14 lines modified</td><td colspan="2">Offset 30, 23 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>According<span class="dp">·</span>to<span class="dp">·</span>the<span class="dp">·</span>`official<span class="dp">·</span>comment<span class="dp">·</span>&lt;https://github.com/tensorflow/tensorflow/blob/v1.15.0/tensorflow/python/training/adam.py#L64&gt;`_,</td><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>According<span class="dp">·</span>to<span class="dp">·</span>the<span class="dp">·</span>`official<span class="dp">·</span>comment<span class="dp">·</span>&lt;https://github.com/tensorflow/tensorflow/blob/v1.15.0/tensorflow/python/training/adam.py#L64&gt;`_,</td></tr>
<tr class="diffunmodified"><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>default<span class="dp">·</span>value<span class="dp">·</span>of<span class="dp">·</span>`1e-8`<span class="dp">·</span>for<span class="dp">·</span>`epsilon`<span class="dp">·</span>is<span class="dp">·</span>generally<span class="dp">·</span>not<span class="dp">·</span>good,<span class="dp">·</span>so<span class="dp">·</span>here<span class="dp">·</span>we<span class="dp">·</span>choose<span class="dp">·</span>`1e-5`.</td><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>default<span class="dp">·</span>value<span class="dp">·</span>of<span class="dp">·</span>`1e-8`<span class="dp">·</span>for<span class="dp">·</span>`epsilon`<span class="dp">·</span>is<span class="dp">·</span>generally<span class="dp">·</span>not<span class="dp">·</span>good,<span class="dp">·</span>so<span class="dp">·</span>here<span class="dp">·</span>we<span class="dp">·</span>choose<span class="dp">·</span>`1e-5`.</td></tr>
<tr class="diffunmodified"><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Users<span class="dp">·</span>can<span class="dp">·</span>try<span class="dp">·</span>tuning<span class="dp">·</span>this<span class="dp">·</span>hyperparameter<span class="dp">·</span>if<span class="dp">·</span>the<span class="dp">·</span>training<span class="dp">·</span>is<span class="dp">·</span>unstable.</td><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Users<span class="dp">·</span>can<span class="dp">·</span>try<span class="dp">·</span>tuning<span class="dp">·</span>this<span class="dp">·</span>hyperparameter<span class="dp">·</span>if<span class="dp">·</span>the<span class="dp">·</span>training<span class="dp">·</span>is<span class="dp">·</span>unstable.</td></tr>
<tr class="diffunmodified"><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Regularization<span class="dp">·</span>parameter,<span class="dp">·</span>must<span class="dp">·</span>be<span class="dp">·</span>non-negative<span class="dp">·</span>or<span class="dp">·</span>None.</td><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Regularization<span class="dp">·</span>parameter,<span class="dp">·</span>must<span class="dp">·</span>be<span class="dp">·</span>non-negative<span class="dp">·</span>or<span class="dp">·</span>None.</td></tr>
<tr class="diffunmodified"><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>256</td><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>256</td></tr>
<tr class="diffunmodified"><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Batch<span class="dp">·</span>size<span class="dp">·</span>for<span class="dp">·</span>training.</td><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Batch<span class="dp">·</span>size<span class="dp">·</span>for<span class="dp">·</span>training.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sampler<span class="dp">·</span>:<span class="dp">·</span>{&#x27;random&#x27;,<span class="dp">·</span>&#x27;unconsumed&#x27;,<span class="dp">·</span>&#x27;popular&#x27;},<span class="dp">·</span>default:<span class="dp">·</span>&#x27;random&#x27;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Negative<span class="dp">·</span>sampling<span class="dp">·</span>strategy.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-<span class="dp">·</span>``&#x27;random&#x27;``<span class="dp">·</span>means<span class="dp">·</span>random<span class="dp">·</span>sampling.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-<span class="dp">·</span>``&#x27;unconsumed&#x27;``<span class="dp">·</span>samples<span class="dp">·</span>items<span class="dp">·</span>that<span class="dp">·</span>the<span class="dp">·</span>target<span class="dp">·</span>user<span class="dp">·</span>did<span class="dp">·</span>not<span class="dp">·</span>consume<span class="dp">·</span>before.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-<span class="dp">·</span>``&#x27;popular&#x27;``<span class="dp">·</span>has<span class="dp">·</span>a<span class="dp">·</span>higher<span class="dp">·</span>probability<span class="dp">·</span>to<span class="dp">·</span>sample<span class="dp">·</span>popular<span class="dp">·</span>items<span class="dp">·</span>as<span class="dp">·</span>negative<span class="dp">·</span>samples.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>versionadded::<span class="dp">·</span>1.1.0</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>1</td><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>1</td></tr>
<tr class="diffunmodified"><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>negative<span class="dp">·</span>samples<span class="dp">·</span>for<span class="dp">·</span>each<span class="dp">·</span>positive<span class="dp">·</span>sample,<span class="dp">·</span>only<span class="dp">·</span>used<span class="dp">·</span>in<span class="dp">·</span>`ranking`<span class="dp">·</span>task.</td><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>negative<span class="dp">·</span>samples<span class="dp">·</span>for<span class="dp">·</span>each<span class="dp">·</span>positive<span class="dp">·</span>sample,<span class="dp">·</span>only<span class="dp">·</span>used<span class="dp">·</span>in<span class="dp">·</span>`ranking`<span class="dp">·</span>task.</td></tr>
<tr class="diffunmodified"><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>42</td><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>42</td></tr>
<tr class="diffunmodified"><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Random<span class="dp">·</span>seed.</td><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Random<span class="dp">·</span>seed.</td></tr>
<tr class="diffunmodified"><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lower_upper_bound<span class="dp">·</span>:<span class="dp">·</span>tuple<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lower_upper_bound<span class="dp">·</span>:<span class="dp">·</span>tuple<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Lower<span class="dp">·</span>and<span class="dp">·</span>upper<span class="dp">·</span>score<span class="dp">·</span>bound<span class="dp">·</span>for<span class="dp">·</span>`rating`<span class="dp">·</span>task.</td><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Lower<span class="dp">·</span>and<span class="dp">·</span>upper<span class="dp">·</span>score<span class="dp">·</span>bound<span class="dp">·</span>for<span class="dp">·</span>`rating`<span class="dp">·</span>task.</td></tr>
<tr class="diffunmodified"><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf_sess_config<span class="dp">·</span>:<span class="dp">·</span>dict<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf_sess_config<span class="dp">·</span>:<span class="dp">·</span>dict<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 61, 14 lines modified</td><td colspan="2">Offset 70, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">61 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size=16,</td><td class="diffline">70 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size=16,</td></tr>
<tr class="diffunmodified"><td class="diffline">62 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_epochs=20,</td><td class="diffline">71 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_epochs=20,</td></tr>
<tr class="diffunmodified"><td class="diffline">63 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr=0.001,</td><td class="diffline">72 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr=0.001,</td></tr>
<tr class="diffunmodified"><td class="diffline">64 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr_decay=False,</td><td class="diffline">73 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr_decay=False,</td></tr>
<tr class="diffunmodified"><td class="diffline">65 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>epsilon=1e-5,</td><td class="diffline">74 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>epsilon=1e-5,</td></tr>
<tr class="diffunmodified"><td class="diffline">66 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg=None,</td><td class="diffline">75 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">67 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size=256,</td><td class="diffline">76 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size=256,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">77 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sampler=&quot;random&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">68 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg=1,</td><td class="diffline">78 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg=1,</td></tr>
<tr class="diffunmodified"><td class="diffline">69 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed=42,</td><td class="diffline">79 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed=42,</td></tr>
<tr class="diffunmodified"><td class="diffline">70 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>recent_num=30,</td><td class="diffline">80 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>recent_num=30,</td></tr>
<tr class="diffunmodified"><td class="diffline">71 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lower_upper_bound=None,</td><td class="diffline">81 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lower_upper_bound=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">72 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf_sess_config=None,</td><td class="diffline">82 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf_sess_config=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">73 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td><td class="diffline">83 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td></tr>
<tr class="diffunmodified"><td class="diffline">74 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>super().__init__(task,<span class="dp">·</span>data_info,<span class="dp">·</span>embed_size,<span class="dp">·</span>lower_upper_bound)</td><td class="diffline">84 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>super().__init__(task,<span class="dp">·</span>data_info,<span class="dp">·</span>embed_size,<span class="dp">·</span>lower_upper_bound)</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 78, 14 lines modified</td><td colspan="2">Offset 88, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">78 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.loss_type<span class="dp">·</span>=<span class="dp">·</span>loss_type</td><td class="diffline">88 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.loss_type<span class="dp">·</span>=<span class="dp">·</span>loss_type</td></tr>
<tr class="diffunmodified"><td class="diffline">79 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.n_epochs<span class="dp">·</span>=<span class="dp">·</span>n_epochs</td><td class="diffline">89 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.n_epochs<span class="dp">·</span>=<span class="dp">·</span>n_epochs</td></tr>
<tr class="diffunmodified"><td class="diffline">80 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.lr<span class="dp">·</span>=<span class="dp">·</span>lr</td><td class="diffline">90 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.lr<span class="dp">·</span>=<span class="dp">·</span>lr</td></tr>
<tr class="diffunmodified"><td class="diffline">81 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.lr_decay<span class="dp">·</span>=<span class="dp">·</span>lr_decay</td><td class="diffline">91 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.lr_decay<span class="dp">·</span>=<span class="dp">·</span>lr_decay</td></tr>
<tr class="diffunmodified"><td class="diffline">82 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.epsilon<span class="dp">·</span>=<span class="dp">·</span>epsilon</td><td class="diffline">92 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.epsilon<span class="dp">·</span>=<span class="dp">·</span>epsilon</td></tr>
<tr class="diffunmodified"><td class="diffline">83 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.reg<span class="dp">·</span>=<span class="dp">·</span>reg_config(reg)</td><td class="diffline">93 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.reg<span class="dp">·</span>=<span class="dp">·</span>reg_config(reg)</td></tr>
<tr class="diffunmodified"><td class="diffline">84 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.batch_size<span class="dp">·</span>=<span class="dp">·</span>batch_size</td><td class="diffline">94 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.batch_size<span class="dp">·</span>=<span class="dp">·</span>batch_size</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">95 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sampler<span class="dp">·</span>=<span class="dp">·</span>sampler</td></tr>
<tr class="diffunmodified"><td class="diffline">85 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.num_neg<span class="dp">·</span>=<span class="dp">·</span>num_neg</td><td class="diffline">96 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.num_neg<span class="dp">·</span>=<span class="dp">·</span>num_neg</td></tr>
<tr class="diffunmodified"><td class="diffline">86 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.recent_num<span class="dp">·</span>=<span class="dp">·</span>recent_num</td><td class="diffline">97 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.recent_num<span class="dp">·</span>=<span class="dp">·</span>recent_num</td></tr>
<tr class="diffunmodified"><td class="diffline">87 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.seed<span class="dp">·</span>=<span class="dp">·</span>seed</td><td class="diffline">98 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.seed<span class="dp">·</span>=<span class="dp">·</span>seed</td></tr>
<tr class="diffunmodified"><td class="diffline">88 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sparse_interaction<span class="dp">·</span>=<span class="dp">·</span>None</td><td class="diffline">99 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sparse_interaction<span class="dp">·</span>=<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">89 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>build_model(self):</td><td class="diffline">100 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>build_model(self):</td></tr>
<tr class="diffunmodified"><td class="diffline">90 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf.set_random_seed(self.seed)</td><td class="diffline">101 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf.set_random_seed(self.seed)</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 142, 23 lines modified</td><td colspan="2">Offset 153, 37 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">142 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>+<span class="dp">·</span>bias_item</td><td class="diffline">153 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>+<span class="dp">·</span>bias_item</td></tr>
<tr class="diffunmodified"><td class="diffline">143 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>+<span class="dp">·</span>tf.reduce_sum(tf.multiply(embed_user,<span class="dp">·</span>embed_item),<span class="dp">·</span>axis=1)</td><td class="diffline">154 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>+<span class="dp">·</span>tf.reduce_sum(tf.multiply(embed_user,<span class="dp">·</span>embed_item),<span class="dp">·</span>axis=1)</td></tr>
<tr class="diffunmodified"><td class="diffline">144 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">155 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">145 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>fit(</td><td class="diffline">156 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>fit(</td></tr>
<tr class="diffunmodified"><td class="diffline">146 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self,</td><td class="diffline">157 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self,</td></tr>
<tr class="diffunmodified"><td class="diffline">147 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data,</td><td class="diffline">158 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">159 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neg_sampling,</td></tr>
<tr class="diffunmodified"><td class="diffline">148 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>verbose=1,</td><td class="diffline">160 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>verbose=1,</td></tr>
<tr class="diffunmodified"><td class="diffline">149 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>shuffle=True,</td><td class="diffline">161 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>shuffle=True,</td></tr>
<tr class="diffunmodified"><td class="diffline">150 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_data=None,</td><td class="diffline">162 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_data=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">151 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics=None,</td><td class="diffline">163 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics=None,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">164 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>k=10,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">165 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_batch_size=8192,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">166 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_user_num=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">152 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>**kwargs,</td><td class="diffline">167 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>**kwargs,</td></tr>
<tr class="diffunmodified"><td class="diffline">153 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td><td class="diffline">168 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td></tr>
<tr class="diffunmodified"><td class="diffline">154 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>self.sparse_interaction<span class="dp">·</span>is<span class="dp">·</span>None:</td><td class="diffline">169 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>self.sparse_interaction<span class="dp">·</span>is<span class="dp">·</span>None:</td></tr>
<tr class="diffunmodified"><td class="diffline">155 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sparse_interaction<span class="dp">·</span>=<span class="dp">·</span>self._set_sparse_interaction()</td><td class="diffline">170 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sparse_interaction<span class="dp">·</span>=<span class="dp">·</span>self._set_sparse_interaction()</td></tr>
<tr class="diffchanged"><td class="diffline">156 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>super().fit(<del>train_data,<span class="dp">·</span>verbose,<span class="dp">·</span>shuffle,<span class="dp">·</span>eval_data,<span class="dp">·</span>metrics,<span class="dp">·</span>**kwargs)</del></td><td class="diffline">171 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>super().fit(</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">172 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">173 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neg_sampling,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">174 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>verbose,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">175 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>shuffle,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">176 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_data,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">177 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">178 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>k,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">179 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_batch_size,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">180 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_user_num,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">181 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">157 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>set_embeddings(self):</td><td class="diffline">182 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>set_embeddings(self):</td></tr>
<tr class="diffunmodified"><td class="diffline">158 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>bu,<span class="dp">·</span>bi,<span class="dp">·</span>puj,<span class="dp">·</span>qi<span class="dp">·</span>=<span class="dp">·</span>self.sess.run(</td><td class="diffline">183 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>bu,<span class="dp">·</span>bi,<span class="dp">·</span>puj,<span class="dp">·</span>qi<span class="dp">·</span>=<span class="dp">·</span>self.sess.run(</td></tr>
<tr class="diffunmodified"><td class="diffline">159 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>[self.bu_var,<span class="dp">·</span>self.bi_var,<span class="dp">·</span>self.puj_var,<span class="dp">·</span>self.qi_var]</td><td class="diffline">184 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>[self.bu_var,<span class="dp">·</span>self.bi_var,<span class="dp">·</span>self.puj_var,<span class="dp">·</span>self.qi_var]</td></tr>
<tr class="diffunmodified"><td class="diffline">160 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">185 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td class="diffline">161 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_bias<span class="dp">·</span>=<span class="dp">·</span>np.ones([len(puj),<span class="dp">·</span>2],<span class="dp">·</span>dtype=puj.dtype)</td><td class="diffline">186 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_bias<span class="dp">·</span>=<span class="dp">·</span>np.ones([len(puj),<span class="dp">·</span>2],<span class="dp">·</span>dtype=puj.dtype)</td></tr>
<tr class="diffunmodified"><td class="diffline">162 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_bias[:,<span class="dp">·</span>0]<span class="dp">·</span>=<span class="dp">·</span>bu</td><td class="diffline">187 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_bias[:,<span class="dp">·</span>0]<span class="dp">·</span>=<span class="dp">·</span>bu</td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">897 B</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/algorithms/torch_modules/graphsage_module.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-torch_modules-graphsage_module.py"><span class="source">LibRecommender-1.1.0/libreco/algorithms/torch_modules/graphsage_module.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-torch_modules-graphsage_module.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 1% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 73, 15 lines modified</td><td colspan="2">Offset 73, 17 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">73 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>items,</td><td class="diffline">73 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>items,</td></tr>
<tr class="diffunmodified"><td class="diffline">74 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_indices,</td><td class="diffline">74 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_indices,</td></tr>
<tr class="diffunmodified"><td class="diffline">75 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_values,</td><td class="diffline">75 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_values,</td></tr>
<tr class="diffunmodified"><td class="diffline">76 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neighbors,</td><td class="diffline">76 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neighbors,</td></tr>
<tr class="diffunmodified"><td class="diffline">77 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neighbor_sparse_indices,</td><td class="diffline">77 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neighbor_sparse_indices,</td></tr>
<tr class="diffunmodified"><td class="diffline">78 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neighbor_dense_values,</td><td class="diffline">78 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neighbor_dense_values,</td></tr>
<tr class="diffunmodified"><td class="diffline">79 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>offsets,</td><td class="diffline">79 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>offsets,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">80 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>weights=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">80 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td><td class="diffline">81 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">82 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>paper<span class="dp">·</span>author&#x27;s<span class="dp">·</span>implementation:<span class="dp">·</span>https://github.com/williamleif/GraphSAGE/blob/master/graphsage/models.py#L299</td></tr>
<tr class="diffunmodified"><td class="diffline">81 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hidden<span class="dp">·</span>=<span class="dp">·</span>[</td><td class="diffline">83 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hidden<span class="dp">·</span>=<span class="dp">·</span>[</td></tr>
<tr class="diffunmodified"><td class="diffline">82 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.get_raw_features(items,<span class="dp">·</span>sparse_indices,<span class="dp">·</span>dense_values,<span class="dp">·</span>is_user=False)</td><td class="diffline">84 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.get_raw_features(items,<span class="dp">·</span>sparse_indices,<span class="dp">·</span>dense_values,<span class="dp">·</span>is_user=False)</td></tr>
<tr class="diffunmodified"><td class="diffline">83 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>]</td><td class="diffline">85 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>]</td></tr>
<tr class="diffunmodified"><td class="diffline">84 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>n,<span class="dp">·</span>s,<span class="dp">·</span>d<span class="dp">·</span>in<span class="dp">·</span>zip(neighbors,<span class="dp">·</span>neighbor_sparse_indices,<span class="dp">·</span>neighbor_dense_values):</td><td class="diffline">86 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>n,<span class="dp">·</span>s,<span class="dp">·</span>d<span class="dp">·</span>in<span class="dp">·</span>zip(neighbors,<span class="dp">·</span>neighbor_sparse_indices,<span class="dp">·</span>neighbor_dense_values):</td></tr>
<tr class="diffunmodified"><td class="diffline">85 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hidden.append(self.get_raw_features(n,<span class="dp">·</span>s,<span class="dp">·</span>d,<span class="dp">·</span>is_user=False))</td><td class="diffline">87 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hidden.append(self.get_raw_features(n,<span class="dp">·</span>s,<span class="dp">·</span>d,<span class="dp">·</span>is_user=False))</td></tr>
<tr class="diffunmodified"><td class="diffline">86 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>layer<span class="dp">·</span>in<span class="dp">·</span>range(self.num_layers):</td><td class="diffline">88 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>layer<span class="dp">·</span>in<span class="dp">·</span>range(self.num_layers):</td></tr>
<tr class="diffunmodified"><td class="diffline">87 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>w_linear<span class="dp">·</span>=<span class="dp">·</span>self.w_linears[layer]</td><td class="diffline">89 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>w_linear<span class="dp">·</span>=<span class="dp">·</span>self.w_linears[layer]</td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">627 B</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/algorithms/torch_modules/lightgcn_module.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-torch_modules-lightgcn_module.py"><span class="source">LibRecommender-1.1.0/libreco/algorithms/torch_modules/lightgcn_module.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-torch_modules-lightgcn_module.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 1% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 9, 15 lines modified</td><td colspan="2">Offset 9, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self,</td><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self,</td></tr>
<tr class="diffunmodified"><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_users,</td><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_users,</td></tr>
<tr class="diffunmodified"><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_items,</td><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_items,</td></tr>
<tr class="diffunmodified"><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size,</td><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size,</td></tr>
<tr class="diffunmodified"><td class="diffline">13 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_layers,</td><td class="diffline">13 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_layers,</td></tr>
<tr class="diffunmodified"><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_rate,</td><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_rate,</td></tr>
<tr class="diffunmodified"><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_consumed,</td><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_consumed,</td></tr>
<tr class="diffchanged"><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>device<del>=torch.device(&quot;cpu&quot;)</del>,</td><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>device,</td></tr>
<tr class="diffunmodified"><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td></tr>
<tr class="diffunmodified"><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>super(LightGCNModel,<span class="dp">·</span>self).__init__()</td><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>super(LightGCNModel,<span class="dp">·</span>self).__init__()</td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.n_users<span class="dp">·</span>=<span class="dp">·</span>n_users</td><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.n_users<span class="dp">·</span>=<span class="dp">·</span>n_users</td></tr>
<tr class="diffunmodified"><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.n_items<span class="dp">·</span>=<span class="dp">·</span>n_items</td><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.n_items<span class="dp">·</span>=<span class="dp">·</span>n_items</td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.embed_size<span class="dp">·</span>=<span class="dp">·</span>embed_size</td><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.embed_size<span class="dp">·</span>=<span class="dp">·</span>embed_size</td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.n_layers<span class="dp">·</span>=<span class="dp">·</span>n_layers</td><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.n_layers<span class="dp">·</span>=<span class="dp">·</span>n_layers</td></tr>
<tr class="diffunmodified"><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.dropout_rate<span class="dp">·</span>=<span class="dp">·</span>dropout_rate</td><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.dropout_rate<span class="dp">·</span>=<span class="dp">·</span>dropout_rate</td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">1.26 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/algorithms/torch_modules/ngcf_module.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-torch_modules-ngcf_module.py"><span class="source">LibRecommender-1.1.0/libreco/algorithms/torch_modules/ngcf_module.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-torch_modules-ngcf_module.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 1% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 11, 15 lines modified</td><td colspan="2">Offset 11, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_users,</td><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_users,</td></tr>
<tr class="diffunmodified"><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_items,</td><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_items,</td></tr>
<tr class="diffunmodified"><td class="diffline">13 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size,</td><td class="diffline">13 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size,</td></tr>
<tr class="diffunmodified"><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>layers,</td><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>layers,</td></tr>
<tr class="diffunmodified"><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>node_dropout,</td><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>node_dropout,</td></tr>
<tr class="diffunmodified"><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>message_dropout,</td><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>message_dropout,</td></tr>
<tr class="diffunmodified"><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_consumed,</td><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_consumed,</td></tr>
<tr class="diffchanged"><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>device<del>=torch.device(&quot;cpu&quot;)</del>,</td><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>device,</td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td></tr>
<tr class="diffunmodified"><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>super(NGCFModel,<span class="dp">·</span>self).__init__()</td><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>super(NGCFModel,<span class="dp">·</span>self).__init__()</td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.n_users<span class="dp">·</span>=<span class="dp">·</span>n_users</td><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.n_users<span class="dp">·</span>=<span class="dp">·</span>n_users</td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.n_items<span class="dp">·</span>=<span class="dp">·</span>n_items</td><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.n_items<span class="dp">·</span>=<span class="dp">·</span>n_items</td></tr>
<tr class="diffunmodified"><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.embed_size<span class="dp">·</span>=<span class="dp">·</span>embed_size</td><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.embed_size<span class="dp">·</span>=<span class="dp">·</span>embed_size</td></tr>
<tr class="diffunmodified"><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.layers<span class="dp">·</span>=<span class="dp">·</span>layers</td><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.layers<span class="dp">·</span>=<span class="dp">·</span>layers</td></tr>
<tr class="diffunmodified"><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.node_dropout<span class="dp">·</span>=<span class="dp">·</span>node_dropout</td><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.node_dropout<span class="dp">·</span>=<span class="dp">·</span>node_dropout</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 38, 15 lines modified</td><td colspan="2">Offset 38, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;item_embed&quot;:<span class="dp">·</span>nn.Parameter(</td><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;item_embed&quot;:<span class="dp">·</span>nn.Parameter(</td></tr>
<tr class="diffunmodified"><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>nn.init.xavier_uniform_(torch.empty(self.n_items,<span class="dp">·</span>self.embed_size))</td><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>nn.init.xavier_uniform_(torch.empty(self.n_items,<span class="dp">·</span>self.embed_size))</td></tr>
<tr class="diffunmodified"><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>),</td><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>),</td></tr>
<tr class="diffunmodified"><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td></tr>
<tr class="diffunmodified"><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>weight_dict<span class="dp">·</span>=<span class="dp">·</span>nn.ParameterDict()</td><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>weight_dict<span class="dp">·</span>=<span class="dp">·</span>nn.ParameterDict()</td></tr>
<tr class="diffchanged"><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>layers<span class="dp">·</span>=<span class="dp">·</span>[self.embed_size<del>]</del><span class="dp">·</span><del>+</del><del><span class="dp">·</span></del>self.layers</td><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>layers<span class="dp">·</span>=<span class="dp">·</span>[self.embed_size<ins>,</ins><span class="dp">·</span><ins>*</ins>self.layers<ins>]</ins></td></tr>
<tr class="diffunmodified"><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>k<span class="dp">·</span>in<span class="dp">·</span>range(len(self.layers)):</td><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>k<span class="dp">·</span>in<span class="dp">·</span>range(len(self.layers)):</td></tr>
<tr class="diffunmodified"><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>weight_dict[f&quot;W_self_{k}&quot;]<span class="dp">·</span>=<span class="dp">·</span>nn.Parameter(</td><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>weight_dict[f&quot;W_self_{k}&quot;]<span class="dp">·</span>=<span class="dp">·</span>nn.Parameter(</td></tr>
<tr class="diffunmodified"><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>nn.init.xavier_uniform_(torch.empty(layers[k],<span class="dp">·</span>layers[k<span class="dp">·</span>+<span class="dp">·</span>1]))</td><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>nn.init.xavier_uniform_(torch.empty(layers[k],<span class="dp">·</span>layers[k<span class="dp">·</span>+<span class="dp">·</span>1]))</td></tr>
<tr class="diffunmodified"><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>weight_dict[f&quot;b_self_{k}&quot;]<span class="dp">·</span>=<span class="dp">·</span>nn.Parameter(</td><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>weight_dict[f&quot;b_self_{k}&quot;]<span class="dp">·</span>=<span class="dp">·</span>nn.Parameter(</td></tr>
<tr class="diffunmodified"><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>nn.init.zeros_(torch.empty(1,<span class="dp">·</span>layers[k<span class="dp">·</span>+<span class="dp">·</span>1]))</td><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>nn.init.zeros_(torch.empty(1,<span class="dp">·</span>layers[k<span class="dp">·</span>+<span class="dp">·</span>1]))</td></tr>
<tr class="diffunmodified"><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">964 B</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/algorithms/torch_modules/pinsage_module.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-torch_modules-pinsage_module.py"><span class="source">LibRecommender-1.1.0/libreco/algorithms/torch_modules/pinsage_module.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-torch_modules-pinsage_module.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 1% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 78, 17 lines modified</td><td colspan="2">Offset 78, 18 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">78 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self,</td><td class="diffline">78 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self,</td></tr>
<tr class="diffunmodified"><td class="diffline">79 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>items,</td><td class="diffline">79 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>items,</td></tr>
<tr class="diffunmodified"><td class="diffline">80 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_indices,</td><td class="diffline">80 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_indices,</td></tr>
<tr class="diffunmodified"><td class="diffline">81 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_values,</td><td class="diffline">81 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_values,</td></tr>
<tr class="diffunmodified"><td class="diffline">82 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neighbors,</td><td class="diffline">82 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neighbors,</td></tr>
<tr class="diffunmodified"><td class="diffline">83 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neighbor_sparse_indices,</td><td class="diffline">83 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neighbor_sparse_indices,</td></tr>
<tr class="diffunmodified"><td class="diffline">84 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neighbor_dense_values,</td><td class="diffline">84 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neighbor_dense_values,</td></tr>
<tr class="diffdeleted"><td class="diffline">85 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>weights,</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">86 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>offsets,</td><td class="diffline">85 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>offsets,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">86 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>weights,</td></tr>
<tr class="diffunmodified"><td class="diffline">87 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td><td class="diffline">87 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">88 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>graphsage<span class="dp">·</span>paper<span class="dp">·</span>author&#x27;s<span class="dp">·</span>implementation:<span class="dp">·</span>https://github.com/williamleif/GraphSAGE/blob/master/graphsage/models.py#L299</td></tr>
<tr class="diffunmodified"><td class="diffline">88 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hidden<span class="dp">·</span>=<span class="dp">·</span>[</td><td class="diffline">89 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hidden<span class="dp">·</span>=<span class="dp">·</span>[</td></tr>
<tr class="diffunmodified"><td class="diffline">89 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.get_raw_features(items,<span class="dp">·</span>sparse_indices,<span class="dp">·</span>dense_values,<span class="dp">·</span>is_user=False)</td><td class="diffline">90 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.get_raw_features(items,<span class="dp">·</span>sparse_indices,<span class="dp">·</span>dense_values,<span class="dp">·</span>is_user=False)</td></tr>
<tr class="diffunmodified"><td class="diffline">90 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>]</td><td class="diffline">91 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>]</td></tr>
<tr class="diffunmodified"><td class="diffline">91 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>n,<span class="dp">·</span>s,<span class="dp">·</span>d<span class="dp">·</span>in<span class="dp">·</span>zip(neighbors,<span class="dp">·</span>neighbor_sparse_indices,<span class="dp">·</span>neighbor_dense_values):</td><td class="diffline">92 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>n,<span class="dp">·</span>s,<span class="dp">·</span>d<span class="dp">·</span>in<span class="dp">·</span>zip(neighbors,<span class="dp">·</span>neighbor_sparse_indices,<span class="dp">·</span>neighbor_dense_values):</td></tr>
<tr class="diffunmodified"><td class="diffline">92 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hidden.append(self.get_raw_features(n,<span class="dp">·</span>s,<span class="dp">·</span>d,<span class="dp">·</span>is_user=False))</td><td class="diffline">93 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hidden.append(self.get_raw_features(n,<span class="dp">·</span>s,<span class="dp">·</span>d,<span class="dp">·</span>is_user=False))</td></tr>
<tr class="diffunmodified"><td class="diffline">93 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>layer<span class="dp">·</span>in<span class="dp">·</span>range(self.num_layers):</td><td class="diffline">94 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>layer<span class="dp">·</span>in<span class="dp">·</span>range(self.num_layers):</td></tr>
<tr class="diffunmodified"><td class="diffline">94 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>q_linear,<span class="dp">·</span>w_linear<span class="dp">·</span>=<span class="dp">·</span>self.q_linears[layer],<span class="dp">·</span>self.w_linears[layer]</td><td class="diffline">95 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>q_linear,<span class="dp">·</span>w_linear<span class="dp">·</span>=<span class="dp">·</span>self.q_linears[layer],<span class="dp">·</span>self.w_linears[layer]</td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">889 B</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/algorithms/user_cf.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-user_cf.py"><span class="source">LibRecommender-1.1.0/libreco/algorithms/user_cf.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-user_cf.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 1% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 120, 15 lines modified</td><td colspan="2">Offset 120, 15 lines modified</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">120 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>recommend_one(self,<span class="dp">·</span>user_id,<span class="dp">·</span>n_rec,<span class="dp">·</span>filter_consumed,<span class="dp">·</span>random_rec):</td><td class="diffline">120 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>recommend_one(self,<span class="dp">·</span>user_id,<span class="dp">·</span>n_rec,<span class="dp">·</span>filter_consumed,<span class="dp">·</span>random_rec):</td></tr>
<tr class="diffunmodified"><td class="diffline">121 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_slice<span class="dp">·</span>=<span class="dp">·</span>slice(</td><td class="diffline">121 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_slice<span class="dp">·</span>=<span class="dp">·</span>slice(</td></tr>
<tr class="diffunmodified"><td class="diffline">122 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sim_matrix.indptr[user_id],<span class="dp">·</span>self.sim_matrix.indptr[user_id<span class="dp">·</span>+<span class="dp">·</span>1]</td><td class="diffline">122 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sim_matrix.indptr[user_id],<span class="dp">·</span>self.sim_matrix.indptr[user_id<span class="dp">·</span>+<span class="dp">·</span>1]</td></tr>
<tr class="diffunmodified"><td class="diffline">123 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">123 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td class="diffline">124 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sim_users<span class="dp">·</span>=<span class="dp">·</span>self.sim_matrix.indices[user_slice]</td><td class="diffline">124 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sim_users<span class="dp">·</span>=<span class="dp">·</span>self.sim_matrix.indices[user_slice]</td></tr>
<tr class="diffunmodified"><td class="diffline">125 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sim_values<span class="dp">·</span>=<span class="dp">·</span>self.sim_matrix.data[user_slice]</td><td class="diffline">125 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sim_values<span class="dp">·</span>=<span class="dp">·</span>self.sim_matrix.data[user_slice]</td></tr>
<tr class="diffchanged"><td class="diffline">126 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>sim_users.size<span class="dp">·</span>==<span class="dp">·</span>0<span class="dp">·</span>or<span class="dp">·</span>np.all(sim_values<span class="dp">·</span>&lt;=<span class="dp">·</span>0):</td><td class="diffline">126 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>sim_users.size<span class="dp">·</span>==<span class="dp">·</span>0<span class="dp">·</span>or<span class="dp">·</span>np.all(sim_values<span class="dp">·</span>&lt;=<span class="dp">·</span>0):<ins><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>pragma:<span class="dp">·</span>no<span class="dp">·</span>cover</ins></td></tr>
<tr class="diffunmodified"><td class="diffline">127 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.print_count<span class="dp">·</span>+=<span class="dp">·</span>1</td><td class="diffline">127 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.print_count<span class="dp">·</span>+=<span class="dp">·</span>1</td></tr>
<tr class="diffunmodified"><td class="diffline">128 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>no_str<span class="dp">·</span>=<span class="dp">·</span>(</td><td class="diffline">128 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>no_str<span class="dp">·</span>=<span class="dp">·</span>(</td></tr>
<tr class="diffunmodified"><td class="diffline">129 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>f&quot;no<span class="dp">·</span>similar<span class="dp">·</span>neighbor<span class="dp">·</span>for<span class="dp">·</span>user<span class="dp">·</span>{user_id},<span class="dp">·</span>&quot;</td><td class="diffline">129 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>f&quot;no<span class="dp">·</span>similar<span class="dp">·</span>neighbor<span class="dp">·</span>for<span class="dp">·</span>user<span class="dp">·</span>{user_id},<span class="dp">·</span>&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">130 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>f&quot;return<span class="dp">·</span>default<span class="dp">·</span>recommendation&quot;</td><td class="diffline">130 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>f&quot;return<span class="dp">·</span>default<span class="dp">·</span>recommendation&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">131 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">131 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td class="diffline">132 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>self.print_count<span class="dp">·</span>&lt;<span class="dp">·</span>7:</td><td class="diffline">132 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>self.print_count<span class="dp">·</span>&lt;<span class="dp">·</span>7:</td></tr>
<tr class="diffunmodified"><td class="diffline">133 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>print(f&quot;{colorize(no_str,<span class="dp">·</span>&#x27;red&#x27;)}&quot;)</td><td class="diffline">133 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>print(f&quot;{colorize(no_str,<span class="dp">·</span>&#x27;red&#x27;)}&quot;)</td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">5.5 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/algorithms/wave_net.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-wave_net.py"><span class="source">LibRecommender-1.1.0/libreco/algorithms/wave_net.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-wave_net.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 12% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 26 lines modified</td><td colspan="2">Offset 1, 14 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">1 </td><td class="diffpresent">&quot;&quot;&quot;Implementation<span class="dp">·</span>of<span class="dp">·</span>WaveNet.&quot;&quot;&quot;</td><td class="diffline">1 </td><td class="diffpresent">&quot;&quot;&quot;Implementation<span class="dp">·</span>of<span class="dp">·</span>WaveNet.&quot;&quot;&quot;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">2 </td><td class="diffpresent">from<span class="dp">·</span>..bases<span class="dp">·</span>import<span class="dp">·</span>ModelMeta,<span class="dp">·</span>SeqEmbedBase</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">3 </td><td class="diffpresent">from<span class="dp">·</span>..tfops<span class="dp">·</span>import<span class="dp">·</span>conv_nn,<span class="dp">·</span>dropout_config,<span class="dp">·</span>max_pool,<span class="dp">·</span>reg_config,<span class="dp">·</span>tf,<span class="dp">·</span>tf_dense</td></tr>
<tr class="diffdeleted"><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">3 </td><td class="diffpresent">from<span class="dp">·</span>..bases<span class="dp">·</span>import<span class="dp">·</span>EmbedBase,<span class="dp">·</span>ModelMeta</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">4 </td><td class="diffpresent">from<span class="dp">·</span>..data.sequence<span class="dp">·</span>import<span class="dp">·</span>get_user_last_interacted</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">5 </td><td class="diffpresent">from<span class="dp">·</span>..tfops<span class="dp">·</span>import<span class="dp">·</span>(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">6 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>conv_nn,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_config,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>max_pool,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg_config,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sess_config,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf_dense,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">13 </td><td class="diffpresent">)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">14 </td><td class="diffpresent">from<span class="dp">·</span>..utils.misc<span class="dp">·</span>import<span class="dp">·</span>count_params</td><td class="diffline">4 </td><td class="diffpresent">from<span class="dp">·</span>..utils.misc<span class="dp">·</span>import<span class="dp">·</span>count_params</td></tr>
<tr class="diffdeleted"><td class="diffline">15 </td><td class="diffpresent">from<span class="dp">·</span>..utils.validate<span class="dp">·</span>import<span class="dp">·</span>check_seq_mode</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">16 </td><td class="diffpresent">class<span class="dp">·</span>WaveNet(EmbedBase,<span class="dp">·</span>metaclass=ModelMeta,<span class="dp">·</span>backend=&quot;tensorflow&quot;):</td><td class="diffline">5 </td><td class="diffpresent">class<span class="dp">·</span>WaveNet(<ins>Seq</ins>EmbedBase,<span class="dp">·</span>metaclass=ModelMeta,<span class="dp">·</span>backend=&quot;tensorflow&quot;):</td></tr>
<tr class="diffunmodified"><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;*WaveNet*<span class="dp">·</span>algorithm.</td><td class="diffline">6 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;*WaveNet*<span class="dp">·</span>algorithm.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td></tr>
<tr class="diffunmodified"><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task<span class="dp">·</span>:<span class="dp">·</span>{&#x27;rating&#x27;,<span class="dp">·</span>&#x27;ranking&#x27;}</td><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task<span class="dp">·</span>:<span class="dp">·</span>{&#x27;rating&#x27;,<span class="dp">·</span>&#x27;ranking&#x27;}</td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Recommendation<span class="dp">·</span>task.<span class="dp">·</span>See<span class="dp">·</span>:ref:`Task`.</td><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Recommendation<span class="dp">·</span>task.<span class="dp">·</span>See<span class="dp">·</span>:ref:`Task`.</td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info<span class="dp">·</span>:<span class="dp">·</span>:class:`~libreco.data.DataInfo`<span class="dp">·</span>object</td><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info<span class="dp">·</span>:<span class="dp">·</span>:class:`~libreco.data.DataInfo`<span class="dp">·</span>object</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 41, 14 lines modified</td><td colspan="2">Offset 29, 23 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>According<span class="dp">·</span>to<span class="dp">·</span>the<span class="dp">·</span>`official<span class="dp">·</span>comment<span class="dp">·</span>&lt;https://github.com/tensorflow/tensorflow/blob/v1.15.0/tensorflow/python/training/adam.py#L64&gt;`_,</td><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>According<span class="dp">·</span>to<span class="dp">·</span>the<span class="dp">·</span>`official<span class="dp">·</span>comment<span class="dp">·</span>&lt;https://github.com/tensorflow/tensorflow/blob/v1.15.0/tensorflow/python/training/adam.py#L64&gt;`_,</td></tr>
<tr class="diffunmodified"><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>default<span class="dp">·</span>value<span class="dp">·</span>of<span class="dp">·</span>`1e-8`<span class="dp">·</span>for<span class="dp">·</span>`epsilon`<span class="dp">·</span>is<span class="dp">·</span>generally<span class="dp">·</span>not<span class="dp">·</span>good,<span class="dp">·</span>so<span class="dp">·</span>here<span class="dp">·</span>we<span class="dp">·</span>choose<span class="dp">·</span>`1e-5`.</td><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>default<span class="dp">·</span>value<span class="dp">·</span>of<span class="dp">·</span>`1e-8`<span class="dp">·</span>for<span class="dp">·</span>`epsilon`<span class="dp">·</span>is<span class="dp">·</span>generally<span class="dp">·</span>not<span class="dp">·</span>good,<span class="dp">·</span>so<span class="dp">·</span>here<span class="dp">·</span>we<span class="dp">·</span>choose<span class="dp">·</span>`1e-5`.</td></tr>
<tr class="diffunmodified"><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Users<span class="dp">·</span>can<span class="dp">·</span>try<span class="dp">·</span>tuning<span class="dp">·</span>this<span class="dp">·</span>hyperparameter<span class="dp">·</span>if<span class="dp">·</span>the<span class="dp">·</span>training<span class="dp">·</span>is<span class="dp">·</span>unstable.</td><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Users<span class="dp">·</span>can<span class="dp">·</span>try<span class="dp">·</span>tuning<span class="dp">·</span>this<span class="dp">·</span>hyperparameter<span class="dp">·</span>if<span class="dp">·</span>the<span class="dp">·</span>training<span class="dp">·</span>is<span class="dp">·</span>unstable.</td></tr>
<tr class="diffunmodified"><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Regularization<span class="dp">·</span>parameter,<span class="dp">·</span>must<span class="dp">·</span>be<span class="dp">·</span>non-negative<span class="dp">·</span>or<span class="dp">·</span>None.</td><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Regularization<span class="dp">·</span>parameter,<span class="dp">·</span>must<span class="dp">·</span>be<span class="dp">·</span>non-negative<span class="dp">·</span>or<span class="dp">·</span>None.</td></tr>
<tr class="diffunmodified"><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>256</td><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>256</td></tr>
<tr class="diffunmodified"><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Batch<span class="dp">·</span>size<span class="dp">·</span>for<span class="dp">·</span>training.</td><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Batch<span class="dp">·</span>size<span class="dp">·</span>for<span class="dp">·</span>training.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sampler<span class="dp">·</span>:<span class="dp">·</span>{&#x27;random&#x27;,<span class="dp">·</span>&#x27;unconsumed&#x27;,<span class="dp">·</span>&#x27;popular&#x27;},<span class="dp">·</span>default:<span class="dp">·</span>&#x27;random&#x27;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Negative<span class="dp">·</span>sampling<span class="dp">·</span>strategy.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-<span class="dp">·</span>``&#x27;random&#x27;``<span class="dp">·</span>means<span class="dp">·</span>random<span class="dp">·</span>sampling.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-<span class="dp">·</span>``&#x27;unconsumed&#x27;``<span class="dp">·</span>samples<span class="dp">·</span>items<span class="dp">·</span>that<span class="dp">·</span>the<span class="dp">·</span>target<span class="dp">·</span>user<span class="dp">·</span>did<span class="dp">·</span>not<span class="dp">·</span>consume<span class="dp">·</span>before.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-<span class="dp">·</span>``&#x27;popular&#x27;``<span class="dp">·</span>has<span class="dp">·</span>a<span class="dp">·</span>higher<span class="dp">·</span>probability<span class="dp">·</span>to<span class="dp">·</span>sample<span class="dp">·</span>popular<span class="dp">·</span>items<span class="dp">·</span>as<span class="dp">·</span>negative<span class="dp">·</span>samples.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>versionadded::<span class="dp">·</span>1.1.0</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>1</td><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>1</td></tr>
<tr class="diffunmodified"><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>negative<span class="dp">·</span>samples<span class="dp">·</span>for<span class="dp">·</span>each<span class="dp">·</span>positive<span class="dp">·</span>sample,<span class="dp">·</span>only<span class="dp">·</span>used<span class="dp">·</span>in<span class="dp">·</span>`ranking`<span class="dp">·</span>task.</td><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>negative<span class="dp">·</span>samples<span class="dp">·</span>for<span class="dp">·</span>each<span class="dp">·</span>positive<span class="dp">·</span>sample,<span class="dp">·</span>only<span class="dp">·</span>used<span class="dp">·</span>in<span class="dp">·</span>`ranking`<span class="dp">·</span>task.</td></tr>
<tr class="diffunmodified"><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_bn<span class="dp">·</span>:<span class="dp">·</span>bool,<span class="dp">·</span>default:<span class="dp">·</span>True</td><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_bn<span class="dp">·</span>:<span class="dp">·</span>bool,<span class="dp">·</span>default:<span class="dp">·</span>True</td></tr>
<tr class="diffunmodified"><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Whether<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>batch<span class="dp">·</span>normalization.</td><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Whether<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>batch<span class="dp">·</span>normalization.</td></tr>
<tr class="diffunmodified"><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_rate<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_rate<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Probability<span class="dp">·</span>of<span class="dp">·</span>an<span class="dp">·</span>element<span class="dp">·</span>to<span class="dp">·</span>be<span class="dp">·</span>zeroed.<span class="dp">·</span>If<span class="dp">·</span>it<span class="dp">·</span>is<span class="dp">·</span>None,<span class="dp">·</span>dropout<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>used.</td><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Probability<span class="dp">·</span>of<span class="dp">·</span>an<span class="dp">·</span>element<span class="dp">·</span>to<span class="dp">·</span>be<span class="dp">·</span>zeroed.<span class="dp">·</span>If<span class="dp">·</span>it<span class="dp">·</span>is<span class="dp">·</span>None,<span class="dp">·</span>dropout<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>used.</td></tr>
<tr class="diffunmodified"><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_filters<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>16</td><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_filters<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>16</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 87, 46 lines modified</td><td colspan="2">Offset 84, 52 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">87 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size=16,</td><td class="diffline">84 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size=16,</td></tr>
<tr class="diffunmodified"><td class="diffline">88 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_epochs=20,</td><td class="diffline">85 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_epochs=20,</td></tr>
<tr class="diffunmodified"><td class="diffline">89 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr=0.001,</td><td class="diffline">86 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr=0.001,</td></tr>
<tr class="diffunmodified"><td class="diffline">90 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr_decay=False,</td><td class="diffline">87 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr_decay=False,</td></tr>
<tr class="diffunmodified"><td class="diffline">91 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>epsilon=1e-5,</td><td class="diffline">88 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>epsilon=1e-5,</td></tr>
<tr class="diffunmodified"><td class="diffline">92 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg=None,</td><td class="diffline">89 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">93 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size=256,</td><td class="diffline">90 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size=256,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">91 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sampler=&quot;random&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">94 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg=1,</td><td class="diffline">92 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg=1,</td></tr>
<tr class="diffunmodified"><td class="diffline">95 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_rate=None,</td><td class="diffline">93 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_rate=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">96 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_bn=False,</td><td class="diffline">94 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_bn=False,</td></tr>
<tr class="diffunmodified"><td class="diffline">97 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_filters=16,</td><td class="diffline">95 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_filters=16,</td></tr>
<tr class="diffunmodified"><td class="diffline">98 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_blocks=1,</td><td class="diffline">96 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_blocks=1,</td></tr>
<tr class="diffunmodified"><td class="diffline">99 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_layers_per_block=4,</td><td class="diffline">97 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_layers_per_block=4,</td></tr>
<tr class="diffunmodified"><td class="diffline">100 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>recent_num=10,</td><td class="diffline">98 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>recent_num=10,</td></tr>
<tr class="diffunmodified"><td class="diffline">101 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>random_num=None,</td><td class="diffline">99 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>random_num=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">102 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed=42,</td><td class="diffline">100 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed=42,</td></tr>
<tr class="diffunmodified"><td class="diffline">103 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lower_upper_bound=None,</td><td class="diffline">101 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lower_upper_bound=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">104 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf_sess_config=None,</td><td class="diffline">102 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf_sess_config=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">105 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td><td class="diffline">103 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td></tr>
<tr class="diffdeleted"><td class="diffline">106 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>super().__init__(task,<span class="dp">·</span>data_info,<span class="dp">·</span>embed_size,<span class="dp">·</span>lower_upper_bound)</td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">104 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>super().__init__(</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">105 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">106 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">107 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">108 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>recent_num,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">109 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>random_num,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">110 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lower_upper_bound,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">111 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf_sess_config,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">112 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td class="diffline">107 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.all_args<span class="dp">·</span>=<span class="dp">·</span>locals()</td><td class="diffline">113 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.all_args<span class="dp">·</span>=<span class="dp">·</span>locals()</td></tr>
<tr class="diffdeleted"><td class="diffline">108 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sess<span class="dp">·</span>=<span class="dp">·</span>sess_config(tf_sess_config)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">109 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.loss_type<span class="dp">·</span>=<span class="dp">·</span>loss_type</td><td class="diffline">114 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.loss_type<span class="dp">·</span>=<span class="dp">·</span>loss_type</td></tr>
<tr class="diffunmodified"><td class="diffline">110 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.n_epochs<span class="dp">·</span>=<span class="dp">·</span>n_epochs</td><td class="diffline">115 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.n_epochs<span class="dp">·</span>=<span class="dp">·</span>n_epochs</td></tr>
<tr class="diffunmodified"><td class="diffline">111 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.lr<span class="dp">·</span>=<span class="dp">·</span>lr</td><td class="diffline">116 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.lr<span class="dp">·</span>=<span class="dp">·</span>lr</td></tr>
<tr class="diffunmodified"><td class="diffline">112 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.lr_decay<span class="dp">·</span>=<span class="dp">·</span>lr_decay</td><td class="diffline">117 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.lr_decay<span class="dp">·</span>=<span class="dp">·</span>lr_decay</td></tr>
<tr class="diffunmodified"><td class="diffline">113 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.epsilon<span class="dp">·</span>=<span class="dp">·</span>epsilon</td><td class="diffline">118 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.epsilon<span class="dp">·</span>=<span class="dp">·</span>epsilon</td></tr>
<tr class="diffunmodified"><td class="diffline">114 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.reg<span class="dp">·</span>=<span class="dp">·</span>reg_config(reg)</td><td class="diffline">119 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.reg<span class="dp">·</span>=<span class="dp">·</span>reg_config(reg)</td></tr>
<tr class="diffunmodified"><td class="diffline">115 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.batch_size<span class="dp">·</span>=<span class="dp">·</span>batch_size</td><td class="diffline">120 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.batch_size<span class="dp">·</span>=<span class="dp">·</span>batch_size</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">121 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sampler<span class="dp">·</span>=<span class="dp">·</span>sampler</td></tr>
<tr class="diffunmodified"><td class="diffline">116 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.num_neg<span class="dp">·</span>=<span class="dp">·</span>num_neg</td><td class="diffline">122 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.num_neg<span class="dp">·</span>=<span class="dp">·</span>num_neg</td></tr>
<tr class="diffunmodified"><td class="diffline">117 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.dropout_rate<span class="dp">·</span>=<span class="dp">·</span>dropout_config(dropout_rate)</td><td class="diffline">123 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.dropout_rate<span class="dp">·</span>=<span class="dp">·</span>dropout_config(dropout_rate)</td></tr>
<tr class="diffunmodified"><td class="diffline">118 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.use_bn<span class="dp">·</span>=<span class="dp">·</span>use_bn</td><td class="diffline">124 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.use_bn<span class="dp">·</span>=<span class="dp">·</span>use_bn</td></tr>
<tr class="diffunmodified"><td class="diffline">119 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.n_filters<span class="dp">·</span>=<span class="dp">·</span>n_filters</td><td class="diffline">125 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.n_filters<span class="dp">·</span>=<span class="dp">·</span>n_filters</td></tr>
<tr class="diffunmodified"><td class="diffline">120 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.n_blocks<span class="dp">·</span>=<span class="dp">·</span>n_blocks</td><td class="diffline">126 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.n_blocks<span class="dp">·</span>=<span class="dp">·</span>n_blocks</td></tr>
<tr class="diffunmodified"><td class="diffline">121 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.n_layers_per_block<span class="dp">·</span>=<span class="dp">·</span>n_layers_per_block</td><td class="diffline">127 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.n_layers_per_block<span class="dp">·</span>=<span class="dp">·</span>n_layers_per_block</td></tr>
<tr class="diffunmodified"><td class="diffline">122 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.seed<span class="dp">·</span>=<span class="dp">·</span>seed</td><td class="diffline">128 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.seed<span class="dp">·</span>=<span class="dp">·</span>seed</td></tr>
<tr class="diffdeleted"><td class="diffline">123 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.seq_mode,<span class="dp">·</span>self.max_seq_len<span class="dp">·</span>=<span class="dp">·</span>check_seq_mode(recent_num,<span class="dp">·</span>random_num)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">124 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.recent_seqs,<span class="dp">·</span>self.recent_seq_lens<span class="dp">·</span>=<span class="dp">·</span>self._set_recent_seqs()</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">125 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>build_model(self):</td><td class="diffline">129 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>build_model(self):</td></tr>
<tr class="diffunmodified"><td class="diffline">126 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf.set_random_seed(self.seed)</td><td class="diffline">130 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf.set_random_seed(self.seed)</td></tr>
<tr class="diffunmodified"><td class="diffline">127 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self._build_placeholders()</td><td class="diffline">131 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self._build_placeholders()</td></tr>
<tr class="diffunmodified"><td class="diffline">128 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self._build_variables()</td><td class="diffline">132 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self._build_variables()</td></tr>
<tr class="diffunmodified"><td class="diffline">129 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self._build_user_embeddings()</td><td class="diffline">133 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self._build_user_embeddings()</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffhunk"><td colspan="2">Offset 200, 37 lines modified</td><td colspan="2">Offset 203, 12 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">200 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>filters=self.n_filters,</td><td class="diffline">203 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>filters=self.n_filters,</td></tr>
<tr class="diffunmodified"><td class="diffline">201 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>kernel_size=1,</td><td class="diffline">204 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>kernel_size=1,</td></tr>
<tr class="diffunmodified"><td class="diffline">202 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>strides=1,</td><td class="diffline">205 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>strides=1,</td></tr>
<tr class="diffunmodified"><td class="diffline">203 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>padding=&quot;valid&quot;,</td><td class="diffline">206 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>padding=&quot;valid&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">204 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>activation=tf.nn.relu,</td><td class="diffline">207 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>activation=tf.nn.relu,</td></tr>
<tr class="diffunmodified"><td class="diffline">205 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)(inputs=convs_out)</td><td class="diffline">208 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)(inputs=convs_out)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">206 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>convs_out<span class="dp">·</span>=<span class="dp">·</span>tf.layers.flatten(convs_out)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">207 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>p_size<span class="dp">·</span>=<span class="dp">·</span>convs_out.get_shape().as_list()[1]</td><td class="diffline">209 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>p_size<span class="dp">·</span>=<span class="dp">·</span>convs_out.get_shape().as_list()[1]</td></tr>
<tr class="diffchanged"><td class="diffline">208 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>convs_out<span class="dp">·</span>=<span class="dp">·</span>max_pool(pool_size=p_size,<span class="dp">·</span>strides=1,<span class="dp">·</span>padding=&quot;valid&quot;)(</td><td class="diffline">210 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>convs_out<span class="dp">·</span>=<span class="dp">·</span>max_pool(pool_size=p_size,<span class="dp">·</span>strides=1,<span class="dp">·</span>padding=&quot;valid&quot;)(<ins>convs_out)</ins></td></tr>
<tr class="diffdeleted"><td class="diffline">209 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>inputs=convs_out</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">210 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">211 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>convs_out<span class="dp">·</span>=<span class="dp">·</span>tf.squeeze(convs_out,<span class="dp">·</span>axis=1)</td><td class="diffline">211 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>convs_out<span class="dp">·</span>=<span class="dp">·</span>tf.squeeze(convs_out,<span class="dp">·</span>axis=1)</td></tr>
<tr class="diffunmodified"><td class="diffline">212 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>convs_out<span class="dp">·</span>=<span class="dp">·</span>tf_dense(units=self.embed_size,<span class="dp">·</span>activation=None)(convs_out)</td><td class="diffline">212 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>convs_out<span class="dp">·</span>=<span class="dp">·</span>tf_dense(units=self.embed_size,<span class="dp">·</span>activation=None)(convs_out)</td></tr>
<tr class="diffunmodified"><td class="diffline">213 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.user_vector<span class="dp">·</span>=<span class="dp">·</span>tf.concat([user_repr,<span class="dp">·</span>convs_out],<span class="dp">·</span>axis=1)</td><td class="diffline">213 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.user_vector<span class="dp">·</span>=<span class="dp">·</span>tf.concat([user_repr,<span class="dp">·</span>convs_out],<span class="dp">·</span>axis=1)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="error"><td colspan="4">
Max diff block lines reached; -1/5494 bytes (-0.02%) of diff not shown.
</td></tr></table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">3.02 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/algorithms/wide_deep.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-wide_deep.py"><span class="source">LibRecommender-1.1.0/libreco/algorithms/wide_deep.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-wide_deep.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 2% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 9 lines modified</td><td colspan="2">Offset 1, 10 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">1 </td><td class="diffpresent">&quot;&quot;&quot;Implementation<span class="dp">·</span>of<span class="dp">·</span>Wide<span class="dp">·</span>&amp;<span class="dp">·</span>Deep.&quot;&quot;&quot;</td><td class="diffline">1 </td><td class="diffpresent">&quot;&quot;&quot;Implementation<span class="dp">·</span>of<span class="dp">·</span>Wide<span class="dp">·</span>&amp;<span class="dp">·</span>Deep.&quot;&quot;&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">2 </td><td class="diffpresent">from<span class="dp">·</span>..bases<span class="dp">·</span>import<span class="dp">·</span>ModelMeta,<span class="dp">·</span>TfBase</td><td class="diffline">2 </td><td class="diffpresent">from<span class="dp">·</span>..bases<span class="dp">·</span>import<span class="dp">·</span>ModelMeta,<span class="dp">·</span>TfBase</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">3 </td><td class="diffpresent">from<span class="dp">·</span>..feature.multi_sparse<span class="dp">·</span>import<span class="dp">·</span>true_sparse_field_size</td></tr>
<tr class="diffunmodified"><td class="diffline">3 </td><td class="diffpresent">from<span class="dp">·</span>..tfops<span class="dp">·</span>import<span class="dp">·</span>(</td><td class="diffline">4 </td><td class="diffpresent">from<span class="dp">·</span>..tfops<span class="dp">·</span>import<span class="dp">·</span>(</td></tr>
<tr class="diffunmodified"><td class="diffline">4 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_nn,</td><td class="diffline">5 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_nn,</td></tr>
<tr class="diffunmodified"><td class="diffline">5 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_config,</td><td class="diffline">6 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_config,</td></tr>
<tr class="diffunmodified"><td class="diffline">6 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>multi_sparse_combine_embedding,</td><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>multi_sparse_combine_embedding,</td></tr>
<tr class="diffunmodified"><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg_config,</td><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg_config,</td></tr>
<tr class="diffunmodified"><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf,</td><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf,</td></tr>
<tr class="diffunmodified"><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf_dense,</td><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf_dense,</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 13, 15 lines modified</td><td colspan="2">Offset 14, 14 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">13 </td><td class="diffpresent">from<span class="dp">·</span>..utils.validate<span class="dp">·</span>import<span class="dp">·</span>(</td><td class="diffline">14 </td><td class="diffpresent">from<span class="dp">·</span>..utils.validate<span class="dp">·</span>import<span class="dp">·</span>(</td></tr>
<tr class="diffunmodified"><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_dense_values,</td><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_dense_values,</td></tr>
<tr class="diffunmodified"><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_multi_sparse,</td><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_multi_sparse,</td></tr>
<tr class="diffunmodified"><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_sparse_indices,</td><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_sparse_indices,</td></tr>
<tr class="diffunmodified"><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_field_size,</td><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_field_size,</td></tr>
<tr class="diffunmodified"><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_feat_size,</td><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_feat_size,</td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_field_size,</td><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_field_size,</td></tr>
<tr class="diffdeleted"><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>true_sparse_field_size,</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent">)</td><td class="diffline">21 </td><td class="diffpresent">)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent">class<span class="dp">·</span>WideDeep(TfBase,<span class="dp">·</span>metaclass=ModelMeta):</td><td class="diffline">22 </td><td class="diffpresent">class<span class="dp">·</span>WideDeep(TfBase,<span class="dp">·</span>metaclass=ModelMeta):</td></tr>
<tr class="diffunmodified"><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;*Wide<span class="dp">·</span>&amp;<span class="dp">·</span>Deep*<span class="dp">·</span>algorithm.</td><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;*Wide<span class="dp">·</span>&amp;<span class="dp">·</span>Deep*<span class="dp">·</span>algorithm.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 47, 14 lines modified</td><td colspan="2">Offset 47, 23 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>According<span class="dp">·</span>to<span class="dp">·</span>the<span class="dp">·</span>`official<span class="dp">·</span>comment<span class="dp">·</span>&lt;https://github.com/tensorflow/tensorflow/blob/v1.15.0/tensorflow/python/training/adam.py#L64&gt;`_,</td><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>According<span class="dp">·</span>to<span class="dp">·</span>the<span class="dp">·</span>`official<span class="dp">·</span>comment<span class="dp">·</span>&lt;https://github.com/tensorflow/tensorflow/blob/v1.15.0/tensorflow/python/training/adam.py#L64&gt;`_,</td></tr>
<tr class="diffunmodified"><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>default<span class="dp">·</span>value<span class="dp">·</span>of<span class="dp">·</span>`1e-8`<span class="dp">·</span>for<span class="dp">·</span>`epsilon`<span class="dp">·</span>is<span class="dp">·</span>generally<span class="dp">·</span>not<span class="dp">·</span>good,<span class="dp">·</span>so<span class="dp">·</span>here<span class="dp">·</span>we<span class="dp">·</span>choose<span class="dp">·</span>`1e-5`.</td><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>default<span class="dp">·</span>value<span class="dp">·</span>of<span class="dp">·</span>`1e-8`<span class="dp">·</span>for<span class="dp">·</span>`epsilon`<span class="dp">·</span>is<span class="dp">·</span>generally<span class="dp">·</span>not<span class="dp">·</span>good,<span class="dp">·</span>so<span class="dp">·</span>here<span class="dp">·</span>we<span class="dp">·</span>choose<span class="dp">·</span>`1e-5`.</td></tr>
<tr class="diffunmodified"><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Users<span class="dp">·</span>can<span class="dp">·</span>try<span class="dp">·</span>tuning<span class="dp">·</span>this<span class="dp">·</span>hyperparameter<span class="dp">·</span>if<span class="dp">·</span>the<span class="dp">·</span>training<span class="dp">·</span>is<span class="dp">·</span>unstable.</td><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Users<span class="dp">·</span>can<span class="dp">·</span>try<span class="dp">·</span>tuning<span class="dp">·</span>this<span class="dp">·</span>hyperparameter<span class="dp">·</span>if<span class="dp">·</span>the<span class="dp">·</span>training<span class="dp">·</span>is<span class="dp">·</span>unstable.</td></tr>
<tr class="diffunmodified"><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Regularization<span class="dp">·</span>parameter,<span class="dp">·</span>must<span class="dp">·</span>be<span class="dp">·</span>non-negative<span class="dp">·</span>or<span class="dp">·</span>None.</td><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Regularization<span class="dp">·</span>parameter,<span class="dp">·</span>must<span class="dp">·</span>be<span class="dp">·</span>non-negative<span class="dp">·</span>or<span class="dp">·</span>None.</td></tr>
<tr class="diffunmodified"><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>256</td><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>256</td></tr>
<tr class="diffunmodified"><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Batch<span class="dp">·</span>size<span class="dp">·</span>for<span class="dp">·</span>training.</td><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Batch<span class="dp">·</span>size<span class="dp">·</span>for<span class="dp">·</span>training.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sampler<span class="dp">·</span>:<span class="dp">·</span>{&#x27;random&#x27;,<span class="dp">·</span>&#x27;unconsumed&#x27;,<span class="dp">·</span>&#x27;popular&#x27;},<span class="dp">·</span>default:<span class="dp">·</span>&#x27;random&#x27;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Negative<span class="dp">·</span>sampling<span class="dp">·</span>strategy.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-<span class="dp">·</span>``&#x27;random&#x27;``<span class="dp">·</span>means<span class="dp">·</span>random<span class="dp">·</span>sampling.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-<span class="dp">·</span>``&#x27;unconsumed&#x27;``<span class="dp">·</span>samples<span class="dp">·</span>items<span class="dp">·</span>that<span class="dp">·</span>the<span class="dp">·</span>target<span class="dp">·</span>user<span class="dp">·</span>did<span class="dp">·</span>not<span class="dp">·</span>consume<span class="dp">·</span>before.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-<span class="dp">·</span>``&#x27;popular&#x27;``<span class="dp">·</span>has<span class="dp">·</span>a<span class="dp">·</span>higher<span class="dp">·</span>probability<span class="dp">·</span>to<span class="dp">·</span>sample<span class="dp">·</span>popular<span class="dp">·</span>items<span class="dp">·</span>as<span class="dp">·</span>negative<span class="dp">·</span>samples.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>versionadded::<span class="dp">·</span>1.1.0</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>1</td><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>1</td></tr>
<tr class="diffunmodified"><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>negative<span class="dp">·</span>samples<span class="dp">·</span>for<span class="dp">·</span>each<span class="dp">·</span>positive<span class="dp">·</span>sample,<span class="dp">·</span>only<span class="dp">·</span>used<span class="dp">·</span>in<span class="dp">·</span>`ranking`<span class="dp">·</span>task.</td><td class="diffline">61 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>negative<span class="dp">·</span>samples<span class="dp">·</span>for<span class="dp">·</span>each<span class="dp">·</span>positive<span class="dp">·</span>sample,<span class="dp">·</span>only<span class="dp">·</span>used<span class="dp">·</span>in<span class="dp">·</span>`ranking`<span class="dp">·</span>task.</td></tr>
<tr class="diffunmodified"><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_bn<span class="dp">·</span>:<span class="dp">·</span>bool,<span class="dp">·</span>default:<span class="dp">·</span>True</td><td class="diffline">62 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_bn<span class="dp">·</span>:<span class="dp">·</span>bool,<span class="dp">·</span>default:<span class="dp">·</span>True</td></tr>
<tr class="diffunmodified"><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Whether<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>batch<span class="dp">·</span>normalization.</td><td class="diffline">63 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Whether<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>batch<span class="dp">·</span>normalization.</td></tr>
<tr class="diffunmodified"><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_rate<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">64 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_rate<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Probability<span class="dp">·</span>of<span class="dp">·</span>an<span class="dp">·</span>element<span class="dp">·</span>to<span class="dp">·</span>be<span class="dp">·</span>zeroed.<span class="dp">·</span>If<span class="dp">·</span>it<span class="dp">·</span>is<span class="dp">·</span>None,<span class="dp">·</span>dropout<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>used.</td><td class="diffline">65 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Probability<span class="dp">·</span>of<span class="dp">·</span>an<span class="dp">·</span>element<span class="dp">·</span>to<span class="dp">·</span>be<span class="dp">·</span>zeroed.<span class="dp">·</span>If<span class="dp">·</span>it<span class="dp">·</span>is<span class="dp">·</span>None,<span class="dp">·</span>dropout<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>used.</td></tr>
<tr class="diffunmodified"><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hidden_units<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>list<span class="dp">·</span>of<span class="dp">·</span>int<span class="dp">·</span>or<span class="dp">·</span>tuple<span class="dp">·</span>of<span class="dp">·</span>(int,),<span class="dp">·</span>default:<span class="dp">·</span>(128,<span class="dp">·</span>64,<span class="dp">·</span>32)</td><td class="diffline">66 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hidden_units<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>list<span class="dp">·</span>of<span class="dp">·</span>int<span class="dp">·</span>or<span class="dp">·</span>tuple<span class="dp">·</span>of<span class="dp">·</span>(int,),<span class="dp">·</span>default:<span class="dp">·</span>(128,<span class="dp">·</span>64,<span class="dp">·</span>32)</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 99, 14 lines modified</td><td colspan="2">Offset 108, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">99 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size=16,</td><td class="diffline">108 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size=16,</td></tr>
<tr class="diffunmodified"><td class="diffline">100 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_epochs=20,</td><td class="diffline">109 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_epochs=20,</td></tr>
<tr class="diffunmodified"><td class="diffline">101 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr=None,</td><td class="diffline">110 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">102 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr_decay=False,</td><td class="diffline">111 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr_decay=False,</td></tr>
<tr class="diffunmodified"><td class="diffline">103 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>epsilon=1e-5,</td><td class="diffline">112 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>epsilon=1e-5,</td></tr>
<tr class="diffunmodified"><td class="diffline">104 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg=None,</td><td class="diffline">113 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">105 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size=256,</td><td class="diffline">114 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size=256,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">115 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sampler=&quot;random&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">106 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg=1,</td><td class="diffline">116 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg=1,</td></tr>
<tr class="diffunmodified"><td class="diffline">107 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_bn=True,</td><td class="diffline">117 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_bn=True,</td></tr>
<tr class="diffunmodified"><td class="diffline">108 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_rate=None,</td><td class="diffline">118 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_rate=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">109 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hidden_units=(128,<span class="dp">·</span>64,<span class="dp">·</span>32),</td><td class="diffline">119 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hidden_units=(128,<span class="dp">·</span>64,<span class="dp">·</span>32),</td></tr>
<tr class="diffunmodified"><td class="diffline">110 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>multi_sparse_combiner=&quot;sqrtn&quot;,</td><td class="diffline">120 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>multi_sparse_combiner=&quot;sqrtn&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">111 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed=42,</td><td class="diffline">121 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed=42,</td></tr>
<tr class="diffunmodified"><td class="diffline">112 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lower_upper_bound=None,</td><td class="diffline">122 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lower_upper_bound=None,</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 119, 14 lines modified</td><td colspan="2">Offset 129, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">119 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.embed_size<span class="dp">·</span>=<span class="dp">·</span>embed_size</td><td class="diffline">129 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.embed_size<span class="dp">·</span>=<span class="dp">·</span>embed_size</td></tr>
<tr class="diffunmodified"><td class="diffline">120 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.n_epochs<span class="dp">·</span>=<span class="dp">·</span>n_epochs</td><td class="diffline">130 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.n_epochs<span class="dp">·</span>=<span class="dp">·</span>n_epochs</td></tr>
<tr class="diffunmodified"><td class="diffline">121 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.lr<span class="dp">·</span>=<span class="dp">·</span>self.check_lr(lr)</td><td class="diffline">131 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.lr<span class="dp">·</span>=<span class="dp">·</span>self.check_lr(lr)</td></tr>
<tr class="diffunmodified"><td class="diffline">122 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.lr_decay<span class="dp">·</span>=<span class="dp">·</span>lr_decay</td><td class="diffline">132 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.lr_decay<span class="dp">·</span>=<span class="dp">·</span>lr_decay</td></tr>
<tr class="diffunmodified"><td class="diffline">123 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.epsilon<span class="dp">·</span>=<span class="dp">·</span>epsilon</td><td class="diffline">133 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.epsilon<span class="dp">·</span>=<span class="dp">·</span>epsilon</td></tr>
<tr class="diffunmodified"><td class="diffline">124 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.reg<span class="dp">·</span>=<span class="dp">·</span>reg_config(reg)</td><td class="diffline">134 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.reg<span class="dp">·</span>=<span class="dp">·</span>reg_config(reg)</td></tr>
<tr class="diffunmodified"><td class="diffline">125 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.batch_size<span class="dp">·</span>=<span class="dp">·</span>batch_size</td><td class="diffline">135 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.batch_size<span class="dp">·</span>=<span class="dp">·</span>batch_size</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">136 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sampler<span class="dp">·</span>=<span class="dp">·</span>sampler</td></tr>
<tr class="diffunmodified"><td class="diffline">126 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.num_neg<span class="dp">·</span>=<span class="dp">·</span>num_neg</td><td class="diffline">137 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.num_neg<span class="dp">·</span>=<span class="dp">·</span>num_neg</td></tr>
<tr class="diffunmodified"><td class="diffline">127 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.use_bn<span class="dp">·</span>=<span class="dp">·</span>use_bn</td><td class="diffline">138 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.use_bn<span class="dp">·</span>=<span class="dp">·</span>use_bn</td></tr>
<tr class="diffunmodified"><td class="diffline">128 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.dropout_rate<span class="dp">·</span>=<span class="dp">·</span>dropout_config(dropout_rate)</td><td class="diffline">139 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.dropout_rate<span class="dp">·</span>=<span class="dp">·</span>dropout_config(dropout_rate)</td></tr>
<tr class="diffunmodified"><td class="diffline">129 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.hidden_units<span class="dp">·</span>=<span class="dp">·</span>hidden_units_config(hidden_units)</td><td class="diffline">140 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.hidden_units<span class="dp">·</span>=<span class="dp">·</span>hidden_units_config(hidden_units)</td></tr>
<tr class="diffunmodified"><td class="diffline">130 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.seed<span class="dp">·</span>=<span class="dp">·</span>seed</td><td class="diffline">141 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.seed<span class="dp">·</span>=<span class="dp">·</span>seed</td></tr>
<tr class="diffunmodified"><td class="diffline">131 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sparse<span class="dp">·</span>=<span class="dp">·</span>check_sparse_indices(data_info)</td><td class="diffline">142 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sparse<span class="dp">·</span>=<span class="dp">·</span>check_sparse_indices(data_info)</td></tr>
<tr class="diffunmodified"><td class="diffline">132 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.dense<span class="dp">·</span>=<span class="dp">·</span>check_dense_values(data_info)</td><td class="diffline">143 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.dense<span class="dp">·</span>=<span class="dp">·</span>check_dense_values(data_info)</td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">15.7 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/algorithms/youtube_ranking.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-youtube_ranking.py"><span class="source">LibRecommender-1.1.0/libreco/algorithms/youtube_retrieval.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-algorithms-youtube_ranking.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 15% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 51 lines modified</td><td colspan="2">Offset 1, 50 lines modified</td></tr>
<tr class="diffchanged"><td class="diffline">1 </td><td class="diffpresent">&quot;&quot;&quot;Implementation<span class="dp">·</span>of<span class="dp">·</span>YouTubeR<del>ank</del>i<del>ng</del>.&quot;&quot;&quot;</td><td class="diffline">1 </td><td class="diffpresent">&quot;&quot;&quot;Implementation<span class="dp">·</span>of<span class="dp">·</span>YouTubeR<ins>etr</ins>i<ins>ev</ins><ins>al</ins>.&quot;&quot;&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">3 </td><td class="diffpresent">from<span class="dp">·</span>..bases<span class="dp">·</span>import<span class="dp">·</span><del>Mod</del>e<del>lMeta</del>,<span class="dp">·</span><del>TfBas</del>e</td><td class="diffline">3 </td><td class="diffpresent">from<span class="dp">·</span>..bases<span class="dp">·</span>import<span class="dp">·</span><ins>Emb</ins>e<ins>dBase</ins>,<span class="dp">·</span><ins>M</ins><ins>odelM</ins>e<ins>ta</ins></td></tr>
<tr class="diffchanged"><td class="diffline">4 </td><td class="diffpresent">from<span class="dp">·</span>..<del>d</del>at<del>a</del>.<del>sequenc</del>e<span class="dp">·</span>import<span class="dp">·</span><del>ge</del>t<del>_</del>u<del>s</del>e<del>r_l</del>as<del>t</del>_i<del>nteract</del>e<del>d</del></td><td class="diffline">4 </td><td class="diffpresent">from<span class="dp">·</span>..<ins>f</ins><ins>e</ins>at<ins>ur</ins><ins>e</ins>.<ins>mult</ins><ins>i_spars</ins>e<span class="dp">·</span>import<span class="dp">·</span>t<ins>r</ins>ue<ins>_sp</ins>a<ins>r</ins>s<ins>e</ins>_<ins>f</ins>i<ins>eld_siz</ins>e</td></tr>
<tr class="diffunmodified"><td class="diffline">5 </td><td class="diffpresent">from<span class="dp">·</span>..tfops<span class="dp">·</span>import<span class="dp">·</span>(</td><td class="diffline">5 </td><td class="diffpresent">from<span class="dp">·</span>..tfops<span class="dp">·</span>import<span class="dp">·</span>(</td></tr>
<tr class="diffunmodified"><td class="diffline">6 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_nn,</td><td class="diffline">6 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_nn,</td></tr>
<tr class="diffunmodified"><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_config,</td><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_config,</td></tr>
<tr class="diffunmodified"><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>multi_sparse_combine_embedding,</td><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>multi_sparse_combine_embedding,</td></tr>
<tr class="diffunmodified"><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg_config,</td><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg_config,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sess_config,</td></tr>
<tr class="diffunmodified"><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf,</td><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf,</td></tr>
<tr class="diffdeleted"><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf_dense,</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">12 </td><td class="diffpresent">)</td><td class="diffline">12 </td><td class="diffpresent">)</td></tr>
<tr class="diffunmodified"><td class="diffline">13 </td><td class="diffpresent">from<span class="dp">·</span>..torchops<span class="dp">·</span>import<span class="dp">·</span>hidden_units_config</td><td class="diffline">13 </td><td class="diffpresent">from<span class="dp">·</span>..torchops<span class="dp">·</span>import<span class="dp">·</span>hidden_units_config</td></tr>
<tr class="diffunmodified"><td class="diffline">14 </td><td class="diffpresent">from<span class="dp">·</span>..utils.misc<span class="dp">·</span>import<span class="dp">·</span>count_params</td><td class="diffline">14 </td><td class="diffpresent">from<span class="dp">·</span>..utils.misc<span class="dp">·</span>import<span class="dp">·</span>count_params</td></tr>
<tr class="diffunmodified"><td class="diffline">15 </td><td class="diffpresent">from<span class="dp">·</span>..utils.validate<span class="dp">·</span>import<span class="dp">·</span>(</td><td class="diffline">15 </td><td class="diffpresent">from<span class="dp">·</span>..utils.validate<span class="dp">·</span>import<span class="dp">·</span>(</td></tr>
<tr class="diffunmodified"><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_dense_values,</td><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_dense_values,</td></tr>
<tr class="diffdeleted"><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_seq_mode,</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_multi_sparse,</td><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_multi_sparse,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_seq_mode,</td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_sparse_indices,</td><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_sparse_indices,</td></tr>
<tr class="diffunmodified"><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_field_size,</td><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_field_size,</td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_feat_size,</td><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_feat_size,</td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_field_size,</td><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_field_size,</td></tr>
<tr class="diffdeleted"><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>true_sparse_field_size,</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">24 </td><td class="diffpresent">)</td><td class="diffline">23 </td><td class="diffpresent">)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">25 </td><td class="diffpresent">class<span class="dp">·</span>YouTubeR<del>ank</del>i<del>ng</del>(<del>Tf</del>Base,<span class="dp">·</span>metaclass=ModelMeta):</td><td class="diffline">24 </td><td class="diffpresent">class<span class="dp">·</span>YouTubeR<ins>etr</ins>i<ins>ev</ins><ins>al</ins>(<ins>Emb</ins><ins>ed</ins>Base,<span class="dp">·</span>metaclass=ModelMet<ins>a,<span class="dp">·</span>b</ins>a<ins>ckend=&quot;tensorflow&quot;</ins>):</td></tr>
<tr class="diffchanged"><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;*YouTubeR<del>ank</del>i<del>ng</del>*<span class="dp">·</span>algorithm.</td><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;*YouTubeR<ins>etr</ins>i<ins>ev</ins><ins>al</ins>*<span class="dp">·</span>algorithm.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>NOTE::</td><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>NOTE::</td></tr>
<tr class="diffchanged"><td class="diffline">28 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>The<span class="dp">·</span>algorithm<span class="dp">·</span>implemented<span class="dp">·</span>mainly<span class="dp">·</span>corresponds<span class="dp">·</span>to<span class="dp">·</span>the<span class="dp">·</span><del>r</del>an<del>k</del>i<del>n</del>g<del><span class="dp">·</span>ph</del>a<del>se</del></td><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>The<span class="dp">·</span>algorithm<span class="dp">·</span>implemented<span class="dp">·</span>mainly<span class="dp">·</span>corresponds<span class="dp">·</span>to<span class="dp">·</span>the<span class="dp">·</span><ins>c</ins>an<ins>d</ins>i<ins>date</ins><ins><span class="dp">·</span></ins>g<ins>e</ins><ins>ner</ins>a<ins>ti</ins><ins>on</ins></td></tr>
<tr class="diffchanged"><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>based<span class="dp">·</span>on<span class="dp">·</span>the<span class="dp">·</span>original<span class="dp">·</span>paper.</td><td class="diffline">28 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>phase<span class="dp">·</span></ins>based<span class="dp">·</span>on<span class="dp">·</span>the<span class="dp">·</span>original<span class="dp">·</span>paper.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>WARNING::</td><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>WARNING::</td></tr>
<tr class="diffchanged"><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>YouTubeR<del>ank</del>i<del>ng</del><span class="dp">·</span>can<span class="dp">·</span>only<span class="dp">·</span>be<span class="dp">·</span>used<span class="dp">·</span>in<span class="dp">·</span>`ranking`<span class="dp">·</span>task.</td><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>YouTubeR<ins>etr</ins>i<ins>ev</ins><ins>al</ins><span class="dp">·</span>can<span class="dp">·</span>only<span class="dp">·</span>be<span class="dp">·</span>used<span class="dp">·</span>in<span class="dp">·</span>`ranking`<span class="dp">·</span>task.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td></tr>
<tr class="diffunmodified"><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td></tr>
<tr class="diffunmodified"><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task<span class="dp">·</span>:<span class="dp">·</span>{&#x27;ranking&#x27;}</td><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task<span class="dp">·</span>:<span class="dp">·</span>{&#x27;ranking&#x27;}</td></tr>
<tr class="diffunmodified"><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Recommendation<span class="dp">·</span>task.<span class="dp">·</span>See<span class="dp">·</span>:ref:`Task`.</td><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Recommendation<span class="dp">·</span>task.<span class="dp">·</span>See<span class="dp">·</span>:ref:`Task`.</td></tr>
<tr class="diffunmodified"><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info<span class="dp">·</span>:<span class="dp">·</span>:class:`~libreco.data.DataInfo`<span class="dp">·</span>object</td><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info<span class="dp">·</span>:<span class="dp">·</span>:class:`~libreco.data.DataInfo`<span class="dp">·</span>object</td></tr>
<tr class="diffunmodified"><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Object<span class="dp">·</span>that<span class="dp">·</span>contains<span class="dp">·</span>useful<span class="dp">·</span>information<span class="dp">·</span>for<span class="dp">·</span>training<span class="dp">·</span>and<span class="dp">·</span>inference.</td><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Object<span class="dp">·</span>that<span class="dp">·</span>contains<span class="dp">·</span>useful<span class="dp">·</span>information<span class="dp">·</span>for<span class="dp">·</span>training<span class="dp">·</span>and<span class="dp">·</span>inference.</td></tr>
<tr class="diffchanged"><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>loss_type<span class="dp">·</span>:<span class="dp">·</span>{&#x27;<del>cross</del>_<del>entropy</del>&#x27;,<span class="dp">·</span>&#x27;<del>f</del><del>o</del>c<del>a</del><del>l</del>&#x27;},<span class="dp">·</span>default:<span class="dp">·</span>&#x27;<del>cross</del>_<del>entropy</del>&#x27;</td><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>loss_type<span class="dp">·</span>:<span class="dp">·</span>{&#x27;<ins>sa</ins><ins>mpled</ins>_<ins>softmax</ins>&#x27;,<span class="dp">·</span>&#x27;<ins>n</ins>c<ins>e</ins>&#x27;},<span class="dp">·</span>default:<span class="dp">·</span>&#x27;<ins>sa</ins><ins>mpled</ins>_<ins>softmax</ins>&#x27;</td></tr>
<tr class="diffunmodified"><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Loss<span class="dp">·</span>for<span class="dp">·</span>model<span class="dp">·</span>training.</td><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Loss<span class="dp">·</span>for<span class="dp">·</span>model<span class="dp">·</span>training.</td></tr>
<tr class="diffunmodified"><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>16</td><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>16</td></tr>
<tr class="diffunmodified"><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Vector<span class="dp">·</span>size<span class="dp">·</span>of<span class="dp">·</span>embeddings.</td><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Vector<span class="dp">·</span>size<span class="dp">·</span>of<span class="dp">·</span>embeddings.</td></tr>
<tr class="diffunmodified"><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_epochs:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>10</td><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_epochs:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>10</td></tr>
<tr class="diffunmodified"><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>epochs<span class="dp">·</span>for<span class="dp">·</span>training.</td><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>epochs<span class="dp">·</span>for<span class="dp">·</span>training.</td></tr>
<tr class="diffunmodified"><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr<span class="dp">·</span>:<span class="dp">·</span>float,<span class="dp">·</span>default<span class="dp">·</span>0.001</td><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr<span class="dp">·</span>:<span class="dp">·</span>float,<span class="dp">·</span>default<span class="dp">·</span>0.001</td></tr>
<tr class="diffunmodified"><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Learning<span class="dp">·</span>rate<span class="dp">·</span>for<span class="dp">·</span>training.</td><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Learning<span class="dp">·</span>rate<span class="dp">·</span>for<span class="dp">·</span>training.</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 57, 26 lines modified</td><td colspan="2">Offset 56, 30 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>According<span class="dp">·</span>to<span class="dp">·</span>the<span class="dp">·</span>`official<span class="dp">·</span>comment<span class="dp">·</span>&lt;https://github.com/tensorflow/tensorflow/blob/v1.15.0/tensorflow/python/training/adam.py#L64&gt;`_,</td><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>According<span class="dp">·</span>to<span class="dp">·</span>the<span class="dp">·</span>`official<span class="dp">·</span>comment<span class="dp">·</span>&lt;https://github.com/tensorflow/tensorflow/blob/v1.15.0/tensorflow/python/training/adam.py#L64&gt;`_,</td></tr>
<tr class="diffunmodified"><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>default<span class="dp">·</span>value<span class="dp">·</span>of<span class="dp">·</span>`1e-8`<span class="dp">·</span>for<span class="dp">·</span>`epsilon`<span class="dp">·</span>is<span class="dp">·</span>generally<span class="dp">·</span>not<span class="dp">·</span>good,<span class="dp">·</span>so<span class="dp">·</span>here<span class="dp">·</span>we<span class="dp">·</span>choose<span class="dp">·</span>`1e-5`.</td><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>default<span class="dp">·</span>value<span class="dp">·</span>of<span class="dp">·</span>`1e-8`<span class="dp">·</span>for<span class="dp">·</span>`epsilon`<span class="dp">·</span>is<span class="dp">·</span>generally<span class="dp">·</span>not<span class="dp">·</span>good,<span class="dp">·</span>so<span class="dp">·</span>here<span class="dp">·</span>we<span class="dp">·</span>choose<span class="dp">·</span>`1e-5`.</td></tr>
<tr class="diffunmodified"><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Users<span class="dp">·</span>can<span class="dp">·</span>try<span class="dp">·</span>tuning<span class="dp">·</span>this<span class="dp">·</span>hyperparameter<span class="dp">·</span>if<span class="dp">·</span>the<span class="dp">·</span>training<span class="dp">·</span>is<span class="dp">·</span>unstable.</td><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Users<span class="dp">·</span>can<span class="dp">·</span>try<span class="dp">·</span>tuning<span class="dp">·</span>this<span class="dp">·</span>hyperparameter<span class="dp">·</span>if<span class="dp">·</span>the<span class="dp">·</span>training<span class="dp">·</span>is<span class="dp">·</span>unstable.</td></tr>
<tr class="diffunmodified"><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">61 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Regularization<span class="dp">·</span>parameter,<span class="dp">·</span>must<span class="dp">·</span>be<span class="dp">·</span>non-negative<span class="dp">·</span>or<span class="dp">·</span>None.</td><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Regularization<span class="dp">·</span>parameter,<span class="dp">·</span>must<span class="dp">·</span>be<span class="dp">·</span>non-negative<span class="dp">·</span>or<span class="dp">·</span>None.</td></tr>
<tr class="diffunmodified"><td class="diffline">62 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>256</td><td class="diffline">61 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>256</td></tr>
<tr class="diffunmodified"><td class="diffline">63 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Batch<span class="dp">·</span>size<span class="dp">·</span>for<span class="dp">·</span>training.</td><td class="diffline">62 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Batch<span class="dp">·</span>size<span class="dp">·</span>for<span class="dp">·</span>training.</td></tr>
<tr class="diffdeleted"><td class="diffline">64 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>1</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">65 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>negative<span class="dp">·</span>samples<span class="dp">·</span>for<span class="dp">·</span>each<span class="dp">·</span>positive<span class="dp">·</span>sample,<span class="dp">·</span>only<span class="dp">·</span>used<span class="dp">·</span>in<span class="dp">·</span>`ranking`<span class="dp">·</span>task.</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">66 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_bn<span class="dp">·</span>:<span class="dp">·</span>bool,<span class="dp">·</span>default:<span class="dp">·</span>True</td><td class="diffline">63 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_bn<span class="dp">·</span>:<span class="dp">·</span>bool,<span class="dp">·</span>default:<span class="dp">·</span>True</td></tr>
<tr class="diffunmodified"><td class="diffline">67 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Whether<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>batch<span class="dp">·</span>normalization.</td><td class="diffline">64 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Whether<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>batch<span class="dp">·</span>normalization.</td></tr>
<tr class="diffunmodified"><td class="diffline">68 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_rate<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">65 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_rate<span class="dp">·</span>:<span class="dp">·</span>float<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">69 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Probability<span class="dp">·</span>of<span class="dp">·</span>an<span class="dp">·</span>element<span class="dp">·</span>to<span class="dp">·</span>be<span class="dp">·</span>zeroed.<span class="dp">·</span>If<span class="dp">·</span>it<span class="dp">·</span>is<span class="dp">·</span>None,<span class="dp">·</span>dropout<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>used.</td><td class="diffline">66 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Probability<span class="dp">·</span>of<span class="dp">·</span>an<span class="dp">·</span>element<span class="dp">·</span>to<span class="dp">·</span>be<span class="dp">·</span>zeroed.<span class="dp">·</span>If<span class="dp">·</span>it<span class="dp">·</span>is<span class="dp">·</span>None,<span class="dp">·</span>dropout<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>used.</td></tr>
<tr class="diffchanged"><td class="diffline">70 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hidden_units<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>list<span class="dp">·</span>of<span class="dp">·</span>int<span class="dp">·</span>or<span class="dp">·</span>tuple<span class="dp">·</span>of<span class="dp">·</span>(int,),<span class="dp">·</span>default:<span class="dp">·</span>(128,<span class="dp">·</span>64<del>,<span class="dp">·</span>32</del>)</td><td class="diffline">67 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hidden_units<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>list<span class="dp">·</span>of<span class="dp">·</span>int<span class="dp">·</span>or<span class="dp">·</span>tuple<span class="dp">·</span>of<span class="dp">·</span>(int,),<span class="dp">·</span>default:<span class="dp">·</span>(128,<span class="dp">·</span>64)</td></tr>
<tr class="diffunmodified"><td class="diffline">71 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>layers<span class="dp">·</span>and<span class="dp">·</span>corresponding<span class="dp">·</span>layer<span class="dp">·</span>size<span class="dp">·</span>in<span class="dp">·</span>MLP.</td><td class="diffline">68 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>layers<span class="dp">·</span>and<span class="dp">·</span>corresponding<span class="dp">·</span>layer<span class="dp">·</span>size<span class="dp">·</span>in<span class="dp">·</span>MLP.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">72 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>versionchanged::<span class="dp">·</span>1.0.0</td><td class="diffline">69 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>versionchanged::<span class="dp">·</span>1.0.0</td></tr>
<tr class="diffunmodified"><td class="diffline">73 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Accept<span class="dp">·</span>type<span class="dp">·</span>of<span class="dp">·</span>``int``,<span class="dp">·</span>``list``<span class="dp">·</span>or<span class="dp">·</span>``tuple``,<span class="dp">·</span>instead<span class="dp">·</span>of<span class="dp">·</span>``str``.</td><td class="diffline">70 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Accept<span class="dp">·</span>type<span class="dp">·</span>of<span class="dp">·</span>``int``,<span class="dp">·</span>``list``<span class="dp">·</span>or<span class="dp">·</span>``tuple``,<span class="dp">·</span>instead<span class="dp">·</span>of<span class="dp">·</span>``str``.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">71 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_sampled_per_batch<span class="dp">·</span>:<span class="dp">·</span>int<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">72 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>negative<span class="dp">·</span>samples<span class="dp">·</span>in<span class="dp">·</span>a<span class="dp">·</span>batch.<span class="dp">·</span>If<span class="dp">·</span>None,<span class="dp">·</span>it<span class="dp">·</span>is<span class="dp">·</span>set<span class="dp">·</span>to<span class="dp">·</span>`batch_size`.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">73 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sampler<span class="dp">·</span>:<span class="dp">·</span>str,<span class="dp">·</span>default:<span class="dp">·</span>&#x27;uniform&#x27;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">74 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Negative<span class="dp">·</span>Sampling<span class="dp">·</span>strategy.<span class="dp">·</span>&#x27;uniform&#x27;<span class="dp">·</span>will<span class="dp">·</span>use<span class="dp">·</span>uniform<span class="dp">·</span>sampler,<span class="dp">·</span>and<span class="dp">·</span>setting<span class="dp">·</span>to</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">75 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>other<span class="dp">·</span>value<span class="dp">·</span>will<span class="dp">·</span>use<span class="dp">·</span>`log_uniform_candidate_sampler`<span class="dp">·</span>in<span class="dp">·</span>TensorFlow.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">76 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>In<span class="dp">·</span>recommendation<span class="dp">·</span>scenarios<span class="dp">·</span>the<span class="dp">·</span>uniform<span class="dp">·</span>sampler<span class="dp">·</span>is<span class="dp">·</span>generally<span class="dp">·</span>preferred.</td></tr>
<tr class="diffunmodified"><td class="diffline">74 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>recent_num<span class="dp">·</span>:<span class="dp">·</span>int<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>10</td><td class="diffline">77 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>recent_num<span class="dp">·</span>:<span class="dp">·</span>int<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>10</td></tr>
<tr class="diffunmodified"><td class="diffline">75 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>recent<span class="dp">·</span>items<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>in<span class="dp">·</span>user<span class="dp">·</span>behavior<span class="dp">·</span>sequence.</td><td class="diffline">78 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>recent<span class="dp">·</span>items<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>in<span class="dp">·</span>user<span class="dp">·</span>behavior<span class="dp">·</span>sequence.</td></tr>
<tr class="diffunmodified"><td class="diffline">76 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>random_num<span class="dp">·</span>:<span class="dp">·</span>int<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">79 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>random_num<span class="dp">·</span>:<span class="dp">·</span>int<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">77 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>random<span class="dp">·</span>sampled<span class="dp">·</span>items<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>in<span class="dp">·</span>user<span class="dp">·</span>behavior<span class="dp">·</span>sequence.</td><td class="diffline">80 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>random<span class="dp">·</span>sampled<span class="dp">·</span>items<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>in<span class="dp">·</span>user<span class="dp">·</span>behavior<span class="dp">·</span>sequence.</td></tr>
<tr class="diffunmodified"><td class="diffline">78 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>If<span class="dp">·</span>`recent_num`<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None,<span class="dp">·</span>`random_num`<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>considered.</td><td class="diffline">81 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>If<span class="dp">·</span>`recent_num`<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None,<span class="dp">·</span>`random_num`<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>considered.</td></tr>
<tr class="diffunmodified"><td class="diffline">79 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>multi_sparse_combiner<span class="dp">·</span>:<span class="dp">·</span>{&#x27;normal&#x27;,<span class="dp">·</span>&#x27;mean&#x27;,<span class="dp">·</span>&#x27;sum&#x27;,<span class="dp">·</span>&#x27;sqrtn&#x27;},<span class="dp">·</span>default:<span class="dp">·</span>&#x27;sqrtn&#x27;</td><td class="diffline">82 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>multi_sparse_combiner<span class="dp">·</span>:<span class="dp">·</span>{&#x27;normal&#x27;,<span class="dp">·</span>&#x27;mean&#x27;,<span class="dp">·</span>&#x27;sum&#x27;,<span class="dp">·</span>&#x27;sqrtn&#x27;},<span class="dp">·</span>default:<span class="dp">·</span>&#x27;sqrtn&#x27;</td></tr>
<tr class="diffunmodified"><td class="diffline">80 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Options<span class="dp">·</span>for<span class="dp">·</span>combining<span class="dp">·</span>`multi_sparse`<span class="dp">·</span>features.</td><td class="diffline">83 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Options<span class="dp">·</span>for<span class="dp">·</span>combining<span class="dp">·</span>`multi_sparse`<span class="dp">·</span>features.</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 90, 61 lines modified</td><td colspan="2">Offset 93, 64 lines modified</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">90 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>References</td><td class="diffline">93 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>References</td></tr>
<tr class="diffunmodified"><td class="diffline">91 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td><td class="diffline">94 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td></tr>
<tr class="diffunmodified"><td class="diffline">92 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>*Paul<span class="dp">·</span>Covington<span class="dp">·</span>et<span class="dp">·</span>al.*<span class="dp">·</span>`Deep<span class="dp">·</span>Neural<span class="dp">·</span>Networks<span class="dp">·</span>for<span class="dp">·</span>YouTube<span class="dp">·</span>Recommendations</td><td class="diffline">95 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>*Paul<span class="dp">·</span>Covington<span class="dp">·</span>et<span class="dp">·</span>al.*<span class="dp">·</span>`Deep<span class="dp">·</span>Neural<span class="dp">·</span>Networks<span class="dp">·</span>for<span class="dp">·</span>YouTube<span class="dp">·</span>Recommendations</td></tr>
<tr class="diffunmodified"><td class="diffline">93 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&lt;https://static.googleusercontent.com/media/research.google.com/zh-CN//pubs/archive/45530.pdf&gt;`_.</td><td class="diffline">96 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&lt;https://static.googleusercontent.com/media/research.google.com/zh-CN//pubs/archive/45530.pdf&gt;`_.</td></tr>
<tr class="diffunmodified"><td class="diffline">94 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;</td><td class="diffline">97 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">98 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_variables<span class="dp">·</span>=<span class="dp">·</span>[&quot;item_interaction_features&quot;,<span class="dp">·</span>&quot;nce_weights&quot;,<span class="dp">·</span>&quot;nce_biases&quot;]</td></tr>
<tr class="diffdeleted"><td class="diffline">95 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_variables<span class="dp">·</span>=<span class="dp">·</span>[&quot;user_features&quot;]</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">96 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_variables<span class="dp">·</span>=<span class="dp">·</span>[&quot;item_features&quot;]</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">97 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_variables<span class="dp">·</span>=<span class="dp">·</span>[&quot;sparse_features&quot;]</td><td class="diffline">99 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_variables<span class="dp">·</span>=<span class="dp">·</span>[&quot;sparse_features&quot;]</td></tr>
<tr class="diffunmodified"><td class="diffline">98 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_variables<span class="dp">·</span>=<span class="dp">·</span>[&quot;dense_features&quot;]</td><td class="diffline">100 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_variables<span class="dp">·</span>=<span class="dp">·</span>[&quot;dense_features&quot;]</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">99 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>__init__(</td><td class="diffline">101 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>__init__(</td></tr>
<tr class="diffunmodified"><td class="diffline">100 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self,</td><td class="diffline">102 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self,</td></tr>
<tr class="diffunmodified"><td class="diffline">101 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task=&quot;ranking&quot;,</td><td class="diffline">103 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task=&quot;ranking&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">102 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info=None,</td><td class="diffline">104 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info=None,</td></tr>
<tr class="diffchanged"><td class="diffline">103 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>loss_type=&quot;<del>cross</del>_<del>entropy</del>&quot;,</td><td class="diffline">105 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>loss_type=&quot;<ins>sa</ins><ins>mpled</ins>_<ins>softmax</ins>&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">104 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size=16,</td><td class="diffline">106 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size=16,</td></tr>
<tr class="diffunmodified"><td class="diffline">105 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_epochs=20,</td><td class="diffline">107 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_epochs=20,</td></tr>
<tr class="diffunmodified"><td class="diffline">106 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr=0.001,</td><td class="diffline">108 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr=0.001,</td></tr>
<tr class="diffunmodified"><td class="diffline">107 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr_decay=False,</td><td class="diffline">109 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr_decay=False,</td></tr>
<tr class="diffunmodified"><td class="diffline">108 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>epsilon=1e-5,</td><td class="diffline">110 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>epsilon=1e-5,</td></tr>
<tr class="diffunmodified"><td class="diffline">109 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg=None,</td><td class="diffline">111 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">110 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size=256,</td><td class="diffline">112 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size=256,</td></tr>
<tr class="diffdeleted"><td class="diffline">111 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg=1,</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">112 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_bn=True,</td><td class="diffline">113 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_bn=True,</td></tr>
<tr class="diffunmodified"><td class="diffline">113 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_rate=None,</td><td class="diffline">114 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_rate=None,</td></tr>
<tr class="diffchanged"><td class="diffline">114 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hidden_units=(128,<span class="dp">·</span>64<del>,<span class="dp">·</span>32</del>),</td><td class="diffline">115 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hidden_units=(128,<span class="dp">·</span>64),</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">116 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_sampled_per_batch=None,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">117 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sampler=&quot;uniform&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">115 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>recent_num=10,</td><td class="diffline">118 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>recent_num=10,</td></tr>
<tr class="diffunmodified"><td class="diffline">116 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>random_num=None,</td><td class="diffline">119 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>random_num=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">117 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>multi_sparse_combiner=&quot;sqrtn&quot;,</td><td class="diffline">120 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>multi_sparse_combiner=&quot;sqrtn&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">118 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed=42,</td><td class="diffline">121 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed=42,</td></tr>
<tr class="diffunmodified"><td class="diffline">119 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lower_upper_bound=None,</td><td class="diffline">122 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lower_upper_bound=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">120 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf_sess_config=None,</td><td class="diffline">123 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tf_sess_config=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">121 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td><td class="diffline">124 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td></tr>
<tr class="diffchanged"><td class="diffline">122 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>super().__init__(task,<span class="dp">·</span>data_info,<span class="dp">·</span><del>low</del>e<del>r</del>_<del>upp</del>e<del>r_b</del>o<del>un</del><del>d,<span class="dp">·</span>tf_s</del>e<del>s</del><del>s</del>_<del>c</del>o<del>n</del><del>fig</del>)</td><td class="diffline">125 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>super().__init__(task,<span class="dp">·</span>data_info,<span class="dp">·</span><ins>emb</ins>e<ins>d</ins>_<ins>siz</ins>e<ins>,<span class="dp">·</span>l</ins>o<ins>wer_upp</ins>e<ins>r</ins>_<ins>b</ins>o<ins>und</ins>)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="error"><td colspan="4">
Max diff block lines reached; 10106/15873 bytes (63.67%) of diff not shown.
</td></tr></table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">972 B</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/bases/base.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-bases-base.py"><span class="source">LibRecommender-1.1.0/libreco/bases/base.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-bases-base.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 3% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 41, 21 lines modified</td><td colspan="2">Offset 41, 23 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>elif<span class="dp">·</span>task<span class="dp">·</span>!=<span class="dp">·</span>&quot;ranking&quot;:</td><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>elif<span class="dp">·</span>task<span class="dp">·</span>!=<span class="dp">·</span>&quot;ranking&quot;:</td></tr>
<tr class="diffunmodified"><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>raise<span class="dp">·</span>ValueError(&quot;task<span class="dp">·</span>must<span class="dp">·</span>either<span class="dp">·</span>be<span class="dp">·</span>rating<span class="dp">·</span>or<span class="dp">·</span>ranking&quot;)</td><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>raise<span class="dp">·</span>ValueError(&quot;task<span class="dp">·</span>must<span class="dp">·</span>either<span class="dp">·</span>be<span class="dp">·</span>rating<span class="dp">·</span>or<span class="dp">·</span>ranking&quot;)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.default_pred<span class="dp">·</span>=<span class="dp">·</span>data_info.global_mean<span class="dp">·</span>if<span class="dp">·</span>task<span class="dp">·</span>==<span class="dp">·</span>&quot;rating&quot;<span class="dp">·</span>else<span class="dp">·</span>0.0</td><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.default_pred<span class="dp">·</span>=<span class="dp">·</span>data_info.global_mean<span class="dp">·</span>if<span class="dp">·</span>task<span class="dp">·</span>==<span class="dp">·</span>&quot;rating&quot;<span class="dp">·</span>else<span class="dp">·</span>0.0</td></tr>
<tr class="diffunmodified"><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.default_recs<span class="dp">·</span>=<span class="dp">·</span>None</td><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.default_recs<span class="dp">·</span>=<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>@abc.abstractmethod</td><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>@abc.abstractmethod</td></tr>
<tr class="diffchanged"><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>fit(self,<span class="dp">·</span>train_data,<span class="dp">·</span>**kwargs):</td><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>fit(self,<span class="dp">·</span>train_data,<span class="dp">·</span><ins>neg_sampling,<span class="dp">·</span></ins>**kwargs):</td></tr>
<tr class="diffunmodified"><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;Fit<span class="dp">·</span>model<span class="dp">·</span>on<span class="dp">·</span>the<span class="dp">·</span>training<span class="dp">·</span>data.</td><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;Fit<span class="dp">·</span>model<span class="dp">·</span>on<span class="dp">·</span>the<span class="dp">·</span>training<span class="dp">·</span>data.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td></tr>
<tr class="diffunmodified"><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td></tr>
<tr class="diffunmodified"><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data<span class="dp">·</span>:<span class="dp">·</span>:class:`~libreco.data.TransformedSet`<span class="dp">·</span>object</td><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data<span class="dp">·</span>:<span class="dp">·</span>:class:`~libreco.data.TransformedSet`<span class="dp">·</span>object</td></tr>
<tr class="diffunmodified"><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Data<span class="dp">·</span>object<span class="dp">·</span>used<span class="dp">·</span>for<span class="dp">·</span>training.</td><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Data<span class="dp">·</span>object<span class="dp">·</span>used<span class="dp">·</span>for<span class="dp">·</span>training.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neg_sampling<span class="dp">·</span>:<span class="dp">·</span>bool</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Whether<span class="dp">·</span>to<span class="dp">·</span>perform<span class="dp">·</span>negative<span class="dp">·</span>sampling<span class="dp">·</span>for<span class="dp">·</span>training<span class="dp">·</span>or<span class="dp">·</span>evaluating<span class="dp">·</span>data.</td></tr>
<tr class="diffunmodified"><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;</td><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>raise<span class="dp">·</span>NotImplementedError</td><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>raise<span class="dp">·</span>NotImplementedError</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>@abc.abstractmethod</td><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>@abc.abstractmethod</td></tr>
<tr class="diffunmodified"><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>predict(self,<span class="dp">·</span>user,<span class="dp">·</span>item,<span class="dp">·</span>**kwargs):</td><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>predict(self,<span class="dp">·</span>user,<span class="dp">·</span>item,<span class="dp">·</span>**kwargs):</td></tr>
<tr class="diffunmodified"><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;Predict<span class="dp">·</span>score<span class="dp">·</span>for<span class="dp">·</span>given<span class="dp">·</span>user<span class="dp">·</span>and<span class="dp">·</span>item.</td><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;Predict<span class="dp">·</span>score<span class="dp">·</span>for<span class="dp">·</span>given<span class="dp">·</span>user<span class="dp">·</span>and<span class="dp">·</span>item.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">4.42 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/bases/cf_base.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-bases-cf_base.py"><span class="source">LibRecommender-1.1.0/libreco/bases/cf_base.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-bases-cf_base.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 2% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 7, 22 lines modified</td><td colspan="2">Offset 7, 23 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">7 </td><td class="diffpresent">from<span class="dp">·</span>operator<span class="dp">·</span>import<span class="dp">·</span>itemgetter</td><td class="diffline">7 </td><td class="diffpresent">from<span class="dp">·</span>operator<span class="dp">·</span>import<span class="dp">·</span>itemgetter</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">8 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td><td class="diffline">8 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td></tr>
<tr class="diffunmodified"><td class="diffline">9 </td><td class="diffpresent">from<span class="dp">·</span>scipy.sparse<span class="dp">·</span>import<span class="dp">·</span>issparse</td><td class="diffline">9 </td><td class="diffpresent">from<span class="dp">·</span>scipy.sparse<span class="dp">·</span>import<span class="dp">·</span>issparse</td></tr>
<tr class="diffunmodified"><td class="diffline">10 </td><td class="diffpresent">from<span class="dp">·</span>scipy.sparse<span class="dp">·</span>import<span class="dp">·</span>load_npz<span class="dp">·</span>as<span class="dp">·</span>load_sparse</td><td class="diffline">10 </td><td class="diffpresent">from<span class="dp">·</span>scipy.sparse<span class="dp">·</span>import<span class="dp">·</span>load_npz<span class="dp">·</span>as<span class="dp">·</span>load_sparse</td></tr>
<tr class="diffunmodified"><td class="diffline">11 </td><td class="diffpresent">from<span class="dp">·</span>scipy.sparse<span class="dp">·</span>import<span class="dp">·</span>save_npz<span class="dp">·</span>as<span class="dp">·</span>save_sparse</td><td class="diffline">11 </td><td class="diffpresent">from<span class="dp">·</span>scipy.sparse<span class="dp">·</span>import<span class="dp">·</span>save_npz<span class="dp">·</span>as<span class="dp">·</span>save_sparse</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">12 </td><td class="diffpresent">from<span class="dp">·</span>.<del>.</del>base<del>s</del><span class="dp">·</span>import<span class="dp">·</span>Base</td><td class="diffline">12 </td><td class="diffpresent">from<span class="dp">·</span>.base<span class="dp">·</span>import<span class="dp">·</span>Base</td></tr>
<tr class="diffunmodified"><td class="diffline">13 </td><td class="diffpresent">from<span class="dp">·</span>..evaluation<span class="dp">·</span>import<span class="dp">·</span>print_metrics</td><td class="diffline">13 </td><td class="diffpresent">from<span class="dp">·</span>..evaluation<span class="dp">·</span>import<span class="dp">·</span>print_metrics</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">14 </td><td class="diffpresent">from<span class="dp">·</span>..prediction.preprocess<span class="dp">·</span>import<span class="dp">·</span>convert_id</td></tr>
<tr class="diffunmodified"><td class="diffline">14 </td><td class="diffpresent">from<span class="dp">·</span>..recommendation<span class="dp">·</span>import<span class="dp">·</span>construct_rec,<span class="dp">·</span>popular_recommendations</td><td class="diffline">15 </td><td class="diffpresent">from<span class="dp">·</span>..recommendation<span class="dp">·</span>import<span class="dp">·</span>construct_rec,<span class="dp">·</span>popular_recommendations</td></tr>
<tr class="diffunmodified"><td class="diffline">15 </td><td class="diffpresent">from<span class="dp">·</span>..recommendation.ranking<span class="dp">·</span>import<span class="dp">·</span>filter_items</td><td class="diffline">16 </td><td class="diffpresent">from<span class="dp">·</span>..recommendation.ranking<span class="dp">·</span>import<span class="dp">·</span>filter_items</td></tr>
<tr class="diffunmodified"><td class="diffline">16 </td><td class="diffpresent">from<span class="dp">·</span>..utils.misc<span class="dp">·</span>import<span class="dp">·</span>colorize,<span class="dp">·</span>time_block</td><td class="diffline">17 </td><td class="diffpresent">from<span class="dp">·</span>..utils.misc<span class="dp">·</span>import<span class="dp">·</span>colorize,<span class="dp">·</span>time_block</td></tr>
<tr class="diffunmodified"><td class="diffline">17 </td><td class="diffpresent">from<span class="dp">·</span>..utils.save_load<span class="dp">·</span>import<span class="dp">·</span>load_params,<span class="dp">·</span>save_params</td><td class="diffline">18 </td><td class="diffpresent">from<span class="dp">·</span>..utils.save_load<span class="dp">·</span>import<span class="dp">·</span>load_params,<span class="dp">·</span>save_params</td></tr>
<tr class="diffunmodified"><td class="diffline">18 </td><td class="diffpresent">from<span class="dp">·</span>..utils.similarities<span class="dp">·</span>import<span class="dp">·</span>cosine_sim,<span class="dp">·</span>jaccard_sim,<span class="dp">·</span>pearson_sim</td><td class="diffline">19 </td><td class="diffpresent">from<span class="dp">·</span>..utils.similarities<span class="dp">·</span>import<span class="dp">·</span>cosine_sim,<span class="dp">·</span>jaccard_sim,<span class="dp">·</span>pearson_sim</td></tr>
<tr class="diffchanged"><td class="diffline">19 </td><td class="diffpresent">from<span class="dp">·</span>..utils.validate<span class="dp">·</span>import<span class="dp">·</span>check_<del>unknown</del>,<span class="dp">·</span>check_unknown<del>_us</del>e<del>r,<span class="dp">·</span>co</del>n<del>vert_id</del></td><td class="diffline">20 </td><td class="diffpresent">from<span class="dp">·</span>..utils.validate<span class="dp">·</span>import<span class="dp">·</span>check_<ins>fitting</ins>,<span class="dp">·</span>check_unknown<ins>,</ins><ins><span class="dp">·</span>ch</ins>e<ins>c</ins><ins>k_unk</ins>n<ins>o</ins><ins>wn_user</ins></td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">20 </td><td class="diffpresent">class<span class="dp">·</span>CfBase(Base):</td><td class="diffline">21 </td><td class="diffpresent">class<span class="dp">·</span>CfBase(Base):</td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;Base<span class="dp">·</span>class<span class="dp">·</span>for<span class="dp">·</span>CF<span class="dp">·</span>models.</td><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;Base<span class="dp">·</span>class<span class="dp">·</span>for<span class="dp">·</span>CF<span class="dp">·</span>models.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td></tr>
<tr class="diffunmodified"><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 47, 14 lines modified</td><td colspan="2">Offset 48, 19 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>minimum<span class="dp">·</span>common<span class="dp">·</span>users<span class="dp">·</span>to<span class="dp">·</span>consider<span class="dp">·</span>when<span class="dp">·</span>computing<span class="dp">·</span>similarities.</td><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>minimum<span class="dp">·</span>common<span class="dp">·</span>users<span class="dp">·</span>to<span class="dp">·</span>consider<span class="dp">·</span>when<span class="dp">·</span>computing<span class="dp">·</span>similarities.</td></tr>
<tr class="diffunmodified"><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>mode<span class="dp">·</span>:<span class="dp">·</span>{&#x27;forward&#x27;,<span class="dp">·</span>&#x27;invert&#x27;},<span class="dp">·</span>default:<span class="dp">·</span>&#x27;invert&#x27;</td><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>mode<span class="dp">·</span>:<span class="dp">·</span>{&#x27;forward&#x27;,<span class="dp">·</span>&#x27;invert&#x27;},<span class="dp">·</span>default:<span class="dp">·</span>&#x27;invert&#x27;</td></tr>
<tr class="diffunmodified"><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Whether<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>forward<span class="dp">·</span>index<span class="dp">·</span>or<span class="dp">·</span>invert<span class="dp">·</span>index.</td><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Whether<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>forward<span class="dp">·</span>index<span class="dp">·</span>or<span class="dp">·</span>invert<span class="dp">·</span>index.</td></tr>
<tr class="diffunmodified"><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>42</td><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>42</td></tr>
<tr class="diffunmodified"><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Random<span class="dp">·</span>seed.</td><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Random<span class="dp">·</span>seed.</td></tr>
<tr class="diffunmodified"><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lower_upper_bound<span class="dp">·</span>:<span class="dp">·</span>tuple<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lower_upper_bound<span class="dp">·</span>:<span class="dp">·</span>tuple<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Lower<span class="dp">·</span>and<span class="dp">·</span>upper<span class="dp">·</span>score<span class="dp">·</span>bound<span class="dp">·</span>for<span class="dp">·</span>`rating`<span class="dp">·</span>task.</td><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Lower<span class="dp">·</span>and<span class="dp">·</span>upper<span class="dp">·</span>score<span class="dp">·</span>bound<span class="dp">·</span>for<span class="dp">·</span>`rating`<span class="dp">·</span>task.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>See<span class="dp">·</span>Also</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>--------</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>~libreco.algorithms.UserCF</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>~libreco.algorithms.ItemCF</td></tr>
<tr class="diffunmodified"><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;</td><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>__init__(</td><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>__init__(</td></tr>
<tr class="diffunmodified"><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self,</td><td class="diffline">61 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self,</td></tr>
<tr class="diffunmodified"><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task,</td><td class="diffline">62 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task,</td></tr>
<tr class="diffunmodified"><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info,</td><td class="diffline">63 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info,</td></tr>
<tr class="diffunmodified"><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>cf_type,</td><td class="diffline">64 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>cf_type,</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 98, 27 lines modified</td><td colspan="2">Offset 104, 33 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">98 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>self.task<span class="dp">·</span>==<span class="dp">·</span>&quot;rating&quot;<span class="dp">·</span>and<span class="dp">·</span>self.sim_type<span class="dp">·</span>==<span class="dp">·</span>&quot;jaccard&quot;:</td><td class="diffline">104 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>self.task<span class="dp">·</span>==<span class="dp">·</span>&quot;rating&quot;<span class="dp">·</span>and<span class="dp">·</span>self.sim_type<span class="dp">·</span>==<span class="dp">·</span>&quot;jaccard&quot;:</td></tr>
<tr class="diffunmodified"><td class="diffline">99 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>caution_str<span class="dp">·</span>=<span class="dp">·</span>&quot;Warning:<span class="dp">·</span>jaccard<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>suitable<span class="dp">·</span>for<span class="dp">·</span>explicit<span class="dp">·</span>data&quot;</td><td class="diffline">105 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>caution_str<span class="dp">·</span>=<span class="dp">·</span>&quot;Warning:<span class="dp">·</span>jaccard<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>suitable<span class="dp">·</span>for<span class="dp">·</span>explicit<span class="dp">·</span>data&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">100 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>print(f&quot;{colorize(caution_str,<span class="dp">·</span>&#x27;red&#x27;)}&quot;)</td><td class="diffline">106 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>print(f&quot;{colorize(caution_str,<span class="dp">·</span>&#x27;red&#x27;)}&quot;)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">101 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>fit(</td><td class="diffline">107 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>fit(</td></tr>
<tr class="diffunmodified"><td class="diffline">102 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self,</td><td class="diffline">108 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self,</td></tr>
<tr class="diffunmodified"><td class="diffline">103 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data,</td><td class="diffline">109 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">110 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neg_sampling,</td></tr>
<tr class="diffunmodified"><td class="diffline">104 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>verbose=1,</td><td class="diffline">111 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>verbose=1,</td></tr>
<tr class="diffunmodified"><td class="diffline">105 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_data=None,</td><td class="diffline">112 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_data=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">106 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics=None,</td><td class="diffline">113 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">107 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>k=10,</td><td class="diffline">114 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>k=10,</td></tr>
<tr class="diffunmodified"><td class="diffline">108 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_batch_size=8192,</td><td class="diffline">115 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_batch_size=8192,</td></tr>
<tr class="diffunmodified"><td class="diffline">109 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_user_num=None,</td><td class="diffline">116 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_user_num=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">110 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td><td class="diffline">117 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td></tr>
<tr class="diffunmodified"><td class="diffline">111 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;Fit<span class="dp">·</span>CF<span class="dp">·</span>model<span class="dp">·</span>on<span class="dp">·</span>the<span class="dp">·</span>training<span class="dp">·</span>data.</td><td class="diffline">118 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;Fit<span class="dp">·</span>CF<span class="dp">·</span>model<span class="dp">·</span>on<span class="dp">·</span>the<span class="dp">·</span>training<span class="dp">·</span>data.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">112 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td><td class="diffline">119 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td></tr>
<tr class="diffunmodified"><td class="diffline">113 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td><td class="diffline">120 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td></tr>
<tr class="diffunmodified"><td class="diffline">114 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data<span class="dp">·</span>:<span class="dp">·</span>:class:`~libreco.data.TransformedSet`<span class="dp">·</span>object</td><td class="diffline">121 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data<span class="dp">·</span>:<span class="dp">·</span>:class:`~libreco.data.TransformedSet`<span class="dp">·</span>object</td></tr>
<tr class="diffunmodified"><td class="diffline">115 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Data<span class="dp">·</span>object<span class="dp">·</span>used<span class="dp">·</span>for<span class="dp">·</span>training.</td><td class="diffline">122 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Data<span class="dp">·</span>object<span class="dp">·</span>used<span class="dp">·</span>for<span class="dp">·</span>training.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">123 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neg_sampling<span class="dp">·</span>:<span class="dp">·</span>bool</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">124 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Whether<span class="dp">·</span>to<span class="dp">·</span>perform<span class="dp">·</span>negative<span class="dp">·</span>sampling<span class="dp">·</span>for<span class="dp">·</span>evaluating<span class="dp">·</span>data.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">125 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>versionadded::<span class="dp">·</span>1.1.0</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">116 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>verbose<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>1</td><td class="diffline">126 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>verbose<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>1</td></tr>
<tr class="diffunmodified"><td class="diffline">117 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Print<span class="dp">·</span>verbosity.<span class="dp">·</span>If<span class="dp">·</span>`eval_data`<span class="dp">·</span>is<span class="dp">·</span>provided,<span class="dp">·</span>setting<span class="dp">·</span>it<span class="dp">·</span>to<span class="dp">·</span>higher<span class="dp">·</span>than<span class="dp">·</span>1</td><td class="diffline">127 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Print<span class="dp">·</span>verbosity.<span class="dp">·</span>If<span class="dp">·</span>`eval_data`<span class="dp">·</span>is<span class="dp">·</span>provided,<span class="dp">·</span>setting<span class="dp">·</span>it<span class="dp">·</span>to<span class="dp">·</span>higher<span class="dp">·</span>than<span class="dp">·</span>1</td></tr>
<tr class="diffunmodified"><td class="diffline">118 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>will<span class="dp">·</span>print<span class="dp">·</span>evaluation<span class="dp">·</span>metrics<span class="dp">·</span>during<span class="dp">·</span>training.</td><td class="diffline">128 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>will<span class="dp">·</span>print<span class="dp">·</span>evaluation<span class="dp">·</span>metrics<span class="dp">·</span>during<span class="dp">·</span>training.</td></tr>
<tr class="diffunmodified"><td class="diffline">119 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_data<span class="dp">·</span>:<span class="dp">·</span>:class:`~libreco.data.TransformedSet`<span class="dp">·</span>object,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">129 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_data<span class="dp">·</span>:<span class="dp">·</span>:class:`~libreco.data.TransformedSet`<span class="dp">·</span>object,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">120 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Data<span class="dp">·</span>object<span class="dp">·</span>used<span class="dp">·</span>for<span class="dp">·</span>evaluating.</td><td class="diffline">130 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Data<span class="dp">·</span>object<span class="dp">·</span>used<span class="dp">·</span>for<span class="dp">·</span>evaluating.</td></tr>
<tr class="diffunmodified"><td class="diffline">121 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics<span class="dp">·</span>:<span class="dp">·</span>list<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">131 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics<span class="dp">·</span>:<span class="dp">·</span>list<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">122 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>List<span class="dp">·</span>of<span class="dp">·</span>metrics<span class="dp">·</span>for<span class="dp">·</span>evaluating.</td><td class="diffline">132 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>List<span class="dp">·</span>of<span class="dp">·</span>metrics<span class="dp">·</span>for<span class="dp">·</span>evaluating.</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 126, 14 lines modified</td><td colspan="2">Offset 138, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">126 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameter<span class="dp">·</span>of<span class="dp">·</span>metrics,<span class="dp">·</span>e.g.<span class="dp">·</span>recall<span class="dp">·</span>at<span class="dp">·</span>k,<span class="dp">·</span>ndcg<span class="dp">·</span>at<span class="dp">·</span>k</td><td class="diffline">138 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameter<span class="dp">·</span>of<span class="dp">·</span>metrics,<span class="dp">·</span>e.g.<span class="dp">·</span>recall<span class="dp">·</span>at<span class="dp">·</span>k,<span class="dp">·</span>ndcg<span class="dp">·</span>at<span class="dp">·</span>k</td></tr>
<tr class="diffunmodified"><td class="diffline">127 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_batch_size<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>8192</td><td class="diffline">139 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_batch_size<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>8192</td></tr>
<tr class="diffunmodified"><td class="diffline">128 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Batch<span class="dp">·</span>size<span class="dp">·</span>for<span class="dp">·</span>evaluating.</td><td class="diffline">140 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Batch<span class="dp">·</span>size<span class="dp">·</span>for<span class="dp">·</span>evaluating.</td></tr>
<tr class="diffunmodified"><td class="diffline">129 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_user_num<span class="dp">·</span>:<span class="dp">·</span>int<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">141 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_user_num<span class="dp">·</span>:<span class="dp">·</span>int<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">130 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>users<span class="dp">·</span>for<span class="dp">·</span>evaluating.<span class="dp">·</span>Setting<span class="dp">·</span>it<span class="dp">·</span>to<span class="dp">·</span>a<span class="dp">·</span>positive<span class="dp">·</span>number<span class="dp">·</span>will<span class="dp">·</span>sample</td><td class="diffline">142 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>users<span class="dp">·</span>for<span class="dp">·</span>evaluating.<span class="dp">·</span>Setting<span class="dp">·</span>it<span class="dp">·</span>to<span class="dp">·</span>a<span class="dp">·</span>positive<span class="dp">·</span>number<span class="dp">·</span>will<span class="dp">·</span>sample</td></tr>
<tr class="diffunmodified"><td class="diffline">131 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>users<span class="dp">·</span>randomly<span class="dp">·</span>from<span class="dp">·</span>eval<span class="dp">·</span>data.</td><td class="diffline">143 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>users<span class="dp">·</span>randomly<span class="dp">·</span>from<span class="dp">·</span>eval<span class="dp">·</span>data.</td></tr>
<tr class="diffunmodified"><td class="diffline">132 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;</td><td class="diffline">144 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">145 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_fitting(self,<span class="dp">·</span>train_data,<span class="dp">·</span>eval_data,<span class="dp">·</span>neg_sampling,<span class="dp">·</span>k)</td></tr>
<tr class="diffunmodified"><td class="diffline">133 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.show_start_time()</td><td class="diffline">146 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.show_start_time()</td></tr>
<tr class="diffunmodified"><td class="diffline">134 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.user_interaction<span class="dp">·</span>=<span class="dp">·</span>train_data.sparse_interaction</td><td class="diffline">147 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.user_interaction<span class="dp">·</span>=<span class="dp">·</span>train_data.sparse_interaction</td></tr>
<tr class="diffunmodified"><td class="diffline">135 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.item_interaction<span class="dp">·</span>=<span class="dp">·</span>self.user_interaction.T.tocsr()</td><td class="diffline">148 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.item_interaction<span class="dp">·</span>=<span class="dp">·</span>self.user_interaction.T.tocsr()</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">136 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>with<span class="dp">·</span>time_block(&quot;sim_matrix&quot;,<span class="dp">·</span>verbose=1):</td><td class="diffline">149 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>with<span class="dp">·</span>time_block(&quot;sim_matrix&quot;,<span class="dp">·</span>verbose=1):</td></tr>
<tr class="diffunmodified"><td class="diffline">137 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>self.sim_type<span class="dp">·</span>==<span class="dp">·</span>&quot;cosine&quot;:</td><td class="diffline">150 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>self.sim_type<span class="dp">·</span>==<span class="dp">·</span>&quot;cosine&quot;:</td></tr>
<tr class="diffunmodified"><td class="diffline">138 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sim_func<span class="dp">·</span>=<span class="dp">·</span>cosine_sim</td><td class="diffline">151 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sim_func<span class="dp">·</span>=<span class="dp">·</span>cosine_sim</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 179, 14 lines modified</td><td colspan="2">Offset 192, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">179 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">192 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td class="diffline">180 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>self.store_top_k:</td><td class="diffline">193 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>self.store_top_k:</td></tr>
<tr class="diffunmodified"><td class="diffline">181 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.compute_top_k()</td><td class="diffline">194 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.compute_top_k()</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">182 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>verbose<span class="dp">·</span>&gt;<span class="dp">·</span>1:</td><td class="diffline">195 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>verbose<span class="dp">·</span>&gt;<span class="dp">·</span>1:</td></tr>
<tr class="diffunmodified"><td class="diffline">183 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>print_metrics(</td><td class="diffline">196 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>print_metrics(</td></tr>
<tr class="diffunmodified"><td class="diffline">184 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model=self,</td><td class="diffline">197 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model=self,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">198 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neg_sampling=neg_sampling,</td></tr>
<tr class="diffunmodified"><td class="diffline">185 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_data=eval_data,</td><td class="diffline">199 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_data=eval_data,</td></tr>
<tr class="diffunmodified"><td class="diffline">186 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics=metrics,</td><td class="diffline">200 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics=metrics,</td></tr>
<tr class="diffunmodified"><td class="diffline">187 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_batch_size=eval_batch_size,</td><td class="diffline">201 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_batch_size=eval_batch_size,</td></tr>
<tr class="diffunmodified"><td class="diffline">188 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>k=k,</td><td class="diffline">202 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>k=k,</td></tr>
<tr class="diffunmodified"><td class="diffline">189 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sample_user_num=eval_user_num,</td><td class="diffline">203 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sample_user_num=eval_user_num,</td></tr>
<tr class="diffunmodified"><td class="diffline">190 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed=self.seed,</td><td class="diffline">204 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed=self.seed,</td></tr>
<tr class="diffunmodified"><td class="diffline">191 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">205 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 302, 15 lines modified</td><td colspan="2">Offset 316, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">302 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_rec,</td><td class="diffline">316 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_rec,</td></tr>
<tr class="diffunmodified"><td class="diffline">303 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>consumed,</td><td class="diffline">317 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>consumed,</td></tr>
<tr class="diffunmodified"><td class="diffline">304 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>filter_consumed,</td><td class="diffline">318 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>filter_consumed,</td></tr>
<tr class="diffunmodified"><td class="diffline">305 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>random_rec,</td><td class="diffline">319 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>random_rec,</td></tr>
<tr class="diffunmodified"><td class="diffline">306 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td><td class="diffline">320 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td></tr>
<tr class="diffunmodified"><td class="diffline">307 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>filter_consumed:</td><td class="diffline">321 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>filter_consumed:</td></tr>
<tr class="diffunmodified"><td class="diffline">308 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>ids,<span class="dp">·</span>preds<span class="dp">·</span>=<span class="dp">·</span>filter_items(ids,<span class="dp">·</span>preds,<span class="dp">·</span>consumed)</td><td class="diffline">322 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>ids,<span class="dp">·</span>preds<span class="dp">·</span>=<span class="dp">·</span>filter_items(ids,<span class="dp">·</span>preds,<span class="dp">·</span>consumed)</td></tr>
<tr class="diffchanged"><td class="diffline">309 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>len(ids)<span class="dp">·</span>==<span class="dp">·</span>0:</td><td class="diffline">323 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>len(ids)<span class="dp">·</span>==<span class="dp">·</span>0:<ins><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>pragma:<span class="dp">·</span>no<span class="dp">·</span>cover</ins></td></tr>
<tr class="diffunmodified"><td class="diffline">310 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.print_count<span class="dp">·</span>+=<span class="dp">·</span>1</td><td class="diffline">324 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.print_count<span class="dp">·</span>+=<span class="dp">·</span>1</td></tr>
<tr class="diffunmodified"><td class="diffline">311 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>no_str<span class="dp">·</span>=<span class="dp">·</span>(</td><td class="diffline">325 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>no_str<span class="dp">·</span>=<span class="dp">·</span>(</td></tr>
<tr class="diffunmodified"><td class="diffline">312 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>f&quot;no<span class="dp">·</span>suitable<span class="dp">·</span>recommendation<span class="dp">·</span>for<span class="dp">·</span>user<span class="dp">·</span>{user},<span class="dp">·</span>&quot;</td><td class="diffline">326 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>f&quot;no<span class="dp">·</span>suitable<span class="dp">·</span>recommendation<span class="dp">·</span>for<span class="dp">·</span>user<span class="dp">·</span>{user},<span class="dp">·</span>&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">313 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>f&quot;return<span class="dp">·</span>default<span class="dp">·</span>recommendation&quot;</td><td class="diffline">327 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>f&quot;return<span class="dp">·</span>default<span class="dp">·</span>recommendation&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">314 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">328 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td class="diffline">315 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>self.print_count<span class="dp">·</span>&lt;<span class="dp">·</span>11:</td><td class="diffline">329 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>self.print_count<span class="dp">·</span>&lt;<span class="dp">·</span>11:</td></tr>
<tr class="diffunmodified"><td class="diffline">316 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>print(f&quot;{colorize(no_str,<span class="dp">·</span>&#x27;red&#x27;)}&quot;)</td><td class="diffline">330 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>print(f&quot;{colorize(no_str,<span class="dp">·</span>&#x27;red&#x27;)}&quot;)</td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">9.84 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/bases/embed_base.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-bases-embed_base.py"><span class="source">LibRecommender-1.1.0/libreco/bases/embed_base.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-bases-embed_base.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 4% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 34 lines modified</td><td colspan="2">Offset 1, 36 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">1 </td><td class="diffpresent">&quot;&quot;&quot;Embed<span class="dp">·</span>model<span class="dp">·</span>base<span class="dp">·</span>class.&quot;&quot;&quot;</td><td class="diffline">1 </td><td class="diffpresent">&quot;&quot;&quot;Embed<span class="dp">·</span>model<span class="dp">·</span>base<span class="dp">·</span>class.&quot;&quot;&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>abc</td><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>abc</td></tr>
<tr class="diffunmodified"><td class="diffline">3 </td><td class="diffpresent">import<span class="dp">·</span>os</td><td class="diffline">3 </td><td class="diffpresent">import<span class="dp">·</span>os</td></tr>
<tr class="diffunmodified"><td class="diffline">4 </td><td class="diffpresent">from<span class="dp">·</span>operator<span class="dp">·</span>import<span class="dp">·</span>itemgetter</td><td class="diffline">4 </td><td class="diffpresent">from<span class="dp">·</span>operator<span class="dp">·</span>import<span class="dp">·</span>itemgetter</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">5 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td><td class="diffline">5 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">6 </td><td class="diffpresent">from<span class="dp">·</span>.base<span class="dp">·</span>import<span class="dp">·</span>Base</td></tr>
<tr class="diffunmodified"><td class="diffline">6 </td><td class="diffpresent">from<span class="dp">·</span>..prediction<span class="dp">·</span>import<span class="dp">·</span>predict_from_embedding</td><td class="diffline">7 </td><td class="diffpresent">from<span class="dp">·</span>..prediction<span class="dp">·</span>import<span class="dp">·</span>predict_from_embedding</td></tr>
<tr class="diffunmodified"><td class="diffline">7 </td><td class="diffpresent">from<span class="dp">·</span>..recommendation<span class="dp">·</span>import<span class="dp">·</span>cold_start_rec,<span class="dp">·</span>construct_rec,<span class="dp">·</span>recommend_from_embedding</td><td class="diffline">8 </td><td class="diffpresent">from<span class="dp">·</span>..recommendation<span class="dp">·</span>import<span class="dp">·</span>cold_start_rec,<span class="dp">·</span>construct_rec,<span class="dp">·</span>recommend_from_embedding</td></tr>
<tr class="diffchanged"><td class="diffline">8 </td><td class="diffpresent">from<span class="dp">·</span>..training<span class="dp">·</span>import<span class="dp">·</span>get_trainer</td><td class="diffline">9 </td><td class="diffpresent">from<span class="dp">·</span>..training<ins>.dispatch</ins><span class="dp">·</span>import<span class="dp">·</span>get_trainer</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">10 </td><td class="diffpresent">from<span class="dp">·</span>..utils.constants<span class="dp">·</span>import<span class="dp">·</span>SEQUENCE_RECOMMEND_MODELS</td></tr>
<tr class="diffunmodified"><td class="diffline">9 </td><td class="diffpresent">from<span class="dp">·</span>..utils.misc<span class="dp">·</span>import<span class="dp">·</span>colorize</td><td class="diffline">11 </td><td class="diffpresent">from<span class="dp">·</span>..utils.misc<span class="dp">·</span>import<span class="dp">·</span>colorize</td></tr>
<tr class="diffunmodified"><td class="diffline">10 </td><td class="diffpresent">from<span class="dp">·</span>..utils.save_load<span class="dp">·</span>import<span class="dp">·</span>(</td><td class="diffline">12 </td><td class="diffpresent">from<span class="dp">·</span>..utils.save_load<span class="dp">·</span>import<span class="dp">·</span>(</td></tr>
<tr class="diffunmodified"><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>load_default_recs,</td><td class="diffline">13 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>load_default_recs,</td></tr>
<tr class="diffunmodified"><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>load_params,</td><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>load_params,</td></tr>
<tr class="diffunmodified"><td class="diffline">13 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_default_recs,</td><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_default_recs,</td></tr>
<tr class="diffunmodified"><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_params,</td><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_params,</td></tr>
<tr class="diffunmodified"><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_tf_variables,</td><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_tf_variables,</td></tr>
<tr class="diffunmodified"><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_torch_state_dict,</td><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_torch_state_dict,</td></tr>
<tr class="diffunmodified"><td class="diffline">17 </td><td class="diffpresent">)</td><td class="diffline">19 </td><td class="diffpresent">)</td></tr>
<tr class="diffchanged"><td class="diffline">18 </td><td class="diffpresent">from<span class="dp">·</span>..utils.validate<span class="dp">·</span>import<span class="dp">·</span>check_unknown_user</td><td class="diffline">20 </td><td class="diffpresent">from<span class="dp">·</span>..utils.validate<span class="dp">·</span>import<span class="dp">·</span>check_<ins>fitting,<span class="dp">·</span>check_</ins>unknown_user</td></tr>
<tr class="diffdeleted"><td class="diffline">19 </td><td class="diffpresent">from<span class="dp">·</span>.base<span class="dp">·</span>import<span class="dp">·</span>Base</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">20 </td><td class="diffpresent">class<span class="dp">·</span>EmbedBase(Base):</td><td class="diffline">21 </td><td class="diffpresent">class<span class="dp">·</span>EmbedBase(Base):</td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;Base<span class="dp">·</span>class<span class="dp">·</span>for<span class="dp">·</span>embed<span class="dp">·</span>models.</td><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;Base<span class="dp">·</span>class<span class="dp">·</span>for<span class="dp">·</span>embed<span class="dp">·</span>models.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Models<span class="dp">·</span>that<span class="dp">·</span>can<span class="dp">·</span>generate<span class="dp">·</span>user<span class="dp">·</span>and<span class="dp">·</span>item<span class="dp">·</span>embeddings.</td><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Models<span class="dp">·</span>that<span class="dp">·</span>can<span class="dp">·</span>generate<span class="dp">·</span>user<span class="dp">·</span>and<span class="dp">·</span>item<span class="dp">·</span>embeddings<ins><span class="dp">·</span>for<span class="dp">·</span>inference</ins>.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>See<span class="dp">·</span>`algorithm<span class="dp">·</span>list<span class="dp">·</span>&lt;https://github.com/massquantity/LibRecommender#references&gt;`_.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td></tr>
<tr class="diffunmodified"><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td></tr>
<tr class="diffunmodified"><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task<span class="dp">·</span>:<span class="dp">·</span>{&#x27;rating&#x27;,<span class="dp">·</span>&#x27;ranking&#x27;}</td><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task<span class="dp">·</span>:<span class="dp">·</span>{&#x27;rating&#x27;,<span class="dp">·</span>&#x27;ranking&#x27;}</td></tr>
<tr class="diffunmodified"><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Recommendation<span class="dp">·</span>task.<span class="dp">·</span>See<span class="dp">·</span>:ref:`Task`.</td><td class="diffline">28 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Recommendation<span class="dp">·</span>task.<span class="dp">·</span>See<span class="dp">·</span>:ref:`Task`.</td></tr>
<tr class="diffunmodified"><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info<span class="dp">·</span>:<span class="dp">·</span>:class:`~libreco.data.DataInfo`<span class="dp">·</span>object</td><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info<span class="dp">·</span>:<span class="dp">·</span>:class:`~libreco.data.DataInfo`<span class="dp">·</span>object</td></tr>
<tr class="diffunmodified"><td class="diffline">28 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Object<span class="dp">·</span>that<span class="dp">·</span>contains<span class="dp">·</span>useful<span class="dp">·</span>information<span class="dp">·</span>for<span class="dp">·</span>training<span class="dp">·</span>and<span class="dp">·</span>inference.</td><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Object<span class="dp">·</span>that<span class="dp">·</span>contains<span class="dp">·</span>useful<span class="dp">·</span>information<span class="dp">·</span>for<span class="dp">·</span>training<span class="dp">·</span>and<span class="dp">·</span>inference.</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 55, 40 lines modified</td><td colspan="2">Offset 57, 42 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.trainer<span class="dp">·</span>=<span class="dp">·</span>None</td><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.trainer<span class="dp">·</span>=<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.loaded<span class="dp">·</span>=<span class="dp">·</span>False</td><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.loaded<span class="dp">·</span>=<span class="dp">·</span>False</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>@abc.abstractmethod</td><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>@abc.abstractmethod</td></tr>
<tr class="diffunmodified"><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>build_model(self):</td><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>build_model(self):</td></tr>
<tr class="diffunmodified"><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>raise<span class="dp">·</span>NotImplementedError</td><td class="diffline">61 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>raise<span class="dp">·</span>NotImplementedError</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>check_attribute(self,<span class="dp">·</span>eval_data,<span class="dp">·</span>k):</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">61 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>hasattr(self,<span class="dp">·</span>&quot;loaded&quot;)<span class="dp">·</span>and<span class="dp">·</span>self.loaded:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">62 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>raise<span class="dp">·</span>RuntimeError(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">63 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;Loaded<span class="dp">·</span>model<span class="dp">·</span>doesn&#x27;t<span class="dp">·</span>support<span class="dp">·</span>retraining,<span class="dp">·</span>use<span class="dp">·</span>`rebuild_model`<span class="dp">·</span>instead.<span class="dp">·</span>&quot;</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">64 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;Or<span class="dp">·</span>constructing<span class="dp">·</span>a<span class="dp">·</span>new<span class="dp">·</span>model<span class="dp">·</span>from<span class="dp">·</span>scratch.&quot;</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">65 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">66 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>eval_data<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None<span class="dp">·</span>and<span class="dp">·</span>k<span class="dp">·</span>&gt;<span class="dp">·</span>self.n_items:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">67 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>raise<span class="dp">·</span>ValueError(f&quot;eval<span class="dp">·</span>`k`<span class="dp">·</span>{k}<span class="dp">·</span>exceeds<span class="dp">·</span>num<span class="dp">·</span>of<span class="dp">·</span>items<span class="dp">·</span>{self.n_items}&quot;)</td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">68 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>fit(</td><td class="diffline">62 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>fit(</td></tr>
<tr class="diffunmodified"><td class="diffline">69 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self,</td><td class="diffline">63 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self,</td></tr>
<tr class="diffunmodified"><td class="diffline">70 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data,</td><td class="diffline">64 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">65 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neg_sampling,</td></tr>
<tr class="diffunmodified"><td class="diffline">71 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>verbose=1,</td><td class="diffline">66 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>verbose=1,</td></tr>
<tr class="diffunmodified"><td class="diffline">72 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>shuffle=True,</td><td class="diffline">67 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>shuffle=True,</td></tr>
<tr class="diffunmodified"><td class="diffline">73 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_data=None,</td><td class="diffline">68 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_data=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">74 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics=None,</td><td class="diffline">69 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">75 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>k=10,</td><td class="diffline">70 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>k=10,</td></tr>
<tr class="diffunmodified"><td class="diffline">76 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_batch_size=8192,</td><td class="diffline">71 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_batch_size=8192,</td></tr>
<tr class="diffunmodified"><td class="diffline">77 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_user_num=None,</td><td class="diffline">72 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_user_num=None,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">73 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_workers=0,</td></tr>
<tr class="diffunmodified"><td class="diffline">78 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td><td class="diffline">74 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td></tr>
<tr class="diffunmodified"><td class="diffline">79 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;Fit<span class="dp">·</span>embed<span class="dp">·</span>model<span class="dp">·</span>on<span class="dp">·</span>the<span class="dp">·</span>training<span class="dp">·</span>data.</td><td class="diffline">75 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;Fit<span class="dp">·</span>embed<span class="dp">·</span>model<span class="dp">·</span>on<span class="dp">·</span>the<span class="dp">·</span>training<span class="dp">·</span>data.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">80 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td><td class="diffline">76 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td></tr>
<tr class="diffunmodified"><td class="diffline">81 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td><td class="diffline">77 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td></tr>
<tr class="diffunmodified"><td class="diffline">82 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data<span class="dp">·</span>:<span class="dp">·</span>:class:`~libreco.data.TransformedSet`<span class="dp">·</span>object</td><td class="diffline">78 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data<span class="dp">·</span>:<span class="dp">·</span>:class:`~libreco.data.TransformedSet`<span class="dp">·</span>object</td></tr>
<tr class="diffunmodified"><td class="diffline">83 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Data<span class="dp">·</span>object<span class="dp">·</span>used<span class="dp">·</span>for<span class="dp">·</span>training.</td><td class="diffline">79 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Data<span class="dp">·</span>object<span class="dp">·</span>used<span class="dp">·</span>for<span class="dp">·</span>training.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">80 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neg_sampling<span class="dp">·</span>:<span class="dp">·</span>bool</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">81 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Whether<span class="dp">·</span>to<span class="dp">·</span>perform<span class="dp">·</span>negative<span class="dp">·</span>sampling<span class="dp">·</span>for<span class="dp">·</span>training<span class="dp">·</span>or<span class="dp">·</span>evaluating<span class="dp">·</span>data.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">82 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>versionadded::<span class="dp">·</span>1.1.0</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">83 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>NOTE::</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">84 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Negative<span class="dp">·</span>sampling<span class="dp">·</span>is<span class="dp">·</span>needed<span class="dp">·</span>if<span class="dp">·</span>your<span class="dp">·</span>data<span class="dp">·</span>is<span class="dp">·</span>implicit(i.e.,<span class="dp">·</span>`task`<span class="dp">·</span>is<span class="dp">·</span>ranking)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">85 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>and<span class="dp">·</span>ONLY<span class="dp">·</span>contains<span class="dp">·</span>positive<span class="dp">·</span>labels.<span class="dp">·</span>Otherwise,<span class="dp">·</span>it<span class="dp">·</span>should<span class="dp">·</span>be<span class="dp">·</span>False.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">84 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>verbose<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>1</td><td class="diffline">86 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>verbose<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>1</td></tr>
<tr class="diffunmodified"><td class="diffline">85 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Print<span class="dp">·</span>verbosity.<span class="dp">·</span>If<span class="dp">·</span>`eval_data`<span class="dp">·</span>is<span class="dp">·</span>provided,<span class="dp">·</span>setting<span class="dp">·</span>it<span class="dp">·</span>to<span class="dp">·</span>higher<span class="dp">·</span>than<span class="dp">·</span>1</td><td class="diffline">87 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Print<span class="dp">·</span>verbosity.<span class="dp">·</span>If<span class="dp">·</span>`eval_data`<span class="dp">·</span>is<span class="dp">·</span>provided,<span class="dp">·</span>setting<span class="dp">·</span>it<span class="dp">·</span>to<span class="dp">·</span>higher<span class="dp">·</span>than<span class="dp">·</span>1</td></tr>
<tr class="diffunmodified"><td class="diffline">86 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>will<span class="dp">·</span>print<span class="dp">·</span>evaluation<span class="dp">·</span>metrics<span class="dp">·</span>during<span class="dp">·</span>training.</td><td class="diffline">88 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>will<span class="dp">·</span>print<span class="dp">·</span>evaluation<span class="dp">·</span>metrics<span class="dp">·</span>during<span class="dp">·</span>training.</td></tr>
<tr class="diffunmodified"><td class="diffline">87 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>shuffle<span class="dp">·</span>:<span class="dp">·</span>bool,<span class="dp">·</span>default:<span class="dp">·</span>True</td><td class="diffline">89 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>shuffle<span class="dp">·</span>:<span class="dp">·</span>bool,<span class="dp">·</span>default:<span class="dp">·</span>True</td></tr>
<tr class="diffunmodified"><td class="diffline">88 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Whether<span class="dp">·</span>to<span class="dp">·</span>shuffle<span class="dp">·</span>the<span class="dp">·</span>training<span class="dp">·</span>data.</td><td class="diffline">90 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Whether<span class="dp">·</span>to<span class="dp">·</span>shuffle<span class="dp">·</span>the<span class="dp">·</span>training<span class="dp">·</span>data.</td></tr>
<tr class="diffunmodified"><td class="diffline">89 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_data<span class="dp">·</span>:<span class="dp">·</span>:class:`~libreco.data.TransformedSet`<span class="dp">·</span>object,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">91 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_data<span class="dp">·</span>:<span class="dp">·</span>:class:`~libreco.data.TransformedSet`<span class="dp">·</span>object,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">90 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Data<span class="dp">·</span>object<span class="dp">·</span>used<span class="dp">·</span>for<span class="dp">·</span>evaluating.</td><td class="diffline">92 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Data<span class="dp">·</span>object<span class="dp">·</span>used<span class="dp">·</span>for<span class="dp">·</span>evaluating.</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 97, 46 lines modified</td><td colspan="2">Offset 101, 60 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">97 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>k<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>10</td><td class="diffline">101 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>k<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>10</td></tr>
<tr class="diffunmodified"><td class="diffline">98 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameter<span class="dp">·</span>of<span class="dp">·</span>metrics,<span class="dp">·</span>e.g.<span class="dp">·</span>recall<span class="dp">·</span>at<span class="dp">·</span>k,<span class="dp">·</span>ndcg<span class="dp">·</span>at<span class="dp">·</span>k</td><td class="diffline">102 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameter<span class="dp">·</span>of<span class="dp">·</span>metrics,<span class="dp">·</span>e.g.<span class="dp">·</span>recall<span class="dp">·</span>at<span class="dp">·</span>k,<span class="dp">·</span>ndcg<span class="dp">·</span>at<span class="dp">·</span>k</td></tr>
<tr class="diffunmodified"><td class="diffline">99 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_batch_size<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>8192</td><td class="diffline">103 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_batch_size<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>8192</td></tr>
<tr class="diffunmodified"><td class="diffline">100 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Batch<span class="dp">·</span>size<span class="dp">·</span>for<span class="dp">·</span>evaluating.</td><td class="diffline">104 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Batch<span class="dp">·</span>size<span class="dp">·</span>for<span class="dp">·</span>evaluating.</td></tr>
<tr class="diffunmodified"><td class="diffline">101 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_user_num<span class="dp">·</span>:<span class="dp">·</span>int<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">105 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_user_num<span class="dp">·</span>:<span class="dp">·</span>int<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">102 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>users<span class="dp">·</span>for<span class="dp">·</span>evaluating.<span class="dp">·</span>Setting<span class="dp">·</span>it<span class="dp">·</span>to<span class="dp">·</span>a<span class="dp">·</span>positive<span class="dp">·</span>number<span class="dp">·</span>will<span class="dp">·</span>sample</td><td class="diffline">106 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>users<span class="dp">·</span>for<span class="dp">·</span>evaluating.<span class="dp">·</span>Setting<span class="dp">·</span>it<span class="dp">·</span>to<span class="dp">·</span>a<span class="dp">·</span>positive<span class="dp">·</span>number<span class="dp">·</span>will<span class="dp">·</span>sample</td></tr>
<tr class="diffunmodified"><td class="diffline">103 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>users<span class="dp">·</span>randomly<span class="dp">·</span>from<span class="dp">·</span>eval<span class="dp">·</span>data.</td><td class="diffline">107 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>users<span class="dp">·</span>randomly<span class="dp">·</span>from<span class="dp">·</span>eval<span class="dp">·</span>data.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">108 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_workers<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>0</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">109 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>How<span class="dp">·</span>many<span class="dp">·</span>subprocesses<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>for<span class="dp">·</span>training<span class="dp">·</span>data<span class="dp">·</span>loading.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">110 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>means<span class="dp">·</span>that<span class="dp">·</span>the<span class="dp">·</span>data<span class="dp">·</span>will<span class="dp">·</span>be<span class="dp">·</span>loaded<span class="dp">·</span>in<span class="dp">·</span>the<span class="dp">·</span>main<span class="dp">·</span>process,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">111 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>which<span class="dp">·</span>is<span class="dp">·</span>slower<span class="dp">·</span>than<span class="dp">·</span>multiprocessing.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">112 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>versionadded::<span class="dp">·</span>1.1.0</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">113 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>CAUTION::</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">114 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Using<span class="dp">·</span>multiprocessing(``num_workers``<span class="dp">·</span>&gt;<span class="dp">·</span>0)<span class="dp">·</span>may<span class="dp">·</span>consume<span class="dp">·</span>more<span class="dp">·</span>memory<span class="dp">·</span>than</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">115 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>single<span class="dp">·</span>processing.<span class="dp">·</span>See<span class="dp">·</span>`Multi-process<span class="dp">·</span>data<span class="dp">·</span>loading<span class="dp">·</span>&lt;https://pytorch.org/docs/stable/data.html#multi-process-data-loading&gt;`_.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">104 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Raises</td><td class="diffline">116 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Raises</td></tr>
<tr class="diffunmodified"><td class="diffline">105 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>------</td><td class="diffline">117 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>------</td></tr>
<tr class="diffunmodified"><td class="diffline">106 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>RuntimeError</td><td class="diffline">118 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>RuntimeError</td></tr>
<tr class="diffunmodified"><td class="diffline">107 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>If<span class="dp">·</span>:py:func:`fit`<span class="dp">·</span>is<span class="dp">·</span>called<span class="dp">·</span>from<span class="dp">·</span>a<span class="dp">·</span>loaded<span class="dp">·</span>model(:py:func:`load`).</td><td class="diffline">119 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>If<span class="dp">·</span>:py:func:`fit`<span class="dp">·</span>is<span class="dp">·</span>called<span class="dp">·</span>from<span class="dp">·</span>a<span class="dp">·</span>loaded<span class="dp">·</span>model(:py:func:`load`).</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">120 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>AssertionError</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">121 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>If<span class="dp">·</span>``neg_sampling``<span class="dp">·</span>parameter<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>bool<span class="dp">·</span>type.</td></tr>
<tr class="diffunmodified"><td class="diffline">108 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;</td><td class="diffline">122 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;</td></tr>
<tr class="diffchanged"><td class="diffline">109 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>s</del>e<del>l</del>f<del>.ch</del>e<del>ck_a</del>t<del>tr</del>i<del>bu</del>t<del>e(</del>eval_data,<span class="dp">·</span>k)</td><td class="diffline">123 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>c</ins><ins>h</ins>e<ins>ck</ins><ins>_</ins>f<ins>ittin</ins><ins>g(s</ins>e<ins>lf,<span class="dp">·</span></ins>t<ins>ra</ins>i<ins>n_</ins><ins>da</ins>t<ins>a</ins><ins>,<span class="dp">·</span></ins>eval_dat<ins>a,<span class="dp">·</span>neg_s</ins>a<ins>mpling</ins>,<span class="dp">·</span>k)</td></tr>
<tr class="diffunmodified"><td class="diffline">110 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.show_start_time()</td><td class="diffline">124 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.show_start_time()</td></tr>
<tr class="diffunmodified"><td class="diffline">111 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>not<span class="dp">·</span>self.model_built:</td><td class="diffline">125 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>not<span class="dp">·</span>self.model_built:</td></tr>
<tr class="diffunmodified"><td class="diffline">112 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.build_model()</td><td class="diffline">126 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.build_model()</td></tr>
<tr class="diffunmodified"><td class="diffline">113 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.model_built<span class="dp">·</span>=<span class="dp">·</span>True</td><td class="diffline">127 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.model_built<span class="dp">·</span>=<span class="dp">·</span>True</td></tr>
<tr class="diffunmodified"><td class="diffline">114 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>self.trainer<span class="dp">·</span>is<span class="dp">·</span>None:</td><td class="diffline">128 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>self.trainer<span class="dp">·</span>is<span class="dp">·</span>None:</td></tr>
<tr class="diffunmodified"><td class="diffline">115 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.trainer<span class="dp">·</span>=<span class="dp">·</span>get_trainer(self)</td><td class="diffline">129 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.trainer<span class="dp">·</span>=<span class="dp">·</span>get_trainer(self)</td></tr>
<tr class="diffunmodified"><td class="diffline">116 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.trainer.run(</td><td class="diffline">130 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.trainer.run(</td></tr>
<tr class="diffunmodified"><td class="diffline">117 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data,</td><td class="diffline">131 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">132 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neg_sampling,</td></tr>
<tr class="diffunmodified"><td class="diffline">118 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>verbose,</td><td class="diffline">133 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>verbose,</td></tr>
<tr class="diffunmodified"><td class="diffline">119 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>shuffle,</td><td class="diffline">134 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>shuffle,</td></tr>
<tr class="error"><td colspan="4">
Max diff block lines reached; 5187/9940 bytes (52.18%) of diff not shown.
</td></tr></table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">2.65 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/bases/gensim_base.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-bases-gensim_base.py"><span class="source">LibRecommender-1.1.0/libreco/bases/gensim_base.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-bases-gensim_base.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 4% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 21 lines modified</td><td colspan="2">Offset 1, 27 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">1 </td><td class="diffpresent">import<span class="dp">·</span>abc</td><td class="diffline">1 </td><td class="diffpresent">import<span class="dp">·</span>abc</td></tr>
<tr class="diffunmodified"><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>os</td><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>os</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">3 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td><td class="diffline">3 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td></tr>
<tr class="diffunmodified"><td class="diffline">4 </td><td class="diffpresent">from<span class="dp">·</span>gensim.models<span class="dp">·</span>import<span class="dp">·</span>Word2Vec</td><td class="diffline">4 </td><td class="diffpresent">from<span class="dp">·</span>gensim.models<span class="dp">·</span>import<span class="dp">·</span>Word2Vec</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">5 </td><td class="diffpresent">from<span class="dp">·</span>.embed_base<span class="dp">·</span>import<span class="dp">·</span>EmbedBase</td></tr>
<tr class="diffunmodified"><td class="diffline">5 </td><td class="diffpresent">from<span class="dp">·</span>..evaluation<span class="dp">·</span>import<span class="dp">·</span>print_metrics</td><td class="diffline">6 </td><td class="diffpresent">from<span class="dp">·</span>..evaluation<span class="dp">·</span>import<span class="dp">·</span>print_metrics</td></tr>
<tr class="diffunmodified"><td class="diffline">6 </td><td class="diffpresent">from<span class="dp">·</span>..recommendation<span class="dp">·</span>import<span class="dp">·</span>recommend_from_embedding</td><td class="diffline">7 </td><td class="diffpresent">from<span class="dp">·</span>..recommendation<span class="dp">·</span>import<span class="dp">·</span>recommend_from_embedding</td></tr>
<tr class="diffunmodified"><td class="diffline">7 </td><td class="diffpresent">from<span class="dp">·</span>..utils.misc<span class="dp">·</span>import<span class="dp">·</span>time_block</td><td class="diffline">8 </td><td class="diffpresent">from<span class="dp">·</span>..utils.misc<span class="dp">·</span>import<span class="dp">·</span>time_block</td></tr>
<tr class="diffunmodified"><td class="diffline">8 </td><td class="diffpresent">from<span class="dp">·</span>..utils.save_load<span class="dp">·</span>import<span class="dp">·</span>save_default_recs,<span class="dp">·</span>save_params</td><td class="diffline">9 </td><td class="diffpresent">from<span class="dp">·</span>..utils.save_load<span class="dp">·</span>import<span class="dp">·</span>save_default_recs,<span class="dp">·</span>save_params</td></tr>
<tr class="diffchanged"><td class="diffline">9 </td><td class="diffpresent">from<span class="dp">·</span>.<del>embed_b</del>a<del>s</del>e<span class="dp">·</span>import<span class="dp">·</span><del>EmbedBase</del></td><td class="diffline">10 </td><td class="diffpresent">from<span class="dp">·</span>.<ins>.util</ins><ins>s.valid</ins>a<ins>t</ins>e<span class="dp">·</span>import<span class="dp">·</span><ins>chec</ins><ins>k_fitting</ins></td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">10 </td><td class="diffpresent">class<span class="dp">·</span>GensimBase(EmbedBase):</td><td class="diffline">11 </td><td class="diffpresent">class<span class="dp">·</span>GensimBase(EmbedBase):</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;Base<span class="dp">·</span>class<span class="dp">·</span>for<span class="dp">·</span>models<span class="dp">·</span>that<span class="dp">·</span>use<span class="dp">·</span>Gensim<span class="dp">·</span>for<span class="dp">·</span>training.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">13 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Including<span class="dp">·</span>Item2Vec<span class="dp">·</span>and<span class="dp">·</span>Deepwalk.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>__init__(</td><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>__init__(</td></tr>
<tr class="diffunmodified"><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self,</td><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self,</td></tr>
<tr class="diffunmodified"><td class="diffline">13 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task,</td><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task,</td></tr>
<tr class="diffunmodified"><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info,</td><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info,</td></tr>
<tr class="diffunmodified"><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size=16,</td><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed_size=16,</td></tr>
<tr class="diffunmodified"><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>norm_embed=False,</td><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>norm_embed=False,</td></tr>
<tr class="diffunmodified"><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>window_size=5,</td><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>window_size=5,</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 36, 50 lines modified</td><td colspan="2">Offset 42, 53 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>@abc.abstractmethod</td><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>@abc.abstractmethod</td></tr>
<tr class="diffunmodified"><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>get_data(self):</td><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>get_data(self):</td></tr>
<tr class="diffunmodified"><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>raise<span class="dp">·</span>NotImplementedError</td><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>raise<span class="dp">·</span>NotImplementedError</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>fit(</td><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>fit(</td></tr>
<tr class="diffunmodified"><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self,</td><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self,</td></tr>
<tr class="diffunmodified"><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data,</td><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neg_sampling,</td></tr>
<tr class="diffunmodified"><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>verbose=1,</td><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>verbose=1,</td></tr>
<tr class="diffunmodified"><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>shuffle=True,</td><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>shuffle=True,</td></tr>
<tr class="diffunmodified"><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_data=None,</td><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_data=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics=None,</td><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>k=10,</td><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>k=10,</td></tr>
<tr class="diffunmodified"><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_batch_size=8192,</td><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_batch_size=8192,</td></tr>
<tr class="diffunmodified"><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_user_num=None,</td><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_user_num=None,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>**kwargs,</td></tr>
<tr class="diffunmodified"><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td></tr>
<tr class="diffchanged"><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>s</del>e<del>l</del>f<del>.ch</del>e<del>ck_a</del>t<del>tr</del>i<del>bu</del>t<del>e(</del>eval_data,<span class="dp">·</span>k)</td><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>c</ins><ins>h</ins>e<ins>ck</ins><ins>_</ins>f<ins>ittin</ins><ins>g(s</ins>e<ins>lf,<span class="dp">·</span></ins>t<ins>ra</ins>i<ins>n_</ins><ins>da</ins>t<ins>a</ins><ins>,<span class="dp">·</span></ins>eval_dat<ins>a,<span class="dp">·</span>neg_s</ins>a<ins>mpling</ins>,<span class="dp">·</span>k)</td></tr>
<tr class="diffunmodified"><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.show_start_time()</td><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.show_start_time()</td></tr>
<tr class="diffunmodified"><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>self.data<span class="dp">·</span>is<span class="dp">·</span>None:</td><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>self.data<span class="dp">·</span>is<span class="dp">·</span>None:</td></tr>
<tr class="diffunmodified"><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.data<span class="dp">·</span>=<span class="dp">·</span>self.get_data()</td><td class="diffline">61 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.data<span class="dp">·</span>=<span class="dp">·</span>self.get_data()</td></tr>
<tr class="diffunmodified"><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>self.gensim_model<span class="dp">·</span>is<span class="dp">·</span>None:</td><td class="diffline">62 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>self.gensim_model<span class="dp">·</span>is<span class="dp">·</span>None:</td></tr>
<tr class="diffunmodified"><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.gensim_model<span class="dp">·</span>=<span class="dp">·</span>self.build_model()</td><td class="diffline">63 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.gensim_model<span class="dp">·</span>=<span class="dp">·</span>self.build_model()</td></tr>
<tr class="diffunmodified"><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>with<span class="dp">·</span>time_block(&quot;gensim<span class="dp">·</span>word2vec<span class="dp">·</span>training&quot;,<span class="dp">·</span>verbose):</td><td class="diffline">64 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>with<span class="dp">·</span>time_block(&quot;gensim<span class="dp">·</span>word2vec<span class="dp">·</span>training&quot;,<span class="dp">·</span>verbose):</td></tr>
<tr class="diffunmodified"><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.gensim_model.train(</td><td class="diffline">65 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.gensim_model.train(</td></tr>
<tr class="diffunmodified"><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.data,</td><td class="diffline">66 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.data,</td></tr>
<tr class="diffunmodified"><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>total_examples=self.gensim_model.corpus_count,</td><td class="diffline">67 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>total_examples=self.gensim_model.corpus_count,</td></tr>
<tr class="diffunmodified"><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>epochs=self.n_epochs,</td><td class="diffline">68 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>epochs=self.n_epochs,</td></tr>
<tr class="diffunmodified"><td class="diffline">61 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">69 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td class="diffline">62 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.set_embeddings()</td><td class="diffline">70 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.set_embeddings()</td></tr>
<tr class="diffunmodified"><td class="diffline">63 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.assign_embedding_oov()</td><td class="diffline">71 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.assign_embedding_oov()</td></tr>
<tr class="diffunmodified"><td class="diffline">64 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.default_recs<span class="dp">·</span>=<span class="dp">·</span>recommend_from_embedding(</td><td class="diffline">72 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.default_recs<span class="dp">·</span>=<span class="dp">·</span>recommend_from_embedding(</td></tr>
<tr class="diffchanged"><td class="diffline">65 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>task</del>=self<del>.task</del>,</td><td class="diffline">73 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>m</ins><ins>odel</ins>=self,</td></tr>
<tr class="diffunmodified"><td class="diffline">66 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_ids=[self.n_users],</td><td class="diffline">74 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_ids=[self.n_users],</td></tr>
<tr class="diffunmodified"><td class="diffline">67 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_rec=min(2000,<span class="dp">·</span>self.n_items),</td><td class="diffline">75 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_rec=min(2000,<span class="dp">·</span>self.n_items),</td></tr>
<tr class="diffdeleted"><td class="diffline">68 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info=self.data_info,</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">69 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_embed=self.user_embed,</td><td class="diffline">76 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_embed<ins>dings</ins>=self.user_embed,</td></tr>
<tr class="diffchanged"><td class="diffline">70 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_embed=self.item_embed,</td><td class="diffline">77 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_embed<ins>dings</ins>=self.item_embed,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">78 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seq=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">71 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>filter_consumed=False,</td><td class="diffline">79 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>filter_consumed=False,</td></tr>
<tr class="diffunmodified"><td class="diffline">72 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>random_rec=False,</td><td class="diffline">80 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>random_rec=False,</td></tr>
<tr class="diffunmodified"><td class="diffline">73 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>).flatten()</td><td class="diffline">81 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>).flatten()</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">74 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>verbose<span class="dp">·</span>&gt;<span class="dp">·</span>1:</td><td class="diffline">82 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>verbose<span class="dp">·</span>&gt;<span class="dp">·</span>1:</td></tr>
<tr class="diffunmodified"><td class="diffline">75 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>print_metrics(</td><td class="diffline">83 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>print_metrics(</td></tr>
<tr class="diffunmodified"><td class="diffline">76 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model=self,</td><td class="diffline">84 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model=self,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">85 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neg_sampling=neg_sampling,</td></tr>
<tr class="diffunmodified"><td class="diffline">77 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_data=eval_data,</td><td class="diffline">86 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_data=eval_data,</td></tr>
<tr class="diffunmodified"><td class="diffline">78 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics=metrics,</td><td class="diffline">87 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics=metrics,</td></tr>
<tr class="diffunmodified"><td class="diffline">79 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_batch_size=eval_batch_size,</td><td class="diffline">88 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_batch_size=eval_batch_size,</td></tr>
<tr class="diffunmodified"><td class="diffline">80 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>k=k,</td><td class="diffline">89 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>k=k,</td></tr>
<tr class="diffunmodified"><td class="diffline">81 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sample_user_num=eval_user_num,</td><td class="diffline">90 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sample_user_num=eval_user_num,</td></tr>
<tr class="diffunmodified"><td class="diffline">82 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed=self.seed,</td><td class="diffline">91 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed=self.seed,</td></tr>
<tr class="diffunmodified"><td class="diffline">83 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">92 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">123 B</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/bases/meta.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-bases-meta.py"><span class="source">LibRecommender-1.1.0/libreco/bases/meta.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-bases-meta.py">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">129 B</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/data/__init__.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-data-__init__.py"><span class="source">LibRecommender-1.1.0/libreco/data/__init__.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-data-__init__.py">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">13.1 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/data/data_generator.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-data-data_generator.py"><span class="source">LibRecommender-1.1.0/libreco/graph/neighbor_walk.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-data-data_generator.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 26% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 167 lines modified</td><td colspan="2">Offset 1, 173 lines modified</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">1 </td><td class="diffpresent">import<span class="dp">·</span>torch</td></tr>
<tr class="diffdeleted"><td class="diffline">1 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>tqdm</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">3 </td><td class="diffpresent">from<span class="dp">·</span>.<del>s</del>e<del>q</del><del>uenc</del>e<span class="dp">·</span>import<span class="dp">·</span><del>spars</del>e<del>_user_in</del>te<del>ra</del><del>ct</del>e<del>d</del><del>,<span class="dp">·</span>us</del>e<del>r_interact</del>e<del>d_seq</del></td><td class="diffline">2 </td><td class="diffpresent">from<span class="dp">·</span>.<ins>m</ins>e<ins>ssag</ins>e<span class="dp">·</span>import<span class="dp">·</span><ins>ItemM</ins>e<ins>ssage,<span class="dp">·</span>I</ins>te<ins>mM</ins>e<ins>ssag</ins>e<ins>DGL,<span class="dp">·</span>UserM</ins>e<ins>ssage</ins></td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">3 </td><td class="diffpresent">from<span class="dp">·</span>..sampling<span class="dp">·</span>import<span class="dp">·</span>bipartite_neighbors,<span class="dp">·</span>bipartite_neighbors_with_weights</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">4 </td><td class="diffpresent">class<span class="dp">·</span><del>Da</del><del>taGenPu</del>r<del>e</del><del>(obj</del>e<del>ct</del><del>)</del>:</td><td class="diffline">4 </td><td class="diffpresent">class<span class="dp">·</span><ins>Neighbo</ins>r<ins>Walk</ins>e<ins>r</ins>:</td></tr>
<tr class="diffchanged"><td class="diffline">5 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>__init__(self,<span class="dp">·</span>data):</td><td class="diffline">5 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>__init__(self,<span class="dp">·</span><ins>model,<span class="dp">·</span></ins>data<ins>_info</ins>):</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">6 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.paradigm<span class="dp">·</span>=<span class="dp">·</span>model.paradigm</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.num_layers<span class="dp">·</span>=<span class="dp">·</span>model.num_layers</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.num_neighbors<span class="dp">·</span>=<span class="dp">·</span>model.num_neighbors</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.remove_edges<span class="dp">·</span>=<span class="dp">·</span>model.remove_edges</td></tr>
<tr class="diffdeleted"><td class="diffline">6 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.data_size<span class="dp">·</span>=<span class="dp">·</span>len(data)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.user_indices<span class="dp">·</span>=<span class="dp">·</span>data.user_indices</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.item_indices<span class="dp">·</span>=<span class="dp">·</span>data.item_indices</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.labels<span class="dp">·</span>=<span class="dp">·</span>data.labels</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>__iter__(self,<span class="dp">·</span>batch_size):</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>i<span class="dp">·</span>in<span class="dp">·</span>tqdm.trange(0,<span class="dp">·</span>self.data_size,<span class="dp">·</span>batch_size,<span class="dp">·</span>desc=&quot;train&quot;):</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_slice<span class="dp">·</span>=<span class="dp">·</span>slice(i,<span class="dp">·</span>i<span class="dp">·</span>+<span class="dp">·</span>batch_size)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">13 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>yield<span class="dp">·</span>(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.user_indices[batch_slice],</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.item_indices[batch_slice],</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.labels[batch_slice],</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>None,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>None,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>__call__(self,<span class="dp">·</span>shuffle=True,<span class="dp">·</span>batch_size=None):</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>shuffle:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>mask<span class="dp">·</span>=<span class="dp">·</span>np.random.permutation(range(self.data_size))</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.user_indices<span class="dp">·</span>=<span class="dp">·</span>self.user_indices[mask]</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.item_indices<span class="dp">·</span>=<span class="dp">·</span>self.item_indices[mask]</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.labels<span class="dp">·</span>=<span class="dp">·</span>self.labels[mask]</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>self.__iter__(batch_size)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">27 </td><td class="diffpresent">class<span class="dp">·</span>DataGenFeat(object):</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">28 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>__init__(self,<span class="dp">·</span>data,<span class="dp">·</span>sparse,<span class="dp">·</span>dense,<span class="dp">·</span>class_name=None):</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.user_indices<span class="dp">·</span>=<span class="dp">·</span>data.user_indices</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.item_indices<span class="dp">·</span>=<span class="dp">·</span>data.item_indices</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.labels<span class="dp">·</span>=<span class="dp">·</span>data.labels</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sparse_indices<span class="dp">·</span>=<span class="dp">·</span>data.sparse_indices</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.dense_values<span class="dp">·</span>=<span class="dp">·</span>data.dense_values</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sparse<span class="dp">·</span>=<span class="dp">·</span>sparse</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.dense<span class="dp">·</span>=<span class="dp">·</span>dense</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.data_size<span class="dp">·</span>=<span class="dp">·</span>len(data)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.class_name<span class="dp">·</span>=<span class="dp">·</span>class_name</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>__iter__(self,<span class="dp">·</span>batch_size):</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>i<span class="dp">·</span>in<span class="dp">·</span>tqdm.trange(0,<span class="dp">·</span>self.data_size,<span class="dp">·</span>batch_size,<span class="dp">·</span>desc=&quot;train&quot;):</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_slice<span class="dp">·</span>=<span class="dp">·</span>slice(i,<span class="dp">·</span>i<span class="dp">·</span>+<span class="dp">·</span>batch_size)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>pure_part<span class="dp">·</span>=<span class="dp">·</span>(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.user_indices[batch_slice],</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.item_indices[batch_slice],</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.labels[batch_slice],</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_part<span class="dp">·</span>=<span class="dp">·</span>(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(self.sparse_indices[batch_slice],)<span class="dp">·</span>if<span class="dp">·</span>self.sparse<span class="dp">·</span>else<span class="dp">·</span>(None,)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_part<span class="dp">·</span>=<span class="dp">·</span>(self.dense_values[batch_slice],)<span class="dp">·</span>if<span class="dp">·</span>self.dense<span class="dp">·</span>else<span class="dp">·</span>(None,)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>yield<span class="dp">·</span>pure_part<span class="dp">·</span>+<span class="dp">·</span>sparse_part<span class="dp">·</span>+<span class="dp">·</span>dense_part</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>__call__(self,<span class="dp">·</span>shuffle=True,<span class="dp">·</span>batch_size=None):</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>shuffle:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>mask<span class="dp">·</span>=<span class="dp">·</span>np.random.permutation(range(self.data_size))</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>self.sparse:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sparse_indices<span class="dp">·</span>=<span class="dp">·</span>self.sparse_indices[mask]</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>self.dense:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.dense_values<span class="dp">·</span>=<span class="dp">·</span>self.dense_values[mask]</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.user_indices<span class="dp">·</span>=<span class="dp">·</span>self.user_indices[mask]</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.item_indices<span class="dp">·</span>=<span class="dp">·</span>self.item_indices[mask]</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.labels<span class="dp">·</span>=<span class="dp">·</span>self.labels[mask]</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">61 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>self.__iter__(batch_size)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">62 </td><td class="diffpresent">class<span class="dp">·</span>DataGenSequence(object):</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">63 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>__init__(self,<span class="dp">·</span>data,<span class="dp">·</span>data_info,<span class="dp">·</span>sparse,<span class="dp">·</span>dense,<span class="dp">·</span>mode,<span class="dp">·</span>num,<span class="dp">·</span>padding_idx):</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">64 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.user_consumed<span class="dp">·</span>=<span class="dp">·</span>data_info.user_consumed</td><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.user_consumed<span class="dp">·</span>=<span class="dp">·</span>data_info.user_consumed</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.item_consumed<span class="dp">·</span>=<span class="dp">·</span>data_info.item_consumed</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.user_sparse_unique<span class="dp">·</span>=<span class="dp">·</span>data_info.user_sparse_unique</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">13 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.user_dense_unique<span class="dp">·</span>=<span class="dp">·</span>data_info.user_dense_unique</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.item_sparse_unique<span class="dp">·</span>=<span class="dp">·</span>data_info.item_sparse_unique</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.item_dense_unique<span class="dp">·</span>=<span class="dp">·</span>data_info.item_dense_unique</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.use_pinsage<span class="dp">·</span>=<span class="dp">·</span>&quot;PinSage&quot;<span class="dp">·</span>in<span class="dp">·</span>model.model_name</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>self.use_pinsage:</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.num_walks<span class="dp">·</span>=<span class="dp">·</span>model.num_walks</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.walk_length<span class="dp">·</span>=<span class="dp">·</span>model.neighbor_walk_len</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.termination_prob<span class="dp">·</span>=<span class="dp">·</span>model.termination_prob</td></tr>
<tr class="diffdeleted"><td class="diffline">65 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.padding_idx<span class="dp">·</span>=<span class="dp">·</span>padding_idx</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">66 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.user_indices<span class="dp">·</span>=<span class="dp">·</span>data.user_indices</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">67 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.item_indices<span class="dp">·</span>=<span class="dp">·</span>data.item_indices</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">68 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.labels<span class="dp">·</span>=<span class="dp">·</span>data.labels</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">69 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sparse_indices<span class="dp">·</span>=<span class="dp">·</span>data.sparse_indices</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">70 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.dense_values<span class="dp">·</span>=<span class="dp">·</span>data.dense_values</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">71 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.user_consumed_set<span class="dp">·</span>=<span class="dp">·</span>{</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">72 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>u:<span class="dp">·</span>set(items)<span class="dp">·</span>for<span class="dp">·</span>u,<span class="dp">·</span>items<span class="dp">·</span>in<span class="dp">·</span>self.user_consumed.items()</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">73 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">74 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.data_size<span class="dp">·</span>=<span class="dp">·</span>len(self.user_indices)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">75 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sparse<span class="dp">·</span>=<span class="dp">·</span>sparse</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">76 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.dense<span class="dp">·</span>=<span class="dp">·</span>dense</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">77 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.mode<span class="dp">·</span>=<span class="dp">·</span>mode</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">78 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.num<span class="dp">·</span>=<span class="dp">·</span>num</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">79 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.np_rng<span class="dp">·</span>=<span class="dp">·</span>data_info.np_rng</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">80 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>__iter__(self,<span class="dp">·</span>batch_size):</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">81 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>i<span class="dp">·</span>in<span class="dp">·</span>tqdm.trange(0,<span class="dp">·</span>self.data_size,<span class="dp">·</span>batch_size,<span class="dp">·</span>desc=&quot;train&quot;):</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">82 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_slice<span class="dp">·</span>=<span class="dp">·</span>slice(i,<span class="dp">·</span>i<span class="dp">·</span>+<span class="dp">·</span>batch_size)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">83 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(batch_interacted,<span class="dp">·</span>batch_interacted_len)<span class="dp">·</span>=<span class="dp">·</span>user_interacted_seq(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">84 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.user_indices[batch_slice],</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">85 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del><span class="dp">·</span><span class="dp">·</span></del><span class="dp">·</span><del><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></del>self<del>.</del>item<del>_</del><del>ind</del>i<del>c</del>e<del>s[</del><del>batch_slic</del>e<del>],</del></td><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>d</ins><ins>ef</ins><span class="dp">·</span><ins>__call__(</ins>self<ins>,</ins><ins><span class="dp">·</span></ins>item<ins>s,<span class="dp">·</span></ins>i<ins>t</ins>e<ins>ms_pos=Non</ins>e<ins>):</ins></td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>nodes,<span class="dp">·</span>sparse,<span class="dp">·</span>dense<span class="dp">·</span>=<span class="dp">·</span>self.get_item_feats(items)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>nbs,<span class="dp">·</span>nbs_sparse,<span class="dp">·</span>nbs_dense,<span class="dp">·</span>offsets,<span class="dp">·</span>weights<span class="dp">·</span>=<span class="dp">·</span>(</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sample_pinsage(items,<span class="dp">·</span>items_pos)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>self.use_pinsage</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>self.sample_graphsage(items)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">28 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>ItemMessage(</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>nodes,<span class="dp">·</span>sparse,<span class="dp">·</span>dense,<span class="dp">·</span>nbs,<span class="dp">·</span>nbs_sparse,<span class="dp">·</span>nbs_dense,<span class="dp">·</span>offsets,<span class="dp">·</span>weights</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>sample_graphsage(self,<span class="dp">·</span>items):</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neighbors,<span class="dp">·</span>neighbors_sparse,<span class="dp">·</span>neighbors_dense,<span class="dp">·</span>offsets<span class="dp">·</span>=<span class="dp">·</span>[],<span class="dp">·</span>[],<span class="dp">·</span>[],<span class="dp">·</span>[]</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>nodes<span class="dp">·</span>=<span class="dp">·</span>items</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>weights<span class="dp">·</span>=<span class="dp">·</span>None</td></tr>
<tr class="error"><td colspan="4">
Max diff block lines reached; 6898/13296 bytes (51.88%) of diff not shown.
</td></tr></table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">28.6 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/data/data_info.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-data-data_info.py"><span class="source">LibRecommender-1.1.0/libreco/data/data_info.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-data-data_info.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 17% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 61 lines modified</td><td colspan="2">Offset 1, 68 lines modified</td></tr>
<tr class="diffchanged"><td class="diffline">1 </td><td class="diffpresent">&quot;&quot;&quot;Class<span class="dp">·</span>for<span class="dp">·</span>Storing<span class="dp">·</span>Various<span class="dp">·</span>Data<span class="dp">·</span>Information.&quot;&quot;&quot;</td><td class="diffline">1 </td><td class="diffpresent">&quot;&quot;&quot;Class<ins>es</ins><span class="dp">·</span>for<span class="dp">·</span>Storing<span class="dp">·</span>Various<span class="dp">·</span>Data<span class="dp">·</span>Information.&quot;&quot;&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>inspect</td><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>inspect</td></tr>
<tr class="diffunmodified"><td class="diffline">3 </td><td class="diffpresent">import<span class="dp">·</span>json</td><td class="diffline">3 </td><td class="diffpresent">import<span class="dp">·</span>json</td></tr>
<tr class="diffunmodified"><td class="diffline">4 </td><td class="diffpresent">import<span class="dp">·</span>os</td><td class="diffline">4 </td><td class="diffpresent">import<span class="dp">·</span>os</td></tr>
<tr class="diffunmodified"><td class="diffline">5 </td><td class="diffpresent">from<span class="dp">·</span>collections<span class="dp">·</span>import<span class="dp">·</span>namedtuple</td><td class="diffline">5 </td><td class="diffpresent">from<span class="dp">·</span>collections<span class="dp">·</span>import<span class="dp">·</span>namedtuple</td></tr>
<tr class="diffunmodified"><td class="diffline">6 </td><td class="diffpresent">from<span class="dp">·</span>dataclasses<span class="dp">·</span>import<span class="dp">·</span>dataclass</td><td class="diffline">6 </td><td class="diffpresent">from<span class="dp">·</span>dataclasses<span class="dp">·</span>import<span class="dp">·</span>dataclass</td></tr>
<tr class="diffchanged"><td class="diffline">7 </td><td class="diffpresent">from<span class="dp">·</span>typing<span class="dp">·</span>import<span class="dp">·</span>Iterable</td><td class="diffline">7 </td><td class="diffpresent">from<span class="dp">·</span>typing<span class="dp">·</span>import<span class="dp">·</span><ins>Any,<span class="dp">·</span>Dict,<span class="dp">·</span></ins>Iterable<ins>,<span class="dp">·</span>List</ins></td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">8 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td><td class="diffline">8 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td></tr>
<tr class="diffunmodified"><td class="diffline">9 </td><td class="diffpresent">import<span class="dp">·</span>pandas<span class="dp">·</span>as<span class="dp">·</span>pd</td><td class="diffline">9 </td><td class="diffpresent">import<span class="dp">·</span>pandas<span class="dp">·</span>as<span class="dp">·</span>pd</td></tr>
<tr class="diffdeleted"><td class="diffline">10 </td><td class="diffpresent">from<span class="dp">·</span>numpy.random<span class="dp">·</span>import<span class="dp">·</span>default_rng</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">11 </td><td class="diffpresent">from<span class="dp">·</span>.<del>.</del><del>feat</del>u<del>re<span class="dp">·</span>i</del>m<del>port<span class="dp">·</span>ch</del>e<del>ck_oov</del><del>,</del><span class="dp">·</span><del>c</del><del>o</del>m<del>pute_s</del>p<del>a</del>r<del>se_fea</del>t<del>_indices,</del><span class="dp">·</span>interaction_consumed</td><td class="diffline">10 </td><td class="diffpresent">from<span class="dp">·</span>.<ins>cons</ins>ume<ins>d</ins><span class="dp">·</span><ins>i</ins>mp<ins>o</ins>rt<span class="dp">·</span>interaction_consumed</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">11 </td><td class="diffpresent">from<span class="dp">·</span>..feature.update<span class="dp">·</span>import<span class="dp">·</span>(</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>get_row_id_masks,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">13 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>update_new_dense_feats,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>update_new_sparse_feats,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">15 </td><td class="diffpresent">)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">12 </td><td class="diffpresent">Feature<span class="dp">·</span>=<span class="dp">·</span>namedtuple(&quot;Feature&quot;,<span class="dp">·</span>[&quot;name&quot;,<span class="dp">·</span>&quot;index&quot;])</td><td class="diffline">16 </td><td class="diffpresent">Feature<span class="dp">·</span>=<span class="dp">·</span>namedtuple(&quot;Feature&quot;,<span class="dp">·</span>[&quot;name&quot;,<span class="dp">·</span>&quot;index&quot;])</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">13 </td><td class="diffpresent">EmptyFeature<span class="dp">·</span>=<span class="dp">·</span>Feature(name=[],<span class="dp">·</span>index=[])</td><td class="diffline">17 </td><td class="diffpresent">EmptyFeature<span class="dp">·</span>=<span class="dp">·</span>Feature(name=[],<span class="dp">·</span>index=[])</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">14 </td><td class="diffpresent">#<span class="dp">·</span>noinspection<span class="dp">·</span>PyUnresolvedReferences</td><td class="diffline">18 </td><td class="diffpresent">#<span class="dp">·</span>noinspection<span class="dp">·</span>PyUnresolvedReferences</td></tr>
<tr class="diffunmodified"><td class="diffline">15 </td><td class="diffpresent">@dataclass</td><td class="diffline">19 </td><td class="diffpresent">@dataclass</td></tr>
<tr class="diffunmodified"><td class="diffline">16 </td><td class="diffpresent">class<span class="dp">·</span>MultiSparseInfo:</td><td class="diffline">20 </td><td class="diffpresent">class<span class="dp">·</span>MultiSparseInfo:</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;`dataclasses<span class="dp">·</span>&lt;https://docs.python.org/3/library/dataclasses.html&gt;`_</td></tr>
<tr class="diffchanged"><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>&quot;&quot;&quot;:class:`dataclass`<span class="dp">·</span>object<span class="dp">·</span></del>for<span class="dp">·</span>storing<span class="dp">·</span><del>M</del>ulti-sparse<span class="dp">·</span>features<span class="dp">·</span>information.</td><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>storing<span class="dp">·</span><ins>m</ins>ulti-sparse<span class="dp">·</span>features<span class="dp">·</span>information.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>A<span class="dp">·</span>group<span class="dp">·</span>of<span class="dp">·</span>multi-sparse<span class="dp">·</span>features<span class="dp">·</span>are<span class="dp">·</span>considered<span class="dp">·</span>a<span class="dp">·</span>&quot;field&quot;<del>.</del></td><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>A<span class="dp">·</span>group<span class="dp">·</span>of<span class="dp">·</span>multi-sparse<span class="dp">·</span>features<span class="dp">·</span>are<span class="dp">·</span>considered<span class="dp">·</span>a<ins>s<span class="dp">·</span>a</ins><span class="dp">·</span>&quot;field&quot;<ins>,</ins></td></tr>
<tr class="diffchanged"><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>e.g.<span class="dp">·</span><del>[</del>&quot;genre1&quot;,<span class="dp">·</span>&quot;genre2&quot;,<span class="dp">·</span>&quot;genre3&quot;<del>]</del><span class="dp">·</span>form<span class="dp">·</span>a<span class="dp">·</span><del>fi</del>e<del>ld<span class="dp">·</span></del>&quot;<del>genre&quot;.</del></td><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>e.g.<ins>,</ins><span class="dp">·</span><ins>(</ins>&quot;genre1&quot;,<span class="dp">·</span>&quot;genre2&quot;,<span class="dp">·</span>&quot;genre3&quot;<ins>)</ins><span class="dp">·</span>form<span class="dp">·</span>a<span class="dp">·</span><ins>&quot;g</ins>e<ins>nre</ins>&quot;<ins><span class="dp">·</span>field,</ins></td></tr>
<tr class="diffdeleted"><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>So<span class="dp">·</span>this<span class="dp">·</span>object<span class="dp">·</span>contains<span class="dp">·</span>fields&#x27;<span class="dp">·</span>offset,<span class="dp">·</span>field&#x27;s<span class="dp">·</span>length<span class="dp">·</span>and<span class="dp">·</span>fields&#x27;<span class="dp">·</span>oov.</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>S</del><del>i</del>n<del>c</del><del>e</del><span class="dp">·</span>features<span class="dp">·</span>belong<span class="dp">·</span>to<span class="dp">·</span>the<span class="dp">·</span>same<span class="dp">·</span>field<span class="dp">·</span>share<span class="dp">·</span><del>on</del>e<span class="dp">·</span>oov.</td><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>a</ins>n<ins>d</ins><span class="dp">·</span>features<span class="dp">·</span>belong<span class="dp">·</span>to<span class="dp">·</span>the<span class="dp">·</span>same<span class="dp">·</span>field<span class="dp">·</span>shar<ins>e<span class="dp">·</span>th</ins>e<span class="dp">·</span><ins>s</ins><ins>am</ins>e<span class="dp">·</span>oov.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Attributes</td><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Attributes</td></tr>
<tr class="diffunmodified"><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td></tr>
<tr class="diffunmodified"><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>field_offset<span class="dp">·</span>:<span class="dp">·</span>list<span class="dp">·</span>of<span class="dp">·</span>int</td><td class="diffline">28 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>field_offset<span class="dp">·</span>:<span class="dp">·</span>list<span class="dp">·</span>of<span class="dp">·</span>int</td></tr>
<tr class="diffunmodified"><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>All<span class="dp">·</span>multi-sparse<span class="dp">·</span>fields&#x27;<span class="dp">·</span>offset<span class="dp">·</span>in<span class="dp">·</span>all<span class="dp">·</span>expanded<span class="dp">·</span>sparse<span class="dp">·</span>features.</td><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>All<span class="dp">·</span>multi-sparse<span class="dp">·</span>fields&#x27;<span class="dp">·</span>offset<span class="dp">·</span>in<span class="dp">·</span>all<span class="dp">·</span>expanded<span class="dp">·</span>sparse<span class="dp">·</span>features.</td></tr>
<tr class="diffchanged"><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>field_len:<span class="dp">·</span>list<span class="dp">·</span>of<span class="dp">·</span>int</td><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>field_len<ins><span class="dp">·</span></ins>:<span class="dp">·</span>list<span class="dp">·</span>of<span class="dp">·</span>int</td></tr>
<tr class="diffunmodified"><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>All<span class="dp">·</span>multi-sparse<span class="dp">·</span>fields&#x27;<span class="dp">·</span>sizes.</td><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>All<span class="dp">·</span>multi-sparse<span class="dp">·</span>fields&#x27;<span class="dp">·</span>sizes.</td></tr>
<tr class="diffchanged"><td class="diffline">28 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>feat_oov:<span class="dp">·</span>numpy.ndarray</td><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>feat_oov<ins><span class="dp">·</span></ins>:<span class="dp">·</span>numpy.ndarray</td></tr>
<tr class="diffunmodified"><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>All<span class="dp">·</span>multi-sparse<span class="dp">·</span>fields&#x27;<span class="dp">·</span>oov.</td><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>All<span class="dp">·</span>multi-sparse<span class="dp">·</span>fields&#x27;<span class="dp">·</span>oov.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>pad_val<span class="dp">·</span>:<span class="dp">·</span>dict<span class="dp">·</span>of<span class="dp">·</span>{str<span class="dp">·</span>:<span class="dp">·</span>Any}</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Padding<span class="dp">·</span>value<span class="dp">·</span>in<span class="dp">·</span>multi-sparse<span class="dp">·</span>columns.</td></tr>
<tr class="diffunmodified"><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;</td><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>__slots__<span class="dp">·</span>=<span class="dp">·</span>(&quot;field_offset&quot;,<span class="dp">·</span>&quot;field_len&quot;,<span class="dp">·</span>&quot;feat_oov&quot;)</td><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>__slots__<span class="dp">·</span>=<span class="dp">·</span>(&quot;field_offset&quot;,<span class="dp">·</span>&quot;field_len&quot;,<span class="dp">·</span>&quot;feat_oov&quot;<ins>,<span class="dp">·</span>&quot;pad_val&quot;</ins>)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>field_offset:<span class="dp">·</span>Iterable[int]</td><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>field_offset:<span class="dp">·</span>Iterable[int]</td></tr>
<tr class="diffunmodified"><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>field_len:<span class="dp">·</span>Iterable[int]</td><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>field_len:<span class="dp">·</span>Iterable[int]</td></tr>
<tr class="diffunmodified"><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>feat_oov:<span class="dp">·</span>np.ndarray</td><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>feat_oov:<span class="dp">·</span>np.ndarray</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>pad_val:<span class="dp">·</span>Dict[str,<span class="dp">·</span>Any]</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">35 </td><td class="diffpresent">class<span class="dp">·</span>DataInfo:</td><td class="diffline">42 </td><td class="diffpresent">class<span class="dp">·</span>DataInfo:</td></tr>
<tr class="diffchanged"><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;Object<span class="dp">·</span>for<span class="dp">·</span>storing<span class="dp">·</span>and<span class="dp">·</span>updating<span class="dp">·</span>in<del>dices<span class="dp">·</span>a</del>n<del>d<span class="dp">·</span></del>f<del>eatur</del>es<span class="dp">·</span><del>i</del>n<del>form</del>at<del>ion</del>.</td><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;Object<span class="dp">·</span>for<span class="dp">·</span>storing<span class="dp">·</span>and<span class="dp">·</span>updating<span class="dp">·</span>in<ins>f</ins><ins>ormatio</ins>n<ins><span class="dp">·</span>o</ins>f<ins><span class="dp">·</span></ins><ins>indic</ins>es<span class="dp">·</span><ins>a</ins>n<ins>d<span class="dp">·</span>fe</ins>at<ins>u</ins><ins>res</ins>.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td></tr>
<tr class="diffunmodified"><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td></tr>
<tr class="diffunmodified"><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>col_name_mapping<span class="dp">·</span>:<span class="dp">·</span>dict<span class="dp">·</span>of<span class="dp">·</span>{dict<span class="dp">·</span>:<span class="dp">·</span>int}<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>col_name_mapping<span class="dp">·</span>:<span class="dp">·</span>dict<span class="dp">·</span>of<span class="dp">·</span>{dict<span class="dp">·</span>:<span class="dp">·</span>int}<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Column<span class="dp">·</span>name<span class="dp">·</span>to<span class="dp">·</span>index<span class="dp">·</span>mapping,<span class="dp">·</span>which<span class="dp">·</span>has<span class="dp">·</span>the<span class="dp">·</span>format:<span class="dp">·</span>``{column_family_name:<span class="dp">·</span>{column_name:<span class="dp">·</span>index}}``.</td><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Column<span class="dp">·</span>name<span class="dp">·</span>to<span class="dp">·</span>index<span class="dp">·</span>mapping,<span class="dp">·</span>which<span class="dp">·</span>has<span class="dp">·</span>the<span class="dp">·</span>format:<span class="dp">·</span>``{column_family_name:<span class="dp">·</span>{column_name:<span class="dp">·</span>index}}``.</td></tr>
<tr class="diffchanged"><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>If<span class="dp">·</span>no<span class="dp">·</span>such<span class="dp">·</span>family,<span class="dp">·</span>the<span class="dp">·</span>default<span class="dp">·</span>format<span class="dp">·</span>would<span class="dp">·</span>be:<span class="dp">·</span>{column_family_name:<span class="dp">·</span>{[]:<span class="dp">·</span>[]}</td><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>If<span class="dp">·</span>no<span class="dp">·</span>such<span class="dp">·</span>family,<span class="dp">·</span>the<span class="dp">·</span>default<span class="dp">·</span>format<span class="dp">·</span>would<span class="dp">·</span>be:<span class="dp">·</span>{column_family_name:<span class="dp">·</span>{[]:<span class="dp">·</span>[]}<ins>}</ins></td></tr>
<tr class="diffunmodified"><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>interaction_data<span class="dp">·</span>:<span class="dp">·</span>pandas.DataFrame<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>interaction_data<span class="dp">·</span>:<span class="dp">·</span>pandas.DataFrame<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Data<span class="dp">·</span>contains<span class="dp">·</span>``user``,<span class="dp">·</span>``item``<span class="dp">·</span>and<span class="dp">·</span>``label``<span class="dp">·</span>columns</td><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Data<span class="dp">·</span>contains<span class="dp">·</span>``user``,<span class="dp">·</span>``item``<span class="dp">·</span>and<span class="dp">·</span>``label``<span class="dp">·</span>columns</td></tr>
<tr class="diffunmodified"><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_sparse_unique<span class="dp">·</span>:<span class="dp">·</span>numpy.ndarray<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_sparse_unique<span class="dp">·</span>:<span class="dp">·</span>numpy.ndarray<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Unique<span class="dp">·</span>sparse<span class="dp">·</span>features<span class="dp">·</span>for<span class="dp">·</span>all<span class="dp">·</span>users<span class="dp">·</span>in<span class="dp">·</span>train<span class="dp">·</span>data.</td><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Unique<span class="dp">·</span>sparse<span class="dp">·</span>features<span class="dp">·</span>for<span class="dp">·</span>all<span class="dp">·</span>users<span class="dp">·</span>in<span class="dp">·</span>train<span class="dp">·</span>data.</td></tr>
<tr class="diffunmodified"><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_dense_unique<span class="dp">·</span>:<span class="dp">·</span>numpy.ndarray<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_dense_unique<span class="dp">·</span>:<span class="dp">·</span>numpy.ndarray<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Unique<span class="dp">·</span>dense<span class="dp">·</span>features<span class="dp">·</span>for<span class="dp">·</span>all<span class="dp">·</span>users<span class="dp">·</span>in<span class="dp">·</span>train<span class="dp">·</span>data.</td><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Unique<span class="dp">·</span>dense<span class="dp">·</span>features<span class="dp">·</span>for<span class="dp">·</span>all<span class="dp">·</span>users<span class="dp">·</span>in<span class="dp">·</span>train<span class="dp">·</span>data.</td></tr>
<tr class="diffunmodified"><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_sparse_unique<span class="dp">·</span>:<span class="dp">·</span>numpy.ndarray<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_sparse_unique<span class="dp">·</span>:<span class="dp">·</span>numpy.ndarray<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 85, 16 lines modified</td><td colspan="2">Offset 92, 14 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">85 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td><td class="diffline">92 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td></tr>
<tr class="diffunmodified"><td class="diffline">86 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>col_name_mapping<span class="dp">·</span>:<span class="dp">·</span>dict<span class="dp">·</span>of<span class="dp">·</span>{dict<span class="dp">·</span>:<span class="dp">·</span>int}<span class="dp">·</span>or<span class="dp">·</span>None</td><td class="diffline">93 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>col_name_mapping<span class="dp">·</span>:<span class="dp">·</span>dict<span class="dp">·</span>of<span class="dp">·</span>{dict<span class="dp">·</span>:<span class="dp">·</span>int}<span class="dp">·</span>or<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">87 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>See<span class="dp">·</span>Parameters</td><td class="diffline">94 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>See<span class="dp">·</span>Parameters</td></tr>
<tr class="diffunmodified"><td class="diffline">88 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_consumed<span class="dp">·</span>:<span class="dp">·</span>dict<span class="dp">·</span>of<span class="dp">·</span>{int,<span class="dp">·</span>list}</td><td class="diffline">95 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_consumed<span class="dp">·</span>:<span class="dp">·</span>dict<span class="dp">·</span>of<span class="dp">·</span>{int,<span class="dp">·</span>list}</td></tr>
<tr class="diffunmodified"><td class="diffline">89 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Every<span class="dp">·</span>users&#x27;<span class="dp">·</span>consumed<span class="dp">·</span>items<span class="dp">·</span>in<span class="dp">·</span>train<span class="dp">·</span>data.</td><td class="diffline">96 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Every<span class="dp">·</span>users&#x27;<span class="dp">·</span>consumed<span class="dp">·</span>items<span class="dp">·</span>in<span class="dp">·</span>train<span class="dp">·</span>data.</td></tr>
<tr class="diffunmodified"><td class="diffline">90 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_consumed<span class="dp">·</span>:<span class="dp">·</span>dict<span class="dp">·</span>of<span class="dp">·</span>{int,<span class="dp">·</span>list}</td><td class="diffline">97 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_consumed<span class="dp">·</span>:<span class="dp">·</span>dict<span class="dp">·</span>of<span class="dp">·</span>{int,<span class="dp">·</span>list}</td></tr>
<tr class="diffunmodified"><td class="diffline">91 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Every<span class="dp">·</span>items&#x27;<span class="dp">·</span>consumed<span class="dp">·</span>users<span class="dp">·</span>in<span class="dp">·</span>train<span class="dp">·</span>data.</td><td class="diffline">98 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Every<span class="dp">·</span>items&#x27;<span class="dp">·</span>consumed<span class="dp">·</span>users<span class="dp">·</span>in<span class="dp">·</span>train<span class="dp">·</span>data.</td></tr>
<tr class="diffdeleted"><td class="diffline">92 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>popular_items<span class="dp">·</span>:<span class="dp">·</span>list</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">93 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>A<span class="dp">·</span>number<span class="dp">·</span>of<span class="dp">·</span>popular<span class="dp">·</span>items<span class="dp">·</span>in<span class="dp">·</span>train<span class="dp">·</span>data.<span class="dp">·</span>Often<span class="dp">·</span>used<span class="dp">·</span>in<span class="dp">·</span>cold-start.</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">94 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>See<span class="dp">·</span>Also</td><td class="diffline">99 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>See<span class="dp">·</span>Also</td></tr>
<tr class="diffunmodified"><td class="diffline">95 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>--------</td><td class="diffline">100 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>--------</td></tr>
<tr class="diffunmodified"><td class="diffline">96 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>MultiSparseInfo</td><td class="diffline">101 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>MultiSparseInfo</td></tr>
<tr class="diffunmodified"><td class="diffline">97 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;</td><td class="diffline">102 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">98 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>__init__(</td><td class="diffline">103 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>__init__(</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 123, 53 lines modified</td><td colspan="2">Offset 128, 54 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">123 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.item_dense_unique<span class="dp">·</span>=<span class="dp">·</span>item_dense_unique</td><td class="diffline">128 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.item_dense_unique<span class="dp">·</span>=<span class="dp">·</span>item_dense_unique</td></tr>
<tr class="diffunmodified"><td class="diffline">124 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.user_consumed,<span class="dp">·</span>self.item_consumed<span class="dp">·</span>=<span class="dp">·</span>interaction_consumed(</td><td class="diffline">129 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.user_consumed,<span class="dp">·</span>self.item_consumed<span class="dp">·</span>=<span class="dp">·</span>interaction_consumed(</td></tr>
<tr class="diffunmodified"><td class="diffline">125 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_indices,<span class="dp">·</span>item_indices</td><td class="diffline">130 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_indices,<span class="dp">·</span>item_indices</td></tr>
<tr class="diffunmodified"><td class="diffline">126 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">131 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td class="diffline">127 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.user_unique_vals<span class="dp">·</span>=<span class="dp">·</span>user_unique_vals</td><td class="diffline">132 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.user_unique_vals<span class="dp">·</span>=<span class="dp">·</span>user_unique_vals</td></tr>
<tr class="diffunmodified"><td class="diffline">128 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.item_unique_vals<span class="dp">·</span>=<span class="dp">·</span>item_unique_vals</td><td class="diffline">133 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.item_unique_vals<span class="dp">·</span>=<span class="dp">·</span>item_unique_vals</td></tr>
<tr class="diffunmodified"><td class="diffline">129 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sparse_unique_vals<span class="dp">·</span>=<span class="dp">·</span>sparse_unique_vals</td><td class="diffline">134 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sparse_unique_vals<span class="dp">·</span>=<span class="dp">·</span>sparse_unique_vals</td></tr>
<tr class="diffdeleted"><td class="diffline">130 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sparse_unique_idxs<span class="dp">·</span>=<span class="dp">·</span>DataInfo.map_unique_vals(sparse_unique_vals)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">131 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sparse_offset<span class="dp">·</span>=<span class="dp">·</span>sparse_offset</td><td class="diffline">135 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sparse_offset<span class="dp">·</span>=<span class="dp">·</span>sparse_offset</td></tr>
<tr class="diffunmodified"><td class="diffline">132 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sparse_oov<span class="dp">·</span>=<span class="dp">·</span>sparse_oov</td><td class="diffline">136 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sparse_oov<span class="dp">·</span>=<span class="dp">·</span>sparse_oov</td></tr>
<tr class="diffunmodified"><td class="diffline">133 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.multi_sparse_unique_vals<span class="dp">·</span>=<span class="dp">·</span>multi_sparse_unique_vals</td><td class="diffline">137 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.multi_sparse_unique_vals<span class="dp">·</span>=<span class="dp">·</span>multi_sparse_unique_vals</td></tr>
<tr class="diffdeleted"><td class="diffline">134 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.multi_sparse_unique_idxs<span class="dp">·</span>=<span class="dp">·</span>DataInfo.map_unique_vals(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">135 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>multi_sparse_unique_vals</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">136 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">137 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.multi_sparse_combine_info<span class="dp">·</span>=<span class="dp">·</span>multi_sparse_combine_info</td><td class="diffline">138 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.multi_sparse_combine_info<span class="dp">·</span>=<span class="dp">·</span>multi_sparse_combine_info</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">139 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sparse_idx_mapping<span class="dp">·</span>=<span class="dp">·</span>DataInfo.map_sparse_vals(</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">140 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_unique_vals,<span class="dp">·</span>multi_sparse_unique_vals</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">141 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td class="diffline">138 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>Numpy<span class="dp">·</span>doc<span class="dp">·</span>states<span class="dp">·</span>that<span class="dp">·</span>it<span class="dp">·</span>is<span class="dp">·</span>recommended<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>new<span class="dp">·</span>random<span class="dp">·</span>API</td><td class="diffline">142 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>Numpy<span class="dp">·</span>doc<span class="dp">·</span>states<span class="dp">·</span>that<span class="dp">·</span>it<span class="dp">·</span>is<span class="dp">·</span>recommended<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>new<span class="dp">·</span>random<span class="dp">·</span>API</td></tr>
<tr class="diffunmodified"><td class="diffline">139 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>https://numpy.org/doc/stable/reference/random/index.html</td><td class="diffline">143 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>https://numpy.org/doc/stable/reference/random/index.html</td></tr>
<tr class="diffchanged"><td class="diffline">140 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.np_rng<span class="dp">·</span>=<span class="dp">·</span>default_rng()</td><td class="diffline">144 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.np_rng<span class="dp">·</span>=<span class="dp">·</span><ins>np.random.</ins>default_rng()</td></tr>
<tr class="diffunmodified"><td class="diffline">141 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self._n_users<span class="dp">·</span>=<span class="dp">·</span>None</td><td class="diffline">145 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self._n_users<span class="dp">·</span>=<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">142 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self._n_items<span class="dp">·</span>=<span class="dp">·</span>None</td><td class="diffline">146 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self._n_items<span class="dp">·</span>=<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">143 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self._user2id<span class="dp">·</span>=<span class="dp">·</span>None</td><td class="diffline">147 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self._user2id<span class="dp">·</span>=<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">144 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self._item2id<span class="dp">·</span>=<span class="dp">·</span>None</td><td class="diffline">148 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self._item2id<span class="dp">·</span>=<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">145 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self._id2user<span class="dp">·</span>=<span class="dp">·</span>None</td><td class="diffline">149 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self._id2user<span class="dp">·</span>=<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">146 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self._id2item<span class="dp">·</span>=<span class="dp">·</span>None</td><td class="diffline">150 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self._id2item<span class="dp">·</span>=<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">147 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self._data_size<span class="dp">·</span>=<span class="dp">·</span>None</td><td class="diffline">151 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self._data_size<span class="dp">·</span>=<span class="dp">·</span>None</td></tr>
<tr class="diffchanged"><td class="diffline">148 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.popular_items<span class="dp">·</span>=<span class="dp">·</span>None</td><td class="diffline">152 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.<ins>_</ins>popular_items<span class="dp">·</span>=<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">149 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>store<span class="dp">·</span>old<span class="dp">·</span>info<span class="dp">·</span>for<span class="dp">·</span>rebuild<span class="dp">·</span>models</td><td class="diffline">153 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>store<span class="dp">·</span>old<span class="dp">·</span>info<span class="dp">·</span>for<span class="dp">·</span>rebuild<span class="dp">·</span>models</td></tr>
<tr class="diffchanged"><td class="diffline">150 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.old_<del>n_u</del><del>sers</del><span class="dp">·</span>=<span class="dp">·</span>None</td><td class="diffline">154 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.old_<ins>info</ins><span class="dp">·</span>=<span class="dp">·</span>None</td></tr>
<tr class="diffdeleted"><td class="diffline">151 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.old_n_items<span class="dp">·</span>=<span class="dp">·</span>None</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">152 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.old_sparse_len<span class="dp">·</span>=<span class="dp">·</span>None</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">153 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.old_sparse_oov<span class="dp">·</span>=<span class="dp">·</span>None</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">154 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.old_sparse_offset<span class="dp">·</span>=<span class="dp">·</span>None</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">155 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.all_args<span class="dp">·</span>=<span class="dp">·</span>locals()</td><td class="diffline">155 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.all_args<span class="dp">·</span>=<span class="dp">·</span>locals()</td></tr>
<tr class="diffchanged"><td class="diffline">156 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.add_oov()</td><td class="diffline">156 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.add_oov<ins>s</ins>()</td></tr>
<tr class="diffdeleted"><td class="diffline">157 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>self.popular_items<span class="dp">·</span>is<span class="dp">·</span>None:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">158 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.set_popular_items(100)</td><td colspan="2"> </td></tr>
<tr class="error"><td colspan="4">
Max diff block lines reached; 23692/29150 bytes (81.28%) of diff not shown.
</td></tr></table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">24.2 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/data/dataset.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-data-dataset.py"><span class="source">LibRecommender-1.1.0/libreco/data/dataset.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-data-dataset.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 17% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 26 lines modified</td><td colspan="2">Offset 1, 36 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">1 </td><td class="diffpresent">&quot;&quot;&quot;Classes<span class="dp">·</span>for<span class="dp">·</span>Transforming<span class="dp">·</span>and<span class="dp">·</span>Building<span class="dp">·</span>Data.&quot;&quot;&quot;</td><td class="diffline">1 </td><td class="diffpresent">&quot;&quot;&quot;Classes<span class="dp">·</span>for<span class="dp">·</span>Transforming<span class="dp">·</span>and<span class="dp">·</span>Building<span class="dp">·</span>Data.&quot;&quot;&quot;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>functools</td></tr>
<tr class="diffunmodified"><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>itertools</td><td class="diffline">3 </td><td class="diffpresent">import<span class="dp">·</span>itertools</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">3 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td><td class="diffline">4 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">5 </td><td class="diffpresent">from<span class="dp">·</span>.consumed<span class="dp">·</span>import<span class="dp">·</span>update_consumed</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">6 </td><td class="diffpresent">from<span class="dp">·</span>.data_info<span class="dp">·</span>import<span class="dp">·</span>DataInfo,<span class="dp">·</span>store_old_info</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">7 </td><td class="diffpresent">from<span class="dp">·</span>.transformed<span class="dp">·</span>import<span class="dp">·</span>TransformedSet</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">8 </td><td class="diffpresent">from<span class="dp">·</span>..feature.column_mapping<span class="dp">·</span>import<span class="dp">·</span>col_name2index</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">9 </td><td class="diffpresent">from<span class="dp">·</span>..feature.multi_sparse<span class="dp">·</span>import<span class="dp">·</span>(</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>get_multi_sparse_info,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>multi_sparse_col_map,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>recover_sparse_cols,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">13 </td><td class="diffpresent">)</td></tr>
<tr class="diffchanged"><td class="diffline">4 </td><td class="diffpresent">from<span class="dp">·</span>..feature<span class="dp">·</span>import<span class="dp">·</span>(</td><td class="diffline">14 </td><td class="diffpresent">from<span class="dp">·</span>..feature<ins>.sparse</ins><span class="dp">·</span>import<span class="dp">·</span>(</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>get_id_indices,</td></tr>
<tr class="diffdeleted"><td class="diffline">5 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>col_name2index,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">6 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>construct_unique_feat,</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>get_oov_pos,</td><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>get_oov_pos,</td></tr>
<tr class="diffdeleted"><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>get_user_item_sparse_indices,</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>merge_offset,</td><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>merge_offset,</td></tr>
<tr class="diffunmodified"><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>merge_sparse_col,</td><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>merge_sparse_col,</td></tr>
<tr class="diffunmodified"><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>merge_sparse_indices,</td><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>merge_sparse_indices,</td></tr>
<tr class="diffdeleted"><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>multi_sparse_col_map,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">13 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>multi_sparse_combine_info,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>recover_sparse_cols,</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">15 </td><td class="diffpresent">)</td><td class="diffline">20 </td><td class="diffpresent">)</td></tr>
<tr class="diffdeleted"><td class="diffline">16 </td><td class="diffpresent">from<span class="dp">·</span>.data_info<span class="dp">·</span>import<span class="dp">·</span>DataInfo</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">17 </td><td class="diffpresent">from<span class="dp">·</span>.tr<del>ansform</del>e<del>d</del><span class="dp">·</span>import<span class="dp">·</span><del>T</del>r<del>ansform</del>e<del>dS</del>et</td><td class="diffline">21 </td><td class="diffpresent">from<span class="dp">·</span>.<ins>.fea</ins>t<ins>u</ins>r<ins>e.uniqu</ins>e<span class="dp">·</span>import<span class="dp">·</span><ins>cons</ins><ins>t</ins>r<ins>uc</ins><ins>t_uniqu</ins>e<ins>_f</ins>e<ins>a</ins>t</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">22 </td><td class="diffpresent">from<span class="dp">·</span>..feature.update<span class="dp">·</span>import<span class="dp">·</span>(</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>update_id_unique,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>update_multi_sparse_unique,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>update_sparse_unique,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>update_unique_feats,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">27 </td><td class="diffpresent">)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">18 </td><td class="diffpresent">class<span class="dp">·</span>_Dataset(object):</td><td class="diffline">28 </td><td class="diffpresent">class<span class="dp">·</span>_Dataset(object):</td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;Base<span class="dp">·</span>class<span class="dp">·</span>for<span class="dp">·</span>loading<span class="dp">·</span>dataset.&quot;&quot;&quot;</td><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;Base<span class="dp">·</span>class<span class="dp">·</span>for<span class="dp">·</span>loading<span class="dp">·</span>dataset.&quot;&quot;&quot;</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_unique_vals<span class="dp">·</span>=<span class="dp">·</span>None</td><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_unique_vals<span class="dp">·</span>=<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_unique_vals<span class="dp">·</span>=<span class="dp">·</span>None</td><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_unique_vals<span class="dp">·</span>=<span class="dp">·</span>None</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 63, 35 lines modified</td><td colspan="2">Offset 73, 28 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">63 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>raise<span class="dp">·</span>RuntimeError(</td><td class="diffline">73 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>raise<span class="dp">·</span>RuntimeError(</td></tr>
<tr class="diffunmodified"><td class="diffline">64 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;Must<span class="dp">·</span>first<span class="dp">·</span>build<span class="dp">·</span>trainset<span class="dp">·</span>before<span class="dp">·</span>building<span class="dp">·</span>evalset<span class="dp">·</span>or<span class="dp">·</span>testset&quot;</td><td class="diffline">74 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;Must<span class="dp">·</span>first<span class="dp">·</span>build<span class="dp">·</span>trainset<span class="dp">·</span>before<span class="dp">·</span>building<span class="dp">·</span>evalset<span class="dp">·</span>or<span class="dp">·</span>testset&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">65 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">75 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td class="diffline">66 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>cls._check_subclass()</td><td class="diffline">76 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>cls._check_subclass()</td></tr>
<tr class="diffunmodified"><td class="diffline">67 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>cls._check_col_names(test_data,<span class="dp">·</span>is_train=False)</td><td class="diffline">77 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>cls._check_col_names(test_data,<span class="dp">·</span>is_train=False)</td></tr>
<tr class="diffunmodified"><td class="diffline">68 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>shuffle:</td><td class="diffline">78 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>shuffle:</td></tr>
<tr class="diffunmodified"><td class="diffline">69 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>test_data<span class="dp">·</span>=<span class="dp">·</span>cls.shuffle_data(test_data,<span class="dp">·</span>seed)</td><td class="diffline">79 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>test_data<span class="dp">·</span>=<span class="dp">·</span>cls.shuffle_data(test_data,<span class="dp">·</span>seed)</td></tr>
<tr class="diffdeleted"><td class="diffline">70 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>data_info:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">71 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>assert<span class="dp">·</span>isinstance(data_info,<span class="dp">·</span>DataInfo),<span class="dp">·</span>&quot;Invalid<span class="dp">·</span>passed<span class="dp">·</span>`data_info`.&quot;</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">72 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_unique_vals<span class="dp">·</span>=<span class="dp">·</span>data_info.user_unique_vals</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">73 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_unique_vals<span class="dp">·</span>=<span class="dp">·</span>data_info.item_unique_vals</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">74 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">75 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_unique_vals<span class="dp">·</span>=<span class="dp">·</span>cls.user_unique_vals</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">76 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_unique_vals<span class="dp">·</span>=<span class="dp">·</span>cls.item_unique_vals</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">77 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>cls.__name__<span class="dp">·</span>==<span class="dp">·</span>&quot;DatasetPure&quot;:</td><td class="diffline">80 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>cls.__name__<span class="dp">·</span>==<span class="dp">·</span>&quot;DatasetPure&quot;:</td></tr>
<tr class="diffunmodified"><td class="diffline">78 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>_build_transformed_set(</td><td class="diffline">81 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>_build_transformed_set(</td></tr>
<tr class="diffunmodified"><td class="diffline">79 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>test_data,</td><td class="diffline">82 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>test_data,</td></tr>
<tr class="diffchanged"><td class="diffline">80 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_unique_vals,</td><td class="diffline">83 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>cls.</ins>user_unique_vals,</td></tr>
<tr class="diffchanged"><td class="diffline">81 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_unique_vals,</td><td class="diffline">84 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>cls.</ins>item_unique_vals,</td></tr>
<tr class="diffunmodified"><td class="diffline">82 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>is_train=False,</td><td class="diffline">85 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>is_train=False,</td></tr>
<tr class="diffunmodified"><td class="diffline">83 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>is_ordered=False,</td><td class="diffline">86 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>is_ordered=False,</td></tr>
<tr class="diffunmodified"><td class="diffline">84 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">87 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td class="diffline">85 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else:</td><td class="diffline">88 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else:</td></tr>
<tr class="diffunmodified"><td class="diffline">86 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>_build_transformed_set_feat(</td><td class="diffline">89 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>_build_transformed_set_feat(</td></tr>
<tr class="diffunmodified"><td class="diffline">87 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>test_data,</td><td class="diffline">90 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>test_data,</td></tr>
<tr class="diffchanged"><td class="diffline">88 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_unique_vals,</td><td class="diffline">91 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>cls.</ins>user_unique_vals,</td></tr>
<tr class="diffchanged"><td class="diffline">89 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_unique_vals,</td><td class="diffline">92 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>cls.</ins>item_unique_vals,</td></tr>
<tr class="diffunmodified"><td class="diffline">90 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>is_train=False,</td><td class="diffline">93 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>is_train=False,</td></tr>
<tr class="diffunmodified"><td class="diffline">91 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>is_ordered=False,</td><td class="diffline">94 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>is_ordered=False,</td></tr>
<tr class="diffunmodified"><td class="diffline">92 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info=data_info,</td><td class="diffline">95 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info=data_info,</td></tr>
<tr class="diffunmodified"><td class="diffline">93 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">96 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">94 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>@classmethod</td><td class="diffline">97 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>@classmethod</td></tr>
<tr class="diffunmodified"><td class="diffline">95 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>build_evalset(cls,<span class="dp">·</span>eval_data,<span class="dp">·</span>shuffle=False,<span class="dp">·</span>seed=42):</td><td class="diffline">98 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>build_evalset(cls,<span class="dp">·</span>eval_data,<span class="dp">·</span>shuffle=False,<span class="dp">·</span>seed=42):</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 257, 14 lines modified</td><td colspan="2">Offset 260, 18 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">257 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>merge_trainset(</td><td class="diffline">260 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>merge_trainset(</td></tr>
<tr class="diffunmodified"><td class="diffline">258 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>cls,<span class="dp">·</span>train_data,<span class="dp">·</span>data_info,<span class="dp">·</span>merge_behavior=True,<span class="dp">·</span>shuffle=False,<span class="dp">·</span>seed=42</td><td class="diffline">261 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>cls,<span class="dp">·</span>train_data,<span class="dp">·</span>data_info,<span class="dp">·</span>merge_behavior=True,<span class="dp">·</span>shuffle=False,<span class="dp">·</span>seed=42</td></tr>
<tr class="diffunmodified"><td class="diffline">259 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td><td class="diffline">262 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td></tr>
<tr class="diffunmodified"><td class="diffline">260 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;Build<span class="dp">·</span>transformed<span class="dp">·</span>data<span class="dp">·</span>by<span class="dp">·</span>merging<span class="dp">·</span>new<span class="dp">·</span>train<span class="dp">·</span>data<span class="dp">·</span>with<span class="dp">·</span>old<span class="dp">·</span>data.</td><td class="diffline">263 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;Build<span class="dp">·</span>transformed<span class="dp">·</span>data<span class="dp">·</span>by<span class="dp">·</span>merging<span class="dp">·</span>new<span class="dp">·</span>train<span class="dp">·</span>data<span class="dp">·</span>with<span class="dp">·</span>old<span class="dp">·</span>data.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">261 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>versionadded::<span class="dp">·</span>1.0.0</td><td class="diffline">264 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>versionadded::<span class="dp">·</span>1.0.0</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">265 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>versionchanged::<span class="dp">·</span>1.1.0</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">266 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Applying<span class="dp">·</span>a<span class="dp">·</span>more<span class="dp">·</span>functional<span class="dp">·</span>approach.<span class="dp">·</span>A<span class="dp">·</span>new<span class="dp">·</span>``data_info``<span class="dp">·</span>will<span class="dp">·</span>be<span class="dp">·</span>constructed</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">267 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>and<span class="dp">·</span>returned,<span class="dp">·</span>and<span class="dp">·</span>the<span class="dp">·</span>passed<span class="dp">·</span>old<span class="dp">·</span>``data_info``<span class="dp">·</span>should<span class="dp">·</span>be<span class="dp">·</span>discarded.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">262 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td><td class="diffline">268 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td></tr>
<tr class="diffunmodified"><td class="diffline">263 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td><td class="diffline">269 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td></tr>
<tr class="diffunmodified"><td class="diffline">264 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data<span class="dp">·</span>:<span class="dp">·</span>pandas.DataFrame</td><td class="diffline">270 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data<span class="dp">·</span>:<span class="dp">·</span>pandas.DataFrame</td></tr>
<tr class="diffunmodified"><td class="diffline">265 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Data<span class="dp">·</span>must<span class="dp">·</span>contain<span class="dp">·</span>at<span class="dp">·</span>least<span class="dp">·</span>three<span class="dp">·</span>columns,<span class="dp">·</span>i.e.<span class="dp">·</span>``user``,<span class="dp">·</span>``item``,<span class="dp">·</span>``label``.</td><td class="diffline">271 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Data<span class="dp">·</span>must<span class="dp">·</span>contain<span class="dp">·</span>at<span class="dp">·</span>least<span class="dp">·</span>three<span class="dp">·</span>columns,<span class="dp">·</span>i.e.<span class="dp">·</span>``user``,<span class="dp">·</span>``item``,<span class="dp">·</span>``label``.</td></tr>
<tr class="diffunmodified"><td class="diffline">266 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info<span class="dp">·</span>:<span class="dp">·</span>DataInfo</td><td class="diffline">272 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info<span class="dp">·</span>:<span class="dp">·</span>DataInfo</td></tr>
<tr class="diffunmodified"><td class="diffline">267 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Object<span class="dp">·</span>that<span class="dp">·</span>contains<span class="dp">·</span>past<span class="dp">·</span>data<span class="dp">·</span>information.</td><td class="diffline">273 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Object<span class="dp">·</span>that<span class="dp">·</span>contains<span class="dp">·</span>past<span class="dp">·</span>data<span class="dp">·</span>information.</td></tr>
<tr class="diffunmodified"><td class="diffline">268 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>merge_behavior<span class="dp">·</span>:<span class="dp">·</span>bool,<span class="dp">·</span>default:<span class="dp">·</span>True</td><td class="diffline">274 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>merge_behavior<span class="dp">·</span>:<span class="dp">·</span>bool,<span class="dp">·</span>default:<span class="dp">·</span>True</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 272, 38 lines modified</td><td colspan="2">Offset 279, 45 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">272 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>shuffle<span class="dp">·</span>:<span class="dp">·</span>bool,<span class="dp">·</span>default:<span class="dp">·</span>False</td><td class="diffline">279 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>shuffle<span class="dp">·</span>:<span class="dp">·</span>bool,<span class="dp">·</span>default:<span class="dp">·</span>False</td></tr>
<tr class="diffunmodified"><td class="diffline">273 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Whether<span class="dp">·</span>to<span class="dp">·</span>fully<span class="dp">·</span>shuffle<span class="dp">·</span>data.</td><td class="diffline">280 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Whether<span class="dp">·</span>to<span class="dp">·</span>fully<span class="dp">·</span>shuffle<span class="dp">·</span>data.</td></tr>
<tr class="diffunmodified"><td class="diffline">274 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>42</td><td class="diffline">281 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>42</td></tr>
<tr class="diffunmodified"><td class="diffline">275 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Random<span class="dp">·</span>seed.</td><td class="diffline">282 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Random<span class="dp">·</span>seed.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">276 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Returns</td><td class="diffline">283 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Returns</td></tr>
<tr class="diffunmodified"><td class="diffline">277 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-------</td><td class="diffline">284 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>-------</td></tr>
<tr class="diffchanged"><td class="diffline">278 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>:class:`~libreco.data.TransformedSet`</td><td class="diffline">285 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>new_trainset<span class="dp">·</span>:<span class="dp">·</span></ins>:class:`~libreco.data.TransformedSet`</td></tr>
<tr class="diffchanged"><td class="diffline">279 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>T</del>ransformed<span class="dp">·</span>Data<span class="dp">·</span>object<span class="dp">·</span>used<span class="dp">·</span>for<span class="dp">·</span>training.</td><td class="diffline">286 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>New<span class="dp">·</span></ins><ins>t</ins>ransformed<span class="dp">·</span>Data<span class="dp">·</span>object<span class="dp">·</span>used<span class="dp">·</span>for<span class="dp">·</span>training.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">287 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>new_data_info<span class="dp">·</span>:<span class="dp">·</span>:class:`~libreco.data.DataInfo`</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">288 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>New<span class="dp">·</span>``data_info``<span class="dp">·</span>that<span class="dp">·</span>contains<span class="dp">·</span>some<span class="dp">·</span>useful<span class="dp">·</span>information.</td></tr>
<tr class="diffunmodified"><td class="diffline">280 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;</td><td class="diffline">289 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;</td></tr>
<tr class="diffdeleted"><td class="diffline">281 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>cls._check_col_names(train_data,<span class="dp">·</span>is_train=True)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">282 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>assert<span class="dp">·</span>isinstance(data_info,<span class="dp">·</span>DataInfo),<span class="dp">·</span>&quot;Invalid<span class="dp">·</span>passed<span class="dp">·</span>`data_info`.&quot;</td><td class="diffline">290 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>assert<span class="dp">·</span>isinstance(data_info,<span class="dp">·</span>DataInfo),<span class="dp">·</span>&quot;Invalid<span class="dp">·</span>passed<span class="dp">·</span>`data_info`.&quot;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">291 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>cls._check_col_names(train_data,<span class="dp">·</span>is_train=True)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">292 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>cls.user_unique_vals,<span class="dp">·</span>cls.item_unique_vals<span class="dp">·</span>=<span class="dp">·</span>update_id_unique(</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">293 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data,<span class="dp">·</span>data_info</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">294 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td class="diffline">283 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>shuffle:</td><td class="diffline">295 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>shuffle:</td></tr>
<tr class="diffunmodified"><td class="diffline">284 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data<span class="dp">·</span>=<span class="dp">·</span>cls.shuffle_data(train_data,<span class="dp">·</span>seed)</td><td class="diffline">296 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data<span class="dp">·</span>=<span class="dp">·</span>cls.shuffle_data(train_data,<span class="dp">·</span>seed)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">285 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info.expand_sparse_unique_vals_and_matrix(train_data)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">286 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>merge_transformed,<span class="dp">·</span>user_indices,<span class="dp">·</span>item_indices<span class="dp">·</span>=<span class="dp">·</span>_build_transformed_set(</td><td class="diffline">297 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>merge_transformed,<span class="dp">·</span>user_indices,<span class="dp">·</span>item_indices<span class="dp">·</span>=<span class="dp">·</span>_build_transformed_set(</td></tr>
<tr class="diffunmodified"><td class="diffline">287 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data,</td><td class="diffline">298 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data,</td></tr>
<tr class="diffchanged"><td class="diffline">288 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>data_i</del><del>nfo</del>.user_unique_vals,</td><td class="diffline">299 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>cls</ins>.user_unique_vals,</td></tr>
<tr class="diffchanged"><td class="diffline">289 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>data_i</del><del>nfo</del>.item_unique_vals,</td><td class="diffline">300 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>cls</ins>.item_unique_vals,</td></tr>
<tr class="diffunmodified"><td class="diffline">290 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>is_train=True,</td><td class="diffline">301 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>is_train=True,</td></tr>
<tr class="diffunmodified"><td class="diffline">291 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>is_ordered=False,</td><td class="diffline">302 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>is_ordered=False,</td></tr>
<tr class="error"><td colspan="4">
Max diff block lines reached; 19951/24691 bytes (80.80%) of diff not shown.
</td></tr></table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">3.15 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/data/sequence.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-data-sequence.py"><span class="source">LibRecommender-1.1.0/libreco/batch/sequence.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-data-sequence.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 16% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 13 lines modified</td><td colspan="2">Offset 1, 13 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">1 </td><td class="diffpresent">import<span class="dp">·</span>random</td><td class="diffline">1 </td><td class="diffpresent">import<span class="dp">·</span>random</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">3 </td><td class="diffpresent">def<span class="dp">·</span><del>spar</del>s<del>e_u</del>se<del>r</del>_interacted(</td><td class="diffline">3 </td><td class="diffpresent">def<span class="dp">·</span><ins>get_</ins>s<ins>par</ins>se_interacted(</td></tr>
<tr class="diffunmodified"><td class="diffline">4 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_indices,<span class="dp">·</span>item_indices,<span class="dp">·</span>user_consumed,<span class="dp">·</span>mode=None,<span class="dp">·</span>num=None</td><td class="diffline">4 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_indices,<span class="dp">·</span>item_indices,<span class="dp">·</span>user_consumed,<span class="dp">·</span>mode=None,<span class="dp">·</span>num=None</td></tr>
<tr class="diffunmodified"><td class="diffline">5 </td><td class="diffpresent">):</td><td class="diffline">5 </td><td class="diffpresent">):</td></tr>
<tr class="diffunmodified"><td class="diffline">6 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>interacted_indices<span class="dp">·</span>=<span class="dp">·</span>[]</td><td class="diffline">6 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>interacted_indices<span class="dp">·</span>=<span class="dp">·</span>[]</td></tr>
<tr class="diffunmodified"><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>interacted_items<span class="dp">·</span>=<span class="dp">·</span>[]</td><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>interacted_items<span class="dp">·</span>=<span class="dp">·</span>[]</td></tr>
<tr class="diffunmodified"><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>j,<span class="dp">·</span>(u,<span class="dp">·</span>i)<span class="dp">·</span>in<span class="dp">·</span>enumerate(zip(user_indices,<span class="dp">·</span>item_indices)):</td><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>j,<span class="dp">·</span>(u,<span class="dp">·</span>i)<span class="dp">·</span>in<span class="dp">·</span>enumerate(zip(user_indices,<span class="dp">·</span>item_indices)):</td></tr>
<tr class="diffunmodified"><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>consumed_items<span class="dp">·</span>=<span class="dp">·</span>user_consumed[u]</td><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>consumed_items<span class="dp">·</span>=<span class="dp">·</span>user_consumed[u]</td></tr>
<tr class="diffunmodified"><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>position<span class="dp">·</span>=<span class="dp">·</span>consumed_items.index(i)</td><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>position<span class="dp">·</span>=<span class="dp">·</span>consumed_items.index(i)</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 21, 39 lines modified</td><td colspan="2">Offset 21, 22 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>interacted_indices.extend([j]<span class="dp">·</span>*<span class="dp">·</span>num)</td><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>interacted_indices.extend([j]<span class="dp">·</span>*<span class="dp">·</span>num)</td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>interacted_items.extend(consumed_items[start_index:position])</td><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>interacted_items.extend(consumed_items[start_index:position])</td></tr>
<tr class="diffunmodified"><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>elif<span class="dp">·</span>position<span class="dp">·</span>&gt;=<span class="dp">·</span>num<span class="dp">·</span>and<span class="dp">·</span>mode<span class="dp">·</span>==<span class="dp">·</span>&quot;random&quot;:</td><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>elif<span class="dp">·</span>position<span class="dp">·</span>&gt;=<span class="dp">·</span>num<span class="dp">·</span>and<span class="dp">·</span>mode<span class="dp">·</span>==<span class="dp">·</span>&quot;random&quot;:</td></tr>
<tr class="diffunmodified"><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>interacted_indices.extend([j]<span class="dp">·</span>*<span class="dp">·</span>num)</td><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>interacted_indices.extend([j]<span class="dp">·</span>*<span class="dp">·</span>num)</td></tr>
<tr class="diffunmodified"><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>chosen_items<span class="dp">·</span>=<span class="dp">·</span>np.random.choice(consumed_items,<span class="dp">·</span>num,<span class="dp">·</span>replace=False)</td><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>chosen_items<span class="dp">·</span>=<span class="dp">·</span>np.random.choice(consumed_items,<span class="dp">·</span>num,<span class="dp">·</span>replace=False)</td></tr>
<tr class="diffunmodified"><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>interacted_items.extend(chosen_items.tolist())</td><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>interacted_items.extend(chosen_items.tolist())</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>assert<span class="dp">·</span>len(interacted_indices)<span class="dp">·</span>==<span class="dp">·</span>len(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">28 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>interacted_items</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>),<span class="dp">·</span>&quot;length<span class="dp">·</span>of<span class="dp">·</span>indices<span class="dp">·</span>and<span class="dp">·</span>values<span class="dp">·</span>doesn&#x27;t<span class="dp">·</span>match&quot;</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>interacted_indices<span class="dp">·</span>=<span class="dp">·</span>np.asarray(interacted_indices).reshape(-1,<span class="dp">·</span>1)</td><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>interacted_indices<span class="dp">·</span>=<span class="dp">·</span>np.asarray(interacted_indices).reshape(-1,<span class="dp">·</span>1)</td></tr>
<tr class="diffunmodified"><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>indices<span class="dp">·</span>=<span class="dp">·</span>np.concatenate(</td><td class="diffline">28 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>indices<span class="dp">·</span>=<span class="dp">·</span>np.concatenate(</td></tr>
<tr class="diffunmodified"><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>[interacted_indices,<span class="dp">·</span>np.zeros_like(interacted_indices)],<span class="dp">·</span>axis=1</td><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>[interacted_indices,<span class="dp">·</span>np.zeros_like(interacted_indices)],<span class="dp">·</span>axis=1</td></tr>
<tr class="diffunmodified"><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffchanged"><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>indices,<span class="dp">·</span>interacted_items,<span class="dp">·</span>len(user_indices)</td><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>indices,<span class="dp">·</span><ins>np.array(</ins>interacted_items<ins>)</ins>,<span class="dp">·</span>len(user_indices)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">35 </td><td class="diffpresent">#<span class="dp">·</span>def<span class="dp">·</span>sample_item_with_tolerance(num,<span class="dp">·</span>consumed_items,<span class="dp">·</span>consumed_len,<span class="dp">·</span>tolerance=5):</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">36 </td><td class="diffpresent">#<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>assert<span class="dp">·</span>num<span class="dp">·</span>&gt;<span class="dp">·</span>tolerance</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">37 </td><td class="diffpresent">#<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sampled<span class="dp">·</span>=<span class="dp">·</span>[]</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">38 </td><td class="diffpresent">#<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>first_len<span class="dp">·</span>=<span class="dp">·</span>num<span class="dp">·</span>-<span class="dp">·</span>tolerance</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">39 </td><td class="diffpresent">#<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>while<span class="dp">·</span>len(sampled)<span class="dp">·</span>&lt;<span class="dp">·</span>first_len:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">40 </td><td class="diffpresent">#<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>i<span class="dp">·</span>=<span class="dp">·</span>floor(random()<span class="dp">·</span>*<span class="dp">·</span>consumed_len)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">41 </td><td class="diffpresent">#<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>consumed_items[i]<span class="dp">·</span>not<span class="dp">·</span>in<span class="dp">·</span>sampled:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">42 </td><td class="diffpresent">#<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sampled.append(consumed_items[i])</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">43 </td><td class="diffpresent">#<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>_<span class="dp">·</span>in<span class="dp">·</span>range(tolerance):</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">44 </td><td class="diffpresent">#<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>i<span class="dp">·</span>=<span class="dp">·</span>floor(random()<span class="dp">·</span>*<span class="dp">·</span>consumed_len)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">45 </td><td class="diffpresent">#<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sampled.append(consumed_items[i])</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">46 </td><td class="diffpresent">#<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>sampled</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">47 </td><td class="diffpresent">def<span class="dp">·</span><del>u</del><del>s</del>e<del>r</del>_interacted_seq(</td><td class="diffline">32 </td><td class="diffpresent">def<span class="dp">·</span><ins>g</ins>e<ins>t</ins>_interacted_seq(</td></tr>
<tr class="diffunmodified"><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_indices,</td><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_indices,</td></tr>
<tr class="diffunmodified"><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_indices,</td><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_indices,</td></tr>
<tr class="diffunmodified"><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_consumed,</td><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_consumed,</td></tr>
<tr class="diffunmodified"><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>pad_index,</td><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>pad_index,</td></tr>
<tr class="diffunmodified"><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>mode,</td><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>mode,</td></tr>
<tr class="diffunmodified"><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num,</td><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num,</td></tr>
<tr class="diffunmodified"><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_consumed_set,</td><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_consumed_set,</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 83, 15 lines modified</td><td colspan="2">Offset 66, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">83 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>start_index<span class="dp">·</span>=<span class="dp">·</span>position<span class="dp">·</span>-<span class="dp">·</span>num</td><td class="diffline">66 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>start_index<span class="dp">·</span>=<span class="dp">·</span>position<span class="dp">·</span>-<span class="dp">·</span>num</td></tr>
<tr class="diffunmodified"><td class="diffline">84 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_interacted[j]<span class="dp">·</span>=<span class="dp">·</span>consumed_items[start_index:position]</td><td class="diffline">67 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_interacted[j]<span class="dp">·</span>=<span class="dp">·</span>consumed_items[start_index:position]</td></tr>
<tr class="diffunmodified"><td class="diffline">85 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>elif<span class="dp">·</span>mode<span class="dp">·</span>==<span class="dp">·</span>&quot;random&quot;:</td><td class="diffline">68 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>elif<span class="dp">·</span>mode<span class="dp">·</span>==<span class="dp">·</span>&quot;random&quot;:</td></tr>
<tr class="diffunmodified"><td class="diffline">86 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>chosen_items<span class="dp">·</span>=<span class="dp">·</span>np_rng.choice(consumed_items,<span class="dp">·</span>num,<span class="dp">·</span>replace=False)</td><td class="diffline">69 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>chosen_items<span class="dp">·</span>=<span class="dp">·</span>np_rng.choice(consumed_items,<span class="dp">·</span>num,<span class="dp">·</span>replace=False)</td></tr>
<tr class="diffunmodified"><td class="diffline">87 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_interacted[j]<span class="dp">·</span>=<span class="dp">·</span>chosen_items</td><td class="diffline">70 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_interacted[j]<span class="dp">·</span>=<span class="dp">·</span>chosen_items</td></tr>
<tr class="diffunmodified"><td class="diffline">88 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_interacted_len.append(float(num))</td><td class="diffline">71 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_interacted_len.append(float(num))</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">89 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>batch_interacted,<span class="dp">·</span>batch_interacted_len</td><td class="diffline">72 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>batch_interacted,<span class="dp">·</span><ins>np.array(</ins>batch_interacted_len<ins>)</ins></td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">90 </td><td class="diffpresent">#<span class="dp">·</span>most<span class="dp">·</span>recent<span class="dp">·</span>num<span class="dp">·</span>items<span class="dp">·</span>a<span class="dp">·</span>user<span class="dp">·</span>has<span class="dp">·</span>interacted,<span class="dp">·</span>assume<span class="dp">·</span>already<span class="dp">·</span>sorted<span class="dp">·</span>by<span class="dp">·</span>time.</td><td class="diffline">73 </td><td class="diffpresent">#<span class="dp">·</span>most<span class="dp">·</span>recent<span class="dp">·</span>num<span class="dp">·</span>items<span class="dp">·</span>a<span class="dp">·</span>user<span class="dp">·</span>has<span class="dp">·</span>interacted,<span class="dp">·</span>assume<span class="dp">·</span>already<span class="dp">·</span>sorted<span class="dp">·</span>by<span class="dp">·</span>time.</td></tr>
<tr class="diffunmodified"><td class="diffline">91 </td><td class="diffpresent">def<span class="dp">·</span>get_user_last_interacted(n_users,<span class="dp">·</span>user_consumed,<span class="dp">·</span>pad_index,<span class="dp">·</span>recent_num=10):</td><td class="diffline">74 </td><td class="diffpresent">def<span class="dp">·</span>get_user_last_interacted(n_users,<span class="dp">·</span>user_consumed,<span class="dp">·</span>pad_index,<span class="dp">·</span>recent_num=10):</td></tr>
<tr class="diffunmodified"><td class="diffline">92 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>u_last_interacted<span class="dp">·</span>=<span class="dp">·</span>np.full((n_users,<span class="dp">·</span>recent_num),<span class="dp">·</span>pad_index,<span class="dp">·</span>dtype=np.int32)</td><td class="diffline">75 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>u_last_interacted<span class="dp">·</span>=<span class="dp">·</span>np.full((n_users,<span class="dp">·</span>recent_num),<span class="dp">·</span>pad_index,<span class="dp">·</span>dtype=np.int32)</td></tr>
<tr class="diffunmodified"><td class="diffline">93 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>interacted_len<span class="dp">·</span>=<span class="dp">·</span>[]</td><td class="diffline">76 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>interacted_len<span class="dp">·</span>=<span class="dp">·</span>[]</td></tr>
<tr class="diffunmodified"><td class="diffline">94 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>u<span class="dp">·</span>in<span class="dp">·</span>range(n_users):</td><td class="diffline">77 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>u<span class="dp">·</span>in<span class="dp">·</span>range(n_users):</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 100, 8 lines modified</td><td colspan="2">Offset 83, 8 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">100 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>u_items_len<span class="dp">·</span>&lt;<span class="dp">·</span>recent_num:</td><td class="diffline">83 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>u_items_len<span class="dp">·</span>&lt;<span class="dp">·</span>recent_num:</td></tr>
<tr class="diffunmodified"><td class="diffline">101 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>u_last_interacted[u,<span class="dp">·</span>-u_items_len:]<span class="dp">·</span>=<span class="dp">·</span>u_consumed_items</td><td class="diffline">84 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>u_last_interacted[u,<span class="dp">·</span>-u_items_len:]<span class="dp">·</span>=<span class="dp">·</span>u_consumed_items</td></tr>
<tr class="diffunmodified"><td class="diffline">102 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>interacted_len.append(float(u_items_len))</td><td class="diffline">85 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>interacted_len.append(float(u_items_len))</td></tr>
<tr class="diffunmodified"><td class="diffline">103 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else:</td><td class="diffline">86 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else:</td></tr>
<tr class="diffunmodified"><td class="diffline">104 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>u_last_interacted[u]<span class="dp">·</span>=<span class="dp">·</span>u_consumed_items[-recent_num:]</td><td class="diffline">87 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>u_last_interacted[u]<span class="dp">·</span>=<span class="dp">·</span>u_consumed_items[-recent_num:]</td></tr>
<tr class="diffunmodified"><td class="diffline">105 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>interacted_len.append(float(recent_num))</td><td class="diffline">88 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>interacted_len.append(float(recent_num))</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">106 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>u_last_interacted,<span class="dp">·</span>np.a<del>sa</del>rray(interacted_len)</td><td class="diffline">89 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>u_last_interacted,<span class="dp">·</span>np.array(interacted_len)</td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">1.51 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/data/split.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-data-split.py"><span class="source">LibRecommender-1.1.0/libreco/data/split.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-data-split.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 4% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 336, 17 lines modified</td><td colspan="2">Offset 336, 16 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">336 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>--------</td><td class="diffline">336 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>--------</td></tr>
<tr class="diffunmodified"><td class="diffline">337 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>split_by_ratio</td><td class="diffline">337 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>split_by_ratio</td></tr>
<tr class="diffunmodified"><td class="diffline">338 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;</td><td class="diffline">338 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">339 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>assert<span class="dp">·</span>all(</td><td class="diffline">339 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>assert<span class="dp">·</span>all(</td></tr>
<tr class="diffunmodified"><td class="diffline">340 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>[&quot;user&quot;<span class="dp">·</span>in<span class="dp">·</span>data.columns,<span class="dp">·</span>&quot;time&quot;<span class="dp">·</span>in<span class="dp">·</span>data.columns]</td><td class="diffline">340 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>[&quot;user&quot;<span class="dp">·</span>in<span class="dp">·</span>data.columns,<span class="dp">·</span>&quot;time&quot;<span class="dp">·</span>in<span class="dp">·</span>data.columns]</td></tr>
<tr class="diffunmodified"><td class="diffline">341 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>),<span class="dp">·</span>&quot;data<span class="dp">·</span>must<span class="dp">·</span>contains<span class="dp">·</span>user<span class="dp">·</span>and<span class="dp">·</span>time<span class="dp">·</span>column&quot;</td><td class="diffline">341 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>),<span class="dp">·</span>&quot;data<span class="dp">·</span>must<span class="dp">·</span>contains<span class="dp">·</span>user<span class="dp">·</span>and<span class="dp">·</span>time<span class="dp">·</span>column&quot;</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">342 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data<span class="dp">·</span>=<span class="dp">·</span>data.sort_values(by=[&quot;time&quot;])</td><td class="diffline">342 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data<span class="dp">·</span>=<span class="dp">·</span>data.sort_values(by=[&quot;time&quot;])<ins>.reset_index(drop=True)</ins></td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">343 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>split_by_ratio(data,<span class="dp">·</span>order,<span class="dp">·</span>shuffle,<span class="dp">·</span>test_size,<span class="dp">·</span>multi_ratios,<span class="dp">·</span>seed=seed)</td></tr>
<tr class="diffdeleted"><td class="diffline">343 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data.reset_index(drop=True,<span class="dp">·</span>inplace=True)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">344 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>split_by_ratio(**locals())</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">345 </td><td class="diffpresent">def<span class="dp">·</span>split_by_num_chrono(data,<span class="dp">·</span>order=True,<span class="dp">·</span>shuffle=False,<span class="dp">·</span>test_size=1,<span class="dp">·</span>seed=42):</td><td class="diffline">344 </td><td class="diffpresent">def<span class="dp">·</span>split_by_num_chrono(data,<span class="dp">·</span>order=True,<span class="dp">·</span>shuffle=False,<span class="dp">·</span>test_size=1,<span class="dp">·</span>seed=42):</td></tr>
<tr class="diffunmodified"><td class="diffline">346 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;Assign<span class="dp">·</span>a<span class="dp">·</span>certain<span class="dp">·</span>number<span class="dp">·</span>of<span class="dp">·</span>items<span class="dp">·</span>to<span class="dp">·</span>test<span class="dp">·</span>data<span class="dp">·</span>for<span class="dp">·</span>each<span class="dp">·</span>user,<span class="dp">·</span>where<span class="dp">·</span>items<span class="dp">·</span>are<span class="dp">·</span>sorted<span class="dp">·</span>by<span class="dp">·</span>time<span class="dp">·</span>first.</td><td class="diffline">345 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;Assign<span class="dp">·</span>a<span class="dp">·</span>certain<span class="dp">·</span>number<span class="dp">·</span>of<span class="dp">·</span>items<span class="dp">·</span>to<span class="dp">·</span>test<span class="dp">·</span>data<span class="dp">·</span>for<span class="dp">·</span>each<span class="dp">·</span>user,<span class="dp">·</span>where<span class="dp">·</span>items<span class="dp">·</span>are<span class="dp">·</span>sorted<span class="dp">·</span>by<span class="dp">·</span>time<span class="dp">·</span>first.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">347 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>IMPORTANT::</td><td class="diffline">346 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>IMPORTANT::</td></tr>
<tr class="diffunmodified"><td class="diffline">348 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>This<span class="dp">·</span>function<span class="dp">·</span>implies<span class="dp">·</span>the<span class="dp">·</span>data<span class="dp">·</span>should<span class="dp">·</span>contain<span class="dp">·</span>a<span class="dp">·</span>**time**<span class="dp">·</span>column.</td><td class="diffline">347 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>This<span class="dp">·</span>function<span class="dp">·</span>implies<span class="dp">·</span>the<span class="dp">·</span>data<span class="dp">·</span>should<span class="dp">·</span>contain<span class="dp">·</span>a<span class="dp">·</span>**time**<span class="dp">·</span>column.</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 378, 17 lines modified</td><td colspan="2">Offset 377, 16 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">378 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>--------</td><td class="diffline">377 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>--------</td></tr>
<tr class="diffunmodified"><td class="diffline">379 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>split_by_num</td><td class="diffline">378 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>split_by_num</td></tr>
<tr class="diffunmodified"><td class="diffline">380 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;</td><td class="diffline">379 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">381 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>assert<span class="dp">·</span>all(</td><td class="diffline">380 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>assert<span class="dp">·</span>all(</td></tr>
<tr class="diffunmodified"><td class="diffline">382 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>[&quot;user&quot;<span class="dp">·</span>in<span class="dp">·</span>data.columns,<span class="dp">·</span>&quot;time&quot;<span class="dp">·</span>in<span class="dp">·</span>data.columns]</td><td class="diffline">381 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>[&quot;user&quot;<span class="dp">·</span>in<span class="dp">·</span>data.columns,<span class="dp">·</span>&quot;time&quot;<span class="dp">·</span>in<span class="dp">·</span>data.columns]</td></tr>
<tr class="diffunmodified"><td class="diffline">383 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>),<span class="dp">·</span>&quot;data<span class="dp">·</span>must<span class="dp">·</span>contains<span class="dp">·</span>user<span class="dp">·</span>and<span class="dp">·</span>time<span class="dp">·</span>column&quot;</td><td class="diffline">382 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>),<span class="dp">·</span>&quot;data<span class="dp">·</span>must<span class="dp">·</span>contains<span class="dp">·</span>user<span class="dp">·</span>and<span class="dp">·</span>time<span class="dp">·</span>column&quot;</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">384 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data<span class="dp">·</span>=<span class="dp">·</span>data.sort_values(by=[&quot;time&quot;])</td><td class="diffline">383 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data<span class="dp">·</span>=<span class="dp">·</span>data.sort_values(by=[&quot;time&quot;])<ins>.reset_index(drop=True)</ins></td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">384 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>split_by_num(data,<span class="dp">·</span>order,<span class="dp">·</span>shuffle,<span class="dp">·</span>test_size,<span class="dp">·</span>seed=seed)</td></tr>
<tr class="diffdeleted"><td class="diffline">385 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data.reset_index(drop=True,<span class="dp">·</span>inplace=True)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">386 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>split_by_num(**locals())</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">387 </td><td class="diffpresent">def<span class="dp">·</span>_groupby_user(user_indices,<span class="dp">·</span>order):</td><td class="diffline">385 </td><td class="diffpresent">def<span class="dp">·</span>_groupby_user(user_indices,<span class="dp">·</span>order):</td></tr>
<tr class="diffunmodified"><td class="diffline">388 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sort_kind<span class="dp">·</span>=<span class="dp">·</span>&quot;mergesort&quot;<span class="dp">·</span>if<span class="dp">·</span>order<span class="dp">·</span>else<span class="dp">·</span>&quot;quicksort&quot;</td><td class="diffline">386 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sort_kind<span class="dp">·</span>=<span class="dp">·</span>&quot;mergesort&quot;<span class="dp">·</span>if<span class="dp">·</span>order<span class="dp">·</span>else<span class="dp">·</span>&quot;quicksort&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">389 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_,<span class="dp">·</span>user_position,<span class="dp">·</span>user_counts<span class="dp">·</span>=<span class="dp">·</span>np.unique(</td><td class="diffline">387 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_,<span class="dp">·</span>user_position,<span class="dp">·</span>user_counts<span class="dp">·</span>=<span class="dp">·</span>np.unique(</td></tr>
<tr class="diffunmodified"><td class="diffline">390 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_indices,<span class="dp">·</span>return_inverse=True,<span class="dp">·</span>return_counts=True</td><td class="diffline">388 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_indices,<span class="dp">·</span>return_inverse=True,<span class="dp">·</span>return_counts=True</td></tr>
<tr class="diffunmodified"><td class="diffline">391 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">389 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">3.64 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/data/transformed.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-data-transformed.py"><span class="source">LibRecommender-1.1.0/libreco/data/transformed.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-data-transformed.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 15% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 28 lines modified</td><td colspan="2">Offset 1, 30 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">1 </td><td class="diffpresent">&quot;&quot;&quot;Transformed<span class="dp">·</span>Dataset.&quot;&quot;&quot;</td><td class="diffline">1 </td><td class="diffpresent">&quot;&quot;&quot;Transformed<span class="dp">·</span>Dataset.&quot;&quot;&quot;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>warnings</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td><td class="diffline">3 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td></tr>
<tr class="diffunmodified"><td class="diffline">3 </td><td class="diffpresent">from<span class="dp">·</span>scipy.sparse<span class="dp">·</span>import<span class="dp">·</span>csr_matrix</td><td class="diffline">4 </td><td class="diffpresent">from<span class="dp">·</span>scipy.sparse<span class="dp">·</span>import<span class="dp">·</span>csr_matrix</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">4 </td><td class="diffpresent">from<span class="dp">·</span>.<del>.</del><del>feat</del>u<del>r</del>e<span class="dp">·</span>import<span class="dp">·</span>interaction_consumed</td><td class="diffline">5 </td><td class="diffpresent">from<span class="dp">·</span>.<ins>cons</ins>u<ins>m</ins>e<ins>d</ins><span class="dp">·</span>import<span class="dp">·</span>interaction_consumed</td></tr>
<tr class="diffunmodified"><td class="diffline">5 </td><td class="diffpresent">from<span class="dp">·</span>..utils.sampling<span class="dp">·</span>import<span class="dp">·</span>NegativeSampling</td><td class="diffline">6 </td><td class="diffpresent">from<span class="dp">·</span>..utils.sampling<span class="dp">·</span>import<span class="dp">·</span>NegativeSampling</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">6 </td><td class="diffpresent">class<span class="dp">·</span>TransformedSet:</td><td class="diffline">7 </td><td class="diffpresent">class<span class="dp">·</span>TransformedSet:</td></tr>
<tr class="diffunmodified"><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;Dataset<span class="dp">·</span>after<span class="dp">·</span>transforming.</td><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;Dataset<span class="dp">·</span>after<span class="dp">·</span>transforming.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Often<span class="dp">·</span>generated<span class="dp">·</span>by<span class="dp">·</span>calling<span class="dp">·</span>functions<span class="dp">·</span>in<span class="dp">·</span>``DatasetPure``<span class="dp">·</span>or<span class="dp">·</span>``DatasetFeat``,</td><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Often<span class="dp">·</span>generated<span class="dp">·</span>by<span class="dp">·</span>calling<span class="dp">·</span>functions<span class="dp">·</span>in<span class="dp">·</span>``DatasetPure``<span class="dp">·</span>or<span class="dp">·</span>``DatasetFeat``,</td></tr>
<tr class="diffchanged"><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>then<span class="dp">·</span>``TransformedSet``<span class="dp">·</span>i<del>s</del><span class="dp">·</span>used<span class="dp">·</span>in<span class="dp">·</span>formal<span class="dp">·</span>training.</td><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>then<span class="dp">·</span>``TransformedSet``<span class="dp">·</span><ins>w</ins>i<ins>ll<span class="dp">·</span>b</ins><ins>e</ins><span class="dp">·</span>used<span class="dp">·</span>in<span class="dp">·</span>formal<span class="dp">·</span>training.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td></tr>
<tr class="diffunmodified"><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td></tr>
<tr class="diffchanged"><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_indices<span class="dp">·</span>:<span class="dp">·</span>numpy.ndarray<del><span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</del></td><td class="diffline">13 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_indices<span class="dp">·</span>:<span class="dp">·</span>numpy.ndarray</td></tr>
<tr class="diffunmodified"><td class="diffline">13 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>All<span class="dp">·</span>user<span class="dp">·</span>rows<span class="dp">·</span>in<span class="dp">·</span>data,<span class="dp">·</span>represented<span class="dp">·</span>in<span class="dp">·</span>inner<span class="dp">·</span>id.</td><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>All<span class="dp">·</span>user<span class="dp">·</span>rows<span class="dp">·</span>in<span class="dp">·</span>data,<span class="dp">·</span>represented<span class="dp">·</span>in<span class="dp">·</span>inner<span class="dp">·</span>id.</td></tr>
<tr class="diffchanged"><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_indices<span class="dp">·</span>:<span class="dp">·</span>numpy.ndarray<del><span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</del></td><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_indices<span class="dp">·</span>:<span class="dp">·</span>numpy.ndarray</td></tr>
<tr class="diffunmodified"><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>All<span class="dp">·</span>item<span class="dp">·</span>rows<span class="dp">·</span>in<span class="dp">·</span>data,<span class="dp">·</span>represented<span class="dp">·</span>in<span class="dp">·</span>inner<span class="dp">·</span>id.</td><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>All<span class="dp">·</span>item<span class="dp">·</span>rows<span class="dp">·</span>in<span class="dp">·</span>data,<span class="dp">·</span>represented<span class="dp">·</span>in<span class="dp">·</span>inner<span class="dp">·</span>id.</td></tr>
<tr class="diffchanged"><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>labels<span class="dp">·</span>:<span class="dp">·</span>numpy.ndarray<del><span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</del></td><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>labels<span class="dp">·</span>:<span class="dp">·</span>numpy.ndarray</td></tr>
<tr class="diffunmodified"><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>All<span class="dp">·</span>labels<span class="dp">·</span>in<span class="dp">·</span>data.</td><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>All<span class="dp">·</span>labels<span class="dp">·</span>in<span class="dp">·</span>data.</td></tr>
<tr class="diffunmodified"><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_indices<span class="dp">·</span>:<span class="dp">·</span>numpy.ndarray<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_indices<span class="dp">·</span>:<span class="dp">·</span>numpy.ndarray<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>All<span class="dp">·</span>sparse<span class="dp">·</span>rows<span class="dp">·</span>in<span class="dp">·</span>data,<span class="dp">·</span>represented<span class="dp">·</span>in<span class="dp">·</span>inner<span class="dp">·</span>id.</td><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>All<span class="dp">·</span>sparse<span class="dp">·</span>rows<span class="dp">·</span>in<span class="dp">·</span>data,<span class="dp">·</span>represented<span class="dp">·</span>in<span class="dp">·</span>inner<span class="dp">·</span>id.</td></tr>
<tr class="diffunmodified"><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_values<span class="dp">·</span>:<span class="dp">·</span>numpy.ndarray<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_values<span class="dp">·</span>:<span class="dp">·</span>numpy.ndarray<span class="dp">·</span>or<span class="dp">·</span>None,<span class="dp">·</span>default:<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>All<span class="dp">·</span>dense<span class="dp">·</span>rows<span class="dp">·</span>in<span class="dp">·</span>data.</td><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>All<span class="dp">·</span>dense<span class="dp">·</span>rows<span class="dp">·</span>in<span class="dp">·</span>data.</td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train<span class="dp">·</span>:<span class="dp">·</span>bool,<span class="dp">·</span>default:<span class="dp">·</span>True</td><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train<span class="dp">·</span>:<span class="dp">·</span>bool,<span class="dp">·</span>default:<span class="dp">·</span>True</td></tr>
<tr class="diffunmodified"><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Whether<span class="dp">·</span>it<span class="dp">·</span>is<span class="dp">·</span>train<span class="dp">·</span>data.</td><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Whether<span class="dp">·</span>it<span class="dp">·</span>is<span class="dp">·</span>train<span class="dp">·</span>data.</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 62, 25 lines modified</td><td colspan="2">Offset 64, 35 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">62 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.dense_values_orig<span class="dp">·</span>=<span class="dp">·</span>None</td><td class="diffline">64 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.dense_values_orig<span class="dp">·</span>=<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">63 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>build_negative_samples(</td><td class="diffline">65 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>build_negative_samples(</td></tr>
<tr class="diffunmodified"><td class="diffline">64 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self,<span class="dp">·</span>data_info,<span class="dp">·</span>num_neg=1,<span class="dp">·</span>item_gen_mode=&quot;random&quot;,<span class="dp">·</span>seed=42</td><td class="diffline">66 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self,<span class="dp">·</span>data_info,<span class="dp">·</span>num_neg=1,<span class="dp">·</span>item_gen_mode=&quot;random&quot;,<span class="dp">·</span>seed=42</td></tr>
<tr class="diffunmodified"><td class="diffline">65 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td><td class="diffline">67 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td></tr>
<tr class="diffunmodified"><td class="diffline">66 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;Perform<span class="dp">·</span>negative<span class="dp">·</span>sampling<span class="dp">·</span>on<span class="dp">·</span>all<span class="dp">·</span>the<span class="dp">·</span>data<span class="dp">·</span>contained.</td><td class="diffline">68 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;Perform<span class="dp">·</span>negative<span class="dp">·</span>sampling<span class="dp">·</span>on<span class="dp">·</span>all<span class="dp">·</span>the<span class="dp">·</span>data<span class="dp">·</span>contained.</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">69 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>..<span class="dp">·</span>deprecated::<span class="dp">·</span>1.1.0</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">70 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Use<span class="dp">·</span>``neg_sampling``<span class="dp">·</span>parameter<span class="dp">·</span>instead<span class="dp">·</span>of<span class="dp">·</span>explicitly<span class="dp">·</span>calling<span class="dp">·</span>this<span class="dp">·</span>method</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">71 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>negative<span class="dp">·</span>sampling.<span class="dp">·</span>See<span class="dp">·</span>:ref:`Negative<span class="dp">·</span>Sampling`.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">67 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td><td class="diffline">72 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td></tr>
<tr class="diffunmodified"><td class="diffline">68 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td><td class="diffline">73 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td></tr>
<tr class="diffunmodified"><td class="diffline">69 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info<span class="dp">·</span>:<span class="dp">·</span>DataInfo</td><td class="diffline">74 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info<span class="dp">·</span>:<span class="dp">·</span>DataInfo</td></tr>
<tr class="diffunmodified"><td class="diffline">70 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Object<span class="dp">·</span>contains<span class="dp">·</span>data<span class="dp">·</span>information.</td><td class="diffline">75 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Object<span class="dp">·</span>contains<span class="dp">·</span>data<span class="dp">·</span>information.</td></tr>
<tr class="diffunmodified"><td class="diffline">71 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>1</td><td class="diffline">76 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>1</td></tr>
<tr class="diffunmodified"><td class="diffline">72 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>negative<span class="dp">·</span>samples<span class="dp">·</span>for<span class="dp">·</span>each<span class="dp">·</span>positive<span class="dp">·</span>sample.</td><td class="diffline">77 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>negative<span class="dp">·</span>samples<span class="dp">·</span>for<span class="dp">·</span>each<span class="dp">·</span>positive<span class="dp">·</span>sample.</td></tr>
<tr class="diffunmodified"><td class="diffline">73 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_gen_mode<span class="dp">·</span>:<span class="dp">·</span>str,<span class="dp">·</span>default:<span class="dp">·</span>&#x27;random&#x27;</td><td class="diffline">78 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_gen_mode<span class="dp">·</span>:<span class="dp">·</span>str,<span class="dp">·</span>default:<span class="dp">·</span>&#x27;random&#x27;</td></tr>
<tr class="diffunmodified"><td class="diffline">74 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Sampling<span class="dp">·</span>strategy,<span class="dp">·</span>currently<span class="dp">·</span>only<span class="dp">·</span>&#x27;random&#x27;<span class="dp">·</span>is<span class="dp">·</span>supported.</td><td class="diffline">79 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Sampling<span class="dp">·</span>strategy,<span class="dp">·</span>currently<span class="dp">·</span>only<span class="dp">·</span>&#x27;random&#x27;<span class="dp">·</span>is<span class="dp">·</span>supported.</td></tr>
<tr class="diffunmodified"><td class="diffline">75 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>42</td><td class="diffline">80 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>42</td></tr>
<tr class="diffunmodified"><td class="diffline">76 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Random<span class="dp">·</span>seed.</td><td class="diffline">81 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Random<span class="dp">·</span>seed.</td></tr>
<tr class="diffunmodified"><td class="diffline">77 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;</td><td class="diffline">82 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">83 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>warnings.warn(</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">84 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;`build_negative_samples`<span class="dp">·</span>is<span class="dp">·</span>deprecated,<span class="dp">·</span>and<span class="dp">·</span>it<span class="dp">·</span>will<span class="dp">·</span>be<span class="dp">·</span>removed<span class="dp">·</span>in<span class="dp">·</span>the<span class="dp">·</span>future.<span class="dp">·</span>&quot;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">85 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;Use<span class="dp">·</span>`neg_sampling`<span class="dp">·</span>parameter<span class="dp">·</span>instead&quot;,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">86 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>DeprecationWarning,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">87 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>stacklevel=2,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">88 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td class="diffline">78 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.has_sampled<span class="dp">·</span>=<span class="dp">·</span>True</td><td class="diffline">89 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.has_sampled<span class="dp">·</span>=<span class="dp">·</span>True</td></tr>
<tr class="diffunmodified"><td class="diffline">79 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.user_indices_orig<span class="dp">·</span>=<span class="dp">·</span>self._user_indices</td><td class="diffline">90 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.user_indices_orig<span class="dp">·</span>=<span class="dp">·</span>self._user_indices</td></tr>
<tr class="diffunmodified"><td class="diffline">80 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.item_indices_orig<span class="dp">·</span>=<span class="dp">·</span>self._item_indices</td><td class="diffline">91 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.item_indices_orig<span class="dp">·</span>=<span class="dp">·</span>self._item_indices</td></tr>
<tr class="diffunmodified"><td class="diffline">81 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.labels_orig<span class="dp">·</span>=<span class="dp">·</span>self._labels</td><td class="diffline">92 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.labels_orig<span class="dp">·</span>=<span class="dp">·</span>self._labels</td></tr>
<tr class="diffunmodified"><td class="diffline">82 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sparse_indices_orig<span class="dp">·</span>=<span class="dp">·</span>self._sparse_indices</td><td class="diffline">93 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sparse_indices_orig<span class="dp">·</span>=<span class="dp">·</span>self._sparse_indices</td></tr>
<tr class="diffunmodified"><td class="diffline">83 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.dense_values_orig<span class="dp">·</span>=<span class="dp">·</span>self._dense_values</td><td class="diffline">94 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.dense_values_orig<span class="dp">·</span>=<span class="dp">·</span>self._dense_values</td></tr>
<tr class="diffunmodified"><td class="diffline">84 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self._sampling_impl(data_info,<span class="dp">·</span>num_neg,<span class="dp">·</span>item_gen_mode,<span class="dp">·</span>seed)</td><td class="diffline">95 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self._sampling_impl(data_info,<span class="dp">·</span>num_neg,<span class="dp">·</span>item_gen_mode,<span class="dp">·</span>seed)</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 101, 28 lines modified</td><td colspan="2">Offset 113, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">101 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)<span class="dp">·</span>=<span class="dp">·</span>neg.generate_all(seed=seed,<span class="dp">·</span>item_gen_mode=item_gen_mode)</td><td class="diffline">113 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)<span class="dp">·</span>=<span class="dp">·</span>neg.generate_all(seed=seed,<span class="dp">·</span>item_gen_mode=item_gen_mode)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">102 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>__len__(self):</td><td class="diffline">114 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>__len__(self):</td></tr>
<tr class="diffunmodified"><td class="diffline">103 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>len(self.labels)</td><td class="diffline">115 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>len(self.labels)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">104 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>__getitem__(self,<span class="dp">·</span>index):</td><td class="diffline">116 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>__getitem__(self,<span class="dp">·</span>index):</td></tr>
<tr class="diffunmodified"><td class="diffline">105 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;Get<span class="dp">·</span>a<span class="dp">·</span>slice<span class="dp">·</span>of<span class="dp">·</span>data.&quot;&quot;&quot;</td><td class="diffline">117 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;Get<span class="dp">·</span>a<span class="dp">·</span>slice<span class="dp">·</span>of<span class="dp">·</span>data.&quot;&quot;&quot;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">118 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>self.user_indices[index],<span class="dp">·</span>self.item_indices[index],<span class="dp">·</span>self.labels[index]</td></tr>
<tr class="diffdeleted"><td class="diffline">106 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>pure_part<span class="dp">·</span>=<span class="dp">·</span>(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">107 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.user_indices[index],</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">108 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.item_indices[index],</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">109 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.labels[index],</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">110 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">111 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_part<span class="dp">·</span>=<span class="dp">·</span>(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">112 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(self.sparse_indices[index],)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">113 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>self.sparse_indices<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">114 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else<span class="dp">·</span>(None,)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">115 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">116 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_part<span class="dp">·</span>=<span class="dp">·</span>(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">117 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(self.dense_values[index],)<span class="dp">·</span>if<span class="dp">·</span>self.dense_values<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None<span class="dp">·</span>else<span class="dp">·</span>(None,)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">118 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">119 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>pure_part<span class="dp">·</span>+<span class="dp">·</span>sparse_part<span class="dp">·</span>+<span class="dp">·</span>dense_part</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">120 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>@property</td><td class="diffline">119 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>@property</td></tr>
<tr class="diffunmodified"><td class="diffline">121 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>user_indices(self):</td><td class="diffline">120 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>user_indices(self):</td></tr>
<tr class="diffunmodified"><td class="diffline">122 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;All<span class="dp">·</span>user<span class="dp">·</span>rows<span class="dp">·</span>in<span class="dp">·</span>data&quot;&quot;&quot;</td><td class="diffline">121 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;All<span class="dp">·</span>user<span class="dp">·</span>rows<span class="dp">·</span>in<span class="dp">·</span>data&quot;&quot;&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">123 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>self._user_indices</td><td class="diffline">122 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>self._user_indices</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">124 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>@property</td><td class="diffline">123 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>@property</td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">10.4 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/evaluation/computation.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-evaluation-computation.py"><span class="source">LibRecommender-1.1.0/libreco/utils/validate.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-evaluation-computation.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 27% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 142 lines modified</td><td colspan="2">Offset 1, 162 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">1 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td><td class="diffline">1 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td></tr>
<tr class="diffdeleted"><td class="diffline">2 </td><td class="diffpresent">from<span class="dp">·</span>scipy.special<span class="dp">·</span>import<span class="dp">·</span>expit</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">3 </td><td class="diffpresent">from<span class="dp">·</span>tqdm<span class="dp">·</span>import<span class="dp">·</span>tqdm</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">2 </td><td class="diffpresent">from<span class="dp">·</span>..utils.misc<span class="dp">·</span>import<span class="dp">·</span>colorize</td></tr>
<tr class="diffdeleted"><td class="diffline">4 </td><td class="diffpresent">from<span class="dp">·</span>..data<span class="dp">·</span>import<span class="dp">·</span>TransformedSet</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">5 </td><td class="diffpresent">from<span class="dp">·</span>..feature<span class="dp">·</span>import<span class="dp">·</span>features_from_batch_data</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">6 </td><td class="diffpresent">from<span class="dp">·</span>..tfops<span class="dp">·</span>import<span class="dp">·</span>get_feed_dict</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">7 </td><td class="diffpresent">from<span class="dp">·</span>..utils.constants<span class="dp">·</span>import<span class="dp">·</span>TF_FEAT_MODELS</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">8 </td><td class="diffpresent">def<span class="dp">·</span>build_eval_transformed_data(model,<span class="dp">·</span>data,<span class="dp">·</span>negative_sample,<span class="dp">·</span>update_features,<span class="dp">·</span>seed):</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info<span class="dp">·</span>=<span class="dp">·</span>model.data_info</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_users<span class="dp">·</span>=<span class="dp">·</span>data_info.n_users</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_items<span class="dp">·</span>=<span class="dp">·</span>data_info.n_items</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>users<span class="dp">·</span>=<span class="dp">·</span>data.user.tolist()</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">13 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>items<span class="dp">·</span>=<span class="dp">·</span>data.item.tolist()</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_indices<span class="dp">·</span>=<span class="dp">·</span>np.array([data_info.user2id.get(u,<span class="dp">·</span>n_users)<span class="dp">·</span>for<span class="dp">·</span>u<span class="dp">·</span>in<span class="dp">·</span>users])</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_indices<span class="dp">·</span>=<span class="dp">·</span>np.array([data_info.item2id.get(i,<span class="dp">·</span>n_items)<span class="dp">·</span>for<span class="dp">·</span>i<span class="dp">·</span>in<span class="dp">·</span>items])</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>labels<span class="dp">·</span>=<span class="dp">·</span>data.label.to_numpy(dtype=np.float32)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_indices,<span class="dp">·</span>dense_values<span class="dp">·</span>=<span class="dp">·</span>None,<span class="dp">·</span>None</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info.col_name_mapping<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>and<span class="dp">·</span>hasattr(model,<span class="dp">·</span>&quot;sparse&quot;)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>and<span class="dp">·</span>hasattr(model,<span class="dp">·</span>&quot;dense&quot;)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_indices,<span class="dp">·</span>dense_values<span class="dp">·</span>=<span class="dp">·</span>features_from_batch_data(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info,<span class="dp">·</span>model.sparse,<span class="dp">·</span>model.dense,<span class="dp">·</span>data</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>todo:<span class="dp">·</span>merge<span class="dp">·</span>user_consumed</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>transformed_data<span class="dp">·</span>=<span class="dp">·</span>TransformedSet(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">28 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_indices,<span class="dp">·</span>item_indices,<span class="dp">·</span>labels,<span class="dp">·</span>sparse_indices,<span class="dp">·</span>dense_values,<span class="dp">·</span>train=False</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>update_features:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>if<span class="dp">·</span>a<span class="dp">·</span>user<span class="dp">·</span>or<span class="dp">·</span>item<span class="dp">·</span>has<span class="dp">·</span>duplicate<span class="dp">·</span>features,<span class="dp">·</span>will<span class="dp">·</span>only<span class="dp">·</span>update<span class="dp">·</span>the<span class="dp">·</span>last<span class="dp">·</span>one.</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_data<span class="dp">·</span>=<span class="dp">·</span>data.drop_duplicates(subset=[&quot;user&quot;],<span class="dp">·</span>keep=&quot;last&quot;)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_data<span class="dp">·</span>=<span class="dp">·</span>data.drop_duplicates(subset=[&quot;item&quot;],<span class="dp">·</span>keep=&quot;last&quot;)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model.data_info.assign_user_features(user_data)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model.data_info.assign_item_features(item_data)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>negative_sample:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>transformed_data.build_negative_samples(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info,<span class="dp">·</span>item_gen_mode=&quot;random&quot;,<span class="dp">·</span>seed=seed</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>transformed_data</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">3 </td><td class="diffpresent">def<span class="dp">·</span>check_unknown(model,<span class="dp">·</span>user,<span class="dp">·</span>item):</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">4 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>unknown_user_indices<span class="dp">·</span>=<span class="dp">·</span>list(np.where(user<span class="dp">·</span>==<span class="dp">·</span>model.n_users)[0])</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">5 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>unknown_item_indices<span class="dp">·</span>=<span class="dp">·</span>list(np.where(item<span class="dp">·</span>==<span class="dp">·</span>model.n_items)[0])</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">6 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>unknown_index<span class="dp">·</span>=<span class="dp">·</span>list(set(unknown_user_indices)<span class="dp">·</span>|<span class="dp">·</span>set(unknown_item_indices))</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>unknown_num<span class="dp">·</span>=<span class="dp">·</span>len(unknown_index)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>unknown_num<span class="dp">·</span>&gt;<span class="dp">·</span>0:</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>unknown_str<span class="dp">·</span>=<span class="dp">·</span>(</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>f&quot;Detect<span class="dp">·</span>{unknown_num}<span class="dp">·</span>unknown<span class="dp">·</span>interaction(s),<span class="dp">·</span>position:<span class="dp">·</span>{unknown_index}&quot;</td></tr>
<tr class="diffdeleted"><td class="diffline">41 </td><td class="diffpresent">def<span class="dp">·</span>compute_preds(model,<span class="dp">·</span>data,<span class="dp">·</span>batch_size):</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y_pred<span class="dp">·</span>=<span class="dp">·</span>list()</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y_label<span class="dp">·</span>=<span class="dp">·</span>list()</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>predict_func<span class="dp">·</span>=<span class="dp">·</span>choose_pred_func(model)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>batch_data<span class="dp">·</span>in<span class="dp">·</span>tqdm(range(0,<span class="dp">·</span>len(data),<span class="dp">·</span>batch_size),<span class="dp">·</span>desc=&quot;eval_pointwise&quot;):</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_slice<span class="dp">·</span>=<span class="dp">·</span>slice(batch_data,<span class="dp">·</span>batch_data<span class="dp">·</span>+<span class="dp">·</span>batch_size)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>labels<span class="dp">·</span>=<span class="dp">·</span>data.labels[batch_slice]</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>preds<span class="dp">·</span>=<span class="dp">·</span>predict_func(model,<span class="dp">·</span>data,<span class="dp">·</span>batch_slice)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y_pred.extend(preds)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y_label.extend(labels)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>y_pred,<span class="dp">·</span>y_label</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">52 </td><td class="diffpresent">def<span class="dp">·</span>compute_probs(model,<span class="dp">·</span>data,<span class="dp">·</span>batch_size):</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>compute_preds(model,<span class="dp">·</span>data,<span class="dp">·</span>batch_size)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">54 </td><td class="diffpresent">def<span class="dp">·</span>compute_recommends(model,<span class="dp">·</span>users,<span class="dp">·</span>k,<span class="dp">·</span>num_batch_users):</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y_recommends<span class="dp">·</span>=<span class="dp">·</span>dict()</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>no_rec_num<span class="dp">·</span>=<span class="dp">·</span>0</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>no_rec_users<span class="dp">·</span>=<span class="dp">·</span>[]</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>i<span class="dp">·</span>in<span class="dp">·</span>tqdm(range(0,<span class="dp">·</span>len(users),<span class="dp">·</span>num_batch_users),<span class="dp">·</span>desc=&quot;eval_listwise&quot;):</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_users<span class="dp">·</span>=<span class="dp">·</span>users[i:<span class="dp">·</span>i<span class="dp">·</span>+<span class="dp">·</span>num_batch_users]</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_recs<span class="dp">·</span>=<span class="dp">·</span>model.recommend_user(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">61 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user=batch_users,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">62 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_rec=k,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">63 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>inner_id=True,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">64 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>filter_consumed=True,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">65 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>random_rec=False,</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">66 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>print(f&quot;{colorize(unknown_str,<span class="dp">·</span>&#x27;red&#x27;)}&quot;)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">13 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>unknown_num,<span class="dp">·</span>unknown_index,<span class="dp">·</span>user,<span class="dp">·</span>item</td></tr>
<tr class="diffdeleted"><td class="diffline">67 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>u<span class="dp">·</span>in<span class="dp">·</span>batch_users:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">68 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>len(batch_recs[u])<span class="dp">·</span>==<span class="dp">·</span>0:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">69 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>print(&quot;no<span class="dp">·</span>recommend<span class="dp">·</span>user:<span class="dp">·</span>&quot;,<span class="dp">·</span>u)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">70 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>no_rec_num<span class="dp">·</span>+=<span class="dp">·</span>1</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">71 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>no_rec_users.append(u)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">72 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>continue</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">73 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y_recommends[u]<span class="dp">·</span>=<span class="dp">·</span>batch_recs[u]</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">74 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>no_rec_num<span class="dp">·</span>&gt;<span class="dp">·</span>0:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">75 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>print(f&quot;{no_rec_num}<span class="dp">·</span>users<span class="dp">·</span>has<span class="dp">·</span>no<span class="dp">·</span>recommendation&quot;)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">76 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>users<span class="dp">·</span>=<span class="dp">·</span>list(set(users).difference(no_rec_users))</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">77 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>y_recommends,<span class="dp">·</span>users</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">78 </td><td class="diffpresent">def<span class="dp">·</span>choose_pred_func(model):</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">79 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>model.__class__.__name__<span class="dp">·</span>not<span class="dp">·</span>in<span class="dp">·</span>TF_FEAT_MODELS:</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">80 </td><td class="diffpresent"><span class="dp">·</span><del><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>p</del>r<del>e</del>d_fu<del>nc<span class="dp">·</span>=</del><span class="dp">·</span><del>pr</del>e<del>d</del>i<del>ct_pur</del>e</td><td class="diffline">14 </td><td class="diffpresent"><ins>def</ins><span class="dp">·</span><ins>check_unk</ins><ins>nown_use</ins>r<ins>(</ins>d<ins>ata</ins>_<ins>in</ins>f<ins>o,<span class="dp">·</span></ins>u<ins>ser,</ins><span class="dp">·</span><ins>i</ins><ins>nn</ins>e<ins>r</ins><ins>_</ins>i<ins>d=Fals</ins>e<ins>):</ins></td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>known_users_ids,<span class="dp">·</span>unknown_users<span class="dp">·</span>=<span class="dp">·</span>[],<span class="dp">·</span>[]</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>users<span class="dp">·</span>=<span class="dp">·</span>[user]<span class="dp">·</span>if<span class="dp">·</span>np.isscalar(user)<span class="dp">·</span>else<span class="dp">·</span>user</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>u<span class="dp">·</span>in<span class="dp">·</span>users:</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_id<span class="dp">·</span>=<span class="dp">·</span>data_info.user2id.get(u,<span class="dp">·</span>-1)<span class="dp">·</span>if<span class="dp">·</span>not<span class="dp">·</span>inner_id<span class="dp">·</span>else<span class="dp">·</span>u</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>0<span class="dp">·</span>&lt;=<span class="dp">·</span>user_id<span class="dp">·</span>&lt;<span class="dp">·</span>data_info.n_users:</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>known_users_ids.append(user_id)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else:</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>not<span class="dp">·</span>inner_id:</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>unknown_str<span class="dp">·</span>=<span class="dp">·</span>f&quot;Detect<span class="dp">·</span>unknown<span class="dp">·</span>user:<span class="dp">·</span>{u}&quot;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>print(f&quot;{colorize(unknown_str,<span class="dp">·</span>&#x27;red&#x27;)}&quot;)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>unknown_users.append(u)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>known_users_ids,<span class="dp">·</span>unknown_users</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">27 </td><td class="diffpresent">#<span class="dp">·</span>def<span class="dp">·</span>check_has_sampled(data,<span class="dp">·</span>verbose):</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">28 </td><td class="diffpresent">#<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>not<span class="dp">·</span>data.has_sampled<span class="dp">·</span>and<span class="dp">·</span>verbose<span class="dp">·</span>&gt;<span class="dp">·</span>1:</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">29 </td><td class="diffpresent">#<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>exception_str<span class="dp">·</span>=<span class="dp">·</span>(</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">30 </td><td class="diffpresent">#<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;During<span class="dp">·</span>training,<span class="dp">·</span>&quot;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">31 </td><td class="diffpresent">#<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;one<span class="dp">·</span>must<span class="dp">·</span>do<span class="dp">·</span>whole<span class="dp">·</span>data<span class="dp">·</span>sampling<span class="dp">·</span>&quot;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">32 </td><td class="diffpresent">#<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;before<span class="dp">·</span>evaluating<span class="dp">·</span>on<span class="dp">·</span>epochs.&quot;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">33 </td><td class="diffpresent">#<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">34 </td><td class="diffpresent">#<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>raise<span class="dp">·</span>NotSamplingError(f&quot;{colorize(exception_str,<span class="dp">·</span>&#x27;red&#x27;)}&quot;)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">35 </td><td class="diffpresent">def<span class="dp">·</span>check_seq_mode(recent_num,<span class="dp">·</span>random_num):</td></tr>
<tr class="error"><td colspan="4">
Max diff block lines reached; 5294/10523 bytes (50.31%) of diff not shown.
</td></tr></table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">13.1 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/evaluation/evaluate.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-evaluation-evaluate.py"><span class="source">LibRecommender-1.1.0/libreco/evaluation/evaluate.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-evaluation-evaluate.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 27% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 266 lines modified</td><td colspan="2">Offset 1, 182 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">1 </td><td class="diffpresent">&quot;&quot;&quot;Utility<span class="dp">·</span>Functions<span class="dp">·</span>for<span class="dp">·</span>Evaluating<span class="dp">·</span>Data.&quot;&quot;&quot;</td><td class="diffline">1 </td><td class="diffpresent">&quot;&quot;&quot;Utility<span class="dp">·</span>Functions<span class="dp">·</span>for<span class="dp">·</span>Evaluating<span class="dp">·</span>Data.&quot;&quot;&quot;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>functools</td></tr>
<tr class="diffunmodified"><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>math</td><td class="diffline">3 </td><td class="diffpresent">import<span class="dp">·</span>math</td></tr>
<tr class="diffunmodified"><td class="diffline">3 </td><td class="diffpresent">import<span class="dp">·</span>numbers</td><td class="diffline">4 </td><td class="diffpresent">import<span class="dp">·</span>numbers</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">4 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td><td class="diffline">5 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td></tr>
<tr class="diffunmodified"><td class="diffline">5 </td><td class="diffpresent">import<span class="dp">·</span>pandas<span class="dp">·</span>as<span class="dp">·</span>pd</td><td class="diffline">6 </td><td class="diffpresent">import<span class="dp">·</span>pandas<span class="dp">·</span>as<span class="dp">·</span>pd</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">7 </td><td class="diffpresent">from<span class="dp">·</span>sklearn.metrics<span class="dp">·</span>import<span class="dp">·</span>log_loss,<span class="dp">·</span>mean_absolute_error,<span class="dp">·</span>r2_score,<span class="dp">·</span>roc_auc_score</td></tr>
<tr class="diffdeleted"><td class="diffline">6 </td><td class="diffpresent">from<span class="dp">·</span>sklearn.metrics<span class="dp">·</span>import<span class="dp">·</span>(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>auc,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>balanced_accuracy_score,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>log_loss,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>mean_absolute_error,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>mean_squared_error,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>precision_recall_curve,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">13 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>r2_score,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>roc_auc_score,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">15 </td><td class="diffpresent">)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">16 </td><td class="diffpresent">from<span class="dp">·</span>..data<span class="dp">·</span>import<span class="dp">·</span>TransformedSet</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">17 </td><td class="diffpresent">from<span class="dp">·</span>.computation<span class="dp">·</span>import<span class="dp">·</span>(</td><td class="diffline">8 </td><td class="diffpresent">from<span class="dp">·</span>.computation<span class="dp">·</span>import<span class="dp">·</span>(</td></tr>
<tr class="diffunmodified"><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>build_eval_transformed_data,</td><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>build_eval_transformed_data,</td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>compute_preds,</td><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>compute_preds,</td></tr>
<tr class="diffunmodified"><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>compute_probs,</td><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>compute_probs,</td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>compute_recommends,</td><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>compute_recommends,</td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent">)</td><td class="diffline">13 </td><td class="diffpresent">)</td></tr>
<tr class="diffunmodified"><td class="diffline">23 </td><td class="diffpresent">from<span class="dp">·</span>.metrics<span class="dp">·</span>import<span class="dp">·</span>(</td><td class="diffline">14 </td><td class="diffpresent">from<span class="dp">·</span>.metrics<span class="dp">·</span>import<span class="dp">·</span>(</td></tr>
<tr class="diffdeleted"><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>ALLOWED_METRICS,</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>LISTWISE_METRICS,</td><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>LISTWISE_METRICS,</td></tr>
<tr class="diffunmodified"><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>POINTWISE_METRICS,</td><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>POINTWISE_METRICS,</td></tr>
<tr class="diffchanged"><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>map</del>_<del>at_k</del>,</td><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>RANK</ins><ins>ING</ins>_<ins>MET</ins><ins>RICS</ins>,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>RATING_METRICS,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>average_precision_at_k,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>balanced_accuracy,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>listwise_scores,</td></tr>
<tr class="diffunmodified"><td class="diffline">28 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>ndcg_at_k,</td><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>ndcg_at_k,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>pr_auc_score,</td></tr>
<tr class="diffunmodified"><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>precision_at_k,</td><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>precision_at_k,</td></tr>
<tr class="diffunmodified"><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>recall_at_k,</td><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>recall_at_k,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>rmse,</td></tr>
<tr class="diffunmodified"><td class="diffline">31 </td><td class="diffpresent">)</td><td class="diffline">27 </td><td class="diffpresent">)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">28 </td><td class="diffpresent">from<span class="dp">·</span>..data<span class="dp">·</span>import<span class="dp">·</span>TransformedSet</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">32 </td><td class="diffpresent">def<span class="dp">·</span>_check_metrics(task,<span class="dp">·</span>metrics,<span class="dp">·</span>k):</td><td class="diffline">29 </td><td class="diffpresent">def<span class="dp">·</span>_check_metrics(task,<span class="dp">·</span>metrics,<span class="dp">·</span>k):</td></tr>
<tr class="diffunmodified"><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>not<span class="dp">·</span>isinstance(metrics,<span class="dp">·</span>(list,<span class="dp">·</span>tuple)):</td><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>not<span class="dp">·</span>isinstance(metrics,<span class="dp">·</span>(list,<span class="dp">·</span>tuple)):</td></tr>
<tr class="diffunmodified"><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics<span class="dp">·</span>=<span class="dp">·</span>[metrics]</td><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics<span class="dp">·</span>=<span class="dp">·</span>[metrics]</td></tr>
<tr class="diffunmodified"><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>task<span class="dp">·</span>==<span class="dp">·</span>&quot;rating&quot;:</td><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>task<span class="dp">·</span>==<span class="dp">·</span>&quot;rating&quot;:</td></tr>
<tr class="diffunmodified"><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>m<span class="dp">·</span>in<span class="dp">·</span>metrics:</td><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>m<span class="dp">·</span>in<span class="dp">·</span>metrics:</td></tr>
<tr class="diffchanged"><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>m<span class="dp">·</span>not<span class="dp">·</span>in<span class="dp">·</span><del>A</del><del>LLOWED</del>_METRICS<del>[&quot;rating_metrics&quot;]</del>:</td><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>m<span class="dp">·</span>not<span class="dp">·</span>in<span class="dp">·</span><ins>RATING</ins>_METRICS:</td></tr>
<tr class="diffchanged"><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>raise<span class="dp">·</span>ValueError(f&quot;<del>m</del>etrics<span class="dp">·</span>{m}<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>suitable<span class="dp">·</span>for<span class="dp">·</span>rating<span class="dp">·</span>task...&quot;)</td><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>raise<span class="dp">·</span>ValueError(f&quot;<ins>M</ins>etrics<span class="dp">·</span><ins>`</ins>{m}<ins>`</ins><span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>suitable<span class="dp">·</span>for<span class="dp">·</span>rating<span class="dp">·</span>task...&quot;)</td></tr>
<tr class="diffunmodified"><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>elif<span class="dp">·</span>task<span class="dp">·</span>==<span class="dp">·</span>&quot;ranking&quot;:</td><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>elif<span class="dp">·</span>task<span class="dp">·</span>==<span class="dp">·</span>&quot;ranking&quot;:</td></tr>
<tr class="diffunmodified"><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>m<span class="dp">·</span>in<span class="dp">·</span>metrics:</td><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>m<span class="dp">·</span>in<span class="dp">·</span>metrics:</td></tr>
<tr class="diffchanged"><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>m<span class="dp">·</span>not<span class="dp">·</span>in<span class="dp">·</span><del>ALLOWED</del>_METRICS<del>[&quot;ranking_metrics&quot;]</del>:</td><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>m<span class="dp">·</span>not<span class="dp">·</span>in<span class="dp">·</span><ins>RANKING</ins>_METRICS:</td></tr>
<tr class="diffchanged"><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>raise<span class="dp">·</span>ValueError(f&quot;<del>m</del>etrics<span class="dp">·</span>{m}<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>suitable<span class="dp">·</span>for<span class="dp">·</span>ranking<span class="dp">·</span>task...&quot;)</td><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>raise<span class="dp">·</span>ValueError(f&quot;<ins>M</ins>etrics<span class="dp">·</span><ins>`</ins>{m}<ins>`</ins><span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>suitable<span class="dp">·</span>for<span class="dp">·</span>ranking<span class="dp">·</span>task...&quot;)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>not<span class="dp">·</span>isinstance(k,<span class="dp">·</span>numbers.Integral):</td><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>not<span class="dp">·</span>isinstance(k,<span class="dp">·</span>numbers.Integral):</td></tr>
<tr class="diffchanged"><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>raise<span class="dp">·</span>TypeError(&quot;k<span class="dp">·</span>must<span class="dp">·</span>be<span class="dp">·</span>integer&quot;)</td><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>raise<span class="dp">·</span>TypeError(&quot;<ins>`</ins>k<ins>`</ins><span class="dp">·</span>must<span class="dp">·</span>be<span class="dp">·</span>integer&quot;)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>metrics</td><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>metrics</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">46 </td><td class="diffpresent">def<span class="dp">·</span>print_metrics(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>train_data=None,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_data=None,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics=None,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>eval_batch_size=8192,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>k=10,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sample_user_num=2048,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seed=42,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">55 </td><td class="diffpresent">):</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>not<span class="dp">·</span>metrics:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics<span class="dp">·</span>=<span class="dp">·</span>[&quot;loss&quot;]</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics<span class="dp">·</span>=<span class="dp">·</span>_check_metrics(model.task,<span class="dp">·</span>metrics,<span class="dp">·</span>k)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>model.task<span class="dp">·</span>==<span class="dp">·</span>&quot;rating&quot;:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>train_data:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">61 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y_pred,<span class="dp">·</span>y_true<span class="dp">·</span>=<span class="dp">·</span>compute_preds(model,<span class="dp">·</span>train_data,<span class="dp">·</span>eval_batch_size)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">62 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>print_metrics_rating(metrics,<span class="dp">·</span>y_true,<span class="dp">·</span>y_pred,<span class="dp">·</span>train=True)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">63 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>eval_data:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">64 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y_pred,<span class="dp">·</span>y_true<span class="dp">·</span>=<span class="dp">·</span>compute_preds(model,<span class="dp">·</span>eval_data,<span class="dp">·</span>eval_batch_size)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">65 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>print_metrics_rating(metrics,<span class="dp">·</span>y_true,<span class="dp">·</span>y_pred,<span class="dp">·</span>train=False)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">66 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>elif<span class="dp">·</span>model.task<span class="dp">·</span>==<span class="dp">·</span>&quot;ranking&quot;:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">67 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>train_data<span class="dp">·</span>and<span class="dp">·</span>POINTWISE_METRICS.intersection(metrics):</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">68 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y_prob,<span class="dp">·</span>y_true<span class="dp">·</span>=<span class="dp">·</span>compute_probs(model,<span class="dp">·</span>train_data,<span class="dp">·</span>eval_batch_size)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">69 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>log_loss_<span class="dp">·</span>=<span class="dp">·</span>log_loss(y_true,<span class="dp">·</span>y_prob,<span class="dp">·</span>eps=1e-7)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">70 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>print(f&quot;\t<span class="dp">·</span>train<span class="dp">·</span>log_loss:<span class="dp">·</span>{log_loss_:.4f}&quot;)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">71 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>eval_data:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">72 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>POINTWISE_METRICS.intersection(metrics):</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">73 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y_prob,<span class="dp">·</span>y_true<span class="dp">·</span>=<span class="dp">·</span>compute_probs(model,<span class="dp">·</span>eval_data,<span class="dp">·</span>eval_batch_size)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">74 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>print_metrics_ranking_pointwise(metrics,<span class="dp">·</span>y_prob,<span class="dp">·</span>y_true)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">75 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>LISTWISE_METRICS.intersection(metrics):</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">76 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>chosen_users<span class="dp">·</span>=<span class="dp">·</span>sample_user(eval_data,<span class="dp">·</span>seed,<span class="dp">·</span>sample_user_num)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">77 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_batch_users<span class="dp">·</span>=<span class="dp">·</span>max(1,<span class="dp">·</span>math.floor(eval_batch_size<span class="dp">·</span>/<span class="dp">·</span>model.n_items))</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">78 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y_true_list<span class="dp">·</span>=<span class="dp">·</span>eval_data.user_consumed</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">79 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y_reco_list,<span class="dp">·</span>users<span class="dp">·</span>=<span class="dp">·</span>compute_recommends(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">80 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model,<span class="dp">·</span>chosen_users,<span class="dp">·</span>k,<span class="dp">·</span>num_batch_users</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">81 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">82 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>print_metrics_ranking_listwise(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">83 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>metrics,<span class="dp">·</span>y_reco_list,<span class="dp">·</span>y_true_list,<span class="dp">·</span>users,<span class="dp">·</span>k</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">84 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">85 </td><td class="diffpresent">#<span class="dp">·</span>noinspection<span class="dp">·</span>PyTypeChecker</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">86 </td><td class="diffpresent">def<span class="dp">·</span>sample_user(data,<span class="dp">·</span>seed,<span class="dp">·</span>num):</td><td class="diffline">43 </td><td class="diffpresent">def<span class="dp">·</span>sample_user<ins>s</ins>(data,<span class="dp">·</span>seed,<span class="dp">·</span>num):</td></tr>
<tr class="diffchanged"><td class="diffline">87 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>np.random.<del>s</del>e<del>ed</del>(seed)</td><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>np<ins>_rng<span class="dp">·</span>=<span class="dp">·</span>np</ins>.random.<ins>d</ins>e<ins>fault_r</ins><ins>ng</ins>(seed)</td></tr>
<tr class="diffchanged"><td class="diffline">88 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>unique_users<span class="dp">·</span>=<span class="dp">·</span><del>np.u</del><del>n</del>i<del>q</del><del>ue</del>(data.user_<del>i</del>n<del>dic</del>e<del>s</del>)</td><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>unique_users<span class="dp">·</span>=<span class="dp">·</span><ins>l</ins>i<ins>st</ins>(data.user_<ins>c</ins><ins>o</ins>n<ins>sum</ins>e<ins>d</ins>)</td></tr>
<tr class="diffunmodified"><td class="diffline">89 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>isinstance(num,<span class="dp">·</span>numbers.Integral)<span class="dp">·</span>and<span class="dp">·</span>0<span class="dp">·</span>&lt;<span class="dp">·</span>num<span class="dp">·</span>&lt;<span class="dp">·</span>len(unique_users):</td><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>isinstance(num,<span class="dp">·</span>numbers.Integral)<span class="dp">·</span>and<span class="dp">·</span>0<span class="dp">·</span>&lt;<span class="dp">·</span>num<span class="dp">·</span>&lt;<span class="dp">·</span>len(unique_users):</td></tr>
<tr class="diffchanged"><td class="diffline">90 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>users<span class="dp">·</span>=<span class="dp">·</span>np<del>.</del>r<del>a</del>n<del>do</del><del>m</del>.choice(unique_users,<span class="dp">·</span>num,<span class="dp">·</span>replace=False)</td><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>users<span class="dp">·</span>=<span class="dp">·</span>np<ins>_</ins>rn<ins>g</ins>.choice(unique_users,<span class="dp">·</span>num,<span class="dp">·</span>replace=False<ins>).tolist(</ins>)</td></tr>
<tr class="diffunmodified"><td class="diffline">91 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else:</td><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else:</td></tr>
<tr class="diffunmodified"><td class="diffline">92 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>users<span class="dp">·</span>=<span class="dp">·</span>unique_users</td><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>users<span class="dp">·</span>=<span class="dp">·</span>unique_users</td></tr>
<tr class="diffdeleted"><td class="diffline">93 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>isinstance(users,<span class="dp">·</span>np.ndarray):</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">94 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>users<span class="dp">·</span>=<span class="dp">·</span>list(users)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">95 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>users</td><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>users</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">96 </td><td class="diffpresent">def<span class="dp">·</span>print_metrics_rating(metrics,<span class="dp">·</span>y_true,<span class="dp">·</span>y_pred,<span class="dp">·</span>train=True,<span class="dp">·</span>**kwargs):</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">97 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>kwargs.get(&quot;lower_bound&quot;)<span class="dp">·</span>and<span class="dp">·</span>kwargs.get(&quot;upper_bound&quot;):</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">98 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lower_bound,<span class="dp">·</span>upper_bound<span class="dp">·</span>=<span class="dp">·</span>(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">99 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>kwargs.get(&quot;lower_bound&quot;),</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">100 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>kwargs.get(&quot;upper_bound&quot;),</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">101 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">102 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y_pred<span class="dp">·</span>=<span class="dp">·</span>np.clip(y_pred,<span class="dp">·</span>lower_bound,<span class="dp">·</span>upper_bound)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">103 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>train:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">104 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>m<span class="dp">·</span>in<span class="dp">·</span>metrics:</td><td colspan="2"> </td></tr>
<tr class="error"><td colspan="4">
Max diff block lines reached; 6435/13270 bytes (48.49%) of diff not shown.
</td></tr></table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">4.68 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/evaluation/metrics.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-evaluation-metrics.py"><span class="source">LibRecommender-1.1.0/libreco/evaluation/metrics.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-evaluation-metrics.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 19% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 87 lines modified</td><td colspan="2">Offset 1, 73 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">1 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td><td class="diffline">1 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">2 </td><td class="diffpresent">from<span class="dp">·</span>sklearn.metrics<span class="dp">·</span>import<span class="dp">·</span>(</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">3 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>auc,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">4 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>balanced_accuracy_score,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">5 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>mean_squared_error,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">6 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>precision_recall_curve,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">7 </td><td class="diffpresent">)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">2 </td><td class="diffpresent"><del>#</del><span class="dp">·</span><del>pairwi</del>s<del>e_</del>me<del>trics<span class="dp">·</span>=<span class="dp">·</span>bp</del>r<del><span class="dp">·</span>??</del></td><td class="diffline">8 </td><td class="diffpresent"><ins>RATING_METRIC</ins><ins>S</ins><span class="dp">·</span><ins>=</ins><ins><span class="dp">·</span>{&quot;los</ins>s<ins>&quot;,<span class="dp">·</span></ins><ins>&quot;r</ins>m<ins>s</ins>e<ins>&quot;</ins><ins>,<span class="dp">·</span>&quot;mae&quot;,<span class="dp">·</span>&quot;</ins>r<ins>2&quot;}</ins></td></tr>
<tr class="diffunmodified"><td class="diffline">3 </td><td class="diffpresent">POINTWISE_METRICS<span class="dp">·</span>=<span class="dp">·</span>{&quot;loss&quot;,<span class="dp">·</span>&quot;log_loss&quot;,<span class="dp">·</span>&quot;balanced_accuracy&quot;,<span class="dp">·</span>&quot;roc_auc&quot;,<span class="dp">·</span>&quot;pr_auc&quot;}</td><td class="diffline">9 </td><td class="diffpresent">POINTWISE_METRICS<span class="dp">·</span>=<span class="dp">·</span>{&quot;loss&quot;,<span class="dp">·</span>&quot;log_loss&quot;,<span class="dp">·</span>&quot;balanced_accuracy&quot;,<span class="dp">·</span>&quot;roc_auc&quot;,<span class="dp">·</span>&quot;pr_auc&quot;}</td></tr>
<tr class="diffunmodified"><td class="diffline">4 </td><td class="diffpresent">LISTWISE_METRICS<span class="dp">·</span>=<span class="dp">·</span>{&quot;precision&quot;,<span class="dp">·</span>&quot;recall&quot;,<span class="dp">·</span>&quot;map&quot;,<span class="dp">·</span>&quot;ndcg&quot;}</td><td class="diffline">10 </td><td class="diffpresent">LISTWISE_METRICS<span class="dp">·</span>=<span class="dp">·</span>{&quot;precision&quot;,<span class="dp">·</span>&quot;recall&quot;,<span class="dp">·</span>&quot;map&quot;,<span class="dp">·</span>&quot;ndcg&quot;}</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">11 </td><td class="diffpresent">RANKING_METRICS<span class="dp">·</span>=<span class="dp">·</span>POINTWISE_METRICS<span class="dp">·</span>|<span class="dp">·</span>LISTWISE_METRICS</td></tr>
<tr class="diffdeleted"><td class="diffline">5 </td><td class="diffpresent">ALLOWED_METRICS<span class="dp">·</span>=<span class="dp">·</span>{</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">6 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;rating_metrics&quot;:<span class="dp">·</span>[&quot;loss&quot;,<span class="dp">·</span>&quot;rmse&quot;,<span class="dp">·</span>&quot;mae&quot;,<span class="dp">·</span>&quot;r2&quot;],</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;ranking_metrics&quot;:<span class="dp">·</span>[</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;loss&quot;,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;log_loss&quot;,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;balanced_accuracy&quot;,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;roc_auc&quot;,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;pr_auc&quot;,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">13 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;precision&quot;,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;recall&quot;,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;map&quot;,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;ndcg&quot;,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>],</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">18 </td><td class="diffpresent">}</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">19 </td><td class="diffpresent">def<span class="dp">·</span>precision_at_k(y_true_list,<span class="dp">·</span>y_reco_list,<span class="dp">·</span>users,<span class="dp">·</span>k):</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>precision_all<span class="dp">·</span>=<span class="dp">·</span>list()</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>u<span class="dp">·</span>in<span class="dp">·</span>users:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y_true<span class="dp">·</span>=<span class="dp">·</span>y_true_list[u]</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y_reco<span class="dp">·</span>=<span class="dp">·</span>y_reco_list[u]</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>common_items<span class="dp">·</span>=<span class="dp">·</span>set(y_reco).intersection(y_true)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>precision<span class="dp">·</span>=<span class="dp">·</span>len(common_items)<span class="dp">·</span>/<span class="dp">·</span>k</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>precision_all.append(precision)</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">27 </td><td class="diffpresent"><del><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></del><span class="dp">·</span>r<del>eturn<span class="dp">·</span>np.mean(</del>pre<del>cision_a</del><del>ll)</del></td><td class="diffline">12 </td><td class="diffpresent"><ins>def</ins><span class="dp">·</span>r<ins>mse(y_true,<span class="dp">·</span>y_</ins>pre<ins>d):</ins></td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">13 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>np.sqrt(mean_squared_error(y_true,<span class="dp">·</span>y_pred))</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">14 </td><td class="diffpresent">#<span class="dp">·</span>https://scikit-learn.org/stable/modules/generated/sklearn.metrics.balanced_accuracy_score.html</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">15 </td><td class="diffpresent">def<span class="dp">·</span>balanced_accuracy(y_true,<span class="dp">·</span>y_prob):</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y_pred<span class="dp">·</span>=<span class="dp">·</span>np.round(y_prob)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>balanced_accuracy_score(y_true,<span class="dp">·</span>y_pred)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">18 </td><td class="diffpresent">def<span class="dp">·</span>pr_auc_score(y_true,<span class="dp">·</span>y_prob):</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>precision,<span class="dp">·</span>recall,<span class="dp">·</span>_<span class="dp">·</span>=<span class="dp">·</span>precision_recall_curve(y_true,<span class="dp">·</span>y_prob)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>auc(recall,<span class="dp">·</span>precision)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">28 </td><td class="diffpresent">def<span class="dp">·</span><del>r</del>ec<del>all_at_k(</del>y_true_list,<span class="dp">·</span>y_reco_list,<span class="dp">·</span>users,<span class="dp">·</span>k):</td><td class="diffline">21 </td><td class="diffpresent">def<span class="dp">·</span><ins>listwi</ins><ins>s</ins>e<ins>_s</ins>c<ins>ores(fn,<span class="dp">·</span></ins>y_true_list<ins>s</ins>,<span class="dp">·</span>y_reco_list<ins>s</ins>,<span class="dp">·</span>users,<span class="dp">·</span>k):</td></tr>
<tr class="diffchanged"><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>r</del><del>e</del>c<del>all</del><del>_all</del><span class="dp">·</span>=<span class="dp">·</span>list()</td><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>s</ins>c<ins>ores</ins><span class="dp">·</span>=<span class="dp">·</span>list()</td></tr>
<tr class="diffunmodified"><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>u<span class="dp">·</span>in<span class="dp">·</span>users:</td><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>u<span class="dp">·</span>in<span class="dp">·</span>users:</td></tr>
<tr class="diffchanged"><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y_true<span class="dp">·</span>=<span class="dp">·</span>y_true_list[u]</td><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y_true<span class="dp">·</span>=<span class="dp">·</span>y_true_list<ins>s</ins>[u]</td></tr>
<tr class="diffchanged"><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y_reco<span class="dp">·</span>=<span class="dp">·</span>y_reco_list[u]</td><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y_reco<span class="dp">·</span>=<span class="dp">·</span>y_reco_list<ins>s</ins>[u]</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>scores.append(fn(y_true,<span class="dp">·</span>y_reco,<span class="dp">·</span>k))</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>np.mean(scores)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">28 </td><td class="diffpresent">def<span class="dp">·</span>precision_at_k(y_true,<span class="dp">·</span>y_reco,<span class="dp">·</span>k):</td></tr>
<tr class="diffchanged"><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></del>common_items<span class="dp">·</span>=<span class="dp">·</span>set(y_reco).intersection(y_true)</td><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>common_items<span class="dp">·</span>=<span class="dp">·</span>set(y_reco).intersection(y_true)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>len(common_items)<span class="dp">·</span>/<span class="dp">·</span>k</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">31 </td><td class="diffpresent">def<span class="dp">·</span>recall_at_k(y_true,<span class="dp">·</span>y_reco,<span class="dp">·</span>_k):</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>common_items<span class="dp">·</span>=<span class="dp">·</span>set(y_reco).intersection(y_true)</td></tr>
<tr class="diffchanged"><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></del>re<del>ca</del><del>ll<span class="dp">·</span>=</del><span class="dp">·</span>len(common_items)<span class="dp">·</span>/<span class="dp">·</span>len(y_true)</td><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>re<ins>turn</ins><span class="dp">·</span>len(common_items)<span class="dp">·</span>/<span class="dp">·</span>len(y_true)</td></tr>
<tr class="diffdeleted"><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>recall_all.append(recall)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>np.mean(recall_all)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">37 </td><td class="diffpresent">def<span class="dp">·</span>average_precision_at_k(y_true,<span class="dp">·</span>y_reco,<span class="dp">·</span>k):</td><td class="diffline">34 </td><td class="diffpresent">def<span class="dp">·</span>average_precision_at_k(y_true,<span class="dp">·</span>y_reco,<span class="dp">·</span>k):</td></tr>
<tr class="diffunmodified"><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>common_items,<span class="dp">·</span>_,<span class="dp">·</span>indices_in_reco<span class="dp">·</span>=<span class="dp">·</span>np.intersect1d(</td><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>common_items,<span class="dp">·</span>_,<span class="dp">·</span>indices_in_reco<span class="dp">·</span>=<span class="dp">·</span>np.intersect1d(</td></tr>
<tr class="diffunmodified"><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y_true,<span class="dp">·</span>y_reco,<span class="dp">·</span>assume_unique=True,<span class="dp">·</span>return_indices=True</td><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y_true,<span class="dp">·</span>y_reco,<span class="dp">·</span>assume_unique=True,<span class="dp">·</span>return_indices=True</td></tr>
<tr class="diffunmodified"><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>rank_list<span class="dp">·</span>=<span class="dp">·</span>np.zeros(k)</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>common_items.size<span class="dp">·</span><del>&gt;</del><span class="dp">·</span>0:</td><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>common_items.size<span class="dp">·</span><ins>=</ins><ins>=</ins><span class="dp">·</span>0:</td></tr>
<tr class="diffdeleted"><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>rank_list[indices_in_reco]<span class="dp">·</span>=<span class="dp">·</span>1</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>ap<span class="dp">·</span>=<span class="dp">·</span>[np.mean(rank_list[:<span class="dp">·</span>i<span class="dp">·</span>+<span class="dp">·</span>1])<span class="dp">·</span>for<span class="dp">·</span>i<span class="dp">·</span>in<span class="dp">·</span>range(k)<span class="dp">·</span>if<span class="dp">·</span>rank_list[i]]</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>assert<span class="dp">·</span>len(ap)<span class="dp">·</span>==<span class="dp">·</span>common_items.size,<span class="dp">·</span>&quot;common<span class="dp">·</span>size<span class="dp">·</span>doesn&#x27;t<span class="dp">·</span>match...&quot;</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>np.mean(ap)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else:</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>0</td><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>0</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>rank_list<span class="dp">·</span>=<span class="dp">·</span>np.zeros(k,<span class="dp">·</span>np.float32)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>rank_list[indices_in_reco]<span class="dp">·</span>=<span class="dp">·</span>1</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>ap<span class="dp">·</span>=<span class="dp">·</span>[np.mean(rank_list[:<span class="dp">·</span>i<span class="dp">·</span>+<span class="dp">·</span>1])<span class="dp">·</span>for<span class="dp">·</span>i<span class="dp">·</span>in<span class="dp">·</span>range(k)<span class="dp">·</span>if<span class="dp">·</span>rank_list[i]]</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>assert<span class="dp">·</span>len(ap)<span class="dp">·</span>==<span class="dp">·</span>common_items.size,<span class="dp">·</span>&quot;common<span class="dp">·</span>size<span class="dp">·</span>doesn&#x27;t<span class="dp">·</span>match...&quot;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>np.mean(ap)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">49 </td><td class="diffpresent">def<span class="dp">·</span>map_at_k(y_true_list,<span class="dp">·</span>y_reco_list,<span class="dp">·</span>users,<span class="dp">·</span>k):</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>map_all<span class="dp">·</span>=<span class="dp">·</span>list()</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>u<span class="dp">·</span>in<span class="dp">·</span>users:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y_true<span class="dp">·</span>=<span class="dp">·</span>list(set(y_true_list[u]))</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y_reco<span class="dp">·</span>=<span class="dp">·</span>y_reco_list[u]</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>map_all.append(average_precision_at_k(y_true,<span class="dp">·</span>y_reco,<span class="dp">·</span>k))</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>np.mean(map_all)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">56 </td><td class="diffpresent">def<span class="dp">·</span>ndcg_at_k(y_true<del>_list</del>,<span class="dp">·</span>y_reco<del>_list,<span class="dp">·</span>users</del>,<span class="dp">·</span>k):</td><td class="diffline">45 </td><td class="diffpresent">def<span class="dp">·</span>ndcg_at_k(y_true,<span class="dp">·</span>y_reco,<span class="dp">·</span>k):</td></tr>
<tr class="diffdeleted"><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>ndcg_all<span class="dp">·</span>=<span class="dp">·</span>list()</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>u<span class="dp">·</span>in<span class="dp">·</span>users:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>rank_list<span class="dp">·</span>=<span class="dp">·</span>np.zeros(k)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y_true<span class="dp">·</span>=<span class="dp">·</span>list(set(y_true_list[u]))</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">61 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y_reco<span class="dp">·</span>=<span class="dp">·</span>y_reco_list[u]</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">62 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></del>common_items,<span class="dp">·</span>_,<span class="dp">·</span>indices_in_reco<span class="dp">·</span>=<span class="dp">·</span>np.intersect1d(</td><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>common_items,<span class="dp">·</span>_,<span class="dp">·</span>indices_in_reco<span class="dp">·</span>=<span class="dp">·</span>np.intersect1d(</td></tr>
<tr class="diffchanged"><td class="diffline">63 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></del>y_true,<span class="dp">·</span>y_reco,<span class="dp">·</span>assume_unique=True,<span class="dp">·</span>return_indices=True</td><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>y_true,<span class="dp">·</span>y_reco,<span class="dp">·</span>assume_unique=True,<span class="dp">·</span>return_indices=True</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffdeleted"><td class="diffline">64 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">65 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></del>if<span class="dp">·</span>common_items.size<span class="dp">·</span><del>&gt;</del><span class="dp">·</span>0:</td><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>common_items.size<span class="dp">·</span><ins>=</ins><ins>=</ins><span class="dp">·</span>0:</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>0</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>rank_list<span class="dp">·</span>=<span class="dp">·</span>np.zeros(k,<span class="dp">·</span>np.float32)</td></tr>
<tr class="diffchanged"><td class="diffline">66 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></del>rank_list[indices_in_reco]<span class="dp">·</span>=<span class="dp">·</span>1</td><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>rank_list[indices_in_reco]<span class="dp">·</span>=<span class="dp">·</span>1</td></tr>
<tr class="diffchanged"><td class="diffline">67 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></del>ideal_list<span class="dp">·</span>=<span class="dp">·</span>np.sort(rank_list)[::-1]</td><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>ideal_list<span class="dp">·</span>=<span class="dp">·</span>np.sort(rank_list)[::-1]</td></tr>
<tr class="diffchanged"><td class="diffline">68 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></del>dcg<span class="dp">·</span>=<span class="dp">·</span>np.sum(rank_list<span class="dp">·</span>/<span class="dp">·</span>np.log2(np.arange(2,<span class="dp">·</span>k<span class="dp">·</span>+<span class="dp">·</span>2)))</td><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dcg<span class="dp">·</span>=<span class="dp">·</span>np.sum(rank_list<span class="dp">·</span>/<span class="dp">·</span>np.log2(np.arange(2,<span class="dp">·</span>k<span class="dp">·</span>+<span class="dp">·</span>2)))</td></tr>
<tr class="diffchanged"><td class="diffline">69 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></del>idcg<span class="dp">·</span>=<span class="dp">·</span>np.sum(ideal_list<span class="dp">·</span>/<span class="dp">·</span>np.log2(np.arange(2,<span class="dp">·</span>k<span class="dp">·</span>+<span class="dp">·</span>2)))</td><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>idcg<span class="dp">·</span>=<span class="dp">·</span>np.sum(ideal_list<span class="dp">·</span>/<span class="dp">·</span>np.log2(np.arange(2,<span class="dp">·</span>k<span class="dp">·</span>+<span class="dp">·</span>2)))</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>dcg<span class="dp">·</span>/<span class="dp">·</span>idcg</td></tr>
<tr class="diffdeleted"><td class="diffline">70 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>ndcg<span class="dp">·</span>=<span class="dp">·</span>dcg<span class="dp">·</span>/<span class="dp">·</span>idcg</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">71 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">72 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>ndcg<span class="dp">·</span>=<span class="dp">·</span>0</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">73 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>ndcg_all.append(ndcg)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">74 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>np.mean(ndcg_all)</td><td colspan="2"> </td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">1.81 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/feature/column_mapping.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-feature-column_mapping.py"><span class="source">LibRecommender-1.1.0/libreco/feature/column_mapping.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-feature-column_mapping.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 6% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 15 lines modified</td><td colspan="2">Offset 1, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">1 </td><td class="diffpresent">from<span class="dp">·</span>collections<span class="dp">·</span>import<span class="dp">·</span>OrderedDict,<span class="dp">·</span>defaultdict</td><td class="diffline">1 </td><td class="diffpresent">from<span class="dp">·</span>collections<span class="dp">·</span>import<span class="dp">·</span>OrderedDict,<span class="dp">·</span>defaultdict</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">3 </td><td class="diffpresent">#<span class="dp">·</span>format:<span class="dp">·</span>{column_family_name:<span class="dp">·</span>{column_name:<span class="dp">·</span>index}}</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">4 </td><td class="diffpresent">#<span class="dp">·</span>if<span class="dp">·</span>no<span class="dp">·</span>such<span class="dp">·</span>family,<span class="dp">·</span>default<span class="dp">·</span>format<span class="dp">·</span>would<span class="dp">·</span>be:<span class="dp">·</span>{column_family_name:<span class="dp">·</span>{[]:<span class="dp">·</span>[]}</td></tr>
<tr class="diffunmodified"><td class="diffline">3 </td><td class="diffpresent">def<span class="dp">·</span>col_name2index(user_col=None,<span class="dp">·</span>item_col=None,<span class="dp">·</span>sparse_col=None,<span class="dp">·</span>dense_col=None):</td><td class="diffline">5 </td><td class="diffpresent">def<span class="dp">·</span>col_name2index(user_col=None,<span class="dp">·</span>item_col=None,<span class="dp">·</span>sparse_col=None,<span class="dp">·</span>dense_col=None):</td></tr>
<tr class="diffdeleted"><td class="diffline">4 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>format:<span class="dp">·</span>{column_family_name:<span class="dp">·</span>{column_name:<span class="dp">·</span>index}}</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">5 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>if<span class="dp">·</span>no<span class="dp">·</span>such<span class="dp">·</span>family,<span class="dp">·</span>default<span class="dp">·</span>format<span class="dp">·</span>would<span class="dp">·</span>be:<span class="dp">·</span>{column_family_name:<span class="dp">·</span>{[]:<span class="dp">·</span>[]}</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">6 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>name_mapping<span class="dp">·</span>=<span class="dp">·</span>defaultdict(OrderedDict)</td><td class="diffline">6 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>name_mapping<span class="dp">·</span>=<span class="dp">·</span>defaultdict(OrderedDict)</td></tr>
<tr class="diffunmodified"><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>sparse_col:</td><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>sparse_col:</td></tr>
<tr class="diffunmodified"><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_col_dict<span class="dp">·</span>=<span class="dp">·</span>{col:<span class="dp">·</span>i<span class="dp">·</span>for<span class="dp">·</span>i,<span class="dp">·</span>col<span class="dp">·</span>in<span class="dp">·</span>enumerate(sparse_col)}</td><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_col_dict<span class="dp">·</span>=<span class="dp">·</span>{col:<span class="dp">·</span>i<span class="dp">·</span>for<span class="dp">·</span>i,<span class="dp">·</span>col<span class="dp">·</span>in<span class="dp">·</span>enumerate(sparse_col)}</td></tr>
<tr class="diffunmodified"><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>name_mapping[&quot;sparse_col&quot;].update(sparse_col_dict)</td><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>name_mapping[&quot;sparse_col&quot;].update(sparse_col_dict)</td></tr>
<tr class="diffunmodified"><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>dense_col:</td><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>dense_col:</td></tr>
<tr class="diffunmodified"><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_col_dict<span class="dp">·</span>=<span class="dp">·</span>{col:<span class="dp">·</span>i<span class="dp">·</span>for<span class="dp">·</span>i,<span class="dp">·</span>col<span class="dp">·</span>in<span class="dp">·</span>enumerate(dense_col)}</td><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_col_dict<span class="dp">·</span>=<span class="dp">·</span>{col:<span class="dp">·</span>i<span class="dp">·</span>for<span class="dp">·</span>i,<span class="dp">·</span>col<span class="dp">·</span>in<span class="dp">·</span>enumerate(dense_col)}</td></tr>
<tr class="diffunmodified"><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>name_mapping[&quot;dense_col&quot;].update(dense_col_dict)</td><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>name_mapping[&quot;dense_col&quot;].update(dense_col_dict)</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 32, 18 lines modified</td><td colspan="2">Offset 32, 17 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>{col:<span class="dp">·</span>name_mapping[&quot;sparse_col&quot;][col]}</td><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>{col:<span class="dp">·</span>name_mapping[&quot;sparse_col&quot;][col]}</td></tr>
<tr class="diffunmodified"><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>item_col<span class="dp">·</span>and<span class="dp">·</span>dense_col:</td><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>item_col<span class="dp">·</span>and<span class="dp">·</span>dense_col:</td></tr>
<tr class="diffunmodified"><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_dense_col<span class="dp">·</span>=<span class="dp">·</span>_extract_common_col(dense_col,<span class="dp">·</span>item_col)</td><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_dense_col<span class="dp">·</span>=<span class="dp">·</span>_extract_common_col(dense_col,<span class="dp">·</span>item_col)</td></tr>
<tr class="diffunmodified"><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>col<span class="dp">·</span>in<span class="dp">·</span>item_dense_col:</td><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>col<span class="dp">·</span>in<span class="dp">·</span>item_dense_col:</td></tr>
<tr class="diffunmodified"><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>name_mapping[&quot;item_dense_col&quot;].update({col:<span class="dp">·</span>name_mapping[&quot;dense_col&quot;][col]})</td><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>name_mapping[&quot;item_dense_col&quot;].update({col:<span class="dp">·</span>name_mapping[&quot;dense_col&quot;][col]})</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>name_mapping</td><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span><ins>dict(</ins>name_mapping<ins>)</ins></td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">39 </td><td class="diffpresent">#<span class="dp">·</span>`np.intersect1d`<span class="dp">·</span>will<span class="dp">·</span>return<span class="dp">·</span>the<span class="dp">·</span>sorted<span class="dp">·</span>common<span class="dp">·</span>column<span class="dp">·</span>names,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">40 </td><td class="diffpresent">#<span class="dp">·</span>but<span class="dp">·</span>we<span class="dp">·</span>also<span class="dp">·</span>want<span class="dp">·</span>to<span class="dp">·</span>preserve<span class="dp">·</span>the<span class="dp">·</span>original<span class="dp">·</span>order<span class="dp">·</span>of<span class="dp">·</span>common<span class="dp">·</span>column<span class="dp">·</span>in<span class="dp">·</span>col1<span class="dp">·</span>and<span class="dp">·</span>col2</td></tr>
<tr class="diffunmodified"><td class="diffline">39 </td><td class="diffpresent">def<span class="dp">·</span>_extract_common_col(col1,<span class="dp">·</span>col2):</td><td class="diffline">41 </td><td class="diffpresent">def<span class="dp">·</span>_extract_common_col(col1,<span class="dp">·</span>col2):</td></tr>
<tr class="diffdeleted"><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>np.intersect1d<span class="dp">·</span>will<span class="dp">·</span>return<span class="dp">·</span>the<span class="dp">·</span>sorted<span class="dp">·</span>common<span class="dp">·</span>column<span class="dp">·</span>names,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>but<span class="dp">·</span>we<span class="dp">·</span>also<span class="dp">·</span>want<span class="dp">·</span>to<span class="dp">·</span>preserve<span class="dp">·</span>the<span class="dp">·</span>original<span class="dp">·</span>order<span class="dp">·</span>of<span class="dp">·</span>common<span class="dp">·</span>column<span class="dp">·</span>in</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>col1<span class="dp">·</span>and<span class="dp">·</span>col2</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>common_col,<span class="dp">·</span>indices_in_col1,<span class="dp">·</span>_<span class="dp">·</span>=<span class="dp">·</span>np.intersect1d(</td><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>common_col,<span class="dp">·</span>indices_in_col1,<span class="dp">·</span>_<span class="dp">·</span>=<span class="dp">·</span>np.intersect1d(</td></tr>
<tr class="diffunmodified"><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>col1,<span class="dp">·</span>col2,<span class="dp">·</span>assume_unique=True,<span class="dp">·</span>return_indices=True</td><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>col1,<span class="dp">·</span>col2,<span class="dp">·</span>assume_unique=True,<span class="dp">·</span>return_indices=True</td></tr>
<tr class="diffunmodified"><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>common_col[np.lexsort((common_col,<span class="dp">·</span>indices_in_col1))]</td><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>common_col[np.lexsort((common_col,<span class="dp">·</span>indices_in_col1))]</td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">27.6 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/feature/unique_features.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-feature-unique_features.py"><span class="source">LibRecommender-1.1.0/libreco/utils/sampling.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-feature-unique_features.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 22% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 349 lines modified</td><td colspan="2">Offset 1, 342 lines modified</td></tr>
<tr class="diffchanged"><td class="diffline">1 </td><td class="diffpresent">import<span class="dp">·</span><del>n</del><del>umbe</del>r<del>s</del></td><td class="diffline">1 </td><td class="diffpresent"><ins>from<span class="dp">·</span>math<span class="dp">·</span></ins>import<span class="dp">·</span><ins>floo</ins>r</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">2 </td><td class="diffpresent">from<span class="dp">·</span>random<span class="dp">·</span>import<span class="dp">·</span>random</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">3 </td><td class="diffpresent">from<span class="dp">·</span>random<span class="dp">·</span>import<span class="dp">·</span>seed<span class="dp">·</span>as<span class="dp">·</span>set_random_seed</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td><td class="diffline">4 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">5 </td><td class="diffpresent">from<span class="dp">·</span>tqdm<span class="dp">·</span>import<span class="dp">·</span>tqdm</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">6 </td><td class="diffpresent">from<span class="dp">·</span>..utils.misc<span class="dp">·</span>import<span class="dp">·</span>time_block</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">3 </td><td class="diffpresent">def<span class="dp">·</span>construct_unique_feat(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">4 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_indices,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">5 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_indices,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">6 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_indices,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_values,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_sparse_col,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_dense_col,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_sparse_col,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_dense_col,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>unique_feat,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">13 </td><td class="diffpresent">):</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>use<span class="dp">·</span>mergesort<span class="dp">·</span>to<span class="dp">·</span>preserve<span class="dp">·</span>order</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sort_kind<span class="dp">·</span>=<span class="dp">·</span>&quot;quicksort&quot;<span class="dp">·</span>if<span class="dp">·</span>unique_feat<span class="dp">·</span>else<span class="dp">·</span>&quot;mergesort&quot;</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_pos<span class="dp">·</span>=<span class="dp">·</span>np.argsort(user_indices,<span class="dp">·</span>kind=sort_kind)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_pos<span class="dp">·</span>=<span class="dp">·</span>np.argsort(item_indices,<span class="dp">·</span>kind=sort_kind)</td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>user_sparse_col:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_sparse_matrix<span class="dp">·</span>=<span class="dp">·</span>_compress_unique_values(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_indices,<span class="dp">·</span>user_sparse_col,<span class="dp">·</span>user_indices,<span class="dp">·</span>user_pos</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_sparse_matrix<span class="dp">·</span>=<span class="dp">·</span>None</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>item_sparse_col:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_sparse_matrix<span class="dp">·</span>=<span class="dp">·</span>_compress_unique_values(</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">26 </td><td class="diffpresent"><del><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></del><del><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></del><span class="dp">·</span><del>s</del><del>p</del>a<del>r</del><del>se_</del>in<del>dices,<span class="dp">·</span>item_</del><del>sp</del>a<del>r</del>se<del>_</del><del>c</del>o<del>l,<span class="dp">·</span></del><del>it</del>e<del>m_indi</del>c<del>es,<span class="dp">·</span>i</del>t<del>em_p</del><del>os</del></td><td class="diffline">7 </td><td class="diffpresent"><ins>class</ins><span class="dp">·</span><ins>S</ins>a<ins>mpl</ins>in<ins>gB</ins>ase<ins>(</ins>o<ins>bj</ins>ect<ins>):</ins></td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>__init__(self,<span class="dp">·</span>dataset,<span class="dp">·</span>data_info,<span class="dp">·</span>num_neg=1):</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.dataset<span class="dp">·</span>=<span class="dp">·</span>dataset</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.data_info<span class="dp">·</span>=<span class="dp">·</span>data_info</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.num_neg<span class="dp">·</span>=<span class="dp">·</span>num_neg</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>sample_items_random(self,<span class="dp">·</span>seed=42):</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">13 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>set_random_seed(seed)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_items<span class="dp">·</span>=<span class="dp">·</span>self.data_info.n_items</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_indices_sampled<span class="dp">·</span>=<span class="dp">·</span>list()</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>set<span class="dp">·</span>is<span class="dp">·</span>much<span class="dp">·</span>faster<span class="dp">·</span>for<span class="dp">·</span>search<span class="dp">·</span>contains</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_consumed<span class="dp">·</span>=<span class="dp">·</span>{</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>u:<span class="dp">·</span>set(items)<span class="dp">·</span>for<span class="dp">·</span>u,<span class="dp">·</span>items<span class="dp">·</span>in<span class="dp">·</span>self.data_info.user_consumed.items()</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>sample<span class="dp">·</span>negative<span class="dp">·</span>items<span class="dp">·</span>for<span class="dp">·</span>every<span class="dp">·</span>user</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>with<span class="dp">·</span>time_block(&quot;random<span class="dp">·</span>neg<span class="dp">·</span>item<span class="dp">·</span>sampling&quot;):</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>u,<span class="dp">·</span>i<span class="dp">·</span>in<span class="dp">·</span>zip(self.dataset.user_indices,<span class="dp">·</span>self.dataset.item_indices):</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_indices_sampled.append(i)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>_<span class="dp">·</span>in<span class="dp">·</span>range(self.num_neg):</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_neg<span class="dp">·</span>=<span class="dp">·</span>floor(n_items<span class="dp">·</span>*<span class="dp">·</span>random())</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>u<span class="dp">·</span>in<span class="dp">·</span>user_consumed:</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>while<span class="dp">·</span>item_neg<span class="dp">·</span>in<span class="dp">·</span>user_consumed[u]:</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">28 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_neg<span class="dp">·</span>=<span class="dp">·</span>floor(n_items<span class="dp">·</span>*<span class="dp">·</span>random())</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_indices_sampled.append(item_neg)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>np.asarray(item_indices_sampled)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>sample_items_popular(self,<span class="dp">·</span>seed=42):</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data<span class="dp">·</span>=<span class="dp">·</span>self.data_info.get_indexed_interaction()</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_counts<span class="dp">·</span>=<span class="dp">·</span>data.item.value_counts().sort_index().to_numpy()</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_consumed<span class="dp">·</span>=<span class="dp">·</span>self.data_info.user_consumed</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>items<span class="dp">·</span>=<span class="dp">·</span>np.arange(self.data_info.n_items)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_order<span class="dp">·</span>=<span class="dp">·</span>list()</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_indices_sampled<span class="dp">·</span>=<span class="dp">·</span>list()</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>with<span class="dp">·</span>time_block(&quot;popularity-based<span class="dp">·</span>neg<span class="dp">·</span>item<span class="dp">·</span>sampling&quot;):</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>user,<span class="dp">·</span>u_data<span class="dp">·</span>in<span class="dp">·</span>data.groupby(&quot;user&quot;,<span class="dp">·</span>sort=False):</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_indices<span class="dp">·</span>=<span class="dp">·</span>u_data.index.to_list()</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_indices<span class="dp">·</span>=<span class="dp">·</span>item_indices<span class="dp">·</span>*<span class="dp">·</span>(self.num_neg<span class="dp">·</span>+<span class="dp">·</span>1)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_order.extend(item_indices)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>add<span class="dp">·</span>positive<span class="dp">·</span>items</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_indices_sampled.extend(u_data.item.tolist())</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>u_consumed<span class="dp">·</span>=<span class="dp">·</span>user_consumed[user]</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>u_item_counts<span class="dp">·</span>=<span class="dp">·</span>item_counts.copy()</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>u_item_counts[u_consumed]<span class="dp">·</span>=<span class="dp">·</span>0</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_prob<span class="dp">·</span>=<span class="dp">·</span>u_item_counts<span class="dp">·</span>/<span class="dp">·</span>np.sum(u_item_counts)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neg_size<span class="dp">·</span>=<span class="dp">·</span>len(u_consumed)<span class="dp">·</span>*<span class="dp">·</span>self.num_neg</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neg_sampled<span class="dp">·</span>=<span class="dp">·</span>np.random.choice(</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>items,<span class="dp">·</span>size=neg_size,<span class="dp">·</span>p=item_prob,<span class="dp">·</span>replace=True</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_indices_sampled.extend(neg_sampled)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_indices_sampled<span class="dp">·</span>=<span class="dp">·</span>np.asarray(item_indices_sampled)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>must<span class="dp">·</span>be<span class="dp">·</span>stable<span class="dp">·</span>sort<span class="dp">·</span>to<span class="dp">·</span>keep<span class="dp">·</span>relative<span class="dp">·</span>order</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_order<span class="dp">·</span>=<span class="dp">·</span>np.argsort(item_order,<span class="dp">·</span>kind=&quot;mergesort&quot;)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>item_indices_sampled[item_order]</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>_label_negative_sampling(self,<span class="dp">·</span>size):</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>factor<span class="dp">·</span>=<span class="dp">·</span>self.num_neg<span class="dp">·</span>+<span class="dp">·</span>1</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>total_length<span class="dp">·</span>=<span class="dp">·</span>size<span class="dp">·</span>*<span class="dp">·</span>factor</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">61 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>labels<span class="dp">·</span>=<span class="dp">·</span>np.zeros(total_length,<span class="dp">·</span>dtype=np.float32)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">62 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>labels[::factor]<span class="dp">·</span>=<span class="dp">·</span>1.0</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">63 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>labels</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">64 </td><td class="diffpresent">class<span class="dp">·</span>NegativeSampling(SamplingBase):</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">65 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>__init__(</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">66 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self,<span class="dp">·</span>dataset,<span class="dp">·</span>data_info,<span class="dp">·</span>num_neg,<span class="dp">·</span>sparse=None,<span class="dp">·</span>dense=None,<span class="dp">·</span>batch_sampling=False</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">67 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">68 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>super(NegativeSampling,<span class="dp">·</span>self).__init__(dataset,<span class="dp">·</span>data_info,<span class="dp">·</span>num_neg)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">69 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>batch_sampling<span class="dp">·</span>and<span class="dp">·</span>dataset.has_sampled:</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">70 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.user_indices<span class="dp">·</span>=<span class="dp">·</span>dataset.user_indices_orig</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">71 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.item_indices<span class="dp">·</span>=<span class="dp">·</span>dataset.item_indices_orig</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">72 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sparse_indices<span class="dp">·</span>=<span class="dp">·</span>dataset.sparse_indices_orig<span class="dp">·</span>if<span class="dp">·</span>sparse<span class="dp">·</span>else<span class="dp">·</span>None</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">73 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.dense_values<span class="dp">·</span>=<span class="dp">·</span>dataset.dense_values_orig<span class="dp">·</span>if<span class="dp">·</span>dense<span class="dp">·</span>else<span class="dp">·</span>None</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">74 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else:</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">75 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.user_indices<span class="dp">·</span>=<span class="dp">·</span>dataset.user_indices</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">76 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.item_indices<span class="dp">·</span>=<span class="dp">·</span>dataset.item_indices</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">77 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sparse_indices<span class="dp">·</span>=<span class="dp">·</span>dataset.sparse_indices<span class="dp">·</span>if<span class="dp">·</span>sparse<span class="dp">·</span>else<span class="dp">·</span>None</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">78 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.dense_values<span class="dp">·</span>=<span class="dp">·</span>dataset.dense_values<span class="dp">·</span>if<span class="dp">·</span>dense<span class="dp">·</span>else<span class="dp">·</span>None</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">79 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.data_size<span class="dp">·</span>=<span class="dp">·</span>len(self.user_indices)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">80 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sparse<span class="dp">·</span>=<span class="dp">·</span>sparse</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">81 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.dense<span class="dp">·</span>=<span class="dp">·</span>dense</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">82 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>generate_all(self,<span class="dp">·</span>seed=42,<span class="dp">·</span>item_gen_mode=&quot;random&quot;):</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">83 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_indices_sampled<span class="dp">·</span>=<span class="dp">·</span>np.repeat(self.user_indices,<span class="dp">·</span>self.num_neg<span class="dp">·</span>+<span class="dp">·</span>1,<span class="dp">·</span>axis=0)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">84 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>item_gen_mode<span class="dp">·</span>not<span class="dp">·</span>in<span class="dp">·</span>[&quot;random&quot;,<span class="dp">·</span>&quot;popular&quot;]:</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">85 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>raise<span class="dp">·</span>ValueError(</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">86 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;sampling<span class="dp">·</span>item_gen_mode<span class="dp">·</span>must<span class="dp">·</span>either<span class="dp">·</span>be<span class="dp">·</span>&#x27;random&#x27;<span class="dp">·</span>or<span class="dp">·</span>&#x27;popular&#x27;&quot;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">87 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">88 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>elif<span class="dp">·</span>item_gen_mode<span class="dp">·</span>==<span class="dp">·</span>&quot;random&quot;:</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">89 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_indices_sampled<span class="dp">·</span>=<span class="dp">·</span>self.sample_items_random(seed=seed)</td></tr>
<tr class="error"><td colspan="4">
Max diff block lines reached; 22631/28161 bytes (80.36%) of diff not shown.
</td></tr></table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">2.08 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/graph/from_dgl.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-graph-from_dgl.py"><span class="source">LibRecommender-1.1.0/libreco/graph/from_dgl.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-graph-from_dgl.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 27% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 11 lines modified</td><td colspan="2">Offset 1, 13 lines modified</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">1 </td><td class="diffpresent">import<span class="dp">·</span>itertools</td></tr>
<tr class="diffunmodified"><td class="diffline">1 </td><td class="diffpresent">from<span class="dp">·</span>importlib.util<span class="dp">·</span>import<span class="dp">·</span>find_spec</td><td class="diffline">2 </td><td class="diffpresent">from<span class="dp">·</span>importlib.util<span class="dp">·</span>import<span class="dp">·</span>find_spec</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td><td class="diffline">3 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td></tr>
<tr class="diffunmodified"><td class="diffline">3 </td><td class="diffpresent">import<span class="dp">·</span>torch</td><td class="diffline">4 </td><td class="diffpresent">import<span class="dp">·</span>torch</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">5 </td><td class="diffpresent">import<span class="dp">·</span>tqdm</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">4 </td><td class="diffpresent">#<span class="dp">·</span>avoid<span class="dp">·</span>exiting<span class="dp">·</span>the<span class="dp">·</span>program<span class="dp">·</span>if<span class="dp">·</span>dgl<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>installed<span class="dp">·</span>and<span class="dp">·</span>user<span class="dp">·</span>wants<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>other<span class="dp">·</span>algorithms</td><td class="diffline">6 </td><td class="diffpresent">#<span class="dp">·</span>avoid<span class="dp">·</span>exiting<span class="dp">·</span>the<span class="dp">·</span>program<span class="dp">·</span>if<span class="dp">·</span>dgl<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>installed<span class="dp">·</span>and<span class="dp">·</span>user<span class="dp">·</span>wants<span class="dp">·</span>to<span class="dp">·</span>use<span class="dp">·</span>other<span class="dp">·</span>algorithms</td></tr>
<tr class="diffunmodified"><td class="diffline">5 </td><td class="diffpresent">def<span class="dp">·</span>check_dgl(cls:<span class="dp">·</span>type)<span class="dp">·</span>-&gt;<span class="dp">·</span>type:</td><td class="diffline">7 </td><td class="diffpresent">def<span class="dp">·</span>check_dgl(cls:<span class="dp">·</span>type)<span class="dp">·</span>-&gt;<span class="dp">·</span>type:</td></tr>
<tr class="diffunmodified"><td class="diffline">6 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>find_spec(&quot;dgl&quot;)<span class="dp">·</span>is<span class="dp">·</span>None:</td><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>find_spec(&quot;dgl&quot;)<span class="dp">·</span>is<span class="dp">·</span>None:</td></tr>
<tr class="diffunmodified"><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dgl_model_name<span class="dp">·</span>=<span class="dp">·</span>cls.__name__</td><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dgl_model_name<span class="dp">·</span>=<span class="dp">·</span>cls.__name__</td></tr>
<tr class="diffunmodified"><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>torch_model_name<span class="dp">·</span>=<span class="dp">·</span>dgl_model_name.replace(&quot;DGL&quot;,<span class="dp">·</span>&quot;&quot;)</td><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>torch_model_name<span class="dp">·</span>=<span class="dp">·</span>dgl_model_name.replace(&quot;DGL&quot;,<span class="dp">·</span>&quot;&quot;)</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 14, 14 lines modified</td><td colspan="2">Offset 16, 45 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>f&quot;`{dgl_model_name}`<span class="dp">·</span>if<span class="dp">·</span>you<span class="dp">·</span>have<span class="dp">·</span>trouble<span class="dp">·</span>installing<span class="dp">·</span>DGL<span class="dp">·</span>library&quot;</td><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>f&quot;`{dgl_model_name}`<span class="dp">·</span>if<span class="dp">·</span>you<span class="dp">·</span>have<span class="dp">·</span>trouble<span class="dp">·</span>installing<span class="dp">·</span>DGL<span class="dp">·</span>library&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else:</td><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else:</td></tr>
<tr class="diffunmodified"><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>cls.dgl_error<span class="dp">·</span>=<span class="dp">·</span>None</td><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>cls.dgl_error<span class="dp">·</span>=<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>cls</td><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>cls</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">21 </td><td class="diffpresent">def<span class="dp">·</span>build_i2i_homo_graph(n_items,<span class="dp">·</span>user_consumed,<span class="dp">·</span>item_consumed):</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>import<span class="dp">·</span>dgl</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>src_items,<span class="dp">·</span>dst_items<span class="dp">·</span>=<span class="dp">·</span>[],<span class="dp">·</span>[]</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>i<span class="dp">·</span>in<span class="dp">·</span>tqdm.trange(n_items,<span class="dp">·</span>desc=&quot;building<span class="dp">·</span>homo<span class="dp">·</span>graph&quot;):</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neighbors<span class="dp">·</span>=<span class="dp">·</span>set()</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>u<span class="dp">·</span>in<span class="dp">·</span>item_consumed[i]:</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neighbors.update(user_consumed[u])</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">28 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>src_items.extend(neighbors)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dst_items.extend([i]<span class="dp">·</span>*<span class="dp">·</span>len(neighbors))</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>src<span class="dp">·</span>=<span class="dp">·</span>torch.tensor(src_items,<span class="dp">·</span>dtype=torch.long)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dst<span class="dp">·</span>=<span class="dp">·</span>torch.tensor(dst_items,<span class="dp">·</span>dtype=torch.long)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>dgl.graph((src,<span class="dp">·</span>dst),<span class="dp">·</span>num_nodes=n_items)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">33 </td><td class="diffpresent">def<span class="dp">·</span>build_u2i_hetero_graph(n_users,<span class="dp">·</span>n_items,<span class="dp">·</span>user_consumed):</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>import<span class="dp">·</span>dgl</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>items<span class="dp">·</span>=<span class="dp">·</span>[list(user_consumed[u])<span class="dp">·</span>for<span class="dp">·</span>u<span class="dp">·</span>in<span class="dp">·</span>range(n_users)]</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>counts<span class="dp">·</span>=<span class="dp">·</span>[len(i)<span class="dp">·</span>for<span class="dp">·</span>i<span class="dp">·</span>in<span class="dp">·</span>items]</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>users<span class="dp">·</span>=<span class="dp">·</span>torch.arange(n_users).repeat_interleave(torch.tensor(counts))</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>items<span class="dp">·</span>=<span class="dp">·</span>list(itertools.chain.from_iterable(items))</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>items<span class="dp">·</span>=<span class="dp">·</span>torch.tensor(items,<span class="dp">·</span>dtype=torch.long)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>graph_data<span class="dp">·</span>=<span class="dp">·</span>{</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(&quot;user&quot;,<span class="dp">·</span>&quot;consumed&quot;,<span class="dp">·</span>&quot;item&quot;):<span class="dp">·</span>(users,<span class="dp">·</span>items),</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(&quot;item&quot;,<span class="dp">·</span>&quot;consumed-by&quot;,<span class="dp">·</span>&quot;user&quot;):<span class="dp">·</span>(items,<span class="dp">·</span>users),</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_nodes<span class="dp">·</span>=<span class="dp">·</span>{&quot;user&quot;:<span class="dp">·</span>n_users,<span class="dp">·</span>&quot;item&quot;:<span class="dp">·</span>n_items}</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>dgl.heterograph(graph_data,<span class="dp">·</span>num_nodes)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent">def<span class="dp">·</span>build_subgraphs(heads,<span class="dp">·</span>item_pairs,<span class="dp">·</span>paradigm,<span class="dp">·</span>num_neg):</td><td class="diffline">46 </td><td class="diffpresent">def<span class="dp">·</span>build_subgraphs(heads,<span class="dp">·</span>item_pairs,<span class="dp">·</span>paradigm,<span class="dp">·</span>num_neg):</td></tr>
<tr class="diffunmodified"><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>import<span class="dp">·</span>dgl</td><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>import<span class="dp">·</span>dgl</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>heads_pos<span class="dp">·</span>=<span class="dp">·</span>torch.as_tensor(heads,<span class="dp">·</span>dtype=torch.long)</td><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>heads_pos<span class="dp">·</span>=<span class="dp">·</span>torch.as_tensor(heads,<span class="dp">·</span>dtype=torch.long)</td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tails_pos<span class="dp">·</span>=<span class="dp">·</span>torch.as_tensor(item_pairs[0],<span class="dp">·</span>dtype=torch.long)</td><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tails_pos<span class="dp">·</span>=<span class="dp">·</span>torch.as_tensor(item_pairs[0],<span class="dp">·</span>dtype=torch.long)</td></tr>
<tr class="diffunmodified"><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tails_neg<span class="dp">·</span>=<span class="dp">·</span>torch.as_tensor(item_pairs[1],<span class="dp">·</span>dtype=torch.long)</td><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tails_neg<span class="dp">·</span>=<span class="dp">·</span>torch.as_tensor(item_pairs[1],<span class="dp">·</span>dtype=torch.long)</td></tr>
<tr class="diffunmodified"><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>num_neg<span class="dp">·</span>&gt;<span class="dp">·</span>1:</td><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>num_neg<span class="dp">·</span>&gt;<span class="dp">·</span>1:</td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">6.01 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/prediction/predict.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-prediction-predict.py"><span class="source">LibRecommender-1.1.0/libreco/prediction/predict.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-prediction-predict.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 22% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 19 lines modified</td><td colspan="2">Offset 1, 21 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">1 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td><td class="diffline">1 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td></tr>
<tr class="diffunmodified"><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>pandas<span class="dp">·</span>as<span class="dp">·</span>pd</td><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>pandas<span class="dp">·</span>as<span class="dp">·</span>pd</td></tr>
<tr class="diffunmodified"><td class="diffline">3 </td><td class="diffpresent">from<span class="dp">·</span>scipy.special<span class="dp">·</span>import<span class="dp">·</span>expit</td><td class="diffline">3 </td><td class="diffpresent">from<span class="dp">·</span>scipy.special<span class="dp">·</span>import<span class="dp">·</span>expit</td></tr>
<tr class="diffunmodified"><td class="diffline">4 </td><td class="diffpresent">from<span class="dp">·</span>tqdm<span class="dp">·</span>import<span class="dp">·</span>tqdm</td><td class="diffline">4 </td><td class="diffpresent">from<span class="dp">·</span>tqdm<span class="dp">·</span>import<span class="dp">·</span>tqdm</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">5 </td><td class="diffpresent">from<span class="dp">·</span>.<del>.f</del>e<del>atur</del>e<span class="dp">·</span>import<span class="dp">·</span>(</td><td class="diffline">5 </td><td class="diffpresent">from<span class="dp">·</span>.<ins>pr</ins>e<ins>proc</ins>e<ins>ss</ins><span class="dp">·</span>import<span class="dp">·</span>(</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">6 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>convert_id,</td></tr>
<tr class="diffchanged"><td class="diffline">6 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>features_from_batch<del>_data</del>,</td><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>features_from_batch,</td></tr>
<tr class="diffdeleted"><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>features_from_dict,</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>get_<del>predi</del>c<del>t_ind</del><del>i</del>c<del>es_</del><del>an</del>d_<del>va</del><del>lue</del>s,</td><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>get_c<ins>a</ins>c<ins>he</ins>d_<ins>seq</ins>s,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>get_original_feats,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>set_temp_feats,</td></tr>
<tr class="diffunmodified"><td class="diffline">9 </td><td class="diffpresent">)</td><td class="diffline">11 </td><td class="diffpresent">)</td></tr>
<tr class="diffunmodified"><td class="diffline">10 </td><td class="diffpresent">from<span class="dp">·</span>..tfops<span class="dp">·</span>import<span class="dp">·</span>get_feed_dict</td><td class="diffline">12 </td><td class="diffpresent">from<span class="dp">·</span>..tfops<span class="dp">·</span>import<span class="dp">·</span>get_feed_dict</td></tr>
<tr class="diffchanged"><td class="diffline">11 </td><td class="diffpresent">from<span class="dp">·</span>..utils.validate<span class="dp">·</span>import<span class="dp">·</span>check_unknown<del>,<span class="dp">·</span>convert_id</del></td><td class="diffline">13 </td><td class="diffpresent">from<span class="dp">·</span>..utils.validate<span class="dp">·</span>import<span class="dp">·</span>check_unknown</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">12 </td><td class="diffpresent">def<span class="dp">·</span>normalize_prediction(preds,<span class="dp">·</span>model,<span class="dp">·</span>cold_start,<span class="dp">·</span>unknown_num,<span class="dp">·</span>unknown_index):</td><td class="diffline">14 </td><td class="diffpresent">def<span class="dp">·</span>normalize_prediction(preds,<span class="dp">·</span>model,<span class="dp">·</span>cold_start,<span class="dp">·</span>unknown_num,<span class="dp">·</span>unknown_index):</td></tr>
<tr class="diffunmodified"><td class="diffline">13 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>model.task<span class="dp">·</span>==<span class="dp">·</span>&quot;rating&quot;:</td><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>model.task<span class="dp">·</span>==<span class="dp">·</span>&quot;rating&quot;:</td></tr>
<tr class="diffunmodified"><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>preds<span class="dp">·</span>=<span class="dp">·</span>np.clip(preds,<span class="dp">·</span>model.lower_bound,<span class="dp">·</span>model.upper_bound)</td><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>preds<span class="dp">·</span>=<span class="dp">·</span>np.clip(preds,<span class="dp">·</span>model.lower_bound,<span class="dp">·</span>model.upper_bound)</td></tr>
<tr class="diffunmodified"><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>elif<span class="dp">·</span>model.task<span class="dp">·</span>==<span class="dp">·</span>&quot;ranking&quot;:</td><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>elif<span class="dp">·</span>model.task<span class="dp">·</span>==<span class="dp">·</span>&quot;ranking&quot;:</td></tr>
<tr class="diffunmodified"><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>preds<span class="dp">·</span>=<span class="dp">·</span>1<span class="dp">·</span>/<span class="dp">·</span>(1<span class="dp">·</span>+<span class="dp">·</span>np.exp(-z))</td><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>preds<span class="dp">·</span>=<span class="dp">·</span>1<span class="dp">·</span>/<span class="dp">·</span>(1<span class="dp">·</span>+<span class="dp">·</span>np.exp(-z))</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 36, 88 lines modified</td><td colspan="2">Offset 38, 68 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>preds<span class="dp">·</span>=<span class="dp">·</span>np.sum(np.multiply(model.user_embed[user],<span class="dp">·</span>model.item_embed[item]),<span class="dp">·</span>axis=1)</td><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>preds<span class="dp">·</span>=<span class="dp">·</span>np.sum(np.multiply(model.user_embed[user],<span class="dp">·</span>model.item_embed[item]),<span class="dp">·</span>axis=1)</td></tr>
<tr class="diffunmodified"><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>normalize_prediction(preds,<span class="dp">·</span>model,<span class="dp">·</span>cold_start,<span class="dp">·</span>unknown_num,<span class="dp">·</span>unknown_index)</td><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>normalize_prediction(preds,<span class="dp">·</span>model,<span class="dp">·</span>cold_start,<span class="dp">·</span>unknown_num,<span class="dp">·</span>unknown_index)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">38 </td><td class="diffpresent">def<span class="dp">·</span>predict_tf_feat(model,<span class="dp">·</span>user,<span class="dp">·</span>item,<span class="dp">·</span>feats,<span class="dp">·</span>cold_start,<span class="dp">·</span>inner_id):</td><td class="diffline">40 </td><td class="diffpresent">def<span class="dp">·</span>predict_tf_feat(model,<span class="dp">·</span>user,<span class="dp">·</span>item,<span class="dp">·</span>feats,<span class="dp">·</span>cold_start,<span class="dp">·</span>inner_id):</td></tr>
<tr class="diffunmodified"><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user,<span class="dp">·</span>item<span class="dp">·</span>=<span class="dp">·</span>convert_id(model,<span class="dp">·</span>user,<span class="dp">·</span>item,<span class="dp">·</span>inner_id)</td><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user,<span class="dp">·</span>item<span class="dp">·</span>=<span class="dp">·</span>convert_id(model,<span class="dp">·</span>user,<span class="dp">·</span>item,<span class="dp">·</span>inner_id)</td></tr>
<tr class="diffunmodified"><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>unknown_num,<span class="dp">·</span>unknown_index,<span class="dp">·</span>user,<span class="dp">·</span>item<span class="dp">·</span>=<span class="dp">·</span>check_unknown(model,<span class="dp">·</span>user,<span class="dp">·</span>item)</td><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>unknown_num,<span class="dp">·</span>unknown_index,<span class="dp">·</span>user,<span class="dp">·</span>item<span class="dp">·</span>=<span class="dp">·</span>check_unknown(model,<span class="dp">·</span>user,<span class="dp">·</span>item)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>has_sparse<span class="dp">·</span>=<span class="dp">·</span>model.sparse<span class="dp">·</span>if<span class="dp">·</span>hasattr(model,<span class="dp">·</span>&quot;sparse&quot;)<span class="dp">·</span>else<span class="dp">·</span>None</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>has_dense<span class="dp">·</span>=<span class="dp">·</span>model.dense<span class="dp">·</span>if<span class="dp">·</span>hasattr(model,<span class="dp">·</span>&quot;dense&quot;)<span class="dp">·</span>else<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(</td><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(</td></tr>
<tr class="diffunmodified"><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_indices,</td><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_indices,</td></tr>
<tr class="diffunmodified"><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_indices,</td><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_indices,</td></tr>
<tr class="diffunmodified"><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_indices,</td><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_indices,</td></tr>
<tr class="diffunmodified"><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_values,</td><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_values,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)<span class="dp">·</span>=<span class="dp">·</span>get_original_feats(model.data_info,<span class="dp">·</span>user,<span class="dp">·</span>item,<span class="dp">·</span>has_sparse,<span class="dp">·</span>has_dense)</td></tr>
<tr class="diffdeleted"><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)<span class="dp">·</span>=<span class="dp">·</span>get_predict_indices_and_values(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model.data_info,<span class="dp">·</span>user,<span class="dp">·</span>item,<span class="dp">·</span>model.n_items,<span class="dp">·</span>model.sparse,<span class="dp">·</span>model.dense</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>feats<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None:</td><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>feats<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None:</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>assert<span class="dp">·</span>isinstance(feats,<span class="dp">·</span>dict),<span class="dp">·</span>&quot;`feats`<span class="dp">·</span>must<span class="dp">·</span>be<span class="dp">·</span>`dict`.&quot;</td></tr>
<tr class="diffdeleted"><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>assert<span class="dp">·</span>isinstance(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>feats,<span class="dp">·</span>(dict,<span class="dp">·</span>pd.Series)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>),<span class="dp">·</span>&quot;feats<span class="dp">·</span>must<span class="dp">·</span>be<span class="dp">·</span>`dict`<span class="dp">·</span>or<span class="dp">·</span>`pandas.Series`.&quot;</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>assert<span class="dp">·</span>len(user_indices)<span class="dp">·</span>==<span class="dp">·</span>1,<span class="dp">·</span>&quot;only<span class="dp">·</span>support<span class="dp">·</span>single<span class="dp">·</span>use<del>r<span class="dp">·</span>fo</del>r<del><span class="dp">·</span>feat</del><del>s</del>&quot;</td><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>assert<span class="dp">·</span>len(user_indices)<span class="dp">·</span>==<span class="dp">·</span>1,<span class="dp">·</span>&quot;<ins>Predict<span class="dp">·</span>with<span class="dp">·</span>feats<span class="dp">·</span></ins>only<span class="dp">·</span>support<ins>s</ins><span class="dp">·</span>single<span class="dp">·</span>user<ins>.</ins>&quot;</td></tr>
<tr class="diffchanged"><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_indices,<span class="dp">·</span>dense_values<span class="dp">·</span>=<span class="dp">·</span><del>f</del>e<del>a</del>t<del>ur</del>e<del>s</del>_f<del>rom_</del><del>dict</del>(</td><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_indices,<span class="dp">·</span>dense_values<span class="dp">·</span>=<span class="dp">·</span><ins>s</ins>et<ins>_t</ins>e<ins>m</ins><ins>p</ins>_f<ins>eats</ins>(</td></tr>
<tr class="diffchanged"><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model.data_info,<span class="dp">·</span>sparse_indices,<span class="dp">·</span>dense_values,<span class="dp">·</span>feats<del>,<span class="dp">·</span>&quot;predict&quot;</del></td><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model.data_info,<span class="dp">·</span>sparse_indices,<span class="dp">·</span>dense_values,<span class="dp">·</span>feats</td></tr>
<tr class="diffunmodified"><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>if</del><span class="dp">·</span><del>mod</del>e<del>l.mod</del>e<del>l</del>_ca<del>t</del>e<del>gory<span class="dp">·</span>==</del><span class="dp">·</span><del>&quot;</del>se<del>que</del>nce<del>&quot;:</del></td><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>seq</ins><ins>s,</ins><span class="dp">·</span><ins>se</ins><ins>q_l</ins>e<ins>n<span class="dp">·</span>=<span class="dp">·</span>g</ins>e<ins>t</ins>_ca<ins>ched_</ins><ins>s</ins>e<ins>qs</ins><ins>(model,</ins><span class="dp">·</span><ins>u</ins>se<ins>r_i</ins>n<ins>di</ins>c<ins>es,<span class="dp">·</span>rep</ins>e<ins>at=Fals</ins><ins>e)</ins></td></tr>
<tr class="diffchanged"><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></del>feed_dict<span class="dp">·</span>=<span class="dp">·</span>get_feed_dict(</td><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>feed_dict<span class="dp">·</span>=<span class="dp">·</span>get_feed_dict(</td></tr>
<tr class="diffchanged"><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></del>model=model,</td><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model=model,</td></tr>
<tr class="diffchanged"><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></del>user_indices=user_indices,</td><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_indices=user_indices,</td></tr>
<tr class="diffchanged"><td class="diffline">61 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></del>item_indices=item_indices,</td><td class="diffline">61 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_indices=item_indices,</td></tr>
<tr class="diffchanged"><td class="diffline">62 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></del>sparse_indices=sparse_indices,</td><td class="diffline">62 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_indices=sparse_indices,</td></tr>
<tr class="diffchanged"><td class="diffline">63 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></del>dense_values=dense_values,</td><td class="diffline">63 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_values=dense_values,</td></tr>
<tr class="diffdeleted"><td class="diffline">64 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_interacted_seq=model.recent_seqs[user_indices],</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">65 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></del>user_interact<del>ed_l</del>e<del>n=mo</del>d<del>el.recent</del>_seq<del>_lens[</del><del>u</del>se<del>r_indic</del><del>e</del>s<del>]</del>,</td><td class="diffline">64 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_interacted_seq<ins>=</ins>se<ins>q</ins>s,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">65 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_interacted_len=seq_len,</td></tr>
<tr class="diffchanged"><td class="diffline">66 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></del>is_training=False,</td><td class="diffline">66 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>is_training=False,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">67 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffdeleted"><td class="diffline">67 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">68 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">69 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>feed_dict<span class="dp">·</span>=<span class="dp">·</span>get_feed_dict(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">70 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model=model,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">71 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_indices=user_indices,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">72 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_indices=item_indices,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">73 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_indices=sparse_indices,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">74 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_values=dense_values,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">75 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>is_training=False,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">76 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">77 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>preds<span class="dp">·</span>=<span class="dp">·</span>model.sess.run(model.output,<span class="dp">·</span>feed_dict)</td><td class="diffline">68 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>preds<span class="dp">·</span>=<span class="dp">·</span>model.sess.run(model.output,<span class="dp">·</span>feed_dict)</td></tr>
<tr class="diffunmodified"><td class="diffline">78 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>normalize_prediction(preds,<span class="dp">·</span>model,<span class="dp">·</span>cold_start,<span class="dp">·</span>unknown_num,<span class="dp">·</span>unknown_index)</td><td class="diffline">69 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>normalize_prediction(preds,<span class="dp">·</span>model,<span class="dp">·</span>cold_start,<span class="dp">·</span>unknown_num,<span class="dp">·</span>unknown_index)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">79 </td><td class="diffpresent">def<span class="dp">·</span>predict_data_with_feats(</td><td class="diffline">70 </td><td class="diffpresent">def<span class="dp">·</span>predict_data_with_feats(</td></tr>
<tr class="diffunmodified"><td class="diffline">80 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model,<span class="dp">·</span>data,<span class="dp">·</span>batch_size=None,<span class="dp">·</span>cold_start=&quot;average&quot;,<span class="dp">·</span>inner_id=False</td><td class="diffline">71 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model,<span class="dp">·</span>data,<span class="dp">·</span>batch_size=None,<span class="dp">·</span>cold_start=&quot;average&quot;,<span class="dp">·</span>inner_id=False</td></tr>
<tr class="diffunmodified"><td class="diffline">81 </td><td class="diffpresent">):</td><td class="diffline">72 </td><td class="diffpresent">):</td></tr>
<tr class="diffchanged"><td class="diffline">82 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>assert<span class="dp">·</span>isinstance(data,<span class="dp">·</span>pd.DataFrame),<span class="dp">·</span>&quot;<del>d</del>ata<span class="dp">·</span>must<span class="dp">·</span>be<span class="dp">·</span>pandas<span class="dp">·</span>DataFrame&quot;</td><td class="diffline">73 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>assert<span class="dp">·</span>isinstance(data,<span class="dp">·</span>pd.DataFrame),<span class="dp">·</span>&quot;<ins>D</ins>ata<span class="dp">·</span>must<span class="dp">·</span>be<span class="dp">·</span>pandas<span class="dp">·</span>DataFrame&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">83 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user,<span class="dp">·</span>item<span class="dp">·</span>=<span class="dp">·</span>convert_id(model,<span class="dp">·</span>data.user,<span class="dp">·</span>data.item,<span class="dp">·</span>inner_id)</td><td class="diffline">74 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user,<span class="dp">·</span>item<span class="dp">·</span>=<span class="dp">·</span>convert_id(model,<span class="dp">·</span>data.user,<span class="dp">·</span>data.item,<span class="dp">·</span>inner_id)</td></tr>
<tr class="diffunmodified"><td class="diffline">84 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>unknown_num,<span class="dp">·</span>unknown_index,<span class="dp">·</span>user,<span class="dp">·</span>item<span class="dp">·</span>=<span class="dp">·</span>check_unknown(model,<span class="dp">·</span>user,<span class="dp">·</span>item)</td><td class="diffline">75 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>unknown_num,<span class="dp">·</span>unknown_index,<span class="dp">·</span>user,<span class="dp">·</span>item<span class="dp">·</span>=<span class="dp">·</span>check_unknown(model,<span class="dp">·</span>user,<span class="dp">·</span>item)</td></tr>
<tr class="diffunmodified"><td class="diffline">85 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>not<span class="dp">·</span>batch_size:</td><td class="diffline">76 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>not<span class="dp">·</span>batch_size:</td></tr>
<tr class="diffunmodified"><td class="diffline">86 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size<span class="dp">·</span>=<span class="dp">·</span>len(data)</td><td class="diffline">77 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size<span class="dp">·</span>=<span class="dp">·</span>len(data)</td></tr>
<tr class="diffunmodified"><td class="diffline">87 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>preds<span class="dp">·</span>=<span class="dp">·</span>np.zeros(len(data),<span class="dp">·</span>dtype=np.float32)</td><td class="diffline">78 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>preds<span class="dp">·</span>=<span class="dp">·</span>np.zeros(len(data),<span class="dp">·</span>dtype=np.float32)</td></tr>
<tr class="diffchanged"><td class="diffline">88 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>i<del>ndex</del><span class="dp">·</span>in<span class="dp">·</span>tqdm(range(0,<span class="dp">·</span>len(data),<span class="dp">·</span>batch_size),<span class="dp">·</span>&quot;pred_data&quot;):</td><td class="diffline">79 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>i<span class="dp">·</span>in<span class="dp">·</span>tqdm(range(0,<span class="dp">·</span>len(data),<span class="dp">·</span>batch_size),<span class="dp">·</span>&quot;pred_data&quot;):</td></tr>
<tr class="diffchanged"><td class="diffline">89 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_slice<span class="dp">·</span>=<span class="dp">·</span>slice(i<del>ndex</del>,<span class="dp">·</span>i<del>ndex</del><span class="dp">·</span>+<span class="dp">·</span>batch_size)</td><td class="diffline">80 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_slice<span class="dp">·</span>=<span class="dp">·</span>slice(i,<span class="dp">·</span>i<span class="dp">·</span>+<span class="dp">·</span>batch_size)</td></tr>
<tr class="diffunmodified"><td class="diffline">90 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_data<span class="dp">·</span>=<span class="dp">·</span>data.iloc[batch_slice]</td><td class="diffline">81 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_data<span class="dp">·</span>=<span class="dp">·</span>data.iloc[batch_slice]</td></tr>
<tr class="diffunmodified"><td class="diffline">91 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_indices<span class="dp">·</span>=<span class="dp">·</span>user[batch_slice]</td><td class="diffline">82 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_indices<span class="dp">·</span>=<span class="dp">·</span>user[batch_slice]</td></tr>
<tr class="diffunmodified"><td class="diffline">92 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_indices<span class="dp">·</span>=<span class="dp">·</span>item[batch_slice]</td><td class="diffline">83 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_indices<span class="dp">·</span>=<span class="dp">·</span>item[batch_slice]</td></tr>
<tr class="diffchanged"><td class="diffline">93 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_indices,<span class="dp">·</span>dense_values<span class="dp">·</span>=<span class="dp">·</span>features_from_batch<del>_data</del>(</td><td class="diffline">84 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_indices,<span class="dp">·</span>dense_values<span class="dp">·</span>=<span class="dp">·</span>features_from_batch(</td></tr>
<tr class="diffunmodified"><td class="diffline">94 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model.data_info,<span class="dp">·</span>model.sparse,<span class="dp">·</span>model.dense,<span class="dp">·</span>batch_data</td><td class="diffline">85 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model.data_info,<span class="dp">·</span>model.sparse,<span class="dp">·</span>model.dense,<span class="dp">·</span>batch_data</td></tr>
<tr class="diffunmodified"><td class="diffline">95 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">86 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffchanged"><td class="diffline">96 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>if</del><span class="dp">·</span><del>mod</del>e<del>l.mod</del>e<del>l</del>_ca<del>t</del>e<del>gory<span class="dp">·</span>==</del><span class="dp">·</span><del>&quot;</del>se<del>que</del>nce<del>&quot;:</del></td><td class="diffline">87 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>seq</ins><ins>s,</ins><span class="dp">·</span><ins>se</ins><ins>q_l</ins>e<ins>n<span class="dp">·</span>=<span class="dp">·</span>g</ins>e<ins>t</ins>_ca<ins>ched_</ins><ins>s</ins>e<ins>qs</ins><ins>(model,</ins><span class="dp">·</span><ins>u</ins>se<ins>r_i</ins>n<ins>di</ins>c<ins>es,<span class="dp">·</span>rep</ins>e<ins>at=Fals</ins><ins>e)</ins></td></tr>
<tr class="diffchanged"><td class="diffline">97 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></del>feed_dict<span class="dp">·</span>=<span class="dp">·</span>get_feed_dict(</td><td class="diffline">88 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>feed_dict<span class="dp">·</span>=<span class="dp">·</span>get_feed_dict(</td></tr>
<tr class="diffchanged"><td class="diffline">98 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></del>model=model,</td><td class="diffline">89 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model=model,</td></tr>
<tr class="diffchanged"><td class="diffline">99 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></del>user_indices=user_indices,</td><td class="diffline">90 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_indices=user_indices,</td></tr>
<tr class="diffchanged"><td class="diffline">100 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></del>item_indices=item_indices,</td><td class="diffline">91 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_indices=item_indices,</td></tr>
<tr class="diffchanged"><td class="diffline">101 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></del>sparse_indices=sparse_indices,</td><td class="diffline">92 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_indices=sparse_indices,</td></tr>
<tr class="diffchanged"><td class="diffline">102 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></del>dense_values=dense_values,</td><td class="diffline">93 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_values=dense_values,</td></tr>
<tr class="diffdeleted"><td class="diffline">103 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_interacted_seq=model.recent_seqs[user_indices],</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">104 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></del>user_interact<del>ed_l</del>e<del>n=mo</del>d<del>el.recent</del>_seq<del>_lens[</del><del>u</del>se<del>r_indic</del><del>e</del>s<del>]</del>,</td><td class="diffline">94 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_interacted_seq<ins>=</ins>se<ins>q</ins>s,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">95 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_interacted_len=seq_len,</td></tr>
<tr class="diffchanged"><td class="diffline">105 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></del>is_training=False,</td><td class="diffline">96 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>is_training=False,</td></tr>
<tr class="diffchanged"><td class="diffline">106 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></del>)</td><td class="diffline">97 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffdeleted"><td class="diffline">107 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">108 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>feed_dict<span class="dp">·</span>=<span class="dp">·</span>get_feed_dict(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">109 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model=model,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">110 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_indices=user_indices,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">111 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_indices=item_indices,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">112 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_indices=sparse_indices,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">113 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_values=dense_values,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">114 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>is_training=False,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">115 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">116 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>preds[batch_slice]<span class="dp">·</span>=<span class="dp">·</span>model.sess.run(model.output,<span class="dp">·</span>feed_dict)</td><td class="diffline">98 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>preds[batch_slice]<span class="dp">·</span>=<span class="dp">·</span>model.sess.run(model.output,<span class="dp">·</span>feed_dict)</td></tr>
<tr class="diffunmodified"><td class="diffline">117 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>normalize_prediction(preds,<span class="dp">·</span>model,<span class="dp">·</span>cold_start,<span class="dp">·</span>unknown_num,<span class="dp">·</span>unknown_index)</td><td class="diffline">99 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>normalize_prediction(preds,<span class="dp">·</span>model,<span class="dp">·</span>cold_start,<span class="dp">·</span>unknown_num,<span class="dp">·</span>unknown_index)</td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">153 B</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/recommendation/cold_start.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-recommendation-cold_start.py"><span class="source">LibRecommender-1.1.0/libreco/recommendation/cold_start.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-recommendation-cold_start.py">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">147 B</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/recommendation/ranking.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-recommendation-ranking.py"><span class="source">LibRecommender-1.1.0/libreco/recommendation/ranking.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-recommendation-ranking.py">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">8.02 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/recommendation/recommend.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-recommendation-recommend.py"><span class="source">LibRecommender-1.1.0/libreco/recommendation/preprocess.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-recommendation-recommend.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 21% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 137 lines modified</td><td colspan="2">Offset 1, 113 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">1 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td><td class="diffline">1 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td></tr>
<tr class="diffdeleted"><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>pandas<span class="dp">·</span>as<span class="dp">·</span>pd</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">2 </td><td class="diffpresent">from<span class="dp">·</span>..prediction.preprocess<span class="dp">·</span>import<span class="dp">·</span>get_cached_seqs,<span class="dp">·</span>set_temp_feats</td></tr>
<tr class="diffdeleted"><td class="diffline">3 </td><td class="diffpresent">from<span class="dp">·</span>..feature<span class="dp">·</span>import<span class="dp">·</span>(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">4 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>add_item_features,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">5 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>features_from_dict,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">6 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>get_recommend_indices_and_values,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">7 </td><td class="diffpresent">)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">8 </td><td class="diffpresent">from<span class="dp">·</span>..tfops<span class="dp">·</span>import<span class="dp">·</span>get_feed_dict</td><td class="diffline">3 </td><td class="diffpresent">from<span class="dp">·</span>..tfops<span class="dp">·</span>import<span class="dp">·</span>get_feed_dict</td></tr>
<tr class="diffdeleted"><td class="diffline">9 </td><td class="diffpresent">from<span class="dp">·</span>.ranking<span class="dp">·</span>import<span class="dp">·</span>rank_recommendations</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">10 </td><td class="diffpresent">def<span class="dp">·</span>construct_rec(data_info,<span class="dp">·</span>user_ids,<span class="dp">·</span>computed_recs,<span class="dp">·</span>inner_id):</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>result_recs<span class="dp">·</span>=<span class="dp">·</span>dict()</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>i,<span class="dp">·</span>u<span class="dp">·</span>in<span class="dp">·</span>enumerate(user_ids):</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">13 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>inner_id:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>result_recs[u]<span class="dp">·</span>=<span class="dp">·</span>computed_recs[i]</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>u<span class="dp">·</span>=<span class="dp">·</span>data_info.id2user[u]</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>result_recs[u]<span class="dp">·</span>=<span class="dp">·</span>np.array(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>[data_info.id2item[ri]<span class="dp">·</span>for<span class="dp">·</span>ri<span class="dp">·</span>in<span class="dp">·</span>computed_recs[i]]</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><del><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></del>re<del>t</del>ur<del>n</del><span class="dp">·</span><del>r</del>e<del>sult</del>_<del>recs</del></td><td class="diffline">4 </td><td class="diffpresent"><ins>def</ins><span class="dp">·</span><ins>embe</ins><ins>d_f</ins>r<ins>om_seq(mod</ins>e<ins>l,</ins><ins><span class="dp">·</span></ins>u<ins>se</ins>r<ins>_ids</ins><ins>,</ins><span class="dp">·</span><ins>s</ins>e<ins>q,<span class="dp">·</span>i</ins><ins>nner</ins>_<ins>id):</ins></td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">5 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seq,<span class="dp">·</span>seq_len<span class="dp">·</span>=<span class="dp">·</span>build_rec_seq(seq,<span class="dp">·</span>model,<span class="dp">·</span>inner_id)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">6 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>feed_dict<span class="dp">·</span>=<span class="dp">·</span>{</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model.user_interacted_seq:<span class="dp">·</span>seq,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model.user_interacted_len:<span class="dp">·</span>seq_len,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>hasattr(model,<span class="dp">·</span>&quot;user_indices&quot;):</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>feed_dict[model.user_indices]<span class="dp">·</span>=<span class="dp">·</span>np.array(user_ids,<span class="dp">·</span>dtype=np.int32)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>embed<span class="dp">·</span>=<span class="dp">·</span>model.sess.run(model.user_vector,<span class="dp">·</span>feed_dict)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">13 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>embed<span class="dp">·</span>=<span class="dp">·</span>embed<span class="dp">·</span>/<span class="dp">·</span>np.linalg.norm(embed,<span class="dp">·</span>axis=1,<span class="dp">·</span>keepdims=True)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>bias<span class="dp">·</span>=<span class="dp">·</span>np.ones([1,<span class="dp">·</span>1],<span class="dp">·</span>dtype=embed.dtype)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>np.hstack([embed,<span class="dp">·</span>bias])</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">16 </td><td class="diffpresent">def<span class="dp">·</span>build_rec_seq(seq,<span class="dp">·</span>model,<span class="dp">·</span>inner_id,<span class="dp">·</span>repeat=False):</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>assert<span class="dp">·</span>isinstance(seq,<span class="dp">·</span>(list,<span class="dp">·</span>np.ndarray)),<span class="dp">·</span>&quot;`seq`<span class="dp">·</span>must<span class="dp">·</span>be<span class="dp">·</span>list<span class="dp">·</span>or<span class="dp">·</span>numpy.ndarray.&quot;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>not<span class="dp">·</span>inner_id:</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seq<span class="dp">·</span>=<span class="dp">·</span>[model.data_info.item2id.get(i,<span class="dp">·</span>model.n_items)<span class="dp">·</span>for<span class="dp">·</span>i<span class="dp">·</span>in<span class="dp">·</span>seq]</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>recent_seq<span class="dp">·</span>=<span class="dp">·</span>np.full((1,<span class="dp">·</span>model.max_seq_len),<span class="dp">·</span>model.n_items,<span class="dp">·</span>dtype=np.int32)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seq_len<span class="dp">·</span>=<span class="dp">·</span>min(model.max_seq_len,<span class="dp">·</span>len(seq))</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>recent_seq[0,<span class="dp">·</span>-seq_len:]<span class="dp">·</span>=<span class="dp">·</span>seq[-seq_len:]</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seq_len<span class="dp">·</span>=<span class="dp">·</span>np.array([seq_len],<span class="dp">·</span>dtype=np.float32)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>repeat:</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>recent_seq<span class="dp">·</span>=<span class="dp">·</span>np.repeat(recent_seq,<span class="dp">·</span>model.n_items,<span class="dp">·</span>axis=0)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seq_len<span class="dp">·</span>=<span class="dp">·</span>np.repeat(seq_len,<span class="dp">·</span>model.n_items)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>recent_seq,<span class="dp">·</span>seq_len</td></tr>
<tr class="diffdeleted"><td class="diffline">21 </td><td class="diffpresent">#<span class="dp">·</span>def<span class="dp">·</span>rank_recommendations(preds,<span class="dp">·</span>model,<span class="dp">·</span>user_id,<span class="dp">·</span>n_rec,<span class="dp">·</span>inner_id):</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">22 </td><td class="diffpresent">#<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>model.task<span class="dp">·</span>==<span class="dp">·</span>&quot;ranking&quot;:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">23 </td><td class="diffpresent">#<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>preds<span class="dp">·</span>=<span class="dp">·</span>expit(preds)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">24 </td><td class="diffpresent">#<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>consumed<span class="dp">·</span>=<span class="dp">·</span>set(model.user_consumed[user_id])</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">25 </td><td class="diffpresent">#<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>count<span class="dp">·</span>=<span class="dp">·</span>n_rec<span class="dp">·</span>+<span class="dp">·</span>len(consumed)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">26 </td><td class="diffpresent">#<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>ids<span class="dp">·</span>=<span class="dp">·</span>np.argpartition(preds,<span class="dp">·</span>-count)[-count:]</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">27 </td><td class="diffpresent">#<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>rank<span class="dp">·</span>=<span class="dp">·</span>sorted(zip(ids,<span class="dp">·</span>preds[ids]),<span class="dp">·</span>key=lambda<span class="dp">·</span>x:<span class="dp">·</span>-x[1])</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">28 </td><td class="diffpresent">#<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>recs_and_scores<span class="dp">·</span>=<span class="dp">·</span>islice(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">29 </td><td class="diffpresent">#<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">30 </td><td class="diffpresent">#<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>rec<span class="dp">·</span>if<span class="dp">·</span>inner_id<span class="dp">·</span>else<span class="dp">·</span>(model.data_info.id2item[rec[0]],<span class="dp">·</span>rec[1])</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">31 </td><td class="diffpresent">#<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>rec<span class="dp">·</span>in<span class="dp">·</span>rank</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">32 </td><td class="diffpresent">#<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>rec[0]<span class="dp">·</span>not<span class="dp">·</span>in<span class="dp">·</span>consumed<span class="dp">·</span>and<span class="dp">·</span>rec[0]<span class="dp">·</span>in<span class="dp">·</span>model.data_info.id2item</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">33 </td><td class="diffpresent">#<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>),</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">34 </td><td class="diffpresent">#<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_rec,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">35 </td><td class="diffpresent">#<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">36 </td><td class="diffpresent">#<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>list(recs_and_scores)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">37 </td><td class="diffpresent">def<span class="dp">·</span>recommend_from_embedding(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_ids,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_rec,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_embed,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_embed,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>filter_consumed,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>random_rec,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">46 </td><td class="diffpresent">):</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>preds<span class="dp">·</span>=<span class="dp">·</span>user_embed[user_ids]<span class="dp">·</span>@<span class="dp">·</span>item_embed[:data_info.n_items].T<span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>exclude<span class="dp">·</span>item<span class="dp">·</span>oov</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>rank_recommendations(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_ids,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>preds,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_rec,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info.n_items,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info.user_consumed,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>filter_consumed,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>random_rec,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">28 </td><td class="diffpresent">def<span class="dp">·</span>process_tf_feat(model,<span class="dp">·</span>user_ids,<span class="dp">·</span>user_feats,<span class="dp">·</span>seq,<span class="dp">·</span>inner_id):</td></tr>
<tr class="diffdeleted"><td class="diffline">58 </td><td class="diffpresent">def<span class="dp">·</span>recommend_tf_feat(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_ids,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">61 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_rec,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">62 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_feats,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">63 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_data,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">64 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>filter_consumed,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">65 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>random_rec,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">66 </td><td class="diffpresent">):</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">67 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_indices,<span class="dp">·</span>item_indices,<span class="dp">·</span>sparse_indices,<span class="dp">·</span>dense_values<span class="dp">·</span>=<span class="dp">·</span>[],<span class="dp">·</span>[],<span class="dp">·</span>[],<span class="dp">·</span>[]</td><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_indices,<span class="dp">·</span>item_indices,<span class="dp">·</span>sparse_indices,<span class="dp">·</span>dense_values<span class="dp">·</span>=<span class="dp">·</span>[],<span class="dp">·</span>[],<span class="dp">·</span>[],<span class="dp">·</span>[]</td></tr>
<tr class="diffunmodified"><td class="diffline">68 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>has_sparse<span class="dp">·</span>=<span class="dp">·</span>model.sparse<span class="dp">·</span>if<span class="dp">·</span>hasattr(model,<span class="dp">·</span>&quot;sparse&quot;)<span class="dp">·</span>else<span class="dp">·</span>None</td><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>has_sparse<span class="dp">·</span>=<span class="dp">·</span>model.sparse<span class="dp">·</span>if<span class="dp">·</span>hasattr(model,<span class="dp">·</span>&quot;sparse&quot;)<span class="dp">·</span>else<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">69 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>has_dense<span class="dp">·</span>=<span class="dp">·</span>model.dense<span class="dp">·</span>if<span class="dp">·</span>hasattr(model,<span class="dp">·</span>&quot;dense&quot;)<span class="dp">·</span>else<span class="dp">·</span>None</td><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>has_dense<span class="dp">·</span>=<span class="dp">·</span>model.dense<span class="dp">·</span>if<span class="dp">·</span>hasattr(model,<span class="dp">·</span>&quot;dense&quot;)<span class="dp">·</span>else<span class="dp">·</span>None</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>all_items<span class="dp">·</span>=<span class="dp">·</span>np.arange(model.n_items)</td></tr>
<tr class="diffunmodified"><td class="diffline">70 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>u<span class="dp">·</span>in<span class="dp">·</span>user_ids:</td><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>u<span class="dp">·</span>in<span class="dp">·</span>user_ids:</td></tr>
<tr class="diffchanged"><td class="diffline">71 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>u<del>,<span class="dp">·</span></del>i<del>,<span class="dp">·</span>s,<span class="dp">·</span>d<span class="dp">·</span>=<span class="dp">·</span>g</del>e<del>t_recomm</del>e<del>nd_indices_a</del>n<del>d</del>_<del>values(</del></td><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>u<ins>se</ins><ins>r_</ins>i<ins>ndices.app</ins>e<ins>n</ins><ins>d(np.rep</ins>e<ins>at(u,<span class="dp">·</span>model.</ins>n_<ins>items))</ins></td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_indices.append(all_items)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse,<span class="dp">·</span>dense<span class="dp">·</span>=<span class="dp">·</span>_get_original_feats(</td></tr>
<tr class="diffunmodified"><td class="diffline">72 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model.data_info,<span class="dp">·</span>u,<span class="dp">·</span>model.n_items,<span class="dp">·</span>has_sparse,<span class="dp">·</span>has_dense</td><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model.data_info,<span class="dp">·</span>u,<span class="dp">·</span>model.n_items,<span class="dp">·</span>has_sparse,<span class="dp">·</span>has_dense</td></tr>
<tr class="diffunmodified"><td class="diffline">73 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffdeleted"><td class="diffline">74 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_indices.append(u)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">75 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_indices.append(i)</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">76 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>s<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None:</td><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>s<ins>parse</ins><span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None:</td></tr>
<tr class="diffchanged"><td class="diffline">77 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_indices.append(s)</td><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_indices.append(s<ins>parse</ins>)</td></tr>
<tr class="diffchanged"><td class="diffline">78 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>d<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None:</td><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>d<ins>ense</ins><span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None:</td></tr>
<tr class="diffchanged"><td class="diffline">79 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_values.append(d)</td><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_values.append(d<ins>ense</ins>)</td></tr>
<tr class="diffunmodified"><td class="diffline">80 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_indices<span class="dp">·</span>=<span class="dp">·</span>np.concatenate(user_indices,<span class="dp">·</span>axis=0)</td><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_indices<span class="dp">·</span>=<span class="dp">·</span>np.concatenate(user_indices,<span class="dp">·</span>axis=0)</td></tr>
<tr class="diffunmodified"><td class="diffline">81 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_indices<span class="dp">·</span>=<span class="dp">·</span>np.concatenate(item_indices,<span class="dp">·</span>axis=0)</td><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_indices<span class="dp">·</span>=<span class="dp">·</span>np.concatenate(item_indices,<span class="dp">·</span>axis=0)</td></tr>
<tr class="diffunmodified"><td class="diffline">82 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_indices<span class="dp">·</span>=<span class="dp">·</span>np.concatenate(sparse_indices,<span class="dp">·</span>axis=0)<span class="dp">·</span>if<span class="dp">·</span>sparse_indices<span class="dp">·</span>else<span class="dp">·</span>None</td><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_indices<span class="dp">·</span>=<span class="dp">·</span>np.concatenate(sparse_indices,<span class="dp">·</span>axis=0)<span class="dp">·</span>if<span class="dp">·</span>sparse_indices<span class="dp">·</span>else<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">83 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_values<span class="dp">·</span>=<span class="dp">·</span>np.concatenate(dense_values,<span class="dp">·</span>axis=0)<span class="dp">·</span>if<span class="dp">·</span>dense_values<span class="dp">·</span>else<span class="dp">·</span>None</td><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_values<span class="dp">·</span>=<span class="dp">·</span>np.concatenate(dense_values,<span class="dp">·</span>axis=0)<span class="dp">·</span>if<span class="dp">·</span>dense_values<span class="dp">·</span>else<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">84 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>user_feats<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None:</td><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>user_feats<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None:</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>assert<span class="dp">·</span>isinstance(user_feats,<span class="dp">·</span>dict),<span class="dp">·</span>&quot;`user_feats`<span class="dp">·</span>must<span class="dp">·</span>be<span class="dp">·</span>`dict`.&quot;</td></tr>
<tr class="diffdeleted"><td class="diffline">85 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>assert<span class="dp">·</span>isinstance(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">86 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_feats,<span class="dp">·</span>(dict,<span class="dp">·</span>pd.Series)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">87 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>),<span class="dp">·</span>&quot;feats<span class="dp">·</span>must<span class="dp">·</span>be<span class="dp">·</span>`dict`<span class="dp">·</span>or<span class="dp">·</span>`pandas.Series`.&quot;</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">88 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_indices,<span class="dp">·</span>dense_values<span class="dp">·</span>=<span class="dp">·</span>features_from_dict(</td><td colspan="2"> </td></tr>
<tr class="error"><td colspan="4">
Max diff block lines reached; 2739/8060 bytes (33.98%) of diff not shown.
</td></tr></table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">2.46 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/sampling/negatives.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-sampling-negatives.py"><span class="source">LibRecommender-1.1.0/libreco/sampling/negatives.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-sampling-negatives.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 3% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 18, 21 lines modified</td><td colspan="2">Offset 18, 22 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>np_rng,<span class="dp">·</span>n_items,<span class="dp">·</span>items_pos,<span class="dp">·</span>num_neg,<span class="dp">·</span>items=None,<span class="dp">·</span>tolerance=10</td><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>np_rng,<span class="dp">·</span>n_items,<span class="dp">·</span>items_pos,<span class="dp">·</span>num_neg,<span class="dp">·</span>items=None,<span class="dp">·</span>tolerance=10</td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent">):</td><td class="diffline">19 </td><td class="diffpresent">):</td></tr>
<tr class="diffunmodified"><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>items_pos<span class="dp">·</span>=<span class="dp">·</span>np.repeat(items_pos,<span class="dp">·</span>num_neg)<span class="dp">·</span>if<span class="dp">·</span>num_neg<span class="dp">·</span>&gt;<span class="dp">·</span>1<span class="dp">·</span>else<span class="dp">·</span>items_pos</td><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>items_pos<span class="dp">·</span>=<span class="dp">·</span>np.repeat(items_pos,<span class="dp">·</span>num_neg)<span class="dp">·</span>if<span class="dp">·</span>num_neg<span class="dp">·</span>&gt;<span class="dp">·</span>1<span class="dp">·</span>else<span class="dp">·</span>items_pos</td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>items<span class="dp">·</span>=<span class="dp">·</span>np.repeat(items,<span class="dp">·</span>num_neg)<span class="dp">·</span>if<span class="dp">·</span>num_neg<span class="dp">·</span>&gt;<span class="dp">·</span>1<span class="dp">·</span>and<span class="dp">·</span>items<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None<span class="dp">·</span>else<span class="dp">·</span>items</td><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>items<span class="dp">·</span>=<span class="dp">·</span>np.repeat(items,<span class="dp">·</span>num_neg)<span class="dp">·</span>if<span class="dp">·</span>num_neg<span class="dp">·</span>&gt;<span class="dp">·</span>1<span class="dp">·</span>and<span class="dp">·</span>items<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None<span class="dp">·</span>else<span class="dp">·</span>items</td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>replace<span class="dp">·</span>=<span class="dp">·</span>False<span class="dp">·</span>if<span class="dp">·</span>len(items_pos)<span class="dp">·</span>&lt;<span class="dp">·</span>n_items<span class="dp">·</span>else<span class="dp">·</span>True</td><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>replace<span class="dp">·</span>=<span class="dp">·</span>False<span class="dp">·</span>if<span class="dp">·</span>len(items_pos)<span class="dp">·</span>&lt;<span class="dp">·</span>n_items<span class="dp">·</span>else<span class="dp">·</span>True</td></tr>
<tr class="diffunmodified"><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>negatives<span class="dp">·</span>=<span class="dp">·</span>np_rng.choice(n_items,<span class="dp">·</span>size=len(items_pos),<span class="dp">·</span>replace=replace)</td><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>negatives<span class="dp">·</span>=<span class="dp">·</span>np_rng.choice(n_items,<span class="dp">·</span>size=len(items_pos),<span class="dp">·</span>replace=replace)</td></tr>
<tr class="diffunmodified"><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>invalid_indices<span class="dp">·</span>=<span class="dp">·</span>_check_invalid_negatives(negatives,<span class="dp">·</span>items_pos,<span class="dp">·</span>items)</td><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>invalid_indices<span class="dp">·</span>=<span class="dp">·</span>_check_invalid_negatives(negatives,<span class="dp">·</span>items_pos,<span class="dp">·</span>items)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>invalid_indices:</td></tr>
<tr class="diffchanged"><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>_<span class="dp">·</span>in<span class="dp">·</span>range(tolerance):</td><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></ins>for<span class="dp">·</span>_<span class="dp">·</span>in<span class="dp">·</span>range(tolerance):</td></tr>
<tr class="diffchanged"><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>negatives[invalid_indices]<span class="dp">·</span>=<span class="dp">·</span>np_rng.choice(</td><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></ins>negatives[invalid_indices]<span class="dp">·</span>=<span class="dp">·</span>np_rng.choice(</td></tr>
<tr class="diffchanged"><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_items,<span class="dp">·</span>size=len(invalid_indices),<span class="dp">·</span>replace=True</td><td class="diffline">28 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></ins>n_items,<span class="dp">·</span>size=len(invalid_indices),<span class="dp">·</span>replace=True</td></tr>
<tr class="diffchanged"><td class="diffline">28 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></ins>)</td></tr>
<tr class="diffchanged"><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>invalid_indices<span class="dp">·</span>=<span class="dp">·</span>_check_invalid_negatives(negatives,<span class="dp">·</span>items_pos,<span class="dp">·</span>items)</td><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></ins>invalid_indices<span class="dp">·</span>=<span class="dp">·</span>_check_invalid_negatives(negatives,<span class="dp">·</span>items_pos,<span class="dp">·</span>items)</td></tr>
<tr class="diffchanged"><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>not<span class="dp">·</span>invalid_indices:</td><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></ins>if<span class="dp">·</span>not<span class="dp">·</span>invalid_indices:</td></tr>
<tr class="diffchanged"><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>break</td><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></ins>break</td></tr>
<tr class="diffunmodified"><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>negatives</td><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>negatives</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">33 </td><td class="diffpresent">def<span class="dp">·</span>negatives_from_popular(np_rng,<span class="dp">·</span>n_items,<span class="dp">·</span>items_pos,<span class="dp">·</span>num_neg,<span class="dp">·</span>items=None,<span class="dp">·</span>probs=None):</td><td class="diffline">34 </td><td class="diffpresent">def<span class="dp">·</span>negatives_from_popular(np_rng,<span class="dp">·</span>n_items,<span class="dp">·</span>items_pos,<span class="dp">·</span>num_neg,<span class="dp">·</span>items=None,<span class="dp">·</span>probs=None):</td></tr>
<tr class="diffunmodified"><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>items_pos<span class="dp">·</span>=<span class="dp">·</span>np.repeat(items_pos,<span class="dp">·</span>num_neg)<span class="dp">·</span>if<span class="dp">·</span>num_neg<span class="dp">·</span>&gt;<span class="dp">·</span>1<span class="dp">·</span>else<span class="dp">·</span>items_pos</td><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>items_pos<span class="dp">·</span>=<span class="dp">·</span>np.repeat(items_pos,<span class="dp">·</span>num_neg)<span class="dp">·</span>if<span class="dp">·</span>num_neg<span class="dp">·</span>&gt;<span class="dp">·</span>1<span class="dp">·</span>else<span class="dp">·</span>items_pos</td></tr>
<tr class="diffunmodified"><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>items<span class="dp">·</span>=<span class="dp">·</span>np.repeat(items,<span class="dp">·</span>num_neg)<span class="dp">·</span>if<span class="dp">·</span>num_neg<span class="dp">·</span>&gt;<span class="dp">·</span>1<span class="dp">·</span>and<span class="dp">·</span>items<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None<span class="dp">·</span>else<span class="dp">·</span>items</td><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>items<span class="dp">·</span>=<span class="dp">·</span>np.repeat(items,<span class="dp">·</span>num_neg)<span class="dp">·</span>if<span class="dp">·</span>num_neg<span class="dp">·</span>&gt;<span class="dp">·</span>1<span class="dp">·</span>and<span class="dp">·</span>items<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None<span class="dp">·</span>else<span class="dp">·</span>items</td></tr>
<tr class="diffunmodified"><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>negatives<span class="dp">·</span>=<span class="dp">·</span>np_rng.choice(n_items,<span class="dp">·</span>size=len(items_pos),<span class="dp">·</span>replace=True,<span class="dp">·</span>p=probs)</td><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>negatives<span class="dp">·</span>=<span class="dp">·</span>np_rng.choice(n_items,<span class="dp">·</span>size=len(items_pos),<span class="dp">·</span>replace=True,<span class="dp">·</span>p=probs)</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 77, 24 lines modified</td><td colspan="2">Offset 78, 25 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">77 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n<span class="dp">·</span>=<span class="dp">·</span>sample_one()</td><td class="diffline">78 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n<span class="dp">·</span>=<span class="dp">·</span>sample_one()</td></tr>
<tr class="diffunmodified"><td class="diffline">78 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>n<span class="dp">·</span>!=<span class="dp">·</span>i<span class="dp">·</span>and<span class="dp">·</span>n<span class="dp">·</span>not<span class="dp">·</span>in<span class="dp">·</span>u_negs:</td><td class="diffline">79 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>n<span class="dp">·</span>!=<span class="dp">·</span>i<span class="dp">·</span>and<span class="dp">·</span>n<span class="dp">·</span>not<span class="dp">·</span>in<span class="dp">·</span>u_negs:</td></tr>
<tr class="diffunmodified"><td class="diffline">79 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>success<span class="dp">·</span>=<span class="dp">·</span>True</td><td class="diffline">80 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>success<span class="dp">·</span>=<span class="dp">·</span>True</td></tr>
<tr class="diffunmodified"><td class="diffline">80 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>break</td><td class="diffline">81 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>break</td></tr>
<tr class="diffunmodified"><td class="diffline">81 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>not<span class="dp">·</span>success:</td><td class="diffline">82 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>not<span class="dp">·</span>success:</td></tr>
<tr class="diffunmodified"><td class="diffline">82 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n<span class="dp">·</span>=<span class="dp">·</span>sample_one()</td><td class="diffline">83 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n<span class="dp">·</span>=<span class="dp">·</span>sample_one()</td></tr>
<tr class="diffunmodified"><td class="diffline">83 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>print(f&quot;possible<span class="dp">·</span>not<span class="dp">·</span>enough<span class="dp">·</span>negatives<span class="dp">·</span>for<span class="dp">·</span>user<span class="dp">·</span>{u}<span class="dp">·</span>and<span class="dp">·</span>item<span class="dp">·</span>{i}.&quot;)</td><td class="diffline">84 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>print(f&quot;possible<span class="dp">·</span>not<span class="dp">·</span>enough<span class="dp">·</span>negatives<span class="dp">·</span>for<span class="dp">·</span>user<span class="dp">·</span>{u}<span class="dp">·</span>and<span class="dp">·</span>item<span class="dp">·</span>{i}.&quot;)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">85 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>noinspection<span class="dp">·</span>PyUnboundLocalVariable</td></tr>
<tr class="diffunmodified"><td class="diffline">84 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>u_negs.append(n)</td><td class="diffline">86 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>u_negs.append(n)</td></tr>
<tr class="diffunmodified"><td class="diffline">85 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>negatives.extend(u_negs)</td><td class="diffline">87 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>negatives.extend(u_negs)</td></tr>
<tr class="diffunmodified"><td class="diffline">86 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>np.array(negatives)</td><td class="diffline">88 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>np.array(negatives)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">87 </td><td class="diffpresent">def<span class="dp">·</span>neg_probs_from_frequency(item_consumed,<span class="dp">·</span>n_items,<span class="dp">·</span>temperature):</td><td class="diffline">89 </td><td class="diffpresent">def<span class="dp">·</span>neg_probs_from_frequency(item_consumed,<span class="dp">·</span>n_items,<span class="dp">·</span>temperature):</td></tr>
<tr class="diffunmodified"><td class="diffline">88 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>freqs<span class="dp">·</span>=<span class="dp">·</span>[]</td><td class="diffline">90 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>freqs<span class="dp">·</span>=<span class="dp">·</span>[]</td></tr>
<tr class="diffunmodified"><td class="diffline">89 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>i<span class="dp">·</span>in<span class="dp">·</span>range(n_items):</td><td class="diffline">91 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>i<span class="dp">·</span>in<span class="dp">·</span>range(n_items):</td></tr>
<tr class="diffunmodified"><td class="diffline">90 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>freq<span class="dp">·</span>=<span class="dp">·</span>len(set(item_consumed[i]))</td><td class="diffline">92 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>freq<span class="dp">·</span>=<span class="dp">·</span>len(set(item_consumed[i]))</td></tr>
<tr class="diffchanged"><td class="diffline">91 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>temperature<span class="dp">·</span>!=<span class="dp">·</span>1:</td><td class="diffline">93 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>temperature<span class="dp">·</span>!=<span class="dp">·</span>1<ins>.0</ins>:</td></tr>
<tr class="diffunmodified"><td class="diffline">92 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>freq<span class="dp">·</span>=<span class="dp">·</span>pow(freq,<span class="dp">·</span>temperature)</td><td class="diffline">94 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>freq<span class="dp">·</span>=<span class="dp">·</span>pow(freq,<span class="dp">·</span>temperature)</td></tr>
<tr class="diffunmodified"><td class="diffline">93 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>freqs.append(freq)</td><td class="diffline">95 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>freqs.append(freq)</td></tr>
<tr class="diffunmodified"><td class="diffline">94 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>freqs<span class="dp">·</span>=<span class="dp">·</span>np.array(freqs)</td><td class="diffline">96 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>freqs<span class="dp">·</span>=<span class="dp">·</span>np.array(freqs)</td></tr>
<tr class="diffunmodified"><td class="diffline">95 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>freqs<span class="dp">·</span>/<span class="dp">·</span>np.sum(freqs)</td><td class="diffline">97 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>freqs<span class="dp">·</span>/<span class="dp">·</span>np.sum(freqs)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">96 </td><td class="diffpresent">def<span class="dp">·</span>pos_probs_from_frequency(item_consumed,<span class="dp">·</span>n_users,<span class="dp">·</span>n_items,<span class="dp">·</span>alpha):</td><td class="diffline">98 </td><td class="diffpresent">def<span class="dp">·</span>pos_probs_from_frequency(item_consumed,<span class="dp">·</span>n_users,<span class="dp">·</span>n_items,<span class="dp">·</span>alpha):</td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">145 B</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/sampling/random_walks.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-sampling-random_walks.py"><span class="source">LibRecommender-1.1.0/libreco/sampling/random_walks.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-sampling-random_walks.py">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">131 B</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/tfops/__init__.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-tfops-__init__.py"><span class="source">LibRecommender-1.1.0/libreco/tfops/__init__.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-tfops-__init__.py">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">129 B</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/tfops/configs.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-tfops-configs.py"><span class="source">LibRecommender-1.1.0/libreco/tfops/configs.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-tfops-configs.py">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">131 B</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/tfops/features.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-tfops-features.py"><span class="source">LibRecommender-1.1.0/libreco/tfops/features.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-tfops-features.py">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">2.06 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/tfops/layers.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-tfops-layers.py"><span class="source">LibRecommender-1.1.0/libreco/tfops/layers.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-tfops-layers.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 1% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 9, 15 lines modified</td><td colspan="2">Offset 9, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">9 </td><td class="diffpresent">#<span class="dp">·</span>https://stackoverflow.com/questions/39691902/ordering-of-batch-normalization-and-dropout</td><td class="diffline">9 </td><td class="diffpresent">#<span class="dp">·</span>https://stackoverflow.com/questions/39691902/ordering-of-batch-normalization-and-dropout</td></tr>
<tr class="diffunmodified"><td class="diffline">10 </td><td class="diffpresent">#<span class="dp">·</span>https://www.zhihu.com/question/283715823</td><td class="diffline">10 </td><td class="diffpresent">#<span class="dp">·</span>https://www.zhihu.com/question/283715823</td></tr>
<tr class="diffunmodified"><td class="diffline">11 </td><td class="diffpresent">#<span class="dp">·</span>Also<span class="dp">·</span>according<span class="dp">·</span>to<span class="dp">·</span>the<span class="dp">·</span>discussions,<span class="dp">·</span>it<span class="dp">·</span>is<span class="dp">·</span>generally<span class="dp">·</span>NOT<span class="dp">·</span>recommended<span class="dp">·</span>to<span class="dp">·</span>use</td><td class="diffline">11 </td><td class="diffpresent">#<span class="dp">·</span>Also<span class="dp">·</span>according<span class="dp">·</span>to<span class="dp">·</span>the<span class="dp">·</span>discussions,<span class="dp">·</span>it<span class="dp">·</span>is<span class="dp">·</span>generally<span class="dp">·</span>NOT<span class="dp">·</span>recommended<span class="dp">·</span>to<span class="dp">·</span>use</td></tr>
<tr class="diffunmodified"><td class="diffline">12 </td><td class="diffpresent">#<span class="dp">·</span>`batch<span class="dp">·</span>normalization`<span class="dp">·</span>and<span class="dp">·</span>`dropout`<span class="dp">·</span>simultaneously.</td><td class="diffline">12 </td><td class="diffpresent">#<span class="dp">·</span>`batch<span class="dp">·</span>normalization`<span class="dp">·</span>and<span class="dp">·</span>`dropout`<span class="dp">·</span>simultaneously.</td></tr>
<tr class="diffunmodified"><td class="diffline">13 </td><td class="diffpresent">def<span class="dp">·</span>dense_nn(</td><td class="diffline">13 </td><td class="diffpresent">def<span class="dp">·</span>dense_nn(</td></tr>
<tr class="diffunmodified"><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>net,</td><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>net,</td></tr>
<tr class="diffunmodified"><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hidden_units,</td><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>hidden_units,</td></tr>
<tr class="diffchanged"><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>activation=tf.nn.elu,</td><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>activation=tf.nn.<ins>r</ins>elu,</td></tr>
<tr class="diffunmodified"><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_bn=True,</td><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>use_bn=True,</td></tr>
<tr class="diffunmodified"><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>bn_after_activation=True,</td><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>bn_after_activation=True,</td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_rate=None,</td><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dropout_rate=None,</td></tr>
<tr class="diffunmodified"><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>is_training=True,</td><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>is_training=True,</td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>name=&quot;mlp&quot;,</td><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>name=&quot;mlp&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent">):</td><td class="diffline">22 </td><td class="diffpresent">):</td></tr>
<tr class="diffunmodified"><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>activation<span class="dp">·</span>is<span class="dp">·</span>None:</td><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>activation<span class="dp">·</span>is<span class="dp">·</span>None:</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 27, 26 lines modified</td><td colspan="2">Offset 27, 27 lines modified</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>with<span class="dp">·</span>tf.variable_scope(name):</td><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>with<span class="dp">·</span>tf.variable_scope(name):</td></tr>
<tr class="diffunmodified"><td class="diffline">28 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>use_bn:</td><td class="diffline">28 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>use_bn:</td></tr>
<tr class="diffunmodified"><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>net<span class="dp">·</span>=<span class="dp">·</span>tf.layers.batch_normalization(net,<span class="dp">·</span>training=is_training)</td><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>net<span class="dp">·</span>=<span class="dp">·</span>tf.layers.batch_normalization(net,<span class="dp">·</span>training=is_training)</td></tr>
<tr class="diffunmodified"><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>i,<span class="dp">·</span>units<span class="dp">·</span>in<span class="dp">·</span>enumerate(hidden_units,<span class="dp">·</span>start=1):</td><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>i,<span class="dp">·</span>units<span class="dp">·</span>in<span class="dp">·</span>enumerate(hidden_units,<span class="dp">·</span>start=1):</td></tr>
<tr class="diffunmodified"><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>layer_name<span class="dp">·</span>=<span class="dp">·</span>name<span class="dp">·</span>+<span class="dp">·</span>&quot;_layer&quot;<span class="dp">·</span>+<span class="dp">·</span>str(i)</td><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>layer_name<span class="dp">·</span>=<span class="dp">·</span>name<span class="dp">·</span>+<span class="dp">·</span>&quot;_layer&quot;<span class="dp">·</span>+<span class="dp">·</span>str(i)</td></tr>
<tr class="diffunmodified"><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>net<span class="dp">·</span>=<span class="dp">·</span>tf_dense(units,<span class="dp">·</span>activation=None,<span class="dp">·</span>name=layer_name)(net)</td><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>net<span class="dp">·</span>=<span class="dp">·</span>tf_dense(units,<span class="dp">·</span>activation=None,<span class="dp">·</span>name=layer_name)(net)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>i<span class="dp">·</span>!=<span class="dp">·</span>len(hidden_units):</td></tr>
<tr class="diffchanged"><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>use_bn:</td><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></ins>if<span class="dp">·</span>use_bn:</td></tr>
<tr class="diffchanged"><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>bn_after_activation:</td><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></ins>if<span class="dp">·</span>bn_after_activation:</td></tr>
<tr class="diffchanged"><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>net<span class="dp">·</span>=<span class="dp">·</span>activation(net)</td><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></ins>net<span class="dp">·</span>=<span class="dp">·</span>activation(net)</td></tr>
<tr class="diffchanged"><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>net<span class="dp">·</span>=<span class="dp">·</span>tf.layers.batch_normalization(net,<span class="dp">·</span>training=is_training)</td><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></ins>net<span class="dp">·</span>=<span class="dp">·</span>tf.layers.batch_normalization(net,<span class="dp">·</span>training=is_training)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else:</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>net<span class="dp">·</span>=<span class="dp">·</span>tf.layers.batch_normalization(net,<span class="dp">·</span>training=is_training)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>net<span class="dp">·</span>=<span class="dp">·</span>activation(net)</td></tr>
<tr class="diffunmodified"><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else:</td><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else:</td></tr>
<tr class="diffdeleted"><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>net<span class="dp">·</span>=<span class="dp">·</span>tf.layers.batch_normalization(net,<span class="dp">·</span>training=is_training)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>net<span class="dp">·</span>=<span class="dp">·</span>activation(net)</td><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>net<span class="dp">·</span>=<span class="dp">·</span>activation(net)</td></tr>
<tr class="diffdeleted"><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>net<span class="dp">·</span>=<span class="dp">·</span>activation(net)</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>dropout_rate:</td><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></ins>if<span class="dp">·</span>dropout_rate:</td></tr>
<tr class="diffchanged"><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>net<span class="dp">·</span>=<span class="dp">·</span>tf.layers.dropout(net,<span class="dp">·</span>dropout_rate,<span class="dp">·</span>training=is_training)</td><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></ins>net<span class="dp">·</span>=<span class="dp">·</span>tf.layers.dropout(net,<span class="dp">·</span>dropout_rate,<span class="dp">·</span>training=is_training)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>net</td><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>net</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">45 </td><td class="diffpresent">def<span class="dp">·</span>tf_dense(</td><td class="diffline">46 </td><td class="diffpresent">def<span class="dp">·</span>tf_dense(</td></tr>
<tr class="diffunmodified"><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>units,</td><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>units,</td></tr>
<tr class="diffunmodified"><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>activation=None,</td><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>activation=None,</td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">123 B</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/tfops/loss.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-tfops-loss.py"><span class="source">LibRecommender-1.1.0/libreco/tfops/loss.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-tfops-loss.py">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">4.71 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/tfops/rebuild.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-tfops-rebuild.py"><span class="source">LibRecommender-1.1.0/libreco/tfops/rebuild.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-tfops-rebuild.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 6% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 9 lines modified</td><td colspan="2">Offset 1, 10 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">1 </td><td class="diffpresent">&quot;&quot;&quot;Rebuild<span class="dp">·</span>TensorFlow<span class="dp">·</span>models.&quot;&quot;&quot;</td><td class="diffline">1 </td><td class="diffpresent">&quot;&quot;&quot;Rebuild<span class="dp">·</span>TensorFlow<span class="dp">·</span>models.&quot;&quot;&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>os</td><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>os</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">3 </td><td class="diffpresent">from<span class="dp">·</span>dataclasses<span class="dp">·</span>import<span class="dp">·</span>astuple</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">3 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td><td class="diffline">4 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">4 </td><td class="diffpresent">from<span class="dp">·</span>.variables<span class="dp">·</span>import<span class="dp">·</span>modify_variable_names</td><td class="diffline">5 </td><td class="diffpresent">from<span class="dp">·</span>.variables<span class="dp">·</span>import<span class="dp">·</span>modify_variable_names</td></tr>
<tr class="diffunmodified"><td class="diffline">5 </td><td class="diffpresent">from<span class="dp">·</span>.version<span class="dp">·</span>import<span class="dp">·</span>tf</td><td class="diffline">6 </td><td class="diffpresent">from<span class="dp">·</span>.version<span class="dp">·</span>import<span class="dp">·</span>tf</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffhunk"><td colspan="2">Offset 19, 15 lines modified</td><td colspan="2">Offset 20, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>path<span class="dp">·</span>:<span class="dp">·</span>str</td><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>path<span class="dp">·</span>:<span class="dp">·</span>str</td></tr>
<tr class="diffunmodified"><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>File<span class="dp">·</span>folder<span class="dp">·</span>path<span class="dp">·</span>for<span class="dp">·</span>the<span class="dp">·</span>saved<span class="dp">·</span>model<span class="dp">·</span>variables.</td><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>File<span class="dp">·</span>folder<span class="dp">·</span>path<span class="dp">·</span>for<span class="dp">·</span>the<span class="dp">·</span>saved<span class="dp">·</span>model<span class="dp">·</span>variables.</td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model_name<span class="dp">·</span>:<span class="dp">·</span>str</td><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model_name<span class="dp">·</span>:<span class="dp">·</span>str</td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Name<span class="dp">·</span>of<span class="dp">·</span>the<span class="dp">·</span>saved<span class="dp">·</span>model<span class="dp">·</span>file.</td><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Name<span class="dp">·</span>of<span class="dp">·</span>the<span class="dp">·</span>saved<span class="dp">·</span>model<span class="dp">·</span>file.</td></tr>
<tr class="diffunmodified"><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>full_assign<span class="dp">·</span>:<span class="dp">·</span>bool,<span class="dp">·</span>default:<span class="dp">·</span>True</td><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>full_assign<span class="dp">·</span>:<span class="dp">·</span>bool,<span class="dp">·</span>default:<span class="dp">·</span>True</td></tr>
<tr class="diffunmodified"><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Whether<span class="dp">·</span>to<span class="dp">·</span>also<span class="dp">·</span>restore<span class="dp">·</span>the<span class="dp">·</span>variables<span class="dp">·</span>of<span class="dp">·</span>Adam<span class="dp">·</span>optimizer.</td><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Whether<span class="dp">·</span>to<span class="dp">·</span>also<span class="dp">·</span>restore<span class="dp">·</span>the<span class="dp">·</span>variables<span class="dp">·</span>of<span class="dp">·</span>Adam<span class="dp">·</span>optimizer.</td></tr>
<tr class="diffunmodified"><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;</td><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;</td></tr>
<tr class="diffchanged"><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>from<span class="dp">·</span>..training<span class="dp">·</span>import<span class="dp">·</span>get_trainer</td><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>from<span class="dp">·</span>..training<ins>.dispatch</ins><span class="dp">·</span>import<span class="dp">·</span>get_trainer</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.model_built<span class="dp">·</span>=<span class="dp">·</span>True</td><td class="diffline">28 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.model_built<span class="dp">·</span>=<span class="dp">·</span>True</td></tr>
<tr class="diffunmodified"><td class="diffline">28 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.build_model()</td><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.build_model()</td></tr>
<tr class="diffunmodified"><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.trainer<span class="dp">·</span>=<span class="dp">·</span>get_trainer(self)</td><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.trainer<span class="dp">·</span>=<span class="dp">·</span>get_trainer(self)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>variable_path<span class="dp">·</span>=<span class="dp">·</span>os.path.join(path,<span class="dp">·</span>f&quot;{model_name}_tf_variables.npz&quot;)</td><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>variable_path<span class="dp">·</span>=<span class="dp">·</span>os.path.join(path,<span class="dp">·</span>f&quot;{model_name}_tf_variables.npz&quot;)</td></tr>
<tr class="diffunmodified"><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>variables<span class="dp">·</span>=<span class="dp">·</span>np.load(variable_path)</td><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>variables<span class="dp">·</span>=<span class="dp">·</span>np.load(variable_path)</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 37, 35 lines modified</td><td colspan="2">Offset 38, 38 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_variables,</td><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_variables,</td></tr>
<tr class="diffunmodified"><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_variables,</td><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_variables,</td></tr>
<tr class="diffunmodified"><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_variables,</td><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_variables,</td></tr>
<tr class="diffunmodified"><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_variables,</td><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_variables,</td></tr>
<tr class="diffunmodified"><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>manual_variables,</td><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>manual_variables,</td></tr>
<tr class="diffunmodified"><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)<span class="dp">·</span>=<span class="dp">·</span>modify_variable_names(self,<span class="dp">·</span>trainable=True)</td><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)<span class="dp">·</span>=<span class="dp">·</span>modify_variable_names(self,<span class="dp">·</span>trainable=True)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_offset<span class="dp">·</span>=<span class="dp">·</span>self.data_info.sparse_offset</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>old_n_users,<span class="dp">·</span>old_n_items,<span class="dp">·</span>old_sparse_len,<span class="dp">·</span>old_sparse_oov,<span class="dp">·</span>_<span class="dp">·</span>=<span class="dp">·</span>astuple(</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.data_info.old_info</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>update_ops<span class="dp">·</span>=<span class="dp">·</span>[]</td><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>update_ops<span class="dp">·</span>=<span class="dp">·</span>[]</td></tr>
<tr class="diffunmodified"><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>v<span class="dp">·</span>in<span class="dp">·</span>tf.trainable_variables():</td><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>v<span class="dp">·</span>in<span class="dp">·</span>tf.trainable_variables():</td></tr>
<tr class="diffunmodified"><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>user_variables<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None<span class="dp">·</span>and<span class="dp">·</span>v.name<span class="dp">·</span>in<span class="dp">·</span>user_variables:</td><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>user_variables<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None<span class="dp">·</span>and<span class="dp">·</span>v.name<span class="dp">·</span>in<span class="dp">·</span>user_variables:</td></tr>
<tr class="diffunmodified"><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>remove<span class="dp">·</span>oov<span class="dp">·</span>values</td><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>remove<span class="dp">·</span>oov<span class="dp">·</span>values</td></tr>
<tr class="diffchanged"><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>old_var<span class="dp">·</span>=<span class="dp">·</span>variables[v.name][:<span class="dp">·</span><del>self.data_info.</del>old_n_users]</td><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>old_var<span class="dp">·</span>=<span class="dp">·</span>variables[v.name][:<span class="dp">·</span>old_n_users]</td></tr>
<tr class="diffunmodified"><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_op<span class="dp">·</span>=<span class="dp">·</span>tf.IndexedSlices(old_var,<span class="dp">·</span>tf.range(len(old_var)))</td><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_op<span class="dp">·</span>=<span class="dp">·</span>tf.IndexedSlices(old_var,<span class="dp">·</span>tf.range(len(old_var)))</td></tr>
<tr class="diffunmodified"><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>update_ops.append(v.scatter_update(user_op))</td><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>update_ops.append(v.scatter_update(user_op))</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>item_variables<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None<span class="dp">·</span>and<span class="dp">·</span>v.name<span class="dp">·</span>in<span class="dp">·</span>item_variables:</td><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>item_variables<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None<span class="dp">·</span>and<span class="dp">·</span>v.name<span class="dp">·</span>in<span class="dp">·</span>item_variables:</td></tr>
<tr class="diffchanged"><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>old_var<span class="dp">·</span>=<span class="dp">·</span>variables[v.name][:<span class="dp">·</span><del>self.data_info.</del>old_n_items]</td><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>old_var<span class="dp">·</span>=<span class="dp">·</span>variables[v.name][:<span class="dp">·</span>old_n_items]</td></tr>
<tr class="diffunmodified"><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_op<span class="dp">·</span>=<span class="dp">·</span>tf.IndexedSlices(old_var,<span class="dp">·</span>tf.range(len(old_var)))</td><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_op<span class="dp">·</span>=<span class="dp">·</span>tf.IndexedSlices(old_var,<span class="dp">·</span>tf.range(len(old_var)))</td></tr>
<tr class="diffunmodified"><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>update_ops.append(v.scatter_update(item_op))</td><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>update_ops.append(v.scatter_update(item_op))</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>sparse_variables<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None<span class="dp">·</span>and<span class="dp">·</span>v.name<span class="dp">·</span>in<span class="dp">·</span>sparse_variables:</td><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>sparse_variables<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None<span class="dp">·</span>and<span class="dp">·</span>v.name<span class="dp">·</span>in<span class="dp">·</span>sparse_variables:</td></tr>
<tr class="diffunmodified"><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>old_var<span class="dp">·</span>=<span class="dp">·</span>variables[v.name]</td><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>old_var<span class="dp">·</span>=<span class="dp">·</span>variables[v.name]</td></tr>
<tr class="diffunmodified"><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>remove<span class="dp">·</span>oov<span class="dp">·</span>values</td><td class="diffline">61 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>remove<span class="dp">·</span>oov<span class="dp">·</span>values</td></tr>
<tr class="diffchanged"><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>old_var<span class="dp">·</span>=<span class="dp">·</span>np.delete(old_var,<span class="dp">·</span><del>self.data_info.</del>old_sparse_oov,<span class="dp">·</span>axis=0)</td><td class="diffline">62 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>old_var<span class="dp">·</span>=<span class="dp">·</span>np.delete(old_var,<span class="dp">·</span>old_sparse_oov,<span class="dp">·</span>axis=0)</td></tr>
<tr class="diffunmodified"><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>indices<span class="dp">·</span>=<span class="dp">·</span>[]</td><td class="diffline">63 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>indices<span class="dp">·</span>=<span class="dp">·</span>[]</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">64 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>offset,<span class="dp">·</span>size<span class="dp">·</span>in<span class="dp">·</span>zip(sparse_offset,<span class="dp">·</span>old_sparse_len):</td></tr>
<tr class="diffdeleted"><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>offset,<span class="dp">·</span>size<span class="dp">·</span>in<span class="dp">·</span>zip(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.data_info.sparse_offset,<span class="dp">·</span>self.data_info.old_sparse_len</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">61 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">62 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>size<span class="dp">·</span>!=<span class="dp">·</span>-1:</td><td class="diffline">65 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>size<span class="dp">·</span>!=<span class="dp">·</span>-1:</td></tr>
<tr class="diffunmodified"><td class="diffline">63 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>indices.extend(range(offset,<span class="dp">·</span>offset<span class="dp">·</span>+<span class="dp">·</span>size))</td><td class="diffline">66 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>indices.extend(range(offset,<span class="dp">·</span>offset<span class="dp">·</span>+<span class="dp">·</span>size))</td></tr>
<tr class="diffunmodified"><td class="diffline">64 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_op<span class="dp">·</span>=<span class="dp">·</span>tf.IndexedSlices(old_var,<span class="dp">·</span>indices)</td><td class="diffline">67 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_op<span class="dp">·</span>=<span class="dp">·</span>tf.IndexedSlices(old_var,<span class="dp">·</span>indices)</td></tr>
<tr class="diffunmodified"><td class="diffline">65 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>update_ops.append(v.scatter_update(sparse_op))</td><td class="diffline">68 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>update_ops.append(v.scatter_update(sparse_op))</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">66 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>dense_variables<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None<span class="dp">·</span>and<span class="dp">·</span>v.name<span class="dp">·</span>in<span class="dp">·</span>dense_variables:</td><td class="diffline">69 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>dense_variables<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None<span class="dp">·</span>and<span class="dp">·</span>v.name<span class="dp">·</span>in<span class="dp">·</span>dense_variables:</td></tr>
<tr class="diffunmodified"><td class="diffline">67 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>dense<span class="dp">·</span>values<span class="dp">·</span>are<span class="dp">·</span>same,<span class="dp">·</span>no<span class="dp">·</span>need<span class="dp">·</span>to<span class="dp">·</span>scatter_update</td><td class="diffline">70 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>dense<span class="dp">·</span>values<span class="dp">·</span>are<span class="dp">·</span>same,<span class="dp">·</span>no<span class="dp">·</span>need<span class="dp">·</span>to<span class="dp">·</span>scatter_update</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 85, 37 lines modified</td><td colspan="2">Offset 89, 35 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">85 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>v<span class="dp">·</span>for<span class="dp">·</span>v<span class="dp">·</span>in<span class="dp">·</span>tf.global_variables()<span class="dp">·</span>if<span class="dp">·</span>v.name<span class="dp">·</span>not<span class="dp">·</span>in<span class="dp">·</span>manual_variables</td><td class="diffline">89 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>v<span class="dp">·</span>for<span class="dp">·</span>v<span class="dp">·</span>in<span class="dp">·</span>tf.global_variables()<span class="dp">·</span>if<span class="dp">·</span>v.name<span class="dp">·</span>not<span class="dp">·</span>in<span class="dp">·</span>manual_variables</td></tr>
<tr class="diffunmodified"><td class="diffline">86 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>]</td><td class="diffline">90 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>]</td></tr>
<tr class="diffunmodified"><td class="diffline">87 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>v<span class="dp">·</span>in<span class="dp">·</span>other_variables:</td><td class="diffline">91 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>v<span class="dp">·</span>in<span class="dp">·</span>other_variables:</td></tr>
<tr class="diffunmodified"><td class="diffline">88 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(</td><td class="diffline">92 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>(</td></tr>
<tr class="diffunmodified"><td class="diffline">89 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>optimizer_user_variables<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None</td><td class="diffline">93 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>optimizer_user_variables<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">90 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>and<span class="dp">·</span>v.name<span class="dp">·</span>in<span class="dp">·</span>optimizer_user_variables</td><td class="diffline">94 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>and<span class="dp">·</span>v.name<span class="dp">·</span>in<span class="dp">·</span>optimizer_user_variables</td></tr>
<tr class="diffunmodified"><td class="diffline">91 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td><td class="diffline">95 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td></tr>
<tr class="diffchanged"><td class="diffline">92 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>old_var<span class="dp">·</span>=<span class="dp">·</span>variables[v.name][:<span class="dp">·</span><del>self.data_info.</del>old_n_users]</td><td class="diffline">96 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>old_var<span class="dp">·</span>=<span class="dp">·</span>variables[v.name][:<span class="dp">·</span>old_n_users]</td></tr>
<tr class="diffunmodified"><td class="diffline">93 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_op<span class="dp">·</span>=<span class="dp">·</span>tf.IndexedSlices(old_var,<span class="dp">·</span>tf.range(len(old_var)))</td><td class="diffline">97 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_op<span class="dp">·</span>=<span class="dp">·</span>tf.IndexedSlices(old_var,<span class="dp">·</span>tf.range(len(old_var)))</td></tr>
<tr class="diffunmodified"><td class="diffline">94 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>update_ops.append(v.scatter_update(user_op))</td><td class="diffline">98 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>update_ops.append(v.scatter_update(user_op))</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">95 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>elif<span class="dp">·</span>(</td><td class="diffline">99 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>elif<span class="dp">·</span>(</td></tr>
<tr class="diffunmodified"><td class="diffline">96 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>optimizer_item_variables<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None</td><td class="diffline">100 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>optimizer_item_variables<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">97 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>and<span class="dp">·</span>v.name<span class="dp">·</span>in<span class="dp">·</span>optimizer_item_variables</td><td class="diffline">101 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>and<span class="dp">·</span>v.name<span class="dp">·</span>in<span class="dp">·</span>optimizer_item_variables</td></tr>
<tr class="diffunmodified"><td class="diffline">98 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td><td class="diffline">102 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td></tr>
<tr class="diffchanged"><td class="diffline">99 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>old_var<span class="dp">·</span>=<span class="dp">·</span>variables[v.name][:<span class="dp">·</span><del>self.data_info.</del>old_n_items]</td><td class="diffline">103 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>old_var<span class="dp">·</span>=<span class="dp">·</span>variables[v.name][:<span class="dp">·</span>old_n_items]</td></tr>
<tr class="diffunmodified"><td class="diffline">100 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_op<span class="dp">·</span>=<span class="dp">·</span>tf.IndexedSlices(old_var,<span class="dp">·</span>tf.range(len(old_var)))</td><td class="diffline">104 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_op<span class="dp">·</span>=<span class="dp">·</span>tf.IndexedSlices(old_var,<span class="dp">·</span>tf.range(len(old_var)))</td></tr>
<tr class="diffunmodified"><td class="diffline">101 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>update_ops.append(v.scatter_update(item_op))</td><td class="diffline">105 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>update_ops.append(v.scatter_update(item_op))</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">102 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>elif<span class="dp">·</span>(</td><td class="diffline">106 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>elif<span class="dp">·</span>(</td></tr>
<tr class="diffunmodified"><td class="diffline">103 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>optimizer_sparse_variables<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None</td><td class="diffline">107 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>optimizer_sparse_variables<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td class="diffline">104 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>and<span class="dp">·</span>v.name<span class="dp">·</span>in<span class="dp">·</span>optimizer_sparse_variables</td><td class="diffline">108 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>and<span class="dp">·</span>v.name<span class="dp">·</span>in<span class="dp">·</span>optimizer_sparse_variables</td></tr>
<tr class="diffunmodified"><td class="diffline">105 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td><td class="diffline">109 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td></tr>
<tr class="diffunmodified"><td class="diffline">106 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>old_var<span class="dp">·</span>=<span class="dp">·</span>variables[v.name]</td><td class="diffline">110 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>old_var<span class="dp">·</span>=<span class="dp">·</span>variables[v.name]</td></tr>
<tr class="diffunmodified"><td class="diffline">107 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>remove<span class="dp">·</span>oov<span class="dp">·</span>values</td><td class="diffline">111 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>remove<span class="dp">·</span>oov<span class="dp">·</span>values</td></tr>
<tr class="diffchanged"><td class="diffline">108 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>old_var<span class="dp">·</span>=<span class="dp">·</span>np.delete(old_var,<span class="dp">·</span><del>self.data_info.</del>old_sparse_oov,<span class="dp">·</span>axis=0)</td><td class="diffline">112 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>old_var<span class="dp">·</span>=<span class="dp">·</span>np.delete(old_var,<span class="dp">·</span>old_sparse_oov,<span class="dp">·</span>axis=0)</td></tr>
<tr class="diffunmodified"><td class="diffline">109 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>indices<span class="dp">·</span>=<span class="dp">·</span>[]</td><td class="diffline">113 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>indices<span class="dp">·</span>=<span class="dp">·</span>[]</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">114 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>offset,<span class="dp">·</span>size<span class="dp">·</span>in<span class="dp">·</span>zip(sparse_offset,<span class="dp">·</span>old_sparse_len):</td></tr>
<tr class="diffdeleted"><td class="diffline">110 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>offset,<span class="dp">·</span>size<span class="dp">·</span>in<span class="dp">·</span>zip(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">111 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.data_info.sparse_offset,<span class="dp">·</span>self.data_info.old_sparse_len</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">112 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">113 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>size<span class="dp">·</span>!=<span class="dp">·</span>-1:</td><td class="diffline">115 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>size<span class="dp">·</span>!=<span class="dp">·</span>-1:</td></tr>
<tr class="diffunmodified"><td class="diffline">114 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>indices.extend(range(offset,<span class="dp">·</span>offset<span class="dp">·</span>+<span class="dp">·</span>size))</td><td class="diffline">116 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>indices.extend(range(offset,<span class="dp">·</span>offset<span class="dp">·</span>+<span class="dp">·</span>size))</td></tr>
<tr class="diffunmodified"><td class="diffline">115 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_op<span class="dp">·</span>=<span class="dp">·</span>tf.IndexedSlices(old_var,<span class="dp">·</span>indices)</td><td class="diffline">117 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_op<span class="dp">·</span>=<span class="dp">·</span>tf.IndexedSlices(old_var,<span class="dp">·</span>indices)</td></tr>
<tr class="diffunmodified"><td class="diffline">116 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>update_ops.append(v.scatter_update(sparse_op))</td><td class="diffline">118 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>update_ops.append(v.scatter_update(sparse_op))</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">117 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>elif<span class="dp">·</span>(</td><td class="diffline">119 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>elif<span class="dp">·</span>(</td></tr>
<tr class="diffunmodified"><td class="diffline">118 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>optimizer_dense_variables<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None</td><td class="diffline">120 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>optimizer_dense_variables<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None</td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">133 B</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/tfops/variables.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-tfops-variables.py"><span class="source">LibRecommender-1.1.0/libreco/tfops/variables.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-tfops-variables.py">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">828 B</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/torchops/__init__.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-torchops-__init__.py"><span class="source">LibRecommender-1.1.0/libreco/torchops/__init__.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-torchops-__init__.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 18% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 9 lines modified</td><td colspan="2">Offset 1, 8 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">1 </td><td class="diffpresent">from<span class="dp">·</span>.configs<span class="dp">·</span>import<span class="dp">·</span>device_config,<span class="dp">·</span>hidden_units_config</td><td class="diffline">1 </td><td class="diffpresent">from<span class="dp">·</span>.configs<span class="dp">·</span>import<span class="dp">·</span>device_config,<span class="dp">·</span>hidden_units_config</td></tr>
<tr class="diffdeleted"><td class="diffline">2 </td><td class="diffpresent">from<span class="dp">·</span>.features<span class="dp">·</span>import<span class="dp">·</span>feat_to_tensor,<span class="dp">·</span>item_unique_to_tensor,<span class="dp">·</span>user_unique_to_tensor</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">3 </td><td class="diffpresent">from<span class="dp">·</span>.loss<span class="dp">·</span>import<span class="dp">·</span>(</td><td class="diffline">2 </td><td class="diffpresent">from<span class="dp">·</span>.loss<span class="dp">·</span>import<span class="dp">·</span>(</td></tr>
<tr class="diffunmodified"><td class="diffline">4 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>binary_cross_entropy_loss,</td><td class="diffline">3 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>binary_cross_entropy_loss,</td></tr>
<tr class="diffunmodified"><td class="diffline">5 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>bpr_loss,</td><td class="diffline">4 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>bpr_loss,</td></tr>
<tr class="diffunmodified"><td class="diffline">6 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>compute_pair_scores,</td><td class="diffline">5 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>compute_pair_scores,</td></tr>
<tr class="diffunmodified"><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>focal_loss,</td><td class="diffline">6 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>focal_loss,</td></tr>
<tr class="diffunmodified"><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>max_margin_loss,</td><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>max_margin_loss,</td></tr>
<tr class="diffunmodified"><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>pairwise_bce_loss,</td><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>pairwise_bce_loss,</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 13, 16 lines modified</td><td colspan="2">Offset 12, 13 lines modified</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">13 </td><td class="diffpresent">__all__<span class="dp">·</span>=<span class="dp">·</span>[</td><td class="diffline">12 </td><td class="diffpresent">__all__<span class="dp">·</span>=<span class="dp">·</span>[</td></tr>
<tr class="diffunmodified"><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;binary_cross_entropy_loss&quot;,</td><td class="diffline">13 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;binary_cross_entropy_loss&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;bpr_loss&quot;,</td><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;bpr_loss&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;compute_pair_scores&quot;,</td><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;compute_pair_scores&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;device_config&quot;,</td><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;device_config&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;hidden_units_config&quot;,</td><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;hidden_units_config&quot;,</td></tr>
<tr class="diffdeleted"><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;feat_to_tensor&quot;,</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;focal_loss&quot;,</td><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;focal_loss&quot;,</td></tr>
<tr class="diffdeleted"><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;item_unique_to_tensor&quot;,</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;max_margin_loss&quot;,</td><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;max_margin_loss&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;pairwise_bce_loss&quot;,</td><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;pairwise_bce_loss&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;pairwise_focal_loss&quot;,</td><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;pairwise_focal_loss&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;rebuild_torch_model&quot;,</td><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;rebuild_torch_model&quot;,</td></tr>
<tr class="diffdeleted"><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;user_unique_to_tensor&quot;,</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">27 </td><td class="diffpresent">]</td><td class="diffline">23 </td><td class="diffpresent">]</td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">135 B</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/torchops/configs.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-torchops-configs.py"><span class="source">LibRecommender-1.1.0/libreco/torchops/configs.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-torchops-configs.py">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">1.56 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/torchops/loss.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-torchops-loss.py"><span class="source">LibRecommender-1.1.0/libreco/torchops/loss.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-torchops-loss.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 10% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 33, 31 lines modified</td><td colspan="2">Offset 33, 41 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">33 </td><td class="diffpresent">def<span class="dp">·</span>pairwise_bce_loss(pos_scores,<span class="dp">·</span>neg_scores,<span class="dp">·</span>mean=True):</td><td class="diffline">33 </td><td class="diffpresent">def<span class="dp">·</span>pairwise_bce_loss(pos_scores,<span class="dp">·</span>neg_scores,<span class="dp">·</span>mean=True):</td></tr>
<tr class="diffunmodified"><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>pos_bce<span class="dp">·</span>=<span class="dp">·</span>F.binary_cross_entropy_with_logits(</td><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>pos_bce<span class="dp">·</span>=<span class="dp">·</span>F.binary_cross_entropy_with_logits(</td></tr>
<tr class="diffunmodified"><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>pos_scores,<span class="dp">·</span>torch.ones_like(pos_scores),<span class="dp">·</span>reduction=&quot;none&quot;</td><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>pos_scores,<span class="dp">·</span>torch.ones_like(pos_scores),<span class="dp">·</span>reduction=&quot;none&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neg_bce<span class="dp">·</span>=<span class="dp">·</span>F.binary_cross_entropy_with_logits(</td><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neg_bce<span class="dp">·</span>=<span class="dp">·</span>F.binary_cross_entropy_with_logits(</td></tr>
<tr class="diffunmodified"><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neg_scores,<span class="dp">·</span>torch.zeros_like(neg_scores),<span class="dp">·</span>reduction=&quot;none&quot;</td><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neg_scores,<span class="dp">·</span>torch.zeros_like(neg_scores),<span class="dp">·</span>reduction=&quot;none&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>pos_bce<span class="dp">·</span>=<span class="dp">·</span>_check_dim(pos_bce)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neg_bce<span class="dp">·</span>=<span class="dp">·</span>_check_dim(neg_bce)</td></tr>
<tr class="diffunmodified"><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>loss<span class="dp">·</span>=<span class="dp">·</span>torch.cat([pos_bce,<span class="dp">·</span>neg_bce])</td><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>loss<span class="dp">·</span>=<span class="dp">·</span>torch.cat([pos_bce,<span class="dp">·</span>neg_bce])</td></tr>
<tr class="diffunmodified"><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>mean:</td><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>mean:</td></tr>
<tr class="diffunmodified"><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>torch.mean(loss)</td><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>torch.mean(loss)</td></tr>
<tr class="diffunmodified"><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else:</td><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else:</td></tr>
<tr class="diffunmodified"><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>torch.sum(loss)</td><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>torch.sum(loss)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">45 </td><td class="diffpresent">def<span class="dp">·</span>pairwise_focal_loss(pos_scores,<span class="dp">·</span>neg_scores,<span class="dp">·</span>mean=True):</td><td class="diffline">47 </td><td class="diffpresent">def<span class="dp">·</span>pairwise_focal_loss(pos_scores,<span class="dp">·</span>neg_scores,<span class="dp">·</span>mean=True):</td></tr>
<tr class="diffunmodified"><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>pos_focal<span class="dp">·</span>=<span class="dp">·</span>focal_loss(pos_scores,<span class="dp">·</span>torch.ones_like(pos_scores),<span class="dp">·</span>mean=False)</td><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>pos_focal<span class="dp">·</span>=<span class="dp">·</span>focal_loss(pos_scores,<span class="dp">·</span>torch.ones_like(pos_scores),<span class="dp">·</span>mean=False)</td></tr>
<tr class="diffunmodified"><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neg_focal<span class="dp">·</span>=<span class="dp">·</span>focal_loss(neg_scores,<span class="dp">·</span>torch.zeros_like(neg_scores),<span class="dp">·</span>mean=False)</td><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neg_focal<span class="dp">·</span>=<span class="dp">·</span>focal_loss(neg_scores,<span class="dp">·</span>torch.zeros_like(neg_scores),<span class="dp">·</span>mean=False)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>pos_focal<span class="dp">·</span>=<span class="dp">·</span>_check_dim(pos_focal)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neg_focal<span class="dp">·</span>=<span class="dp">·</span>_check_dim(neg_focal)</td></tr>
<tr class="diffunmodified"><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>loss<span class="dp">·</span>=<span class="dp">·</span>torch.cat([pos_focal,<span class="dp">·</span>neg_focal])</td><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>loss<span class="dp">·</span>=<span class="dp">·</span>torch.cat([pos_focal,<span class="dp">·</span>neg_focal])</td></tr>
<tr class="diffunmodified"><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>mean:</td><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>mean:</td></tr>
<tr class="diffunmodified"><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>torch.mean(loss)</td><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>torch.mean(loss)</td></tr>
<tr class="diffunmodified"><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else:</td><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else:</td></tr>
<tr class="diffunmodified"><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>torch.sum(loss)</td><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>torch.sum(loss)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">57 </td><td class="diffpresent">def<span class="dp">·</span>_check_dim(tensor):<span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>pragma:<span class="dp">·</span>no<span class="dp">·</span>cover</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>tensor.dim()<span class="dp">·</span>==<span class="dp">·</span>0:</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tensor<span class="dp">·</span>=<span class="dp">·</span>tensor.unsqueeze(0)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>tensor</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">53 </td><td class="diffpresent">def<span class="dp">·</span>compute_pair_scores(targets,<span class="dp">·</span>items_pos,<span class="dp">·</span>items_neg,<span class="dp">·</span>repeat_positives=True):</td><td class="diffline">61 </td><td class="diffpresent">def<span class="dp">·</span>compute_pair_scores(targets,<span class="dp">·</span>items_pos,<span class="dp">·</span>items_neg,<span class="dp">·</span>repeat_positives=True):</td></tr>
<tr class="diffunmodified"><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>len(targets)<span class="dp">·</span>==<span class="dp">·</span>len(items_pos)<span class="dp">·</span>==<span class="dp">·</span>len(items_neg):</td><td class="diffline">62 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>len(targets)<span class="dp">·</span>==<span class="dp">·</span>len(items_pos)<span class="dp">·</span>==<span class="dp">·</span>len(items_neg):</td></tr>
<tr class="diffunmodified"><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>pos_scores<span class="dp">·</span>=<span class="dp">·</span>torch.sum(torch.mul(targets,<span class="dp">·</span>items_pos),<span class="dp">·</span>dim=1)</td><td class="diffline">63 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>pos_scores<span class="dp">·</span>=<span class="dp">·</span>torch.sum(torch.mul(targets,<span class="dp">·</span>items_pos),<span class="dp">·</span>dim=1)</td></tr>
<tr class="diffunmodified"><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neg_scores<span class="dp">·</span>=<span class="dp">·</span>torch.sum(torch.mul(targets,<span class="dp">·</span>items_neg),<span class="dp">·</span>dim=1)</td><td class="diffline">64 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neg_scores<span class="dp">·</span>=<span class="dp">·</span>torch.sum(torch.mul(targets,<span class="dp">·</span>items_neg),<span class="dp">·</span>dim=1)</td></tr>
<tr class="diffunmodified"><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>pos_scores,<span class="dp">·</span>neg_scores</td><td class="diffline">65 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>pos_scores,<span class="dp">·</span>neg_scores</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>len(targets)<span class="dp">·</span>!=<span class="dp">·</span>len(items_pos):</td><td class="diffline">66 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>len(targets)<span class="dp">·</span>!=<span class="dp">·</span>len(items_pos):</td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">5.3 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/torchops/rebuild.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-torchops-rebuild.py"><span class="source">LibRecommender-1.1.0/libreco/torchops/rebuild.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-torchops-rebuild.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 11% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 8 lines modified</td><td colspan="2">Offset 1, 10 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">1 </td><td class="diffpresent">&quot;&quot;&quot;Rebuild<span class="dp">·</span>PyTorch<span class="dp">·</span>models.&quot;&quot;&quot;</td><td class="diffline">1 </td><td class="diffpresent">&quot;&quot;&quot;Rebuild<span class="dp">·</span>PyTorch<span class="dp">·</span>models.&quot;&quot;&quot;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">2 </td><td class="diffpresent">from<span class="dp">·</span>dataclasses<span class="dp">·</span>import<span class="dp">·</span>astuple</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>torch</td><td class="diffline">3 </td><td class="diffpresent">import<span class="dp">·</span>torch</td></tr>
<tr class="diffunmodified"><td class="diffline">3 </td><td class="diffpresent">from<span class="dp">·</span>torch<span class="dp">·</span>import<span class="dp">·</span>nn</td><td class="diffline">4 </td><td class="diffpresent">from<span class="dp">·</span>torch<span class="dp">·</span>import<span class="dp">·</span>nn</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">4 </td><td class="diffpresent">from<span class="dp">·</span>..utils.save_load<span class="dp">·</span>import<span class="dp">·</span>load_torch_state_dict</td><td class="diffline">5 </td><td class="diffpresent">from<span class="dp">·</span>..utils.save_load<span class="dp">·</span>import<span class="dp">·</span>load_torch_state_dict</td></tr>
<tr class="diffunmodified"><td class="diffline">5 </td><td class="diffpresent">from<span class="dp">·</span>..utils.validate<span class="dp">·</span>import<span class="dp">·</span>sparse_feat_size</td><td class="diffline">6 </td><td class="diffpresent">from<span class="dp">·</span>..utils.validate<span class="dp">·</span>import<span class="dp">·</span>sparse_feat_size</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffhunk"><td colspan="2">Offset 17, 15 lines modified</td><td colspan="2">Offset 19, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td></tr>
<tr class="diffunmodified"><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>path<span class="dp">·</span>:<span class="dp">·</span>str</td><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>path<span class="dp">·</span>:<span class="dp">·</span>str</td></tr>
<tr class="diffunmodified"><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>File<span class="dp">·</span>folder<span class="dp">·</span>path<span class="dp">·</span>for<span class="dp">·</span>the<span class="dp">·</span>saved<span class="dp">·</span>model<span class="dp">·</span>variables.</td><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>File<span class="dp">·</span>folder<span class="dp">·</span>path<span class="dp">·</span>for<span class="dp">·</span>the<span class="dp">·</span>saved<span class="dp">·</span>model<span class="dp">·</span>variables.</td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model_name<span class="dp">·</span>:<span class="dp">·</span>str</td><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model_name<span class="dp">·</span>:<span class="dp">·</span>str</td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Name<span class="dp">·</span>of<span class="dp">·</span>the<span class="dp">·</span>saved<span class="dp">·</span>model<span class="dp">·</span>file.</td><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Name<span class="dp">·</span>of<span class="dp">·</span>the<span class="dp">·</span>saved<span class="dp">·</span>model<span class="dp">·</span>file.</td></tr>
<tr class="diffunmodified"><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;</td><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;</td></tr>
<tr class="diffchanged"><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>from<span class="dp">·</span>..training<span class="dp">·</span>import<span class="dp">·</span>get_trainer</td><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>from<span class="dp">·</span>..training<ins>.dispatch</ins><span class="dp">·</span>import<span class="dp">·</span>get_trainer</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.model_built<span class="dp">·</span>=<span class="dp">·</span>True</td><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.model_built<span class="dp">·</span>=<span class="dp">·</span>True</td></tr>
<tr class="diffunmodified"><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.build_model()</td><td class="diffline">28 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.build_model()</td></tr>
<tr class="diffunmodified"><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.trainer<span class="dp">·</span>=<span class="dp">·</span>get_trainer(self)</td><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.trainer<span class="dp">·</span>=<span class="dp">·</span>get_trainer(self)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">28 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model_state_dict,<span class="dp">·</span>optimizer_state_dict<span class="dp">·</span>=<span class="dp">·</span>load_torch_state_dict(</td><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model_state_dict,<span class="dp">·</span>optimizer_state_dict<span class="dp">·</span>=<span class="dp">·</span>load_torch_state_dict(</td></tr>
<tr class="diffunmodified"><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>path,<span class="dp">·</span>model_name,<span class="dp">·</span>self.device</td><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>path,<span class="dp">·</span>model_name,<span class="dp">·</span>self.device</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 44, 63 lines modified</td><td colspan="2">Offset 46, 74 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>elif<span class="dp">·</span>&quot;sparse&quot;<span class="dp">·</span>in<span class="dp">·</span>name<span class="dp">·</span>and<span class="dp">·</span>&quot;embed&quot;<span class="dp">·</span>in<span class="dp">·</span>name:</td><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>elif<span class="dp">·</span>&quot;sparse&quot;<span class="dp">·</span>in<span class="dp">·</span>name<span class="dp">·</span>and<span class="dp">·</span>&quot;embed&quot;<span class="dp">·</span>in<span class="dp">·</span>name:</td></tr>
<tr class="diffunmodified"><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_param_indices.append(i)</td><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_param_indices.append(i)</td></tr>
<tr class="diffunmodified"><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_params[name]<span class="dp">·</span>=<span class="dp">·</span>model_state_dict.pop(name)</td><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_params[name]<span class="dp">·</span>=<span class="dp">·</span>model_state_dict.pop(name)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>`strict=False`<span class="dp">·</span>ignores<span class="dp">·</span>non-matching<span class="dp">·</span>keys</td><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>`strict=False`<span class="dp">·</span>ignores<span class="dp">·</span>non-matching<span class="dp">·</span>keys</td></tr>
<tr class="diffunmodified"><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.torch_model.load_state_dict(model_state_dict,<span class="dp">·</span>strict=False)</td><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.torch_model.load_state_dict(model_state_dict,<span class="dp">·</span>strict=False)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_offset<span class="dp">·</span>=<span class="dp">·</span>self.data_info.sparse_offset</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>old_n_users,<span class="dp">·</span>old_n_items,<span class="dp">·</span>old_sparse_len,<span class="dp">·</span>old_sparse_oov,<span class="dp">·</span>_<span class="dp">·</span>=<span class="dp">·</span>astuple(</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.data_info.old_info</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>name,<span class="dp">·</span>param<span class="dp">·</span>in<span class="dp">·</span>self.torch_model.named_parameters():</td><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>name,<span class="dp">·</span>param<span class="dp">·</span>in<span class="dp">·</span>self.torch_model.named_parameters():</td></tr>
<tr class="diffunmodified"><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>name<span class="dp">·</span>in<span class="dp">·</span>user_params:</td><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>name<span class="dp">·</span>in<span class="dp">·</span>user_params:</td></tr>
<tr class="diffchanged"><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>index<span class="dp">·</span>=<span class="dp">·</span>torch.arange(<del>self.data_info.</del>old_n_users,<span class="dp">·</span>device=self.device)</td><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>index<span class="dp">·</span>=<span class="dp">·</span>torch.arange(old_n_users,<span class="dp">·</span>device=self.device)</td></tr>
<tr class="diffunmodified"><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>param.index_copy_(0,<span class="dp">·</span>index,<span class="dp">·</span>user_params[name])</td><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>param.index_copy_(0,<span class="dp">·</span>index,<span class="dp">·</span>user_params[name])</td></tr>
<tr class="diffunmodified"><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>elif<span class="dp">·</span>name<span class="dp">·</span>in<span class="dp">·</span>item_params:</td><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>elif<span class="dp">·</span>name<span class="dp">·</span>in<span class="dp">·</span>item_params:</td></tr>
<tr class="diffchanged"><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>index<span class="dp">·</span>=<span class="dp">·</span>torch.arange(<del>self.data_info.</del>old_n_items,<span class="dp">·</span>device=self.device)</td><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>index<span class="dp">·</span>=<span class="dp">·</span>torch.arange(old_n_items,<span class="dp">·</span>device=self.device)</td></tr>
<tr class="diffunmodified"><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>param.index_copy_(0,<span class="dp">·</span>index,<span class="dp">·</span>item_params[name])</td><td class="diffline">61 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>param.index_copy_(0,<span class="dp">·</span>index,<span class="dp">·</span>item_params[name])</td></tr>
<tr class="diffunmodified"><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>elif<span class="dp">·</span>name<span class="dp">·</span>in<span class="dp">·</span>sparse_params:</td><td class="diffline">62 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>elif<span class="dp">·</span>name<span class="dp">·</span>in<span class="dp">·</span>sparse_params:</td></tr>
<tr class="diffunmodified"><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>old_indices,<span class="dp">·</span>old_values<span class="dp">·</span>=<span class="dp">·</span>get_sparse_indices_values(</td><td class="diffline">63 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>old_indices,<span class="dp">·</span>old_values<span class="dp">·</span>=<span class="dp">·</span>get_sparse_indices_values(</td></tr>
<tr class="diffchanged"><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>s<del>elf.data_info,<span class="dp">·</span>s</del>parse_<del>pa</del><del>ram</del>s<del>[nam</del>e<del>]</del>,<del><span class="dp">·</span>self.device</del></td><td class="diffline">64 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_<ins>off</ins>se<ins>t</ins>,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">65 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>old_sparse_len,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">66 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>old_sparse_oov,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">67 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_params[name],</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">68 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.device,</td></tr>
<tr class="diffunmodified"><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">69 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>param.index_copy_(0,<span class="dp">·</span>old_indices,<span class="dp">·</span>old_values)</td><td class="diffline">70 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>param.index_copy_(0,<span class="dp">·</span>old_indices,<span class="dp">·</span>old_values)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">61 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>i<span class="dp">·</span>in<span class="dp">·</span>user_param_indices:</td><td class="diffline">71 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>i<span class="dp">·</span>in<span class="dp">·</span>user_param_indices:</td></tr>
<tr class="diffunmodified"><td class="diffline">62 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>optimizer_user_state<span class="dp">·</span>=<span class="dp">·</span>optimizer_state_dict[&quot;state&quot;][i]</td><td class="diffline">72 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>optimizer_user_state<span class="dp">·</span>=<span class="dp">·</span>optimizer_state_dict[&quot;state&quot;][i]</td></tr>
<tr class="diffunmodified"><td class="diffline">63 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>assign_adam_optimizer_states(</td><td class="diffline">73 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>assign_adam_optimizer_states(</td></tr>
<tr class="diffunmodified"><td class="diffline">64 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>optimizer_user_state,</td><td class="diffline">74 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>optimizer_user_state,</td></tr>
<tr class="diffchanged"><td class="diffline">65 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>self.data_info.</del>old_n_users,</td><td class="diffline">75 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>old_n_users,</td></tr>
<tr class="diffunmodified"><td class="diffline">66 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.n_users,</td><td class="diffline">76 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.n_users,</td></tr>
<tr class="diffunmodified"><td class="diffline">67 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.embed_size,</td><td class="diffline">77 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.embed_size,</td></tr>
<tr class="diffunmodified"><td class="diffline">68 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.device,</td><td class="diffline">78 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.device,</td></tr>
<tr class="diffunmodified"><td class="diffline">69 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">79 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td class="diffline">70 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>i<span class="dp">·</span>in<span class="dp">·</span>item_param_indices:</td><td class="diffline">80 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>i<span class="dp">·</span>in<span class="dp">·</span>item_param_indices:</td></tr>
<tr class="diffunmodified"><td class="diffline">71 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>optimizer_item_state<span class="dp">·</span>=<span class="dp">·</span>optimizer_state_dict[&quot;state&quot;][i]</td><td class="diffline">81 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>optimizer_item_state<span class="dp">·</span>=<span class="dp">·</span>optimizer_state_dict[&quot;state&quot;][i]</td></tr>
<tr class="diffunmodified"><td class="diffline">72 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>assign_adam_optimizer_states(</td><td class="diffline">82 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>assign_adam_optimizer_states(</td></tr>
<tr class="diffunmodified"><td class="diffline">73 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>optimizer_item_state,</td><td class="diffline">83 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>optimizer_item_state,</td></tr>
<tr class="diffchanged"><td class="diffline">74 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>self.data_info.</del>old_n_items,</td><td class="diffline">84 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>old_n_items,</td></tr>
<tr class="diffunmodified"><td class="diffline">75 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.n_items,</td><td class="diffline">85 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.n_items,</td></tr>
<tr class="diffunmodified"><td class="diffline">76 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.embed_size,</td><td class="diffline">86 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.embed_size,</td></tr>
<tr class="diffunmodified"><td class="diffline">77 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.device,</td><td class="diffline">87 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.device,</td></tr>
<tr class="diffunmodified"><td class="diffline">78 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">88 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td class="diffline">79 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>i<span class="dp">·</span>in<span class="dp">·</span>sparse_param_indices:</td><td class="diffline">89 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>i<span class="dp">·</span>in<span class="dp">·</span>sparse_param_indices:</td></tr>
<tr class="diffunmodified"><td class="diffline">80 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>optimizer_sparse_state<span class="dp">·</span>=<span class="dp">·</span>optimizer_state_dict[&quot;state&quot;][i]</td><td class="diffline">90 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>optimizer_sparse_state<span class="dp">·</span>=<span class="dp">·</span>optimizer_state_dict[&quot;state&quot;][i]</td></tr>
<tr class="diffunmodified"><td class="diffline">81 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>assign_adam_sparse_states(</td><td class="diffline">91 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>assign_adam_sparse_states(</td></tr>
<tr class="diffunmodified"><td class="diffline">82 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>optimizer_sparse_state,<span class="dp">·</span>self.data_info,<span class="dp">·</span>self.embed_size,<span class="dp">·</span>self.device</td><td class="diffline">92 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>optimizer_sparse_state,<span class="dp">·</span>self.data_info,<span class="dp">·</span>self.embed_size,<span class="dp">·</span>self.device</td></tr>
<tr class="diffunmodified"><td class="diffline">83 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">93 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">84 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.trainer.optimizer.load_state_dict(optimizer_state_dict)</td><td class="diffline">94 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.trainer.optimizer.load_state_dict(optimizer_state_dict)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">85 </td><td class="diffpresent">def<span class="dp">·</span>get_sparse_indices_values(<del>data_info,<span class="dp">·</span>sparse_param_tensor,<span class="dp">·</span>device):</del></td><td class="diffline">95 </td><td class="diffpresent">def<span class="dp">·</span>get_sparse_indices_values(</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">96 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_offset,<span class="dp">·</span>old_sparse_len,<span class="dp">·</span>old_sparse_oov,<span class="dp">·</span>sparse_param_tensor,<span class="dp">·</span>device</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">97 </td><td class="diffpresent">):</td></tr>
<tr class="diffunmodified"><td class="diffline">86 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>indices<span class="dp">·</span>=<span class="dp">·</span>list(range(len(sparse_param_tensor)))</td><td class="diffline">98 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>indices<span class="dp">·</span>=<span class="dp">·</span>list(range(len(sparse_param_tensor)))</td></tr>
<tr class="diffunmodified"><td class="diffline">87 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>remove<span class="dp">·</span>oov<span class="dp">·</span>indices</td><td class="diffline">99 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>remove<span class="dp">·</span>oov<span class="dp">·</span>indices</td></tr>
<tr class="diffchanged"><td class="diffline">88 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>i<span class="dp">·</span>in<span class="dp">·</span><del>data_info.</del>old_sparse_oov:</td><td class="diffline">100 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>i<span class="dp">·</span>in<span class="dp">·</span>old_sparse_oov:</td></tr>
<tr class="diffunmodified"><td class="diffline">89 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>indices.remove(i)</td><td class="diffline">101 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>indices.remove(i)</td></tr>
<tr class="diffunmodified"><td class="diffline">90 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_param_tensor<span class="dp">·</span>=<span class="dp">·</span>sparse_param_tensor[indices]</td><td class="diffline">102 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_param_tensor<span class="dp">·</span>=<span class="dp">·</span>sparse_param_tensor[indices]</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">91 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>indices<span class="dp">·</span>=<span class="dp">·</span>[]</td><td class="diffline">103 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>indices<span class="dp">·</span>=<span class="dp">·</span>[]</td></tr>
<tr class="diffchanged"><td class="diffline">92 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>offset,<span class="dp">·</span>size<span class="dp">·</span>in<span class="dp">·</span>zip(<del>data_info.</del>sparse_offset,<span class="dp">·</span><del>data_info.</del>old_sparse_len):</td><td class="diffline">104 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>for<span class="dp">·</span>offset,<span class="dp">·</span>size<span class="dp">·</span>in<span class="dp">·</span>zip(sparse_offset,<span class="dp">·</span>old_sparse_len):</td></tr>
<tr class="diffunmodified"><td class="diffline">93 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>size<span class="dp">·</span>!=<span class="dp">·</span>-1:</td><td class="diffline">105 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>size<span class="dp">·</span>!=<span class="dp">·</span>-1:</td></tr>
<tr class="diffunmodified"><td class="diffline">94 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>indices.extend(range(offset,<span class="dp">·</span>offset<span class="dp">·</span>+<span class="dp">·</span>size))</td><td class="diffline">106 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>indices.extend(range(offset,<span class="dp">·</span>offset<span class="dp">·</span>+<span class="dp">·</span>size))</td></tr>
<tr class="diffunmodified"><td class="diffline">95 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>indices<span class="dp">·</span>=<span class="dp">·</span>torch.tensor(indices,<span class="dp">·</span>dtype=torch.long,<span class="dp">·</span>device=device)</td><td class="diffline">107 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>indices<span class="dp">·</span>=<span class="dp">·</span>torch.tensor(indices,<span class="dp">·</span>dtype=torch.long,<span class="dp">·</span>device=device)</td></tr>
<tr class="diffunmodified"><td class="diffline">96 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>indices,<span class="dp">·</span>sparse_param_tensor</td><td class="diffline">108 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>indices,<span class="dp">·</span>sparse_param_tensor</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">97 </td><td class="diffpresent">def<span class="dp">·</span>assign_adam_optimizer_states(state,<span class="dp">·</span>old_num,<span class="dp">·</span>new_num,<span class="dp">·</span>embed_size,<span class="dp">·</span>device):</td><td class="diffline">109 </td><td class="diffpresent">def<span class="dp">·</span>assign_adam_optimizer_states(state,<span class="dp">·</span>old_num,<span class="dp">·</span>new_num,<span class="dp">·</span>embed_size,<span class="dp">·</span>device):</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 110, 24 lines modified</td><td colspan="2">Offset 123, 26 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">110 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>state[&quot;exp_avg&quot;]<span class="dp">·</span>=<span class="dp">·</span>new_first_moment</td><td class="diffline">123 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>state[&quot;exp_avg&quot;]<span class="dp">·</span>=<span class="dp">·</span>new_first_moment</td></tr>
<tr class="diffunmodified"><td class="diffline">111 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>new_second_moment<span class="dp">·</span>=<span class="dp">·</span>nn.init.zeros_(torch.empty(new_num,<span class="dp">·</span>embed_size,<span class="dp">·</span>device=device))</td><td class="diffline">124 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>new_second_moment<span class="dp">·</span>=<span class="dp">·</span>nn.init.zeros_(torch.empty(new_num,<span class="dp">·</span>embed_size,<span class="dp">·</span>device=device))</td></tr>
<tr class="diffunmodified"><td class="diffline">112 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>new_second_moment.index_copy_(0,<span class="dp">·</span>index,<span class="dp">·</span>state[&quot;exp_avg_sq&quot;])</td><td class="diffline">125 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>new_second_moment.index_copy_(0,<span class="dp">·</span>index,<span class="dp">·</span>state[&quot;exp_avg_sq&quot;])</td></tr>
<tr class="diffunmodified"><td class="diffline">113 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>state[&quot;exp_avg_sq&quot;]<span class="dp">·</span>=<span class="dp">·</span>new_second_moment</td><td class="diffline">126 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>state[&quot;exp_avg_sq&quot;]<span class="dp">·</span>=<span class="dp">·</span>new_second_moment</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">114 </td><td class="diffpresent">def<span class="dp">·</span>assign_adam_sparse_states(state,<span class="dp">·</span>data_info,<span class="dp">·</span>embed_size,<span class="dp">·</span>device):</td><td class="diffline">127 </td><td class="diffpresent">def<span class="dp">·</span>assign_adam_sparse_states(state,<span class="dp">·</span>data_info,<span class="dp">·</span>embed_size,<span class="dp">·</span>device):</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">128 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>_,<span class="dp">·</span>_,<span class="dp">·</span>old_sparse_len,<span class="dp">·</span>old_sparse_oov,<span class="dp">·</span>_<span class="dp">·</span>=<span class="dp">·</span>astuple(data_info.old_info)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">129 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_offset<span class="dp">·</span>=<span class="dp">·</span>data_info.sparse_offset</td></tr>
<tr class="diffunmodified"><td class="diffline">115 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_size<span class="dp">·</span>=<span class="dp">·</span>sparse_feat_size(data_info)</td><td class="diffline">130 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_size<span class="dp">·</span>=<span class="dp">·</span>sparse_feat_size(data_info)</td></tr>
<tr class="diffunmodified"><td class="diffline">116 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>new_first_moment<span class="dp">·</span>=<span class="dp">·</span>nn.init.zeros_(</td><td class="diffline">131 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>new_first_moment<span class="dp">·</span>=<span class="dp">·</span>nn.init.zeros_(</td></tr>
<tr class="diffunmodified"><td class="diffline">117 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>torch.empty(sparse_size,<span class="dp">·</span>embed_size,<span class="dp">·</span>device=device)</td><td class="diffline">132 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>torch.empty(sparse_size,<span class="dp">·</span>embed_size,<span class="dp">·</span>device=device)</td></tr>
<tr class="diffunmodified"><td class="diffline">118 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">133 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td class="diffline">119 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>old_indices,<span class="dp">·</span>old_values<span class="dp">·</span>=<span class="dp">·</span>get_sparse_indices_values(</td><td class="diffline">134 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>old_indices,<span class="dp">·</span>old_values<span class="dp">·</span>=<span class="dp">·</span>get_sparse_indices_values(</td></tr>
<tr class="diffchanged"><td class="diffline">120 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>d</del>ata_<del>i</del>n<del>f</del>o,<span class="dp">·</span>state[&quot;exp_avg&quot;],<span class="dp">·</span>device</td><td class="diffline">135 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>s</ins><ins>p</ins>a<ins>rse_offse</ins>t<ins>,<span class="dp">·</span>old_sp</ins>a<ins>rse</ins>_<ins>l</ins><ins>e</ins>n<ins>,<span class="dp">·</span>old_sparse_</ins><ins>o</ins>o<ins>v</ins>,<span class="dp">·</span>state[&quot;exp_avg&quot;],<span class="dp">·</span>device</td></tr>
<tr class="diffunmodified"><td class="diffline">121 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">136 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td class="diffline">122 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>new_first_moment.index_copy_(0,<span class="dp">·</span>old_indices,<span class="dp">·</span>old_values)</td><td class="diffline">137 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>new_first_moment.index_copy_(0,<span class="dp">·</span>old_indices,<span class="dp">·</span>old_values)</td></tr>
<tr class="diffunmodified"><td class="diffline">123 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>state[&quot;exp_avg&quot;]<span class="dp">·</span>=<span class="dp">·</span>new_first_moment</td><td class="diffline">138 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>state[&quot;exp_avg&quot;]<span class="dp">·</span>=<span class="dp">·</span>new_first_moment</td></tr>
<tr class="diffunmodified"><td class="diffline">124 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>new_second_moment<span class="dp">·</span>=<span class="dp">·</span>nn.init.zeros_(</td><td class="diffline">139 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>new_second_moment<span class="dp">·</span>=<span class="dp">·</span>nn.init.zeros_(</td></tr>
<tr class="diffunmodified"><td class="diffline">125 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>torch.empty(sparse_size,<span class="dp">·</span>embed_size,<span class="dp">·</span>device=device)</td><td class="diffline">140 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>torch.empty(sparse_size,<span class="dp">·</span>embed_size,<span class="dp">·</span>device=device)</td></tr>
<tr class="diffunmodified"><td class="diffline">126 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">141 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td class="diffline">127 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>old_indices,<span class="dp">·</span>old_values<span class="dp">·</span>=<span class="dp">·</span>get_sparse_indices_values(</td><td class="diffline">142 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>old_indices,<span class="dp">·</span>old_values<span class="dp">·</span>=<span class="dp">·</span>get_sparse_indices_values(</td></tr>
<tr class="diffchanged"><td class="diffline">128 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>d</del>ata_<del>i</del>n<del>f</del>o,<span class="dp">·</span>state[&quot;exp_avg_sq&quot;],<span class="dp">·</span>device</td><td class="diffline">143 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>s</ins><ins>p</ins>a<ins>rse_offse</ins>t<ins>,<span class="dp">·</span>old_sp</ins>a<ins>rse</ins>_<ins>l</ins><ins>e</ins>n<ins>,<span class="dp">·</span>old_sparse_</ins><ins>o</ins>o<ins>v</ins>,<span class="dp">·</span>state[&quot;exp_avg_sq&quot;],<span class="dp">·</span>device</td></tr>
<tr class="diffunmodified"><td class="diffline">129 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">144 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td class="diffline">130 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>new_second_moment.index_copy_(0,<span class="dp">·</span>old_indices,<span class="dp">·</span>old_values)</td><td class="diffline">145 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>new_second_moment.index_copy_(0,<span class="dp">·</span>old_indices,<span class="dp">·</span>old_values)</td></tr>
<tr class="error"><td colspan="4">
Max diff block lines reached; 0/5289 bytes (0.00%) of diff not shown.
</td></tr></table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">34.1 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/training/torch_trainer.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-training-torch_trainer.py"><span class="source">LibRecommender-1.1.0/libreco/batch/collators.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-training-torch_trainer.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 25% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 487 lines modified</td><td colspan="2">Offset 1, 458 lines modified</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">1 </td><td class="diffpresent">import<span class="dp">·</span>random</td></tr>
<tr class="diffdeleted"><td class="diffline">1 </td><td class="diffpresent">import<span class="dp">·</span>math</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">2 </td><td class="diffpresent">from<span class="dp">·</span>statistics<span class="dp">·</span>import<span class="dp">·</span>mean</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>numpy<span class="dp">·</span>as<span class="dp">·</span>np</td></tr>
<tr class="diffunmodified"><td class="diffline">3 </td><td class="diffpresent">import<span class="dp">·</span>torch</td><td class="diffline">3 </td><td class="diffpresent">import<span class="dp">·</span>torch</td></tr>
<tr class="diffdeleted"><td class="diffline">4 </td><td class="diffpresent">from<span class="dp">·</span>torch.optim<span class="dp">·</span>import<span class="dp">·</span>Adam</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">5 </td><td class="diffpresent">from<span class="dp">·</span>torch.optim.lr_scheduler<span class="dp">·</span>import<span class="dp">·</span>CosineAnnealingWarmRestarts</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">6 </td><td class="diffpresent">from<span class="dp">·</span>..evaluation<span class="dp">·</span>import<span class="dp">·</span>print_metrics</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">7 </td><td class="diffpresent">from<span class="dp">·</span>..graph<span class="dp">·</span>import<span class="dp">·</span>build_subgraphs,<span class="dp">·</span>compute_i2i_edge_scores,<span class="dp">·</span>compute_u2i_edge_scores</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">8 </td><td class="diffpresent">from<span class="dp">·</span>..sampling<span class="dp">·</span>import<span class="dp">·</span>(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>DataGenerator,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>PairwiseDataGenerator,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>PairwiseRandomWalkGenerator,</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">12 </td><td class="diffpresent"><del><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Poin</del>t<del>wiseDa</del>t<del>aGene</del>r<del>a</del>t<del>o</del><del>r,</del></td><td class="diffline">4 </td><td class="diffpresent"><ins>from<span class="dp">·</span>.ba</ins>t<ins>ch_uni</ins>t<ins><span class="dp">·</span>impo</ins>rt<ins><span class="dp">·</span>(</ins></td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">5 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>PairFeats,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">6 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>PairwiseBatch,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>PointwiseBatch,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>PointwiseSepFeatBatch,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>SeqFeats,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>SparseBatch,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>SparseSeqFeats,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>TripleFeats,</td></tr>
<tr class="diffunmodified"><td class="diffline">13 </td><td class="diffpresent">)</td><td class="diffline">13 </td><td class="diffpresent">)</td></tr>
<tr class="diffdeleted"><td class="diffline">14 </td><td class="diffpresent">from<span class="dp">·</span>..torchops<span class="dp">·</span>import<span class="dp">·</span>(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>binary_cross_entropy_loss,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>bpr_loss,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>compute_pair_scores,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>focal_loss,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>max_margin_loss,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>pairwise_bce_loss,</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">21 </td><td class="diffpresent"><del><span class="dp">·</span></del><span class="dp">·</span><del><span class="dp">·</span><span class="dp">·</span>pairw</del>i<del>se_focal_loss,</del></td><td class="diffline">14 </td><td class="diffpresent"><ins>fro</ins><ins>m</ins><span class="dp">·</span><ins>.enums<span class="dp">·</span></ins>i<ins>mport<span class="dp">·</span>FeatType</ins></td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">15 </td><td class="diffpresent">from<span class="dp">·</span>.sequence<span class="dp">·</span>import<span class="dp">·</span>get_interacted_seq,<span class="dp">·</span>get_sparse_interacted</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">16 </td><td class="diffpresent">from<span class="dp">·</span>..graph<span class="dp">·</span>import<span class="dp">·</span>build_subgraphs,<span class="dp">·</span>pairs_from_dgl_graph</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">17 </td><td class="diffpresent">from<span class="dp">·</span>..sampling<span class="dp">·</span>import<span class="dp">·</span>(</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>neg_probs_from_frequency,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>negatives_from_out_batch,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>negatives_from_popular,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>negatives_from_random,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>negatives_from_unconsumed,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>pairs_from_random_walk,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>pos_probs_from_frequency,</td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent">)</td><td class="diffline">25 </td><td class="diffpresent">)</td></tr>
<tr class="diffdeleted"><td class="diffline">23 </td><td class="diffpresent">from<span class="dp">·</span>..utils.misc<span class="dp">·</span>import<span class="dp">·</span>colorize,<span class="dp">·</span>time_block</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">24 </td><td class="diffpresent">from<span class="dp">·</span>.trainer<span class="dp">·</span>import<span class="dp">·</span>BaseTrainer</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">25 </td><td class="diffpresent">class<span class="dp">·</span><del>TorchTrainer(</del>Base<del>Trainer)</del>:</td><td class="diffline">26 </td><td class="diffpresent">class<span class="dp">·</span>Base<ins>Collator</ins>:</td></tr>
<tr class="diffunmodified"><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>__init__(</td><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>__init__(</td></tr>
<tr class="diffunmodified"><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self,</td><td class="diffline">28 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self,</td></tr>
<tr class="diffunmodified"><td class="diffline">28 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model,</td><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data_info,</td></tr>
<tr class="diffchanged"><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>t</del>a<del>s</del>k,</td><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>b</ins>a<ins>c</ins>k<ins>end</ins>,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>separate_features=False,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>temperature=0.75,</td></tr>
<tr class="diffdeleted"><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>loss_type,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_epochs,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr_decay,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>epsilon,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>amsgrad,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reg,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>num_neg,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>margin,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sampler,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>device,</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>):</td></tr>
<tr class="diffdeleted"><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>super().__init__(</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>task,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>loss_type,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>n_epochs,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>lr_decay,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>epsilon,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_size,</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del><span class="dp">·</span><span class="dp">·</span></del>n<del>um</del>_<del>n</del>e<del>g,</del></td><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>self.n_users</ins><span class="dp">·</span><ins>=</ins><span class="dp">·</span><ins>data</ins><ins>_i</ins>n<ins>fo</ins><ins>.n</ins>_<ins>u</ins><ins>s</ins>e<ins>rs</ins></td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.n_items<span class="dp">·</span>=<span class="dp">·</span>data_info.n_items</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.user_consumed<span class="dp">·</span>=<span class="dp">·</span>data_info.user_consumed</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.item_consumed<span class="dp">·</span>=<span class="dp">·</span>data_info.item_consumed</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.user_sparse_col_index<span class="dp">·</span>=<span class="dp">·</span>data_info.user_sparse_col.index</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.item_sparse_col_index<span class="dp">·</span>=<span class="dp">·</span>data_info.item_sparse_col.index</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.user_dense_col_index<span class="dp">·</span>=<span class="dp">·</span>data_info.user_dense_col.index</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.item_dense_col_index<span class="dp">·</span>=<span class="dp">·</span>data_info.item_dense_col.index</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.item_sparse_unique<span class="dp">·</span>=<span class="dp">·</span>data_info.item_sparse_unique</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.item_dense_unique<span class="dp">·</span>=<span class="dp">·</span>data_info.item_dense_unique</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.has_seq<span class="dp">·</span>=<span class="dp">·</span>True<span class="dp">·</span>if<span class="dp">·</span>model.model_category<span class="dp">·</span>==<span class="dp">·</span>&quot;sequence&quot;<span class="dp">·</span>else<span class="dp">·</span>False</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.seq_mode<span class="dp">·</span>=<span class="dp">·</span>model.seq_mode<span class="dp">·</span>if<span class="dp">·</span>self.has_seq<span class="dp">·</span>else<span class="dp">·</span>None</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.max_seq_len<span class="dp">·</span>=<span class="dp">·</span>model.max_seq_len<span class="dp">·</span>if<span class="dp">·</span>self.has_seq<span class="dp">·</span>else<span class="dp">·</span>None</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.separate_features<span class="dp">·</span>=<span class="dp">·</span>separate_features</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.backend<span class="dp">·</span>=<span class="dp">·</span>backend</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.seed<span class="dp">·</span>=<span class="dp">·</span>model.seed</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.temperature<span class="dp">·</span>=<span class="dp">·</span>temperature</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.user_consumed_set<span class="dp">·</span>=<span class="dp">·</span>None</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.neg_probs<span class="dp">·</span>=<span class="dp">·</span>None</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.np_rng<span class="dp">·</span>=<span class="dp">·</span>None</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>__call__(self,<span class="dp">·</span>batch):</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_batch<span class="dp">·</span>=<span class="dp">·</span>self.get_features(batch,<span class="dp">·</span>FeatType.SPARSE)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_batch<span class="dp">·</span>=<span class="dp">·</span>self.get_features(batch,<span class="dp">·</span>FeatType.DENSE)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seq_batch<span class="dp">·</span>=<span class="dp">·</span>self.get_seqs(batch[&quot;user&quot;],<span class="dp">·</span>batch[&quot;item&quot;])</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_cls<span class="dp">·</span>=<span class="dp">·</span>PointwiseSepFeatBatch<span class="dp">·</span>if<span class="dp">·</span>self.separate_features<span class="dp">·</span>else<span class="dp">·</span>PointwiseBatch</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>batch_data<span class="dp">·</span>=<span class="dp">·</span>batch_cls(</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">61 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>users=batch[&quot;user&quot;],</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">62 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>items=batch[&quot;item&quot;],</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">63 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>labels=batch[&quot;label&quot;],</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">64 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sparse_indices=sparse_batch,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">65 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>dense_values=dense_batch,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">66 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>seqs=seq_batch,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">67 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>backend=self.backend,</td></tr>
<tr class="diffunmodified"><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">68 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffdeleted"><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.amsgrad<span class="dp">·</span>=<span class="dp">·</span>amsgrad</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.reg<span class="dp">·</span>=<span class="dp">·</span>reg<span class="dp">·</span>or<span class="dp">·</span>0</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.margin<span class="dp">·</span>=<span class="dp">·</span>margin</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.sampler<span class="dp">·</span>=<span class="dp">·</span>sampler</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.device<span class="dp">·</span>=<span class="dp">·</span>device</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.torch_model<span class="dp">·</span>=<span class="dp">·</span>model.torch_model</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>self.optimizer<span class="dp">·</span>=<span class="dp">·</span>Adam(</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">61 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>pa</del>r<del>a</del><del>ms=self.</del>t<del>or</del>ch_<del>mo</del>d<del>el.par</del>a<del>me</del>t<del>ers()</del><del>,</del></td><td class="diffline">69 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>r<ins>eturn<span class="dp">·</span>ba</ins>tch_dat<ins>a</ins></td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">70 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>def<span class="dp">·</span>get_col_index(self,<span class="dp">·</span>feat_type):</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">71 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>feat_type<span class="dp">·</span>is<span class="dp">·</span>FeatType.SPARSE:</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">72 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_col_index<span class="dp">·</span>=<span class="dp">·</span>self.user_sparse_col_index</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">73 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>item_col_index<span class="dp">·</span>=<span class="dp">·</span>self.item_sparse_col_index</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">74 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>elif<span class="dp">·</span>feat_type<span class="dp">·</span>is<span class="dp">·</span>FeatType.DENSE:</td></tr>
<tr class="error"><td colspan="4">
Max diff block lines reached; 28948/34791 bytes (83.21%) of diff not shown.
</td></tr></table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">67.2 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/utils/_similarities.cpp</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-utils-_similarities.cpp"><span class="source">LibRecommender-1.1.0/libreco/utils/_similarities.cpp</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-utils-_similarities.cpp">¶</a>
      </div>
      </div>
      <div class="comment">Files 1% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 33 lines modified</td><td colspan="2">Offset 1, 33 lines modified</td></tr>
<tr class="diffchanged"><td class="diffline">1 </td><td class="diffpresent">/*<span class="dp">·</span>Generated<span class="dp">·</span>by<span class="dp">·</span>Cython<span class="dp">·</span>0.29.3<del>3</del><span class="dp">·</span>*/</td><td class="diffline">1 </td><td class="diffpresent">/*<span class="dp">·</span>Generated<span class="dp">·</span>by<span class="dp">·</span>Cython<span class="dp">·</span>0.29.3<ins>4</ins><span class="dp">·</span>*/</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">2 </td><td class="diffpresent">/*<span class="dp">·</span>BEGIN:<span class="dp">·</span>Cython<span class="dp">·</span>Metadata</td><td class="diffline">2 </td><td class="diffpresent">/*<span class="dp">·</span>BEGIN:<span class="dp">·</span>Cython<span class="dp">·</span>Metadata</td></tr>
<tr class="diffunmodified"><td class="diffline">3 </td><td class="diffpresent">{</td><td class="diffline">3 </td><td class="diffpresent">{</td></tr>
<tr class="diffunmodified"><td class="diffline">4 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;distutils&quot;:<span class="dp">·</span>{</td><td class="diffline">4 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;distutils&quot;:<span class="dp">·</span>{</td></tr>
<tr class="diffunmodified"><td class="diffline">5 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;depends&quot;:<span class="dp">·</span>[</td><td class="diffline">5 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;depends&quot;:<span class="dp">·</span>[</td></tr>
<tr class="diffchanged"><td class="diffline">6 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;/tmp/build-env-<del>glkoam</del>7<del>d</del>/lib/python3.8/site-packages/numpy/core/include/numpy/arrayobject.h&quot;,</td><td class="diffline">6 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;/tmp/build-env-<ins>y58uqb</ins>7<ins>6</ins>/lib/python3.8/site-packages/numpy/core/include/numpy/arrayobject.h&quot;,</td></tr>
<tr class="diffchanged"><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;/tmp/build-env-<del>glkoam</del>7<del>d</del>/lib/python3.8/site-packages/numpy/core/include/numpy/arrayscalars.h&quot;,</td><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;/tmp/build-env-<ins>y58uqb</ins>7<ins>6</ins>/lib/python3.8/site-packages/numpy/core/include/numpy/arrayscalars.h&quot;,</td></tr>
<tr class="diffchanged"><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;/tmp/build-env-<del>glkoam</del>7<del>d</del>/lib/python3.8/site-packages/numpy/core/include/numpy/ndarrayobject.h&quot;,</td><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;/tmp/build-env-<ins>y58uqb</ins>7<ins>6</ins>/lib/python3.8/site-packages/numpy/core/include/numpy/ndarrayobject.h&quot;,</td></tr>
<tr class="diffchanged"><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;/tmp/build-env-<del>glkoam</del>7<del>d</del>/lib/python3.8/site-packages/numpy/core/include/numpy/ndarraytypes.h&quot;,</td><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;/tmp/build-env-<ins>y58uqb</ins>7<ins>6</ins>/lib/python3.8/site-packages/numpy/core/include/numpy/ndarraytypes.h&quot;,</td></tr>
<tr class="diffchanged"><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;/tmp/build-env-<del>glkoam</del>7<del>d</del>/lib/python3.8/site-packages/numpy/core/include/numpy/ufuncobject.h&quot;</td><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;/tmp/build-env-<ins>y58uqb</ins>7<ins>6</ins>/lib/python3.8/site-packages/numpy/core/include/numpy/ufuncobject.h&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>],</td><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>],</td></tr>
<tr class="diffunmodified"><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;extra_compile_args&quot;:<span class="dp">·</span>[</td><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;extra_compile_args&quot;:<span class="dp">·</span>[</td></tr>
<tr class="diffunmodified"><td class="diffline">13 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;-Wno-unused-function&quot;,</td><td class="diffline">13 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;-Wno-unused-function&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;-Wno-maybe-uninitialized&quot;,</td><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;-Wno-maybe-uninitialized&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;-O3&quot;,</td><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;-O3&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;-ffast-math&quot;,</td><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;-ffast-math&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;-fopenmp&quot;,</td><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;-fopenmp&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;-std=c++11&quot;</td><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;-std=c++11&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>],</td><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>],</td></tr>
<tr class="diffunmodified"><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;extra_link_args&quot;:<span class="dp">·</span>[</td><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;extra_link_args&quot;:<span class="dp">·</span>[</td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;-fopenmp&quot;,</td><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;-fopenmp&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;-std=c++11&quot;</td><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;-std=c++11&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>],</td><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>],</td></tr>
<tr class="diffunmodified"><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;include_dirs&quot;:<span class="dp">·</span>[</td><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;include_dirs&quot;:<span class="dp">·</span>[</td></tr>
<tr class="diffchanged"><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;/tmp/build-env-<del>glkoam</del>7<del>d</del>/lib/python3.8/site-packages/numpy/core/include&quot;</td><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;/tmp/build-env-<ins>y58uqb</ins>7<ins>6</ins>/lib/python3.8/site-packages/numpy/core/include&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>],</td><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>],</td></tr>
<tr class="diffunmodified"><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;language&quot;:<span class="dp">·</span>&quot;c++&quot;,</td><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;language&quot;:<span class="dp">·</span>&quot;c++&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">28 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;name&quot;:<span class="dp">·</span>&quot;libreco.utils._similarities&quot;,</td><td class="diffline">28 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;name&quot;:<span class="dp">·</span>&quot;libreco.utils._similarities&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;sources&quot;:<span class="dp">·</span>[</td><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;sources&quot;:<span class="dp">·</span>[</td></tr>
<tr class="diffunmodified"><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;libreco/utils/_similarities.pyx&quot;</td><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;libreco/utils/_similarities.pyx&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>]</td><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>]</td></tr>
<tr class="diffunmodified"><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},</td><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 40, 16 lines modified</td><td colspan="2">Offset 40, 16 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">40 </td><td class="diffpresent">#endif<span class="dp">·</span>/*<span class="dp">·</span>PY_SSIZE_T_CLEAN<span class="dp">·</span>*/</td><td class="diffline">40 </td><td class="diffpresent">#endif<span class="dp">·</span>/*<span class="dp">·</span>PY_SSIZE_T_CLEAN<span class="dp">·</span>*/</td></tr>
<tr class="diffunmodified"><td class="diffline">41 </td><td class="diffpresent">#include<span class="dp">·</span>&quot;Python.h&quot;</td><td class="diffline">41 </td><td class="diffpresent">#include<span class="dp">·</span>&quot;Python.h&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">42 </td><td class="diffpresent">#ifndef<span class="dp">·</span>Py_PYTHON_H</td><td class="diffline">42 </td><td class="diffpresent">#ifndef<span class="dp">·</span>Py_PYTHON_H</td></tr>
<tr class="diffunmodified"><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#error<span class="dp">·</span>Python<span class="dp">·</span>headers<span class="dp">·</span>needed<span class="dp">·</span>to<span class="dp">·</span>compile<span class="dp">·</span>C<span class="dp">·</span>extensions,<span class="dp">·</span>please<span class="dp">·</span>install<span class="dp">·</span>development<span class="dp">·</span>version<span class="dp">·</span>of<span class="dp">·</span>Python.</td><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#error<span class="dp">·</span>Python<span class="dp">·</span>headers<span class="dp">·</span>needed<span class="dp">·</span>to<span class="dp">·</span>compile<span class="dp">·</span>C<span class="dp">·</span>extensions,<span class="dp">·</span>please<span class="dp">·</span>install<span class="dp">·</span>development<span class="dp">·</span>version<span class="dp">·</span>of<span class="dp">·</span>Python.</td></tr>
<tr class="diffunmodified"><td class="diffline">44 </td><td class="diffpresent">#elif<span class="dp">·</span>PY_VERSION_HEX<span class="dp">·</span>&lt;<span class="dp">·</span>0x02060000<span class="dp">·</span>||<span class="dp">·</span>(0x03000000<span class="dp">·</span>&lt;=<span class="dp">·</span>PY_VERSION_HEX<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>PY_VERSION_HEX<span class="dp">·</span>&lt;<span class="dp">·</span>0x03030000)</td><td class="diffline">44 </td><td class="diffpresent">#elif<span class="dp">·</span>PY_VERSION_HEX<span class="dp">·</span>&lt;<span class="dp">·</span>0x02060000<span class="dp">·</span>||<span class="dp">·</span>(0x03000000<span class="dp">·</span>&lt;=<span class="dp">·</span>PY_VERSION_HEX<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>PY_VERSION_HEX<span class="dp">·</span>&lt;<span class="dp">·</span>0x03030000)</td></tr>
<tr class="diffunmodified"><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#error<span class="dp">·</span>Cython<span class="dp">·</span>requires<span class="dp">·</span>Python<span class="dp">·</span>2.6+<span class="dp">·</span>or<span class="dp">·</span>Python<span class="dp">·</span>3.3+.</td><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#error<span class="dp">·</span>Cython<span class="dp">·</span>requires<span class="dp">·</span>Python<span class="dp">·</span>2.6+<span class="dp">·</span>or<span class="dp">·</span>Python<span class="dp">·</span>3.3+.</td></tr>
<tr class="diffunmodified"><td class="diffline">46 </td><td class="diffpresent">#else</td><td class="diffline">46 </td><td class="diffpresent">#else</td></tr>
<tr class="diffchanged"><td class="diffline">47 </td><td class="diffpresent">#define<span class="dp">·</span>CYTHON_ABI<span class="dp">·</span>&quot;0_29_3<del>3</del>&quot;</td><td class="diffline">47 </td><td class="diffpresent">#define<span class="dp">·</span>CYTHON_ABI<span class="dp">·</span>&quot;0_29_3<ins>4</ins>&quot;</td></tr>
<tr class="diffchanged"><td class="diffline">48 </td><td class="diffpresent">#define<span class="dp">·</span>CYTHON_HEX_VERSION<span class="dp">·</span>0x001D2<del>1</del>F0</td><td class="diffline">48 </td><td class="diffpresent">#define<span class="dp">·</span>CYTHON_HEX_VERSION<span class="dp">·</span>0x001D2<ins>2</ins>F0</td></tr>
<tr class="diffunmodified"><td class="diffline">49 </td><td class="diffpresent">#define<span class="dp">·</span>CYTHON_FUTURE_DIVISION<span class="dp">·</span>1</td><td class="diffline">49 </td><td class="diffpresent">#define<span class="dp">·</span>CYTHON_FUTURE_DIVISION<span class="dp">·</span>1</td></tr>
<tr class="diffunmodified"><td class="diffline">50 </td><td class="diffpresent">#include<span class="dp">·</span>&lt;stddef.h&gt;</td><td class="diffline">50 </td><td class="diffpresent">#include<span class="dp">·</span>&lt;stddef.h&gt;</td></tr>
<tr class="diffunmodified"><td class="diffline">51 </td><td class="diffpresent">#ifndef<span class="dp">·</span>offsetof</td><td class="diffline">51 </td><td class="diffpresent">#ifndef<span class="dp">·</span>offsetof</td></tr>
<tr class="diffunmodified"><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>offsetof(type,<span class="dp">·</span>member)<span class="dp">·</span>(<span class="dp">·</span>(size_t)<span class="dp">·</span>&amp;<span class="dp">·</span>((type*)0)<span class="dp">·</span>-&gt;<span class="dp">·</span>member<span class="dp">·</span>)</td><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>offsetof(type,<span class="dp">·</span>member)<span class="dp">·</span>(<span class="dp">·</span>(size_t)<span class="dp">·</span>&amp;<span class="dp">·</span>((type*)0)<span class="dp">·</span>-&gt;<span class="dp">·</span>member<span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td class="diffline">53 </td><td class="diffpresent">#endif</td><td class="diffline">53 </td><td class="diffpresent">#endif</td></tr>
<tr class="diffunmodified"><td class="diffline">54 </td><td class="diffpresent">#if<span class="dp">·</span>!defined(WIN32)<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>!defined(MS_WINDOWS)</td><td class="diffline">54 </td><td class="diffpresent">#if<span class="dp">·</span>!defined(WIN32)<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>!defined(MS_WINDOWS)</td></tr>
<tr class="diffunmodified"><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#ifndef<span class="dp">·</span>__stdcall</td><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#ifndef<span class="dp">·</span>__stdcall</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 234, 15 lines modified</td><td colspan="2">Offset 234, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">234 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#elif<span class="dp">·</span>!defined(CYTHON_USE_ASYNC_SLOTS)</td><td class="diffline">234 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#elif<span class="dp">·</span>!defined(CYTHON_USE_ASYNC_SLOTS)</td></tr>
<tr class="diffunmodified"><td class="diffline">235 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_ASYNC_SLOTS<span class="dp">·</span>1</td><td class="diffline">235 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_ASYNC_SLOTS<span class="dp">·</span>1</td></tr>
<tr class="diffunmodified"><td class="diffline">236 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td><td class="diffline">236 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td></tr>
<tr class="diffunmodified"><td class="diffline">237 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#if<span class="dp">·</span>PY_VERSION_HEX<span class="dp">·</span>&lt;<span class="dp">·</span>0x02070000</td><td class="diffline">237 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#if<span class="dp">·</span>PY_VERSION_HEX<span class="dp">·</span>&lt;<span class="dp">·</span>0x02070000</td></tr>
<tr class="diffunmodified"><td class="diffline">238 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#undef<span class="dp">·</span>CYTHON_USE_PYLONG_INTERNALS</td><td class="diffline">238 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#undef<span class="dp">·</span>CYTHON_USE_PYLONG_INTERNALS</td></tr>
<tr class="diffunmodified"><td class="diffline">239 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_PYLONG_INTERNALS<span class="dp">·</span>0</td><td class="diffline">239 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_PYLONG_INTERNALS<span class="dp">·</span>0</td></tr>
<tr class="diffunmodified"><td class="diffline">240 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#elif<span class="dp">·</span>!defined(CYTHON_USE_PYLONG_INTERNALS)</td><td class="diffline">240 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#elif<span class="dp">·</span>!defined(CYTHON_USE_PYLONG_INTERNALS)</td></tr>
<tr class="diffchanged"><td class="diffline">241 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_PYLONG_INTERNALS<span class="dp">·</span><del>1</del></td><td class="diffline">241 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_PYLONG_INTERNALS<span class="dp">·</span><ins>(PY_VERSION_HEX<span class="dp">·</span>&lt;<span class="dp">·</span>0x030C00A5</ins><ins>)</ins></td></tr>
<tr class="diffunmodified"><td class="diffline">242 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td><td class="diffline">242 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td></tr>
<tr class="diffunmodified"><td class="diffline">243 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#ifndef<span class="dp">·</span>CYTHON_USE_PYLIST_INTERNALS</td><td class="diffline">243 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#ifndef<span class="dp">·</span>CYTHON_USE_PYLIST_INTERNALS</td></tr>
<tr class="diffunmodified"><td class="diffline">244 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_PYLIST_INTERNALS<span class="dp">·</span>1</td><td class="diffline">244 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_PYLIST_INTERNALS<span class="dp">·</span>1</td></tr>
<tr class="diffunmodified"><td class="diffline">245 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td><td class="diffline">245 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td></tr>
<tr class="diffunmodified"><td class="diffline">246 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#ifndef<span class="dp">·</span>CYTHON_USE_UNICODE_INTERNALS</td><td class="diffline">246 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#ifndef<span class="dp">·</span>CYTHON_USE_UNICODE_INTERNALS</td></tr>
<tr class="diffunmodified"><td class="diffline">247 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_UNICODE_INTERNALS<span class="dp">·</span>1</td><td class="diffline">247 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_UNICODE_INTERNALS<span class="dp">·</span>1</td></tr>
<tr class="diffunmodified"><td class="diffline">248 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td><td class="diffline">248 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 273, 15 lines modified</td><td colspan="2">Offset 273, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">273 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#ifndef<span class="dp">·</span>CYTHON_PEP489_MULTI_PHASE_INIT</td><td class="diffline">273 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#ifndef<span class="dp">·</span>CYTHON_PEP489_MULTI_PHASE_INIT</td></tr>
<tr class="diffunmodified"><td class="diffline">274 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_PEP489_MULTI_PHASE_INIT<span class="dp">·</span>(PY_VERSION_HEX<span class="dp">·</span>&gt;=<span class="dp">·</span>0x03050000)</td><td class="diffline">274 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_PEP489_MULTI_PHASE_INIT<span class="dp">·</span>(PY_VERSION_HEX<span class="dp">·</span>&gt;=<span class="dp">·</span>0x03050000)</td></tr>
<tr class="diffunmodified"><td class="diffline">275 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td><td class="diffline">275 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td></tr>
<tr class="diffunmodified"><td class="diffline">276 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#ifndef<span class="dp">·</span>CYTHON_USE_TP_FINALIZE</td><td class="diffline">276 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#ifndef<span class="dp">·</span>CYTHON_USE_TP_FINALIZE</td></tr>
<tr class="diffunmodified"><td class="diffline">277 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_TP_FINALIZE<span class="dp">·</span>(PY_VERSION_HEX<span class="dp">·</span>&gt;=<span class="dp">·</span>0x030400a1)</td><td class="diffline">277 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_TP_FINALIZE<span class="dp">·</span>(PY_VERSION_HEX<span class="dp">·</span>&gt;=<span class="dp">·</span>0x030400a1)</td></tr>
<tr class="diffunmodified"><td class="diffline">278 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td><td class="diffline">278 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td></tr>
<tr class="diffunmodified"><td class="diffline">279 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#ifndef<span class="dp">·</span>CYTHON_USE_DICT_VERSIONS</td><td class="diffline">279 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#ifndef<span class="dp">·</span>CYTHON_USE_DICT_VERSIONS</td></tr>
<tr class="diffchanged"><td class="diffline">280 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_DICT_VERSIONS<span class="dp">·</span>(PY_VERSION_HEX<span class="dp">·</span>&gt;=<span class="dp">·</span>0x030600B1)</td><td class="diffline">280 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_DICT_VERSIONS<span class="dp">·</span>(<ins>(</ins>PY_VERSION_HEX<span class="dp">·</span>&gt;=<span class="dp">·</span>0x030600B1<ins>)<span class="dp">·</span>&amp;&amp;<span class="dp">·</span>(PY_VERSION_HEX<span class="dp">·</span>&lt;<span class="dp">·</span>0x030C00A5)</ins>)</td></tr>
<tr class="diffunmodified"><td class="diffline">281 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td><td class="diffline">281 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td></tr>
<tr class="diffunmodified"><td class="diffline">282 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#if<span class="dp">·</span>PY_VERSION_HEX<span class="dp">·</span>&gt;=<span class="dp">·</span>0x030B00A4</td><td class="diffline">282 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#if<span class="dp">·</span>PY_VERSION_HEX<span class="dp">·</span>&gt;=<span class="dp">·</span>0x030B00A4</td></tr>
<tr class="diffunmodified"><td class="diffline">283 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#undef<span class="dp">·</span>CYTHON_USE_EXC_INFO_STACK</td><td class="diffline">283 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#undef<span class="dp">·</span>CYTHON_USE_EXC_INFO_STACK</td></tr>
<tr class="diffunmodified"><td class="diffline">284 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_EXC_INFO_STACK<span class="dp">·</span>0</td><td class="diffline">284 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_EXC_INFO_STACK<span class="dp">·</span>0</td></tr>
<tr class="diffunmodified"><td class="diffline">285 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#elif<span class="dp">·</span>!defined(CYTHON_USE_EXC_INFO_STACK)</td><td class="diffline">285 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#elif<span class="dp">·</span>!defined(CYTHON_USE_EXC_INFO_STACK)</td></tr>
<tr class="diffunmodified"><td class="diffline">286 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_EXC_INFO_STACK<span class="dp">·</span>(PY_VERSION_HEX<span class="dp">·</span>&gt;=<span class="dp">·</span>0x030700A3)</td><td class="diffline">286 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#define<span class="dp">·</span>CYTHON_USE_EXC_INFO_STACK<span class="dp">·</span>(PY_VERSION_HEX<span class="dp">·</span>&gt;=<span class="dp">·</span>0x030700A3)</td></tr>
<tr class="diffunmodified"><td class="diffline">287 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td><td class="diffline">287 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>#endif</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1146, 195 lines modified</td><td colspan="2">Offset 1146, 195 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">1146 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>char<span class="dp">·</span>enc_type;</td><td class="diffline">1146 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>char<span class="dp">·</span>enc_type;</td></tr>
<tr class="diffunmodified"><td class="diffline">1147 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>char<span class="dp">·</span>new_packmode;</td><td class="diffline">1147 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>char<span class="dp">·</span>new_packmode;</td></tr>
<tr class="diffunmodified"><td class="diffline">1148 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>char<span class="dp">·</span>enc_packmode;</td><td class="diffline">1148 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>char<span class="dp">·</span>enc_packmode;</td></tr>
<tr class="diffunmodified"><td class="diffline">1149 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>char<span class="dp">·</span>is_valid_array;</td><td class="diffline">1149 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span>char<span class="dp">·</span>is_valid_array;</td></tr>
<tr class="diffunmodified"><td class="diffline">1150 </td><td class="diffpresent">}<span class="dp">·</span>__Pyx_BufFmt_Context;</td><td class="diffline">1150 </td><td class="diffpresent">}<span class="dp">·</span>__Pyx_BufFmt_Context;</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">1151 </td><td class="diffpresent">/*<span class="dp">·</span>&quot;../../../../../tmp/build-env-<del>glkoam</del>7<del>d</del>/lib/python3.8/site-packages/numpy/__init__.pxd&quot;:689</td><td class="diffline">1151 </td><td class="diffpresent">/*<span class="dp">·</span>&quot;../../../../../tmp/build-env-<ins>y58uqb</ins>7<ins>6</ins>/lib/python3.8/site-packages/numpy/__init__.pxd&quot;:689</td></tr>
<tr class="diffunmodified"><td class="diffline">1152 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>#<span class="dp">·</span>in<span class="dp">·</span>Cython<span class="dp">·</span>to<span class="dp">·</span>enable<span class="dp">·</span>them<span class="dp">·</span>only<span class="dp">·</span>on<span class="dp">·</span>the<span class="dp">·</span>right<span class="dp">·</span>systems.</td><td class="diffline">1152 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>#<span class="dp">·</span>in<span class="dp">·</span>Cython<span class="dp">·</span>to<span class="dp">·</span>enable<span class="dp">·</span>them<span class="dp">·</span>only<span class="dp">·</span>on<span class="dp">·</span>the<span class="dp">·</span>right<span class="dp">·</span>systems.</td></tr>
<tr class="diffunmodified"><td class="diffline">1153 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span></td><td class="diffline">1153 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span></td></tr>
<tr class="diffunmodified"><td class="diffline">1154 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int8<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int8_t<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</td><td class="diffline">1154 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int8<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int8_t<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</td></tr>
<tr class="diffunmodified"><td class="diffline">1155 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int16<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int16_t</td><td class="diffline">1155 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int16<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int16_t</td></tr>
<tr class="diffunmodified"><td class="diffline">1156 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int32<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int32_t</td><td class="diffline">1156 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int32<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int32_t</td></tr>
<tr class="diffunmodified"><td class="diffline">1157 </td><td class="diffpresent"><span class="dp">·</span>*/</td><td class="diffline">1157 </td><td class="diffpresent"><span class="dp">·</span>*/</td></tr>
<tr class="diffunmodified"><td class="diffline">1158 </td><td class="diffpresent">typedef<span class="dp">·</span>npy_int8<span class="dp">·</span>__pyx_t_5numpy_int8_t;</td><td class="diffline">1158 </td><td class="diffpresent">typedef<span class="dp">·</span>npy_int8<span class="dp">·</span>__pyx_t_5numpy_int8_t;</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">1159 </td><td class="diffpresent">/*<span class="dp">·</span>&quot;../../../../../tmp/build-env-<del>glkoam</del>7<del>d</del>/lib/python3.8/site-packages/numpy/__init__.pxd&quot;:690</td><td class="diffline">1159 </td><td class="diffpresent">/*<span class="dp">·</span>&quot;../../../../../tmp/build-env-<ins>y58uqb</ins>7<ins>6</ins>/lib/python3.8/site-packages/numpy/__init__.pxd&quot;:690</td></tr>
<tr class="diffunmodified"><td class="diffline">1160 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span></td><td class="diffline">1160 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span></td></tr>
<tr class="diffunmodified"><td class="diffline">1161 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int8<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int8_t</td><td class="diffline">1161 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int8<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int8_t</td></tr>
<tr class="diffunmodified"><td class="diffline">1162 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int16<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int16_t<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</td><td class="diffline">1162 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int16<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int16_t<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</td></tr>
<tr class="diffunmodified"><td class="diffline">1163 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int32<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int32_t</td><td class="diffline">1163 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int32<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int32_t</td></tr>
<tr class="diffunmodified"><td class="diffline">1164 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int64<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int64_t</td><td class="diffline">1164 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int64<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int64_t</td></tr>
<tr class="diffunmodified"><td class="diffline">1165 </td><td class="diffpresent"><span class="dp">·</span>*/</td><td class="diffline">1165 </td><td class="diffpresent"><span class="dp">·</span>*/</td></tr>
<tr class="diffunmodified"><td class="diffline">1166 </td><td class="diffpresent">typedef<span class="dp">·</span>npy_int16<span class="dp">·</span>__pyx_t_5numpy_int16_t;</td><td class="diffline">1166 </td><td class="diffpresent">typedef<span class="dp">·</span>npy_int16<span class="dp">·</span>__pyx_t_5numpy_int16_t;</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">1167 </td><td class="diffpresent">/*<span class="dp">·</span>&quot;../../../../../tmp/build-env-<del>glkoam</del>7<del>d</del>/lib/python3.8/site-packages/numpy/__init__.pxd&quot;:691</td><td class="diffline">1167 </td><td class="diffpresent">/*<span class="dp">·</span>&quot;../../../../../tmp/build-env-<ins>y58uqb</ins>7<ins>6</ins>/lib/python3.8/site-packages/numpy/__init__.pxd&quot;:691</td></tr>
<tr class="diffunmodified"><td class="diffline">1168 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int8<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int8_t</td><td class="diffline">1168 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int8<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int8_t</td></tr>
<tr class="diffunmodified"><td class="diffline">1169 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int16<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int16_t</td><td class="diffline">1169 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int16<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int16_t</td></tr>
<tr class="diffunmodified"><td class="diffline">1170 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int32<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int32_t<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</td><td class="diffline">1170 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int32<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int32_t<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</td></tr>
<tr class="diffunmodified"><td class="diffline">1171 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int64<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int64_t</td><td class="diffline">1171 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int64<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int64_t</td></tr>
<tr class="diffunmodified"><td class="diffline">1172 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>#ctypedef<span class="dp">·</span>npy_int96<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int96_t</td><td class="diffline">1172 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>#ctypedef<span class="dp">·</span>npy_int96<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int96_t</td></tr>
<tr class="diffunmodified"><td class="diffline">1173 </td><td class="diffpresent"><span class="dp">·</span>*/</td><td class="diffline">1173 </td><td class="diffpresent"><span class="dp">·</span>*/</td></tr>
<tr class="diffunmodified"><td class="diffline">1174 </td><td class="diffpresent">typedef<span class="dp">·</span>npy_int32<span class="dp">·</span>__pyx_t_5numpy_int32_t;</td><td class="diffline">1174 </td><td class="diffpresent">typedef<span class="dp">·</span>npy_int32<span class="dp">·</span>__pyx_t_5numpy_int32_t;</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">1175 </td><td class="diffpresent">/*<span class="dp">·</span>&quot;../../../../../tmp/build-env-<del>glkoam</del>7<del>d</del>/lib/python3.8/site-packages/numpy/__init__.pxd&quot;:692</td><td class="diffline">1175 </td><td class="diffpresent">/*<span class="dp">·</span>&quot;../../../../../tmp/build-env-<ins>y58uqb</ins>7<ins>6</ins>/lib/python3.8/site-packages/numpy/__init__.pxd&quot;:692</td></tr>
<tr class="diffunmodified"><td class="diffline">1176 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int16<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int16_t</td><td class="diffline">1176 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int16<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int16_t</td></tr>
<tr class="diffunmodified"><td class="diffline">1177 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int32<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int32_t</td><td class="diffline">1177 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int32<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int32_t</td></tr>
<tr class="diffunmodified"><td class="diffline">1178 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int64<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int64_t<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</td><td class="diffline">1178 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>ctypedef<span class="dp">·</span>npy_int64<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int64_t<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;</td></tr>
<tr class="diffunmodified"><td class="diffline">1179 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>#ctypedef<span class="dp">·</span>npy_int96<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int96_t</td><td class="diffline">1179 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>#ctypedef<span class="dp">·</span>npy_int96<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int96_t</td></tr>
<tr class="diffunmodified"><td class="diffline">1180 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>#ctypedef<span class="dp">·</span>npy_int128<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int128_t</td><td class="diffline">1180 </td><td class="diffpresent"><span class="dp">·</span>*<span class="dp">·</span>#ctypedef<span class="dp">·</span>npy_int128<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>int128_t</td></tr>
<tr class="diffunmodified"><td class="diffline">1181 </td><td class="diffpresent"><span class="dp">·</span>*/</td><td class="diffline">1181 </td><td class="diffpresent"><span class="dp">·</span>*/</td></tr>
<tr class="diffunmodified"><td class="diffline">1182 </td><td class="diffpresent">typedef<span class="dp">·</span>npy_int64<span class="dp">·</span>__pyx_t_5numpy_int64_t;</td><td class="diffline">1182 </td><td class="diffpresent">typedef<span class="dp">·</span>npy_int64<span class="dp">·</span>__pyx_t_5numpy_int64_t;</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">1183 </td><td class="diffpresent">/*<span class="dp">·</span>&quot;../../../../../tmp/build-env-<del>glkoam</del>7<del>d</del>/lib/python3.8/site-packages/numpy/__init__.pxd&quot;:696</td><td class="diffline">1183 </td><td class="diffpresent">/*<span class="dp">·</span>&quot;../../../../../tmp/build-env-<ins>y58uqb</ins>7<ins>6</ins>/lib/python3.8/site-packages/numpy/__init__.pxd&quot;:696</td></tr>
<tr class="error"><td colspan="4">
Max diff block lines reached; 62620/68706 bytes (91.14%) of diff not shown.
</td></tr></table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">143 B</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/utils/_similarities.pyx</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-utils-_similarities.pyx"><span class="source">LibRecommender-1.1.0/libreco/utils/_similarities.pyx</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-utils-_similarities.pyx">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">1.47 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/utils/constants.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-utils-constants.py"><span class="source">LibRecommender-1.1.0/libreco/utils/constants.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-utils-constants.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 13% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 12, 18 lines modified</td><td colspan="2">Offset 12, 18 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">12 </td><td class="diffpresent">)</td><td class="diffline">12 </td><td class="diffpresent">)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">13 </td><td class="diffpresent">FEAT_MODELS<span class="dp">·</span>=<span class="dp">·</span>(</td><td class="diffline">13 </td><td class="diffpresent">FEAT_MODELS<span class="dp">·</span>=<span class="dp">·</span>(</td></tr>
<tr class="diffunmodified"><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;WideDeep&quot;,</td><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;WideDeep&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;FM&quot;,</td><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;FM&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;DeepFM&quot;,</td><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;DeepFM&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;AutoInt&quot;,</td><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;AutoInt&quot;,</td></tr>
<tr class="diffdeleted"><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;PinSage&quot;,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;PinSageDGL&quot;,</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;GraphSage&quot;,</td><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;GraphSage&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;GraphSageDGL&quot;,</td><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;GraphSageDGL&quot;,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;PinSage&quot;,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;PinSageDGL&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent">)</td><td class="diffline">22 </td><td class="diffpresent">)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">23 </td><td class="diffpresent">SEQUENCE_MODELS<span class="dp">·</span>=<span class="dp">·</span>(</td><td class="diffline">23 </td><td class="diffpresent">SEQUENCE_MODELS<span class="dp">·</span>=<span class="dp">·</span>(</td></tr>
<tr class="diffunmodified"><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;YouTubeRetrieval&quot;,</td><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;YouTubeRetrieval&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;YouTubeRanking&quot;,</td><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;YouTubeRanking&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;DIN&quot;,</td><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;DIN&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;Item2Vec&quot;,</td><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;Item2Vec&quot;,</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 32, 18 lines modified</td><td colspan="2">Offset 32, 18 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;WaveNet&quot;,</td><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;WaveNet&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">33 </td><td class="diffpresent">)</td><td class="diffline">33 </td><td class="diffpresent">)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">34 </td><td class="diffpresent">GRAPH_MODELS<span class="dp">·</span>=<span class="dp">·</span>(</td><td class="diffline">34 </td><td class="diffpresent">GRAPH_MODELS<span class="dp">·</span>=<span class="dp">·</span>(</td></tr>
<tr class="diffunmodified"><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;DeepWalk&quot;,</td><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;DeepWalk&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;NGCF&quot;,</td><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;NGCF&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;LightGCN&quot;,</td><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;LightGCN&quot;,</td></tr>
<tr class="diffdeleted"><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;PinSage&quot;,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;PinSageDGL&quot;,</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;GraphSage&quot;,</td><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;GraphSage&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;GraphSageDGL&quot;,</td><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;GraphSageDGL&quot;,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;PinSage&quot;,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;PinSageDGL&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">42 </td><td class="diffpresent">)</td><td class="diffline">42 </td><td class="diffpresent">)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">43 </td><td class="diffpresent">TF_FEAT_MODELS<span class="dp">·</span>=<span class="dp">·</span>(</td><td class="diffline">43 </td><td class="diffpresent">TF_FEAT_MODELS<span class="dp">·</span>=<span class="dp">·</span>(</td></tr>
<tr class="diffunmodified"><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;WideDeep&quot;,</td><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;WideDeep&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;FM&quot;,</td><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;FM&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;DeepFM&quot;,</td><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;DeepFM&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;YouTubeRanking&quot;,</td><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;YouTubeRanking&quot;,</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 64, 25 lines modified</td><td colspan="2">Offset 64, 47 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">64 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;AutoInt&quot;,</td><td class="diffline">64 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;AutoInt&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">65 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;DIN&quot;,</td><td class="diffline">65 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;DIN&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">66 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;RNN4Rec&quot;,</td><td class="diffline">66 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;RNN4Rec&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">67 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;Caser&quot;,</td><td class="diffline">67 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;Caser&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">68 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;WaveNet&quot;,</td><td class="diffline">68 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;WaveNet&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">69 </td><td class="diffpresent">)</td><td class="diffline">69 </td><td class="diffpresent">)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">70 </td><td class="diffpresent">FEAT_TRAIN_MODELS<span class="dp">·</span>=<span class="dp">·</span>(</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">71 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;WideDeep&quot;,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">72 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;FM&quot;,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">73 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;DeepFM&quot;,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">74 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;AutoInt&quot;,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">75 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;YouTubeRetrieval&quot;,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">76 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;YouTubeRanking&quot;,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">77 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;DIN&quot;,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">78 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;GraphSage&quot;,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">79 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;GraphSageDGL&quot;,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">80 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;PinSage&quot;,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">81 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;PinSageDGL&quot;,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">82 </td><td class="diffpresent">)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">70 </td><td class="diffpresent">EMBEDDING_MODELS<span class="dp">·</span>=<span class="dp">·</span>(</td><td class="diffline">83 </td><td class="diffpresent">EMBEDDING_MODELS<span class="dp">·</span>=<span class="dp">·</span>(</td></tr>
<tr class="diffunmodified"><td class="diffline">71 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;SVD&quot;,</td><td class="diffline">84 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;SVD&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">72 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;SVDpp&quot;,</td><td class="diffline">85 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;SVDpp&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">73 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;ALS&quot;,</td><td class="diffline">86 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;ALS&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">74 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;BPR&quot;,</td><td class="diffline">87 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;BPR&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">75 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;YouTubeRetrieval&quot;,</td><td class="diffline">88 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;YouTubeRetrieval&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">76 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;Item2Vec&quot;,</td><td class="diffline">89 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;Item2Vec&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">77 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;RNN4Rec&quot;,</td><td class="diffline">90 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;RNN4Rec&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">78 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;Caser&quot;,</td><td class="diffline">91 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;Caser&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">79 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;WaveNet&quot;,</td><td class="diffline">92 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;WaveNet&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">80 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;DeepWalk&quot;,</td><td class="diffline">93 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;DeepWalk&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">81 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;NGCF&quot;,</td><td class="diffline">94 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;NGCF&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">82 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;LightGCN&quot;,</td><td class="diffline">95 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;LightGCN&quot;,</td></tr>
<tr class="diffdeleted"><td class="diffline">83 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;PinSage&quot;,</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">84 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;PinSageDGL&quot;,</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">85 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;GraphSage&quot;,</td><td class="diffline">96 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;GraphSage&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">86 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;GraphSageDGL&quot;,</td><td class="diffline">97 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;GraphSageDGL&quot;,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">98 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;PinSage&quot;,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">99 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;PinSageDGL&quot;,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">100 </td><td class="diffpresent">)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">101 </td><td class="diffpresent">SEQUENCE_RECOMMEND_MODELS<span class="dp">·</span>=<span class="dp">·</span>(</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">102 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;YouTubeRanking&quot;,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">103 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;DIN&quot;,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">104 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;RNN4Rec&quot;,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">105 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;Caser&quot;,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">106 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;WaveNet&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">87 </td><td class="diffpresent">)</td><td class="diffline">107 </td><td class="diffpresent">)</td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">139 B</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/utils/initializers.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-utils-initializers.py"><span class="source">LibRecommender-1.1.0/libreco/utils/initializers.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-utils-initializers.py">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">123 B</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/utils/misc.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-utils-misc.py"><span class="source">LibRecommender-1.1.0/libreco/utils/misc.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-utils-misc.py">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">133 B</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/utils/save_load.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-utils-save_load.py"><span class="source">LibRecommender-1.1.0/libreco/utils/save_load.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-utils-save_load.py">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">139 B</span></div>
      <div><span class="source">LibRecommender-1.0.1/libreco/utils/similarities.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-utils-similarities.py"><span class="source">LibRecommender-1.1.0/libreco/utils/similarities.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libreco-utils-similarities.py">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">1.12 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libserving/benchmark.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libserving-benchmark.py"><span class="source">LibRecommender-1.1.0/libserving/sanic_serving/benchmark.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libserving-benchmark.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 2% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 16 lines modified</td><td colspan="2">Offset 1, 17 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">1 </td><td class="diffpresent">import<span class="dp">·</span>argparse</td><td class="diffline">1 </td><td class="diffpresent">import<span class="dp">·</span>argparse</td></tr>
<tr class="diffunmodified"><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>asyncio</td><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>asyncio</td></tr>
<tr class="diffunmodified"><td class="diffline">3 </td><td class="diffpresent">import<span class="dp">·</span>time</td><td class="diffline">3 </td><td class="diffpresent">import<span class="dp">·</span>time</td></tr>
<tr class="diffunmodified"><td class="diffline">4 </td><td class="diffpresent">from<span class="dp">·</span>concurrent.futures<span class="dp">·</span>import<span class="dp">·</span>ThreadPoolExecutor,<span class="dp">·</span>as_completed</td><td class="diffline">4 </td><td class="diffpresent">from<span class="dp">·</span>concurrent.futures<span class="dp">·</span>import<span class="dp">·</span>ThreadPoolExecutor,<span class="dp">·</span>as_completed</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">5 </td><td class="diffpresent">import<span class="dp">·</span>aiohttp</td><td class="diffline">5 </td><td class="diffpresent">import<span class="dp">·</span>aiohttp</td></tr>
<tr class="diffunmodified"><td class="diffline">6 </td><td class="diffpresent">import<span class="dp">·</span>requests</td><td class="diffline">6 </td><td class="diffpresent">import<span class="dp">·</span>requests</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">7 </td><td class="diffpresent">import<span class="dp">·</span>ujson</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">7 </td><td class="diffpresent">REQUEST_LIMIT<span class="dp">·</span>=<span class="dp">·</span><del>20</del></td><td class="diffline">8 </td><td class="diffpresent">REQUEST_LIMIT<span class="dp">·</span>=<span class="dp">·</span><ins>64</ins></td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">8 </td><td class="diffpresent">def<span class="dp">·</span>parse_args():</td><td class="diffline">9 </td><td class="diffpresent">def<span class="dp">·</span>parse_args():</td></tr>
<tr class="diffunmodified"><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>parser<span class="dp">·</span>=<span class="dp">·</span>argparse.ArgumentParser()</td><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>parser<span class="dp">·</span>=<span class="dp">·</span>argparse.ArgumentParser()</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>parser.add_argument(&quot;--host&quot;,<span class="dp">·</span>default=&quot;127.0.0.1&quot;)</td><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>parser.add_argument(&quot;--host&quot;,<span class="dp">·</span>default=&quot;127.0.0.1&quot;)</td></tr>
<tr class="diffunmodified"><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>parser.add_argument(&quot;--port&quot;,<span class="dp">·</span>default=8000)</td><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>parser.add_argument(&quot;--port&quot;,<span class="dp">·</span>default=8000)</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 25, 15 lines modified</td><td colspan="2">Offset 26, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">25 </td><td class="diffpresent">async<span class="dp">·</span>def<span class="dp">·</span>get_reco_async(</td><td class="diffline">26 </td><td class="diffpresent">async<span class="dp">·</span>def<span class="dp">·</span>get_reco_async(</td></tr>
<tr class="diffunmodified"><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>session:<span class="dp">·</span>aiohttp.ClientSession,<span class="dp">·</span>url:<span class="dp">·</span>str,<span class="dp">·</span>data:<span class="dp">·</span>dict,<span class="dp">·</span>semaphore:<span class="dp">·</span>asyncio.Semaphore</td><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>session:<span class="dp">·</span>aiohttp.ClientSession,<span class="dp">·</span>url:<span class="dp">·</span>str,<span class="dp">·</span>data:<span class="dp">·</span>dict,<span class="dp">·</span>semaphore:<span class="dp">·</span>asyncio.Semaphore</td></tr>
<tr class="diffunmodified"><td class="diffline">27 </td><td class="diffpresent">):</td><td class="diffline">28 </td><td class="diffpresent">):</td></tr>
<tr class="diffunmodified"><td class="diffline">28 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>async<span class="dp">·</span>with<span class="dp">·</span>semaphore,<span class="dp">·</span>session.post(url,<span class="dp">·</span>json=data)<span class="dp">·</span>as<span class="dp">·</span>resp:</td><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>async<span class="dp">·</span>with<span class="dp">·</span>semaphore,<span class="dp">·</span>session.post(url,<span class="dp">·</span>json=data)<span class="dp">·</span>as<span class="dp">·</span>resp:</td></tr>
<tr class="diffunmodified"><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>if<span class="dp">·</span>semaphore.locked():</td><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>if<span class="dp">·</span>semaphore.locked():</td></tr>
<tr class="diffunmodified"><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>asyncio.sleep(1.0)</td><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>asyncio.sleep(1.0)</td></tr>
<tr class="diffunmodified"><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>resp.raise_for_status()</td><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>resp.raise_for_status()</td></tr>
<tr class="diffchanged"><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reco<span class="dp">·</span>=<span class="dp">·</span>await<span class="dp">·</span>resp.json()</td><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>reco<span class="dp">·</span>=<span class="dp">·</span>await<span class="dp">·</span>resp.json(<ins>loads=ujson.loads</ins>)</td></tr>
<tr class="diffunmodified"><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>reco</td><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>reco</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">34 </td><td class="diffpresent">async<span class="dp">·</span>def<span class="dp">·</span>main_async(args):</td><td class="diffline">35 </td><td class="diffpresent">async<span class="dp">·</span>def<span class="dp">·</span>main_async(args):</td></tr>
<tr class="diffunmodified"><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>url<span class="dp">·</span>=<span class="dp">·</span>f&quot;http://{args.host}:{args.port}/{args.algo}/recommend&quot;</td><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>url<span class="dp">·</span>=<span class="dp">·</span>f&quot;http://{args.host}:{args.port}/{args.algo}/recommend&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data<span class="dp">·</span>=<span class="dp">·</span>{&quot;user&quot;:<span class="dp">·</span>args.user,<span class="dp">·</span>&quot;n_rec&quot;:<span class="dp">·</span>args.n_rec}</td><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data<span class="dp">·</span>=<span class="dp">·</span>{&quot;user&quot;:<span class="dp">·</span>args.user,<span class="dp">·</span>&quot;n_rec&quot;:<span class="dp">·</span>args.n_rec}</td></tr>
<tr class="diffunmodified"><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>semaphore<span class="dp">·</span>=<span class="dp">·</span>asyncio.Semaphore(REQUEST_LIMIT)</td><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>semaphore<span class="dp">·</span>=<span class="dp">·</span>asyncio.Semaphore(REQUEST_LIMIT)</td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">123 B</span></div>
      <div><span class="source">LibRecommender-1.0.1/libserving/request.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libserving-request.py"><span class="source">LibRecommender-1.1.0/libserving/request.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libserving-request.py">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">149 B</span></div>
      <div><span class="source">LibRecommender-1.0.1/libserving/sanic_serving/common.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libserving-sanic_serving-common.py"><span class="source">LibRecommender-1.1.0/libserving/sanic_serving/common.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libserving-sanic_serving-common.py">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">161 B</span></div>
      <div><span class="source">LibRecommender-1.0.1/libserving/sanic_serving/embed_deploy.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libserving-sanic_serving-embed_deploy.py"><span class="source">LibRecommender-1.1.0/libserving/sanic_serving/embed_deploy.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libserving-sanic_serving-embed_deploy.py">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">157 B</span></div>
      <div><span class="source">LibRecommender-1.0.1/libserving/sanic_serving/knn_deploy.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libserving-sanic_serving-knn_deploy.py"><span class="source">LibRecommender-1.1.0/libserving/sanic_serving/knn_deploy.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libserving-sanic_serving-knn_deploy.py">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">155 B</span></div>
      <div><span class="source">LibRecommender-1.0.1/libserving/sanic_serving/tf_deploy.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libserving-sanic_serving-tf_deploy.py"><span class="source">LibRecommender-1.1.0/libserving/sanic_serving/tf_deploy.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libserving-sanic_serving-tf_deploy.py">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">149 B</span></div>
      <div><span class="source">LibRecommender-1.0.1/libserving/serialization/common.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libserving-serialization-common.py"><span class="source">LibRecommender-1.1.0/libserving/serialization/common.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libserving-serialization-common.py">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">764 B</span></div>
      <div><span class="source">LibRecommender-1.0.1/libserving/serialization/embed.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libserving-serialization-embed.py"><span class="source">LibRecommender-1.1.0/libserving/serialization/embed.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libserving-serialization-embed.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 24% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 10, 14 lines modified</td><td colspan="2">Offset 10, 23 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_model_name,</td><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_model_name,</td></tr>
<tr class="diffunmodified"><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_to_json,</td><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_to_json,</td></tr>
<tr class="diffunmodified"><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_user_consumed,</td><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_user_consumed,</td></tr>
<tr class="diffunmodified"><td class="diffline">13 </td><td class="diffpresent">)</td><td class="diffline">13 </td><td class="diffpresent">)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">14 </td><td class="diffpresent">def<span class="dp">·</span>save_embed(path:<span class="dp">·</span>str,<span class="dp">·</span>model:<span class="dp">·</span>EmbedBase):</td><td class="diffline">14 </td><td class="diffpresent">def<span class="dp">·</span>save_embed(path:<span class="dp">·</span>str,<span class="dp">·</span>model:<span class="dp">·</span>EmbedBase):</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;Save<span class="dp">·</span>Embed<span class="dp">·</span>model<span class="dp">·</span>to<span class="dp">·</span>disk.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>path<span class="dp">·</span>:<span class="dp">·</span>str</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Model<span class="dp">·</span>saving<span class="dp">·</span>path.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model<span class="dp">·</span>:<span class="dp">·</span>EmbedBase</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Model<span class="dp">·</span>to<span class="dp">·</span>save.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_path_exists(path)</td><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_path_exists(path)</td></tr>
<tr class="diffunmodified"><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_model_name(path,<span class="dp">·</span>model)</td><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_model_name(path,<span class="dp">·</span>model)</td></tr>
<tr class="diffunmodified"><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_id_mapping(path,<span class="dp">·</span>model.data_info)</td><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_id_mapping(path,<span class="dp">·</span>model.data_info)</td></tr>
<tr class="diffunmodified"><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_user_consumed(path,<span class="dp">·</span>model.data_info)</td><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_user_consumed(path,<span class="dp">·</span>model.data_info)</td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_vectors(path,<span class="dp">·</span>model.user_embed,<span class="dp">·</span>model.n_users,<span class="dp">·</span>&quot;user_embed.json&quot;)</td><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_vectors(path,<span class="dp">·</span>model.user_embed,<span class="dp">·</span>model.n_users,<span class="dp">·</span>&quot;user_embed.json&quot;)</td></tr>
<tr class="diffunmodified"><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_vectors(path,<span class="dp">·</span>model.item_embed,<span class="dp">·</span>model.n_items,<span class="dp">·</span>&quot;item_embed.json&quot;)</td><td class="diffline">28 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_vectors(path,<span class="dp">·</span>model.item_embed,<span class="dp">·</span>model.n_items,<span class="dp">·</span>&quot;item_embed.json&quot;)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">717 B</span></div>
      <div><span class="source">LibRecommender-1.0.1/libserving/serialization/knn.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libserving-serialization-knn.py"><span class="source">LibRecommender-1.1.0/libserving/serialization/knn.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libserving-serialization-knn.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 21% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 10, 14 lines modified</td><td colspan="2">Offset 10, 25 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_model_name,</td><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_model_name,</td></tr>
<tr class="diffunmodified"><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_to_json,</td><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_to_json,</td></tr>
<tr class="diffunmodified"><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_user_consumed,</td><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_user_consumed,</td></tr>
<tr class="diffunmodified"><td class="diffline">13 </td><td class="diffpresent">)</td><td class="diffline">13 </td><td class="diffpresent">)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">14 </td><td class="diffpresent">def<span class="dp">·</span>save_knn(path:<span class="dp">·</span>str,<span class="dp">·</span>model:<span class="dp">·</span>CfBase,<span class="dp">·</span>k:<span class="dp">·</span>int):</td><td class="diffline">14 </td><td class="diffpresent">def<span class="dp">·</span>save_knn(path:<span class="dp">·</span>str,<span class="dp">·</span>model:<span class="dp">·</span>CfBase,<span class="dp">·</span>k:<span class="dp">·</span>int):</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;Save<span class="dp">·</span>KNN<span class="dp">·</span>model<span class="dp">·</span>to<span class="dp">·</span>disk.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>path<span class="dp">·</span>:<span class="dp">·</span>str</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Model<span class="dp">·</span>saving<span class="dp">·</span>path.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model<span class="dp">·</span>:<span class="dp">·</span>CfBase</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Model<span class="dp">·</span>to<span class="dp">·</span>save.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>k<span class="dp">·</span>:<span class="dp">·</span>int</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Number<span class="dp">·</span>of<span class="dp">·</span>similar<span class="dp">·</span>users/items<span class="dp">·</span>to<span class="dp">·</span>save.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_path_exists(path)</td><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_path_exists(path)</td></tr>
<tr class="diffunmodified"><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_model_name(path,<span class="dp">·</span>model)</td><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_model_name(path,<span class="dp">·</span>model)</td></tr>
<tr class="diffunmodified"><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_id_mapping(path,<span class="dp">·</span>model.data_info)</td><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_id_mapping(path,<span class="dp">·</span>model.data_info)</td></tr>
<tr class="diffunmodified"><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_user_consumed(path,<span class="dp">·</span>model.data_info)</td><td class="diffline">28 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_user_consumed(path,<span class="dp">·</span>model.data_info)</td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_sim_matrix(path,<span class="dp">·</span>model.sim_matrix,<span class="dp">·</span>k)</td><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_sim_matrix(path,<span class="dp">·</span>model.sim_matrix,<span class="dp">·</span>k)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">1.87 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libserving/serialization/redis.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libserving-serialization-redis.py"><span class="source">LibRecommender-1.1.0/libserving/serialization/redis.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libserving-serialization-redis.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 16% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 15, 30 lines modified</td><td colspan="2">Offset 15, 69 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>raise</td><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>raise</td></tr>
<tr class="diffunmodified"><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>finally:</td><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>finally:</td></tr>
<tr class="diffunmodified"><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>r:</td><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>r:</td></tr>
<tr class="diffunmodified"><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>r.close()</td><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>r.close()</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent">def<span class="dp">·</span>knn2redis(path:<span class="dp">·</span>str,<span class="dp">·</span>host:<span class="dp">·</span>str<span class="dp">·</span>=<span class="dp">·</span>&quot;localhost&quot;,<span class="dp">·</span>port:<span class="dp">·</span>int<span class="dp">·</span>=<span class="dp">·</span>6379,<span class="dp">·</span>db:<span class="dp">·</span>int<span class="dp">·</span>=<span class="dp">·</span>0):</td><td class="diffline">19 </td><td class="diffpresent">def<span class="dp">·</span>knn2redis(path:<span class="dp">·</span>str,<span class="dp">·</span>host:<span class="dp">·</span>str<span class="dp">·</span>=<span class="dp">·</span>&quot;localhost&quot;,<span class="dp">·</span>port:<span class="dp">·</span>int<span class="dp">·</span>=<span class="dp">·</span>6379,<span class="dp">·</span>db:<span class="dp">·</span>int<span class="dp">·</span>=<span class="dp">·</span>0):</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;Save<span class="dp">·</span>KNN<span class="dp">·</span>model<span class="dp">·</span>to<span class="dp">·</span>redis.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>path<span class="dp">·</span>:<span class="dp">·</span>str</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Model<span class="dp">·</span>saving<span class="dp">·</span>path.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>host<span class="dp">·</span>:<span class="dp">·</span>str,<span class="dp">·</span>default:<span class="dp">·</span>&quot;localhost&quot;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Redis<span class="dp">·</span>host.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>port<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>6379</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">28 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Redis<span class="dp">·</span>port</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>db<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>0</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Redis<span class="dp">·</span>db<span class="dp">·</span>number</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>with<span class="dp">·</span>redis_connection(host,<span class="dp">·</span>port,<span class="dp">·</span>db)<span class="dp">·</span>as<span class="dp">·</span>r:</td><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>with<span class="dp">·</span>redis_connection(host,<span class="dp">·</span>port,<span class="dp">·</span>db)<span class="dp">·</span>as<span class="dp">·</span>r:</td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model_name2redis(path,<span class="dp">·</span>r)</td><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model_name2redis(path,<span class="dp">·</span>r)</td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>id_mapping2redis(path,<span class="dp">·</span>r)</td><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>id_mapping2redis(path,<span class="dp">·</span>r)</td></tr>
<tr class="diffunmodified"><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_consumed2redis(path,<span class="dp">·</span>r)</td><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_consumed2redis(path,<span class="dp">·</span>r)</td></tr>
<tr class="diffunmodified"><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sim2redis(path,<span class="dp">·</span>r)</td><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>sim2redis(path,<span class="dp">·</span>r)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">25 </td><td class="diffpresent">def<span class="dp">·</span>embed2redis(path:<span class="dp">·</span>str,<span class="dp">·</span>host:<span class="dp">·</span>str<span class="dp">·</span>=<span class="dp">·</span>&quot;localhost&quot;,<span class="dp">·</span>port:<span class="dp">·</span>int<span class="dp">·</span>=<span class="dp">·</span>6379,<span class="dp">·</span>db:<span class="dp">·</span>int<span class="dp">·</span>=<span class="dp">·</span>0):</td><td class="diffline">37 </td><td class="diffpresent">def<span class="dp">·</span>embed2redis(path:<span class="dp">·</span>str,<span class="dp">·</span>host:<span class="dp">·</span>str<span class="dp">·</span>=<span class="dp">·</span>&quot;localhost&quot;,<span class="dp">·</span>port:<span class="dp">·</span>int<span class="dp">·</span>=<span class="dp">·</span>6379,<span class="dp">·</span>db:<span class="dp">·</span>int<span class="dp">·</span>=<span class="dp">·</span>0):</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;Save<span class="dp">·</span>Embed<span class="dp">·</span>model<span class="dp">·</span>to<span class="dp">·</span>redis.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>path<span class="dp">·</span>:<span class="dp">·</span>str</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Model<span class="dp">·</span>saving<span class="dp">·</span>path.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>host<span class="dp">·</span>:<span class="dp">·</span>str,<span class="dp">·</span>default:<span class="dp">·</span>&quot;localhost&quot;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Redis<span class="dp">·</span>host.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>port<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>6379</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Redis<span class="dp">·</span>port</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>db<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>0</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Redis<span class="dp">·</span>db<span class="dp">·</span>number</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>with<span class="dp">·</span>redis_connection(host,<span class="dp">·</span>port,<span class="dp">·</span>db)<span class="dp">·</span>as<span class="dp">·</span>r:</td><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>with<span class="dp">·</span>redis_connection(host,<span class="dp">·</span>port,<span class="dp">·</span>db)<span class="dp">·</span>as<span class="dp">·</span>r:</td></tr>
<tr class="diffunmodified"><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model_name2redis(path,<span class="dp">·</span>r)</td><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model_name2redis(path,<span class="dp">·</span>r)</td></tr>
<tr class="diffunmodified"><td class="diffline">28 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>id_mapping2redis(path,<span class="dp">·</span>r)</td><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>id_mapping2redis(path,<span class="dp">·</span>r)</td></tr>
<tr class="diffunmodified"><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_consumed2redis(path,<span class="dp">·</span>r)</td><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_consumed2redis(path,<span class="dp">·</span>r)</td></tr>
<tr class="diffunmodified"><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_embed2redis(path,<span class="dp">·</span>r)</td><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_embed2redis(path,<span class="dp">·</span>r)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">31 </td><td class="diffpresent">def<span class="dp">·</span>tf2redis(path:<span class="dp">·</span>str,<span class="dp">·</span>host:<span class="dp">·</span>str<span class="dp">·</span>=<span class="dp">·</span>&quot;localhost&quot;,<span class="dp">·</span>port:<span class="dp">·</span>int<span class="dp">·</span>=<span class="dp">·</span>6379,<span class="dp">·</span>db:<span class="dp">·</span>int<span class="dp">·</span>=<span class="dp">·</span>0):</td><td class="diffline">55 </td><td class="diffpresent">def<span class="dp">·</span>tf2redis(path:<span class="dp">·</span>str,<span class="dp">·</span>host:<span class="dp">·</span>str<span class="dp">·</span>=<span class="dp">·</span>&quot;localhost&quot;,<span class="dp">·</span>port:<span class="dp">·</span>int<span class="dp">·</span>=<span class="dp">·</span>6379,<span class="dp">·</span>db:<span class="dp">·</span>int<span class="dp">·</span>=<span class="dp">·</span>0):</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;Save<span class="dp">·</span>TF<span class="dp">·</span>model<span class="dp">·</span>to<span class="dp">·</span>redis.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>path<span class="dp">·</span>:<span class="dp">·</span>str</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Model<span class="dp">·</span>saving<span class="dp">·</span>path.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">61 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>host<span class="dp">·</span>:<span class="dp">·</span>str,<span class="dp">·</span>default:<span class="dp">·</span>&quot;localhost&quot;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">62 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Redis<span class="dp">·</span>host.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">63 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>port<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>6379</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">64 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Redis<span class="dp">·</span>port</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">65 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>db<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>0</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">66 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Redis<span class="dp">·</span>db<span class="dp">·</span>number</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">67 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>with<span class="dp">·</span>redis_connection(host,<span class="dp">·</span>port,<span class="dp">·</span>db)<span class="dp">·</span>as<span class="dp">·</span>r:</td><td class="diffline">68 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>with<span class="dp">·</span>redis_connection(host,<span class="dp">·</span>port,<span class="dp">·</span>db)<span class="dp">·</span>as<span class="dp">·</span>r:</td></tr>
<tr class="diffunmodified"><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model_name2redis(path,<span class="dp">·</span>r)</td><td class="diffline">69 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model_name2redis(path,<span class="dp">·</span>r)</td></tr>
<tr class="diffunmodified"><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>id_mapping2redis(path,<span class="dp">·</span>r)</td><td class="diffline">70 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>id_mapping2redis(path,<span class="dp">·</span>r)</td></tr>
<tr class="diffunmodified"><td class="diffline">35 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_consumed2redis(path,<span class="dp">·</span>r)</td><td class="diffline">71 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>user_consumed2redis(path,<span class="dp">·</span>r)</td></tr>
<tr class="diffunmodified"><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>features2redis(path,<span class="dp">·</span>r)</td><td class="diffline">72 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>features2redis(path,<span class="dp">·</span>r)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">1.36 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/libserving/serialization/tfmodel.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--libserving-serialization-tfmodel.py"><span class="source">LibRecommender-1.1.0/libserving/serialization/tfmodel.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--libserving-serialization-tfmodel.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 2% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 14, 14 lines modified</td><td colspan="2">Offset 14, 25 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_model_name,</td><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_model_name,</td></tr>
<tr class="diffunmodified"><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_to_json,</td><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_to_json,</td></tr>
<tr class="diffunmodified"><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_user_consumed,</td><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_user_consumed,</td></tr>
<tr class="diffunmodified"><td class="diffline">17 </td><td class="diffpresent">)</td><td class="diffline">17 </td><td class="diffpresent">)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">18 </td><td class="diffpresent">def<span class="dp">·</span>save_tf(path:<span class="dp">·</span>str,<span class="dp">·</span>model:<span class="dp">·</span>TfBase,<span class="dp">·</span>version:<span class="dp">·</span>int<span class="dp">·</span>=<span class="dp">·</span>1):</td><td class="diffline">18 </td><td class="diffpresent">def<span class="dp">·</span>save_tf(path:<span class="dp">·</span>str,<span class="dp">·</span>model:<span class="dp">·</span>TfBase,<span class="dp">·</span>version:<span class="dp">·</span>int<span class="dp">·</span>=<span class="dp">·</span>1):</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;Save<span class="dp">·</span>TF<span class="dp">·</span>model<span class="dp">·</span>to<span class="dp">·</span>disk.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Parameters</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>----------</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>path<span class="dp">·</span>:<span class="dp">·</span>str</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Model<span class="dp">·</span>saving<span class="dp">·</span>path.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model<span class="dp">·</span>:<span class="dp">·</span>TfBase</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Model<span class="dp">·</span>to<span class="dp">·</span>save.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>version<span class="dp">·</span>:<span class="dp">·</span>int,<span class="dp">·</span>default:<span class="dp">·</span>1</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>Version<span class="dp">·</span>number<span class="dp">·</span>used<span class="dp">·</span>in<span class="dp">·</span>``tf.saved_model``.</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">28 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_path_exists(path)</td><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check_path_exists(path)</td></tr>
<tr class="diffunmodified"><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_model_name(path,<span class="dp">·</span>model)</td><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_model_name(path,<span class="dp">·</span>model)</td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_id_mapping(path,<span class="dp">·</span>model.data_info)</td><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_id_mapping(path,<span class="dp">·</span>model.data_info)</td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_user_consumed(path,<span class="dp">·</span>model.data_info)</td><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_user_consumed(path,<span class="dp">·</span>model.data_info)</td></tr>
<tr class="diffunmodified"><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_features(path,<span class="dp">·</span>model.data_info,<span class="dp">·</span>model)</td><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_features(path,<span class="dp">·</span>model.data_info,<span class="dp">·</span>model)</td></tr>
<tr class="diffunmodified"><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_tf_serving_model(path,<span class="dp">·</span>model,<span class="dp">·</span>version)</td><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>save_tf_serving_model(path,<span class="dp">·</span>model,<span class="dp">·</span>version)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffhunk"><td colspan="2">Offset 55, 15 lines modified</td><td colspan="2">Offset 66, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">55 </td><td class="diffpresent">#<span class="dp">·</span>include<span class="dp">·</span>oov</td><td class="diffline">66 </td><td class="diffpresent">#<span class="dp">·</span>include<span class="dp">·</span>oov</td></tr>
<tr class="diffunmodified"><td class="diffline">56 </td><td class="diffpresent">def<span class="dp">·</span>_check_num_match(v,<span class="dp">·</span>num):</td><td class="diffline">67 </td><td class="diffpresent">def<span class="dp">·</span>_check_num_match(v,<span class="dp">·</span>num):</td></tr>
<tr class="diffunmodified"><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>assert<span class="dp">·</span>len(v)<span class="dp">·</span>==<span class="dp">·</span>num<span class="dp">·</span>+<span class="dp">·</span>1,<span class="dp">·</span>f&quot;feature<span class="dp">·</span>sizes<span class="dp">·</span>don&#x27;t<span class="dp">·</span>match,<span class="dp">·</span>got<span class="dp">·</span>{len(v)}<span class="dp">·</span>and<span class="dp">·</span>{num<span class="dp">·</span>+<span class="dp">·</span>1}&quot;</td><td class="diffline">68 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>assert<span class="dp">·</span>len(v)<span class="dp">·</span>==<span class="dp">·</span>num<span class="dp">·</span>+<span class="dp">·</span>1,<span class="dp">·</span>f&quot;feature<span class="dp">·</span>sizes<span class="dp">·</span>don&#x27;t<span class="dp">·</span>match,<span class="dp">·</span>got<span class="dp">·</span>{len(v)}<span class="dp">·</span>and<span class="dp">·</span>{num<span class="dp">·</span>+<span class="dp">·</span>1}&quot;</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">58 </td><td class="diffpresent">def<span class="dp">·</span>save_tf_serving_model(path:<span class="dp">·</span>str,<span class="dp">·</span>model:<span class="dp">·</span>TfBase,<span class="dp">·</span>version:<span class="dp">·</span>int):</td><td class="diffline">69 </td><td class="diffpresent">def<span class="dp">·</span>save_tf_serving_model(path:<span class="dp">·</span>str,<span class="dp">·</span>model:<span class="dp">·</span>TfBase,<span class="dp">·</span>version:<span class="dp">·</span>int):</td></tr>
<tr class="diffunmodified"><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model_name<span class="dp">·</span>=<span class="dp">·</span>model.model_name.lower()</td><td class="diffline">70 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model_name<span class="dp">·</span>=<span class="dp">·</span>model.model_name.lower()</td></tr>
<tr class="diffchanged"><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>not<span class="dp">·</span>path:</td><td class="diffline">71 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>not<span class="dp">·</span>path:<ins><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>pragma:<span class="dp">·</span>no<span class="dp">·</span>cover</ins></td></tr>
<tr class="diffunmodified"><td class="diffline">61 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model_base_path<span class="dp">·</span>=<span class="dp">·</span>os.path.realpath(&quot;..&quot;)</td><td class="diffline">72 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model_base_path<span class="dp">·</span>=<span class="dp">·</span>os.path.realpath(&quot;..&quot;)</td></tr>
<tr class="diffunmodified"><td class="diffline">62 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>export_path<span class="dp">·</span>=<span class="dp">·</span>os.path.join(</td><td class="diffline">73 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>export_path<span class="dp">·</span>=<span class="dp">·</span>os.path.join(</td></tr>
<tr class="diffunmodified"><td class="diffline">63 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model_base_path,<span class="dp">·</span>&quot;serving&quot;,<span class="dp">·</span>&quot;models&quot;,<span class="dp">·</span>f&quot;{model_name}&quot;,<span class="dp">·</span>f&quot;{version}&quot;</td><td class="diffline">74 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>model_base_path,<span class="dp">·</span>&quot;serving&quot;,<span class="dp">·</span>&quot;models&quot;,<span class="dp">·</span>f&quot;{model_name}&quot;,<span class="dp">·</span>f&quot;{version}&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">64 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">75 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td class="diffline">65 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else:</td><td class="diffline">76 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>else:</td></tr>
<tr class="diffunmodified"><td class="diffline">66 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>export_path<span class="dp">·</span>=<span class="dp">·</span>os.path.join(path,<span class="dp">·</span>f&quot;{model_name}&quot;,<span class="dp">·</span>f&quot;{version}&quot;)</td><td class="diffline">77 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>export_path<span class="dp">·</span>=<span class="dp">·</span>os.path.join(path,<span class="dp">·</span>f&quot;{model_name}&quot;,<span class="dp">·</span>f&quot;{version}&quot;)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">3.07 KB</span></div>
      <div><span class="source">LibRecommender-1.0.1/pyproject.toml</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--pyproject.toml"><span class="source">LibRecommender-1.1.0/pyproject.toml</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--pyproject.toml">¶</a>
      </div>
      </div>
      <div class="comment">Files 20% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 7, 43 lines modified</td><td colspan="2">Offset 7, 44 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;scipy&gt;=1.2.1&quot;,</td><td class="diffline">7 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;scipy&gt;=1.2.1&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;tomli&quot;,</td><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;tomli&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">9 </td><td class="diffpresent">]</td><td class="diffline">9 </td><td class="diffpresent">]</td></tr>
<tr class="diffunmodified"><td class="diffline">10 </td><td class="diffpresent">build-backend<span class="dp">·</span>=<span class="dp">·</span>&quot;setuptools.build_meta&quot;</td><td class="diffline">10 </td><td class="diffpresent">build-backend<span class="dp">·</span>=<span class="dp">·</span>&quot;setuptools.build_meta&quot;</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">11 </td><td class="diffpresent">[project]</td><td class="diffline">11 </td><td class="diffpresent">[project]</td></tr>
<tr class="diffunmodified"><td class="diffline">12 </td><td class="diffpresent">name<span class="dp">·</span>=<span class="dp">·</span>&quot;LibRecommender&quot;</td><td class="diffline">12 </td><td class="diffpresent">name<span class="dp">·</span>=<span class="dp">·</span>&quot;LibRecommender&quot;</td></tr>
<tr class="diffchanged"><td class="diffline">13 </td><td class="diffpresent">version<span class="dp">·</span>=<span class="dp">·</span>&quot;1.<del>0</del>.<del>1</del>&quot;</td><td class="diffline">13 </td><td class="diffpresent">version<span class="dp">·</span>=<span class="dp">·</span>&quot;1.<ins>1</ins>.<ins>0</ins>&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">14 </td><td class="diffpresent">description<span class="dp">·</span>=<span class="dp">·</span>&quot;Versatile<span class="dp">·</span>end-to-end<span class="dp">·</span>recommender<span class="dp">·</span>system.&quot;</td><td class="diffline">14 </td><td class="diffpresent">description<span class="dp">·</span>=<span class="dp">·</span>&quot;Versatile<span class="dp">·</span>end-to-end<span class="dp">·</span>recommender<span class="dp">·</span>system.&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">15 </td><td class="diffpresent">authors<span class="dp">·</span>=<span class="dp">·</span>[</td><td class="diffline">15 </td><td class="diffpresent">authors<span class="dp">·</span>=<span class="dp">·</span>[</td></tr>
<tr class="diffunmodified"><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>{<span class="dp">·</span>name<span class="dp">·</span>=<span class="dp">·</span>&quot;massquantity&quot;,<span class="dp">·</span>email<span class="dp">·</span>=<span class="dp">·</span>&quot;jinxin_madie@163.com&quot;<span class="dp">·</span>},</td><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>{<span class="dp">·</span>name<span class="dp">·</span>=<span class="dp">·</span>&quot;massquantity&quot;,<span class="dp">·</span>email<span class="dp">·</span>=<span class="dp">·</span>&quot;jinxin_madie@163.com&quot;<span class="dp">·</span>},</td></tr>
<tr class="diffunmodified"><td class="diffline">17 </td><td class="diffpresent">]</td><td class="diffline">17 </td><td class="diffpresent">]</td></tr>
<tr class="diffunmodified"><td class="diffline">18 </td><td class="diffpresent">readme<span class="dp">·</span>=<span class="dp">·</span>&quot;README.md&quot;</td><td class="diffline">18 </td><td class="diffpresent">readme<span class="dp">·</span>=<span class="dp">·</span>&quot;README.md&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent">license<span class="dp">·</span>=<span class="dp">·</span>{<span class="dp">·</span>text<span class="dp">·</span>=<span class="dp">·</span>&quot;MIT&quot;<span class="dp">·</span>}</td><td class="diffline">19 </td><td class="diffpresent">license<span class="dp">·</span>=<span class="dp">·</span>{<span class="dp">·</span>text<span class="dp">·</span>=<span class="dp">·</span>&quot;MIT&quot;<span class="dp">·</span>}</td></tr>
<tr class="diffunmodified"><td class="diffline">20 </td><td class="diffpresent">requires-python<span class="dp">·</span>=<span class="dp">·</span>&quot;&gt;=3.6&quot;</td><td class="diffline">20 </td><td class="diffpresent">requires-python<span class="dp">·</span>=<span class="dp">·</span>&quot;&gt;=3.6&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent">keywords<span class="dp">·</span>=<span class="dp">·</span>[&quot;Collaborative<span class="dp">·</span>Filtering&quot;,<span class="dp">·</span>&quot;Recommender<span class="dp">·</span>System&quot;]</td><td class="diffline">21 </td><td class="diffpresent">keywords<span class="dp">·</span>=<span class="dp">·</span>[&quot;Collaborative<span class="dp">·</span>Filtering&quot;,<span class="dp">·</span>&quot;Recommender<span class="dp">·</span>System&quot;]</td></tr>
<tr class="diffchanged"><td class="diffline">22 </td><td class="diffpresent">classifiers=<span class="dp">·</span>[</td><td class="diffline">22 </td><td class="diffpresent">classifiers<ins><span class="dp">·</span></ins>=<span class="dp">·</span>[</td></tr>
<tr class="diffunmodified"><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;Development<span class="dp">·</span>Status<span class="dp">·</span>::<span class="dp">·</span>5<span class="dp">·</span>-<span class="dp">·</span>Production/Stable&quot;,</td><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;Development<span class="dp">·</span>Status<span class="dp">·</span>::<span class="dp">·</span>5<span class="dp">·</span>-<span class="dp">·</span>Production/Stable&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;Intended<span class="dp">·</span>Audience<span class="dp">·</span>::<span class="dp">·</span>Developers&quot;,</td><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;Intended<span class="dp">·</span>Audience<span class="dp">·</span>::<span class="dp">·</span>Developers&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;Intended<span class="dp">·</span>Audience<span class="dp">·</span>::<span class="dp">·</span>Education&quot;,</td><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;Intended<span class="dp">·</span>Audience<span class="dp">·</span>::<span class="dp">·</span>Education&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;Intended<span class="dp">·</span>Audience<span class="dp">·</span>::<span class="dp">·</span>Science/Research&quot;,</td><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;Intended<span class="dp">·</span>Audience<span class="dp">·</span>::<span class="dp">·</span>Science/Research&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;License<span class="dp">·</span>::<span class="dp">·</span>OSI<span class="dp">·</span>Approved<span class="dp">·</span>::<span class="dp">·</span>MIT<span class="dp">·</span>License&quot;,</td><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;License<span class="dp">·</span>::<span class="dp">·</span>OSI<span class="dp">·</span>Approved<span class="dp">·</span>::<span class="dp">·</span>MIT<span class="dp">·</span>License&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">28 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;Programming<span class="dp">·</span>Language<span class="dp">·</span>::<span class="dp">·</span>Python<span class="dp">·</span>::<span class="dp">·</span>3.6&quot;,</td><td class="diffline">28 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;Programming<span class="dp">·</span>Language<span class="dp">·</span>::<span class="dp">·</span>Python<span class="dp">·</span>::<span class="dp">·</span>3.6&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;Programming<span class="dp">·</span>Language<span class="dp">·</span>::<span class="dp">·</span>Python<span class="dp">·</span>::<span class="dp">·</span>3.7&quot;,</td><td class="diffline">29 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;Programming<span class="dp">·</span>Language<span class="dp">·</span>::<span class="dp">·</span>Python<span class="dp">·</span>::<span class="dp">·</span>3.7&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;Programming<span class="dp">·</span>Language<span class="dp">·</span>::<span class="dp">·</span>Python<span class="dp">·</span>::<span class="dp">·</span>3.8&quot;,</td><td class="diffline">30 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;Programming<span class="dp">·</span>Language<span class="dp">·</span>::<span class="dp">·</span>Python<span class="dp">·</span>::<span class="dp">·</span>3.8&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;Programming<span class="dp">·</span>Language<span class="dp">·</span>::<span class="dp">·</span>Python<span class="dp">·</span>::<span class="dp">·</span>3.9&quot;,</td><td class="diffline">31 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;Programming<span class="dp">·</span>Language<span class="dp">·</span>::<span class="dp">·</span>Python<span class="dp">·</span>::<span class="dp">·</span>3.9&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;Programming<span class="dp">·</span>Language<span class="dp">·</span>::<span class="dp">·</span>Python<span class="dp">·</span>::<span class="dp">·</span>3.10&quot;,</td><td class="diffline">32 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;Programming<span class="dp">·</span>Language<span class="dp">·</span>::<span class="dp">·</span>Python<span class="dp">·</span>::<span class="dp">·</span>3.10&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;Programming<span class="dp">·</span>Language<span class="dp">·</span>::<span class="dp">·</span>Cython&quot;,</td><td class="diffline">33 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;Programming<span class="dp">·</span>Language<span class="dp">·</span>::<span class="dp">·</span>Cython&quot;,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">34 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;Programming<span class="dp">·</span>Language<span class="dp">·</span>::<span class="dp">·</span>Rust&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">34 </td><td class="diffpresent">]</td><td class="diffline">35 </td><td class="diffpresent">]</td></tr>
<tr class="diffunmodified"><td class="diffline">35 </td><td class="diffpresent">dependencies<span class="dp">·</span>=<span class="dp">·</span>[</td><td class="diffline">36 </td><td class="diffpresent">dependencies<span class="dp">·</span>=<span class="dp">·</span>[</td></tr>
<tr class="diffunmodified"><td class="diffline">36 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;gensim<span class="dp">·</span>&gt;=<span class="dp">·</span>4.0.0&quot;,</td><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;gensim<span class="dp">·</span>&gt;=<span class="dp">·</span>4.0.0&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">37 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;tqdm&quot;,</td><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;tqdm&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">38 </td><td class="diffpresent">]</td><td class="diffline">39 </td><td class="diffpresent">]</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">39 </td><td class="diffpresent">[project.urls]</td><td class="diffline">40 </td><td class="diffpresent">[project.urls]</td></tr>
<tr class="diffchanged"><td class="diffline">40 </td><td class="diffpresent">documentation<span class="dp">·</span>=<span class="dp">·</span>&quot;https://librecommender.readthedocs.io/en/<del>stable</del>/&quot;</td><td class="diffline">41 </td><td class="diffpresent">documentation<span class="dp">·</span>=<span class="dp">·</span>&quot;https://librecommender.readthedocs.io/en/<ins>latest</ins>/&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">41 </td><td class="diffpresent">repository<span class="dp">·</span>=<span class="dp">·</span>&quot;https://github.com/massquantity/LibRecommender&quot;</td><td class="diffline">42 </td><td class="diffpresent">repository<span class="dp">·</span>=<span class="dp">·</span>&quot;https://github.com/massquantity/LibRecommender&quot;</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">42 </td><td class="diffpresent">[tool.setuptools]</td><td class="diffline">43 </td><td class="diffpresent">[tool.setuptools]</td></tr>
<tr class="diffunmodified"><td class="diffline">43 </td><td class="diffpresent">include-package-data<span class="dp">·</span>=<span class="dp">·</span>true</td><td class="diffline">44 </td><td class="diffpresent">include-package-data<span class="dp">·</span>=<span class="dp">·</span>true</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">44 </td><td class="diffpresent">[tool.setuptools.packages.find]</td><td class="diffline">45 </td><td class="diffpresent">[tool.setuptools.packages.find]</td></tr>
<tr class="diffunmodified"><td class="diffline">45 </td><td class="diffpresent">where<span class="dp">·</span>=<span class="dp">·</span>[&quot;.&quot;]</td><td class="diffline">46 </td><td class="diffpresent">where<span class="dp">·</span>=<span class="dp">·</span>[&quot;.&quot;]</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 53, 21 lines modified</td><td colspan="2">Offset 54, 23 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">53 </td><td class="diffpresent">[tool.black]</td><td class="diffline">54 </td><td class="diffpresent">[tool.black]</td></tr>
<tr class="diffunmodified"><td class="diffline">54 </td><td class="diffpresent">line-length<span class="dp">·</span>=<span class="dp">·</span>88</td><td class="diffline">55 </td><td class="diffpresent">line-length<span class="dp">·</span>=<span class="dp">·</span>88</td></tr>
<tr class="diffunmodified"><td class="diffline">55 </td><td class="diffpresent">target-version<span class="dp">·</span>=<span class="dp">·</span>[&quot;py36&quot;,<span class="dp">·</span>&quot;py38&quot;,<span class="dp">·</span>&quot;py310&quot;]</td><td class="diffline">56 </td><td class="diffpresent">target-version<span class="dp">·</span>=<span class="dp">·</span>[&quot;py36&quot;,<span class="dp">·</span>&quot;py38&quot;,<span class="dp">·</span>&quot;py310&quot;]</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">56 </td><td class="diffpresent">[tool.isort]</td><td class="diffline">57 </td><td class="diffpresent">[tool.isort]</td></tr>
<tr class="diffunmodified"><td class="diffline">57 </td><td class="diffpresent">atomic<span class="dp">·</span>=<span class="dp">·</span>true</td><td class="diffline">58 </td><td class="diffpresent">atomic<span class="dp">·</span>=<span class="dp">·</span>true</td></tr>
<tr class="diffunmodified"><td class="diffline">58 </td><td class="diffpresent">default_section<span class="dp">·</span>=<span class="dp">·</span>&quot;THIRDPARTY&quot;</td><td class="diffline">59 </td><td class="diffpresent">default_section<span class="dp">·</span>=<span class="dp">·</span>&quot;THIRDPARTY&quot;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">60 </td><td class="diffpresent">extend_skip_glob<span class="dp">·</span>=<span class="dp">·</span>[&quot;*.pyx&quot;]</td></tr>
<tr class="diffunmodified"><td class="diffline">59 </td><td class="diffpresent">force_grid_wrap<span class="dp">·</span>=<span class="dp">·</span>0</td><td class="diffline">61 </td><td class="diffpresent">force_grid_wrap<span class="dp">·</span>=<span class="dp">·</span>0</td></tr>
<tr class="diffunmodified"><td class="diffline">60 </td><td class="diffpresent">include_trailing_comma<span class="dp">·</span>=<span class="dp">·</span>true</td><td class="diffline">62 </td><td class="diffpresent">include_trailing_comma<span class="dp">·</span>=<span class="dp">·</span>true</td></tr>
<tr class="diffunmodified"><td class="diffline">61 </td><td class="diffpresent">known_first_party<span class="dp">·</span>=<span class="dp">·</span>[&quot;libreco&quot;,<span class="dp">·</span>&quot;libserving&quot;]</td><td class="diffline">63 </td><td class="diffpresent">known_first_party<span class="dp">·</span>=<span class="dp">·</span>[&quot;libreco&quot;,<span class="dp">·</span>&quot;libserving&quot;]</td></tr>
<tr class="diffunmodified"><td class="diffline">62 </td><td class="diffpresent">known_third_party<span class="dp">·</span>=<span class="dp">·</span>&quot;pytest&quot;</td><td class="diffline">64 </td><td class="diffpresent">known_third_party<span class="dp">·</span>=<span class="dp">·</span>&quot;pytest&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">63 </td><td class="diffpresent">line_length<span class="dp">·</span>=<span class="dp">·</span>88</td><td class="diffline">65 </td><td class="diffpresent">line_length<span class="dp">·</span>=<span class="dp">·</span>88</td></tr>
<tr class="diffunmodified"><td class="diffline">64 </td><td class="diffpresent">multi_line_output<span class="dp">·</span>=<span class="dp">·</span>3</td><td class="diffline">66 </td><td class="diffpresent">multi_line_output<span class="dp">·</span>=<span class="dp">·</span>3</td></tr>
<tr class="diffunmodified"><td class="diffline">65 </td><td class="diffpresent">profile<span class="dp">·</span>=<span class="dp">·</span>&quot;black&quot;</td><td class="diffline">67 </td><td class="diffpresent">profile<span class="dp">·</span>=<span class="dp">·</span>&quot;black&quot;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">68 </td><td class="diffpresent">reverse_relative<span class="dp">·</span>=<span class="dp">·</span>true</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">66 </td><td class="diffpresent">[tool.pydocstyle]</td><td class="diffline">69 </td><td class="diffpresent">[tool.pydocstyle]</td></tr>
<tr class="diffunmodified"><td class="diffline">67 </td><td class="diffpresent">add-ignore<span class="dp">·</span>=<span class="dp">·</span>[&quot;D102&quot;]</td><td class="diffline">70 </td><td class="diffpresent">add-ignore<span class="dp">·</span>=<span class="dp">·</span>[&quot;D102&quot;]</td></tr>
<tr class="diffunmodified"><td class="diffline">68 </td><td class="diffpresent">add-select<span class="dp">·</span>=<span class="dp">·</span>[&quot;D212&quot;,<span class="dp">·</span>&quot;D402&quot;,<span class="dp">·</span>&quot;D415&quot;,<span class="dp">·</span>&quot;D416&quot;,<span class="dp">·</span>&quot;D417&quot;]</td><td class="diffline">71 </td><td class="diffpresent">add-select<span class="dp">·</span>=<span class="dp">·</span>[&quot;D212&quot;,<span class="dp">·</span>&quot;D402&quot;,<span class="dp">·</span>&quot;D415&quot;,<span class="dp">·</span>&quot;D416&quot;,<span class="dp">·</span>&quot;D417&quot;]</td></tr>
<tr class="diffunmodified"><td class="diffline">69 </td><td class="diffpresent">convention<span class="dp">·</span>=<span class="dp">·</span>&quot;numpy&quot;</td><td class="diffline">72 </td><td class="diffpresent">convention<span class="dp">·</span>=<span class="dp">·</span>&quot;numpy&quot;</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">70 </td><td class="diffpresent">[tool.pytest.ini_options]</td><td class="diffline">73 </td><td class="diffpresent">[tool.pytest.ini_options]</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 75, 27 lines modified</td><td colspan="2">Offset 78, 32 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">75 </td><td class="diffpresent">addopts<span class="dp">·</span>=<span class="dp">·</span>&quot;-v<span class="dp">·</span>--durations=20<span class="dp">·</span>--color=yes&quot;</td><td class="diffline">78 </td><td class="diffpresent">addopts<span class="dp">·</span>=<span class="dp">·</span>&quot;-v<span class="dp">·</span>--durations=20<span class="dp">·</span>--color=yes&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">76 </td><td class="diffpresent">filterwarnings<span class="dp">·</span>=<span class="dp">·</span>[</td><td class="diffline">79 </td><td class="diffpresent">filterwarnings<span class="dp">·</span>=<span class="dp">·</span>[</td></tr>
<tr class="diffunmodified"><td class="diffline">77 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;ignore:the<span class="dp">·</span>imp<span class="dp">·</span>module<span class="dp">·</span>is<span class="dp">·</span>deprecated<span class="dp">·</span>in<span class="dp">·</span>favour<span class="dp">·</span>of<span class="dp">·</span>importlib:DeprecationWarning&quot;,</td><td class="diffline">80 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;ignore:the<span class="dp">·</span>imp<span class="dp">·</span>module<span class="dp">·</span>is<span class="dp">·</span>deprecated<span class="dp">·</span>in<span class="dp">·</span>favour<span class="dp">·</span>of<span class="dp">·</span>importlib:DeprecationWarning&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">78 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;ignore:distutils<span class="dp">·</span>Version<span class="dp">·</span>classes<span class="dp">·</span>are<span class="dp">·</span>deprecated.<span class="dp">·</span>Use<span class="dp">·</span>packaging.version<span class="dp">·</span>instead:DeprecationWarning&quot;,</td><td class="diffline">81 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;ignore:distutils<span class="dp">·</span>Version<span class="dp">·</span>classes<span class="dp">·</span>are<span class="dp">·</span>deprecated.<span class="dp">·</span>Use<span class="dp">·</span>packaging.version<span class="dp">·</span>instead:DeprecationWarning&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">79 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;ignore:The<span class="dp">·</span>gensim.similarities.levenshtein<span class="dp">·</span>submodule<span class="dp">·</span>is<span class="dp">·</span>disabled,<span class="dp">·</span>because<span class="dp">·</span>the<span class="dp">·</span>optional<span class="dp">·</span>Levenshtein<span class="dp">·</span>package:UserWarning&quot;,</td><td class="diffline">82 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;ignore:The<span class="dp">·</span>gensim.similarities.levenshtein<span class="dp">·</span>submodule<span class="dp">·</span>is<span class="dp">·</span>disabled,<span class="dp">·</span>because<span class="dp">·</span>the<span class="dp">·</span>optional<span class="dp">·</span>Levenshtein<span class="dp">·</span>package:UserWarning&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">80 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;ignore:.(tf.layers|layer|tf.nn).*<span class="dp">·</span>is<span class="dp">·</span>deprecated:UserWarning&quot;,</td><td class="diffline">83 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;ignore:.(tf.layers|layer|tf.nn).*<span class="dp">·</span>is<span class="dp">·</span>deprecated:UserWarning&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">81 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;ignore:User<span class="dp">·</span>provided<span class="dp">·</span>device_type<span class="dp">·</span>of<span class="dp">·</span>&#x27;cuda&#x27;,<span class="dp">·</span>but<span class="dp">·</span>CUDA<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>available:UserWarning&quot;,</td><td class="diffline">84 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;ignore:User<span class="dp">·</span>provided<span class="dp">·</span>device_type<span class="dp">·</span>of<span class="dp">·</span>&#x27;cuda&#x27;,<span class="dp">·</span>but<span class="dp">·</span>CUDA<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>available:UserWarning&quot;,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">85 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;ignore:`build_negative_samples`<span class="dp">·</span>is<span class="dp">·</span>deprecated&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">82 </td><td class="diffpresent">]</td><td class="diffline">86 </td><td class="diffpresent">]</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">83 </td><td class="diffpresent">[tool.ruff]</td><td class="diffline">87 </td><td class="diffpresent">[tool.ruff]</td></tr>
<tr class="diffunmodified"><td class="diffline">84 </td><td class="diffpresent">line-length<span class="dp">·</span>=<span class="dp">·</span>88</td><td class="diffline">88 </td><td class="diffpresent">line-length<span class="dp">·</span>=<span class="dp">·</span>88</td></tr>
<tr class="diffunmodified"><td class="diffline">85 </td><td class="diffpresent">target-version<span class="dp">·</span>=<span class="dp">·</span>&quot;py38&quot;</td><td class="diffline">89 </td><td class="diffpresent">target-version<span class="dp">·</span>=<span class="dp">·</span>&quot;py38&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">86 </td><td class="diffpresent">show-source<span class="dp">·</span>=<span class="dp">·</span>true</td><td class="diffline">90 </td><td class="diffpresent">show-source<span class="dp">·</span>=<span class="dp">·</span>true</td></tr>
<tr class="diffchanged"><td class="diffline">87 </td><td class="diffpresent">ignore<span class="dp">·</span>=<span class="dp">·</span>[&quot;E501&quot;,<span class="dp">·</span>&quot;F401&quot;,<span class="dp">·</span>&quot;B008&quot;,<span class="dp">·</span>&quot;B010&quot;,<span class="dp">·</span>&quot;<del>S101&quot;,</del><del><span class="dp">·</span>&quot;S1</del>0<del>4</del>&quot;]</td><td class="diffline">91 </td><td class="diffpresent">ignore<span class="dp">·</span>=<span class="dp">·</span>[&quot;E501&quot;,<span class="dp">·</span>&quot;F401&quot;,<span class="dp">·</span>&quot;B008&quot;,<span class="dp">·</span>&quot;B010&quot;,<span class="dp">·</span>&quot;<ins>NPY0</ins>0<ins>2</ins>&quot;]</td></tr>
<tr class="diffunmodified"><td class="diffline">88 </td><td class="diffpresent">select<span class="dp">·</span>=<span class="dp">·</span>[</td><td class="diffline">92 </td><td class="diffpresent">select<span class="dp">·</span>=<span class="dp">·</span>[</td></tr>
<tr class="diffunmodified"><td class="diffline">89 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>pyflakes</td><td class="diffline">93 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>pyflakes</td></tr>
<tr class="diffunmodified"><td class="diffline">90 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;F&quot;,</td><td class="diffline">94 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;F&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">91 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>pycodestyle</td><td class="diffline">95 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>pycodestyle</td></tr>
<tr class="diffunmodified"><td class="diffline">92 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;E&quot;,</td><td class="diffline">96 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;E&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">93 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;W&quot;,</td><td class="diffline">97 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;W&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">94 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>flake8-2020</td><td class="diffline">98 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>flake8-2020</td></tr>
<tr class="diffunmodified"><td class="diffline">95 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;YTT&quot;,</td><td class="diffline">99 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;YTT&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">96 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>flake8-bugbear</td><td class="diffline">100 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>flake8-bugbear</td></tr>
<tr class="diffunmodified"><td class="diffline">97 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;B&quot;,</td><td class="diffline">101 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;B&quot;,</td></tr>
<tr class="diffchanged"><td class="diffline">98 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span><del>f</del><del>l</del>a<del>ke</del><del>8-bandi</del>t</td><td class="diffline">102 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span><ins>p</ins>a<ins>ndas-ve</ins>t</td></tr>
<tr class="diffchanged"><td class="diffline">99 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;<del>S</del>&quot;,</td><td class="diffline">103 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;<ins>P</ins><ins>D</ins>&quot;,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">104 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>NumPy-specific<span class="dp">·</span>rules</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">105 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;NPY&quot;,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">106 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>Ruff-specific<span class="dp">·</span>rules</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">107 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;RUF&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">100 </td><td class="diffpresent">]</td><td class="diffline">108 </td><td class="diffpresent">]</td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">97.0 B</span></div>
      <div><span class="source">LibRecommender-1.0.1/setup.py</span> vs.</div>
      <div id="LibRecommender--.-.-.tar---LibRecommender--.-.--setup.py"><span class="source">LibRecommender-1.1.0/setup.py</span>
        <a class="anchor" href="#LibRecommender--.-.-.tar---LibRecommender--.-.--setup.py">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
  </div>
</div>
<div class="footer">
Generated by
<a href="https://diffoscope.org" rel="noopener noreferrer" target="_blank">
diffoscope</a> 238
</div>
</body>
</html>

