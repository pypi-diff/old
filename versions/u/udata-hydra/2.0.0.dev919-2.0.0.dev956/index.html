<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="x-ua-compatible" content="IE=edge">
  <meta name="referrer" content="no-referrer" />
  <meta name="generator" content="diffoscope" />
  <link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAADdgAAA3YBfdWCzAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAM8SURBVFiF7dZdaJZlGAfw3/O+e9XNjy3XllZzWImBxIpifqTgsmUHBSIeBNFBdRh0UHQ0xGdb66CFBIERZEFRQRRUw0HkQkLMYQSBdpCFWdgSP6jpNn2393k68Nn2bj3vXtb6UOh/cl/39b/u67mem/913zf/4z9GUDw5xNI8n5WIzW9m/QF2YluJmI8203mALzEvLWAerRs4Pz6vSIkZSlsYk0/GkaB0zEgyDgWMlijyWsJuS2fkQwu8pqpMTA0ypeiShG71Bp0rU8Q+A47MWEDgvHZbZl/Av4SpIgxVYB3IqwZDmoUuYkzosDaNchpAoFqkSmgjGPWzLieF1k3JHVsjvCJQHBYaSy9g1E3m+QImQiK9SbNGqJDzuiDZ0lggQJCsyelDq8BB47sbCWTsnvhG3kqcLL833eqF4hk1EOoTOjZjnnaRdq2l6KtMAyl4/g23bKJrun+Mt9uOq7nvqOVbebWYy9Adc1fM/R/3CO780dONbIeFPHsPw+ULeM5ZHTbXHfUtXpxOZzgT5z02UGsZThRzF/ilht9G+fr4zfbfccIxXIa7uVTup69i7LJXaEEqF3on1d9ludBLpVLOVoT1lky9QYtwQ6p3WAVqSyUslWwSbRrkPJrMtgn0iBVk7BPJ4sGE24EPQKW3jLgdzWKLBTbg0yTuZeGkDsp2gcUGDesHGQ/gK5G8nLMigWiCe3jCrnTRiJ9EYjm1ImsUEq5l8hScPXbpsVtlKhfan+pv0yD0ZqmU5XegGBmnDIo/pylj8oYLOP3Eab/v5Zmi6EtZ3vv1FU/2r7LioYSL2dNybbdiMdptFU57++20Vqh+iq/Tap1WpaWY611wmyWyUzxZDbIWTvEV1Ildn5agfBumoUMTtoisFvhebAAHZWxX0ChwTuScvHdVeVykToysMyJ7ittwbmj31J+6IrRDp5XTfBt1WJ+WYnZdMB0F3xlUgD5uDVj2Sa+a4SrzH+FeyHHmw17V112waBOZgP4WczkLZsILar1fpIliMU4XZoK/poE0XHl+N8v6QcGAUbVymnDIZVnzrTXqGzmnhKLxZX/niyiDjIJgwg4Se1GR/Y8idGPysh6fr0i1i/AHMWHgrwUJgNAAAAAASUVORK5CYII=" />
  <title>/srv/diffoscope/bin/diffoscope --no-progress tmp/udata_hydra-2.0.0.dev919.tar.gz tmp/udata_hydra-2.0.0.dev956.tar.gz --html versions/u/udata-hydra/2.0.0.dev919-2.0.0.dev956/index.html --text versions/u/udata-hydra/2.0.0.dev919-2.0.0.dev956/diff.txt --markdown versions/u/udata-hydra/2.0.0.dev919-2.0.0.dev956/diff.md</title>
<style>
body.diffoscope {
  background: white;
  color: black;
}
.diffoscope .footer {
  font-size: small;
}
.diffoscope .difference {
  border: outset #888 1px;
  background: #E8E8E8;
  background: rgba(0,0,0,.1);
  padding: 0.5em;
  margin: 0.5em 0;
}
.diffoscope .difference table {
  table-layout: fixed;
  width: 100%;
  border: 0;
}
.diffoscope .difference th,
.diffoscope .difference td {
  border: 0;
}
.diffoscope table.diff {
  border: 0;
  border-collapse:collapse;
  font-size:0.75em;
  font-family: 'Lucida Console', monospace;
  word-break: break-word;
}
.diffoscope table.diff tr:hover td {
  background: #FFFF00;
}
.diffoscope .line {
  color:#8080a0
}
.diffoscope th {
  background: black;
  color: white
}
.diffoscope .diffunmodified td {
  background: #D0D0E0
}
.diffoscope .diffhunk td {
  background: #A0A0A0
}
.diffoscope .diffadded td {
  background: #CCFFCC
}
.diffoscope .diffdeleted td {
  background: #FFCCCC
}
.diffoscope .diffchanged td {
  background: #FFFFA0
}
.diffoscope ins, del {
  background: #E0C880;
  text-decoration: none
}
.diffoscope .dp {
  color: #B08080
}
.diffoscope .comment {
  font-style: italic;
}
.diffoscope .comment.multiline {
  font-style: normal;
  font-family: monospace;
  white-space: pre;
}
.diffoscope .source {
  font-weight: bold;
}
.diffoscope .error {
  border: solid black 1px;
  background: red;
  color: white;
  padding: 0.2em;
}
.diffoscope .anchor {
  margin-left: 0.5em;
  font-size: 80%;
  color: #333;
  text-decoration: none;
  display: none;
}
.diffoscope .diffheader:hover .anchor {
  display: inline;
}
.diffoscope .diffcontrol, .diffoscope .diffcontrol-nochildren {
  float: left;
  margin-right: 0.3em;
  cursor: pointer;
  display: none; /* currently, only available in html-dir output where jquery is enabled */
}
.diffoscope .colines {
  width: 3em;
}
.diffoscope .coldiff {
  width: 99%;
}
.diffoscope .diffsize {
  float: right;
}
.diffoscope table.diff tr.ondemand td, .diffoscope div.ondemand-details {
  background: #f99;
  text-align: center;
  padding: 0.5em 0;
}
.diffoscope table.diff tr.ondemand:hover td, .diffoscope div.ondemand-details:hover {
  background: #faa;
  cursor: pointer;
}
</style>
</head>
<body class="diffoscope">
<div class="difference">
  <div class="diffheader">
  <div class="diffcontrol diffcontrol-double">⊟</div>
  <div><span class="diffsize">38.0 KB</span></div>
  <div><span class="source">tmp/udata_hydra-2.0.0.dev919.tar.gz</span> vs.</div>
  <div id="top"><span class="source">tmp/udata_hydra-2.0.0.dev956.tar.gz</span>
    <a class="anchor" href="#top">¶</a>
  </div>
  </div>
  <div class="difference">
    <div class="diffheader">
    <div class="diffcontrol">⊟</div>
    <div><span class="diffsize">204 B</span></div>
    <div id="filetype-from-file---"><span class="source">filetype from file(1)</span>
      <a class="anchor" href="#filetype-from-file---">¶</a>
    </div>
    </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 1 lines modified</td><td colspan="2">Offset 1, 1 lines modified</td></tr>
<tr class="diffchanged"><td class="diffline">1 </td><td class="diffpresent">gzip<span class="dp">·</span>compressed<span class="dp">·</span>data,<span class="dp">·</span>was<span class="dp">·</span>&quot;udata_hydra-2.0.0.dev9<del>19</del>.tar&quot;,<span class="dp">·</span>max<span class="dp">·</span>compression</td><td class="diffline">1 </td><td class="diffpresent">gzip<span class="dp">·</span>compressed<span class="dp">·</span>data,<span class="dp">·</span>was<span class="dp">·</span>&quot;udata_hydra-2.0.0.dev9<ins>56</ins>.tar&quot;,<span class="dp">·</span>max<span class="dp">·</span>compression</td></tr>
</table>  </div>
  <div class="difference">
    <div class="diffheader">
    <div class="diffcontrol diffcontrol-double">⊟</div>
    <div><span class="diffsize">37.7 KB</span></div>
    <div><span class="source">udata_hydra-2.0.0.dev919.tar</span> vs.</div>
    <div id="udata_hydra--.-.-.dev---.tar"><span class="source">udata_hydra-2.0.0.dev956.tar</span>
      <a class="anchor" href="#udata_hydra--.-.-.dev---.tar">¶</a>
    </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol">⊟</div>
      <div><span class="diffsize">9.35 KB</span></div>
      <div id="udata_hydra--.-.-.dev---.tar---file-list"><span class="source">file list</span>
        <a class="anchor" href="#udata_hydra--.-.-.dev---.tar---file-list">¶</a>
      </div>
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 35 lines modified</td><td colspan="2">Offset 1, 39 lines modified</td></tr>
<tr class="diffchanged"><td class="diffline">1 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>8815<span class="dp">·</span>2023-02-<del>0</del>1<span class="dp">·</span><del>16</del>:<del>40</del>:<del>32</del>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<del>19</del>/README.md</td><td class="diffline">1 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>8815<span class="dp">·</span>2023-02-<ins>1</ins>1<span class="dp">·</span><ins>09</ins>:<ins>01</ins>:<ins>58</ins>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<ins>56</ins>/README.md</td></tr>
<tr class="diffchanged"><td class="diffline">2 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>12<del>66</del><span class="dp">·</span>2023-02-<del>0</del>1<span class="dp">·</span><del>16</del>:<del>42</del>:<del>03</del>.<del>727985</del><span class="dp">·</span>udata_hydra-2.0.0.dev9<del>19</del>/pyproject.toml</td><td class="diffline">2 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>12<ins>88</ins><span class="dp">·</span>2023-02-<ins>1</ins>1<span class="dp">·</span><ins>09</ins>:<ins>03</ins>:<ins>37</ins>.<ins>414664</ins><span class="dp">·</span>udata_hydra-2.0.0.dev9<ins>56</ins>/pyproject.toml</td></tr>
<tr class="diffchanged"><td class="diffline">3 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1145<span class="dp">·</span>2023-02-<del>0</del>1<span class="dp">·</span><del>16</del>:<del>40</del>:<del>32</del>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<del>19</del>/udata_hydra/__init__.py</td><td class="diffline">3 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1145<span class="dp">·</span>2023-02-<ins>1</ins>1<span class="dp">·</span><ins>09</ins>:<ins>01</ins>:<ins>58</ins>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<ins>56</ins>/udata_hydra/__init__.py</td></tr>
<tr class="diffchanged"><td class="diffline">4 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>2023-02-<del>0</del>1<span class="dp">·</span><del>16</del>:<del>40</del>:<del>32</del>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<del>19</del>/udata_hydra/analysis/__init__.py</td><td class="diffline">4 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>2023-02-<ins>1</ins>1<span class="dp">·</span><ins>09</ins>:<ins>01</ins>:<ins>58</ins>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<ins>56</ins>/udata_hydra/analysis/__init__.py</td></tr>
<tr class="diffchanged"><td class="diffline">5 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del><span class="dp">·</span>9005</del><span class="dp">·</span>2023-02-<del>0</del>1<span class="dp">·</span><del>16</del>:<del>40</del>:<del>32</del>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<del>19</del>/udata_hydra/analysis/csv.py</td><td class="diffline">5 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>10167</ins><span class="dp">·</span>2023-02-<ins>1</ins>1<span class="dp">·</span><ins>09</ins>:<ins>01</ins>:<ins>58</ins>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<ins>56</ins>/udata_hydra/analysis/csv.py</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">6 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>144<span class="dp">·</span>2023-02-11<span class="dp">·</span>09:01:58.000000<span class="dp">·</span>udata_hydra-2.0.0.dev956/udata_hydra/analysis/errors.py</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">7 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>694<span class="dp">·</span>2023-02-11<span class="dp">·</span>09:01:58.000000<span class="dp">·</span>udata_hydra-2.0.0.dev956/udata_hydra/analysis/helpers.py</td></tr>
<tr class="diffchanged"><td class="diffline">6 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>9<del>530</del><span class="dp">·</span>2023-02-<del>0</del>1<span class="dp">·</span><del>16</del>:<del>40</del>:<del>32</del>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<del>19</del>/udata_hydra/analysis/resource.py</td><td class="diffline">8 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>9<ins>394</ins><span class="dp">·</span>2023-02-<ins>1</ins>1<span class="dp">·</span><ins>09</ins>:<ins>01</ins>:<ins>58</ins>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<ins>56</ins>/udata_hydra/analysis/resource.py</td></tr>
<tr class="diffchanged"><td class="diffline">7 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>10921<span class="dp">·</span>2023-02-<del>0</del>1<span class="dp">·</span><del>16</del>:<del>40</del>:<del>32</del>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<del>19</del>/udata_hydra/app.py</td><td class="diffline">9 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>10921<span class="dp">·</span>2023-02-<ins>1</ins>1<span class="dp">·</span><ins>09</ins>:<ins>01</ins>:<ins>58</ins>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<ins>56</ins>/udata_hydra/app.py</td></tr>
<tr class="diffchanged"><td class="diffline">8 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>9<del>05</del>8<span class="dp">·</span>2023-02-<del>0</del>1<span class="dp">·</span><del>16</del>:<del>40</del>:<del>32</del>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<del>19</del>/udata_hydra/cli.py</td><td class="diffline">10 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>9<ins>19</ins>8<span class="dp">·</span>2023-02-<ins>1</ins>1<span class="dp">·</span><ins>09</ins>:<ins>01</ins>:<ins>58</ins>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<ins>56</ins>/udata_hydra/cli.py</td></tr>
<tr class="diffchanged"><td class="diffline">9 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1436<span class="dp">·</span>2023-02-<del>0</del>1<span class="dp">·</span><del>16</del>:<del>40</del>:<del>32</del>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<del>19</del>/udata_hydra/config_default.toml</td><td class="diffline">11 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1436<span class="dp">·</span>2023-02-<ins>1</ins>1<span class="dp">·</span><ins>09</ins>:<ins>01</ins>:<ins>58</ins>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<ins>56</ins>/udata_hydra/config_default.toml</td></tr>
<tr class="diffchanged"><td class="diffline">10 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1222<span class="dp">·</span>2023-02-<del>0</del>1<span class="dp">·</span><del>16</del>:<del>40</del>:<del>32</del>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<del>19</del>/udata_hydra/context.py</td><td class="diffline">12 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1222<span class="dp">·</span>2023-02-<ins>1</ins>1<span class="dp">·</span><ins>09</ins>:<ins>01</ins>:<ins>58</ins>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<ins>56</ins>/udata_hydra/context.py</td></tr>
<tr class="diffchanged"><td class="diffline">11 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>128<del>00</del><span class="dp">·</span>2023-02-<del>0</del>1<span class="dp">·</span><del>16</del>:<del>40</del>:<del>32</del>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<del>19</del>/udata_hydra/crawl.py</td><td class="diffline">13 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>128<ins>19</ins><span class="dp">·</span>2023-02-<ins>1</ins>1<span class="dp">·</span><ins>09</ins>:<ins>01</ins>:<ins>58</ins>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<ins>56</ins>/udata_hydra/crawl.py</td></tr>
<tr class="diffchanged"><td class="diffline">12 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>875<span class="dp">·</span>2023-02-<del>0</del>1<span class="dp">·</span><del>16</del>:<del>40</del>:<del>32</del>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<del>19</del>/udata_hydra/logger.py</td><td class="diffline">14 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>875<span class="dp">·</span>2023-02-<ins>1</ins>1<span class="dp">·</span><ins>09</ins>:<ins>01</ins>:<ins>58</ins>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<ins>56</ins>/udata_hydra/logger.py</td></tr>
<tr class="diffchanged"><td class="diffline">13 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>2125<span class="dp">·</span>2023-02-<del>0</del>1<span class="dp">·</span><del>16</del>:<del>40</del>:<del>32</del>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<del>19</del>/udata_hydra/migrations/__init__.py</td><td class="diffline">15 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>2125<span class="dp">·</span>2023-02-<ins>1</ins>1<span class="dp">·</span><ins>09</ins>:<ins>01</ins>:<ins>58</ins>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<ins>56</ins>/udata_hydra/migrations/__init__.py</td></tr>
<tr class="diffchanged"><td class="diffline">14 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>224<span class="dp">·</span>2023-02-<del>0</del>1<span class="dp">·</span><del>16</del>:<del>40</del>:<del>32</del>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<del>19</del>/udata_hydra/migrations/csv/20221205_initial_up_rev1.sql</td><td class="diffline">16 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>224<span class="dp">·</span>2023-02-<ins>1</ins>1<span class="dp">·</span><ins>09</ins>:<ins>01</ins>:<ins>58</ins>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<ins>56</ins>/udata_hydra/migrations/csv/20221205_initial_up_rev1.sql</td></tr>
<tr class="diffchanged"><td class="diffline">15 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>63<span class="dp">·</span>2023-02-<del>0</del>1<span class="dp">·</span><del>16</del>:<del>40</del>:<del>32</del>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<del>19</del>/udata_hydra/migrations/csv/20230130_drop_migrations.sql</td><td class="diffline">17 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>63<span class="dp">·</span>2023-02-<ins>1</ins>1<span class="dp">·</span><ins>09</ins>:<ins>01</ins>:<ins>58</ins>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<ins>56</ins>/udata_hydra/migrations/csv/20230130_drop_migrations.sql</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">18 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>108<span class="dp">·</span>2023-02-11<span class="dp">·</span>09:01:58.000000<span class="dp">·</span>udata_hydra-2.0.0.dev956/udata_hydra/migrations/csv/20230206_datetime_aware.sql</td></tr>
<tr class="diffchanged"><td class="diffline">16 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>756<span class="dp">·</span>2023-02-<del>0</del>1<span class="dp">·</span><del>16</del>:<del>40</del>:<del>32</del>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<del>19</del>/udata_hydra/migrations/main/20221205_initial_up_rev1.sql</td><td class="diffline">19 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>756<span class="dp">·</span>2023-02-<ins>1</ins>1<span class="dp">·</span><ins>09</ins>:<ins>01</ins>:<ins>58</ins>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<ins>56</ins>/udata_hydra/migrations/main/20221205_initial_up_rev1.sql</td></tr>
<tr class="diffchanged"><td class="diffline">17 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>96<span class="dp">·</span>2023-02-<del>0</del>1<span class="dp">·</span><del>16</del>:<del>40</del>:<del>32</del>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<del>19</del>/udata_hydra/migrations/main/20221206_rev1_up_rev2.sql</td><td class="diffline">20 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>96<span class="dp">·</span>2023-02-<ins>1</ins>1<span class="dp">·</span><ins>09</ins>:<ins>01</ins>:<ins>58</ins>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<ins>56</ins>/udata_hydra/migrations/main/20221206_rev1_up_rev2.sql</td></tr>
<tr class="diffchanged"><td class="diffline">18 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>84<span class="dp">·</span>2023-02-<del>0</del>1<span class="dp">·</span><del>16</del>:<del>40</del>:<del>32</del>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<del>19</del>/udata_hydra/migrations/main/20221206_rev2_up_rev3.sql</td><td class="diffline">21 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>84<span class="dp">·</span>2023-02-<ins>1</ins>1<span class="dp">·</span><ins>09</ins>:<ins>01</ins>:<ins>58</ins>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<ins>56</ins>/udata_hydra/migrations/main/20221206_rev2_up_rev3.sql</td></tr>
<tr class="diffchanged"><td class="diffline">19 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>82<span class="dp">·</span>2023-02-<del>0</del>1<span class="dp">·</span><del>16</del>:<del>40</del>:<del>32</del>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<del>19</del>/udata_hydra/migrations/main/20221208_rev3_up_rev4.sql</td><td class="diffline">22 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>82<span class="dp">·</span>2023-02-<ins>1</ins>1<span class="dp">·</span><ins>09</ins>:<ins>01</ins>:<ins>58</ins>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<ins>56</ins>/udata_hydra/migrations/main/20221208_rev3_up_rev4.sql</td></tr>
<tr class="diffchanged"><td class="diffline">20 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>120<span class="dp">·</span>2023-02-<del>0</del>1<span class="dp">·</span><del>16</del>:<del>40</del>:<del>32</del>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<del>19</del>/udata_hydra/migrations/main/20221208_rev4_up_rev5.sql</td><td class="diffline">23 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>120<span class="dp">·</span>2023-02-<ins>1</ins>1<span class="dp">·</span><ins>09</ins>:<ins>01</ins>:<ins>58</ins>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<ins>56</ins>/udata_hydra/migrations/main/20221208_rev4_up_rev5.sql</td></tr>
<tr class="diffchanged"><td class="diffline">21 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>240<span class="dp">·</span>2023-02-<del>0</del>1<span class="dp">·</span><del>16</del>:<del>40</del>:<del>32</del>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<del>19</del>/udata_hydra/migrations/main/20230119_rev5_up_rev6.sql</td><td class="diffline">24 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>240<span class="dp">·</span>2023-02-<ins>1</ins>1<span class="dp">·</span><ins>09</ins>:<ins>01</ins>:<ins>58</ins>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<ins>56</ins>/udata_hydra/migrations/main/20230119_rev5_up_rev6.sql</td></tr>
<tr class="diffchanged"><td class="diffline">22 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>156<span class="dp">·</span>2023-02-<del>0</del>1<span class="dp">·</span><del>16</del>:<del>40</del>:<del>32</del>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<del>19</del>/udata_hydra/migrations/main/20230121_rev6_up_rev7.sql</td><td class="diffline">25 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>156<span class="dp">·</span>2023-02-<ins>1</ins>1<span class="dp">·</span><ins>09</ins>:<ins>01</ins>:<ins>58</ins>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<ins>56</ins>/udata_hydra/migrations/main/20230121_rev6_up_rev7.sql</td></tr>
<tr class="diffchanged"><td class="diffline">23 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>124<span class="dp">·</span>2023-02-<del>0</del>1<span class="dp">·</span><del>16</del>:<del>40</del>:<del>32</del>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<del>19</del>/udata_hydra/migrations/main/20230121_rev7_up_rev8.sql</td><td class="diffline">26 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>124<span class="dp">·</span>2023-02-<ins>1</ins>1<span class="dp">·</span><ins>09</ins>:<ins>01</ins>:<ins>58</ins>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<ins>56</ins>/udata_hydra/migrations/main/20230121_rev7_up_rev8.sql</td></tr>
<tr class="diffchanged"><td class="diffline">24 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>63<span class="dp">·</span>2023-02-<del>0</del>1<span class="dp">·</span><del>16</del>:<del>40</del>:<del>32</del>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<del>19</del>/udata_hydra/migrations/main/20230130_drop_migrations.sql</td><td class="diffline">27 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>63<span class="dp">·</span>2023-02-<ins>1</ins>1<span class="dp">·</span><ins>09</ins>:<ins>01</ins>:<ins>58</ins>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<ins>56</ins>/udata_hydra/migrations/main/20230130_drop_migrations.sql</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">28 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>343<span class="dp">·</span>2023-02-11<span class="dp">·</span>09:01:58.000000<span class="dp">·</span>udata_hydra-2.0.0.dev956/udata_hydra/migrations/main/20230206_datetime_aware.sql</td></tr>
<tr class="diffchanged"><td class="diffline">25 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>2023-02-<del>0</del>1<span class="dp">·</span><del>16</del>:<del>40</del>:<del>32</del>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<del>19</del>/udata_hydra/utils/__init__.py</td><td class="diffline">29 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span>2023-02-<ins>1</ins>1<span class="dp">·</span><ins>09</ins>:<ins>01</ins>:<ins>58</ins>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<ins>56</ins>/udata_hydra/utils/__init__.py</td></tr>
<tr class="diffchanged"><td class="diffline">26 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>342<span class="dp">·</span>2023-02-<del>0</del>1<span class="dp">·</span><del>16</del>:<del>40</del>:<del>32</del>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<del>19</del>/udata_hydra/utils/csv.py</td><td class="diffline">30 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>342<span class="dp">·</span>2023-02-<ins>1</ins>1<span class="dp">·</span><ins>09</ins>:<ins>01</ins>:<ins>58</ins>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<ins>56</ins>/udata_hydra/utils/csv.py</td></tr>
<tr class="diffchanged"><td class="diffline">27 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>3030<span class="dp">·</span>2023-02-<del>0</del>1<span class="dp">·</span><del>16</del>:<del>40</del>:<del>32</del>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<del>19</del>/udata_hydra/utils/db.py</td><td class="diffline">31 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>3030<span class="dp">·</span>2023-02-<ins>1</ins>1<span class="dp">·</span><ins>09</ins>:<ins>01</ins>:<ins>58</ins>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<ins>56</ins>/udata_hydra/utils/db.py</td></tr>
<tr class="diffchanged"><td class="diffline">28 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1527<span class="dp">·</span>2023-02-<del>0</del>1<span class="dp">·</span><del>16</del>:<del>40</del>:<del>32</del>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<del>19</del>/udata_hydra/utils/file.py</td><td class="diffline">32 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1527<span class="dp">·</span>2023-02-<ins>1</ins>1<span class="dp">·</span><ins>09</ins>:<ins>01</ins>:<ins>58</ins>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<ins>56</ins>/udata_hydra/utils/file.py</td></tr>
<tr class="diffchanged"><td class="diffline">29 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>1174</del><span class="dp">·</span>2023-02-<del>0</del>1<span class="dp">·</span><del>16</del>:<del>40</del>:<del>32</del>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<del>19</del>/udata_hydra/utils/http.py</td><td class="diffline">33 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins><span class="dp">·</span>955</ins><span class="dp">·</span>2023-02-<ins>1</ins>1<span class="dp">·</span><ins>09</ins>:<ins>01</ins>:<ins>58</ins>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<ins>56</ins>/udata_hydra/utils/http.py</td></tr>
<tr class="diffchanged"><td class="diffline">30 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>236<span class="dp">·</span>2023-02-<del>0</del>1<span class="dp">·</span><del>16</del>:<del>40</del>:<del>32</del>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<del>19</del>/udata_hydra/utils/json.py</td><td class="diffline">34 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>236<span class="dp">·</span>2023-02-<ins>1</ins>1<span class="dp">·</span><ins>09</ins>:<ins>01</ins>:<ins>58</ins>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<ins>56</ins>/udata_hydra/utils/json.py</td></tr>
<tr class="diffchanged"><td class="diffline">31 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1884<span class="dp">·</span>2023-02-<del>0</del>1<span class="dp">·</span><del>16</del>:<del>40</del>:<del>32</del>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<del>19</del>/udata_hydra/utils/minio.py</td><td class="diffline">35 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>1884<span class="dp">·</span>2023-02-<ins>1</ins>1<span class="dp">·</span><ins>09</ins>:<ins>01</ins>:<ins>58</ins>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<ins>56</ins>/udata_hydra/utils/minio.py</td></tr>
<tr class="diffchanged"><td class="diffline">32 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>482<span class="dp">·</span>2023-02-<del>0</del>1<span class="dp">·</span><del>16</del>:<del>40</del>:<del>32</del>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<del>19</del>/udata_hydra/utils/queue.py</td><td class="diffline">36 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>482<span class="dp">·</span>2023-02-<ins>1</ins>1<span class="dp">·</span><ins>09</ins>:<ins>01</ins>:<ins>58</ins>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<ins>56</ins>/udata_hydra/utils/queue.py</td></tr>
<tr class="diffchanged"><td class="diffline">33 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>161<span class="dp">·</span>2023-02-<del>0</del>1<span class="dp">·</span><del>16</del>:<del>40</del>:<del>32</del>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<del>19</del>/udata_hydra/worker.py</td><td class="diffline">37 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>161<span class="dp">·</span>2023-02-<ins>1</ins>1<span class="dp">·</span><ins>09</ins>:<ins>01</ins>:<ins>58</ins>.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<ins>56</ins>/udata_hydra/worker.py</td></tr>
<tr class="diffchanged"><td class="diffline">34 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>10<del>697</del><span class="dp">·</span>1970-01-01<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<del>19</del>/setup.py</td><td class="diffline">38 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>10<ins>726</ins><span class="dp">·</span>1970-01-01<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<ins>56</ins>/setup.py</td></tr>
<tr class="diffchanged"><td class="diffline">35 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>102<del>22</del><span class="dp">·</span>1970-01-01<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<del>19</del>/PKG-INFO</td><td class="diffline">39 </td><td class="diffpresent">-rw-r--r--<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>0<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>102<ins>65</ins><span class="dp">·</span>1970-01-01<span class="dp">·</span>00:00:00.000000<span class="dp">·</span>udata_hydra-2.0.0.dev9<ins>56</ins>/PKG-INFO</td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">107 B</span></div>
      <div><span class="source">udata_hydra-2.0.0.dev919/README.md</span> vs.</div>
      <div id="udata_hydra--.-.-.dev---.tar---udata_hydra--.-.-.dev----README.md"><span class="source">udata_hydra-2.0.0.dev956/README.md</span>
        <a class="anchor" href="#udata_hydra--.-.-.dev---.tar---udata_hydra--.-.-.dev----README.md">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">1.1 KB</span></div>
      <div><span class="source">udata_hydra-2.0.0.dev919/pyproject.toml</span> vs.</div>
      <div id="udata_hydra--.-.-.dev---.tar---udata_hydra--.-.-.dev----pyproject.toml"><span class="source">udata_hydra-2.0.0.dev956/pyproject.toml</span>
        <a class="anchor" href="#udata_hydra--.-.-.dev---.tar---udata_hydra--.-.-.dev----pyproject.toml">¶</a>
      </div>
      </div>
      <div class="comment">Files 8% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 10 lines modified</td><td colspan="2">Offset 1, 10 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">1 </td><td class="diffpresent">[tool.poetry]</td><td class="diffline">1 </td><td class="diffpresent">[tool.poetry]</td></tr>
<tr class="diffunmodified"><td class="diffline">2 </td><td class="diffpresent">name<span class="dp">·</span>=<span class="dp">·</span>&quot;udata-hydra&quot;</td><td class="diffline">2 </td><td class="diffpresent">name<span class="dp">·</span>=<span class="dp">·</span>&quot;udata-hydra&quot;</td></tr>
<tr class="diffchanged"><td class="diffline">3 </td><td class="diffpresent">version<span class="dp">·</span>=<span class="dp">·</span>&quot;2.0.0.dev9<del>19</del>&quot;</td><td class="diffline">3 </td><td class="diffpresent">version<span class="dp">·</span>=<span class="dp">·</span>&quot;2.0.0.dev9<ins>56</ins>&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">4 </td><td class="diffpresent">description<span class="dp">·</span>=<span class="dp">·</span>&quot;Async<span class="dp">·</span>crawler<span class="dp">·</span>and<span class="dp">·</span>parsing<span class="dp">·</span>service<span class="dp">·</span>for<span class="dp">·</span>data.gouv.fr&quot;</td><td class="diffline">4 </td><td class="diffpresent">description<span class="dp">·</span>=<span class="dp">·</span>&quot;Async<span class="dp">·</span>crawler<span class="dp">·</span>and<span class="dp">·</span>parsing<span class="dp">·</span>service<span class="dp">·</span>for<span class="dp">·</span>data.gouv.fr&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">5 </td><td class="diffpresent">authors<span class="dp">·</span>=<span class="dp">·</span>[&quot;Opendata<span class="dp">·</span>Team<span class="dp">·</span>&lt;opendatateam@data.gouv.fr&gt;&quot;]</td><td class="diffline">5 </td><td class="diffpresent">authors<span class="dp">·</span>=<span class="dp">·</span>[&quot;Opendata<span class="dp">·</span>Team<span class="dp">·</span>&lt;opendatateam@data.gouv.fr&gt;&quot;]</td></tr>
<tr class="diffunmodified"><td class="diffline">6 </td><td class="diffpresent">license<span class="dp">·</span>=<span class="dp">·</span>&quot;MIT&quot;</td><td class="diffline">6 </td><td class="diffpresent">license<span class="dp">·</span>=<span class="dp">·</span>&quot;MIT&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">7 </td><td class="diffpresent">readme<span class="dp">·</span>=<span class="dp">·</span>&quot;README.md&quot;</td><td class="diffline">7 </td><td class="diffpresent">readme<span class="dp">·</span>=<span class="dp">·</span>&quot;README.md&quot;</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">8 </td><td class="diffpresent">[tool.poetry.dependencies]</td><td class="diffline">8 </td><td class="diffpresent">[tool.poetry.dependencies]</td></tr>
<tr class="diffunmodified"><td class="diffline">9 </td><td class="diffpresent">python<span class="dp">·</span>=<span class="dp">·</span>&quot;^3.9&quot;</td><td class="diffline">9 </td><td class="diffpresent">python<span class="dp">·</span>=<span class="dp">·</span>&quot;^3.9&quot;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 13, 26 lines modified</td><td colspan="2">Offset 13, 27 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">13 </td><td class="diffpresent">aiohttp<span class="dp">·</span>=<span class="dp">·</span>&quot;^3.8.1&quot;</td><td class="diffline">13 </td><td class="diffpresent">aiohttp<span class="dp">·</span>=<span class="dp">·</span>&quot;^3.8.1&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">14 </td><td class="diffpresent">asyncpg<span class="dp">·</span>=<span class="dp">·</span>&quot;^0.27.0&quot;</td><td class="diffline">14 </td><td class="diffpresent">asyncpg<span class="dp">·</span>=<span class="dp">·</span>&quot;^0.27.0&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">15 </td><td class="diffpresent">boto3<span class="dp">·</span>=<span class="dp">·</span>&quot;^1.21.21&quot;</td><td class="diffline">15 </td><td class="diffpresent">boto3<span class="dp">·</span>=<span class="dp">·</span>&quot;^1.21.21&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">16 </td><td class="diffpresent">humanfriendly<span class="dp">·</span>=<span class="dp">·</span>&quot;^10.0&quot;</td><td class="diffline">16 </td><td class="diffpresent">humanfriendly<span class="dp">·</span>=<span class="dp">·</span>&quot;^10.0&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">17 </td><td class="diffpresent">marshmallow<span class="dp">·</span>=<span class="dp">·</span>&quot;^3.14.1&quot;</td><td class="diffline">17 </td><td class="diffpresent">marshmallow<span class="dp">·</span>=<span class="dp">·</span>&quot;^3.14.1&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">18 </td><td class="diffpresent">minicli<span class="dp">·</span>=<span class="dp">·</span>&quot;^0.5.0&quot;</td><td class="diffline">18 </td><td class="diffpresent">minicli<span class="dp">·</span>=<span class="dp">·</span>&quot;^0.5.0&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent">progressist<span class="dp">·</span>=<span class="dp">·</span>&quot;^0.1.0&quot;</td><td class="diffline">19 </td><td class="diffpresent">progressist<span class="dp">·</span>=<span class="dp">·</span>&quot;^0.1.0&quot;</td></tr>
<tr class="diffdeleted"><td class="diffline">20 </td><td class="diffpresent">python-dateutil<span class="dp">·</span>=<span class="dp">·</span>&quot;^2.8.2&quot;</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent">python-magic<span class="dp">·</span>=<span class="dp">·</span>&quot;^0.4.25<span class="dp">·</span>&quot;</td><td class="diffline">20 </td><td class="diffpresent">python-magic<span class="dp">·</span>=<span class="dp">·</span>&quot;^0.4.25<span class="dp">·</span>&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent">redis<span class="dp">·</span>=<span class="dp">·</span>&quot;^4.1.4&quot;</td><td class="diffline">21 </td><td class="diffpresent">redis<span class="dp">·</span>=<span class="dp">·</span>&quot;^4.1.4&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">23 </td><td class="diffpresent">sentry-sdk<span class="dp">·</span>=<span class="dp">·</span>&quot;^1.11.1&quot;</td><td class="diffline">22 </td><td class="diffpresent">sentry-sdk<span class="dp">·</span>=<span class="dp">·</span>&quot;^1.11.1&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">24 </td><td class="diffpresent">aiocontextvars<span class="dp">·</span>=<span class="dp">·</span>&quot;^0.2.2&quot;</td><td class="diffline">23 </td><td class="diffpresent">aiocontextvars<span class="dp">·</span>=<span class="dp">·</span>&quot;^0.2.2&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">25 </td><td class="diffpresent">coloredlogs<span class="dp">·</span>=<span class="dp">·</span>&quot;^15.0.1&quot;</td><td class="diffline">24 </td><td class="diffpresent">coloredlogs<span class="dp">·</span>=<span class="dp">·</span>&quot;^15.0.1&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">26 </td><td class="diffpresent">rq<span class="dp">·</span>=<span class="dp">·</span>&quot;^1.11.1&quot;</td><td class="diffline">25 </td><td class="diffpresent">rq<span class="dp">·</span>=<span class="dp">·</span>&quot;^1.11.1&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">27 </td><td class="diffpresent">toml<span class="dp">·</span>=<span class="dp">·</span>&quot;^0.10.2&quot;</td><td class="diffline">26 </td><td class="diffpresent">toml<span class="dp">·</span>=<span class="dp">·</span>&quot;^0.10.2&quot;</td></tr>
<tr class="diffdeleted"><td class="diffline">28 </td><td class="diffpresent">csv-detective<span class="dp">·</span>=<span class="dp">·</span>&quot;^0.4.6&quot;</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">29 </td><td class="diffpresent">str2float<span class="dp">·</span>=<span class="dp">·</span>&quot;^0.0.9&quot;</td><td class="diffline">27 </td><td class="diffpresent">str2float<span class="dp">·</span>=<span class="dp">·</span>&quot;^0.0.9&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">30 </td><td class="diffpresent">str2bool<span class="dp">·</span>=<span class="dp">·</span>&quot;^1.1&quot;</td><td class="diffline">28 </td><td class="diffpresent">str2bool<span class="dp">·</span>=<span class="dp">·</span>&quot;^1.1&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">31 </td><td class="diffpresent">sqlalchemy<span class="dp">·</span>=<span class="dp">·</span>&quot;^1.4.46&quot;</td><td class="diffline">29 </td><td class="diffpresent">sqlalchemy<span class="dp">·</span>=<span class="dp">·</span>&quot;^1.4.46&quot;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">30 </td><td class="diffpresent">dateparser<span class="dp">·</span>=<span class="dp">·</span>&quot;^1.1.7&quot;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">31 </td><td class="diffpresent">python-dateutil<span class="dp">·</span>=<span class="dp">·</span>&quot;^2.8.2&quot;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">32 </td><td class="diffpresent">csv-detective<span class="dp">·</span>=<span class="dp">·</span>&quot;^0.4.7&quot;</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">32 </td><td class="diffpresent">[tool.poetry.group.dev.dependencies]</td><td class="diffline">33 </td><td class="diffpresent">[tool.poetry.group.dev.dependencies]</td></tr>
<tr class="diffunmodified"><td class="diffline">33 </td><td class="diffpresent">flake8-quotes<span class="dp">·</span>=<span class="dp">·</span>&quot;^3.3.1&quot;</td><td class="diffline">34 </td><td class="diffpresent">flake8-quotes<span class="dp">·</span>=<span class="dp">·</span>&quot;^3.3.1&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">34 </td><td class="diffpresent">flake8<span class="dp">·</span>=<span class="dp">·</span>&quot;^4.0.1&quot;</td><td class="diffline">35 </td><td class="diffpresent">flake8<span class="dp">·</span>=<span class="dp">·</span>&quot;^4.0.1&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">35 </td><td class="diffpresent">gunicorn<span class="dp">·</span>=<span class="dp">·</span>&quot;^20.1.0&quot;</td><td class="diffline">36 </td><td class="diffpresent">gunicorn<span class="dp">·</span>=<span class="dp">·</span>&quot;^20.1.0&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">36 </td><td class="diffpresent">aiohttp-devtools<span class="dp">·</span>=<span class="dp">·</span>&quot;^1.0.post0&quot;</td><td class="diffline">37 </td><td class="diffpresent">aiohttp-devtools<span class="dp">·</span>=<span class="dp">·</span>&quot;^1.0.post0&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">37 </td><td class="diffpresent">aioresponses<span class="dp">·</span>=<span class="dp">·</span>&quot;^0.7.3&quot;</td><td class="diffline">38 </td><td class="diffpresent">aioresponses<span class="dp">·</span>=<span class="dp">·</span>&quot;^0.7.3&quot;</td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">135 B</span></div>
      <div><span class="source">udata_hydra-2.0.0.dev919/udata_hydra/__init__.py</span> vs.</div>
      <div id="udata_hydra--.-.-.dev---.tar---udata_hydra--.-.-.dev----udata_hydra-__init__.py"><span class="source">udata_hydra-2.0.0.dev956/udata_hydra/__init__.py</span>
        <a class="anchor" href="#udata_hydra--.-.-.dev---.tar---udata_hydra--.-.-.dev----udata_hydra-__init__.py">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">9.64 KB</span></div>
      <div><span class="source">udata_hydra-2.0.0.dev919/udata_hydra/analysis/csv.py</span> vs.</div>
      <div id="udata_hydra--.-.-.dev---.tar---udata_hydra--.-.-.dev----udata_hydra-analysis-csv.py"><span class="source">udata_hydra-2.0.0.dev956/udata_hydra/analysis/csv.py</span>
        <a class="anchor" href="#udata_hydra--.-.-.dev---.tar---udata_hydra--.-.-.dev----udata_hydra-analysis-csv.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 15% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 8, 25 lines modified</td><td colspan="2">Offset 8, 32 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">8 </td><td class="diffpresent">from<span class="dp">·</span>datetime<span class="dp">·</span>import<span class="dp">·</span>datetime</td><td class="diffline">8 </td><td class="diffpresent">from<span class="dp">·</span>datetime<span class="dp">·</span>import<span class="dp">·</span>datetime</td></tr>
<tr class="diffunmodified"><td class="diffline">9 </td><td class="diffpresent">from<span class="dp">·</span>typing<span class="dp">·</span>import<span class="dp">·</span>Any</td><td class="diffline">9 </td><td class="diffpresent">from<span class="dp">·</span>typing<span class="dp">·</span>import<span class="dp">·</span>Any</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">10 </td><td class="diffpresent">import<span class="dp">·</span>sentry_sdk</td><td class="diffline">10 </td><td class="diffpresent">import<span class="dp">·</span>sentry_sdk</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">11 </td><td class="diffpresent">from<span class="dp">·</span>csv_detective.explore_csv<span class="dp">·</span>import<span class="dp">·</span>routine<span class="dp">·</span>as<span class="dp">·</span>csv_detective_routine</td><td class="diffline">11 </td><td class="diffpresent">from<span class="dp">·</span>csv_detective.explore_csv<span class="dp">·</span>import<span class="dp">·</span>routine<span class="dp">·</span>as<span class="dp">·</span>csv_detective_routine</td></tr>
<tr class="diffunmodified"><td class="diffline">12 </td><td class="diffpresent">from<span class="dp">·</span>progressist<span class="dp">·</span>import<span class="dp">·</span>ProgressBar</td><td class="diffline">12 </td><td class="diffpresent">from<span class="dp">·</span>progressist<span class="dp">·</span>import<span class="dp">·</span>ProgressBar</td></tr>
<tr class="diffchanged"><td class="diffline">13 </td><td class="diffpresent">from<span class="dp">·</span>sqlalchemy<span class="dp">·</span>import<span class="dp">·</span><del>MetaData,<span class="dp">·</span>Table,<span class="dp">·</span>Column,<span class="dp">·</span>BigInteger,<span class="dp">·</span>String,<span class="dp">·</span>Float,<span class="dp">·</span>Boolean,<span class="dp">·</span>Intege</del><del>r</del></td><td class="diffline">13 </td><td class="diffpresent">from<span class="dp">·</span>sqlalchemy<span class="dp">·</span>import<span class="dp">·</span><ins>(</ins></td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>MetaData,<span class="dp">·</span>Table,<span class="dp">·</span>Column,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>BigInteger,<span class="dp">·</span>String,<span class="dp">·</span>Float,<span class="dp">·</span>Boolean,<span class="dp">·</span>Integer,<span class="dp">·</span>JSON,<span class="dp">·</span>Date,<span class="dp">·</span>DateTime,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">16 </td><td class="diffpresent">)</td></tr>
<tr class="diffunmodified"><td class="diffline">14 </td><td class="diffpresent">from<span class="dp">·</span>sqlalchemy.dialects.postgresql<span class="dp">·</span>import<span class="dp">·</span>asyncpg</td><td class="diffline">17 </td><td class="diffpresent">from<span class="dp">·</span>sqlalchemy.dialects.postgresql<span class="dp">·</span>import<span class="dp">·</span>asyncpg</td></tr>
<tr class="diffunmodified"><td class="diffline">15 </td><td class="diffpresent">from<span class="dp">·</span>sqlalchemy.schema<span class="dp">·</span>import<span class="dp">·</span>CreateTable</td><td class="diffline">18 </td><td class="diffpresent">from<span class="dp">·</span>sqlalchemy.schema<span class="dp">·</span>import<span class="dp">·</span>CreateTable</td></tr>
<tr class="diffunmodified"><td class="diffline">16 </td><td class="diffpresent">from<span class="dp">·</span>str2bool<span class="dp">·</span>import<span class="dp">·</span>str2bool</td><td class="diffline">19 </td><td class="diffpresent">from<span class="dp">·</span>str2bool<span class="dp">·</span>import<span class="dp">·</span>str2bool</td></tr>
<tr class="diffunmodified"><td class="diffline">17 </td><td class="diffpresent">from<span class="dp">·</span>str2float<span class="dp">·</span>import<span class="dp">·</span>str2float</td><td class="diffline">20 </td><td class="diffpresent">from<span class="dp">·</span>str2float<span class="dp">·</span>import<span class="dp">·</span>str2float</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">18 </td><td class="diffpresent">from<span class="dp">·</span>udata_hydra<span class="dp">·</span>import<span class="dp">·</span>context,<span class="dp">·</span>config</td><td class="diffline">21 </td><td class="diffpresent">from<span class="dp">·</span>udata_hydra<span class="dp">·</span>import<span class="dp">·</span>context,<span class="dp">·</span>config</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">22 </td><td class="diffpresent">from<span class="dp">·</span>udata_hydra.analysis<span class="dp">·</span>import<span class="dp">·</span>helpers</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">23 </td><td class="diffpresent">from<span class="dp">·</span>udata_hydra.analysis.errors<span class="dp">·</span>import<span class="dp">·</span>ParseException</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">24 </td><td class="diffpresent">from<span class="dp">·</span>udata_hydra.utils<span class="dp">·</span>import<span class="dp">·</span>queue</td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent">from<span class="dp">·</span>udata_hydra.utils.db<span class="dp">·</span>import<span class="dp">·</span>(</td><td class="diffline">25 </td><td class="diffpresent">from<span class="dp">·</span>udata_hydra.utils.db<span class="dp">·</span>import<span class="dp">·</span>(</td></tr>
<tr class="diffunmodified"><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>get_check,<span class="dp">·</span>insert_csv_analysis,<span class="dp">·</span>compute_insert_query,</td><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>get_check,<span class="dp">·</span>insert_csv_analysis,<span class="dp">·</span>compute_insert_query,</td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>update_csv_analysis,<span class="dp">·</span>get_csv_analysis,</td><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>update_csv_analysis,<span class="dp">·</span>get_csv_analysis,</td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent">)</td><td class="diffline">28 </td><td class="diffpresent">)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">29 </td><td class="diffpresent">from<span class="dp">·</span>udata_hydra.utils.http<span class="dp">·</span>import<span class="dp">·</span>send</td></tr>
<tr class="diffunmodified"><td class="diffline">23 </td><td class="diffpresent">from<span class="dp">·</span>udata_hydra.utils.file<span class="dp">·</span>import<span class="dp">·</span>download_resource</td><td class="diffline">30 </td><td class="diffpresent">from<span class="dp">·</span>udata_hydra.utils.file<span class="dp">·</span>import<span class="dp">·</span>download_resource</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">24 </td><td class="diffpresent">log<span class="dp">·</span>=<span class="dp">·</span>logging.getLogger(&quot;udata-hydra&quot;)</td><td class="diffline">31 </td><td class="diffpresent">log<span class="dp">·</span>=<span class="dp">·</span>logging.getLogger(&quot;udata-hydra&quot;)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">25 </td><td class="diffpresent">#<span class="dp">·</span>Increase<span class="dp">·</span>CSV<span class="dp">·</span>field<span class="dp">·</span>size<span class="dp">·</span>limit<span class="dp">·</span>to<span class="dp">·</span>maximum<span class="dp">·</span>possible</td><td class="diffline">32 </td><td class="diffpresent">#<span class="dp">·</span>Increase<span class="dp">·</span>CSV<span class="dp">·</span>field<span class="dp">·</span>size<span class="dp">·</span>limit<span class="dp">·</span>to<span class="dp">·</span>maximum<span class="dp">·</span>possible</td></tr>
<tr class="diffunmodified"><td class="diffline">26 </td><td class="diffpresent">#<span class="dp">·</span>https://stackoverflow.com/a/15063941</td><td class="diffline">33 </td><td class="diffpresent">#<span class="dp">·</span>https://stackoverflow.com/a/15063941</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 39, 63 lines modified</td><td colspan="2">Offset 46, 84 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>field_size_limit<span class="dp">·</span>=<span class="dp">·</span>int(field_size_limit<span class="dp">·</span>/<span class="dp">·</span>10)</td><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>field_size_limit<span class="dp">·</span>=<span class="dp">·</span>int(field_size_limit<span class="dp">·</span>/<span class="dp">·</span>10)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">40 </td><td class="diffpresent">PYTHON_TYPE_TO_PG<span class="dp">·</span>=<span class="dp">·</span>{</td><td class="diffline">47 </td><td class="diffpresent">PYTHON_TYPE_TO_PG<span class="dp">·</span>=<span class="dp">·</span>{</td></tr>
<tr class="diffunmodified"><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;string&quot;:<span class="dp">·</span>String,</td><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;string&quot;:<span class="dp">·</span>String,</td></tr>
<tr class="diffunmodified"><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;float&quot;:<span class="dp">·</span>Float,</td><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;float&quot;:<span class="dp">·</span>Float,</td></tr>
<tr class="diffunmodified"><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;int&quot;:<span class="dp">·</span>BigInteger,</td><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;int&quot;:<span class="dp">·</span>BigInteger,</td></tr>
<tr class="diffunmodified"><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;bool&quot;:<span class="dp">·</span>Boolean,</td><td class="diffline">51 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;bool&quot;:<span class="dp">·</span>Boolean,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">52 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;json&quot;:<span class="dp">·</span>JSON,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">53 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;date&quot;:<span class="dp">·</span>Date,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;datetime&quot;:<span class="dp">·</span>DateTime,</td></tr>
<tr class="diffunmodified"><td class="diffline">45 </td><td class="diffpresent">}</td><td class="diffline">55 </td><td class="diffpresent">}</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">46 </td><td class="diffpresent">PYTHON_TYPE_TO_PY<span class="dp">·</span>=<span class="dp">·</span>{</td><td class="diffline">56 </td><td class="diffpresent">PYTHON_TYPE_TO_PY<span class="dp">·</span>=<span class="dp">·</span>{</td></tr>
<tr class="diffunmodified"><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;string&quot;:<span class="dp">·</span>str,</td><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;string&quot;:<span class="dp">·</span>str,</td></tr>
<tr class="diffunmodified"><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;float&quot;:<span class="dp">·</span>float,</td><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;float&quot;:<span class="dp">·</span>float,</td></tr>
<tr class="diffunmodified"><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;int&quot;:<span class="dp">·</span>int,</td><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;int&quot;:<span class="dp">·</span>int,</td></tr>
<tr class="diffunmodified"><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;bool&quot;:<span class="dp">·</span>bool,</td><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;bool&quot;:<span class="dp">·</span>bool,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">61 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;json&quot;:<span class="dp">·</span>helpers.to_json,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">62 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;date&quot;:<span class="dp">·</span>helpers.to_date,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">63 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;datetime&quot;:<span class="dp">·</span>helpers.to_datetime,</td></tr>
<tr class="diffunmodified"><td class="diffline">51 </td><td class="diffpresent">}</td><td class="diffline">64 </td><td class="diffpresent">}</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">52 </td><td class="diffpresent">RESERVED_COLS<span class="dp">·</span>=<span class="dp">·</span>(&quot;__id&quot;,<span class="dp">·</span>&quot;tableoid&quot;,<span class="dp">·</span>&quot;xmin&quot;,<span class="dp">·</span>&quot;cmin&quot;,<span class="dp">·</span>&quot;xmax&quot;,<span class="dp">·</span>&quot;cmax&quot;,<span class="dp">·</span>&quot;ctid&quot;)</td><td class="diffline">65 </td><td class="diffpresent">RESERVED_COLS<span class="dp">·</span>=<span class="dp">·</span>(&quot;__id&quot;,<span class="dp">·</span>&quot;tableoid&quot;,<span class="dp">·</span>&quot;xmin&quot;,<span class="dp">·</span>&quot;cmin&quot;,<span class="dp">·</span>&quot;xmax&quot;,<span class="dp">·</span>&quot;cmax&quot;,<span class="dp">·</span>&quot;ctid&quot;)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">66 </td><td class="diffpresent">async<span class="dp">·</span>def<span class="dp">·</span>notify_udata(ca_id):</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">67 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;Notify<span class="dp">·</span>udata<span class="dp">·</span>of<span class="dp">·</span>the<span class="dp">·</span>result<span class="dp">·</span>of<span class="dp">·</span>a<span class="dp">·</span>parsing&quot;&quot;&quot;</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">68 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>analysis<span class="dp">·</span>=<span class="dp">·</span>await<span class="dp">·</span>get_csv_analysis(ca_id)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">69 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>resource_id<span class="dp">·</span>=<span class="dp">·</span>analysis[&quot;resource_id&quot;]</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">70 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>db<span class="dp">·</span>=<span class="dp">·</span>await<span class="dp">·</span>context.pool()</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">71 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>record<span class="dp">·</span>=<span class="dp">·</span>await<span class="dp">·</span>db.fetchrow(&quot;SELECT<span class="dp">·</span>dataset_id<span class="dp">·</span>FROM<span class="dp">·</span>catalog<span class="dp">·</span>WHERE<span class="dp">·</span>resource_id<span class="dp">·</span>=<span class="dp">·</span>$1&quot;,<span class="dp">·</span>resource_id)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">72 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>record:</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">73 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>payload<span class="dp">·</span>=<span class="dp">·</span>{</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">74 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;resource_id&quot;:<span class="dp">·</span>resource_id,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">75 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;dataset_id&quot;:<span class="dp">·</span>record[&quot;dataset_id&quot;],</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">76 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;document&quot;:<span class="dp">·</span>{</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">77 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;analysis:parsing:table&quot;:<span class="dp">·</span>analysis[&quot;parsing_table&quot;],</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">78 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;analysis:parsing:error&quot;:<span class="dp">·</span>analysis[&quot;parsing_error&quot;],</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">79 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;analysis:parsing:created_at&quot;:<span class="dp">·</span>analysis[&quot;created_at&quot;].isoformat(),</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">80 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">81 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">82 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>queue.enqueue(send,<span class="dp">·</span>_priority=&quot;high&quot;,<span class="dp">·</span>**payload)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffadded"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">53 </td><td class="diffpresent">async<span class="dp">·</span>def<span class="dp">·</span>analyse_csv(check_id:<span class="dp">·</span>int<span class="dp">·</span>=<span class="dp">·</span>None,<span class="dp">·</span>url:<span class="dp">·</span>str<span class="dp">·</span>=<span class="dp">·</span>None,<span class="dp">·</span>file_path:<span class="dp">·</span>str<span class="dp">·</span>=<span class="dp">·</span>None,<span class="dp">·</span>debug_insert:<span class="dp">·</span>bool<span class="dp">·</span>=<span class="dp">·</span>False)<span class="dp">·</span>-&gt;<span class="dp">·</span>None:</td><td class="diffline">83 </td><td class="diffpresent">async<span class="dp">·</span>def<span class="dp">·</span>analyse_csv(check_id:<span class="dp">·</span>int<span class="dp">·</span>=<span class="dp">·</span>None,<span class="dp">·</span>url:<span class="dp">·</span>str<span class="dp">·</span>=<span class="dp">·</span>None,<span class="dp">·</span>file_path:<span class="dp">·</span>str<span class="dp">·</span>=<span class="dp">·</span>None,<span class="dp">·</span>debug_insert:<span class="dp">·</span>bool<span class="dp">·</span>=<span class="dp">·</span>False)<span class="dp">·</span>-&gt;<span class="dp">·</span>None:</td></tr>
<tr class="diffunmodified"><td class="diffline">54 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;Launch<span class="dp">·</span>csv<span class="dp">·</span>analysis<span class="dp">·</span>from<span class="dp">·</span>a<span class="dp">·</span>check<span class="dp">·</span>or<span class="dp">·</span>an<span class="dp">·</span>URL<span class="dp">·</span>(debug),<span class="dp">·</span>using<span class="dp">·</span>previsously<span class="dp">·</span>downloaded<span class="dp">·</span>file<span class="dp">·</span>at<span class="dp">·</span>file_path<span class="dp">·</span>if<span class="dp">·</span>any&quot;&quot;&quot;</td><td class="diffline">84 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;Launch<span class="dp">·</span>csv<span class="dp">·</span>analysis<span class="dp">·</span>from<span class="dp">·</span>a<span class="dp">·</span>check<span class="dp">·</span>or<span class="dp">·</span>an<span class="dp">·</span>URL<span class="dp">·</span>(debug),<span class="dp">·</span>using<span class="dp">·</span>previsously<span class="dp">·</span>downloaded<span class="dp">·</span>file<span class="dp">·</span>at<span class="dp">·</span>file_path<span class="dp">·</span>if<span class="dp">·</span>any&quot;&quot;&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">55 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>not<span class="dp">·</span>config.CSV_ANALYSIS_ENABLED:</td><td class="diffline">85 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>not<span class="dp">·</span>config.CSV_ANALYSIS_ENABLED:</td></tr>
<tr class="diffunmodified"><td class="diffline">56 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>log.debug(&quot;CSV_ANALYSIS_ENABLED<span class="dp">·</span>turned<span class="dp">·</span>off,<span class="dp">·</span>skipping.&quot;)</td><td class="diffline">86 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>log.debug(&quot;CSV_ANALYSIS_ENABLED<span class="dp">·</span>turned<span class="dp">·</span>off,<span class="dp">·</span>skipping.&quot;)</td></tr>
<tr class="diffunmodified"><td class="diffline">57 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return</td><td class="diffline">87 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">58 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>assert<span class="dp">·</span>any(_<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None<span class="dp">·</span>for<span class="dp">·</span>_<span class="dp">·</span>in<span class="dp">·</span>(check_id,<span class="dp">·</span>url))</td><td class="diffline">88 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>assert<span class="dp">·</span>any(_<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None<span class="dp">·</span>for<span class="dp">·</span>_<span class="dp">·</span>in<span class="dp">·</span>(check_id,<span class="dp">·</span>url))</td></tr>
<tr class="diffunmodified"><td class="diffline">59 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check<span class="dp">·</span>=<span class="dp">·</span>await<span class="dp">·</span>get_check(check_id)<span class="dp">·</span>if<span class="dp">·</span>check_id<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None<span class="dp">·</span>else<span class="dp">·</span>{}</td><td class="diffline">89 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>check<span class="dp">·</span>=<span class="dp">·</span>await<span class="dp">·</span>get_check(check_id)<span class="dp">·</span>if<span class="dp">·</span>check_id<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None<span class="dp">·</span>else<span class="dp">·</span>{}</td></tr>
<tr class="diffunmodified"><td class="diffline">60 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>url<span class="dp">·</span>=<span class="dp">·</span>check.get(&quot;url&quot;)<span class="dp">·</span>or<span class="dp">·</span>url</td><td class="diffline">90 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>url<span class="dp">·</span>=<span class="dp">·</span>check.get(&quot;url&quot;)<span class="dp">·</span>or<span class="dp">·</span>url</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">61 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>headers<span class="dp">·</span>=<span class="dp">·</span>json.loads(check.get(&quot;headers&quot;)<span class="dp">·</span>or<span class="dp">·</span>&quot;{}&quot;)</td><td class="diffline">91 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>headers<span class="dp">·</span>=<span class="dp">·</span>json.loads(check.get(&quot;headers&quot;)<span class="dp">·</span>or<span class="dp">·</span>&quot;{}&quot;)</td></tr>
<tr class="diffunmodified"><td class="diffline">62 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tmp_file<span class="dp">·</span>=<span class="dp">·</span>open(file_path,<span class="dp">·</span>&quot;rb&quot;)<span class="dp">·</span>if<span class="dp">·</span>file_path<span class="dp">·</span>else<span class="dp">·</span>await<span class="dp">·</span>download_resource(url,<span class="dp">·</span>headers)</td><td class="diffline">92 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tmp_file<span class="dp">·</span>=<span class="dp">·</span>open(file_path,<span class="dp">·</span>&quot;rb&quot;)<span class="dp">·</span>if<span class="dp">·</span>file_path<span class="dp">·</span>else<span class="dp">·</span>await<span class="dp">·</span>download_resource(url,<span class="dp">·</span>headers)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">93 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>table_name<span class="dp">·</span>=<span class="dp">·</span>hashlib.md5(url.encode(&quot;utf-8&quot;)).hexdigest()</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">63 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>try:</td><td class="diffline">94 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>try:</td></tr>
<tr class="diffdeleted"><td class="diffline">64 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>try:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">65 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>inspection_error<span class="dp">·</span>=<span class="dp">·</span>None</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">66 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>csv_inspection<span class="dp">·</span>=<span class="dp">·</span>await<span class="dp">·</span>perform_csv_inspection(tmp_file.name)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">67 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>except<span class="dp">·</span>Exception<span class="dp">·</span>as<span class="dp">·</span>e:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">68 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>inspection_error<span class="dp">·</span>=<span class="dp">·</span>e</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">69 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>ca_id<span class="dp">·</span>=<span class="dp">·</span>await<span class="dp">·</span>insert_csv_analysis({</td><td class="diffline">95 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>ca_id<span class="dp">·</span>=<span class="dp">·</span>await<span class="dp">·</span>insert_csv_analysis({</td></tr>
<tr class="diffunmodified"><td class="diffline">70 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;resource_id&quot;:<span class="dp">·</span>check.get(&quot;resource_id&quot;),</td><td class="diffline">96 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;resource_id&quot;:<span class="dp">·</span>check.get(&quot;resource_id&quot;),</td></tr>
<tr class="diffunmodified"><td class="diffline">71 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;url&quot;:<span class="dp">·</span>url,</td><td class="diffline">97 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;url&quot;:<span class="dp">·</span>url,</td></tr>
<tr class="diffunmodified"><td class="diffline">72 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;check_id&quot;:<span class="dp">·</span>check_id,</td><td class="diffline">98 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;check_id&quot;:<span class="dp">·</span>check_id,</td></tr>
<tr class="diffunmodified"><td class="diffline">73 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>})</td><td class="diffline">99 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>})</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">100 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>csv_inspection<span class="dp">·</span>=<span class="dp">·</span>await<span class="dp">·</span>perform_csv_inspection(tmp_file.name)</td></tr>
<tr class="diffdeleted"><td class="diffline">74 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>inspection_error:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">75 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>handle_parse_exception(inspection_error,<span class="dp">·</span>&quot;csv_detective&quot;,<span class="dp">·</span>analysis_id=ca_id)</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">76 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">77 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>table_name<span class="dp">·</span>=<span class="dp">·</span>hashlib.md5(url.encode(&quot;utf-8&quot;)).hexdigest()</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">78 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>csv_to_db(tmp_file.name,<span class="dp">·</span>csv_inspection,<span class="dp">·</span>table_name,<span class="dp">·</span>debug_insert=debug_insert<del>,<span class="dp">·</span>analysis_id=ca_id</del>)</td><td class="diffline">101 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>csv_to_db(tmp_file.name,<span class="dp">·</span>csv_inspection,<span class="dp">·</span>table_name,<span class="dp">·</span>debug_insert=debug_insert)</td></tr>
<tr class="diffunmodified"><td class="diffline">79 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>update_csv_analysis(ca_id,<span class="dp">·</span>{</td><td class="diffline">102 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>update_csv_analysis(ca_id,<span class="dp">·</span>{</td></tr>
<tr class="diffunmodified"><td class="diffline">80 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;parsing_table&quot;:<span class="dp">·</span>table_name,</td><td class="diffline">103 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;parsing_table&quot;:<span class="dp">·</span>table_name,</td></tr>
<tr class="diffunmodified"><td class="diffline">81 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;parsing_date&quot;:<span class="dp">·</span>datetime.utcnow(),</td><td class="diffline">104 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;parsing_date&quot;:<span class="dp">·</span>datetime.utcnow(),</td></tr>
<tr class="diffunmodified"><td class="diffline">82 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>})</td><td class="diffline">105 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>})</td></tr>
<tr class="diffunmodified"><td class="diffline">83 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>csv_to_db_index(table_name,<span class="dp">·</span>csv_inspection,<span class="dp">·</span>check)</td><td class="diffline">106 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>csv_to_db_index(table_name,<span class="dp">·</span>csv_inspection,<span class="dp">·</span>check)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">107 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>except<span class="dp">·</span>ParseException<span class="dp">·</span>as<span class="dp">·</span>e:</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">108 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>handle_parse_exception(e,<span class="dp">·</span>ca_id,<span class="dp">·</span>table_name)</td></tr>
<tr class="diffunmodified"><td class="diffline">84 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>finally:</td><td class="diffline">109 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>finally:</td></tr>
<tr class="diffunmodified"><td class="diffline">85 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tmp_file.close()</td><td class="diffline">110 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>tmp_file.close()</td></tr>
<tr class="diffunmodified"><td class="diffline">86 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>os.remove(tmp_file.name)</td><td class="diffline">111 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>os.remove(tmp_file.name)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">112 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>await<span class="dp">·</span>notify_udata(ca_id)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">87 </td><td class="diffpresent">def<span class="dp">·</span>generate_dialect(inspection:<span class="dp">·</span>dict)<span class="dp">·</span>-&gt;<span class="dp">·</span>stdcsv.Dialect:</td><td class="diffline">113 </td><td class="diffpresent">def<span class="dp">·</span>generate_dialect(inspection:<span class="dp">·</span>dict)<span class="dp">·</span>-&gt;<span class="dp">·</span>stdcsv.Dialect:</td></tr>
<tr class="diffunmodified"><td class="diffline">88 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>class<span class="dp">·</span>CustomDialect(stdcsv.unix_dialect):</td><td class="diffline">114 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>class<span class="dp">·</span>CustomDialect(stdcsv.unix_dialect):</td></tr>
<tr class="diffunmodified"><td class="diffline">89 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>TODO:<span class="dp">·</span>it<span class="dp">·</span>would<span class="dp">·</span>be<span class="dp">·</span>nice<span class="dp">·</span>to<span class="dp">·</span>have<span class="dp">·</span>more<span class="dp">·</span>info<span class="dp">·</span>from<span class="dp">·</span>csvdetective<span class="dp">·</span>to<span class="dp">·</span>feed<span class="dp">·</span>the<span class="dp">·</span>dialect</td><td class="diffline">115 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>TODO:<span class="dp">·</span>it<span class="dp">·</span>would<span class="dp">·</span>be<span class="dp">·</span>nice<span class="dp">·</span>to<span class="dp">·</span>have<span class="dp">·</span>more<span class="dp">·</span>info<span class="dp">·</span>from<span class="dp">·</span>csvdetective<span class="dp">·</span>to<span class="dp">·</span>feed<span class="dp">·</span>the<span class="dp">·</span>dialect</td></tr>
<tr class="diffunmodified"><td class="diffline">90 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>in<span class="dp">·</span>the<span class="dp">·</span>meantime<span class="dp">·</span>we<span class="dp">·</span>might<span class="dp">·</span>want<span class="dp">·</span>to<span class="dp">·</span>sniff<span class="dp">·</span>the<span class="dp">·</span>file<span class="dp">·</span>a<span class="dp">·</span>bit</td><td class="diffline">116 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>in<span class="dp">·</span>the<span class="dp">·</span>meantime<span class="dp">·</span>we<span class="dp">·</span>might<span class="dp">·</span>want<span class="dp">·</span>to<span class="dp">·</span>sniff<span class="dp">·</span>the<span class="dp">·</span>file<span class="dp">·</span>a<span class="dp">·</span>bit</td></tr>
<tr class="diffunmodified"><td class="diffline">91 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>delimiter<span class="dp">·</span>=<span class="dp">·</span>inspection[&quot;separator&quot;]</td><td class="diffline">117 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>delimiter<span class="dp">·</span>=<span class="dp">·</span>inspection[&quot;separator&quot;]</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 129, 28 lines modified</td><td colspan="2">Offset 157, 23 lines modified</td></tr>
<tr class="error"><td colspan="4">
Max diff block lines reached; 4912/9722 bytes (50.52%) of diff not shown.
</td></tr></table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">1.6 KB</span></div>
      <div><span class="source">udata_hydra-2.0.0.dev919/udata_hydra/analysis/resource.py</span> vs.</div>
      <div id="udata_hydra--.-.-.dev---.tar---udata_hydra--.-.-.dev----udata_hydra-analysis-resource.py"><span class="source">udata_hydra-2.0.0.dev956/udata_hydra/analysis/resource.py</span>
        <a class="anchor" href="#udata_hydra--.-.-.dev---.tar---udata_hydra--.-.-.dev----udata_hydra-analysis-resource.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 2% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 3, 15 lines modified</td><td colspan="2">Offset 3, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">3 </td><td class="diffpresent">import<span class="dp">·</span>os</td><td class="diffline">3 </td><td class="diffpresent">import<span class="dp">·</span>os</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">4 </td><td class="diffpresent">from<span class="dp">·</span>datetime<span class="dp">·</span>import<span class="dp">·</span>datetime</td><td class="diffline">4 </td><td class="diffpresent">from<span class="dp">·</span>datetime<span class="dp">·</span>import<span class="dp">·</span>datetime</td></tr>
<tr class="diffunmodified"><td class="diffline">5 </td><td class="diffpresent">from<span class="dp">·</span>typing<span class="dp">·</span>import<span class="dp">·</span>Union</td><td class="diffline">5 </td><td class="diffpresent">from<span class="dp">·</span>typing<span class="dp">·</span>import<span class="dp">·</span>Union</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">6 </td><td class="diffpresent">import<span class="dp">·</span>magic</td><td class="diffline">6 </td><td class="diffpresent">import<span class="dp">·</span>magic</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">7 </td><td class="diffpresent">from<span class="dp">·</span>date<del>util.</del>parser<span class="dp">·</span>import<span class="dp">·</span>parse<span class="dp">·</span>as<span class="dp">·</span>date_p<del>arser,<span class="dp">·</span>P</del>arse<del>rErro</del>r</td><td class="diffline">7 </td><td class="diffpresent">from<span class="dp">·</span>dateparser<span class="dp">·</span>import<span class="dp">·</span>parse<span class="dp">·</span>as<span class="dp">·</span>date_parser</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">8 </td><td class="diffpresent">from<span class="dp">·</span>udata_hydra<span class="dp">·</span>import<span class="dp">·</span>context</td><td class="diffline">8 </td><td class="diffpresent">from<span class="dp">·</span>udata_hydra<span class="dp">·</span>import<span class="dp">·</span>context</td></tr>
<tr class="diffunmodified"><td class="diffline">9 </td><td class="diffpresent">from<span class="dp">·</span>udata_hydra.utils<span class="dp">·</span>import<span class="dp">·</span>queue</td><td class="diffline">9 </td><td class="diffpresent">from<span class="dp">·</span>udata_hydra.utils<span class="dp">·</span>import<span class="dp">·</span>queue</td></tr>
<tr class="diffunmodified"><td class="diffline">10 </td><td class="diffpresent">from<span class="dp">·</span>udata_hydra.analysis.csv<span class="dp">·</span>import<span class="dp">·</span>analyse_csv</td><td class="diffline">10 </td><td class="diffpresent">from<span class="dp">·</span>udata_hydra.analysis.csv<span class="dp">·</span>import<span class="dp">·</span>analyse_csv</td></tr>
<tr class="diffunmodified"><td class="diffline">11 </td><td class="diffpresent">from<span class="dp">·</span>udata_hydra.utils.csv<span class="dp">·</span>import<span class="dp">·</span>detect_csv_from_headers</td><td class="diffline">11 </td><td class="diffpresent">from<span class="dp">·</span>udata_hydra.utils.csv<span class="dp">·</span>import<span class="dp">·</span>detect_csv_from_headers</td></tr>
<tr class="diffunmodified"><td class="diffline">12 </td><td class="diffpresent">from<span class="dp">·</span>udata_hydra.utils.db<span class="dp">·</span>import<span class="dp">·</span>update_check,<span class="dp">·</span>get_check</td><td class="diffline">12 </td><td class="diffpresent">from<span class="dp">·</span>udata_hydra.utils.db<span class="dp">·</span>import<span class="dp">·</span>update_check,<span class="dp">·</span>get_check</td></tr>
<tr class="diffunmodified"><td class="diffline">13 </td><td class="diffpresent">from<span class="dp">·</span>udata_hydra.utils.file<span class="dp">·</span>import<span class="dp">·</span>compute_checksum_from_file,<span class="dp">·</span>download_resource</td><td class="diffline">13 </td><td class="diffpresent">from<span class="dp">·</span>udata_hydra.utils.file<span class="dp">·</span>import<span class="dp">·</span>compute_checksum_from_file,<span class="dp">·</span>download_resource</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 194, 23 lines modified</td><td colspan="2">Offset 194, 20 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">194 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>async<span class="dp">·</span>with<span class="dp">·</span>pool.acquire()<span class="dp">·</span>as<span class="dp">·</span>connection:</td><td class="diffline">194 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>async<span class="dp">·</span>with<span class="dp">·</span>pool.acquire()<span class="dp">·</span>as<span class="dp">·</span>connection:</td></tr>
<tr class="diffunmodified"><td class="diffline">195 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data<span class="dp">·</span>=<span class="dp">·</span>await<span class="dp">·</span>connection.fetchrow(q,<span class="dp">·</span>value)</td><td class="diffline">195 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>data<span class="dp">·</span>=<span class="dp">·</span>await<span class="dp">·</span>connection.fetchrow(q,<span class="dp">·</span>value)</td></tr>
<tr class="diffunmodified"><td class="diffline">196 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>not<span class="dp">·</span>data:</td><td class="diffline">196 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>not<span class="dp">·</span>data:</td></tr>
<tr class="diffunmodified"><td class="diffline">197 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return</td><td class="diffline">197 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">198 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>last<span class="dp">·</span>modified<span class="dp">·</span>header<span class="dp">·</span>check</td><td class="diffline">198 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>last<span class="dp">·</span>modified<span class="dp">·</span>header<span class="dp">·</span>check</td></tr>
<tr class="diffunmodified"><td class="diffline">199 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>data[&quot;last_modified&quot;]:</td><td class="diffline">199 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>data[&quot;last_modified&quot;]:</td></tr>
<tr class="diffdeleted"><td class="diffline">200 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>try:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">201 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>this<span class="dp">·</span>is<span class="dp">·</span>GMT<span class="dp">·</span>so<span class="dp">·</span>we<span class="dp">·</span>should<span class="dp">·</span>be<span class="dp">·</span>able<span class="dp">·</span>to<span class="dp">·</span>safely<span class="dp">·</span>ignore<span class="dp">·</span>tz<span class="dp">·</span>info</td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">202 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span></del>last_modified_date<span class="dp">·</span>=<span class="dp">·</span>date_parser(data[&quot;last_modified&quot;]<del>,<span class="dp">·</span>ignoretz=True).isoformat(</del>)</td><td class="diffline">200 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>last_modified_date<span class="dp">·</span>=<span class="dp">·</span>date_parser(data[&quot;last_modified&quot;])</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">201 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>last_modified_date:</td></tr>
<tr class="diffunmodified"><td class="diffline">203 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>{</td><td class="diffline">202 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>{</td></tr>
<tr class="diffchanged"><td class="diffline">204 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;analysis:last-modified-at&quot;:<span class="dp">·</span>last_modified_date,</td><td class="diffline">203 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;analysis:last-modified-at&quot;:<span class="dp">·</span>last_modified_date<ins>.isoformat()</ins>,</td></tr>
<tr class="diffunmodified"><td class="diffline">205 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;analysis:last-modified-detection&quot;:<span class="dp">·</span>&quot;last-modified-header&quot;,</td><td class="diffline">204 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;analysis:last-modified-detection&quot;:<span class="dp">·</span>&quot;last-modified-header&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">206 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td><td class="diffline">205 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}</td></tr>
<tr class="diffdeleted"><td class="diffline">207 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>except<span class="dp">·</span>ParserError:</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">208 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>pass</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">209 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>switch<span class="dp">·</span>to<span class="dp">·</span>content-length<span class="dp">·</span>comparison</td><td class="diffline">206 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>switch<span class="dp">·</span>to<span class="dp">·</span>content-length<span class="dp">·</span>comparison</td></tr>
<tr class="diffunmodified"><td class="diffline">210 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>not<span class="dp">·</span>data[&quot;content_length&quot;]:</td><td class="diffline">207 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>not<span class="dp">·</span>data[&quot;content_length&quot;]:</td></tr>
<tr class="diffunmodified"><td class="diffline">211 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return</td><td class="diffline">208 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return</td></tr>
<tr class="diffunmodified"><td class="diffline">212 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>q<span class="dp">·</span>=<span class="dp">·</span>&quot;&quot;&quot;</td><td class="diffline">209 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>q<span class="dp">·</span>=<span class="dp">·</span>&quot;&quot;&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">213 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>SELECT</td><td class="diffline">210 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>SELECT</td></tr>
<tr class="diffunmodified"><td class="diffline">214 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>created_at,</td><td class="diffline">211 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>created_at,</td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">125 B</span></div>
      <div><span class="source">udata_hydra-2.0.0.dev919/udata_hydra/app.py</span> vs.</div>
      <div id="udata_hydra--.-.-.dev---.tar---udata_hydra--.-.-.dev----udata_hydra-app.py"><span class="source">udata_hydra-2.0.0.dev956/udata_hydra/app.py</span>
        <a class="anchor" href="#udata_hydra--.-.-.dev---.tar---udata_hydra--.-.-.dev----udata_hydra-app.py">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">1.22 KB</span></div>
      <div><span class="source">udata_hydra-2.0.0.dev919/udata_hydra/cli.py</span> vs.</div>
      <div id="udata_hydra--.-.-.dev---.tar---udata_hydra--.-.-.dev----udata_hydra-cli.py"><span class="source">udata_hydra-2.0.0.dev956/udata_hydra/cli.py</span>
        <a class="anchor" href="#udata_hydra--.-.-.dev---.tar---udata_hydra--.-.-.dev----udata_hydra-cli.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 3% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 11 lines modified</td><td colspan="2">Offset 1, 11 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">1 </td><td class="diffpresent">import<span class="dp">·</span>csv</td><td class="diffline">1 </td><td class="diffpresent">import<span class="dp">·</span>csv</td></tr>
<tr class="diffunmodified"><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>os</td><td class="diffline">2 </td><td class="diffpresent">import<span class="dp">·</span>os</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffchanged"><td class="diffline">3 </td><td class="diffpresent">from<span class="dp">·</span>datetime<span class="dp">·</span>import<span class="dp">·</span>datetime</td><td class="diffline">3 </td><td class="diffpresent">from<span class="dp">·</span>datetime<span class="dp">·</span>import<span class="dp">·</span>datetime<ins>,<span class="dp">·</span>timezone</ins></td></tr>
<tr class="diffunmodified"><td class="diffline">4 </td><td class="diffpresent">from<span class="dp">·</span>pathlib<span class="dp">·</span>import<span class="dp">·</span>Path</td><td class="diffline">4 </td><td class="diffpresent">from<span class="dp">·</span>pathlib<span class="dp">·</span>import<span class="dp">·</span>Path</td></tr>
<tr class="diffunmodified"><td class="diffline">5 </td><td class="diffpresent">from<span class="dp">·</span>tempfile<span class="dp">·</span>import<span class="dp">·</span>NamedTemporaryFile</td><td class="diffline">5 </td><td class="diffpresent">from<span class="dp">·</span>tempfile<span class="dp">·</span>import<span class="dp">·</span>NamedTemporaryFile</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">6 </td><td class="diffpresent">import<span class="dp">·</span>aiohttp</td><td class="diffline">6 </td><td class="diffpresent">import<span class="dp">·</span>aiohttp</td></tr>
<tr class="diffunmodified"><td class="diffline">7 </td><td class="diffpresent">import<span class="dp">·</span>asyncpg</td><td class="diffline">7 </td><td class="diffpresent">import<span class="dp">·</span>asyncpg</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">8 </td><td class="diffpresent">from<span class="dp">·</span>humanfriendly<span class="dp">·</span>import<span class="dp">·</span>parse_size</td><td class="diffline">8 </td><td class="diffpresent">from<span class="dp">·</span>humanfriendly<span class="dp">·</span>import<span class="dp">·</span>parse_size</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 69, 15 lines modified</td><td colspan="2">Offset 69, 17 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">69 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">69 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td class="diffline">70 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>VALUES<span class="dp">·</span>($1,<span class="dp">·</span>$2,<span class="dp">·</span>$3,<span class="dp">·</span>$4,<span class="dp">·</span>FALSE,<span class="dp">·</span>FALSE)</td><td class="diffline">70 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>VALUES<span class="dp">·</span>($1,<span class="dp">·</span>$2,<span class="dp">·</span>$3,<span class="dp">·</span>$4,<span class="dp">·</span>FALSE,<span class="dp">·</span>FALSE)</td></tr>
<tr class="diffunmodified"><td class="diffline">71 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>ON<span class="dp">·</span>CONFLICT<span class="dp">·</span>(dataset_id,<span class="dp">·</span>resource_id,<span class="dp">·</span>url)<span class="dp">·</span>DO<span class="dp">·</span>UPDATE<span class="dp">·</span>SET<span class="dp">·</span>deleted<span class="dp">·</span>=<span class="dp">·</span>FALSE</td><td class="diffline">71 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>ON<span class="dp">·</span>CONFLICT<span class="dp">·</span>(dataset_id,<span class="dp">·</span>resource_id,<span class="dp">·</span>url)<span class="dp">·</span>DO<span class="dp">·</span>UPDATE<span class="dp">·</span>SET<span class="dp">·</span>deleted<span class="dp">·</span>=<span class="dp">·</span>FALSE</td></tr>
<tr class="diffunmodified"><td class="diffline">72 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;,</td><td class="diffline">72 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;&quot;&quot;,</td></tr>
<tr class="diffunmodified"><td class="diffline">73 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>row[&quot;dataset.id&quot;],</td><td class="diffline">73 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>row[&quot;dataset.id&quot;],</td></tr>
<tr class="diffunmodified"><td class="diffline">74 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>row[&quot;id&quot;],</td><td class="diffline">74 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>row[&quot;id&quot;],</td></tr>
<tr class="diffunmodified"><td class="diffline">75 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>row[&quot;url&quot;],</td><td class="diffline">75 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>row[&quot;url&quot;],</td></tr>
<tr class="diffchanged"><td class="diffline">76 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><del>dat</del>etime<del>.from</del>i<del>s</del><del>o</del>fo<del>rm</del><del>a</del>t<del>(r</del>o<del>w</del><del>[&quot;harves</del>t<del>.m</del>o<del>dif</del><del>ie</del>d<del>_</del>at<del>&quot;])<span class="dp">·</span>if<span class="dp">·</span>row[&quot;h</del>a<del>rv</del><del>e</del>s<del>t.</del><del>m</del>o<del>dif</del><del>ie</del>d<del>_at&quot;</del><del>]<span class="dp">·</span></del>e<del>lse</del><span class="dp">·</span><del>N</del><del>one,</del></td><td class="diffline">76 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><ins>#<span class="dp">·</span>f</ins><ins>orc</ins>e<ins><span class="dp">·</span></ins>time<ins>zone<span class="dp">·</span></ins>i<ins>n</ins>fo<ins><span class="dp">·</span></ins>to<ins><span class="dp">·</span>UTC<span class="dp">·</span>(ca</ins>t<ins>al</ins>o<ins>g<span class="dp">·</span></ins>data<ins><span class="dp">·</span></ins>s<ins>h</ins>o<ins>ul</ins>d<ins><span class="dp">·</span>b</ins>e<ins><span class="dp">·</span>in</ins><span class="dp">·</span><ins>UTC)</ins></td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">77 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>datetime.fromisoformat(row[&quot;harvest.modified_at&quot;]).replace(tzinfo=timezone.utc)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">78 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>row[&quot;harvest.modified_at&quot;]<span class="dp">·</span>else<span class="dp">·</span>None,</td></tr>
<tr class="diffunmodified"><td class="diffline">77 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td><td class="diffline">79 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>)</td></tr>
<tr class="diffunmodified"><td class="diffline">78 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>log.info(&quot;Catalog<span class="dp">·</span>successfully<span class="dp">·</span>upserted<span class="dp">·</span>into<span class="dp">·</span>DB.&quot;)</td><td class="diffline">80 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>log.info(&quot;Catalog<span class="dp">·</span>successfully<span class="dp">·</span>upserted<span class="dp">·</span>into<span class="dp">·</span>DB.&quot;)</td></tr>
<tr class="diffunmodified"><td class="diffline">79 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>except<span class="dp">·</span>Exception<span class="dp">·</span>as<span class="dp">·</span>e:</td><td class="diffline">81 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>except<span class="dp">·</span>Exception<span class="dp">·</span>as<span class="dp">·</span>e:</td></tr>
<tr class="diffunmodified"><td class="diffline">80 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>raise<span class="dp">·</span>e</td><td class="diffline">82 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>raise<span class="dp">·</span>e</td></tr>
<tr class="diffunmodified"><td class="diffline">81 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>finally:</td><td class="diffline">83 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>finally:</td></tr>
<tr class="diffunmodified"><td class="diffline">82 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>fd.close()</td><td class="diffline">84 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>fd.close()</td></tr>
<tr class="diffunmodified"><td class="diffline">83 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>os.unlink(fd.name)</td><td class="diffline">85 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>os.unlink(fd.name)</td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">151 B</span></div>
      <div><span class="source">udata_hydra-2.0.0.dev919/udata_hydra/config_default.toml</span> vs.</div>
      <div id="udata_hydra--.-.-.dev---.tar---udata_hydra--.-.-.dev----udata_hydra-config_default.toml"><span class="source">udata_hydra-2.0.0.dev956/udata_hydra/config_default.toml</span>
        <a class="anchor" href="#udata_hydra--.-.-.dev---.tar---udata_hydra--.-.-.dev----udata_hydra-config_default.toml">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">133 B</span></div>
      <div><span class="source">udata_hydra-2.0.0.dev919/udata_hydra/context.py</span> vs.</div>
      <div id="udata_hydra--.-.-.dev---.tar---udata_hydra--.-.-.dev----udata_hydra-context.py"><span class="source">udata_hydra-2.0.0.dev956/udata_hydra/context.py</span>
        <a class="anchor" href="#udata_hydra--.-.-.dev---.tar---udata_hydra--.-.-.dev----udata_hydra-context.py">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">1.12 KB</span></div>
      <div><span class="source">udata_hydra-2.0.0.dev919/udata_hydra/crawl.py</span> vs.</div>
      <div id="udata_hydra--.-.-.dev---.tar---udata_hydra--.-.-.dev----udata_hydra-crawl.py"><span class="source">udata_hydra-2.0.0.dev956/udata_hydra/crawl.py</span>
        <a class="anchor" href="#udata_hydra--.-.-.dev---.tar---udata_hydra--.-.-.dev----udata_hydra-crawl.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 0% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 11 lines modified</td><td colspan="2">Offset 1, 11 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">1 </td><td class="diffpresent">import<span class="dp">·</span>time</td><td class="diffline">1 </td><td class="diffpresent">import<span class="dp">·</span>time</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">2 </td><td class="diffpresent">from<span class="dp">·</span>collections<span class="dp">·</span>import<span class="dp">·</span>defaultdict</td><td class="diffline">2 </td><td class="diffpresent">from<span class="dp">·</span>collections<span class="dp">·</span>import<span class="dp">·</span>defaultdict</td></tr>
<tr class="diffchanged"><td class="diffline">3 </td><td class="diffpresent">from<span class="dp">·</span>datetime<span class="dp">·</span>import<span class="dp">·</span>datetime,<span class="dp">·</span>timedelta</td><td class="diffline">3 </td><td class="diffpresent">from<span class="dp">·</span>datetime<span class="dp">·</span>import<span class="dp">·</span>datetime,<span class="dp">·</span>timedelta<ins>,<span class="dp">·</span>timezone</ins></td></tr>
<tr class="diffunmodified"><td class="diffline">4 </td><td class="diffpresent">from<span class="dp">·</span>typing<span class="dp">·</span>import<span class="dp">·</span>Tuple</td><td class="diffline">4 </td><td class="diffpresent">from<span class="dp">·</span>typing<span class="dp">·</span>import<span class="dp">·</span>Tuple</td></tr>
<tr class="diffunmodified"><td class="diffline">5 </td><td class="diffpresent">from<span class="dp">·</span>urllib.parse<span class="dp">·</span>import<span class="dp">·</span>urlparse</td><td class="diffline">5 </td><td class="diffpresent">from<span class="dp">·</span>urllib.parse<span class="dp">·</span>import<span class="dp">·</span>urlparse</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">6 </td><td class="diffpresent">import<span class="dp">·</span>aiohttp</td><td class="diffline">6 </td><td class="diffpresent">import<span class="dp">·</span>aiohttp</td></tr>
<tr class="diffunmodified"><td class="diffline">7 </td><td class="diffpresent">import<span class="dp">·</span>asyncio</td><td class="diffline">7 </td><td class="diffpresent">import<span class="dp">·</span>asyncio</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">8 </td><td class="diffpresent">from<span class="dp">·</span>humanfriendly<span class="dp">·</span>import<span class="dp">·</span>parse_timespan</td><td class="diffline">8 </td><td class="diffpresent">from<span class="dp">·</span>humanfriendly<span class="dp">·</span>import<span class="dp">·</span>parse_timespan</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 100, 15 lines modified</td><td colspan="2">Offset 100, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">100 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>await<span class="dp">·</span>insert_check(check_data),<span class="dp">·</span>is_first_check</td><td class="diffline">100 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return<span class="dp">·</span>await<span class="dp">·</span>insert_check(check_data),<span class="dp">·</span>is_first_check</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">101 </td><td class="diffpresent">async<span class="dp">·</span>def<span class="dp">·</span>is_backoff(domain)<span class="dp">·</span>-&gt;<span class="dp">·</span>Tuple[bool,<span class="dp">·</span>str]:</td><td class="diffline">101 </td><td class="diffpresent">async<span class="dp">·</span>def<span class="dp">·</span>is_backoff(domain)<span class="dp">·</span>-&gt;<span class="dp">·</span>Tuple[bool,<span class="dp">·</span>str]:</td></tr>
<tr class="diffunmodified"><td class="diffline">102 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>backoff<span class="dp">·</span>=<span class="dp">·</span>False,<span class="dp">·</span>&quot;&quot;</td><td class="diffline">102 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>backoff<span class="dp">·</span>=<span class="dp">·</span>False,<span class="dp">·</span>&quot;&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">103 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>no_backoff<span class="dp">·</span>=<span class="dp">·</span>[f&quot;&#x27;{d}&#x27;&quot;<span class="dp">·</span>for<span class="dp">·</span>d<span class="dp">·</span>in<span class="dp">·</span>config.NO_BACKOFF_DOMAINS]</td><td class="diffline">103 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>no_backoff<span class="dp">·</span>=<span class="dp">·</span>[f&quot;&#x27;{d}&#x27;&quot;<span class="dp">·</span>for<span class="dp">·</span>d<span class="dp">·</span>in<span class="dp">·</span>config.NO_BACKOFF_DOMAINS]</td></tr>
<tr class="diffunmodified"><td class="diffline">104 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>no_backoff<span class="dp">·</span>=<span class="dp">·</span>f&quot;({&#x27;,&#x27;.join(no_backoff)})&quot;</td><td class="diffline">104 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>no_backoff<span class="dp">·</span>=<span class="dp">·</span>f&quot;({&#x27;,&#x27;.join(no_backoff)})&quot;</td></tr>
<tr class="diffchanged"><td class="diffline">105 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>since<span class="dp">·</span>=<span class="dp">·</span>datetime.<del>u</del>t<del>c</del>n<del>ow(</del>)<span class="dp">·</span>-<span class="dp">·</span>timedelta(seconds=config.BACKOFF_PERIOD)</td><td class="diffline">105 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>since<span class="dp">·</span>=<span class="dp">·</span>datetime.<ins>now</ins><ins>(</ins>t<ins>imez</ins><ins>o</ins>n<ins>e.</ins><ins>utc</ins>)<span class="dp">·</span>-<span class="dp">·</span>timedelta(seconds=config.BACKOFF_PERIOD)</td></tr>
<tr class="diffunmodified"><td class="diffline">106 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>pool<span class="dp">·</span>=<span class="dp">·</span>await<span class="dp">·</span>context.pool()</td><td class="diffline">106 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>pool<span class="dp">·</span>=<span class="dp">·</span>await<span class="dp">·</span>context.pool()</td></tr>
<tr class="diffunmodified"><td class="diffline">107 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>async<span class="dp">·</span>with<span class="dp">·</span>pool.acquire()<span class="dp">·</span>as<span class="dp">·</span>connection:</td><td class="diffline">107 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>async<span class="dp">·</span>with<span class="dp">·</span>pool.acquire()<span class="dp">·</span>as<span class="dp">·</span>connection:</td></tr>
<tr class="diffunmodified"><td class="diffline">108 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>check<span class="dp">·</span>if<span class="dp">·</span>we<span class="dp">·</span>trigger<span class="dp">·</span>BACKOFF_NB_REQ<span class="dp">·</span>for<span class="dp">·</span>BACKOFF_PERIOD<span class="dp">·</span>on<span class="dp">·</span>this<span class="dp">·</span>domain</td><td class="diffline">108 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>check<span class="dp">·</span>if<span class="dp">·</span>we<span class="dp">·</span>trigger<span class="dp">·</span>BACKOFF_NB_REQ<span class="dp">·</span>for<span class="dp">·</span>BACKOFF_PERIOD<span class="dp">·</span>on<span class="dp">·</span>this<span class="dp">·</span>domain</td></tr>
<tr class="diffunmodified"><td class="diffline">109 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>res<span class="dp">·</span>=<span class="dp">·</span>await<span class="dp">·</span>connection.fetchrow(</td><td class="diffline">109 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>res<span class="dp">·</span>=<span class="dp">·</span>await<span class="dp">·</span>connection.fetchrow(</td></tr>
<tr class="diffunmodified"><td class="diffline">110 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>f&quot;&quot;&quot;</td><td class="diffline">110 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>f&quot;&quot;&quot;</td></tr>
<tr class="diffunmodified"><td class="diffline">111 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>SELECT<span class="dp">·</span>COUNT(*)<span class="dp">·</span>FROM<span class="dp">·</span>checks</td><td class="diffline">111 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>SELECT<span class="dp">·</span>COUNT(*)<span class="dp">·</span>FROM<span class="dp">·</span>checks</td></tr>
<tr class="diffunmodified"><td class="diffline">112 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>WHERE<span class="dp">·</span>domain<span class="dp">·</span>=<span class="dp">·</span>$1</td><td class="diffline">112 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>WHERE<span class="dp">·</span>domain<span class="dp">·</span>=<span class="dp">·</span>$1</td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">131 B</span></div>
      <div><span class="source">udata_hydra-2.0.0.dev919/udata_hydra/logger.py</span> vs.</div>
      <div id="udata_hydra--.-.-.dev---.tar---udata_hydra--.-.-.dev----udata_hydra-logger.py"><span class="source">udata_hydra-2.0.0.dev956/udata_hydra/logger.py</span>
        <a class="anchor" href="#udata_hydra--.-.-.dev---.tar---udata_hydra--.-.-.dev----udata_hydra-logger.py">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">157 B</span></div>
      <div><span class="source">udata_hydra-2.0.0.dev919/udata_hydra/migrations/__init__.py</span> vs.</div>
      <div id="udata_hydra--.-.-.dev---.tar---udata_hydra--.-.-.dev----udata_hydra-migrations-__init__.py"><span class="source">udata_hydra-2.0.0.dev956/udata_hydra/migrations/__init__.py</span>
        <a class="anchor" href="#udata_hydra--.-.-.dev---.tar---udata_hydra--.-.-.dev----udata_hydra-migrations-__init__.py">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">201 B</span></div>
      <div><span class="source">udata_hydra-2.0.0.dev919/udata_hydra/migrations/main/20221205_initial_up_rev1.sql</span> vs.</div>
      <div id="udata_hydra--.-.-.dev---.tar---udata_hydra--.-.-.dev----udata_hydra-migrations-main---------_initial_up_rev-.sql"><span class="source">udata_hydra-2.0.0.dev956/udata_hydra/migrations/main/20221205_initial_up_rev1.sql</span>
        <a class="anchor" href="#udata_hydra--.-.-.dev---.tar---udata_hydra--.-.-.dev----udata_hydra-migrations-main---------_initial_up_rev-.sql">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">135 B</span></div>
      <div><span class="source">udata_hydra-2.0.0.dev919/udata_hydra/utils/db.py</span> vs.</div>
      <div id="udata_hydra--.-.-.dev---.tar---udata_hydra--.-.-.dev----udata_hydra-utils-db.py"><span class="source">udata_hydra-2.0.0.dev956/udata_hydra/utils/db.py</span>
        <a class="anchor" href="#udata_hydra--.-.-.dev---.tar---udata_hydra--.-.-.dev----udata_hydra-utils-db.py">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">139 B</span></div>
      <div><span class="source">udata_hydra-2.0.0.dev919/udata_hydra/utils/file.py</span> vs.</div>
      <div id="udata_hydra--.-.-.dev---.tar---udata_hydra--.-.-.dev----udata_hydra-utils-file.py"><span class="source">udata_hydra-2.0.0.dev956/udata_hydra/utils/file.py</span>
        <a class="anchor" href="#udata_hydra--.-.-.dev---.tar---udata_hydra--.-.-.dev----udata_hydra-utils-file.py">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">815 B</span></div>
      <div><span class="source">udata_hydra-2.0.0.dev919/udata_hydra/utils/http.py</span> vs.</div>
      <div id="udata_hydra--.-.-.dev---.tar---udata_hydra--.-.-.dev----udata_hydra-utils-http.py"><span class="source">udata_hydra-2.0.0.dev956/udata_hydra/utils/http.py</span>
        <a class="anchor" href="#udata_hydra--.-.-.dev---.tar---udata_hydra--.-.-.dev----udata_hydra-utils-http.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 14% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 5, 18 lines modified</td><td colspan="2">Offset 5, 14 lines modified</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">5 </td><td class="diffpresent">from<span class="dp">·</span>udata_hydra<span class="dp">·</span>import<span class="dp">·</span>config</td><td class="diffline">5 </td><td class="diffpresent">from<span class="dp">·</span>udata_hydra<span class="dp">·</span>import<span class="dp">·</span>config</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">6 </td><td class="diffpresent">log<span class="dp">·</span>=<span class="dp">·</span>logging.getLogger(&quot;udata-hydra&quot;)</td><td class="diffline">6 </td><td class="diffpresent">log<span class="dp">·</span>=<span class="dp">·</span>logging.getLogger(&quot;udata-hydra&quot;)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">7 </td><td class="diffpresent">async<span class="dp">·</span>def<span class="dp">·</span>send(dataset_id:<span class="dp">·</span>str,<span class="dp">·</span>resource_id:<span class="dp">·</span>str,<span class="dp">·</span>document:<span class="dp">·</span>dict)<span class="dp">·</span>-&gt;<span class="dp">·</span>None:</td><td class="diffline">7 </td><td class="diffpresent">async<span class="dp">·</span>def<span class="dp">·</span>send(dataset_id:<span class="dp">·</span>str,<span class="dp">·</span>resource_id:<span class="dp">·</span>str,<span class="dp">·</span>document:<span class="dp">·</span>dict)<span class="dp">·</span>-&gt;<span class="dp">·</span>None:</td></tr>
<tr class="diffdeleted"><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>Extras<span class="dp">·</span>in<span class="dp">·</span>udata<span class="dp">·</span>can&#x27;t<span class="dp">·</span>be<span class="dp">·</span>None</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>FIXME:<span class="dp">·</span>we<span class="dp">·</span>will<span class="dp">·</span>need<span class="dp">·</span>to<span class="dp">·</span>send<span class="dp">·</span>None<span class="dp">·</span>values</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>#<span class="dp">·</span>cf<span class="dp">·</span>https://github.com/etalab/data.gouv.fr/issues/1001</td><td colspan="2"> </td></tr>
<tr class="diffdeleted"><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>document<span class="dp">·</span>=<span class="dp">·</span>{k:<span class="dp">·</span>document[k]<span class="dp">·</span>for<span class="dp">·</span>k<span class="dp">·</span>in<span class="dp">·</span>document<span class="dp">·</span>if<span class="dp">·</span>document[k]<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>None}</td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>log.debug(f&quot;Sending<span class="dp">·</span>payload<span class="dp">·</span>to<span class="dp">·</span>udata<span class="dp">·</span>{dataset_id}/{resource_id}:<span class="dp">·</span>{json.dumps(document,<span class="dp">·</span>indent=4)}&quot;)</td><td class="diffline">8 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>log.debug(f&quot;Sending<span class="dp">·</span>payload<span class="dp">·</span>to<span class="dp">·</span>udata<span class="dp">·</span>{dataset_id}/{resource_id}:<span class="dp">·</span>{json.dumps(document,<span class="dp">·</span>indent=4)}&quot;)</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">13 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>not<span class="dp">·</span>config.WEBHOOK_ENABLED:</td><td class="diffline">9 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>not<span class="dp">·</span>config.WEBHOOK_ENABLED:</td></tr>
<tr class="diffunmodified"><td class="diffline">14 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>log.debug(&quot;Webhook<span class="dp">·</span>disabled,<span class="dp">·</span>skipping<span class="dp">·</span>send&quot;)</td><td class="diffline">10 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>log.debug(&quot;Webhook<span class="dp">·</span>disabled,<span class="dp">·</span>skipping<span class="dp">·</span>send&quot;)</td></tr>
<tr class="diffunmodified"><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return</td><td class="diffline">11 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>return</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>not<span class="dp">·</span>config.UDATA_URI<span class="dp">·</span>or<span class="dp">·</span>not<span class="dp">·</span>config.UDATA_URI_API_KEY:</td><td class="diffline">12 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>if<span class="dp">·</span>not<span class="dp">·</span>config.UDATA_URI<span class="dp">·</span>or<span class="dp">·</span>not<span class="dp">·</span>config.UDATA_URI_API_KEY:</td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">141 B</span></div>
      <div><span class="source">udata_hydra-2.0.0.dev919/udata_hydra/utils/minio.py</span> vs.</div>
      <div id="udata_hydra--.-.-.dev---.tar---udata_hydra--.-.-.dev----udata_hydra-utils-minio.py"><span class="source">udata_hydra-2.0.0.dev956/udata_hydra/utils/minio.py</span>
        <a class="anchor" href="#udata_hydra--.-.-.dev---.tar---udata_hydra--.-.-.dev----udata_hydra-utils-minio.py">¶</a>
      </div>
      </div>
      <div class="comment">Files identical despite different names
      </div>
    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">10.1 KB</span></div>
      <div><span class="source">udata_hydra-2.0.0.dev919/setup.py</span> vs.</div>
      <div id="udata_hydra--.-.-.dev---.tar---udata_hydra--.-.-.dev----setup.py"><span class="source">udata_hydra-2.0.0.dev956/setup.py</span>
        <a class="anchor" href="#udata_hydra--.-.-.dev---.tar---udata_hydra--.-.-.dev----setup.py">¶</a>
      </div>
      </div>
      <div class="comment">Files 1% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 13, 15 lines modified</td><td colspan="2">Offset 13, 16 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">13 </td><td class="diffpresent">install_requires<span class="dp">·</span>=<span class="dp">·</span>\</td><td class="diffline">13 </td><td class="diffpresent">install_requires<span class="dp">·</span>=<span class="dp">·</span>\</td></tr>
<tr class="diffunmodified"><td class="diffline">14 </td><td class="diffpresent">[&#x27;aiocontextvars&gt;=0.2.2,&lt;0.3.0&#x27;,</td><td class="diffline">14 </td><td class="diffpresent">[&#x27;aiocontextvars&gt;=0.2.2,&lt;0.3.0&#x27;,</td></tr>
<tr class="diffunmodified"><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span>&#x27;aiohttp&gt;=3.8.1,&lt;4.0.0&#x27;,</td><td class="diffline">15 </td><td class="diffpresent"><span class="dp">·</span>&#x27;aiohttp&gt;=3.8.1,&lt;4.0.0&#x27;,</td></tr>
<tr class="diffunmodified"><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span>&#x27;asyncpg&gt;=0.27.0,&lt;0.28.0&#x27;,</td><td class="diffline">16 </td><td class="diffpresent"><span class="dp">·</span>&#x27;asyncpg&gt;=0.27.0,&lt;0.28.0&#x27;,</td></tr>
<tr class="diffunmodified"><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span>&#x27;boto3&gt;=1.21.21,&lt;2.0.0&#x27;,</td><td class="diffline">17 </td><td class="diffpresent"><span class="dp">·</span>&#x27;boto3&gt;=1.21.21,&lt;2.0.0&#x27;,</td></tr>
<tr class="diffunmodified"><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span>&#x27;cchardet&gt;=2.1.7,&lt;3.0.0&#x27;,</td><td class="diffline">18 </td><td class="diffpresent"><span class="dp">·</span>&#x27;cchardet&gt;=2.1.7,&lt;3.0.0&#x27;,</td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span>&#x27;coloredlogs&gt;=15.0.1,&lt;16.0.0&#x27;,</td><td class="diffline">19 </td><td class="diffpresent"><span class="dp">·</span>&#x27;coloredlogs&gt;=15.0.1,&lt;16.0.0&#x27;,</td></tr>
<tr class="diffchanged"><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span>&#x27;csv-detective&gt;=0.4.<del>6</del>,&lt;0.5.0&#x27;,</td><td class="diffline">20 </td><td class="diffpresent"><span class="dp">·</span>&#x27;csv-detective&gt;=0.4.<ins>7</ins>,&lt;0.5.0&#x27;,</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span>&#x27;dateparser&gt;=1.1.7,&lt;2.0.0&#x27;,</td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent"><span class="dp">·</span>&#x27;humanfriendly&gt;=10.0,&lt;11.0&#x27;,</td><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span>&#x27;humanfriendly&gt;=10.0,&lt;11.0&#x27;,</td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent"><span class="dp">·</span>&#x27;marshmallow&gt;=3.14.1,&lt;4.0.0&#x27;,</td><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span>&#x27;marshmallow&gt;=3.14.1,&lt;4.0.0&#x27;,</td></tr>
<tr class="diffunmodified"><td class="diffline">23 </td><td class="diffpresent"><span class="dp">·</span>&#x27;minicli&gt;=0.5.0,&lt;0.6.0&#x27;,</td><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span>&#x27;minicli&gt;=0.5.0,&lt;0.6.0&#x27;,</td></tr>
<tr class="diffunmodified"><td class="diffline">24 </td><td class="diffpresent"><span class="dp">·</span>&#x27;pandas&gt;=1.3.3,&lt;2.0.0&#x27;,</td><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span>&#x27;pandas&gt;=1.3.3,&lt;2.0.0&#x27;,</td></tr>
<tr class="diffunmodified"><td class="diffline">25 </td><td class="diffpresent"><span class="dp">·</span>&#x27;progressist&gt;=0.1.0,&lt;0.2.0&#x27;,</td><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span>&#x27;progressist&gt;=0.1.0,&lt;0.2.0&#x27;,</td></tr>
<tr class="diffunmodified"><td class="diffline">26 </td><td class="diffpresent"><span class="dp">·</span>&#x27;python-dateutil&gt;=2.8.2,&lt;3.0.0&#x27;,</td><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span>&#x27;python-dateutil&gt;=2.8.2,&lt;3.0.0&#x27;,</td></tr>
<tr class="diffunmodified"><td class="diffline">27 </td><td class="diffpresent"><span class="dp">·</span>&#x27;python-magic&gt;=0.4.25,&lt;0.5.0&#x27;,</td><td class="diffline">28 </td><td class="diffpresent"><span class="dp">·</span>&#x27;python-magic&gt;=0.4.25,&lt;0.5.0&#x27;,</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 36, 15 lines modified</td><td colspan="2">Offset 37, 15 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">36 </td><td class="diffpresent">entry_points<span class="dp">·</span>=<span class="dp">·</span>\</td><td class="diffline">37 </td><td class="diffpresent">entry_points<span class="dp">·</span>=<span class="dp">·</span>\</td></tr>
<tr class="diffunmodified"><td class="diffline">37 </td><td class="diffpresent">{&#x27;console_scripts&#x27;:<span class="dp">·</span>[&#x27;udata-hydra<span class="dp">·</span>=<span class="dp">·</span>udata_hydra.cli:run&#x27;,</td><td class="diffline">38 </td><td class="diffpresent">{&#x27;console_scripts&#x27;:<span class="dp">·</span>[&#x27;udata-hydra<span class="dp">·</span>=<span class="dp">·</span>udata_hydra.cli:run&#x27;,</td></tr>
<tr class="diffunmodified"><td class="diffline">38 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;udata-hydra-app<span class="dp">·</span>=<span class="dp">·</span>udata_hydra.app:run&#x27;,</td><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;udata-hydra-app<span class="dp">·</span>=<span class="dp">·</span>udata_hydra.app:run&#x27;,</td></tr>
<tr class="diffunmodified"><td class="diffline">39 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;udata-hydra-crawl<span class="dp">·</span>=<span class="dp">·</span>udata_hydra.crawl:run&#x27;]}</td><td class="diffline">40 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;udata-hydra-crawl<span class="dp">·</span>=<span class="dp">·</span>udata_hydra.crawl:run&#x27;]}</td></tr>
<tr class="diffunmodified"><td colspan="2"> </td><td colspan="2"> </td></tr>
<tr class="diffunmodified"><td class="diffline">40 </td><td class="diffpresent">setup_kwargs<span class="dp">·</span>=<span class="dp">·</span>{</td><td class="diffline">41 </td><td class="diffpresent">setup_kwargs<span class="dp">·</span>=<span class="dp">·</span>{</td></tr>
<tr class="diffunmodified"><td class="diffline">41 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;name&#x27;:<span class="dp">·</span>&#x27;udata-hydra&#x27;,</td><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;name&#x27;:<span class="dp">·</span>&#x27;udata-hydra&#x27;,</td></tr>
<tr class="diffchanged"><td class="diffline">42 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;version&#x27;:<span class="dp">·</span>&#x27;2.0.0.dev9<del>19</del>&#x27;,</td><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;version&#x27;:<span class="dp">·</span>&#x27;2.0.0.dev9<ins>56</ins>&#x27;,</td></tr>
<tr class="diffunmodified"><td class="diffline">43 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;description&#x27;:<span class="dp">·</span>&#x27;Async<span class="dp">·</span>crawler<span class="dp">·</span>and<span class="dp">·</span>parsing<span class="dp">·</span>service<span class="dp">·</span>for<span class="dp">·</span>data.gouv.fr&#x27;,</td><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;description&#x27;:<span class="dp">·</span>&#x27;Async<span class="dp">·</span>crawler<span class="dp">·</span>and<span class="dp">·</span>parsing<span class="dp">·</span>service<span class="dp">·</span>for<span class="dp">·</span>data.gouv.fr&#x27;,</td></tr>
<tr class="diffunmodified"><td class="diffline">44 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;long_description&#x27;:<span class="dp">·</span>&#x27;#<span class="dp">·</span>udata-hydra<span class="dp">·</span>🦀\n\n`udata-hydra`<span class="dp">·</span>is<span class="dp">·</span>an<span class="dp">·</span>async<span class="dp">·</span>metadata<span class="dp">·</span>crawler<span class="dp">·</span>for<span class="dp">·</span>[data.gouv.fr](https://www.data.gouv.fr).\n\nURLs<span class="dp">·</span>are<span class="dp">·</span>crawled<span class="dp">·</span>via<span class="dp">·</span>_aiohttp_,<span class="dp">·</span>catalog<span class="dp">·</span>and<span class="dp">·</span>crawled<span class="dp">·</span>metadata<span class="dp">·</span>are<span class="dp">·</span>stored<span class="dp">·</span>in<span class="dp">·</span>a<span class="dp">·</span>_PostgreSQL_<span class="dp">·</span>database.\n\nSince<span class="dp">·</span>it\&#x27;s<span class="dp">·</span>called<span class="dp">·</span>_hydra_,<span class="dp">·</span>it<span class="dp">·</span>also<span class="dp">·</span>has<span class="dp">·</span>mythical<span class="dp">·</span>powers<span class="dp">·</span>embedded:\n-<span class="dp">·</span>analyse<span class="dp">·</span>remote<span class="dp">·</span>resource<span class="dp">·</span>metadata<span class="dp">·</span>over<span class="dp">·</span>time<span class="dp">·</span>to<span class="dp">·</span>detect<span class="dp">·</span>changes<span class="dp">·</span>in<span class="dp">·</span>the<span class="dp">·</span>smartest<span class="dp">·</span>way<span class="dp">·</span>possible\n-<span class="dp">·</span>if<span class="dp">·</span>the<span class="dp">·</span>remote<span class="dp">·</span>resource<span class="dp">·</span>is<span class="dp">·</span>a<span class="dp">·</span>CSV,<span class="dp">·</span>convert<span class="dp">·</span>it<span class="dp">·</span>to<span class="dp">·</span>a<span class="dp">·</span>PostgreSQL<span class="dp">·</span>table,<span class="dp">·</span>ready<span class="dp">·</span>for<span class="dp">·</span>APIfication\n-<span class="dp">·</span>send<span class="dp">·</span>crawl<span class="dp">·</span>and<span class="dp">·</span>analysis<span class="dp">·</span>info<span class="dp">·</span>to<span class="dp">·</span>a<span class="dp">·</span>udata<span class="dp">·</span>instance\n\n##<span class="dp">·</span>CLI\n\n###<span class="dp">·</span>Create<span class="dp">·</span>database<span class="dp">·</span>structure\n\nInstall<span class="dp">·</span>udata-hydra<span class="dp">·</span>dependencies<span class="dp">·</span>and<span class="dp">·</span>cli.\n`poetry<span class="dp">·</span>install`\n\n`poetry<span class="dp">·</span>run<span class="dp">·</span>udata-hydra<span class="dp">·</span>migrate`\n\n###<span class="dp">·</span>Load<span class="dp">·</span>(UPSERT)<span class="dp">·</span>latest<span class="dp">·</span>catalog<span class="dp">·</span>version<span class="dp">·</span>from<span class="dp">·</span>data.gouv.fr\n\n`udata-hydra<span class="dp">·</span>load-catalog`\n\n##<span class="dp">·</span>Crawler\n\n`udata-hydra-crawl`\n\nIt<span class="dp">·</span>will<span class="dp">·</span>crawl<span class="dp">·</span>(forever)<span class="dp">·</span>the<span class="dp">·</span>catalog<span class="dp">·</span>according<span class="dp">·</span>to<span class="dp">·</span>config<span class="dp">·</span>set<span class="dp">·</span>in<span class="dp">·</span>`config.py`.\n\n`BATCH_SIZE`<span class="dp">·</span>URLs<span class="dp">·</span>are<span class="dp">·</span>queued<span class="dp">·</span>at<span class="dp">·</span>each<span class="dp">·</span>loop<span class="dp">·</span>run.\n\nThe<span class="dp">·</span>crawler<span class="dp">·</span>will<span class="dp">·</span>start<span class="dp">·</span>with<span class="dp">·</span>URLs<span class="dp">·</span>never<span class="dp">·</span>checked<span class="dp">·</span>and<span class="dp">·</span>then<span class="dp">·</span>proceed<span class="dp">·</span>with<span class="dp">·</span>URLs<span class="dp">·</span>crawled<span class="dp">·</span>before<span class="dp">·</span>`SINCE`<span class="dp">·</span>interval.<span class="dp">·</span>It<span class="dp">·</span>will<span class="dp">·</span>then<span class="dp">·</span>wait<span class="dp">·</span>until<span class="dp">·</span>something<span class="dp">·</span>changes<span class="dp">·</span>(catalog<span class="dp">·</span>or<span class="dp">·</span>time).\n\nThere\&#x27;s<span class="dp">·</span>a<span class="dp">·</span>by-domain<span class="dp">·</span>backoff<span class="dp">·</span>mecanism.<span class="dp">·</span>The<span class="dp">·</span>crawler<span class="dp">·</span>will<span class="dp">·</span>wait<span class="dp">·</span>when,<span class="dp">·</span>for<span class="dp">·</span>a<span class="dp">·</span>given<span class="dp">·</span>domain<span class="dp">·</span>in<span class="dp">·</span>a<span class="dp">·</span>given<span class="dp">·</span>batch,<span class="dp">·</span>`BACKOFF_NB_REQ`<span class="dp">·</span>is<span class="dp">·</span>exceeded<span class="dp">·</span>in<span class="dp">·</span>a<span class="dp">·</span>period<span class="dp">·</span>of<span class="dp">·</span>`BACKOFF_PERIOD`<span class="dp">·</span>seconds.<span class="dp">·</span>It<span class="dp">·</span>will<span class="dp">·</span>retry<span class="dp">·</span>until<span class="dp">·</span>the<span class="dp">·</span>backoff<span class="dp">·</span>is<span class="dp">·</span>lifted.\n\nIf<span class="dp">·</span>an<span class="dp">·</span>URL<span class="dp">·</span>matches<span class="dp">·</span>one<span class="dp">·</span>of<span class="dp">·</span>the<span class="dp">·</span>`EXCLUDED_PATTERNS`,<span class="dp">·</span>it<span class="dp">·</span>will<span class="dp">·</span>never<span class="dp">·</span>be<span class="dp">·</span>checked.\n\n##<span class="dp">·</span>Worker\n\nA<span class="dp">·</span>job<span class="dp">·</span>queuing<span class="dp">·</span>system<span class="dp">·</span>is<span class="dp">·</span>used<span class="dp">·</span>to<span class="dp">·</span>process<span class="dp">·</span>long-running<span class="dp">·</span>tasks.<span class="dp">·</span>Launch<span class="dp">·</span>the<span class="dp">·</span>worker<span class="dp">·</span>with<span class="dp">·</span>the<span class="dp">·</span>following<span class="dp">·</span>command:\n\n`poetry<span class="dp">·</span>run<span class="dp">·</span>rq<span class="dp">·</span>worker<span class="dp">·</span>-c<span class="dp">·</span>udata_hydra.worker`\n\nMonitor<span class="dp">·</span>worker<span class="dp">·</span>status:\n\n`poetry<span class="dp">·</span>run<span class="dp">·</span>rq<span class="dp">·</span>info<span class="dp">·</span>-c<span class="dp">·</span>udata_hydra.worker<span class="dp">·</span>--interval<span class="dp">·</span>1`\n\n##<span class="dp">·</span>CSV<span class="dp">·</span>conversion<span class="dp">·</span>to<span class="dp">·</span>database\n\nConverted<span class="dp">·</span>CSV<span class="dp">·</span>tables<span class="dp">·</span>will<span class="dp">·</span>be<span class="dp">·</span>stored<span class="dp">·</span>in<span class="dp">·</span>the<span class="dp">·</span>database<span class="dp">·</span>specified<span class="dp">·</span>via<span class="dp">·</span>`config.DATABASE_URL_CSV`.<span class="dp">·</span>For<span class="dp">·</span>tests<span class="dp">·</span>it\&#x27;s<span class="dp">·</span>same<span class="dp">·</span>database<span class="dp">·</span>as<span class="dp">·</span>for<span class="dp">·</span>the<span class="dp">·</span>catalog.<span class="dp">·</span>Locally,<span class="dp">·</span>`docker<span class="dp">·</span>compose`<span class="dp">·</span>will<span class="dp">·</span>launch<span class="dp">·</span>two<span class="dp">·</span>distinct<span class="dp">·</span>database<span class="dp">·</span>containers.\n\n##<span class="dp">·</span>API\n\n###<span class="dp">·</span>Run\n\n```\npoetry<span class="dp">·</span>install\npoetry<span class="dp">·</span>run<span class="dp">·</span>adev<span class="dp">·</span>runserver<span class="dp">·</span>udata_hydra/app.py\n```\n\n###<span class="dp">·</span>Get<span class="dp">·</span>latest<span class="dp">·</span>check\n\nWorks<span class="dp">·</span>with<span class="dp">·</span>`?url={url}`<span class="dp">·</span>and<span class="dp">·</span>`?resource_id={resource_id}`.\n\n```\n$<span class="dp">·</span>curl<span class="dp">·</span>-s<span class="dp">·</span>&quot;http://localhost:8000/api/checks/latest/?url=http://opendata-sig.saintdenis.re/datasets/661e19974bcc48849bbff7c9637c5c28_1.csv&quot;<span class="dp">·</span>|<span class="dp">·</span>json_pp\n{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;status&quot;<span class="dp">·</span>:<span class="dp">·</span>200,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;catalog_id&quot;<span class="dp">·</span>:<span class="dp">·</span>64148,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;deleted&quot;<span class="dp">·</span>:<span class="dp">·</span>false,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;error&quot;<span class="dp">·</span>:<span class="dp">·</span>null,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;created_at&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;2021-02-06T12:19:08.203055&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;response_time&quot;<span class="dp">·</span>:<span class="dp">·</span>0.830198049545288,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;url&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;http://opendata-sig.saintdenis.re/datasets/661e19974bcc48849bbff7c9637c5c28_1.csv&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;domain&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;opendata-sig.saintdenis.re&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;timeout&quot;<span class="dp">·</span>:<span class="dp">·</span>false,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;id&quot;<span class="dp">·</span>:<span class="dp">·</span>114750,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;dataset_id&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;5c34944606e3e73d4a551889&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;resource_id&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;b3678c59-5b35-43ad-9379-fce29e5b56fe&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;headers&quot;<span class="dp">·</span>:<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;content-disposition&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;attachment;<span class="dp">·</span>filename=\\&quot;xn--Dlimitation_des_cantons-bcc.csv\\&quot;&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;server&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;openresty&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;x-amz-meta-cachetime&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;191&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;last-modified&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;Wed,<span class="dp">·</span>29<span class="dp">·</span>Apr<span class="dp">·</span>2020<span class="dp">·</span>02:19:04<span class="dp">·</span>GMT&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;content-encoding&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;gzip&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;content-type&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;text/csv&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;cache-control&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;must-revalidate&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;etag&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;\\&quot;20415964703d9ccc4815d7126aa3a6d8\\&quot;&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;content-length&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;207&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;date&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;Sat,<span class="dp">·</span>06<span class="dp">·</span>Feb<span class="dp">·</span>2021<span class="dp">·</span>12:19:08<span class="dp">·</span>GMT&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;x-amz-meta-contentlastmodified&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;2018-11-19T09:38:28.490Z&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;connection&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;keep-alive&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;vary&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;Accept-Encoding&quot;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n}\n```\n\n###<span class="dp">·</span>Get<span class="dp">·</span>all<span class="dp">·</span>checks<span class="dp">·</span>for<span class="dp">·</span>an<span class="dp">·</span>URL<span class="dp">·</span>or<span class="dp">·</span>resource\n\nWorks<span class="dp">·</span>with<span class="dp">·</span>`?url={url}`<span class="dp">·</span>and<span class="dp">·</span>`?resource_id={resource_id}`.\n\n```\n$<span class="dp">·</span>curl<span class="dp">·</span>-s<span class="dp">·</span>&quot;http://localhost:8000/api/checks/all/?url=http://www.drees.sante.gouv.fr/IMG/xls/er864.xls&quot;<span class="dp">·</span>|<span class="dp">·</span>json_pp\n[\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;domain&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;www.drees.sante.gouv.fr&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;dataset_id&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;53d6eadba3a72954d9dd62f5&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;timeout&quot;<span class="dp">·</span>:<span class="dp">·</span>false,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;deleted&quot;<span class="dp">·</span>:<span class="dp">·</span>false,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;response_time&quot;<span class="dp">·</span>:<span class="dp">·</span>null,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;error&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;Cannot<span class="dp">·</span>connect<span class="dp">·</span>to<span class="dp">·</span>host<span class="dp">·</span>www.drees.sante.gouv.fr:443<span class="dp">·</span>ssl:True<span class="dp">·</span>[SSLCertVerificationError:<span class="dp">·</span>(1,<span class="dp">·</span>\\&quot;[SSL:<span class="dp">·</span>CERTIFICATE_VERIFY_FAILED]<span class="dp">·</span>certificate<span class="dp">·</span>verify<span class="dp">·</span>failed:<span class="dp">·</span>Hostname<span class="dp">·</span>mismatch,<span class="dp">·</span>certificate<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>valid<span class="dp">·</span>for<span class="dp">·</span>\&#x27;www.drees.sante.gouv.fr\&#x27;.<span class="dp">·</span>(_ssl.c:1122)\\&quot;)]&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;catalog_id&quot;<span class="dp">·</span>:<span class="dp">·</span>232112,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;url&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;http://www.drees.sante.gouv.fr/IMG/xls/er864.xls&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;headers&quot;<span class="dp">·</span>:<span class="dp">·</span>{},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;id&quot;<span class="dp">·</span>:<span class="dp">·</span>165107,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;created_at&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;2021-02-06T14:32:47.675854&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;resource_id&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;93dfd449-9d26-4bb0-a6a9-ee49b1b8a4d7&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;status&quot;<span class="dp">·</span>:<span class="dp">·</span>null\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;timeout&quot;<span class="dp">·</span>:<span class="dp">·</span>false,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;deleted&quot;<span class="dp">·</span>:<span class="dp">·</span>false,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;response_time&quot;<span class="dp">·</span>:<span class="dp">·</span>null,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;error&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;Cannot<span class="dp">·</span>connect<span class="dp">·</span>to<span class="dp">·</span>host<span class="dp">·</span>www.drees.sante.gouv.fr:443<span class="dp">·</span>ssl:True<span class="dp">·</span>[SSLCertVerificationError:<span class="dp">·</span>(1,<span class="dp">·</span>\\&quot;[SSL:<span class="dp">·</span>CERTIFICATE_VERIFY_FAILED]<span class="dp">·</span>certificate<span class="dp">·</span>verify<span class="dp">·</span>failed:<span class="dp">·</span>Hostname<span class="dp">·</span>mismatch,<span class="dp">·</span>certificate<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>valid<span class="dp">·</span>for<span class="dp">·</span>\&#x27;www.drees.sante.gouv.fr\&#x27;.<span class="dp">·</span>(_ssl.c:1122)\\&quot;)]&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;domain&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;www.drees.sante.gouv.fr&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;dataset_id&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;53d6eadba3a72954d9dd62f5&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;created_at&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;2020-12-24T17:06:58.158125&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;resource_id&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;93dfd449-9d26-4bb0-a6a9-ee49b1b8a4d7&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;status&quot;<span class="dp">·</span>:<span class="dp">·</span>null,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;catalog_id&quot;<span class="dp">·</span>:<span class="dp">·</span>232112,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;url&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;http://www.drees.sante.gouv.fr/IMG/xls/er864.xls&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;headers&quot;<span class="dp">·</span>:<span class="dp">·</span>{},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;id&quot;<span class="dp">·</span>:<span class="dp">·</span>65092\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n]\n```\n\n###<span class="dp">·</span>Get<span class="dp">·</span>crawling<span class="dp">·</span>status\n\n```\n$<span class="dp">·</span>curl<span class="dp">·</span>-s<span class="dp">·</span>&quot;http://localhost:8000/api/status/crawler/&quot;<span class="dp">·</span>|<span class="dp">·</span>json_pp\n{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;fresh_checks_percentage&quot;<span class="dp">·</span>:<span class="dp">·</span>0.4,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;pending_checks&quot;<span class="dp">·</span>:<span class="dp">·</span>142153,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;total&quot;<span class="dp">·</span>:<span class="dp">·</span>142687,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;fresh_checks&quot;<span class="dp">·</span>:<span class="dp">·</span>534,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;checks_percentage&quot;<span class="dp">·</span>:<span class="dp">·</span>0.4\n}\n```\n\n###<span class="dp">·</span>Get<span class="dp">·</span>worker<span class="dp">·</span>status\n\n```\n$<span class="dp">·</span>curl<span class="dp">·</span>-s<span class="dp">·</span>&quot;http://localhost:8000/api/status/worker/&quot;<span class="dp">·</span>|<span class="dp">·</span>json_pp\n{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;queued&quot;<span class="dp">·</span>:<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;default&quot;<span class="dp">·</span>:<span class="dp">·</span>0,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;high&quot;<span class="dp">·</span>:<span class="dp">·</span>825,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;low&quot;<span class="dp">·</span>:<span class="dp">·</span>655\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n}\n```\n\n###<span class="dp">·</span>Get<span class="dp">·</span>crawling<span class="dp">·</span>stats\n\n```\n$<span class="dp">·</span>curl<span class="dp">·</span>-s<span class="dp">·</span>&quot;http://localhost:8000/api/stats/&quot;<span class="dp">·</span>|<span class="dp">·</span>json_pp\n{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;status&quot;<span class="dp">·</span>:<span class="dp">·</span>[\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;count&quot;<span class="dp">·</span>:<span class="dp">·</span>525,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;percentage&quot;<span class="dp">·</span>:<span class="dp">·</span>98.3,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;label&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;ok&quot;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;label&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;error&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;percentage&quot;<span class="dp">·</span>:<span class="dp">·</span>1.3,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;count&quot;<span class="dp">·</span>:<span class="dp">·</span>7\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;label&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;timeout&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;percentage&quot;<span class="dp">·</span>:<span class="dp">·</span>0.4,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;count&quot;<span class="dp">·</span>:<span class="dp">·</span>2\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>],\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;status_codes&quot;<span class="dp">·</span>:<span class="dp">·</span>[\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;code&quot;<span class="dp">·</span>:<span class="dp">·</span>200,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;count&quot;<span class="dp">·</span>:<span class="dp">·</span>413,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;percentage&quot;<span class="dp">·</span>:<span class="dp">·</span>78.7\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;code&quot;<span class="dp">·</span>:<span class="dp">·</span>501,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;percentage&quot;<span class="dp">·</span>:<span class="dp">·</span>12.4,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;count&quot;<span class="dp">·</span>:<span class="dp">·</span>65\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;percentage&quot;<span class="dp">·</span>:<span class="dp">·</span>6.1,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;count&quot;<span class="dp">·</span>:<span class="dp">·</span>32,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;code&quot;<span class="dp">·</span>:<span class="dp">·</span>404\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;code&quot;<span class="dp">·</span>:<span class="dp">·</span>500,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;percentage&quot;<span class="dp">·</span>:<span class="dp">·</span>2.7,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;count&quot;<span class="dp">·</span>:<span class="dp">·</span>14\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;code&quot;<span class="dp">·</span>:<span class="dp">·</span>502,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;count&quot;<span class="dp">·</span>:<span class="dp">·</span>1,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;percentage&quot;<span class="dp">·</span>:<span class="dp">·</span>0.2\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>]\n}\n```\n\n##<span class="dp">·</span>Using<span class="dp">·</span>Webhook<span class="dp">·</span>integration\n\n**<span class="dp">·</span>Set<span class="dp">·</span>the<span class="dp">·</span>config<span class="dp">·</span>values**\n\nCreate<span class="dp">·</span>a<span class="dp">·</span>`config.toml`<span class="dp">·</span>where<span class="dp">·</span>your<span class="dp">·</span>service<span class="dp">·</span>and<span class="dp">·</span>commands<span class="dp">·</span>are<span class="dp">·</span>launched,<span class="dp">·</span>or<span class="dp">·</span>specify<span class="dp">·</span>a<span class="dp">·</span>path<span class="dp">·</span>to<span class="dp">·</span>a<span class="dp">·</span>TOML<span class="dp">·</span>file<span class="dp">·</span>via<span class="dp">·</span>the<span class="dp">·</span>`HYDRA_SETTINGS`<span class="dp">·</span>environment<span class="dp">·</span>variable.<span class="dp">·</span>`config.toml`<span class="dp">·</span>or<span class="dp">·</span>equivalent<span class="dp">·</span>will<span class="dp">·</span>override<span class="dp">·</span>values<span class="dp">·</span>from<span class="dp">·</span>`udata_hydra/config_default.toml`,<span class="dp">·</span>lookup<span class="dp">·</span>there<span class="dp">·</span>for<span class="dp">·</span>values<span class="dp">·</span>that<span class="dp">·</span>can/need<span class="dp">·</span>to<span class="dp">·</span>be<span class="dp">·</span>defined.\n\n```toml\nUDATA_URI<span class="dp">·</span>=<span class="dp">·</span>&quot;https://dev.local:7000/api/2&quot;\nUDATA_URI_API_KEY<span class="dp">·</span>=<span class="dp">·</span>&quot;example.api.key&quot;\nSENTRY_DSN<span class="dp">·</span>=<span class="dp">·</span>&quot;https://{my-sentry-dsn}&quot;\n```\n\nThe<span class="dp">·</span>webhook<span class="dp">·</span>integration<span class="dp">·</span>sends<span class="dp">·</span>HTTP<span class="dp">·</span>messages<span class="dp">·</span>to<span class="dp">·</span>`udata`<span class="dp">·</span>when<span class="dp">·</span>resources<span class="dp">·</span>are<span class="dp">·</span>analyzed<span class="dp">·</span>or<span class="dp">·</span>checked<span class="dp">·</span>to<span class="dp">·</span>fill<span class="dp">·</span>resources<span class="dp">·</span>extras.\n\nRegarding<span class="dp">·</span>analysis,<span class="dp">·</span>there<span class="dp">·</span>is<span class="dp">·</span>a<span class="dp">·</span>phase<span class="dp">·</span>called<span class="dp">·</span>&quot;change<span class="dp">·</span>detection&quot;.<span class="dp">·</span>It<span class="dp">·</span>will<span class="dp">·</span>try<span class="dp">·</span>to<span class="dp">·</span>guess<span class="dp">·</span>if<span class="dp">·</span>a<span class="dp">·</span>resource<span class="dp">·</span>has<span class="dp">·</span>been<span class="dp">·</span>modified<span class="dp">·</span>based<span class="dp">·</span>on<span class="dp">·</span>different<span class="dp">·</span>criterions:\n-<span class="dp">·</span>harvest<span class="dp">·</span>modified<span class="dp">·</span>date<span class="dp">·</span>in<span class="dp">·</span>catalog\n-<span class="dp">·</span>content-length<span class="dp">·</span>and<span class="dp">·</span>last-modified<span class="dp">·</span>headers\n-<span class="dp">·</span>checksum<span class="dp">·</span>comparison<span class="dp">·</span>over<span class="dp">·</span>time\n\nThe<span class="dp">·</span>payload<span class="dp">·</span>should<span class="dp">·</span>look<span class="dp">·</span>something<span class="dp">·</span>like:\n\n```json\n{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;analysis:filesize&quot;:<span class="dp">·</span>91661,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;analysis:mime-type&quot;:<span class="dp">·</span>&quot;application/zip&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;analysis:checksum&quot;:<span class="dp">·</span>&quot;bef1de04601dedaf2d127418759b16915ba083be&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;analysis:last-modified-at&quot;:<span class="dp">·</span>&quot;2022-11-27T23:00:54.762000&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;analysis:last-modified-detection&quot;:<span class="dp">·</span>&quot;harvest-resource-metadata&quot;,\n}\n```\n\n##<span class="dp">·</span>Development\n\n###<span class="dp">·</span>docker-compose\n\nMultiple<span class="dp">·</span>docker-compose<span class="dp">·</span>files<span class="dp">·</span>are<span class="dp">·</span>provided:\n-<span class="dp">·</span>a<span class="dp">·</span>minimal<span class="dp">·</span>`docker-compose.yml`<span class="dp">·</span>with<span class="dp">·</span>two<span class="dp">·</span>PostgreSQL<span class="dp">·</span>containers<span class="dp">·</span>(one<span class="dp">·</span>for<span class="dp">·</span>catalog<span class="dp">·</span>and<span class="dp">·</span>metadata,<span class="dp">·</span>the<span class="dp">·</span>other<span class="dp">·</span>for<span class="dp">·</span>converted<span class="dp">·</span>CSV<span class="dp">·</span>to<span class="dp">·</span>database)\n-<span class="dp">·</span>`docker-compose.broker.yml`<span class="dp">·</span>adds<span class="dp">·</span>a<span class="dp">·</span>Redis<span class="dp">·</span>broker\n-<span class="dp">·</span>`docker-compose.test.yml`<span class="dp">·</span>launches<span class="dp">·</span>a<span class="dp">·</span>test<span class="dp">·</span>DB,<span class="dp">·</span>needed<span class="dp">·</span>to<span class="dp">·</span>run<span class="dp">·</span>tests\n\nNB:<span class="dp">·</span>you<span class="dp">·</span>can<span class="dp">·</span>launch<span class="dp">·</span>compose<span class="dp">·</span>from<span class="dp">·</span>multiple<span class="dp">·</span>files<span class="dp">·</span>like<span class="dp">·</span>this:<span class="dp">·</span>`docker-compose<span class="dp">·</span>-f<span class="dp">·</span>docker-compose.yml<span class="dp">·</span>-f<span class="dp">·</span>docker-compose.test.yml<span class="dp">·</span>up`\n\n###<span class="dp">·</span>Logging<span class="dp">·</span>&amp;<span class="dp">·</span>Debugging\n\nThe<span class="dp">·</span>log<span class="dp">·</span>level<span class="dp">·</span>can<span class="dp">·</span>be<span class="dp">·</span>adjusted<span class="dp">·</span>using<span class="dp">·</span>the<span class="dp">·</span>environment<span class="dp">·</span>variable<span class="dp">·</span>LOG_LEVEL.\nFor<span class="dp">·</span>example,<span class="dp">·</span>to<span class="dp">·</span>set<span class="dp">·</span>the<span class="dp">·</span>log<span class="dp">·</span>level<span class="dp">·</span>to<span class="dp">·</span>`DEBUG`<span class="dp">·</span>when<span class="dp">·</span>initializing<span class="dp">·</span>the<span class="dp">·</span>database,<span class="dp">·</span>use<span class="dp">·</span>`LOG_LEVEL=&quot;DEBUG&quot;<span class="dp">·</span>udata-hydra<span class="dp">·</span>init_db<span class="dp">·</span>`.\n\n###<span class="dp">·</span>Writing<span class="dp">·</span>a<span class="dp">·</span>migration\n\n1.<span class="dp">·</span>Add<span class="dp">·</span>a<span class="dp">·</span>file<span class="dp">·</span>named<span class="dp">·</span>`migrations/{YYYYMMDD}_{description}.sql`<span class="dp">·</span>and<span class="dp">·</span>write<span class="dp">·</span>the<span class="dp">·</span>SQL<span class="dp">·</span>you<span class="dp">·</span>need<span class="dp">·</span>to<span class="dp">·</span>perform<span class="dp">·</span>migration.\n2.<span class="dp">·</span>`udata-hydra<span class="dp">·</span>migrate`<span class="dp">·</span>will<span class="dp">·</span>migrate<span class="dp">·</span>the<span class="dp">·</span>database<span class="dp">·</span>as<span class="dp">·</span>needeed.\n\n##<span class="dp">·</span>Deployment\n\n3<span class="dp">·</span>services<span class="dp">·</span>need<span class="dp">·</span>to<span class="dp">·</span>be<span class="dp">·</span>deployed<span class="dp">·</span>for<span class="dp">·</span>the<span class="dp">·</span>full<span class="dp">·</span>stack<span class="dp">·</span>to<span class="dp">·</span>run:\n-<span class="dp">·</span>worker\n-<span class="dp">·</span>api<span class="dp">·</span>/<span class="dp">·</span>app\n-<span class="dp">·</span>crawler\n\nRefer<span class="dp">·</span>to<span class="dp">·</span>each<span class="dp">·</span>section<span class="dp">·</span>to<span class="dp">·</span>learn<span class="dp">·</span>how<span class="dp">·</span>to<span class="dp">·</span>launch<span class="dp">·</span>them.<span class="dp">·</span>The<span class="dp">·</span>only<span class="dp">·</span>differences<span class="dp">·</span>from<span class="dp">·</span>dev<span class="dp">·</span>to<span class="dp">·</span>prod<span class="dp">·</span>are:\n-<span class="dp">·</span>use<span class="dp">·</span>`HYDRA_SETTINGS`<span class="dp">·</span>env<span class="dp">·</span>var<span class="dp">·</span>to<span class="dp">·</span>point<span class="dp">·</span>to<span class="dp">·</span>your<span class="dp">·</span>custom<span class="dp">·</span>`config.toml`\n-<span class="dp">·</span>use<span class="dp">·</span>`HYDRA_APP_SOCKET_PATH`<span class="dp">·</span>to<span class="dp">·</span>configure<span class="dp">·</span>where<span class="dp">·</span>aiohttp<span class="dp">·</span>should<span class="dp">·</span>listen<span class="dp">·</span>to<span class="dp">·</span>a<span class="dp">·</span>[reverse<span class="dp">·</span>proxy<span class="dp">·</span>connection<span class="dp">·</span>(eg<span class="dp">·</span>nginx)](https://docs.aiohttp.org/en/stable/deployment.html#nginx-configuration)<span class="dp">·</span>and<span class="dp">·</span>use<span class="dp">·</span>`udata-hydra-app`<span class="dp">·</span>to<span class="dp">·</span>launch<span class="dp">·</span>the<span class="dp">·</span>app<span class="dp">·</span>server\n&#x27;,</td><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;long_description&#x27;:<span class="dp">·</span>&#x27;#<span class="dp">·</span>udata-hydra<span class="dp">·</span>🦀\n\n`udata-hydra`<span class="dp">·</span>is<span class="dp">·</span>an<span class="dp">·</span>async<span class="dp">·</span>metadata<span class="dp">·</span>crawler<span class="dp">·</span>for<span class="dp">·</span>[data.gouv.fr](https://www.data.gouv.fr).\n\nURLs<span class="dp">·</span>are<span class="dp">·</span>crawled<span class="dp">·</span>via<span class="dp">·</span>_aiohttp_,<span class="dp">·</span>catalog<span class="dp">·</span>and<span class="dp">·</span>crawled<span class="dp">·</span>metadata<span class="dp">·</span>are<span class="dp">·</span>stored<span class="dp">·</span>in<span class="dp">·</span>a<span class="dp">·</span>_PostgreSQL_<span class="dp">·</span>database.\n\nSince<span class="dp">·</span>it\&#x27;s<span class="dp">·</span>called<span class="dp">·</span>_hydra_,<span class="dp">·</span>it<span class="dp">·</span>also<span class="dp">·</span>has<span class="dp">·</span>mythical<span class="dp">·</span>powers<span class="dp">·</span>embedded:\n-<span class="dp">·</span>analyse<span class="dp">·</span>remote<span class="dp">·</span>resource<span class="dp">·</span>metadata<span class="dp">·</span>over<span class="dp">·</span>time<span class="dp">·</span>to<span class="dp">·</span>detect<span class="dp">·</span>changes<span class="dp">·</span>in<span class="dp">·</span>the<span class="dp">·</span>smartest<span class="dp">·</span>way<span class="dp">·</span>possible\n-<span class="dp">·</span>if<span class="dp">·</span>the<span class="dp">·</span>remote<span class="dp">·</span>resource<span class="dp">·</span>is<span class="dp">·</span>a<span class="dp">·</span>CSV,<span class="dp">·</span>convert<span class="dp">·</span>it<span class="dp">·</span>to<span class="dp">·</span>a<span class="dp">·</span>PostgreSQL<span class="dp">·</span>table,<span class="dp">·</span>ready<span class="dp">·</span>for<span class="dp">·</span>APIfication\n-<span class="dp">·</span>send<span class="dp">·</span>crawl<span class="dp">·</span>and<span class="dp">·</span>analysis<span class="dp">·</span>info<span class="dp">·</span>to<span class="dp">·</span>a<span class="dp">·</span>udata<span class="dp">·</span>instance\n\n##<span class="dp">·</span>CLI\n\n###<span class="dp">·</span>Create<span class="dp">·</span>database<span class="dp">·</span>structure\n\nInstall<span class="dp">·</span>udata-hydra<span class="dp">·</span>dependencies<span class="dp">·</span>and<span class="dp">·</span>cli.\n`poetry<span class="dp">·</span>install`\n\n`poetry<span class="dp">·</span>run<span class="dp">·</span>udata-hydra<span class="dp">·</span>migrate`\n\n###<span class="dp">·</span>Load<span class="dp">·</span>(UPSERT)<span class="dp">·</span>latest<span class="dp">·</span>catalog<span class="dp">·</span>version<span class="dp">·</span>from<span class="dp">·</span>data.gouv.fr\n\n`udata-hydra<span class="dp">·</span>load-catalog`\n\n##<span class="dp">·</span>Crawler\n\n`udata-hydra-crawl`\n\nIt<span class="dp">·</span>will<span class="dp">·</span>crawl<span class="dp">·</span>(forever)<span class="dp">·</span>the<span class="dp">·</span>catalog<span class="dp">·</span>according<span class="dp">·</span>to<span class="dp">·</span>config<span class="dp">·</span>set<span class="dp">·</span>in<span class="dp">·</span>`config.py`.\n\n`BATCH_SIZE`<span class="dp">·</span>URLs<span class="dp">·</span>are<span class="dp">·</span>queued<span class="dp">·</span>at<span class="dp">·</span>each<span class="dp">·</span>loop<span class="dp">·</span>run.\n\nThe<span class="dp">·</span>crawler<span class="dp">·</span>will<span class="dp">·</span>start<span class="dp">·</span>with<span class="dp">·</span>URLs<span class="dp">·</span>never<span class="dp">·</span>checked<span class="dp">·</span>and<span class="dp">·</span>then<span class="dp">·</span>proceed<span class="dp">·</span>with<span class="dp">·</span>URLs<span class="dp">·</span>crawled<span class="dp">·</span>before<span class="dp">·</span>`SINCE`<span class="dp">·</span>interval.<span class="dp">·</span>It<span class="dp">·</span>will<span class="dp">·</span>then<span class="dp">·</span>wait<span class="dp">·</span>until<span class="dp">·</span>something<span class="dp">·</span>changes<span class="dp">·</span>(catalog<span class="dp">·</span>or<span class="dp">·</span>time).\n\nThere\&#x27;s<span class="dp">·</span>a<span class="dp">·</span>by-domain<span class="dp">·</span>backoff<span class="dp">·</span>mecanism.<span class="dp">·</span>The<span class="dp">·</span>crawler<span class="dp">·</span>will<span class="dp">·</span>wait<span class="dp">·</span>when,<span class="dp">·</span>for<span class="dp">·</span>a<span class="dp">·</span>given<span class="dp">·</span>domain<span class="dp">·</span>in<span class="dp">·</span>a<span class="dp">·</span>given<span class="dp">·</span>batch,<span class="dp">·</span>`BACKOFF_NB_REQ`<span class="dp">·</span>is<span class="dp">·</span>exceeded<span class="dp">·</span>in<span class="dp">·</span>a<span class="dp">·</span>period<span class="dp">·</span>of<span class="dp">·</span>`BACKOFF_PERIOD`<span class="dp">·</span>seconds.<span class="dp">·</span>It<span class="dp">·</span>will<span class="dp">·</span>retry<span class="dp">·</span>until<span class="dp">·</span>the<span class="dp">·</span>backoff<span class="dp">·</span>is<span class="dp">·</span>lifted.\n\nIf<span class="dp">·</span>an<span class="dp">·</span>URL<span class="dp">·</span>matches<span class="dp">·</span>one<span class="dp">·</span>of<span class="dp">·</span>the<span class="dp">·</span>`EXCLUDED_PATTERNS`,<span class="dp">·</span>it<span class="dp">·</span>will<span class="dp">·</span>never<span class="dp">·</span>be<span class="dp">·</span>checked.\n\n##<span class="dp">·</span>Worker\n\nA<span class="dp">·</span>job<span class="dp">·</span>queuing<span class="dp">·</span>system<span class="dp">·</span>is<span class="dp">·</span>used<span class="dp">·</span>to<span class="dp">·</span>process<span class="dp">·</span>long-running<span class="dp">·</span>tasks.<span class="dp">·</span>Launch<span class="dp">·</span>the<span class="dp">·</span>worker<span class="dp">·</span>with<span class="dp">·</span>the<span class="dp">·</span>following<span class="dp">·</span>command:\n\n`poetry<span class="dp">·</span>run<span class="dp">·</span>rq<span class="dp">·</span>worker<span class="dp">·</span>-c<span class="dp">·</span>udata_hydra.worker`\n\nMonitor<span class="dp">·</span>worker<span class="dp">·</span>status:\n\n`poetry<span class="dp">·</span>run<span class="dp">·</span>rq<span class="dp">·</span>info<span class="dp">·</span>-c<span class="dp">·</span>udata_hydra.worker<span class="dp">·</span>--interval<span class="dp">·</span>1`\n\n##<span class="dp">·</span>CSV<span class="dp">·</span>conversion<span class="dp">·</span>to<span class="dp">·</span>database\n\nConverted<span class="dp">·</span>CSV<span class="dp">·</span>tables<span class="dp">·</span>will<span class="dp">·</span>be<span class="dp">·</span>stored<span class="dp">·</span>in<span class="dp">·</span>the<span class="dp">·</span>database<span class="dp">·</span>specified<span class="dp">·</span>via<span class="dp">·</span>`config.DATABASE_URL_CSV`.<span class="dp">·</span>For<span class="dp">·</span>tests<span class="dp">·</span>it\&#x27;s<span class="dp">·</span>same<span class="dp">·</span>database<span class="dp">·</span>as<span class="dp">·</span>for<span class="dp">·</span>the<span class="dp">·</span>catalog.<span class="dp">·</span>Locally,<span class="dp">·</span>`docker<span class="dp">·</span>compose`<span class="dp">·</span>will<span class="dp">·</span>launch<span class="dp">·</span>two<span class="dp">·</span>distinct<span class="dp">·</span>database<span class="dp">·</span>containers.\n\n##<span class="dp">·</span>API\n\n###<span class="dp">·</span>Run\n\n```\npoetry<span class="dp">·</span>install\npoetry<span class="dp">·</span>run<span class="dp">·</span>adev<span class="dp">·</span>runserver<span class="dp">·</span>udata_hydra/app.py\n```\n\n###<span class="dp">·</span>Get<span class="dp">·</span>latest<span class="dp">·</span>check\n\nWorks<span class="dp">·</span>with<span class="dp">·</span>`?url={url}`<span class="dp">·</span>and<span class="dp">·</span>`?resource_id={resource_id}`.\n\n```\n$<span class="dp">·</span>curl<span class="dp">·</span>-s<span class="dp">·</span>&quot;http://localhost:8000/api/checks/latest/?url=http://opendata-sig.saintdenis.re/datasets/661e19974bcc48849bbff7c9637c5c28_1.csv&quot;<span class="dp">·</span>|<span class="dp">·</span>json_pp\n{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;status&quot;<span class="dp">·</span>:<span class="dp">·</span>200,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;catalog_id&quot;<span class="dp">·</span>:<span class="dp">·</span>64148,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;deleted&quot;<span class="dp">·</span>:<span class="dp">·</span>false,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;error&quot;<span class="dp">·</span>:<span class="dp">·</span>null,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;created_at&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;2021-02-06T12:19:08.203055&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;response_time&quot;<span class="dp">·</span>:<span class="dp">·</span>0.830198049545288,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;url&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;http://opendata-sig.saintdenis.re/datasets/661e19974bcc48849bbff7c9637c5c28_1.csv&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;domain&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;opendata-sig.saintdenis.re&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;timeout&quot;<span class="dp">·</span>:<span class="dp">·</span>false,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;id&quot;<span class="dp">·</span>:<span class="dp">·</span>114750,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;dataset_id&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;5c34944606e3e73d4a551889&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;resource_id&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;b3678c59-5b35-43ad-9379-fce29e5b56fe&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;headers&quot;<span class="dp">·</span>:<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;content-disposition&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;attachment;<span class="dp">·</span>filename=\\&quot;xn--Dlimitation_des_cantons-bcc.csv\\&quot;&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;server&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;openresty&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;x-amz-meta-cachetime&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;191&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;last-modified&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;Wed,<span class="dp">·</span>29<span class="dp">·</span>Apr<span class="dp">·</span>2020<span class="dp">·</span>02:19:04<span class="dp">·</span>GMT&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;content-encoding&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;gzip&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;content-type&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;text/csv&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;cache-control&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;must-revalidate&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;etag&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;\\&quot;20415964703d9ccc4815d7126aa3a6d8\\&quot;&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;content-length&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;207&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;date&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;Sat,<span class="dp">·</span>06<span class="dp">·</span>Feb<span class="dp">·</span>2021<span class="dp">·</span>12:19:08<span class="dp">·</span>GMT&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;x-amz-meta-contentlastmodified&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;2018-11-19T09:38:28.490Z&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;connection&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;keep-alive&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;vary&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;Accept-Encoding&quot;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n}\n```\n\n###<span class="dp">·</span>Get<span class="dp">·</span>all<span class="dp">·</span>checks<span class="dp">·</span>for<span class="dp">·</span>an<span class="dp">·</span>URL<span class="dp">·</span>or<span class="dp">·</span>resource\n\nWorks<span class="dp">·</span>with<span class="dp">·</span>`?url={url}`<span class="dp">·</span>and<span class="dp">·</span>`?resource_id={resource_id}`.\n\n```\n$<span class="dp">·</span>curl<span class="dp">·</span>-s<span class="dp">·</span>&quot;http://localhost:8000/api/checks/all/?url=http://www.drees.sante.gouv.fr/IMG/xls/er864.xls&quot;<span class="dp">·</span>|<span class="dp">·</span>json_pp\n[\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;domain&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;www.drees.sante.gouv.fr&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;dataset_id&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;53d6eadba3a72954d9dd62f5&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;timeout&quot;<span class="dp">·</span>:<span class="dp">·</span>false,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;deleted&quot;<span class="dp">·</span>:<span class="dp">·</span>false,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;response_time&quot;<span class="dp">·</span>:<span class="dp">·</span>null,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;error&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;Cannot<span class="dp">·</span>connect<span class="dp">·</span>to<span class="dp">·</span>host<span class="dp">·</span>www.drees.sante.gouv.fr:443<span class="dp">·</span>ssl:True<span class="dp">·</span>[SSLCertVerificationError:<span class="dp">·</span>(1,<span class="dp">·</span>\\&quot;[SSL:<span class="dp">·</span>CERTIFICATE_VERIFY_FAILED]<span class="dp">·</span>certificate<span class="dp">·</span>verify<span class="dp">·</span>failed:<span class="dp">·</span>Hostname<span class="dp">·</span>mismatch,<span class="dp">·</span>certificate<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>valid<span class="dp">·</span>for<span class="dp">·</span>\&#x27;www.drees.sante.gouv.fr\&#x27;.<span class="dp">·</span>(_ssl.c:1122)\\&quot;)]&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;catalog_id&quot;<span class="dp">·</span>:<span class="dp">·</span>232112,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;url&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;http://www.drees.sante.gouv.fr/IMG/xls/er864.xls&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;headers&quot;<span class="dp">·</span>:<span class="dp">·</span>{},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;id&quot;<span class="dp">·</span>:<span class="dp">·</span>165107,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;created_at&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;2021-02-06T14:32:47.675854&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;resource_id&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;93dfd449-9d26-4bb0-a6a9-ee49b1b8a4d7&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;status&quot;<span class="dp">·</span>:<span class="dp">·</span>null\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;timeout&quot;<span class="dp">·</span>:<span class="dp">·</span>false,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;deleted&quot;<span class="dp">·</span>:<span class="dp">·</span>false,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;response_time&quot;<span class="dp">·</span>:<span class="dp">·</span>null,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;error&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;Cannot<span class="dp">·</span>connect<span class="dp">·</span>to<span class="dp">·</span>host<span class="dp">·</span>www.drees.sante.gouv.fr:443<span class="dp">·</span>ssl:True<span class="dp">·</span>[SSLCertVerificationError:<span class="dp">·</span>(1,<span class="dp">·</span>\\&quot;[SSL:<span class="dp">·</span>CERTIFICATE_VERIFY_FAILED]<span class="dp">·</span>certificate<span class="dp">·</span>verify<span class="dp">·</span>failed:<span class="dp">·</span>Hostname<span class="dp">·</span>mismatch,<span class="dp">·</span>certificate<span class="dp">·</span>is<span class="dp">·</span>not<span class="dp">·</span>valid<span class="dp">·</span>for<span class="dp">·</span>\&#x27;www.drees.sante.gouv.fr\&#x27;.<span class="dp">·</span>(_ssl.c:1122)\\&quot;)]&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;domain&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;www.drees.sante.gouv.fr&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;dataset_id&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;53d6eadba3a72954d9dd62f5&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;created_at&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;2020-12-24T17:06:58.158125&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;resource_id&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;93dfd449-9d26-4bb0-a6a9-ee49b1b8a4d7&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;status&quot;<span class="dp">·</span>:<span class="dp">·</span>null,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;catalog_id&quot;<span class="dp">·</span>:<span class="dp">·</span>232112,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;url&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;http://www.drees.sante.gouv.fr/IMG/xls/er864.xls&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;headers&quot;<span class="dp">·</span>:<span class="dp">·</span>{},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;id&quot;<span class="dp">·</span>:<span class="dp">·</span>65092\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n]\n```\n\n###<span class="dp">·</span>Get<span class="dp">·</span>crawling<span class="dp">·</span>status\n\n```\n$<span class="dp">·</span>curl<span class="dp">·</span>-s<span class="dp">·</span>&quot;http://localhost:8000/api/status/crawler/&quot;<span class="dp">·</span>|<span class="dp">·</span>json_pp\n{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;fresh_checks_percentage&quot;<span class="dp">·</span>:<span class="dp">·</span>0.4,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;pending_checks&quot;<span class="dp">·</span>:<span class="dp">·</span>142153,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;total&quot;<span class="dp">·</span>:<span class="dp">·</span>142687,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;fresh_checks&quot;<span class="dp">·</span>:<span class="dp">·</span>534,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;checks_percentage&quot;<span class="dp">·</span>:<span class="dp">·</span>0.4\n}\n```\n\n###<span class="dp">·</span>Get<span class="dp">·</span>worker<span class="dp">·</span>status\n\n```\n$<span class="dp">·</span>curl<span class="dp">·</span>-s<span class="dp">·</span>&quot;http://localhost:8000/api/status/worker/&quot;<span class="dp">·</span>|<span class="dp">·</span>json_pp\n{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;queued&quot;<span class="dp">·</span>:<span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;default&quot;<span class="dp">·</span>:<span class="dp">·</span>0,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;high&quot;<span class="dp">·</span>:<span class="dp">·</span>825,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;low&quot;<span class="dp">·</span>:<span class="dp">·</span>655\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n}\n```\n\n###<span class="dp">·</span>Get<span class="dp">·</span>crawling<span class="dp">·</span>stats\n\n```\n$<span class="dp">·</span>curl<span class="dp">·</span>-s<span class="dp">·</span>&quot;http://localhost:8000/api/stats/&quot;<span class="dp">·</span>|<span class="dp">·</span>json_pp\n{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;status&quot;<span class="dp">·</span>:<span class="dp">·</span>[\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;count&quot;<span class="dp">·</span>:<span class="dp">·</span>525,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;percentage&quot;<span class="dp">·</span>:<span class="dp">·</span>98.3,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;label&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;ok&quot;\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;label&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;error&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;percentage&quot;<span class="dp">·</span>:<span class="dp">·</span>1.3,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;count&quot;<span class="dp">·</span>:<span class="dp">·</span>7\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;label&quot;<span class="dp">·</span>:<span class="dp">·</span>&quot;timeout&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;percentage&quot;<span class="dp">·</span>:<span class="dp">·</span>0.4,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;count&quot;<span class="dp">·</span>:<span class="dp">·</span>2\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>],\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;status_codes&quot;<span class="dp">·</span>:<span class="dp">·</span>[\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;code&quot;<span class="dp">·</span>:<span class="dp">·</span>200,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;count&quot;<span class="dp">·</span>:<span class="dp">·</span>413,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;percentage&quot;<span class="dp">·</span>:<span class="dp">·</span>78.7\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;code&quot;<span class="dp">·</span>:<span class="dp">·</span>501,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;percentage&quot;<span class="dp">·</span>:<span class="dp">·</span>12.4,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;count&quot;<span class="dp">·</span>:<span class="dp">·</span>65\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;percentage&quot;<span class="dp">·</span>:<span class="dp">·</span>6.1,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;count&quot;<span class="dp">·</span>:<span class="dp">·</span>32,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;code&quot;<span class="dp">·</span>:<span class="dp">·</span>404\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;code&quot;<span class="dp">·</span>:<span class="dp">·</span>500,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;percentage&quot;<span class="dp">·</span>:<span class="dp">·</span>2.7,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;count&quot;<span class="dp">·</span>:<span class="dp">·</span>14\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>},\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;code&quot;<span class="dp">·</span>:<span class="dp">·</span>502,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;count&quot;<span class="dp">·</span>:<span class="dp">·</span>1,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;percentage&quot;<span class="dp">·</span>:<span class="dp">·</span>0.2\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>}\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>]\n}\n```\n\n##<span class="dp">·</span>Using<span class="dp">·</span>Webhook<span class="dp">·</span>integration\n\n**<span class="dp">·</span>Set<span class="dp">·</span>the<span class="dp">·</span>config<span class="dp">·</span>values**\n\nCreate<span class="dp">·</span>a<span class="dp">·</span>`config.toml`<span class="dp">·</span>where<span class="dp">·</span>your<span class="dp">·</span>service<span class="dp">·</span>and<span class="dp">·</span>commands<span class="dp">·</span>are<span class="dp">·</span>launched,<span class="dp">·</span>or<span class="dp">·</span>specify<span class="dp">·</span>a<span class="dp">·</span>path<span class="dp">·</span>to<span class="dp">·</span>a<span class="dp">·</span>TOML<span class="dp">·</span>file<span class="dp">·</span>via<span class="dp">·</span>the<span class="dp">·</span>`HYDRA_SETTINGS`<span class="dp">·</span>environment<span class="dp">·</span>variable.<span class="dp">·</span>`config.toml`<span class="dp">·</span>or<span class="dp">·</span>equivalent<span class="dp">·</span>will<span class="dp">·</span>override<span class="dp">·</span>values<span class="dp">·</span>from<span class="dp">·</span>`udata_hydra/config_default.toml`,<span class="dp">·</span>lookup<span class="dp">·</span>there<span class="dp">·</span>for<span class="dp">·</span>values<span class="dp">·</span>that<span class="dp">·</span>can/need<span class="dp">·</span>to<span class="dp">·</span>be<span class="dp">·</span>defined.\n\n```toml\nUDATA_URI<span class="dp">·</span>=<span class="dp">·</span>&quot;https://dev.local:7000/api/2&quot;\nUDATA_URI_API_KEY<span class="dp">·</span>=<span class="dp">·</span>&quot;example.api.key&quot;\nSENTRY_DSN<span class="dp">·</span>=<span class="dp">·</span>&quot;https://{my-sentry-dsn}&quot;\n```\n\nThe<span class="dp">·</span>webhook<span class="dp">·</span>integration<span class="dp">·</span>sends<span class="dp">·</span>HTTP<span class="dp">·</span>messages<span class="dp">·</span>to<span class="dp">·</span>`udata`<span class="dp">·</span>when<span class="dp">·</span>resources<span class="dp">·</span>are<span class="dp">·</span>analyzed<span class="dp">·</span>or<span class="dp">·</span>checked<span class="dp">·</span>to<span class="dp">·</span>fill<span class="dp">·</span>resources<span class="dp">·</span>extras.\n\nRegarding<span class="dp">·</span>analysis,<span class="dp">·</span>there<span class="dp">·</span>is<span class="dp">·</span>a<span class="dp">·</span>phase<span class="dp">·</span>called<span class="dp">·</span>&quot;change<span class="dp">·</span>detection&quot;.<span class="dp">·</span>It<span class="dp">·</span>will<span class="dp">·</span>try<span class="dp">·</span>to<span class="dp">·</span>guess<span class="dp">·</span>if<span class="dp">·</span>a<span class="dp">·</span>resource<span class="dp">·</span>has<span class="dp">·</span>been<span class="dp">·</span>modified<span class="dp">·</span>based<span class="dp">·</span>on<span class="dp">·</span>different<span class="dp">·</span>criterions:\n-<span class="dp">·</span>harvest<span class="dp">·</span>modified<span class="dp">·</span>date<span class="dp">·</span>in<span class="dp">·</span>catalog\n-<span class="dp">·</span>content-length<span class="dp">·</span>and<span class="dp">·</span>last-modified<span class="dp">·</span>headers\n-<span class="dp">·</span>checksum<span class="dp">·</span>comparison<span class="dp">·</span>over<span class="dp">·</span>time\n\nThe<span class="dp">·</span>payload<span class="dp">·</span>should<span class="dp">·</span>look<span class="dp">·</span>something<span class="dp">·</span>like:\n\n```json\n{\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;analysis:filesize&quot;:<span class="dp">·</span>91661,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;analysis:mime-type&quot;:<span class="dp">·</span>&quot;application/zip&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;analysis:checksum&quot;:<span class="dp">·</span>&quot;bef1de04601dedaf2d127418759b16915ba083be&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;analysis:last-modified-at&quot;:<span class="dp">·</span>&quot;2022-11-27T23:00:54.762000&quot;,\n<span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&quot;analysis:last-modified-detection&quot;:<span class="dp">·</span>&quot;harvest-resource-metadata&quot;,\n}\n```\n\n##<span class="dp">·</span>Development\n\n###<span class="dp">·</span>docker-compose\n\nMultiple<span class="dp">·</span>docker-compose<span class="dp">·</span>files<span class="dp">·</span>are<span class="dp">·</span>provided:\n-<span class="dp">·</span>a<span class="dp">·</span>minimal<span class="dp">·</span>`docker-compose.yml`<span class="dp">·</span>with<span class="dp">·</span>two<span class="dp">·</span>PostgreSQL<span class="dp">·</span>containers<span class="dp">·</span>(one<span class="dp">·</span>for<span class="dp">·</span>catalog<span class="dp">·</span>and<span class="dp">·</span>metadata,<span class="dp">·</span>the<span class="dp">·</span>other<span class="dp">·</span>for<span class="dp">·</span>converted<span class="dp">·</span>CSV<span class="dp">·</span>to<span class="dp">·</span>database)\n-<span class="dp">·</span>`docker-compose.broker.yml`<span class="dp">·</span>adds<span class="dp">·</span>a<span class="dp">·</span>Redis<span class="dp">·</span>broker\n-<span class="dp">·</span>`docker-compose.test.yml`<span class="dp">·</span>launches<span class="dp">·</span>a<span class="dp">·</span>test<span class="dp">·</span>DB,<span class="dp">·</span>needed<span class="dp">·</span>to<span class="dp">·</span>run<span class="dp">·</span>tests\n\nNB:<span class="dp">·</span>you<span class="dp">·</span>can<span class="dp">·</span>launch<span class="dp">·</span>compose<span class="dp">·</span>from<span class="dp">·</span>multiple<span class="dp">·</span>files<span class="dp">·</span>like<span class="dp">·</span>this:<span class="dp">·</span>`docker-compose<span class="dp">·</span>-f<span class="dp">·</span>docker-compose.yml<span class="dp">·</span>-f<span class="dp">·</span>docker-compose.test.yml<span class="dp">·</span>up`\n\n###<span class="dp">·</span>Logging<span class="dp">·</span>&amp;<span class="dp">·</span>Debugging\n\nThe<span class="dp">·</span>log<span class="dp">·</span>level<span class="dp">·</span>can<span class="dp">·</span>be<span class="dp">·</span>adjusted<span class="dp">·</span>using<span class="dp">·</span>the<span class="dp">·</span>environment<span class="dp">·</span>variable<span class="dp">·</span>LOG_LEVEL.\nFor<span class="dp">·</span>example,<span class="dp">·</span>to<span class="dp">·</span>set<span class="dp">·</span>the<span class="dp">·</span>log<span class="dp">·</span>level<span class="dp">·</span>to<span class="dp">·</span>`DEBUG`<span class="dp">·</span>when<span class="dp">·</span>initializing<span class="dp">·</span>the<span class="dp">·</span>database,<span class="dp">·</span>use<span class="dp">·</span>`LOG_LEVEL=&quot;DEBUG&quot;<span class="dp">·</span>udata-hydra<span class="dp">·</span>init_db<span class="dp">·</span>`.\n\n###<span class="dp">·</span>Writing<span class="dp">·</span>a<span class="dp">·</span>migration\n\n1.<span class="dp">·</span>Add<span class="dp">·</span>a<span class="dp">·</span>file<span class="dp">·</span>named<span class="dp">·</span>`migrations/{YYYYMMDD}_{description}.sql`<span class="dp">·</span>and<span class="dp">·</span>write<span class="dp">·</span>the<span class="dp">·</span>SQL<span class="dp">·</span>you<span class="dp">·</span>need<span class="dp">·</span>to<span class="dp">·</span>perform<span class="dp">·</span>migration.\n2.<span class="dp">·</span>`udata-hydra<span class="dp">·</span>migrate`<span class="dp">·</span>will<span class="dp">·</span>migrate<span class="dp">·</span>the<span class="dp">·</span>database<span class="dp">·</span>as<span class="dp">·</span>needeed.\n\n##<span class="dp">·</span>Deployment\n\n3<span class="dp">·</span>services<span class="dp">·</span>need<span class="dp">·</span>to<span class="dp">·</span>be<span class="dp">·</span>deployed<span class="dp">·</span>for<span class="dp">·</span>the<span class="dp">·</span>full<span class="dp">·</span>stack<span class="dp">·</span>to<span class="dp">·</span>run:\n-<span class="dp">·</span>worker\n-<span class="dp">·</span>api<span class="dp">·</span>/<span class="dp">·</span>app\n-<span class="dp">·</span>crawler\n\nRefer<span class="dp">·</span>to<span class="dp">·</span>each<span class="dp">·</span>section<span class="dp">·</span>to<span class="dp">·</span>learn<span class="dp">·</span>how<span class="dp">·</span>to<span class="dp">·</span>launch<span class="dp">·</span>them.<span class="dp">·</span>The<span class="dp">·</span>only<span class="dp">·</span>differences<span class="dp">·</span>from<span class="dp">·</span>dev<span class="dp">·</span>to<span class="dp">·</span>prod<span class="dp">·</span>are:\n-<span class="dp">·</span>use<span class="dp">·</span>`HYDRA_SETTINGS`<span class="dp">·</span>env<span class="dp">·</span>var<span class="dp">·</span>to<span class="dp">·</span>point<span class="dp">·</span>to<span class="dp">·</span>your<span class="dp">·</span>custom<span class="dp">·</span>`config.toml`\n-<span class="dp">·</span>use<span class="dp">·</span>`HYDRA_APP_SOCKET_PATH`<span class="dp">·</span>to<span class="dp">·</span>configure<span class="dp">·</span>where<span class="dp">·</span>aiohttp<span class="dp">·</span>should<span class="dp">·</span>listen<span class="dp">·</span>to<span class="dp">·</span>a<span class="dp">·</span>[reverse<span class="dp">·</span>proxy<span class="dp">·</span>connection<span class="dp">·</span>(eg<span class="dp">·</span>nginx)](https://docs.aiohttp.org/en/stable/deployment.html#nginx-configuration)<span class="dp">·</span>and<span class="dp">·</span>use<span class="dp">·</span>`udata-hydra-app`<span class="dp">·</span>to<span class="dp">·</span>launch<span class="dp">·</span>the<span class="dp">·</span>app<span class="dp">·</span>server\n&#x27;,</td></tr>
<tr class="diffunmodified"><td class="diffline">45 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;author&#x27;:<span class="dp">·</span>&#x27;Opendata<span class="dp">·</span>Team&#x27;,</td><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;author&#x27;:<span class="dp">·</span>&#x27;Opendata<span class="dp">·</span>Team&#x27;,</td></tr>
<tr class="diffunmodified"><td class="diffline">46 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;author_email&#x27;:<span class="dp">·</span>&#x27;opendatateam@data.gouv.fr&#x27;,</td><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;author_email&#x27;:<span class="dp">·</span>&#x27;opendatateam@data.gouv.fr&#x27;,</td></tr>
<tr class="diffunmodified"><td class="diffline">47 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;maintainer&#x27;:<span class="dp">·</span>&#x27;None&#x27;,</td><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;maintainer&#x27;:<span class="dp">·</span>&#x27;None&#x27;,</td></tr>
<tr class="diffunmodified"><td class="diffline">48 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;maintainer_email&#x27;:<span class="dp">·</span>&#x27;None&#x27;,</td><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;maintainer_email&#x27;:<span class="dp">·</span>&#x27;None&#x27;,</td></tr>
<tr class="diffunmodified"><td class="diffline">49 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;url&#x27;:<span class="dp">·</span>&#x27;None&#x27;,</td><td class="diffline">50 </td><td class="diffpresent"><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span><span class="dp">·</span>&#x27;url&#x27;:<span class="dp">·</span>&#x27;None&#x27;,</td></tr>
</table>    </div>
    <div class="difference">
      <div class="diffheader">
      <div class="diffcontrol diffcontrol-double">⊟</div>
      <div><span class="diffsize">1.24 KB</span></div>
      <div><span class="source">udata_hydra-2.0.0.dev919/PKG-INFO</span> vs.</div>
      <div id="udata_hydra--.-.-.dev---.tar---udata_hydra--.-.-.dev----PKG-INFO"><span class="source">udata_hydra-2.0.0.dev956/PKG-INFO</span>
        <a class="anchor" href="#udata_hydra--.-.-.dev---.tar---udata_hydra--.-.-.dev----PKG-INFO">¶</a>
      </div>
      </div>
      <div class="comment">Files 2% similar despite different names
      </div>
<table class="diff">
<colgroup><col class="colines"/><col class="coldiff"/>
<col class="colines"/><col class="coldiff"/></colgroup>
<tr style="display:none;"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 1, 10 lines modified</td><td colspan="2">Offset 1, 10 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">1 </td><td class="diffpresent">Metadata-Version:<span class="dp">·</span>2.1</td><td class="diffline">1 </td><td class="diffpresent">Metadata-Version:<span class="dp">·</span>2.1</td></tr>
<tr class="diffunmodified"><td class="diffline">2 </td><td class="diffpresent">Name:<span class="dp">·</span>udata-hydra</td><td class="diffline">2 </td><td class="diffpresent">Name:<span class="dp">·</span>udata-hydra</td></tr>
<tr class="diffchanged"><td class="diffline">3 </td><td class="diffpresent">Version:<span class="dp">·</span>2.0.0.dev9<del>19</del></td><td class="diffline">3 </td><td class="diffpresent">Version:<span class="dp">·</span>2.0.0.dev9<ins>56</ins></td></tr>
<tr class="diffunmodified"><td class="diffline">4 </td><td class="diffpresent">Summary:<span class="dp">·</span>Async<span class="dp">·</span>crawler<span class="dp">·</span>and<span class="dp">·</span>parsing<span class="dp">·</span>service<span class="dp">·</span>for<span class="dp">·</span>data.gouv.fr</td><td class="diffline">4 </td><td class="diffpresent">Summary:<span class="dp">·</span>Async<span class="dp">·</span>crawler<span class="dp">·</span>and<span class="dp">·</span>parsing<span class="dp">·</span>service<span class="dp">·</span>for<span class="dp">·</span>data.gouv.fr</td></tr>
<tr class="diffunmodified"><td class="diffline">5 </td><td class="diffpresent">License:<span class="dp">·</span>MIT</td><td class="diffline">5 </td><td class="diffpresent">License:<span class="dp">·</span>MIT</td></tr>
<tr class="diffunmodified"><td class="diffline">6 </td><td class="diffpresent">Author:<span class="dp">·</span>Opendata<span class="dp">·</span>Team</td><td class="diffline">6 </td><td class="diffpresent">Author:<span class="dp">·</span>Opendata<span class="dp">·</span>Team</td></tr>
<tr class="diffunmodified"><td class="diffline">7 </td><td class="diffpresent">Author-email:<span class="dp">·</span>opendatateam@data.gouv.fr</td><td class="diffline">7 </td><td class="diffpresent">Author-email:<span class="dp">·</span>opendatateam@data.gouv.fr</td></tr>
<tr class="diffunmodified"><td class="diffline">8 </td><td class="diffpresent">Requires-Python:<span class="dp">·</span>&gt;=3.9,&lt;4.0</td><td class="diffline">8 </td><td class="diffpresent">Requires-Python:<span class="dp">·</span>&gt;=3.9,&lt;4.0</td></tr>
<tr class="diffunmodified"><td class="diffline">9 </td><td class="diffpresent">Classifier:<span class="dp">·</span>License<span class="dp">·</span>::<span class="dp">·</span>OSI<span class="dp">·</span>Approved<span class="dp">·</span>::<span class="dp">·</span>MIT<span class="dp">·</span>License</td><td class="diffline">9 </td><td class="diffpresent">Classifier:<span class="dp">·</span>License<span class="dp">·</span>::<span class="dp">·</span>OSI<span class="dp">·</span>Approved<span class="dp">·</span>::<span class="dp">·</span>MIT<span class="dp">·</span>License</td></tr>
<tr class="diffunmodified"><td class="diffline">10 </td><td class="diffpresent">Classifier:<span class="dp">·</span>Programming<span class="dp">·</span>Language<span class="dp">·</span>::<span class="dp">·</span>Python<span class="dp">·</span>::<span class="dp">·</span>3</td><td class="diffline">10 </td><td class="diffpresent">Classifier:<span class="dp">·</span>Programming<span class="dp">·</span>Language<span class="dp">·</span>::<span class="dp">·</span>Python<span class="dp">·</span>::<span class="dp">·</span>3</td></tr>
<tr class="diffhunk"><td colspan="2">Offset 13, 15 lines modified</td><td colspan="2">Offset 13, 16 lines modified</td></tr>
<tr class="diffunmodified"><td class="diffline">13 </td><td class="diffpresent">Classifier:<span class="dp">·</span>Programming<span class="dp">·</span>Language<span class="dp">·</span>::<span class="dp">·</span>Python<span class="dp">·</span>::<span class="dp">·</span>3.11</td><td class="diffline">13 </td><td class="diffpresent">Classifier:<span class="dp">·</span>Programming<span class="dp">·</span>Language<span class="dp">·</span>::<span class="dp">·</span>Python<span class="dp">·</span>::<span class="dp">·</span>3.11</td></tr>
<tr class="diffunmodified"><td class="diffline">14 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>aiocontextvars<span class="dp">·</span>(&gt;=0.2.2,&lt;0.3.0)</td><td class="diffline">14 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>aiocontextvars<span class="dp">·</span>(&gt;=0.2.2,&lt;0.3.0)</td></tr>
<tr class="diffunmodified"><td class="diffline">15 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>aiohttp<span class="dp">·</span>(&gt;=3.8.1,&lt;4.0.0)</td><td class="diffline">15 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>aiohttp<span class="dp">·</span>(&gt;=3.8.1,&lt;4.0.0)</td></tr>
<tr class="diffunmodified"><td class="diffline">16 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>asyncpg<span class="dp">·</span>(&gt;=0.27.0,&lt;0.28.0)</td><td class="diffline">16 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>asyncpg<span class="dp">·</span>(&gt;=0.27.0,&lt;0.28.0)</td></tr>
<tr class="diffunmodified"><td class="diffline">17 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>boto3<span class="dp">·</span>(&gt;=1.21.21,&lt;2.0.0)</td><td class="diffline">17 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>boto3<span class="dp">·</span>(&gt;=1.21.21,&lt;2.0.0)</td></tr>
<tr class="diffunmodified"><td class="diffline">18 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>cchardet<span class="dp">·</span>(&gt;=2.1.7,&lt;3.0.0)</td><td class="diffline">18 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>cchardet<span class="dp">·</span>(&gt;=2.1.7,&lt;3.0.0)</td></tr>
<tr class="diffunmodified"><td class="diffline">19 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>coloredlogs<span class="dp">·</span>(&gt;=15.0.1,&lt;16.0.0)</td><td class="diffline">19 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>coloredlogs<span class="dp">·</span>(&gt;=15.0.1,&lt;16.0.0)</td></tr>
<tr class="diffchanged"><td class="diffline">20 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>csv-detective<span class="dp">·</span>(&gt;=0.4.<del>6</del>,&lt;0.5.0)</td><td class="diffline">20 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>csv-detective<span class="dp">·</span>(&gt;=0.4.<ins>7</ins>,&lt;0.5.0)</td></tr>
<tr class="diffadded"><td colspan="2"> </td><td class="diffline">21 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>dateparser<span class="dp">·</span>(&gt;=1.1.7,&lt;2.0.0)</td></tr>
<tr class="diffunmodified"><td class="diffline">21 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>humanfriendly<span class="dp">·</span>(&gt;=10.0,&lt;11.0)</td><td class="diffline">22 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>humanfriendly<span class="dp">·</span>(&gt;=10.0,&lt;11.0)</td></tr>
<tr class="diffunmodified"><td class="diffline">22 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>marshmallow<span class="dp">·</span>(&gt;=3.14.1,&lt;4.0.0)</td><td class="diffline">23 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>marshmallow<span class="dp">·</span>(&gt;=3.14.1,&lt;4.0.0)</td></tr>
<tr class="diffunmodified"><td class="diffline">23 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>minicli<span class="dp">·</span>(&gt;=0.5.0,&lt;0.6.0)</td><td class="diffline">24 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>minicli<span class="dp">·</span>(&gt;=0.5.0,&lt;0.6.0)</td></tr>
<tr class="diffunmodified"><td class="diffline">24 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>pandas<span class="dp">·</span>(&gt;=1.3.3,&lt;2.0.0)</td><td class="diffline">25 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>pandas<span class="dp">·</span>(&gt;=1.3.3,&lt;2.0.0)</td></tr>
<tr class="diffunmodified"><td class="diffline">25 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>progressist<span class="dp">·</span>(&gt;=0.1.0,&lt;0.2.0)</td><td class="diffline">26 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>progressist<span class="dp">·</span>(&gt;=0.1.0,&lt;0.2.0)</td></tr>
<tr class="diffunmodified"><td class="diffline">26 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>python-dateutil<span class="dp">·</span>(&gt;=2.8.2,&lt;3.0.0)</td><td class="diffline">27 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>python-dateutil<span class="dp">·</span>(&gt;=2.8.2,&lt;3.0.0)</td></tr>
<tr class="diffunmodified"><td class="diffline">27 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>python-magic<span class="dp">·</span>(&gt;=0.4.25,&lt;0.5.0)</td><td class="diffline">28 </td><td class="diffpresent">Requires-Dist:<span class="dp">·</span>python-magic<span class="dp">·</span>(&gt;=0.4.25,&lt;0.5.0)</td></tr>
</table>    </div>
  </div>
</div>
<div class="footer">
Generated by
<a href="https://diffoscope.org" rel="noopener noreferrer" target="_blank">
diffoscope</a> 238
</div>
</body>
</html>

