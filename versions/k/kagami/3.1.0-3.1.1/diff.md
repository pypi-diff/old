# Comparing `tmp/kagami-3.1.0-py3-none-any.whl.zip` & `tmp/kagami-3.1.1-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,29 +1,29 @@
-Zip file size: 49208 bytes, number of entries: 44
+Zip file size: 49672 bytes, number of entries: 44
 -rw-r--r--  2.0 unx      190 b- defN 22-Nov-30 12:28 kagami/__init__.py
--rw-r--r--  2.0 unx      990 b- defN 20-Apr-16 14:44 kagami/unitest.py
+-rw-r--r--  2.0 unx     1782 b- defN 23-Apr-06 15:56 kagami/unitest.py
 -rw-r--r--  2.0 unx      228 b- defN 20-Apr-02 16:48 kagami/comm/__init__.py
 -rw-r--r--  2.0 unx     3677 b- defN 21-Feb-05 22:45 kagami/comm/functional.py
 -rw-r--r--  2.0 unx     2871 b- defN 20-Apr-03 01:59 kagami/comm/logger.py
--rw-r--r--  2.0 unx     1170 b- defN 20-Apr-17 17:33 kagami/comm/misc.py
+-rw-r--r--  2.0 unx     1506 b- defN 23-Apr-06 13:38 kagami/comm/misc.py
 -rw-r--r--  2.0 unx     3591 b- defN 21-Dec-14 02:39 kagami/comm/path.py
 -rw-r--r--  2.0 unx     1913 b- defN 20-Apr-02 17:15 kagami/comm/types.py
 -rw-r--r--  2.0 unx      215 b- defN 20-Apr-03 09:17 kagami/dtypes/__init__.py
 -rw-r--r--  2.0 unx     3930 b- defN 20-Apr-03 09:18 kagami/dtypes/coreType.py
 -rw-r--r--  2.0 unx     6843 b- defN 21-Dec-06 16:01 kagami/dtypes/namedIndex.py
 -rw-r--r--  2.0 unx    11806 b- defN 22-Aug-10 17:25 kagami/dtypes/structArray.py
 -rw-r--r--  2.0 unx    25543 b- defN 22-Nov-30 11:48 kagami/dtypes/table.py
 -rw-r--r--  2.0 unx      159 b- defN 20-Apr-03 09:24 kagami/portals/__init__.py
 -rw-r--r--  2.0 unx     1565 b- defN 20-Apr-03 11:04 kagami/portals/tablePortal.py
 -rw-r--r--  2.0 unx     1360 b- defN 22-May-02 11:16 kagami/portals/textPortal.py
 -rw-r--r--  2.0 unx     1799 b- defN 20-Apr-03 11:11 kagami/portals/webPortal.py
 -rw-r--r--  2.0 unx      119 b- defN 20-Apr-10 14:33 kagami/tests/__init__.py
 -rw-r--r--  2.0 unx      119 b- defN 20-Apr-09 17:02 kagami/tests/comm_tests/__init__.py
 -rw-r--r--  2.0 unx     2724 b- defN 21-Jan-28 13:31 kagami/tests/comm_tests/test_functional.py
--rw-r--r--  2.0 unx      746 b- defN 20-Apr-17 17:34 kagami/tests/comm_tests/test_misc.py
+-rw-r--r--  2.0 unx     1059 b- defN 23-Apr-06 13:50 kagami/tests/comm_tests/test_misc.py
 -rw-r--r--  2.0 unx     2351 b- defN 20-Apr-17 10:45 kagami/tests/comm_tests/test_path.py
 -rw-r--r--  2.0 unx     2217 b- defN 20-Apr-10 12:13 kagami/tests/comm_tests/test_types.py
 -rw-r--r--  2.0 unx      119 b- defN 20-Apr-10 13:36 kagami/tests/dtypes_tests/__init__.py
 -rw-r--r--  2.0 unx     2041 b- defN 20-Apr-16 15:43 kagami/tests/dtypes_tests/test_coreType.py
 -rw-r--r--  2.0 unx     7947 b- defN 20-Apr-16 15:36 kagami/tests/dtypes_tests/test_namedIndex.py
 -rw-r--r--  2.0 unx     7720 b- defN 20-Apr-16 15:40 kagami/tests/dtypes_tests/test_structArray.py
 -rw-r--r--  2.0 unx    15334 b- defN 22-Nov-30 11:51 kagami/tests/dtypes_tests/test_table.py
@@ -34,13 +34,13 @@
 -rw-r--r--  2.0 unx      119 b- defN 20-Apr-10 13:31 kagami/tests/wrappers_tests/__init__.py
 -rw-r--r--  2.0 unx     2044 b- defN 20-Apr-16 13:07 kagami/tests/wrappers_tests/test_binWrapper.py
 -rw-r--r--  2.0 unx     1911 b- defN 20-Apr-10 13:31 kagami/tests/wrappers_tests/test_sqliteWrapper.py
 -rw-r--r--  2.0 unx      219 b- defN 20-Apr-03 11:08 kagami/wrappers/__init__.py
 -rw-r--r--  2.0 unx     3303 b- defN 20-Apr-16 13:04 kagami/wrappers/binWrapper.py
 -rw-r--r--  2.0 unx     2794 b- defN 21-Oct-05 14:43 kagami/wrappers/rWrapper.py
 -rw-r--r--  2.0 unx     4068 b- defN 21-Mar-22 22:00 kagami/wrappers/sqliteWrapper.py
--rw-r--r--  2.0 unx     7652 b- defN 22-Nov-30 12:28 kagami-3.1.0.dist-info/LICENSE
--rw-r--r--  2.0 unx     2284 b- defN 22-Nov-30 12:28 kagami-3.1.0.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 22-Nov-30 12:28 kagami-3.1.0.dist-info/WHEEL
--rw-r--r--  2.0 unx        7 b- defN 22-Nov-30 12:28 kagami-3.1.0.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     3831 b- defN 22-Nov-30 12:28 kagami-3.1.0.dist-info/RECORD
-44 files, 141729 bytes uncompressed, 43058 bytes compressed:  69.6%
+-rw-r--r--  2.0 unx     7652 b- defN 23-Apr-06 16:11 kagami-3.1.1.dist-info/LICENSE
+-rw-r--r--  2.0 unx     2284 b- defN 23-Apr-06 16:11 kagami-3.1.1.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Apr-06 16:11 kagami-3.1.1.dist-info/WHEEL
+-rw-r--r--  2.0 unx        7 b- defN 23-Apr-06 16:11 kagami-3.1.1.dist-info/top_level.txt
+?rw-rw-r--  2.0 unx     3833 b- defN 23-Apr-06 16:11 kagami-3.1.1.dist-info/RECORD
+44 files, 143172 bytes uncompressed, 43522 bytes compressed:  69.6%
```

## zipnote {}

```diff
@@ -111,23 +111,23 @@
 
 Filename: kagami/wrappers/rWrapper.py
 Comment: 
 
 Filename: kagami/wrappers/sqliteWrapper.py
 Comment: 
 
-Filename: kagami-3.1.0.dist-info/LICENSE
+Filename: kagami-3.1.1.dist-info/LICENSE
 Comment: 
 
-Filename: kagami-3.1.0.dist-info/METADATA
+Filename: kagami-3.1.1.dist-info/METADATA
 Comment: 
 
-Filename: kagami-3.1.0.dist-info/WHEEL
+Filename: kagami-3.1.1.dist-info/WHEEL
 Comment: 
 
-Filename: kagami-3.1.0.dist-info/top_level.txt
+Filename: kagami-3.1.1.dist-info/top_level.txt
 Comment: 
 
-Filename: kagami-3.1.0.dist-info/RECORD
+Filename: kagami-3.1.1.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## kagami/unitest.py

```diff
@@ -6,33 +6,60 @@
 
 author(s): Albert (aki) Zhou
 added: 11-06-2018
 
 """
 
 
-import logging
 import os
 
 
-def test(capture = True, cov = False, covReport = False, profile = False, profileSVG = False,
+def test(kind = 'self', *, capture = True, cov = False, covReport = False, profile = False, profileSVG = False,
          pyargs = ('-W ignore::tables.exceptions.FlavorWarning',)): # pragma: no cover
+    assert kind in ('self', 'fast', 'full'), f'unknown testing name {kind}'
+
     try:
         import pytest
     except ImportError:
         raise ImportError('unit tests require pytest (>= 5.3.2), pytest-cov (>= 2.8.1, optional) and pytest-profiling (>= 1.7.0, optional)')
 
-    logging.debug('running self-testing ...')
+    if kind != 'self':
+        print('running dependencies-testing ...')
+
+        print('testing numpy ...')
+        import numpy; numpy.test(kind)
+        print('\n\n')
+
+        print('testing scipy ...')
+        try:
+            import scipy
+            scipy.test(kind)
+        except ImportError:
+            pass
+        print('\n\n')
+
+        print('testing rpy2 ...')
+        try:
+            import rpy2
+            # pytest.main(["--pyargs",  "rpy2.tests"])
+            pytest.main(["--pyargs",  "rpy2.tests", "-k", "not test_timeR2Pandas"]) # rpy2 3.4.5 not compatible with latest pandas datetimes
+        except ImportError:
+            pass
+        print('\n\n')
+
+        print('finished dependencies-testing\n\n')
+
+    print('running self-testing ...')
 
     pms = list(pyargs)
     if not capture: pms += ['--capture=no']
     if cov:
         pms += ['--cov=kagami']
         if covReport: pms += ['--cov-report html']
     if profile:
         pms += ['--profile']
         if profileSVG: pms += ['--profile-svg']
     ret = pytest.main([os.path.dirname(os.path.realpath(__file__))] + pms)
 
-    logging.debug('finished self-testing with return code [%s]' % str(ret))
+    print('finished self-testing with return code [%s]' % str(ret))
     return ret
```

## kagami/comm/misc.py

```diff
@@ -7,20 +7,20 @@
 author(s): Albert (aki) Zhou
 added: 06-07-2016
 
 """
 
 
 import numpy as np
-from typing import Any, Iterable, Collection, Callable, Union
+from typing import Tuple, Any, Iterable, Collection, Callable, Union
 from .types import iterable
 
 
 __all__ = [
-    'T', 'F', 'paste', 'checkany', 'checkall', 'validarg',
+    'T', 'F', 'paste', 'checkany', 'checkall', 'validarg', 'unique'
 ]
 
 
 # R-like components
 T = True
 F = False
 
@@ -41,7 +41,13 @@
     for val in itr:
         if _check(val): return True
     return False
 
 def validarg(arg: Any, valids: Union[Collection, np.ndarray]) -> Any:
     if arg not in valids: raise ValueError(f'[{arg}] is not a valid argument value')
     return arg
+
+def unique(itr: Iterable, return_counts: bool = False) -> Union[np.ndarray, Tuple[np.ndarray,np.ndarray]]:
+    itr = np.asarray(itr)
+    _,uid,*cnt = np.unique(itr, return_index = True, return_counts = return_counts)
+    sid = np.argsort(uid)
+    return itr[uid[sid]] if len(cnt) == 0 else (itr[uid[sid]], cnt[0][sid])
```

## kagami/tests/comm_tests/test_misc.py

```diff
@@ -25,7 +25,16 @@
 def test_checks():
     assert checkall(np.ones(10), lambda x: x == 1) and not checkall(iter([1,0,1,1,1]), lambda x: x == 1)
     assert checkany(iter([1,0,1,1,1]), lambda x: x == 1) and not checkany(np.ones(10), lambda x: x != 1)
 
 def test_validarg():
     assert validarg('a', ('a', 'b', 'c')) == 'a'
     with pytest.raises(ValueError): validarg('a', ('b', 'c'))
+
+def test_unique():
+    x = np.random.randint(-50, 50, size = 100)
+    ux, ucnt = np.unique(x, return_counts = True)
+    sx, scnt = unique(x, return_counts = True)
+    assert len(ux) == len(sx)
+    assert np.all(ux == np.sort(sx))
+    assert len(ucnt) == len(scnt)
+    assert np.all(ucnt == scnt[np.argsort(sx)])
```

## Comparing `kagami-3.1.0.dist-info/LICENSE` & `kagami-3.1.1.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `kagami-3.1.0.dist-info/METADATA` & `kagami-3.1.1.dist-info/METADATA`

 * *Files 2% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: kagami
-Version: 3.1.0
+Version: 3.1.1
 Summary: A framework to support functional programming for computational biology algorithm development
 Home-page: https://github.com/akialbz/Kagami
 Author: Albert Zhou
 License: UNKNOWN
 Platform: UNKNOWN
 Classifier: Topic :: Scientific/Engineering :: Bio-Informatics
 Classifier: Topic :: Software Development :: Libraries
@@ -12,15 +12,15 @@
 Classifier: License :: OSI Approved :: GNU Lesser General Public License v3 (LGPLv3)
 Classifier: Operating System :: POSIX
 Description-Content-Type: text/markdown
 License-File: LICENSE
 Requires-Dist: numpy (>=1.21.6)
 Requires-Dist: requests (>=2.27.1)
 Requires-Dist: tables (>=3.7.0)
-Requires-Dist: pandas (>=1.4.1)
+Requires-Dist: pandas (>=1.5.0)
 
 [![License: LGPL v3](https://img.shields.io/badge/License-LGPL%20v3-blue.svg)](https://www.gnu.org/licenses/lgpl-3.0)
 [![Python 2.7](https://img.shields.io/badge/python-2.7-green.svg)](https://www.python.org/downloads/release/python-2715/)
 [![Python 3.7](https://img.shields.io/badge/python-3.7-green.svg)](https://www.python.org/downloads/release/python-375/)
 [![PyPI version](https://badge.fury.io/py/kagami.svg)](https://badge.fury.io/py/kagami)
```

## Comparing `kagami-3.1.0.dist-info/RECORD` & `kagami-3.1.1.dist-info/RECORD`

 * *Files 8% similar despite different names*

```diff
@@ -1,28 +1,28 @@
 kagami/__init__.py,sha256=SgFcJpb56YK8qMwhiImuWAvhGyr6nL1h70lwjIsS5R4,190
-kagami/unitest.py,sha256=k23MB43_89l7cCI8u1LC0Sey1rahOiVpcMP39yTa-TU,990
+kagami/unitest.py,sha256=YJ9RBtthPObrlUOqQz1tuS46uz17IGAmKuoP07H4mWA,1782
 kagami/comm/__init__.py,sha256=bcCGGGWn2jFIkPJ7a2y4ZoAPMeUpRExIYiGdM8tNX60,228
 kagami/comm/functional.py,sha256=D7bQrGHBDngCrFBqY0rlJo8YxH20edHMgtpRAnmGpGY,3677
 kagami/comm/logger.py,sha256=wtmWLkMFR82S3yDeg8MyQhVSg9YyDQUvD_Dahy0581Q,2871
-kagami/comm/misc.py,sha256=rZEwXPLSqtEgYo2Tv_fG_WgFswp9XM-69wyrA6hovnM,1170
+kagami/comm/misc.py,sha256=PBE1MR2Nm7ZeIQEMw_V0NZmHurh2blQr9MFMc35OUSg,1506
 kagami/comm/path.py,sha256=7cOgEmuGi5lQ1cefk4idm3HMUo0W2EK0LydCZSOn8iI,3591
 kagami/comm/types.py,sha256=vpUWiMwAdyieniL6GbjbAJ0GGQOPw9RRfAvoEKKqh4k,1913
 kagami/dtypes/__init__.py,sha256=wyFD5IZsOX3nSwkpdgmXir90otrvV5xuLDFAcCGVAqc,215
 kagami/dtypes/coreType.py,sha256=lBTdqK4XPkwxxYAl21kQZJFY8b5ePXq8xfn3Tz8qWJ4,3930
 kagami/dtypes/namedIndex.py,sha256=o9PcGKFyN6Gmym_UEka_bhcSNkM7cXeSKSlRf4KlNZk,6843
 kagami/dtypes/structArray.py,sha256=gj0XbUbihT_QGp8b4aKjNnxHL7W-DDc20sgYmHXQzpQ,11806
 kagami/dtypes/table.py,sha256=_3RTRweS6MNogqqb0eVasOqntTv9vV51p-Fds4ypNlA,25543
 kagami/portals/__init__.py,sha256=YU_0aa3dwH-TLlTt5jeJpYgqJ2v4bGSlv40vw7ObKDA,159
 kagami/portals/tablePortal.py,sha256=Lv0TuJvZ2LcKU2MaaQGeU1TMSE_S-09aLsqJ-BO5P9s,1565
 kagami/portals/textPortal.py,sha256=4vCL0jkgGfg1l5bHBsCEuptcRtkgeDdsCPQBO8_ntn0,1360
 kagami/portals/webPortal.py,sha256=tBYvkTHmreCvQVNZl01_mjlMvHkGUkEyXshn1hjUVYg,1799
 kagami/tests/__init__.py,sha256=mneV-pPswdrmc49XsZzUFOzMrbFJQCGSTcJCtx22ulw,119
 kagami/tests/comm_tests/__init__.py,sha256=ixKRTjHnbKUJPOLmwiTdQInqPOjGXYRvya3PAinDjA4,119
 kagami/tests/comm_tests/test_functional.py,sha256=EkFa2c2MYyFIrYJMqqSUIAM4RL_leRW2IN15BsrKdf8,2724
-kagami/tests/comm_tests/test_misc.py,sha256=tTQTAPClrrRzH6E0t-_ET6YWqs5K3cjATmKbHJe-sEo,746
+kagami/tests/comm_tests/test_misc.py,sha256=OTRzqh6WMCv4yRK5iFiuDYOejTGIF-y8h5GzBTS_U0Q,1059
 kagami/tests/comm_tests/test_path.py,sha256=Xu4ZXhcLmijiq7BCGw8g-IQwSbwViNh6Z88BwB5ynaE,2351
 kagami/tests/comm_tests/test_types.py,sha256=6ffRiZgGcu561wMzpTCeV0GuOYlEiZc8WPY1gsmsV5Y,2217
 kagami/tests/dtypes_tests/__init__.py,sha256=ixKRTjHnbKUJPOLmwiTdQInqPOjGXYRvya3PAinDjA4,119
 kagami/tests/dtypes_tests/test_coreType.py,sha256=ZT709q9A8lO1zPQ8g_1tYfOHGxQSrCTep-CQen4OB84,2041
 kagami/tests/dtypes_tests/test_namedIndex.py,sha256=sAzEjYgpqFiybXsdfG_n4CMvmpSLV1EGFhrBFPOPLZM,7947
 kagami/tests/dtypes_tests/test_structArray.py,sha256=MZB0AuRaYudIngzRakJeXRZ2vvTJ8TryZPVT1hOtYdg,7720
 kagami/tests/dtypes_tests/test_table.py,sha256=fWfUs3P4kV7yT0ZkNGI3LX7JDzhSTvO1FB8quPPMT1o,15334
@@ -33,12 +33,12 @@
 kagami/tests/wrappers_tests/__init__.py,sha256=2tD1ZfX3VIKCyTfv9o9HmmWe_Wa1msNY9SBkad-skhA,119
 kagami/tests/wrappers_tests/test_binWrapper.py,sha256=OMa4FwoZUU2-IZIzkQGrS7cqjxTnw-KkAViO9Rka6lQ,2044
 kagami/tests/wrappers_tests/test_sqliteWrapper.py,sha256=n8nOPpRF-3LGl6UU1XloVoTBBbwREBAjOzjirl53fwU,1911
 kagami/wrappers/__init__.py,sha256=naRAvHrmLxaKS6ek-W80y1l-sZMXRBLxxiuIFbI4tzE,219
 kagami/wrappers/binWrapper.py,sha256=Cqrzt5ywEwMrZZgP1Kbf5iwT0zm1f7-VlhyI9wWckUY,3303
 kagami/wrappers/rWrapper.py,sha256=ObEfQ1nO2fNdeubqe_m21KJKBHqK637KOZExUoV8lQE,2794
 kagami/wrappers/sqliteWrapper.py,sha256=vHG2_S8-v1GqLNV-iNLqEz9w-1d4FZyWZjs_QVCacqs,4068
-kagami-3.1.0.dist-info/LICENSE,sha256=46mU2C5kSwOnkqkw9XQAJlhBL2JAf1_uCD8lVcXyMRg,7652
-kagami-3.1.0.dist-info/METADATA,sha256=WrZbDiFWRFpoz5fifLt3MjAMKto-W5DOLxS_-jxw830,2284
-kagami-3.1.0.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
-kagami-3.1.0.dist-info/top_level.txt,sha256=pUZL0VxpDSOhH7_cAqjArCBTQ9UMEHAD1geW3pHQ4Jg,7
-kagami-3.1.0.dist-info/RECORD,,
+kagami-3.1.1.dist-info/LICENSE,sha256=46mU2C5kSwOnkqkw9XQAJlhBL2JAf1_uCD8lVcXyMRg,7652
+kagami-3.1.1.dist-info/METADATA,sha256=O6zQdwtwkfCvc_qzO2PbJbLKHTobwWRKEjvlDcS0cyg,2284
+kagami-3.1.1.dist-info/WHEEL,sha256=G16H4A3IeoQmnOrYV4ueZGKSjhipXx8zc8nu9FGlvMA,92
+kagami-3.1.1.dist-info/top_level.txt,sha256=pUZL0VxpDSOhH7_cAqjArCBTQ9UMEHAD1geW3pHQ4Jg,7
+kagami-3.1.1.dist-info/RECORD,,
```

